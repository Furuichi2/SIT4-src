*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE     1
PROGRAM NAME =

    1                               1     ;       ***************************************************
    2                               2     ;       ***                                             ***
    3                               3     ;       ***                                             ***
    4                               4     ;       ***     ｃ／ｂ制御                              ***
    5                               5     ;       ***                                             ***
    6                               6     ;       ***                                             ***
    7                               7     ;       ***************************************************
 6036                              19     
 6037                              20     ;2015-11-15 二重回路対策の有効性の確認用
 6038                              21     ;1      .DEFINE         "1"
 6039                              22     ;0      .DEFINE         "0"
 6040                              23     
 6041                              24     _INCCMPERR_FORCE_USE    .DEFINE         "1"
 6042                              25     ;;1     .DEFINE         "0"
 6043                              26     
 6044                              27     
 6045 00000000                     28             .SECTION        P,CODE                  ;
 6046                              29     
 6047                              30     ;       //      ***********************************
 6048                              31     ;       //      ***     EXTERN 宣言 PROGRAM     ***
 6049                              32     ;       //      ***********************************
 6050                              33             .INCLUDE        "ssa_krom.ext"          ; //
 6051                               1 I1  ;       ***************************
 6052                               2 I1  ;       ***     汎用ルーチン    ***
 6053                               3 I1  ;       ***************************
 6054                               4 I1          .GLOBAL         _EMG_OUT                ;ssa_khad.src
 6055                               5 I1          .GLOBAL         _EXQ_OUT                ;ssa_khad.src
 6056                               6 I1          .GLOBAL         _RESET_OUT              ;ssa_khad.src
 6057                               7 I1          .GLOBAL         _RESET_END_OUT          ;ssa_khad.src
 6058                               8 I1          .GLOBAL         _VON1_ON                ;ssa_khad.src
 6059                               9 I1          .GLOBAL         _VON1_OF                ;ssa_khad.src
 6060                              10 I1          .GLOBAL         _VON2_ON                ;ssa_khad.src
 6061                              11 I1          .GLOBAL         _VON2_OF                ;ssa_khad.src
 6062                              12 I1          .GLOBAL         _VON3_ON                ;ssa_khad.src
 6063                              13 I1          .GLOBAL         _VON3_OF                ;ssa_khad.src
 6064                              14 I1          .GLOBAL         _RDY_ON                 ;ssa_khad.src
 6065                              15 I1          .GLOBAL         _RDY_OF                 ;ssa_khad.src
 6066                              16 I1          .GLOBAL         _ANTI_ON                ;ssa_khad.src
 6067                              17 I1          .GLOBAL         _ANTI_OF                ;ssa_khad.src
 6068                              18 I1          .GLOBAL         _AUTO_ON                ;ssa_khad.src
 6069                              19 I1          .GLOBAL         _AUTO_OF                ;ssa_khad.src
 6070                              20 I1          .GLOBAL         _FRCYCL_OF              ;ssa_khad.src
 6071                              21 I1          .GLOBAL         _FRCYCL_ON              ;ssa_khad.src
 6072                              22 I1  
 6073                              23 I1  ;       *******************************************
 6074                              24 I1  ;       ***                                     ***
 6075                              25 I1  ;       ***     各状態ハンドシェイクと処理      ***
 6076                              26 I1  ;       ***                                     ***
 6077                              27 I1  ;       *******************************************
 6078                              28 I1  ;_SH4_HD_CTRL_REDY      .SRES   2       ;準備完了にしたい
 6079                              29 I1  ;_SH2_HD_CTRL_REDY      .SRES   2       ;準備完了にしたい
 6080                              30 I1  ;_SH4_HD_CTRL_BUSY      .SRES   2       ;準備未完了にしたい
 6081                              31 I1  ;_SH2_HD_CTRL_BUSY      .SRES   2       ;準備未完了にしたい
 6082                              32 I1  ;_SH4_HD_POS_START      .SRES   2       ;起動したい
 6083                              33 I1  ;_SH2_HD_POS_START      .SRES   2       ;起動したい
 6084                              34 I1  ;_SH4_HD_SFTY_AUTO      .SRES   2       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6085                              35 I1  ;_SH2_HD_SFTY_AUTO      .SRES   2       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE     2
PROGRAM NAME =

 6086                              36 I1  ;_SH4_HD_NEAR_ZERO      .SRES   2       ;ﾆｱｾﾞﾛ処理を行いたい
 6087                              37 I1  ;_SH2_HD_NEAR_ZERO      .SRES   2       ;ﾆｱｾﾞﾛ処理を行いたい
 6088                              38 I1  ;_SH4_HD_CNT_STOP       .SRES   2       ;連続停止
 6089                              39 I1  ;_SH2_HD_CNT_STOP       .SRES   2       ;連続停止
 6090                              40 I1  ;_SH4_HD_STEP_END       .SRES   2       ;位置決め完了としたい
 6091                              41 I1  ;_SH2_HD_STEP_END       .SRES   2       ;位置決め完了としたい
 6092                              42 I1  
 6093                              43 I1  
 6094                              44 I1  ;       ***********************************
 6095                              45 I1  ;       ***                             ***
 6096                              46 I1  ;       ***     READY 準備完了          ***
 6097                              47 I1  ;       ***                             ***
 6098                              48 I1  ;       ***********************************
 6099                              49 I1          .GLOBAL _CPU_AB_RDY_OF_OUT
 6100                              50 I1          .GLOBAL _CPU_BA_RDY_OF_OUT
 6101                              51 I1          .GLOBAL _CPU_AB_RDY_ON_OUT
 6102                              52 I1          .GLOBAL _CPU_BA_RDY_ON_JG
 6103                              53 I1          .GLOBAL _CPU_AB_RDY_OF_JG
 6104                              54 I1  
 6105                              55 I1  ;       ***********************************
 6106                              56 I1  ;       ***                             ***
 6107                              57 I1  ;       ***     BUSY 準備未完了         ***
 6108                              58 I1  ;       ***                             ***
 6109                              59 I1  ;       ***********************************
 6110                              60 I1          .GLOBAL _CPU_AB_BSY_OF_OUT
 6111                              61 I1          .GLOBAL _CPU_BA_BSY_OF_OUT
 6112                              62 I1          .GLOBAL _CPU_AB_BSY_ON_OUT
 6113                              63 I1          .GLOBAL _CPU_BA_BSY_ON_JG
 6114                              64 I1          .GLOBAL _CPU_AB_BSY_OF_JG
 6115                              65 I1  
 6116                              66 I1  ;       ***********************************
 6117                              67 I1  ;       ***                             ***
 6118                              68 I1  ;       ***     STR 運転開始            ***
 6119                              69 I1  ;       ***                             ***
 6120                              70 I1  ;       ***********************************
 6121                              71 I1          .GLOBAL _CPU_AB_STR_OF_OUT
 6122                              72 I1          .GLOBAL _CPU_BA_STR_OF_OUT
 6123                              73 I1          .GLOBAL _CPU_AB_STR_ON_OUT
 6124                              74 I1          .GLOBAL _CPU_BA_STR_ON_JG
 6125                              75 I1          .GLOBAL _CPU_AB_STR_OF_JG
 6126                              76 I1  
 6127                              77 I1  ;       ***********************************
 6128                              78 I1  ;       ***                             ***
 6129                              79 I1  ;       ***     AUTO    開始            ***
 6130                              80 I1  ;       ***                             ***
 6131                              81 I1  ;       ***********************************
 6132                              82 I1          .GLOBAL _CPU_AB_DRVSTOP_OF_OUT
 6133                              83 I1          .GLOBAL _CPU_AB_DRVSTOP_ON_OUT  ;
 6134                              84 I1          .GLOBAL _CPU_BA_DRVSTOP_ON_JG   ;
 6135                              85 I1          .GLOBAL _CPU_BA_DRVSTOP_OF_OUT  ;
 6136                              86 I1  
 6137                              87 I1  ;;2007-03-02    .GLOBAL _CPU_AB_ATO_OF_OUT
 6138                              88 I1  ;;2007-03-02    .GLOBAL _CPU_BA_ATO_OF_OUT
 6139                              89 I1  ;;2007-03-02    .GLOBAL _CPU_AB_ATO_ON_OUT
 6140                              90 I1  ;;2007-03-02    .GLOBAL _CPU_BA_ATO_ON_JG
 6141                              91 I1  ;;2007-03-02    .GLOBAL _CPU_AB_ATO_OF_JG
 6142                              92 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE     3
PROGRAM NAME =

 6143                              93 I1  ;       ***********************************
 6144                              94 I1  ;       ***                             ***
 6145                              95 I1  ;       ***     ニアゼロ開始            ***
 6146                              96 I1  ;       ***                             ***
 6147                              97 I1  ;       ***********************************
 6148                              98 I1          .GLOBAL _CPU_AB_NZR_OF_OUT
 6149                              99 I1          .GLOBAL _CPU_BA_NZR_OF_OUT
 6150                             100 I1          .GLOBAL _CPU_AB_NZR_ON_OUT
 6151                             101 I1          .GLOBAL _CPU_BA_NZR_ON_JG
 6152                             102 I1          .GLOBAL _CPU_AB_NZR_OF_JG
 6153                             103 I1  
 6154                             104 I1  
 6155                             105 I1  ;       ***********************************
 6156                             106 I1  ;       ***                             ***
 6157                             107 I1  ;       ***     連続停止                ***
 6158                             108 I1  ;       ***                             ***
 6159                             109 I1  ;       ***********************************
 6160                             110 I1          .GLOBAL _CPU_AB_CST_OF_OUT1     ;
 6161                             111 I1          .GLOBAL _CPU_AB_CST_OF_OUT2     ;
 6162                             112 I1          .GLOBAL _CPU_BA_CST_OF_OUT
 6163                             113 I1          .GLOBAL _CPU_AB_CST_ON_OUT1
 6164                             114 I1          .GLOBAL _CPU_AB_CST_ON_OUT2
 6165                             115 I1          .GLOBAL _CPU_BA_CST_ON_JG
 6166                             116 I1          .GLOBAL _CPU_AB_CST_OF_JG
 6167                             117 I1  
 6168                             118 I1  ;       ***********************************
 6169                             119 I1  ;       ***                             ***
 6170                             120 I1  ;       ***     ステップ停止            ***
 6171                             121 I1  ;       ***                             ***
 6172                             122 I1  ;       ***********************************
 6173                             123 I1          .GLOBAL _CPU_AB_CED_OF_OUT
 6174                             124 I1          .GLOBAL _CPU_BA_CED_OF_OUT
 6175                             125 I1          .GLOBAL _CPU_AB_CED_ON_OUT
 6176                             126 I1          .GLOBAL _CPU_BA_CED_ON_JG
 6177                             127 I1          .GLOBAL _CPU_AB_CED_OF_JG
 6178                             128 I1  
 6179                             129 I1  ;       ***********************************
 6180                             130 I1  ;       ***                             ***
 6181                             131 I1  ;       ***     相手CPUの工程をROへ     ***
 6182                             132 I1  ;       ***                             ***
 6183                             133 I1  ;       ***********************************
 6184                             134 I1          .GLOBAL _CPU_BA_STEP_LOAD
 6185                             135 I1  
 6186                             136 I1  ;       ***********************************
 6187                             137 I1  ;       ***                             ***
 6188                             138 I1  ;       ***     ｽﾗｲﾄﾞ自動待機(hold)     ***
 6189                             139 I1  ;       ***                             ***
 6190                             140 I1  ;       ***********************************
 6191                             141 I1          .GLOBAL _CPU_AB_DRVHLDSTOP_ON_OUT       ;
 6192                             142 I1          .GLOBAL _CPU_AB_DRVHLDSTOP_OF_OUT       ;
 6193                             143 I1          .GLOBAL _CPU_BA_DRVHLDSTOP_ON_JG        ;
 6194                             144 I1          .GLOBAL _CPU_BA_DRVHLDSTOP_OF_JG        ;
 6195                             145 I1  
 6196                             146 I1  ;       *******************************************
 6197                             147 I1  ;       ***             ssa_com1.src            ***
 6198                             148 I1  ;       *******************************************
 6199                             149 I1          .GLOBAL         _DIVS_32REG2_32REG1_R4_32REG2_R2        ;(R2/R4-->R2)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE     4
PROGRAM NAME =

 6200                             150 I1          .GLOBAL         _DIVS_64R1R2_32R4_32R2                  ;(R1,R2/R4-->R2)
 6201                             151 I1          .GLOBAL         _DIVU_64R1R2_32R4_32R2                  ;
 6202                             152 I1          .GLOBAL         _HIGH_DIVS_32REG2_16REG1_R4_16REG2_R2   ;(R2/R4-->R2)
 6203                             153 I1          .GLOBAL         _HIGH_S32R2_MUL_S32R1_DIV_S32R4_S32R2   ;(R2*R1/R4-->R2)
 6204                             154 I1          .GLOBAL         _FPU_R2_MUL_R1_DIV_R4                   ;
 6205                             155 I1          .GLOBAL         _FPU_R2_MUL_R1_R3_DIV_R4                ;
 6206                             156 I1          .GLOBAL         _FPU_DIVS_32REG2_32REG1_R4_32REG2_R2    ;
 6207                             157 I1          .GLOBAL         _FPU_DIVS_32REG2_DIV_32REG4_R2_MOD_R1   ;
 6208                             158 I1  
 6209                             159 I1          .GLOBAL         _MULDIV_R2S32mR1S32dR4S32aR1R2S64;
 6210                             160 I1          .GLOBAL         _MULDIV_R1R2S64mR3S32dR4S32aR1R2S64
 6211                             161 I1          .GLOBAL         _MUL_R1R2S64mR3S32aR1R2S64              ;
 6212                             162 I1  
 6213                             163 I1          .GLOBAL         _DIVS_64R1R2_32R4_64R1R2        ;
 6214                             164 I1          .GLOBAL         _DIVU_64R1R2_32R4_64R1R2        ;
 6215                             165 I1  
 6216                             166 I1          .GLOBAL         _DIG_AREA_CHK0
 6217                             167 I1          .GLOBAL         _DIG_AREA_CHK1
 6218                             168 I1  
 6219                             169 I1          .GLOBAL         _FPU_POS_HOKAN1
 6220                             170 I1          .GLOBAL         _FPU_TIM_HOKAN1
 6221                             171 I1          .GLOBAL         _X_R2_MUL_R1_DIV_R4
 6222                              34             .IMPORT         _SELF_START_CONF        ;ssa_self.src
 6223                              35     
 6224                              36             .IMPORT         _MN_POS_CTRL_START              ;ssa_pos1.src
 6225                              37             .IMPORT         _MN_POS_CTRL_ACT                ;ssa_pos1.src
 6226                              38             .IMPORT         _NOW_POS_PRESET_OUTPLS          ;現在位置を目標位置に変える
 6227                              39     
 6228                              40             .IMPORT         _UP_AREA_DATCHK                 ;ssa_dtmk.src
 6229                              41             .IMPORT         _DAT_MOSTPOS_SIG_CLR
 6230                              42             .IMPORT         _ORG_END_SIG_CLR
 6231                              43     
 6232                              44             .IMPORT         _CYCLE_TIME_REFLASH_CLR
 6233                              45     
 6234                              46             .IMPORT         _RESET_ERR_SEQ_CLR
 6235                              47             .IMPORT         _RESET_ERR_SEQ_CLR1     ;2010-12-10
 6236                              48             .IMPORT         _RESET_ERR_SEQ_CLR2     ;2010-12-10
 6237                              49             .IMPORT         _FUL_DATA_INIT
 6238                              50     
 6239                              51     ;       ===== 2003-06-06 ===
 6240                              52             .IMPORT         _DAI_MOSTPOS_SMPLE
 6241                              53             .IMPORT         _BRK_ERR_WORK_CLR1      ;ERR1.SRC
 6242                              54     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START1             ;
 6243                              55     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START2             ;
 6244                              56     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START3             ;
 6245                              57             .IMPORT         _STOP_ERR_CHK
 6246                              58             .IMPORT         _LSA_ERRCLR_INI         ;2006-07-16 SSA_ERR1.SRC
 6247                              59     
 6248                              60             .IMPORT         _FWD_REV_STSIG_OFF              ;
 6249                              61             .IMPORT         _POS_LSI_SLOW_STOP              ;
 6250                              62     
 6251                              63             .IMPORT         _ERR_INFO_RST_CLR
 6252                              64     
 6253                              65             .IMPORT         _EXQ_STOP_LEV_POS_CLR           ;
 6254                              66             .IMPORT         _IRQ_EMG_STP_CLR                ;2004-04-04
 6255                              67     
 6256                              68             .IMPORT         _GPOSIN_HOS_RESET
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE     5
PROGRAM NAME =

 6257                              69             .IMPORT         _CNTREST_HOS_RESET
 6258                              70     
 6259                              71             .IMPORT         _TEP_FLG_CLR                    ;FLGｸﾘｱ
 6260                              72             .IMPORT         _TEPA_START_CHK                 ;開始条件
 6261                              73             .IMPORT         _TEPA_PLSCNT_CLR                ;片手ONした瞬間0にする
 6262                              74             .IMPORT         _TEPA_PLSCNT_CHK                ;
 6263                              75     
 6264                              76     ;       ---------------------------------
 6265                              77             .IMPORT         _RNA_SCIF_ERR_CLR2              ;SCIF
 6266                              78     
 6267                              79             .IMPORT         _EMG_STOP                       ;
 6268                              80     
 6269                              81             .IMPORT         _API_BREAK_VALV_FLG_ON          ;
 6270                              82             .IMPORT         _API_BREAK_VALV_FLG_OF          ;2014-08-05
 6271                              83     
 6272                              84             .IMPORT         _PRESET_PV_FLGCLR               ;2014-09-14 異常が発生した
 6273                              85             .IMPORT         _NOW_INC_DIG_MAK                ;2014-09-26
 6274                              86     
 6275                              87     ;       //      ***********************************
 6276                              88     ;       //      ***     EXTERN 宣言 MEMORY,HARD ***
 6277                              89     ;       //      ***********************************
 6278                              90             .IMPORT         _LONG_BIT_TBL0
 6279                              91             .GLOBAL         _SQ_CBWK_TOP
 6280                              92     ;       ====================================
 6281                              93             .GLOBAL         _SH4_HD_CTRL_REDY       ;準備完了にしたい
 6282                              94             .GLOBAL         _SH2_HD_CTRL_REDY       ;準備完了にしたい
 6283                              95             .GLOBAL         _SH4_HD_CTRL_BUSY       ;準備未完了にしたい
 6284                              96             .GLOBAL         _SH2_HD_CTRL_BUSY       ;準備未完了にしたい
 6285                              97             .GLOBAL         _SH4_HD_POS_START       ;起動したい
 6286                              98             .GLOBAL         _SH2_HD_POS_START       ;起動したい
 6287                              99             .GLOBAL         _SH4_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6288                             100             .GLOBAL         _SH2_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6289                             101             .GLOBAL         _SH4_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6290                             102             .GLOBAL         _SH2_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6291                             103             .GLOBAL         _SH4_HD_CNT_STOP        ;連続停止<工夫必要>
 6292                             104             .GLOBAL         _SH2_HD_CNT_STOP        ;連続停止<工夫必要>
 6293                             105             .GLOBAL         _SH4_HD_STEP_END        ;位置決め完了としたい
 6294                             106             .GLOBAL         _SH2_HD_STEP_END        ;位置決め完了としたい
 6295                             107     ;       ==== 2003-07-09 ===
 6296                             108             .GLOBAL         _PAR_ORGDRV_MOD         ;原点復帰方法変更 0:level 1:edge
 6297                             109             .GLOBAL         _PAR_ORGDRV_CNT         ;原点復帰回数0=1回 1=2回
 6298                             110     
 6299                             111     ;       ==== 2006-04-10===
 6300                             112             .GLOBAL         _PAR_SFTY_BRKSEL        ;
 6301                             113             .GLOBAL         _PAR_BRKDISE_TIM        ;ﾌﾞﾚｰｷ釈放遅延時間3000msec
 6302                             114             .IMPORT         _PAR_BRKLOCK_TIM        ;ﾌﾞﾚｰｷﾛｯｸ遅延時間100msec
 6303                             115             .IMPORT         _PAR_SELF_WAIT_TM       ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの
                                          時間
 6304                             116             .IMPORT         _PAR_SLOCK_DLY2         ;
 6305                             117     
 6306                             118     
 6307                             119     ;       ==== 2011-09-06===
 6308                             120             .IMPORT         _PAR_UPCHK_SEL1
 6309                             121     
 6310                             122     
 6311                             123             .IMPORT         _PAR_UPMASK_SPD
 6312                             124             .IMPORT         _CB_SYS_PARAM000
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE     6
PROGRAM NAME =

 6313                             125     
 6314                             126     ;       ==== 2012-09-25===
 6315                             127             .IMPORT         _PAR_MYUTING_SEL        ;
 6316                             128     
 6317                             129     ;       ==== 2014-02-20===
 6318                             130             .IMPORT         _PAR_EXTDRV_SEL         ;
 6319                             131             .IMPORT         _PAR_BTNER_TM
 6320                             132             .IMPORT         _PAR_MYUTERR_SEL        ;3 0: 1:異常 行程異常を監視する[R02R03　20
                                          14-02-18]
 6321                             133     
 6322                             134     
 6323                             135     ;       ==== 2014-09-26===
 6324                             136             .IMPORT         _PAR_INCMODE_SEL
 6325                             137             .IMPORT         _PAR_INCMODE_EPLS
 6326                             138     
 6327                             139     ;       ==== 2017-05-12===
 6328                             140             .IMPORT         _PAR_POSHLD_BRKSEL
 6329                             141     
 6330                             142     
 6331                             143     ;       //      ***********************************
 6332                             144     ;       //      ***     PUBLIC 宣言 PROGRAM     ***
 6333                             145     ;       //      ***********************************
 6334                             146             .EXPORT         _EMG_CTL_FLG_PROC       ;==>ssa_err1.src
 6335                             147             .EXPORT         _EXQ_CTL_FLG_PROC       ;==>ssa_err1.src
 6336                             148             .EXPORT         _STP_RST_FLG_PROC       ;==>ssa_err1.src
 6337                             149     
 6338                             150     
 6339                             151             .EXPORT         _RESET_CHEAK            ;==>ssa_cbmn.src
 6340                             152             .EXPORT         _MODE_CHANGE            ;==>ssa_cbmn.src
 6341                             153             .EXPORT         _MODE_CTRL              ;==>ssa_cbmn.src
 6342                             154             .EXPORT         _MODE_AREA_MAKE         ;ssa_ctrl.src 待機点AREA作成
 6343                             155     
 6344                             156             .EXPORT         _STEP_SIG_DSP_CLR
 6345                             157             .EXPORT         _STEP_SIG_DISP;
 6346                             158     
 6347                             159             .EXPORT         _STOPPING_TIM_MOV_INI
 6348                             160             .EXPORT         _STOPPING_TIM_STOP_INI
 6349                             161             .EXPORT         _STOPPING_TIM_CHK
 6350                             162     
 6351                             163             .IMPORT         _KJPHOS_SIG_CLR         ;2004-07-05 ssa_kjyu.inc
 6352                             164             .IMPORT         _KJPHOS_SAMPLING1       ;2004-07-05
 6353                             165     
 6354                             166     
 6355                             167             .IMPORT         _OVER_RID_UPDN_LAT_DTMK ;2005-01-17
 6356                             168             .IMPORT         _SET_PV_ABS_TO_OBJ      ;20060919
 6357                             169             .IMPORT         _OVERLID_DEF_SET        ;20060919
 6358                             170     
 6359                             171             .IMPORT         _LINK_CLANK_DIG_MAK             ;2009-07-17
 6360                             172     
 6361                             173             .AIF    0 EQ    0       ;
 6362                             174 C           .IMPORT _CBA_STS_BKUP_SAVE              ;2011-09-14 BAKUP
 6363                             175             .AENDI
 6364                             176     
 6365                             177     ;       ==== 2012-03-06====
 6366                             178             .IMPORT _BRKTMCAL_API1_STR              ;
 6367                             179             .IMPORT _BRKTMCAL_STG1_STOPINI          ;停止ソフト
 6368                             180             .IMPORT _BRKTMCAL_API3_ENDCNF1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE     7
PROGRAM NAME =

 6369                             181             .IMPORT _BRKTMCAL_API4_ENDCNF2          ;
 6370                             182     
 6371                             183     
 6372                             184             .IMPORT _SH4_ORG_DIR_REV        ;原点復帰方向
 6373                             185     
 6374                             186             .IMPORT _SEQAB_DP_TOP           ;2014-08-30
 6375                             187             .IMPORT _EXQ_STOP               ;2014-08-30
 6376                             188             .IMPORT _SVP_INTLIM_SNO         ;//ｽﾗｲﾄﾞ自動待機機能  干渉限界位置設定　行程
 6377                             189             .IMPORT _SVP_INTLIM_AGL         ;//ｽﾗｲﾄﾞ自動待機機能  干渉限界位置設定　角度0.1度
 6378                             190             .IMPORT _SVP_INTLIM_POS         ;//ｽﾗｲﾄﾞ自動待機機能  干渉限界位置設定　位置
 6379                             191             .IMPORT _SVP_WTTIM_MAX          ;//ｽﾗｲﾄﾞ自動待機機能  待機時間0.1秒
 6380                             192             .IMPORT _PVP_WTJUD_SNO          ;//ｽﾗｲﾄﾞ自動待機機能  待機判定位置（行程）
 6381                             193             .IMPORT _PVP_WTJUD_AGL          ;//ｽﾗｲﾄﾞ自動待機機能  待機判定位置（角度）0.1度
 6382                             194             .IMPORT _PVP_WTJUD_POS          ;//ｽﾗｲﾄﾞ自動待機機能  待機判定位置（位置）0.01mm
 6383                             195     
 6384                             196             .EXPORT _POS_HOLD_FLG_STR2CLR   ;2014-09-01
 6385                             197     
 6386                             198             .IMPORT _DNM_DATA_REV_SET       ;2014-09-18
 6387                             199             .IMPORT _PAR_MYU_BRK_SEL        ;2015-09-06
 6388                             200     
 6389                             201             .IMPORT _API_ENDHAND_SIGCHK     ;
 6390                             202     
 6391                             203              .AIF   1 EQ 1  ;
 6392                             204 C   ;       -------- 2016-10-31 ADD 二重回路対策
 6393                             205              .AENDI
 6394                             206     ;       --------------------2016-07-18
 6395                             207             .IMPORT         _CPUA_LOT_CHK_FLG               ;2016-07-18CHECK
 6396                             208             .IMPORT         _CPUB_LOT_CHK_FLG               ;2016-07-18CHECK
 6397                             209             .IMPORT         _CPUA_LOT_CNT_FLG               ;
 6398                             210             .IMPORT         _CPUB_LOT_CNT_FLG               ;
 6399                             211             .IMPORT         _CPUA_CONT_MOD_CNT_PV           ;
 6400                             212             .IMPORT         _CPUB_CONT_MOD_CNT_PV           ;
 6401                             213             .IMPORT         _CPUB_DBG_MONI_CNT              ;2016-08-22
 6402                             214     
 6403                             215     
 6404                             216             .AIF    0 EQ    0
 6405                             217 C           .IMPORT _API_CAM_RST_ON ;2016-11-15
 6406                             218             .AENDI
 6407                             219     
 6408                             220     ;       *******************************************
 6409                             221     ;       ***                                     ***
 6410                             222     ;       ***     リセット処理                    ***
 6411                             223     ;       ***                                     ***
 6412                             224     ;       *******************************************
 6413                             225     ;       (ｽﾃｯﾌﾟをある程度またぐ時はR5以上を使用する)
 6414                             226     ;       モードはリセット時に確定する
 6415                             227     ;
 6416                             228     
 6417 00000000                    229             .ALIGN  4                               ;
 6418 00000000                    230     _RESET_CHEAK:           ;==>ssa_cbmn.src
 6419                             231             SUB_START
 6420 00000000 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6421                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6422                             232     
 6423                             233              .AIF   1 EQ 1  ;
 6424                             234 C   ;       -------- 2016-10-31 ADD 二重回路対策
 6425                             235              .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE     8
PROGRAM NAME =

 6426                             236     ;       --------- 2016-10-31(2016-06-21)-------------
 6427                             237             FAR_JSR #_DNM_OBJ_AREA_SIG2,R0                  ;振り子の場合の目標の待機点信号
 6428 00000002 D01E                   M           MOV.L   #_DNM_OBJ_AREA_SIG2,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6429 00000004 400B                   M           JSR     @R0                     ;
 6430 00000006 0009                   M           NOP                                     ;
 6431                             238     
 6432                             239     
 6433                             240     ;
 6434                             241     ;       ======= EMG ====
 6435 00000008 D61D               242             MOV.L   #_reset_flg,R6          ;
 6436 0000000A D51E               243             MOV.L   #_emg_lev_flg,R5        ;//異常状態(生ﾃﾞｰﾀ)
 6437 0000000C 6051               244             MOV.W   @R5,R0                  ;
 6438 0000000E D11E               245             MOV.L   #_ERR_LEV_IN2,R1        ;2010-12-10追加
 6439 00000010 6211               246             MOV.W   @R1,R2                  ;
 6440 00000012 202B               247             OR      R2,R0                   ;
 6441 00000014 D11D               248             MOV.L   #_ERR_LEV_IN3,R1        ;2010-12-10追加
 6442 00000016 6211               249             MOV.W   @R1,R2                  ;
 6443 00000018 202B               250             OR      R2,R0                   ;
 6444 0000001A D11D               251             MOV.L   #_ERR_LEV_IN4,R1        ;2010-12-10追加
 6445 0000001C 6211               252             MOV.W   @R1,R2                  ;
 6446 0000001E 202B               253             OR      R2,R0                   ;
 6447 00000020 D11C               254             MOV.L   #_ERR_LEV_IN5,R1        ;2010-12-10追加
 6448 00000022 6211               255             MOV.W   @R1,R2                  ;
 6449 00000024 202B               256             OR      R2,R0                   ;
 6450 00000026 2008               257             TST     R0,R0                   ;
 6451                             258             TST_BIT_OF RESET_CHK_100        ;
 6452 00000028 8909                   M           BT      RESET_CHK_100
 6453 0000002A D516               259             MOV.L   #_emg_lev_flg,R5        ;//異常状態(生ﾃﾞｰﾀ)
 6454 0000002C 200A               260             XOR     R0,R0                   ;
 6455 0000002E 2501               261             MOV.W   R0,@R5                  ;emg_lev_flg clr
 6456 00000030 9122               262             MOV.W   #BIT0,R1                ;
 6457 00000032 2611               263             MOV.W   R1,@R6                  ;ﾘｾｯﾄﾌﾗｸﾞBIT0=1 ﾘｾｯﾄ必要状態
 6458                             264             PUSH_REG1 R6
 6459 00000034 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
 6460                                 M                                           ;REG=>[SP]
 6461                                 M                                           ;"-4" FF,FF,FF,FC
 6462                             265             FAR_JSR #_EMG_OUT,R0            ;
 6463 00000036 D018                   M           MOV.L   #_EMG_OUT,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6464 00000038 400B                   M           JSR     @R0                     ;
 6465 0000003A 0009                   M           NOP                                     ;
 6466                             266             POP_REG1 R6
 6467                                 M                                   ; RE"+4" 00,00,00,04
 6468 0000003C 66F6                   M           MOV.L   @R15+,R6        ;
 6469                             267     
 6470 0000003E                    268     RESET_CHK_100:                          ;==>ssa_cbmn.src
 6471                             269     
 6472                             270     ;       ======= EXQ ====
 6473 0000003E D517               271             MOV.L   #_exq_lev_flg,R5        ;//異常状態(生ﾃﾞｰﾀ)
 6474 00000040 6051               272             MOV.W   @R5,R0                  ;
 6475 00000042 2008               273             TST     R0,R0                   ;
 6476                             274             TST_BIT_OF RESET_CHK_200        ;
 6477 00000044 8908                   M           BT      RESET_CHK_200
 6478 00000046 200A               275             XOR     R0,R0                   ;
 6479 00000048 2501               276             MOV.W   R0,@R5                  ;emg_lev_flg clr
 6480 0000004A 9115               277             MOV.W   #BIT0,R1                ;
 6481 0000004C 2611               278             MOV.W   R1,@R6                  ;ﾘｾｯﾄﾌﾗｸﾞBIT0=1 ﾘｾｯﾄ必要状態
 6482                             279             PUSH_REG1 R6
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE     9
PROGRAM NAME =

 6483 0000004E 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
 6484                                 M                                           ;REG=>[SP]
 6485                                 M                                           ;"-4" FF,FF,FF,FC
 6486                             280             FAR_JSR #_EXQ_OUT,R0            ;
 6487 00000050 D013                   M           MOV.L   #_EXQ_OUT,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6488 00000052 400B                   M           JSR     @R0                     ;
 6489 00000054 0009                   M           NOP                                     ;
 6490                             281             POP_REG1 R6
 6491                                 M                                   ; RE"+4" 00,00,00,04
 6492 00000056 66F6                   M           MOV.L   @R15+,R6        ;
 6493                             282     
 6494 00000058                    283     RESET_CHK_200:                          ;==>ssa_cbmn.src
 6495                             284     
 6496 00000058 6061               285             MOV.W   @R6,R0                  ;
 6497 0000005A 2008               286             TST     R0,R0                   ;ﾘｾｯﾄ必要?
 6498                             287             TST_BIT_ON RESET_CHK_300        ;YES
 6499 0000005C 8B26                   M           BF      RESET_CHK_300
 6500                             288     
 6501 0000005E D111               289             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
 6502 00000060 6011               290             MOV.W   @R1,R0                  ;
 6503 00000062 D111               291             MOV.L   #_exq_err_flg,R1        ;//異常ﾗｯﾁ
 6504 00000064 6211               292             MOV.W   @R1,R2                  ;
 6505 00000066 202B               293             OR      R2,R0                   ;
 6506 00000068 2008               294             TST     R0,R0                   ;
 6507                             295             TST_BIT_OF RESET_CHK_250                                        ;
 6508 0000006A 8903                   M           BT      RESET_CHK_250
 6509 0000006C 0009               296             NOP                                                             ;ﾊﾞｸﾞ?//SEQ_CHK_BI
                                          T作成
 6510                             297             MEM1_DATA_SET MEM=_reset_flg,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2 ;ﾘｾｯﾄ必要
 6511 0000006E D104                   M           MOV.L   #_reset_flg,R1          ;
 6512 00000070 9202                   M           MOV.W   #BIT0,R2                ;
 6513 00000072 2121                   M           MOV.W   R2,@R1  ;
 6514                             298     
 6515 00000074                    299     RESET_CHK_250:                                                          ;
 6516                             300             M_BRA   RESET_CHK_EXT                                           ;
 6517 00000074 A0F4                   M           BRA     RESET_CHK_EXT
 6518 00000076 0009                   M           NOP
 6519                             301     
 6520                             302     ;       ===== ﾘｾｯﾄが必要な状態======
 6521                                     ***** BEGIN-POOL *****
 6522 00000078 0001                       DATA FOR SOURCE-LINE 262,277,297
 6523 0000007A 0000                       ALIGNMENT CODE
 6524 0000007C 00000000                   DATA FOR SOURCE-LINE 237
 6525 00000080 00000000                   DATA FOR SOURCE-LINE 242,297
 6526 00000084 00000000                   DATA FOR SOURCE-LINE 243,259
 6527 00000088 00000000                   DATA FOR SOURCE-LINE 245
 6528 0000008C 00000000                   DATA FOR SOURCE-LINE 248
 6529 00000090 00000000                   DATA FOR SOURCE-LINE 251
 6530 00000094 00000000                   DATA FOR SOURCE-LINE 254
 6531 00000098 00000000                   DATA FOR SOURCE-LINE 265
 6532 0000009C 00000000                   DATA FOR SOURCE-LINE 271
 6533 000000A0 00000000                   DATA FOR SOURCE-LINE 280
 6534 000000A4 00000000                   DATA FOR SOURCE-LINE 289
 6535 000000A8 00000000                   DATA FOR SOURCE-LINE 291
 6536                                     ***** END-POOL *****
 6537 000000AC                    303     RESET_CHK_300:                          ;
 6538                             304                                             ;BIT0:ﾘｾｯﾄ必要       :EMGならANTI:OFF出力
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    10
PROGRAM NAME =

 6539                             305                                             ;BIT1:ﾘｾｯﾄONｴｯｼﾞ有り :RST出力 400
 6540                             306                                             ;BIT2:ﾘｾｯﾄOFF        :遅延開始 500
 6541                             307                                             ;
 6542 000000AC C804               308             TST     #BIT2,R0                ;
 6543                             309             TST_BIT_OF RESET_CHK_305        ;
 6544 000000AE 8901                   M           BT      RESET_CHK_305
 6545                             310             M_BRA   RESET_CHK_500           ;遅延完了待ち
 6546 000000B0 A0AA                   M           BRA     RESET_CHK_500
 6547 000000B2 0009                   M           NOP
 6548                             311     
 6549 000000B4                    312     RESET_CHK_305:                          ;
 6550                             313     ;;;     TST     #BIT1,R0                ;
 6551                             314     ;;;     TST_BIT_ON RESET_CHK_400        ;ﾘｾｯﾄOFF待ち
 6552                             315     
 6553 000000B4 C802               316             TST     #BIT1,R0                ;
 6554                             317             TST_BIT_OF RESET_CHK_305A       ;
 6555 000000B6 8901                   M           BT      RESET_CHK_305A
 6556                             318             M_BRA   RESET_CHK_400   ;ﾘｾｯﾄOFF待ち
 6557 000000B8 A086                   M           BRA     RESET_CHK_400
 6558 000000BA 0009                   M           NOP
 6559 000000BC                    319     RESET_CHK_305A:
 6560                             320     
 6561                             321             FAR_JSR #_DAT_MOSTPOS_SIG_CLR,R0
 6562 000000BC D013                   M           MOV.L   #_DAT_MOSTPOS_SIG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6563 000000BE 400B                   M           JSR     @R0                     ;
 6564 000000C0 0009                   M           NOP                                     ;
 6565                             322             FAR_JSR #_ORG_END_SIG_CLR,R0
 6566 000000C2 D013                   M           MOV.L   #_ORG_END_SIG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6567 000000C4 400B                   M           JSR     @R0                     ;
 6568 000000C6 0009                   M           NOP                                     ;
 6569                             323     
 6570                             324             FAR_JSR #_KJPHOS_SIG_CLR,R0     ;2004-07-05
 6571 000000C8 D012                   M           MOV.L   #_KJPHOS_SIG_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6572 000000CA 400B                   M           JSR     @R0                     ;
 6573 000000CC 0009                   M           NOP                                     ;
 6574                             325             FAR_JSR #_LSA_ERRCLR_INI,R0     ;2006-07-16
 6575 000000CE D012                   M           MOV.L   #_LSA_ERRCLR_INI,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6576 000000D0 400B                   M           JSR     @R0                     ;
 6577 000000D2 0009                   M           NOP                                     ;
 6578                             326             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0  ;20060919
 6579 000000D4 D011                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6580 000000D6 400B                   M           JSR     @R0                     ;
 6581 000000D8 0009                   M           NOP                                     ;
 6582                             327     
 6583                             328     
 6584                             329     ;;;;    MOV.L   #_di1_cb_ctl1_on,R1     ;//
 6585 000000DA D111               330             MOV.L   #_di1_cb_ctl1_dt,R1     ;ﾚﾍﾞﾙに変更(ｵｰﾊﾞﾛｰﾄﾞなどのｼｰｹﾝｽ上の異常をｼｰｹﾝｽがﾘｾ
                                          ｯﾄでｸﾘｱするため)
 6586 000000DC 6011               331             MOV.W   @R1,R0                  ;(ｴｯｼﾞの場合,まだｼｰｹﾝｽからのEMG指令はOFFしない)
 6587                             332     
 6588 000000DE 9414               333             MOV.W   #_W1RST,R4              ;ﾘｾｯﾄ釦
 6589 000000E0 2048               334             TST     R4,R0                   ;ONｴｯｼﾞ
 6590                             335             TST_BIT_OF RESET_CHK_325        ;RESET_CHK_EXT  ;NO EXIT
 6591 000000E2 8910                   M           BT      RESET_CHK_325
 6592                             336     
 6593 000000E4 200A               337             XOR     R0,R0                           ;
 6594 000000E6 D50F               338             MOV.L   #_ORG_PRESET_TIM,R5             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    11
PROGRAM NAME =

 6595 000000E8 2501               339             MOV.W   R0,@R5                          ;
 6596                             340             FAR_JSR #_NOW_POS_PRESET_OUTPLS,R0      ;
 6597 000000EA D00F                   M           MOV.L   #_NOW_POS_PRESET_OUTPLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6598 000000EC 400B                   M           JSR     @R0                     ;
 6599 000000EE 0009                   M           NOP                                     ;
 6600                             341     
 6601                             342             FAR_JSR #_RNA_SCIF_ERR_CLR1,R0          ;
 6602 000000F0 D00E                   M           MOV.L   #_RNA_SCIF_ERR_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6603 000000F2 400B                   M           JSR     @R0                     ;
 6604 000000F4 0009                   M           NOP                                     ;
 6605                             343     
 6606                             344             FAR_JSR #_PRESET_PV_FLGCLR,R0           ;2014-09-14 異常が発生した
 6607 000000F6 D00E                   M           MOV.L   #_PRESET_PV_FLGCLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6608 000000F8 400B                   M           JSR     @R0                     ;
 6609 000000FA 0009                   M           NOP                                     ;
 6610                             345     
 6611                             346             FAR_JSR #_RESET_CONF_CHK,R1     ;ANS R0 ﾘｾｯﾄ可能ですか？
 6612 000000FC D10D                   M           MOV.L   #_RESET_CONF_CHK,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6613 000000FE 410B                   M           JSR     @R1                     ;
 6614 00000100 0009                   M           NOP                                     ;
 6615 00000102 2008               347             TST     R0,R0                   ;
 6616                             348             TST_BIT_OF RESET_CHK_330        ;R0!=0 ﾘｾｯﾄ開始不可
 6617 00000104 8918                   M           BT      RESET_CHK_330
 6618 00000106                    349     RESET_CHK_325
 6619                             350             M_BRA   RESET_CHK_EXT           ;
 6620 00000106 A0AB                   M           BRA     RESET_CHK_EXT
 6621 00000108 0009                   M           NOP
 6622                                     ***** BEGIN-POOL *****
 6623 0000010A 8000                       DATA FOR SOURCE-LINE 333
 6624 0000010C 00000000                   DATA FOR SOURCE-LINE 321
 6625 00000110 00000000                   DATA FOR SOURCE-LINE 322
 6626 00000114 00000000                   DATA FOR SOURCE-LINE 324
 6627 00000118 00000000                   DATA FOR SOURCE-LINE 325
 6628 0000011C 00000000                   DATA FOR SOURCE-LINE 326
 6629 00000120 00000000                   DATA FOR SOURCE-LINE 330
 6630 00000124 00000000                   DATA FOR SOURCE-LINE 338
 6631 00000128 00000000                   DATA FOR SOURCE-LINE 340
 6632 0000012C 00000000                   DATA FOR SOURCE-LINE 342
 6633 00000130 00000000                   DATA FOR SOURCE-LINE 344
 6634 00000134 00000000                   DATA FOR SOURCE-LINE 346
 6635                                     ***** END-POOL *****
 6636 00000138                    351     RESET_CHK_330
 6637                             352     
 6638                             353             .AIF    0 EQ    0
 6639                             354 C           FAR_JSR #_API_CAM_RST_ON,R0     ;2016-11-15
 6640 00000138 D012                   M           MOV.L   #_API_CAM_RST_ON,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6641 0000013A 400B                   M           JSR     @R0                     ;
 6642 0000013C 0009                   M           NOP                                     ;
 6643                             355             .AENDI
 6644                             356     
 6645                             357     ;;      TST     R0,R0                   ;
 6646                             358     ;;      TST_BIT_ON RESET_CHK_EXT        ;R0!=0 ﾘｾｯﾄ開始不可
 6647                             359     
 6648                             360     
 6649                             361             MEM1_BIT0_TO_BIT7_ORSET MEM=_reset_flg,LG=W,BIT=BIT1,WKREG=R6   ;bit-set
 6650 0000013E D612                   M           MOV.L   #_reset_flg,R6          ;
 6651 00000140 6061                   M           MOV.W   @R6,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    12
PROGRAM NAME =

 6652 00000142 CB02                   M           OR      #BIT1,R0                ;
 6653 00000144 2601                   M           MOV.W   R0,@R6          ;
 6654                             362             FAR_JSR #_RESET_ERR_SEQ_CLR,R0  ;移動しない
 6655 00000146 D011                   M           MOV.L   #_RESET_ERR_SEQ_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6656 00000148 400B                   M           JSR     @R0                     ;
 6657 0000014A 0009                   M           NOP                                     ;
 6658                             363             FAR_JSR #_RESET_OUT,R0                                          ;
 6659 0000014C D010                   M           MOV.L   #_RESET_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6660 0000014E 400B                   M           JSR     @R0                     ;
 6661 00000150 0009                   M           NOP                                     ;
 6662                             364             FAR_JSR #_RST_MOD_POS_START,R0
 6663 00000152 D010                   M           MOV.L   #_RST_MOD_POS_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6664 00000154 400B                   M           JSR     @R0                     ;
 6665 00000156 0009                   M           NOP                                     ;
 6666                             365             FAR_JSR #_CMPEMG_EXQ_FLG_CLR,R0
 6667 00000158 D00F                   M           MOV.L   #_CMPEMG_EXQ_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6668 0000015A 400B                   M           JSR     @R0                     ;
 6669 0000015C 0009                   M           NOP                                     ;
 6670                             366             FAR_JSR #_IRQ_EMG_STP_CLR,R0    ;2004-04-04
 6671 0000015E D00F                   M           MOV.L   #_IRQ_EMG_STP_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6672 00000160 400B                   M           JSR     @R0                     ;
 6673 00000162 0009                   M           NOP                                     ;
 6674                             367     
 6675                             368     
 6676                             369     ;       === EXQではやらない処理=====
 6677                             370     ;;      .AIF    1 EQ 1  ;ﾌﾟﾛｸﾞﾗﾑ変更箇所(反転仕様以外の標準に入れる変更)
 6678 00000164 D10E               371             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
 6679 00000166 6011               372             MOV.W   @R1,R0                  ;EMG
 6680 00000168 2008               373             TST     R0,R0                   ;
 6681                             374             TST_BIT_OF RESET_CHK_350        ;
 6682 0000016A 8921                   M           BT      RESET_CHK_350
 6683                             375             FAR_JSR #_LOT_SIG_FLG_CLR,R0    ;
 6684 0000016C D00D                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6685 0000016E 400B                   M           JSR     @R0                     ;
 6686 00000170 0009                   M           NOP                                     ;
 6687                             376     
 6688 00000172 D10D               377             MOV.L   #_SELF_TIMING_SIG,R1    ;2006-04-10
 6689 00000174 200A               378             XOR     R0,R0                   ;
 6690 00000176 2101               379             MOV.W   R0,@R1                  ;
 6691                             380     ;       ---EMGのときだけｸﾘｱするように変更[EXQではﾀｲﾏを継続させる]----
 6692                             381             FAR_JSR #_CYCLE_TIME_REFLASH_CLR,R0     ;
 6693 00000178 D00C                   M           MOV.L   #_CYCLE_TIME_REFLASH_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6694 0000017A 400B                   M           JSR     @R0                     ;
 6695 0000017C 0009                   M           NOP                                     ;
 6696                             382     
 6697                             383     ;;;;2016-04-15 遮光時二重回路偏差オーバ対策RESET_CHK_350:                               ;
 6698                             384     ;;;;2016-04-15 遮光時二重回路偏差オーバ対策     M_BRA   RESET_CHK_EXT
 6699                             385     
 6700                             386             M_BRA   RESET_CHK_399           ;2016-04-15
 6701 0000017E A01A                   M           BRA     RESET_CHK_399
 6702 00000180 0009                   M           NOP
 6703                             387     
 6704                             388     ;       -- 遮光時二重回路偏差オーバ対策---
 6705                             389     
 6706                                     ***** BEGIN-POOL *****
 6707 00000182 0000                       ALIGNMENT CODE
 6708 00000184 00000000                   DATA FOR SOURCE-LINE 354
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    13
PROGRAM NAME =

 6709 00000188 00000000                   DATA FOR SOURCE-LINE 361
 6710 0000018C 00000000                   DATA FOR SOURCE-LINE 362
 6711 00000190 00000000                   DATA FOR SOURCE-LINE 363
 6712 00000194 00000000                   DATA FOR SOURCE-LINE 364
 6713 00000198 00000000                   DATA FOR SOURCE-LINE 365
 6714 0000019C 00000000                   DATA FOR SOURCE-LINE 366
 6715 000001A0 00000000                   DATA FOR SOURCE-LINE 371
 6716 000001A4 00000000                   DATA FOR SOURCE-LINE 375
 6717 000001A8 00000000                   DATA FOR SOURCE-LINE 377
 6718 000001AC 00000000                   DATA FOR SOURCE-LINE 381
 6719                                     ***** END-POOL *****
 6720 000001B0                    390     RESET_CHK_350:                          ;
 6721                             391     ;       ----- 2016-04-15 EXQ,遮光による行程違いのﾘｶﾊﾞﾘｰ処理-------
 6722                             392             FAR_JSR #_EXQ_PROC_STEP_RECOVER,R0      ;
 6723 000001B0 D003                   M           MOV.L   #_EXQ_PROC_STEP_RECOVER,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6724 000001B2 400B                   M           JSR     @R0                     ;
 6725 000001B4 0009                   M           NOP                                     ;
 6726                             393     
 6727 000001B6                    394     RESET_CHK_399:                                  ;
 6728                             395             FAR_JSR #_API_EXQ_STEP_FLGCLR,R0        ;
 6729 000001B6 D003                   M           MOV.L   #_API_EXQ_STEP_FLGCLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6730 000001B8 400B                   M           JSR     @R0                     ;
 6731 000001BA 0009                   M           NOP                                     ;
 6732                             396             M_BRA   RESET_CHK_EXT
 6733 000001BC A050                   M           BRA     RESET_CHK_EXT
 6734 000001BE 0009                   M           NOP
 6735                             397     
 6736                             398     ;       ==== ﾘｾｯﾄOFF待ち ====
 6737                                     ***** BEGIN-POOL *****
 6738 000001C0 00000000                   DATA FOR SOURCE-LINE 392
 6739 000001C4 00000000                   DATA FOR SOURCE-LINE 395
 6740                                     ***** END-POOL *****
 6741 000001C8                    399     RESET_CHK_400:  ;ﾘｾｯﾄOFF待ち
 6742 000001C8 D10A               400             MOV.L   #_di1_cb_ctl1_dt,R1     ;//
 6743 000001CA 6011               401             MOV.W   @R1,R0                  ;
 6744 000001CC 9410               402             MOV.W   #_W1RST,R4              ;ﾘｾｯﾄ釦
 6745 000001CE 2048               403             TST     R4,R0                   ;
 6746                             404             TST_BIT_ON RESET_CHK_EXT        ;ON継続
 6747 000001D0 8B46                   M           BF      RESET_CHK_EXT
 6748                             405     
 6749                             406     
 6750                             407             MEM1_BIT0_TO_BIT7_ORSET MEM=_reset_flg,LG=W,BIT=BIT2,WKREG=R6   ;bit-set
 6751 000001D2 D609                   M           MOV.L   #_reset_flg,R6          ;
 6752 000001D4 6061                   M           MOV.W   @R6,R0          ;
 6753 000001D6 CB04                   M           OR      #BIT2,R0                ;
 6754 000001D8 2601                   M           MOV.W   R0,@R6          ;
 6755                             408             MEM1_DATA_SET MEM=_reset_dly_tim,LG=W,DATA=_RST_DLY_TM,WKREG1=R1,WKREG2=R2
 6756 000001DA D108                   M           MOV.L   #_reset_dly_tim,R1              ;
 6757 000001DC 9209                   M           MOV.W   #_RST_DLY_TM,R2         ;
 6758 000001DE 2121                   M           MOV.W   R2,@R1  ;
 6759                             409             FAR_JSR #_RESET_OUT,R0                                          ;
 6760 000001E0 D007                   M           MOV.L   #_RESET_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6761 000001E2 400B                   M           JSR     @R0                     ;
 6762 000001E4 0009                   M           NOP                                     ;
 6763                             410             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0  ;20060919
 6764 000001E6 D007                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6765 000001E8 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    14
PROGRAM NAME =

 6766 000001EA 0009                   M           NOP                                     ;
 6767                             411             M_BRA   RESET_CHK_EXT
 6768 000001EC A038                   M           BRA     RESET_CHK_EXT
 6769 000001EE 0009                   M           NOP
 6770                             412     
 6771                             413     
 6772                             414     ;       ==== 遅延待ち ==
 6773                                     ***** BEGIN-POOL *****
 6774 000001F0 8000                       DATA FOR SOURCE-LINE 402
 6775 000001F2 00C8                       DATA FOR SOURCE-LINE 408
 6776 000001F4 00000000                   DATA FOR SOURCE-LINE 400
 6777 000001F8 00000000                   DATA FOR SOURCE-LINE 407
 6778 000001FC 00000000                   DATA FOR SOURCE-LINE 408
 6779 00000200 00000000                   DATA FOR SOURCE-LINE 409
 6780 00000204 00000000                   DATA FOR SOURCE-LINE 410
 6781                                     ***** END-POOL *****
 6782 00000208                    415     RESET_CHK_500:  ;
 6783 00000208 D11B               416             MOV.L   #_reset_dly_tim,R1
 6784 0000020A 6011               417             MOV.W   @R1,R0                                          ;
 6785 0000020C 2008               418             TST     R0,R0                                                   ;
 6786                             419             TST_BIT_ON RESET_CHK_EXT                                        ;
 6787 0000020E 8B27                   M           BF      RESET_CHK_EXT
 6788                             420     
 6789                             421             FAR_JSR #_RST_MOD_POS_END,R1
 6790 00000210 D11A                   M           MOV.L   #_RST_MOD_POS_END,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6791 00000212 410B                   M           JSR     @R1                     ;
 6792 00000214 0009                   M           NOP                                     ;
 6793                             422             FAR_JSR #_RESET_END_OUT,R1                                      ;
 6794 00000216 D11A                   M           MOV.L   #_RESET_END_OUT,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6795 00000218 410B                   M           JSR     @R1                     ;
 6796 0000021A 0009                   M           NOP                                     ;
 6797                             423             MEM1_DATA_SET MEM=_reset_flg,LG=W,DATA=0,WKREG1=R1,WKREG2=R2    ;完了
 6798 0000021C D119                   M           MOV.L   #_reset_flg,R1          ;
 6799 0000021E 9227                   M           MOV.W   #0,R2           ;
 6800 00000220 2121                   M           MOV.W   R2,@R1  ;
 6801                             424     
 6802                             425     ;       -------- 2010-12-10 移動追加----
 6803                             426             FAR_JSR #_RESET_ERR_SEQ_CLR,R0
 6804 00000222 D019                   M           MOV.L   #_RESET_ERR_SEQ_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6805 00000224 400B                   M           JSR     @R0                     ;
 6806 00000226 0009                   M           NOP                                     ;
 6807                             427             FAR_JSR #_RESET_ERR_SEQ_CLR2,R0
 6808 00000228 D018                   M           MOV.L   #_RESET_ERR_SEQ_CLR2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6809 0000022A 400B                   M           JSR     @R0                     ;
 6810 0000022C 0009                   M           NOP                                     ;
 6811                             428     
 6812                             429     ;       === 2003-07-01 ====
 6813 0000022E D118               430             MOV.L   #_HIST_DAT_SEND_DIS,R1  ;//1:DISENABLE 0:ENABLE
 6814 00000230 200A               431             XOR     R0,R0                   ;
 6815 00000232 2101               432             MOV.W   R0,@R1                  ;
 6816                             433     
 6817 00000234 D117               434             MOV.L   #_TRD_CLR_CMD,R1        ;//01 CLR
 6818 00000236 901C               435             MOV.W   #1,R0                   ;
 6819 00000238 2101               436             MOV.W   R0,@R1                  ;CLR START
 6820                             437     
 6821                             438             FAR_JSR #_ERR_INFO_RST_CLR,R0
 6822 0000023A D017                   M           MOV.L   #_ERR_INFO_RST_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    15
PROGRAM NAME =

 6823 0000023C 400B                   M           JSR     @R0                     ;
 6824 0000023E 0009                   M           NOP                                     ;
 6825                             439     
 6826                             440     ;       ----------- 2006-07-28 -------
 6827                             441             FAR_JSR #_TEPA_PLSCNT_CLR,R0
 6828 00000240 D016                   M           MOV.L   #_TEPA_PLSCNT_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6829 00000242 400B                   M           JSR     @R0                     ;
 6830 00000244 0009                   M           NOP                                     ;
 6831                             442             FAR_JSR #_TEP_FLG_CLR,R0
 6832 00000246 D016                   M           MOV.L   #_TEP_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6833 00000248 400B                   M           JSR     @R0                     ;
 6834 0000024A 0009                   M           NOP                                     ;
 6835                             443             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0  ;20060919
 6836 0000024C D015                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6837 0000024E 400B                   M           JSR     @R0                     ;
 6838 00000250 0009                   M           NOP                                     ;
 6839                             444             FAR_JSR #_OVERLID_DEF_SET,R0    ;20060919
 6840 00000252 D015                   M           MOV.L   #_OVERLID_DEF_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6841 00000254 400B                   M           JSR     @R0                     ;
 6842 00000256 0009                   M           NOP                                     ;
 6843                             445     
 6844                             446     ;       ======= 描画用 ======
 6845                             447             MEM1_BIT0_TO_BIT7_ORSET MEM=_DISP_RE_VIEW_FLG,LG=W,BIT=BIT0,WKREG=R1    ;再描画
 6846 00000258 D114                   M           MOV.L   #_DISP_RE_VIEW_FLG,R1           ;
 6847 0000025A 6011                   M           MOV.W   @R1,R0          ;
 6848 0000025C CB01                   M           OR      #BIT0,R0                ;
 6849 0000025E 2101                   M           MOV.W   R0,@R1          ;
 6850                             448     
 6851                             449     
 6852                             450     ;;;;;;  EMGのときだけｸﾘｱするように変更ため移動<2013-07-19>
 6853                             451     ;;;;;;  FAR_JSR #_CYCLE_TIME_REFLASH_CLR,R0                                     ;
 6854                             452     
 6855                             453     
 6856 00000260                    454     RESET_CHK_EXT:
 6857                             455     
 6858 00000260 D113               456             mov.l   #_pass_err_flg1,r1      ;//異常ﾙｰﾁﾝ
 6859 00000262 6011               457             mov.w   @r1,r0                  ;
 6860 00000264 9206               458             mov.w   #H'FF80,r2              ;BIT7~BIT15
 6861 00000266 202B               459             or      r2,r0                   ;
 6862 00000268 2101               460             mov.w   r0,@r1                  ;
 6863                             461             SUB_END
 6864                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 6865 0000026A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 6866                             462             M_RTS
 6867 0000026C 000B                   M           RTS                             ;RTSの後ろの
 6868 0000026E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 6869                             463     
 6870                             464     ;       ***********************************
 6871                             465     ;       ***                             ***
 6872                             466     ;       ***     ﾘｾｯﾄ可能条件            ***
 6873                             467     ;       ***                             ***
 6874                             468     ;       ***                             ***
 6875                             469     ;       ***********************************
 6876                             470     ;
 6877                             471     ;
 6878                                     ***** BEGIN-POOL *****
 6879 00000270 0000                       DATA FOR SOURCE-LINE 423
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    16
PROGRAM NAME =

 6880 00000272 0001                       DATA FOR SOURCE-LINE 435
 6881 00000274 FF80                       DATA FOR SOURCE-LINE 458
 6882 00000276 0000                       ALIGNMENT CODE
 6883 00000278 00000000                   DATA FOR SOURCE-LINE 416
 6884 0000027C 00000000                   DATA FOR SOURCE-LINE 421
 6885 00000280 00000000                   DATA FOR SOURCE-LINE 422
 6886 00000284 00000000                   DATA FOR SOURCE-LINE 423
 6887 00000288 00000000                   DATA FOR SOURCE-LINE 426
 6888 0000028C 00000000                   DATA FOR SOURCE-LINE 427
 6889 00000290 00000000                   DATA FOR SOURCE-LINE 430
 6890 00000294 00000000                   DATA FOR SOURCE-LINE 434
 6891 00000298 00000000                   DATA FOR SOURCE-LINE 438
 6892 0000029C 00000000                   DATA FOR SOURCE-LINE 441
 6893 000002A0 00000000                   DATA FOR SOURCE-LINE 442
 6894 000002A4 00000000                   DATA FOR SOURCE-LINE 443
 6895 000002A8 00000000                   DATA FOR SOURCE-LINE 444
 6896 000002AC 00000000                   DATA FOR SOURCE-LINE 447
 6897 000002B0 00000000                   DATA FOR SOURCE-LINE 456
 6898                                     ***** END-POOL *****
 6899 000002B4                    472             .ALIGN  4                               ;
 6900 000002B4                    473     _RESET_CONF_CHK:
 6901                             474             SUB_START
 6902 000002B4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6903                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6904                             475     
 6905                             476     ;---2011-09-20 ﾌﾞﾚｰｷﾓｰﾄﾞSW-ONでは安全一行程か原点復帰のみ
 6906 000002B6 D108               477             MOV.L   #_BRKTST_SW_IN,R1                               ;
 6907 000002B8 6011               478             MOV.W   @R1,R0                                          ;
 6908 000002BA C801               479             TST     #BIT0,R0                                        ;
 6909                             480             TST_BIT_OF RST_CONFCK_010                               ;
 6910 000002BC 8912                   M           BT      RST_CONFCK_010
 6911                             481     
 6912 000002BE D107               482             MOV.L   #_INP_MODE,R1                           ;
 6913 000002C0 6011               483             MOV.W   @R1,R0                                  ;
 6914 000002C2 C840               484             TST     #_W1DUP,R0                              ;
 6915                             485             TST_BIT_ON RST_CONFCK_010                       ;
 6916 000002C4 8B0E                   M           BF      RST_CONFCK_010
 6917                             486     
 6918 000002C6 C804               487             TST     #_W1SGL,R0                                      ;
 6919                             488             TST_BIT_OF RST_CONFCK_005                               ;
 6920 000002C8 8904                   M           BT      RST_CONFCK_005
 6921                             489     
 6922                             490     ;-------- 安全一----------
 6923 000002CA D105               491             MOV.L   #_di1_cb_ctl1_dt,R1                             ;// ﾚﾍﾞﾙﾃﾞ-ﾀ
 6924 000002CC 6011               492             MOV.W   @R1,R0                                          ;
 6925 000002CE C97F               493             AND     #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R0        ;
 6926                             494     
 6927 000002D0 C810               495             TST     #_W1OPT,R0                                      ;OPTION?
 6928                             496             TST_BIT_OF RST_CONFCK_010                               ;NO ちゃんとした安全一
 6929 000002D2 8907                   M           BT      RST_CONFCK_010
 6930 000002D4                    497     RST_CONFCK_005
 6931                             498             M_BRA   RST_CONFCK_NG                                   ;
 6932 000002D4 A0B0                   M           BRA     RST_CONFCK_NG
 6933 000002D6 0009                   M           NOP
 6934                             499     
 6935                                     ***** BEGIN-POOL *****
 6936 000002D8 00000000                   DATA FOR SOURCE-LINE 477
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    17
PROGRAM NAME =

 6937 000002DC 00000000                   DATA FOR SOURCE-LINE 482
 6938 000002E0 00000000                   DATA FOR SOURCE-LINE 491
 6939                                     ***** END-POOL *****
 6940 000002E4                    500     RST_CONFCK_010
 6941                             501     
 6942                             502     ;       ----------------------------------------------
 6943                             503             _MONI_RESET_SET SETNO=1,SETREG=R0,WKREG=R1      ;2014-09-13
 6944 000002E4 9027                   M           MOV.W   #1,R0
 6945 000002E6 D117                   M           MOV.L   #_MONI_RESET_STEP,R1
 6946 000002E8 2101                   M           MOV.W   R0,@R1
 6947                             504     
 6948 000002EA D117               505             MOV.L   #_INP_MODE,R1           ;
 6949 000002EC 6011               506             MOV.W   @R1,R0                  ;
 6950 000002EE C801               507             TST     #_W1OFF,R0              ;
 6951                             508             TST_BIT_ON RST_CONFCK_NG70      ;[切]
 6952 000002F0 8B7E                   M           BF      RST_CONFCK_NG70
 6953                             509     
 6954                             510     ;       ======= 安全装置ﾁｪｯｸ ==============
 6955 000002F2 D116               511             MOV.L   #_SFTY_IN_DAT,R1        ;
 6956 000002F4 6011               512             MOV.W   @R1,R0                  ;有効・無効のSWのみ
 6957 000002F6 C803               513             TST     #(BIT1+BIT0),R0
 6958                             514             TST_BIT_ON RST_CONFCK_NG70      ;
 6959 000002F8 8B7A                   M           BF      RST_CONFCK_NG70
 6960                             515     
 6961                             516     ;       ----------------------------------------------
 6962                             517             _MONI_RESET_SET SETNO=2,SETREG=R0,WKREG=R1      ;2014-09-13
 6963 000002FA 901D                   M           MOV.W   #2,R0
 6964 000002FC D111                   M           MOV.L   #_MONI_RESET_STEP,R1
 6965 000002FE 2101                   M           MOV.W   R0,@R1
 6966                             518     
 6967                             519     ;-----EMGのswは見る 340.0は見ない---
 6968 00000300 D113               520             MOV.L   #_di3_cb_inp1,R1                ;//+0:EMG1,EMG2 BIT1,BIT0
 6969                             521     ;;;340.0のor    MOV.L   #_di3_cb_inp1_dt,R1     ;//制御に使用するのは_dt(相手側の遮光も)
 6970 00000302 6011               522             MOV.W   @R1,R0                  ;
 6971 00000304 C803               523             TST     #(BIT1+BIT0),R0         ;EMG?
 6972                             524             TST_BIT_ON RST_CONFCK_NG70
 6973 00000306 8B73                   M           BF      RST_CONFCK_NG70
 6974                             525     
 6975                             526             _MONI_RESET_SET SETNO=3,SETREG=R0,WKREG=R1      ;2014-09-13
 6976 00000308 9017                   M           MOV.W   #3,R0
 6977 0000030A D10E                   M           MOV.L   #_MONI_RESET_STEP,R1
 6978 0000030C 2101                   M           MOV.W   R0,@R1
 6979                             527     
 6980 0000030E D10E               528             MOV.L   #_INP_MODE,R1           ;
 6981 00000310 6011               529             MOV.W   @R1,R0                  ;
 6982 00000312 9113               530             MOV.W   #(_W1DUP),R1            ;[原点復帰]
 6983 00000314 2018               531             TST     R1,R0                   ;
 6984                             532             TST_BIT_ON RST_CONFCK_015_OK    ;何でもOK
 6985 00000316 8B0C                   M           BF      RST_CONFCK_015_OK
 6986                             533     
 6987                             534     ;       === 段取は回転の場合は動作可能 ===
 6988 00000318 9111               535             MOV.W   #(_W1DIC),R1                    ;
 6989 0000031A 2018               536             TST     R1,R0                           ;
 6990                             537             TST_BIT_OF RST_CONFCK_020               ;[段取寸動]
 6991 0000031C 891C                   M           BT      RST_CONFCK_020
 6992                             538     
 6993                             539             _MONI_RESET_SET SETNO=4,SETREG=R0,WKREG=R1      ;2014-09-13
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    18
PROGRAM NAME =

 6994 0000031E 900F                   M           MOV.W   #4,R0
 6995 00000320 D108                   M           MOV.L   #_MONI_RESET_STEP,R1
 6996 00000322 2101                   M           MOV.W   R0,@R1
 6997                             540     
 6998 00000324 D50B               541             MOV.L   #_ORG_DND_NOMAL_FLG1,R5         ;段取動作はOK(POWER-ON/)
 6999 00000326 6651               542             MOV.W   @R5,R6                          ;0異常
 7000 00000328 2668               543             TST     R6,R6                           ;
 7001                             544             TST_BIT_OF RST_CONFCK_NG70              ;
 7002 0000032A 8961                   M           BT      RST_CONFCK_NG70
 7003                             545             _MONI_RESET_SET SETNO=5,SETREG=R0,WKREG=R1      ;2014-09-13
 7004 0000032C 9009                   M           MOV.W   #5,R0
 7005 0000032E D105                   M           MOV.L   #_MONI_RESET_STEP,R1
 7006 00000330 2101                   M           MOV.W   R0,@R1
 7007                             546     
 7008 00000332                    547     RST_CONFCK_015_OK:
 7009                             548             M_BRA   RST_CONFCK_OK                   ;
 7010 00000332 A084                   M           BRA     RST_CONFCK_OK
 7011 00000334 0009                   M           NOP
 7012                             549     
 7013                             550     
 7014                                     ***** BEGIN-POOL *****
 7015 00000336 0001                       DATA FOR SOURCE-LINE 503
 7016 00000338 0002                       DATA FOR SOURCE-LINE 517
 7017 0000033A 0003                       DATA FOR SOURCE-LINE 526
 7018 0000033C 0040                       DATA FOR SOURCE-LINE 530
 7019 0000033E 0020                       DATA FOR SOURCE-LINE 535
 7020 00000340 0004                       DATA FOR SOURCE-LINE 539
 7021 00000342 0005                       DATA FOR SOURCE-LINE 545
 7022 00000344 00000000                   DATA FOR SOURCE-LINE 503,517,526,539,545
 7023 00000348 00000000                   DATA FOR SOURCE-LINE 505,528
 7024 0000034C 00000000                   DATA FOR SOURCE-LINE 511
 7025 00000350 00000000                   DATA FOR SOURCE-LINE 520
 7026 00000354 00000000                   DATA FOR SOURCE-LINE 541
 7027                                     ***** END-POOL *****
 7028 00000358                    551     RST_CONFCK_020:
 7029                             552             _MONI_RESET_SET SETNO=6,SETREG=R0,WKREG=R1      ;2014-09-13
 7030 00000358 901D                   M           MOV.W   #6,R0
 7031 0000035A D111                   M           MOV.L   #_MONI_RESET_STEP,R1
 7032 0000035C 2101                   M           MOV.W   R0,@R1
 7033                             553     
 7034                             554     ;       ===== (設定異常・原点復帰未完了)==
 7035 0000035E D511               555             MOV.L   #_ORG_ELSE_NOMAL_FLG1,R5        ;//段取りok,原点動作以外動作禁止 0:異常 1:
                                          OK
 7036 00000360 6651               556             MOV.W   @R5,R6                          ;0異常
 7037 00000362 2668               557             TST     R6,R6                           ;
 7038                             558             TST_BIT_OF RST_CONFCK_NG70              ;
 7039 00000364 8944                   M           BT      RST_CONFCK_NG70
 7040                             559     
 7041                             560             _MONI_RESET_SET SETNO=7,SETREG=R0,WKREG=R1      ;2014-09-13
 7042 00000366 9017                   M           MOV.W   #7,R0
 7043 00000368 D10D                   M           MOV.L   #_MONI_RESET_STEP,R1
 7044 0000036A 2101                   M           MOV.W   R0,@R1
 7045                             561     
 7046                             562     
 7047                             563     ;;;2003-07-14   ===== (設定異常・原点復帰未完了)==
 7048                             564     ;;;     MOV.L   #_ORG_ELSE_NOMAL_FLG1,R5        ;//原点動作以外動作禁止 0:異常 1:OK
 7049                             565     ;;;     MOV.W   @R5,R6                          ;0異常
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    19
PROGRAM NAME =

 7050                             566     ;;;     TST     R6,R6                           ;
 7051                             567     ;;;     TST_BIT_OF RST_CONFCK_NG                ;
 7052                             568     
 7053                             569     ;;;     MOV.W   #(_W1DIC),R1                    ;
 7054                             570     ;;;     TST     R1,R0                           ;
 7055                             571     ;;;     TST_BIT_ON RST_CONFCK_OK                ;
 7056                             572     
 7057                             573     ;       ==== 待機点ｴﾘｱか-->待機点選出=====
 7058 0000036C                    574     RST_CONFCK_050:
 7059 0000036C D10E               575             MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
 7060 0000036E 6011               576             MOV.W   @R1,R0                          ;
 7061 00000370 2008               577             TST     R0,R0                           ;
 7062                             578             TST_BIT_OF RST_CONFCK_OK                ;EXQの場合
 7063 00000372 8964                   M           BT      RST_CONFCK_OK
 7064                             579     
 7065                             580             _MONI_RESET_SET SETNO=8,SETREG=R0,WKREG=R1      ;2014-09-13
 7066 00000374 9011                   M           MOV.W   #8,R0
 7067 00000376 D10A                   M           MOV.L   #_MONI_RESET_STEP,R1
 7068 00000378 2101                   M           MOV.W   R0,@R1
 7069                             581     
 7070                             582     ;       ===     2011-09-14      ===
 7071 0000037A D10C               583             MOV.L   #_BRKTST_INPUT_CMD,R1   ;//安全一行程の試験モード指定時BIT0=ON
 7072 0000037C 6011               584             MOV.W   @R1,R0                  ;
 7073 0000037E C801               585             TST     #BIT0,R0                ;
 7074                             586             TST_BIT_ON RST_CONFCK_BRK100    ;[]
 7075 00000380 8B4C                   M           BF      RST_CONFCK_BRK100
 7076                             587     ;       ===========================
 7077                             588     
 7078                             589             _MONI_RESET_SET SETNO=9,SETREG=R0,WKREG=R1      ;2014-09-13
 7079 00000382 900B                   M           MOV.W   #9,R0
 7080 00000384 D106                   M           MOV.L   #_MONI_RESET_STEP,R1
 7081 00000386 2101                   M           MOV.W   R0,@R1
 7082                             590     
 7083                             591     
 7084                             592     
 7085                             593     ;       =====2014-09-25 ====================
 7086                             594             FAR_JSR #_INC_RSTMODE_CHK,R0
 7087 00000388 D009                   M           MOV.L   #_INC_RSTMODE_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7088 0000038A 400B                   M           JSR     @R0                     ;
 7089 0000038C 0009                   M           NOP                                     ;
 7090 0000038E 2008               595             TST     R0,R0                   ;
 7091                             596             TST_BIT_OF RST_CONFCK_055       ;通常ｿﾌﾄで判定して[待機点です]
 7092 00000390 8910                   M           BT      RST_CONFCK_055
 7093                             597             M_BRA   RST_CONFCK_OK           ;
 7094 00000392 A054                   M           BRA     RST_CONFCK_OK
 7095 00000394 0009                   M           NOP
 7096                             598     
 7097                             599     
 7098                                     ***** BEGIN-POOL *****
 7099 00000396 0006                       DATA FOR SOURCE-LINE 552
 7100 00000398 0007                       DATA FOR SOURCE-LINE 560
 7101 0000039A 0008                       DATA FOR SOURCE-LINE 580
 7102 0000039C 0009                       DATA FOR SOURCE-LINE 589
 7103 0000039E 0000                       ALIGNMENT CODE
 7104 000003A0 00000000                   DATA FOR SOURCE-LINE 552,560,580,589
 7105 000003A4 00000000                   DATA FOR SOURCE-LINE 555
 7106 000003A8 00000000                   DATA FOR SOURCE-LINE 575
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    20
PROGRAM NAME =

 7107 000003AC 00000000                   DATA FOR SOURCE-LINE 583
 7108 000003B0 00000000                   DATA FOR SOURCE-LINE 594
 7109                                     ***** END-POOL *****
 7110 000003B4                    600     RST_CONFCK_055:
 7111                             601     
 7112                             602     
 7113                             603     ;       === 待機点だ！ ==== ﾘｾｯﾄ時の待機点ｹﾞｯﾄ====
 7114                             604     ;       ------- 2014-09-18-------
 7115 000003B4 D107               605             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
 7116 000003B6 6011               606             MOV.W   @R1,R0                                  ;
 7117 000003B8 C804               607             TST     #(_DMATH_DNDRIV),R0                     ;
 7118                             608             TST_BIT_OF RST_CONFCK_080                       ;
 7119 000003BA 8921                   M           BT      RST_CONFCK_080
 7120                             609     
 7121 000003BC D406               610             MOV.L   #_DNM_RESET_AREA,R4                     ;//BIT7(左)/BIT4(右側)
 7122 000003BE 6041               611             MOV.W   @R4,R0
 7123 000003C0 C810               612             TST     #BIT4,R0                                ;左側
 7124                             613             TST_BIT_ON RST_CONFCK_OK                        ;OK 初期値動作
 7125 000003C2 8B3C                   M           BF      RST_CONFCK_OK
 7126                             614     
 7127 000003C4 C880               615             TST     #BIT7,R0                                ;
 7128                             616             TST_BIT_ON RST_CONFCK_060                       ;逆側
 7129 000003C6 8B0B                   M           BF      RST_CONFCK_060
 7130                             617             _MONI_RESET_SET SETNO=10,SETREG=R0,WKREG=R1     ;DEBUG
 7131 000003C8 9003                   M           MOV.W   #10,R0
 7132 000003CA D104                   M           MOV.L   #_MONI_RESET_STEP,R1
 7133 000003CC 2101                   M           MOV.W   R0,@R1
 7134                             618             M_BRA   RST_CONFCK_NG                           ;
 7135 000003CE A033                   M           BRA     RST_CONFCK_NG
 7136 000003D0 0009                   M           NOP
 7137                             619     
 7138                             620     
 7139                                     ***** BEGIN-POOL *****
 7140 000003D2 000A                       DATA FOR SOURCE-LINE 617
 7141 000003D4 00000000                   DATA FOR SOURCE-LINE 605
 7142 000003D8 00000000                   DATA FOR SOURCE-LINE 610
 7143 000003DC 00000000                   DATA FOR SOURCE-LINE 617
 7144                                     ***** END-POOL *****
 7145 000003E0                    621     RST_CONFCK_060:
 7146                             622             FAR_JSR #_DNM_DATA_REV_SET,R0                   ;
 7147 000003E0 D002                   M           MOV.L   #_DNM_DATA_REV_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7148 000003E2 400B                   M           JSR     @R0                     ;
 7149 000003E4 0009                   M           NOP                                     ;
 7150                             623             M_BRA   RST_CONFCK_OK                           ;
 7151 000003E6 A02A                   M           BRA     RST_CONFCK_OK
 7152 000003E8 0009                   M           NOP
 7153                             624     
 7154                             625     
 7155                             626     ;       --2014-09-25-------------------------------------
 7156                                     ***** BEGIN-POOL *****
 7157 000003EA 0000                       ALIGNMENT CODE
 7158 000003EC 00000000                   DATA FOR SOURCE-LINE 622
 7159                                     ***** END-POOL *****
 7160 000003F0                    627     RST_CONFCK_NG70:
 7161                             628             _MONI_RESET_SET SETNO=11,SETREG=R0,WKREG=R1     ;
 7162 000003F0 9003                   M           MOV.W   #11,R0
 7163 000003F2 D102                   M           MOV.L   #_MONI_RESET_STEP,R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    21
PROGRAM NAME =

 7164 000003F4 2101                   M           MOV.W   R0,@R1
 7165                             629             M_BRA   RST_CONFCK_NG                           ;
 7166 000003F6 A01F                   M           BRA     RST_CONFCK_NG
 7167 000003F8 0009                   M           NOP
 7168                             630     
 7169                             631     ;       ----------------------------------------------------
 7170                                     ***** BEGIN-POOL *****
 7171 000003FA 000B                       DATA FOR SOURCE-LINE 628
 7172 000003FC 00000000                   DATA FOR SOURCE-LINE 628
 7173                                     ***** END-POOL *****
 7174 00000400                    632     RST_CONFCK_080:
 7175 00000400 D404               633             MOV.L   #_M_LINK_AREASIG,R4                     ;//BIT0/BIT4:待機点範囲
 7176 00000402 6041               634             MOV.W   @R4,R0                                  ;
 7177 00000404 C810               635             TST     #BIT4,R0                                ;
 7178                             636             TST_BIT_ON RST_CONFCK_OK                        ;
 7179 00000406 8B1A                   M           BF      RST_CONFCK_OK
 7180                             637                                                             ;
 7181                             638             _MONI_RESET_SET SETNO=10,SETREG=R0,WKREG=R1     ;DEBUG
 7182 00000408 9003                   M           MOV.W   #10,R0
 7183 0000040A D103                   M           MOV.L   #_MONI_RESET_STEP,R1
 7184 0000040C 2101                   M           MOV.W   R0,@R1
 7185                             639             M_BRA   RST_CONFCK_NG                           ;2011-09-14 ADD
 7186 0000040E A013                   M           BRA     RST_CONFCK_NG
 7187 00000410 0009                   M           NOP
 7188                             640     
 7189                             641     ;       -- 2011-09-14 ADD--
 7190                                     ***** BEGIN-POOL *****
 7191 00000412 000A                       DATA FOR SOURCE-LINE 638
 7192 00000414 00000000                   DATA FOR SOURCE-LINE 633
 7193 00000418 00000000                   DATA FOR SOURCE-LINE 638
 7194                                     ***** END-POOL *****
 7195 0000041C                    642     RST_CONFCK_BRK100:
 7196 0000041C D404               643             MOV.L   #_BRKTST_AREA_SIG,R4                    ;//BIT0/BIT4:待機点範囲
 7197 0000041E 6041               644             MOV.W   @R4,R0                                  ;//BIT1:下降(上昇信号はない)
 7198 00000420 C810               645             TST     #BIT4,R0                                ;
 7199                             646             TST_BIT_ON RST_CONFCK_OK                        ;
 7200 00000422 8B0C                   M           BF      RST_CONFCK_OK
 7201                             647     
 7202                             648             _MONI_RESET_SET SETNO=10,SETREG=R0,WKREG=R1     ;DEBUG
 7203 00000424 9003                   M           MOV.W   #10,R0
 7204 00000426 D103                   M           MOV.L   #_MONI_RESET_STEP,R1
 7205 00000428 2101                   M           MOV.W   R0,@R1
 7206                             649             M_BRA   RST_CONFCK_NG                           ;
 7207 0000042A A005                   M           BRA     RST_CONFCK_NG
 7208 0000042C 0009                   M           NOP
 7209                             650     
 7210                             651     
 7211                             652     
 7212                                     ***** BEGIN-POOL *****
 7213 0000042E 000A                       DATA FOR SOURCE-LINE 648
 7214 00000430 00000000                   DATA FOR SOURCE-LINE 643
 7215 00000434 00000000                   DATA FOR SOURCE-LINE 648
 7216                                     ***** END-POOL *****
 7217 00000438                    653     RST_CONFCK_NG:
 7218 00000438 E0FF               654             MOV     #-1,R0
 7219                             655             M_BRA   RST_CONFCK_END
 7220 0000043A A001                   M           BRA     RST_CONFCK_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    22
PROGRAM NAME =

 7221 0000043C 0009                   M           NOP
 7222 0000043E                    656     RST_CONFCK_OK:
 7223 0000043E 200A               657             XOR     R0,R0                           ;ﾘｾｯﾄ可能
 7224 00000440                    658     RST_CONFCK_END:
 7225                             659             SUB_END
 7226                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7227 00000440 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7228                             660             M_RTS
 7229 00000442 000B                   M           RTS                             ;RTSの後ろの
 7230 00000444 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7231                             661     
 7232                             662     
 7233                             663     ;       *******************************************
 7234                             664     ;       ***                                     ***
 7235                             665     ;       ***     モード変更                      ***
 7236                             666     ;       ***     (ﾘｾｯﾄ中だけでも良い)            ***
 7237                             667     ;       *******************************************
 7238                             668     ;       INP_MODE(ﾘｾｯﾄ条件に必要)=MODE_SEL INP_MODE=>MODE_SEL
 7239                             669     ;       BIT0:切
 7240                             670     ;       BIT1:寸動・寸動一行程
 7241                             671     ;       BIT2:安全一行程・OPTION安全一行程・一行程
 7242                             672     ;       BIT3:連続・連続ﾀｲﾏ・ｶｳﾝﾀ、連続寸動一行程、連続一行程
 7243                             673     ;       BIT4:OPTION
 7244                             674     ;       BIT5:段取()
 7245                             675     ;       BIT6:強制上昇（待機点復帰）
 7246                             676     ;
 7247                             677     ;       BIT8:連続ﾀｲﾏ(BIT3=1)/寸動一行程(BIT1=1)
 7248                             678     ;       BIT9:連続ｶｳﾝﾀ(BIT3=1)
 7249                             679     ;       BIT10:一行程(BIT2=1)
 7250                             680     ;       BIT11:連続一行程(BIT4=1)
 7251                             681     ;       BIT12:連続寸動一行程(BIT4=1)
 7252                             682     ;       BIT13:
 7253                             683     ;       BIT14
 7254                             684     ;       BIT15
 7255                             685     ;
 7256                             686     ;
 7257 00000448                    687             .ALIGN  4                               ;
 7258 00000448                    688     _MODE_CHANGE:           ;==>ssa_cbmn.src
 7259                             689             SUB_START
 7260 00000448 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7261                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7262                             690     ;       U2b     INP_MODE;       //入力　ﾘｾｯﾄ条件に使用 INP_MODE-->MODE_SEL
 7263                             691     ;       U2b     MODE_SEL;       //ﾘｾｯﾄ時に決定
 7264                             692     ;                               //bit0:切 bit1寸動 bit2:安一(sgl,opt) bit3:連続 bit4:opt b
                                          it5:段取 bit6:待機点復帰
 7265                             693     ;                               //まずbit0~bit7のいずれかがonする　選択未は切(bit0)
 7266                             694     ;                               //bit8~bit15:詳細情報
 7267                             695     ;;;     MOV.L   #_reset_flg,R6                                  ;
 7268                             696     ;;;     MOV.W   @R6,R0                                          ;
 7269                             697     ;;;     TST     R0,R0                                           ;ﾘｾｯﾄ中?
 7270                             698     ;;;     TST_BIT_OF MODE_CHG_EXT                                 ;
 7271                             699     
 7272 0000044A D10B               700             MOV.L   #_di1_cb_ctl1_dt,R1                             ;// ﾚﾍﾞﾙﾃﾞ-ﾀ
 7273 0000044C 6011               701             MOV.W   @R1,R0                                          ;
 7274 0000044E C97F               702             AND     #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R0        ;
 7275                             703     
 7276 00000450 2008               704             TST     R0,R0                                   ;モード選択なし
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    23
PROGRAM NAME =

 7277                             705             TST_BIT_ON MODE_CHG_050                         ;
 7278 00000452 8B00                   M           BF      MODE_CHG_050
 7279 00000454 CB01               706             OR      #_W1OFF,R0                              ;切
 7280 00000456                    707     MODE_CHG_050:                                           ;(複数個は異常だからここではみない
                                          )
 7281                             708     
 7282 00000456 C801               709             TST     #_W1OFF,R0
 7283                             710             TST_BIT_ON MODE_CHG_800                         ;切
 7284 00000458 8B5D                   M           BF      MODE_CHG_800
 7285                             711     
 7286 0000045A C810               712             TST     #_W1OPT,R0                              ;OPTION?
 7287                             713             TST_BIT_OF MODE_CHG_100                         ;
 7288 0000045C 893E                   M           BT      MODE_CHG_100
 7289                             714     
 7290                             715     ;       ==== OPTION ======(BIT10:一行程 BIT11:連続寸動 BIT12:連寸一 BIT13(安一))
 7291 0000045E D107               716             MOV.L   #_CB_SEQ_SW_SEL028,R1                   ;//SEQ 28
 7292 00000460 6211               717             MOV.W   @R1,R2                                  ;
 7293 00000462 9306               718             MOV.W   #(BIT14+BIT13+BIT12+BIT11+BIT10),R3     ;
 7294 00000464 2239               719             AND     R3,R2                                   ;
 7295 00000466 2228               720             TST     R2,R2                                   ;
 7296                             721             TST_BIT_ON MODE_CHG_080                         ;(NO 安全一行程以外)
 7297 00000468 8B0A                   M           BF      MODE_CHG_080
 7298                             722     ;       === 選択なし===
 7299 0000046A 9003               723             MOV.W   #_W1OFF,R0                              ;切
 7300 0000046C 222A               724             XOR     R2,R2                                   ;
 7301                             725             M_BRA   MODE_CHG_800                            ;
 7302 0000046E A052                   M           BRA     MODE_CHG_800
 7303 00000470 0009                   M           NOP
 7304                             726     
 7305                             727     
 7306                             728     ;       =====選択があれば安全一行程か一行程====
 7307                             729     ;       =====選択があれば安全一行程か一行程か連寸一か連続一行程====
 7308                                     ***** BEGIN-POOL *****
 7309 00000472 7C00                       DATA FOR SOURCE-LINE 718
 7310 00000474 0001                       DATA FOR SOURCE-LINE 723
 7311 00000476 0000                       ALIGNMENT CODE
 7312 00000478 00000000                   DATA FOR SOURCE-LINE 700
 7313 0000047C 00000000                   DATA FOR SOURCE-LINE 716
 7314                                     ***** END-POOL *****
 7315 00000480                    730     MODE_CHG_080:
 7316                             731     ;;2003-05-24 一行程追加 MOV.W   #BIT13,R3                               ;安全一行程
 7317                             732     ;;              XOR     R2,R2                                   ;
 7318                             733     ;;              MOV.W   #_W1SGL,R0                              ;安全一行程に変更
 7319                             734     ;;              M_BRA   MODE_CHG_800                            ;
 7320                             735     
 7321                             736     ;       ==== 2003-05-24 =====
 7322 00000480 9310               737             MOV.W   #BIT13,R3                                       ;安全一行程
 7323 00000482 2238               738             TST     R3,R2                                           ;
 7324                             739             TST_BIT_ON MODE_CHG_080_SGL                             ;
 7325 00000484 8B1E                   M           BF      MODE_CHG_080_SGL
 7326                             740     
 7327 00000486 930E               741             MOV.W   #BIT10,R3                                       ;一行程
 7328 00000488 2238               742             TST     R3,R2                                           ;
 7329                             743             TST_BIT_ON MODE_CHG_080_SNG                             ;
 7330 0000048A 8B20                   M           BF      MODE_CHG_080_SNG
 7331                             744     
 7332                             745     ;       ==== 2004-01-26
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    24
PROGRAM NAME =

 7333 0000048C D107               746             MOV.L   #_WFSYS_OPT_CNT_SEL,R1                          ;
 7334 0000048E 6011               747             MOV.W   @R1,R0                                          ;
 7335 00000490 8801               748             CMP/EQ  #1,R0                                           ;連寸一有効?
 7336 00000492 8B12               749             BF      MODE_CHG_OPT090                                 ;
 7337                             750     
 7338 00000494 9308               751             MOV.W   #BIT11,R3                                       ;連続一行程
 7339 00000496 2238               752             TST     R3,R2                                           ;
 7340                             753             TST_BIT_ON MODE_CHG_OPT050                              ;
 7341 00000498 8B0A                   M           BF      MODE_CHG_OPT050
 7342                             754     
 7343 0000049A 9306               755             MOV.W   #BIT12,R3                                       ;連寸一行程
 7344 0000049C 2238               756             TST     R3,R2                                           ;
 7345                             757             TST_BIT_ON MODE_CHG_OPT050                              ;
 7346 0000049E 8B07                   M           BF      MODE_CHG_OPT050
 7347                             758             M_BRA   MODE_CHG_OPT090                                 ;
 7348 000004A0 A00B                   M           BRA     MODE_CHG_OPT090
 7349 000004A2 0009                   M           NOP
 7350                             759     
 7351                                     ***** BEGIN-POOL *****
 7352 000004A4 2000                       DATA FOR SOURCE-LINE 737
 7353 000004A6 0400                       DATA FOR SOURCE-LINE 741
 7354 000004A8 0800                       DATA FOR SOURCE-LINE 751
 7355 000004AA 1000                       DATA FOR SOURCE-LINE 755
 7356 000004AC 00000000                   DATA FOR SOURCE-LINE 746
 7357                                     ***** END-POOL *****
 7358 000004B0                    760     MODE_CHG_OPT050
 7359 000004B0 9002               761             MOV.W   #_W1CNT,R0                                      ;連続の運転の部類にいれる
 7360 000004B2 203B               762             OR      R3,R0                                           ;BIT11orBIT12
 7361                             763             M_BRA   MODE_CHG_800                                    ;
 7362 000004B4 A02F                   M           BRA     MODE_CHG_800
 7363 000004B6 0009                   M           NOP
 7364                             764     
 7365                             765     ;       === 選択なしと同じ扱い===
 7366                                     ***** BEGIN-POOL *****
 7367 000004B8 0008                       DATA FOR SOURCE-LINE 761
 7368                                     ***** END-POOL *****
 7369 000004BA                    766     MODE_CHG_OPT090
 7370 000004BA 9002               767             MOV.W   #_W1OFF,R0                                      ;切
 7371 000004BC 222A               768             XOR     R2,R2                                           ;
 7372                             769             M_BRA   MODE_CHG_800                                    ;
 7373 000004BE A02A                   M           BRA     MODE_CHG_800
 7374 000004C0 0009                   M           NOP
 7375                             770     
 7376                             771     ;       ==== 安全一行程(OPTIONも)===
 7377                                     ***** BEGIN-POOL *****
 7378 000004C2 0001                       DATA FOR SOURCE-LINE 767
 7379                                     ***** END-POOL *****
 7380 000004C4                    772     MODE_CHG_080_SGL:
 7381 000004C4 222A               773             XOR     R2,R2                                           ;S
 7382 000004C6 9001               774             MOV.W   #_W1SGL,R0                                      ;安全一行程に変更
 7383                             775             M_BRA   MODE_CHG_800                                    ;
 7384 000004C8 A025                   M           BRA     MODE_CHG_800
 7385 000004CA 0009                   M           NOP
 7386                             776     
 7387                                     ***** BEGIN-POOL *****
 7388 000004CC 0004                       DATA FOR SOURCE-LINE 774
 7389                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    25
PROGRAM NAME =

 7390 000004CE                    777     MODE_CHG_080_SNG:                                               ;SINGLE:一行程もﾓｰﾄﾞは安全
                                          一行程として扱う
 7391 000004CE 9203               778             MOV.W   #BIT10,R2                                       ;一行程
 7392 000004D0 9003               779             MOV.W   #_W1SGL,R0                                      ;
 7393 000004D2 202B               780             OR      R2,R0                                           ;BIT10+SGL
 7394                             781             M_BRA   MODE_CHG_800                                    ;
 7395 000004D4 A01F                   M           BRA     MODE_CHG_800
 7396 000004D6 0009                   M           NOP
 7397                             782     
 7398                                     ***** BEGIN-POOL *****
 7399 000004D8 0400                       DATA FOR SOURCE-LINE 778
 7400 000004DA 0004                       DATA FOR SOURCE-LINE 779
 7401                                     ***** END-POOL *****
 7402 000004DC                    783     MODE_CHG_100:                                           ;
 7403 000004DC C808               784             TST     #_W1CNT,R0                              ;連続
 7404                             785             TST_BIT_OF MODE_CHG_150                         ;
 7405 000004DE 8909                   M           BT      MODE_CHG_150
 7406                             786     ;       ==== 連続 =======
 7407 000004E0 D103               787             MOV.L   #_CB_SEQ_SW_SEL028,R1                   ;//SEQ 28
 7408 000004E2 6211               788             MOV.W   @R1,R2                                  ;
 7409 000004E4 9303               789             MOV.W   #(BIT9+BIT8),R3                         ;
 7410 000004E6 2239               790             AND     R3,R2                                   ;
 7411 000004E8 202B               791             OR      R2,R0                                   ;R0(W1CNT)
 7412                             792             M_BRA   MODE_CHG_800                            ;
 7413 000004EA A014                   M           BRA     MODE_CHG_800
 7414 000004EC 0009                   M           NOP
 7415                             793     
 7416                                     ***** BEGIN-POOL *****
 7417 000004EE 0300                       DATA FOR SOURCE-LINE 789
 7418 000004F0 00000000                   DATA FOR SOURCE-LINE 787
 7419                                     ***** END-POOL *****
 7420 000004F4                    794     MODE_CHG_150:                                           ;
 7421 000004F4 C802               795             TST     #_W1INC,R0                              ;寸動?
 7422                             796             TST_BIT_OF MODE_CHG_200                         ;
 7423 000004F6 890D                   M           BT      MODE_CHG_200
 7424                             797     ;       ==== 寸動 =======
 7425 000004F8 D105               798             MOV.L   #_CB_SEQ_SW_SEL028,R1                   ;//SEQ 28
 7426 000004FA 6211               799             MOV.W   @R1,R2                                  ;
 7427 000004FC 9405               800             MOV.W   #BIT3,R4                                ;
 7428 000004FE 2248               801             TST     R4,R2                                   ;
 7429                             802             TST_BIT_OF MODE_CHG_800                         ;
 7430 00000500 8909                   M           BT      MODE_CHG_800
 7431 00000502 9203               803             MOV.W   #BIT8,R2                                ;寸一
 7432 00000504 202B               804             OR      R2,R0                                   ;
 7433                             805             M_BRA   MODE_CHG_800                            ;
 7434 00000506 A006                   M           BRA     MODE_CHG_800
 7435 00000508 0009                   M           NOP
 7436                             806     
 7437                                     ***** BEGIN-POOL *****
 7438 0000050A 0008                       DATA FOR SOURCE-LINE 800
 7439 0000050C 0100                       DATA FOR SOURCE-LINE 803
 7440 0000050E 0000                       ALIGNMENT CODE
 7441 00000510 00000000                   DATA FOR SOURCE-LINE 798
 7442                                     ***** END-POOL *****
 7443 00000514                    807     MODE_CHG_200:                                           ;
 7444 00000514 0009               808             NOP                                             ;
 7445 00000516                    809     MODE_CHG_800:                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    26
PROGRAM NAME =

 7446 00000516 D102               810             MOV.L   #_INP_MODE,R1                           ;一行程はOPTION+SGL
 7447 00000518 2101               811             MOV.W   R0,@R1                                  ;OPTIONの安全一はSGLだけ
 7448 0000051A                    812     MODE_CHG_EXT:                                           ;
 7449                             813     
 7450                             814             SUB_END
 7451                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7452 0000051A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7453                             815             M_RTS
 7454 0000051C 000B                   M           RTS                             ;RTSの後ろの
 7455 0000051E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7456                             816     
 7457                             817     ;       ***************************************************
 7458                             818     ;       ***                                             ***
 7459                             819     ;       ***     各モードでのﾘｾｯﾄ条件に必要な位置信号    ***
 7460                             820     ;       ***     _INP_MODEと_MODE_SELを使い分ける        ***
 7461                             821     ;       ***     また回転とその他で待機点が異なる        ***
 7462                             822     ;       ***     ()                                      ***
 7463                             823     ;       ***************************************************
 7464                                     ***** BEGIN-POOL *****
 7465 00000520 00000000                   DATA FOR SOURCE-LINE 810
 7466                                     ***** END-POOL *****
 7467 00000524                    824     _MODE_AREA_MAKE:                ;ssa_ctrl.src 待機点AREA作成
 7468                             825             SUB_START
 7469 00000524 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7470                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7471 00000526 D102               826             MOV.L   #_SET1_MRTION_SEL1,R1   ;bit0~bit3
 7472                             827             SUB_END
 7473                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7474 00000528 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7475                             828             M_RTS
 7476 0000052A 000B                   M           RTS                             ;RTSの後ろの
 7477 0000052C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7478                             829     
 7479                             830     
 7480                             831     
 7481                             832     ;       *******************************************
 7482                             833     ;       ***                                     ***
 7483                             834     ;       ***     モード制御                      ***
 7484                             835     ;       ***                                     ***
 7485                             836     ;       *******************************************
 7486                             837     
 7487                                     ***** BEGIN-POOL *****
 7488 0000052E 0000                       ALIGNMENT CODE
 7489 00000530 00000000                   DATA FOR SOURCE-LINE 826
 7490                                     ***** END-POOL *****
 7491 00000534                    838     _MODE_CTRL:             ;==>ssa_cbmn.src
 7492                             839             SUB_START                       ;
 7493 00000534 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7494                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7495                             840     
 7496                             841     ;       -------------- EPﾁｪｯｸ 2014-06-04 ------------
 7497                             842             FAR_JSR #_EP_SENCER_CHECK,R0
 7498 00000536 D004                   M           MOV.L   #_EP_SENCER_CHECK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7499 00000538 400B                   M           JSR     @R0                     ;
 7500 0000053A 0009                   M           NOP                                     ;
 7501 0000053C D103               843             MOV.L   #_EPCHK_FLG,R1                  ;
 7502 0000053E 6011               844             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    27
PROGRAM NAME =

 7503 00000540 C801               845             TST     #BIT0,R0                        ;動作中
 7504                             846             TST_BIT_OF MODE_CTL_100                 ;
 7505 00000542 8905                   M           BT      MODE_CTL_100
 7506                             847             M_BRA   MODE_CTL_EXIT                   ;
 7507 00000544 A04B                   M           BRA     MODE_CTL_EXIT
 7508 00000546 0009                   M           NOP
 7509                             848     
 7510                                     ***** BEGIN-POOL *****
 7511 00000548 00000000                   DATA FOR SOURCE-LINE 842
 7512 0000054C 00000000                   DATA FOR SOURCE-LINE 843
 7513                                     ***** END-POOL *****
 7514 00000550                    849     MODE_CTL_100
 7515                             850     
 7516                             851     ;       ---------- 2010-08-20[制動モード]---------
 7517                             852             FAR_JSR #_BRKTST_CTRL,R0        ;
 7518 00000550 D026                   M           MOV.L   #_BRKTST_CTRL,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7519 00000552 400B                   M           JSR     @R0                     ;
 7520 00000554 0009                   M           NOP                                     ;
 7521                             853     
 7522                             854              .AIF   1 EQ 1  ;
 7523                             855 C   ;       -------- 2016-10-31 ADD 二重回路対策
 7524                             856              .AENDI
 7525                             857     ;       ---------- 2016-10-31(2016-05-11)----------
 7526                             858             FAR_JSR #_POSCTRL_CANSEL_RESET,R0
 7527 00000556 D026                   M           MOV.L   #_POSCTRL_CANSEL_RESET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7528 00000558 400B                   M           JSR     @R0                     ;
 7529 0000055A 0009                   M           NOP                                     ;
 7530                             859     
 7531                             860     ;       -------------ＳＷ情報でモードによっては異常にするため[2014-02-20 R02R03]----------
                                          -----
 7532                             861             FAR_JSR #_MASK2_SAFTY_MAK,R0            ;[SWの条件だけを作る]
 7533 0000055C D025                   M           MOV.L   #_MASK2_SAFTY_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7534 0000055E 400B                   M           JSR     @R0                     ;
 7535 00000560 0009                   M           NOP                                     ;
 7536                             862             FAR_JSR #_SFTY_MUTING_MODE_ERR,R0       ;
 7537 00000562 D025                   M           MOV.L   #_SFTY_MUTING_MODE_ERR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7538 00000564 400B                   M           JSR     @R0                     ;
 7539 00000566 0009                   M           NOP                                     ;
 7540                             863     
 7541                             864     
 7542 00000568 D124               865             MOV.L   #_reset_flg,R1          ;
 7543 0000056A 6011               866             MOV.W   @R1,R0                  ;
 7544 0000056C 2008               867             TST     R0,R0                   ;
 7545                             868             TST_BIT_ON MODE_CTL_EXIT        ;
 7546 0000056E 8B36                   M           BF      MODE_CTL_EXIT
 7547                             869     
 7548 00000570 D123               870             MOV.L   #_SELF_FLG,R1           ;//BIT0:ｾﾙﾌﾁｪｯｸ中 //BIT7
 7549 00000572 6011               871             MOV.W   @R1,R0                  ;
 7550 00000574 D223               872             MOV.L   #_SELF_COM,R2           ;//BIT0:ｾﾙﾌﾁｪｯｸ指令
 7551 00000576 6321               873             MOV.W   @R2,R3                  ;
 7552 00000578 203B               874             OR      R3,R0                   ;
 7553 0000057A C801               875             TST     #BIT0,R0                ;ｾﾙﾌ中またはｾﾙﾌｺﾏﾝﾄﾞON
 7554                             876             TST_BIT_ON MODE_CTL_EXIT        ;
 7555 0000057C 8B2F                   M           BF      MODE_CTL_EXIT
 7556                             877     
 7557 0000057E D122               878             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
 7558 00000580 6011               879             MOV.W   @R1,R0                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    28
PROGRAM NAME =

 7559 00000582 2008               880             TST     R0,R0                   ;
 7560                             881             TST_BIT_ON MODE_CTL_ET900       ;2003-06-06[2-3]
 7561 00000584 8B21                   M           BF      MODE_CTL_ET900
 7562                             882     
 7563 00000586 D121               883             MOV.L   #_exq_err_flg,R1        ;//異常ﾗｯﾁ
 7564 00000588 6011               884             MOV.W   @R1,R0                  ;2003-06-06
 7565 0000058A 2008               885             TST     R0,R0                   ;
 7566                             886             TST_BIT_ON MODE_CTL_ET900       ;MODE_CTL_EXIT  ;2003-06-06[2-4]
 7567 0000058C 8B1D                   M           BF      MODE_CTL_ET900
 7568                             887     
 7569                             888     
 7570                             889             FAR_JSR #_ANTI_CHEAK,R0         ;(ｾﾙﾌﾁｪｯｸ開始条件､ｾﾙﾌﾁｪｯｸの開始)
 7571 0000058E D020                   M           MOV.L   #_ANTI_CHEAK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7572 00000590 400B                   M           JSR     @R0                     ;
 7573 00000592 0009                   M           NOP                                     ;
 7574                             890     
 7575                             891     
 7576                             892     
 7577                             893     ;       ------- 2014-06-06[EPｾﾝｻﾁｪｯｸ]
 7578 00000594 D11F               894             MOV.L   #_EPCHK_FLG,R1          ;
 7579 00000596 6011               895             MOV.W   @R1,R0                  ;
 7580 00000598 D11F               896             MOV.L   #_EPCHK_COM,R1          ;
 7581 0000059A 6211               897             MOV.W   @R1,R2                  ;
 7582 0000059C 202B               898             OR      R2,R0                   ;
 7583 0000059E C801               899             TST     #BIT0,R0                ;
 7584                             900             TST_BIT_ON MODE_CTL_EXIT        ;
 7585 000005A0 8B1D                   M           BF      MODE_CTL_EXIT
 7586                             901     
 7587                             902     
 7588                             903     ;       ------- 2010-08-20[制動モード]
 7589 000005A2 D11E               904             MOV.L   #_BRKTST_MOD_FLG,R1     ;
 7590 000005A4 6011               905             MOV.W   @R1,R0                  ;
 7591 000005A6 C801               906             TST     #BIT0,R0                ;
 7592                             907             TST_BIT_ON MODE_CTL_EXIT        ;
 7593 000005A8 8B19                   M           BF      MODE_CTL_EXIT
 7594                             908     
 7595                             909     
 7596                             910     
 7597                             911     
 7598 000005AA D11D               912             MOV.L   #_IN_RDY_FLG,R1         ;//内部準備完了(ANTIと同じﾚﾍﾞﾙ)
 7599 000005AC 6011               913             MOV.W   @R1,R0                  ;
 7600 000005AE C801               914             TST     #BIT0,R0                ;内部準備完了
 7601                             915             TST_BIT_OF MODE_CTL_ET900       ;MODE_CTL_EXIT  ;2003-06-06[2-5]
 7602 000005B0 890B                   M           BT      MODE_CTL_ET900
 7603                             916     
 7604                             917             FAR_JSR #_TEPA_PLSCNT_CHK,R0    ;
 7605 000005B2 D01C                   M           MOV.L   #_TEPA_PLSCNT_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7606 000005B4 400B                   M           JSR     @R0                     ;
 7607 000005B6 0009                   M           NOP                                     ;
 7608                             918     
 7609                             919     ;       --------- 2007-12-24 --------
 7610                             920             FAR_JSR #_LOT_CNT_CNT,R0        ;
 7611 000005B8 D01B                   M           MOV.L   #_LOT_CNT_CNT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7612 000005BA 400B                   M           JSR     @R0                     ;
 7613 000005BC 0009                   M           NOP                                     ;
 7614                             921     
 7615                             922     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    29
PROGRAM NAME =

 7616                             923     ;;;;;;;2014-02-20       FAR_JSR #_MASK2_SAFTY_MAK,R0    ;[SWの条件だけを作る]
 7617                             924     
 7618                             925             FAR_JSR #_RDY_CHEAK,R0          ;運転動作
 7619 000005BE D01B                   M           MOV.L   #_RDY_CHEAK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7620 000005C0 400B                   M           JSR     @R0                     ;
 7621 000005C2 0009                   M           NOP                                     ;
 7622                             926             FAR_JSR #_RDY_HOLDSTP_FLGOUT,R0
 7623 000005C4 D01A                   M           MOV.L   #_RDY_HOLDSTP_FLGOUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7624 000005C6 400B                   M           JSR     @R0                     ;
 7625 000005C8 0009                   M           NOP                                     ;
 7626                             927     
 7627 000005CA                    928     MODE_CTL_ET900:                         ;
 7628                             929     
 7629                             930     ;       ==== 2003-06-06[2-2] ==
 7630 000005CA D11A               931             MOV.L   #_CPOS_CTL_MATH,R1              ;
 7631 000005CC 6011               932             MOV.W   @R1,R0                          ;
 7632                             933     ;;[2009-10-07下振子]    TST     #_DMATH_CNTROT,R0               ;
 7633 000005CE C805               934             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0               ;回転or往復
 7634                             935             TST_BIT_OF MODE_CTL_EXIT                ;
 7635 000005D0 8905                   M           BT      MODE_CTL_EXIT
 7636                             936             FAR_JSR #_DAI_MOSTPOS_SMPLE,R0          ;
 7637 000005D2 D019                   M           MOV.L   #_DAI_MOSTPOS_SMPLE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7638 000005D4 400B                   M           JSR     @R0                     ;
 7639 000005D6 0009                   M           NOP                                     ;
 7640                             937     
 7641                             938     
 7642                             939             FAR_JSR #_KJPHOS_SAMPLING1,R0   ;2004-07-05
 7643 000005D8 D018                   M           MOV.L   #_KJPHOS_SAMPLING1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7644 000005DA 400B                   M           JSR     @R0                     ;
 7645 000005DC 0009                   M           NOP                                     ;
 7646                             940     
 7647 000005DE                    941     MODE_CTL_EXIT:                          ;
 7648                             942     
 7649                             943     
 7650                             944              .AIF   1 EQ 1  ;
 7651                             945 C   ;       -------- 2016-10-31 ADD 二重回路対策
 7652                             946              .AENDI
 7653                             947     
 7654                             948             FAR_JSR #_DEBUG_CMPERR_STSMAK,R0        ;2016-08-09
 7655 000005DE D018                   M           MOV.L   #_DEBUG_CMPERR_STSMAK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7656 000005E0 400B                   M           JSR     @R0                     ;
 7657 000005E2 0009                   M           NOP                                     ;
 7658                             949     
 7659                             950     
 7660                             951             SUB_END
 7661                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7662 000005E4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7663                             952             M_RTS
 7664 000005E6 000B                   M           RTS                             ;RTSの後ろの
 7665 000005E8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7666                             953     
 7667                             954     ;       *******************************************
 7668                             955     ;       ***             2016-08-09 調査用       ***
 7669                             956     ;       *******************************************
 7670                             957             .IMPORT _CPUB_DBG_MONI_STP      ;2016-08-12
 7671                                     ***** BEGIN-POOL *****
 7672 000005EA 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    30
PROGRAM NAME =

 7673 000005EC 00000000                   DATA FOR SOURCE-LINE 852
 7674 000005F0 00000000                   DATA FOR SOURCE-LINE 858
 7675 000005F4 00000000                   DATA FOR SOURCE-LINE 861
 7676 000005F8 00000000                   DATA FOR SOURCE-LINE 862
 7677 000005FC 00000000                   DATA FOR SOURCE-LINE 865
 7678 00000600 00000000                   DATA FOR SOURCE-LINE 870
 7679 00000604 00000000                   DATA FOR SOURCE-LINE 872
 7680 00000608 00000000                   DATA FOR SOURCE-LINE 878
 7681 0000060C 00000000                   DATA FOR SOURCE-LINE 883
 7682 00000610 00000000                   DATA FOR SOURCE-LINE 889
 7683 00000614 00000000                   DATA FOR SOURCE-LINE 894
 7684 00000618 00000000                   DATA FOR SOURCE-LINE 896
 7685 0000061C 00000000                   DATA FOR SOURCE-LINE 904
 7686 00000620 00000000                   DATA FOR SOURCE-LINE 912
 7687 00000624 00000000                   DATA FOR SOURCE-LINE 917
 7688 00000628 00000000                   DATA FOR SOURCE-LINE 920
 7689 0000062C 00000000                   DATA FOR SOURCE-LINE 925
 7690 00000630 00000000                   DATA FOR SOURCE-LINE 926
 7691 00000634 00000000                   DATA FOR SOURCE-LINE 931
 7692 00000638 00000000                   DATA FOR SOURCE-LINE 936
 7693 0000063C 00000000                   DATA FOR SOURCE-LINE 939
 7694 00000640 00000000                   DATA FOR SOURCE-LINE 948
 7695                                     ***** END-POOL *****
 7696 00000644                    958     _DEBUG_CMPERR_STSMAK                    ;2016-08-09
 7697                             959             SUB_START
 7698 00000644 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7699                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7700 00000646 200A               960             XOR     R0,R0
 7701 00000648 D112               961             MOV.L   #_STOP_LATCH_B,R1               ;
 7702 0000064A 6211               962             MOV.W   @R1,R2                          ;
 7703 0000064C 2228               963             TST     R2,R2                           ;
 7704                             964             TST_BIT_OF DEBUG_CMPERR_STSMK10         ;
 7705 0000064E 8900                   M           BT      DEBUG_CMPERR_STSMK10
 7706 00000650 CB01               965             OR      #BIT0,R0                        ;257.0/327.0
 7707 00000652                    966     DEBUG_CMPERR_STSMK10
 7708                             967     
 7709 00000652 D111               968             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
 7710 00000654 6211               969             MOV.W   @R1,R2
 7711 00000656 2228               970             TST     R2,R2                           ;
 7712                             971             TST_BIT_OF DEBUG_CMPERR_STSMK20         ;
 7713 00000658 8900                   M           BT      DEBUG_CMPERR_STSMK20
 7714 0000065A CB02               972             OR      #BIT1,R0                        ;257.1/327.1HANDはcpuaから見てだけをﾓﾆﾀ
 7715 0000065C                    973     DEBUG_CMPERR_STSMK20
 7716                             974     
 7717                             975     
 7718                             976             .AIF    0 EQ    0
 7719 0000065C D10F               977 C           MOV.L   #_SH4_HD_CNT_STOP,R1            ;
 7720                             978             .AELSE
 7721                             979             MOV.L   #_SH2_HD_CNT_STOP,R1            ;
 7722                             980             .AENDI
 7723 0000065E 6211               981             MOV.W   @R1,R2
 7724 00000660 2228               982             TST     R2,R2                           ;
 7725                             983             TST_BIT_OF DEBUG_CMPERR_STSMK40         ;
 7726 00000662 8900                   M           BT      DEBUG_CMPERR_STSMK40
 7727 00000664 CB04               984             OR      #BIT2,R0                        ;257.2HANDはcpuaから見てだけをﾓﾆﾀcpua-data
 7728 00000666                    985     DEBUG_CMPERR_STSMK40
 7729                             986     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    31
PROGRAM NAME =

 7730                             987             .AIF    0 EQ    0
 7731 00000666 D10E               988 C           MOV.L   #_SH2_HD_CNT_STOP,R1            ;
 7732                             989             .AELSE
 7733                             990             MOV.L   #_SH4_HD_CNT_STOP,R1            ;
 7734                             991             .AENDI
 7735 00000668 6211               992             MOV.W   @R1,R2
 7736 0000066A 2228               993             TST     R2,R2                           ;
 7737                             994             TST_BIT_OF DEBUG_CMPERR_STSMK60         ;
 7738 0000066C 8900                   M           BT      DEBUG_CMPERR_STSMK60
 7739 0000066E CB08               995             OR      #BIT3,R0                        ;257.3HANDはcpuaから見てだけをﾓﾆﾀcpub-data
 7740 00000670                    996     DEBUG_CMPERR_STSMK60
 7741                             997     
 7742                             998     
 7743                             999             .AIF    0 EQ    0
 7744 00000670 D10C              1000 C           MOV.L   #_SH4_HD_STEP_END,R1            ;(ﾊﾝﾄﾞｼｪｲｸ終了で自分でｸﾘｱ短い信号)
 7745                            1001             .AELSE
 7746                            1002             MOV.L   #_SH2_HD_STEP_END,R1            ;
 7747                            1003             .AENDI
 7748 00000672 6211              1004             MOV.W   @R1,R2
 7749 00000674 2228              1005             TST     R2,R2                           ;
 7750                            1006             TST_BIT_OF DEBUG_CMPERR_STSMK80         ;
 7751 00000676 8900                   M           BT      DEBUG_CMPERR_STSMK80
 7752 00000678 CB10              1007             OR      #BIT4,R0                        ;257.4HANDはcpuaから見てだけをﾓﾆﾀcpua-data
 7753 0000067A                   1008     DEBUG_CMPERR_STSMK80
 7754                            1009     
 7755                            1010     
 7756                            1011             .AIF    0 EQ    0
 7757 0000067A D10B              1012 C           MOV.L   #_SH2_HD_STEP_END,R1            ;(ﾊﾝﾄﾞｼｪｲｸ終了で自分でｸﾘｱ短い信号)
 7758                            1013             .AELSE
 7759                            1014             MOV.L   #_SH4_HD_STEP_END,R1            ;
 7760                            1015             .AENDI
 7761 0000067C 6211              1016             MOV.W   @R1,R2
 7762 0000067E 2228              1017             TST     R2,R2                           ;
 7763                            1018             TST_BIT_OF DEBUG_CMPERR_STSMK100        ;
 7764 00000680 8900                   M           BT      DEBUG_CMPERR_STSMK100
 7765 00000682 CB20              1019             OR      #BIT5,R0                        ;257.5HANDはcpuaから見てだけをﾓﾆﾀcpub-data
 7766 00000684                   1020     DEBUG_CMPERR_STSMK100
 7767                            1021     
 7768                            1022     
 7769                            1023     
 7770                            1024     
 7771 00000684 D109              1025             MOV.L   #_CMPSTEP_STEP_END,R1   ;
 7772 00000686 6211              1026             MOV.W   @R1,R2
 7773 00000688 2228              1027             TST     R2,R2                           ;
 7774                            1028             TST_BIT_OF DEBUG_CMPERR_STSMK150        ;
 7775 0000068A 8900                   M           BT      DEBUG_CMPERR_STSMK150
 7776 0000068C CB40              1029             OR      #BIT6,R0                        ;257.6/327.6 END
 7777 0000068E                   1030     DEBUG_CMPERR_STSMK150
 7778                            1031     
 7779                            1032     
 7780                            1033     ;;;;;;;;;;;;2020-05-07  MOV.L   #_SQ_CBWK_TOP+_WKSQCB257,R1             ;257.0,1,2,3(END),
                                          4
 7781                            1034     ;;;;;;;;;;;;2020-05-07  MOV.W   R0,@R1
 7782                            1035     
 7783                            1036             .AIF    0 EQ    0
 7784                            1037 C   
 7785                            1038             .AELSE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    32
PROGRAM NAME =

 7786                            1039     
 7787                            1040             MOV.L   #_CNT_STOP_WAIT_TIM,R1
 7788                            1041             MOV.W   @R1,R0
 7789                            1042             MOV.L   #_CPUB_DBG_MONI_STP,R1  ;2016-08-12
 7790                            1043             MOV.W   R0,@R1                  ;
 7791                            1044     
 7792                            1045             MOV.L   #_CNT_STOP_DBG_CNT,R1   ;//2016-08-22 CHECK
 7793                            1046             MOV.W   @R1,R0
 7794                            1047             MOV.L   #_CPUB_DBG_MONI_CNT,R1  ;2016-08-22
 7795                            1048             MOV.W   R0,@R1                  ;
 7796                            1049     
 7797                            1050             .AENDI
 7798                            1051     
 7799                            1052             SUB_END
 7800                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7801 0000068E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7802                            1053             M_RTS
 7803 00000690 000B                   M           RTS                             ;RTSの後ろの
 7804 00000692 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7805                            1054     
 7806                            1055     ;       ***************************************************
 7807                            1056     ;       ***                                             ***
 7808                            1057     ;       ***     再起動防止OFF→ON条件,ON→OFF(ｾﾙﾌﾁｪｯｸ)  ***
 7809                            1058     ;       ***                                             ***
 7810                            1059     ;       ***************************************************
 7811                            1060     ;       Output ANTI-SIGNAL
 7812                            1061     ;       Output IN_RDY_FLG
 7813                                     ***** BEGIN-POOL *****
 7814 00000694 00000000                   DATA FOR SOURCE-LINE 961
 7815 00000698 00000000                   DATA FOR SOURCE-LINE 968
 7816 0000069C 00000000                   DATA FOR SOURCE-LINE 977
 7817 000006A0 00000000                   DATA FOR SOURCE-LINE 988
 7818 000006A4 00000000                   DATA FOR SOURCE-LINE 1000
 7819 000006A8 00000000                   DATA FOR SOURCE-LINE 1012
 7820 000006AC 00000000                   DATA FOR SOURCE-LINE 1025
 7821                                     ***** END-POOL *****
 7822 000006B0                   1062     _ANTI_CHEAK:
 7823                            1063             SUB_START
 7824 000006B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7825                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7826                            1064     
 7827 000006B2 D114              1065             MOV.L   #_dq1_cb_out1,R1        ;//+0:制御出力(203)
 7828 000006B4 6011              1066             MOV.W   @R1,R0                  ;
 7829 000006B6 C810              1067             TST     #_WOANT,R0              ;ANTI
 7830                            1068             TST_BIT_ON ANTI_CHK_0500        ;
 7831 000006B8 8B46                   M           BF      ANTI_CHK_0500
 7832                            1069     
 7833                            1070     ;       ===================================
 7834                            1071     ;       ===     ANTI - OFF 中           ===
 7835                            1072     ;       ===     ANTI - ON またはｾﾙﾌﾁｪｯｸ ===
 7836                            1073     ;       ===================================
 7837 000006BA D113              1074             MOV.L   #_MODE_SEL,R1                   ;
 7838 000006BC 6011              1075             MOV.W   @R1,R0                          ;
 7839 000006BE C801              1076             TST     #_W1OFF,R0                      ;切?
 7840                            1077             TST_BIT_ON ANTI_CHK_EXIT                ;ﾘｾｯﾄ不可
 7841 000006C0 8B4C                   M           BF      ANTI_CHK_EXIT
 7842                            1078     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    33
PROGRAM NAME =

 7843                            1079     ;;;全モードセルフチェックを行う
 7844                            1080     ;;;2006-05-09   MOV.W   #(_W1DUP+_W1DIC+_W1INC),R1      ;
 7845                            1081     ;;;2006-05-09   TST     R1,R0                           ;
 7846                            1082     ;;;2006-05-09   TST_BIT_ON ANTI_CHK_0100                ;寸動等
 7847                            1083     
 7848 000006C2 D112              1084             MOV.L   #_SELF_FLG,R1                   ;
 7849 000006C4 6011              1085             MOV.W   @R1,R0                          ;
 7850 000006C6 C880              1086             TST     #BIT7,R0                        ;ｾﾙﾌﾁｪｯｸ完了?
 7851                            1087             TST_BIT_OF ANTI_CHK_0150                ;(ｾﾙﾌﾁｪｯｸ未完了)
 7852 000006C8 892E                   M           BT      ANTI_CHK_0150
 7853                            1088     
 7854 000006CA                   1089     ANTI_CHK_0100:                                  ;
 7855                            1090             FAR_JSR #_TEPA_PLSCNT_CLR,R0            ;2006-07-28
 7856 000006CA D011                   M           MOV.L   #_TEPA_PLSCNT_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7857 000006CC 400B                   M           JSR     @R0                     ;
 7858 000006CE 0009                   M           NOP                                     ;
 7859                            1091             FAR_JSR #_ANTI_ON,R1                    ;ANTI-ON
 7860 000006D0 D110                   M           MOV.L   #_ANTI_ON,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7861 000006D2 410B                   M           JSR     @R1                     ;
 7862 000006D4 0009                   M           NOP                                     ;
 7863                            1092             MEM1_DATA_SET MEM=_IN_RDY_FLG,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2        ;内部準備
                                          完了
 7864 000006D6 D110                   M           MOV.L   #_IN_RDY_FLG,R1         ;
 7865 000006D8 9212                   M           MOV.W   #BIT0,R2                ;
 7866 000006DA 2121                   M           MOV.W   R2,@R1  ;
 7867                            1093     
 7868                            1094     ;       ------ 2006-04-10 ------
 7869                            1095             MEM1_DATA_SET MEM=_SELF_COM,LG=W,DATA=0,WKREG1=R1,WKREG2=R2     ;
 7870 000006DC D10F                   M           MOV.L   #_SELF_COM,R1           ;
 7871 000006DE 9210                   M           MOV.W   #0,R2           ;
 7872 000006E0 2121                   M           MOV.W   R2,@R1  ;
 7873                            1096             MEM1_DATA_SET MEM=_SELF_FLG,LG=W,DATA=0,WKREG1=R1,WKREG2=R2     ;
 7874 000006E2 D10A                   M           MOV.L   #_SELF_FLG,R1           ;
 7875 000006E4 920D                   M           MOV.W   #0,R2           ;
 7876 000006E6 2121                   M           MOV.W   R2,@R1  ;
 7877                            1097     
 7878                            1098     
 7879                            1099     ;       -----REQ-ON--------
 7880 000006E8 D10D              1100             MOV.L   #_EPCHK_FLG,R1          ;
 7881 000006EA 6011              1101             MOV.W   @R1,R0                  ;
 7882 000006EC C880              1102             TST     #BIT7,R0                ;
 7883                            1103             TST_BIT_ON ANTI_CHK_0130        ;正常完了している
 7884 000006EE 8B05                   M           BF      ANTI_CHK_0130
 7885                            1104             MEM1_DATA_SET MEM=_EPCHK_COM,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2 ;
 7886 000006F0 D10C                   M           MOV.L   #_EPCHK_COM,R1          ;
 7887 000006F2 9205                   M           MOV.W   #BIT0,R2                ;
 7888 000006F4 2121                   M           MOV.W   R2,@R1  ;
 7889                            1105             MEM1_DATA_SET MEM=_EPCHK_FLG,LG=W,DATA=0,WKREG1=R1,WKREG2=R2    ;
 7890 000006F6 D10A                   M           MOV.L   #_EPCHK_FLG,R1          ;
 7891 000006F8 9203                   M           MOV.W   #0,R2           ;
 7892 000006FA 2121                   M           MOV.W   R2,@R1  ;
 7893 000006FC                   1106     ANTI_CHK_0130:
 7894                            1107     
 7895                            1108     
 7896                            1109     
 7897                            1110             M_BRA   ANTI_CHK_EXIT                   ;
 7898 000006FC A02E                   M           BRA     ANTI_CHK_EXIT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    34
PROGRAM NAME =

 7899 000006FE 0009                   M           NOP
 7900                            1111     
 7901                                     ***** BEGIN-POOL *****
 7902 00000700 0001                       DATA FOR SOURCE-LINE 1092,1104
 7903 00000702 0000                       DATA FOR SOURCE-LINE 1095,1096,1105
 7904 00000704 00000000                   DATA FOR SOURCE-LINE 1065
 7905 00000708 00000000                   DATA FOR SOURCE-LINE 1074
 7906 0000070C 00000000                   DATA FOR SOURCE-LINE 1084,1096
 7907 00000710 00000000                   DATA FOR SOURCE-LINE 1090
 7908 00000714 00000000                   DATA FOR SOURCE-LINE 1091
 7909 00000718 00000000                   DATA FOR SOURCE-LINE 1092
 7910 0000071C 00000000                   DATA FOR SOURCE-LINE 1095
 7911 00000720 00000000                   DATA FOR SOURCE-LINE 1100,1105
 7912 00000724 00000000                   DATA FOR SOURCE-LINE 1104
 7913                                     ***** END-POOL *****
 7914 00000728                   1112     ANTI_CHK_0150:
 7915                            1113     
 7916                            1114             FAR_JSR #_SELF_START_CONF,R1            ;ANS R0=00(ｾﾙﾌﾁｪｯｸ開始可能)
 7917 00000728 D105                   M           MOV.L   #_SELF_START_CONF,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7918 0000072A 410B                   M           JSR     @R1                     ;
 7919 0000072C 0009                   M           NOP                                     ;
 7920 0000072E 2008              1115             TST     R0,R0                           ;
 7921                            1116             TST_BIT_ON ANTI_CHK_EXIT                ;
 7922 00000730 8B14                   M           BF      ANTI_CHK_EXIT
 7923                            1117     
 7924                            1118             MEM1_DATA_SET MEM=_SELF_COM,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2  ;ｾﾙﾌ開始ｺﾏﾝﾄﾞ
 7925 00000732 D104                   M           MOV.L   #_SELF_COM,R1           ;
 7926 00000734 9202                   M           MOV.W   #BIT0,R2                ;
 7927 00000736 2121                   M           MOV.W   R2,@R1  ;
 7928                            1119             M_BRA   ANTI_CHK_EXIT                   ;
 7929 00000738 A010                   M           BRA     ANTI_CHK_EXIT
 7930 0000073A 0009                   M           NOP
 7931                            1120     
 7932                            1121     
 7933                            1122     ;       ===================================
 7934                            1123     ;       ===     ANTI - ON 中            ===
 7935                            1124     ;       ===================================
 7936                                     ***** BEGIN-POOL *****
 7937 0000073C 0001                       DATA FOR SOURCE-LINE 1118
 7938 0000073E 0000                       ALIGNMENT CODE
 7939 00000740 00000000                   DATA FOR SOURCE-LINE 1114
 7940 00000744 00000000                   DATA FOR SOURCE-LINE 1118
 7941                                     ***** END-POOL *****
 7942 00000748                   1125     ANTI_CHK_0500:
 7943 00000748 D106              1126             MOV.L   #_IN_RDY_FLG,R1                 ;(待機点停止時に発生する:今回これは発生さ
                                          せない)
 7944 0000074A 6011              1127             MOV.W   @R1,R0                          ;
 7945 0000074C C801              1128             TST     #BIT0,R0                        ;
 7946                            1129             TST_BIT_ON ANTI_CHK_EXIT                ;
 7947 0000074E 8B05                   M           BF      ANTI_CHK_EXIT
 7948                            1130     
 7949                            1131             FAR_JSR #_ANTI_OF,R1                    ;ｾﾙﾌﾁｪｯｸ未完SET
 7950 00000750 D105                   M           MOV.L   #_ANTI_OF,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7951 00000752 410B                   M           JSR     @R1                     ;
 7952 00000754 0009                   M           NOP                                     ;
 7953 00000756 200A              1132             XOR     R0,R0
 7954 00000758 D104              1133             MOV.L   #_SELF_FLG,R1                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    35
PROGRAM NAME =

 7955 0000075A 2101              1134             MOV.W   R0,@R1                          ;
 7956                            1135     
 7957 0000075C                   1136     ANTI_CHK_EXIT:
 7958                            1137     
 7959                            1138             SUB_END
 7960                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7961 0000075C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7962                            1139             M_RTS
 7963 0000075E 000B                   M           RTS                             ;RTSの後ろの
 7964 00000760 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7965                            1140     
 7966                            1141     
 7967                            1142     ;       ***************************************************
 7968                            1143     ;       ***                                             ***
 7969                            1144     ;       ***     準備完了・起動                          ***
 7970                            1145     ;       ***                                             ***
 7971                            1146     ;       ***************************************************
 7972                            1147     ;       U2b     DRV_ACT_FLG;    //運転動作ﾌﾗｸﾞ BIT0:運転中
 7973                            1148     ;       U2b     BTTN_FLG;       //BIT0:両手ﾌﾘ- BIT1:片手ON　BIT2:両手ON
 7974                            1149             .IMPORT _SH4_HD_HLDSTOP2        ;
 7975                            1150             .IMPORT _SH2_HD_HLDSTOP2        ;
 7976                            1151     
 7977                                     ***** BEGIN-POOL *****
 7978 00000762 0000                       ALIGNMENT CODE
 7979 00000764 00000000                   DATA FOR SOURCE-LINE 1126
 7980 00000768 00000000                   DATA FOR SOURCE-LINE 1131
 7981 0000076C 00000000                   DATA FOR SOURCE-LINE 1133
 7982                                     ***** END-POOL *****
 7983 00000770                   1152     _RDY_CHEAK:
 7984                            1153             SUB_START
 7985 00000770 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7986                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7987                            1154     
 7988                            1155     ;       -------------------------------------------
 7989                            1156     ;       ---                                     ---
 7990                            1157     ;       -------------------------------------------
 7991                            1158             FAR_JSR #_POSHLD1_SIG_CHK,R0            ;
 7992 00000772 D008                   M           MOV.L   #_POSHLD1_SIG_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7993 00000774 400B                   M           JSR     @R0                     ;
 7994 00000776 0009                   M           NOP                                     ;
 7995                            1159     
 7996                            1160                                             ;"HOLD-CMDは必ず動作中で行うこと"
 7997 00000778 D107              1161             MOV.L   #_POS_HOLD_FLG,R1       ;BIT0=1:減速状態[既に停止ｺﾏﾝﾄﾞは個別ｿﾌﾄで発行して
                                          いる]
 7998 0000077A 6011              1162             MOV.W   @R1,R0                  ;BIT1=1:位置決め完了状態
 7999 0000077C 2008              1163             TST     R0,R0                   ;
 8000                            1164             TST_BIT_ON RDY_HOLDCHK_0100
 8001 0000077E 8B0F                   M           BF      RDY_HOLDCHK_0100
 8002                            1165     
 8003 00000780 D106              1166             MOV.L   #_POS_HOLD_CMD,R1                                               ;BIT0~BIT6
                                          の7個まで受け付ける
 8004 00000782 6011              1167             MOV.W   @R1,R0                                                          ;
 8005 00000784 2008              1168             TST     R0,R0                                                           ;
 8006                            1169             TST_BIT_OF RDY_HOLDCHK_END                                              ;
 8007 00000786 8965                   M           BT      RDY_HOLDCHK_END
 8008                            1170     
 8009                            1171             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_FLG,LG=W,BIT=BIT0,WKREG=R1        ;bit-set
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    36
PROGRAM NAME =

 8010 00000788 D103                   M           MOV.L   #_POS_HOLD_FLG,R1               ;
 8011 0000078A 6011                   M           MOV.W   @R1,R0          ;
 8012 0000078C CB01                   M           OR      #BIT0,R0                ;
 8013 0000078E 2101                   M           MOV.W   R0,@R1          ;
 8014                            1172             M_BRA   RDY_HOLDCHK_1000
 8015 00000790 A054                   M           BRA     RDY_HOLDCHK_1000
 8016 00000792 0009                   M           NOP
 8017                            1173     
 8018                                     ***** BEGIN-POOL *****
 8019 00000794 00000000                   DATA FOR SOURCE-LINE 1158
 8020 00000798 00000000                   DATA FOR SOURCE-LINE 1161,1171
 8021 0000079C 00000000                   DATA FOR SOURCE-LINE 1166
 8022                                     ***** END-POOL *****
 8023 000007A0                   1174     RDY_HOLDCHK_0100
 8024 000007A0 C802              1175             TST     #BIT1,R0                                                        ;位置決め
                                          完了状態?
 8025                            1176             TST_BIT_ON RDY_HOLDCHK_0200                                             ;
 8026 000007A2 8B19                   M           BF      RDY_HOLDCHK_0200
 8027                            1177     
 8028                            1178             FAR_JSR #_POSHLD1_STOPBTTNCMD_CHK,R0
 8029 000007A4 D008                   M           MOV.L   #_POSHLD1_STOPBTTNCMD_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8030 000007A6 400B                   M           JSR     @R0                     ;
 8031 000007A8 0009                   M           NOP                                     ;
 8032                            1179     
 8033 000007AA D108              1180             MOV.L   #_DRV_ACT_FLG,R1                                                ;//運転動
                                          作ﾌﾗｸﾞ BIT0:運転中
 8034 000007AC 6011              1181             MOV.W   @R1,R0                                                          ;
 8035 000007AE C801              1182             TST     #BIT0,R0                                                        ;運転中?
 8036                            1183             TST_BIT_ON RDY_HOLDCHK_1000                                             ;YES 状態
                                          維持
 8037 000007B0 8B44                   M           BF      RDY_HOLDCHK_1000
 8038                            1184     
 8039                            1185             FAR_JSR #_HOLD_STOP_BA_JG,R0                                            ;
 8040 000007B2 D007                   M           MOV.L   #_HOLD_STOP_BA_JG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8041 000007B4 400B                   M           JSR     @R0                     ;
 8042 000007B6 0009                   M           NOP                                     ;
 8043 000007B8 2008              1186             TST     R0,R0                                                           ;
 8044                            1187             TST_BIT_OF RDY_HOLDCHK_1999                                             ;相手停止?
                                          NO
 8045 000007BA 8949                   M           BT      RDY_HOLDCHK_1999
 8046                            1188     
 8047                            1189             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_FLG,LG=W,BIT=BIT1,WKREG=R1        ;bit-set
 8048 000007BC D105                   M           MOV.L   #_POS_HOLD_FLG,R1               ;
 8049 000007BE 6011                   M           MOV.W   @R1,R0          ;
 8050 000007C0 CB02                   M           OR      #BIT1,R0                ;
 8051 000007C2 2101                   M           MOV.W   R0,@R1          ;
 8052                            1190             M_BRA   RDY_HOLDCHK_1999
 8053 000007C4 A044                   M           BRA     RDY_HOLDCHK_1999
 8054 000007C6 0009                   M           NOP
 8055                            1191     
 8056                            1192     
 8057                            1193     ;       ---------------- 再スタート---------------------
 8058                                     ***** BEGIN-POOL *****
 8059 000007C8 00000000                   DATA FOR SOURCE-LINE 1178
 8060 000007CC 00000000                   DATA FOR SOURCE-LINE 1180
 8061 000007D0 00000000                   DATA FOR SOURCE-LINE 1185
 8062 000007D4 00000000                   DATA FOR SOURCE-LINE 1189
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    37
PROGRAM NAME =

 8063                                     ***** END-POOL *****
 8064 000007D8                   1194     RDY_HOLDCHK_0200:
 8065                            1195             FAR_JSR #_POSHLD1_STOPBTTNCMD_CHK,R0
 8066 000007D8 D010                   M           MOV.L   #_POSHLD1_STOPBTTNCMD_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8067 000007DA 400B                   M           JSR     @R0                     ;
 8068 000007DC 0009                   M           NOP                                     ;
 8069                            1196     
 8070                            1197             FAR_JSR #_POS_HOLD_RESTART_CHK,R0       ;ｺﾏﾝﾄﾞ発行
 8071 000007DE D010                   M           MOV.L   #_POS_HOLD_RESTART_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8072 000007E0 400B                   M           JSR     @R0                     ;
 8073 000007E2 0009                   M           NOP                                     ;
 8074                            1198     
 8075 000007E4 D10F              1199             MOV.L   #_POS_HOLD_RESTARTCMD,R1        ;
 8076 000007E6 6011              1200             MOV.W   @R1,R0                          ;
 8077 000007E8 2008              1201             TST     R0,R0                           ;
 8078                            1202             TST_BIT_OF RDY_HOLDCHK_1999             ;
 8079 000007EA 8931                   M           BT      RDY_HOLDCHK_1999
 8080 000007EC 6007              1203             NOT     R0,R0                           ;
 8081 000007EE D10E              1204             MOV.L   #_POS_HOLD_CMD,R1               ;BIT0~BIT6の7個まで受け付ける
 8082 000007F0 6211              1205             MOV.W   @R1,R2                          ;
 8083 000007F2 2209              1206             AND     R0,R2                           ;
 8084 000007F4 2121              1207             MOV.W   R2,@R1                          ;
 8085 000007F6 2228              1208             TST     R2,R2                           ;
 8086                            1209             TST_BIT_ON RDY_HOLDCHK_1999             ;
 8087 000007F8 8B2A                   M           BF      RDY_HOLDCHK_1999
 8088                            1210     
 8089                            1211     ;       -------- 全てのHOLD条件無し -----------
 8090                            1212             FAR_JSR #_HOLD_RESTART_OF_OUT,R0        ;
 8091 000007FA D00C                   M           MOV.L   #_HOLD_RESTART_OF_OUT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8092 000007FC 400B                   M           JSR     @R0                     ;
 8093 000007FE 0009                   M           NOP                                     ;
 8094                            1213             FAR_JSR #_HOLD_RESTART_BA_JG,R0         ;
 8095 00000800 D00B                   M           MOV.L   #_HOLD_RESTART_BA_JG,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8096 00000802 400B                   M           JSR     @R0                     ;
 8097 00000804 0009                   M           NOP                                     ;
 8098 00000806 2008              1214             TST     R0,R0                           ;
 8099                            1215             TST_BIT_ON RDY_HOLDCHK_1999             ;
 8100 00000808 8B22                   M           BF      RDY_HOLDCHK_1999
 8101                            1216             FAR_JSR #_POS_HOLD_FLG_CLR,R0           ;
 8102 0000080A D00A                   M           MOV.L   #_POS_HOLD_FLG_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8103 0000080C 400B                   M           JSR     @R0                     ;
 8104 0000080E 0009                   M           NOP                                     ;
 8105                            1217     
 8106 00000810 E001              1218             MOV.B   #BIT0,R0                        ;
 8107 00000812 D109              1219             MOV.L   #_POS_HOLD_RDY_EXITF,R1         ;
 8108 00000814 2101              1220             MOV.W   R0,@R1                          ;
 8109                            1221             M_BRA   RDY_CHK_0220                    ;再起動
 8110 00000816 A13D                   M           BRA     RDY_CHK_0220
 8111 00000818 0009                   M           NOP
 8112                            1222     
 8113                                     ***** BEGIN-POOL *****
 8114 0000081A 0000                       ALIGNMENT CODE
 8115 0000081C 00000000                   DATA FOR SOURCE-LINE 1195
 8116 00000820 00000000                   DATA FOR SOURCE-LINE 1197
 8117 00000824 00000000                   DATA FOR SOURCE-LINE 1199
 8118 00000828 00000000                   DATA FOR SOURCE-LINE 1204
 8119 0000082C 00000000                   DATA FOR SOURCE-LINE 1212
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    38
PROGRAM NAME =

 8120 00000830 00000000                   DATA FOR SOURCE-LINE 1213
 8121 00000834 00000000                   DATA FOR SOURCE-LINE 1216
 8122 00000838 00000000                   DATA FOR SOURCE-LINE 1219
 8123                                     ***** END-POOL *****
 8124 0000083C                   1223     RDY_HOLDCHK_1000
 8125 0000083C D102              1224             MOV.L   #_END_CMD_LATCH,R1              ;
 8126 0000083E 6011              1225             MOV.W   @R1,R0                          ;
 8127 00000840 2008              1226             TST     R0,R0                           ;
 8128                            1227             TST_BIT_ON RDY_HOLDCHK_1200             ;
 8129 00000842 8B03                   M           BF      RDY_HOLDCHK_1200
 8130                            1228             M_BRA   RDY_CHK_1000                    ;
 8131 00000844 A25D                   M           BRA     RDY_CHK_1000
 8132 00000846 0009                   M           NOP
 8133                                     ***** BEGIN-POOL *****
 8134 00000848 00000000                   DATA FOR SOURCE-LINE 1224
 8135                                     ***** END-POOL *****
 8136 0000084C                   1229     RDY_HOLDCHK_1200
 8137                            1230             M_BRA   RDY_CHK_1200                    ;
 8138 0000084C A272                   M           BRA     RDY_CHK_1200
 8139 0000084E 0009                   M           NOP
 8140                            1231     
 8141 00000850                   1232     RDY_HOLDCHK_1999
 8142                            1233             M_BRA   RDY_CHK_EXIT
 8143 00000850 A2A6                   M           BRA     RDY_CHK_EXIT
 8144 00000852 0009                   M           NOP
 8145                            1234     
 8146 00000854                   1235     RDY_HOLDCHK_END
 8147                            1236     
 8148                            1237     
 8149                            1238     
 8150                            1239     ;       --------運転／非運転-------------
 8151                            1240     
 8152                            1241     ;;;;;;;;;;;;;;  ==== 2003-07-09(非運転状態ではｻｲｸﾙ速度表示ON) ====
 8153                            1242             FAR_JSR #_CNT_CYCL_DISP_ST,R0   ;表示する(表示したくないならこのｽｷｬﾝ内に表示しない
                                          をONする)
 8154 00000854 D007                   M           MOV.L   #_CNT_CYCL_DISP_ST,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8155 00000856 400B                   M           JSR     @R0                     ;
 8156 00000858 0009                   M           NOP                                     ;
 8157                            1243     
 8158                            1244     ;       ------------2019-08-20--------------
 8159                            1245             FAR_JSR #_CNT_SPM_DISP_CHK,R0   ;
 8160 0000085A D007                   M           MOV.L   #_CNT_SPM_DISP_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8161 0000085C 400B                   M           JSR     @R0                     ;
 8162 0000085E 0009                   M           NOP                                     ;
 8163                            1246     
 8164                            1247     
 8165                            1248     ;       ================================
 8166 00000860 D106              1249             MOV.L   #_DRV_ACT_FLG,R1        ;//運転動作ﾌﾗｸﾞ BIT0:運転中
 8167 00000862 6011              1250             MOV.W   @R1,R0                  ;
 8168 00000864 C801              1251             TST     #BIT0,R0                ;運転中?
 8169                            1252             TST_BIT_OF RDY_CHK_0050         ;
 8170 00000866 890F                   M           BT      RDY_CHK_0050
 8171                            1253     ;       ===============================
 8172 00000868 D105              1254             MOV.L   #_CMPSTEP_POS_START,R1  ;//起動したい
 8173 0000086A 6011              1255             MOV.W   @R1,R0                  ;
 8174 0000086C 2008              1256             TST     R0,R0                   ;
 8175                            1257             TST_BIT_ON RDY_CHK_0030         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    39
PROGRAM NAME =

 8176 0000086E 8B09                   M           BF      RDY_CHK_0030
 8177                            1258             M_BRA   RDY_CHK_1200            ;(終了待ち)
 8178 00000870 A260                   M           BRA     RDY_CHK_1200
 8179 00000872 0009                   M           NOP
 8180                            1259     
 8181                                     ***** BEGIN-POOL *****
 8182 00000874 00000000                   DATA FOR SOURCE-LINE 1242
 8183 00000878 00000000                   DATA FOR SOURCE-LINE 1245
 8184 0000087C 00000000                   DATA FOR SOURCE-LINE 1249
 8185 00000880 00000000                   DATA FOR SOURCE-LINE 1254
 8186                                     ***** END-POOL *****
 8187 00000884                   1260     RDY_CHK_0030:
 8188                            1261             M_BRA   RDY_CHK_0500            ;通常の位置決め状態
 8189 00000884 A1B2                   M           BRA     RDY_CHK_0500
 8190 00000886 0009                   M           NOP
 8191                            1262     
 8192 00000888                   1263     RDY_CHK_0050:
 8193                            1264     ;       ----------------------------------------------
 8194                            1265             _MONI_RDY_SET SETNO=1,SETREG=R0,WKREG=R1        ;2014-09-13
 8195 00000888 9007                   M           MOV.W   #1,R0
 8196 0000088A D104                   M           MOV.L   #_MONI_RDY_STEP,R1
 8197 0000088C 2101                   M           MOV.W   R0,@R1
 8198                            1266     ;       ----------------------------------------------
 8199                            1267     
 8200 0000088E D104              1268             MOV.L   #_CMPSTEP_POS_START,R1  ;//起動したい
 8201 00000890 6011              1269             MOV.W   @R1,R0                  ;
 8202 00000892 2008              1270             TST     R0,R0                   ;
 8203                            1271             TST_BIT_OF RDY_CHK_0060         ;
 8204 00000894 8906                   M           BT      RDY_CHK_0060
 8205                            1272             M_BRA   RDY_CHK_0200_START_WAIT ;
 8206 00000896 A115                   M           BRA     RDY_CHK_0200_START_WAIT
 8207 00000898 0009                   M           NOP
 8208                            1273     
 8209                                     ***** BEGIN-POOL *****
 8210 0000089A 0001                       DATA FOR SOURCE-LINE 1265
 8211 0000089C 00000000                   DATA FOR SOURCE-LINE 1265
 8212 000008A0 00000000                   DATA FOR SOURCE-LINE 1268
 8213                                     ***** END-POOL *****
 8214 000008A4                   1274     RDY_CHK_0060:
 8215                            1275     ;       ----------------------------------------------
 8216                            1276             _MONI_RDY_SET SETNO=2,SETREG=R0,WKREG=R1        ;2014-09-13
 8217 000008A4 900A                   M           MOV.W   #2,R0
 8218 000008A6 D106                   M           MOV.L   #_MONI_RDY_STEP,R1
 8219 000008A8 2101                   M           MOV.W   R0,@R1
 8220                            1277     ;       ----------------------------------------------
 8221                            1278     
 8222                            1279     ;       ------- 2007-01-16--
 8223                            1280     
 8224                            1281     
 8225                            1282     ;       ------- 2006-07-28---
 8226                            1283             FAR_JSR #_ORGIN_MODE_START_WAIT,R0      ;
 8227 000008AA D006                   M           MOV.L   #_ORGIN_MODE_START_WAIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8228 000008AC 400B                   M           JSR     @R0                     ;
 8229 000008AE 0009                   M           NOP                                     ;
 8230 000008B0 2008              1284             TST     R0,R0
 8231                            1285             TST_BIT_OF RDY_CHK_0070
 8232 000008B2 890B                   M           BT      RDY_CHK_0070
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    40
PROGRAM NAME =

 8233 000008B4 8855              1286             CMP/EQ  #H'55,R0                        ;
 8234 000008B6 8B07              1287             BF      ORGIN_MODE_START_WT10           ;
 8235                            1288             M_BRA   RDY_CHK_0220                    ;55:起動
 8236 000008B8 A0EC                   M           BRA     RDY_CHK_0220
 8237 000008BA 0009                   M           NOP
 8238                                     ***** BEGIN-POOL *****
 8239 000008BC 0002                       DATA FOR SOURCE-LINE 1276
 8240 000008BE 0000                       ALIGNMENT CODE
 8241 000008C0 00000000                   DATA FOR SOURCE-LINE 1276
 8242 000008C4 00000000                   DATA FOR SOURCE-LINE 1283
 8243                                     ***** END-POOL *****
 8244 000008C8                   1289     ORGIN_MODE_START_WT10
 8245                            1290             M_BRA   RDY_CHK_0399                    ;-1
 8246 000008C8 A186                   M           BRA     RDY_CHK_0399
 8247 000008CA 0009                   M           NOP
 8248                            1291     
 8249 000008CC                   1292     RDY_CHK_0070:
 8250                            1293     
 8251                            1294     ;       ----------------------------------------------
 8252                            1295             _MONI_RDY_SET SETNO=3,SETREG=R0,WKREG=R1        ;2014-09-13
 8253 000008CC 901B                   M           MOV.W   #3,R0
 8254 000008CE D10E                   M           MOV.L   #_MONI_RDY_STEP,R1
 8255 000008D0 2101                   M           MOV.W   R0,@R1
 8256                            1296     ;       ----------------------------------------------
 8257                            1297     
 8258                            1298     ;       ------- 2008-04-28(ORGIN MODE) ------------
 8259                            1299             FAR_JSR #_ORGIN_180CHK,R0
 8260 000008D2 D00E                   M           MOV.L   #_ORGIN_180CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8261 000008D4 400B                   M           JSR     @R0                     ;
 8262 000008D6 0009                   M           NOP                                     ;
 8263                            1300     
 8264                            1301     
 8265                            1302     
 8266                            1303     
 8267                            1304     ;       ======= 非運転状態では位置決め完了待ちｸﾘｱ 2003-06-13 ====
 8268                            1305             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
 8269 000008D8 D10D                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
 8270 000008DA 6011                   M           MOV.W   @R1,R0          ;
 8271 000008DC C9FE                   M           AND     #LOW ~BIT0,R0           ;
 8272 000008DE 2101                   M           MOV.W   R0,@R1          ;
 8273                            1306     
 8274                            1307     ;       ------- 2006-07-28 ----------------
 8275                            1308             FAR_JSR #_TEP_FLG_CLR,R0
 8276 000008E0 D00C                   M           MOV.L   #_TEP_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8277 000008E2 400B                   M           JSR     @R0                     ;
 8278 000008E4 0009                   M           NOP                                     ;
 8279                            1309     
 8280                            1310     ;       ===========================================
 8281                            1311     ;       ===     安全装置ﾏｽｸ                     ===
 8282                            1312     ;       ===========================================
 8283                            1313     ;;;;2012-09-25  FAR_JSR #_SFTY_MASK_START,R0    ;
 8284                            1314     
 8285                            1315     ;       ===========================================================
 8286                            1316     ;       ===== ﾐｭｰﾃﾝｸﾞ機能選択のSWの反映を停止の待機点で行う     ===
 8287                            1317     ;       ===========================================================
 8288                            1318     ;       ======>2013-08-20 停止中であればSW切り替えを反映させる
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    41
PROGRAM NAME =

 8289                            1319     
 8290 000008E6 D10C              1320             MOV.L   #_UPMSK2_MOD,R1                         ;
 8291 000008E8 6011              1321             MOV.W   @R1,R0                                  ;
 8292 000008EA 2008              1322             TST     R0,R0                                   ;
 8293                            1323             TST_BIT_OF RDY_SFTY_MASK2CHK050                 ;SWを使用しない
 8294 000008EC 8902                   M           BT      RDY_SFTY_MASK2CHK050
 8295                            1324     
 8296                            1325     ;;;;;;;;;;;;2013-08-20; <ふりこの場合、待機点の切替が起動後になってしまう。>
 8297                            1326     ;;;;;;;;;;;;2013-08-20  MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
 8298                            1327     ;;;;;;;;;;;;2013-08-20  MOV.W   @R1,R0                                  ;
 8299                            1328     ;;;;;;;;;;;;2013-08-20  TST     #(_DMATH_DNDRIV),R0                     ;
 8300                            1329     ;;;;;;;;;;;;2013-08-20  TST_BIT_OF RDY_SFTY_MASK2CHK030                 ;
 8301                            1330     ;;;;;;;;;;;;2013-08-20
 8302                            1331     ;;;;;;;;;;;;2013-08-20  MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R1             ;
 8303                            1332     ;;;;;;;;;;;;2013-08-20  MOV.W   @R1,R0                                  ;
 8304                            1333     ;;;;;;;;;;;;2013-08-20  MOV.W   #BIT7,R4                                ;
 8305                            1334     ;;;;;;;;;;;;2013-08-20  TST     R4,R0                                   ;
 8306                            1335     ;;;;;;;;;;;;2013-08-20  TST_BIT_ON RDY_SFTY_MASK2CHK040                 ;
 8307                            1336     ;;;;;;;;;;;;2013-08-20
 8308                            1337     ;;;;;;;;;;;;2013-08-20RDY_SFTY_MASK2CHK030
 8309                            1338     ;;;;;;;;;;;;2013-08-20
 8310                            1339     ;;;;;;;;;;;;2013-08-20  MOV.L   #_M_LINK_AREASIG,R4                     ;//BIT0/BIT4:待機
                                          点範囲
 8311                            1340     ;;;;;;;;;;;;2013-08-20  MOV.W   @R4,R0                                  ;
 8312                            1341     ;;;;;;;;;;;;2013-08-20  TST     #BIT0,R0                                ;
 8313                            1342     ;;;;;;;;;;;;2013-08-20  TST_BIT_OF RDY_SFTY_MASK2CHK050                 ;待機点ではない
 8314                            1343     ;;;;;;;;;;;;2013-08-20
 8315                            1344     ;;;;;;;;;;;;2013-08-20RDY_SFTY_MASK2CHK040
 8316                            1345     
 8317                            1346             FAR_JSR #_MASK2_SAFTY_SW_MOV,R0                 ;
 8318 000008EE D00B                   M           MOV.L   #_MASK2_SAFTY_SW_MOV,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8319 000008F0 400B                   M           JSR     @R0                     ;
 8320 000008F2 0009                   M           NOP                                     ;
 8321                            1347     
 8322 000008F4                   1348     RDY_SFTY_MASK2CHK050:
 8323                            1349     
 8324                            1350     
 8325                            1351     ;       ===========================================================
 8326                            1352     ;       ===== ﾐｭｰﾃﾝｸﾞ機能選択 停止中[待機点と待機点以外]        ===
 8327                            1353     ;       ===========================================================
 8328                            1354     ;;;;;   FAR_JSR #_SFTY_MASK_START,R0            ;従来のソフトは停止時いつでもマスク
 8329                            1355     ;;;;2015-09-06  FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23 新ｿﾌﾄは
 8330                            1356     
 8331                            1357     
 8332                            1358     ;;;;_BRK_SADOU_CHG
 8333                            1359     ;       -------- 2015-09-06---------
 8334 000008F4 D10A              1360             MOV.L   #(_PAR_MYU_BRK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;NO.093
 8335 000008F6 6011              1361             MOV.W   @R1,R0                                                  ;
 8336 000008F8 8801              1362             CMP/EQ  #1,R0
 8337 000008FA 8915              1363             BT      RDY_SFTY_MASK2CHK055                                    ;停止制御有効
 8338                            1364     
 8339                            1365             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0                                ;
 8340 000008FC D009                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8341 000008FE 400B                   M           JSR     @R0                     ;
 8342 00000900 0009                   M           NOP                                     ;
 8343                            1366             M_BRA   RDY_SFTY_MASK2CHK100                                    ;
 8344 00000902 A022                   M           BRA     RDY_SFTY_MASK2CHK100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    42
PROGRAM NAME =

 8345 00000904 0009                   M           NOP
 8346                            1367     
 8347                                     ***** BEGIN-POOL *****
 8348 00000906 0003                       DATA FOR SOURCE-LINE 1295
 8349 00000908 00000000                   DATA FOR SOURCE-LINE 1295
 8350 0000090C 00000000                   DATA FOR SOURCE-LINE 1299
 8351 00000910 00000000                   DATA FOR SOURCE-LINE 1305
 8352 00000914 00000000                   DATA FOR SOURCE-LINE 1308
 8353 00000918 00000000                   DATA FOR SOURCE-LINE 1320
 8354 0000091C 00000000                   DATA FOR SOURCE-LINE 1346
 8355 00000920 00000000                   DATA FOR SOURCE-LINE 1360
 8356 00000924 00000000                   DATA FOR SOURCE-LINE 1365
 8357                                     ***** END-POOL *****
 8358 00000928                   1368     RDY_SFTY_MASK2CHK055:
 8359                            1369     
 8360 00000928 D104              1370             MOV.L   #_DRV_START_KEEP,R1
 8361 0000092A 6011              1371             MOV.W   @R1,R0                          ;
 8362 0000092C C801              1372             TST     #BIT0,R0                        ;
 8363                            1373             TST_BIT_ON RDY_SFTY_MASK2CHK060         ;
 8364 0000092E 8B09                   M           BF      RDY_SFTY_MASK2CHK060
 8365                            1374     
 8366                            1375             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23 新ｿﾌﾄは
 8367 00000930 D003                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8368 00000932 400B                   M           JSR     @R0                     ;
 8369 00000934 0009                   M           NOP                                     ;
 8370                            1376             M_BRA   RDY_SFTY_MASK2CHK100            ;
 8371 00000936 A008                   M           BRA     RDY_SFTY_MASK2CHK100
 8372 00000938 0009                   M           NOP
 8373                                     ***** BEGIN-POOL *****
 8374 0000093A 0000                       ALIGNMENT CODE
 8375 0000093C 00000000                   DATA FOR SOURCE-LINE 1370
 8376 00000940 00000000                   DATA FOR SOURCE-LINE 1375
 8377                                     ***** END-POOL *****
 8378 00000944                   1377     RDY_SFTY_MASK2CHK060:
 8379                            1378             FAR_JSR #_SFTY_MASK_END,R0              ;
 8380 00000944 D004                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8381 00000946 400B                   M           JSR     @R0                     ;
 8382 00000948 0009                   M           NOP                                     ;
 8383 0000094A                   1379     RDY_SFTY_MASK2CHK100:
 8384                            1380     
 8385                            1381     ;       ================================================================
 8386                            1382     
 8387 0000094A D104              1383             MOV.L   #_dq1_cb_out1,R1        ;//+0:制御出力(203)
 8388 0000094C 6011              1384             MOV.W   @R1,R0                  ;
 8389 0000094E C820              1385             TST     #_WORDY,R0              ;RDY
 8390                            1386             TST_BIT_OF RDY_CHK_0120         ;準備未完了
 8391 00000950 8906                   M           BT      RDY_CHK_0120
 8392                            1387             M_BRA   RDY_CHK_0200            ;(準備完了ON)
 8393 00000952 A067                   M           BRA     RDY_CHK_0200
 8394 00000954 0009                   M           NOP
 8395                            1388     
 8396                                     ***** BEGIN-POOL *****
 8397 00000956 0000                       ALIGNMENT CODE
 8398 00000958 00000000                   DATA FOR SOURCE-LINE 1378
 8399 0000095C 00000000                   DATA FOR SOURCE-LINE 1383
 8400                                     ***** END-POOL *****
 8401 00000960                   1389     RDY_CHK_0120:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    43
PROGRAM NAME =

 8402                            1390     ;       ----------------------------------------------
 8403                            1391             _MONI_RDY_SET SETNO=4,SETREG=R0,WKREG=R1        ;2014-09-13
 8404 00000960 9035                   M           MOV.W   #4,R0
 8405 00000962 D11F                   M           MOV.L   #_MONI_RDY_STEP,R1
 8406 00000964 2101                   M           MOV.W   R0,@R1
 8407                            1392     ;       ----------------------------------------------
 8408                            1393     
 8409                            1394     ;       ===================================
 8410                            1395     ;       ===                             ===
 8411                            1396     ;       ===     準備未完了              ===
 8412                            1397     ;       ===                             ===
 8413                            1398     ;       ===================================
 8414                            1399     ;       (本当は両手ﾌﾘ+連続停止OFF+,,,,,)
 8415                            1400     
 8416                            1401     ;;;;_BRK_SADOU_CHG EQ 0 廃止 2015-09-06
 8417                            1402     ;;;;    FAR_JSR #_RDY_OF_SFTY_LOCK,R0   ;2006-04-10
 8418                            1403     
 8419                            1404     
 8420                            1405     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
 8421                            1406             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
 8422 00000966 D11F                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 8423 00000968 6011                   M           MOV.W   @R1,R0          ;
 8424 0000096A 9431                   M           MOV.W   #LWORD (~BIT3),R4       ;
 8425 0000096C 2049                   M           AND     R4,R0           ;
 8426 0000096E 2101                   M           MOV.W   R0,@R1          ;
 8427                            1407     
 8428                            1408     ;       ----- 2006-04-10----
 8429                            1409     ;;;     MOV.L   #_RDY_SFTY_LOCK,R1      ;//BIT0:LOCK
 8430                            1410     
 8431                            1411     
 8432                            1412     
 8433                            1413     ;;;;;;;;;[2007-01-16]   MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;
 8434                            1414     ;;;;;;;;;[2007-01-16]   MOV.W   @R1,R0                  ;
 8435                            1415     ;;;;;;;;;[2007-01-16]   TST     R0,R0                   ;
 8436                            1416     ;;;;;;;;;[2007-01-16]   TST_BIT_ON RDY_CHK_0199         ;遮光遅延中
 8437                            1417     
 8438                            1418     ;2015-09-06 _BRK_SADOU_CHG 遮光解除後の準備完了の遅延をやめる
 8439                            1419     ;2015-09-06;    ------- 2007-01-19(原点復帰のみこの処理を入れる)----------
 8440                            1420     ;2015-09-06     MOV.L   #_MODE_SEL,R1                   ;
 8441                            1421     ;2015-09-06     MOV.W   @R1,R0                          ;
 8442                            1422     ;2015-09-06     TST     #_W1DUP,R0                      ;原点復帰?
 8443                            1423     ;2015-09-06     TST_BIT_OF RDY_CHK_0130                 ;
 8444                            1424     ;2015-09-06
 8445                            1425     ;2015-09-06;    -------- [MC 2010-10-26　追加 MC機構のﾌﾞﾚｰｷ対応　1/2]
 8446                            1426     ;2015-09-06     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;2010-10-26
 8447                            1427     ;2015-09-06     MOV.W   @R1,R0                          ;MCでは準備完了は遅らせない
 8448                            1428     ;2015-09-06     MOV.W   #BIT8,R4                        ;その代わりパルス出力を遅らせる0.2
                                          秒だから
 8449                            1429     ;2015-09-06     TST     R4,R0                           ;
 8450                            1430     ;2015-09-06     TST_BIT_ON RDY_CHK_0130                 ;"MC時=1"
 8451                            1431     ;2015-09-06
 8452                            1432     ;2015-09-06;    -------- 原点復帰[2007年の話]----------
 8453                            1433     ;2015-09-06     MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;原点復帰モードのみ準備完了を遅らせる　０
                                          ．８秒くらい
 8454                            1434     ;2015-09-06     MOV.W   @R1,R0                  ;パルス遅らせる方式では、チョン押しと長押
                                          し区別がしずらいから
 8455                            1435     ;2015-09-06     TST     R0,R0                   ;準備完了を遅らせている
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    44
PROGRAM NAME =

 8456                            1436     ;2015-09-06     TST_BIT_ON RDY_CHK_0199         ;遮光遅延中
 8457                            1437     ;2015-09-06
 8458                            1438     ;2015-09-06RDY_CHK_0130:
 8459                            1439     ;       ----------------------------------------------
 8460                            1440             _MONI_RDY_SET SETNO=5,SETREG=R0,WKREG=R1        ;2014-09-13
 8461 00000970 902F                   M           MOV.W   #5,R0
 8462 00000972 D11B                   M           MOV.L   #_MONI_RDY_STEP,R1
 8463 00000974 2101                   M           MOV.W   R0,@R1
 8464                            1441     ;       ----------------------------------------------
 8465                            1442     
 8466                            1443     
 8467                            1444     ;       ------- 順番入れ替え 2006-07-28 (とりあえず不要な入れ替えでしたが、、)-------
 8468                            1445             FAR_JSR #_RDYON_CONF1,R1        ;
 8469 00000976 D11C                   M           MOV.L   #_RDYON_CONF1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8470 00000978 410B                   M           JSR     @R1                     ;
 8471 0000097A 0009                   M           NOP                                     ;
 8472 0000097C 2008              1446             TST     R0,R0                   ;
 8473                            1447             TST_BIT_ON RDY_CHK_0199         ;準備未完了
 8474 0000097E 8B45                   M           BF      RDY_CHK_0199
 8475                            1448     
 8476                            1449     
 8477                            1450     ;       ----------------------------------------------
 8478                            1451             _MONI_RDY_SET SETNO=20,SETREG=R0,WKREG=R1       ;2014-09-13
 8479 00000980 9028                   M           MOV.W   #20,R0
 8480 00000982 D117                   M           MOV.L   #_MONI_RDY_STEP,R1
 8481 00000984 2101                   M           MOV.W   R0,@R1
 8482                            1452     ;       ----------------------------------------------
 8483                            1453     
 8484                            1454     
 8485                            1455     
 8486 00000986 D119              1456             MOV.L   #_BTTN_FLG,R1           ;
 8487 00000988 6011              1457             MOV.W   @R1,R0                  ;
 8488 0000098A C801              1458             TST     #BIT0,R0                ;両手ﾌﾘ?
 8489                            1459             TST_BIT_OF RDY_CHK_0199         ;NO
 8490 0000098C 893E                   M           BT      RDY_CHK_0199
 8491                            1460     
 8492                            1461     ;       ----------------------------------------------
 8493                            1462             _MONI_RDY_SET SETNO=21,SETREG=R0,WKREG=R1       ;2014-09-13
 8494 0000098E 9022                   M           MOV.W   #21,R0
 8495 00000990 D113                   M           MOV.L   #_MONI_RDY_STEP,R1
 8496 00000992 2101                   M           MOV.W   R0,@R1
 8497                            1463     ;       ----------------------------------------------
 8498                            1464     
 8499                            1465     ;;      ------- 順番入れ替え 2006-07-28-------
 8500                            1466     ;;      MOV.L   #_BTTN_FLG,R1           ;
 8501                            1467     ;;      MOV.W   @R1,R0                  ;
 8502                            1468     ;;      TST     #BIT0,R0                ;両手ﾌﾘ?
 8503                            1469     ;;      TST_BIT_OF RDY_CHK_0199         ;NO
 8504                            1470     ;;
 8505                            1471     ;;      FAR_JSR #_RDYON_CONF1,R1        ;
 8506                            1472     ;;      TST     R0,R0                   ;
 8507                            1473     ;;      TST_BIT_ON RDY_CHK_0199         ;準備未完了
 8508                            1474     ;------- 両手フリ----
 8509                            1475     
 8510 00000994 D116              1476             MOV.L   #_MODE_SEL,R1           ;
 8511 00000996 6611              1477             MOV.W   @R1,R6                  ;
 8512 00000998 921E              1478             MOV.W   #_W1CNT,R2              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    45
PROGRAM NAME =

 8513 0000099A 2628              1479             TST     R2,R6                   ;
 8514                            1480             TST_BIT_OF RDY_CHK_0150         ;
 8515 0000099C 8904                   M           BT      RDY_CHK_0150
 8516                            1481     
 8517 0000099E D315              1482             MOV.L   #_di2_cb_ctl2_dt,R3     ;
 8518 000009A0 6131              1483             MOV.W   @R3,R1                  ;
 8519 000009A2 921A              1484             MOV.W   #_W2SUP,R2              ;
 8520 000009A4 2128              1485             TST     R2,R1                   ;
 8521                            1486             TST_BIT_ON RDY_CHK_0199         ;連続ｾｯﾄｱｯﾌﾟ釦中
 8522 000009A6 8B31                   M           BF      RDY_CHK_0199
 8523                            1487     
 8524 000009A8                   1488     RDY_CHK_0150:
 8525 000009A8 200A              1489             XOR     R0,R0
 8526 000009AA D113              1490             MOV.L   #_SET_UP_TIM,R1         ;//ｾｯﾄｱｯﾌﾟ(0なの?)
 8527 000009AC 2101              1491             MOV.W   R0,@R1                  ;
 8528                            1492     
 8529 000009AE 9215              1493             MOV.W   #_SYS_BSAME_TIM,R2      ;
 8530 000009B0 D112              1494             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
 8531 000009B2 2121              1495             MOV.W   R2,@R1                  ;
 8532                            1496     
 8533                            1497             FAR_JSR #_CPU_AB_RDY_ON_OUT,R0  ;
 8534 000009B4 D012                   M           MOV.L   #_CPU_AB_RDY_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8535 000009B6 400B                   M           JSR     @R0                     ;
 8536 000009B8 0009                   M           NOP                                     ;
 8537                            1498             FAR_JSR #_CPU_BA_RDY_ON_JG,R0   ;
 8538 000009BA D012                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8539 000009BC 400B                   M           JSR     @R0                     ;
 8540 000009BE 0009                   M           NOP                                     ;
 8541 000009C0 2008              1499             TST     R0,R0                   ;
 8542                            1500             TST_BIT_OF RDY_CHK_0198         ;WAIT
 8543 000009C2 8902                   M           BT      RDY_CHK_0198
 8544                            1501             FAR_JSR #_RDY_ON,R1             ;準備完了へ遷移
 8545 000009C4 D110                   M           MOV.L   #_RDY_ON,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8546 000009C6 410B                   M           JSR     @R1                     ;
 8547 000009C8 0009                   M           NOP                                     ;
 8548 000009CA                   1502     RDY_CHK_0198:
 8549                            1503             M_BRA   RDY_CHK_EXIT
 8550 000009CA A1E9                   M           BRA     RDY_CHK_EXIT
 8551 000009CC 0009                   M           NOP
 8552                            1504     
 8553                                     ***** BEGIN-POOL *****
 8554 000009CE 0004                       DATA FOR SOURCE-LINE 1391
 8555 000009D0 FFF7                       DATA FOR SOURCE-LINE 1406
 8556 000009D2 0005                       DATA FOR SOURCE-LINE 1440
 8557 000009D4 0014                       DATA FOR SOURCE-LINE 1451
 8558 000009D6 0015                       DATA FOR SOURCE-LINE 1462
 8559 000009D8 0008                       DATA FOR SOURCE-LINE 1478
 8560 000009DA 0080                       DATA FOR SOURCE-LINE 1484
 8561 000009DC 01F4                       DATA FOR SOURCE-LINE 1493
 8562 000009DE 0000                       ALIGNMENT CODE
 8563 000009E0 00000000                   DATA FOR SOURCE-LINE 1391,1440,1451,1462
 8564 000009E4 00000000                   DATA FOR SOURCE-LINE 1406
 8565 000009E8 00000000                   DATA FOR SOURCE-LINE 1445
 8566 000009EC 00000000                   DATA FOR SOURCE-LINE 1456
 8567 000009F0 00000000                   DATA FOR SOURCE-LINE 1476
 8568 000009F4 00000000                   DATA FOR SOURCE-LINE 1482
 8569 000009F8 00000000                   DATA FOR SOURCE-LINE 1490
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    46
PROGRAM NAME =

 8570 000009FC 00000000                   DATA FOR SOURCE-LINE 1494
 8571 00000A00 00000000                   DATA FOR SOURCE-LINE 1497
 8572 00000A04 00000000                   DATA FOR SOURCE-LINE 1498
 8573 00000A08 00000000                   DATA FOR SOURCE-LINE 1501
 8574                                     ***** END-POOL *****
 8575 00000A0C                   1505     RDY_CHK_0199:
 8576                            1506             FAR_JSR #_CMPSTP_POS_START_CLR,R0;//起動したいをOFF
 8577 00000A0C D003                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8578 00000A0E 400B                   M           JSR     @R0                     ;
 8579 00000A10 0009                   M           NOP                                     ;
 8580                            1507             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0;//準備完了にしたいをOFF
 8581 00000A12 D003                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8582 00000A14 400B                   M           JSR     @R0                     ;
 8583 00000A16 0009                   M           NOP                                     ;
 8584                            1508     
 8585                            1509             M_BRA   RDY_CHK_EXIT
 8586 00000A18 A1C2                   M           BRA     RDY_CHK_EXIT
 8587 00000A1A 0009                   M           NOP
 8588                            1510     
 8589                            1511     ;       ===================================
 8590                            1512     ;       ===     準備完了ON              ===
 8591                            1513     ;       ===     起動または準備未完了    ===
 8592                            1514     ;       ===================================
 8593                                     ***** BEGIN-POOL *****
 8594 00000A1C 00000000                   DATA FOR SOURCE-LINE 1506
 8595 00000A20 00000000                   DATA FOR SOURCE-LINE 1507
 8596                                     ***** END-POOL *****
 8597 00000A24                   1515     RDY_CHK_0200:
 8598                            1516              .AIF   1 EQ 1  ;
 8599                            1517 C   ;       -------- 2016-10-31 ADD 二重回路対策
 8600                            1518              .AENDI
 8601                            1519             FAR_JSR #_START_CNT_INFO_OUT,R0         ;2016-07-22 二重回路対策
 8602 00000A24 D00E                   M           MOV.L   #_START_CNT_INFO_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8603 00000A26 400B                   M           JSR     @R0                     ;
 8604 00000A28 0009                   M           NOP                                     ;
 8605                            1520     
 8606                            1521     
 8607                            1522             FAR_JSR #_RDYON_CONF1,R1                ;
 8608 00000A2A D10E                   M           MOV.L   #_RDYON_CONF1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8609 00000A2C 410B                   M           JSR     @R1                     ;
 8610 00000A2E 0009                   M           NOP                                     ;
 8611 00000A30 2008              1523             TST     R0,R0                           ;
 8612                            1524             TST_BIT_ON RDY_CHK_0299A                ;準備未完了へ
 8613 00000A32 8B2D                   M           BF      RDY_CHK_0299A
 8614                            1525     
 8615                            1526     
 8616                            1527     ;       ------------------------------------
 8617                            1528             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-01
 8618 00000A34 D00C                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8619 00000A36 400B                   M           JSR     @R0                     ;
 8620 00000A38 0009                   M           NOP                                     ;
 8621                            1529     ;       ------------------------------------
 8622                            1530     
 8623                            1531             FAR_JSR #_BTTN_START_CHK,R1             ;(0.5秒同時ON,) R0=00(KEEP) 55(起動) FF(準
                                          備未完へ)
 8624 00000A3A D10C                   M           MOV.L   #_BTTN_START_CHK,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8625 00000A3C 410B                   M           JSR     @R1                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    47
PROGRAM NAME =

 8626 00000A3E 0009                   M           NOP                                     ;
 8627 00000A40 2008              1532             TST     R0,R0                           ;
 8628                            1533             TST_BIT_OF RDY_CHK_0290A                ;変化なし 2002-10-08 相手側ﾁｪｯｸ
 8629 00000A42 8923                   M           BT      RDY_CHK_0290A
 8630 00000A44 8855              1534             CMP/EQ  #H'55,R0                        ;
 8631 00000A46 8B23              1535             BF      RDY_CHK_0299A                   ;失敗 -1
 8632                            1536     
 8633                            1537     ;       ---------------------------
 8634                            1538     ;       ---                     ---
 8635                            1539     ;       ---     起動が入った    ---
 8636                            1540     ;       ---     2007-01-16      ---
 8637                            1541     ;       ---                     ---
 8638                            1542     ;       ---------------------------
 8639                            1543             FAR_JSR #_DRV_START_KEP_WAIT,R0         ;
 8640 00000A48 D009                   M           MOV.L   #_DRV_START_KEP_WAIT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8641 00000A4A 400B                   M           JSR     @R0                     ;
 8642 00000A4C 0009                   M           NOP                                     ;
 8643 00000A4E 2008              1544             TST     R0,R0                           ;
 8644                            1545             TST_BIT_OF RDY_CHK_0280                 ;(原点復帰または解除中ではない)
 8645 00000A50 8912                   M           BT      RDY_CHK_0280
 8646 00000A52 8855              1546             CMP/EQ  #H'55,R0                        ;
 8647 00000A54 8B1A              1547             BF      RDY_CHK_0290A                   ;
 8648                            1548     
 8649                            1549     ;       ------- 起動時の原点復帰時の演算(ﾚﾍﾞﾙﾀｲﾌﾟのみ使用可能)------
 8650                            1550             FAR_JSR #_ORGIN_MODE_SEL_START,R0       ;
 8651 00000A56 D007                   M           MOV.L   #_ORGIN_MODE_SEL_START,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8652 00000A58 400B                   M           JSR     @R0                     ;
 8653 00000A5A 0009                   M           NOP                                     ;
 8654                            1551     
 8655                            1552             M_BRA   RDY_CHK_0220                    ;起動
 8656 00000A5C A01A                   M           BRA     RDY_CHK_0220
 8657 00000A5E 0009                   M           NOP
 8658                            1553     
 8659                            1554     
 8660                                     ***** BEGIN-POOL *****
 8661 00000A60 00000000                   DATA FOR SOURCE-LINE 1519
 8662 00000A64 00000000                   DATA FOR SOURCE-LINE 1522
 8663 00000A68 00000000                   DATA FOR SOURCE-LINE 1528
 8664 00000A6C 00000000                   DATA FOR SOURCE-LINE 1531
 8665 00000A70 00000000                   DATA FOR SOURCE-LINE 1543
 8666 00000A74 00000000                   DATA FOR SOURCE-LINE 1550
 8667                                     ***** END-POOL *****
 8668 00000A78                   1555     RDY_CHK_0280
 8669                            1556     
 8670                            1557     ;       ===================================
 8671                            1558     ;       ===                             ===
 8672                            1559     ;       ===     2006-07-28              ===
 8673                            1560     ;       ===     原点起動                ===
 8674                            1561     ;       ===                             ===
 8675                            1562     ;       ===================================
 8676                            1563     ;       ここには手動パルサ以外こない
 8677                            1564             FAR_JSR #_ORGIN_MODE_SEL_WAIT,R0        ;
 8678 00000A78 D003                   M           MOV.L   #_ORGIN_MODE_SEL_WAIT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8679 00000A7A 400B                   M           JSR     @R0                     ;
 8680 00000A7C 0009                   M           NOP                                     ;
 8681 00000A7E 2008              1565             TST     R0,R0                           ;
 8682                            1566             TST_BIT_OF RDY_CHK_0220                 ;起動
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    48
PROGRAM NAME =

 8683 00000A80 8908                   M           BT      RDY_CHK_0220
 8684                            1567             M_BRA   RDY_CHK_0399                    ;
 8685 00000A82 A0A9                   M           BRA     RDY_CHK_0399
 8686 00000A84 0009                   M           NOP
 8687                            1568     
 8688                            1569     
 8689                                     ***** BEGIN-POOL *****
 8690 00000A86 0000                       ALIGNMENT CODE
 8691 00000A88 00000000                   DATA FOR SOURCE-LINE 1564
 8692                                     ***** END-POOL *****
 8693 00000A8C                   1570     RDY_CHK_0290A:
 8694                            1571             M_BRA   RDY_CHK_0290                    ;
 8695 00000A8C A08E                   M           BRA     RDY_CHK_0290
 8696 00000A8E 0009                   M           NOP
 8697                            1572     
 8698 00000A90                   1573     RDY_CHK_0299A:
 8699                            1574             M_BRA   RDY_CHK_0299                    ;失敗 -1
 8700 00000A90 A096                   M           BRA     RDY_CHK_0299
 8701 00000A92 0009                   M           NOP
 8702                            1575     
 8703                            1576     
 8704 00000A94                   1577     RDY_CHK_0220:
 8705                            1578     
 8706                            1579     ;       ===================================
 8707                            1580     ;       ===     擬似起動処理            ===
 8708                            1581     ;       ===================================
 8709                            1582             FAR_JSR #_ORGIN_MODE_FLG_CLR,R0         ;
 8710 00000A94 D007                   M           MOV.L   #_ORGIN_MODE_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8711 00000A96 400B                   M           JSR     @R0                     ;
 8712 00000A98 0009                   M           NOP                                     ;
 8713                            1583     
 8714                            1584             FAR_JSR #_CPU_AB_STR_ON_OUT,R0          ;
 8715 00000A9A D007                   M           MOV.L   #_CPU_AB_STR_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8716 00000A9C 400B                   M           JSR     @R0                     ;
 8717 00000A9E 0009                   M           NOP                                     ;
 8718 00000AA0 9006              1585             MOV.W   #BIT0,R0                        ;
 8719 00000AA2 D106              1586             MOV.L   #_CMPSTEP_POS_START,R1          ;//起動したい
 8720 00000AA4 2101              1587             MOV.W   R0,@R1                          ;
 8721                            1588     
 8722                            1589     ;       ==== 2003-07-01 ====
 8723                            1590             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;
 8724 00000AA6 D006                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8725 00000AA8 400B                   M           JSR     @R0                     ;
 8726 00000AAA 0009                   M           NOP                                     ;
 8727                            1591             M_BRA   RDY_CHK_0399                    ;準備完了はONのままとする
 8728 00000AAC A094                   M           BRA     RDY_CHK_0399
 8729 00000AAE 0009                   M           NOP
 8730                            1592     
 8731                                     ***** BEGIN-POOL *****
 8732 00000AB0 0001                       DATA FOR SOURCE-LINE 1585
 8733 00000AB2 0000                       ALIGNMENT CODE
 8734 00000AB4 00000000                   DATA FOR SOURCE-LINE 1582
 8735 00000AB8 00000000                   DATA FOR SOURCE-LINE 1584
 8736 00000ABC 00000000                   DATA FOR SOURCE-LINE 1586
 8737 00000AC0 00000000                   DATA FOR SOURCE-LINE 1590
 8738                                     ***** END-POOL *****
 8739 00000AC4                   1593     RDY_CHK_0200_START_WAIT:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    49
PROGRAM NAME =

 8740                            1594     ;       ---- 2015-03-15-------
 8741                            1595             .AIF    0 EQ    0       ;
 8742                            1596             .AELSE
 8743                            1597             FAR_JSR #_ELSE_CPU_START_POS_PRESET,R0  ;
 8744                            1598             .AENDI
 8745                            1599     
 8746                            1600             FAR_JSR #_CPU_BA_STR_ON_JG,R0           ;
 8747 00000AC4 D007                   M           MOV.L   #_CPU_BA_STR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8748 00000AC6 400B                   M           JSR     @R0                     ;
 8749 00000AC8 0009                   M           NOP                                     ;
 8750 00000ACA 2008              1601             TST     R0,R0                           ;
 8751                            1602             TST_BIT_ON RDY_CHK_0200_START           ;相手も起動したいぞ(これを最初にﾁｪｯｸする事
                                          )
 8752 00000ACC 8B12                   M           BF      RDY_CHK_0200_START
 8753                            1603     
 8754                            1604     
 8755                            1605     ;       -------HOLDからの起動(運転釦無し、自動起動)　2014-09-01--------------
 8756 00000ACE D106              1606             MOV.L   #_POS_HOLD_RDY_EXITF,R1         ;
 8757 00000AD0 6011              1607             MOV.W   @R1,R0                          ;
 8758 00000AD2 2008              1608             TST     R0,R0                           ;
 8759                            1609             TST_BIT_ON RDY_CHK_0200_START_WT2       ;
 8760 00000AD4 8B0C                   M           BF      RDY_CHK_0200_START_WT2
 8761                            1610     ;       ------------------------------------------------
 8762                            1611     
 8763                            1612     
 8764                            1613             FAR_JSR #_CPU_BA_RDY_ON_JG,R0           ;
 8765 00000AD6 D005                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8766 00000AD8 400B                   M           JSR     @R0                     ;
 8767 00000ADA 0009                   M           NOP                                     ;
 8768                            1614     
 8769 00000ADC 2008              1615             TST     R0,R0                           ;
 8770                            1616             TST_BIT_ON RDY_CHK_0200_START_WT2       ;(準備完了ONならいつまでもまつ)
 8771 00000ADE 8B07                   M           BF      RDY_CHK_0200_START_WT2
 8772                            1617             M_BRA   RDY_CHK_0299                    ;失敗:起動をあきらめる
 8773 00000AE0 A06E                   M           BRA     RDY_CHK_0299
 8774 00000AE2 0009                   M           NOP
 8775                            1618     
 8776                                     ***** BEGIN-POOL *****
 8777 00000AE4 00000000                   DATA FOR SOURCE-LINE 1600
 8778 00000AE8 00000000                   DATA FOR SOURCE-LINE 1606
 8779 00000AEC 00000000                   DATA FOR SOURCE-LINE 1613
 8780                                     ***** END-POOL *****
 8781 00000AF0                   1619     RDY_CHK_0200_START_WT2:
 8782                            1620             M_BRA   RDY_CHK_0399
 8783 00000AF0 A072                   M           BRA     RDY_CHK_0399
 8784 00000AF2 0009                   M           NOP
 8785                            1621     
 8786 00000AF4                   1622     RDY_CHK_0200_START:
 8787                            1623     
 8788                            1624     ;       ===================================
 8789                            1625     ;       ===     起動処理                ===
 8790                            1626     ;       ===================================
 8791                            1627     
 8792                            1628     ;;;;;   FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-01
 8793                            1629     
 8794                            1630     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
 8795                            1631             FAR_JSR #_OVER_RID_UPDN_LAT_DTMK,R0     ;2005-01-17
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    50
PROGRAM NAME =

 8796 00000AF4 D01C                   M           MOV.L   #_OVER_RID_UPDN_LAT_DTMK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8797 00000AF6 400B                   M           JSR     @R0                     ;
 8798 00000AF8 0009                   M           NOP                                     ;
 8799                            1632     
 8800                            1633             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
 8801 00000AFA D11C                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 8802 00000AFC 6011                   M           MOV.W   @R1,R0          ;
 8803 00000AFE 9430                   M           MOV.W   #LWORD (~BIT3),R4       ;
 8804 00000B00 2049                   M           AND     R4,R0           ;
 8805 00000B02 2101                   M           MOV.W   R0,@R1          ;
 8806                            1634     
 8807                            1635             FAR_JSR #_SV_UP_HOLD_CHK,R0     ;(上昇ﾎｰﾙﾄﾞ工程作成/)
 8808 00000B04 D01A                   M           MOV.L   #_SV_UP_HOLD_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8809 00000B06 400B                   M           JSR     @R0                     ;
 8810 00000B08 0009                   M           NOP                                     ;
 8811                            1636             FAR_JSR #_UP_HOLD_FLG_CLR1,R0   ;(不要でしょう)
 8812 00000B0A D01A                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8813 00000B0C 400B                   M           JSR     @R0                     ;
 8814 00000B0E 0009                   M           NOP                                     ;
 8815                            1637             FAR_JSR #_UP_HOLD_FLG_CLR2,R0   ;
 8816 00000B10 D019                   M           MOV.L   #_UP_HOLD_FLG_CLR2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8817 00000B12 400B                   M           JSR     @R0                     ;
 8818 00000B14 0009                   M           NOP                                     ;
 8819                            1638     
 8820                            1639     ;       ==== 2004-01-28 ==
 8821 00000B16 200A              1640             XOR     R0,R0
 8822 00000B18 D118              1641             MOV.L   #_ENC360_OVER_FLG,R1            ;
 8823 00000B1A 2101              1642             MOV.W   R0,@R1                          ;
 8824                            1643     
 8825                            1644             FAR_JSR #_SFTY_MASK_END,R0              ;(結果としてはﾏｽｸするかもしれない)
 8826 00000B1C D018                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8827 00000B1E 400B                   M           JSR     @R0                     ;
 8828 00000B20 0009                   M           NOP                                     ;
 8829                            1645     
 8830                            1646             FAR_JSR #_CB_CTL_START_INI,R0
 8831 00000B22 D018                   M           MOV.L   #_CB_CTL_START_INI,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8832 00000B24 400B                   M           JSR     @R0                     ;
 8833 00000B26 0009                   M           NOP                                     ;
 8834                            1647             FAR_JSR #_STOPPING_TIM_MOV_INI,R0       ;
 8835 00000B28 D017                   M           MOV.L   #_STOPPING_TIM_MOV_INI,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8836 00000B2A 400B                   M           JSR     @R0                     ;
 8837 00000B2C 0009                   M           NOP                                     ;
 8838                            1648     
 8839                            1649     
 8840                            1650             FAR_JSR #_MN_POS_CTRL_START,R0                                                  ;
 8841 00000B2E D017                   M           MOV.L   #_MN_POS_CTRL_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8842 00000B30 400B                   M           JSR     @R0                     ;
 8843 00000B32 0009                   M           NOP                                     ;
 8844                            1651     
 8845                            1652     
 8846                            1653     
 8847                            1654     ;       --------------------2014-09-19-----------------------
 8848                            1655             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;
 8849 00000B34 D016                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8850 00000B36 400B                   M           JSR     @R0                     ;
 8851 00000B38 0009                   M           NOP                                     ;
 8852                            1656     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    51
PROGRAM NAME =

 8853                            1657     ;       --------------------2014-09-12-----------------------
 8854                            1658     ;;;;;;;;;;;     MOV.L   #_POS_HOLD_RDY_EXITF,R1 ;//しょうがない
 8855                            1659     ;;;;;;;;;;;     MOV.W   @R1,R0                  ;
 8856                            1660     ;;;;;;;;;;;     PUSH_REG1 R0
 8857                            1661     ;;;;;;;;;;;
 8858                            1662     ;;;;;;;;;;;     FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-12[位置計算後にCLR]
 8859                            1663     ;;;;;;;;;;;
 8860                            1664     ;;;;;;;;;;;     POP_REG1 R0
 8861                            1665     ;;;;;;;;;;;     TST     R0,R0                           ;
 8862                            1666     ;;;;;;;;;;;     TST_BIT_OF RDY_POSHLD_CHK050            ;再起動
 8863                            1667     ;;;;;;;;;;;
 8864                            1668     ;;;;;;;;;;;     MOV.B   #BIT0,R0                        ;
 8865                            1669     ;;;;;;;;;;;     MOV.L   #_POS_HOLD_RDY_EXITF2,R1        ;//しょうがない
 8866                            1670     ;;;;;;;;;;;     MOV.W   R0,@R1                          ;
 8867                            1671     ;;;;;;;;;;;
 8868                            1672     ;;;;;;;;;;;RDY_POSHLD_CHK050
 8869                            1673     ;       --------------------------------------
 8870                            1674     
 8871                            1675             MEM1_DATA_SET MEM=_DRV_ACT_FLG,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2       ;運転動作ﾌ
                                          ﾗｸﾞ BIT0:運転中
 8872 00000B3A D116                   M           MOV.L   #_DRV_ACT_FLG,R1                ;
 8873 00000B3C 9212                   M           MOV.W   #BIT0,R2                ;
 8874 00000B3E 2121                   M           MOV.W   R2,@R1  ;
 8875                            1676             FAR_JSR #_API_BREAK_VALV_FLG_ON,R0      ;2014-08-05
 8876 00000B40 D015                   M           MOV.L   #_API_BREAK_VALV_FLG_ON,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8877 00000B42 400B                   M           JSR     @R0                     ;
 8878 00000B44 0009                   M           NOP                                     ;
 8879                            1677     
 8880                            1678             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
 8881 00000B46 D015                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8882 00000B48 400B                   M           JSR     @R0                     ;
 8883 00000B4A 0009                   M           NOP                                     ;
 8884                            1679             FAR_JSR #_RDY_OF,R1                     ;
 8885 00000B4C D114                   M           MOV.L   #_RDY_OF,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8886 00000B4E 410B                   M           JSR     @R1                     ;
 8887 00000B50 0009                   M           NOP                                     ;
 8888                            1680     
 8889                            1681              .AIF   1 EQ 1  ;
 8890                            1682 C   ;       -------- 2016-10-31 ADD 二重回路対策
 8891                            1683              .AENDI
 8892                            1684             FAR_JSR #_SELFCHK_LOCK_SET,R0           ;2016-04-16
 8893 00000B52 D014                   M           MOV.L   #_SELFCHK_LOCK_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8894 00000B54 400B                   M           JSR     @R0                     ;
 8895 00000B56 0009                   M           NOP                                     ;
 8896                            1685     
 8897                            1686     
 8898                            1687     ;       ====== 2007-01-16========
 8899                            1688             FAR_JSR #_START_SFTY_LOCK_CLR,R0
 8900 00000B58 D013                   M           MOV.L   #_START_SFTY_LOCK_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8901 00000B5A 400B                   M           JSR     @R0                     ;
 8902 00000B5C 0009                   M           NOP                                     ;
 8903                            1689     
 8904                            1690     
 8905                            1691     
 8906                            1692     
 8907                            1693     
 8908                            1694     ;;;     XOR     R0,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    52
PROGRAM NAME =

 8909                            1695     ;;;     MOV.L   #_CMPSTEP_POS_START,R1          ;//起動したいは終わり側にも使用する
 8910                            1696     ;;;     MOV.W   R0,@R1                          ;
 8911                            1697     ;;;     FAR_JSR #_CPU_BA_STR_OF_OUT,R0          ;(相手の起動信号ｸﾘｱ)
 8912                            1698             M_BRA   RDY_CHK_0399                    ;
 8913 00000B5E A03B                   M           BRA     RDY_CHK_0399
 8914 00000B60 0009                   M           NOP
 8915                            1699     
 8916                            1700     ;       ====== 保持状態=======
 8917                                     ***** BEGIN-POOL *****
 8918 00000B62 FFF7                       DATA FOR SOURCE-LINE 1633
 8919 00000B64 0001                       DATA FOR SOURCE-LINE 1675
 8920 00000B66 0000                       ALIGNMENT CODE
 8921 00000B68 00000000                   DATA FOR SOURCE-LINE 1631
 8922 00000B6C 00000000                   DATA FOR SOURCE-LINE 1633
 8923 00000B70 00000000                   DATA FOR SOURCE-LINE 1635
 8924 00000B74 00000000                   DATA FOR SOURCE-LINE 1636
 8925 00000B78 00000000                   DATA FOR SOURCE-LINE 1637
 8926 00000B7C 00000000                   DATA FOR SOURCE-LINE 1641
 8927 00000B80 00000000                   DATA FOR SOURCE-LINE 1644
 8928 00000B84 00000000                   DATA FOR SOURCE-LINE 1646
 8929 00000B88 00000000                   DATA FOR SOURCE-LINE 1647
 8930 00000B8C 00000000                   DATA FOR SOURCE-LINE 1650
 8931 00000B90 00000000                   DATA FOR SOURCE-LINE 1655
 8932 00000B94 00000000                   DATA FOR SOURCE-LINE 1675
 8933 00000B98 00000000                   DATA FOR SOURCE-LINE 1676
 8934 00000B9C 00000000                   DATA FOR SOURCE-LINE 1678
 8935 00000BA0 00000000                   DATA FOR SOURCE-LINE 1679
 8936 00000BA4 00000000                   DATA FOR SOURCE-LINE 1684
 8937 00000BA8 00000000                   DATA FOR SOURCE-LINE 1688
 8938                                     ***** END-POOL *****
 8939 00000BAC                   1701     RDY_CHK_0290:                           ;((((()))))
 8940                            1702             FAR_JSR #_CPU_BA_RDY_ON_JG,R0   ;
 8941 00000BAC D003                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8942 00000BAE 400B                   M           JSR     @R0                     ;
 8943 00000BB0 0009                   M           NOP                                     ;
 8944 00000BB2 2008              1703             TST     R0,R0                   ;
 8945                            1704             TST_BIT_OF RDY_CHK_0299         ;相手側CPUのせいで準備未完了へ
 8946 00000BB4 8904                   M           BT      RDY_CHK_0299
 8947                            1705             M_BRA   RDY_CHK_0399            ;
 8948 00000BB6 A00F                   M           BRA     RDY_CHK_0399
 8949 00000BB8 0009                   M           NOP
 8950                            1706     
 8951                            1707     ;       ======= 準備完了失敗====
 8952                                     ***** BEGIN-POOL *****
 8953 00000BBA 0000                       ALIGNMENT CODE
 8954 00000BBC 00000000                   DATA FOR SOURCE-LINE 1702
 8955                                     ***** END-POOL *****
 8956 00000BC0                   1708     RDY_CHK_0299:
 8957                            1709             FAR_JSR #_CMPSTP_POS_START_CLR,R0       ;//起動したいをOFF
 8958 00000BC0 D006                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8959 00000BC2 400B                   M           JSR     @R0                     ;
 8960 00000BC4 0009                   M           NOP                                     ;
 8961                            1710             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
 8962 00000BC6 D006                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8963 00000BC8 400B                   M           JSR     @R0                     ;
 8964 00000BCA 0009                   M           NOP                                     ;
 8965                            1711             FAR_JSR #_RDY_OF,R0                     ;準備未完了へ遷移
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    53
PROGRAM NAME =

 8966 00000BCC D005                   M           MOV.L   #_RDY_OF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8967 00000BCE 400B                   M           JSR     @R0                     ;
 8968 00000BD0 0009                   M           NOP                                     ;
 8969                            1712     ;;;     FAR_JSR #_TEPA_PLSCNT_CLR,R0            ;2006-07-28
 8970                            1713     
 8971                            1714     ;       ------- 2007-01-16----------
 8972 00000BD2 200A              1715             XOR     R0,R0
 8973 00000BD4 D104              1716             MOV.L   #_DRV_START_KEEP,R1             ;FLG
 8974 00000BD6 2101              1717             MOV.W   R0,@R1                          ;
 8975                            1718     
 8976 00000BD8                   1719     RDY_CHK_0399:
 8977                            1720             M_BRA   RDY_CHK_EXIT
 8978 00000BD8 A0E2                   M           BRA     RDY_CHK_EXIT
 8979 00000BDA 0009                   M           NOP
 8980                            1721     
 8981                            1722     
 8982                            1723     
 8983                            1724     ;       ===================================
 8984                            1725     ;       ===     ﾊﾞﾙﾌﾞON(位置決め中)     ===
 8985                            1726     ;       ===================================
 8986                            1727     ;       >> ﾛｯﾄｶｳﾝﾀ処理 <<
 8987                                     ***** BEGIN-POOL *****
 8988 00000BDC 00000000                   DATA FOR SOURCE-LINE 1709
 8989 00000BE0 00000000                   DATA FOR SOURCE-LINE 1710
 8990 00000BE4 00000000                   DATA FOR SOURCE-LINE 1711
 8991 00000BE8 00000000                   DATA FOR SOURCE-LINE 1716
 8992                                     ***** END-POOL *****
 8993 00000BEC                   1728     RDY_CHK_0500:
 8994                            1729     
 8995                            1730     ;;;2007-12-24   FAR_JSR #_LOT_CNT_CNT,R0        ;
 8996                            1731     
 8997                            1732     
 8998                            1733             FAR_JSR #_STEP_SIG_DISP,R0      ;
 8999 00000BEC D006                   M           MOV.L   #_STEP_SIG_DISP,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9000 00000BEE 400B                   M           JSR     @R0                     ;
 9001 00000BF0 0009                   M           NOP                                     ;
 9002                            1734     ;       ==== 2003-07-09 ====
 9003                            1735             FAR_JSR #_CNT_SPM_DISP_CHK,R0
 9004 00000BF2 D006                   M           MOV.L   #_CNT_SPM_DISP_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9005 00000BF4 400B                   M           JSR     @R0                     ;
 9006 00000BF6 0009                   M           NOP                                     ;
 9007                            1736     ;       ====================
 9008                            1737     
 9009                            1738     ;       ---------------------------------------------------------
 9010                            1739     ;       --------------------[一旦停止処理]-------------------
 9011                            1740     ;       ---------------------------------------------------------
 9012                            1741             FAR_JSR #_POSHLD1_STEP1_STOPCMD_CHK,R0                  ;
 9013 00000BF8 D005                   M           MOV.L   #_POSHLD1_STEP1_STOPCMD_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9014 00000BFA 400B                   M           JSR     @R0                     ;
 9015 00000BFC 0009                   M           NOP                                     ;
 9016 00000BFE 2008              1742             TST     R0,R0                                           ;
 9017                            1743             TST_BIT_OF RDY_CHK_0505                                 ;
 9018 00000C00 8908                   M           BT      RDY_CHK_0505
 9019                            1744             M_BRA   RDY_CHK_1000                                    ;
 9020 00000C02 A07E                   M           BRA     RDY_CHK_1000
 9021 00000C04 0009                   M           NOP
 9022                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    54
PROGRAM NAME =

 9023 00000C06 0000                       ALIGNMENT CODE
 9024 00000C08 00000000                   DATA FOR SOURCE-LINE 1733
 9025 00000C0C 00000000                   DATA FOR SOURCE-LINE 1735
 9026 00000C10 00000000                   DATA FOR SOURCE-LINE 1741
 9027                                     ***** END-POOL *****
 9028 00000C14                   1745     RDY_CHK_0505:
 9029                            1746     
 9030                            1747     
 9031                            1748     
 9032                            1749     ;       --------- 2006-07-28---------------------
 9033                            1750     ;       位置決めキャンセル機能１
 9034                            1751             FAR_JSR #_POS_CANSEL_STOP_CHK,R0        ;
 9035 00000C14 D003                   M           MOV.L   #_POS_CANSEL_STOP_CHK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9036 00000C16 400B                   M           JSR     @R0                     ;
 9037 00000C18 0009                   M           NOP                                     ;
 9038 00000C1A 2008              1752             TST     R0,R0                           ;
 9039                            1753             TST_BIT_OF RDY_CHK_0510                 ;
 9040 00000C1C 8904                   M           BT      RDY_CHK_0510
 9041                            1754             M_BRA   RDY_CHK_1000                    ;
 9042 00000C1E A070                   M           BRA     RDY_CHK_1000
 9043 00000C20 0009                   M           NOP
 9044                                     ***** BEGIN-POOL *****
 9045 00000C22 0000                       ALIGNMENT CODE
 9046 00000C24 00000000                   DATA FOR SOURCE-LINE 1751
 9047                                     ***** END-POOL *****
 9048 00000C28                   1755     RDY_CHK_0510:
 9049                            1756     ;       ----------------------------------------------
 9050                            1757     ;       ===== 各々のモード処理======
 9051 00000C28 D102              1758             MOV.L   #_MNWR_POS_CMD,R1       ;ﾊﾟﾙｽ払出即停止
 9052 00000C2A 6011              1759             MOV.W   @R1,R0                  ;
 9053 00000C2C 2008              1760             TST     R0,R0                   ;
 9054                            1761             TST_BIT_ON RDY_CHK_0520         ;BIT0
 9055 00000C2E 8B03                   M           BF      RDY_CHK_0520
 9056                            1762             M_BRA   RDY_CHK_1000            ;
 9057 00000C30 A067                   M           BRA     RDY_CHK_1000
 9058 00000C32 0009                   M           NOP
 9059                            1763     
 9060                                     ***** BEGIN-POOL *****
 9061 00000C34 00000000                   DATA FOR SOURCE-LINE 1758
 9062                                     ***** END-POOL *****
 9063 00000C38                   1764     RDY_CHK_0520:
 9064                            1765     
 9065                            1766     ;       ------ 2007-03-02[CMP]------------------------
 9066 00000C38 D102              1767             MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
 9067 00000C3A 6011              1768             MOV.W   @R1,R0                          ;
 9068 00000C3C C802              1769             TST     #BIT1,R0                        ;
 9069                            1770             TST_BIT_OF RDY_CHK_0525                 ;
 9070 00000C3E 8903                   M           BT      RDY_CHK_0525
 9071                            1771             M_BRA   RDY_CHK_1000                    ;
 9072 00000C40 A05F                   M           BRA     RDY_CHK_1000
 9073 00000C42 0009                   M           NOP
 9074                                     ***** BEGIN-POOL *****
 9075 00000C44 00000000                   DATA FOR SOURCE-LINE 1767
 9076                                     ***** END-POOL *****
 9077 00000C48                   1772     RDY_CHK_0525:
 9078                            1773     ;       ----------------------------------------
 9079                            1774     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    55
PROGRAM NAME =

 9080                            1775     
 9081                            1776     ;       -------- 2007-02-05 ----------
 9082                            1777     ;2015-09-06_BRK_SADOU_CHG EQ 1
 9083                            1778     ;;;廃止 FAR_JSR #_SFTY_DLY_SET2,R0      ;全モードで停止後の遮光ブレーキ遅延時間
 9084                            1779     
 9085 00000C48 D106              1780             MOV.L   #_MODE_SEL,R1           ;寸動・安全一工程・連続・OPT
 9086 00000C4A 6011              1781             MOV.W   @R1,R0                  ;
 9087 00000C4C C808              1782             TST     #_W1CNT,R0              ;
 9088                            1783             TST_BIT_OF RDY_CHK_0600         ;
 9089 00000C4E 8915                   M           BT      RDY_CHK_0600
 9090                            1784     
 9091 00000C50 9106              1785             MOV.W   #(BIT12+BIT11),R1       ;
 9092 00000C52 2018              1786             TST     R1,R0
 9093                            1787             TST_BIT_OF RDY_CHK_0530         ;
 9094 00000C54 890A                   M           BT      RDY_CHK_0530
 9095                            1788     
 9096                            1789             FAR_JSR #_MODE_CSS_STOP_CHK,R0  ;連続一行程・連続寸動一行程
 9097 00000C56 D004                   M           MOV.L   #_MODE_CSS_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9098 00000C58 400B                   M           JSR     @R0                     ;
 9099 00000C5A 0009                   M           NOP                                     ;
 9100                            1790             M_BRA   RDY_CHK_1000
 9101 00000C5C A051                   M           BRA     RDY_CHK_1000
 9102 00000C5E 0009                   M           NOP
 9103                            1791     
 9104                                     ***** BEGIN-POOL *****
 9105 00000C60 1800                       DATA FOR SOURCE-LINE 1785
 9106 00000C62 0000                       ALIGNMENT CODE
 9107 00000C64 00000000                   DATA FOR SOURCE-LINE 1780
 9108 00000C68 00000000                   DATA FOR SOURCE-LINE 1789
 9109                                     ***** END-POOL *****
 9110 00000C6C                   1792     RDY_CHK_0530:
 9111                            1793             FAR_JSR #_MODE_CNT_STOP_CHK,R0  ;
 9112 00000C6C D002                   M           MOV.L   #_MODE_CNT_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9113 00000C6E 400B                   M           JSR     @R0                     ;
 9114 00000C70 0009                   M           NOP                                     ;
 9115                            1794             M_BRA   RDY_CHK_1000
 9116 00000C72 A046                   M           BRA     RDY_CHK_1000
 9117 00000C74 0009                   M           NOP
 9118                                     ***** BEGIN-POOL *****
 9119 00000C76 0000                       ALIGNMENT CODE
 9120 00000C78 00000000                   DATA FOR SOURCE-LINE 1793
 9121                                     ***** END-POOL *****
 9122 00000C7C                   1795     RDY_CHK_0600:
 9123                            1796     
 9124 00000C7C C802              1797             TST     #_W1INC,R0              ;
 9125                            1798             TST_BIT_OF RDY_CHK_0650         ;
 9126 00000C7E 8907                   M           BT      RDY_CHK_0650
 9127                            1799             FAR_JSR #_MODE_INC_STOP_CHK,R0  ;
 9128 00000C80 D002                   M           MOV.L   #_MODE_INC_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9129 00000C82 400B                   M           JSR     @R0                     ;
 9130 00000C84 0009                   M           NOP                                     ;
 9131                            1800             M_BRA   RDY_CHK_1000
 9132 00000C86 A03C                   M           BRA     RDY_CHK_1000
 9133 00000C88 0009                   M           NOP
 9134                            1801     
 9135                                     ***** BEGIN-POOL *****
 9136 00000C8A 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    56
PROGRAM NAME =

 9137 00000C8C 00000000                   DATA FOR SOURCE-LINE 1799
 9138                                     ***** END-POOL *****
 9139 00000C90                   1802     RDY_CHK_0650:
 9140                            1803     
 9141 00000C90 C804              1804             TST     #_W1SGL,R0              ;
 9142                            1805             TST_BIT_OF RDY_CHK_0700         ;
 9143 00000C92 891B                   M           BT      RDY_CHK_0700
 9144                            1806     ;       === 回転時は一度                [作業一行程,一行程,外部安全一]
 9145                            1807             FAR_JSR #_CTRL_UP_HOLD_CHK,R0   ;(上昇ﾎｰﾙﾄﾞまたは上昇無効の運転を行うﾓｰﾄﾞで呼ばれ
                                          る)
 9146 00000C94 D008                   M           MOV.L   #_CTRL_UP_HOLD_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9147 00000C96 400B                   M           JSR     @R0                     ;
 9148 00000C98 0009                   M           NOP                                     ;
 9149                            1808                                             ;上昇ホールドするかしないか
 9150                            1809     
 9151                            1810             FAR_JSR #_UP_HOLD_AREA_MASK,R0  ;安全一行程中のマスクするかしないかの条件
 9152 00000C9A D008                   M           MOV.L   #_UP_HOLD_AREA_MASK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9153 00000C9C 400B                   M           JSR     @R0                     ;
 9154 00000C9E 0009                   M           NOP                                     ;
 9155                            1811     
 9156                            1812     
 9157                            1813             FAR_JSR #_MODE_SGL_STOP_CHK,R0  ;AUTO SIGNAL MAKE　AUTOのための処理
 9158 00000CA0 D007                   M           MOV.L   #_MODE_SGL_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9159 00000CA2 400B                   M           JSR     @R0                     ;
 9160 00000CA4 0009                   M           NOP                                     ;
 9161                            1814     
 9162 00000CA6 D107              1815             MOV.L   #_UP_HOLD_FLG,R1        ;
 9163 00000CA8 6011              1816             MOV.W   @R1,R0                  ;
 9164 00000CAA C802              1817             TST     #BIT1,R0                ;上昇無効
 9165                            1818             TST_BIT_OF SGL_UP_HOLD_MASK050  ;
 9166 00000CAC 8902                   M           BT      SGL_UP_HOLD_MASK050
 9167                            1819     
 9168                            1820             FAR_JSR #_SFTY_MASK_START,R0    ;[[[[]]]]
 9169 00000CAE D006                   M           MOV.L   #_SFTY_MASK_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9170 00000CB0 400B                   M           JSR     @R0                     ;
 9171 00000CB2 0009                   M           NOP                                     ;
 9172                            1821     
 9173                            1822     
 9174                            1823     ;       -------- 2007-02-05 ----------
 9175                            1824     ;2015-09-06_BRK_SADOU_CHG EQ 1
 9176                            1825     ;;;廃止 FAR_JSR #_SFTY_DLY_SET1,R0      ;
 9177                            1826     
 9178                            1827     ;;;;;   -------- 2006-11-21-------------
 9179                            1828     ;;;;;   MOV.L   #_PAR_SELF_WAIT_TM,R1   ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの時間
 9180                            1829     ;;;;;   MOV.W   @R1,R0                  ;
 9181                            1830     ;;;;;   -------- 2007-01-16-----
 9182                            1831     ;;;;;   MOV.L   #_PAR_SLOCK_DLY2,R1     ;
 9183                            1832     ;;;;;   MOV.W   @R1,R1                  ;
 9184                            1833     ;;;;;   ADD     R1,R0                   ;
 9185                            1834     ;;;;;   MOV.L   #_SFTY_LOCK_DLYTM,R1    ;
 9186                            1835     ;;;;;   MOV.W   R0,@R1                  ;(上昇ﾎｰﾙﾄﾞ無効)
 9187                            1836     ;;;;;;  ---------------------------------
 9188                            1837     
 9189                            1838     
 9190 00000CB4                   1839     SGL_UP_HOLD_MASK050:
 9191                            1840             M_BRA   RDY_CHK_1000            ;
 9192 00000CB4 A025                   M           BRA     RDY_CHK_1000
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    57
PROGRAM NAME =

 9193 00000CB6 0009                   M           NOP
 9194                            1841     
 9195                                     ***** BEGIN-POOL *****
 9196 00000CB8 00000000                   DATA FOR SOURCE-LINE 1807
 9197 00000CBC 00000000                   DATA FOR SOURCE-LINE 1810
 9198 00000CC0 00000000                   DATA FOR SOURCE-LINE 1813
 9199 00000CC4 00000000                   DATA FOR SOURCE-LINE 1815
 9200 00000CC8 00000000                   DATA FOR SOURCE-LINE 1820
 9201                                     ***** END-POOL *****
 9202 00000CCC                   1842     RDY_CHK_0700:
 9203                            1843     
 9204 00000CCC C810              1844             TST     #_W1OPT,R0              ;
 9205                            1845             TST_BIT_OF RDY_CHK_0750         ;
 9206 00000CCE 890B                   M           BT      RDY_CHK_0750
 9207                            1846             FAR_JSR #_CTRL_UP_HOLD_CHK,R0   ;(上昇ﾎｰﾙﾄﾞまたは上昇無効の運転を行うﾓｰﾄﾞで呼ばれ
                                          る)
 9208 00000CD0 D003                   M           MOV.L   #_CTRL_UP_HOLD_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9209 00000CD2 400B                   M           JSR     @R0                     ;
 9210 00000CD4 0009                   M           NOP                                     ;
 9211                            1847             FAR_JSR #_MODE_OPT_STOP_CHK,R0  ;OPTION=安全一工程(分けるか?)
 9212 00000CD6 D003                   M           MOV.L   #_MODE_OPT_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9213 00000CD8 400B                   M           JSR     @R0                     ;
 9214 00000CDA 0009                   M           NOP                                     ;
 9215                            1848             M_BRA   RDY_CHK_1000            ;
 9216 00000CDC A011                   M           BRA     RDY_CHK_1000
 9217 00000CDE 0009                   M           NOP
 9218                                     ***** BEGIN-POOL *****
 9219 00000CE0 00000000                   DATA FOR SOURCE-LINE 1846
 9220 00000CE4 00000000                   DATA FOR SOURCE-LINE 1847
 9221                                     ***** END-POOL *****
 9222 00000CE8                   1849     RDY_CHK_0750:
 9223                            1850     
 9224 00000CE8 C840              1851             TST     #_W1DUP,R0                      ;
 9225                            1852             TST_BIT_OF RDY_CHK_0950                 ;
 9226 00000CEA 8907                   M           BT      RDY_CHK_0950
 9227                            1853             FAR_JSR #_MODE_DUP_STOP_CHK,R0          ;待機点復帰
 9228 00000CEC D002                   M           MOV.L   #_MODE_DUP_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9229 00000CEE 400B                   M           JSR     @R0                     ;
 9230 00000CF0 0009                   M           NOP                                     ;
 9231                            1854             M_BRA   RDY_CHK_1000
 9232 00000CF2 A006                   M           BRA     RDY_CHK_1000
 9233 00000CF4 0009                   M           NOP
 9234                                     ***** BEGIN-POOL *****
 9235 00000CF6 0000                       ALIGNMENT CODE
 9236 00000CF8 00000000                   DATA FOR SOURCE-LINE 1853
 9237                                     ***** END-POOL *****
 9238 00000CFC                   1855     RDY_CHK_0950:
 9239                            1856     
 9240                            1857             FAR_JSR #_MODE_DIC_STOP_CHK,R0  ;段取
 9241 00000CFC D008                   M           MOV.L   #_MODE_DIC_STOP_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9242 00000CFE 400B                   M           JSR     @R0                     ;
 9243 00000D00 0009                   M           NOP                                     ;
 9244                            1858     
 9245                            1859     ;       ===================================
 9246                            1860     ;       ===     位置決め部              ===
 9247                            1861     ;       ===================================
 9248 00000D02                   1862     RDY_CHK_1000:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    58
PROGRAM NAME =

 9249                            1863             FAR_JSR #_MN_POS_CTRL_ACT,R1            ;<00:運転継続中>
 9250 00000D02 D108                   M           MOV.L   #_MN_POS_CTRL_ACT,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9251 00000D04 410B                   M           JSR     @R1                     ;
 9252 00000D06 0009                   M           NOP                                     ;
 9253                            1864                                                     ;<寸動等の停止 -->準備未完了へ "FF">
 9254                            1865                                                     ;<ｻｲｸﾙ終了->ｾﾙﾌﾁｪｯｸへ          "55">
 9255 00000D08 D107              1866             MOV.L   #_END_CMD_LATCH,R1
 9256 00000D0A 2101              1867             MOV.W   R0,@R1                          ;
 9257 00000D0C 2008              1868             TST     R0,R0                           ;
 9258                            1869             TST_BIT_OF RDY_CHK_EXIT                 ;(継続)
 9259 00000D0E 8947                   M           BT      RDY_CHK_EXIT
 9260                            1870     
 9261 00000D10 200A              1871             XOR     R0,R0                           ;
 9262 00000D12 D106              1872             MOV.L   #_CMPSTEP_POS_START,R1          ;//起動したい
 9263 00000D14 2101              1873             MOV.W   R0,@R1                          ;
 9264                            1874             FAR_JSR #_CPU_BA_STR_OF_OUT,R0          ;(相手の起動信号ｸﾘｱ)
 9265 00000D16 D006                   M           MOV.L   #_CPU_BA_STR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9266 00000D18 400B                   M           JSR     @R0                     ;
 9267 00000D1A 0009                   M           NOP                                     ;
 9268                            1875             M_BRA   RDY_CHK_EXIT                    ;
 9269 00000D1C A040                   M           BRA     RDY_CHK_EXIT
 9270 00000D1E 0009                   M           NOP
 9271                            1876     
 9272                                     ***** BEGIN-POOL *****
 9273 00000D20 00000000                   DATA FOR SOURCE-LINE 1857
 9274 00000D24 00000000                   DATA FOR SOURCE-LINE 1863
 9275 00000D28 00000000                   DATA FOR SOURCE-LINE 1866
 9276 00000D2C 00000000                   DATA FOR SOURCE-LINE 1872
 9277 00000D30 00000000                   DATA FOR SOURCE-LINE 1874
 9278                                     ***** END-POOL *****
 9279 00000D34                   1877     RDY_CHK_1200:
 9280                            1878             FAR_JSR #_CPU_BA_STR_ON_JG,R0           ;
 9281 00000D34 D005                   M           MOV.L   #_CPU_BA_STR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9282 00000D36 400B                   M           JSR     @R0                     ;
 9283 00000D38 0009                   M           NOP                                     ;
 9284 00000D3A 2008              1879             TST     R0,R0                           ;
 9285                            1880             TST_BIT_ON RDY_CHK_EXIT                 ;起動状態のまま
 9286 00000D3C 8B30                   M           BF      RDY_CHK_EXIT
 9287                            1881     
 9288 00000D3E D104              1882             MOV.L   #_END_CMD_LATCH,R1              ;
 9289 00000D40 6011              1883             MOV.W   @R1,R0                          ;
 9290                            1884     
 9291 00000D42 8855              1885             CMP/EQ  #H'55,R0                        ;
 9292 00000D44 8906              1886             BT      RDY_CHK_CYCL_END                ;ｻｲｸﾙｴﾝﾄﾞ
 9293                            1887             M_BRA   RDY_CHK_END_COM                 ;寸動終了
 9294 00000D46 A014                   M           BRA     RDY_CHK_END_COM
 9295 00000D48 0009                   M           NOP
 9296                            1888     
 9297                                     ***** BEGIN-POOL *****
 9298 00000D4A 0000                       ALIGNMENT CODE
 9299 00000D4C 00000000                   DATA FOR SOURCE-LINE 1878
 9300 00000D50 00000000                   DATA FOR SOURCE-LINE 1882
 9301                                     ***** END-POOL *****
 9302 00000D54                   1889     RDY_CHK_CYCL_END:
 9303                            1890     ;;本当はここだけど、ここにこない        FAR_JSR #_UP_HOLD_FLG_CLR2,R0           ;(ﾛｯﾄｶｳﾝﾀ
                                          には使用できないので注意)
 9304                            1891     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    59
PROGRAM NAME =

 9305 00000D54 D115              1892             MOV.L   #_MODE_SEL,R1                   ;
 9306 00000D56 6011              1893             MOV.W   @R1,R0                          ;
 9307 00000D58 9225              1894             MOV.W   #(_W1DUP+_W1DIC+_W1INC),R2      ;
 9308 00000D5A 2028              1895             TST     R2,R0                           ;
 9309                            1896             TST_BIT_ON RDY_CHK_END_COM              ;
 9310 00000D5C 8B09                   M           BF      RDY_CHK_END_COM
 9311                            1897     
 9312 00000D5E D114              1898             MOV.L   #_SELF_CHK_SEL,R1               ;
 9313 00000D60 6011              1899             MOV.W   @R1,R0                          ;
 9314 00000D62 C802              1900             TST     #BIT1,R0                        ;2006-04-10 運転終了時にセルフするBIT1=1
 9315                            1901             TST_BIT_OF RDY_CHK_END_COM              ;ｾﾙﾌしない
 9316 00000D64 8905                   M           BT      RDY_CHK_END_COM
 9317                            1902     
 9318                            1903     ;;2006-04-10    TST     #BIT0,R0                        ;
 9319                            1904     ;;2006-04-10    TST_BIT_OF RDY_CHK_END_COM              ;ｾﾙﾌしない
 9320                            1905     
 9321                            1906     ;;2006-04-10    TST     #BIT1,R0                        ;
 9322                            1907     ;;2006-04-10    TST_BIT_OF RDY_CHK_END_COM              ;//制御停止時ｾﾙﾌﾁｪｯｸしない JUMP
 9323                            1908     
 9324 00000D66 D113              1909             MOV.L   #_SELF_TIMING_SIG,R1            ;2006-04-10
 9325 00000D68 901E              1910             MOV.W   #1,R0                           ;2006-04-10
 9326 00000D6A 2101              1911             MOV.W   R0,@R1                          ;2006-04-10
 9327                            1912     
 9328                            1913     ; ==== //制御停止時ｾﾙﾌﾁｪｯｸする===
 9329 00000D6C D112              1914             MOV.L   #_IN_RDY_FLG,R1                 ;(待機点停止時に発生する:今回これは発生さ
                                          せない)
 9330 00000D6E 200A              1915             XOR     R0,R0                           ;
 9331 00000D70 2101              1916             MOV.W   R0,@R1                          ;
 9332                            1917     
 9333 00000D72                   1918     RDY_CHK_END_COM:
 9334                            1919             FAR_JSR #_STEP_SIG_DSP_CLR,R0           ;行程ｸﾘｱ
 9335 00000D72 D012                   M           MOV.L   #_STEP_SIG_DSP_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9336 00000D74 400B                   M           JSR     @R0                     ;
 9337 00000D76 0009                   M           NOP                                     ;
 9338                            1920     
 9339                            1921             FAR_JSR #_UP_HOLD_FLG_CLR1,R0           ;中断及び１回転終了時
 9340 00000D78 D011                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9341 00000D7A 400B                   M           JSR     @R0                     ;
 9342 00000D7C 0009                   M           NOP                                     ;
 9343                            1922     
 9344                            1923             FAR_JSR #_AUTO_OF,R0                    ;
 9345 00000D7E D011                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9346 00000D80 400B                   M           JSR     @R0                     ;
 9347 00000D82 0009                   M           NOP                                     ;
 9348                            1924     
 9349 00000D84 200A              1925             XOR     R0,R0
 9350 00000D86 D110              1926             MOV.L   #_DRV_ACT_FLG,R1                ;//運転動作ﾌﾗｸﾞ BIT0:運転中
 9351 00000D88 2101              1927             MOV.W   R0,@R1                          ;
 9352                            1928     
 9353                            1929     ;;;;;;;;2017-05-08      FAR_JSR #_API_BREAK_VALV_FLG_OF,R0      ;2014-08-05
 9354                            1930     
 9355                            1931             FAR_JSR #_FRCYCL_OF,R0                  ;上昇無効
 9356 00000D8A D010                   M           MOV.L   #_FRCYCL_OF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9357 00000D8C 400B                   M           JSR     @R0                     ;
 9358 00000D8E 0009                   M           NOP                                     ;
 9359                            1932     
 9360                            1933     ;       ==== 2017-05-12(一旦停止中)======
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    60
PROGRAM NAME =

 9361                            1934             FAR_JSR #_API_HOLD_WAIT_BRKOFF_SIG,R0
 9362 00000D90 D00F                   M           MOV.L   #_API_HOLD_WAIT_BRKOFF_SIG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9363 00000D92 400B                   M           JSR     @R0                     ;
 9364 00000D94 0009                   M           NOP                                     ;
 9365 00000D96 2008              1935             TST     R0,R0                           ;
 9366                            1936             TST_BIT_ON RDY_CHK_EXIT                 ;
 9367 00000D98 8B02                   M           BF      RDY_CHK_EXIT
 9368                            1937     
 9369                            1938             FAR_JSR #_API_BREAK_VALV_FLG_OF,R0      ;2017-05-08
 9370 00000D9A D00E                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9371 00000D9C 400B                   M           JSR     @R0                     ;
 9372 00000D9E 0009                   M           NOP                                     ;
 9373                            1939     
 9374 00000DA0                   1940     RDY_CHK_EXIT:
 9375                            1941             SUB_END
 9376                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9377 00000DA0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9378                            1942             M_RTS
 9379 00000DA2 000B                   M           RTS                             ;RTSの後ろの
 9380 00000DA4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9381                            1943     
 9382                            1944     
 9383                            1945     ;       ***********************************
 9384                            1946     ;       ***                             ***
 9385                            1947     ;       ***     RDY-ON 維持条件         ***
 9386                            1948     ;       ***                             ***
 9387                            1949     ;       ***********************************
 9388                            1950     ;       R0=0 RDY ON KEEP
 9389                                     ***** BEGIN-POOL *****
 9390 00000DA6 0062                       DATA FOR SOURCE-LINE 1894
 9391 00000DA8 0001                       DATA FOR SOURCE-LINE 1910
 9392 00000DAA 0000                       ALIGNMENT CODE
 9393 00000DAC 00000000                   DATA FOR SOURCE-LINE 1892
 9394 00000DB0 00000000                   DATA FOR SOURCE-LINE 1898
 9395 00000DB4 00000000                   DATA FOR SOURCE-LINE 1909
 9396 00000DB8 00000000                   DATA FOR SOURCE-LINE 1914
 9397 00000DBC 00000000                   DATA FOR SOURCE-LINE 1919
 9398 00000DC0 00000000                   DATA FOR SOURCE-LINE 1921
 9399 00000DC4 00000000                   DATA FOR SOURCE-LINE 1923
 9400 00000DC8 00000000                   DATA FOR SOURCE-LINE 1926
 9401 00000DCC 00000000                   DATA FOR SOURCE-LINE 1931
 9402 00000DD0 00000000                   DATA FOR SOURCE-LINE 1934
 9403 00000DD4 00000000                   DATA FOR SOURCE-LINE 1938
 9404                                     ***** END-POOL *****
 9405 00000DD8                   1951     _RDYON_CONF1:
 9406                            1952             SUB_START
 9407 00000DD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9408                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9409 00000DDA D113              1953             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340
 9410 00000DDC 6011              1954             MOV.W   @R1,R0                          ;
 9411 00000DDE 941D              1955             MOV.W   #BIT14,R4                       ;
 9412 00000DE0 2048              1956             TST     R4,R0                           ;
 9413                            1957             TST_BIT_ON RDY_ON_CF_999                ;一旦停止指令
 9414 00000DE2 8B2B                   M           BF      RDY_ON_CF_999
 9415                            1958     
 9416                            1959     ;       ----------------------------------------------
 9417                            1960             _MONI_RDY_SET SETNO=10,SETREG=R0,WKREG=R1       ;2014-09-13
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    61
PROGRAM NAME =

 9418 00000DE4 901B                   M           MOV.W   #10,R0
 9419 00000DE6 D111                   M           MOV.L   #_MONI_RDY_STEP,R1
 9420 00000DE8 2101                   M           MOV.W   R0,@R1
 9421                            1961     ;       ----------------------------------------------
 9422                            1962     
 9423 00000DEA D111              1963             MOV.L   #_SFTY_IN_DAT,R1                ;//安全装置入力 BIT0:前安全　BIT1:後安全装
                                          置
 9424 00000DEC 6011              1964             MOV.W   @R1,R0                          ;
 9425 00000DEE C803              1965             TST     #(BIT1+BIT0),R0                 ;FACT/RACT
 9426                            1966             TST_BIT_ON RDY_ON_CF_999                ;
 9427 00000DF0 8B24                   M           BF      RDY_ON_CF_999
 9428                            1967     
 9429                            1968     ;       ----------------------------------------------
 9430                            1969             _MONI_RDY_SET SETNO=11,SETREG=R0,WKREG=R1       ;2014-09-13
 9431 00000DF2 9015                   M           MOV.W   #11,R0
 9432 00000DF4 D10D                   M           MOV.L   #_MONI_RDY_STEP,R1
 9433 00000DF6 2101                   M           MOV.W   R0,@R1
 9434                            1970     ;       ----------------------------------------------
 9435                            1971     
 9436 00000DF8 D10E              1972             MOV.L   #_MODE_SEL,R1                   ;
 9437 00000DFA 6611              1973             MOV.W   @R1,R6                          ;
 9438 00000DFC 9211              1974             MOV.W   #(_W1DUP+_W1DIC+_W1INC),R2      ;
 9439 00000DFE 2628              1975             TST     R2,R6                           ;
 9440                            1976             TST_BIT_ON RDY_ON_CF_998                ;(寸動・段取はﾛｯﾄｶｳﾝﾄｱｯﾌﾟは関係なし)
 9441 00000E00 8B09                   M           BF      RDY_ON_CF_998
 9442                            1977     
 9443                            1978     ;       ----------------------------------------------
 9444                            1979             _MONI_RDY_SET SETNO=12,SETREG=R0,WKREG=R1       ;2014-09-13
 9445 00000E02 900F                   M           MOV.W   #12,R0
 9446 00000E04 D109                   M           MOV.L   #_MONI_RDY_STEP,R1
 9447 00000E06 2101                   M           MOV.W   R0,@R1
 9448                            1980     ;       ----------------------------------------------
 9449                            1981     
 9450 00000E08 D10B              1982             MOV.L   #_CNT_STOP_CMD,R1               ;
 9451 00000E0A 6011              1983             MOV.W   @R1,R0                          ;
 9452 00000E0C 2008              1984             TST     R0,R0                           ;
 9453                            1985             TST_BIT_ON RDY_ON_CF_999                ;連続停止,LOT,設定異常
 9454 00000E0E 8B15                   M           BF      RDY_ON_CF_999
 9455                            1986     
 9456                            1987     ;;      MOV.L   #_di1_cb_ctl1_dt,R1             ;
 9457                            1988     ;;      MOV.W   @R1,R0                          ;
 9458                            1989     ;;      MOV.W   #_W1END,R2                      ;
 9459                            1990     ;;      TST     R2,R0                           ;連続停止
 9460                            1991     ;;      TST_BIT_ON RDY_ON_CF_999                ;
 9461                            1992     
 9462                            1993     ;       ----------------------------------------------
 9463                            1994             _MONI_RDY_SET SETNO=13,SETREG=R0,WKREG=R1       ;2014-09-13
 9464 00000E10 9009                   M           MOV.W   #13,R0
 9465 00000E12 D106                   M           MOV.L   #_MONI_RDY_STEP,R1
 9466 00000E14 2101                   M           MOV.W   R0,@R1
 9467                            1995     ;       ----------------------------------------------
 9468                            1996     
 9469 00000E16                   1997     RDY_ON_CF_998:
 9470 00000E16 200A              1998             XOR     R0,R0                   ;準備完了
 9471                            1999             M_BRA   RDY_ON_CF_EXT           ;
 9472 00000E18 A011                   M           BRA     RDY_ON_CF_EXT
 9473 00000E1A 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    62
PROGRAM NAME =

 9474                                     ***** BEGIN-POOL *****
 9475 00000E1C 4000                       DATA FOR SOURCE-LINE 1955
 9476 00000E1E 000A                       DATA FOR SOURCE-LINE 1960
 9477 00000E20 000B                       DATA FOR SOURCE-LINE 1969
 9478 00000E22 0062                       DATA FOR SOURCE-LINE 1974
 9479 00000E24 000C                       DATA FOR SOURCE-LINE 1979
 9480 00000E26 000D                       DATA FOR SOURCE-LINE 1994
 9481 00000E28 00000000                   DATA FOR SOURCE-LINE 1953
 9482 00000E2C 00000000                   DATA FOR SOURCE-LINE 1960,1969,1979,1994
 9483 00000E30 00000000                   DATA FOR SOURCE-LINE 1963
 9484 00000E34 00000000                   DATA FOR SOURCE-LINE 1972
 9485 00000E38 00000000                   DATA FOR SOURCE-LINE 1982
 9486                                     ***** END-POOL *****
 9487 00000E3C                   2000     RDY_ON_CF_999:
 9488 00000E3C E0FF              2001             MOV     #-1,R0                  ;準備未完了
 9489 00000E3E                   2002     RDY_ON_CF_EXT:
 9490                            2003             SUB_END
 9491                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9492 00000E3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9493                            2004             M_RTS
 9494 00000E40 000B                   M           RTS                             ;RTSの後ろの
 9495 00000E42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9496                            2005     
 9497                            2006     ;       ***********************************
 9498                            2007     ;       ***                             ***
 9499                            2008     ;       ***     2006-04-10              ***
 9500                            2009     ;       ***                             ***
 9501                            2010     ;       ***********************************
 9502                            2011     ;;;;2015-09-06
 9503                            2012     ;;;;_BRK_SADOU_CHG EQ 0 廃止
 9504                            2013     ;;;;_RDY_OF_SFTY_LOCK:
 9505                            2014     ;;;;    SUB_START
 9506                            2015     ;;;;    MOV.L   #_PAR_SFTY_BRKSEL,R1            ;
 9507                            2016     ;;;;    MOV.W   @R1,R0                          ;
 9508                            2017     ;;;;    CMP/EQ  #1,R0                           ;
 9509                            2018     ;;;;    BF      RDY_OF_SFTYLOCK_END             ;
 9510                            2019     ;;;;
 9511                            2020     ;;;;;   ----------- 位置決め完了から遅延時間分は遮光になってもブレーキかけない安一------
 9512                            2021     ;;;;;   (ｾﾙﾌﾁｪｯｸ遅延時間)2007-01-16(ﾌﾞﾚｰｷをかけない)
 9513                            2022     ;;;;    MOV.L   #_SFTY_LOCK_DLYTM,R1            ;
 9514                            2023     ;;;;    MOV.W   @R1,R0                          ;(上昇ﾎｰﾙﾄﾞ無効)
 9515                            2024     ;;;;    TST     R0,R0                           ;
 9516                            2025     ;;;;    TST_BIT_ON RDY_OF_SFTYLOCK_END          ;(位置決め完了遅延時間)
 9517                            2026     ;;;;
 9518                            2027     ;;;;
 9519                            2028     ;;;;    MOV.L   #_SFTY_IN_DAT,R1                ;//安全装置入力 BIT0:前安全　BIT1:後安全装
                                          置
 9520                            2029     ;;;;    MOV.W   @R1,R0                          ;
 9521                            2030     ;;;;    TST     #(BIT1+BIT0),R0                 ;FACT/RACT
 9522                            2031     ;;;;    TST_BIT_OF RDY_OF_SFTYLOCK_100          ;
 9523                            2032     ;;;;
 9524                            2033     ;;;;
 9525                            2034     ;;;;    MOV.W   #BIT0,R0                        ;
 9526                            2035     ;;;;    MOV.L   #_RDY_SFTY_LOCK,R1              ;//BIT0:LOCK
 9527                            2036     ;;;;    MOV.W   R0,@R1                          ;
 9528                            2037     ;;;;    M_BRA   RDY_OF_SFTYLOCK_END             ;
 9529                            2038     ;;;;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    63
PROGRAM NAME =

 9530                            2039     ;;;;RDY_OF_SFTYLOCK_100:
 9531                            2040     ;;;;    XOR     R0,R0
 9532                            2041     ;;;;    MOV.L   #_RDY_SFTY_LOCK,R1              ;//BIT0:LOCK
 9533                            2042     ;;;;    MOV.W   R0,@R1                          ;
 9534                            2043     ;;;;
 9535                            2044     ;;;;RDY_OF_SFTYLOCK_END:
 9536                            2045     ;;;;    SUB_END
 9537                            2046     ;;;;    M_RTS
 9538                            2047     
 9539                            2048     
 9540                            2049     ;       ***********************************
 9541                            2050     ;       ***                             ***
 9542                            2051     ;       ***     RDY-ON から起動条件     ***
 9543                            2052     ;       ***             準備未完へ      ***
 9544                            2053     ;       ***                             ***
 9545                            2054     ;       ***********************************
 9546                            2055     ;       (0.5秒同時ON,)
 9547                            2056     ;       R0=00(KEEP) H'55(起動) FF(準備未完へ)
 9548 00000E44                   2057     _BTTN_START_CHK:
 9549                            2058             SUB_START
 9550 00000E44 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9551                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9552                            2059     
 9553                            2060     ;       ------- 2007-01-16(遮光装置の遅延時の起動記憶)----------
 9554 00000E46 D105              2061             MOV.L   #_DRV_START_KEEP,R1             ;FLG
 9555 00000E48 6011              2062             MOV.W   @R1,R0                          ;
 9556 00000E4A C801              2063             TST     #BIT0,R0                        ;
 9557                            2064             TST_BIT_OF BTTN_DRVSEP_CHK_END          ;
 9558 00000E4C 890D                   M           BT      BTTN_DRVSEP_CHK_END
 9559                            2065     
 9560 00000E4E D104              2066             MOV.L   #_BTTN_FLG,R1                   ;
 9561 00000E50 6011              2067             MOV.W   @R1,R0                          ;
 9562 00000E52 C804              2068             TST     #BIT2,R0                        ;両手ON
 9563                            2069             TST_BIT_OF BTTN_DRVSEP_CHK_CLR          ;両手ONをやめた
 9564 00000E54 8906                   M           BT      BTTN_DRVSEP_CHK_CLR
 9565                            2070             M_BRA   BTTN_START_CK570                ;
 9566 00000E56 A09E                   M           BRA     BTTN_START_CK570
 9567 00000E58 0009                   M           NOP
 9568                            2071     
 9569                                     ***** BEGIN-POOL *****
 9570 00000E5A 0000                       ALIGNMENT CODE
 9571 00000E5C 00000000                   DATA FOR SOURCE-LINE 2061
 9572 00000E60 00000000                   DATA FOR SOURCE-LINE 2066
 9573                                     ***** END-POOL *****
 9574 00000E64                   2072     BTTN_DRVSEP_CHK_CLR:
 9575 00000E64 200A              2073             XOR     R0,R0                   ;
 9576 00000E66 D10B              2074             MOV.L   #_DRV_START_KEEP,R1     ;FLG
 9577 00000E68 2101              2075             MOV.W   R0,@R1                  ;;
 9578 00000E6A                   2076     BTTN_DRVSEP_CHK_END:
 9579                            2077     
 9580                            2078     
 9581                            2079     ;;_BRK_SADOU_CHG EQ 0
 9582                            2080     ;;;;;;2015-09-06
 9583                            2081     ;;;;;;; ------- 2007-01-23(遮光装置の遅延時手動パルサは受け付けない)-------
 9584                            2082     ;;;;;;  MOV.L   #_RDY_SFTY_WAIT_TIM,R1                          ;
 9585                            2083     ;;;;;;  MOV.W   @R1,R0                                          ;
 9586                            2084     ;;;;;;  TST     R0,R0                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    64
PROGRAM NAME =

 9587                            2085     ;;;;;;  TST_BIT_OF BTTN_DRVTEP_CHKEND                           ;
 9588                            2086     ;;;;;;  FAR_JSR #_TEPA_PLSCNT_CLR,R0                            ;
 9589                            2087     ;;;;;;BTTN_DRVTEP_CHKEND
 9590                            2088     ;       ---------------------------------[2]
 9591                            2089     
 9592                            2090     
 9593                            2091     
 9594                            2092     
 9595                            2093     
 9596 00000E6A D10B              2094             MOV.L   #_BTTN_FLG,R1           ;
 9597 00000E6C 6011              2095             MOV.W   @R1,R0                  ;
 9598 00000E6E C801              2096             TST     #BIT0,R0                ;両手ﾌﾘ?
 9599                            2097             TST_BIT_OF BTTN_START_CK100     ;NO JUMP
 9600 00000E70 8905                   M           BT      BTTN_START_CK100
 9601                            2098     
 9602                            2099             FAR_JSR #_TEPA_PLSCNT_CLR,R0    ;2006-07-28
 9603 00000E72 D00A                   M           MOV.L   #_TEPA_PLSCNT_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9604 00000E74 400B                   M           JSR     @R0                     ;
 9605 00000E76 0009                   M           NOP                                     ;
 9606                            2100     
 9607 00000E78 9209              2101             MOV.W   #_SYS_BSAME_TIM,R2      ;(両手ﾌﾘｰ)
 9608 00000E7A D109              2102             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
 9609 00000E7C 2121              2103             MOV.W   R2,@R1                  ;
 9610 00000E7E                   2104     BTTN_START_CK100:
 9611                            2105     
 9612 00000E7E D109              2106             MOV.L   #_MODE_SEL,R1           ;
 9613 00000E80 6611              2107             MOV.W   @R1,R6                  ;
 9614 00000E82 9205              2108             MOV.W   #_W1CNT,R2              ;
 9615 00000E84 2628              2109             TST     R2,R6                   ;
 9616                            2110             TST_BIT_ON BTTN_START_CK150     ;
 9617 00000E86 8B0F                   M           BF      BTTN_START_CK150
 9618 00000E88 9203              2111             MOV.W   #H'7FFF,R2              ;連続以外はいつでも7FFF設定
 9619                            2112             M_BRA   BTTN_START_CK220        ;
 9620 00000E8A A042                   M           BRA     BTTN_START_CK220
 9621 00000E8C 0009                   M           NOP
 9622                            2113     
 9623                                     ***** BEGIN-POOL *****
 9624 00000E8E 01F4                       DATA FOR SOURCE-LINE 2101
 9625 00000E90 0008                       DATA FOR SOURCE-LINE 2108
 9626 00000E92 7FFF                       DATA FOR SOURCE-LINE 2111
 9627 00000E94 00000000                   DATA FOR SOURCE-LINE 2074
 9628 00000E98 00000000                   DATA FOR SOURCE-LINE 2094
 9629 00000E9C 00000000                   DATA FOR SOURCE-LINE 2099
 9630 00000EA0 00000000                   DATA FOR SOURCE-LINE 2102
 9631 00000EA4 00000000                   DATA FOR SOURCE-LINE 2106
 9632                                     ***** END-POOL *****
 9633 00000EA8                   2114     BTTN_START_CK150:
 9634                            2115     ;       **********************************
 9635                            2116     ;       ***     2004-01-26              **
 9636                            2117     ;       **********************************
 9637 00000EA8 D106              2118             MOV.L   #_MODE_SEL,R1           ;
 9638 00000EAA 6011              2119             MOV.W   @R1,R0                  ;
 9639 00000EAC 9108              2120             MOV.W   #(BIT12+BIT11),R1       ;
 9640 00000EAE 2018              2121             TST     R1,R0                   ;OPTIONの連続寸動
 9641                            2122             TST_BIT_ON BTTN_START_CK180     ;本当のｵﾌﾟｼｮﾝではない
 9642 00000EB0 8B03                   M           BF      BTTN_START_CK180
 9643                            2123     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    65
PROGRAM NAME =

 9644                            2124     ;       ===============================================
 9645                            2125     ;       ====== ｾｯﾄｱｯﾌﾟ仕様CHEAK 未なら 7FFF=R2 CK220へ==
 9646                            2126     ;       ================================================
 9647 00000EB2 D105              2127             MOV.L   #_CB_SEQ_SW_SEL028,R1   ;//SEQ 28
 9648 00000EB4 6011              2128             MOV.W   @R1,R0                  ;28.4
 9649 00000EB6 C810              2129             TST     #BIT4,R0                ;
 9650                            2130             TST_BIT_ON BTTN_START_CK190     ;ｾｯﾄｱｯﾌﾟ仕様
 9651 00000EB8 8B08                   M           BF      BTTN_START_CK190
 9652 00000EBA                   2131     BTTN_START_CK180:                       ;
 9653 00000EBA 9202              2132             MOV.W   #H'7FFF,R2              ;
 9654                            2133             M_BRA   BTTN_START_CK220        ;
 9655 00000EBC A029                   M           BRA     BTTN_START_CK220
 9656 00000EBE 0009                   M           NOP
 9657                            2134     
 9658                            2135     ;       ===== ｾｯﾄｱｯﾌﾟﾁｪｯｸ ====
 9659                                     ***** BEGIN-POOL *****
 9660 00000EC0 1800                       DATA FOR SOURCE-LINE 2120
 9661 00000EC2 7FFF                       DATA FOR SOURCE-LINE 2132
 9662 00000EC4 00000000                   DATA FOR SOURCE-LINE 2118
 9663 00000EC8 00000000                   DATA FOR SOURCE-LINE 2127
 9664                                     ***** END-POOL *****
 9665 00000ECC                   2136     BTTN_START_CK190:
 9666 00000ECC D105              2137             MOV.L   #_SET_UP_TIM,R1         ;
 9667 00000ECE 6211              2138             MOV.W   @R1,R2                  ;
 9668 00000ED0 2228              2139             TST     R2,R2                   ;
 9669                            2140             TST_BIT_OF BTTN_START_CK192     ;ｾｯﾄｱｯﾌﾟ待ち
 9670 00000ED2 890B                   M           BT      BTTN_START_CK192
 9671                            2141     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
 9672                            2142             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
 9673 00000ED4 D104                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 9674 00000ED6 6011                   M           MOV.W   @R1,R0          ;
 9675 00000ED8 9403                   M           MOV.W   #LWORD (~BIT3),R4       ;
 9676 00000EDA 2049                   M           AND     R4,R0           ;
 9677 00000EDC 2101                   M           MOV.W   R0,@R1          ;
 9678                            2143             M_BRA   BTTN_START_CK195
 9679 00000EDE A00A                   M           BRA     BTTN_START_CK195
 9680 00000EE0 0009                   M           NOP
 9681                                     ***** BEGIN-POOL *****
 9682 00000EE2 FFF7                       DATA FOR SOURCE-LINE 2142
 9683 00000EE4 00000000                   DATA FOR SOURCE-LINE 2137
 9684 00000EE8 00000000                   DATA FOR SOURCE-LINE 2142
 9685                                     ***** END-POOL *****
 9686 00000EEC                   2144     BTTN_START_CK192:
 9687                            2145     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち状態 ======
 9688                            2146             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB206,LG=W,BIT=(BIT3),WKRG1=R1,WKRG2=R4
 9689 00000EEC D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
 9690 00000EEE 6011                   M           MOV.W   @R1,R0          ;
 9691 00000EF0 9408                   M           MOV.W   #(BIT3),R4              ;
 9692 00000EF2 204B                   M           OR      R4,R0           ;
 9693 00000EF4 2101                   M           MOV.W   R0,@R1          ;
 9694 00000EF6                   2147     BTTN_START_CK195:
 9695                            2148     
 9696 00000EF6 D305              2149             MOV.L   #_di2_cb_ctl2_on,R3     ;
 9697 00000EF8 6131              2150             MOV.W   @R3,R1                  ;
 9698 00000EFA 9204              2151             MOV.W   #_W2SUP,R2              ;連続ｾｯﾄｱｯﾌﾟ釦
 9699 00000EFC 2128              2152             TST     R2,R1                   ;
 9700                            2153             TST_BIT_ON BTTN_START_CK200     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    66
PROGRAM NAME =

 9701 00000EFE 8B07                   M           BF      BTTN_START_CK200
 9702                            2154             M_BRA   BTTN_START_CK300        ;
 9703 00000F00 A009                   M           BRA     BTTN_START_CK300
 9704 00000F02 0009                   M           NOP
 9705                            2155     
 9706                                     ***** BEGIN-POOL *****
 9707 00000F04 0008                       DATA FOR SOURCE-LINE 2146
 9708 00000F06 0080                       DATA FOR SOURCE-LINE 2151
 9709 00000F08 00000000                   DATA FOR SOURCE-LINE 2146
 9710 00000F0C 00000000                   DATA FOR SOURCE-LINE 2149
 9711                                     ***** END-POOL *****
 9712 00000F10                   2156     BTTN_START_CK200:
 9713 00000F10 9214              2157             MOV.W   #_SYS_SETUP_TIM,R2      ;
 9714 00000F12                   2158     BTTN_START_CK220:
 9715 00000F12 D10B              2159             MOV.L   #_SET_UP_TIM,R1         ;
 9716 00000F14 2121              2160             MOV.W   R2,@R1                  ;
 9717                            2161     
 9718                            2162     ;       ============================
 9719 00000F16                   2163     BTTN_START_CK300:
 9720 00000F16 D10B              2164             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
 9721 00000F18 6211              2165             MOV.W   @R1,R2                  ;
 9722 00000F1A 2228              2166             TST     R2,R2                   ;
 9723                            2167             TST_BIT_OF BTTN_START_CK599     ;準備未完了へ
 9724 00000F1C 893E                   M           BT      BTTN_START_CK599
 9725                            2168     
 9726                            2169     ;;;;;   -------- 2011-07-04 段取の手パモードでは手パしか受付ないように変更--
 9727                            2170     ;;;;;                                   ;ｾｯﾄｱｯﾌﾟの処理が必要
 9728                            2171     ;;;;;           MOV.L   #_BTTN_FLG,R1           ;
 9729                            2172     ;;;;;           MOV.W   @R1,R0                  ;
 9730                            2173     ;;;;;           TST     #BIT2,R0                ;両手ON
 9731                            2174     ;;;;;           TST_BIT_ON BTTN_START_CK350     ;ｾｯﾄｱｯﾌﾟﾁｪｯｸ後起動処理へ
 9732                            2175     ;;;;;
 9733                            2176     ;;;;;   ;       ------- 2006-07-28 ------------
 9734                            2177     ;;;;;           MOV.L   #_MODE_SEL,R1                   ;
 9735                            2178     ;;;;;           MOV.W   @R1,R0                          ;
 9736                            2179     ;;;;;           TST     #_W1DIC,R0                      ;
 9737                            2180     ;;;;;           TST_BIT_OF BTTN_START_CK320             ;
 9738                            2181     ;;;;;
 9739                            2182     ;;;;;           FAR_JSR #_TEPA_START_CHK,R0             ;
 9740                            2183     ;;;;;           TST     R0,R0                           ;
 9741                            2184     ;;;;;           TST_BIT_ON BTTN_START_CK570             ;
 9742                            2185     ;;;;;   BTTN_START_CK320:
 9743                            2186     ;       ---------------------------------
 9744                            2187     
 9745                            2188     ;       -------------------
 9746 00000F1E D10A              2189             MOV.L   #_MODE_SEL,R1                   ;
 9747 00000F20 6011              2190             MOV.W   @R1,R0                          ;
 9748 00000F22 C820              2191             TST     #_W1DIC,R0                      ;
 9749                            2192             TST_BIT_OF BTTN_START_CK320             ;
 9750 00000F24 8916                   M           BT      BTTN_START_CK320
 9751                            2193     
 9752 00000F26 D109              2194             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 9753 00000F28 6011              2195             MOV.W   @R1,R0                          ;
 9754 00000F2A C802              2196             TST     #BIT1,R0                        ;
 9755                            2197             TST_BIT_OF BTTN_START_CK320             ;手パ無効
 9756 00000F2C 8912                   M           BT      BTTN_START_CK320
 9757                            2198     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    67
PROGRAM NAME =

 9758                            2199             FAR_JSR #_TEPA_START_CHK,R0             ;
 9759 00000F2E D008                   M           MOV.L   #_TEPA_START_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9760 00000F30 400B                   M           JSR     @R0                     ;
 9761 00000F32 0009                   M           NOP                                     ;
 9762 00000F34 2008              2200             TST     R0,R0                           ;
 9763                            2201             TST_BIT_ON BTTN_START_CK570             ;
 9764 00000F36 8B2E                   M           BF      BTTN_START_CK570
 9765                            2202             M_BRA   BTTN_START_CK550                ;
 9766 00000F38 A02A                   M           BRA     BTTN_START_CK550
 9767 00000F3A 0009                   M           NOP
 9768                            2203     
 9769                                     ***** BEGIN-POOL *****
 9770 00000F3C 07D0                       DATA FOR SOURCE-LINE 2157
 9771 00000F3E 0000                       ALIGNMENT CODE
 9772 00000F40 00000000                   DATA FOR SOURCE-LINE 2159
 9773 00000F44 00000000                   DATA FOR SOURCE-LINE 2164
 9774 00000F48 00000000                   DATA FOR SOURCE-LINE 2189
 9775 00000F4C 00000000                   DATA FOR SOURCE-LINE 2194
 9776 00000F50 00000000                   DATA FOR SOURCE-LINE 2199
 9777                                     ***** END-POOL *****
 9778 00000F54                   2204     BTTN_START_CK320:
 9779                            2205     ;       -------- 2011-07-04 段取の手パモードでは手パしか受付ないように変更--
 9780                            2206                                     ;ｾｯﾄｱｯﾌﾟの処理が必要
 9781 00000F54 D107              2207             MOV.L   #_BTTN_FLG,R1           ;
 9782 00000F56 6011              2208             MOV.W   @R1,R0                  ;
 9783 00000F58 C804              2209             TST     #BIT2,R0                ;両手ON
 9784                            2210             TST_BIT_ON BTTN_START_CK350     ;ｾｯﾄｱｯﾌﾟﾁｪｯｸ後起動処理へ
 9785 00000F5A 8B11                   M           BF      BTTN_START_CK350
 9786                            2211     
 9787                            2212     ;       ---------------------------------
 9788                            2213     
 9789                            2214     ;       ===== ｾｯﾄｱｯﾌﾟ釦を押しながら2秒経過してしまったのかチェック===
 9790 00000F5C D106              2215             MOV.L   #_SET_UP_TIM,R1         ;
 9791 00000F5E 6211              2216             MOV.W   @R1,R2                  ;
 9792 00000F60 2228              2217             TST     R2,R2                   ;
 9793                            2218             TST_BIT_ON BTTN_START_CK550     ;
 9794 00000F62 8B15                   M           BF      BTTN_START_CK550
 9795                            2219     
 9796 00000F64 D305              2220             MOV.L   #_di2_cb_ctl2_dt,R3     ;
 9797 00000F66 6131              2221             MOV.W   @R3,R1                  ;
 9798 00000F68 9203              2222             MOV.W   #_W2SUP,R2              ;連続ｾｯﾄｱｯﾌﾟ釦
 9799 00000F6A 2128              2223             TST     R2,R1                   ;ON続けて2秒経過
 9800                            2224             TST_BIT_ON BTTN_START_CK599     ;
 9801 00000F6C 8B16                   M           BF      BTTN_START_CK599
 9802                            2225             M_BRA   BTTN_START_CK550        ;
 9803 00000F6E A00F                   M           BRA     BTTN_START_CK550
 9804 00000F70 0009                   M           NOP
 9805                            2226     
 9806                            2227     ;       ==== 運転釦ON ====
 9807                                     ***** BEGIN-POOL *****
 9808 00000F72 0080                       DATA FOR SOURCE-LINE 2222
 9809 00000F74 00000000                   DATA FOR SOURCE-LINE 2207
 9810 00000F78 00000000                   DATA FOR SOURCE-LINE 2215
 9811 00000F7C 00000000                   DATA FOR SOURCE-LINE 2220
 9812                                     ***** END-POOL *****
 9813 00000F80                   2228     BTTN_START_CK350:
 9814 00000F80 D102              2229             MOV.L   #_SET_UP_TIM,R1         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    68
PROGRAM NAME =

 9815 00000F82 6211              2230             MOV.W   @R1,R2                  ;
 9816 00000F84 2228              2231             TST     R2,R2                   ;
 9817                            2232             TST_BIT_OF BTTN_START_CK599     ;ｾｯﾄｱｯﾌﾟOFF
 9818 00000F86 8909                   M           BT      BTTN_START_CK599
 9819                            2233             M_BRA   BTTN_START_CK570
 9820 00000F88 A005                   M           BRA     BTTN_START_CK570
 9821 00000F8A 0009                   M           NOP
 9822                            2234     
 9823                            2235     
 9824                                     ***** BEGIN-POOL *****
 9825 00000F8C 00000000                   DATA FOR SOURCE-LINE 2229
 9826                                     ***** END-POOL *****
 9827 00000F90                   2236     BTTN_START_CK550:                       ;
 9828 00000F90 200A              2237             XOR     R0,R0                   ;
 9829                            2238             M_BRA   BTTN_START_CKEXT        ;
 9830 00000F92 A004                   M           BRA     BTTN_START_CKEXT
 9831 00000F94 0009                   M           NOP
 9832 00000F96                   2239     BTTN_START_CK570:
 9833 00000F96 E055              2240             MOV     #H'55,R0                ;起動
 9834                            2241             M_BRA   BTTN_START_CKEXT        ;
 9835 00000F98 A001                   M           BRA     BTTN_START_CKEXT
 9836 00000F9A 0009                   M           NOP
 9837 00000F9C                   2242     BTTN_START_CK599:                       ;
 9838 00000F9C E0FF              2243             MOV     #-1,R0                  ;準備未完へ
 9839 00000F9E                   2244     BTTN_START_CKEXT:
 9840                            2245             SUB_END
 9841                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9842 00000F9E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9843                            2246             M_RTS
 9844 00000FA0 000B                   M           RTS                             ;RTSの後ろの
 9845 00000FA2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9846                            2247     
 9847                            2248     
 9848                            2249     ;       *******************************************
 9849                            2250     ;       ***                                     ***
 9850                            2251     ;       ***     2016-10-31(2016-04-16)          ***
 9851                            2252     ;       ***      ｻﾌﾞﾙｰﾁﾝにする(JUMP)            ***
 9852                            2253     ;       *******************************************
 9853                            2254              .AIF   1 EQ 1  ;
 9854                            2255 C   ;       -------- 2016-10-31 ADD 二重回路対策
 9855                            2256              .AENDI
 9856                            2257     
 9857                            2258             .IMPORT _PAR_SELFCHK_POWSEL
 9858 00000FA4                   2259     _SELFCHK_LOCK_SET:              ;2016-04-16
 9859                            2260             SUB_START
 9860 00000FA4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9861                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9862                            2261     
 9863 00000FA6 D108              2262             MOV.L   #_PAR_SELFCHK_POWSEL,R1         ;
 9864 00000FA8 6011              2263             MOV.W   @R1,R0                          ;
 9865 00000FAA 8801              2264             CMP/EQ  #1,R0                           ;
 9866 00000FAC 8908              2265             BT      SELF_FORCE_POW_100              ;"1"ならちゃんとセルフする
 9867                            2266     
 9868                            2267     ;       ===== 2006-12-06 [1]=====
 9869 00000FAE 900A              2268             MOV.W   #BIT0,R0                        ;"0"なら起動１回後はセルフしない
 9870 00000FB0 D106              2269             MOV.L   #_SELF_LOCK_FLG,R1              ;
 9871 00000FB2 2101              2270             MOV.W   R0,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    69
PROGRAM NAME =

 9872 00000FB4 222A              2271             XOR     R2,R2                           ;
 9873 00000FB6 233A              2272             XOR     R3,R3                           ;
 9874 00000FB8 D105              2273             MOV.L   #_SELF_CHK_SEL,R1               ;
 9875 00000FBA 2121              2274             MOV.W   R2,@R1                          ;
 9876 00000FBC D105              2275             MOV.L   #_SELF_CHK_MATHED,R1            ;
 9877 00000FBE 2131              2276             MOV.W   R3,@R1                          ;
 9878                            2277     
 9879 00000FC0                   2278     SELF_FORCE_POW_100
 9880                            2279             SUB_END
 9881                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9882 00000FC0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9883                            2280             M_RTS
 9884 00000FC2 000B                   M           RTS                             ;RTSの後ろの
 9885 00000FC4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9886                            2281     
 9887                            2282     
 9888                            2283     ;       ***********************************
 9889                            2284     ;       ***                             ***
 9890                            2285     ;       ***     CPUA位置→CPUB位置      ***
 9891                            2286     ;       ***     2015-03-15 寸動対策     ***
 9892                            2287     ;       ***                             ***
 9893                            2288     ;       ***********************************
 9894                            2289             .IMPORT _SH_POSCTL_RL_ABSPLS
 9895                                     ***** BEGIN-POOL *****
 9896 00000FC6 0001                       DATA FOR SOURCE-LINE 2268
 9897 00000FC8 00000000                   DATA FOR SOURCE-LINE 2262
 9898 00000FCC 00000000                   DATA FOR SOURCE-LINE 2269
 9899 00000FD0 00000000                   DATA FOR SOURCE-LINE 2273
 9900 00000FD4 00000000                   DATA FOR SOURCE-LINE 2275
 9901                                     ***** END-POOL *****
 9902 00000FD8                   2290     _ELSE_CPU_START_POS_PRESET:
 9903                            2291             SUB_START
 9904 00000FD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9905                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9906                            2292             .AIF    0 EQ    0       ;
 9907                            2293 C   
 9908                            2294             .AELSE
 9909                            2295     
 9910                            2296             MOV.L   #_SH_POSCTL_RL_ABSPLS,R4        ;CPUA
 9911                            2297             MOV.L   @(0,R4),R1                              ;
 9912                            2298             MOV.L   @(4,R4),R2                              ;
 9913                            2299     
 9914                            2300             MOV.L   @(0,R4),R5                              ;
 9915                            2301             MOV.L   @(4,R4),R6                              ;
 9916                            2302             SUB     R1,R5
 9917                            2303             SUB     R2,R6                                   ;
 9918                            2304             OR      R5,R6                                   ;
 9919                            2305             TST     R6,R6                                   ;
 9920                            2306             TST_BIT_OF ELSECPU_GET_OBJPOS_100               ;8ﾊﾞｲﾄｱｸｾｽ中の問題
 9921                            2307     
 9922                            2308             MOV.L   @(0,R4),R1                              ;
 9923                            2309             MOV.L   @(4,R4),R2                              ;
 9924                            2310     
 9925                            2311     
 9926                            2312     ELSECPU_GET_OBJPOS_100
 9927                            2313             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
 9928                            2314             MOV.L   R1,@(0,R4)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    70
PROGRAM NAME =

 9929                            2315             MOV.L   R2,@(4,R4)
 9930                            2316     
 9931                            2317     ELSECPU_GET_OBJPOS_EXT
 9932                            2318     
 9933                            2319             .AENDI
 9934                            2320             SUB_END
 9935                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9936 00000FDA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9937                            2321             M_RTS
 9938 00000FDC 000B                   M           RTS                             ;RTSの後ろの
 9939 00000FDE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9940                            2322     
 9941                            2323     
 9942                            2324     
 9943                            2325     ;       *******************************************
 9944                            2326     ;       ***                                     ***
 9945                            2327     ;       ***                                     ***
 9946                            2328     ;       ***                                     ***
 9947                            2329     ;       *******************************************
 9948 00000FE0                   2330     _MODE_CNT_STOP_CHK:
 9949                            2331             SUB_START
 9950 00000FE0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9951                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9952                            2332             FAR_JSR #_CPU_AB_CST_OF_JG,R0   ;
 9953 00000FE2 D017                   M           MOV.L   #_CPU_AB_CST_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9954 00000FE4 400B                   M           JSR     @R0                     ;
 9955 00000FE6 0009                   M           NOP                                     ;
 9956 00000FE8 2118              2333             TST     R1,R1                   ;
 9957                            2334             TST_BIT_OF MODE_CNT_STPCMP_100  ;自分のいくぞ信号ON? NO
 9958 00000FEA 890F                   M           BT      MODE_CNT_STPCMP_100
 9959                            2335     
 9960 00000FEC D115              2336             MOV.L   #_INT_POS_CTL_STEP,R1   ;//内部制御工程1~11
 9961 00000FEE 6011              2337             MOV.W   @R1,R0                  ;
 9962 00000FF0 D215              2338             MOV.L   #_CPOS_STEP_MAX,R2      ;
 9963 00000FF2 6421              2339             MOV.W   @R2,R4                  ;
 9964 00000FF4 7401              2340             ADD     #1,R4                   ;
 9965 00000FF6 3400              2341             CMP/EQ  R0,R4                   ;
 9966 00000FF8 8908              2342             BT      MODE_CNT_STPCMP_100     ;最終工程
 9967                            2343     
 9968 00000FFA 6503              2344             MOV     R0,R5                   ;push
 9969                            2345             FAR_JSR #_CPU_BA_STEP_LOAD,R2   ;ANS R3
 9970 00000FFC D213                   M           MOV.L   #_CPU_BA_STEP_LOAD,R2           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9971 00000FFE 420B                   M           JSR     @R2                     ;
 9972 00001000 0009                   M           NOP                                     ;
 9973 00001002 3500              2346             CMP/EQ  R0,R5                   ;
 9974 00001004 8B02              2347             BF      MODE_CNT_STPCMP_100     ;不一致状態
 9975                            2348     
 9976                            2349             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0 ;自分のいくぞ信号クリア(相手のもやったほうがいいの
                                          か？)
 9977 00001006 D012                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9978 00001008 400B                   M           JSR     @R0                     ;
 9979 0000100A 0009                   M           NOP                                     ;
 9980                            2350     
 9981 0000100C                   2351     MODE_CNT_STPCMP_100:
 9982                            2352     
 9983                            2353     ;       -------- 2015-11-13-------------------
 9984                            2354     ;;      MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    71
PROGRAM NAME =

 9985                            2355     ;;      MOV.W   @R1,R0                          ;
 9986                            2356     ;;      MOV.W   #_WOATO,R2                      ;AUTO
 9987                            2357     ;;      TST     R2,R0                           ;
 9988                            2358     ;;      TST_BIT_ON MODE_CNT_STPCHK_200          ;AUTO ON
 9989                            2359     ;;
 9990                            2360     ;;      MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
 9991                            2361     ;;      MOV.W   @R1,R0                          ;
 9992                            2362     ;;      MOV.W   #(BIT9+BIT8),R4                 ;
 9993                            2363     ;;      TST     R4,R0                           ;
 9994                            2364     ;;      TST_BIT_OF MODE_CNT_STPCHK_199          ;通常ﾓ-ﾄﾞ
 9995                            2365     ;;
 9996                            2366     ;;      MOV.W   #BIT8,R4                        ;
 9997                            2367     ;;      TST     R4,R0                           ;ﾀｲﾏ?
 9998                            2368     ;;      TST_BIT_OF MODE_CNT_STPCHK_050
 9999                            2369     ;;      MOV.L   #_CONT_MOD_TIM_PV,R1            ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
10000                            2370     ;;      MOV.L   @R1,R0                          ;
10001                            2371     ;;      M_BRA   MODE_CNT_STPCHK_080             ;
10002                            2372     ;;
10003                            2373     ;;MODE_CNT_STPCHK_050:
10004                            2374     ;;      MOV.L   #_CONT_MOD_CNT_PV,R1            ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
10005                            2375     ;;      MOV.W   @R1,R0                          ;
10006                            2376     ;;MODE_CNT_STPCHK_080:
10007                            2377     ;;      TST     R0,R0                           ;ﾀｲﾏ/ｶｳﾝﾀ　UP?
10008                            2378     ;;      TST_BIT_OF MODE_CNT_STPCHK_199          ;
10009                            2379     
10010                            2380     
10011                            2381     ;       -------- 2015-11-13-------------------
10012 0000100C D111              2382             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
10013 0000100E 6011              2383             MOV.W   @R1,R0                          ;
10014 00001010 9414              2384             MOV.W   #(BIT9+BIT8),R4                 ;
10015 00001012 2048              2385             TST     R4,R0                           ;
10016                            2386             TST_BIT_OF MODE_CNT_STPCHK_199          ;通常ﾓ-ﾄﾞ:AUTO ON固定
10017 00001014 895E                   M           BT      MODE_CNT_STPCHK_199
10018                            2387     
10019                            2388     ;       -------------AUTO ON[ﾀｲﾏ,回転ﾓｰﾄﾞ]----------------------
10020 00001016 D110              2389             MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
10021 00001018 6011              2390             MOV.W   @R1,R0                          ;
10022 0000101A 9210              2391             MOV.W   #_WOATO,R2                      ;AUTO
10023 0000101C 2028              2392             TST     R2,R0                           ;
10024                            2393             TST_BIT_OF MODE_CNT_STPCHK_120          ;AUTO OFF
10025 0000101E 8923                   M           BT      MODE_CNT_STPCHK_120
10026                            2394     
10027                            2395     ;;; .AIF 1 EQ 1
10028                            2396     ;       --------- 相手CPU停止判定必要[2015-11-15]------
10029                            2397             FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;
10030 00001020 D00E                   M           MOV.L   #_CPU_BA_DRVSTOP_ON_JG,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10031 00001022 400B                   M           JSR     @R0                     ;
10032 00001024 0009                   M           NOP                                     ;
10033 00001026 2008              2398             TST     R0,R0                           ;
10034                            2399             TST_BIT_OF MODE_CNT_STPCHK_200
10035 00001028 8957                   M           BT      MODE_CNT_STPCHK_200
10036                            2400             MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set[ﾃ
                                          ﾞﾊﾞｯｸ用だと思う]
10037 0000102A D10D                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
10038 0000102C 6011                   M           MOV.W   @R1,R0          ;
10039 0000102E CB01                   M           OR      #BIT0,R0                ;
10040 00001030 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    72
PROGRAM NAME =

10041                            2401             FAR_JSR #_AUTO_OF,R0                    ;
10042 00001032 D00C                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10043 00001034 400B                   M           JSR     @R0                     ;
10044 00001036 0009                   M           NOP                                     ;
10045                            2402             M_BRA   MODE_CNT_STPCHK_150             ;AUTO OFF
10046 00001038 A033                   M           BRA     MODE_CNT_STPCHK_150
10047 0000103A 0009                   M           NOP
10048                            2403     
10049                            2404     ;;; .AENDI
10050                            2405     ;;;[2016-10-31不要]     M_BRA   MODE_CNT_STPCHK_200             ;AUTO ON
10051                            2406     
10052                            2407     
10053                            2408     ;       -------------AUTO OFF[ﾀｲﾏ,回転ﾓｰﾄﾞ]----------------------
10054                                     ***** BEGIN-POOL *****
10055 0000103C 0300                       DATA FOR SOURCE-LINE 2384
10056 0000103E 0040                       DATA FOR SOURCE-LINE 2391
10057 00001040 00000000                   DATA FOR SOURCE-LINE 2332
10058 00001044 00000000                   DATA FOR SOURCE-LINE 2336
10059 00001048 00000000                   DATA FOR SOURCE-LINE 2338
10060 0000104C 00000000                   DATA FOR SOURCE-LINE 2345
10061 00001050 00000000                   DATA FOR SOURCE-LINE 2349
10062 00001054 00000000                   DATA FOR SOURCE-LINE 2382
10063 00001058 00000000                   DATA FOR SOURCE-LINE 2389
10064 0000105C 00000000                   DATA FOR SOURCE-LINE 2397
10065 00001060 00000000                   DATA FOR SOURCE-LINE 2400
10066 00001064 00000000                   DATA FOR SOURCE-LINE 2401
10067                                     ***** END-POOL *****
10068 00001068                   2409     MODE_CNT_STPCHK_120                             ;AUTO OFF
10069 00001068 D104              2410             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
10070 0000106A 6011              2411             MOV.W   @R1,R0                          ;
10071 0000106C 9405              2412             MOV.W   #BIT8,R4                        ;
10072 0000106E 2048              2413             TST     R4,R0                           ;ﾀｲﾏ?
10073                            2414             TST_BIT_OF MODE_CNT_STPCHK_050
10074 00001070 8908                   M           BT      MODE_CNT_STPCHK_050
10075 00001072 D103              2415             MOV.L   #_CONT_MOD_TIM_PV,R1            ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
10076 00001074 6012              2416             MOV.L   @R1,R0                          ;
10077                            2417             M_BRA   MODE_CNT_STPCHK_080             ;
10078 00001076 A00A                   M           BRA     MODE_CNT_STPCHK_080
10079 00001078 0009                   M           NOP
10080                            2418     
10081                                     ***** BEGIN-POOL *****
10082 0000107A 0100                       DATA FOR SOURCE-LINE 2412
10083 0000107C 00000000                   DATA FOR SOURCE-LINE 2410
10084 00001080 00000000                   DATA FOR SOURCE-LINE 2415
10085                                     ***** END-POOL *****
10086 00001084                   2419     MODE_CNT_STPCHK_050:
10087 00001084 D10C              2420             MOV.L   #_CONT_MOD_CNT_PV,R1            ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
10088 00001086 6011              2421             MOV.W   @R1,R0                          ;
10089                            2422     
10090                            2423              .AIF   1 EQ 1  ;
10091                            2424 C   ;       -------- 2016-10-31 ADD 二重回路対策
10092                            2425              .AENDI
10093                            2426     ;       -------- 2016-10-31(2016-07-21)(相手cpu状態)----------------
10094                            2427             .AIF    0 EQ    0       ;
10095 00001088 D10C              2428 C           MOV.L   #_CPUB_CONT_MOD_CNT_PV,R1       ;2016-07-18CHECK
10096                            2429             .AELSE
10097                            2430             MOV.L   #_CPUA_CONT_MOD_CNT_PV,R1       ;2016-07-18CHECK
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    73
PROGRAM NAME =

10098                            2431             .AENDI                                  ;
10099 0000108A 6411              2432             MOV.W   @R1,R4                          ;
10100 0000108C 204B              2433             OR      R4,R0                           ;自分+相手cpu
10101                            2434     
10102                            2435     
10103 0000108E                   2436     MODE_CNT_STPCHK_080:
10104 0000108E 2008              2437             TST     R0,R0                           ;ﾀｲﾏ/ｶｳﾝﾀ　UP?
10105                            2438             TST_BIT_OF MODE_CNT_STPCHK_199          ;
10106 00001090 8920                   M           BT      MODE_CNT_STPCHK_199
10107                            2439     
10108                            2440     
10109 00001092 D10B              2441             MOV.L   #_BTTN_FLG,R1                   ;
10110 00001094 6011              2442             MOV.W   @R1,R0                          ;
10111 00001096 C804              2443             TST     #BIT2,R0                        ;両手ON
10112                            2444             TST_BIT_ON MODE_CNT_STPCHK_300          ;<200の方が安全かな>
10113 00001098 8B57                   M           BF      MODE_CNT_STPCHK_300
10114                            2445     
10115                            2446              .AIF   1 EQ 1  ;
10116                            2447 C   ;       -------- 2016-10-31 ADD 二重回路対策
10117                            2448              .AENDI
10118                            2449     
10119                            2450     ;       --2016-10-31(2016-07-31)(CMPERR対策)---------
10120 0000109A D10A              2451             MOV.L   #_CMPSTEP_STEP_END,R1           ;
10121 0000109C 6011              2452             MOV.W   @R1,R0                          ;
10122 0000109E 2008              2453             TST     R0,R0                           ;
10123                            2454             TST_BIT_ON MODE_CNT_STPCHK_300          ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
10124 000010A0 8B53                   M           BF      MODE_CNT_STPCHK_300
10125                            2455     
10126                            2456     
10127                            2457     ;[[2016-10-31]; ---------- 2015-11-13[行程2重回路対策]---------------
10128                            2458     ;[[2016-10-31];;; .AIF 1 EQ 1
10129                            2459     ;[[2016-10-31]  FAR_JSR #_API_ENDHAND_SIGCHK,R0 ;
10130                            2460     ;[[2016-10-31]  TST     R0,R0                           ;
10131                            2461     ;[[2016-10-31]  TST_BIT_ON MODE_CNT_STPCHK_300          ;ﾊﾝﾄﾞｼｪｲｸ途中は運転釦を見ない()
10132                            2462     ;[[2016-10-31];;; .AENDI
10133                            2463     
10134 000010A2                   2464     MODE_CNT_STPCHK_150:                            ;AUTO OFF
10135                            2465     
10136                            2466     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10137                            2467             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
10138 000010A2 D009                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10139 000010A4 400B                   M           JSR     @R0                     ;
10140 000010A6 0009                   M           NOP                                     ;
10141                            2468     
10142                            2469     ;       ---2007-03-02-----
10143                            2470             MOD_LOW_STOP_R0_R1                      ;MNWR_POS_CMD=BIT1,減速停止,起動OFF
10144 000010A8 D108                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10145 000010AA E002                   M           MOV.B   #BIT1,R0                        ;
10146 000010AC 2101                   M           MOV.W   R0,@R1                          ;
10147                            2471             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;CPUBへSTOP(AUTO-ON,AUTO-OFF)に関わらず･･･
                                          AUTOにさせないため
10148 000010AE D008                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10149 000010B0 400B                   M           JSR     @R0                     ;
10150 000010B2 0009                   M           NOP                                     ;
10151                            2472     
10152                            2473             M_BRA   MODE_CNT_STPCHK_300             ;
10153 000010B4 A049                   M           BRA     MODE_CNT_STPCHK_300
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    74
PROGRAM NAME =

10154 000010B6 0009                   M           NOP
10155                            2474     
10156                                     ***** BEGIN-POOL *****
10157 000010B8 00000000                   DATA FOR SOURCE-LINE 2420
10158 000010BC 00000000                   DATA FOR SOURCE-LINE 2428
10159 000010C0 00000000                   DATA FOR SOURCE-LINE 2441
10160 000010C4 00000000                   DATA FOR SOURCE-LINE 2451
10161 000010C8 00000000                   DATA FOR SOURCE-LINE 2467
10162 000010CC 00000000                   DATA FOR SOURCE-LINE 2470
10163 000010D0 00000000                   DATA FOR SOURCE-LINE 2471
10164                                     ***** END-POOL *****
10165 000010D4                   2475     MODE_CNT_STPCHK_199:                            ;
10166                            2476             FAR_JSR #_AUTO_ON,R0                    ;
10167 000010D4 D005                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10168 000010D6 400B                   M           JSR     @R0                     ;
10169 000010D8 0009                   M           NOP                                     ;
10170 000010DA                   2477     MODE_CNT_STPCHK_200:                            ;
10171                            2478     
10172                            2479     ;       -------------------------------------------
10173 000010DA D105              2480             MOV.L   #_POSHLD1_STOPLATCH,R1          ;
10174 000010DC 6011              2481             MOV.W   @R1,R0                          ;
10175 000010DE 2008              2482             TST     R0,R0                           ;
10176                            2483             TST_BIT_OF MODE_CNT_STPCHK_210          ;
10177 000010E0 8908                   M           BT      MODE_CNT_STPCHK_210
10178 000010E2 200A              2484             XOR     R0,R0                           ;
10179 000010E4 2101              2485             MOV.W   R0,@R1                          ;
10180                            2486             M_BRA   MODE_CNT_STPCHK_220             ;
10181 000010E6 A00D                   M           BRA     MODE_CNT_STPCHK_220
10182 000010E8 0009                   M           NOP
10183                            2487     
10184                                     ***** BEGIN-POOL *****
10185 000010EA 0000                       ALIGNMENT CODE
10186 000010EC 00000000                   DATA FOR SOURCE-LINE 2476
10187 000010F0 00000000                   DATA FOR SOURCE-LINE 2480
10188                                     ***** END-POOL *****
10189 000010F4                   2488     MODE_CNT_STPCHK_210:                            ;
10190                            2489     
10191 000010F4 D10C              2490             MOV.L   #_CNT_STOP_CMD,R1               ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄｱｯﾌﾟ
10192 000010F6 6011              2491             MOV.W   @R1,R0                          ;
10193 000010F8 2008              2492             TST     R0,R0                           ;
10194                            2493             TST_BIT_OF MODE_CNT_STPCHK_250          ;
10195 000010FA 8907                   M           BT      MODE_CNT_STPCHK_250
10196                            2494     
10197                            2495              .AIF   1 EQ 1  ;
10198                            2496 C   ;       -------- 2016-10-31 ADD 二重回路対策
10199                            2497              .AENDI
10200                            2498     
10201                            2499     ;       --2016-10-31(2016-08-11)(CMPERR対策)---------
10202 000010FC D10B              2500             MOV.L   #_CNT_STOP_WAIT_TIM,R1          ;
10203 000010FE 6011              2501             MOV.W   @R1,R0                          ;
10204 00001100 2008              2502             TST     R0,R0                           ;
10205                            2503             TST_BIT_ON MODE_CNT_STPCHK_250          ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
10206 00001102 8B03                   M           BF      MODE_CNT_STPCHK_250
10207                            2504     
10208                            2505     
10209 00001104                   2506     MODE_CNT_STPCHK_220:                            ;
10210                            2507     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    75
PROGRAM NAME =

10211 00001104 D10A              2508             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
10212 00001106 6011              2509             MOV.W   @R1,R0                          ;
10213 00001108 CB01              2510             OR      #BIT0,R0                        ;
10214 0000110A 2101              2511             MOV.W   R0,@R1                          ;
10215 0000110C                   2512     MODE_CNT_STPCHK_250:
10216                            2513     
10217 0000110C D108              2514             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
10218 0000110E 6011              2515             MOV.W   @R1,R0                          ;
10219 00001110 C801              2516             TST     #BIT0,R0                        ;
10220                            2517             TST_BIT_OF MODE_CNT_STPCHK_300          ;
10221 00001112 891A                   M           BT      MODE_CNT_STPCHK_300
10222                            2518     
10223 00001114 D107              2519             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10224 00001116 6011              2520             MOV.W   @R1,R0                          ;
10225 00001118 D207              2521             MOV.L   #_CPOS_STEP_MAX,R2              ;
10226 0000111A 6421              2522             MOV.W   @R2,R4                          ;
10227 0000111C 7401              2523             ADD     #1,R4                           ;
10228 0000111E 3400              2524             CMP/EQ  R0,R4                           ;
10229 00001120 8B0C              2525             BF      MODE_CNT_STPCHK_280             ;最終工程以外?
10230                            2526             M_BRA   MODE_CNT_STPCHK_300             ;
10231 00001122 A012                   M           BRA     MODE_CNT_STPCHK_300
10232 00001124 0009                   M           NOP
10233                            2527     
10234                                     ***** BEGIN-POOL *****
10235 00001126 0000                       ALIGNMENT CODE
10236 00001128 00000000                   DATA FOR SOURCE-LINE 2490
10237 0000112C 00000000                   DATA FOR SOURCE-LINE 2500
10238 00001130 00000000                   DATA FOR SOURCE-LINE 2508,2514
10239 00001134 00000000                   DATA FOR SOURCE-LINE 2519
10240 00001138 00000000                   DATA FOR SOURCE-LINE 2521
10241                                     ***** END-POOL *****
10242 0000113C                   2528     MODE_CNT_STPCHK_280:
10243                            2529     ;       == 2004-12-20====
10244 0000113C D104              2530             MOV.L   #_CPOS_MOD_FLG1,R1              ;
10245 0000113E 6011              2531             MOV.W   @R1,R0                          ;
10246 00001140 C804              2532             TST     #BIT2,R0                        ;2004-12-20
10247                            2533             TST_BIT_ON MODE_CNT_STPCHK_300          ;(待機点停止しないﾓｰﾄﾞは別)
10248 00001142 8B02                   M           BF      MODE_CNT_STPCHK_300
10249                            2534     
10250                            2535             FAR_JSR #_STOP_LTH_OUT,R0
10251 00001144 D003                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10252 00001146 400B                   M           JSR     @R0                     ;
10253 00001148 0009                   M           NOP                                     ;
10254                            2536     
10255                            2537     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10256                            2538     
10257 0000114A                   2539     MODE_CNT_STPCHK_300:                            ;
10258                            2540     
10259                            2541             SUB_END
10260                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10261 0000114A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10262                            2542             M_RTS
10263 0000114C 000B                   M           RTS                             ;RTSの後ろの
10264 0000114E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10265                            2543     
10266                            2544     
10267                            2545     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    76
PROGRAM NAME =

10268                            2546     ;       ***************************************************
10269                            2547     ;       ***                                             ***
10270                            2548     ;       ***     2016-04-12                              ***
10271                            2549     ;       ***     連続一行程                              ***
10272                            2550     ;       ***     連続寸動一行程                          ***
10273                            2551     ;       ***     上記のための連続の共通部サブルーチン化  ***
10274                            2552     ;       ***     但し、連続には使用しないでおく          ***
10275                            2553     ;       ***                                             ***
10276                            2554     ;       ***************************************************
10277                                     ***** BEGIN-POOL *****
10278 00001150 00000000                   DATA FOR SOURCE-LINE 2530
10279 00001154 00000000                   DATA FOR SOURCE-LINE 2535
10280                                     ***** END-POOL *****
10281 00001158                   2555     _MODE_CNTCOM1_STOP_CHK:
10282                            2556             SUB_START
10283 00001158 4F22                   M           STS.L   PR,@-R15                ;[必要]
10284                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10285                            2557     
10286                            2558             FAR_JSR #_CPU_AB_CST_OF_JG,R0           ;R0=_SH4_HD_CNT_STOP,R1=_SH4_HD_CNT_CNT
10287 0000115A D00C                   M           MOV.L   #_CPU_AB_CST_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10288 0000115C 400B                   M           JSR     @R0                     ;
10289 0000115E 0009                   M           NOP                                     ;
10290 00001160 2118              2559             TST     R1,R1                           ;
10291                            2560             TST_BIT_OF MODE_CNTCOM1_STPCMP_100      ;自分のいくぞ信号ON? NO:
10292 00001162 890F                   M           BT      MODE_CNTCOM1_STPCMP_100
10293                            2561     
10294 00001164 D10A              2562             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10295 00001166 6011              2563             MOV.W   @R1,R0                          ;
10296 00001168 D20A              2564             MOV.L   #_CPOS_STEP_MAX,R2              ;
10297 0000116A 6421              2565             MOV.W   @R2,R4                          ;
10298 0000116C 7401              2566             ADD     #1,R4                           ;
10299 0000116E 3400              2567             CMP/EQ  R0,R4                           ;
10300 00001170 8908              2568             BT      MODE_CNTCOM1_STPCMP_100         ;最終工程
10301                            2569     
10302 00001172 6503              2570             MOV     R0,R5                           ;push
10303                            2571             FAR_JSR #_CPU_BA_STEP_LOAD,R2           ;ANS R0 (SH2_STEP_NO,SH4_STEP_NO)
10304 00001174 D208                   M           MOV.L   #_CPU_BA_STEP_LOAD,R2           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10305 00001176 420B                   M           JSR     @R2                     ;
10306 00001178 0009                   M           NOP                                     ;
10307 0000117A 3500              2572             CMP/EQ  R0,R5                           ;
10308 0000117C 8B02              2573             BF      MODE_CNTCOM1_STPCMP_100         ;不一致状態
10309                            2574     
10310                            2575                                                     ;自分のいくぞ信号クリア(相手のもやったほう
                                          がいいのか？)
10311                            2576             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0         ;_SH4_HD_CNT_CNT=0CLR
10312 0000117E D007                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10313 00001180 400B                   M           JSR     @R0                     ;
10314 00001182 0009                   M           NOP                                     ;
10315                            2577     
10316 00001184                   2578     MODE_CNTCOM1_STPCMP_100:
10317                            2579             SUB_END
10318                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10319 00001184 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10320                            2580             M_RTS
10321 00001186 000B                   M           RTS                             ;RTSの後ろの
10322 00001188 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10323                            2581     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    77
PROGRAM NAME =

10324                            2582     
10325                            2583     ;       **************************************************
10326                            2584     ;       ***                                             ***
10327                            2585     ;       ***     AUTO_ON状態(停止条件の判定              ***
10328                            2586     ;       ***                                             ***
10329                            2587     ;       ***************************************************
10330                                     ***** BEGIN-POOL *****
10331 0000118A 0000                       ALIGNMENT CODE
10332 0000118C 00000000                   DATA FOR SOURCE-LINE 2558
10333 00001190 00000000                   DATA FOR SOURCE-LINE 2562
10334 00001194 00000000                   DATA FOR SOURCE-LINE 2564
10335 00001198 00000000                   DATA FOR SOURCE-LINE 2571
10336 0000119C 00000000                   DATA FOR SOURCE-LINE 2576
10337                                     ***** END-POOL *****
10338 000011A0                   2588     _MODE_CNTCNF1_STOP_CHK:
10339                            2589             SUB_START
10340 000011A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
10341                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10342                            2590     ;       -------------AUTO ON(連続一行程)------------
10343                            2591             FAR_JSR #_AUTO_ON,R0                            ;
10344 000011A2 D005                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10345 000011A4 400B                   M           JSR     @R0                     ;
10346 000011A6 0009                   M           NOP                                     ;
10347                            2592     ;       -------------------------------------------
10348 000011A8 D104              2593             MOV.L   #_POSHLD1_STOPLATCH,R1                  ;
10349 000011AA 6011              2594             MOV.W   @R1,R0                                  ;
10350 000011AC 2008              2595             TST     R0,R0                                   ;
10351                            2596             TST_BIT_OF MODE_CNTCNF1_STPCHK_210              ;
10352 000011AE 8907                   M           BT      MODE_CNTCNF1_STPCHK_210
10353 000011B0 200A              2597             XOR     R0,R0                                   ;
10354 000011B2 2101              2598             MOV.W   R0,@R1                                  ;
10355                            2599             M_BRA   MODE_CNTCNF1_STPCHK_220                 ;
10356 000011B4 A008                   M           BRA     MODE_CNTCNF1_STPCHK_220
10357 000011B6 0009                   M           NOP
10358                                     ***** BEGIN-POOL *****
10359 000011B8 00000000                   DATA FOR SOURCE-LINE 2591
10360 000011BC 00000000                   DATA FOR SOURCE-LINE 2593
10361                                     ***** END-POOL *****
10362 000011C0                   2600     MODE_CNTCNF1_STPCHK_210:                                ;
10363                            2601     
10364 000011C0 D105              2602             MOV.L   #_CNT_STOP_CMD,R1                       ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄ
                                          ｱｯﾌﾟ
10365 000011C2 6011              2603             MOV.W   @R1,R0                                  ;
10366 000011C4 2008              2604             TST     R0,R0                                   ;
10367                            2605             TST_BIT_OF MODE_CNTCNF1_STPCHK_250              ;(上死点停止指令OFF)
10368 000011C6 8903                   M           BT      MODE_CNTCNF1_STPCHK_250
10369 000011C8                   2606     MODE_CNTCNF1_STPCHK_220:                                ;
10370                            2607     
10371                            2608     ;       //BIT0:ｽﾄｯﾌﾟ釦記憶 停止可能なタイミングで出力される
10372                            2609             MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH_B,LG=W,BIT=BIT0,WKREG=R1        ;bit-set
10373 000011C8 D104                   M           MOV.L   #_STOP_LATCH_B,R1               ;
10374 000011CA 6011                   M           MOV.W   @R1,R0          ;
10375 000011CC CB01                   M           OR      #BIT0,R0                ;
10376 000011CE 2101                   M           MOV.W   R0,@R1          ;
10377                            2610     
10378 000011D0                   2611     MODE_CNTCNF1_STPCHK_250:
10379                            2612             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    78
PROGRAM NAME =

10380                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10381 000011D0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10382                            2613             M_RTS
10383 000011D2 000B                   M           RTS                             ;RTSの後ろの
10384 000011D4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10385                            2614     
10386                            2615     
10387                            2616     
10388                            2617     ;       **************************************************
10389                            2618     ;       ***                                             ***
10390                            2619     ;       ***     AUTO_ON状態(相手側も動作する状態)       ***
10391                            2620     ;       ***                                             ***
10392                            2621     ;       ***************************************************
10393                                     ***** BEGIN-POOL *****
10394 000011D6 0000                       ALIGNMENT CODE
10395 000011D8 00000000                   DATA FOR SOURCE-LINE 2602
10396 000011DC 00000000                   DATA FOR SOURCE-LINE 2609
10397                                     ***** END-POOL *****
10398 000011E0                   2622     _MODE_CNTCOM2_STOP_CHK:
10399                            2623             SUB_START
10400 000011E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
10401                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10402                            2624     
10403 000011E2 D106              2625             MOV.L   #_STOP_LATCH_B,R1                       ;//BIT0:ｽﾄｯﾌﾟ釦等
10404 000011E4 6011              2626             MOV.W   @R1,R0                                  ;
10405 000011E6 C801              2627             TST     #BIT0,R0                                ;
10406                            2628             TST_BIT_OF MODE_CNTCOM2_STPCHK_300              ;
10407 000011E8 8915                   M           BT      MODE_CNTCOM2_STPCHK_300
10408                            2629     
10409 000011EA D105              2630             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10410 000011EC 6011              2631             MOV.W   @R1,R0                          ;
10411 000011EE D205              2632             MOV.L   #_CPOS_STEP_MAX,R2              ;
10412 000011F0 6421              2633             MOV.W   @R2,R4                          ;
10413 000011F2 7401              2634             ADD     #1,R4                           ;
10414 000011F4 3400              2635             CMP/EQ  R0,R4                           ;
10415 000011F6 8B07              2636             BF      MODE_CNTCOM2_STPCHK_280         ;最終工程以外?
10416                            2637             M_BRA   MODE_CNTCOM2_STPCHK_300         ;最終行程は別で行う
10417 000011F8 A00D                   M           BRA     MODE_CNTCOM2_STPCHK_300
10418 000011FA 0009                   M           NOP
10419                            2638     
10420                                     ***** BEGIN-POOL *****
10421 000011FC 00000000                   DATA FOR SOURCE-LINE 2625
10422 00001200 00000000                   DATA FOR SOURCE-LINE 2630
10423 00001204 00000000                   DATA FOR SOURCE-LINE 2632
10424                                     ***** END-POOL *****
10425 00001208                   2639     MODE_CNTCOM2_STPCHK_280:
10426                            2640     
10427 00001208 D104              2641             MOV.L   #_CPOS_MOD_FLG1,R1              ;
10428 0000120A 6011              2642             MOV.W   @R1,R0                          ;
10429 0000120C C804              2643             TST     #BIT2,R0                        ;2004-12-20
10430                            2644             TST_BIT_ON MODE_CNTCOM2_STPCHK_300      ;BIT2=1 待機点停止しないﾓｰﾄﾞは別で行う
10431 0000120E 8B02                   M           BF      MODE_CNTCOM2_STPCHK_300
10432                            2645     
10433                            2646             FAR_JSR #_STOP_LTH_OUT,R0               ;STOP_LATCH.BIT0=1,SH4_HD_CNT_STOP=-1
10434 00001210 D003                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10435 00001212 400B                   M           JSR     @R0                     ;
10436 00001214 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    79
PROGRAM NAME =

10437                            2647     
10438 00001216                   2648     MODE_CNTCOM2_STPCHK_300:                        ;
10439                            2649     
10440                            2650             SUB_END
10441                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10442 00001216 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10443                            2651             M_RTS
10444 00001218 000B                   M           RTS                             ;RTSの後ろの
10445 0000121A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10446                            2652     
10447                            2653     ;       ***************************
10448                            2654     ;       ***                     ***
10449                            2655     ;       ***************************
10450                            2656             .EXPORT _STOP_LTH_OUT
10451                                     ***** BEGIN-POOL *****
10452 0000121C 00000000                   DATA FOR SOURCE-LINE 2641
10453 00001220 00000000                   DATA FOR SOURCE-LINE 2646
10454                                     ***** END-POOL *****
10455 00001224                   2657     _STOP_LTH_OUT:
10456                            2658             SUB_START
10457 00001224 4F22                   M           STS.L   PR,@-R15                ;[必要]
10458                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10459 00001226 D105              2659             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
10460 00001228 6011              2660             MOV.W   @R1,R0                          ;
10461 0000122A CB01              2661             OR      #BIT0,R0                        ;
10462 0000122C 2101              2662             MOV.W   R0,@R1                          ;
10463                            2663     
10464                            2664             FAR_JSR #_CPU_AB_CST_ON_OUT1,R0         ;SH4_HD_CNT_STOP=-1
10465 0000122E D004                   M           MOV.L   #_CPU_AB_CST_ON_OUT1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10466 00001230 400B                   M           JSR     @R0                     ;
10467 00001232 0009                   M           NOP                                     ;
10468                            2665     
10469                            2666             SUB_END
10470                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10471 00001234 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10472                            2667             M_RTS
10473 00001236 000B                   M           RTS                             ;RTSの後ろの
10474 00001238 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10475                            2668     
10476                            2669     
10477                            2670     ;       *******************************************
10478                            2671     ;       ***                                     ***
10479                            2672     ;       ***             安全一工程              ***
10480                            2673     ;       ***             一行程                  ***
10481                            2674     ;       *******************************************
10482                                     ***** BEGIN-POOL *****
10483 0000123A 0000                       ALIGNMENT CODE
10484 0000123C 00000000                   DATA FOR SOURCE-LINE 2659
10485 00001240 00000000                   DATA FOR SOURCE-LINE 2664
10486                                     ***** END-POOL *****
10487 00001244                   2675     _MODE_SGL_STOP_CHK:
10488                            2676             SUB_START
10489 00001244 4F22                   M           STS.L   PR,@-R15                ;[必要]
10490                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10491                            2677     ;       === 2003-05-24==
10492 00001246 D105              2678             MOV.L   #_MODE_SEL,R1                   ;寸動・安全一工程・連続・OPT
10493 00001248 6011              2679             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    80
PROGRAM NAME =

10494 0000124A 9106              2680             MOV.W   #BIT10,R1                       ;
10495 0000124C 2018              2681             TST     R1,R0                           ;
10496                            2682             TST_BIT_OF MODE_SGL_STPCHK_050          ;安全一行程
10497 0000124E 8909                   M           BT      MODE_SGL_STPCHK_050
10498                            2683             FAR_JSR #_AUTO_ON,R0                    ;一行程
10499 00001250 D003                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10500 00001252 400B                   M           JSR     @R0                     ;
10501 00001254 0009                   M           NOP                                     ;
10502                            2684             M_BRA   MODE_SGL_STPCHK_200             ;
10503 00001256 A03F                   M           BRA     MODE_SGL_STPCHK_200
10504 00001258 0009                   M           NOP
10505                            2685     
10506                                     ***** BEGIN-POOL *****
10507 0000125A 0400                       DATA FOR SOURCE-LINE 2680
10508 0000125C 00000000                   DATA FOR SOURCE-LINE 2678
10509 00001260 00000000                   DATA FOR SOURCE-LINE 2683
10510                                     ***** END-POOL *****
10511 00001264                   2686     MODE_SGL_STPCHK_050:                            ;
10512 00001264 D10A              2687             MOV.L   #_UP_HOLD_FLG,R1                ;
10513 00001266 6011              2688             MOV.W   @R1,R0                          ;
10514 00001268 C801              2689             TST     #BIT0,R0                        ;上昇ﾎｰﾙﾄﾞ中
10515                            2690             TST_BIT_OF MODE_SGL_STPCHK_100          ;
10516 0000126A 8923                   M           BT      MODE_SGL_STPCHK_100
10517                            2691     ;;      FAR_JSR #_AUTO_ON,R0                    ;
10518                            2692     
10519                            2693     ;       ----2007-03-02-------------------------
10520                            2694             FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;相手側はautoにならないで止めたみたいか？
10521 0000126C D009                   M           MOV.L   #_CPU_BA_DRVSTOP_ON_JG,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10522 0000126E 400B                   M           JSR     @R0                     ;
10523 00001270 0009                   M           NOP                                     ;
10524 00001272 2008              2695             TST     R0,R0                           ;
10525                            2696             TST_BIT_OF MODE_SGL_STPCHK_080          ;
10526 00001274 8916                   M           BT      MODE_SGL_STPCHK_080
10527                            2697             MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set
10528 00001276 D108                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
10529 00001278 6011                   M           MOV.W   @R1,R0          ;
10530 0000127A CB01                   M           OR      #BIT0,R0                ;
10531 0000127C 2101                   M           MOV.W   R0,@R1          ;
10532                            2698             FAR_JSR #_AUTO_OF,R0                    ;
10533 0000127E D007                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10534 00001280 400B                   M           JSR     @R0                     ;
10535 00001282 0009                   M           NOP                                     ;
10536                            2699     
10537                            2700     ;       ---------- [2015-11-15]-------------------
10538                            2701     ;;; .AIF 1 EQ 1
10539                            2702             FAR_JSR #_UP_HOLD_MISS,R0       ;
10540 00001284 D006                   M           MOV.L   #_UP_HOLD_MISS,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10541 00001286 400B                   M           JSR     @R0                     ;
10542 00001288 0009                   M           NOP                                     ;
10543                            2703     ;;; .AENDI
10544                            2704     ;       ---------------------------------------
10545                            2705     
10546                            2706             M_BRA   MODE_SGL_STPCHK_150             ;
10547 0000128A A01C                   M           BRA     MODE_SGL_STPCHK_150
10548 0000128C 0009                   M           NOP
10549                            2707     
10550                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    81
PROGRAM NAME =

10551 0000128E 0000                       ALIGNMENT CODE
10552 00001290 00000000                   DATA FOR SOURCE-LINE 2687
10553 00001294 00000000                   DATA FOR SOURCE-LINE 2694
10554 00001298 00000000                   DATA FOR SOURCE-LINE 2697
10555 0000129C 00000000                   DATA FOR SOURCE-LINE 2698
10556 000012A0 00000000                   DATA FOR SOURCE-LINE 2702
10557                                     ***** END-POOL *****
10558 000012A4                   2708     MODE_SGL_STPCHK_080             ;
10559                            2709             FAR_JSR #_AUTO_ON,R0                    ;
10560 000012A4 D002                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10561 000012A6 400B                   M           JSR     @R0                     ;
10562 000012A8 0009                   M           NOP                                     ;
10563                            2710             M_BRA   MODE_SGL_STPCHK_200             ;
10564 000012AA A015                   M           BRA     MODE_SGL_STPCHK_200
10565 000012AC 0009                   M           NOP
10566                            2711     
10567                                     ***** BEGIN-POOL *****
10568 000012AE 0000                       ALIGNMENT CODE
10569 000012B0 00000000                   DATA FOR SOURCE-LINE 2709
10570                                     ***** END-POOL *****
10571 000012B4                   2712     MODE_SGL_STPCHK_100:                            ;
10572                            2713     
10573                            2714     ;       ======= 2003-06-13 =====
10574                            2715     ;;;とりあえずくみこまない       MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分
                                          ) 2003-06-13
10575                            2716     ;;;とりあえずくみこまない       MOV.W   @R1,R0                          ;運転中止(寸動部分
                                          ) 2003-06-13
10576                            2717     ;;;とりあえずくみこまない       TST     R0,R0                           ;運転中止(寸動部分
                                          ) 2003-06-13
10577                            2718     ;;;とりあえずくみこまない       TST_BIT_OF MODE_SGL_STPCHK_150          ;TIME-OUT
10578                            2719     
10579                            2720     
10580 000012B4 D10A              2721             MOV.L   #_BTTN_FLG,R1                   ;
10581 000012B6 6011              2722             MOV.W   @R1,R0                          ;
10582 000012B8 C804              2723             TST     #BIT2,R0                        ;両手ON
10583                            2724             TST_BIT_ON MODE_SGL_STPCHK_200          ;
10584 000012BA 8B0D                   M           BF      MODE_SGL_STPCHK_200
10585                            2725     
10586                            2726     ;       ---------- 2015-11-13[行程2重回路対策]---------------
10587                            2727     ;;; .AIF 1 EQ 1
10588                            2728             FAR_JSR #_API_ENDHAND_SIGCHK,R0 ;
10589 000012BC D009                   M           MOV.L   #_API_ENDHAND_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10590 000012BE 400B                   M           JSR     @R0                     ;
10591 000012C0 0009                   M           NOP                                     ;
10592 000012C2 2008              2729             TST     R0,R0                           ;
10593                            2730             TST_BIT_ON MODE_SGL_STPCHK_200          ;ﾊﾝﾄﾞｼｪｲｸ途中は運転釦を見ない()
10594 000012C4 8B08                   M           BF      MODE_SGL_STPCHK_200
10595                            2731     ;;; .AENDI
10596                            2732     
10597 000012C6                   2733     MODE_SGL_STPCHK_150:
10598                            2734     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10599                            2735             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
10600 000012C6 D008                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10601 000012C8 400B                   M           JSR     @R0                     ;
10602 000012CA 0009                   M           NOP                                     ;
10603                            2736     
10604                            2737             MOD_LOW_STOP_R0_R1                      ;2007-03-02
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    82
PROGRAM NAME =

10605 000012CC D107                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10606 000012CE E002                   M           MOV.B   #BIT1,R0                        ;
10607 000012D0 2101                   M           MOV.W   R0,@R1                          ;
10608                            2738     ;       ---2007-03-02-----
10609                            2739             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10610 000012D2 D007                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10611 000012D4 400B                   M           JSR     @R0                     ;
10612 000012D6 0009                   M           NOP                                     ;
10613                            2740     
10614                            2741     ;;;     MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10615                            2742     ;;;     MOV.W   #BIT1,R0                        ;
10616                            2743     ;;;     MOV.W   R0,@R1                          ;
10617 000012D8                   2744     MODE_SGL_STPCHK_200:
10618                            2745             SUB_END
10619                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10620 000012D8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10621                            2746             M_RTS
10622 000012DA 000B                   M           RTS                             ;RTSの後ろの
10623 000012DC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10624                            2747     
10625                            2748     
10626                            2749     
10627                            2750     ;       *******************************************
10628                            2751     ;       ***                                     ***
10629                            2752     ;       ***     2016-04-12正式に作成            ***
10630                            2753     ;       ***                                     ***
10631                            2754     ;       *******************************************
10632                                     ***** BEGIN-POOL *****
10633 000012DE 0000                       ALIGNMENT CODE
10634 000012E0 00000000                   DATA FOR SOURCE-LINE 2721
10635 000012E4 00000000                   DATA FOR SOURCE-LINE 2728
10636 000012E8 00000000                   DATA FOR SOURCE-LINE 2735
10637 000012EC 00000000                   DATA FOR SOURCE-LINE 2737
10638 000012F0 00000000                   DATA FOR SOURCE-LINE 2739
10639                                     ***** END-POOL *****
10640 000012F4                   2755     _MODE_CSS_STOP_CHK:     ;連続一行程・連続寸動一行程
10641                            2756             SUB_START
10642 000012F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
10643                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10644                            2757     
10645 000012F6 D104              2758             MOV.L   #_MODE_SEL,R1           ;
10646 000012F8 6011              2759             MOV.W   @R1,R0                  ;
10647 000012FA 9103              2760             MOV.W   #BIT11,R1
10648 000012FC 2018              2761             TST     R1,R0           ;連続一行程？
10649                            2762             TST_BIT_ON MODE_CCC_STOPCHK     ;YES
10650 000012FE 8B05                   M           BF      MODE_CCC_STOPCHK
10651                            2763             M_BRA   MODE_CSS_STOPCHK_START  ;連続寸動一行程
10652 00001300 A022                   M           BRA     MODE_CSS_STOPCHK_START
10653 00001302 0009                   M           NOP
10654                            2764     
10655                            2765     ;       == 連続一行程==
10656                                     ***** BEGIN-POOL *****
10657 00001304 0800                       DATA FOR SOURCE-LINE 2760
10658 00001306 0000                       ALIGNMENT CODE
10659 00001308 00000000                   DATA FOR SOURCE-LINE 2758
10660                                     ***** END-POOL *****
10661 0000130C                   2766     MODE_CCC_STOPCHK:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    83
PROGRAM NAME =

10662                            2767             FAR_JSR #_MODE_CNTCOM1_STOP_CHK,R0              ;
10663 0000130C D009                   M           MOV.L   #_MODE_CNTCOM1_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10664 0000130E 400B                   M           JSR     @R0                     ;
10665 00001310 0009                   M           NOP                                     ;
10666                            2768             FAR_JSR #_MODE_CNTCNF1_STOP_CHK,R0              ;
10667 00001312 D009                   M           MOV.L   #_MODE_CNTCNF1_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10668 00001314 400B                   M           JSR     @R0                     ;
10669 00001316 0009                   M           NOP                                     ;
10670 00001318 D108              2769             MOV.L   #_BTTN_FLG,R1                           ;
10671 0000131A 6011              2770             MOV.W   @R1,R0                                  ;
10672 0000131C C804              2771             TST     #BIT2,R0                                ;
10673                            2772             TST_BIT_ON MODE_CCC_STPCMP_120                  ;両手ON
10674 0000131E 8B03                   M           BF      MODE_CCC_STPCMP_120
10675                            2773             MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH_B,LG=W,BIT=BIT0,WKREG=R1        ;bit-set
10676 00001320 D107                   M           MOV.L   #_STOP_LATCH_B,R1               ;
10677 00001322 6011                   M           MOV.W   @R1,R0          ;
10678 00001324 CB01                   M           OR      #BIT0,R0                ;
10679 00001326 2101                   M           MOV.W   R0,@R1          ;
10680 00001328                   2774     MODE_CCC_STPCMP_120:
10681                            2775     
10682                            2776             FAR_JSR #_MODE_CNTCOM2_STOP_CHK,R0              ;STOP_LATCH_B->STOP_LATCH
10683 00001328 D006                   M           MOV.L   #_MODE_CNTCOM2_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10684 0000132A 400B                   M           JSR     @R0                     ;
10685 0000132C 0009                   M           NOP                                     ;
10686                            2777                                                             ;良いﾀｲﾐﾝｸﾞで出力する()
10687                            2778     
10688                            2779     
10689                            2780             M_BRA   MODE_CSS_STOPCK1000     ;
10690 0000132E A0AD                   M           BRA     MODE_CSS_STOPCK1000
10691 00001330 0009                   M           NOP
10692                            2781     
10693                            2782     ;       ===========================================
10694                            2783     ;       ===             連続寸動一行程          ===
10695                            2784     ;       ===========================================
10696                            2785     ;       == 連続寸動一行程(あした考える->20190820) ==
10697                                     ***** BEGIN-POOL *****
10698 00001332 0000                       ALIGNMENT CODE
10699 00001334 00000000                   DATA FOR SOURCE-LINE 2767
10700 00001338 00000000                   DATA FOR SOURCE-LINE 2768
10701 0000133C 00000000                   DATA FOR SOURCE-LINE 2769
10702 00001340 00000000                   DATA FOR SOURCE-LINE 2773
10703 00001344 00000000                   DATA FOR SOURCE-LINE 2776
10704                                     ***** END-POOL *****
10705 00001348                   2786     MODE_CSS_STOPCHK_START: ;
10706                            2787             FAR_JSR #_MODE_CNTCOM1_STOP_CHK,R0              ;2019-08-20 共通化
10707 00001348 D00C                   M           MOV.L   #_MODE_CNTCOM1_STOP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10708 0000134A 400B                   M           JSR     @R0                     ;
10709 0000134C 0009                   M           NOP                                     ;
10710                            2788     
10711                            2789     
10712                            2790     ;       ----2007-11-21二重化対策 ﾎｰﾙﾄﾞ中でも相手が止めるなら止める-----------
10713                            2791     ;       本来なら200:~220でやるべき話だが　ここでやったほうが安全性は高い
10714                            2792             FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;_CPU_AB_DRVSTOP_ON_OUTで_SH2_HD_SFTY_AUTO
                                          =-1
10715 0000134E D00C                   M           MOV.L   #_CPU_BA_DRVSTOP_ON_JG,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10716 00001350 400B                   M           JSR     @R0                     ;
10717 00001352 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    84
PROGRAM NAME =

10718 00001354 2008              2793             TST     R0,R0                           ;_SH2_HD_SFTY_AUTO
10719                            2794             TST_BIT_OF MODE_CCS_STPCMP_105                                          ;
10720 00001356 891F                   M           BT      MODE_CCS_STPCMP_105
10721                            2795             MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set
10722 00001358 D10A                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
10723 0000135A 6011                   M           MOV.W   @R1,R0          ;
10724 0000135C CB01                   M           OR      #BIT0,R0                ;
10725 0000135E 2101                   M           MOV.W   R0,@R1          ;
10726                            2796             FAR_JSR #_AUTO_OF,R0                                                    ;
10727 00001360 D009                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10728 00001362 400B                   M           JSR     @R0                     ;
10729 00001364 0009                   M           NOP                                     ;
10730                            2797     
10731                            2798             FAR_JSR #_BRK_ERR_WORK_CLR1,R0                                  ;ERR1.SRC
10732 00001366 D009                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10733 00001368 400B                   M           JSR     @R0                     ;
10734 0000136A 0009                   M           NOP                                     ;
10735                            2799             MOD_LOW_STOP_R0_R1                                              ;
10736 0000136C D108                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10737 0000136E E002                   M           MOV.B   #BIT1,R0                        ;
10738 00001370 2101                   M           MOV.W   R0,@R1                          ;
10739                            2800             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0                              ;
10740 00001372 D008                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10741 00001374 400B                   M           JSR     @R0                     ;
10742 00001376 0009                   M           NOP                                     ;
10743                            2801             M_BRA   MODE_CCS_STPCMP_300                                     ;
10744 00001378 A088                   M           BRA     MODE_CCS_STPCMP_300
10745 0000137A 0009                   M           NOP
10746                            2802     
10747                            2803     
10748                            2804     
10749                                     ***** BEGIN-POOL *****
10750 0000137C 00000000                   DATA FOR SOURCE-LINE 2787
10751 00001380 00000000                   DATA FOR SOURCE-LINE 2792
10752 00001384 00000000                   DATA FOR SOURCE-LINE 2795
10753 00001388 00000000                   DATA FOR SOURCE-LINE 2796
10754 0000138C 00000000                   DATA FOR SOURCE-LINE 2798
10755 00001390 00000000                   DATA FOR SOURCE-LINE 2799
10756 00001394 00000000                   DATA FOR SOURCE-LINE 2800
10757                                     ***** END-POOL *****
10758 00001398                   2805     MODE_CCS_STPCMP_105:
10759                            2806     ;       ----------------------------------------------------------------
10760                            2807     
10761                            2808     
10762                            2809     
10763                            2810     ;;;;;;  ----- 2005-08-26 -------
10764                            2811     ;;;;;;  MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
10765                            2812     ;;;;;;  MOV.W   @R1,R0                          ;
10766                            2813     ;;;;;;  TST     #BIT0,R0                        ;STOP-LATCH-ON
10767                            2814     ;;;;;;  TST_BIT_OF MODE_CCS_STPCMP_110          ;
10768                            2815     ;;;;;;  M_BRA   MODE_CCS_STPCMP_270
10769                            2816     ;;;;;;MODE_CCS_STPCMP_110:
10770                            2817     ;       ------------------------
10771                            2818     
10772 00001398 D111              2819             MOV.L   #_BTTN_FLG,R1                   ;
10773 0000139A 6011              2820             MOV.W   @R1,R0                          ;
10774 0000139C C804              2821             TST     #BIT2,R0                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    85
PROGRAM NAME =

10775                            2822             TST_BIT_ON MODE_CCS_STPCMP_120          ;両手ON
10776 0000139E 8B02                   M           BF      MODE_CCS_STPCMP_120
10777                            2823     
10778 000013A0 901C              2824             MOV.W   #BIT0,R0                        ;
10779 000013A2 D110              2825             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
10780 000013A4 2101              2826             MOV.W   R0,@R1                          ;
10781                            2827     
10782 000013A6                   2828     MODE_CCS_STPCMP_120:
10783                            2829     ;       ---------回転の論理変更----------
10784 000013A6 D110              2830             MOV.L   #_CPOS_CTL_MATH,R1              ;
10785 000013A8 6011              2831             MOV.W   @R1,R0                          ;
10786                            2832     ;;;2016-10-31   TST     #_DMATH_CNTROT,R0               ;
10787 000013AA C805              2833             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
10788                            2834             TST_BIT_OF MODE_CCS_STPCMP_140          ;
10789 000013AC 892C                   M           BT      MODE_CCS_STPCMP_140
10790                            2835     
10791 000013AE D40F              2836             MOV.L   #_M_LINK_AREASIG,R4             ;//BIT0/BIT4:待機点範囲
10792 000013B0 6041              2837             MOV.W   @R4,R0                          ;
10793 000013B2 C802              2838             TST     #(BIT1),R0                      ;下降(停止)
10794                            2839             TST_BIT_ON MODE_CCS_STPCMP_145          ;
10795 000013B4 8B2C                   M           BF      MODE_CCS_STPCMP_145
10796                            2840     
10797 000013B6 D50E              2841             MOV.L   #_INT_POS_CTL_STEP,R5           ;
10798 000013B8 6251              2842             MOV.W   @R5,R2                          ;
10799 000013BA D40E              2843             MOV.L   #_UP_HOLD_STEP,R4               ;//上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
10800 000013BC 6541              2844             MOV.W   @R4,R5                          ;
10801 000013BE 3252              2845             CMP/HS  R5,R2                           ;ﾁｪｯｸすべき工程にきたか
10802 000013C0 8B26              2846             BF      MODE_CCS_STPCMP_145             ;NO(停止)
10803                            2847     
10804                            2848     ;;;2019-08-20   MOV.L   #_INC_ENC360,R4                 ;//360.0度(ｴﾝｺｰﾀﾞは表示と同じ)
10805 000013C2 D40D              2849             MOV.L   #_DNM_CTL_INC3600,R4            ;
10806 000013C4 6241              2850             MOV.W   @R4,R2                          ;
10807 000013C6 D50D              2851             MOV.L   #_UP_HOLD_DIG,R5                ;//0.1度(165.0):ﾓｰﾀ軸ｴﾝｺｰﾀﾞ角度で比較
10808 000013C8 6151              2852             MOV.W   @R5,R1                          ;START
10809 000013CA D50D              2853             MOV.L   #_SETX_UPAREA_DIG,R5            ;
10810 000013CC 6351              2854             MOV.W   @R5,R3                          ;
10811                            2855             FAR_JSR #_DIG_AREA_CHK1,R0              ;"ANS:R5"
10812 000013CE D00D                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10813 000013D0 400B                   M           JSR     @R0                     ;
10814 000013D2 0009                   M           NOP                                     ;
10815 000013D4 4511              2856             CMP/PZ  R5                              ;
10816 000013D6 8B1B              2857             BF      MODE_CCS_STPCMP_145             ;
10817                            2858             M_BRA   MODE_CCS_STPCMP_200             ;165~359.9　HOLD
10818 000013D8 A042                   M           BRA     MODE_CCS_STPCMP_200
10819 000013DA 0009                   M           NOP
10820                            2859     
10821                            2860     ;       -------- 反転------------
10822                                     ***** BEGIN-POOL *****
10823 000013DC 0001                       DATA FOR SOURCE-LINE 2824
10824 000013DE 0000                       ALIGNMENT CODE
10825 000013E0 00000000                   DATA FOR SOURCE-LINE 2819
10826 000013E4 00000000                   DATA FOR SOURCE-LINE 2825
10827 000013E8 00000000                   DATA FOR SOURCE-LINE 2830
10828 000013EC 00000000                   DATA FOR SOURCE-LINE 2836
10829 000013F0 00000000                   DATA FOR SOURCE-LINE 2841
10830 000013F4 00000000                   DATA FOR SOURCE-LINE 2843
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    86
PROGRAM NAME =

10831 000013F8 00000000                   DATA FOR SOURCE-LINE 2849
10832 000013FC 00000000                   DATA FOR SOURCE-LINE 2851
10833 00001400 00000000                   DATA FOR SOURCE-LINE 2853
10834 00001404 00000000                   DATA FOR SOURCE-LINE 2855
10835                                     ***** END-POOL *****
10836 00001408                   2861     MODE_CCS_STPCMP_140:
10837 00001408 D10D              2862             MOV.L   #_LOT_CNT_FLG,R1                ;//行程=1で0 最終工程で条件成立で=1()
10838 0000140A 6011              2863             MOV.W   @R1,R0                          ;BIT0=1 上昇ﾎｰﾙﾄﾞ〜1工程または下降工程まで
10839 0000140C C801              2864             TST     #BIT0,R0                        ;上昇ﾎｰﾙﾄﾞ中
10840                            2865             TST_BIT_ON MODE_CCS_STPCMP_200          ;
10841 0000140E 8B27                   M           BF      MODE_CCS_STPCMP_200
10842                            2866     
10843                            2867     
10844 00001410                   2868     MODE_CCS_STPCMP_145:
10845                            2869             FAR_JSR #_AUTO_OF,R0                    ;
10846 00001410 D00C                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10847 00001412 400B                   M           JSR     @R0                     ;
10848 00001414 0009                   M           NOP                                     ;
10849                            2870     
10850                            2871     ;       === 上昇ﾎｰﾙﾄﾞではない===
10851 00001416 D10C              2872             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
10852 00001418 6011              2873             MOV.W   @R1,R0                          ;
10853 0000141A C801              2874             TST     #BIT0,R0                        ;
10854                            2875             TST_BIT_OF MODE_CCS_STPCMP_300          ;一回もOFFしていない
10855 0000141C 8936                   M           BT      MODE_CCS_STPCMP_300
10856                            2876     
10857                            2877     ;;;;2005-08-28  MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
10858                            2878     
10859                            2879     ;下降行程で手を離したら無条件に停止する
10860                            2880     ;;;;2007-12-26  MOV.L   #_STOP_LATCH_B,R1               ;2005-08-28
10861                            2881     ;;;;2007-12-26  MOV.W   @R1,R0                          ;
10862                            2882     ;;;;2007-12-26  TST     #BIT0,R0                        ;
10863                            2883     ;;;;2007-12-26  TST_BIT_OF MODE_CCS_STPCMP_150          ;通常の停止
10864                            2884     ;;;;2007-12-26
10865                            2885     ;;;;2007-12-26  MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10866                            2886     ;;;;2007-12-26  MOV.W   @R1,R0                          ;
10867                            2887     ;;;;2007-12-26  MOV.L   #_CPOS_STEP_MAX,R2              ;
10868                            2888     ;;;;2007-12-26  MOV.W   @R2,R4                          ;
10869                            2889     ;;;;2007-12-26  ADD     #1,R4                           ;
10870                            2890     ;;;;2007-12-26  CMP/EQ  R0,R4                           ;
10871                            2891     ;;;;2007-12-26  BF      MODE_CCS_STPCMP_150             ;最終工程でないなら手動停止
10872                            2892     ;;;;2007-12-26  M_BRA   MODE_CCS_STPCMP_300             ;
10873                            2893     ;;;;2019-08-20MODE_CCS_STPCMP_150:
10874                            2894     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
10875                            2895             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
10876 0000141E D00B                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10877 00001420 400B                   M           JSR     @R0                     ;
10878 00001422 0009                   M           NOP                                     ;
10879                            2896             MOD_LOW_STOP_R0_R1                      ;2007-03-02
10880 00001424 D10A                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
10881 00001426 E002                   M           MOV.B   #BIT1,R0                        ;
10882 00001428 2101                   M           MOV.W   R0,@R1                          ;
10883                            2897     ;       ---2007-03-02-----
10884                            2898             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
10885 0000142A D00A                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10886 0000142C 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    87
PROGRAM NAME =

10887 0000142E 0009                   M           NOP                                     ;
10888                            2899     
10889                            2900     ;       ------- 2007-12-26-------
10890 00001430 200A              2901             XOR     R0,R0
10891 00001432 D109              2902             MOV.L   #_STOP_LATCH_B,R1               ;
10892 00001434 2101              2903             MOV.W   R0,@R1
10893 00001436 D109              2904             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
10894 00001438 2101              2905             MOV.W   R0,@R1
10895                            2906             M_BRA   MODE_CCS_STPCMP_300             ;
10896 0000143A A027                   M           BRA     MODE_CCS_STPCMP_300
10897 0000143C 0009                   M           NOP
10898                            2907     
10899                            2908     ;       ====== 上昇ﾎｰﾙﾄﾞ中 =====
10900                                     ***** BEGIN-POOL *****
10901 0000143E 0000                       ALIGNMENT CODE
10902 00001440 00000000                   DATA FOR SOURCE-LINE 2862
10903 00001444 00000000                   DATA FOR SOURCE-LINE 2869
10904 00001448 00000000                   DATA FOR SOURCE-LINE 2872
10905 0000144C 00000000                   DATA FOR SOURCE-LINE 2895
10906 00001450 00000000                   DATA FOR SOURCE-LINE 2896
10907 00001454 00000000                   DATA FOR SOURCE-LINE 2898
10908 00001458 00000000                   DATA FOR SOURCE-LINE 2902
10909 0000145C 00000000                   DATA FOR SOURCE-LINE 2904
10910                                     ***** END-POOL *****
10911 00001460                   2909     MODE_CCS_STPCMP_200:
10912                            2910     ;2007-11-21 本来は200:~220:だけでいいが確認が難しいことと、不具合をださないなら上でやる
10913                            2911     ;       ----2007-11-21二重化対策 ﾎｰﾙﾄﾞ中でも相手が止めるなら止める-----------
10914                            2912     ;       FAR_JSR #_CPU_BA_DRVSTOP_ON_JG,R0       ;_CPU_AB_DRVSTOP_ON_OUTで_SH2_HD_SFTY_AUTO
                                          =-1
10915                            2913     ;       TST     R0,R0                           ;_SH2_HD_SFTY_AUTO
10916                            2914     ;       TST_BIT_OF MODE_CCS_STPCMP_220                                          ;
10917                            2915     ;       MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT0,WKREG=R1     ;bit-set
10918                            2916     ;       FAR_JSR #_AUTO_OF,R0                                                    ;
10919                            2917     ;
10920                            2918     ;       FAR_JSR #_BRK_ERR_WORK_CLR1,R0                                  ;ERR1.SRC
10921                            2919     ;       MOD_LOW_STOP_R0_R1                                              ;
10922                            2920     ;       FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0                              ;
10923                            2921     ;       M_BRA   MODE_CCS_STPCMP_300                                     ;
10924                            2922     ;MODE_CCS_STPCMP_220:
10925                            2923     ;       ----------------------------------------------------------------
10926                            2924     
10927                            2925             FAR_JSR #_AUTO_ON,R0                    ;
10928 00001460 D00C                   M           MOV.L   #_AUTO_ON,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10929 00001462 400B                   M           JSR     @R0                     ;
10930 00001464 0009                   M           NOP                                     ;
10931                            2926     
10932 00001466 D10C              2927             MOV.L   #_CNT_STOP_CMD,R1               ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄｱｯﾌﾟ
10933 00001468 6011              2928             MOV.W   @R1,R0                          ;
10934 0000146A 2008              2929             TST     R0,R0                           ;
10935                            2930             TST_BIT_ON MODE_CCS_STPCMP_250          ;停止すべき
10936 0000146C 8B03                   M           BF      MODE_CCS_STPCMP_250
10937                            2931     
10938 0000146E D10B              2932             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
10939 00001470 6011              2933             MOV.W   @R1,R0                          ;
10940 00001472 C801              2934             TST     #BIT0,R0                        ;
10941                            2935             TST_BIT_OF MODE_CCS_STPCMP_300          ;一回もOFFしていない
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    88
PROGRAM NAME =

10942 00001474 890A                   M           BT      MODE_CCS_STPCMP_300
10943                            2936     
10944 00001476                   2937     MODE_CCS_STPCMP_250:
10945 00001476 D10A              2938             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
10946 00001478 6011              2939             MOV.W   @R1,R0                          ;
10947 0000147A CB01              2940             OR      #BIT0,R0                        ;
10948 0000147C 2101              2941             MOV.W   R0,@R1                          ;
10949                            2942     
10950 0000147E                   2943     MODE_CCS_STPCMP_270:
10951                            2944     
10952                            2945     ;;;;;;;;;;;2007-12-26 最終工程でなくても上昇ﾎｰﾙﾄﾞで停止ｺﾏﾝﾄﾞ出力
10953                            2946     ;;;     ------------- 追加 2005-08-26 -----------
10954                            2947     ;;;        MOV.L        #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
10955                            2948     ;;;        MOV.W        @R1,R0                          ;
10956                            2949     ;;;        MOV.L        #_CPOS_STEP_MAX,R2              ;
10957                            2950     ;;;        MOV.W        @R2,R4                          ;
10958                            2951     ;;;        ADD  #1,R4                           ;
10959                            2952     ;;;        CMP/EQ       R0,R4                           ;
10960                            2953     ;;;        BF   MODE_CCS_STPCMP_280             ;最終工程以外?
10961                            2954     ;;;        M_BRA        MODE_CCS_STPCMP_300             ;
10962                            2955     
10963 0000147E                   2956     MODE_CCS_STPCMP_280:
10964 0000147E D109              2957             MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
10965 00001480 6011              2958             MOV.W   @R1,R0                                                  ;
10966 00001482 C804              2959             TST     #BIT2,R0                                                ;2004-12-20
10967                            2960             TST_BIT_ON MODE_CCS_STPCMP_300                                  ;
10968 00001484 8B02                   M           BF      MODE_CCS_STPCMP_300
10969                            2961     
10970                            2962             FAR_JSR #_STOP_LTH_OUT,R0
10971 00001486 D008                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10972 00001488 400B                   M           JSR     @R0                     ;
10973 0000148A 0009                   M           NOP                                     ;
10974                            2963     
10975                            2964     
10976 0000148C                   2965     MODE_CCS_STPCMP_300:
10977                            2966     
10978 0000148C                   2967     MODE_CSS_STOPCK1000:
10979                            2968     
10980                            2969             SUB_END
10981                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10982 0000148C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10983                            2970             M_RTS
10984 0000148E 000B                   M           RTS                             ;RTSの後ろの
10985 00001490 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10986                            2971     
10987                            2972     
10988                                     ***** BEGIN-POOL *****
10989 00001492 0000                       ALIGNMENT CODE
10990 00001494 00000000                   DATA FOR SOURCE-LINE 2925
10991 00001498 00000000                   DATA FOR SOURCE-LINE 2927
10992 0000149C 00000000                   DATA FOR SOURCE-LINE 2932
10993 000014A0 00000000                   DATA FOR SOURCE-LINE 2938
10994 000014A4 00000000                   DATA FOR SOURCE-LINE 2957
10995 000014A8 00000000                   DATA FOR SOURCE-LINE 2962
10996                                     ***** END-POOL *****
10997 000014AC                   2973     _MODE_OPT_STOP_CHK:;//(ｵﾌﾟｼｮﾝではなくなってしまっている ここにはこないPSDIぐらい)
10998 000014AC                   2974     _MODE_INC_STOP_CHK:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    89
PROGRAM NAME =

10999                            2975             SUB_START
11000 000014AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
11001                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11002 000014AE D103              2976             MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分) 2003-06-13
11003 000014B0 6011              2977             MOV.W   @R1,R0                          ;運転中止(寸動部分) 2003-06-13
11004 000014B2 2008              2978             TST     R0,R0                           ;運転中止(寸動部分) 2003-06-13
11005                            2979             TST_BIT_OF MODE_INC_STPCHK_050          ;運転中止(寸動部分) 2003-06-13
11006 000014B4 8923                   M           BT      MODE_INC_STPCHK_050
11007                            2980             M_BRA   MODE_INC_STPCHK_000             ;運転中止(寸動部分) 2003-06-13
11008 000014B6 A019                   M           BRA     MODE_INC_STPCHK_000
11009 000014B8 0009                   M           NOP
11010                            2981     
11011                            2982     
11012                                     ***** BEGIN-POOL *****
11013 000014BA 0000                       ALIGNMENT CODE
11014 000014BC 00000000                   DATA FOR SOURCE-LINE 2976
11015                                     ***** END-POOL *****
11016 000014C0                   2983     _MODE_DIC_STOP_CHK:
11017                            2984             SUB_START
11018 000014C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
11019                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11020                            2985     ;       -------- 2006-07-28----
11021 000014C2 D107              2986             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
11022 000014C4 6011              2987             MOV.W   @R1,R0                          ;
11023 000014C6 2008              2988             TST     R0,R0                           ;
11024                            2989             TST_BIT_OF MODE_INC_STPCHK_000          ;
11025 000014C8 8910                   M           BT      MODE_INC_STPCHK_000
11026                            2990     
11027                            2991     
11028                            2992     ;       ---------手パﾓｰﾄﾞで手パ有効OFFなら終り[2011-07-04]
11029 000014CA D106              2993             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
11030 000014CC 6011              2994             MOV.W   @R1,R0                          ;
11031 000014CE C802              2995             TST     #BIT1,R0                        ;
11032                            2996             TST_BIT_OF MODE_INC_STPCHK_050          ;
11033 000014D0 8915                   M           BT      MODE_INC_STPCHK_050
11034                            2997     
11035                            2998     
11036 000014D2 D105              2999             MOV.L   #_BTTN_FLG,R1                   ;
11037 000014D4 6011              3000             MOV.W   @R1,R0                          ;
11038 000014D6 C802              3001             TST     #BIT1,R0                        ;
11039                            3002             TST_BIT_ON MODE_INC_STPCHK_100          ;片手ONなら継続
11040 000014D8 8B1A                   M           BF      MODE_INC_STPCHK_100
11041                            3003             M_BRA   MODE_INC_STPCHK_050             ;
11042 000014DA A010                   M           BRA     MODE_INC_STPCHK_050
11043 000014DC 0009                   M           NOP
11044                            3004     ;       -----------------------
11045                            3005     
11046                                     ***** BEGIN-POOL *****
11047 000014DE 0000                       ALIGNMENT CODE
11048 000014E0 00000000                   DATA FOR SOURCE-LINE 2986
11049 000014E4 00000000                   DATA FOR SOURCE-LINE 2993
11050 000014E8 00000000                   DATA FOR SOURCE-LINE 2999
11051                                     ***** END-POOL *****
11052 000014EC                   3006     MODE_INC_STPCHK_000:
11053 000014EC D10A              3007             MOV.L   #_BTTN_FLG,R1                   ;
11054 000014EE 6011              3008             MOV.W   @R1,R0                          ;
11055 000014F0 C804              3009             TST     #BIT2,R0                        ;両手ON
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    90
PROGRAM NAME =

11056                            3010             TST_BIT_ON MODE_INC_STPCHK_100          ;
11057 000014F2 8B0D                   M           BF      MODE_INC_STPCHK_100
11058                            3011     
11059                            3012     ;       ---------- 2015-11-13[行程2重回路対策]---------------
11060                            3013     ;;;; .AIF 1 EQ 1
11061                            3014             FAR_JSR #_API_ENDHAND_SIGCHK,R0 ;
11062 000014F4 D009                   M           MOV.L   #_API_ENDHAND_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11063 000014F6 400B                   M           JSR     @R0                     ;
11064 000014F8 0009                   M           NOP                                     ;
11065 000014FA 2008              3015             TST     R0,R0                           ;
11066                            3016             TST_BIT_ON MODE_INC_STPCHK_100          ;ﾊﾝﾄﾞｼｪｲｸ途中は運転釦を見ない()
11067 000014FC 8B08                   M           BF      MODE_INC_STPCHK_100
11068                            3017     ;;;; .AENDI
11069                            3018     ;       ------------------------------------
11070                            3019     
11071 000014FE                   3020     MODE_INC_STPCHK_050:
11072                            3021     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
11073                            3022             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
11074 000014FE D008                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11075 00001500 400B                   M           JSR     @R0                     ;
11076 00001502 0009                   M           NOP                                     ;
11077                            3023     
11078                            3024             MOD_LOW_STOP_R0_R1                      ;2007-03-02
11079 00001504 D107                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
11080 00001506 E002                   M           MOV.B   #BIT1,R0                        ;
11081 00001508 2101                   M           MOV.W   R0,@R1                          ;
11082                            3025     ;       ---2007-03-02-----
11083                            3026             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
11084 0000150A D007                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11085 0000150C 400B                   M           JSR     @R0                     ;
11086 0000150E 0009                   M           NOP                                     ;
11087                            3027     
11088                            3028     ;;;     MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
11089                            3029     ;;;     MOV.W   #BIT1,R0                        ;
11090                            3030     ;;;     MOV.W   R0,@R1                          ;
11091 00001510                   3031     MODE_INC_STPCHK_100:
11092                            3032             SUB_END
11093                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11094 00001510 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11095                            3033             M_RTS
11096 00001512 000B                   M           RTS                             ;RTSの後ろの
11097 00001514 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11098                            3034     
11099                            3035     ;       === 2003-07-09 =====
11100                                     ***** BEGIN-POOL *****
11101 00001516 0000                       ALIGNMENT CODE
11102 00001518 00000000                   DATA FOR SOURCE-LINE 3007
11103 0000151C 00000000                   DATA FOR SOURCE-LINE 3014
11104 00001520 00000000                   DATA FOR SOURCE-LINE 3022
11105 00001524 00000000                   DATA FOR SOURCE-LINE 3024
11106 00001528 00000000                   DATA FOR SOURCE-LINE 3026
11107                                     ***** END-POOL *****
11108 0000152C                   3036     _MODE_DUP_STOP_CHK:
11109                            3037             SUB_START
11110 0000152C 4F22                   M           STS.L   PR,@-R15                ;[必要]
11111                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11112                            3038     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    91
PROGRAM NAME =

11113 0000152E D109              3039             MOV.L   #_PAR_ORGDRV_MOD,R1             ;原点復帰方法変更
11114 00001530 6011              3040             MOV.W   @R1,R0                          ;
11115 00001532 8801              3041             CMP/EQ  #1,R0                           ;
11116 00001534 8918              3042             BT      MODE_DUP_STPCHK100              ;
11117                            3043     
11118 00001536 D108              3044             MOV.L   #_BTTN_FLG,R1                   ;
11119 00001538 6011              3045             MOV.W   @R1,R0                          ;
11120 0000153A C804              3046             TST     #BIT2,R0                        ;両手ON
11121                            3047             TST_BIT_ON MODE_DUP_STPCHK200           ;
11122 0000153C 8B22                   M           BF      MODE_DUP_STPCHK200
11123                            3048             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
11124 0000153E D007                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11125 00001540 400B                   M           JSR     @R0                     ;
11126 00001542 0009                   M           NOP                                     ;
11127                            3049     ;;;20060916             FAR_JSR #_STOPPING_TIM_STOP_INI,R0      ;
11128                            3050             MOD_LOW_STOP_R0_R1                      ;減速停止
11129 00001544 D106                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
11130 00001546 E002                   M           MOV.B   #BIT1,R0                        ;
11131 00001548 2101                   M           MOV.W   R0,@R1                          ;
11132                            3051     ;       ---2007-03-02-----
11133                            3052             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
11134 0000154A D006                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11135 0000154C 400B                   M           JSR     @R0                     ;
11136 0000154E 0009                   M           NOP                                     ;
11137                            3053     
11138                            3054             M_BRA   MODE_DUP_STPCHK200
11139 00001550 A018                   M           BRA     MODE_DUP_STPCHK200
11140 00001552 0009                   M           NOP
11141                            3055     
11142                                     ***** BEGIN-POOL *****
11143 00001554 00000000                   DATA FOR SOURCE-LINE 3039
11144 00001558 00000000                   DATA FOR SOURCE-LINE 3044
11145 0000155C 00000000                   DATA FOR SOURCE-LINE 3048
11146 00001560 00000000                   DATA FOR SOURCE-LINE 3050
11147 00001564 00000000                   DATA FOR SOURCE-LINE 3052
11148                                     ***** END-POOL *****
11149 00001568                   3056     MODE_DUP_STPCHK100:
11150                            3057     ;       ====原点復帰完了待ち
11151 00001568 D108              3058             MOV.L   #_ORG_RDY_CTL_FLG,R1            ;不本意ながらﾌﾗｸﾞ
11152 0000156A 6011              3059             MOV.W   @R1,R0                          ;起動でBIT1=BIT0=0 完了でBIT0=1　LATCH/BIT
                                          1=1
11153 0000156C C810              3060             TST     #BIT4,R0                        ;
11154                            3061             TST_BIT_ON MODE_DUP_STPCHK200           ;BIT4=1 全工程終了
11155 0000156E 8B09                   M           BF      MODE_DUP_STPCHK200
11156                            3062     
11157 00001570 C808              3063             TST     #BIT3,R0                        ;終了 終了ﾗｯﾁ
11158                            3064             TST_BIT_OF MODE_DUP_STPCHK200           ;
11159 00001572 8907                   M           BT      MODE_DUP_STPCHK200
11160 00001574 CB10              3065             OR      #BIT4,R0                        ;
11161 00001576 2101              3066             MOV.W   R0,@R1                          ;
11162                            3067     
11163                            3068             MOD_LOW_STOP_R0_R1                      ;減速停止(本当は不要だけど終了させる為にあ
                                          えて)
11164 00001578 D105                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
11165 0000157A E002                   M           MOV.B   #BIT1,R0                        ;
11166 0000157C 2101                   M           MOV.W   R0,@R1                          ;
11167                            3069     ;       ---2007-03-02-----
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    92
PROGRAM NAME =

11168                            3070             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
11169 0000157E D005                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11170 00001580 400B                   M           JSR     @R0                     ;
11171 00001582 0009                   M           NOP                                     ;
11172                            3071     
11173 00001584                   3072     MODE_DUP_STPCHK200
11174                            3073             SUB_END
11175                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11176 00001584 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11177                            3074             M_RTS
11178 00001586 000B                   M           RTS                             ;RTSの後ろの
11179 00001588 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11180                            3075     
11181                            3076     ;       *******************************************
11182                            3077     ;       ***                                     ***
11183                            3078     ;       ***     位置決めキャンセル指令時クリア  ***
11184                            3079     ;       ***                                     ***
11185                            3080     ;       *******************************************
11186                                     ***** BEGIN-POOL *****
11187 0000158A 0000                       ALIGNMENT CODE
11188 0000158C 00000000                   DATA FOR SOURCE-LINE 3058
11189 00001590 00000000                   DATA FOR SOURCE-LINE 3068
11190 00001594 00000000                   DATA FOR SOURCE-LINE 3070
11191                                     ***** END-POOL *****
11192 00001598                   3081     _POS_CANSEL_STOP_CHK:
11193                            3082             SUB_START
11194 00001598 4F22                   M           STS.L   PR,@-R15                ;[必要]
11195                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11196                            3083              .AIF   1 EQ 1  ;
11197                            3084 C   ;       -------- 2016-10-31 ADD 二重回路対策
11198                            3085              .AENDI
11199                            3086     
11200                            3087     ;;;2016-10-31   MOV.L   #_CB_SEQ_CB_COM340,R1           ;340.11 位置決めキャンセル
11201                            3088     ;;;2016-10-31   MOV.W   @R1,R0                          ;
11202                            3089     ;;;2016-10-31   MOV.W   #BIT11,R4                       ;
11203                            3090     
11204                            3091     ;       -------- 2016-10-31(2016-05-11) ﾗｯﾁﾃﾞｰﾀに変更-----------
11205 0000159A D10C              3092             MOV.L   #_POSCANSEL_CMD,R1              ;
11206 0000159C 6011              3093             MOV.W   @R1,R0                          ;
11207 0000159E 9413              3094             MOV.W   #BIT11,R4                       ;
11208                            3095     
11209 000015A0 2048              3096             TST     R4,R0                           ;
11210                            3097             TST_BIT_OF POS_CANSEL_STPCHK_MOV        ;
11211 000015A2 891F                   M           BT      POS_CANSEL_STPCHK_MOV
11212                            3098     
11213                            3099             FAR_JSR #_POS_CANSEL_CLR,R0
11214 000015A4 D00A                   M           MOV.L   #_POS_CANSEL_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11215 000015A6 400B                   M           JSR     @R0                     ;
11216 000015A8 0009                   M           NOP                                     ;
11217                            3100             FAR_JSR #_ORGIN_MODE_FLG_CLR,R0         ;
11218 000015AA D00A                   M           MOV.L   #_ORGIN_MODE_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11219 000015AC 400B                   M           JSR     @R0                     ;
11220 000015AE 0009                   M           NOP                                     ;
11221                            3101     
11222                            3102     ;       ======== 運転釦のOFF/停止ｺﾏﾝﾄﾞ/安全位置工程の上昇ﾎｰﾙﾄﾞ/ 2003-07-01
11223                            3103             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
11224 000015B0 D009                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    93
PROGRAM NAME =

11225 000015B2 400B                   M           JSR     @R0                     ;
11226 000015B4 0009                   M           NOP                                     ;
11227                            3104     
11228                            3105     ;       ---2007-03-02-----
11229                            3106             MOD_LOW_STOP_R0_R1              ;bit1->_MNWR_POS_CMD,R1         ;減速停止,起動OFF
11230 000015B6 D109                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
11231 000015B8 E002                   M           MOV.B   #BIT1,R0                        ;
11232 000015BA 2101                   M           MOV.W   R0,@R1                          ;
11233                            3107             FAR_JSR #_CPU_AB_DRVSTOP_ON_OUT,R0      ;
11234 000015BC D008                   M           MOV.L   #_CPU_AB_DRVSTOP_ON_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11235 000015BE 400B                   M           JSR     @R0                     ;
11236 000015C0 0009                   M           NOP                                     ;
11237                            3108     
11238                            3109     ;       ---- STOP ANS
11239 000015C2 E001              3110             MOV     #1,R0
11240                            3111             M_BRA   POS_CANSEL_STPCHK_END
11241 000015C4 A00F                   M           BRA     POS_CANSEL_STPCHK_END
11242 000015C6 0009                   M           NOP
11243                                     ***** BEGIN-POOL *****
11244 000015C8 0800                       DATA FOR SOURCE-LINE 3094
11245 000015CA 0000                       ALIGNMENT CODE
11246 000015CC 00000000                   DATA FOR SOURCE-LINE 3092
11247 000015D0 00000000                   DATA FOR SOURCE-LINE 3099
11248 000015D4 00000000                   DATA FOR SOURCE-LINE 3100
11249 000015D8 00000000                   DATA FOR SOURCE-LINE 3103
11250 000015DC 00000000                   DATA FOR SOURCE-LINE 3106
11251 000015E0 00000000                   DATA FOR SOURCE-LINE 3107
11252                                     ***** END-POOL *****
11253 000015E4                   3112     POS_CANSEL_STPCHK_MOV:
11254 000015E4 200A              3113             XOR     R0,R0
11255 000015E6                   3114     POS_CANSEL_STPCHK_END:
11256                            3115             SUB_END
11257                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11258 000015E6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11259                            3116             M_RTS
11260 000015E8 000B                   M           RTS                             ;RTSの後ろの
11261 000015EA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11262                            3117     
11263 000015EC                   3118     _POS_CANSEL_CLR
11264                            3119             SUB_START
11265 000015EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
11266                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11267                            3120             FAR_JSR #_AUTO_OF,R0                    ;
11268 000015EE D006                   M           MOV.L   #_AUTO_OF,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11269 000015F0 400B                   M           JSR     @R0                     ;
11270 000015F2 0009                   M           NOP                                     ;
11271 000015F4 200A              3121             XOR     R0,R0
11272 000015F6 D105              3122             MOV.L   #_STOP_LATCH_B,R1               ;
11273 000015F8 2101              3123             MOV.W   R0,@R1
11274 000015FA D105              3124             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
11275 000015FC 2101              3125             MOV.W   R0,@R1
11276 000015FE D105              3126             MOV.L   #_INT_CLS_CTL_FLG,R1            ;//BIT0=1 START 起動時ｸﾘｱ
11277 00001600 2101              3127             MOV.W   R0,@R1                          ;
11278                            3128     
11279                            3129             SUB_END
11280                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11281 00001602 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    94
PROGRAM NAME =

11282                            3130             M_RTS
11283 00001604 000B                   M           RTS                             ;RTSの後ろの
11284 00001606 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11285                            3131     
11286                            3132     
11287                            3133     ;       *******************************************
11288                            3134     ;       ***                                     ***
11289                            3135     ;       ***     モード制御フラグの異常時クリア  ***
11290                            3136     ;       ***                                     ***
11291                            3137     ;       *******************************************
11292                                     ***** BEGIN-POOL *****
11293 00001608 00000000                   DATA FOR SOURCE-LINE 3120
11294 0000160C 00000000                   DATA FOR SOURCE-LINE 3122
11295 00001610 00000000                   DATA FOR SOURCE-LINE 3124
11296 00001614 00000000                   DATA FOR SOURCE-LINE 3126
11297                                     ***** END-POOL *****
11298 00001618                   3138             .ALIGN  4                               ;
11299 00001618                   3139     _EMG_CTL_FLG_PROC:
11300                            3140             SUB_START
11301 00001618 4F22                   M           STS.L   PR,@-R15                ;[必要]
11302                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11303                            3141             FAR_JSR #_EXQ_CTL_FLG_PROC,R1           ;
11304 0000161A D10D                   M           MOV.L   #_EXQ_CTL_FLG_PROC,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11305 0000161C 410B                   M           JSR     @R1                     ;
11306 0000161E 0009                   M           NOP                                     ;
11307                            3142             FAR_JSR #_UP_HOLD_FLG_CLR1,R0           ;(ﾛｯﾄｶｳﾝﾀには使用できないので注意)
11308 00001620 D00C                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11309 00001622 400B                   M           JSR     @R0                     ;
11310 00001624 0009                   M           NOP                                     ;
11311                            3143             FAR_JSR #_UP_HOLD_FLG_CLR2,R0           ;
11312 00001626 D00C                   M           MOV.L   #_UP_HOLD_FLG_CLR2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11313 00001628 400B                   M           JSR     @R0                     ;
11314 0000162A 0009                   M           NOP                                     ;
11315                            3144     
11316 0000162C 200A              3145             XOR     R0,R0                           ;
11317 0000162E D10B              3146             MOV.L   #_INT_POS_CTL_STEP,R1           ;
11318 00001630 2101              3147             MOV.W   R0,@R1                          ;
11319 00001632 D10B              3148             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//連続が１ｽﾃｯﾌﾟになった
11320 00001634 2101              3149             MOV.W   R0,@R1                          ;
11321                            3150     
11322                            3151             FAR_JSR #_STEP_SIG_DSP_CLR,R0
11323 00001636 D00B                   M           MOV.L   #_STEP_SIG_DSP_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11324 00001638 400B                   M           JSR     @R0                     ;
11325 0000163A 0009                   M           NOP                                     ;
11326                            3152     
11327 0000163C 200A              3153             XOR     R0,R0                           ;2004-01-28
11328 0000163E D10A              3154             MOV.L   #_ENC360_OVER_FLG,R1            ;
11329 00001640 2101              3155             MOV.W   R0,@R1                          ;
11330                            3156     
11331                            3157     ;       ----- 2006-04-26 ------------
11332 00001642 200A              3158             XOR     R0,R0                           ;
11333 00001644 D109              3159             MOV.L   #_IN_RDY_FLG,R1                 ;ANTI LEVEL
11334 00001646 2101              3160             MOV.W   R0,@R1                          ;
11335                            3161     
11336                            3162             SUB_END
11337                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11338 00001648 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    95
PROGRAM NAME =

11339                            3163             M_RTS
11340 0000164A 000B                   M           RTS                             ;RTSの後ろの
11341 0000164C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11342                            3164     
11343                                     ***** BEGIN-POOL *****
11344 0000164E 0000                       ALIGNMENT CODE
11345 00001650 00000000                   DATA FOR SOURCE-LINE 3141
11346 00001654 00000000                   DATA FOR SOURCE-LINE 3142
11347 00001658 00000000                   DATA FOR SOURCE-LINE 3143
11348 0000165C 00000000                   DATA FOR SOURCE-LINE 3146
11349 00001660 00000000                   DATA FOR SOURCE-LINE 3148
11350 00001664 00000000                   DATA FOR SOURCE-LINE 3151
11351 00001668 00000000                   DATA FOR SOURCE-LINE 3154
11352 0000166C 00000000                   DATA FOR SOURCE-LINE 3159
11353                                     ***** END-POOL *****
11354 00001670                   3165             .ALIGN  4                               ;
11355 00001670                   3166     _EXQ_CTL_FLG_PROC:                              ;EMGでも呼ばれる
11356                            3167             SUB_START
11357 00001670 4F22                   M           STS.L   PR,@-R15                ;[必要]
11358                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11359                            3168     ;;;     XOR     R0,R0                           ;
11360                            3169     ;;;2006-04-26   MOV.L   #_IN_RDY_FLG,R1         ;//内部準備完了(ANTIと同じﾚﾍﾞﾙ)
11361                            3170     ;;;2006-04-26   MOV.W   R0,@R1                  ;
11362                            3171     
11363 00001672 200A              3172             XOR     R0,R0                           ;
11364 00001674 D127              3173             MOV.L   #_DRV_ACT_FLG,R1        ;//運転動作ﾌﾗｸﾞ BIT0:運転中
11365 00001676 2101              3174             MOV.W   R0,@R1                  ;
11366                            3175     
11367                            3176     
11368                            3177             FAR_JSR #_API_BREAK_VALV_FLG_OF,R0      ;2014-08-05[clr]
11369 00001678 D027                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11370 0000167A 400B                   M           JSR     @R0                     ;
11371 0000167C 0009                   M           NOP                                     ;
11372                            3178     
11373                            3179     ;;      2007-01-16 START_SFTY_LOCK_CLRでｸﾘｱする
11374                            3180     ;;      MOV.L   #_RDY_SFTY_LOCK,R1      ;//BIT0:LOCK 2006-04-10
11375                            3181     ;;      MOV.W   R0,@R1                  ;2006-04-10
11376                            3182     ;;      MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;2006-04-10
11377                            3183     ;;      MOV.W   R0,@R1                  ;2006-04-10
11378                            3184     
11379                            3185     ;       ====== 2007-01-16========
11380                            3186             FAR_JSR #_START_SFTY_LOCK_CLR,R0        ;2007-01-16[KEP--clr]
11381 0000167E D027                   M           MOV.L   #_START_SFTY_LOCK_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11382 00001680 400B                   M           JSR     @R0                     ;
11383 00001682 0009                   M           NOP                                     ;
11384                            3187     
11385                            3188     ;;;;2012-09-25  FAR_JSR #_SFTY_MASK_START,R0    ;
11386                            3189     ;;;;2013-02-23  FAR_JSR #_SFTY_MASK_ST_NOT_DRV,R0       ;2012-09-25
11387                            3190             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0                ;2013-02-23 新ｿﾌﾄは
11388 00001684 D026                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11389 00001686 400B                   M           JSR     @R0                     ;
11390 00001688 0009                   M           NOP                                     ;
11391                            3191     
11392 0000168A 200A              3192             XOR     R0,R0                   ;
11393 0000168C D125              3193             MOV.L   #_INT_CLS_CTL_FLG,R1    ;       //BIT0=1 START 起動時ｸﾘｱ
11394 0000168E 2101              3194             MOV.W   R0,@R1
11395                            3195     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    96
PROGRAM NAME =

11396 00001690 200A              3196             XOR     R0,R0                           ;
11397 00001692 D125              3197             MOV.L   #_RST_ERR_CHK_FLG,R1            ;BIT0=偏差異常みない
11398 00001694 2101              3198             MOV.W   R0,@R1                          ;
11399                            3199     ;       == 2003-07-09 ==
11400 00001696 D125              3200             MOV.L   #_ORG_RDY_CTL_FLG,R1            ;不本意ながらﾌﾗｸﾞ
11401 00001698 2101              3201             MOV.W   R0,@R1                          ;
11402                            3202     
11403                            3203     
11404                            3204     ;       ======ｻｲｸﾙ停止状態OFF==========================
11405                            3205             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4
11406 0000169A D125                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11407 0000169C 6011                   M           MOV.W   @R1,R0          ;
11408 0000169E 9436                   M           MOV.W   #LWORD (~BIT7),R4       ;
11409 000016A0 2049                   M           AND     R4,R0           ;
11410 000016A2 2101                   M           MOV.W   R0,@R1          ;
11411                            3206     
11412                            3207     ;       ======各一旦停止=================================
11413                            3208             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
11414 000016A4 D122                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11415 000016A6 6011                   M           MOV.W   @R1,R0          ;
11416 000016A8 9432                   M           MOV.W   #LWORD (~BIT9),R4       ;
11417 000016AA 2049                   M           AND     R4,R0           ;
11418 000016AC 2101                   M           MOV.W   R0,@R1          ;
11419                            3209     ;       ===============================================
11420                            3210             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~(H'FF),WKREG=R1 ;//位置決
                                          めｽﾃｰﾀｽ
11421 000016AE D121                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
11422 000016B0 6011                   M           MOV.W   @R1,R0          ;
11423 000016B2 C900                   M           AND     #LOW ~(H'FF),R0         ;
11424 000016B4 2101                   M           MOV.W   R0,@R1          ;
11425                            3211     
11426                            3212     ;       ===== 連続ｾｯﾄｱｯﾌﾟ待ち信号ｸﾘｱ ======
11427                            3213             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
11428 000016B6 D11E                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11429 000016B8 6011                   M           MOV.W   @R1,R0          ;
11430 000016BA 942A                   M           MOV.W   #LWORD (~BIT3),R4       ;
11431 000016BC 2049                   M           AND     R4,R0           ;
11432 000016BE 2101                   M           MOV.W   R0,@R1          ;
11433                            3214     ;       ===============================================
11434                            3215             FAR_JSR #_CMPEMG_EXQ_FLG_CLR,R0                 ;起動したいもｸﾘｱ
11435 000016C0 D01D                   M           MOV.L   #_CMPEMG_EXQ_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11436 000016C2 400B                   M           JSR     @R0                     ;
11437 000016C4 0009                   M           NOP                                     ;
11438                            3216     
11439                            3217             FAR_JSR #_STOPPING_TIM_STOP_INI,R0
11440 000016C6 D01D                   M           MOV.L   #_STOPPING_TIM_STOP_INI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11441 000016C8 400B                   M           JSR     @R0                     ;
11442 000016CA 0009                   M           NOP                                     ;
11443                            3218     
11444                            3219     
11445                            3220     ;       ==== 2012-03-06====
11446                            3221             FAR_JSR #_BRKTMCAL_STG1_STOPINI,R0              ;停止ソフト
11447 000016CC D01C                   M           MOV.L   #_BRKTMCAL_STG1_STOPINI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11448 000016CE 400B                   M           JSR     @R0                     ;
11449 000016D0 0009                   M           NOP                                     ;
11450                            3222     
11451                            3223     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    97
PROGRAM NAME =

11452                            3224     ;       ==== 2003-07-01 ====
11453                            3225             FAR_JSR #_BRK_ERR_WORK_CLR1,R0
11454 000016D2 D01C                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11455 000016D4 400B                   M           JSR     @R0                     ;
11456 000016D6 0009                   M           NOP                                     ;
11457                            3226     
11458                            3227     ;       ==== 2003-07-09 ====
11459                            3228             FAR_JSR #_CNT_CYCL_DISP_ST,R0
11460 000016D8 D01B                   M           MOV.L   #_CNT_CYCL_DISP_ST,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11461 000016DA 400B                   M           JSR     @R0                     ;
11462 000016DC 0009                   M           NOP                                     ;
11463                            3229     
11464                            3230     ;       === 2019-08-20==========
11465 000016DE 200A              3231             XOR             R0,R0
11466 000016E0 D11A              3232             MOV.L   #_CYCL_DSP_CNT_PV,R1    ;
11467 000016E2 2101              3233             MOV.W   R0,@R1                                  ;
11468                            3234     
11469                            3235     
11470                            3236     
11471                            3237     ;       ==== 2004-03-29 ===
11472                            3238             FAR_JSR #_EXQ_STOP_LEV_POS_CLR,R0
11473 000016E4 D01A                   M           MOV.L   #_EXQ_STOP_LEV_POS_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11474 000016E6 400B                   M           JSR     @R0                     ;
11475 000016E8 0009                   M           NOP                                     ;
11476                            3239     
11477                            3240     ;       ==== 2004-04-19 ==
11478                            3241             FAR_JSR #_GPOSIN_HOS_RESET,R0
11479 000016EA D01A                   M           MOV.L   #_GPOSIN_HOS_RESET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11480 000016EC 400B                   M           JSR     @R0                     ;
11481 000016EE 0009                   M           NOP                                     ;
11482                            3242     
11483                            3243     ;       ==== 2004-12-20 =====
11484                            3244             FAR_JSR #_CNTREST_HOS_RESET,R0
11485 000016F0 D019                   M           MOV.L   #_CNTREST_HOS_RESET,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11486 000016F2 400B                   M           JSR     @R0                     ;
11487 000016F4 0009                   M           NOP                                     ;
11488                            3245     
11489                            3246     
11490                            3247     ;       ==== 2006-07-28 =====
11491                            3248             FAR_JSR #_ORGIN_MODE_FLG_CLR,R0 ;
11492 000016F6 D019                   M           MOV.L   #_ORGIN_MODE_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11493 000016F8 400B                   M           JSR     @R0                     ;
11494 000016FA 0009                   M           NOP                                     ;
11495                            3249     
11496                            3250     
11497                            3251     ;       --------タイマ処理から再開をクリア[3/]------
11498                            3252             MEM_0CLR_R0_R1  MEM=_DURING_TIM_FX,LG=W
11499 000016FC 200A                   M           XOR     R0,R0           ;
11500 000016FE D118                   M           MOV.L   #_DURING_TIM_FX,R1      ;
11501 00001700 2101                   M           MOV.W   R0,@R1          ;
11502                            3253     
11503                            3254     
11504                            3255     ;       -------------------2014-08-30 -----------
11505                            3256             FAR_JSR #_POS_HOLD_FLG_EXQ_CLR,R0
11506 00001702 D018                   M           MOV.L   #_POS_HOLD_FLG_EXQ_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11507 00001704 400B                   M           JSR     @R0                     ;
11508 00001706 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    98
PROGRAM NAME =

11509                            3257     
11510                            3258     
11511                            3259     
11512                            3260             SUB_END
11513                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11514 00001708 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11515                            3261             M_RTS
11516 0000170A 000B                   M           RTS                             ;RTSの後ろの
11517 0000170C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11518                            3262     
11519                            3263     
11520                            3264     
11521                            3265     ;       *******************************************
11522                            3266     ;       ***                                     ***
11523                            3267     ;       ***     リセット制御フラグの異常時CLR   ***
11524                            3268     ;       ***                                     ***
11525                            3269     ;       *******************************************
11526                                     ***** BEGIN-POOL *****
11527 0000170E FF7F                       DATA FOR SOURCE-LINE 3205
11528 00001710 FDFF                       DATA FOR SOURCE-LINE 3208
11529 00001712 FFF7                       DATA FOR SOURCE-LINE 3213
11530 00001714 00000000                   DATA FOR SOURCE-LINE 3173
11531 00001718 00000000                   DATA FOR SOURCE-LINE 3177
11532 0000171C 00000000                   DATA FOR SOURCE-LINE 3186
11533 00001720 00000000                   DATA FOR SOURCE-LINE 3190
11534 00001724 00000000                   DATA FOR SOURCE-LINE 3193
11535 00001728 00000000                   DATA FOR SOURCE-LINE 3197
11536 0000172C 00000000                   DATA FOR SOURCE-LINE 3200
11537 00001730 00000000                   DATA FOR SOURCE-LINE 3205,3208,3213
11538 00001734 00000000                   DATA FOR SOURCE-LINE 3210
11539 00001738 00000000                   DATA FOR SOURCE-LINE 3215
11540 0000173C 00000000                   DATA FOR SOURCE-LINE 3217
11541 00001740 00000000                   DATA FOR SOURCE-LINE 3221
11542 00001744 00000000                   DATA FOR SOURCE-LINE 3225
11543 00001748 00000000                   DATA FOR SOURCE-LINE 3228
11544 0000174C 00000000                   DATA FOR SOURCE-LINE 3232
11545 00001750 00000000                   DATA FOR SOURCE-LINE 3238
11546 00001754 00000000                   DATA FOR SOURCE-LINE 3241
11547 00001758 00000000                   DATA FOR SOURCE-LINE 3244
11548 0000175C 00000000                   DATA FOR SOURCE-LINE 3248
11549 00001760 00000000                   DATA FOR SOURCE-LINE 3252
11550 00001764 00000000                   DATA FOR SOURCE-LINE 3256
11551                                     ***** END-POOL *****
11552 00001768                   3270             .ALIGN  4                               ;
11553 00001768                   3271     _STP_RST_FLG_PROC:
11554                            3272             SUB_START
11555 00001768 4F22                   M           STS.L   PR,@-R15                ;[必要]
11556                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11557 0000176A 200A              3273             XOR     R0,R0
11558 0000176C D102              3274             MOV.L   #_reset_flg,R1                  ;
11559 0000176E 2101              3275             MOV.W   R0,@R1                          ;
11560                            3276             SUB_END
11561                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11562 00001770 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11563                            3277             M_RTS
11564 00001772 000B                   M           RTS                             ;RTSの後ろの
11565 00001774 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE    99
PROGRAM NAME =

11566                            3278     
11567                            3279     
11568                            3280     ;       ***************************************************
11569                            3281     ;       ***     ﾘｾｯﾄ開始時にｻｰﾎﾞを含めてやるべき処理    ***
11570                            3282     ;       ***************************************************
11571                            3283             .IMPORT _DEBUG_SIGNAL_OFF
11572                                     ***** BEGIN-POOL *****
11573 00001776 0000                       ALIGNMENT CODE
11574 00001778 00000000                   DATA FOR SOURCE-LINE 3274
11575                                     ***** END-POOL *****
11576 0000177C                   3284     _RST_MOD_POS_START:
11577                            3285             SUB_START
11578 0000177C 4F22                   M           STS.L   PR,@-R15                ;[必要]
11579                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11580                            3286     ;;;;;   FAR_JSR #_NOW_POS_PRESET_OUTPLS,R0      ;現在位置を目標位置に変える
11581                            3287             FAR_JSR #_DEBUG_SIGNAL_OFF,R0           ;2004-03-03
11582 0000177E D003                   M           MOV.L   #_DEBUG_SIGNAL_OFF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11583 00001780 400B                   M           JSR     @R0                     ;
11584 00001782 0009                   M           NOP                                     ;
11585                            3288             SUB_END
11586                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11587 00001784 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11588                            3289             M_RTS
11589 00001786 000B                   M           RTS                             ;RTSの後ろの
11590 00001788 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11591                            3290     
11592                            3291     
11593                            3292     ;       ***************************************************
11594                            3293     ;       ***     ﾘｾｯﾄ終了時にｻｰﾎﾞを含めてやるべき処理    ***
11595                            3294     ;       ***************************************************
11596                            3295     ;       [1]動作モードの決定
11597                            3296     ;       [2]
11598                            3297     ;
11599                            3298     ;
11600                                     ***** BEGIN-POOL *****
11601 0000178A 0000                       ALIGNMENT CODE
11602 0000178C 00000000                   DATA FOR SOURCE-LINE 3287
11603                                     ***** END-POOL *****
11604 00001790                   3299     _RST_MOD_POS_END:
11605                            3300             SUB_START
11606 00001790 4F22                   M           STS.L   PR,@-R15                ;[必要]
11607                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11608                            3301     
11609                            3302     ;;;;;;;;;       -----------2011-09-14 段取で安全一を動かすならこのソフトを生かす--
11610                            3303     ;;;;;;;;;       MOV.L   #_BRKTST_INPUT_CMD,R1           ;//BIT0:制動試験指令[349.0の替わり
                                          ],BIT1:制動試験停止指令
11611                            3304     ;;;;;;;;;       MOV.W   @R1,R0                          ;
11612                            3305     ;;;;;;;;;       TST     #BIT0,R0                        ;
11613                            3306     ;;;;;;;;;       TST_BIT_OF RST_MOD_POSEND_100           ;
11614                            3307     ;;;;;;;;;       MOV.W   #(_W1DIC),R0                    ;
11615                            3308     ;;;;;;;;;       MOV.L   #_MODE_SEL,R1                   ;
11616                            3309     ;;;;;;;;;       MOV.W   R0,@R1                          ;
11617                            3310     ;;;;;;;;;       M_BRA   RST_MOD_POSEND_200              ;
11618                            3311     ;       ------------------------------------------
11619                            3312     
11620 00001792                   3313     RST_MOD_POSEND_100:
11621 00001792 D106              3314             MOV.L   #_INP_MODE,R1                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   100
PROGRAM NAME =

11622 00001794 6011              3315             MOV.W   @R1,R0                          ;
11623 00001796 D106              3316             MOV.L   #_MODE_SEL,R1                   ;
11624 00001798 2101              3317             MOV.W   R0,@R1                          ;
11625                            3318     
11626 0000179A                   3319     RST_MOD_POSEND_200:
11627                            3320     
11628 0000179A 200A              3321             XOR     R0,R0                           ;
11629 0000179C D105              3322             MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
11630 0000179E 2101              3323             MOV.W   R0,@R1                          ;
11631 000017A0 D105              3324             MOV.L   #_exq_err_flg,R1                ;//異常ﾗｯﾁ
11632 000017A2 2101              3325             MOV.W   R0,@R1                          ;
11633                            3326             SUB_END
11634                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11635 000017A4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11636                            3327             M_RTS
11637 000017A6 000B                   M           RTS                             ;RTSの後ろの
11638 000017A8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11639                            3328     
11640                            3329     ;       *******************************************
11641                            3330     ;       ***     上昇ﾎｰﾙﾄﾞ位置検索               ***
11642                            3331     ;       *******************************************
11643                            3332     ;       -- 設定からくる上昇位置をチェックする --
11644                            3333     ;       運転ﾓｰﾄﾞと運転方法から待機点へ戻る
11645                                     ***** BEGIN-POOL *****
11646 000017AA 0000                       ALIGNMENT CODE
11647 000017AC 00000000                   DATA FOR SOURCE-LINE 3314
11648 000017B0 00000000                   DATA FOR SOURCE-LINE 3316
11649 000017B4 00000000                   DATA FOR SOURCE-LINE 3322
11650 000017B8 00000000                   DATA FOR SOURCE-LINE 3324
11651                                     ***** END-POOL *****
11652 000017BC                   3334     _SV_UP_HOLD_CHK:
11653                            3335             SUB_START
11654 000017BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
11655                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11656 000017BE D104              3336             MOV.L   #_MODE_SEL,R1                           ;
11657 000017C0 6011              3337             MOV.W   @R1,R0                                  ;
11658 000017C2 9404              3338             MOV.W   #_W1INC+_W1SGL+_W1CNT+_W1OPT,R4         ;
11659 000017C4 2048              3339             TST     R4,R0                                   ;ﾓｰｼｮﾝ運転か?
11660                            3340             TST_BIT_ON SV_UP_HLDCHK_0050                    ;
11661 000017C6 8B05                   M           BF      SV_UP_HLDCHK_0050
11662 000017C8 200A              3341             XOR     R0,R0                                   ;
11663                            3342             M_BRA   SV_UP_HLDCHK_0900                       ;
11664 000017CA A040                   M           BRA     SV_UP_HLDCHK_0900
11665 000017CC 0009                   M           NOP
11666                            3343     
11667                                     ***** BEGIN-POOL *****
11668 000017CE 001E                       DATA FOR SOURCE-LINE 3338
11669 000017D0 00000000                   DATA FOR SOURCE-LINE 3336
11670                                     ***** END-POOL *****
11671 000017D4                   3344     SV_UP_HLDCHK_0050:
11672 000017D4 D102              3345             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
11673 000017D6 6011              3346             MOV.W   @R1,R0                                  ;
11674 000017D8 C808              3347             TST     #_DMATH_UPDRIV,R0                       ;DRIVE MATH 上往復 BIT3
11675                            3348             TST_BIT_ON SV_UP_HLDCHK_0100                    ;上往復
11676 000017DA 8B03                   M           BF      SV_UP_HLDCHK_0100
11677                            3349             M_BRA   SV_UP_HLDCHK_0190                       ;
11678 000017DC A012                   M           BRA     SV_UP_HLDCHK_0190
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   101
PROGRAM NAME =

11679 000017DE 0009                   M           NOP
11680                            3350     ;       ======== 上往復 =======
11681                                     ***** BEGIN-POOL *****
11682 000017E0 00000000                   DATA FOR SOURCE-LINE 3345
11683                                     ***** END-POOL *****
11684 000017E4                   3351     SV_UP_HLDCHK_0100:
11685                            3352             FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;R1:往路 R2:復路
11686 000017E4 D404                   M           MOV.L   #_CW_CCW_ENDSTEP_SERACH,R4              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11687 000017E6 440B                   M           JSR     @R4                     ;
11688 000017E8 0009                   M           NOP                                     ;
11689 000017EA D404              3353             MOV.L   #_UP_HOLD_STEP1,R4      ;
11690 000017EC 2411              3354             MOV.W   R1,@R4
11691 000017EE D404              3355             MOV.L   #_UP_HOLD_STEP2,R4      ;
11692 000017F0 2421              3356             MOV.W   R2,@R4
11693                            3357             M_BRA   SV_UP_HLDCHK_0900
11694 000017F2 A02C                   M           BRA     SV_UP_HLDCHK_0900
11695 000017F4 0009                   M           NOP
11696                            3358     
11697                                     ***** BEGIN-POOL *****
11698 000017F6 0000                       ALIGNMENT CODE
11699 000017F8 00000000                   DATA FOR SOURCE-LINE 3352
11700 000017FC 00000000                   DATA FOR SOURCE-LINE 3353
11701 00001800 00000000                   DATA FOR SOURCE-LINE 3355
11702                                     ***** END-POOL *****
11703 00001804                   3359     SV_UP_HLDCHK_0190:
11704 00001804 C804              3360             TST     #_DMATH_DNDRIV,R0               ;DRIVE MATH 下往復
11705                            3361             TST_BIT_ON SV_UP_HLDCHK_0200
11706 00001806 8B01                   M           BF      SV_UP_HLDCHK_0200
11707                            3362             M_BRA   SV_UP_HLDCHK_0290               ;
11708 00001808 A002                   M           BRA     SV_UP_HLDCHK_0290
11709 0000180A 0009                   M           NOP
11710                            3363     
11711                            3364     ;       =====   下往復  =====
11712 0000180C                   3365     SV_UP_HLDCHK_0200:
11713                            3366             M_BRA   SV_UP_HLDCHK_0295               ;回転と同じ論理[2009-10-07]
11714 0000180C A002                   M           BRA     SV_UP_HLDCHK_0295
11715 0000180E 0009                   M           NOP
11716                            3367     
11717                            3368     ;;[20091007下振子]      FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;R1:往路 R2:復路
11718                            3369     ;;[20091007下振子]      MOV.L   #_UP_HOLD_STEP1,R4      ;
11719                            3370     ;;[20091007下振子]      MOV.W   R1,@R4                  ;
11720                            3371     ;;[20091007下振子]      MOV.L   #_UP_HOLD_STEP2,R4      ;
11721                            3372     ;;[20091007下振子]      MOV.W   R2,@R4                  ;運転開始時にUP_HOLD_STEPにCOPY
11722                            3373     ;;[20091007下振子]      M_BRA   SV_UP_HLDCHK_0900
11723                            3374     
11724                            3375     
11725 00001810                   3376     SV_UP_HLDCHK_0290:
11726 00001810 C802              3377             TST     #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
11727                            3378             TST_BIT_ON SV_UP_HLDCHK_0300            ;
11728 00001812 8B13                   M           BF      SV_UP_HLDCHK_0300
11729 00001814                   3379     SV_UP_HLDCHK_0295:              ;20091007下振り子は回転と同じ論理
11730                            3380     ;       =====   回転    =====
11731                            3381             FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;ANS.R1
11732 00001814 D405                   M           MOV.L   #_CW_CCW_ENDSTEP_SERACH,R4              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11733 00001816 440B                   M           JSR     @R4                     ;
11734 00001818 0009                   M           NOP                                     ;
11735 0000181A D405              3382             MOV.L   #_UP_HOLD_STEP,R4;      //上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   102
PROGRAM NAME =

11736 0000181C 2411              3383             MOV.W   R1,@R4
11737 0000181E D405              3384             MOV.L   #_UP_HOLD_STEP1,R4      ;
11738 00001820 2411              3385             MOV.W   R1,@R4
11739 00001822 D405              3386             MOV.L   #_UP_HOLD_STEP2,R4      ;
11740 00001824 2411              3387             MOV.W   R1,@R4
11741                            3388             M_BRA   SV_UP_HLDCHK_0900
11742 00001826 A012                   M           BRA     SV_UP_HLDCHK_0900
11743 00001828 0009                   M           NOP
11744                            3389     
11745                            3390     ;       =====   反転    =====
11746                                     ***** BEGIN-POOL *****
11747 0000182A 0000                       ALIGNMENT CODE
11748 0000182C 00000000                   DATA FOR SOURCE-LINE 3381
11749 00001830 00000000                   DATA FOR SOURCE-LINE 3382
11750 00001834 00000000                   DATA FOR SOURCE-LINE 3384
11751 00001838 00000000                   DATA FOR SOURCE-LINE 3386
11752                                     ***** END-POOL *****
11753 0000183C                   3391     SV_UP_HLDCHK_0300:
11754                            3392             FAR_JSR #_CW_CCW_ENDSTEP_SERACH,R4      ;ANS.R2
11755 0000183C D405                   M           MOV.L   #_CW_CCW_ENDSTEP_SERACH,R4              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11756 0000183E 440B                   M           JSR     @R4                     ;
11757 00001840 0009                   M           NOP                                     ;
11758 00001842 D405              3393             MOV.L   #_UP_HOLD_STEP,R4       ;       //上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
11759 00001844 2421              3394             MOV.W   R2,@R4
11760 00001846 D405              3395             MOV.L   #_UP_HOLD_STEP1,R4      ;
11761 00001848 2421              3396             MOV.W   R2,@R4
11762 0000184A D405              3397             MOV.L   #_UP_HOLD_STEP2,R4      ;
11763 0000184C 2421              3398             MOV.W   R2,@R4
11764 0000184E                   3399     SV_UP_HLDCHK_0900:
11765                            3400     
11766                            3401             SUB_END
11767                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11768 0000184E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11769                            3402             M_RTS
11770 00001850 000B                   M           RTS                             ;RTSの後ろの
11771 00001852 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11772                            3403     
11773                            3404     ;       *******************************************
11774                            3405     ;       ***                                     ***
11775                            3406     ;       ***     以降/時計回転ステップ検索       ***
11776                            3407     ;       ***     以降/反時計回転ステップ検索     ***
11777                            3408     ;       ***                                     ***
11778                            3409     ;       *******************************************
11779                            3410     ;       1,2,3,4,5,6(5段の最終)
11780                            3411     ;       ここでは段数を決定する
11781                            3412     ;       実動作で、角度を判定する
11782                            3413     ;
11783                            3414     ;       待機点を横切る運転はない
11784                            3415     ;       ANS R1 以降CW(正転)となるｽﾃｯﾌﾟ  待機=0度 1=100度 2=200 3=150 4=300 5=340 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=3
11785                            3416     ;       ANS R2                          待機=0度 1=100度 2=200 3=150 4=300 5=340 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=6
11786                            3417     ;
11787                            3418     ;       ANS R1 以降CW(正転)となるｽﾃｯﾌﾟ  待機=0度 1=100度 2=200 3=150 4=300 5=100 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=6
11788                            3419     ;       ANS R2                          待機=0度 1=100度 2=200 3=150 4=300 5=100 6=待機点(
                                          ﾓｰﾄﾞで0/360)R1=4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   103
PROGRAM NAME =

11789                            3420     ;
11790                            3421     ;       < つまり >      R1は位置増加(CW/正転:待機点への戻りの方向)
11791                            3422     ;                       R2は位置減少(CCW/逆転:待機点への戻りの方向)
11792                            3423     ;
11793                                     ***** BEGIN-POOL *****
11794 00001854 00000000                   DATA FOR SOURCE-LINE 3392
11795 00001858 00000000                   DATA FOR SOURCE-LINE 3393
11796 0000185C 00000000                   DATA FOR SOURCE-LINE 3395
11797 00001860 00000000                   DATA FOR SOURCE-LINE 3397
11798                                     ***** END-POOL *****
11799 00001864                   3424             .ALIGN  4
11800 00001864                   3425     _CW_CCW_ENDSTEP_SERACH:
11801                            3426             SUB_START
11802 00001864 4F22                   M           STS.L   PR,@-R15                ;[必要]
11803                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11804 00001866 D110              3427             MOV.L   #_SETX_POS_STEP_MAX,R1          ;//設定=1~10(2~11)
11805 00001868 6511              3428             MOV.W   @R1,R5                          ;R5ｶｳﾝﾀ
11806 0000186A 7501              3429             ADD     #1,R5                           ;設定+1=MAX
11807 0000186C 6153              3430             MOV     R5,R1                           ;MAX-SET
11808 0000186E 6253              3431             MOV     R5,R2                           ;MAX-SET
11809 00001870 6053              3432             MOV     R5,R0                           ;
11810 00001872 70FF              3433             ADD     #-1,R0                          ;
11811 00001874 4008              3434             SHLL2   R0                              ;*4
11812 00001876 DA0D              3435             MOV.L   #_SETX_POS_SDAT1_OFSPOS,R10     ;
11813 00001878 3A0C              3436             ADD     R0,R10                          ;
11814 0000187A 68A2              3437             MOV.L   @R10,R8                         ;最終工程(待機点)
11815 0000187C 7AFC              3438             ADD     #-4,R10                         ;
11816 0000187E 6053              3439             MOV     R5,R0
11817                            3440     
11818 00001880 233A              3441             XOR     R3,R3                           ;
11819 00001882 244A              3442             XOR     R4,R4                           ;
11820                            3443     
11821 00001884                   3444     CW_CCW_ESTEP_LOP000:
11822 00001884 2008              3445             TST     R0,R0                           ;MAX STEP
11823                            3446             TST_BIT_OF CW_CCW_ESTEP_LOPEND          ;
11824 00001886 8927                   M           BT      CW_CCW_ESTEP_LOPEND
11825                            3447     
11826 00001888 67A2              3448             MOV.L   @R10,R7                         ;
11827 0000188A 8801              3449             CMP/EQ  #1,R0                           ;1ｽﾃｯﾌﾟ
11828 0000188C 8B01              3450             BF      CW_CCW_ESTEP_LOP050             ;最後? NO
11829 0000188E D508              3451             MOV.L   #_SETX_UPAREA_PLS,R5            ;//4;待機点
11830 00001890 6752              3452             MOV.L   @R5,R7                          ;
11831 00001892                   3453     CW_CCW_ESTEP_LOP050:                            ;
11832                            3454     
11833                            3455     
11834 00001892 3870              3456             CMP/EQ  R7,R8                           ;R7(前段)=<R8(現段)
11835 00001894 8914              3457             BT      CW_CCW_ESTEP_LOP300             ;
11836                            3458     
11837 00001896 3877              3459             CMP/GT  R7,R8                           ;
11838 00001898 8B0C              3460             BF      CW_CCW_ESTEP_LOP150             ;R7(前段)>=R8(現段)
11839 0000189A E401              3461             MOV     #1,R4                           ;逆転終了
11840                            3462     
11841 0000189C 2338              3463             TST     R3,R3                           ;一回でも逆転があったか
11842                            3464             TST_BIT_ON CW_CCW_ESTEP_LOP400          ;
11843 0000189E 8B16                   M           BF      CW_CCW_ESTEP_LOP400
11844                            3465     ;       ===== 正転===
11845 000018A0 6103              3466             MOV     R0,R1                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   104
PROGRAM NAME =

11846                            3467             M_BRA   CW_CCW_ESTEP_LOP400
11847 000018A2 A014                   M           BRA     CW_CCW_ESTEP_LOP400
11848 000018A4 0009                   M           NOP
11849                            3468     
11850                                     ***** BEGIN-POOL *****
11851 000018A6 0000                       ALIGNMENT CODE
11852 000018A8 00000000                   DATA FOR SOURCE-LINE 3427
11853 000018AC 00000000                   DATA FOR SOURCE-LINE 3435
11854 000018B0 00000000                   DATA FOR SOURCE-LINE 3451
11855                                     ***** END-POOL *****
11856 000018B4                   3469     CW_CCW_ESTEP_LOP150:                            ;
11857 000018B4 E301              3470             MOV     #1,R3                           ;正転終了
11858 000018B6 2448              3471             TST     R4,R4                           ;
11859                            3472             TST_BIT_ON CW_CCW_ESTEP_LOP400          ;
11860 000018B8 8B09                   M           BF      CW_CCW_ESTEP_LOP400
11861                            3473     ;       ===== 逆転===
11862 000018BA 6203              3474             MOV     R0,R2                           ;
11863                            3475             M_BRA   CW_CCW_ESTEP_LOP400             ;
11864 000018BC A007                   M           BRA     CW_CCW_ESTEP_LOP400
11865 000018BE 0009                   M           NOP
11866                            3476     
11867                            3477     
11868                            3478     ;       ===== ﾃﾞｰﾀEQU時の処理====
11869                            3479     ;       ===== 前段時の処理 =====
11870 000018C0                   3480     CW_CCW_ESTEP_LOP300:                            ;
11871 000018C0 2338              3481             TST     R3,R3                           ;
11872                            3482             TST_BIT_ON CW_CCW_ESTEP_LOP320          ;
11873 000018C2 8B00                   M           BF      CW_CCW_ESTEP_LOP320
11874                            3483     ;;;     ADD     #-1,R1                          ;
11875 000018C4 6203              3484             MOV     R0,R2                           ;
11876 000018C6                   3485     CW_CCW_ESTEP_LOP320:                            ;
11877                            3486     
11878 000018C6 2448              3487             TST     R4,R4                           ;
11879                            3488             TST_BIT_ON CW_CCW_ESTEP_LOP340          ;
11880 000018C8 8B00                   M           BF      CW_CCW_ESTEP_LOP340
11881                            3489     ;;;     ADD     #-1,R2                          ;
11882 000018CA 6203              3490             MOV     R0,R2                           ;
11883                            3491     
11884 000018CC                   3492     CW_CCW_ESTEP_LOP340:                            ;
11885 000018CC 0009              3493             NOP
11886 000018CE                   3494     CW_CCW_ESTEP_LOP400:                            ;
11887 000018CE 70FF              3495             ADD     #-1,R0                          ;
11888 000018D0 7AFC              3496             ADD     #-4,R10                         ;
11889 000018D2 6873              3497             MOV     R7,R8                           ;入れ替え
11890                            3498             M_BRA   CW_CCW_ESTEP_LOP000             ;
11891 000018D4 AFD6                   M           BRA     CW_CCW_ESTEP_LOP000
11892 000018D6 0009                   M           NOP
11893                            3499     
11894 000018D8                   3500     CW_CCW_ESTEP_LOPEND:
11895                            3501             M_BRA   CW_CCW_ESTEPTMCHK_START
11896 000018D8 A000                   M           BRA     CW_CCW_ESTEPTMCHK_START
11897 000018DA 0009                   M           NOP
11898                            3502     
11899                            3503     ;       --------- input R1,R2 OUTPUT R1,R2---------
11900 000018DC                   3504     CW_CCW_ESTEPTMCHK_START:
11901                            3505     ;;;     MOV.L   #_PAR_UPCHK_SEL1,R4             ;
11902 000018DC D402              3506             MOV.L   #(_PAR_UPCHK_SEL1-_CB_SYS_PARAM000+_W_PARAM_TOP),R4     ;2012-03-06
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   105
PROGRAM NAME =

11903 000018DE 6041              3507             MOV.W   @R4,R0                          ;
11904 000018E0 8801              3508             CMP/EQ  #1,R0                           ;
11905 000018E2 8903              3509             BT      CW_CCW_ESTEPTMCHK_010           ;
11906                            3510             M_BRA   CW_CCW_ESTEPTMCHK_LOPEND        ;
11907 000018E4 A026                   M           BRA     CW_CCW_ESTEPTMCHK_LOPEND
11908 000018E6 0009                   M           NOP
11909                            3511     
11910                                     ***** BEGIN-POOL *****
11911 000018E8 00000000                   DATA FOR SOURCE-LINE 3506
11912                                     ***** END-POOL *****
11913 000018EC                   3512     CW_CCW_ESTEPTMCHK_010
11914                            3513     
11915                            3514     
11916                            3515     ;       ========== 2011-09-01 r1:これ以降cw,r2:これ以降ccw
11917                            3516     ;タイマ停止があればその工程は上昇ホールドではない
11918                            3517     ;[R1,R2]
11919 000018EC D40F              3518             MOV.L   #_SETX_POS_STEP_MAX,R4          ;//設定=1~10(2~11)
11920 000018EE 6541              3519             MOV.W   @R4,R5                          ;R5ｶｳﾝﾀ
11921                            3520     
11922 000018F0 7501              3521             ADD     #1,R5                           ;設定+1=MAX
11923 000018F2 6053              3522             MOV     R5,R0                           ;
11924 000018F4 D40E              3523             MOV.L   #_SETX_POS_SDAT1_TIM,R4         ;
11925 000018F6 70FE              3524             ADD     #-2,R0                          ;
11926 000018F8 4008              3525             SHLL2   R0                              ;
11927 000018FA 340C              3526             ADD     R0,R4                           ;
11928 000018FC 6053              3527             MOV     R5,R0                           ;R0=2~6,2~11
11929 000018FE 70FF              3528             ADD     #-1,R0                          ;R0=2~5,2~10:　5段目が0以外なら6ｽﾃｯﾌﾟから
11930                            3529     
11931                            3530     
11932 00001900                   3531     CW_CCW_ESTEPTMCHK_LOP:
11933 00001900 2008              3532             TST     R0,R0
11934                            3533             TST_BIT_OF CW_CCW_ESTEPTMCHK_LOPEND     ;
11935 00001902 8917                   M           BT      CW_CCW_ESTEPTMCHK_LOPEND
11936                            3534     
11937 00001904 6342              3535             MOV.L   @R4,R3                          ;R3:data
11938                            3536     
11939 00001906 3152              3537             CMP/HS  R5,R1                           ;MAX=< R1 演算不要
11940 00001908 8905              3538             BT      CW_CCW_ESTEPTMCHK_100           ;
11941 0000190A 3106              3539             CMP/HI  R0,R1                           ;
11942 0000190C 8903              3540             BT      CW_CCW_ESTEPTMCHK_100           ;
11943                            3541     
11944 0000190E 2338              3542             TST     R3,R3                           ;
11945                            3543             TST_BIT_OF CW_CCW_ESTEPTMCHK_100        ;
11946 00001910 8901                   M           BT      CW_CCW_ESTEPTMCHK_100
11947 00001912 6103              3544             MOV     R0,R1                           ;
11948 00001914 7101              3545             ADD     #1,R1                           ;
11949 00001916                   3546     CW_CCW_ESTEPTMCHK_100:
11950                            3547     
11951                            3548     
11952 00001916 3252              3549             CMP/HS  R5,R2                           ;MAX=< R2 演算不要
11953 00001918 8903              3550             BT      CW_CCW_ESTEPTMCHK_200           ;
11954 0000191A 3206              3551             CMP/HI  R0,R2                           ;
11955 0000191C 8901              3552             BT      CW_CCW_ESTEPTMCHK_200           ;
11956                            3553     
11957 0000191E 6203              3554             MOV     R0,R2                           ;
11958 00001920 7201              3555             ADD     #1,R2                           ;
11959                            3556     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   106
PROGRAM NAME =

11960 00001922                   3557     CW_CCW_ESTEPTMCHK_200:
11961 00001922 74FC              3558             ADD     #-4,R4                          ;
11962 00001924 70FF              3559             ADD     #-1,R0                          ;
11963                            3560             M_BRA   CW_CCW_ESTEPTMCHK_LOP           ;
11964 00001926 AFEB                   M           BRA     CW_CCW_ESTEPTMCHK_LOP
11965 00001928 0009                   M           NOP
11966                                     ***** BEGIN-POOL *****
11967 0000192A 0000                       ALIGNMENT CODE
11968 0000192C 00000000                   DATA FOR SOURCE-LINE 3518
11969 00001930 00000000                   DATA FOR SOURCE-LINE 3523
11970                                     ***** END-POOL *****
11971 00001934                   3561     CW_CCW_ESTEPTMCHK_LOPEND                ;
11972                            3562             SUB_END
11973                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11974 00001934 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11975                            3563             M_RTS
11976 00001936 000B                   M           RTS                             ;RTSの後ろの
11977 00001938 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11978                            3564     
11979                            3565     ;       ***********************************
11980                            3566     ;       ***                             ***
11981                            3567     ;       ***     上昇ﾎｰﾙﾄﾞ状態ならﾎｰﾙﾄﾞ  ***
11982                            3568     ;       ***                             ***
11983                            3569     ;       ***                             ***
11984                            3570     ;       ***********************************
11985 0000193C                   3571             .ALIGN  4
11986 0000193C                   3572     _CTRL_UP_HOLD_CHK:
11987                            3573             SUB_START
11988 0000193C 4F22                   M           STS.L   PR,@-R15                ;[必要]
11989                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11990                            3574     ;;2012-03-06    MOV.L   #_INT_POS_CTL_STEP,R5   ;
11991                            3575     ;;2012-03-06    MOV.W   @R5,R0                  ;
11992                            3576     ;;2012-03-06    TST     R0,R0                   ;
11993                            3577     ;;2012-03-06    TST_BIT_ON CTRL_UP_HOLD_CK_ST00 ;
11994                            3578     ;;2012-03-06    M_BRA   CTRL_UP_HOLD_CK_END     ;
11995                            3579     
11996                            3580     ;ﾃｽﾄﾓｰﾄﾞ中はﾏｽｸ,AUTOにしない
11997 0000193E D105              3581             MOV.L   #_BRKTST_SW_IN,R1               ;2012-03-06
11998 00001940 6011              3582             MOV.W   @R1,R0                          ;2012-03-06
11999 00001942 2008              3583             TST     R0,R0                           ;2012-03-06
12000                            3584             TST_BIT_ON CTRL_UP_HOLD_CK_STAA         ;2012-03-06EXIT
12001 00001944 8B03                   M           BF      CTRL_UP_HOLD_CK_STAA
12002                            3585     
12003 00001946 D504              3586             MOV.L   #_INT_POS_CTL_STEP,R5   ;
12004 00001948 6051              3587             MOV.W   @R5,R0                  ;
12005 0000194A 2008              3588             TST     R0,R0                   ;
12006                            3589             TST_BIT_ON CTRL_UP_HOLD_CK_ST00 ;
12007 0000194C 8B06                   M           BF      CTRL_UP_HOLD_CK_ST00
12008 0000194E                   3590     CTRL_UP_HOLD_CK_STAA:
12009                            3591             M_BRA   CTRL_UP_HOLD_CK_ST_EXT  ;MISS CTRL_UP_HOLD_CK_END       ;
12010 0000194E A027                   M           BRA     CTRL_UP_HOLD_CK_ST_EXT
12011 00001950 0009                   M           NOP
12012                            3592     
12013                            3593     
12014                            3594     
12015                            3595     
12016                            3596     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   107
PROGRAM NAME =

12017                                     ***** BEGIN-POOL *****
12018 00001952 0000                       ALIGNMENT CODE
12019 00001954 00000000                   DATA FOR SOURCE-LINE 3581
12020 00001958 00000000                   DATA FOR SOURCE-LINE 3586
12021                                     ***** END-POOL *****
12022 0000195C                   3597     CTRL_UP_HOLD_CK_ST00:
12023 0000195C D102              3598             MOV.L   #_UP_HOLD_FLG,R1        ;       //BIT0=1 上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝ
                                          ﾓｰﾄﾞでこの信号はON/OFFする
12024 0000195E 6011              3599             MOV.W   @R1,R0                  ;BIT4(OBJ~待機),BIT5(待機~OBJ)
12025 00001960 C801              3600             TST     #BIT0,R0                ;
12026                            3601             TST_BIT_OF CTRL_UP_HOLD_CK_ST20 ;
12027 00001962 8903                   M           BT      CTRL_UP_HOLD_CK_ST20
12028                            3602             M_BRA   CTRL_UP_HOLD_CK_ST_EXT  ;MISS CTRL_UP_HOLD_CK_END       ;
12029 00001964 A01C                   M           BRA     CTRL_UP_HOLD_CK_ST_EXT
12030 00001966 0009                   M           NOP
12031                            3603     
12032                                     ***** BEGIN-POOL *****
12033 00001968 00000000                   DATA FOR SOURCE-LINE 3598
12034                                     ***** END-POOL *****
12035 0000196C                   3604     CTRL_UP_HOLD_CK_ST20:
12036                            3605     ;       ===== 一度ｴﾘｱ外にでたかﾁｪｯｸ ======
12037 0000196C D40E              3606             MOV.L   #_M_LINK_AREASIG,R4             ;//BIT0/BIT4:待機点範囲
12038 0000196E 6041              3607             MOV.W   @R4,R0                          ;
12039 00001970 C810              3608             TST     #BIT4,R0                        ;
12040                            3609             TST_BIT_ON CTRL_UP_HOLD_CK_ST40         ;
12041 00001972 8B03                   M           BF      CTRL_UP_HOLD_CK_ST40
12042 00001974 D10D              3610             MOV.L   #_UP_HOLD_FLG,R1                ;１回目の運転開始(異常時または1CYCLEND)
12043 00001976 6011              3611             MOV.W   @R1,R0                          ;
12044 00001978 CB30              3612             OR      #(BIT5+BIT4),R0                 ;
12045 0000197A 2101              3613             MOV.W   R0,@R1                          ;
12046 0000197C                   3614     CTRL_UP_HOLD_CK_ST40:
12047                            3615             FAR_JSR #_UP_HOLD_SIG_MAK,R0
12048 0000197C D00C                   M           MOV.L   #_UP_HOLD_SIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12049 0000197E 400B                   M           JSR     @R0                     ;
12050 00001980 0009                   M           NOP                                     ;
12051 00001982 2008              3616             TST     R0,R0
12052                            3617             TST_BIT_OF CTRL_UP_HOLD_CK_ST_EXT
12053 00001984 890C                   M           BT      CTRL_UP_HOLD_CK_ST_EXT
12054                            3618     
12055                            3619     ;;2012-03-06    MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこ
                                          の信号はON/OFFする
12056                            3620     ;;2012-03-06    MOV.W   @R1,R0                  ;
12057                            3621     ;;2012-03-06    OR      #BIT0,R0                ;
12058                            3622     ;;2012-03-06    MOV.W   R0,@R1                  ;
12059                            3623     ;速度がある程度になったらホールドする
12060                            3624     
12061                            3625     ;       ===========================
12062                            3626     ;       ===     2012-03-06      ===
12063                            3627     ;       ===　　速度チェック     ===
12064                            3628     ;       ===========================
12065 00001986 D10B              3629             MOV.L   #(_PAR_UPCHK_SEL1-_CB_SYS_PARAM000+_W_PARAM_TOP),R1
12066 00001988 6011              3630             MOV.W   @R1,R0                          ;
12067 0000198A 8801              3631             CMP/EQ  #1,R0                           ;
12068 0000198C 8B04              3632             BF      CTRL_UP_HOLD_CK_ST50            ;
12069                            3633     
12070                            3634     ;       -------2012-03-06--------
12071                            3635             FAR_JSR #_UP_HOLD_MASK_SPDCHK,R0        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   108
PROGRAM NAME =

12072 0000198E D00A                   M           MOV.L   #_UP_HOLD_MASK_SPDCHK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12073 00001990 400B                   M           JSR     @R0                     ;
12074 00001992 0009                   M           NOP                                     ;
12075 00001994 2008              3636             TST     R0,R0                           ;
12076                            3637             TST_BIT_OF CTRL_UP_HOLD_CK_ST_EXT       ;動作方向でその速度に達していない
12077 00001996 8903                   M           BT      CTRL_UP_HOLD_CK_ST_EXT
12078                            3638     
12079 00001998                   3639     CTRL_UP_HOLD_CK_ST50:
12080                            3640     
12081 00001998 D104              3641             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
12082 0000199A 6011              3642             MOV.W   @R1,R0                  ;
12083 0000199C CB01              3643             OR      #BIT0,R0                ;
12084 0000199E 2101              3644             MOV.W   R0,@R1                  ;
12085                            3645     
12086                            3646     
12087                            3647     
12088                            3648     
12089                            3649     
12090                            3650     
12091                            3651     
12092                            3652     
12093 000019A0                   3653     CTRL_UP_HOLD_CK_ST_EXT:
12094                            3654     
12095                            3655             SUB_END
12096                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12097 000019A0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12098                            3656             M_RTS
12099 000019A2 000B                   M           RTS                             ;RTSの後ろの
12100 000019A4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12101                            3657     
12102                            3658     ;       ***************************************************
12103                            3659     ;       ***                                             ***
12104                            3660     ;       ***     上昇ホールドが相手ＣＰＵが行わないで    ***
12105                            3661     ;       ***     強制停止に向かった                      ***
12106                            3662     ;       ***                                             ***
12107                            3663     ;       ***************************************************
12108                            3664     ;       2015-11-15
12109                            3665     ;;; .AIF 1 EQ 1
12110                                     ***** BEGIN-POOL *****
12111 000019A6 0000                       ALIGNMENT CODE
12112 000019A8 00000000                   DATA FOR SOURCE-LINE 3606
12113 000019AC 00000000                   DATA FOR SOURCE-LINE 3610,3641
12114 000019B0 00000000                   DATA FOR SOURCE-LINE 3615
12115 000019B4 00000000                   DATA FOR SOURCE-LINE 3629
12116 000019B8 00000000                   DATA FOR SOURCE-LINE 3635
12117                                     ***** END-POOL *****
12118 000019BC                   3666     _UP_HOLD_MISS
12119                            3667             SUB_START
12120 000019BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
12121                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12122                            3668             FAR_JSR #_UP_HOLD_FLG_CLR1,R0   ;
12123 000019BE D004                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12124 000019C0 400B                   M           JSR     @R0                     ;
12125 000019C2 0009                   M           NOP                                     ;
12126                            3669             FAR_JSR #_SFTY_MASK_END,R0      ;(結果としてはﾏｽｸするかもしれない)
12127 000019C4 D003                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   109
PROGRAM NAME =

12128 000019C6 400B                   M           JSR     @R0                     ;
12129 000019C8 0009                   M           NOP                                     ;
12130                            3670     
12131                            3671             SUB_END
12132                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12133 000019CA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12134                            3672             M_RTS
12135 000019CC 000B                   M           RTS                             ;RTSの後ろの
12136 000019CE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12137                            3673     ;;; .AENDI
12138                            3674     
12139                            3675     ;       ***********************************
12140                            3676     ;       ***                             ***
12141                            3677     ;       ***                             ***
12142                            3678     ;       ***                             ***
12143                            3679     ;       ***********************************
12144                            3680     ;
12145                                     ***** BEGIN-POOL *****
12146 000019D0 00000000                   DATA FOR SOURCE-LINE 3668
12147 000019D4 00000000                   DATA FOR SOURCE-LINE 3669
12148                                     ***** END-POOL *****
12149 000019D8                   3681             .ALIGN  4
12150 000019D8                   3682     _UP_HOLD_SIG_MAK:
12151                            3683             SUB_START
12152 000019D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
12153                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12154 000019DA D50A              3684             MOV.L   #_INT_POS_CTL_STEP,R5   ;
12155 000019DC 6251              3685             MOV.W   @R5,R2                  ;
12156 000019DE D40A              3686             MOV.L   #_UP_HOLD_STEP,R4       ;//上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
12157 000019E0 6541              3687             MOV.W   @R4,R5                  ;
12158 000019E2 3252              3688             CMP/HS  R5,R2                   ;ﾁｪｯｸすべき工程にきたか
12159 000019E4 8B34              3689             BF      CTRL_UP_HOLD_CK_END     ;
12160                            3690     
12161                            3691     ;       ======== ﾁｪｯｸすべき工程だ =======
12162                            3692     ;;[2009-10-07下振子]    MOV.L   #_INC_ENC360,R4         ;//360.0度(ｴﾝｺｰﾀﾞは表示と同じ)
12163                            3693     ;;[2009-10-07下振子]    MOV.W   @R4,R2                  ;
12164                            3694     ;       --------- [2009-10-07下振子]----
12165 000019E6 D409              3695             MOV.L   #_DNM_CTL_INC3600,R4    ;2009-10-07
12166 000019E8 6241              3696             MOV.W   @R4,R2                  ;
12167                            3697     
12168 000019EA D509              3698             MOV.L   #_UP_HOLD_DIG,R5        ;//0.1度(165.0):ﾓｰﾀ軸ｴﾝｺｰﾀﾞ角度で比較
12169 000019EC 6151              3699             MOV.W   @R5,R1                  ;START
12170 000019EE D509              3700             MOV.L   #_SETX_UPAREA_DIG,R5    ;
12171 000019F0 6351              3701             MOV.W   @R5,R3                  ;
12172                            3702             FAR_JSR #_DIG_AREA_CHK1,R0      ;"ANS:R5"
12173 000019F2 D009                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12174 000019F4 400B                   M           JSR     @R0                     ;
12175 000019F6 0009                   M           NOP                                     ;
12176                            3703     
12177                            3704     
12178 000019F8 D108              3705             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12179 000019FA 6011              3706             MOV.W   @R1,R0                                  ;
12180 000019FC C808              3707             TST     #_DMATH_UPDRIV,R0                       ;DRIVE MATH 上往復 BIT3
12181                            3708             TST_BIT_OF CTRL_UP_HOLD_CK_200                  ;
12182 000019FE 890F                   M           BT      CTRL_UP_HOLD_CK_200
12183                            3709             M_BRA   CTRL_UP_HOLD_CK_400                     ;2009-10-07
12184 00001A00 A018                   M           BRA     CTRL_UP_HOLD_CK_400
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   110
PROGRAM NAME =

12185 00001A02 0009                   M           NOP
12186                            3710     ;;      M_BRA   CTRL_UP_HOLD_CK_END                     ;(作成未)
12187                            3711     
12188                                     ***** BEGIN-POOL *****
12189 00001A04 00000000                   DATA FOR SOURCE-LINE 3684
12190 00001A08 00000000                   DATA FOR SOURCE-LINE 3686
12191 00001A0C 00000000                   DATA FOR SOURCE-LINE 3695
12192 00001A10 00000000                   DATA FOR SOURCE-LINE 3698
12193 00001A14 00000000                   DATA FOR SOURCE-LINE 3700
12194 00001A18 00000000                   DATA FOR SOURCE-LINE 3702
12195 00001A1C 00000000                   DATA FOR SOURCE-LINE 3705
12196                                     ***** END-POOL *****
12197 00001A20                   3712     CTRL_UP_HOLD_CK_200:
12198 00001A20 C804              3713             TST     #_DMATH_DNDRIV,R0                       ;DRIVE MATH 上往復 BIT3
12199                            3714             TST_BIT_OF CTRL_UP_HOLD_CK_300                  ;
12200 00001A22 8901                   M           BT      CTRL_UP_HOLD_CK_300
12201                            3715             M_BRA   CTRL_UP_HOLD_CK_400                     ;[2009-10-07下振子]
12202 00001A24 A006                   M           BRA     CTRL_UP_HOLD_CK_400
12203 00001A26 0009                   M           NOP
12204                            3716     ;;;[2009-10-07下振子]   M_BRA   CTRL_UP_HOLD_CK_END                     ;(作成未)
12205                            3717     
12206 00001A28                   3718     CTRL_UP_HOLD_CK_300:
12207 00001A28 C802              3719             TST     #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
12208                            3720             TST_BIT_OF CTRL_UP_HOLD_CK_400                  ;
12209 00001A2A 8903                   M           BT      CTRL_UP_HOLD_CK_400
12210                            3721     
12211                            3722     ;       ==== 反転R5=0,-1 ====
12212 00001A2C 4515              3723             CMP/PL  R5                                      ;
12213 00001A2E 8B0B              3724             BF      CTRL_UP_HOLD_CK_700                     ;成立
12214                            3725             M_BRA   CTRL_UP_HOLD_CK_END                     ;
12215 00001A30 A00E                   M           BRA     CTRL_UP_HOLD_CK_END
12216 00001A32 0009                   M           NOP
12217                            3726     
12218 00001A34                   3727     CTRL_UP_HOLD_CK_400:
12219                            3728     ;       ==== 正転R5=0,1 ====
12220 00001A34 D603              3729             MOV.L   #_UP_HOLD_FLG,R6                ;
12221 00001A36 6061              3730             MOV.W   @R6,R0                          ;
12222 00001A38 C820              3731             TST     #BIT5,R0                        ;範囲外へ一度いっているか？
12223                            3732             TST_BIT_OF CTRL_UP_HOLD_CK_END
12224 00001A3A 8909                   M           BT      CTRL_UP_HOLD_CK_END
12225 00001A3C 4511              3733             CMP/PZ  R5
12226 00001A3E 8903              3734             BT      CTRL_UP_HOLD_CK_700                     ;成立
12227                            3735             M_BRA   CTRL_UP_HOLD_CK_END                     ;
12228 00001A40 A006                   M           BRA     CTRL_UP_HOLD_CK_END
12229 00001A42 0009                   M           NOP
12230                                     ***** BEGIN-POOL *****
12231 00001A44 00000000                   DATA FOR SOURCE-LINE 3729
12232                                     ***** END-POOL *****
12233 00001A48                   3736     CTRL_UP_HOLD_CK_700:
12234                            3737     
12235 00001A48 E0FF              3738             MOV     #-1,R0                  ;
12236                            3739     
12237                            3740             SUB_END
12238                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12239 00001A4A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12240                            3741             M_RTS
12241 00001A4C 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   111
PROGRAM NAME =

12242 00001A4E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12243                            3742     
12244                            3743     
12245                            3744     
12246 00001A50                   3745     CTRL_UP_HOLD_CK_END:
12247 00001A50 200A              3746             XOR     R0,R0
12248                            3747             SUB_END
12249                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12250 00001A52 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12251                            3748             M_RTS
12252 00001A54 000B                   M           RTS                             ;RTSの後ろの
12253 00001A56 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12254                            3749     
12255                            3750     
12256                            3751     
12257                            3752     ;       ***********************************
12258                            3753     ;       ***                             ***
12259                            3754     ;       ***     2012-03-06              ***
12260                            3755     ;       ***     　　速度チェック        ***
12261                            3756     ;       ***                             ***
12262                            3757     ;       ***********************************
12263                            3758     ;動作方向にその速度以上になったらホールド・マスクする
12264 00001A58                   3759             .ALIGN  4                               ;
12265 00001A58                   3760     _UP_HOLD_MASK_SPDCHK:
12266                            3761             SUB_START
12267 00001A58 4F22                   M           STS.L   PR,@-R15                ;[必要]
12268                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12269                            3762     
12270 00001A5A D109              3763             MOV.L   #_ENC_PLS_SPD_DIR,R1                                    ;
12271 00001A5C 6211              3764             MOV.W   @R1,R2                                                  ;
12272                            3765     
12273 00001A5E D109              3766             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12274 00001A60 6011              3767             MOV.W   @R1,R0                                  ;
12275 00001A62 C801              3768             TST     #_DMATH_CNTROT,R0                       ;
12276                            3769             TST_BIT_ON UP_HOLD_MASKSPDCHK_FWD
12277 00001A64 8B07                   M           BF      UP_HOLD_MASKSPDCHK_FWD
12278                            3770     
12279 00001A66 C802              3771             TST     #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
12280                            3772             TST_BIT_ON UP_HOLD_MASKSPDCHK_REV               ;
12281 00001A68 8B10                   M           BF      UP_HOLD_MASKSPDCHK_REV
12282                            3773     
12283 00001A6A C804              3774             TST     #_DMATH_DNDRIV,R0                       ;DRIVE MATH ふりこ
12284                            3775             TST_BIT_OF UP_HOLD_MASKSPDCHK_NG                ;選択されていない
12285 00001A6C 891E                   M           BT      UP_HOLD_MASKSPDCHK_NG
12286                            3776     
12287                            3777     ;ふりこ[今往路?復路]
12288 00001A6E D106              3778             MOV.L   #_DNM_DIR_SET_FLG,R1                    ;//
12289 00001A70 6011              3779             MOV.W   @R1,R0                                  ;0:往路
12290 00001A72 2008              3780             TST     R0,R0                                   ;
12291                            3781             TST_BIT_ON UP_HOLD_MASKSPDCHK_REV               ;1:復路
12292 00001A74 8B0A                   M           BF      UP_HOLD_MASKSPDCHK_REV
12293                            3782     
12294 00001A76                   3783     UP_HOLD_MASKSPDCHK_FWD:
12295 00001A76 2228              3784             TST     R2,R2                                   ;
12296                            3785             TST_BIT_ON UP_HOLD_MASKSPDCHK_NG                ;逆回転 EXIT
12297 00001A78 8B18                   M           BF      UP_HOLD_MASKSPDCHK_NG
12298                            3786             M_BRA   UP_HOLD_MASKSPDCHK_COM                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   112
PROGRAM NAME =

12299 00001A7A A009                   M           BRA     UP_HOLD_MASKSPDCHK_COM
12300 00001A7C 0009                   M           NOP
12301                            3787     
12302                                     ***** BEGIN-POOL *****
12303 00001A7E 0000                       ALIGNMENT CODE
12304 00001A80 00000000                   DATA FOR SOURCE-LINE 3763
12305 00001A84 00000000                   DATA FOR SOURCE-LINE 3766
12306 00001A88 00000000                   DATA FOR SOURCE-LINE 3778
12307                                     ***** END-POOL *****
12308 00001A8C                   3788     UP_HOLD_MASKSPDCHK_REV:
12309 00001A8C 2228              3789             TST     R2,R2                                   ;
12310                            3790             TST_BIT_OF UP_HOLD_MASKSPDCHK_NG                ;正回転 EXIT
12311 00001A8E 890D                   M           BT      UP_HOLD_MASKSPDCHK_NG
12312                            3791     
12313 00001A90                   3792     UP_HOLD_MASKSPDCHK_COM:
12314                            3793     
12315                            3794     
12316                            3795     
12317 00001A90 D104              3796             MOV.L   #(_PAR_UPMASK_SPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
12318 00001A92 6211              3797             MOV.W   @R1,R2                                                  ;
12319 00001A94 D104              3798             MOV.L   #_PV_ENC_SPD_PER,R1                                     ;
12320 00001A96 6311              3799             MOV.W   @R1,R3                                                  ;
12321 00001A98 3323              3800             CMP/GE  R2,R3                                                   ;R2=<R3[PV]
12322 00001A9A 8B07              3801             BF      UP_HOLD_MASKSPDCHK_NG
12323                            3802     ;       ------------------------------------------------------------------
12324                            3803     ;       ---回転では+方向
12325                            3804     ;       ---反転では-方向
12326                            3805     ;       ---ふりこ往路では+方向
12327                            3806     ;       ---ふりこ復路では-方向
12328                            3807     ;       ---ブレーキテストでは
12329                            3808     
12330 00001A9C                   3809     UP_HOLD_MASKSPDCHK_STR:
12331 00001A9C E001              3810             MOV.B   #1,R0
12332                            3811             M_BRA   UP_HOLD_MASKSPDCHK_END
12333 00001A9E A006                   M           BRA     UP_HOLD_MASKSPDCHK_END
12334 00001AA0 0009                   M           NOP
12335                            3812     
12336                                     ***** BEGIN-POOL *****
12337 00001AA2 0000                       ALIGNMENT CODE
12338 00001AA4 00000000                   DATA FOR SOURCE-LINE 3796
12339 00001AA8 00000000                   DATA FOR SOURCE-LINE 3798
12340                                     ***** END-POOL *****
12341 00001AAC                   3813     UP_HOLD_MASKSPDCHK_NG:
12342 00001AAC 200A              3814             XOR     R0,R0
12343 00001AAE                   3815     UP_HOLD_MASKSPDCHK_END
12344                            3816     
12345                            3817             SUB_END
12346                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12347 00001AAE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12348                            3818             M_RTS
12349 00001AB0 000B                   M           RTS                             ;RTSの後ろの
12350 00001AB2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12351                            3819     
12352                            3820     
12353                            3821     ;       ===================================
12354                            3822     ;       ===     上昇ﾎｰﾙﾄﾞ無効出力       ===
12355                            3823     ;       ===================================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   113
PROGRAM NAME =

12356 00001AB4                   3824     _UP_HOLD_AREA_MASK:
12357                            3825             SUB_START
12358 00001AB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
12359                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12360 00001AB6 D10D              3826             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
12361 00001AB8 6011              3827             MOV.W   @R1,R0                  ;
12362 00001ABA C802              3828             TST     #BIT1,R0                ;
12363                            3829             TST_BIT_ON UP_HOLD_ARA_MASK500  ;既に終了
12364 00001ABC 8B12                   M           BF      UP_HOLD_ARA_MASK500
12365 00001ABE C801              3830             TST     #BIT0,R0                ;ﾎｰﾙﾄﾞ状態か
12366                            3831             TST_BIT_OF UP_HOLD_ARA_MASK500  ;
12367 00001AC0 8910                   M           BT      UP_HOLD_ARA_MASK500
12368                            3832     
12369                            3833     ;       === 上昇無効仕様か ===
12370                            3834     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       MOV.L   #_CB_SEQ_SW_SEL028,R1   ;//SEQ 28
12371                            3835     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       MOV.W   @R1,R0                  ;28.2
12372                            3836     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       TST     #BIT2,R0                ;
12373                            3837     ;;;2012-09-25 OPT_SGL_SFTY_MASKに組み込む       TST_BIT_OF UP_HOLD_ARA_MASK500  ;
12374                            3838     
12375                            3839     
12376                            3840     ;       ---2010-08-23[ｵﾌﾟｼｮﾝの安全一行程のみｼｽﾊﾟﾗの指示に従う]--
12377                            3841     ;;;     FAR_JSR #_OPT_SFTY_MASK_CHK,R0  ;
12378                            3842     ;;;     TST     R0,R0                           ;
12379                            3843     ;;;;    TST_BIT_ON UP_HOLD_ARA_MASK500          ;・外部の安全一行程で且つｼｽﾊﾟﾗが上昇無効に
                                          しないを指定
12380                            3844     
12381                            3845             FAR_JSR #_OPT_SGL_SFTY_MASK_CHK,R0      ;
12382 00001AC2 D00B                   M           MOV.L   #_OPT_SGL_SFTY_MASK_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12383 00001AC4 400B                   M           JSR     @R0                     ;
12384 00001AC6 0009                   M           NOP                                     ;
12385 00001AC8 2008              3846             TST     R0,R0                           ;R0=-1　上昇無効にしない
12386                            3847             TST_BIT_ON UP_HOLD_ARA_MASK500          ;・外部の安全一行程で且つｼｽﾊﾟﾗが上昇無効に
                                          しないを指定
12387 00001ACA 8B0B                   M           BF      UP_HOLD_ARA_MASK500
12388                            3848                                                     ;・作業一行程、一行程は待機点２ＳＷに従う
12389                            3849     
12390                            3850     
12391                            3851     ;;;;2013-02-20 振子・反転とも上昇ホールド＋マスク有り
12392                            3852     ;;;;2013-02-20 ;        ----2011-09-06 振り子と反転は　上昇ホールドはするが上昇無効にはし
                                          ない
12393                            3853     ;;;;2013-02-20  MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
12394                            3854     ;;;;2013-02-20  MOV.W   @R1,R0                                  ;
12395                            3855     ;;;;2013-02-20  TST     #(_DMATH_DNDRIV+_DMATH_REVRSE),R0       ;ふりこと反転は
12396                            3856     ;;;;2013-02-20  TST_BIT_ON UP_HOLD_ARA_MASK500                  ;
12397                            3857     ;;;;反転がマスクはされているが遮光停止するのはなぜ？
12398                            3858     
12399                            3859     
12400                            3860     ;       ====== 2013-02-23 やっぱり　ふりこと反転は　マスクする、しないを切り替える
12401 00001ACC D109              3861             MOV.L   #_UPMSK2_DRVSEL,R1                      ;//2013-02-23
12402 00001ACE 6011              3862             MOV.W   @R1,R0                                  ;0:反転,ふりこを上昇無効にしない
12403 00001AD0 2008              3863             TST     R0,R0                                   ;
12404                            3864             TST_BIT_ON UP_HOLD_ARA_MASK480                  ;1の場合見なくする
12405 00001AD2 8B03                   M           BF      UP_HOLD_ARA_MASK480
12406                            3865     ;       -------------------------------------------------------------------
12407                            3866     
12408 00001AD4 D108              3867             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   114
PROGRAM NAME =

12409 00001AD6 6011              3868             MOV.W   @R1,R0                                  ;
12410 00001AD8 C806              3869             TST     #(_DMATH_DNDRIV+_DMATH_REVRSE),R0       ;ふりこと反転は
12411                            3870             TST_BIT_ON UP_HOLD_ARA_MASK500                  ;
12412 00001ADA 8B03                   M           BF      UP_HOLD_ARA_MASK500
12413                            3871     
12414                            3872     
12415 00001ADC                   3873     UP_HOLD_ARA_MASK480:
12416                            3874     
12417                            3875     ;       ======= このフラグをONすれば上昇ﾎｰﾙﾄﾞ+速度条件でﾏｽｸ===-
12418 00001ADC D103              3876             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
12419 00001ADE 6011              3877             MOV.W   @R1,R0                  ;
12420 00001AE0 CB02              3878             OR      #BIT1,R0                ;
12421 00001AE2 2101              3879             MOV.W   R0,@R1                  ;
12422                            3880     
12423                            3881     
12424 00001AE4                   3882     UP_HOLD_ARA_MASK500:
12425                            3883     
12426                            3884             SUB_END
12427                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12428 00001AE4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12429                            3885             M_RTS
12430 00001AE6 000B                   M           RTS                             ;RTSの後ろの
12431 00001AE8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12432                            3886     
12433                            3887     
12434                            3888     
12435                                     ***** BEGIN-POOL *****
12436 00001AEA 0000                       ALIGNMENT CODE
12437 00001AEC 00000000                   DATA FOR SOURCE-LINE 3826,3876
12438 00001AF0 00000000                   DATA FOR SOURCE-LINE 3845
12439 00001AF4 00000000                   DATA FOR SOURCE-LINE 3861
12440 00001AF8 00000000                   DATA FOR SOURCE-LINE 3867
12441                                     ***** END-POOL *****
12442 00001AFC                   3889     _UP_HOLD_FLG_CLR1:
12443                            3890             SUB_START
12444 00001AFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
12445                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12446 00001AFE D103              3891             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ信号(手放し自動、上昇無効出力用)
12447 00001B00 6011              3892             MOV.W   @R1,R0                  ;
12448 00001B02 C9FC              3893             AND     #LOW ~(BIT1+BIT0),R0    ;(ここでOFFする必要があるのか？)
12449 00001B04 2101              3894             MOV.W   R0,@R1                  ;
12450                            3895             SUB_END
12451                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12452 00001B06 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12453                            3896             M_RTS
12454 00001B08 000B                   M           RTS                             ;RTSの後ろの
12455 00001B0A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12456                            3897     
12457                                     ***** BEGIN-POOL *****
12458 00001B0C 00000000                   DATA FOR SOURCE-LINE 3891
12459                                     ***** END-POOL *****
12460 00001B10                   3898     _UP_HOLD_FLG_CLR2:
12461                            3899             SUB_START
12462 00001B10 4F22                   M           STS.L   PR,@-R15                ;[必要]
12463                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12464 00001B12 D103              3900             MOV.L   #_UP_HOLD_FLG,R1        ;１回目の運転開始(異常時または1CYCLEND)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   115
PROGRAM NAME =

12465 00001B14 6011              3901             MOV.W   @R1,R0                  ;
12466 00001B16 C9CF              3902             AND     #LOW ~(BIT5+BIT4),R0    ;
12467 00001B18 2101              3903             MOV.W   R0,@R1                  ;
12468                            3904             SUB_END
12469                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12470 00001B1A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12471                            3905             M_RTS
12472 00001B1C 000B                   M           RTS                             ;RTSの後ろの
12473 00001B1E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12474                            3906     
12475                            3907     
12476                            3908     
12477                            3909     
12478                            3910     
12479                            3911     
12480                            3912     
12481                            3913     
12482                            3914     ;       ***************************************************
12483                            3915     ;       ***                                             ***
12484                            3916     ;       ***     ミューテングの定義変更                  ***
12485                            3917     ;       ***     2012-09-25                              ***
12486                            3918     ;       ***     準備完了・未完了中も急停止にする        ***
12487                            3919     ;       ***                                             ***
12488                            3920     ;       ***************************************************
12489                            3921     ;;;2013-02-23 不要      .ALIGN  4                               ;
12490                            3922     ;;;2013-02-23 不要_SFTY_MASK_ST_NOT_DRV:
12491                            3923     ;;;2013-02-23 不要      SUB_START
12492                            3924     ;;;2013-02-23 不要
12493                            3925     ;;;2013-02-23 不要;     ======== 2013-02-20[SEQ349.9] ====
12494                            3926     ;;;2013-02-23 不要      MOV.L   #_MYUTING_MOD_STOPSEL,R1        ;//1:いつでも遮光有効(ﾐｭｰﾃ
                                          ﾝｸﾞ無効)
12495                            3927     ;;;2013-02-23 不要      MOV.W   @R1,R0                          ;
12496                            3928     ;;;2013-02-23 不要      CMP/EQ  #1,R0                           ;
12497                            3929     ;;;2013-02-23 不要      BT      SFTY_MASK_ST_NOTDRV100          ;
12498                            3930     ;;;2013-02-23 不要
12499                            3931     ;;;2013-02-23 不要
12500                            3932     ;;;2013-02-23 不要;;;2012-10-15 MOV.L   #_UPMSK2_MOD,R1                         ;//0:参照
                                          しない 1:参照する
12501                            3933     ;;;2013-02-23 不要      MOV.L   #_UPMSK2_MATH,R1                        ;//0:参照しない 1:
                                          参照する
12502                            3934     ;;;2013-02-23 不要      MOV.W   @R1,R0                                  ;
12503                            3935     ;;;2013-02-23 不要      TST     R0,R0                                   ;
12504                            3936     ;;;2013-02-23 不要      TST_BIT_ON SFTY_MASK_ST_NOTDRV100               ;
12505                            3937     ;;;2013-02-23 不要
12506                            3938     ;;;2013-02-23 不要      FAR_JSR #_SFTY_MASK_START,R0                    ;今までどおり
12507                            3939     ;;;2013-02-23 不要
12508                            3940     ;;;2013-02-23 不要      M_BRA   SFTY_MASK_ST_NOTDRV500
12509                            3941     ;;;2013-02-23 不要
12510                            3942     ;;;2013-02-23 不要
12511                            3943     ;;;2013-02-23 不要SFTY_MASK_ST_NOTDRV100:
12512                            3944     ;;;2013-02-23 不要
12513                            3945     ;;;2013-02-23 不要      FAR_JSR #_SFTY_MASK_END,R0                      ;
12514                            3946     ;;;2013-02-23 不要
12515                            3947     ;;;2013-02-23 不要SFTY_MASK_ST_NOTDRV500:                                       ;
12516                            3948     ;;;2013-02-23 不要
12517                            3949     ;;;2013-02-23 不要      SUB_END
12518                            3950     ;;;2013-02-23 不要      M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   116
PROGRAM NAME =

12519                            3951     
12520                            3952     
12521                            3953     ;       ***********************************
12522                            3954     ;       ***                             ***
12523                            3955     ;       ***     停止中のマスク          ***
12524                            3956     ;       ***                             ***
12525                            3957     ;       ***********************************
12526                            3958     ;       ***************************
12527                            3959     ;       ***     2013-02-23      ***
12528                            3960     ;       ***************************
12529                            3961     ;       上昇無効が有効/無効
12530                            3962     ;       SWが有効で,SWがONか?
12531                            3963     ;
12532                            3964     ;
12533                                     ***** BEGIN-POOL *****
12534 00001B20 00000000                   DATA FOR SOURCE-LINE 3900
12535                                     ***** END-POOL *****
12536 00001B24                   3965     _NEWMASK_SEL_STOPMSK
12537                            3966             SUB_START                               ;
12538 00001B24 4F22                   M           STS.L   PR,@-R15                ;[必要]
12539                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12540                            3967     
12541                            3968     ;       ======== 2013-02-20[SEQ349.9] ====
12542 00001B26 D10A              3969             MOV.L   #_MYUTING_MOD_STOPSEL,R1                ;//1:いつでも遮光有効(ﾐｭｰﾃﾝｸﾞ無効)
12543 00001B28 6011              3970             MOV.W   @R1,R0                                  ;
12544 00001B2A 8801              3971             CMP/EQ  #1,R0                                   ;
12545 00001B2C 890B              3972             BT      NEWMASK_SELSTOPCHK400                   ;
12546                            3973     
12547                            3974     ;       ----------------------------------
12548 00001B2E D109              3975             MOV.L   #_UPMSK2_MATH,R1                ;[0:停止中はﾏｽｸ固定],[1:停止中はﾏｽｸする/し
                                          ないをSWで決定]
12549 00001B30 6011              3976             MOV.W   @R1,R0                          ;
12550 00001B32 2008              3977             TST     R0,R0                           ;
12551                            3978             TST_BIT_OF NEWMASK_SELSTOPCHK500        ;
12552 00001B34 8916                   M           BT      NEWMASK_SELSTOPCHK500
12553                            3979     
12554 00001B36 D108              3980             MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない:1:参照する
12555 00001B38 6011              3981             MOV.W   @R1,R0                          ;
12556 00001B3A 2008              3982             TST     R0,R0                           ;
12557                            3983             TST_BIT_OF NEWMASK_SELSTOPCHK500        ;
12558 00001B3C 8912                   M           BT      NEWMASK_SELSTOPCHK500
12559                            3984     
12560 00001B3E D107              3985             MOV.L   #_UPMAK2_MOD_USE_SW,R1          ;
12561 00001B40 6011              3986             MOV.W   @R1,R0                          ;
12562 00001B42 2008              3987             TST     R0,R0
12563                            3988             TST_BIT_ON NEWMASK_SELSTOPCHK500        ;上昇無効にする
12564 00001B44 8B0E                   M           BF      NEWMASK_SELSTOPCHK500
12565                            3989     
12566                            3990     ;       ----------ﾐｭｰﾃﾝｸﾞ[ﾏｽｸ]にしない----
12567 00001B46                   3991     NEWMASK_SELSTOPCHK400
12568                            3992             FAR_JSR #_SFTY_MASK_END,R0                      ;
12569 00001B46 D006                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12570 00001B48 400B                   M           JSR     @R0                     ;
12571 00001B4A 0009                   M           NOP                                     ;
12572                            3993             M_BRA   NEWMASK_SELSTOPCHKEND
12573 00001B4C A00D                   M           BRA     NEWMASK_SELSTOPCHKEND
12574 00001B4E 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   117
PROGRAM NAME =

12575                            3994     
12576                            3995     ;       ----------ﾐｭｰﾃﾝｸﾞ[ﾏｽｸ]にする----
12577                                     ***** BEGIN-POOL *****
12578 00001B50 00000000                   DATA FOR SOURCE-LINE 3969
12579 00001B54 00000000                   DATA FOR SOURCE-LINE 3975
12580 00001B58 00000000                   DATA FOR SOURCE-LINE 3980
12581 00001B5C 00000000                   DATA FOR SOURCE-LINE 3985
12582 00001B60 00000000                   DATA FOR SOURCE-LINE 3992
12583                                     ***** END-POOL *****
12584 00001B64                   3996     NEWMASK_SELSTOPCHK500
12585                            3997             FAR_JSR #_SFTY_MASK_START,R0                    ;今までどおり
12586 00001B64 D002                   M           MOV.L   #_SFTY_MASK_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12587 00001B66 400B                   M           JSR     @R0                     ;
12588 00001B68 0009                   M           NOP                                     ;
12589 00001B6A                   3998     NEWMASK_SELSTOPCHKEND
12590                            3999     
12591                            4000     
12592                            4001             SUB_END
12593                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12594 00001B6A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12595                            4002             M_RTS
12596 00001B6C 000B                   M           RTS                             ;RTSの後ろの
12597 00001B6E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12598                            4003     
12599                            4004     
12600                            4005     ;       ***********************************
12601                            4006     ;       ***     動作上ﾏｽｸしたい         ***
12602                            4007     ;       ***     上昇無効,運転終了       ***
12603                            4008     ;       ***********************************
12604                                     ***** BEGIN-POOL *****
12605 00001B70 00000000                   DATA FOR SOURCE-LINE 3997
12606                                     ***** END-POOL *****
12607 00001B74                   4009     _SFTY_MASK_START:
12608                            4010             SUB_START
12609 00001B74 4F22                   M           STS.L   PR,@-R15                ;[必要]
12610                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12611 00001B76 D105              4011             MOV.L   #_FR_CYL_MASK_FLG,R1    ;//上昇無効中"1"
12612 00001B78 6011              4012             MOV.W   @R1,R0                  ;
12613 00001B7A CB03              4013             OR      #(BIT1+BIT0),R0         ;
12614 00001B7C 2101              4014             MOV.W   R0,@R1                  ;
12615                            4015             FAR_JSR #_FRCYCL_OF,R0          ;
12616 00001B7E D004                   M           MOV.L   #_FRCYCL_OF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12617 00001B80 400B                   M           JSR     @R0                     ;
12618 00001B82 0009                   M           NOP                                     ;
12619                            4016             SUB_END
12620                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12621 00001B84 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12622                            4017             M_RTS
12623 00001B86 000B                   M           RTS                             ;RTSの後ろの
12624 00001B88 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12625                            4018     
12626                            4019     ;       ***********************************
12627                            4020     ;       ***     動作上ﾏｽｸやめたい       ***
12628                            4021     ;       ***     起動時                  ***
12629                            4022     ;       ***********************************
12630                                     ***** BEGIN-POOL *****
12631 00001B8A 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   118
PROGRAM NAME =

12632 00001B8C 00000000                   DATA FOR SOURCE-LINE 4011
12633 00001B90 00000000                   DATA FOR SOURCE-LINE 4015
12634                                     ***** END-POOL *****
12635 00001B94                   4023     _SFTY_MASK_END:
12636                            4024             SUB_START
12637 00001B94 4F22                   M           STS.L   PR,@-R15                ;[必要]
12638                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12639 00001B96 D104              4025             MOV.L   #_SW_DEV_MASK_FLG,R1    ;//BIT1=BIT0=0 安全装置無効  BIT1=BIT0=1 安全装置
                                          有効
12640 00001B98 6011              4026             MOV.W   @R1,R0                  ;
12641 00001B9A C803              4027             TST     #(BIT1+BIT0),R0         ;
12642                            4028             TST_BIT_ON SFTY_MASK_ED_100     ;
12643 00001B9C 8B08                   M           BF      SFTY_MASK_ED_100
12644                            4029             FAR_JSR #_SFTY_MASK_START,R0    ;
12645 00001B9E D003                   M           MOV.L   #_SFTY_MASK_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12646 00001BA0 400B                   M           JSR     @R0                     ;
12647 00001BA2 0009                   M           NOP                                     ;
12648                            4030             M_BRA   SFTY_MASK_ED_200        ;
12649 00001BA4 A00B                   M           BRA     SFTY_MASK_ED_200
12650 00001BA6 0009                   M           NOP
12651                            4031     
12652                                     ***** BEGIN-POOL *****
12653 00001BA8 00000000                   DATA FOR SOURCE-LINE 4025
12654 00001BAC 00000000                   DATA FOR SOURCE-LINE 4029
12655                                     ***** END-POOL *****
12656 00001BB0                   4032     SFTY_MASK_ED_100:
12657 00001BB0 D104              4033             MOV.L   #_FR_CYL_MASK_FLG,R1    ;//上昇無効中"1"
12658 00001BB2 6011              4034             MOV.W   @R1,R0                  ;
12659 00001BB4 C9FC              4035             AND     #LOW ~(BIT1+BIT0),R0    ;
12660 00001BB6 2101              4036             MOV.W   R0,@R1                  ;
12661                            4037             FAR_JSR #_FRCYCL_ON,R0          ;
12662 00001BB8 D003                   M           MOV.L   #_FRCYCL_ON,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12663 00001BBA 400B                   M           JSR     @R0                     ;
12664 00001BBC 0009                   M           NOP                                     ;
12665 00001BBE                   4038     SFTY_MASK_ED_200:
12666                            4039             SUB_END
12667                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12668 00001BBE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12669                            4040             M_RTS
12670 00001BC0 000B                   M           RTS                             ;RTSの後ろの
12671 00001BC2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12672                            4041     
12673                            4042     
12674                            4043     
12675                            4044     
12676                            4045     
12677                            4046     
12678                            4047     
12679                            4048     
12680                            4049     
12681                            4050     
12682                            4051     ;       *******************************************************************
12683                            4052     ;       ***                                                             ***
12684                            4053     ;       ***     2010-08-23[ｵﾌﾟｼｮﾝの安全一行程のみｼｽﾊﾟﾗの指示に従う]     ***
12685                            4054     ;       ***                                                             ***
12686                            4055     ;       *******************************************************************
12687                            4056     ;       ANS R0=0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   119
PROGRAM NAME =

12688                            4057     ;       ANS R0=-1 (上昇無効にしない)
12689                            4058     ;;_OPT_SFTY_MASK_CHK:
12690                            4059     ;;      SUB_START
12691                            4060     ;;      XOR     R2,R2                   ;
12692                            4061     ;;
12693                            4062     ;;      MOV.L   #_di1_cb_ctl1_dt,R1             ;
12694                            4063     ;;      MOV.W   @R1,R0                          ;
12695                            4064     ;;      TST     #_W1OPT,R0                      ;OPTION?
12696                            4065     ;;      TST_BIT_OF OPT_SFTY_MASKCHK_100         ;ｵﾌﾟｼｮﾝではない(通常の安全一行程)
12697                            4066     ;;
12698                            4067     ;;      MOV.L   #_MODE_SEL,R1                   ;
12699                            4068     ;;      MOV.W   @R1,R0                          ;
12700                            4069     ;;      MOV.W   #BIT10,R1                       ;
12701                            4070     ;;      TST     R1,R0                           ;
12702                            4071     ;;      TST_BIT_ON OPT_SFTY_MASKCHK_100         ;ON:一行程
12703                            4072     ;;
12704                            4073     ;;      ---ｵﾌﾟｼｮﾝの安全一行程--
12705                            4074     ;;      MOV.L   #_WPAR_SFYOPT_USEL,R1           ;
12706                            4075     ;;      MOV.W   @R1,R0                          ;
12707                            4076     ;;      CMP/EQ  #1,R0                           ;
12708                            4077     ;;      BF      OPT_SFTY_MASKCHK_100            ;
12709                            4078     ;;
12710                            4079     ;;      MOV.B   #-1,R2                          ;
12711                            4080     ;;
12712                            4081     ;;OPT_SFTY_MASKCHK_100:
12713                            4082     ;;      MOV     R2,R0
12714                            4083     ;;      SUB_END
12715                            4084     ;;      M_RTS
12716                            4085     
12717                            4086     ;       ***************************************************************************
12718                            4087     ;       ***                                                                     ***
12719                            4088     ;       ***     2012-09-25                                                      ***
12720                            4089     ;       ***     [ｵﾌﾟｼｮﾝの安全一行程はｼｽﾊﾟﾗの指示に従い上昇無効にする/しない]    ***
12721                            4090     ;       ***                                                                     ***
12722                            4091     ;       ***************************************************************************
12723                            4092     ;       ANS R0=0:上昇無効にする,-1:上昇無効にしない
12724                                     ***** BEGIN-POOL *****
12725 00001BC4 00000000                   DATA FOR SOURCE-LINE 4033
12726 00001BC8 00000000                   DATA FOR SOURCE-LINE 4037
12727                                     ***** END-POOL *****
12728 00001BCC                   4093             .ALIGN  4                               ;
12729 00001BCC                   4094     _OPT_SGL_SFTY_MASK_CHK:
12730                            4095             SUB_START
12731 00001BCC 4F22                   M           STS.L   PR,@-R15                ;[必要]
12732                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12733 00001BCE 222A              4096             XOR     R2,R2                   ;
12734                            4097     
12735                            4098     ;       ======== 2013-02-20[SEQ349.9] ====
12736 00001BD0 D10B              4099             MOV.L   #_MYUTING_MOD_STOPSEL,R1        ;//1:いつでも遮光有効(ﾐｭｰﾃﾝｸﾞ無効)
12737 00001BD2 6011              4100             MOV.W   @R1,R0                          ;
12738 00001BD4 8801              4101             CMP/EQ  #1,R0                           ;
12739 00001BD6 8936              4102             BT      OPT_SGL_SFTY_MASKCHK_500        ;
12740                            4103     
12741                            4104     
12742 00001BD8 D10A              4105             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
12743 00001BDA 6011              4106             MOV.W   @R1,R0                          ;28.2
12744 00001BDC C804              4107             TST     #BIT2,R0                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   120
PROGRAM NAME =

12745                            4108             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_500     ;
12746 00001BDE 8932                   M           BT      OPT_SGL_SFTY_MASKCHK_500
12747                            4109     
12748                            4110     
12749 00001BE0 D109              4111             MOV.L   #_di1_cb_ctl1_dt,R1             ;
12750 00001BE2 6011              4112             MOV.W   @R1,R0                          ;
12751 00001BE4 C810              4113             TST     #_W1OPT,R0                      ;OPTION?
12752                            4114             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_100     ;ｵﾌﾟｼｮﾝではない(通常の安全一行程)
12753 00001BE6 891D                   M           BT      OPT_SGL_SFTY_MASKCHK_100
12754                            4115     
12755 00001BE8 D108              4116             MOV.L   #_MODE_SEL,R1                   ;
12756 00001BEA 6011              4117             MOV.W   @R1,R0                          ;
12757 00001BEC 9107              4118             MOV.W   #BIT10,R1                       ;
12758 00001BEE 2018              4119             TST     R1,R0                           ;
12759                            4120             TST_BIT_ON OPT_SGL_SFTY_MASKCHK_080     ;ON:一行程　2012-09-25
12760 00001BF0 8B10                   M           BF      OPT_SGL_SFTY_MASKCHK_080
12761                            4121     ;;;;;;  TST_BIT_ON OPT_SGL_SFTY_MASKCHK_100     ;ON:一行程
12762                            4122     
12763                            4123     ;       ---ｵﾌﾟｼｮﾝの安全一行程--
12764 00001BF2 D107              4124             MOV.L   #_WPAR_SFYOPT_USEL,R1           ;PARAM66
12765 00001BF4 6011              4125             MOV.W   @R1,R0                          ;
12766 00001BF6 8801              4126             CMP/EQ  #1,R0                           ;
12767 00001BF8 8925              4127             BT      OPT_SGL_SFTY_MASKCHK_500        ;1:上昇無効にしない
12768                            4128             M_BRA   OPT_SGL_SFTY_MASKCHK_400        ;0,2上昇無効にする
12769 00001BFA A021                   M           BRA     OPT_SGL_SFTY_MASKCHK_400
12770 00001BFC 0009                   M           NOP
12771                            4129     
12772                            4130     ;       --------一行程[新ﾓｰﾄﾞでは上昇無効にしない]---
12773                                     ***** BEGIN-POOL *****
12774 00001BFE 0400                       DATA FOR SOURCE-LINE 4118
12775 00001C00 00000000                   DATA FOR SOURCE-LINE 4099
12776 00001C04 00000000                   DATA FOR SOURCE-LINE 4105
12777 00001C08 00000000                   DATA FOR SOURCE-LINE 4111
12778 00001C0C 00000000                   DATA FOR SOURCE-LINE 4116
12779 00001C10 00000000                   DATA FOR SOURCE-LINE 4124
12780                                     ***** END-POOL *****
12781 00001C14                   4131     OPT_SGL_SFTY_MASKCHK_080:
12782                            4132     ;;;;2012-10-15  MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない 1:参照する
12783                            4133     ;;;;2013-08-20  MOV.L   #_UPMSK2_MATH,R1                ;//0: 1:
12784                            4134     
12785 00001C14 D102              4135             MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない[旧ﾓｰﾄﾞ] 1:参照する 2013-08
                                          -20
12786 00001C16 6011              4136             MOV.W   @R1,R0                          ;
12787 00001C18 2008              4137             TST     R0,R0                           ;
12788                            4138             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400     ;今までどおりする
12789 00001C1A 8911                   M           BT      OPT_SGL_SFTY_MASKCHK_400
12790                            4139             M_BRA   OPT_SGL_SFTY_MASKCHK_500        ;
12791 00001C1C A013                   M           BRA     OPT_SGL_SFTY_MASKCHK_500
12792 00001C1E 0009                   M           NOP
12793                            4140     
12794                            4141     
12795                            4142     ;       ======== 通常の安全一行程の条件(GAMEN-SWは上昇無効有り)===
12796                                     ***** BEGIN-POOL *****
12797 00001C20 00000000                   DATA FOR SOURCE-LINE 4135
12798                                     ***** END-POOL *****
12799 00001C24                   4143     OPT_SGL_SFTY_MASKCHK_100:
12800                            4144     ;;;;;;;;;;;;;;2013-08-20        MOV.L   #_UPMSK2_MATH,R1                ;//0:参照しない 1:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   121
PROGRAM NAME =

                                          参照する
12801                            4145     ;;;;;;;;;;;;;;2013-08-20        MOV.W   @R1,R0                          ;
12802                            4146     ;;;;;;;;;;;;;;2013-08-20        TST     R0,R0                           ;
12803                            4147     ;;;;;;;;;;;;;;2013-08-20        TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400     ;今までどおりする
12804                            4148     ;;;;;;;;;;;;;;2013-08-20
12805                            4149     ;;;;;;;;;;;;;;2013-08-20        MOV.L   #_UPMSK2_MOD,R1                 ;//0:参照しない 1:
                                          参照する
12806                            4150     ;;;;;;;;;;;;;;2013-08-20        MOV.W   @R1,R0                          ;
12807                            4151     ;;;;;;;;;;;;;;2013-08-20        TST     R0,R0                           ;
12808                            4152     ;;;;;;;;;;;;;;2013-08-20        TST_BIT_OF OPT_SGL_SFTY_MASKCHK_500     ;2012-10-15
12809                            4153     ;;;;;;;;;;;;;;2013-08-20
12810                            4154     ;;;;;;;;;;;;;;2013-08-20;;;;2012-10-15  TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400     ;今までど
                                          おりする
12811                            4155     
12812                            4156     ;       ===2013-08-20 SWを使用しない場合は 旧動作(上昇無効にする)==
12813 00001C24 D104              4157             MOV.L   #_UPMSK2_MOD,R1                         ;//0:参照しない 1:参照する
12814 00001C26 6011              4158             MOV.W   @R1,R0                                  ;
12815 00001C28 2008              4159             TST     R0,R0                                   ;
12816                            4160             TST_BIT_OF OPT_SGL_SFTY_MASKCHK_400             ;今までどおりする
12817 00001C2A 8909                   M           BT      OPT_SGL_SFTY_MASKCHK_400
12818                            4161     
12819 00001C2C D103              4162             MOV.L   #_UPMAK2_MOD_USE_SW,R1                  ;
12820 00001C2E 6011              4163             MOV.W   @R1,R0                                  ;
12821 00001C30 2008              4164             TST     R0,R0
12822                            4165             TST_BIT_ON OPT_SGL_SFTY_MASKCHK_400             ;ON する
12823 00001C32 8B05                   M           BF      OPT_SGL_SFTY_MASKCHK_400
12824                            4166             M_BRA   OPT_SGL_SFTY_MASKCHK_500                ;しない
12825 00001C34 A007                   M           BRA     OPT_SGL_SFTY_MASKCHK_500
12826 00001C36 0009                   M           NOP
12827                            4167     
12828                            4168     ;       ----------上昇無効にする----
12829                                     ***** BEGIN-POOL *****
12830 00001C38 00000000                   DATA FOR SOURCE-LINE 4157
12831 00001C3C 00000000                   DATA FOR SOURCE-LINE 4162
12832                                     ***** END-POOL *****
12833 00001C40                   4169     OPT_SGL_SFTY_MASKCHK_400:
12834 00001C40 222A              4170             XOR     R2,R2
12835                            4171             M_BRA   OPT_SGL_SFTY_MASKCHK_END
12836 00001C42 A001                   M           BRA     OPT_SGL_SFTY_MASKCHK_END
12837 00001C44 0009                   M           NOP
12838                            4172     
12839                            4173     ;       ---------しない----
12840 00001C46                   4174     OPT_SGL_SFTY_MASKCHK_500:
12841 00001C46 E2FF              4175             MOV.B   #-1,R2                          ;
12842 00001C48                   4176     OPT_SGL_SFTY_MASKCHK_END:
12843 00001C48 6023              4177             MOV     R2,R0
12844                            4178     
12845                            4179             SUB_END
12846                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12847 00001C4A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12848                            4180             M_RTS
12849 00001C4C 000B                   M           RTS                             ;RTSの後ろの
12850 00001C4E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12851                            4181     
12852                            4182     
12853                            4183     
12854                            4184     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   122
PROGRAM NAME =

12855                            4185     
12856                            4186     
12857                            4187     
12858                            4188     
12859                            4189     
12860                            4190     ;       ***********************************
12861                            4191     ;       ***     ロットカウント処理      ***
12862                            4192     ;       ***********************************
12863                            4193     ;
12864                            4194     ;
12865                            4195     ;       <待機点内->待機点外>
12866                            4196             .IMPORT _LOT_SIG_SET            ;
12867 00001C50                   4197     _LOT_CNT_CNT:
12868                            4198             SUB_START
12869 00001C50 4F22                   M           STS.L   PR,@-R15                ;[必要]
12870                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12871                            4199     
12872                            4200     ;       ====待機点復帰はロットカウンタをカウントしない S00ejの2回目===
12873 00001C52 D105              4201             MOV.L   #_MODE_SEL,R1           ;
12874 00001C54 6011              4202             MOV.W   @R1,R0                  ;
12875 00001C56 C860              4203             TST     #(_W1DUP+_W1DIC),R0     ;TST #_W1DUP 原点復帰と段取はｶｳﾝﾄしない 2003-07-01
12876                            4204             TST_BIT_ON LOT_CNTCNT_200       ;原点時はｶｳﾝﾄしない
12877 00001C58 8B2B                   M           BF      LOT_CNTCNT_200
12878                            4205     
12879                            4206     
12880                            4207     ;;;;;;;;        --------- 2020-05-07(2019-09-05)ADD　待機点切替前に手を離すと次回にならな
                                          い-------
12881                            4208     ;;;;;;; TST             #_W1CNT,R0                              ;
12882                            4209     ;;;;;;; TST_BIT_OF LOT_CNTCNT_MOD49             ;(連続以外はパス)
12883                            4210     ;;;;;;;
12884                            4211     ;;;;;;; MOV.L   #_CB_SEQ_SW_SEL028,R1   ;//SEQ 28
12885                            4212     ;;;;;;; MOV.W   @R1,R0                                  ;.8=TIM .9=CNT
12886                            4213     ;;;;;;; MOV.W   #(BIT9|BIT8),R4                 ;
12887                            4214     ;;;;;;; TST             R4,R0                                   ;
12888                            4215     ;;;;;;; TST_BIT_OF LOT_CNTCNT_MOD49             ;(ﾀｲﾏ,回転以外はパス)
12889                            4216     ;;;;;;;
12890                            4217     ;;;;;;; MOV.L   #_LOT_CHK_FLG,R1                ;
12891                            4218     ;;;;;;; MOV.W   @R1,R0                                  ;
12892                            4219     ;;;;;;; TST             #(BIT4),R0                              ;
12893                            4220     ;;;;;;; TST_BIT_ON      LOT_CNTCNT_080          ;下降領域に入った
12894                            4221     ;;;;;;; M_BRA   LOT_CNTCNT_200                  ;
12895                            4222     ;;;;;;;
12896                            4223     ;;;;;;;LOT_CNTCNT_MOD49:
12897                            4224     ;;;;;;; --------------------------------------------
12898                            4225     
12899                            4226     
12900                            4227     
12901                            4228     
12902                            4229     
12903                            4230     
12904 00001C5A D104              4231             MOV.L   #_LOT_CHK_FLG,R1        ;
12905 00001C5C 6011              4232             MOV.W   @R1,R0                  ;
12906 00001C5E C911              4233             AND     #(BIT4+BIT0),R0         ;待機点に入って+下降領域に入った
12907 00001C60 8811              4234             CMP/EQ  #(BIT4+BIT0),R0         ;待機点に入って+下降領域に入った
12908 00001C62 8905              4235             BT      LOT_CNTCNT_050          ;下降領域に入った
12909                            4236             M_BRA   LOT_CNTCNT_200          ;
12910 00001C64 A025                   M           BRA     LOT_CNTCNT_200
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   123
PROGRAM NAME =

12911 00001C66 0009                   M           NOP
12912                            4237     
12913                            4238     
12914                                     ***** BEGIN-POOL *****
12915 00001C68 00000000                   DATA FOR SOURCE-LINE 4201
12916 00001C6C 00000000                   DATA FOR SOURCE-LINE 4231
12917                                     ***** END-POOL *****
12918 00001C70                   4239     LOT_CNTCNT_050:
12919                            4240              .AIF   1 EQ 1  ;
12920                            4241 C   ;       -------- 2016-10-31 ADD 二重回路対策
12921                            4242              .AENDI
12922                            4243     ;       ---------- 2016-10-31(2016-07-16) ----------------
12923                            4244             .AIF    0 EQ    0       ;
12924 00001C70 D103              4245 C           MOV.L   #_CPUB_LOT_CHK_FLG,R1           ;2016-07-18CHECK
12925                            4246             .AELSE                                  ;
12926                            4247             MOV.L   #_CPUA_LOT_CHK_FLG,R1           ;2016-07-18CHECK
12927                            4248             .AENDI                                  ;
12928                            4249     
12929 00001C72 6011              4250             MOV.W   @R1,R0                          ;
12930 00001C74 C911              4251             AND     #(BIT4+BIT0),R0                 ;待機点に入って+下降領域に入った
12931 00001C76 8811              4252             CMP/EQ  #(BIT4+BIT0),R0                 ;待機点に入って+下降領域に入った
12932 00001C78 8904              4253             BT      LOT_CNTCNT_080                  ;下降領域に入った
12933                            4254             M_BRA   LOT_CNTCNT_200                  ;
12934 00001C7A A01A                   M           BRA     LOT_CNTCNT_200
12935 00001C7C 0009                   M           NOP
12936                            4255     
12937                                     ***** BEGIN-POOL *****
12938 00001C7E 0000                       ALIGNMENT CODE
12939 00001C80 00000000                   DATA FOR SOURCE-LINE 4245
12940                                     ***** END-POOL *****
12941 00001C84                   4256     LOT_CNTCNT_080:                                 ;
12942                            4257     
12943                            4258     
12944 00001C84 D10E              4259             MOV.L   #_LOT_CNT_FLG,R1        ;//行程=1で0 最終工程で条件成立で=1() <===ﾓｰｼｮﾝ時
                                          のみ=1
12945 00001C86 6011              4260             MOV.W   @R1,R0                  ;
12946 00001C88 2008              4261             TST     R0,R0                   ;
12947                            4262             TST_BIT_ON LOT_CNTCNT_200       ;
12948 00001C8A 8B12                   M           BF      LOT_CNTCNT_200
12949                            4263     
12950                            4264             FAR_JSR #_UP_LOT_SIG_MAK,R0
12951 00001C8C D00D                   M           MOV.L   #_UP_LOT_SIG_MAK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12952 00001C8E 400B                   M           JSR     @R0                     ;
12953 00001C90 0009                   M           NOP                                     ;
12954                            4265     
12955 00001C92 2008              4266             TST     R0,R0                   ;
12956                            4267             TST_BIT_OF LOT_CNTCNT_200       ;
12957 00001C94 890D                   M           BT      LOT_CNTCNT_200
12958                            4268     
12959 00001C96 D10A              4269             MOV.L   #_LOT_CNT_FLG,R1        ;//行程=1で0 最終工程で条件成立で=1()
12960 00001C98 6011              4270             MOV.W   @R1,R0                  ;
12961 00001C9A CB01              4271             OR      #BIT0,R0                ;
12962 00001C9C 2101              4272             MOV.W   R0,@R1                  ;
12963                            4273     
12964                            4274     
12965                            4275     ;;2016-10-31未使用      MOV.L   #_LOT_CNT_TO_MOD,R1     ;
12966                            4276     ;;2016-10-31未使用      MOV.W   @R1,R0                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   124
PROGRAM NAME =

12967                            4277     ;;2016-10-31未使用      OR      #BIT0,R0                ;
12968                            4278     ;;2016-10-31未使用      MOV.W   R0,@R1                  ;
12969                            4279     
12970                            4280     
12971                            4281     
12972                            4282             FAR_JSR #_LOT_SIG_SET,R0                                                ;
12973 00001C9E D00A                   M           MOV.L   #_LOT_SIG_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12974 00001CA0 400B                   M           JSR     @R0                     ;
12975 00001CA2 0009                   M           NOP                                     ;
12976                            4283     
12977                            4284     ;       ===========ﾛｯﾄｶｳﾝﾀでの処理==================
12978 00001CA4 D109              4285             MOV.L   #_CONT_MOD_CNT_PV,R1    ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
12979 00001CA6 6011              4286             MOV.W   @R1,R0                  ;
12980 00001CA8 2008              4287             TST     R0,R0
12981                            4288             TST_BIT_OF CONT_LOT_CHK050
12982 00001CAA 8901                   M           BT      CONT_LOT_CHK050
12983 00001CAC 70FF              4289             ADD     #-1,R0
12984 00001CAE 2101              4290             MOV.W   R0,@R1
12985 00001CB0                   4291     CONT_LOT_CHK050:
12986 00001CB0 0009              4292             NOP
12987                            4293     
12988                            4294     
12989 00001CB2                   4295     LOT_CNTCNT_200:
12990                            4296              .AIF   1 EQ 1  ;
12991                            4297 C   ;       -------- 2016-10-31 ADD 二重回路対策
12992                            4298              .AENDI
12993                            4299             FAR_JSR #_CNT_MODE_CNT_SIG_OUT,R0       ;2016-07-21
12994 00001CB2 D007                   M           MOV.L   #_CNT_MODE_CNT_SIG_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12995 00001CB4 400B                   M           JSR     @R0                     ;
12996 00001CB6 0009                   M           NOP                                     ;
12997                            4300     
12998                            4301     ;;;2019-02-05 TEST      FAR_JSR #_DEBUG_SQ_SIG_246_247,R0       ;2018-02-10ﾃﾞﾊﾞｯｸ
12999                            4302     
13000                            4303             SUB_END
13001                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13002 00001CB8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13003                            4304             M_RTS
13004 00001CBA 000B                   M           RTS                             ;RTSの後ろの
13005 00001CBC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13006                            4305     
13007                            4306     
13008                                     ***** BEGIN-POOL *****
13009 00001CBE 0000                       ALIGNMENT CODE
13010 00001CC0 00000000                   DATA FOR SOURCE-LINE 4259,4269
13011 00001CC4 00000000                   DATA FOR SOURCE-LINE 4264
13012 00001CC8 00000000                   DATA FOR SOURCE-LINE 4282
13013 00001CCC 00000000                   DATA FOR SOURCE-LINE 4285
13014 00001CD0 00000000                   DATA FOR SOURCE-LINE 4299
13015                                     ***** END-POOL *****
13016 00001CD4                   4307     _DEBUG_SQ_SIG_246_247
13017                            4308             SUB_START
13018 00001CD4 4F22                   M           STS.L   PR,@-R15                ;[必要]
13019                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13020                            4309     
13021                            4310     ;---------2018-02-10 ﾃﾞﾊﾞｯｸ--------------
13022                            4311     ;;;2021-06-24   MOV.L   #_LOT_CNT_FLG,R1                        ;BIT0->BIT8
13023                            4312     ;;;2021-06-24   MOV.W   @R1,R2                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   125
PROGRAM NAME =

13024                            4313     ;;;2021-06-24   SHLL8   R2                                                      ;
13025                            4314     ;;;2021-06-24   MOV.L   #_LOT_CHK_FLG,R1                        ;BIT0,BIT4
13026                            4315     ;;;2021-06-24   MOV.W   @R1,R0                                          ;
13027                            4316     ;;;2021-06-24   EXTU.B  R0,R0                                           ;
13028                            4317     ;;;2021-06-24   OR              R2,R0                                           ;
13029                            4318     ;;;2021-06-24MOV.L      #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
13030                            4319     ;;;2021-06-24MOV.W      R0,@R1                                          ;
13031                            4320     ;;;2021-06-24
13032                            4321     ;;;2021-06-24   MOV.L   #_DEBUG_STS_CNT1,R1                     ;
13033                            4322     ;;;2021-06-24   MOV.W   @R1,R2                                          ;
13034                            4323     ;;;2021-06-24   SHLL8   R2                                                      ;
13035                            4324     ;;;2021-06-24   MOV.L   #_DEBUG_STS_CNT2,R1                     ;
13036                            4325     ;;;2021-06-24   MOV.W   @R1,R0                                          ;
13037                            4326     ;;;2021-06-24   EXTU.B  R0,R0                                           ;
13038                            4327     ;;;2021-06-24   OR              R2,R0                                           ;
13039                            4328     ;;;2021-06-24MOV.L      #_SQ_CBWK_TOP+_WKSQCB247,R1     ;
13040                            4329     ;;;2021-06-24MOV.W      R0,@R1                                          ;
13041                            4330     
13042                            4331             SUB_END
13043                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13044 00001CD6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13045                            4332             M_RTS
13046 00001CD8 000B                   M           RTS                             ;RTSの後ろの
13047 00001CDA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13048                            4333     
13049                            4334     
13050                            4335              .AIF   1 EQ 1  ;
13051                            4336 C   ;       -------- 2016-10-31 ADD 二重回路対策
13052                            4337              .AENDI
13053                            4338     ;       ---------- 二重回路 2016-07-21---------
13054 00001CDC                   4339     _CNT_MODE_CNT_SIG_OUT
13055                            4340             SUB_START
13056 00001CDC 4F22                   M           STS.L   PR,@-R15                ;[必要]
13057                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13058                            4341     
13059                            4342     ;       ------2016-07-16
13060 00001CDE D107              4343             MOV.L   #_LOT_CHK_FLG,R1                ;
13061 00001CE0 6011              4344             MOV.W   @R1,R0                          ;
13062                            4345             .AIF    0 EQ    0       ;CPUBのﾌﾟﾛｸﾞﾗﾑ領域が不足のため　2014-08-20
13063 00001CE2 D107              4346 C           MOV.L   #_CPUA_LOT_CHK_FLG,R1           ;2016-07-18CHECK
13064                            4347             .AELSE
13065                            4348             MOV.L   #_CPUB_LOT_CHK_FLG,R1           ;2016-07-18CHECK
13066                            4349             .AENDI                                  ;
13067 00001CE4 2101              4350             MOV.W   R0,@R1                          ;
13068                            4351     
13069                            4352     
13070 00001CE6 D107              4353             MOV.L   #_LOT_CNT_FLG,R1                ;
13071 00001CE8 6011              4354             MOV.W   @R1,R0                          ;
13072                            4355             .AIF    0 EQ    0       ;CPUBのﾌﾟﾛｸﾞﾗﾑ領域が不足のため　2014-08-20
13073 00001CEA D107              4356 C           MOV.L   #_CPUA_LOT_CNT_FLG,R1           ;2016-07-18CHECK
13074                            4357             .AELSE
13075                            4358             MOV.L   #_CPUB_LOT_CNT_FLG,R1           ;2016-07-18CHECK
13076                            4359             .AENDI                                  ;
13077 00001CEC 2101              4360             MOV.W   R0,@R1                          ;
13078                            4361     
13079                            4362     
13080 00001CEE D107              4363             MOV.L   #_CONT_MOD_CNT_PV,R1            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   126
PROGRAM NAME =

13081 00001CF0 6011              4364             MOV.W   @R1,R0                          ;
13082                            4365             .AIF    0 EQ    0       ;CPUBのﾌﾟﾛｸﾞﾗﾑ領域が不足のため　2014-08-20
13083 00001CF2 D107              4366 C           MOV.L   #_CPUA_CONT_MOD_CNT_PV,R1               ;2016-07-18CHECK
13084                            4367             .AELSE
13085                            4368             MOV.L   #_CPUB_CONT_MOD_CNT_PV,R1               ;2016-07-18CHECK
13086                            4369             .AENDI                                  ;
13087 00001CF4 2101              4370             MOV.W   R0,@R1                          ;
13088                            4371             SUB_END
13089                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13090 00001CF6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13091                            4372             M_RTS
13092 00001CF8 000B                   M           RTS                             ;RTSの後ろの
13093 00001CFA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13094                            4373     
13095                            4374     
13096                            4375     
13097                            4376             .EXPORT _LOT_SIG_FLG_CLR
13098                            4377     
13099                                     ***** BEGIN-POOL *****
13100 00001CFC 00000000                   DATA FOR SOURCE-LINE 4343
13101 00001D00 00000000                   DATA FOR SOURCE-LINE 4346
13102 00001D04 00000000                   DATA FOR SOURCE-LINE 4353
13103 00001D08 00000000                   DATA FOR SOURCE-LINE 4356
13104 00001D0C 00000000                   DATA FOR SOURCE-LINE 4363
13105 00001D10 00000000                   DATA FOR SOURCE-LINE 4366
13106                                     ***** END-POOL *****
13107 00001D14                   4378     _LOT_SIG_FLG_CLR:
13108                            4379             SUB_START
13109 00001D14 4F22                   M           STS.L   PR,@-R15                ;[必要]
13110                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13111 00001D16 D107              4380             MOV.L   #_LOT_CHK_FLG,R1        ;
13112 00001D18 6011              4381             MOV.W   @R1,R0                  ;
13113 00001D1A C9EE              4382             AND     #LOW ~(BIT4+BIT0),R0    ;
13114 00001D1C 2101              4383             MOV.W   R0,@R1
13115                            4384     
13116 00001D1E D106              4385             MOV.L   #_LOT_CNT_FLG,R1        ;//行程=1で0 最終工程で条件成立で=1()
13117 00001D20 200A              4386             XOR     R0,R0                   ;
13118 00001D22 2101              4387             MOV.W   R0,@R1                  ;
13119                            4388     
13120                            4389     ;       ---2018-02-10 DEBUG --------------
13121 00001D24 D105              4390             MOV.L   #_DEBUG_STS_CNT1,R1                     ;
13122 00001D26 6011              4391             MOV.W   @R1,R0                                          ;
13123 00001D28 7001              4392             ADD             #1,R0                                           ;
13124 00001D2A 2101              4393             MOV.W   R0,@R1                                          ;
13125                            4394     ;       ----------------------------------
13126                            4395     
13127                            4396             SUB_END
13128                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13129 00001D2C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13130                            4397             M_RTS
13131 00001D2E 000B                   M           RTS                             ;RTSの後ろの
13132 00001D30 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13133                            4398     
13134                            4399     
13135                                     ***** BEGIN-POOL *****
13136 00001D32 0000                       ALIGNMENT CODE
13137 00001D34 00000000                   DATA FOR SOURCE-LINE 4380
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   127
PROGRAM NAME =

13138 00001D38 00000000                   DATA FOR SOURCE-LINE 4385
13139 00001D3C 00000000                   DATA FOR SOURCE-LINE 4390
13140                                     ***** END-POOL *****
13141 00001D40                   4400     _UP_LOT_SIG_MAK:
13142                            4401             SUB_START
13143 00001D40 4F22                   M           STS.L   PR,@-R15                ;[必要]
13144                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13145 00001D42 D50A              4402             MOV.L   #_INT_POS_CTL_STEP,R5   ;
13146 00001D44 6251              4403             MOV.W   @R5,R2                  ;
13147 00001D46 D40A              4404             MOV.L   #_UP_HOLD_STEP,R4       ;//上昇ﾎｰﾙﾄﾞを監視を開始するｽﾃｯﾌﾟ
13148 00001D48 6541              4405             MOV.W   @R4,R5                  ;
13149 00001D4A 3252              4406             CMP/HS  R5,R2                   ;ﾁｪｯｸすべき工程にきたか
13150 00001D4C 8B2E              4407             BF      CTRL_UP_LOT_CK_END      ;
13151                            4408     
13152                            4409     ;       == ﾁｪｯｸすべく工程より大きい====
13153                            4410     ;       ======== ﾁｪｯｸすべき工程だ =======
13154                            4411     ;;[2009-10-07下振子]    MOV.L   #_INC_ENC360,R4         ;//360.0度(ｴﾝｺｰﾀﾞは表示と同じ)
13155                            4412     ;;[2009-10-07下振子]    MOV.W   @R4,R2                  ;
13156                            4413     
13157 00001D4E D409              4414             MOV.L   #_DNM_CTL_INC3600,R4    ;[2009-10-07下振子]
13158 00001D50 6241              4415             MOV.W   @R4,R2                  ;
13159                            4416     
13160 00001D52 D509              4417             MOV.L   #_UP_HOLD_DIG,R5        ;//0.1度(165.0):ﾓｰﾀ軸ｴﾝｺｰﾀﾞ角度で比較
13161 00001D54 6151              4418             MOV.W   @R5,R1                  ;START
13162 00001D56 D509              4419             MOV.L   #_SETX_UPAREA_DIG,R5    ;
13163 00001D58 6351              4420             MOV.W   @R5,R3                  ;
13164                            4421             FAR_JSR #_DIG_AREA_CHK1,R0      ;"ANS:R5"
13165 00001D5A D009                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13166 00001D5C 400B                   M           JSR     @R0                     ;
13167 00001D5E 0009                   M           NOP                                     ;
13168                            4422     
13169                            4423     
13170 00001D60 D108              4424             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
13171 00001D62 6011              4425             MOV.W   @R1,R0                                  ;
13172 00001D64 C808              4426             TST     #_DMATH_UPDRIV,R0                       ;DRIVE MATH 上往復 BIT3
13173                            4427             TST_BIT_OF CTRL_UP_LOT_CK_200                   ;
13174 00001D66 890F                   M           BT      CTRL_UP_LOT_CK_200
13175                            4428             M_BRA   CTRL_UP_LOT_CK_END                      ;(作成未)
13176 00001D68 A020                   M           BRA     CTRL_UP_LOT_CK_END
13177 00001D6A 0009                   M           NOP
13178                            4429     
13179                                     ***** BEGIN-POOL *****
13180 00001D6C 00000000                   DATA FOR SOURCE-LINE 4402
13181 00001D70 00000000                   DATA FOR SOURCE-LINE 4404
13182 00001D74 00000000                   DATA FOR SOURCE-LINE 4414
13183 00001D78 00000000                   DATA FOR SOURCE-LINE 4417
13184 00001D7C 00000000                   DATA FOR SOURCE-LINE 4419
13185 00001D80 00000000                   DATA FOR SOURCE-LINE 4421
13186 00001D84 00000000                   DATA FOR SOURCE-LINE 4424
13187                                     ***** END-POOL *****
13188 00001D88                   4430     CTRL_UP_LOT_CK_200:
13189 00001D88 C804              4431             TST     #_DMATH_DNDRIV,R0                       ;DRIVE MATH 上往復 BIT3
13190                            4432             TST_BIT_OF CTRL_UP_LOT_CK_300                   ;
13191 00001D8A 8901                   M           BT      CTRL_UP_LOT_CK_300
13192                            4433             M_BRA   CTRL_UP_LOT_CK_400                      ;[2009-10-07下振子]
13193 00001D8C A006                   M           BRA     CTRL_UP_LOT_CK_400
13194 00001D8E 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   128
PROGRAM NAME =

13195                            4434     ;;[2009-10-07下振子]    M_BRA   CTRL_UP_LOT_CK_END      ;(作成未)
13196                            4435     
13197 00001D90                   4436     CTRL_UP_LOT_CK_300:
13198 00001D90 C802              4437             TST     #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
13199                            4438             TST_BIT_OF CTRL_UP_LOT_CK_400                   ;
13200 00001D92 8903                   M           BT      CTRL_UP_LOT_CK_400
13201                            4439     
13202                            4440     ;       ==== 反転R5=0,-1 ====
13203 00001D94 4515              4441             CMP/PL  R5                                      ;
13204 00001D96 8B05              4442             BF      CTRL_UP_LOT_CK_700                      ;成立
13205                            4443             M_BRA   CTRL_UP_LOT_CK_END                      ;
13206 00001D98 A008                   M           BRA     CTRL_UP_LOT_CK_END
13207 00001D9A 0009                   M           NOP
13208                            4444     
13209                            4445     ;-----------回転-----------
13210 00001D9C                   4446     CTRL_UP_LOT_CK_400:
13211                            4447     ;       ==== 正転R5=0,1 ====
13212 00001D9C 4511              4448             CMP/PZ  R5
13213 00001D9E 8901              4449             BT      CTRL_UP_LOT_CK_700                      ;成立
13214                            4450             M_BRA   CTRL_UP_LOT_CK_END                      ;
13215 00001DA0 A004                   M           BRA     CTRL_UP_LOT_CK_END
13216 00001DA2 0009                   M           NOP
13217 00001DA4                   4451     CTRL_UP_LOT_CK_700:
13218 00001DA4 E0FF              4452             MOV     #-1,R0                  ;
13219                            4453     
13220                            4454             SUB_END
13221                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13222 00001DA6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13223                            4455             M_RTS
13224 00001DA8 000B                   M           RTS                             ;RTSの後ろの
13225 00001DAA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13226                            4456     
13227 00001DAC                   4457     CTRL_UP_LOT_CK_END:
13228 00001DAC 200A              4458             XOR     R0,R0
13229                            4459             SUB_END
13230                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13231 00001DAE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13232                            4460             M_RTS
13233 00001DB0 000B                   M           RTS                             ;RTSの後ろの
13234 00001DB2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13235                            4461     
13236                            4462     
13237                            4463     
13238                            4464     ;       *******************************************
13239                            4465     ;       ***                                     ***
13240                            4466     ;       ***     クラッチ・ブレーキ起動処理      ***
13241                            4467     ;       ***                                     ***
13242                            4468     ;       *******************************************
13243 00001DB4                   4469     _CB_CTL_START_INI:
13244                            4470             SUB_START
13245 00001DB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
13246                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13247                            4471     
13248                            4472              .AIF   1 EQ 1  ;
13249                            4473 C   ;       -------- 2016-10-31 ADD 二重回路対策
13250                            4474              .AENDI
13251                            4475             FAR_JSR #_START_CNT_INFO_OUT,R0         ;2016-10-31(2016-07-22) 二重回路対策
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   129
PROGRAM NAME =

13252 00001DB6 D00D                   M           MOV.L   #_START_CNT_INFO_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13253 00001DB8 400B                   M           JSR     @R0                     ;
13254 00001DBA 0009                   M           NOP                                     ;
13255                            4476     
13256                            4477     ;2016-10-31     XOR     R2,R2
13257                            4478     ;2016-10-31     XOR     R3,R3
13258                            4479     ;2016-10-31     MOV.L   #_MODE_SEL,R1                           ;
13259                            4480     ;2016-10-31     MOV.W   @R1,R0                                  ;
13260                            4481     ;2016-10-31     TST     #_W1CNT,R0                              ;
13261                            4482     ;2016-10-31     TST_BIT_OF CONT_MD_CHK100
13262                            4483     ;2016-10-31
13263                            4484     ;2016-10-31;    **********************************
13264                            4485     ;2016-10-31;    ***     2004-01-26              **
13265                            4486     ;2016-10-31;    **********************************
13266                            4487     ;2016-10-31     MOV.W   #(BIT12+BIT11),R1       ;
13267                            4488     ;2016-10-31     TST     R1,R0                   ;OPTIONの連続寸動
13268                            4489     ;2016-10-31     TST_BIT_ON CONT_MD_CHK100       ;本当のｵﾌﾟｼｮﾝではない(ｶｳﾝﾀ・ﾀｲﾏ=0)
13269                            4490     ;2016-10-31
13270                            4491     ;2016-10-31     MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
13271                            4492     ;2016-10-31     MOV.W   @R1,R0                          ;.8=TIM .9=CNT
13272                            4493     ;2016-10-31     MOV.W   #BIT8,R4                        ;
13273                            4494     ;2016-10-31     TST     R4,R0                           ;
13274                            4495     ;2016-10-31     TST_BIT_OF CONT_MD_CHK050       ;
13275                            4496     ;2016-10-31     MOV.L   #_SET1_CNT_TIM,R1       ;連続タイマ
13276                            4497     ;2016-10-31     MOV.L   @R1,R2                  ;
13277                            4498     ;2016-10-31     M_BRA   CONT_MD_CHK100          ;
13278                            4499     ;2016-10-31CONT_MD_CHK050:
13279                            4500     ;2016-10-31
13280                            4501     ;2016-10-31     MOV.W   #BIT9,R4                        ;
13281                            4502     ;2016-10-31     TST     R4,R0                           ;
13282                            4503     ;2016-10-31     TST_BIT_OF CONT_MD_CHK100       ;
13283                            4504     ;2016-10-31     MOV.L   #_SET1_CNT_CNT,R1       ;連続カウンタ
13284                            4505     ;2016-10-31     MOV.W   @R1,R3                  ;
13285                            4506     ;2016-10-31CONT_MD_CHK100:
13286                            4507     ;2016-10-31
13287                            4508     ;2016-10-31     MOV.L   #_CONT_MOD_TIM_PV,R1    ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
13288                            4509     ;2016-10-31     MOV.L   R2,@R1                  ;
13289                            4510     ;2016-10-31     MOV.L   #_CONT_MOD_CNT_PV,R1    ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
13290                            4511     ;2016-10-31     MOV.W   R3,@R1                  ;
13291                            4512     
13292                            4513     ;       ======ｻｲｸﾙ停止状態OFF==========================
13293 00001DBC D50C              4514             MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R5             ;
13294 00001DBE 6051              4515             MOV.W   @R5,R0                                  ;
13295 00001DC0 9412              4516             MOV.W   #LWORD ~(BIT7),R4                       ;
13296 00001DC2 2049              4517             AND     R4,R0                                   ;以下 BIT0,BIT1,BIT8,BIT9を作成す
                                          る
13297 00001DC4 2501              4518             MOV.W   R0,@R5                                  ;
13298                            4519     ;       ===============================================
13299                            4520     
13300                            4521     ;       ======= ｻｰﾎﾞ 2003-05-24 ====
13301 00001DC6 D10B              4522             MOV.L   #_WPAR_INCSTP_EDYTM1,R1         ;停止遅延時間1=>ﾊﾟﾗﾒｰﾀﾜｰｸへ
13302 00001DC8 6011              4523             MOV.W   @R1,R0                          ;
13303 00001DCA D10B              4524             MOV.L   #_WPAR_INCSTP_EDYTM,R1          ;
13304 00001DCC 2101              4525             MOV.W   R0,@R1                          ;
13305                            4526     
13306                            4527             FAR_JSR #_DRV_START_INI_NEW1,R0         ;2003-07-09
13307 00001DCE D00B                   M           MOV.L   #_DRV_START_INI_NEW1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   130
PROGRAM NAME =

13308 00001DD0 400B                   M           JSR     @R0                     ;
13309 00001DD2 0009                   M           NOP                                     ;
13310                            4528     
13311                            4529     
13312                            4530             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~(H'FF),WKREG=R1 ;//位置決
                                          めｽﾃｰﾀｽ
13313 00001DD4 D10A                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
13314 00001DD6 6011                   M           MOV.W   @R1,R0          ;
13315 00001DD8 C900                   M           AND     #LOW ~(H'FF),R0         ;
13316 00001DDA 2101                   M           MOV.W   R0,@R1          ;
13317                            4531     
13318                            4532     ;       ----- 2007-03-02 ----
13319 00001DDC 200A              4533             XOR     R0,R0
13320 00001DDE D109              4534             MOV.L   #_CMP_RECOVER_FLG,R1            ;(ﾃﾞﾊﾞｯｸ用)
13321 00001DE0 2101              4535             MOV.W   R0,@R1                          ;
13322                            4536     
13323                            4537     
13324                            4538     
13325                            4539             SUB_END
13326                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13327 00001DE2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13328                            4540             M_RTS
13329 00001DE4 000B                   M           RTS                             ;RTSの後ろの
13330 00001DE6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13331                            4541     
13332                            4542     ;       *******************************************
13333                            4543     ;       ***                                     ***
13334                            4544     ;       ***     2016-10-31(2016-07-22)          ***
13335                            4545     ;       ***     二重回路対策                    ***
13336                            4546     ;       *******************************************
13337                            4547              .AIF   1 EQ 1  ;
13338                            4548 C   ;       -------- 2016-10-31 ADD 二重回路対策
13339                            4549              .AENDI
13340                            4550     ;
13341                                     ***** BEGIN-POOL *****
13342 00001DE8 FF7F                       DATA FOR SOURCE-LINE 4516
13343 00001DEA 0000                       ALIGNMENT CODE
13344 00001DEC 00000000                   DATA FOR SOURCE-LINE 4475
13345 00001DF0 00000000                   DATA FOR SOURCE-LINE 4514
13346 00001DF4 00000000                   DATA FOR SOURCE-LINE 4522
13347 00001DF8 00000000                   DATA FOR SOURCE-LINE 4524
13348 00001DFC 00000000                   DATA FOR SOURCE-LINE 4527
13349 00001E00 00000000                   DATA FOR SOURCE-LINE 4530
13350 00001E04 00000000                   DATA FOR SOURCE-LINE 4534
13351                                     ***** END-POOL *****
13352 00001E08                   4551     _START_CNT_INFO_OUT
13353                            4552             SUB_START
13354 00001E08 4F22                   M           STS.L   PR,@-R15                ;[必要]
13355                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13356 00001E0A 222A              4553             XOR     R2,R2
13357 00001E0C 233A              4554             XOR     R3,R3
13358 00001E0E D109              4555             MOV.L   #_MODE_SEL,R1                           ;
13359 00001E10 6011              4556             MOV.W   @R1,R0                                  ;
13360 00001E12 C808              4557             TST     #_W1CNT,R0                              ;
13361                            4558             TST_BIT_OF CONT_MD_CHK100
13362 00001E14 8919                   M           BT      CONT_MD_CHK100
13363                            4559     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   131
PROGRAM NAME =

13364                            4560     ;       **********************************
13365                            4561     ;       ***     2004-01-26              **
13366                            4562     ;       **********************************
13367 00001E16 910A              4563             MOV.W   #(BIT12+BIT11),R1       ;
13368 00001E18 2018              4564             TST     R1,R0                   ;OPTIONの連続寸動
13369                            4565             TST_BIT_ON CONT_MD_CHK100       ;本当のｵﾌﾟｼｮﾝではない(ｶｳﾝﾀ・ﾀｲﾏ=0)
13370 00001E1A 8B16                   M           BF      CONT_MD_CHK100
13371                            4566     
13372 00001E1C D106              4567             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
13373 00001E1E 6011              4568             MOV.W   @R1,R0                          ;.8=TIM .9=CNT
13374 00001E20 9406              4569             MOV.W   #BIT8,R4                        ;
13375 00001E22 2048              4570             TST     R4,R0                           ;
13376                            4571             TST_BIT_OF CONT_MD_CHK050       ;
13377 00001E24 890C                   M           BT      CONT_MD_CHK050
13378 00001E26 D105              4572             MOV.L   #_SET1_CNT_TIM,R1       ;連続タイマ
13379 00001E28 6212              4573             MOV.L   @R1,R2                  ;
13380                            4574             M_BRA   CONT_MD_CHK100          ;
13381 00001E2A A00E                   M           BRA     CONT_MD_CHK100
13382 00001E2C 0009                   M           NOP
13383                                     ***** BEGIN-POOL *****
13384 00001E2E 1800                       DATA FOR SOURCE-LINE 4563
13385 00001E30 0100                       DATA FOR SOURCE-LINE 4569
13386 00001E32 0000                       ALIGNMENT CODE
13387 00001E34 00000000                   DATA FOR SOURCE-LINE 4555
13388 00001E38 00000000                   DATA FOR SOURCE-LINE 4567
13389 00001E3C 00000000                   DATA FOR SOURCE-LINE 4572
13390                                     ***** END-POOL *****
13391 00001E40                   4575     CONT_MD_CHK050:
13392                            4576     
13393 00001E40 940D              4577             MOV.W   #BIT9,R4                        ;
13394 00001E42 2048              4578             TST     R4,R0                           ;
13395                            4579             TST_BIT_OF CONT_MD_CHK100       ;
13396 00001E44 8901                   M           BT      CONT_MD_CHK100
13397 00001E46 D106              4580             MOV.L   #_SET1_CNT_CNT,R1       ;連続カウンタ
13398 00001E48 6311              4581             MOV.W   @R1,R3                  ;
13399 00001E4A                   4582     CONT_MD_CHK100:
13400                            4583     
13401 00001E4A D106              4584             MOV.L   #_CONT_MOD_TIM_PV,R1    ;//連続ﾓｰﾄﾞ・ﾀｲﾏ
13402 00001E4C 2122              4585             MOV.L   R2,@R1                  ;
13403 00001E4E D106              4586             MOV.L   #_CONT_MOD_CNT_PV,R1    ;//連続ﾓｰﾄﾞ・ｶｳﾝﾀ
13404 00001E50 2131              4587             MOV.W   R3,@R1                  ;
13405                            4588     
13406                            4589             FAR_JSR #_CNT_MODE_CNT_SIG_OUT,R0       ;2016-07-21
13407 00001E52 D006                   M           MOV.L   #_CNT_MODE_CNT_SIG_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13408 00001E54 400B                   M           JSR     @R0                     ;
13409 00001E56 0009                   M           NOP                                     ;
13410                            4590     
13411                            4591             SUB_END
13412                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13413 00001E58 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13414                            4592             M_RTS
13415 00001E5A 000B                   M           RTS                             ;RTSの後ろの
13416 00001E5C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13417                            4593     
13418                            4594     ;       =====================================
13419                            4595     ;       ==== 2003-07-09に追加した起動ｸﾘｱ ====
13420                            4596     ;       =====================================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   132
PROGRAM NAME =

13421                                     ***** BEGIN-POOL *****
13422 00001E5E 0200                       DATA FOR SOURCE-LINE 4577
13423 00001E60 00000000                   DATA FOR SOURCE-LINE 4580
13424 00001E64 00000000                   DATA FOR SOURCE-LINE 4584
13425 00001E68 00000000                   DATA FOR SOURCE-LINE 4586
13426 00001E6C 00000000                   DATA FOR SOURCE-LINE 4589
13427                                     ***** END-POOL *****
13428          00000002          4597     _EQ_CNT_DISP_STCNT      .EQU    2       ;
13429                            4598     
13430 00001E70                   4599     _DRV_START_INI_NEW1:
13431                            4600             SUB_START
13432 00001E70 4F22                   M           STS.L   PR,@-R15                ;[必要]
13433                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13434                            4601     ;       == 2003-07-09 ==
13435 00001E72 200A              4602             XOR     R0,R0
13436 00001E74 D109              4603             MOV.L   #_ORG_RDY_CTL_FLG,R1            ;不本意ながらﾌﾗｸﾞ
13437 00001E76 2101              4604             MOV.W   R0,@R1                          ;
13438                            4605     
13439 00001E78 D109              4606             MOV.L   #_PAR_ORGDRV_CNT,R1             ;
13440 00001E7A 6011              4607             MOV.W   @R1,R0                          ;
13441 00001E7C D109              4608             MOV.L   #_ORG_DRV_CNT_PV,R1             ;//0:1回 0なら最後のｽﾃｯﾌﾟにいく
13442 00001E7E 2101              4609             MOV.W   R0,@R1                          ;
13443                            4610     
13444                            4611     ;       ======== 連続======
13445 00001E80 D109              4612             MOV.L   #_MODE_SEL,R1                   ;
13446 00001E82 6011              4613             MOV.W   @R1,R0                          ;
13447 00001E84 C808              4614             TST     #_W1CNT,R0                      ;
13448                            4615             TST_BIT_OF DRV_START_ININW1_050         ;
13449 00001E86 8915                   M           BT      DRV_START_ININW1_050
13450                            4616     
13451 00001E88 9006              4617             MOV.W   #_EQ_CNT_DISP_STCNT,R0          ;
13452 00001E8A D108              4618             MOV.L   #_CYCL_DSP_CNT_PV,R1            ;//非表示ｶｳﾝﾀ 2->1->0(表示)
13453 00001E8C 2101              4619             MOV.W   R0,@R1                          ;
13454                            4620     
13455 00001E8E 9004              4621             MOV.W   #BIT0,R0                        ;
13456 00001E90 D107              4622             MOV.L   #_CYCL_DSP_DISENB,R1;//0:表示 1:非表示 => 反転して出力
13457 00001E92 2101              4623             MOV.W   R0,@R1
13458                            4624             M_BRA   DRV_START_ININW1_100
13459 00001E94 A011                   M           BRA     DRV_START_ININW1_100
13460 00001E96 0009                   M           NOP
13461                                     ***** BEGIN-POOL *****
13462 00001E98 0002                       DATA FOR SOURCE-LINE 4617
13463 00001E9A 0001                       DATA FOR SOURCE-LINE 4621
13464 00001E9C 00000000                   DATA FOR SOURCE-LINE 4603
13465 00001EA0 00000000                   DATA FOR SOURCE-LINE 4606
13466 00001EA4 00000000                   DATA FOR SOURCE-LINE 4608
13467 00001EA8 00000000                   DATA FOR SOURCE-LINE 4612
13468 00001EAC 00000000                   DATA FOR SOURCE-LINE 4618
13469 00001EB0 00000000                   DATA FOR SOURCE-LINE 4622
13470                                     ***** END-POOL *****
13471 00001EB4                   4625     DRV_START_ININW1_050:
13472 00001EB4 200A              4626             XOR     R0,R0                           ;
13473 00001EB6 D102              4627             MOV.L   #_CYCL_DSP_DISENB,R1            ;//0:表示 1:非表示 => 反転して出力
13474 00001EB8 2101              4628             MOV.W   R0,@R1
13475 00001EBA                   4629     DRV_START_ININW1_100:
13476                            4630             SUB_END
13477                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   133
PROGRAM NAME =

13478 00001EBA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13479                            4631             M_RTS
13480 00001EBC 000B                   M           RTS                             ;RTSの後ろの
13481 00001EBE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13482                            4632     
13483                            4633     ;       ===================================
13484                            4634     ;       ==== 2003-07-09連続SPM表示開始  ===
13485                            4635     ;       ===================================
13486                                     ***** BEGIN-POOL *****
13487 00001EC0 00000000                   DATA FOR SOURCE-LINE 4627
13488                                     ***** END-POOL *****
13489 00001EC4                   4636     _CNT_CYCL_DISP_ST:
13490                            4637             SUB_START
13491 00001EC4 4F22                   M           STS.L   PR,@-R15                ;[必要]
13492                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13493 00001EC6 200A              4638             XOR     R0,R0                           ;
13494 00001EC8 D102              4639             MOV.L   #_CYCL_DSP_DISENB,R1            ;//0:表示 1:非表示 => 反転して出力
13495 00001ECA 2101              4640             MOV.W   R0,@R1
13496                            4641             SUB_END
13497                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13498 00001ECC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13499                            4642             M_RTS
13500 00001ECE 000B                   M           RTS                             ;RTSの後ろの
13501 00001ED0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13502                            4643     ;       =====================================
13503                            4644     ;       ==== 2003-07-09連続SPM非表示条件  ===
13504                            4645     ;       =====================================
13505                                     ***** BEGIN-POOL *****
13506 00001ED2 0000                       ALIGNMENT CODE
13507 00001ED4 00000000                   DATA FOR SOURCE-LINE 4639
13508                                     ***** END-POOL *****
13509 00001ED8                   4646     _CNT_SPM_DISP_CHK:
13510                            4647             SUB_START
13511 00001ED8 4F22                   M           STS.L   PR,@-R15                ;[必要]
13512                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13513 00001EDA D107              4648             MOV.L   #_MODE_SEL,R1                   ;
13514 00001EDC 6011              4649             MOV.W   @R1,R0                          ;
13515 00001EDE C808              4650             TST     #_W1CNT,R0                      ;
13516                            4651             TST_BIT_OF CNT_SPM_DSPCK050             ;
13517 00001EE0 8906                   M           BT      CNT_SPM_DSPCK050
13518 00001EE2 D106              4652             MOV.L   #_CYCL_DSP_CNT_PV,R1    ;//非表示ｶｳﾝﾀ 2->1->0(表示)
13519 00001EE4 6011              4653             MOV.W   @R1,R0                                  ;
13520 00001EE6 2008              4654             TST     R0,R0                                           ;
13521                            4655             TST_BIT_OF CNT_SPM_DSPCK050             ;表示する
13522 00001EE8 8902                   M           BT      CNT_SPM_DSPCK050
13523                            4656     
13524 00001EEA 9004              4657             MOV.W   #BIT0,R0                                        ;
13525 00001EEC D104              4658             MOV.L   #_CYCL_DSP_DISENB,R1            ;1:非表示 => 反転して出力
13526 00001EEE 2101              4659             MOV.W   R0,@R1                          ;
13527                            4660     
13528 00001EF0                   4661     CNT_SPM_DSPCK050:
13529                            4662     
13530                            4663             SUB_END
13531                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13532 00001EF0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13533                            4664             M_RTS
13534 00001EF2 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   134
PROGRAM NAME =

13535 00001EF4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13536                            4665     
13537                            4666     
13538                            4667     
13539                            4668     ;       ***********************************
13540                            4669     ;       ***                             ***
13541                            4670     ;       ***     終了処理の二重回路対策  ***
13542                            4671     ;       ***                             ***
13543                            4672     ;       ***********************************
13544                            4673     ;自分のやるべき事が終わったらこのチェックを行う
13545                            4674     ;       Output  R0=FF:終了
13546                            4675     ;               R0=0 :WAIT
13547                            4676     ;       "この処理が終わり上位でフラグをクリアする事"
13548                            4677     ;
13549                            4678     ;
13550                            4679             .EXPORT _CMPAB_NEAR_END_PROC    ;
13551                            4680             .EXPORT _CMPAB_STEP_END_PROC    ;
13552                            4681     
13553                            4682             .EXPORT _CMPSTP_CTRL_REDY_CLR;//準備完了にしたい
13554                            4683             .EXPORT _CMPSTP_CTRL_BUSY_CLR;//準備未完了にしたい
13555                            4684             .EXPORT _CMPSTP_POS_START_CLR;//起動したい
13556                            4685             .EXPORT _CMPSTP_SFTY_AUTO_CLR;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13557                            4686             .EXPORT _CMPSTP_NEAR_ZERO_CLR;//ﾆｱｾﾞﾛ処理を行いたい
13558                            4687             .EXPORT _CMPSTP_CNT_STOP_CLR;//連続停止
13559                            4688             .EXPORT _CMPSTP_STEP_END_CLR;//位置決め完了としたい
13560                            4689             .EXPORT _CMPCYC_START_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
13561                            4690             .EXPORT _CMPCYC_END_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
13562                            4691     
13563                            4692             .EXPORT _CMPEMG_EXQ_FLG_CLR;//
13564                            4693             .EXPORT _POS_CMP_1STEP_START_INI
13565                            4694     
13566                                     ***** BEGIN-POOL *****
13567 00001EF6 0001                       DATA FOR SOURCE-LINE 4657
13568 00001EF8 00000000                   DATA FOR SOURCE-LINE 4648
13569 00001EFC 00000000                   DATA FOR SOURCE-LINE 4652
13570 00001F00 00000000                   DATA FOR SOURCE-LINE 4658
13571                                     ***** END-POOL *****
13572 00001F04                   4695     _CMPAB_NEAR_END_PROC
13573                            4696             SUB_START
13574 00001F04 4F22                   M           STS.L   PR,@-R15                ;[必要]
13575                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13576                            4697             PUSH_REG1 R5
13577 00001F06 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
13578                                 M                                           ;REG=>[SP]
13579                                 M                                           ;"-4" FF,FF,FF,FC
13580 00001F08 D505              4698             MOV.L   #_CMPSTEP_NEAR_ZERO,R5          ;//ﾆｱｾﾞﾛ処理を行いたい
13581 00001F0A 6051              4699             MOV.W   @R5,R0                          ;
13582 00001F0C 2008              4700             TST     R0,R0                           ;
13583                            4701             TST_BIT_ON CMPAB_NEAR_END_PC_100        ;
13584 00001F0E 8B0B                   M           BF      CMPAB_NEAR_END_PC_100
13585 00001F10 E001              4702             MOV     #BIT0,R0                        ;
13586 00001F12 2501              4703             MOV.W   R0,@R5                          ;START FLG ON bit0
13587                            4704             FAR_JSR #_CPU_AB_NZR_ON_OUT,R0          ;R0,R1 USED
13588 00001F14 D003                   M           MOV.L   #_CPU_AB_NZR_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13589 00001F16 400B                   M           JSR     @R0                     ;
13590 00001F18 0009                   M           NOP                                     ;
13591                            4705             M_BRA   CMPAB_NEAR_END_PC_NG            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   135
PROGRAM NAME =

13592 00001F1A A029                   M           BRA     CMPAB_NEAR_END_PC_NG
13593 00001F1C 0009                   M           NOP
13594                            4706     
13595                            4707     ;       ===== 処理開始 =========
13596                                     ***** BEGIN-POOL *****
13597 00001F1E 0000                       ALIGNMENT CODE
13598 00001F20 00000000                   DATA FOR SOURCE-LINE 4698
13599 00001F24 00000000                   DATA FOR SOURCE-LINE 4704
13600                                     ***** END-POOL *****
13601 00001F28                   4708     CMPAB_NEAR_END_PC_100:
13602 00001F28 6051              4709             MOV.W   @R5,R0                          ;
13603 00001F2A C802              4710             TST     #BIT1,R0                        ;
13604                            4711             TST_BIT_ON CMPAB_NEAR_END_PC_200        ;
13605 00001F2C 8B10                   M           BF      CMPAB_NEAR_END_PC_200
13606                            4712             FAR_JSR #_CPU_BA_NZR_ON_JG,R0           ;R0 !=0 END
13607 00001F2E D006                   M           MOV.L   #_CPU_BA_NZR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13608 00001F30 400B                   M           JSR     @R0                     ;
13609 00001F32 0009                   M           NOP                                     ;
13610 00001F34 2008              4713             TST     R0,R0                           ;
13611                            4714             TST_BIT_OF CMPAB_NEAR_END_PC_NG         ;CPU-Bまだ処理中
13612 00001F36 891B                   M           BT      CMPAB_NEAR_END_PC_NG
13613 00001F38 6051              4715             MOV.W   @R5,R0                          ;
13614 00001F3A CB02              4716             OR      #BIT1,R0                        ;
13615 00001F3C 2501              4717             MOV.W   R0,@R5                          ;CPU-Bが信号をONした
13616                            4718             FAR_JSR #_CPU_BA_NZR_OF_OUT,R0          ;CPU-B信号ｸﾘｱ
13617 00001F3E D003                   M           MOV.L   #_CPU_BA_NZR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13618 00001F40 400B                   M           JSR     @R0                     ;
13619 00001F42 0009                   M           NOP                                     ;
13620                            4719             M_BRA   CMPAB_NEAR_END_PC_NG            ;
13621 00001F44 A014                   M           BRA     CMPAB_NEAR_END_PC_NG
13622 00001F46 0009                   M           NOP
13623                            4720     
13624                                     ***** BEGIN-POOL *****
13625 00001F48 00000000                   DATA FOR SOURCE-LINE 4712
13626 00001F4C 00000000                   DATA FOR SOURCE-LINE 4718
13627                                     ***** END-POOL *****
13628 00001F50                   4721     CMPAB_NEAR_END_PC_200:
13629 00001F50 6051              4722             MOV.W   @R5,R0                          ;
13630 00001F52 C804              4723             TST     #BIT2,R0                        ;(完了状態)
13631                            4724             TST_BIT_ON CMPAB_NEAR_END_PC_OK         ;
13632 00001F54 8B07                   M           BF      CMPAB_NEAR_END_PC_OK
13633                            4725     
13634                            4726             FAR_JSR #_CPU_AB_NZR_OF_JG,R0           ;R0=0;完了
13635 00001F56 D005                   M           MOV.L   #_CPU_AB_NZR_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13636 00001F58 400B                   M           JSR     @R0                     ;
13637 00001F5A 0009                   M           NOP                                     ;
13638 00001F5C 2008              4727             TST     R0,R0                           ;
13639                            4728             TST_BIT_ON CMPAB_NEAR_END_PC_NG         ;自分の信号がｸﾘｱされていない
13640 00001F5E 8B07                   M           BF      CMPAB_NEAR_END_PC_NG
13641 00001F60 6051              4729             MOV.W   @R5,R0                          ;
13642 00001F62 CB04              4730             OR      #BIT2,R0                        ;
13643 00001F64 2501              4731             MOV.W   R0,@R5                          ;
13644 00001F66                   4732     CMPAB_NEAR_END_PC_OK:
13645 00001F66 E0FF              4733             MOV     #-1,R0                          ;
13646                            4734             M_BRA   CMPAB_NEAR_END_PC_ED            ;
13647 00001F68 A003                   M           BRA     CMPAB_NEAR_END_PC_ED
13648 00001F6A 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   136
PROGRAM NAME =

13649                            4735     
13650                                     ***** BEGIN-POOL *****
13651 00001F6C 00000000                   DATA FOR SOURCE-LINE 4726
13652                                     ***** END-POOL *****
13653 00001F70                   4736     CMPAB_NEAR_END_PC_NG:
13654 00001F70 200A              4737             XOR     R0,R0                   ;
13655 00001F72                   4738     CMPAB_NEAR_END_PC_ED:
13656                            4739             POP_REG1 R5                     ;
13657                                 M                                   ; RE"+4" 00,00,00,04
13658 00001F72 65F6                   M           MOV.L   @R15+,R5        ;
13659                            4740             SUB_END
13660                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13661 00001F74 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13662                            4741             M_RTS
13663 00001F76 000B                   M           RTS                             ;RTSの後ろの
13664 00001F78 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13665                            4742     
13666                            4743     
13667                            4744             .MACRO  CMPAB_STEP_END_MAC FLG,ABON_OUT,BAON_JG,BAOF_OUT,ABOF_JG
13668                            4745             PUSH_REG1 R5
13669                            4746             MOV.L   #\FLG,R5                        ;//ﾆｱｾﾞﾛ処理を行いたい
13670                            4747             MOV.W   @R5,R0                          ;
13671                            4748             TST     R0,R0                           ;
13672                            4749             TST_BIT_ON JMP100\@                     ;
13673                            4750             MOV     #BIT0,R0                        ;
13674                            4751             MOV.W   R0,@R5                          ;START FLG ON bit0
13675                            4752             FAR_JSR #\ABON_OUT,R0                   ;R0,R1 USED
13676                            4753             M_BRA   JMP_NG\@                        ;
13677                            4754     
13678                            4755     ;       ===== 処理開始 =========
13679                            4756     JMP100\@:
13680                            4757             MOV.W   @R5,R0                          ;
13681                            4758             TST     #BIT1,R0                        ;
13682                            4759             TST_BIT_ON JMP200\@                     ;
13683                            4760     
13684                            4761             FAR_JSR #\BAON_JG,R0                    ;R0 !=0 END
13685                            4762             TST     R0,R0                           ;
13686                            4763             TST_BIT_OF JMP_NG\@                     ;CPU-Bまだ処理中
13687                            4764             MOV.W   @R5,R0                          ;
13688                            4765             OR      #BIT1,R0                        ;
13689                            4766             MOV.W   R0,@R5                          ;CPU-Bが信号をONした
13690                            4767             FAR_JSR #\BAOF_OUT,R0                   ;CPU-B信号ｸﾘｱ
13691                            4768             M_BRA   JMP_NG\@
13692                            4769     
13693                            4770     JMP200\@:
13694                            4771             MOV.W   @R5,R0                          ;
13695                            4772             TST     #BIT2,R0                        ;(完了状態)
13696                            4773             TST_BIT_ON JMP_OK\@                     ;
13697                            4774     
13698                            4775             FAR_JSR #\ABOF_JG,R0            ;R0=0;完了
13699                            4776             TST     R0,R0                           ;
13700                            4777             TST_BIT_ON JMP_NG\@             ;自分の信号がｸﾘｱされていない
13701                            4778             MOV.W   @R5,R0                          ;
13702                            4779             OR      #BIT2,R0                        ;
13703                            4780             MOV.W   R0,@R5                          ;
13704                            4781     JMP_OK\@:
13705                            4782             MOV     #-1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   137
PROGRAM NAME =

13706                            4783             M_BRA   JMP_ED\@
13707                            4784     
13708                            4785     JMP_NG\@:
13709                            4786             XOR     R0,R0                   ;
13710                            4787     JMP_ED\@:
13711                            4788             POP_REG1 R5                     ;
13712                            4789             .ENDM
13713                            4790     
13714                            4791     
13715 00001F7A                   4792     _CMPAB_STEP_END_PROC
13716                            4793             SUB_START
13717 00001F7A 4F22                   M           STS.L   PR,@-R15                ;[必要]
13718                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13719                            4794             CMPAB_STEP_END_MAC FLG=         _CMPSTEP_STEP_END
13720                            4795     +                       ,ABON_OUT=      _CPU_AB_CED_ON_OUT
13721                            4796     +                       ,BAON_JG=       _CPU_BA_CED_ON_JG
13722                            4797     +                       ,BAOF_OUT=      _CPU_BA_CED_OF_OUT
13723                            4798     +                       ,ABOF_JG=       _CPU_AB_CED_OF_JG
13724                                 M           PUSH_REG1 R5
13725 00001F7C 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
13726                                 M                                           ;REG=>[SP]
13727                                 M                                           ;"-4" FF,FF,FF,FC
13728 00001F7E D505                   M           MOV.L   #_CMPSTEP_STEP_END,R5                   ;//ﾆｱｾﾞﾛ処理を行いたい
13729 00001F80 6051                   M           MOV.W   @R5,R0                          ;
13730 00001F82 2008                   M           TST     R0,R0                           ;
13731                                 M           TST_BIT_ON JMP10000000                  ;
13732 00001F84 8B0A                   M           BF      JMP10000000
13733 00001F86 E001                   M           MOV     #BIT0,R0                        ;
13734 00001F88 2501                   M           MOV.W   R0,@R5                          ;START FLG ON bit0
13735                                 M           FAR_JSR #_CPU_AB_CED_ON_OUT,R0                  ;R0,R1 USED
13736 00001F8A D003                   M           MOV.L   #_CPU_AB_CED_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13737 00001F8C 400B                   M           JSR     @R0                     ;
13738 00001F8E 0009                   M           NOP                                     ;
13739                                 M           M_BRA   JMP_NG00000                     ;
13740 00001F90 A028                   M           BRA     JMP_NG00000
13741 00001F92 0009                   M           NOP
13742                                 M   
13743                                 M   ;       ===== 処理開始 =========
13744                                 M   ***** BEGIN-POOL *****
13745 00001F94 00000000               M   DATA FOR SOURCE-LINE 4794
13746 00001F98 00000000               M   DATA FOR SOURCE-LINE 4794
13747                                 M   ***** END-POOL *****
13748 00001F9C                        M   JMP10000000:
13749 00001F9C 6051                   M           MOV.W   @R5,R0                          ;
13750 00001F9E C802                   M           TST     #BIT1,R0                        ;
13751                                 M           TST_BIT_ON JMP20000000                  ;
13752 00001FA0 8B10                   M           BF      JMP20000000
13753                                 M   
13754                                 M           FAR_JSR #_CPU_BA_CED_ON_JG,R0                   ;R0 !=0 END
13755 00001FA2 D006                   M           MOV.L   #_CPU_BA_CED_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13756 00001FA4 400B                   M           JSR     @R0                     ;
13757 00001FA6 0009                   M           NOP                                     ;
13758 00001FA8 2008                   M           TST     R0,R0                           ;
13759                                 M           TST_BIT_OF JMP_NG00000                  ;CPU-Bまだ処理中
13760 00001FAA 891B                   M           BT      JMP_NG00000
13761 00001FAC 6051                   M           MOV.W   @R5,R0                          ;
13762 00001FAE CB02                   M           OR      #BIT1,R0                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   138
PROGRAM NAME =

13763 00001FB0 2501                   M           MOV.W   R0,@R5                          ;CPU-Bが信号をONした
13764                                 M           FAR_JSR #_CPU_BA_CED_OF_OUT,R0                  ;CPU-B信号ｸﾘｱ
13765 00001FB2 D003                   M           MOV.L   #_CPU_BA_CED_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13766 00001FB4 400B                   M           JSR     @R0                     ;
13767 00001FB6 0009                   M           NOP                                     ;
13768                                 M           M_BRA   JMP_NG00000
13769 00001FB8 A014                   M           BRA     JMP_NG00000
13770 00001FBA 0009                   M           NOP
13771                                 M   
13772                                 M   ***** BEGIN-POOL *****
13773 00001FBC 00000000               M   DATA FOR SOURCE-LINE 4794
13774 00001FC0 00000000               M   DATA FOR SOURCE-LINE 4794
13775                                 M   ***** END-POOL *****
13776 00001FC4                        M   JMP20000000:
13777 00001FC4 6051                   M           MOV.W   @R5,R0                          ;
13778 00001FC6 C804                   M           TST     #BIT2,R0                        ;(完了状態)
13779                                 M           TST_BIT_ON JMP_OK00000                  ;
13780 00001FC8 8B07                   M           BF      JMP_OK00000
13781                                 M   
13782                                 M           FAR_JSR #_CPU_AB_CED_OF_JG,R0           ;R0=0;完了
13783 00001FCA D005                   M           MOV.L   #_CPU_AB_CED_OF_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13784 00001FCC 400B                   M           JSR     @R0                     ;
13785 00001FCE 0009                   M           NOP                                     ;
13786 00001FD0 2008                   M           TST     R0,R0                           ;
13787                                 M           TST_BIT_ON JMP_NG00000          ;自分の信号がｸﾘｱされていない
13788 00001FD2 8B07                   M           BF      JMP_NG00000
13789 00001FD4 6051                   M           MOV.W   @R5,R0                          ;
13790 00001FD6 CB04                   M           OR      #BIT2,R0                        ;
13791 00001FD8 2501                   M           MOV.W   R0,@R5                          ;
13792 00001FDA                        M   JMP_OK00000:
13793 00001FDA E0FF                   M           MOV     #-1,R0                          ;
13794                                 M           M_BRA   JMP_ED00000
13795 00001FDC A003                   M           BRA     JMP_ED00000
13796 00001FDE 0009                   M           NOP
13797                                 M   
13798                                 M   ***** BEGIN-POOL *****
13799 00001FE0 00000000               M   DATA FOR SOURCE-LINE 4794
13800                                 M   ***** END-POOL *****
13801 00001FE4                        M   JMP_NG00000:
13802 00001FE4 200A                   M           XOR     R0,R0                   ;
13803 00001FE6                        M   JMP_ED00000:
13804                                 M           POP_REG1 R5                     ;
13805                                 M                                   ; RE"+4" 00,00,00,04
13806 00001FE6 65F6                   M           MOV.L   @R15+,R5        ;
13807                            4799             SUB_END
13808                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13809 00001FE8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13810                            4800             M_RTS
13811 00001FEA 000B                   M           RTS                             ;RTSの後ろの
13812 00001FEC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13813                            4801     
13814                            4802     
13815                            4803     ;
13816                            4804     ;
13817                            4805     ;
13818 00001FEE                   4806     _CMPSTP_CTRL_REDY_CLR:;//準備完了にしたいをOFF
13819                            4807             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   139
PROGRAM NAME =

13820 00001FEE 4F22                   M           STS.L   PR,@-R15                ;[必要]
13821                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13822                            4808             FAR_JSR #_CPU_AB_RDY_OF_OUT,R0
13823 00001FF0 D004                   M           MOV.L   #_CPU_AB_RDY_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13824 00001FF2 400B                   M           JSR     @R0                     ;
13825 00001FF4 0009                   M           NOP                                     ;
13826 00001FF6 D104              4809             MOV.L   #_CMPSTEP_CTRL_REDY,R1;//準備完了にしたくない<<完了・未完了は共通で1:完了
                                          0:>>
13827 00001FF8 200A              4810             XOR     R0,R0
13828 00001FFA 2101              4811             MOV.W   R0,@R1
13829                            4812             SUB_END
13830                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13831 00001FFC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13832                            4813             M_RTS
13833 00001FFE 000B                   M           RTS                             ;RTSの後ろの
13834 00002000 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13835                            4814     
13836                                     ***** BEGIN-POOL *****
13837 00002002 0000                       ALIGNMENT CODE
13838 00002004 00000000                   DATA FOR SOURCE-LINE 4808
13839 00002008 00000000                   DATA FOR SOURCE-LINE 4809
13840                                     ***** END-POOL *****
13841 0000200C                   4815     _CMPSTP_CTRL_BUSY_CLR:;//準備未完了にしたいをOFF
13842                            4816             SUB_START
13843 0000200C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13844                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13845                            4817             FAR_JSR #_CPU_AB_BSY_OF_OUT,R0
13846 0000200E D004                   M           MOV.L   #_CPU_AB_BSY_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13847 00002010 400B                   M           JSR     @R0                     ;
13848 00002012 0009                   M           NOP                                     ;
13849 00002014 D103              4818             MOV.L   #_CMPSTEP_CTRL_BUSY,R1;//準備未完了にしたくない
13850 00002016 200A              4819             XOR     R0,R0
13851 00002018 2101              4820             MOV.W   R0,@R1
13852                            4821             SUB_END
13853                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13854 0000201A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13855                            4822             M_RTS
13856 0000201C 000B                   M           RTS                             ;RTSの後ろの
13857 0000201E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13858                            4823     
13859                                     ***** BEGIN-POOL *****
13860 00002020 00000000                   DATA FOR SOURCE-LINE 4817
13861 00002024 00000000                   DATA FOR SOURCE-LINE 4818
13862                                     ***** END-POOL *****
13863 00002028                   4824     _CMPSTP_POS_START_CLR:;//起動したいをOFF
13864                            4825             SUB_START
13865 00002028 4F22                   M           STS.L   PR,@-R15                ;[必要]
13866                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13867                            4826             FAR_JSR #_CPU_AB_STR_OF_OUT,R0
13868 0000202A D004                   M           MOV.L   #_CPU_AB_STR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13869 0000202C 400B                   M           JSR     @R0                     ;
13870 0000202E 0009                   M           NOP                                     ;
13871 00002030 D103              4827             MOV.L   #_CMPSTEP_POS_START,R1;//起動したいくない
13872 00002032 200A              4828             XOR     R0,R0
13873 00002034 2101              4829             MOV.W   R0,@R1
13874                            4830             SUB_END
13875                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   140
PROGRAM NAME =

13876 00002036 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13877                            4831             M_RTS
13878 00002038 000B                   M           RTS                             ;RTSの後ろの
13879 0000203A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13880                            4832     
13881                                     ***** BEGIN-POOL *****
13882 0000203C 00000000                   DATA FOR SOURCE-LINE 4826
13883 00002040 00000000                   DATA FOR SOURCE-LINE 4827
13884                                     ***** END-POOL *****
13885 00002044                   4833     _CMPSTP_SFTY_AUTO_CLR:;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13886                            4834             SUB_START
13887 00002044 4F22                   M           STS.L   PR,@-R15                ;[必要]
13888                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13889                            4835     ;;2007-03-02    FAR_JSR #_CPU_AB_ATO_OF_OUT,R0
13890                            4836             FAR_JSR #_CPU_AB_DRVSTOP_OF_OUT,R0      ;名称変更
13891 00002046 D006                   M           MOV.L   #_CPU_AB_DRVSTOP_OF_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13892 00002048 400B                   M           JSR     @R0                     ;
13893 0000204A 0009                   M           NOP                                     ;
13894                            4837             FAR_JSR #_CPU_BA_DRVSTOP_OF_OUT,R0      ;相手側CLR
13895 0000204C D005                   M           MOV.L   #_CPU_BA_DRVSTOP_OF_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13896 0000204E 400B                   M           JSR     @R0                     ;
13897 00002050 0009                   M           NOP                                     ;
13898                            4838     
13899 00002052 D105              4839             MOV.L   #_CMPSTEP_SFTY_AUTO,R1;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
13900 00002054 200A              4840             XOR     R0,R0
13901 00002056 2101              4841             MOV.W   R0,@R1
13902                            4842             SUB_END
13903                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13904 00002058 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13905                            4843             M_RTS
13906 0000205A 000B                   M           RTS                             ;RTSの後ろの
13907 0000205C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13908                            4844     
13909                                     ***** BEGIN-POOL *****
13910 0000205E 0000                       ALIGNMENT CODE
13911 00002060 00000000                   DATA FOR SOURCE-LINE 4836
13912 00002064 00000000                   DATA FOR SOURCE-LINE 4837
13913 00002068 00000000                   DATA FOR SOURCE-LINE 4839
13914                                     ***** END-POOL *****
13915 0000206C                   4845     _CMPSTP_NEAR_ZERO_CLR:;//ﾆｱｾﾞﾛ処理を行いたい
13916                            4846             SUB_START
13917 0000206C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13918                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13919                            4847             FAR_JSR #_CPU_AB_NZR_OF_OUT,R0
13920 0000206E D004                   M           MOV.L   #_CPU_AB_NZR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13921 00002070 400B                   M           JSR     @R0                     ;
13922 00002072 0009                   M           NOP                                     ;
13923 00002074 D103              4848             MOV.L   #_CMPSTEP_NEAR_ZERO,R1;//ﾆｱｾﾞﾛ処理を行いたい
13924 00002076 200A              4849             XOR     R0,R0
13925 00002078 2101              4850             MOV.W   R0,@R1
13926                            4851             SUB_END
13927                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13928 0000207A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13929                            4852             M_RTS
13930 0000207C 000B                   M           RTS                             ;RTSの後ろの
13931 0000207E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13932                            4853     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   141
PROGRAM NAME =

13933                                     ***** BEGIN-POOL *****
13934 00002080 00000000                   DATA FOR SOURCE-LINE 4847
13935 00002084 00000000                   DATA FOR SOURCE-LINE 4848
13936                                     ***** END-POOL *****
13937 00002088                   4854     _CMPSTP_CNT_STOP_CLR:;//連続停止
13938                            4855             SUB_START
13939 00002088 4F22                   M           STS.L   PR,@-R15                ;[必要]
13940                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13941                            4856             FAR_JSR #_CPU_AB_CST_OF_OUT1,R0 ;
13942 0000208A D006                   M           MOV.L   #_CPU_AB_CST_OF_OUT1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13943 0000208C 400B                   M           JSR     @R0                     ;
13944 0000208E 0009                   M           NOP                                     ;
13945                            4857             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0 ;
13946 00002090 D005                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13947 00002092 400B                   M           JSR     @R0                     ;
13948 00002094 0009                   M           NOP                                     ;
13949 00002096 D105              4858             MOV.L   #_CMPSTEP_CNT_STOP,R1   ;//連続停止
13950 00002098 200A              4859             XOR     R0,R0
13951 0000209A 2101              4860             MOV.W   R0,@R1
13952                            4861             SUB_END
13953                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13954 0000209C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13955                            4862             M_RTS
13956 0000209E 000B                   M           RTS                             ;RTSの後ろの
13957 000020A0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13958                            4863     
13959                                     ***** BEGIN-POOL *****
13960 000020A2 0000                       ALIGNMENT CODE
13961 000020A4 00000000                   DATA FOR SOURCE-LINE 4856
13962 000020A8 00000000                   DATA FOR SOURCE-LINE 4857
13963 000020AC 00000000                   DATA FOR SOURCE-LINE 4858
13964                                     ***** END-POOL *****
13965 000020B0                   4864     _CMPSTP_STEP_END_CLR:;//位置決め完了としたい
13966                            4865             SUB_START
13967 000020B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
13968                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13969                            4866             FAR_JSR #_CPU_AB_CED_OF_OUT,R0  ;CPU-Bの分のみｸﾘｱする
13970 000020B2 D004                   M           MOV.L   #_CPU_AB_CED_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13971 000020B4 400B                   M           JSR     @R0                     ;
13972 000020B6 0009                   M           NOP                                     ;
13973 000020B8 D103              4867             MOV.L   #_CMPSTEP_STEP_END,R1   ;//位置決め完了としたい
13974 000020BA 200A              4868             XOR     R0,R0
13975 000020BC 2101              4869             MOV.W   R0,@R1
13976                            4870             SUB_END
13977                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13978 000020BE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13979                            4871             M_RTS
13980 000020C0 000B                   M           RTS                             ;RTSの後ろの
13981 000020C2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13982                            4872     
13983                            4873     ;       ***************************
13984                            4874     ;       ***     EMG/EXQ         ***
13985                            4875     ;       ***************************
13986                                     ***** BEGIN-POOL *****
13987 000020C4 00000000                   DATA FOR SOURCE-LINE 4866
13988 000020C8 00000000                   DATA FOR SOURCE-LINE 4867
13989                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   142
PROGRAM NAME =

13990 000020CC                   4876     _CMPEMG_EXQ_FLG_CLR:
13991                            4877             SUB_START
13992 000020CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
13993                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13994                            4878             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0;//準備完了にしたいをOFF
13995 000020CE D014                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13996 000020D0 400B                   M           JSR     @R0                     ;
13997 000020D2 0009                   M           NOP                                     ;
13998                            4879             FAR_JSR #_CMPSTP_POS_START_CLR,R0       ;//起動したいをOFF
13999 000020D4 D013                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14000 000020D6 400B                   M           JSR     @R0                     ;
14001 000020D8 0009                   M           NOP                                     ;
14002                            4880     
14003                            4881             FAR_JSR #_CPU_AB_BSY_OF_OUT,R0  ;
14004 000020DA D013                   M           MOV.L   #_CPU_AB_BSY_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14005 000020DC 400B                   M           JSR     @R0                     ;
14006 000020DE 0009                   M           NOP                                     ;
14007                            4882     ;;2007-03-02    FAR_JSR #_CPU_AB_ATO_OF_OUT,R0
14008                            4883             FAR_JSR #_CPU_AB_DRVSTOP_OF_OUT,R0      ;名称変更
14009 000020E0 D012                   M           MOV.L   #_CPU_AB_DRVSTOP_OF_OUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14010 000020E2 400B                   M           JSR     @R0                     ;
14011 000020E4 0009                   M           NOP                                     ;
14012                            4884     
14013                            4885             FAR_JSR #_CPU_AB_NZR_OF_OUT,R0  ;
14014 000020E6 D012                   M           MOV.L   #_CPU_AB_NZR_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14015 000020E8 400B                   M           JSR     @R0                     ;
14016 000020EA 0009                   M           NOP                                     ;
14017                            4886             FAR_JSR #_CPU_AB_CST_OF_OUT1,R0 ;
14018 000020EC D011                   M           MOV.L   #_CPU_AB_CST_OF_OUT1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14019 000020EE 400B                   M           JSR     @R0                     ;
14020 000020F0 0009                   M           NOP                                     ;
14021                            4887             FAR_JSR #_CPU_AB_CST_OF_OUT2,R0 ;
14022 000020F2 D011                   M           MOV.L   #_CPU_AB_CST_OF_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14023 000020F4 400B                   M           JSR     @R0                     ;
14024 000020F6 0009                   M           NOP                                     ;
14025                            4888             FAR_JSR #_CPU_AB_CED_OF_OUT,R0  ;CPU-Bの分のみｸﾘｱする
14026 000020F8 D010                   M           MOV.L   #_CPU_AB_CED_OF_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14027 000020FA 400B                   M           JSR     @R0                     ;
14028 000020FC 0009                   M           NOP                                     ;
14029                            4889     
14030 000020FE 200A              4890             XOR     R0,R0
14031 00002100 D10F              4891             MOV.L   #_CMPSTEP_CTRL_BUSY,R1;//準備未完了にしたい
14032 00002102 2101              4892             MOV.W   R0,@R1
14033 00002104 D10F              4893             MOV.L   #_CMPSTEP_SFTY_AUTO,R1;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
14034 00002106 2101              4894             MOV.W   R0,@R1
14035 00002108 D10F              4895             MOV.L   #_CMPSTEP_NEAR_ZERO,R1;//ﾆｱｾﾞﾛ処理を行いたい
14036 0000210A 2101              4896             MOV.W   R0,@R1
14037 0000210C D10F              4897             MOV.L   #_CMPSTEP_CNT_STOP,R1   ;//連続停止
14038 0000210E 2101              4898             MOV.W   R0,@R1
14039 00002110 D10F              4899             MOV.L   #_CMPSTEP_STEP_END,R1   ;//位置決め完了としたい
14040 00002112 2101              4900             MOV.W   R0,@R1
14041                            4901     
14042                            4902     ;       == 2004-12-20 ==
14043 00002114 D10F              4903             MOV.L   #_CNT_BANK_CALC_ERR,R1
14044 00002116 2101              4904             MOV.W   R0,@R1
14045                            4905     
14046                            4906     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   143
PROGRAM NAME =

14047                            4907             SUB_END
14048                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14049 00002118 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14050                            4908             M_RTS
14051 0000211A 000B                   M           RTS                             ;RTSの後ろの
14052 0000211C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14053                            4909     
14054                            4910     ;       ***************************
14055                            4911     ;       ***     開始時          ***
14056                            4912     ;       ***     START           ***
14057                            4913     ;       ***************************
14058                                     ***** BEGIN-POOL *****
14059 0000211E 0000                       ALIGNMENT CODE
14060 00002120 00000000                   DATA FOR SOURCE-LINE 4878
14061 00002124 00000000                   DATA FOR SOURCE-LINE 4879
14062 00002128 00000000                   DATA FOR SOURCE-LINE 4881
14063 0000212C 00000000                   DATA FOR SOURCE-LINE 4883
14064 00002130 00000000                   DATA FOR SOURCE-LINE 4885
14065 00002134 00000000                   DATA FOR SOURCE-LINE 4886
14066 00002138 00000000                   DATA FOR SOURCE-LINE 4887
14067 0000213C 00000000                   DATA FOR SOURCE-LINE 4888
14068 00002140 00000000                   DATA FOR SOURCE-LINE 4891
14069 00002144 00000000                   DATA FOR SOURCE-LINE 4893
14070 00002148 00000000                   DATA FOR SOURCE-LINE 4895
14071 0000214C 00000000                   DATA FOR SOURCE-LINE 4897
14072 00002150 00000000                   DATA FOR SOURCE-LINE 4899
14073 00002154 00000000                   DATA FOR SOURCE-LINE 4903
14074                                     ***** END-POOL *****
14075 00002158                   4914     _CMPCYC_START_CLR:
14076                            4915             SUB_START
14077 00002158 4F22                   M           STS.L   PR,@-R15                ;[必要]
14078                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14079                            4916             FAR_JSR #_POS_CMP_1STEP_START_INI,R0
14080 0000215A D004                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14081 0000215C 400B                   M           JSR     @R0                     ;
14082 0000215E 0009                   M           NOP                                     ;
14083                            4917             FAR_JSR #_CMPSTP_SFTY_AUTO_CLR,R0;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
14084 00002160 D003                   M           MOV.L   #_CMPSTP_SFTY_AUTO_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14085 00002162 400B                   M           JSR     @R0                     ;
14086 00002164 0009                   M           NOP                                     ;
14087                            4918             SUB_END
14088                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14089 00002166 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14090                            4919             M_RTS
14091 00002168 000B                   M           RTS                             ;RTSの後ろの
14092 0000216A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14093                            4920     
14094                            4921     ;       ***********************************
14095                            4922     ;       ***     終了前                  ***
14096                            4923     ;       ***     起動に必要な信号の準備  ***
14097                            4924     ;       ***********************************
14098                                     ***** BEGIN-POOL *****
14099 0000216C 00000000                   DATA FOR SOURCE-LINE 4916
14100 00002170 00000000                   DATA FOR SOURCE-LINE 4917
14101                                     ***** END-POOL *****
14102 00002174                   4925     _CMPCYC_END_CLR:
14103                            4926             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   144
PROGRAM NAME =

14104 00002174 4F22                   M           STS.L   PR,@-R15                ;[必要]
14105                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14106                            4927             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0;//準備完了にしたい
14107 00002176 D006                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14108 00002178 400B                   M           JSR     @R0                     ;
14109 0000217A 0009                   M           NOP                                     ;
14110                            4928             FAR_JSR #_CMPSTP_CTRL_BUSY_CLR,R0;//準備未完了にしたい
14111 0000217C D005                   M           MOV.L   #_CMPSTP_CTRL_BUSY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14112 0000217E 400B                   M           JSR     @R0                     ;
14113 00002180 0009                   M           NOP                                     ;
14114                            4929             FAR_JSR #_CMPSTP_POS_START_CLR,R0;//起動したい
14115 00002182 D005                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14116 00002184 400B                   M           JSR     @R0                     ;
14117 00002186 0009                   M           NOP                                     ;
14118                            4930             SUB_END
14119                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14120 00002188 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14121                            4931             M_RTS
14122 0000218A 000B                   M           RTS                             ;RTSの後ろの
14123 0000218C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14124                            4932     
14125                            4933     ;       ***********************************
14126                            4934     ;       ***                             ***
14127                            4935     ;       ***     1つのｽﾃｯﾌﾟの起動時      ***
14128                            4936     ;       ***                             ***
14129                            4937     ;       ***********************************
14130                                     ***** BEGIN-POOL *****
14131 0000218E 0000                       ALIGNMENT CODE
14132 00002190 00000000                   DATA FOR SOURCE-LINE 4927
14133 00002194 00000000                   DATA FOR SOURCE-LINE 4928
14134 00002198 00000000                   DATA FOR SOURCE-LINE 4929
14135                                     ***** END-POOL *****
14136 0000219C                   4938     _POS_CMP_1STEP_START_INI:
14137                            4939             SUB_START
14138 0000219C 4F22                   M           STS.L   PR,@-R15                ;[必要]
14139                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14140                            4940             FAR_JSR #_CMPSTP_STEP_END_CLR,R0;//位置決め完了としたい
14141 0000219E D00B                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14142 000021A0 400B                   M           JSR     @R0                     ;
14143 000021A2 0009                   M           NOP                                     ;
14144                            4941             FAR_JSR #_CMPSTP_NEAR_ZERO_CLR,R0;//ﾆｱｾﾞﾛ処理を行いたい
14145 000021A4 D00A                   M           MOV.L   #_CMPSTP_NEAR_ZERO_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14146 000021A6 400B                   M           JSR     @R0                     ;
14147 000021A8 0009                   M           NOP                                     ;
14148                            4942             FAR_JSR #_FUL_DATA_INIT,R0                      ;
14149 000021AA D00A                   M           MOV.L   #_FUL_DATA_INIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14150 000021AC 400B                   M           JSR     @R0                     ;
14151 000021AE 0009                   M           NOP                                     ;
14152 000021B0 200A              4943             XOR     R0,R0                                   ;
14153 000021B2 D109              4944             MOV.L   #_NEAR_IN_FLG,R1                        ;
14154 000021B4 2101              4945             MOV.W   R0,@R1                                  ;
14155                            4946     
14156                            4947             FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏ再設定
14157 000021B6 D009                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14158 000021B8 400B                   M           JSR     @R0                     ;
14159 000021BA 0009                   M           NOP                                     ;
14160                            4948     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   145
PROGRAM NAME =

14161                            4949     ;       === ﾆｱｾﾞﾛ待ち信号ｸﾘｱ ====
14162                            4950             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
14163 000021BC D108                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
14164 000021BE 6011                   M           MOV.W   @R1,R0          ;
14165 000021C0 C9FE                   M           AND     #LOW ~BIT0,R0           ;
14166 000021C2 2101                   M           MOV.W   R0,@R1          ;
14167                            4951     
14168                            4952     
14169                            4953             SUB_END
14170                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14171 000021C4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14172                            4954             M_RTS
14173 000021C6 000B                   M           RTS                             ;RTSの後ろの
14174 000021C8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14175                            4955     
14176                            4956     ;       ***********************************
14177                            4957     ;       **      ステップ表示            ***
14178                            4958     ;       ***********************************
14179                            4959     ;       ５段仕様は段数によらず最終工程は６行程目＋BIT15
14180                            4960     ;       10段仕様は段数によらず最終工程は１１行程目＋BIT15
14181                            4961     ;
14182                            4962     ;
14183                                     ***** BEGIN-POOL *****
14184 000021CA 0000                       ALIGNMENT CODE
14185 000021CC 00000000                   DATA FOR SOURCE-LINE 4940
14186 000021D0 00000000                   DATA FOR SOURCE-LINE 4941
14187 000021D4 00000000                   DATA FOR SOURCE-LINE 4942
14188 000021D8 00000000                   DATA FOR SOURCE-LINE 4944
14189 000021DC 00000000                   DATA FOR SOURCE-LINE 4947
14190 000021E0 00000000                   DATA FOR SOURCE-LINE 4950
14191                                     ***** END-POOL *****
14192 000021E4                   4963     _STEP_SIG_DSP_CLR;
14193                            4964             SUB_START
14194 000021E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
14195                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14196 000021E6 244A              4965             XOR     R4,R4           ;210.0~210.15
14197 000021E8 266A              4966             XOR     R6,R6           ;2015-10-01 100段
14198                            4967             M_BRA   STEP_SIG_DSP200
14199 000021EA A017                   M           BRA     STEP_SIG_DSP200
14200 000021EC 0009                   M           NOP
14201                            4968     
14202 000021EE                   4969     _STEP_SIG_DISP;
14203                            4970             SUB_START
14204 000021EE 4F22                   M           STS.L   PR,@-R15                ;[必要]
14205                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14206                            4971     
14207                            4972     ;;;;;;  10段でも100段でもこっち
14208                            4973     ;;;;;;  XOR     R5,R5
14209                            4974     ;;;;;;  XOR     R6,R6
14210                            4975     ;;;;;;  MOV.L   #_SYS_100STEP_USE,R1    ;//100段ｿﾌﾄ
14211                            4976     ;;;;;;  MOV.W   @R1,R0                  ;
14212                            4977     ;;;;;;  TST     R0,R0                   ;
14213                            4978     ;;;;;;  TST_BIT_OF STEP_SIG_DSP050      ;
14214                            4979     
14215 000021F0 255A              4980             XOR     R5,R5                   ;
14216 000021F2 D108              4981             MOV.L   #_INT_POS_CTL_STEP,R1   ;1~5,6
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   146
PROGRAM NAME =

14217 000021F4 6011              4982             MOV.W   @R1,R0                  ;
14218 000021F6 D108              4983             MOV.L   #_CPOS_STEP_MAX,R1      ;
14219 000021F8 6411              4984             MOV.W   @R1,R4                  ;
14220 000021FA 7401              4985             ADD     #1,R4                   ;
14221 000021FC 3042              4986             CMP/HS  R4,R0                   ;
14222 000021FE 8B01              4987             BF      STEP_SIG_DSP020         ;
14223                            4988     
14224 00002200 9005              4989             MOV.W   #D'100,R0               ;戻り行程は100
14225 00002202 9505              4990             MOV.W   #BIT15,R5               ;
14226                            4991     
14227 00002204                   4992     STEP_SIG_DSP020                         ;
14228 00002204 6603              4993             MOV     R0,R6                   ;0,1~98,100
14229 00002206 250B              4994             OR      R0,R5                   ;BIT15+ 0,1~98,100
14230 00002208 6453              4995             MOV     R5,R4                   ;
14231                            4996             M_BRA   STEP_SIG_DSP200         ;OUTPUT　行程数R4,[*表示]R6
14232 0000220A A007                   M           BRA     STEP_SIG_DSP200
14233 0000220C 0009                   M           NOP
14234                            4997     
14235                            4998     
14236                            4999     ;;;;;;;;2015-10-25;     ----------- 5/10段仕様----------
14237                            5000     ;;;;;;;;2015-10-25STEP_SIG_DSP030                               ;
14238                            5001     ;;;;;;;;2015-10-25      MOV.L   #_INT_POS_CTL_STEP,R1   ;1~5,6
14239                            5002     ;;;;;;;;2015-10-25      MOV.W   @R1,R0                  ;
14240                            5003     ;;;;;;;;2015-10-25      MOV.L   #_CPOS_STEP_MAX,R1      ;
14241                            5004     ;;;;;;;;2015-10-25      MOV.W   @R1,R4                  ;
14242                            5005     ;;;;;;;;2015-10-25      ADD     #1,R4                   ;
14243                            5006     ;;;;;;;;2015-10-25      CMP/HS  R4,R0                   ;
14244                            5007     ;;;;;;;;2015-10-25      BF      STEP_SIG_DSP100         ;
14245                            5008     ;;;;;;;;2015-10-25
14246                            5009     ;;;;;;;;2015-10-25;     ==== 最終工程==
14247                            5010     ;;;;;;;;2015-10-25      MOV.L   #_WFSYS_MAX_STEP_SEL,R1 ;2004-01-26
14248                            5011     ;;;;;;;;2015-10-25      MOV.W   @R1,R0                  ;
14249                            5012     ;;;;;;;;2015-10-25      CMP/EQ  #1,R0                   ;
14250                            5013     ;;;;;;;;2015-10-25      BF      STEP_SIG_DSP050         ;
14251                            5014     ;;;;;;;;2015-10-25
14252                            5015     ;;;;;;;;2015-10-25      MOV.W   #_EQ_STEP_MAX+1,R0      ;1~5の時は2~6
14253                            5016     ;;;;;;;;2015-10-25      CMP/HI  R0,R4                   ;5+1 < MAX+1
14254                            5017     ;;;;;;;;2015-10-25      BF      STEP_SIG_DSP050         ;NO MAX=1~5
14255                            5018     ;;;;;;;;2015-10-25
14256                            5019     ;;;;;;;;2015-10-25      MOV.W   #(BIT15+BIT10),R4       ;"*"はBIT10
14257                            5020     ;;;;;;;;2015-10-25      M_BRA   STEP_SIG_DSP200         ;
14258                            5021     ;;;;;;;;2015-10-25
14259                            5022     ;;;;;;;;2015-10-25STEP_SIG_DSP050:
14260                            5023     ;;;;;;;;2015-10-25      MOV.W   #(BIT15+BIT5),R4        ;"*"はBIT5
14261                            5024     ;;;;;;;;2015-10-25      M_BRA   STEP_SIG_DSP200         ;
14262                            5025     ;;;;;;;;2015-10-25
14263                            5026     ;;;;;;;;2015-10-25STEP_SIG_DSP100:
14264                            5027     ;;;;;;;;2015-10-25      MOV.L   #_LONG_BIT_TBL0,R1              ;
14265                            5028     ;;;;;;;;2015-10-25      SHLL2   R0                              ;data=1 BIT0
14266                            5029     ;;;;;;;;2015-10-25      ADD     R1,R0                           ;
14267                            5030     ;;;;;;;;2015-10-25      MOV.L   @R0,R4                          ;
14268                            5031     ;;;;;;;;2015-10-25
14269                            5032     ;;;;;;;;2015-10-25
14270                            5033     
14271                                     ***** BEGIN-POOL *****
14272 0000220E 0064                       DATA FOR SOURCE-LINE 4989
14273 00002210 8000                       DATA FOR SOURCE-LINE 4990
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   147
PROGRAM NAME =

14274 00002212 0000                       ALIGNMENT CODE
14275 00002214 00000000                   DATA FOR SOURCE-LINE 4981
14276 00002218 00000000                   DATA FOR SOURCE-LINE 4983
14277                                     ***** END-POOL *****
14278 0000221C                   5034     STEP_SIG_DSP200:
14279                            5035     
14280                            5036     ;       ---------2014-09-22 追加BIT13--------------
14281 0000221C D106              5037             MOV.L   #_MOT_REP_F,R1                  ;//BIT0(ﾘﾋﾟｰﾄ動作
14282 0000221E 6011              5038             MOV.W   @R1,R0                          ;
14283 00002220 C801              5039             TST     #BIT0,R0                        ;ﾘﾋﾟｰﾄ中
14284                            5040             TST_BIT_OF STEP_SIG_DSP300              ;
14285 00002222 8901                   M           BT      STEP_SIG_DSP300
14286 00002224 9007              5041             MOV.W   #BIT13,R0                       ;
14287 00002226 240B              5042             OR      R0,R4                           ;
14288 00002228                   5043     STEP_SIG_DSP300:                                ;
14289 00002228 D504              5044             MOV.L   #_SQ_CBWK_TOP+_WKSQCB210,R5     ;
14290 0000222A 2541              5045             MOV.W   R4,@R5                          ;
14291                            5046     
14292                            5047             .AIF    0 EQ    0       ;
14293                            5048 C           .IMPORT _PVP_MOT_ACT_STEP
14294 0000222C D504              5049 C           MOV.L   #_PVP_MOT_ACT_STEP,R5           ;
14295 0000222E 2561              5050 C           MOV.W   R6,@R5                          ;
14296                            5051             .AENDI
14297                            5052     
14298                            5053             SUB_END
14299                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14300 00002230 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14301                            5054             M_RTS
14302 00002232 000B                   M           RTS                             ;RTSの後ろの
14303 00002234 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14304                            5055     
14305                            5056     
14306                            5057     ;       ***********************************
14307                            5058     ;       ***                             ***
14308                            5059     ;       ***     運転開始                ***
14309                            5060     ;       ***                             ***
14310                            5061     ;       ***********************************
14311                                     ***** BEGIN-POOL *****
14312 00002236 2000                       DATA FOR SOURCE-LINE 5041
14313 00002238 00000000                   DATA FOR SOURCE-LINE 5037
14314 0000223C 00000000                   DATA FOR SOURCE-LINE 5044
14315 00002240 00000000                   DATA FOR SOURCE-LINE 5049
14316                                     ***** END-POOL *****
14317 00002244                   5062     _STOPPING_TIM_MOV_INI:
14318                            5063             SUB_START
14319 00002244 4F22                   M           STS.L   PR,@-R15                ;[必要]
14320                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14321 00002246 D104              5064             MOV.L   #_STOPPING_TIM_FLG,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停止中
14322 00002248 200A              5065             XOR     R0,R0                   ;動作開始
14323 0000224A 2101              5066             MOV.W   R0,@R1                  ;
14324                            5067     
14325                            5068     
14326                            5069     ;       ==== 2012-03-06====
14327                            5070             FAR_JSR #_BRKTMCAL_API1_STR,R0          ;JUMP力がないため
14328 0000224C D003                   M           MOV.L   #_BRKTMCAL_API1_STR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14329 0000224E 400B                   M           JSR     @R0                     ;
14330 00002250 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   148
PROGRAM NAME =

14331                            5071     
14332                            5072             SUB_END
14333                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14334 00002252 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14335                            5073             M_RTS
14336 00002254 000B                   M           RTS                             ;RTSの後ろの
14337 00002256 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14338                            5074     
14339                            5075     ;       ***********************************
14340                            5076     ;       ***                             ***
14341                            5077     ;       ***     停止条件成立(測定開始)  ***
14342                            5078     ;       ***                             ***
14343                            5079     ;       ***********************************
14344                            5080     
14345                                     ***** BEGIN-POOL *****
14346 00002258 00000000                   DATA FOR SOURCE-LINE 5064
14347 0000225C 00000000                   DATA FOR SOURCE-LINE 5070
14348                                     ***** END-POOL *****
14349 00002260                   5081     _STOPPING_TIM_STOP_INI:
14350                            5082             SUB_START
14351 00002260 4F22                   M           STS.L   PR,@-R15                ;[必要]
14352                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14353 00002262 D114              5083             MOV.L   #_STOPPING_TIM_FLG,R1           ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停
                                          止中
14354 00002264 6011              5084             MOV.W   @R1,R0                          ;
14355 00002266 C841              5085             TST     #(BIT6+BIT0),R0                 ;
14356                            5086             TST_BIT_ON STOPPING_TIM_STOPINI_100     ;動作開始?/停止後の停止?
14357 00002268 8B1E                   M           BF      STOPPING_TIM_STOPINI_100
14358                            5087     
14359                            5088     ;;2010-08-20    MOV.W   #_SYS_STOPPING_TIM,R2
14360 0000226A D113              5089             MOV.L   #_WPAR_STOPING_TIM,R1           ;//予備、ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ,ﾌﾞﾚｰｷﾀｲﾏ用時間(2010-0
                                          8-20以前は50ms固定)
14361 0000226C 6211              5090             MOV.W   @R1,R2                          ;
14362                            5091     
14363 0000226E D113              5092             MOV.L   #_STOPPING_STOP_TIM,R1  ;//停止を測定するタイマ
14364 00002270 2121              5093             MOV.W   R2,@R1                  ;
14365                            5094     
14366 00002272 D413              5095             MOV.L   #_LINK_PV_ABSPLS,R4                                     ;RL_OBJ->PV 200609
                                          19
14367 00002274 6146              5096             MOV.L   @R4+,R1                                                 ;
14368 00002276 6242              5097             MOV.L   @R4,R2                                                  ;(制御目標値/今は
                                          実測だけど)
14369 00002278 D412              5098             MOV.L   #_STOPPING_VLVOFF_POS,R4;//停止処理開始時点の位置
14370 0000227A 2412              5099             MOV.L   R1,@R4                  ;
14371 0000227C 1421              5100             MOV.L   R2,@(4,R4)              ;
14372                            5101     
14373 0000227E D412              5102             MOV.L   #_STOPPING_STOP_POS,R4  ;//停止処理測定位置
14374 00002280 2412              5103             MOV.L   R1,@R4                  ;
14375 00002282 1421              5104             MOV.L   R2,@(4,R4)              ;
14376                            5105     
14377 00002284 D10B              5106             MOV.L   #_STOPPING_TIM_FLG,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停止中
14378 00002286 9012              5107             MOV.W   #BIT0,R0                ;
14379 00002288 2101              5108             MOV.W   R0,@R1
14380                            5109     
14381 0000228A 200A              5110             XOR     R0,R0                   ;
14382 0000228C D10F              5111             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ
14383 0000228E 2101              5112             MOV.W   R0,@R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   149
PROGRAM NAME =

14384 00002290 D10F              5113             MOV.L   #_STOPPING_TIM_PV2,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ
14385 00002292 2101              5114             MOV.W   R0,@R1                  ;
14386                            5115     
14387                            5116     ;       ==== 2003-07-09 ========
14388 00002294 D10F              5117             MOV.L   #_STOP_ERR_LATCH,R1     ;// BIT0:TIM BIT1:POS
14389 00002296 900B              5118             MOV.W   #BIT4,R0                ;
14390 00002298 2101              5119             MOV.W   R0,@R1                  ;BIT4:起動有り ELSE = 0
14391                            5120     
14392                            5121     
14393                            5122     ;       --2009-07-17 add[不具合対策 ﾌﾞﾚｰｷ角度ｵｰﾊﾞ3]---
14394                            5123             FAR_JSR #_LINK_CLANK_DIG_MAK,R0 ;2009-07-17
14395 0000229A D00F                   M           MOV.L   #_LINK_CLANK_DIG_MAK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14396 0000229C 400B                   M           JSR     @R0                     ;
14397 0000229E 0009                   M           NOP                                     ;
14398                            5124     
14399 000022A0 D10E              5125             MOV.L   #_LINK_CLANK_PV,R1      ;//0.1度
14400 000022A2 6011              5126             MOV.W   @R1,R0                  ;
14401 000022A4 D10E              5127             MOV.L   #_VALV_OFF_DIG_CLANK,R1 ;
14402 000022A6 2101              5128             MOV.W   R0,@R1                  ;
14403                            5129     
14404                            5130     ;       =========================
14405                            5131     
14406 000022A8                   5132     STOPPING_TIM_STOPINI_100:
14407                            5133     
14408                            5134             SUB_END
14409                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14410 000022A8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14411                            5135             M_RTS
14412 000022AA 000B                   M           RTS                             ;RTSの後ろの
14413 000022AC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14414                            5136     
14415                            5137     ;       ***********************************
14416                            5138     ;       ***                             ***
14417                            5139     ;       ***     (測定中)                ***
14418                            5140     ;       ***                             ***
14419                            5141     ;       ***********************************
14420                            5142     
14421                                     ***** BEGIN-POOL *****
14422 000022AE 0001                       DATA FOR SOURCE-LINE 5107
14423 000022B0 0010                       DATA FOR SOURCE-LINE 5118
14424 000022B2 0000                       ALIGNMENT CODE
14425 000022B4 00000000                   DATA FOR SOURCE-LINE 5083,5106
14426 000022B8 00000000                   DATA FOR SOURCE-LINE 5089
14427 000022BC 00000000                   DATA FOR SOURCE-LINE 5092
14428 000022C0 00000000                   DATA FOR SOURCE-LINE 5095
14429 000022C4 00000000                   DATA FOR SOURCE-LINE 5098
14430 000022C8 00000000                   DATA FOR SOURCE-LINE 5102
14431 000022CC 00000000                   DATA FOR SOURCE-LINE 5111
14432 000022D0 00000000                   DATA FOR SOURCE-LINE 5113
14433 000022D4 00000000                   DATA FOR SOURCE-LINE 5117
14434 000022D8 00000000                   DATA FOR SOURCE-LINE 5123
14435 000022DC 00000000                   DATA FOR SOURCE-LINE 5125
14436 000022E0 00000000                   DATA FOR SOURCE-LINE 5127
14437                                     ***** END-POOL *****
14438 000022E4                   5143     _STOPPING_TIM_CHK:
14439                            5144             SUB_START
14440 000022E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   150
PROGRAM NAME =

14441                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14442                            5145     
14443 000022E6 D104              5146             MOV.L   #_STOPPING_TIM_FLG,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0測定開始 BIT6:停止中
14444 000022E8 9004              5147             MOV.W   #BIT0,R0                ;
14445 000022EA 6011              5148             MOV.W   @R1,R0                  ;
14446 000022EC C840              5149             TST     #BIT6,R0                ;測定完了?
14447                            5150             TST_BIT_OF STOPPING_TIM_CK050   ;
14448 000022EE 8905                   M           BT      STOPPING_TIM_CK050
14449                            5151             M_BRA   STOPPING_TIM_CK900      ;完了
14450 000022F0 A065                   M           BRA     STOPPING_TIM_CK900
14451 000022F2 0009                   M           NOP
14452                            5152     
14453                                     ***** BEGIN-POOL *****
14454 000022F4 0001                       DATA FOR SOURCE-LINE 5147
14455 000022F6 0000                       ALIGNMENT CODE
14456 000022F8 00000000                   DATA FOR SOURCE-LINE 5146
14457                                     ***** END-POOL *****
14458 000022FC                   5153     STOPPING_TIM_CK050:                                                     ;
14459 000022FC C801              5154             TST     #BIT0,R0
14460                            5155             TST_BIT_ON STOPPING_TIM_CK080   ;
14461 000022FE 8B01                   M           BF      STOPPING_TIM_CK080
14462                            5156             M_BRA   STOPPING_TIM_CK900      ;未
14463 00002300 A05D                   M           BRA     STOPPING_TIM_CK900
14464 00002302 0009                   M           NOP
14465 00002304                   5157     STOPPING_TIM_CK080
14466                            5158     
14467                            5159     
14468 00002304 D114              5160             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ測定
14469 00002306 6211              5161             MOV.W   @R1,R2                  ;
14470 00002308 7201              5162             ADD     #1,R2                   ;
14471 0000230A 2121              5163             MOV.W   R2,@R1                  ;
14472                            5164     
14473 0000230C D013              5165             MOV.L   #_LINK_PV_ABSPLS,R0                     ;RL_OBJ->PV20060919
14474 0000230E 6106              5166             MOV.L   @R0+,R1                                                 ;
14475 00002310 6202              5167             MOV.L   @R0,R2                                                  ;(制御目標値/今は
                                          実測だけど)
14476                            5168     
14477 00002312 D013              5169             MOV.L   #_STOPPING_VLVOFF_POS,R0                ;//停止処理開始時点の位置
14478 00002314 6306              5170             MOV.L   @R0+,R3                                 ;
14479 00002316 6402              5171             MOV.L   @R0,R4                                  ;
14480                            5172     
14481 00002318 D012              5173             MOV.L   #_STOPPING_STOP_POS,R0                  ;
14482 0000231A 6502              5174             MOV.L   @R0,R5                                  ;
14483 0000231C 2012              5175             MOV.L   R1,@R0                                  ;
14484 0000231E 5601              5176             MOV.L   @(4,R0),R6                              ;
14485 00002320 1021              5177             MOV.L   R2,@(4,R0)                              ;
14486                            5178     
14487                            5179             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R3,DT_ANS_REGL=R4       ;ﾊﾞﾙﾌﾞOFF開始−今
                                          回
14488 00002322 0008                   M           CLRT
14489 00002324 342A                   M           SUBC    R2,R4
14490 00002326 331A                   M           SUBC    R1,R3
14491                            5180             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6       ;前回−今回
14492 00002328 0008                   M           CLRT
14493 0000232A 362A                   M           SUBC    R2,R6
14494 0000232C 351A                   M           SUBC    R1,R5
14495                            5181     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   151
PROGRAM NAME =

14496                            5182     
14497                            5183     ;ﾊﾞﾙﾌﾞOFF位置+/-10ﾊﾟﾙｽの範囲では停止中と判断する[2011-08-29]
14498 0000232E 6043              5184             MOV     R4,R0                                   ;
14499 00002330 4011              5185             CMP/PZ  R0                                      ;
14500 00002332 8900              5186             BT      STOPPING_TIM_CK100                      ;
14501 00002334 600B              5187             NEG     R0,R0                                   ;
14502 00002336                   5188     STOPPING_TIM_CK100:                                     ;
14503 00002336 910D              5189             MOV.W   #D'10,R1                                ;
14504 00002338 3102              5190             CMP/HS  R0,R1                                   ;
14505 0000233A 8903              5191             BT      STOPPING_TIM_CK120                      ;
14506                            5192     ;       -------------------------------------------------------
14507                            5193     
14508                            5194     
14509 0000233C 6063              5195             MOV     R6,R0                   ;
14510 0000233E 205B              5196             OR      R5,R0                   ;
14511 00002340 2008              5197             TST     R0,R0                   ;
14512                            5198             TST_BIT_ON STOPPING_TIM_CK400   ;
14513 00002342 8B27                   M           BF      STOPPING_TIM_CK400
14514 00002344                   5199     STOPPING_TIM_CK120:
14515                            5200     ;       ===== 停止状態() =====
14516 00002344 D408              5201             MOV.L   #_STOPPING_STOP_TIM,R4                                  ;//停止を測定する
                                          タイマ
14517 00002346 6041              5202             MOV.W   @R4,R0                                                  ;
14518 00002348 2008              5203             TST     R0,R0                                                   ;
14519                            5204             TST_BIT_OF STOPPING_TIM_CK200                                   ;
14520 0000234A 890F                   M           BT      STOPPING_TIM_CK200
14521 0000234C 70FF              5205             ADD     #-1,R0                                                  ;
14522 0000234E 2401              5206             MOV.W   R0,@R4                                                  ;
14523                            5207             M_BRA   STOPPING_TIM_CK900                                      ;
14524 00002350 A035                   M           BRA     STOPPING_TIM_CK900
14525 00002352 0009                   M           NOP
14526                            5208     ;       ====== ﾀｲﾑｱｯﾌﾟ停止=======
14527                                     ***** BEGIN-POOL *****
14528 00002354 000A                       DATA FOR SOURCE-LINE 5189
14529 00002356 0000                       ALIGNMENT CODE
14530 00002358 00000000                   DATA FOR SOURCE-LINE 5160
14531 0000235C 00000000                   DATA FOR SOURCE-LINE 5165
14532 00002360 00000000                   DATA FOR SOURCE-LINE 5169
14533 00002364 00000000                   DATA FOR SOURCE-LINE 5173
14534 00002368 00000000                   DATA FOR SOURCE-LINE 5201
14535                                     ***** END-POOL *****
14536 0000236C                   5209     STOPPING_TIM_CK200:
14537 0000236C D106              5210             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ測定
14538 0000236E 6211              5211             MOV.W   @R1,R2                  ;
14539                            5212     
14540                            5213     ;;;2010-08-20   MOV.W   #_SYS_STOPPING_TIM,R4   ;
14541 00002370 D106              5214             MOV.L   #_WPAR_STOPING_TIM,R1           ;//予備、ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ,ﾌﾞﾚｰｷﾀｲﾏ用時間(2010-0
                                          8-20以前は50ms固定)
14542 00002372 6411              5215             MOV.W   @R1,R4                          ;
14543                            5216     
14544 00002374 3248              5217             SUB     R4,R2                   ;
14545 00002376 4211              5218             CMP/PZ  R2                      ;
14546 00002378 8900              5219             BT      STOPPING_TIM_CK250      ;
14547 0000237A 222A              5220             XOR     R2,R2                   ;
14548 0000237C                   5221     STOPPING_TIM_CK250:                     ;
14549                            5222     
14550                            5223             FAR_JSR #_BRKTMCAL_API3_ENDCNF1,R0      ;2012-03-06
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   152
PROGRAM NAME =

14551 0000237C D004                   M           MOV.L   #_BRKTMCAL_API3_ENDCNF1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14552 0000237E 400B                   M           JSR     @R0                     ;
14553 00002380 0009                   M           NOP                                     ;
14554                            5224             M_BRA   STOPPING_TIM_CK600      ;
14555 00002382 A013                   M           BRA     STOPPING_TIM_CK600
14556 00002384 0009                   M           NOP
14557                            5225     
14558                            5226     ;       ==== 動作状態 ============
14559                                     ***** BEGIN-POOL *****
14560 00002386 0000                       ALIGNMENT CODE
14561 00002388 00000000                   DATA FOR SOURCE-LINE 5210
14562 0000238C 00000000                   DATA FOR SOURCE-LINE 5214
14563 00002390 00000000                   DATA FOR SOURCE-LINE 5223
14564                                     ***** END-POOL *****
14565 00002394                   5227     STOPPING_TIM_CK400:
14566                            5228     
14567                            5229     ;;;;2010-08-20  MOV.W   #_SYS_STOPPING_TIM,R0           ;
14568 00002394 D40D              5230             MOV.L   #_WPAR_STOPING_TIM,R4           ;//予備、ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ,ﾌﾞﾚｰｷﾀｲﾏ用時間(2010-0
                                          8-20以前は50ms固定)
14569 00002396 6041              5231             MOV.W   @R4,R0                          ;
14570                            5232     
14571 00002398 D40D              5233             MOV.L   #_STOPPING_STOP_TIM,R4          ;//停止を測定するタイマ
14572 0000239A 2401              5234             MOV.W   R0,@R4                          ;
14573                            5235     
14574 0000239C 235A              5236             XOR     R5,R3                           ;動作方向[[[[[[[[]]]]]]]]]]
14575 0000239E 4311              5237             CMP/PZ  R3                              ;
14576 000023A0 890D              5238             BT      STOPPING_TIM_CK900              ;同一方向NO 反転した
14577                            5239     
14578                            5240             FAR_JSR #_BRKTMCAL_API4_ENDCNF2,R0      ;2012-03-06
14579 000023A2 D00C                   M           MOV.L   #_BRKTMCAL_API4_ENDCNF2,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14580 000023A4 400B                   M           JSR     @R0                     ;
14581 000023A6 0009                   M           NOP                                     ;
14582                            5241     
14583                            5242     ;       ===== 反転停止 ======
14584 000023A8 D10B              5243             MOV.L   #_STOPPING_TIM_PV1,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ測定
14585 000023AA 6211              5244             MOV.W   @R1,R2                  ;
14586                            5245     
14587 000023AC                   5246     STOPPING_TIM_CK600:
14588 000023AC D10B              5247             MOV.L   #_STOPPING_TIM_PV2,R1   ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ
14589 000023AE 2121              5248             MOV.W   R2,@R1                  ;
14590                            5249     
14591 000023B0 D10B              5250             MOV.L   #_STOPPING_TIM_FLG,R1                           ;//ｽﾄｯﾋﾟﾝｸﾞﾀｲﾏ用ﾌﾗｸﾞ BIT0
                                          測定開始 BIT6:停止中
14592 000023B2 900A              5251             MOV.W   #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R0        ;
14593 000023B4 2101              5252             MOV.W   R0,@R1                                          ;BIT1~BIT5はその他の処理用
14594                            5253                                                                     ;BIT1:画面へ
14595                            5254     
14596                            5255     ;       ==== 2003-07-09 ========
14597 000023B6 D10B              5256             MOV.L   #_STOP_ERR_LATCH,R1     ;// BIT0:TIM BIT1:POS
14598 000023B8 6011              5257             MOV.W   @R1,R0                  ;
14599 000023BA CB20              5258             OR      #(BIT5),R0              ;
14600 000023BC 2101              5259             MOV.W   R0,@R1                  ;BIT5起動有り/完了有り
14601                            5260     ;       =========================
14602                            5261     
14603 000023BE                   5262     STOPPING_TIM_CK900:
14604                            5263     
14605                            5264             FAR_JSR #_STOP_ERR_CHK,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   153
PROGRAM NAME =

14606 000023BE D00A                   M           MOV.L   #_STOP_ERR_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14607 000023C0 400B                   M           JSR     @R0                     ;
14608 000023C2 0009                   M           NOP                                     ;
14609                            5265     
14610                            5266             SUB_END
14611                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14612 000023C4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14613                            5267             M_RTS
14614 000023C6 000B                   M           RTS                             ;RTSの後ろの
14615 000023C8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14616                            5268     
14617                            5269     
14618                            5270     ;//     *******************************************
14619                            5271     ;//     ***     2003-06-13                      ***
14620                            5272     ;//     ***     ニアゼロタイムアウトセット      ***
14621                            5273     ;//     *******************************************
14622                            5274             .EXPORT _SET_NZ_TIM_DAT
14623                            5275             .EXPORT _NZ_TIM_CHK1
14624                                     ***** BEGIN-POOL *****
14625 000023CA 007F                       DATA FOR SOURCE-LINE 5251
14626 000023CC 00000000                   DATA FOR SOURCE-LINE 5230
14627 000023D0 00000000                   DATA FOR SOURCE-LINE 5233
14628 000023D4 00000000                   DATA FOR SOURCE-LINE 5240
14629 000023D8 00000000                   DATA FOR SOURCE-LINE 5243
14630 000023DC 00000000                   DATA FOR SOURCE-LINE 5247
14631 000023E0 00000000                   DATA FOR SOURCE-LINE 5250
14632 000023E4 00000000                   DATA FOR SOURCE-LINE 5256
14633 000023E8 00000000                   DATA FOR SOURCE-LINE 5264
14634                                     ***** END-POOL *****
14635 000023EC                   5276     _SET_NZ_TIM_DAT
14636                            5277             SUB_START
14637 000023EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
14638                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14639 000023EE D109              5278             MOV.L   #_NZ_TIM_OUT_SV1,R1             ;運転中止(寸動部分)
14640 000023F0 6011              5279             MOV.W   @R1,R0                          ;
14641 000023F2 2008              5280             TST     R0,R0                           ;
14642                            5281             TST_BIT_ON SET_NZ_TIMDT_010             ;
14643 000023F4 8B00                   M           BF      SET_NZ_TIMDT_010
14644 000023F6 900B              5282             MOV.W   #H'7FFF,R0                      ;
14645 000023F8                   5283     SET_NZ_TIMDT_010
14646 000023F8 D107              5284             MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分)
14647 000023FA 2101              5285             MOV.W   R0,@R1                          ;
14648                            5286     
14649 000023FC D107              5287             MOV.L   #_NZ_TIM_OUT_SV2,R1             ;異常(機能は入れない)
14650 000023FE 6011              5288             MOV.W   @R1,R0                          ;
14651 00002400 2008              5289             TST     R0,R0                           ;
14652                            5290             TST_BIT_ON SET_NZ_TIMDT_020             ;
14653 00002402 8B00                   M           BF      SET_NZ_TIMDT_020
14654 00002404 9004              5291             MOV.W   #H'7FFF,R0                      ;
14655 00002406                   5292     SET_NZ_TIMDT_020                                ;
14656 00002406 D106              5293             MOV.L   #_NZ_TIM_OUT_PV2,R1             ;
14657 00002408 2101              5294             MOV.W   R0,@R1                          ;
14658                            5295     
14659                            5296             SUB_END
14660                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14661 0000240A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14662                            5297             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   154
PROGRAM NAME =

14663 0000240C 000B                   M           RTS                             ;RTSの後ろの
14664 0000240E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14665                            5298     
14666                            5299     ;//     *******************************************
14667                            5300     ;//     ***     2003-06-13                      ***
14668                            5301     ;//     ***     ニアゼロタイムアウト            ***
14669                            5302     ;//     *******************************************
14670                                     ***** BEGIN-POOL *****
14671 00002410 7FFF                       DATA FOR SOURCE-LINE 5282,5291
14672 00002412 0000                       ALIGNMENT CODE
14673 00002414 00000000                   DATA FOR SOURCE-LINE 5278
14674 00002418 00000000                   DATA FOR SOURCE-LINE 5284
14675 0000241C 00000000                   DATA FOR SOURCE-LINE 5287
14676 00002420 00000000                   DATA FOR SOURCE-LINE 5293
14677                                     ***** END-POOL *****
14678 00002424                   5303     _NZ_TIM_CHK1
14679                            5304             SUB_START
14680 00002424 4F22                   M           STS.L   PR,@-R15                ;[必要]
14681                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14682 00002426 D10B              5305             MOV.L   #_NZ_TIM_OUT_SV1,R1             ;運転中止(寸動部分)
14683 00002428 6011              5306             MOV.W   @R1,R0                          ;
14684 0000242A 2008              5307             TST     R0,R0                           ;
14685                            5308             TST_BIT_OF NZ_TIM_CK1_100               ;
14686 0000242C 8905                   M           BT      NZ_TIM_CK1_100
14687                            5309     
14688 0000242E D10A              5310             MOV.L   #_NZ_TIM_OUT_PV1,R1             ;運転中止(寸動部分)
14689 00002430 6011              5311             MOV.W   @R1,R0                          ;
14690 00002432 2008              5312             TST     R0,R0                           ;
14691                            5313             TST_BIT_OF NZ_TIM_CK1_100               ;
14692 00002434 8901                   M           BT      NZ_TIM_CK1_100
14693 00002436 70FF              5314             ADD     #-1,R0                          ;
14694 00002438 2101              5315             MOV.W   R0,@R1                          ;
14695 0000243A                   5316     NZ_TIM_CK1_100
14696                            5317     
14697 0000243A D108              5318             MOV.L   #_NZ_TIM_OUT_SV2,R1             ;運転中止(寸動部分)
14698 0000243C 6011              5319             MOV.W   @R1,R0                          ;
14699 0000243E 2008              5320             TST     R0,R0                           ;
14700                            5321             TST_BIT_OF NZ_TIM_CK1_200               ;
14701 00002440 8905                   M           BT      NZ_TIM_CK1_200
14702                            5322     
14703 00002442 D107              5323             MOV.L   #_NZ_TIM_OUT_PV2,R1             ;運転中止(寸動部分)
14704 00002444 6011              5324             MOV.W   @R1,R0                          ;
14705 00002446 2008              5325             TST     R0,R0                           ;
14706                            5326             TST_BIT_OF NZ_TIM_CK1_200               ;
14707 00002448 8901                   M           BT      NZ_TIM_CK1_200
14708 0000244A 70FF              5327             ADD     #-1,R0                          ;
14709 0000244C 2101              5328             MOV.W   R0,@R1                          ;
14710 0000244E                   5329     NZ_TIM_CK1_200
14711                            5330     
14712                            5331             SUB_END
14713                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14714 0000244E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14715                            5332             M_RTS
14716 00002450 000B                   M           RTS                             ;RTSの後ろの
14717 00002452 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14718                            5333     
14719                            5334     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   155
PROGRAM NAME =

14720                            5335     ;       ***                             ***
14721                            5336     ;       ***     2006-07-28              ***
14722                            5337     ;       ***                             ***
14723                            5338     ;       ***********************************
14724                            5339     ;       ANS R0=0 START // ELSE WAIT
14725                                     ***** BEGIN-POOL *****
14726 00002454 00000000                   DATA FOR SOURCE-LINE 5305
14727 00002458 00000000                   DATA FOR SOURCE-LINE 5310
14728 0000245C 00000000                   DATA FOR SOURCE-LINE 5318
14729 00002460 00000000                   DATA FOR SOURCE-LINE 5323
14730                                     ***** END-POOL *****
14731 00002464                   5340     _ORGIN_MODE_SEL_WAIT:
14732                            5341             SUB_START
14733 00002464 4F22                   M           STS.L   PR,@-R15                ;[必要]
14734                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14735 00002466 222A              5342             XOR     R2,R2
14736 00002468 D10A              5343             MOV.L   #_MODE_SEL,R1           ;
14737 0000246A 6011              5344             MOV.W   @R1,R0                  ;
14738 0000246C C840              5345             TST     #_W1DUP,R0              ;
14739                            5346             TST_BIT_OF ORGIN_MODE_SEL_WTEND ;
14740 0000246E 8921                   M           BT      ORGIN_MODE_SEL_WTEND
14741                            5347     
14742                            5348     
14743                            5349     ;_BRK_SADOU_CHG 2015-09-06
14744                            5350     ;2015-09-06;    ======= 2010-10-25 針の穴===
14745                            5351     ;2015-09-06     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;2010-10-26
14746                            5352     ;2015-09-06     MOV.W   @R1,R0                          ;MCでは準備完了は遅らせない
14747                            5353     ;2015-09-06     MOV.W   #BIT8,R4                        ;その代わりパルス出力を遅らせる0.2
                                          秒だから
14748                            5354     ;2015-09-06     TST     R4,R0
14749                            5355     ;2015-09-06     TST_BIT_OF ORGIN_MODE_SEL_WT030         ;off今まで通り
14750                            5356     ;2015-09-06
14751                            5357     ;2015-09-06     MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
14752                            5358     ;2015-09-06     MOV.W   @R1,R0                          ;
14753                            5359     ;2015-09-06     TST     R0,R0                           ;
14754                            5360     ;2015-09-06     TST_BIT_OF ORGIN_MODE_SEL_WT030         ;
14755                            5361     ;2015-09-06     MOV.W   #1,R2                           ;ﾀｲﾏではないがﾀｲﾏ代わりに入れる
14756                            5362     ;2015-09-06     M_BRA   ORGIN_MODE_SEL_WTEND            ;
14757                            5363     ;2015-09-06
14758                            5364     ;2015-09-06
14759                            5365     ;2015-09-06ORGIN_MODE_SEL_WT030:                                ;
14760                            5366     
14761                            5367     
14762                            5368     
14763                            5369     ;       === 2008-09-16 原点復帰方法ﾚﾍﾞﾙなら即起動===========
14764 00002470 D109              5370             MOV.L   #_PAR_ORGDRV_MOD,R1             ;原点復帰方法変更
14765 00002472 6011              5371             MOV.W   @R1,R0                          ;
14766 00002474 8801              5372             CMP/EQ  #1,R0                           ;ｴｯｼﾞ?
14767 00002476 8915              5373             BT      ORGIN_MODE_SEL_WT100            ;YES ｴｯｼﾞ
14768                            5374     
14769 00002478 233A              5375             XOR     R3,R3                           ;(ｻｰﾁ)
14770 0000247A D108              5376             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
14771 0000247C 6011              5377             MOV.W   @R1,R0                          ;
14772 0000247E 9407              5378             MOV.W   #BIT15,R4                       ;
14773 00002480 2048              5379             TST     R4,R0                           ;
14774                            5380             TST_BIT_OF ORGIN_MODE_SEL_WT090         ;
14775 00002482 8900                   M           BT      ORGIN_MODE_SEL_WT090
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   156
PROGRAM NAME =

14776 00002484 9305              5381             MOV.W   #1,R3                           ;待機点位置決め
14777 00002486                   5382     ORGIN_MODE_SEL_WT090:                           ;
14778 00002486 D106              5383             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14779 00002488 2131              5384             MOV.W   R3,@R1                          ;
14780 0000248A 222A              5385             XOR     R2,R2                           ;ﾚﾍﾞﾙ
14781                            5386             M_BRA   ORGIN_MODE_SEL_WTEND            ;
14782 0000248C A012                   M           BRA     ORGIN_MODE_SEL_WTEND
14783 0000248E 0009                   M           NOP
14784                            5387     ;       ====================================================
14785                            5388     
14786                            5389     
14787                                     ***** BEGIN-POOL *****
14788 00002490 8000                       DATA FOR SOURCE-LINE 5378
14789 00002492 0001                       DATA FOR SOURCE-LINE 5381
14790 00002494 00000000                   DATA FOR SOURCE-LINE 5343
14791 00002498 00000000                   DATA FOR SOURCE-LINE 5370
14792 0000249C 00000000                   DATA FOR SOURCE-LINE 5376
14793 000024A0 00000000                   DATA FOR SOURCE-LINE 5383
14794                                     ***** END-POOL *****
14795 000024A4                   5390     ORGIN_MODE_SEL_WT100:
14796 000024A4 D106              5391             MOV.L   #_WPAR_ORGMOD2_TIM,R1           ;
14797 000024A6 6211              5392             MOV.W   @R1,R2                          ;
14798 000024A8 2228              5393             TST     R2,R2                           ;
14799                            5394             TST_BIT_OF ORGIN_MODE_SEL_WTEND         ;
14800 000024AA 8903                   M           BT      ORGIN_MODE_SEL_WTEND
14801                            5395     
14802                            5396     
14803                            5397             MEM1_BIT0_TO_BIT7_ORSET MEM=_ORGIN_MOD2_START_FLG,LG=W,BIT=BIT0,WKREG=R1        ;
14804 000024AC D105                   M           MOV.L   #_ORGIN_MOD2_START_FLG,R1               ;
14805 000024AE 6011                   M           MOV.W   @R1,R0          ;
14806 000024B0 CB01                   M           OR      #BIT0,R0                ;
14807 000024B2 2101                   M           MOV.W   R0,@R1          ;
14808                            5398     
14809                            5399     
14810 000024B4                   5400     ORGIN_MODE_SEL_WTEND:
14811 000024B4 D104              5401             MOV.L   #_ORGIN_MOD2_CHKTIM,R1  ;
14812 000024B6 2121              5402             MOV.W   R2,@R1                  ;
14813 000024B8 6023              5403             MOV     R2,R0                   ;
14814                            5404     
14815                            5405             SUB_END
14816                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14817 000024BA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14818                            5406             M_RTS
14819 000024BC 000B                   M           RTS                             ;RTSの後ろの
14820 000024BE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14821                            5407     
14822                            5408             .EXPORT _ORGIN_MODE_FLG_CLR     ;
14823                                     ***** BEGIN-POOL *****
14824 000024C0 00000000                   DATA FOR SOURCE-LINE 5391
14825 000024C4 00000000                   DATA FOR SOURCE-LINE 5397
14826 000024C8 00000000                   DATA FOR SOURCE-LINE 5401
14827                                     ***** END-POOL *****
14828 000024CC                   5409     _ORGIN_MODE_FLG_CLR:
14829                            5410             SUB_START
14830 000024CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
14831                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14832 000024CE 200A              5411             XOR     R0,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   157
PROGRAM NAME =

14833 000024D0 D102              5412             MOV.L   #_ORGIN_MOD2_START_FLG,R1       ;
14834 000024D2 2101              5413             MOV.W   R0,@R1                          ;
14835                            5414             SUB_END
14836                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14837 000024D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14838                            5415             M_RTS
14839 000024D6 000B                   M           RTS                             ;RTSの後ろの
14840 000024D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14841                            5416     
14842                            5417     
14843                            5418     
14844                            5419     
14845                            5420     
14846                            5421     
14847                            5422     
14848                            5423     
14849                            5424     ;       ***********************************
14850                            5425     ;       ***                             ***
14851                            5426     ;       ***     2015-10-13              ***
14852                            5427     ;       ***                             ***
14853                            5428     ;       ***********************************
14854                            5429     ;       ANS R0=0 START // ELSE WAIT
14855                            5430     ;       レベルタイプのみ
14856                                     ***** BEGIN-POOL *****
14857 000024DA 0000                       ALIGNMENT CODE
14858 000024DC 00000000                   DATA FOR SOURCE-LINE 5412
14859                                     ***** END-POOL *****
14860 000024E0                   5431     _ORGIN_MODE_SEL_START:
14861                            5432             SUB_START
14862 000024E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
14863                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14864                            5433     
14865 000024E2 D109              5434             MOV.L   #_MODE_SEL,R1           ;
14866 000024E4 6011              5435             MOV.W   @R1,R0                  ;
14867 000024E6 C840              5436             TST     #_W1DUP,R0              ;
14868                            5437             TST_BIT_OF ORGIN_MODE_SEL_STEND ;
14869 000024E8 8908                   M           BT      ORGIN_MODE_SEL_STEND
14870                            5438     
14871 000024EA 233A              5439             XOR     R3,R3                           ;(ｻｰﾁ)
14872 000024EC D107              5440             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
14873 000024EE 6011              5441             MOV.W   @R1,R0                          ;
14874 000024F0 9407              5442             MOV.W   #BIT15,R4                       ;
14875 000024F2 2048              5443             TST     R4,R0                           ;
14876                            5444             TST_BIT_OF ORGIN_MODE_SEL_ST090         ;
14877 000024F4 8900                   M           BT      ORGIN_MODE_SEL_ST090
14878 000024F6 9305              5445             MOV.W   #1,R3                           ;待機点位置決め
14879 000024F8                   5446     ORGIN_MODE_SEL_ST090:                           ;
14880 000024F8 D105              5447             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14881 000024FA 2131              5448             MOV.W   R3,@R1                          ;
14882 000024FC                   5449     ORGIN_MODE_SEL_STEND:
14883                            5450     
14884                            5451             SUB_END
14885                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14886 000024FC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14887                            5452             M_RTS
14888 000024FE 000B                   M           RTS                             ;RTSの後ろの
14889 00002500 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   158
PROGRAM NAME =

14890                            5453     
14891                            5454     
14892                            5455     
14893                            5456     ;       ***********************************
14894                            5457     ;       ***                             ***
14895                            5458     ;       ***     2006-07-28              ***
14896                            5459     ;       ***     ﾓｰﾄﾞ判定・起動          ***
14897                            5460     ;       ***********************************
14898                            5461     ;       00:EXIT
14899                            5462     ;       55:起動
14900                            5463     ;       FF:WAIT
14901                                     ***** BEGIN-POOL *****
14902 00002502 8000                       DATA FOR SOURCE-LINE 5442
14903 00002504 0001                       DATA FOR SOURCE-LINE 5445
14904 00002506 0000                       ALIGNMENT CODE
14905 00002508 00000000                   DATA FOR SOURCE-LINE 5434
14906 0000250C 00000000                   DATA FOR SOURCE-LINE 5440
14907 00002510 00000000                   DATA FOR SOURCE-LINE 5447
14908                                     ***** END-POOL *****
14909 00002514                   5464     _ORGIN_MODE_START_WAIT:
14910                            5465             SUB_START
14911 00002514 4F22                   M           STS.L   PR,@-R15                ;[必要]
14912                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14913 00002516 D10C              5466             MOV.L   #_MODE_SEL,R1           ;
14914 00002518 6011              5467             MOV.W   @R1,R0                  ;
14915 0000251A C840              5468             TST     #_W1DUP,R0              ;
14916                            5469             TST_BIT_OF ORGIN_MODE_ST_WT_NOT ;
14917 0000251C 892C                   M           BT      ORGIN_MODE_ST_WT_NOT
14918                            5470     
14919 0000251E D10B              5471             MOV.L   #_ORGIN_MOD2_START_FLG,R1       ;
14920 00002520 6011              5472             MOV.W   @R1,R0                          ;
14921 00002522 2008              5473             TST     R0,R0                           ;
14922                            5474             TST_BIT_OF ORGIN_MODE_ST_WT_NOT         ;
14923 00002524 8928                   M           BT      ORGIN_MODE_ST_WT_NOT
14924                            5475     
14925 00002526 D10A              5476             MOV.L   #_ORGIN_MOD2_CHKTIM,R1  ;//2.0sec
14926 00002528 6211              5477             MOV.W   @R1,R2                  ;
14927 0000252A 2228              5478             TST     R2,R2                   ;
14928                            5479             TST_BIT_OF ORGIN_MODE_ST_WT100  ;TIME UP 2.0
14929 0000252C 8916                   M           BT      ORGIN_MODE_ST_WT100
14930 0000252E 72FF              5480             ADD     #-1,R2
14931 00002530 2121              5481             MOV.W   R2,@R1
14932                            5482     
14933 00002532 D108              5483             MOV.L   #_BTTN_FLG,R1                   ;
14934 00002534 6011              5484             MOV.W   @R1,R0                          ;
14935 00002536 C804              5485             TST     #BIT2,R0                        ;両手ON
14936                            5486             TST_BIT_ON ORGIN_MODE_ST_WT_WAIT        ;YES
14937 00002538 8B1B                   M           BF      ORGIN_MODE_ST_WT_WAIT
14938                            5487     
14939 0000253A 9003              5488             MOV.W   #1,R0                           ;ﾁｮﾝ押し
14940 0000253C D106              5489             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14941 0000253E 2101              5490             MOV.W   R0,@R1                          ;
14942                            5491             M_BRA   ORGIN_MODE_ST_WT_START          ;
14943 00002540 A014                   M           BRA     ORGIN_MODE_ST_WT_START
14944 00002542 0009                   M           NOP
14945                            5492     
14946                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   159
PROGRAM NAME =

14947 00002544 0001                       DATA FOR SOURCE-LINE 5488
14948 00002546 0000                       ALIGNMENT CODE
14949 00002548 00000000                   DATA FOR SOURCE-LINE 5466
14950 0000254C 00000000                   DATA FOR SOURCE-LINE 5471
14951 00002550 00000000                   DATA FOR SOURCE-LINE 5476
14952 00002554 00000000                   DATA FOR SOURCE-LINE 5483
14953 00002558 00000000                   DATA FOR SOURCE-LINE 5489
14954                                     ***** END-POOL *****
14955 0000255C                   5493     ORGIN_MODE_ST_WT100                             ;
14956 0000255C 200A              5494             XOR     R0,R0                           ;長い押し
14957 0000255E D102              5495             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
14958 00002560 2101              5496             MOV.W   R0,@R1                          ;
14959                            5497             M_BRA   ORGIN_MODE_ST_WT_START          ;
14960 00002562 A003                   M           BRA     ORGIN_MODE_ST_WT_START
14961 00002564 0009                   M           NOP
14962                            5498     
14963                            5499     
14964                                     ***** BEGIN-POOL *****
14965 00002566 0000                       ALIGNMENT CODE
14966 00002568 00000000                   DATA FOR SOURCE-LINE 5495
14967                                     ***** END-POOL *****
14968 0000256C                   5500     ORGIN_MODE_ST_WT_START          ;
14969 0000256C E055              5501             MOV.B   #H'55,R0                ;
14970                            5502             M_BRA   ORGIN_MODE_ST_WTEND     ;
14971 0000256E A004                   M           BRA     ORGIN_MODE_ST_WTEND
14972 00002570 0009                   M           NOP
14973 00002572                   5503     ORGIN_MODE_ST_WT_WAIT           ;
14974 00002572 E0FF              5504             MOV.B   #-1,R0
14975                            5505             M_BRA   ORGIN_MODE_ST_WTEND     ;
14976 00002574 A001                   M           BRA     ORGIN_MODE_ST_WTEND
14977 00002576 0009                   M           NOP
14978                            5506     
14979 00002578                   5507     ORGIN_MODE_ST_WT_NOT    ;
14980 00002578 200A              5508             XOR     R0,R0
14981 0000257A                   5509     ORGIN_MODE_ST_WTEND     ;
14982                            5510             SUB_END
14983                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14984 0000257A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14985                            5511             M_RTS
14986 0000257C 000B                   M           RTS                             ;RTSの後ろの
14987 0000257E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14988                            5512     
14989                            5513     ;       *******************************************
14990                            5514     ;       ***                                     ***
14991                            5515     ;       ***     通信側にも処理がある            ***
14992                            5516     ;       ***                                     ***
14993                            5517     ;       *******************************************
14994                            5518             .IMPORT         _RENEA_ERR_RESET_INI
14995                            5519             .IMPORT         _LT_RNA_REF_ERR_FLG1    ;BIT4/BIT6(ﾘﾆｻｾﾝｻ側のﾊｰﾄﾞ異常)
14996                            5520     
14997                            5521      .AIF   0 EQ    0       ;
14998                            5522 C           .IMPORT         _API_X_PRO_SEND_START2  ;
14999                            5523      .AENDI
15000                            5524     
15001 00002580                   5525     _RNA_SCIF_ERR_CLR1:
15002                            5526             SUB_START
15003 00002580 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   160
PROGRAM NAME =

15004                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15005                            5527             .AIF    0 EQ    0               ;
15006                            5528 C           .IMPORT _IN_RNA_REF_ERR_FLG1
15007                            5529 C           .IMPORT _IN_RNA_REF_ERR_FLG2
15008                            5530 C   
15009 00002582 D103              5531 C           MOV.L   #_LT_RNA_REF_ERR_FLG1,R1                ;BIT4/BIT6(ﾘﾆｻｾﾝｻ側のﾊｰﾄﾞ異常)
15010 00002584 6011              5532 C           MOV.W   @R1,R0                                  ;
15011 00002586 C850              5533 C           TST     #(BIT6+BIT4),R0                         ;ﾘﾆｱ異常
15012                            5534 C           TST_BIT_ON RNA_SCIF_ERRCLR1_050                 ;
15013 00002588 8B04                   M           BF      RNA_SCIF_ERRCLR1_050
15014                            5535 C   
15015                            5536 C   ;;;[温度ﾃｽﾄ用でﾘｾｯﾄ毎に読出たい時用]
15016                            5537 C   ;;; .AIF        0 EQ    0       ;
15017                            5538 C   ;;;     FAR_JSR #_API_X_PRO_SEND_START2,R0              ;2015-10-15
15018                            5539 C   ;;; .AENDI
15019                            5540 C   
15020                            5541 C           M_BRA   RNA_SCIF_ERRCLR1_100                    ;
15021 0000258A A00F                   M           BRA     RNA_SCIF_ERRCLR1_100
15022 0000258C 0009                   M           NOP
15023                            5542 C   
15024                                 C   ***** BEGIN-POOL *****
15025 0000258E 0000                   C   ALIGNMENT CODE
15026 00002590 00000000               C   DATA FOR SOURCE-LINE 5531
15027                                 C   ***** END-POOL *****
15028 00002594                   5543 C   RNA_SCIF_ERRCLR1_050:
15029                            5544 C           FAR_JSR #_RNA_SCIF_ERR_CLR2,R0                  ;
15030 00002594 D003                   M           MOV.L   #_RNA_SCIF_ERR_CLR2,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15031 00002596 400B                   M           JSR     @R0                     ;
15032 00002598 0009                   M           NOP                                     ;
15033                            5545 C           FAR_JSR #_RENEA_ERR_RESET_INI,R0                ;
15034 0000259A D003                   M           MOV.L   #_RENEA_ERR_RESET_INI,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15035 0000259C 400B                   M           JSR     @R0                     ;
15036 0000259E 0009                   M           NOP                                     ;
15037                            5546 C           M_BRA   RNA_SCIF_ERRCLR1_200                    ;
15038 000025A0 A007                   M           BRA     RNA_SCIF_ERRCLR1_200
15039 000025A2 0009                   M           NOP
15040                            5547 C   
15041                                 C   ***** BEGIN-POOL *****
15042 000025A4 00000000               C   DATA FOR SOURCE-LINE 5544
15043 000025A8 00000000               C   DATA FOR SOURCE-LINE 5545
15044                                 C   ***** END-POOL *****
15045 000025AC                   5548 C   RNA_SCIF_ERRCLR1_100:
15046                            5549 C   
15047                            5550 C           FAR_JSR #_RNA_SCIF_ERR_CLR2,R0
15048 000025AC D002                   M           MOV.L   #_RNA_SCIF_ERR_CLR2,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15049 000025AE 400B                   M           JSR     @R0                     ;
15050 000025B0 0009                   M           NOP                                     ;
15051                            5551 C   
15052 000025B2                   5552 C   RNA_SCIF_ERRCLR1_200:
15053                            5553 C   
15054                            5554             .AENDI
15055                            5555             SUB_END
15056                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15057 000025B2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15058                            5556             M_RTS
15059 000025B4 000B                   M           RTS                             ;RTSの後ろの
15060 000025B6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   161
PROGRAM NAME =

15061                            5557     
15062                            5558             .EXPORT _CLRSQ206_BIT11
15063                            5559             .EXPORT _SETSQ206_BIT11
15064                            5560     
15065                                     ***** BEGIN-POOL *****
15066 000025B8 00000000                   DATA FOR SOURCE-LINE 5550
15067                                     ***** END-POOL *****
15068 000025BC                   5561     _CLRSQ206_BIT11:
15069                            5562             SUB_START
15070 000025BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
15071                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15072                            5563             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT11),WKRG1=R1,WKRG2=R
                                          4       ;
15073 000025BE D104                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
15074 000025C0 6011                   M           MOV.W   @R1,R0          ;
15075 000025C2 9404                   M           MOV.W   #LWORD (~BIT11),R4      ;
15076 000025C4 2049                   M           AND     R4,R0           ;
15077 000025C6 2101                   M           MOV.W   R0,@R1          ;
15078                            5564             SUB_END
15079                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15080 000025C8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15081                            5565             M_RTS
15082 000025CA 000B                   M           RTS                             ;RTSの後ろの
15083 000025CC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15084                            5566     
15085                                     ***** BEGIN-POOL *****
15086 000025CE F7FF                       DATA FOR SOURCE-LINE 5563
15087 000025D0 00000000                   DATA FOR SOURCE-LINE 5563
15088                                     ***** END-POOL *****
15089 000025D4                   5567     _SETSQ206_BIT11:
15090                            5568             SUB_START
15091 000025D4 4F22                   M           STS.L   PR,@-R15                ;[必要]
15092                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15093                            5569             MEM1_BIT0_F_ORSET MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(BIT11),WKRG1=R1,WKRG2=R4
                                                  ;
15094 000025D6 D104                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
15095 000025D8 6011                   M           MOV.W   @R1,R0          ;
15096 000025DA 9404                   M           MOV.W   #(BIT11),R4             ;
15097 000025DC 204B                   M           OR      R4,R0           ;
15098 000025DE 2101                   M           MOV.W   R0,@R1          ;
15099                            5570             SUB_END
15100                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15101 000025E0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15102                            5571             M_RTS
15103 000025E2 000B                   M           RTS                             ;RTSの後ろの
15104 000025E4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15105                            5572     
15106                            5573     
15107                            5574     
15108                            5575     
15109                            5576     ;       ---------------------------
15110                            5577     ;       ---     2007-01-16      ---
15111                            5578     ;       ---------------------------
15112                            5579     ;       ﾚﾍﾞﾙﾀｲﾌﾟのみ対象
15113                            5580     ;
15114                                     ***** BEGIN-POOL *****
15115 000025E6 0800                       DATA FOR SOURCE-LINE 5569
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   162
PROGRAM NAME =

15116 000025E8 00000000                   DATA FOR SOURCE-LINE 5569
15117                                     ***** END-POOL *****
15118 000025EC                   5581     _DRV_START_KEP_WAIT
15119                            5582             SUB_START
15120 000025EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
15121                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15122                            5583     
15123                            5584     
15124                            5585     ;_BRK_SADOU_CHG 2015-09-06
15125                            5586     ;;;2015-09-06   MOV.L   #_MODE_SEL,R1                   ;
15126                            5587     ;;;2015-09-06   MOV.W   @R1,R0                          ;
15127                            5588     ;;;2015-09-06   TST     #_W1DUP,R0                      ;
15128                            5589     ;;;2015-09-06   TST_BIT_ON DRV_START_KEP_WAIT_NON       ;原点復帰は対象外
15129                            5590     
15130 000025EE D109              5591             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
15131 000025F0 6011              5592             MOV.W   @R1,R0                          ;
15132 000025F2 2008              5593             TST     R0,R0
15133                            5594             TST_BIT_ON DRV_START_KEP_WAIT_NON       ;手パルサも対象外
15134 000025F4 8B1C                   M           BF      DRV_START_KEP_WAIT_NON
15135                            5595     
15136 000025F6 D108              5596             MOV.L   #_DRV_START_KEEP,R1             ;FLG
15137 000025F8 6011              5597             MOV.W   @R1,R0                          ;
15138 000025FA C801              5598             TST     #BIT0,R0                        ;
15139                            5599             TST_BIT_ON DRV_START_KEP_WAIT_100       ;
15140 000025FC 8B10                   M           BF      DRV_START_KEP_WAIT_100
15141                            5600     
15142                            5601     ;       --- OFF---
15143 000025FE D107              5602             MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
15144 00002600 6011              5603             MOV.W   @R1,R0                          ;
15145 00002602 2008              5604             TST     R0,R0                           ;
15146                            5605             TST_BIT_OF DRV_START_KEP_WAIT_100
15147 00002604 890C                   M           BT      DRV_START_KEP_WAIT_100
15148                            5606     
15149 00002606 9003              5607             MOV.W   #BIT0,R0                        ;
15150 00002608 D103              5608             MOV.L   #_DRV_START_KEEP,R1             ;FLG
15151 0000260A 2101              5609             MOV.W   R0,@R1                          ;
15152                            5610             M_BRA   DRV_START_KEP_WAIT_USE          ;
15153 0000260C A013                   M           BRA     DRV_START_KEP_WAIT_USE
15154 0000260E 0009                   M           NOP
15155                            5611     
15156                                     ***** BEGIN-POOL *****
15157 00002610 0001                       DATA FOR SOURCE-LINE 5607
15158 00002612 0000                       ALIGNMENT CODE
15159 00002614 00000000                   DATA FOR SOURCE-LINE 5591
15160 00002618 00000000                   DATA FOR SOURCE-LINE 5596,5608
15161 0000261C 00000000                   DATA FOR SOURCE-LINE 5602
15162                                     ***** END-POOL *****
15163 00002620                   5612     DRV_START_KEP_WAIT_100
15164 00002620 D102              5613             MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;「「「「ﾛｯｸ解除の遅延時間中?」」」
15165 00002622 6011              5614             MOV.W   @R1,R0                          ;
15166 00002624 2008              5615             TST     R0,R0                           ;
15167                            5616             TST_BIT_ON DRV_START_KEP_WAIT_USE       ;
15168 00002626 8B06                   M           BF      DRV_START_KEP_WAIT_USE
15169                            5617     ;       -- 起動--
15170                            5618             M_BRA   DRV_START_KEP_WAIT_START
15171 00002628 A009                   M           BRA     DRV_START_KEP_WAIT_START
15172 0000262A 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   163
PROGRAM NAME =

15173                            5619     
15174                            5620     
15175                                     ***** BEGIN-POOL *****
15176 0000262C 00000000                   DATA FOR SOURCE-LINE 5613
15177                                     ***** END-POOL *****
15178 00002630                   5621     DRV_START_KEP_WAIT_NON
15179 00002630 200A              5622             XOR     R0,R0                   ;
15180                            5623             M_BRA   DRV_START_KEP_WAIT_END  ;
15181 00002632 A008                   M           BRA     DRV_START_KEP_WAIT_END
15182 00002634 0009                   M           NOP
15183 00002636                   5624     DRV_START_KEP_WAIT_USE
15184 00002636 9001              5625             MOV.W   #1,R0
15185                            5626             M_BRA   DRV_START_KEP_WAIT_END
15186 00002638 A005                   M           BRA     DRV_START_KEP_WAIT_END
15187 0000263A 0009                   M           NOP
15188                            5627     
15189                                     ***** BEGIN-POOL *****
15190 0000263C 0001                       DATA FOR SOURCE-LINE 5625
15191                                     ***** END-POOL *****
15192 0000263E                   5628     DRV_START_KEP_WAIT_START
15193 0000263E 200A              5629             XOR     R0,R0                           ;
15194 00002640 D103              5630             MOV.L   #_DRV_START_KEEP,R1             ;FLG-CLR
15195 00002642 2101              5631             MOV.W   R0,@R1                          ;
15196 00002644 9002              5632             MOV.W   #H'55,R0                        ;
15197 00002646                   5633     DRV_START_KEP_WAIT_END
15198                            5634             SUB_END
15199                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15200 00002646 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15201                            5635             M_RTS
15202 00002648 000B                   M           RTS                             ;RTSの後ろの
15203 0000264A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15204                            5636     
15205                            5637     ;;      ---------------------------
15206                            5638     ;;      ---     2007-01-16      ---
15207                            5639     ;;      ---------------------------
15208                            5640     ;;_DRV_START_KEP_WAIT
15209                            5641     ;;      SUB_START
15210                            5642     ;;
15211                            5643     ;;      -------- [MC 2010-10-26　追加 MC機構のﾌﾞﾚｰｷ対応　1/2]
15212                            5644     ;;      MOV.L   #_CB_SEQ_CB_SEL341,R1           ;2010-10-26
15213                            5645     ;;      MOV.W   @R1,R0                          ;MCでは準備完了は遅らせない
15214                            5646     ;;      MOV.W   #BIT8,R4                        ;その代わりパルス出力を遅らせる0.2秒だから
15215                            5647     ;;      TST     R4,R0
15216                            5648     ;;      TST_BIT_ON DRV_START_KEP_WAIT_050       ;原点復帰でもﾊﾟﾙｽ出力を遅らせる
15217                            5649     ;;
15218                            5650     ;;      MOV.L   #_MODE_SEL,R1                   ;
15219                            5651     ;;      MOV.W   @R1,R0                          ;
15220                            5652     ;;      TST     #_W1DUP,R0                      ;
15221                            5653     ;;      TST_BIT_ON DRV_START_KEP_WAIT_NON       ;原点復帰は対象外
15222                            5654     ;;
15223                            5655     ;;      MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
15224                            5656     ;;      MOV.W   @R1,R0                          ;
15225                            5657     ;;      TST     R0,R0
15226                            5658     ;;      TST_BIT_ON DRV_START_KEP_WAIT_NON       ;手パルサも対象外
15227                            5659     ;;
15228                            5660     ;;DRV_START_KEP_WAIT_050
15229                            5661     ;;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   164
PROGRAM NAME =

15230                            5662     ;;
15231                            5663     ;;      MOV.L   #_DRV_START_KEEP,R1             ;FLG
15232                            5664     ;;      MOV.W   @R1,R0                          ;
15233                            5665     ;;      TST     #BIT0,R0                        ;
15234                            5666     ;;      TST_BIT_ON DRV_START_KEP_WAIT_100       ;
15235                            5667     ;;
15236                            5668     ;;      --- OFF---
15237                            5669     ;;      MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
15238                            5670     ;;      MOV.W   @R1,R0                          ;
15239                            5671     ;;      TST     R0,R0                           ;
15240                            5672     ;;      TST_BIT_OF DRV_START_KEP_WAIT_100
15241                            5673     ;;
15242                            5674     ;;      MOV.W   #BIT0,R0                        ;
15243                            5675     ;;      MOV.L   #_DRV_START_KEEP,R1             ;FLG
15244                            5676     ;;      MOV.W   R0,@R1                          ;
15245                            5677     ;;      M_BRA   DRV_START_KEP_WAIT_USE          ;
15246                            5678     ;;
15247                            5679     ;;DRV_START_KEP_WAIT_100
15248                            5680     ;;      MOV.L   #_RDY_SFTY_WAIT_TIM,R1          ;ﾛｯｸ解除の遅延時間中?
15249                            5681     ;;      MOV.W   @R1,R0                          ;
15250                            5682     ;;      TST     R0,R0                           ;
15251                            5683     ;;      TST_BIT_ON DRV_START_KEP_WAIT_USE       ;
15252                            5684     ;;      -- 起動--
15253                            5685     ;;      M_BRA   DRV_START_KEP_WAIT_START
15254                            5686     ;;
15255                            5687     ;;
15256                            5688     ;;DRV_START_KEP_WAIT_NON
15257                            5689     ;;      XOR     R0,R0                   ;
15258                            5690     ;;      M_BRA   DRV_START_KEP_WAIT_END  ;
15259                            5691     ;;DRV_START_KEP_WAIT_USE
15260                            5692     ;;      MOV.W   #1,R0
15261                            5693     ;;      M_BRA   DRV_START_KEP_WAIT_END
15262                            5694     ;;
15263                            5695     ;;DRV_START_KEP_WAIT_START
15264                            5696     ;;      XOR     R0,R0                           ;
15265                            5697     ;;      MOV.L   #_DRV_START_KEEP,R1             ;FLG-CLR
15266                            5698     ;;      MOV.W   R0,@R1                          ;
15267                            5699     ;;      MOV.W   #H'55,R0                        ;
15268                            5700     ;;DRV_START_KEP_WAIT_END
15269                            5701     ;;      SUB_END
15270                            5702     ;;      M_RTS
15271                            5703     
15272                            5704     
15273                            5705     ;       ---------------------------
15274                            5706     ;       ---     2007-01-16      ---
15275                            5707     ;       ---------------------------
15276                                     ***** BEGIN-POOL *****
15277 0000264C 0055                       DATA FOR SOURCE-LINE 5632
15278 0000264E 0000                       ALIGNMENT CODE
15279 00002650 00000000                   DATA FOR SOURCE-LINE 5630
15280                                     ***** END-POOL *****
15281 00002654                   5708     _START_SFTY_LOCK_CLR
15282                            5709             SUB_START
15283 00002654 4F22                   M           STS.L   PR,@-R15                ;[必要]
15284                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15285 00002656 200A              5710             XOR     R0,R0
15286                            5711     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   165
PROGRAM NAME =

15287 00002658 D103              5712             MOV.L   #_RDY_SFTY_WAIT_TIM,R1  ;ﾛｯｸ釈放の遅延時間
15288 0000265A 2101              5713             MOV.W   R0,@R1                  ;
15289                            5714     
15290                            5715     ;_BRK_SADOU_CHG 2015-09-06
15291                            5716     ;;;2015-09-06廃止       MOV.L   #_SFTY_LOCK_DLYTM,R1    ;位置決め完了の遅延時間
15292                            5717     ;;;2015-09-06廃止       MOV.W   R0,@R1                  ;
15293                            5718     
15294                            5719     ;;;2015-09-06廃止       MOV.L   #_RDY_SFTY_LOCK,R1      ;FLG
15295                            5720     ;;;2015-09-06廃止       MOV.W   R0,@R1                  ;
15296                            5721     
15297 0000265C D103              5722             MOV.L   #_DRV_START_KEEP,R1     ;FLG
15298 0000265E 2101              5723             MOV.W   R0,@R1                  ;
15299                            5724     
15300                            5725             SUB_END
15301                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15302 00002660 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15303                            5726             M_RTS
15304 00002662 000B                   M           RTS                             ;RTSの後ろの
15305 00002664 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15306                            5727     
15307                            5728     
15308                            5729     
15309                            5730     ;       ***********************************
15310                            5731     ;       ***                             ***
15311                            5732     ;       ***     2007-02-05              ***
15312                            5733     ;       ***     運転完了、中断時        ***
15313                            5734     ;       ***     遮光遅延を働かせる      ***
15314                            5735     ;       ***                             ***
15315                            5736     ;       ***********************************
15316                            5737     ;2015-09-06_BRK_SADOU_CHG EQ 1
15317                            5738     ;;廃止_SFTY_DLY_SET1                            ;安一専用
15318                            5739     ;;廃止  SUB_START
15319                            5740     ;;廃止  MOV.L   #_PAR_SELF_WAIT_TM,R1   ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの時間
15320                            5741     ;;廃止  MOV.W   @R1,R0                  ;
15321                            5742     ;;廃止
15322                            5743     ;;廃止  MOV.L   #_PAR_SLOCK_DLY2,R1     ;
15323                            5744     ;;廃止  MOV.W   @R1,R1                  ;
15324                            5745     ;;廃止  ADD     R1,R0                   ;
15325                            5746     ;;廃止
15326                            5747     ;;廃止  MOV.L   #_SFTY_LOCK_DLYTM,R1    ;
15327                            5748     ;;廃止  MOV.W   R0,@R1                  ;(上昇ﾎｰﾙﾄﾞ無効)
15328                            5749     ;;廃止  SUB_END
15329                            5750     ;;廃止  M_RTS
15330                            5751     ;;廃止
15331                            5752     ;;廃止_SFTY_DLY_SET2
15332                            5753     ;;廃止  SUB_START
15333                            5754     ;;廃止  MOV.L   #_PAR_SELF_WAIT_TM,R1   ;ｾﾙﾌﾁｪｯｸまたは停止後ﾌﾞﾚｰｷを作動するまでの時間
15334                            5755     ;;廃止  MOV.W   @R1,R0                  ;
15335                            5756     ;;廃止  MOV.L   #_SFTY_LOCK_DLYTM,R1    ;
15336                            5757     ;;廃止  MOV.W   R0,@R1                  ;
15337                            5758     ;;廃止  SUB_END
15338                            5759     ;;廃止  M_RTS
15339                            5760     ;;廃止; ------このNOP4がないと変になる2007-02-26-----------
15340                            5761     ;;廃止  NOP
15341                            5762     ;;廃止  NOP
15342                            5763     ;;廃止  NOP
15343                            5764     ;;廃止  NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   166
PROGRAM NAME =

15344                            5765     
15345                            5766     ;       *******************************************
15346                            5767     ;       ***                                     ***
15347                            5768     ;       ***     ORGIN DIRECT CHECK              ***
15348                            5769     ;       ***     2008-04-28　180度近辺           ***
15349                            5770     ;       ***     2008-05-07  181はパス           ***
15350                            5771     ;       *******************************************
15351                            5772     ;       179,180でON
15352                            5773     ;       178,180,181以外でOFF
15353                            5774     
15354                                     ***** BEGIN-POOL *****
15355 00002666 0000                       ALIGNMENT CODE
15356 00002668 00000000                   DATA FOR SOURCE-LINE 5712
15357 0000266C 00000000                   DATA FOR SOURCE-LINE 5722
15358                                     ***** END-POOL *****
15359          000006FE          5775     _EQ_ORG_ONDIG   .EQU    179*10  ;
15360          00000708          5776     _EQ_ORG_OFDIG   .EQU    180*10  ;
15361          0000000A          5777     _EQ_ORG_HIS     .EQU    10      ;
15362                            5778     
15363 00002670                   5779             .ALIGN  4                               ;2008-05-07
15364 00002670                   5780     _ORGIN_180CHK
15365                            5781             SUB_START
15366 00002670 4F22                   M           STS.L   PR,@-R15                ;[必要]
15367                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15368                            5782     
15369 00002672 D408              5783             MOV.L   #_INC_ENC360,R4                                 ;//360.0度(ｴﾝｺｰﾀﾞは表示と
                                          同じ)
15370 00002674 6241              5784             MOV.W   @R4,R2                                          ;
15371                            5785     
15372 00002676 910A              5786             MOV.W   #_EQ_ORG_ONDIG,R1                                       ;179~181
15373 00002678 930A              5787             MOV.W   #_EQ_ORG_OFDIG,R3                                       ;
15374                            5788             DIG_AREA_CHK STREG=R1,EDREG=R3,PVREG=R2,ANSREG=R0       ;
15375 0000267A 3313                   M           CMP/GE  R1,R3
15376 0000267C 8B0C                   M           BF      JMP0100001
15377                                 M   ;       === 0度をはさなまい===
15378 0000267E 200A                   M           XOR     R0,R0
15379 00002680 3213                   M           CMP/GE  R1,R2           ;
15380 00002682 8B0F                   M           BF      JMP0200001                      ; PV<SV1
15381 00002684 3323                   M           CMP/GE  R2,R3           ;
15382 00002686 8B0D                   M           BF      JMP0200001                      ; SV2<PV2 (1)
15383 00002688 E001                   M           MOV     #1,R0           ;
15384                                 M           M_BRA   JMP0200001                      ;
15385 0000268A A00B                   M           BRA     JMP0200001
15386 0000268C 0009                   M           NOP
15387                                 M   
15388                                 M   ;       ==== ０度をはさむ====
15389                                 M   ***** BEGIN-POOL *****
15390 0000268E 06FE                   M   DATA FOR SOURCE-LINE 5786
15391 00002690 0708                   M   DATA FOR SOURCE-LINE 5787
15392 00002692 0000                   M   ALIGNMENT CODE
15393 00002694 00000000               M   DATA FOR SOURCE-LINE 5783
15394                                 M   ***** END-POOL *****
15395 00002698                        M   JMP0100001:
15396 00002698 E001                   M           MOV     #1,R0
15397 0000269A 3213                   M           CMP/GE  R1,R2
15398 0000269C 8902                   M           BT      JMP0200001                      ;SV1=<PV=<360
15399 0000269E 3323                   M           CMP/GE  R2,R3           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   167
PROGRAM NAME =

15400 000026A0 8900                   M           BT      JMP0200001                      ;
15401 000026A2 200A                   M           XOR     R0,R0           ;
15402 000026A4                        M   JMP0200001:
15403                            5789     
15404 000026A4 2008              5790             TST     R0,R0                                           ;
15405                            5791             TST_BIT_OF ORGIN_180CK_100                              ;範囲内ﾋｽﾃﾘｼｽ中
15406 000026A6 8911                   M           BT      ORGIN_180CK_100
15407                            5792     
15408                            5793             MEM1_BIT0_F_ORSET MEM=_ORIGN_180ARA_FLG,LG=W,BIT=BIT5,WKRG1=R4,WKRG2=R1
15409 000026A8 D406                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
15410 000026AA 6041                   M           MOV.W   @R4,R0          ;
15411 000026AC 9108                   M           MOV.W   #BIT5,R1                ;
15412 000026AE 201B                   M           OR      R1,R0           ;
15413 000026B0 2401                   M           MOV.W   R0,@R4          ;
15414                            5794             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=BIT5,WKRG1=R4,WKRG2=R1
15415 000026B2 D405                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
15416 000026B4 6041                   M           MOV.W   @R4,R0          ;
15417 000026B6 9103                   M           MOV.W   #BIT5,R1                ;
15418 000026B8 201B                   M           OR      R1,R0           ;
15419 000026BA 2401                   M           MOV.W   R0,@R4          ;
15420                            5795     
15421                            5796     ;;;;    ------- 2009-03-19 不具合(だめ) S05p~現在までの不具合 S05vにて修正
15422                            5797     ;;;;    MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15423                            5798     ;;;;    MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15424                            5799     
15425                            5800     
15426                            5801             M_BRA   ORGIN_180CK_300                                 ;
15427 000026BC A02E                   M           BRA     ORGIN_180CK_300
15428 000026BE 0009                   M           NOP
15429                            5802     
15430                            5803     
15431                                     ***** BEGIN-POOL *****
15432 000026C0 0020                       DATA FOR SOURCE-LINE 5793,5794
15433 000026C2 0000                       ALIGNMENT CODE
15434 000026C4 00000000                   DATA FOR SOURCE-LINE 5793
15435 000026C8 00000000                   DATA FOR SOURCE-LINE 5794
15436                                     ***** END-POOL *****
15437 000026CC                   5804     ORGIN_180CK_100
15438 000026CC 910A              5805             MOV.W   #_EQ_ORG_ONDIG-_EQ_ORG_HIS,R1                   ;178~182
15439 000026CE 930A              5806             MOV.W   #_EQ_ORG_OFDIG+_EQ_ORG_HIS,R3                   ;
15440                            5807             DIG_AREA_CHK STREG=R1,EDREG=R3,PVREG=R2,ANSREG=R0       ;
15441 000026D0 3313                   M           CMP/GE  R1,R3
15442 000026D2 8B09                   M           BF      JMP0100002
15443                                 M   ;       === 0度をはさなまい===
15444 000026D4 200A                   M           XOR     R0,R0
15445 000026D6 3213                   M           CMP/GE  R1,R2           ;
15446 000026D8 8B0C                   M           BF      JMP0200002                      ; PV<SV1
15447 000026DA 3323                   M           CMP/GE  R2,R3           ;
15448 000026DC 8B0A                   M           BF      JMP0200002                      ; SV2<PV2 (1)
15449 000026DE E001                   M           MOV     #1,R0           ;
15450                                 M           M_BRA   JMP0200002                      ;
15451 000026E0 A008                   M           BRA     JMP0200002
15452 000026E2 0009                   M           NOP
15453                                 M   
15454                                 M   ;       ==== ０度をはさむ====
15455                                 M   ***** BEGIN-POOL *****
15456 000026E4 06F4                   M   DATA FOR SOURCE-LINE 5805
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   168
PROGRAM NAME =

15457 000026E6 0712                   M   DATA FOR SOURCE-LINE 5806
15458                                 M   ***** END-POOL *****
15459 000026E8                        M   JMP0100002:
15460 000026E8 E001                   M           MOV     #1,R0
15461 000026EA 3213                   M           CMP/GE  R1,R2
15462 000026EC 8902                   M           BT      JMP0200002                      ;SV1=<PV=<360
15463 000026EE 3323                   M           CMP/GE  R2,R3           ;
15464 000026F0 8900                   M           BT      JMP0200002                      ;
15465 000026F2 200A                   M           XOR     R0,R0           ;
15466 000026F4                        M   JMP0200002:
15467 000026F4 2008              5808             TST     R0,R0                                           ;
15468                            5809             TST_BIT_ON ORGIN_180CK_200                              ;範囲内ﾋｽﾃﾘｼｽ中
15469 000026F6 8B11                   M           BF      ORGIN_180CK_200
15470                            5810     
15471                            5811             MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15472 000026F8 D406                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
15473 000026FA 6041                   M           MOV.W   @R4,R0          ;
15474 000026FC 9108                   M           MOV.W   #LWORD (~BIT5),R1       ;
15475 000026FE 2019                   M           AND     R1,R0           ;
15476 00002700 2401                   M           MOV.W   R0,@R4          ;
15477                            5812             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
15478 00002702 D405                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
15479 00002704 6041                   M           MOV.W   @R4,R0          ;
15480 00002706 9103                   M           MOV.W   #LWORD (~BIT5),R1       ;
15481 00002708 2019                   M           AND     R1,R0           ;
15482 0000270A 2401                   M           MOV.W   R0,@R4          ;
15483                            5813             M_BRA   ORGIN_180CK_300                                 ;
15484 0000270C A006                   M           BRA     ORGIN_180CK_300
15485 0000270E 0009                   M           NOP
15486                            5814     
15487                            5815     ;       --------- ﾋｽﾃﾘｼｽ中---
15488                                     ***** BEGIN-POOL *****
15489 00002710 FFDF                       DATA FOR SOURCE-LINE 5811,5812
15490 00002712 0000                       ALIGNMENT CODE
15491 00002714 00000000                   DATA FOR SOURCE-LINE 5811
15492 00002718 00000000                   DATA FOR SOURCE-LINE 5812
15493                                     ***** END-POOL *****
15494 0000271C                   5816     ORGIN_180CK_200
15495                            5817     ;       ======== CPUA => CPUB DIRECTION===
15496                            5818             .AIF    0 EQ    0
15497                            5819             .AELSE
15498                            5820             MOV.L   #_SH4_ORG_DIR_REV,R1            ;原点復帰方向
15499                            5821             MOV.W   @R1,R0                          ;
15500                            5822             MOV.L   #_ORIGN_180ARA_FLG,R1           ;
15501                            5823             MOV.W   R0,@R1                          ;
15502                            5824             .AENDI
15503                            5825     
15504 0000271C                   5826     ORGIN_180CK_300
15505                            5827     
15506                            5828     ;       ======== CPUB => CPUA DIRECTION===
15507                            5829             .AIF    0 EQ    0       ;
15508 0000271C D103              5830 C           MOV.L   #_ORIGN_180ARA_FLG,R1           ;
15509 0000271E 6011              5831 C           MOV.W   @R1,R0                          ;
15510 00002720 D103              5832 C           MOV.L   #_SH4_ORG_DIR_REV,R1            ;原点復帰方向
15511 00002722 2101              5833 C           MOV.W   R0,@R1                          ;
15512                            5834             .AELSE
15513                            5835             .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   169
PROGRAM NAME =

15514                            5836     
15515                            5837     
15516                            5838     
15517                            5839             SUB_END
15518                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15519 00002724 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15520                            5840             M_RTS
15521 00002726 000B                   M           RTS                             ;RTSの後ろの
15522 00002728 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15523                            5841     
15524                            5842     ;       ***********************************
15525                            5843     ;       ***                             ***
15526                            5844     ;       ***     2008-11-11              ***
15527                            5845     ;       ***                             ***
15528                            5846     ;       ***********************************
15529                            5847     ;       ﾘﾆｱｽｹｰﾙ異常で停止させない場合、ﾘｾｯﾄをｼｰｹﾝｽから行う
15530                            5848             .EXPORT _RNA_ERR_RSTCHK                 ;
15531                                     ***** BEGIN-POOL *****
15532 0000272A 0000                       ALIGNMENT CODE
15533 0000272C 00000000                   DATA FOR SOURCE-LINE 5830
15534 00002730 00000000                   DATA FOR SOURCE-LINE 5832
15535                                     ***** END-POOL *****
15536 00002734                   5849             .ALIGN  4                               ;
15537 00002734                   5850     _RNA_ERR_RSTCHK                                 ;
15538                            5851             SUB_START
15539 00002734 4F22                   M           STS.L   PR,@-R15                ;[必要]
15540                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15541                            5852     
15542                            5853     
15543 00002736 D10C              5854             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
15544 00002738 6011              5855             MOV.W   @R1,R0                          ;
15545 0000273A D10C              5856             MOV.L   #_SQ_RNA_ALMRST_OLD,R1          ;
15546 0000273C 6211              5857             MOV.W   @R1,R2                          ;
15547 0000273E 2101              5858             MOV.W   R0,@R1                          ;
15548 00002740 220A              5859             XOR     R0,R2                           ;EDGE
15549 00002742 2209              5860             AND     R0,R2                           ;ON EDGE
15550                            5861     
15551 00002744 D10A              5862             MOV.L   #_IN_PARAM_RNA_CHK,R1           ;1:ERRを見ない　特殊ﾊﾞｰｼﾞｮﾝ
15552 00002746 6011              5863             MOV.W   @R1,R0                          ;
15553 00002748 2008              5864             TST     R0,R0                           ;
15554                            5865             TST_BIT_OF RNA_ERR_RSTCKEXT             ;
15555 0000274A 8909                   M           BT      RNA_ERR_RSTCKEXT
15556                            5866     
15557 0000274C D109              5867             MOV.L   #_RNA_RESET_FLG,R1              ;(TIME-OUTを見ないだけ)
15558 0000274E 6011              5868             MOV.W   @R1,R0                          ;
15559 00002750 2008              5869             TST     R0,R0                           ;
15560                            5870             TST_BIT_ON RNA_ERR_RSTCKEXT             ;
15561 00002752 8B05                   M           BF      RNA_ERR_RSTCKEXT
15562                            5871     
15563 00002754 9407              5872             MOV.W   #BIT12,R4                       ;
15564 00002756 2248              5873             TST     R4,R2                           ;
15565                            5874             TST_BIT_OF RNA_ERR_RSTCKEXT             ;
15566 00002758 8902                   M           BT      RNA_ERR_RSTCKEXT
15567                            5875     
15568                            5876             FAR_JSR #_RNA_SCIF_ERR_CLR1,R0          ;(ﾊｰﾄﾞ異常があれば異常ｺﾏﾝﾄﾞを出力する)
15569 0000275A D007                   M           MOV.L   #_RNA_SCIF_ERR_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15570 0000275C 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   170
PROGRAM NAME =

15571 0000275E 0009                   M           NOP                                     ;
15572                            5877     
15573                            5878     
15574 00002760                   5879     RNA_ERR_RSTCKEXT                ;
15575                            5880             SUB_END
15576                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15577 00002760 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15578                            5881             M_RTS
15579 00002762 000B                   M           RTS                             ;RTSの後ろの
15580 00002764 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15581                            5882     
15582                            5883     
15583                            5884     ;       ***************************************************
15584                            5885     ;       ***                                             ***
15585                            5886     ;       ***     準備完了、未完了の遮光を急停止にする    ***
15586                            5887     ;       ***     このソフトでは停止にしない              ***
15587                            5888     ;       ***     MASKをやめる条件をつくるだけ            ***
15588                            5889     ;       ***     2012-09-25                              ***
15589                            5890     ;       ***************************************************
15590                                     ***** BEGIN-POOL *****
15591 00002766 1000                       DATA FOR SOURCE-LINE 5872
15592 00002768 00000000                   DATA FOR SOURCE-LINE 5854
15593 0000276C 00000000                   DATA FOR SOURCE-LINE 5856
15594 00002770 00000000                   DATA FOR SOURCE-LINE 5862
15595 00002774 00000000                   DATA FOR SOURCE-LINE 5867
15596 00002778 00000000                   DATA FOR SOURCE-LINE 5876
15597                                     ***** END-POOL *****
15598 0000277C                   5891             .ALIGN  4                               ;
15599 0000277C                   5892     _MASK2_SAFTY_MAK:
15600                            5893             SUB_START
15601 0000277C 4F22                   M           STS.L   PR,@-R15                ;[必要]
15602                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15603                            5894     
15604 0000277E D10B              5895             MOV.L   #(_PAR_MYUTING_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
15605 00002780 6011              5896             MOV.W   @R1,R0                                                  ;
15606 00002782 8801              5897             CMP/EQ  #1,R0                                                   ;
15607 00002784 8B1F              5898             BF      MASK2_SFYSTP500                                         ;ﾐｭｰﾃﾝｸﾞ選択外部SW
                                          を参照しない
15608                            5899     
15609 00002786 D10A              5900             MOV.L   #_SW_DEV_MASK_FLG,R1                                    ;
15610 00002788 6011              5901             MOV.W   @R1,R0                                                  ;
15611 0000278A C803              5902             TST     #(BIT1+BIT0),R0                                         ;
15612                            5903             TST_BIT_OF MASK2_SFYSTP400                                      ;安全装置の有効・
                                          無効ＳＷ兼ROMパラ含む
15613 0000278C 8918                   M           BT      MASK2_SFYSTP400
15614                            5904     
15615 0000278E D109              5905             MOV.L   #_di2_cb_ctl2_dt,R1                                     ;
15616 00002790 6211              5906             MOV.W   @R1,R2                                                  ;
15617 00002792 9409              5907             MOV.W   #_W2WT2,R4                                              ;BIT5
15618 00002794 2249              5908             AND     R4,R2                                                   ;
15619 00002796 D108              5909             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15620 00002798 2121              5910             MOV.W   R2,@R1                                                  ;
15621                            5911     
15622 0000279A D108              5912             MOV.L   #_SELF_FLG,R1                                           ;//BIT0:ｾﾙﾌﾁｪｯｸ中
15623 0000279C 6011              5913             MOV.W   @R1,R0                                                  ;
15624 0000279E C801              5914             TST     #BIT0,R0                                                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   171
PROGRAM NAME =

15625                            5915             TST_BIT_ON MASK2_SFYSTP500                                      ;
15626 000027A0 8B11                   M           BF      MASK2_SFYSTP500
15627                            5916     
15628 000027A2 9002              5917             MOV.W   #1,R0                                                   ;この時点である一
                                          部を安全一を除き準備完了中もEXQ停止
15629                            5918             M_BRA   MASK2_SFYSTP600                                         ;
15630 000027A4 A010                   M           BRA     MASK2_SFYSTP600
15631 000027A6 0009                   M           NOP
15632                            5919     
15633                            5920     
15634                                     ***** BEGIN-POOL *****
15635 000027A8 0020                       DATA FOR SOURCE-LINE 5907
15636 000027AA 0001                       DATA FOR SOURCE-LINE 5917
15637 000027AC 00000000                   DATA FOR SOURCE-LINE 5895
15638 000027B0 00000000                   DATA FOR SOURCE-LINE 5900
15639 000027B4 00000000                   DATA FOR SOURCE-LINE 5905
15640 000027B8 00000000                   DATA FOR SOURCE-LINE 5909
15641 000027BC 00000000                   DATA FOR SOURCE-LINE 5912
15642                                     ***** END-POOL *****
15643 000027C0                   5921     MASK2_SFYSTP400:
15644 000027C0 222A              5922             XOR     R2,R2
15645 000027C2 D104              5923             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15646 000027C4 2121              5924             MOV.W   R2,@R1                                                  ;
15647                            5925     
15648 000027C6                   5926     MASK2_SFYSTP500:
15649 000027C6 200A              5927             XOR     R0,R0
15650 000027C8                   5928     MASK2_SFYSTP600:
15651 000027C8 D103              5929             MOV.L   #_UPMSK2_MOD,R1         ;//SWを0:参照しない,1:参照する
15652 000027CA 2101              5930             MOV.W   R0,@R1                  ;
15653                            5931     
15654 000027CC                   5932     MASK2_SFYSTPEXT:
15655                            5933     
15656                            5934             SUB_END
15657                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15658 000027CC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15659                            5935             M_RTS
15660 000027CE 000B                   M           RTS                             ;RTSの後ろの
15661 000027D0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15662                            5936     
15663                                     ***** BEGIN-POOL *****
15664 000027D2 0000                       ALIGNMENT CODE
15665 000027D4 00000000                   DATA FOR SOURCE-LINE 5923
15666 000027D8 00000000                   DATA FOR SOURCE-LINE 5929
15667                                     ***** END-POOL *****
15668 000027DC                   5937     _MASK2_SAFTY_SW_MOV:
15669                            5938             SUB_START
15670 000027DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
15671                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15672 000027DE D103              5939             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15673 000027E0 6011              5940             MOV.W   @R1,R0                                                  ;
15674 000027E2 D103              5941             MOV.L   #_UPMAK2_MOD_USE_SW,R1                                  ;//0,1(反映ﾀｲﾐﾝｸﾞ
                                          後)
15675 000027E4 2101              5942             MOV.W   R0,@R1                                                  ;
15676                            5943     
15677                            5944             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   172
PROGRAM NAME =

15678                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15679 000027E6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15680                            5945             M_RTS
15681 000027E8 000B                   M           RTS                             ;RTSの後ろの
15682 000027EA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15683                            5946     
15684                            5947     
15685                            5948     
15686                            5949     
15687                            5950     
15688                            5951     ;       *******************************************
15689                            5952     ;       ***                                     ***
15690                            5953     ;       ***             2014-02-20              ***
15691                            5954     ;       ***             SWによるﾓｰﾄﾞ制限        ***
15692                            5955     ;       *******************************************
15693                                     ***** BEGIN-POOL *****
15694 000027EC 00000000                   DATA FOR SOURCE-LINE 5939
15695 000027F0 00000000                   DATA FOR SOURCE-LINE 5941
15696                                     ***** END-POOL *****
15697 000027F4                   5956     _SFTY_MUTING_MODE_ERR:
15698                            5957             SUB_START
15699 000027F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
15700                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15701 000027F6 D10C              5958             MOV.L   #(_PAR_MYUTERR_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
15702 000027F8 6011              5959             MOV.W   @R1,R0
15703 000027FA 8801              5960             CMP/EQ  #1,R0
15704 000027FC 8B39              5961             BF      SFTY_MUTING_MODER_EXT           ;
15705                            5962     
15706 000027FE D10B              5963             MOV.L   #_UPMSK2_MOD_IN_SW,R1                                   ;//BIT5=0/1(生　待
                                          機点2)
15707 00002800 6011              5964             MOV.W   @R1,R0                                                  ;
15708 00002802 D10B              5965             MOV.L   #_UPMSK2_MOD_IN_SWOLD,R1        ;//2014-02-20
15709 00002804 6211              5966             MOV.W   @R1,R2                          ;
15710 00002806 2101              5967             MOV.W   R0,@R1                          ;
15711 00002808 220A              5968             XOR     R0,R2                           ;
15712 0000280A 2028              5969             TST     R2,R0                           ;
15713                            5970             TST_BIT_OF SFTY_MUTING_MODER_100        ;
15714 0000280C 8916                   M           BT      SFTY_MUTING_MODER_100
15715                            5971     
15716                            5972     ;       ------無効から有効になった--------
15717 0000280E D109              5973             MOV.L   #_INP_MODE,R1                   ;
15718 00002810 6011              5974             MOV.W   @R1,R0                          ;
15719 00002812 9407              5975             MOV.W   #_W1CNT+_W1OPT,R4               ;
15720 00002814 2048              5976             TST     R4,R0                           ;
15721                            5977             TST_BIT_OF SFTY_MUTING_MODER_100        ;
15722 00002816 8911                   M           BT      SFTY_MUTING_MODER_100
15723                            5978     
15724 00002818 9404              5979             MOV.W   #H'0018,R4                      ;
15725                            5980             FAR_JSR #_EMG_STOP,R0                   ;
15726 0000281A D007                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15727 0000281C 400B                   M           JSR     @R0                     ;
15728 0000281E 0009                   M           NOP                                     ;
15729                            5981             M_BRA   SFTY_MUTING_MODER_EXT           ;
15730 00002820 A027                   M           BRA     SFTY_MUTING_MODER_EXT
15731 00002822 0009                   M           NOP
15732                            5982     
15733                            5983     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   173
PROGRAM NAME =

15734                                     ***** BEGIN-POOL *****
15735 00002824 0018                       DATA FOR SOURCE-LINE 5975,5979
15736 00002826 0000                       ALIGNMENT CODE
15737 00002828 00000000                   DATA FOR SOURCE-LINE 5958
15738 0000282C 00000000                   DATA FOR SOURCE-LINE 5963
15739 00002830 00000000                   DATA FOR SOURCE-LINE 5965
15740 00002834 00000000                   DATA FOR SOURCE-LINE 5973
15741 00002838 00000000                   DATA FOR SOURCE-LINE 5980
15742                                     ***** END-POOL *****
15743 0000283C                   5984     SFTY_MUTING_MODER_100:
15744                            5985     
15745                            5986     ;       -------------------------------------------
15746                            5987     ;       ---             ﾓｰﾄﾞ制限                ---
15747                            5988     ;       -------------------------------------------
15748                            5989     
15749 0000283C D104              5990             MOV.L   #_INP_MODE,R1                           ;
15750 0000283E 6011              5991             MOV.W   @R1,R0                                  ;
15751 00002840 C808              5992             TST     #_W1CNT,R0                              ;
15752                            5993             TST_BIT_ON SFTY_MUTING_MODER_200                ;連続
15753 00002842 8B09                   M           BF      SFTY_MUTING_MODER_200
15754                            5994     
15755 00002844 D103              5995             MOV.L   #_di1_cb_ctl1_dt,R1                     ;//
15756 00002846 6011              5996             MOV.W   @R1,R0                                  ;
15757 00002848 C810              5997             TST     #_W1OPT,R0                              ;
15758                            5998             TST_BIT_ON SFTY_MUTING_MODER_200                ;ｵﾌﾟｼｮﾝ
15759 0000284A 8B05                   M           BF      SFTY_MUTING_MODER_200
15760                            5999             M_BRA   SFTY_MUTING_MODER_EXT                   ;
15761 0000284C A011                   M           BRA     SFTY_MUTING_MODER_EXT
15762 0000284E 0009                   M           NOP
15763                            6000     
15764                            6001     
15765                                     ***** BEGIN-POOL *****
15766 00002850 00000000                   DATA FOR SOURCE-LINE 5990
15767 00002854 00000000                   DATA FOR SOURCE-LINE 5995
15768                                     ***** END-POOL *****
15769 00002858                   6002     SFTY_MUTING_MODER_200:
15770                            6003     
15771 00002858 D108              6004             MOV.L   #_UPMSK2_MOD_IN_SW,R1                   ;//BIT5=0/1(生　待機点2)
15772 0000285A 6011              6005             MOV.W   @R1,R0                                  ;
15773 0000285C 2008              6006             TST     R0,R0                                   ;
15774                            6007             TST_BIT_OF SFTY_MUTING_MODER_EXT                ;
15775 0000285E 8908                   M           BT      SFTY_MUTING_MODER_EXT
15776                            6008     
15777                            6009             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB216,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R4
                                          ;
15778 00002860 D107                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB216,R1             ;
15779 00002862 6011                   M           MOV.W   @R1,R0          ;
15780 00002864 9408                   M           MOV.W   #(BIT4),R4              ;
15781 00002866 204B                   M           OR      R4,R0           ;
15782 00002868 2101                   M           MOV.W   R0,@R1          ;
15783 0000286A 9406              6010             MOV.W   #H'2164,R4
                                          ;
15784                            6011             FAR_JSR #_EMG_STOP,R0
                                          ;
15785 0000286C D005                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15786 0000286E 400B                   M           JSR     @R0                     ;
15787 00002870 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   174
PROGRAM NAME =

15788                            6012     
15789 00002872                   6013     SFTY_MUTING_MODER_EXT:
15790                            6014     
15791                            6015             SUB_END
15792                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15793 00002872 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15794                            6016             M_RTS
15795 00002874 000B                   M           RTS                             ;RTSの後ろの
15796 00002876 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15797                            6017     
15798                            6018     
15799                            6019     
15800                            6020     
15801                            6021     
15802                            6022     ;       ***************************************************
15803                            6023     ;       ***                                             ***
15804                            6024     ;       ***                                             ***
15805                            6025     ;       ***             制動試験                        ***
15806                            6026     ;       ***                                             ***
15807                            6027     ;       ***             2010-08-20                      ***
15808                            6028     ;       ***                                             ***
15809                            6029     ;       ***************************************************
15810                            6030     ;       ﾊﾟﾗﾒｰﾀ21から
15811                            6031     ;_PAR_SELF_MATH_SEL
15812                            6032     ;       MOV.L   #_SELF_CHK_SEL,R1               ;
15813                            6033     ;       MOV.W   R2,@R1                          ;0:ｾﾙﾌﾁｪｯｸなし
15814                            6034     ;                                               ;BIT0=1:非常停止解除時
15815                            6035     ;                                               ;BIT1=1:動作終了時
15816                            6036     ;       MOV.L   #_SELF_CHK_MATHED,R1            ;
15817                            6037     ;       MOV.W   R3,@R1                          ;項目
15818                            6038     ;       _PAR_SELFCHK_POWSEL     .DATA.W         1       ;0:電源投入時のみPARAM21 1:PARAM21
                                          のﾀｲﾐﾝｸﾞ
15819                            6039     ;
15820                            6040     ;       1回ｾﾙﾌﾁｪｯｸが終了し、起動したら、通常のｾﾙﾌﾁｪｯｸ _SELF_CHK_SEL
15821                            6041     ;       MOV.L   #_SELF_LOCK_FLG,R1
15822                            6042     ;
15823                            6043     ;
15824                            6044     
15825                                     ***** BEGIN-POOL *****
15826 00002878 0010                       DATA FOR SOURCE-LINE 6009
15827 0000287A 2164                       DATA FOR SOURCE-LINE 6010
15828 0000287C 00000000                   DATA FOR SOURCE-LINE 6004
15829 00002880 00000000                   DATA FOR SOURCE-LINE 6009
15830 00002884 00000000                   DATA FOR SOURCE-LINE 6011
15831                                     ***** END-POOL *****
15832 00002888                   6045             .ALIGN  4
15833 00002888                   6046     _BRKTST_CTRL:
15834                            6047             SUB_START
15835 00002888 4F22                   M           STS.L   PR,@-R15                ;[必要]
15836                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15837                            6048     
15838                            6049     ;       ------2011-09-14-------
15839                            6050             FAR_JSR #_BRKTST_INPUT_MAK,R0           ;
15840 0000288A D011                   M           MOV.L   #_BRKTST_INPUT_MAK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15841 0000288C 400B                   M           JSR     @R0                     ;
15842 0000288E 0009                   M           NOP                                     ;
15843                            6051     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   175
PROGRAM NAME =

15844                            6052     
15845 00002890 D110              6053             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15846 00002892 6011              6054             MOV.W   @R1,R0                          ;
15847 00002894 C801              6055             TST     #BIT0,R0                        ;
15848                            6056             TST_BIT_ON BRKTST_CTL_100               ;
15849 00002896 8B2B                   M           BF      BRKTST_CTL_100
15850                            6057                                                     ;BIT0=1 START
15851                            6058                                                     ;BIT1=0 起動待ち BIT1=1 起動完了
15852                            6059                                                     ;BIT2=0 起動中   BIT2=1 停止指令ON
15853                            6060                                                     ;BIT3=0 停止待ち BIT3=1 停止完了
15854                            6061                                                     ;BIT4=1:98%到達
15855                            6062                                                     ;BIT5=0:正常 1:速度到達しないまたは停止時
                                          間ｵｰﾊﾞした失敗
15856                            6063                                                     ;BIT6=1 完了(指令OFF待ち)
15857                            6064                                                     ;BIT7=1 完了(このソフトでは使用しない)
15858                            6065     
15859                            6066     
15860                            6067     ;       ========== ILDE =========
15861                            6068     ;;;2011-09-14   MOV.L   #_CB_SEQ_CB_COM349,R1           ;
15862 00002898 D10F              6069             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
15863 0000289A 6011              6070             MOV.W   @R1,R0                          ;
15864 0000289C C801              6071             TST     #BIT0,R0                        ;349,0=制動(BRK)試験(TST)
15865                            6072             TST_BIT_OF BRKTST_CTL_090               ;OFF
15866 0000289E 8914                   M           BT      BRKTST_CTL_090
15867                            6073     
15868                            6074     ;       --- ｾﾙﾌﾁｪｯｸ有ならｾﾙﾌﾁｪｯｸ完了後に行う---
15869 000028A0 D10E              6075             MOV.L   #_SELF_CHK_SEL,R1               ;
15870 000028A2 6011              6076             MOV.W   @R1,R0                          ;
15871 000028A4 2008              6077             TST     R0,R0                           ;
15872                            6078             TST_BIT_OF BRKTST_CTL_050               ;SELFﾁｪｯｸ有効？ NO
15873 000028A6 8903                   M           BT      BRKTST_CTL_050
15874                            6079     
15875 000028A8 D10D              6080             MOV.L   #_SELF_FLG,R1                   ;//BIT0:ｾﾙﾌﾁｪｯｸ中  BIT7ｾﾙﾌﾁｪｯｸ正常完了
15876 000028AA 6011              6081             MOV.W   @R1,R0                          ;
15877 000028AC C880              6082             TST     #BIT7,R0                        ;
15878                            6083             TST_BIT_OF BRKTST_CTL_090               ;ｾﾙﾌﾁｪｯｸ未完了
15879 000028AE 890C                   M           BT      BRKTST_CTL_090
15880 000028B0                   6084     BRKTST_CTL_050:
15881                            6085     
15882                            6086             FAR_JSR #_BRKTST_MODE_CONF,R0           ;
15883 000028B0 D00C                   M           MOV.L   #_BRKTST_MODE_CONF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15884 000028B2 400B                   M           JSR     @R0                     ;
15885 000028B4 0009                   M           NOP                                     ;
15886 000028B6 2008              6087             TST     R0,R0                           ;
15887                            6088             TST_BIT_ON BRKTST_CTL_090               ;R0!=0 EXIT
15888 000028B8 8B07                   M           BF      BRKTST_CTL_090
15889                            6089     
15890 000028BA 9008              6090             MOV.W   #BIT0,R0                        ;
15891 000028BC D105              6091             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15892 000028BE 2101              6092             MOV.W   R0,@R1                          ;
15893                            6093                                                     ;BIT7が変化するときにCALL
15894 000028C0 D109              6094             MOV.L   #_CBSTS_SAVE_DAT,R1             ;2011-09-14 とりあえず1WORDで行う
15895 000028C2 2101              6095             MOV.W   R0,@R1                          ;2011-09-14
15896                            6096             .AIF    0 EQ    0       ;
15897                            6097 C           FAR_JSR #_CBA_STS_BKUP_SAVE,R0          ;2011-09-14
15898 000028C4 D009                   M           MOV.L   #_CBA_STS_BKUP_SAVE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15899 000028C6 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   176
PROGRAM NAME =

15900 000028C8 0009                   M           NOP                                     ;
15901                            6098             .AENDI
15902                            6099     
15903                            6100     
15904 000028CA                   6101     BRKTST_CTL_090:
15905                            6102             M_BRA   BRKTST_CTL_900                  ;
15906 000028CA A0F5                   M           BRA     BRKTST_CTL_900
15907 000028CC 0009                   M           NOP
15908                            6103     
15909                            6104     
15910                            6105     ;       ------------- 動作中---------------
15911                                     ***** BEGIN-POOL *****
15912 000028CE 0001                       DATA FOR SOURCE-LINE 6090
15913 000028D0 00000000                   DATA FOR SOURCE-LINE 6050
15914 000028D4 00000000                   DATA FOR SOURCE-LINE 6053,6091
15915 000028D8 00000000                   DATA FOR SOURCE-LINE 6069
15916 000028DC 00000000                   DATA FOR SOURCE-LINE 6075
15917 000028E0 00000000                   DATA FOR SOURCE-LINE 6080
15918 000028E4 00000000                   DATA FOR SOURCE-LINE 6086
15919 000028E8 00000000                   DATA FOR SOURCE-LINE 6094
15920 000028EC 00000000                   DATA FOR SOURCE-LINE 6097
15921                                     ***** END-POOL *****
15922 000028F0                   6106     BRKTST_CTL_100:
15923                            6107     ;;;2011-09-14   MOV.L   #_CB_SEQ_CB_COM349,R1           ;
15924 000028F0 D10E              6108             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
15925 000028F2 6011              6109             MOV.W   @R1,R0                          ;
15926 000028F4 C801              6110             TST     #BIT0,R0                        ;349,0=制動(BRK)試験(TST)
15927                            6111             TST_BIT_ON BRKTST_CTL_200               ;
15928 000028F6 8B39                   M           BF      BRKTST_CTL_200
15929                            6112     
15930 000028F8 D10D              6113             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15931 000028FA 6011              6114             MOV.W   @R1,R0                          ;
15932 000028FC C960              6115             AND     #(BIT6+BIT5),R0                 ;
15933 000028FE 8840              6116             CMP/EQ  #BIT6,R0                        ;異常がなくて正常完了している
15934 00002900 8922              6117             BT      BRKTST_CTL_150                  ;正常完了状態でのOFF
15935                            6118     
15936                            6119     ;;;;2011-09-14  TST     #BIT6,R0                ;
15937                            6120     ;;;;2011-09-14  TST_BIT_ON BRKTST_CTL_150       ;完了状態でのOFF
15938                            6121     
15939                            6122                                                     ;動作中にモードＯＦＦした、異常停止
15940 00002902 9411              6123             MOV.W   #H'3490,R4                      ;2010-12-21
15941                            6124             FAR_JSR #_EMG_STOP,R0                   ;
15942 00002904 D00B                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15943 00002906 400B                   M           JSR     @R0                     ;
15944 00002908 0009                   M           NOP                                     ;
15945                            6125     
15946 0000290A 200A              6126             XOR     R0,R0                           ;
15947 0000290C D108              6127             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15948 0000290E 2101              6128             MOV.W   R0,@R1                          ;
15949                            6129                                                     ;BIT7が変化するときにCALL
15950 00002910 D109              6130             MOV.L   #_CBSTS_SAVE_DAT,R1             ;2011-09-14 とりあえず1WORDで行う
15951 00002912 2101              6131             MOV.W   R0,@R1                          ;2011-09-14
15952                            6132             .AIF    0 EQ    0       ;
15953                            6133 C           FAR_JSR #_CBA_STS_BKUP_SAVE,R0          ;2011-09-14
15954 00002914 D009                   M           MOV.L   #_CBA_STS_BKUP_SAVE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15955 00002916 400B                   M           JSR     @R0                     ;
15956 00002918 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   177
PROGRAM NAME =

15957                            6134             .AENDI
15958                            6135     
15959 0000291A 200A              6136             XOR     R0,R0
15960 0000291C D108              6137             MOV.L   #_INT_POS_CTL_FLAG,R1           ;
15961 0000291E 2101              6138             MOV.W   R0,@R1
15962 00002920 D108              6139             MOV.L   #_MNWR_POS_CMD,R1               ;ﾊﾟﾙｽ払出即停止
15963 00002922 2101              6140             MOV.W   R0,@R1
15964                            6141     
15965                            6142             M_BRA   BRKTST_CTL_190
15966 00002924 A018                   M           BRA     BRKTST_CTL_190
15967 00002926 0009                   M           NOP
15968                            6143     
15969                            6144     ;       --------- 正常完了状態でoffされた----------
15970                                     ***** BEGIN-POOL *****
15971 00002928 3490                       DATA FOR SOURCE-LINE 6123
15972 0000292A 0000                       ALIGNMENT CODE
15973 0000292C 00000000                   DATA FOR SOURCE-LINE 6108
15974 00002930 00000000                   DATA FOR SOURCE-LINE 6113,6127
15975 00002934 00000000                   DATA FOR SOURCE-LINE 6124
15976 00002938 00000000                   DATA FOR SOURCE-LINE 6130
15977 0000293C 00000000                   DATA FOR SOURCE-LINE 6133
15978 00002940 00000000                   DATA FOR SOURCE-LINE 6137
15979 00002944 00000000                   DATA FOR SOURCE-LINE 6139
15980                                     ***** END-POOL *****
15981 00002948                   6145     BRKTST_CTL_150:
15982                            6146     
15983 00002948 9008              6147             MOV.W   #BIT7,R0                        ;
15984 0000294A D105              6148             MOV.L   #_BRKTST_MOD_FLG,R1             ;
15985 0000294C 2101              6149             MOV.W   R0,@R1                          ;
15986                            6150                                                     ;BIT7が変化するときにCALL
15987 0000294E D105              6151             MOV.L   #_CBSTS_SAVE_DAT,R1             ;2011-09-14 とりあえず1WORDで行う
15988 00002950 2101              6152             MOV.W   R0,@R1                          ;2011-09-14
15989                            6153             .AIF    0 EQ    0       ;
15990                            6154 C           FAR_JSR #_CBA_STS_BKUP_SAVE,R0          ;2011-09-14
15991 00002952 D005                   M           MOV.L   #_CBA_STS_BKUP_SAVE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15992 00002954 400B                   M           JSR     @R0                     ;
15993 00002956 0009                   M           NOP                                     ;
15994                            6155             .AENDI
15995                            6156     
15996                            6157     
15997 00002958                   6158     BRKTST_CTL_190:
15998                            6159             M_BRA   BRKTST_CTL_900                  ;
15999 00002958 A0AE                   M           BRA     BRKTST_CTL_900
16000 0000295A 0009                   M           NOP
16001                            6160     
16002                            6161     ;       -------------起動待ち(BIT1=0),起動中(),停止判定待ち-----------------
16003                                     ***** BEGIN-POOL *****
16004 0000295C 0080                       DATA FOR SOURCE-LINE 6147
16005 0000295E 0000                       ALIGNMENT CODE
16006 00002960 00000000                   DATA FOR SOURCE-LINE 6148
16007 00002964 00000000                   DATA FOR SOURCE-LINE 6151
16008 00002968 00000000                   DATA FOR SOURCE-LINE 6154
16009                                     ***** END-POOL *****
16010 0000296C                   6162     BRKTST_CTL_200:
16011 0000296C D102              6163             MOV.L   #_BRKTST_MOD_FLG,R1             ;
16012 0000296E 6011              6164             MOV.W   @R1,R0                          ;
16013                            6165     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   178
PROGRAM NAME =

16014 00002970 C808              6166             TST     #BIT3,R0                        ;
16015                            6167             TST_BIT_OF BRKTST_CTL_220               ;
16016 00002972 8903                   M           BT      BRKTST_CTL_220
16017                            6168             M_BRA   BRKTST_CTL_500                  ;[停止完了]
16018 00002974 A090                   M           BRA     BRKTST_CTL_500
16019 00002976 0009                   M           NOP
16020                            6169     
16021                                     ***** BEGIN-POOL *****
16022 00002978 00000000                   DATA FOR SOURCE-LINE 6163
16023                                     ***** END-POOL *****
16024 0000297C                   6170     BRKTST_CTL_220:
16025 0000297C C804              6171             TST     #BIT2,R0                        ;
16026                            6172             TST_BIT_ON BRKTST_CTL_400               ;
16027 0000297E 8B6D                   M           BF      BRKTST_CTL_400
16028 00002980 C802              6173             TST     #BIT1,R0                        ;
16029                            6174             TST_BIT_ON BRKTST_CTL_300               ;
16030 00002982 8B35                   M           BF      BRKTST_CTL_300
16031                            6175     
16032                            6176     ;       ---- 起動待ち[BIT1=0]-----
16033                            6177     
16034                            6178     ;       ===============準備完了・未完了処置===========
16035                            6179     ;       --- 2010-10-22 ---------
16036                            6180             FAR_JSR #_BRKTST_RDY_CHK,R0             ;
16037 00002984 D003                   M           MOV.L   #_BRKTST_RDY_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16038 00002986 400B                   M           JSR     @R0                     ;
16039 00002988 0009                   M           NOP                                     ;
16040                            6181     
16041 0000298A 2008              6182             TST     R0,R0                           ;
16042                            6183             TST_BIT_OF BRKTST_CTL_250               ;
16043 0000298C 8904                   M           BT      BRKTST_CTL_250
16044                            6184             M_BRA   BRKTST_CTL_290                  ;RDY-OFFまたはrdy-onだが(起動不可)
16045 0000298E A024                   M           BRA     BRKTST_CTL_290
16046 00002990 0009                   M           NOP
16047                            6185     
16048                            6186     ;       ---------- 準備完了で”起動受付可能”な状況
16049                                     ***** BEGIN-POOL *****
16050 00002992 0000                       ALIGNMENT CODE
16051 00002994 00000000                   DATA FOR SOURCE-LINE 6180
16052                                     ***** END-POOL *****
16053 00002998                   6187     BRKTST_CTL_250:
16054                            6188     
16055                            6189             FAR_JSR #_BTTN_START_CHK,R0     ;
16056 00002998 D005                   M           MOV.L   #_BTTN_START_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16057 0000299A 400B                   M           JSR     @R0                     ;
16058 0000299C 0009                   M           NOP                                     ;
16059 0000299E 2008              6190             TST     R0,R0                   ;
16060                            6191             TST_BIT_OF BRKTST_CTL_290       ;変化なし
16061 000029A0 891B                   M           BT      BRKTST_CTL_290
16062 000029A2 8855              6192             CMP/EQ  #H'55,R0                ;
16063 000029A4 8908              6193             BT      BRKTST_CTL_260          ;起動
16064                            6194     
16065                            6195     ;       ---------- 失敗-----------
16066                            6196             FAR_JSR #_BRKTST_RDY_OFF_OUT,R0
16067 000029A6 D003                   M           MOV.L   #_BRKTST_RDY_OFF_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16068 000029A8 400B                   M           JSR     @R0                     ;
16069 000029AA 0009                   M           NOP                                     ;
16070                            6197             M_BRA   BRKTST_CTL_290                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   179
PROGRAM NAME =

16071 000029AC A015                   M           BRA     BRKTST_CTL_290
16072 000029AE 0009                   M           NOP
16073                            6198     
16074                            6199     
16075                                     ***** BEGIN-POOL *****
16076 000029B0 00000000                   DATA FOR SOURCE-LINE 6189
16077 000029B4 00000000                   DATA FOR SOURCE-LINE 6196
16078                                     ***** END-POOL *****
16079 000029B8                   6200     BRKTST_CTL_260:
16080                            6201             FAR_JSR #_DRV_START_KEP_WAIT,R0                         ;
16081 000029B8 D009                   M           MOV.L   #_DRV_START_KEP_WAIT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16082 000029BA 400B                   M           JSR     @R0                     ;
16083 000029BC 0009                   M           NOP                                     ;
16084 000029BE 2008              6202             TST     R0,R0                                           ;
16085                            6203             TST_BIT_OF BRKTST_CTL_290                               ;
16086 000029C0 890B                   M           BT      BRKTST_CTL_290
16087 000029C2 8855              6204             CMP/EQ  #H'55,R0
16088 000029C4 8B09              6205             BF      BRKTST_CTL_290                                  ;"1"ﾛｯｸ解除中待ち
16089                            6206     
16090                            6207             FAR_JSR #_BRKTST_CHKDT_MAK,R0
16091 000029C6 D007                   M           MOV.L   #_BRKTST_CHKDT_MAK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16092 000029C8 400B                   M           JSR     @R0                     ;
16093 000029CA 0009                   M           NOP                                     ;
16094                            6208             FAR_JSR #_BRKTST_MOTOR_START,R0                                         ;起動
16095 000029CC D006                   M           MOV.L   #_BRKTST_MOTOR_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16096 000029CE 400B                   M           JSR     @R0                     ;
16097 000029D0 0009                   M           NOP                                     ;
16098                            6209             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
16099 000029D2 D106                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16100 000029D4 6011                   M           MOV.W   @R1,R0          ;
16101 000029D6 CB02                   M           OR      #BIT1,R0                ;
16102 000029D8 2101                   M           MOV.W   R0,@R1          ;
16103 000029DA                   6210     BRKTST_CTL_290:
16104                            6211             M_BRA   BRKTST_CTL_900                                                  ;
16105 000029DA A06D                   M           BRA     BRKTST_CTL_900
16106 000029DC 0009                   M           NOP
16107                            6212     
16108                            6213     ;       ----------------------------------------
16109                                     ***** BEGIN-POOL *****
16110 000029DE 0000                       ALIGNMENT CODE
16111 000029E0 00000000                   DATA FOR SOURCE-LINE 6201
16112 000029E4 00000000                   DATA FOR SOURCE-LINE 6207
16113 000029E8 00000000                   DATA FOR SOURCE-LINE 6208
16114 000029EC 00000000                   DATA FOR SOURCE-LINE 6209
16115                                     ***** END-POOL *****
16116 000029F0                   6214     BRKTST_CTL_300:
16117                            6215     ;       ------ 98%CHKCK----
16118                            6216             FAR_JSR #_BRKTST_SPD_CHK,R0
16119 000029F0 D008                   M           MOV.L   #_BRKTST_SPD_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16120 000029F2 400B                   M           JSR     @R0                     ;
16121 000029F4 0009                   M           NOP                                     ;
16122                            6217     
16123                            6218     ;       ---- 起動中・停止指令待ち[BIT2=0]-----
16124                            6219     ;;;2011-09-14   MOV.L   #_CB_SEQ_CB_COM349,R1           ;
16125 000029F6 D108              6220             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
16126 000029F8 6011              6221             MOV.W   @R1,R0                                                          ;
16127 000029FA C802              6222             TST     #BIT1,R0                                                        ;349.1(停
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   180
PROGRAM NAME =

                                          止指令)
16128                            6223             TST_BIT_OF BRKTST_CTL_350                                               ;
16129 000029FC 8912                   M           BT      BRKTST_CTL_350
16130 000029FE 9408              6224             MOV.W   #H'3491,R4                                                      ;2010-12-2
                                          1
16131                            6225             FAR_JSR #_BRKTST_MOTOR_STOP,R0                                          ;(異常状態
                                          にする)EMG_FLG=1
16132 00002A00 D006                   M           MOV.L   #_BRKTST_MOTOR_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16133 00002A02 400B                   M           JSR     @R0                     ;
16134 00002A04 0009                   M           NOP                                     ;
16135                            6226             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT2,WKREG=R1      ;ちゃんと
                                          した停止
16136 00002A06 D106                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16137 00002A08 6011                   M           MOV.W   @R1,R0          ;
16138 00002A0A CB04                   M           OR      #BIT2,R0                ;
16139 00002A0C 2101                   M           MOV.W   R0,@R1          ;
16140                            6227             M_BRA   BRKTST_CTL_390
16141 00002A0E A01A                   M           BRA     BRKTST_CTL_390
16142 00002A10 0009                   M           NOP
16143                            6228     
16144                                     ***** BEGIN-POOL *****
16145 00002A12 3491                       DATA FOR SOURCE-LINE 6224
16146 00002A14 00000000                   DATA FOR SOURCE-LINE 6216
16147 00002A18 00000000                   DATA FOR SOURCE-LINE 6220
16148 00002A1C 00000000                   DATA FOR SOURCE-LINE 6225
16149 00002A20 00000000                   DATA FOR SOURCE-LINE 6226
16150                                     ***** END-POOL *****
16151 00002A24                   6229     BRKTST_CTL_350:
16152 00002A24 D109              6230             MOV.L   #_BTTN_FLG,R1                   ;
16153 00002A26 6011              6231             MOV.W   @R1,R0                          ;
16154 00002A28 C804              6232             TST     #BIT2,R0                        ;両手ON
16155                            6233             TST_BIT_OF BRKTST_CTL_360               ;両手ONでない
16156 00002A2A 8904                   M           BT      BRKTST_CTL_360
16157                            6234     
16158                            6235             FAR_JSR #_BRKTST_MODE_CONF,R0           ;
16159 00002A2C D008                   M           MOV.L   #_BRKTST_MODE_CONF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16160 00002A2E 400B                   M           JSR     @R0                     ;
16161 00002A30 0009                   M           NOP                                     ;
16162 00002A32 2008              6236             TST     R0,R0                           ;
16163                            6237             TST_BIT_OF BRKTST_CTL_390               ;
16164 00002A34 8907                   M           BT      BRKTST_CTL_390
16165                            6238     
16166 00002A36                   6239     BRKTST_CTL_360                                  ;両手ONでない
16167 00002A36 9408              6240             MOV.W   #H'3492,R4                      ;2010-12-21
16168                            6241     ;;;;    FAR_JSR #_BRKTST_MOTOR_STOP,R0          ;動作中に運転釦を離したまたは異常が発生し
                                          た
16169                            6242             FAR_JSR #_EMG_STOP,R0                   ;
16170 00002A38 D006                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16171 00002A3A 400B                   M           JSR     @R0                     ;
16172 00002A3C 0009                   M           NOP                                     ;
16173                            6243             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=(BIT5+BIT2),WKREG=R1       ;B
                                          IT5異常
16174 00002A3E D106                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16175 00002A40 6011                   M           MOV.W   @R1,R0          ;
16176 00002A42 CB24                   M           OR      #(BIT5+BIT2),R0         ;
16177 00002A44 2101                   M           MOV.W   R0,@R1          ;
16178 00002A46                   6244     BRKTST_CTL_390:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   181
PROGRAM NAME =

16179                            6245             M_BRA   BRKTST_CTL_900                  ;
16180 00002A46 A037                   M           BRA     BRKTST_CTL_900
16181 00002A48 0009                   M           NOP
16182                            6246     
16183                            6247     
16184                            6248     
16185                            6249     
16186                            6250     ;       ----------------------------------------
16187                                     ***** BEGIN-POOL *****
16188 00002A4A 3492                       DATA FOR SOURCE-LINE 6240
16189 00002A4C 00000000                   DATA FOR SOURCE-LINE 6230
16190 00002A50 00000000                   DATA FOR SOURCE-LINE 6235
16191 00002A54 00000000                   DATA FOR SOURCE-LINE 6242
16192 00002A58 00000000                   DATA FOR SOURCE-LINE 6243
16193                                     ***** END-POOL *****
16194 00002A5C                   6251     BRKTST_CTL_400:
16195                            6252     ;       ---- 停止指令ON 停止判定待ち[BIT3=0]-----
16196 00002A5C D10B              6253             MOV.L   #_STOPPING_TIM_FLG,R1                                           ;
16197 00002A5E 6011              6254             MOV.W   @R1,R0
16198 00002A60 C840              6255             TST     #BIT6,R0                                                        ;
16199                            6256             TST_BIT_OF BRKTST_CTL_490                                               ;
16200 00002A62 8910                   M           BT      BRKTST_CTL_490
16201                            6257     
16202                            6258             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT3,WKREG=R1      ;[停止完了
                                          ]
16203 00002A64 D10A                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16204 00002A66 6011                   M           MOV.W   @R1,R0          ;
16205 00002A68 CB08                   M           OR      #BIT3,R0                ;
16206 00002A6A 2101                   M           MOV.W   R0,@R1          ;
16207                            6259     
16208                            6260     
16209                            6261     ;;;;    MOV.L   #_SQ_CBWK_TOP+_WKSQCB212,R1
16210                            6262     ;;;;    MOV.W   @R1,R0
16211                            6263     ;;;;    MOV.W   #(BIT9+BIT8),R4                                                 ;
16212                            6264     
16213 00002A6C D109              6265             MOV.L   #_SQ_CBWK_TOP+_WKSQCB229,R1
16214 00002A6E 6011              6266             MOV.W   @R1,R0
16215 00002A70 940B              6267             MOV.W   #(BIT15+BIT14),R4                                                       ;
16216 00002A72 2048              6268             TST     R4,R0                                                           ;
16217                            6269             TST_BIT_ON BRKTST_CTL_450                                               ;
16218 00002A74 8B03                   M           BF      BRKTST_CTL_450
16219                            6270     
16220 00002A76 D106              6271             MOV.L   #_BRKTST_MOD_FLG,R1                                             ;
16221 00002A78 6011              6272             MOV.W   @R1,R0                                                          ;
16222 00002A7A C810              6273             TST     #BIT4,R0                                                        ;
16223                            6274             TST_BIT_ON BRKTST_CTL_490                                               ;速度到達
16224 00002A7C 8B03                   M           BF      BRKTST_CTL_490
16225                            6275     
16226 00002A7E                   6276     BRKTST_CTL_450:
16227                            6277             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT5,WKREG=R1      ;停止ｵｰﾊﾞ
16228 00002A7E D104                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16229 00002A80 6011                   M           MOV.W   @R1,R0          ;
16230 00002A82 CB20                   M           OR      #BIT5,R0                ;
16231 00002A84 2101                   M           MOV.W   R0,@R1          ;
16232                            6278     
16233 00002A86                   6279     BRKTST_CTL_490:
16234                            6280             M_BRA   BRKTST_CTL_900                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   182
PROGRAM NAME =

16235 00002A86 A017                   M           BRA     BRKTST_CTL_900
16236 00002A88 0009                   M           NOP
16237                            6281     
16238                            6282     
16239                            6283     ;       ---------[正常に停止完了した 異常にして、リセットを待つ]-----------------
16240                                     ***** BEGIN-POOL *****
16241 00002A8A C000                       DATA FOR SOURCE-LINE 6267
16242 00002A8C 00000000                   DATA FOR SOURCE-LINE 6253
16243 00002A90 00000000                   DATA FOR SOURCE-LINE 6258,6271,6277
16244 00002A94 00000000                   DATA FOR SOURCE-LINE 6265
16245                                     ***** END-POOL *****
16246 00002A98                   6284     BRKTST_CTL_500:
16247 00002A98 9408              6285             MOV.W   #H'3493,R4                                                      ;2010-12-2
                                          1
16248                            6286             FAR_JSR #_BRKTST_MOTOR_STOP,R0                                          ;(異常状態
                                          にする)EMG_FLG=1
16249 00002A9A D005                   M           MOV.L   #_BRKTST_MOTOR_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16250 00002A9C 400B                   M           JSR     @R0                     ;
16251 00002A9E 0009                   M           NOP                                     ;
16252                            6287             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=BIT6,WKREG=R1      ;bit-set
16253 00002AA0 D104                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16254 00002AA2 6011                   M           MOV.W   @R1,R0          ;
16255 00002AA4 CB40                   M           OR      #BIT6,R0                ;
16256 00002AA6 2101                   M           MOV.W   R0,@R1          ;
16257                            6288             M_BRA   BRKTST_CTL_900                                                  ;
16258 00002AA8 A006                   M           BRA     BRKTST_CTL_900
16259 00002AAA 0009                   M           NOP
16260                            6289     
16261                            6290     
16262                            6291     
16263                            6292     ;       ---------------------------------------------
16264                                     ***** BEGIN-POOL *****
16265 00002AAC 3493                       DATA FOR SOURCE-LINE 6285
16266 00002AAE 0000                       ALIGNMENT CODE
16267 00002AB0 00000000                   DATA FOR SOURCE-LINE 6286
16268 00002AB4 00000000                   DATA FOR SOURCE-LINE 6287
16269                                     ***** END-POOL *****
16270 00002AB8                   6293     BRKTST_CTL_900:
16271                            6294     
16272 00002AB8 D10C              6295             MOV.L   #_BRKTST_MOD_FLG,R1             ;
16273 00002ABA 6011              6296             MOV.W   @R1,R0                          ;
16274 00002ABC D10C              6297             MOV.L   #_SQ_CBWK_TOP+_WKSQCB229,R1     ;
16275 00002ABE 6211              6298             MOV.W   @R1,R2                          ;
16276 00002AC0 9411              6299             MOV.W   #H'FF00,R4                      ;
16277 00002AC2 2249              6300             AND     R4,R2
16278 00002AC4 6447              6301             NOT     R4,R4
16279 00002AC6 2049              6302             AND     R4,R0
16280 00002AC8 220B              6303             OR      R0,R2
16281 00002ACA 2121              6304             MOV.W   R2,@R1                          ;
16282                            6305     
16283                            6306     
16284                            6307     
16285                            6308     
16286                            6309     ;       -----------ﾌﾞﾚｰｷﾃｽﾄ時にｽﾄｯﾋﾟﾝｸﾞﾀｲﾏﾘｾｯﾄ
16287 00002ACC D109              6310             MOV.L   #_di1_cb_ctl1_dt,R1     ;ﾚﾍﾞﾙに変更
16288 00002ACE 6011              6311             MOV.W   @R1,R0                  ;
16289 00002AD0 940A              6312             MOV.W   #_W1RST,R4              ;ﾘｾｯﾄ釦
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   183
PROGRAM NAME =

16290 00002AD2 2048              6313             TST     R4,R0                   ;ONｴｯｼﾞ
16291                            6314             TST_BIT_OF BRKTST_CTL_950       ;
16292 00002AD4 8904                   M           BT      BRKTST_CTL_950
16293                            6315             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB229,LG=W,BIT=~(BIT15+BIT14+BIT13+BIT12),
                                          WKRG1=R1,WKRG2=R4       ;
16294 00002AD6 D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB229,R1             ;
16295 00002AD8 6011                   M           MOV.W   @R1,R0          ;
16296 00002ADA 9406                   M           MOV.W   #LWORD ~(BIT15+BIT14+BIT13+BIT12),R4    ;
16297 00002ADC 2049                   M           AND     R4,R0           ;
16298 00002ADE 2101                   M           MOV.W   R0,@R1          ;
16299 00002AE0                   6316     BRKTST_CTL_950:
16300                            6317     
16301                            6318     
16302                            6319             SUB_END
16303                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16304 00002AE0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16305                            6320             M_RTS
16306 00002AE2 000B                   M           RTS                             ;RTSの後ろの
16307 00002AE4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16308                            6321     
16309                            6322     
16310                            6323     
16311                            6324     ;       ***********************************
16312                            6325     ;       ***                             ***
16313                            6326     ;       ***     制動モード条件          ***
16314                            6327     ;       ***                             ***
16315                            6328     ;       ***********************************
16316                            6329     ;ANS:R0=0 NOMAL
16317                            6330     ;    R0=-1 ERR
16318                                     ***** BEGIN-POOL *****
16319 00002AE6 FF00                       DATA FOR SOURCE-LINE 6299
16320 00002AE8 8000                       DATA FOR SOURCE-LINE 6312
16321 00002AEA 0FFF                       DATA FOR SOURCE-LINE 6315
16322 00002AEC 00000000                   DATA FOR SOURCE-LINE 6295
16323 00002AF0 00000000                   DATA FOR SOURCE-LINE 6297,6315
16324 00002AF4 00000000                   DATA FOR SOURCE-LINE 6310
16325                                     ***** END-POOL *****
16326 00002AF8                   6331     _BRKTST_MODE_CONF:
16327                            6332             SUB_START
16328 00002AF8 4F22                   M           STS.L   PR,@-R15                ;[必要]
16329                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16330                            6333     
16331 00002AFA E2FF              6334             MOV.B   #-1,R2                                  ;
16332                            6335     
16333                            6336     ;;;;2011-09-14  MOV.L   #_INP_MODE,R1                           ;
16334                            6337     ;;;;;   MOV.W   @R1,R0                                  ;
16335                            6338     ;;;;2010-08     TST     #_W1DUP,R0                              ;上死点復帰
16336                            6339     ;;;;2011-09-14  TST     #_W1DIC,R0                              ;段取寸動
16337                            6340     ;;;;2011-09-14  TST_BIT_OF BRKTST_MOD_CF_END                    ;NO END[[[[[[[ここは実行さ
                                          れない CMDを落とすから]]]]]
16338                            6341     
16339 00002AFC D105              6342             MOV.L   #_emg_err_flg,R1                        ;//異常ﾗｯﾁ
16340 00002AFE 6011              6343             MOV.W   @R1,R0                                  ;
16341 00002B00 D105              6344             MOV.L   #_exq_err_flg,R1                        ;//異常ﾗｯﾁ
16342 00002B02 6311              6345             MOV.W   @R1,R3                                  ;
16343 00002B04 203B              6346             OR      R3,R0                                   ;
16344 00002B06 2008              6347             TST     R0,R0                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   184
PROGRAM NAME =

16345                            6348             TST_BIT_ON BRKTST_MOD_CF_END                    ;
16346 00002B08 8B00                   M           BF      BRKTST_MOD_CF_END
16347                            6349     
16348 00002B0A 222A              6350             XOR     R2,R2                                   ;
16349 00002B0C                   6351     BRKTST_MOD_CF_END:
16350 00002B0C 6023              6352             MOV     R2,R0                                   ;
16351                            6353             SUB_END
16352                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16353 00002B0E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16354                            6354             M_RTS
16355 00002B10 000B                   M           RTS                             ;RTSの後ろの
16356 00002B12 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16357                            6355     
16358                            6356     ;       *******************************************
16359                            6357     ;       ***                                     ***
16360                            6358     ;       ***                                     ***
16361                            6359     ;       ***                                     ***
16362                            6360     ;       *******************************************
16363                                     ***** BEGIN-POOL *****
16364 00002B14 00000000                   DATA FOR SOURCE-LINE 6342
16365 00002B18 00000000                   DATA FOR SOURCE-LINE 6344
16366                                     ***** END-POOL *****
16367 00002B1C                   6361             .ALIGN  4
16368 00002B1C                   6362     _BRKTST_INPUT_MAK:
16369                            6363             SUB_START
16370 00002B1C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16371                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16372                            6364     ;       -------- 2011-09-14---
16373 00002B1E D10A              6365             MOV.L   #_INP_MODE,R1                           ;
16374 00002B20 6011              6366             MOV.W   @R1,R0                                  ;
16375 00002B22 C804              6367             TST     #_W1SGL,R0                              ;安全一行程SW
16376                            6368             TST_BIT_OF BRKTST_INPUTMK_100                   ;
16377 00002B24 891A                   M           BT      BRKTST_INPUTMK_100
16378                            6369     
16379 00002B26 D109              6370             MOV.L   #_di1_cb_ctl1_dt,R1                     ;//
16380 00002B28 6011              6371             MOV.W   @R1,R0                                  ;
16381 00002B2A C810              6372             TST     #_W1OPT,R0                              ;OPT
16382                            6373             TST_BIT_ON BRKTST_INPUTMK_100                   ;OPTIONの安全でした
16383 00002B2C 8B16                   M           BF      BRKTST_INPUTMK_100
16384                            6374     
16385                            6375     ;;;;    MOV.L   #_CB_SEQ_CB_COM349,R1                           ;これは本当は違う　安全装
                                          置入／切
16386                            6376     ;;;;    MOV.W   @R1,R0                                          ;
16387                            6377     ;;;;    TST     #BIT0,R0                                        ;
16388                            6378     ;;;;    TST_BIT_OF BRKTST_INPUTMK_100                           ;
16389                            6379     
16390 00002B2E D108              6380             MOV.L   #_BRKTST_SW_IN,R1                               ;
16391 00002B30 6011              6381             MOV.W   @R1,R0                                          ;
16392 00002B32 C801              6382             TST     #BIT0,R0                                        ;
16393                            6383             TST_BIT_OF BRKTST_INPUTMK_100                           ;BIT0=BIT1=1でくる
16394 00002B34 8912                   M           BT      BRKTST_INPUTMK_100
16395                            6384     
16396                            6385             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_INPUT_CMD,LG=W,BIT=(BIT0),WKREG=R1  ;[安全一行
                                          程のみonする]
16397 00002B36 D107                   M           MOV.L   #_BRKTST_INPUT_CMD,R1           ;
16398 00002B38 6011                   M           MOV.W   @R1,R0          ;
16399 00002B3A CB01                   M           OR      #(BIT0),R0              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   185
PROGRAM NAME =

16400 00002B3C 2101                   M           MOV.W   R0,@R1          ;
16401                            6386             FAR_JSR #_BRKTST_STOPSIG_MAKE,R0                                        ;
16402 00002B3E D006                   M           MOV.L   #_BRKTST_STOPSIG_MAKE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16403 00002B40 400B                   M           JSR     @R0                     ;
16404 00002B42 0009                   M           NOP                                     ;
16405                            6387             M_BRA   BRKTST_INPUTMK_200                                              ;
16406 00002B44 A00F                   M           BRA     BRKTST_INPUTMK_200
16407 00002B46 0009                   M           NOP
16408                            6388     
16409                                     ***** BEGIN-POOL *****
16410 00002B48 00000000                   DATA FOR SOURCE-LINE 6365
16411 00002B4C 00000000                   DATA FOR SOURCE-LINE 6370
16412 00002B50 00000000                   DATA FOR SOURCE-LINE 6380
16413 00002B54 00000000                   DATA FOR SOURCE-LINE 6385
16414 00002B58 00000000                   DATA FOR SOURCE-LINE 6386
16415                                     ***** END-POOL *****
16416 00002B5C                   6389     BRKTST_INPUTMK_100:
16417 00002B5C 200A              6390             XOR     R0,R0                                   ;
16418 00002B5E D103              6391             MOV.L   #_BRKTST_INPUT_CMD,R1                   ;2011-09-14
16419 00002B60 2101              6392             MOV.W   R0,@R1                                  ;
16420 00002B62 D103              6393             MOV.L   #_BRKTST_STR_FLG,R1                     ;
16421 00002B64 2101              6394             MOV.W   R0,@R1                                  ;
16422                            6395     
16423 00002B66                   6396     BRKTST_INPUTMK_200:
16424                            6397     
16425                            6398             SUB_END
16426                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16427 00002B66 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16428                            6399             M_RTS
16429 00002B68 000B                   M           RTS                             ;RTSの後ろの
16430 00002B6A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16431                            6400     
16432                            6401     
16433                            6402     
16434                            6403     ;       ***********************************
16435                            6404     ;       ***                             ***
16436                            6405     ;       ***     制動試験準備完了条件    ***
16437                            6406     ;       ***     2010-10-22              ***
16438                            6407     ;       ***********************************
16439                            6408     ;ANS:R0=0 RDY-ON
16440                            6409     ;    R0=-1 RDY-OFF
16441                            6410     ;       FAR_JSR #_RDY_OF_SFTY_LOCK,R0   ;2006-04-10
16442                                     ***** BEGIN-POOL *****
16443 00002B6C 00000000                   DATA FOR SOURCE-LINE 6391
16444 00002B70 00000000                   DATA FOR SOURCE-LINE 6393
16445                                     ***** END-POOL *****
16446 00002B74                   6411     _BRKTST_RDY_CHK:
16447                            6412             SUB_START
16448 00002B74 4F22                   M           STS.L   PR,@-R15                ;[必要]
16449                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16450                            6413     
16451                            6414     ;       ===========================
16452                            6415     ;       ===     安全装置ﾏｽｸ     ===
16453                            6416     ;       ===========================
16454                            6417     ;;;;2012-09-25  FAR_JSR #_SFTY_MASK_START,R0    ;
16455                            6418     ;;;;2013-02-23  FAR_JSR #_SFTY_MASK_ST_NOT_DRV,R0       ;2012-09-25
16456                            6419     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   186
PROGRAM NAME =

16457                            6420     ;;;;_BRK_SADOU_CHG 2015-09-06[MCは後から修正]
16458                            6421     ;;;     FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23
16459                            6422     
16460                            6423     ;       -------- 2015-09-06---------
16461 00002B76 D104              6424             MOV.L   #(_PAR_MYU_BRK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;NO.093
16462 00002B78 6011              6425             MOV.W   @R1,R0                                                  ;
16463 00002B7A 8801              6426             CMP/EQ  #1,R0
16464 00002B7C 8908              6427             BT      BRKTST_RDY_SFTY_MASK2CHK055                                     ;停止制御
                                          有効
16465                            6428     
16466                            6429             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0                                ;
16467 00002B7E D003                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16468 00002B80 400B                   M           JSR     @R0                     ;
16469 00002B82 0009                   M           NOP                                     ;
16470                            6430             M_BRA   BRKTST_RDY_SFTY_MASK2CHK100                                     ;
16471 00002B84 A015                   M           BRA     BRKTST_RDY_SFTY_MASK2CHK100
16472 00002B86 0009                   M           NOP
16473                            6431     
16474                                     ***** BEGIN-POOL *****
16475 00002B88 00000000                   DATA FOR SOURCE-LINE 6424
16476 00002B8C 00000000                   DATA FOR SOURCE-LINE 6429
16477                                     ***** END-POOL *****
16478 00002B90                   6432     BRKTST_RDY_SFTY_MASK2CHK055:
16479                            6433     
16480 00002B90 D104              6434             MOV.L   #_DRV_START_KEEP,R1
16481 00002B92 6011              6435             MOV.W   @R1,R0                          ;
16482 00002B94 C801              6436             TST     #BIT0,R0                        ;
16483                            6437             TST_BIT_ON BRKTST_RDY_SFTY_MASK2CHK060          ;
16484 00002B96 8B09                   M           BF      BRKTST_RDY_SFTY_MASK2CHK060
16485                            6438     
16486                            6439             FAR_JSR #_NEWMASK_SEL_STOPMSK,R0        ;2013-02-23 新ｿﾌﾄは
16487 00002B98 D003                   M           MOV.L   #_NEWMASK_SEL_STOPMSK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16488 00002B9A 400B                   M           JSR     @R0                     ;
16489 00002B9C 0009                   M           NOP                                     ;
16490                            6440             M_BRA   BRKTST_RDY_SFTY_MASK2CHK100             ;
16491 00002B9E A008                   M           BRA     BRKTST_RDY_SFTY_MASK2CHK100
16492 00002BA0 0009                   M           NOP
16493                            6441     
16494                                     ***** BEGIN-POOL *****
16495 00002BA2 0000                       ALIGNMENT CODE
16496 00002BA4 00000000                   DATA FOR SOURCE-LINE 6434
16497 00002BA8 00000000                   DATA FOR SOURCE-LINE 6439
16498                                     ***** END-POOL *****
16499 00002BAC                   6442     BRKTST_RDY_SFTY_MASK2CHK060:
16500                            6443             FAR_JSR #_SFTY_MASK_END,R0              ;
16501 00002BAC D011                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16502 00002BAE 400B                   M           JSR     @R0                     ;
16503 00002BB0 0009                   M           NOP                                     ;
16504 00002BB2                   6444     BRKTST_RDY_SFTY_MASK2CHK100:
16505                            6445     
16506                            6446     
16507                            6447     
16508 00002BB2 D111              6448             MOV.L   #_dq1_cb_out1,R1        ;//+0:制御出力(203)
16509 00002BB4 6011              6449             MOV.W   @R1,R0                  ;
16510 00002BB6 C820              6450             TST     #_WORDY,R0              ;RDY
16511                            6451             TST_BIT_ON BRKTST_RDYCK_0200    ;(準備完了ON)
16512 00002BB8 8B2E                   M           BF      BRKTST_RDYCK_0200
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   187
PROGRAM NAME =

16513                            6452     
16514                            6453     ;;;;_BRK_SADOU_CHG EQ 0 廃止 2015-09-06
16515                            6454     ;;;;    FAR_JSR #_RDY_OF_SFTY_LOCK,R0   ;
16516                            6455     
16517                            6456             FAR_JSR #_BRK_RDYON_CONF1,R0    ;340.14,SAFTY
16518 00002BBA D010                   M           MOV.L   #_BRK_RDYON_CONF1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16519 00002BBC 400B                   M           JSR     @R0                     ;
16520 00002BBE 0009                   M           NOP                                     ;
16521 00002BC0 2008              6457             TST     R0,R0                   ;
16522                            6458             TST_BIT_ON BRKTST_RDYCHK_OFF    ;
16523 00002BC2 8B41                   M           BF      BRKTST_RDYCHK_OFF
16524                            6459     
16525 00002BC4 D10E              6460             MOV.L   #_BTTN_FLG,R1           ;
16526 00002BC6 6011              6461             MOV.W   @R1,R0                  ;
16527 00002BC8 C801              6462             TST     #BIT0,R0                ;両手ﾌﾘ?
16528                            6463             TST_BIT_OF BRKTST_RDYCHK_OFF    ;
16529 00002BCA 893D                   M           BT      BRKTST_RDYCHK_OFF
16530                            6464     
16531 00002BCC 200A              6465             XOR     R0,R0
16532 00002BCE D10D              6466             MOV.L   #_SET_UP_TIM,R1         ;//ｾｯﾄｱｯﾌﾟ(0なの?)
16533 00002BD0 2101              6467             MOV.W   R0,@R1                  ;
16534                            6468     
16535 00002BD2 920E              6469             MOV.W   #_SYS_BSAME_TIM,R2      ;
16536 00002BD4 D10C              6470             MOV.L   #_SAME_TIM,R1           ;//運転同時釦
16537 00002BD6 2121              6471             MOV.W   R2,@R1                  ;
16538                            6472     
16539                            6473             FAR_JSR #_CPU_AB_RDY_ON_OUT,R0          ;
16540 00002BD8 D00C                   M           MOV.L   #_CPU_AB_RDY_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16541 00002BDA 400B                   M           JSR     @R0                     ;
16542 00002BDC 0009                   M           NOP                                     ;
16543                            6474             FAR_JSR #_CPU_BA_RDY_ON_JG,R0           ;
16544 00002BDE D00C                   M           MOV.L   #_CPU_BA_RDY_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16545 00002BE0 400B                   M           JSR     @R0                     ;
16546 00002BE2 0009                   M           NOP                                     ;
16547 00002BE4 2008              6475             TST     R0,R0                           ;
16548                            6476             TST_BIT_OF BRKTST_RDYCK_0198            ;WAIT
16549 00002BE6 8902                   M           BT      BRKTST_RDYCK_0198
16550                            6477             FAR_JSR #_RDY_ON,R1                     ;準備完了へ遷移
16551 00002BE8 D10A                   M           MOV.L   #_RDY_ON,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16552 00002BEA 410B                   M           JSR     @R1                     ;
16553 00002BEC 0009                   M           NOP                                     ;
16554 00002BEE                   6478     BRKTST_RDYCK_0198:                              ;
16555                            6479             M_BRA   BRKTST_RDYCHK_START_WAIT        ;RDY-ON待ち
16556 00002BEE A02E                   M           BRA     BRKTST_RDYCHK_START_WAIT
16557 00002BF0 0009                   M           NOP
16558                            6480     
16559                            6481     
16560                            6482     
16561                            6483     ;       -------準備完了状態
16562                                     ***** BEGIN-POOL *****
16563 00002BF2 01F4                       DATA FOR SOURCE-LINE 6469
16564 00002BF4 00000000                   DATA FOR SOURCE-LINE 6443
16565 00002BF8 00000000                   DATA FOR SOURCE-LINE 6448
16566 00002BFC 00000000                   DATA FOR SOURCE-LINE 6456
16567 00002C00 00000000                   DATA FOR SOURCE-LINE 6460
16568 00002C04 00000000                   DATA FOR SOURCE-LINE 6466
16569 00002C08 00000000                   DATA FOR SOURCE-LINE 6470
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   188
PROGRAM NAME =

16570 00002C0C 00000000                   DATA FOR SOURCE-LINE 6473
16571 00002C10 00000000                   DATA FOR SOURCE-LINE 6474
16572 00002C14 00000000                   DATA FOR SOURCE-LINE 6477
16573                                     ***** END-POOL *****
16574 00002C18                   6484     BRKTST_RDYCK_0200       ;(準備完了ON状態)
16575                            6485             FAR_JSR #_BRK_RDYON_CONF1,R0    ;340.14,SAFTY
16576 00002C18 D003                   M           MOV.L   #_BRK_RDYON_CONF1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16577 00002C1A 400B                   M           JSR     @R0                     ;
16578 00002C1C 0009                   M           NOP                                     ;
16579 00002C1E 2008              6486             TST     R0,R0                   ;
16580                            6487             TST_BIT_ON BRKTST_RDYCHK_OFF    ;
16581 00002C20 8B12                   M           BF      BRKTST_RDYCHK_OFF
16582                            6488             M_BRA   BRKTST_RDYCHK_ON        ;
16583 00002C22 A003                   M           BRA     BRKTST_RDYCHK_ON
16584 00002C24 0009                   M           NOP
16585                            6489     
16586                            6490     
16587                                     ***** BEGIN-POOL *****
16588 00002C26 0000                       ALIGNMENT CODE
16589 00002C28 00000000                   DATA FOR SOURCE-LINE 6485
16590                                     ***** END-POOL *****
16591 00002C2C                   6491     BRKTST_RDYCHK_ON:
16592                            6492             FAR_JSR #_RDY_ON,R1                                     ;
16593 00002C2C D104                   M           MOV.L   #_RDY_ON,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16594 00002C2E 410B                   M           JSR     @R1                     ;
16595 00002C30 0009                   M           NOP                                     ;
16596                            6493             FAR_JSR #_CPU_AB_RDY_ON_OUT,R0                          ;
16597 00002C32 D004                   M           MOV.L   #_CPU_AB_RDY_ON_OUT,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16598 00002C34 400B                   M           JSR     @R0                     ;
16599 00002C36 0009                   M           NOP                                     ;
16600 00002C38 255A              6494             XOR     R5,R5                                           ;
16601                            6495             M_BRA   BRKTST_RDYCHK_END                               ;
16602 00002C3A A009                   M           BRA     BRKTST_RDYCHK_END
16603 00002C3C 0009                   M           NOP
16604                            6496     
16605                            6497     
16606                            6498     
16607                                     ***** BEGIN-POOL *****
16608 00002C3E 0000                       ALIGNMENT CODE
16609 00002C40 00000000                   DATA FOR SOURCE-LINE 6492
16610 00002C44 00000000                   DATA FOR SOURCE-LINE 6493
16611                                     ***** END-POOL *****
16612 00002C48                   6499     BRKTST_RDYCHK_OFF:
16613                            6500             FAR_JSR #_BRKTST_RDY_OFF_OUT,R0
16614 00002C48 D003                   M           MOV.L   #_BRKTST_RDY_OFF_OUT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16615 00002C4A 400B                   M           JSR     @R0                     ;
16616 00002C4C 0009                   M           NOP                                     ;
16617 00002C4E                   6501     BRKTST_RDYCHK_START_WAIT:
16618 00002C4E E5FF              6502             MOV     #-1,R5                                          ;起動受付不可
16619 00002C50                   6503     BRKTST_RDYCHK_END:
16620 00002C50 6053              6504             MOV     R5,R0                                           ;
16621                            6505     
16622                            6506             SUB_END
16623                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16624 00002C52 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16625                            6507             M_RTS
16626 00002C54 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   189
PROGRAM NAME =

16627 00002C56 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16628                            6508     
16629                            6509     
16630                                     ***** BEGIN-POOL *****
16631 00002C58 00000000                   DATA FOR SOURCE-LINE 6500
16632                                     ***** END-POOL *****
16633 00002C5C                   6510     _BRKTST_RDY_OFF_OUT:
16634                            6511             SUB_START
16635 00002C5C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16636                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16637                            6512             FAR_JSR #_RDY_OF,R1                     ;
16638 00002C5E D107                   M           MOV.L   #_RDY_OF,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16639 00002C60 410B                   M           JSR     @R1                     ;
16640 00002C62 0009                   M           NOP                                     ;
16641                            6513             FAR_JSR #_CMPSTP_POS_START_CLR,R0       ;//起動したいをOFF
16642 00002C64 D006                   M           MOV.L   #_CMPSTP_POS_START_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16643 00002C66 400B                   M           JSR     @R0                     ;
16644 00002C68 0009                   M           NOP                                     ;
16645                            6514             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
16646 00002C6A D006                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16647 00002C6C 400B                   M           JSR     @R0                     ;
16648 00002C6E 0009                   M           NOP                                     ;
16649 00002C70 200A              6515             XOR     R0,R0                           ;
16650 00002C72 D105              6516             MOV.L   #_DRV_START_KEEP,R1             ;FLG
16651 00002C74 2101              6517             MOV.W   R0,@R1                          ;
16652                            6518             SUB_END
16653                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16654 00002C76 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16655                            6519             M_RTS
16656 00002C78 000B                   M           RTS                             ;RTSの後ろの
16657 00002C7A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16658                            6520     
16659                            6521     ;       ***********************************
16660                            6522     ;       ***                             ***
16661                            6523     ;       ***     motor起動               ***
16662                            6524     ;       ***                             ***
16663                            6525     ;       ***********************************
16664                            6526             .IMPORT _BRKTST_POS_START               ;
16665                            6527     ;       --------------<同期ソフトはできないつくり>-----------------------------
16666                                     ***** BEGIN-POOL *****
16667 00002C7C 00000000                   DATA FOR SOURCE-LINE 6512
16668 00002C80 00000000                   DATA FOR SOURCE-LINE 6513
16669 00002C84 00000000                   DATA FOR SOURCE-LINE 6514
16670 00002C88 00000000                   DATA FOR SOURCE-LINE 6516
16671                                     ***** END-POOL *****
16672 00002C8C                   6528     _BRKTST_MOTOR_START:
16673                            6529             SUB_START
16674 00002C8C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16675                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16676                            6530     
16677                            6531     ;       ===================================
16678                            6532     ;       ===     起動処理                ===
16679                            6533     ;       ===================================
16680                            6534             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT3),WKRG1=R1,WKRG2=R4
16681 00002C8E D124                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
16682 00002C90 6011                   M           MOV.W   @R1,R0          ;
16683 00002C92 9442                   M           MOV.W   #LWORD (~BIT3),R4       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   190
PROGRAM NAME =

16684 00002C94 2049                   M           AND     R4,R0           ;
16685 00002C96 2101                   M           MOV.W   R0,@R1          ;
16686                            6535             FAR_JSR #_SV_UP_HOLD_CHK,R0     ;(上昇ﾎｰﾙﾄﾞ工程作成/)
16687 00002C98 D022                   M           MOV.L   #_SV_UP_HOLD_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16688 00002C9A 400B                   M           JSR     @R0                     ;
16689 00002C9C 0009                   M           NOP                                     ;
16690                            6536             FAR_JSR #_UP_HOLD_FLG_CLR1,R0   ;(不要でしょう)
16691 00002C9E D022                   M           MOV.L   #_UP_HOLD_FLG_CLR1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16692 00002CA0 400B                   M           JSR     @R0                     ;
16693 00002CA2 0009                   M           NOP                                     ;
16694                            6537             FAR_JSR #_UP_HOLD_FLG_CLR2,R0   ;
16695 00002CA4 D021                   M           MOV.L   #_UP_HOLD_FLG_CLR2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16696 00002CA6 400B                   M           JSR     @R0                     ;
16697 00002CA8 0009                   M           NOP                                     ;
16698                            6538     
16699                            6539     ;       ==== 2004-01-28 ==
16700 00002CAA 200A              6540             XOR     R0,R0
16701 00002CAC D120              6541             MOV.L   #_ENC360_OVER_FLG,R1            ;
16702 00002CAE 2101              6542             MOV.W   R0,@R1                          ;
16703                            6543     
16704                            6544             FAR_JSR #_SFTY_MASK_END,R0              ;(結果としてはﾏｽｸするかもしれない)
16705 00002CB0 D020                   M           MOV.L   #_SFTY_MASK_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16706 00002CB2 400B                   M           JSR     @R0                     ;
16707 00002CB4 0009                   M           NOP                                     ;
16708                            6545             FAR_JSR #_CB_CTL_START_INI,R0
16709 00002CB6 D020                   M           MOV.L   #_CB_CTL_START_INI,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16710 00002CB8 400B                   M           JSR     @R0                     ;
16711 00002CBA 0009                   M           NOP                                     ;
16712                            6546             FAR_JSR #_STOPPING_TIM_MOV_INI,R0       ;
16713 00002CBC D01F                   M           MOV.L   #_STOPPING_TIM_MOV_INI,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16714 00002CBE 400B                   M           JSR     @R0                     ;
16715 00002CC0 0009                   M           NOP                                     ;
16716                            6547     
16717                            6548     ;;;;;   FAR_JSR #_MN_POS_CTRL_START,R0          ;
16718                            6549     
16719                            6550     
16720                            6551             FAR_JSR #_BRKTST_POS_START,R0
16721 00002CC2 D01F                   M           MOV.L   #_BRKTST_POS_START,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16722 00002CC4 400B                   M           JSR     @R0                     ;
16723 00002CC6 0009                   M           NOP                                     ;
16724                            6552     
16725                            6553     
16726                            6554     ;       --------2009-04-01 起動したらフラグクリア[原点時の]
16727                            6555             MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1      ;
                                          原点起動で使用
16728 00002CC8 D41E                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
16729 00002CCA 6041                   M           MOV.W   @R4,R0          ;
16730 00002CCC 9126                   M           MOV.W   #LWORD (~BIT5),R1       ;
16731 00002CCE 2019                   M           AND     R1,R0           ;
16732 00002CD0 2401                   M           MOV.W   R0,@R4          ;
16733                            6556             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
16734 00002CD2 D41D                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
16735 00002CD4 6041                   M           MOV.W   @R4,R0          ;
16736 00002CD6 9121                   M           MOV.W   #LWORD (~BIT5),R1       ;
16737 00002CD8 2019                   M           AND     R1,R0           ;
16738 00002CDA 2401                   M           MOV.W   R0,@R4          ;
16739                            6557     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   191
PROGRAM NAME =

16740                            6558     
16741                            6559             MEM1_DATA_SET MEM=_DRV_ACT_FLG,LG=W,DATA=BIT0,WKREG1=R1,WKREG2=R2       ;運転動作ﾌ
                                          ﾗｸﾞ BIT0:運転中
16742 00002CDC D11B                   M           MOV.L   #_DRV_ACT_FLG,R1                ;
16743 00002CDE 921E                   M           MOV.W   #BIT0,R2                ;
16744 00002CE0 2121                   M           MOV.W   R2,@R1  ;
16745                            6560             FAR_JSR #_API_BREAK_VALV_FLG_ON,R0      ;2014-08-05
16746 00002CE2 D01B                   M           MOV.L   #_API_BREAK_VALV_FLG_ON,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16747 00002CE4 400B                   M           JSR     @R0                     ;
16748 00002CE6 0009                   M           NOP                                     ;
16749                            6561     
16750                            6562             FAR_JSR #_CMPSTP_CTRL_REDY_CLR,R0       ;//準備完了にしたいをOFF
16751 00002CE8 D01A                   M           MOV.L   #_CMPSTP_CTRL_REDY_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16752 00002CEA 400B                   M           JSR     @R0                     ;
16753 00002CEC 0009                   M           NOP                                     ;
16754                            6563             FAR_JSR #_RDY_OF,R1                     ;
16755 00002CEE D11A                   M           MOV.L   #_RDY_OF,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16756 00002CF0 410B                   M           JSR     @R1                     ;
16757 00002CF2 0009                   M           NOP                                     ;
16758                            6564     
16759                            6565     ;       ==== 2007-09-07 ちゃんとｾﾙﾌを生かす===
16760                            6566     ;;      .IMPORT _PAR_SELFCHK_POWSEL
16761                            6567     
16762 00002CF4 D119              6568             MOV.L   #_PAR_SELFCHK_POWSEL,R1         ;
16763 00002CF6 6011              6569             MOV.W   @R1,R0                          ;
16764 00002CF8 8801              6570             CMP/EQ  #1,R0                           ;
16765 00002CFA 8908              6571             BT      BRKTST_STR_POW_100              ;"1"ならちゃんとセルフする
16766                            6572     
16767                            6573     ;       ===== 2006-12-06 [1]=====
16768 00002CFC 900F              6574             MOV.W   #BIT0,R0                        ;"0"なら起動１回後はセルフしない
16769 00002CFE D118              6575             MOV.L   #_SELF_LOCK_FLG,R1              ;
16770 00002D00 2101              6576             MOV.W   R0,@R1                          ;
16771 00002D02 222A              6577             XOR     R2,R2                           ;
16772 00002D04 233A              6578             XOR     R3,R3                           ;
16773 00002D06 D117              6579             MOV.L   #_SELF_CHK_SEL,R1               ;
16774 00002D08 2121              6580             MOV.W   R2,@R1                          ;
16775 00002D0A D117              6581             MOV.L   #_SELF_CHK_MATHED,R1            ;
16776 00002D0C 2131              6582             MOV.W   R3,@R1                          ;
16777                            6583     
16778 00002D0E                   6584     BRKTST_STR_POW_100
16779                            6585     
16780                            6586     ;       ====== 2007-01-16========
16781                            6587             FAR_JSR #_START_SFTY_LOCK_CLR,R0
16782 00002D0E D017                   M           MOV.L   #_START_SFTY_LOCK_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16783 00002D10 400B                   M           JSR     @R0                     ;
16784 00002D12 0009                   M           NOP                                     ;
16785                            6588     
16786                            6589     
16787                            6590             SUB_END
16788                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16789 00002D14 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16790                            6591             M_RTS
16791 00002D16 000B                   M           RTS                             ;RTSの後ろの
16792 00002D18 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16793                            6592     
16794                            6593     
16795                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   192
PROGRAM NAME =

16796 00002D1A FFF7                       DATA FOR SOURCE-LINE 6534
16797 00002D1C FFDF                       DATA FOR SOURCE-LINE 6555,6556
16798 00002D1E 0001                       DATA FOR SOURCE-LINE 6559,6574
16799 00002D20 00000000                   DATA FOR SOURCE-LINE 6534
16800 00002D24 00000000                   DATA FOR SOURCE-LINE 6535
16801 00002D28 00000000                   DATA FOR SOURCE-LINE 6536
16802 00002D2C 00000000                   DATA FOR SOURCE-LINE 6537
16803 00002D30 00000000                   DATA FOR SOURCE-LINE 6541
16804 00002D34 00000000                   DATA FOR SOURCE-LINE 6544
16805 00002D38 00000000                   DATA FOR SOURCE-LINE 6545
16806 00002D3C 00000000                   DATA FOR SOURCE-LINE 6546
16807 00002D40 00000000                   DATA FOR SOURCE-LINE 6551
16808 00002D44 00000000                   DATA FOR SOURCE-LINE 6555
16809 00002D48 00000000                   DATA FOR SOURCE-LINE 6556
16810 00002D4C 00000000                   DATA FOR SOURCE-LINE 6559
16811 00002D50 00000000                   DATA FOR SOURCE-LINE 6560
16812 00002D54 00000000                   DATA FOR SOURCE-LINE 6562
16813 00002D58 00000000                   DATA FOR SOURCE-LINE 6563
16814 00002D5C 00000000                   DATA FOR SOURCE-LINE 6568
16815 00002D60 00000000                   DATA FOR SOURCE-LINE 6575
16816 00002D64 00000000                   DATA FOR SOURCE-LINE 6579
16817 00002D68 00000000                   DATA FOR SOURCE-LINE 6581
16818 00002D6C 00000000                   DATA FOR SOURCE-LINE 6587
16819                                     ***** END-POOL *****
16820 00002D70                   6594             .ALIGN  4
16821 00002D70                   6595     _BRKTST_CHKDT_MAK:
16822                            6596             SUB_START
16823 00002D70 4F22                   M           STS.L   PR,@-R15                ;[必要]
16824                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16825 00002D72 D00C              6597             MOV.L   #_LINK_MAX_SPD_PLS,R0   ;
16826 00002D74 6202              6598             MOV.L   @R0,R2                  ;
16827 00002D76 9414              6599             MOV.W   #_SPD_PER_MAX,R4        ;100.00per
16828                            6600     
16829 00002D78 D00B              6601             MOV.L   #_WPAR_BRKTOUT_SPD,R0           ;出力LATE
16830 00002D7A 6101              6602             MOV.W   @R0,R1                          ;
16831 00002D7C 4115              6603             CMP/PL  R1                              ;
16832 00002D7E 8900              6604             BT      BRKTST_CHKDTMK_100                      ;
16833 00002D80 6143              6605             MOV     R4,R1                                   ;
16834 00002D82                   6606     BRKTST_CHKDTMK_100:                                     ;
16835                            6607             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
16836 00002D82 D00A                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16837 00002D84 400B                   M           JSR     @R0                     ;
16838 00002D86 0009                   M           NOP                                     ;
16839 00002D88 D109              6608             MOV.L   #_BRKTST_OUTSPD_PLS,R1          ;
16840 00002D8A 2122              6609             MOV.L   R2,@R1                          ;
16841                            6610     
16842 00002D8C D009              6611             MOV.L   #_WPAR_BRKTCHK_SPD,R0           ;
16843 00002D8E 6101              6612             MOV.W   @R0,R1                          ;
16844 00002D90 9407              6613             MOV.W   #_SPD_PER_MAX,R4                ;100.00per
16845                            6614             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
16846 00002D92 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16847 00002D94 400B                   M           JSR     @R0                     ;
16848 00002D96 0009                   M           NOP                                     ;
16849 00002D98 D107              6615             MOV.L   #_BRKTST_CHKSPD_PLS,R1
16850 00002D9A 2122              6616             MOV.L   R2,@R1                          ;
16851                            6617     
16852                            6618             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   193
PROGRAM NAME =

16853                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16854 00002D9C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16855                            6619             M_RTS
16856 00002D9E 000B                   M           RTS                             ;RTSの後ろの
16857 00002DA0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16858                            6620     
16859                            6621     
16860                            6622     
16861                            6623     
16862                            6624     
16863                            6625     ;       ***********************************
16864                            6626     ;       ***                             ***
16865                            6627     ;       ***             速度            ***
16866                            6628     ;       ***                             ***
16867                            6629     ;       ***********************************
16868                                     ***** BEGIN-POOL *****
16869 00002DA2 2710                       DATA FOR SOURCE-LINE 6599,6613
16870 00002DA4 00000000                   DATA FOR SOURCE-LINE 6597
16871 00002DA8 00000000                   DATA FOR SOURCE-LINE 6601
16872 00002DAC 00000000                   DATA FOR SOURCE-LINE 6607,6614
16873 00002DB0 00000000                   DATA FOR SOURCE-LINE 6608
16874 00002DB4 00000000                   DATA FOR SOURCE-LINE 6611
16875 00002DB8 00000000                   DATA FOR SOURCE-LINE 6615
16876                                     ***** END-POOL *****
16877 00002DBC                   6630             .ALIGN  4
16878 00002DBC                   6631     _BRKTST_SPD_CHK:
16879                            6632             SUB_START
16880 00002DBC 4F22                   M           STS.L   PR,@-R15                ;[必要]
16881                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16882 00002DBE D106              6633             MOV.L   #_ABS_ENC_PLS_SPD,R1    ;
16883 00002DC0 6212              6634             MOV.L   @R1,R2                  ;PV(ABS)
16884 00002DC2 D106              6635             MOV.L   #_BRKTST_CHKSPD_PLS,R1  ;
16885 00002DC4 6012              6636             MOV.L   @R1,R0                  ;SV
16886 00002DC6 3202              6637             CMP/HS  R0,R2                   ;R0=< R2?
16887 00002DC8 8B03              6638             BF      BRKTST_SPDCHK_100       ;NO JUMP
16888                            6639     
16889                            6640             MEM1_BIT0_TO_BIT7_ORSET MEM=_BRKTST_MOD_FLG,LG=W,BIT=(BIT4),WKREG=R1    ;BIT4速度ﾗ
                                          ｯﾁ
16890 00002DCA D105                   M           MOV.L   #_BRKTST_MOD_FLG,R1             ;
16891 00002DCC 6011                   M           MOV.W   @R1,R0          ;
16892 00002DCE CB10                   M           OR      #(BIT4),R0              ;
16893 00002DD0 2101                   M           MOV.W   R0,@R1          ;
16894                            6641     
16895 00002DD2                   6642     BRKTST_SPDCHK_100:
16896                            6643             SUB_END
16897                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16898 00002DD2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16899                            6644             M_RTS
16900 00002DD4 000B                   M           RTS                             ;RTSの後ろの
16901 00002DD6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16902                            6645     
16903                            6646     
16904                            6647     ;       ***********************************
16905                            6648     ;       ***                             ***
16906                            6649     ;       ***     motor停止               ***
16907                            6650     ;       ***                             ***
16908                            6651     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   194
PROGRAM NAME =

16909                                     ***** BEGIN-POOL *****
16910 00002DD8 00000000                   DATA FOR SOURCE-LINE 6633
16911 00002DDC 00000000                   DATA FOR SOURCE-LINE 6635
16912 00002DE0 00000000                   DATA FOR SOURCE-LINE 6640
16913                                     ***** END-POOL *****
16914 00002DE4                   6652             .ALIGN  4
16915                            6653             .IMPORT _EMG_STOP_SPEC;相手には教えない
16916                            6654     
16917 00002DE4                   6655     _BRKTST_MOTOR_STOP:
16918                            6656             SUB_START
16919 00002DE4 4F22                   M           STS.L   PR,@-R15                ;[必要]
16920                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16921                            6657             FAR_JSR #_EMG_STOP_SPEC,R0              ;相手には教えない
16922 00002DE6 D003                   M           MOV.L   #_EMG_STOP_SPEC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16923 00002DE8 400B                   M           JSR     @R0                     ;
16924 00002DEA 0009                   M           NOP                                     ;
16925                            6658             SUB_END
16926                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16927 00002DEC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16928                            6659             M_RTS
16929 00002DEE 000B                   M           RTS                             ;RTSの後ろの
16930 00002DF0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16931                            6660     
16932                            6661     ;       *******************************************
16933                            6662     ;       ***                                     ***
16934                            6663     ;       ***                                     ***
16935                            6664     ;       ***                                     ***
16936                            6665     ;       *******************************************
16937                                     ***** BEGIN-POOL *****
16938 00002DF2 0000                       ALIGNMENT CODE
16939 00002DF4 00000000                   DATA FOR SOURCE-LINE 6657
16940                                     ***** END-POOL *****
16941 00002DF8                   6666             .ALIGN  4                               ;
16942 00002DF8                   6667     _BRKTST_STOPSIG_MAKE:
16943                            6668             SUB_START
16944 00002DF8 4F22                   M           STS.L   PR,@-R15                ;[必要]
16945                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16946 00002DFA D10D              6669             MOV.L   #_BRKTST_STR_FLG,R1                             ;
16947 00002DFC 6011              6670             MOV.W   @R1,R0                                          ;
16948 00002DFE C801              6671             TST     #BIT0,R0                                        ;
16949                            6672             TST_BIT_OF BRKTST_STOPSIG_MK300                         ;
16950 00002E00 8912                   M           BT      BRKTST_STOPSIG_MK300
16951                            6673     
16952 00002E02 D40C              6674             MOV.L   #_BRKTST_STP_ABSPLS,R4                                  ;
16953 00002E04 6542              6675             MOV.L   @R4,R5                                                  ;
16954 00002E06 5641              6676             MOV.L   @(1*4,R4),R6                                            ;
16955                            6677     
16956 00002E08 D40B              6678             MOV.L   #_LINK_PV_ABSPLS,R4                                     ;
16957 00002E0A 6146              6679             MOV.L   @R4+,R1                                                 ;
16958 00002E0C 6242              6680             MOV.L   @R4,R2                                                  ;
16959                            6681     
16960                            6682             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6       ;R5,R6 - R1,R2 =R5
                                          ,R6<0なら停止
16961 00002E0E 0008                   M           CLRT
16962 00002E10 362A                   M           SUBC    R2,R6
16963 00002E12 351A                   M           SUBC    R1,R5
16964 00002E14 4511              6683             CMP/PZ  R5
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   195
PROGRAM NAME =

16965 00002E16 8907              6684             BT      BRKTST_STOPSIG_MK300                            ;
16966                            6685     
16967 00002E18 D105              6686             MOV.L   #_BRKTST_STR_FLG,R1                             ;
16968 00002E1A 6011              6687             MOV.W   @R1,R0                                          ;
16969 00002E1C C9FE              6688             AND     #LOW ~BIT0,R0                                   ;
16970 00002E1E 2101              6689             MOV.W   R0,@R1                                          ;
16971                            6690     
16972 00002E20 D106              6691             MOV.L   #_BRKTST_INPUT_CMD,R1                           ;2011-09-14
16973 00002E22 6011              6692             MOV.W   @R1,R0                                          ;
16974 00002E24 CB02              6693             OR      #BIT1,R0                                        ;
16975 00002E26 2101              6694             MOV.W   R0,@R1                                          ;
16976                            6695     
16977 00002E28                   6696     BRKTST_STOPSIG_MK300:
16978                            6697             SUB_END
16979                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16980 00002E28 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16981                            6698             M_RTS
16982 00002E2A 000B                   M           RTS                             ;RTSの後ろの
16983 00002E2C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16984                            6699     
16985                            6700     
16986                            6701     
16987                            6702     ;       ***********************************
16988                            6703     ;       ***                             ***
16989                            6704     ;       ***     RDY-ON 維持条件         ***
16990                            6705     ;       ***                             ***
16991                            6706     ;       ***********************************
16992                            6707     ;       R0=0 RDY ON KEEP
16993                                     ***** BEGIN-POOL *****
16994 00002E2E 0000                       ALIGNMENT CODE
16995 00002E30 00000000                   DATA FOR SOURCE-LINE 6669,6686
16996 00002E34 00000000                   DATA FOR SOURCE-LINE 6674
16997 00002E38 00000000                   DATA FOR SOURCE-LINE 6678
16998 00002E3C 00000000                   DATA FOR SOURCE-LINE 6691
16999                                     ***** END-POOL *****
17000 00002E40                   6708     _BRK_RDYON_CONF1:
17001                            6709             SUB_START
17002 00002E40 4F22                   M           STS.L   PR,@-R15                ;[必要]
17003                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17004 00002E42 D108              6710             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340
17005 00002E44 6011              6711             MOV.W   @R1,R0                          ;
17006 00002E46 940C              6712             MOV.W   #BIT14,R4                       ;
17007 00002E48 2048              6713             TST     R4,R0                           ;
17008                            6714             TST_BIT_ON BRK_RDY_ON_CF_999            ;一旦停止指令
17009 00002E4A 8B11                   M           BF      BRK_RDY_ON_CF_999
17010                            6715     
17011 00002E4C D106              6716             MOV.L   #_SFTY_IN_DAT,R1                ;//安全装置入力 BIT0:前安全　BIT1:後安全装
                                          置
17012 00002E4E 6011              6717             MOV.W   @R1,R0                          ;
17013 00002E50 C803              6718             TST     #(BIT1+BIT0),R0                 ;FACT/RACT
17014                            6719             TST_BIT_ON BRK_RDY_ON_CF_999            ;
17015 00002E52 8B0D                   M           BF      BRK_RDY_ON_CF_999
17016                            6720     
17017 00002E54 D105              6721             MOV.L   #_CNT_STOP_CMD,R1               ;
17018 00002E56 6011              6722             MOV.W   @R1,R0                          ;
17019 00002E58 C801              6723             TST     #BIT0,R0                        ;
17020                            6724             TST_BIT_ON BRK_RDY_ON_CF_999            ;BIT0=連続停止,(BIT2:LOT,設定異常)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   196
PROGRAM NAME =

17021 00002E5A 8B09                   M           BF      BRK_RDY_ON_CF_999
17022                            6725     
17023                            6726     
17024 00002E5C                   6727     BRK_RDY_ON_CF_998:
17025 00002E5C 200A              6728             XOR     R0,R0                   ;準備完了
17026                            6729             M_BRA   BRK_RDY_ON_CF_EXT               ;
17027 00002E5E A008                   M           BRA     BRK_RDY_ON_CF_EXT
17028 00002E60 0009                   M           NOP
17029                            6730     
17030                                     ***** BEGIN-POOL *****
17031 00002E62 4000                       DATA FOR SOURCE-LINE 6712
17032 00002E64 00000000                   DATA FOR SOURCE-LINE 6710
17033 00002E68 00000000                   DATA FOR SOURCE-LINE 6716
17034 00002E6C 00000000                   DATA FOR SOURCE-LINE 6721
17035                                     ***** END-POOL *****
17036 00002E70                   6731     BRK_RDY_ON_CF_999:
17037 00002E70 E0FF              6732             MOV     #-1,R0                  ;準備未完了
17038 00002E72                   6733     BRK_RDY_ON_CF_EXT:
17039                            6734             SUB_END
17040                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17041 00002E72 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17042                            6735             M_RTS
17043 00002E74 000B                   M           RTS                             ;RTSの後ろの
17044 00002E76 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17045                            6736     
17046 00002E78                   6737             .ALIGN  4
17047 00002E78 0009              6738             NOP
17048 00002E7A 0009              6739             NOP
17049 00002E7C 0009              6740             NOP
17050 00002E7E 0009              6741             NOP
17051                            6742     
17052                            6743     ;       *******************************************
17053                            6744     ;       ***                                     ***
17054                            6745     ;       ***                                     ***
17055                            6746     ;       ***                                     ***
17056                            6747     ;       ***                                     ***
17057                            6748     ;       ***                                     ***
17058                            6749     ;       ***                                     ***
17059                            6750     ;       ***             R02R03新機能            ***
17060                            6751     ;       ***                                     ***
17061                            6752     ;       ***                                     ***
17062                            6753     ;       ***                                     ***
17063                            6754     ;       ***                                     ***
17064                            6755     ;       ***                                     ***
17065                            6756     ;       ***                                     ***
17066                            6757     ;       *******************************************
17067                            6758     
17068                            6759     ;       *******************************************
17069                            6760     ;       ***                                     ***
17070                            6761     ;       ***                                     ***
17071                            6762     ;       ***             外部起動                ***
17072                            6763     ;       ***                                     ***
17073                            6764     ;       ***                                     ***
17074                            6765     ;       *******************************************
17075                            6766             .EXPORT _EXT_DRVBTTN_MODE
17076 00002E80                   6767     _EXT_DRVBTTN_MODE
17077                            6768             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   197
PROGRAM NAME =

17078 00002E80 4F22                   M           STS.L   PR,@-R15                ;[必要]
17079                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17080                            6769     
17081 00002E82 D10D              6770             MOV.L   #(_PAR_EXTDRV_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
17082 00002E84 6011              6771             MOV.W   @R1,R0                                                  ;
17083 00002E86 8801              6772             CMP/EQ  #1,R0                                                   ;
17084 00002E88 8B12              6773             BF      EXT_DRVBTTN_MOD_END                                     ;
17085                            6774     
17086                            6775             FAR_JSR #_EXT_DRVBTTN_INFO_MAKE,R0              ;
17087 00002E8A D00C                   M           MOV.L   #_EXT_DRVBTTN_INFO_MAKE,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17088 00002E8C 400B                   M           JSR     @R0                     ;
17089 00002E8E 0009                   M           NOP                                     ;
17090                            6776     
17091                            6777     
17092                            6778             FAR_JSR #_EXT_DRVBTTN_MODJG_CONF,R0     ;
17093 00002E90 D00B                   M           MOV.L   #_EXT_DRVBTTN_MODJG_CONF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17094 00002E92 400B                   M           JSR     @R0                     ;
17095 00002E94 0009                   M           NOP                                     ;
17096                            6779     
17097 00002E96 930E              6780             MOV.W   #BIT15,R3
17098 00002E98 244A              6781             XOR     R4,R4                           ;
17099 00002E9A D10A              6782             MOV.L   #_EXTDRV_BTTN_USE,R1            ;//SYSPARAM+各条件
17100 00002E9C 6011              6783             MOV.W   @R1,R0                          ;
17101 00002E9E 2008              6784             TST     R0,R0                           ;
17102                            6785             TST_BIT_OF EXT_DRVBTTN_MOD100           ;
17103 00002EA0 8900                   M           BT      EXT_DRVBTTN_MOD100
17104 00002EA2 6433              6786             MOV     R3,R4                           ;
17105 00002EA4                   6787     EXT_DRVBTTN_MOD100
17106                            6788     
17107 00002EA4 6337              6789             NOT     R3,R3                           ;
17108 00002EA6 D108              6790             MOV.L   #_SQ_CBWK_TOP+_WKSQCB227,R1     ;
17109 00002EA8 6211              6791             MOV.W   @R1,R2                          ;
17110 00002EAA 2239              6792             AND     R3,R2                           ;
17111 00002EAC 224B              6793             OR      R4,R2                           ;
17112 00002EAE 2121              6794             MOV.W   R2,@R1                          ;
17113                            6795     
17114                            6796     
17115 00002EB0                   6797     EXT_DRVBTTN_MOD_END
17116                            6798     
17117                            6799             SUB_END
17118                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17119 00002EB0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17120                            6800             M_RTS
17121 00002EB2 000B                   M           RTS                             ;RTSの後ろの
17122 00002EB4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17123                            6801     
17124                            6802     
17125                            6803     
17126                            6804     ;       ***********************************
17127                            6805     ;       ***                             ***
17128                            6806     ;       ***     釦入力                  ***
17129                            6807     ;       ***                             ***
17130                            6808     ;       ***********************************
17131                                     ***** BEGIN-POOL *****
17132 00002EB6 8000                       DATA FOR SOURCE-LINE 6780
17133 00002EB8 00000000                   DATA FOR SOURCE-LINE 6770
17134 00002EBC 00000000                   DATA FOR SOURCE-LINE 6775
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   198
PROGRAM NAME =

17135 00002EC0 00000000                   DATA FOR SOURCE-LINE 6778
17136 00002EC4 00000000                   DATA FOR SOURCE-LINE 6782
17137 00002EC8 00000000                   DATA FOR SOURCE-LINE 6790
17138                                     ***** END-POOL *****
17139 00002ECC                   6809     _EXT_DRVBTTN_INFO_MAKE:
17140                            6810             SUB_START
17141 00002ECC 4F22                   M           STS.L   PR,@-R15                ;[必要]
17142                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17143                            6811     
17144                            6812     ;       ---------- 打ち抜き記憶処理だけ先に行う------------------
17145 00002ECE 255A              6813             XOR     R5,R5
17146 00002ED0 D10D              6814             MOV.L   #_CB_SEQ_CB_COM352,R1           ;//
17147 00002ED2 6011              6815             MOV.W   @R1,R0                          ;
17148 00002ED4 C801              6816             TST     #BIT0,R0                        ;
17149                            6817             TST_BIT_OF EXT_DRVBTTN_INFO_MK100       ;
17150 00002ED6 8907                   M           BT      EXT_DRVBTTN_INFO_MK100
17151                            6818     
17152 00002ED8 D10C              6819             MOV.L   #_EXTDRV_UTINUKI_FLG,R1         ;//打抜記憶
17153 00002EDA 6511              6820             MOV.W   @R1,R5                          ;自己保持
17154                            6821     
17155 00002EDC D10C              6822             MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
17156 00002EDE 6011              6823             MOV.W   @R1,R0                          ;
17157 00002EE0 940E              6824             MOV.W   #_WOATO,R4                      ;
17158 00002EE2 2048              6825             TST     R4,R0                           ;AUTO ON?
17159                            6826             TST_BIT_OF EXT_DRVBTTN_INFO_MK100
17160 00002EE4 8900                   M           BT      EXT_DRVBTTN_INFO_MK100
17161                            6827     
17162 00002EE6 E501              6828             MOV.B   #BIT0,R5                        ;
17163                            6829     
17164 00002EE8                   6830     EXT_DRVBTTN_INFO_MK100:
17165 00002EE8 D108              6831             MOV.L   #_EXTDRV_UTINUKI_FLG,R1         ;//打抜記憶
17166 00002EEA 2151              6832             MOV.W   R5,@R1                          ;
17167                            6833     
17168                            6834     
17169                            6835     ;       -----------------釦入力---------------------------
17170 00002EEC D109              6836             MOV.L   #_CB_IN_HANYO,R1                        ;//BIT8,9,10,11,12,13 6点(SQ004相
                                          当)
17171 00002EEE 6011              6837             MOV.W   @R1,R0                                  ;(論理あわせ済み信号)
17172 00002EF0 9307              6838             MOV.W   #(BIT11+BIT10),R3                       ;BIT10=N.C　0:運転 BIT11=N.O 1:運
                                          転
17173 00002EF2 2039              6839             AND     R3,R0                                   ;
17174 00002EF4 9406              6840             MOV.W   #(0+BIT10),R4                           ;両手OFF
17175 00002EF6 3040              6841             CMP/EQ  R4,R0                                   ;
17176 00002EF8 8B0E              6842             BF      EXT_DRVBTTN_INFO_MK200                  ;
17177 00002EFA E201              6843             MOV.B   #BIT0,R2                                ;
17178                            6844             M_BRA   EXT_DRVBTTN_INFO_MK400                  ;
17179 00002EFC A014                   M           BRA     EXT_DRVBTTN_INFO_MK400
17180 00002EFE 0009                   M           NOP
17181                            6845     
17182                                     ***** BEGIN-POOL *****
17183 00002F00 0040                       DATA FOR SOURCE-LINE 6824
17184 00002F02 0C00                       DATA FOR SOURCE-LINE 6838
17185 00002F04 0400                       DATA FOR SOURCE-LINE 6840
17186 00002F06 0000                       ALIGNMENT CODE
17187 00002F08 00000000                   DATA FOR SOURCE-LINE 6814
17188 00002F0C 00000000                   DATA FOR SOURCE-LINE 6819,6831
17189 00002F10 00000000                   DATA FOR SOURCE-LINE 6822
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   199
PROGRAM NAME =

17190 00002F14 00000000                   DATA FOR SOURCE-LINE 6836
17191                                     ***** END-POOL *****
17192 00002F18                   6846     EXT_DRVBTTN_INFO_MK200
17193 00002F18 9404              6847             MOV.W   #(BIT11+0),R4                           ;両手ON
17194 00002F1A 3040              6848             CMP/EQ  R4,R0                                   ;
17195 00002F1C 8B03              6849             BF      EXT_DRVBTTN_INFO_MK300                  ;
17196 00002F1E E204              6850             MOV.B   #BIT2,R2                                ;
17197                            6851             M_BRA   EXT_DRVBTTN_INFO_MK400                  ;
17198 00002F20 A002                   M           BRA     EXT_DRVBTTN_INFO_MK400
17199 00002F22 0009                   M           NOP
17200                            6852     
17201                                     ***** BEGIN-POOL *****
17202 00002F24 0800                       DATA FOR SOURCE-LINE 6847
17203                                     ***** END-POOL *****
17204 00002F26                   6853     EXT_DRVBTTN_INFO_MK300
17205                            6854     
17206 00002F26 E202              6855             MOV.B   #BIT1,R2                                ;片手ON
17207                            6856     
17208 00002F28                   6857     EXT_DRVBTTN_INFO_MK400:
17209 00002F28 D107              6858             MOV.L   #_EXT_BTTN_FLG,R1                       ;
17210 00002F2A 2121              6859             MOV.W   R2,@R1                                  ;
17211                            6860                                                             ;BIT10=BIT11=1 1秒で異常
17212                            6861     
17213                            6862     
17214 00002F2C D107              6863             MOV.L   #_EXTDRV_BTTN_USE,R1                    ;//SYSPARAM+各条件
17215 00002F2E 6211              6864             MOV.W   @R1,R2                                  ;
17216 00002F30 2228              6865             TST     R2,R2                                   ;
17217                            6866             TST_BIT_OF EXT_DRVBTTN_INFO_MK410               ;
17218 00002F32 8902                   M           BT      EXT_DRVBTTN_INFO_MK410
17219                            6867     
17220                            6868     ;       ---------- 釦異常ﾁｪｯｸ input R0[実入力]
17221 00002F34 9406              6869             MOV.W   #(BIT11+BIT10),R4                       ;
17222 00002F36 3040              6870             CMP/EQ  R4,R0                                   ;異常?
17223 00002F38 890C              6871             BT      EXT_DRVBTTN_INFO_MK420                  ;YES
17224 00002F3A                   6872     EXT_DRVBTTN_INFO_MK410:
17225                            6873             FAR_JSR #_EXT_DRVBTTN_ERRTIM_SET,R0             ;
17226 00002F3A D005                   M           MOV.L   #_EXT_DRVBTTN_ERRTIM_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17227 00002F3C 400B                   M           JSR     @R0                     ;
17228 00002F3E 0009                   M           NOP                                     ;
17229                            6874             M_BRA   EXT_DRVBTTN_INFO_MK500                  ;NOMAL
17230 00002F40 A01B                   M           BRA     EXT_DRVBTTN_INFO_MK500
17231 00002F42 0009                   M           NOP
17232                            6875     
17233                                     ***** BEGIN-POOL *****
17234 00002F44 0C00                       DATA FOR SOURCE-LINE 6869
17235 00002F46 0000                       ALIGNMENT CODE
17236 00002F48 00000000                   DATA FOR SOURCE-LINE 6858
17237 00002F4C 00000000                   DATA FOR SOURCE-LINE 6863
17238 00002F50 00000000                   DATA FOR SOURCE-LINE 6873
17239                                     ***** END-POOL *****
17240 00002F54                   6876     EXT_DRVBTTN_INFO_MK420:
17241 00002F54 D103              6877             MOV.L   #_EXTDRV_BTTN_ERR_TIM,R1                ;
17242 00002F56 6011              6878             MOV.W   @R1,R0                                  ;
17243 00002F58 2008              6879             TST     R0,R0                                   ;
17244                            6880             TST_BIT_OF EXT_DRVBTTN_INFO_MK450               ;異常
17245 00002F5A 8905                   M           BT      EXT_DRVBTTN_INFO_MK450
17246 00002F5C 70FF              6881             ADD     #-1,R0                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   200
PROGRAM NAME =

17247 00002F5E 2101              6882             MOV.W   R0,@R1                                  ;
17248                            6883             M_BRA   EXT_DRVBTTN_INFO_MK500                  ;NOMALだが
17249 00002F60 A00B                   M           BRA     EXT_DRVBTTN_INFO_MK500
17250 00002F62 0009                   M           NOP
17251                            6884     
17252                                     ***** BEGIN-POOL *****
17253 00002F64 00000000                   DATA FOR SOURCE-LINE 6877
17254                                     ***** END-POOL *****
17255 00002F68                   6885     EXT_DRVBTTN_INFO_MK450:
17256                            6886     
17257                            6887             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB216,LG=W,BIT=(BIT15),WKRG1=R1,WKRG2=R4
                                          ;
17258 00002F68 D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB216,R1             ;
17259 00002F6A 6011                   M           MOV.W   @R1,R0          ;
17260 00002F6C 9408                   M           MOV.W   #(BIT15),R4             ;
17261 00002F6E 204B                   M           OR      R4,R0           ;
17262 00002F70 2101                   M           MOV.W   R0,@R1          ;
17263 00002F72 9406              6888             MOV.W   #H'216F,R4
                                          ;216.15
17264                            6889             FAR_JSR #_EMG_STOP,R0
                                          ;
17265 00002F74 D004                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17266 00002F76 400B                   M           JSR     @R0                     ;
17267 00002F78 0009                   M           NOP                                     ;
17268                            6890     
17269 00002F7A                   6891     EXT_DRVBTTN_INFO_MK500:
17270                            6892     
17271                            6893     
17272                            6894             SUB_END
17273                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17274 00002F7A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17275                            6895             M_RTS
17276 00002F7C 000B                   M           RTS                             ;RTSの後ろの
17277 00002F7E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17278                            6896     
17279                            6897     
17280                            6898     ;       ***********************************
17281                            6899     ;       ***                             ***
17282                            6900     ;       ***     切替                    ***
17283                            6901     ;       ***                             ***
17284                            6902     ;       ***********************************
17285                                     ***** BEGIN-POOL *****
17286 00002F80 8000                       DATA FOR SOURCE-LINE 6887
17287 00002F82 216F                       DATA FOR SOURCE-LINE 6888
17288 00002F84 00000000                   DATA FOR SOURCE-LINE 6887
17289 00002F88 00000000                   DATA FOR SOURCE-LINE 6889
17290                                     ***** END-POOL *****
17291 00002F8C                   6903     _EXT_DRVBTTN_MODJG_CONF
17292                            6904             SUB_START
17293 00002F8C 4F22                   M           STS.L   PR,@-R15                ;[必要]
17294                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17295                            6905     
17296 00002F8E 266A              6906             XOR     R6,R6                                                   ;ANS
17297                            6907     
17298                            6908     ;       ----------------------------------------------
17299 00002F90 D10F              6909             MOV.L   #_di1_cb_ctl1_dt,R1                                     ;//
17300 00002F92 6011              6910             MOV.W   @R1,R0                                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   201
PROGRAM NAME =

17301 00002F94 C810              6911             TST     #_W1OPT,R0                                              ;OPT
17302                            6912             TST_BIT_OF EXT_DRVBTTN_MODJG_CF500                              ;ｵﾌﾟｼｮﾝ行程ではな
                                          い
17303 00002F96 8924                   M           BT      EXT_DRVBTTN_MODJG_CF500
17304                            6913     
17305                            6914     ;       ------------[ﾉｯﾁsw=ｵﾌﾟｼｮﾝ行程]----------------------------------
17306                            6915     
17307                            6916     ;       ----------- 352,1=1 外部入力　外部起動ﾓｰﾄﾞ----------------------
17308 00002F98 D10E              6917             MOV.L   #_CB_SEQ_CB_COM352,R1                   ;//2014-09-01
17309 00002F9A 6011              6918             MOV.W   @R1,R0                                  ;
17310 00002F9C C802              6919             TST     #BIT1,R0                                ;
17311                            6920             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300              ;
17312 00002F9E 8B1F                   M           BF      EXT_DRVBTTN_MODJG_CF300
17313                            6921     
17314                            6922     ;       ------------[仕様設定107 22.10=1]----------------------------------
17315 00002FA0 D10D              6923             MOV.L   #_CB_SEQ_SW_SEL022,R1           ;
17316 00002FA2 6011              6924             MOV.W   @R1,R0                          ;
17317 00002FA4 9410              6925             MOV.W   #BIT10,R4                       ;107
17318 00002FA6 2048              6926             TST     R4,R0                           ;
17319                            6927             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300      ;22.10=1 有効
17320 00002FA8 8B1A                   M           BF      EXT_DRVBTTN_MODJG_CF300
17321                            6928     
17322                            6929     
17323 00002FAA 940E              6930             MOV.W   #BIT11,R4                       ;108 22.11
17324 00002FAC 2048              6931             TST     R4,R0                           ;
17325                            6932             TST_BIT_OF EXT_DRVBTTN_MODJG_CF500      ;22.11=0 無効
17326 00002FAE 8918                   M           BT      EXT_DRVBTTN_MODJG_CF500
17327                            6933     
17328                            6934     ;       ------------[仕様設定108 22.11=1]----------------------------------
17329 00002FB0 940C              6935             MOV.W   #(BIT6+BIT4),R4                 ;
17330 00002FB2 2048              6936             TST     R4,R0                           ;
17331                            6937             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300      ;22.6(103) 22.4(101)のどちらかONで有効
17332 00002FB4 8B14                   M           BF      EXT_DRVBTTN_MODJG_CF300
17333                            6938     
17334 00002FB6 940A              6939             MOV.W   #(BIT8+BIT7),R4                 ;22.8(105) 22.7(104)の両方OFFで有効
17335 00002FB8 2048              6940             TST     R4,R0                           ;
17336                            6941             TST_BIT_OF EXT_DRVBTTN_MODJG_CF300      ;
17337 00002FBA 8911                   M           BT      EXT_DRVBTTN_MODJG_CF300
17338                            6942     
17339                            6943     ;       打抜記憶
17340 00002FBC D107              6944             MOV.L   #_EXTDRV_UTINUKI_FLG,R1         ;//打抜記憶
17341 00002FBE 6011              6945             MOV.W   @R1,R0                          ;
17342 00002FC0 C801              6946             TST     #BIT0,R0                        ;
17343                            6947             TST_BIT_ON EXT_DRVBTTN_MODJG_CF300      ;有効
17344 00002FC2 8B0D                   M           BF      EXT_DRVBTTN_MODJG_CF300
17345                            6948             M_BRA   EXT_DRVBTTN_MODJG_CF500         ;
17346 00002FC4 A00D                   M           BRA     EXT_DRVBTTN_MODJG_CF500
17347 00002FC6 0009                   M           NOP
17348                            6949     ;       ----------------------------------------------------------------------
17349                            6950     
17350                            6951     
17351                            6952     ;       --------------- 有効----------------------
17352                                     ***** BEGIN-POOL *****
17353 00002FC8 0400                       DATA FOR SOURCE-LINE 6925
17354 00002FCA 0800                       DATA FOR SOURCE-LINE 6930
17355 00002FCC 0050                       DATA FOR SOURCE-LINE 6935
17356 00002FCE 0180                       DATA FOR SOURCE-LINE 6939
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   202
PROGRAM NAME =

17357 00002FD0 00000000                   DATA FOR SOURCE-LINE 6909
17358 00002FD4 00000000                   DATA FOR SOURCE-LINE 6917
17359 00002FD8 00000000                   DATA FOR SOURCE-LINE 6923
17360 00002FDC 00000000                   DATA FOR SOURCE-LINE 6944
17361                                     ***** END-POOL *****
17362 00002FE0                   6953     EXT_DRVBTTN_MODJG_CF300
17363 00002FE0 E601              6954             MOV.B   #BIT0,R6                        ;
17364 00002FE2                   6955     EXT_DRVBTTN_MODJG_CF500
17365 00002FE2 D106              6956             MOV.L   #_EXTDRV_BTTN_USE,R1    ;//SYSPARAM+各条件
17366 00002FE4 6011              6957             MOV.W   @R1,R0                  ;
17367 00002FE6 2161              6958             MOV.W   R6,@R1                  ;NEW=R6
17368                            6959     
17369 00002FE8 206A              6960             XOR     R6,R0                           ;
17370 00002FEA 2069              6961             AND     R6,R0                           ;R0=BIT0
17371 00002FEC C801              6962             TST     #BIT0,R0                        ;
17372                            6963             TST_BIT_OF EXT_DRVBTTN_MODJG_CF700      ;
17373 00002FEE 8902                   M           BT      EXT_DRVBTTN_MODJG_CF700
17374                            6964     
17375                            6965     ;       ------- 立ち上がり[異常検出タイマプリセット]　-----------
17376                            6966             FAR_JSR #_EXT_DRVBTTN_ERRTIM_SET,R0     ;
17377 00002FF0 D003                   M           MOV.L   #_EXT_DRVBTTN_ERRTIM_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17378 00002FF2 400B                   M           JSR     @R0                     ;
17379 00002FF4 0009                   M           NOP                                     ;
17380                            6967     
17381                            6968     
17382 00002FF6                   6969     EXT_DRVBTTN_MODJG_CF700
17383                            6970             SUB_END
17384                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17385 00002FF6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17386                            6971             M_RTS
17387 00002FF8 000B                   M           RTS                             ;RTSの後ろの
17388 00002FFA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17389                            6972     
17390                            6973     
17391                                     ***** BEGIN-POOL *****
17392 00002FFC 00000000                   DATA FOR SOURCE-LINE 6956
17393 00003000 00000000                   DATA FOR SOURCE-LINE 6966
17394                                     ***** END-POOL *****
17395 00003004                   6974     _EXT_DRVBTTN_ERRTIM_SET
17396                            6975             SUB_START
17397 00003004 4F22                   M           STS.L   PR,@-R15                ;[必要]
17398                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17399 00003006 D103              6976             MOV.L   #(_PAR_BTNER_TM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1       ;NO=NC=1 THEN 異常
17400 00003008 6011              6977             MOV.W   @R1,R0                                                  ;
17401 0000300A D103              6978             MOV.L   #_EXTDRV_BTTN_ERR_TIM,R1                                ;
17402 0000300C 2101              6979             MOV.W   R0,@R1                                                  ;運転ボタン異常時
                                          間１秒
17403                            6980             SUB_END
17404                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17405 0000300E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17406                            6981             M_RTS
17407 00003010 000B                   M           RTS                             ;RTSの後ろの
17408 00003012 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17409                            6982     
17410                            6983     
17411                            6984     
17412                            6985     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   203
PROGRAM NAME =

17413                            6986     ;       ***                                     ***
17414                            6987     ;       ***     位置決め一旦停止(自動待機位置)  ***
17415                            6988     ;       ***                                     ***
17416                            6989     ;       *******************************************
17417                            6990     ;       ﾊﾝﾄﾞｼｪｲｸの考え
17418                            6991     ;       ----------- 停止処理側---------------------------------
17419                            6992     ;               [1]運転
17420                            6993     ;               [2]停止判定したCPU(A)            -->[SH4_HD_HLDSTOP1]=-1 -->CPU(B)
17421                            6994     ;               [3]停止状態
17422                            6995     ;               [4]相手CPU同状態(停止)判定待ち   -->[SH4==SH2==-1]
17423                            6996     ;       ----------- 起動処理側---------------------------------
17424                            6997     ;               [5]起動条件待ち->起動条件成立    -->[SH4_HD_HLDSTOP1]=0  -->CPU(B)
17425                            6998     ;               [6]相手CPU同状態(起動)待ち       -->[SH4==SH2==0]
17426                            6999     ;               [7]実起動処理
17427                            7000     ;;      _CPU_AB_DRVHLDSTOP_ON_OUT       ;
17428                            7001     ;;      _CPU_AB_DRVHLDSTOP_OF_OUT       ;
17429                            7002     ;;      _CPU_BA_DRVHLDSTOP_ON_JG        ;
17430                            7003     ;;      _CPU_BA_DRVHLDSTOP_OF_JG        ;
17431                            7004     
17432                            7005     ;       ***************************
17433                            7006     ;       ***                     ***
17434                            7007     ;       ***     停止側処理      ***
17435                            7008     ;       ***                     ***
17436                            7009     ;       ***************************
17437                            7010     ;       //BIT0=1:ﾎｰﾙﾄﾞ停止受付[自分停止ON または相手停止ON]
17438                            7011             .IMPORT _CMP_HOLD_CTLGENSOK
17439                            7012     
17440                                     ***** BEGIN-POOL *****
17441 00003014 00000000                   DATA FOR SOURCE-LINE 6976
17442 00003018 00000000                   DATA FOR SOURCE-LINE 6978
17443                                     ***** END-POOL *****
17444 0000301C                   7013     _POSHLD1_STEP1_STOPCMD_CHK:
17445                            7014             SUB_START
17446 0000301C 4F22                   M           STS.L   PR,@-R15                ;[必要]
17447                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17448 0000301E D103              7015             MOV.L   #_POS_HLDSTOP1_FLG,R1           ;//位置決め状態、準備未完了状態にて行う
17449 00003020 6011              7016             MOV.W   @R1,R0                          ;
17450 00003022 C801              7017             TST     #BIT0,R0                        ;
17451                            7018             TST_BIT_OF POSHLD1_STEP1_STOP100        ;
17452 00003024 8904                   M           BT      POSHLD1_STEP1_STOP100
17453                            7019             M_BRA   POSHLD1_STEP1_STOPWAIT          ;BIT0=1:停止側の処理は終了:上のソフトの処
                                          理待ち
17454 00003026 A056                   M           BRA     POSHLD1_STEP1_STOPWAIT
17455 00003028 0009                   M           NOP
17456                            7020     
17457                            7021     ;       -------------停止信号待ち-----------------------
17458                            7022     ;       自分は範囲でしか停止出力しない
17459                            7023     ;       相手からはいつでも受け付ける
17460                            7024     
17461                                     ***** BEGIN-POOL *****
17462 0000302A 0000                       ALIGNMENT CODE
17463 0000302C 00000000                   DATA FOR SOURCE-LINE 7015
17464                                     ***** END-POOL *****
17465 00003030                   7025     POSHLD1_STEP1_STOP100:
17466                            7026             FAR_JSR #_CPU_BA_DRVHLDSTOP_ON_JG,R0            ;相手CPUから止まれといわれたか
17467 00003030 D00D                   M           MOV.L   #_CPU_BA_DRVHLDSTOP_ON_JG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17468 00003032 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   204
PROGRAM NAME =

17469 00003034 0009                   M           NOP                                     ;
17470 00003036 2008              7027             TST     R0,R0                                   ;
17471                            7028             TST_BIT_ON POSHLD1_STEP1_STOP150                ;
17472 00003038 8B20                   M           BF      POSHLD1_STEP1_STOP150
17473                            7029     
17474 0000303A D10C              7030             MOV.L   #_SEQAB_DP_TOP+151*2,R1                 ;151.8[本仕様有]
17475 0000303C 6011              7031             MOV.W   @R1,R0                                  ;
17476 0000303E 9411              7032             MOV.W   #BIT8,R4                                ;
17477 00003040 2048              7033             TST     R4,R0                                   ;
17478                            7034             TST_BIT_OF POSHLD1_STEP1_STOPNO                 ;
17479 00003042 8945                   M           BT      POSHLD1_STEP1_STOPNO
17480                            7035     
17481 00003044 D10A              7036             MOV.L   #_SEQAB_DP_TOP+32*2,R1                  ;32.12[入/切]
17482 00003046 6011              7037             MOV.W   @R1,R0                                  ;
17483 00003048 940D              7038             MOV.W   #BIT12,R4                               ;
17484 0000304A 2048              7039             TST     R4,R0                                   ;
17485                            7040             TST_BIT_OF POSHLD1_STEP1_STOPNO                 ;
17486 0000304C 8940                   M           BT      POSHLD1_STEP1_STOPNO
17487                            7041     
17488 0000304E D109              7042             MOV.L   #_MODE_SEL,R1                   ;
17489 00003050 6011              7043             MOV.W   @R1,R0                          ;
17490 00003052 C81C              7044             TST     #_W1CNT+_W1SGL+_W1OPT,R0        ;
17491                            7045             TST_BIT_OF POSHLD1_STEP1_STOPNO
17492 00003054 893C                   M           BT      POSHLD1_STEP1_STOPNO
17493                            7046     
17494                            7047     
17495                            7048             FAR_JSR #_POSHLD1_STOP_CONFCHK,R0
17496 00003056 D008                   M           MOV.L   #_POSHLD1_STOP_CONFCHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17497 00003058 400B                   M           JSR     @R0                     ;
17498 0000305A 0009                   M           NOP                                     ;
17499 0000305C 2008              7049             TST     R0,R0                                   ;
17500                            7050             TST_BIT_ON POSHLD1_STEP1_STOP150                ;
17501 0000305E 8B0D                   M           BF      POSHLD1_STEP1_STOP150
17502                            7051             M_BRA   POSHLD1_STEP1_STOPNO                    ;
17503 00003060 A036                   M           BRA     POSHLD1_STEP1_STOPNO
17504 00003062 0009                   M           NOP
17505                            7052     
17506                            7053     
17507                                     ***** BEGIN-POOL *****
17508 00003064 0100                       DATA FOR SOURCE-LINE 7032
17509 00003066 1000                       DATA FOR SOURCE-LINE 7038
17510 00003068 00000000                   DATA FOR SOURCE-LINE 7026
17511 0000306C 00000000                   DATA FOR SOURCE-LINE 7030
17512 00003070 00000000                   DATA FOR SOURCE-LINE 7036
17513 00003074 00000000                   DATA FOR SOURCE-LINE 7042
17514 00003078 00000000                   DATA FOR SOURCE-LINE 7048
17515                                     ***** END-POOL *****
17516 0000307C                   7054     POSHLD1_STEP1_STOP150:
17517                            7055     
17518                            7056             FAR_JSR #_POSHLD1_STOPBTTNCMD_CHK,R0            ;停止釦を記憶
17519 0000307C D00D                   M           MOV.L   #_POSHLD1_STOPBTTNCMD_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17520 0000307E 400B                   M           JSR     @R0                     ;
17521 00003080 0009                   M           NOP                                     ;
17522                            7057     
17523                            7058     ;       --------- 停止条件成立---------
17524                            7059             FAR_JSR #_BRK_ERR_WORK_CLR1,R0  ;ERR1.SRC
17525 00003082 D00D                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   205
PROGRAM NAME =

17526 00003084 400B                   M           JSR     @R0                     ;
17527 00003086 0009                   M           NOP                                     ;
17528                            7060     
17529                            7061             MOD_LOW_STOP_R0_R1
                                          ;
17530 00003088 D10C                   M           MOV.L   #_MNWR_POS_CMD,R1               ;減速停止,起動OFF
17531 0000308A E002                   M           MOV.B   #BIT1,R0                        ;
17532 0000308C 2101                   M           MOV.W   R0,@R1                          ;
17533                            7062             FAR_JSR #_CPU_AB_DRVHLDSTOP_ON_OUT,R0
                                          ;
17534 0000308E D00C                   M           MOV.L   #_CPU_AB_DRVHLDSTOP_ON_OUT,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17535 00003090 400B                   M           JSR     @R0                     ;
17536 00003092 0009                   M           NOP                                     ;
17537                            7063             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HLDSTOP1_FLG,LG=W,BIT=(BIT0),WKREG=R1
                                          ;BIT0
17538 00003094 D10B                   M           MOV.L   #_POS_HLDSTOP1_FLG,R1           ;
17539 00003096 6011                   M           MOV.W   @R1,R0          ;
17540 00003098 CB01                   M           OR      #(BIT0),R0              ;
17541 0000309A 2101                   M           MOV.W   R0,@R1          ;
17542                            7064             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_CMD,LG=W,BIT=(BIT0),WKREG=R1
                                          ;BIT0
17543 0000309C D10A                   M           MOV.L   #_POS_HOLD_CMD,R1               ;
17544 0000309E 6011                   M           MOV.W   @R1,R0          ;
17545 000030A0 CB01                   M           OR      #(BIT0),R0              ;
17546 000030A2 2101                   M           MOV.W   R0,@R1          ;
17547                            7065             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT6),WKRG1=R1,WKRG2=R4
                                          ;待機減速開始
17548 000030A4 D109                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17549 000030A6 6011                   M           MOV.W   @R1,R0          ;
17550 000030A8 9403                   M           MOV.W   #(BIT6),R4              ;
17551 000030AA 204B                   M           OR      R4,R0           ;
17552 000030AC 2101                   M           MOV.W   R0,@R1          ;
17553                            7066     
17554                            7067             M_BRA   POSHLD1_STEP1_STOPWAIT
17555 000030AE A012                   M           BRA     POSHLD1_STEP1_STOPWAIT
17556 000030B0 0009                   M           NOP
17557                            7068     
17558                            7069     
17559                                     ***** BEGIN-POOL *****
17560 000030B2 0040                       DATA FOR SOURCE-LINE 7065
17561 000030B4 00000000                   DATA FOR SOURCE-LINE 7056
17562 000030B8 00000000                   DATA FOR SOURCE-LINE 7059
17563 000030BC 00000000                   DATA FOR SOURCE-LINE 7061
17564 000030C0 00000000                   DATA FOR SOURCE-LINE 7062
17565 000030C4 00000000                   DATA FOR SOURCE-LINE 7063
17566 000030C8 00000000                   DATA FOR SOURCE-LINE 7064
17567 000030CC 00000000                   DATA FOR SOURCE-LINE 7065
17568                                     ***** END-POOL *****
17569 000030D0                   7070     POSHLD1_STEP1_STOPNO:
17570 000030D0 200A              7071             XOR     R0,R0                   ;何もない(動いていいよ、動くことを妨げない)
17571                            7072             M_BRA   POSHLD1_STEP1_STOPEXT
17572 000030D2 A004                   M           BRA     POSHLD1_STEP1_STOPEXT
17573 000030D4 0009                   M           NOP
17574                            7073     
17575 000030D6                   7074     POSHLD1_STEP1_STOPWAIT:
17576 000030D6 E0FF              7075             MOV.B   #-1,R0                  ;停止処理中
17577                            7076             M_BRA   POSHLD1_STEP1_STOPEXT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   206
PROGRAM NAME =

17578 000030D8 A001                   M           BRA     POSHLD1_STEP1_STOPEXT
17579 000030DA 0009                   M           NOP
17580                            7077     
17581 000030DC                   7078     POSHLD1_STEP1_STOPSTOP:
17582 000030DC E001              7079             MOV.B   #1,R0                   ;停止終了
17583 000030DE                   7080     POSHLD1_STEP1_STOPEXT:
17584                            7081     
17585                            7082             SUB_END
17586                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17587 000030DE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17588                            7083             M_RTS
17589 000030E0 000B                   M           RTS                             ;RTSの後ろの
17590 000030E2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17591                            7084     
17592                            7085     
17593                            7086     ;       ***********************************************************
17594                            7087     ;       ***     位置決め停止前の停止釦、一旦停止中停止釦の記憶  ***
17595                            7088     ;       ***********************************************************
17596                            7089     ;       1ｻｲｸﾙに2回の停止位置は存在しない
17597 000030E4                   7090     _POSHLD1_STOPBTTNCMD_CHK
17598                            7091             SUB_START
17599 000030E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
17600                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17601                            7092     
17602 000030E6 D107              7093             MOV.L   #_CNT_STOP_CMD,R1               ;連続停止釦・連続停止指令・ﾛｯﾄｶｳﾝﾄｱｯﾌﾟ
17603 000030E8 6011              7094             MOV.W   @R1,R0                          ;
17604 000030EA 2008              7095             TST     R0,R0                           ;
17605                            7096             TST_BIT_ON  POSHLD1_STOPBTTNCMDCK_050
17606 000030EC 8B03                   M           BF      POSHLD1_STOPBTTNCMDCK_050
17607 000030EE D106              7097             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
17608 000030F0 6011              7098             MOV.W   @R1,R0                          ;
17609 000030F2 2008              7099             TST     R0,R0
17610                            7100             TST_BIT_OF POSHLD1_STOPBTTNCMDCK_100    ;
17611 000030F4 8903                   M           BT      POSHLD1_STOPBTTNCMDCK_100
17612 000030F6                   7101     POSHLD1_STOPBTTNCMDCK_050
17613                            7102             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSHLD1_STOPLATCH,LG=W,BIT=(BIT0),WKREG=R1
                                          ;BIT0
17614 000030F6 D105                   M           MOV.L   #_POSHLD1_STOPLATCH,R1          ;
17615 000030F8 6011                   M           MOV.W   @R1,R0          ;
17616 000030FA CB01                   M           OR      #(BIT0),R0              ;
17617 000030FC 2101                   M           MOV.W   R0,@R1          ;
17618 000030FE                   7103     POSHLD1_STOPBTTNCMDCK_100
17619                            7104     
17620                            7105     
17621                            7106             SUB_END
17622                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17623 000030FE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17624                            7107             M_RTS
17625 00003100 000B                   M           RTS                             ;RTSの後ろの
17626 00003102 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17627                            7108     
17628                            7109     
17629                            7110     
17630                                     ***** BEGIN-POOL *****
17631 00003104 00000000                   DATA FOR SOURCE-LINE 7093
17632 00003108 00000000                   DATA FOR SOURCE-LINE 7097
17633 0000310C 00000000                   DATA FOR SOURCE-LINE 7102
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   207
PROGRAM NAME =

17634                                     ***** END-POOL *****
17635 00003110                   7111     _POSHLD1_STOP_CONFCHK:
17636                            7112             SUB_START
17637 00003110 4F22                   M           STS.L   PR,@-R15                ;[必要]
17638                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17639                            7113     
17640 00003112 D125              7114             MOV.L   #_POS_HOLDABS_CALCF,R1  ;//1:終了
17641 00003114 6011              7115             MOV.W   @R1,R0                  ;
17642 00003116 E401              7116             MOV.B   #BIT0,R4                ;
17643 00003118 2048              7117             TST     R4,R0                   ;
17644                            7118             TST_BIT_OF POSHLD1_STOPCONF_100 ;ﾛｯﾄ変更無し
17645 0000311A 8905                   M           BT      POSHLD1_STOPCONF_100
17646 0000311C 6447              7119             NOT     R4,R4                   ;
17647 0000311E 2049              7120             AND     R4,R0                   ;
17648 00003120 2101              7121             MOV.W   R0,@R1                  ;
17649                            7122     
17650 00003122 200A              7123             XOR     R0,R0
17651 00003124 D121              7124             MOV.L   #_POSHLD1_CHKLST_FLG,R1 ;//1:終了
17652 00003126 2101              7125             MOV.W   R0,@R1                  ;
17653                            7126     
17654 00003128                   7127     POSHLD1_STOPCONF_100
17655                            7128     
17656 00003128 D121              7129             MOV.L   #_SETX_POS_STEP_MAX,R1          ;
17657 0000312A 6811              7130             MOV.W   @R1,R8                          ;LOOP data 1~10
17658 0000312C 7801              7131             ADD     #1,R8                           ;2~11
17659                            7132     
17660 0000312E E401              7133             MOV.B   #BIT0,R4                ;
17661 00003130 D61E              7134             MOV.L   #_POSHLD1_CHKLST_FLG,R6 ;//1:終了
17662                            7135     
17663 00003132 D520              7136             MOV.L   #_POSHLD1_STOP_STEP,R5  ;//11個
17664                            7137     
17665 00003134                   7138     POSHLD1_STOPCONF_200LOP
17666 00003134 6361              7139             MOV.W   @R6,R3                          ;毎回読む
17667                            7140     
17668 00003136 6055              7141             MOV.W   @R5+,R0                         ;
17669 00003138 2008              7142             TST     R0,R0                           ;
17670                            7143             TST_BIT_OF POSHLD1_STOPCONF_500         ;
17671 0000313A 8954                   M           BT      POSHLD1_STOPCONF_500
17672                            7144     
17673 0000313C 2348              7145             TST     R4,R3                           ;終了?
17674                            7146             TST_BIT_ON POSHLD1_STOPCONF_400         ;YES
17675 0000313E 8B4B                   M           BF      POSHLD1_STOPCONF_400
17676                            7147     
17677 00003140 70FF              7148             ADD     #-1,R0
17678 00003142 DB1D              7149             MOV.L   #_SETX_POS_SDAT1_CNTSTEP,R11    ;速度連続.LONG
17679 00003144 4008              7150             SHLL2   R0                              ;
17680 00003146 0CBE              7151             MOV.L   @(R0,R11),R12                   ;指定されている目標行程
17681                            7152     
17682 00003148 D11C              7153             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
17683 0000314A 6011              7154             MOV.W   @R1,R0                          ;
17684 0000314C 2008              7155             TST     R0,R0                           ;
17685                            7156             TST_BIT_OF POSHLD1_STOPCONF_STOPNO      ;起動していない
17686 0000314E 894A                   M           BT      POSHLD1_STOPCONF_STOPNO
17687                            7157     
17688 00003150 70FF              7158             ADD     #-1,R0
17689 00003152 4008              7159             SHLL2   R0                              ;
17690 00003154 0DBE              7160             MOV.L   @(R0,R11),R13                   ;今回運転している目標行程
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   208
PROGRAM NAME =

17691                            7161     
17692 00003156 3DC0              7162             CMP/EQ  R12,R13                         ;R12=R13
17693 00003158 8B3A              7163             BF      POSHLD1_STOPCONF_300            ;
17694                            7164     
17695                            7165             PUSH_REG1       R3                      ;CHKFLG
17696 0000315A 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
17697                                 M                                           ;REG=>[SP]
17698                                 M                                           ;"-4" FF,FF,FF,FC
17699                            7166             PUSH_REG1       R4                      ;CHKBIT
17700 0000315C 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
17701                                 M                                           ;REG=>[SP]
17702                                 M                                           ;"-4" FF,FF,FF,FC
17703                            7167             PUSH_REG1       R5                      ;STEP
17704 0000315E 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
17705                                 M                                           ;REG=>[SP]
17706                                 M                                           ;"-4" FF,FF,FF,FC
17707                            7168             PUSH_REG1       R6                      ;CHKFLG
17708 00003160 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
17709                                 M                                           ;REG=>[SP]
17710                                 M                                           ;"-4" FF,FF,FF,FC
17711                            7169             PUSH_REG1       R8                      ;CHKFLG
17712 00003162 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
17713                                 M                                           ;REG=>[SP]
17714                                 M                                           ;"-4" FF,FF,FF,FC
17715                            7170     ;       演算
17716                            7171             FAR_JSR #_HOLD1_DNSTART_POSCHK,R0       ;
17717 00003164 D016                   M           MOV.L   #_HOLD1_DNSTART_POSCHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17718 00003166 400B                   M           JSR     @R0                     ;
17719 00003168 0009                   M           NOP                                     ;
17720                            7172     
17721                            7173             POP_REG1        R8
17722                                 M                                   ; RE"+4" 00,00,00,04
17723 0000316A 68F6                   M           MOV.L   @R15+,R8        ;
17724                            7174             POP_REG1        R6
17725                                 M                                   ; RE"+4" 00,00,00,04
17726 0000316C 66F6                   M           MOV.L   @R15+,R6        ;
17727                            7175             POP_REG1        R5
17728                                 M                                   ; RE"+4" 00,00,00,04
17729 0000316E 65F6                   M           MOV.L   @R15+,R5        ;
17730                            7176             POP_REG1        R4
17731                                 M                                   ; RE"+4" 00,00,00,04
17732 00003170 64F6                   M           MOV.L   @R15+,R4        ;
17733                            7177             POP_REG1        R3
17734                                 M                                   ; RE"+4" 00,00,00,04
17735 00003172 63F6                   M           MOV.L   @R15+,R3        ;
17736                            7178     
17737 00003174 2008              7179             TST     R0,R0
17738                            7180             TST_BIT_OF POSHLD1_STOPCONF_400         ;0:まだ未到達
17739 00003176 892F                   M           BT      POSHLD1_STOPCONF_400
17740                            7181     
17741 00003178 8801              7182             CMP/EQ  #1,R0
17742 0000317A 8B2B              7183             BF      POSHLD1_STOPCONF_350            ;-1:MISS[目標位置を超えた] 1:NOMAL 0:まだ
17743                            7184     
17744 0000317C 6033              7185             MOV     R3,R0                           ;
17745 0000317E 234B              7186             OR      R4,R3                           ;
17746 00003180 2631              7187             MOV.W   R3,@R6                          ;CHKLISTSAVE
17747 00003182 2048              7188             TST     R4,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   209
PROGRAM NAME =

17748                            7189             TST_BIT_ON POSHLD1_STOPCONF_400         ;前回もＯＮだった
17749 00003184 8B28                   M           BF      POSHLD1_STOPCONF_400
17750                            7190     
17751                            7191     ;       ---------- 前回OFFで今回ON-----------------------
17752 00003186 D10F              7192             MOV.L   #_CB_SEQ_CB_COM340,R1                   ;340
17753 00003188 6011              7193             MOV.W   @R1,R0                                  ;
17754 0000318A 920B              7194             MOV.W   #BIT12,R2                               ;
17755 0000318C 2028              7195             TST     R2,R0                                   ;
17756                            7196             TST_BIT_ON POSHLD1_STOPCONF_STOPSTOP            ;2015-02-20[論理入れ替え]
17757 0000318E 8B2D                   M           BF      POSHLD1_STOPCONF_STOPSTOP
17758                            7197     
17759                            7198             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT12),WKRG1=R1,WKRG2=R2;
                                          通過信号
17760 00003190 D10D                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17761 00003192 6011                   M           MOV.W   @R1,R0          ;
17762 00003194 9206                   M           MOV.W   #(BIT12),R2             ;
17763 00003196 202B                   M           OR      R2,R0           ;
17764 00003198 2101                   M           MOV.W   R0,@R1          ;
17765 0000319A 9004              7199             MOV.W   #D'20,R0                                        ;
17766 0000319C D10B              7200             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1                       ;2015-02-20追加　20msecだ
                                          け再起動または通過時
17767 0000319E 2101              7201             MOV.W   R0,@R1                                          ;
17768                            7202             M_BRA   POSHLD1_STOPCONF_400                    ;
17769 000031A0 A01A                   M           BRA     POSHLD1_STOPCONF_400
17770 000031A2 0009                   M           NOP
17771                            7203     
17772                            7204     ;;;;2015-02-20[論理入れ替え]
17773                            7205     ;;;;    TST_BIT_OF POSHLD1_STOPCONF_400                 ;
17774                            7206     ;;;;    M_BRA   POSHLD1_STOPCONF_STOPSTOP
17775                            7207     
17776                            7208     
17777                            7209     
17778                            7210     
17779                            7211     
17780                            7212     
17781                            7213     
17782                            7214     
17783                            7215     
17784                                     ***** BEGIN-POOL *****
17785 000031A4 1000                       DATA FOR SOURCE-LINE 7194,7198
17786 000031A6 0014                       DATA FOR SOURCE-LINE 7199
17787 000031A8 00000000                   DATA FOR SOURCE-LINE 7114
17788 000031AC 00000000                   DATA FOR SOURCE-LINE 7124,7134
17789 000031B0 00000000                   DATA FOR SOURCE-LINE 7129
17790 000031B4 00000000                   DATA FOR SOURCE-LINE 7136
17791 000031B8 00000000                   DATA FOR SOURCE-LINE 7149
17792 000031BC 00000000                   DATA FOR SOURCE-LINE 7153
17793 000031C0 00000000                   DATA FOR SOURCE-LINE 7171
17794 000031C4 00000000                   DATA FOR SOURCE-LINE 7192
17795 000031C8 00000000                   DATA FOR SOURCE-LINE 7198
17796 000031CC 00000000                   DATA FOR SOURCE-LINE 7200
17797                                     ***** END-POOL *****
17798 000031D0                   7216     POSHLD1_STOPCONF_300
17799 000031D0 3DC7              7217             CMP/GT  R12,R13                         ;R12[指定]<R13[現状]?
17800 000031D2 8B01              7218             BF      POSHLD1_STOPCONF_400            ;NO! R13[現状]<R12[指定]まだその行程でない
17801                            7219     
17802                            7220     ;       -------------通り過ぎた R12[指定]<R13[現状]----------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   210
PROGRAM NAME =

17803 000031D4                   7221     POSHLD1_STOPCONF_350
17804 000031D4 234B              7222             OR      R4,R3                           ;
17805 000031D6 2631              7223             MOV.W   R3,@R6                          ;CHKLISTSAVE
17806                            7224     
17807 000031D8                   7225     POSHLD1_STOPCONF_400
17808 000031D8 4400              7226             SHLL    R4                      ;
17809 000031DA 78FF              7227             ADD     #-1,R8                  ;
17810 000031DC 2888              7228             TST     R8,R8                   ;
17811                            7229             TST_BIT_OF POSHLD1_STOPCONF_499 ;MAX(ここではひっかっかることはない)
17812 000031DE 8901                   M           BT      POSHLD1_STOPCONF_499
17813                            7230             M_BRA   POSHLD1_STOPCONF_200LOP
17814 000031E0 AFA8                   M           BRA     POSHLD1_STOPCONF_200LOP
17815 000031E2 0009                   M           NOP
17816                            7231     
17817 000031E4                   7232     POSHLD1_STOPCONF_499
17818 000031E4 0009              7233             NOP
17819 000031E6                   7234     POSHLD1_STOPCONF_500
17820 000031E6                   7235     POSHLD1_STOPCONF_STOPNO         ;
17821 000031E6 200A              7236             XOR     R0,R0
17822                            7237             M_BRA   POSHLD1_STOPCONF_STOPEND
17823 000031E8 A001                   M           BRA     POSHLD1_STOPCONF_STOPEND
17824 000031EA 0009                   M           NOP
17825                            7238     
17826 000031EC                   7239     POSHLD1_STOPCONF_STOPSTOP               ;
17827 000031EC E001              7240             MOV.B   #BIT0,R0                ;
17828                            7241     
17829 000031EE                   7242     POSHLD1_STOPCONF_STOPEND
17830                            7243             SUB_END
17831                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17832 000031EE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17833                            7244             M_RTS
17834 000031F0 000B                   M           RTS                             ;RTSの後ろの
17835 000031F2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17836                            7245     
17837                            7246     
17838 000031F4                   7247     _HOLD1_DNSTART_POSCHK:
17839                            7248             SUB_START
17840 000031F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
17841                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17842 000031F6 D106              7249             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
17843 000031F8 6011              7250             MOV.W   @R1,R0                                  ;
17844 000031FA C804              7251             TST     #_DMATH_DNDRIV,R0                       ;ふりこ
17845                            7252             TST_BIT_OF HOLD1_DNSTARTPOSCK100                ;
17846 000031FC 890E                   M           BT      HOLD1_DNSTARTPOSCK100
17847                            7253     
17848 000031FE D105              7254             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//このフラグでいいのかな？
17849 00003200 6011              7255             MOV.W   @R1,R0                          ;
17850 00003202 2008              7256             TST     R0,R0                           ;
17851                            7257             TST_BIT_OF HOLD1_DNSTARTPOSCK100        ;
17852 00003204 890A                   M           BT      HOLD1_DNSTARTPOSCK100
17853                            7258     
17854 00003206 D404              7259             MOV.L   #_POSHLD1_SDAT2_HOLDPOS,R4;//停止位置
17855 00003208 6146              7260             MOV.L   @R4+,R1
17856 0000320A 6246              7261             MOV.L   @R4+,R2
17857                            7262             M_BRA   HOLD1_DNSTARTPOSCK200           ;
17858 0000320C A009                   M           BRA     HOLD1_DNSTARTPOSCK200
17859 0000320E 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   211
PROGRAM NAME =

17860                            7263     
17861                                     ***** BEGIN-POOL *****
17862 00003210 00000000                   DATA FOR SOURCE-LINE 7249
17863 00003214 00000000                   DATA FOR SOURCE-LINE 7254
17864 00003218 00000000                   DATA FOR SOURCE-LINE 7259
17865                                     ***** END-POOL *****
17866 0000321C                   7264     HOLD1_DNSTARTPOSCK100:
17867 0000321C D404              7265             MOV.L   #_POSHLD1_SDAT1_HOLDPOS,R4;//停止位置
17868 0000321E 6146              7266             MOV.L   @R4+,R1
17869 00003220 6246              7267             MOV.L   @R4+,R2
17870                            7268     
17871 00003222                   7269     HOLD1_DNSTARTPOSCK200:
17872                            7270             FAR_JSR #_CMP_HOLD_CTLGENSOK,R0         ;R0=01
17873 00003222 D004                   M           MOV.L   #_CMP_HOLD_CTLGENSOK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17874 00003224 400B                   M           JSR     @R0                     ;
17875 00003226 0009                   M           NOP                                     ;
17876                            7271     
17877                            7272             SUB_END
17878                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17879 00003228 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17880                            7273             M_RTS
17881 0000322A 000B                   M           RTS                             ;RTSの後ろの
17882 0000322C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17883                            7274     
17884                            7275     ;       *******************************************
17885                            7276     ;       ***                                     ***
17886                            7277     ;       ***     開始側処理                      ***
17887                            7278     ;       ***     (完全に停止した時点)            ***
17888                            7279     ;       ***                                     ***
17889                            7280     ;       *******************************************
17890                            7281     ;
17891                                     ***** BEGIN-POOL *****
17892 0000322E 0000                       ALIGNMENT CODE
17893 00003230 00000000                   DATA FOR SOURCE-LINE 7265
17894 00003234 00000000                   DATA FOR SOURCE-LINE 7270
17895                                     ***** END-POOL *****
17896 00003238                   7282     _POSHLD1_STEP2_START_CHK:
17897                            7283             SUB_START
17898 00003238 4F22                   M           STS.L   PR,@-R15                ;[必要]
17899                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17900 0000323A D113              7284             MOV.L   #_POS_HLDSTOP1_FLG,R1           ;//位置決め状態、準備未完了状態にて行う
17901 0000323C 6011              7285             MOV.W   @R1,R0                          ;
17902 0000323E C801              7286             TST     #BIT0,R0                        ;
17903                            7287             TST_BIT_OF POSHLD1_STEP2_STARTEXT       ;このソフトには関係ないのに呼ばれた
17904 00003240 896B                   M           BT      POSHLD1_STEP2_STARTEXT
17905                            7288     
17906 00003242 C804              7289             TST     #BIT2,R0                        ;
17907                            7290             TST_BIT_ON POSHLD1_STEP2_STARTEXT       ;
17908 00003244 8B69                   M           BF      POSHLD1_STEP2_STARTEXT
17909                            7291     
17910 00003246 C802              7292             TST     #BIT1,R0                        ;ﾀｲﾏ設定?
17911                            7293             TST_BIT_ON POSHLD1_STEP2_START100       ;
17912 00003248 8B14                   M           BF      POSHLD1_STEP2_START100
17913                            7294     
17914                            7295     ;       ------------内部停止状態成立-----------
17915 0000324A D110              7296             MOV.L   #_SVP_WTTIM_MAX,R1              ;//ｽﾗｲﾄﾞ自動待機機能  待機時間上限
17916 0000324C 6211              7297             MOV.W   @R1,R2                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   212
PROGRAM NAME =

17917 0000324E 9417              7298             MOV.W   #D'100,R4                       ;0.1秒
17918 00003250 324D              7299             DMULS.L R4,R2                           ;
17919 00003252 021A              7300             STS.L   MACL,R2                         ;
17920 00003254 D10E              7301             MOV.L   #_POS_HLDSTOP1_CHKTIM,R1        ;
17921 00003256 2122              7302             MOV.L   R2,@R1                          ;
17922                            7303     
17923                            7304             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HLDSTOP1_FLG,LG=W,BIT=(BIT1),WKREG=R1          ;
17924 00003258 D10B                   M           MOV.L   #_POS_HLDSTOP1_FLG,R1           ;
17925 0000325A 6011                   M           MOV.W   @R1,R0          ;
17926 0000325C CB02                   M           OR      #(BIT1),R0              ;
17927 0000325E 2101                   M           MOV.W   R0,@R1          ;
17928                            7305             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT7),WKRG1=R1,WKRG2=R4 ;
                                          待機停止中
17929 00003260 D10C                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17930 00003262 6011                   M           MOV.W   @R1,R0          ;
17931 00003264 940D                   M           MOV.W   #(BIT7),R4              ;
17932 00003266 204B                   M           OR      R4,R0           ;
17933 00003268 2101                   M           MOV.W   R0,@R1          ;
17934                            7306             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(~BIT6),WKRG1=R1,WKRG2=R4
                                          ;待機減速開始
17935 0000326A D10A                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
17936 0000326C 6011                   M           MOV.W   @R1,R0          ;
17937 0000326E 9409                   M           MOV.W   #LWORD (~BIT6),R4       ;
17938 00003270 2049                   M           AND     R4,R0           ;
17939 00003272 2101                   M           MOV.W   R0,@R1          ;
17940                            7307     
17941                            7308     
17942                            7309     
17943 00003274                   7310     POSHLD1_STEP2_START100:
17944                            7311     ;       ------------------------------------------------
17945                            7312     ;       ----------<2017-05-12>--------------------------
17946                            7313     ;       ------------------------------------------------
17947                            7314     ;       停止上限をみない
17948 00003274 D108              7315             MOV.L   #_CB_SEQ_CB_COM352,R1                   ;//2017-05-12追加
17949 00003276 6011              7316             MOV.W   @R1,R0                                  ;
17950 00003278 C804              7317             TST     #BIT2,R0                                ;
17951                            7318             TST_BIT_OF POSHLD1_STEP2_START110               ;OFF:今まで通りﾀｲﾏを見る
17952 0000327A 890F                   M           BT      POSHLD1_STEP2_START110
17953                            7319             M_BRA   POSHLD1_STEP2_START200                  ;ﾀｲﾏを見ない.いつもでも待つ
17954 0000327C A014                   M           BRA     POSHLD1_STEP2_START200
17955 0000327E 0009                   M           NOP
17956                            7320     
17957                                     ***** BEGIN-POOL *****
17958 00003280 0064                       DATA FOR SOURCE-LINE 7298
17959 00003282 0080                       DATA FOR SOURCE-LINE 7305
17960 00003284 FFBF                       DATA FOR SOURCE-LINE 7306
17961 00003286 0000                       ALIGNMENT CODE
17962 00003288 00000000                   DATA FOR SOURCE-LINE 7284,7304
17963 0000328C 00000000                   DATA FOR SOURCE-LINE 7296
17964 00003290 00000000                   DATA FOR SOURCE-LINE 7301
17965 00003294 00000000                   DATA FOR SOURCE-LINE 7305,7306
17966 00003298 00000000                   DATA FOR SOURCE-LINE 7315
17967                                     ***** END-POOL *****
17968 0000329C                   7321     POSHLD1_STEP2_START110:
17969                            7322     ;       ------------------------------------------------
17970                            7323     ;       ------------------------------------------------
17971                            7324     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   213
PROGRAM NAME =

17972 0000329C D113              7325             MOV.L   #_POS_HLDSTOP1_CHKTIM,R1        ;
17973 0000329E 6212              7326             MOV.L   @R1,R2                          ;
17974 000032A0 2228              7327             TST     R2,R2                           ;
17975                            7328             TST_BIT_OF POSHLD1_STEP2_START500       ;ﾀｲﾑｱｯﾌﾟ,0設定
17976 000032A2 8931                   M           BT      POSHLD1_STEP2_START500
17977 000032A4 72FF              7329             ADD     #-1,R2                          ;
17978 000032A6 2122              7330             MOV.L   R2,@R1                          ;
17979                            7331     
17980                            7332     
17981 000032A8                   7333     POSHLD1_STEP2_START200:
17982                            7334     ;       --------------------試し------------------------
17983                            7335     ;       "本仕様有／無ｼｰｹﾝｽ+有効/無効sw+角度範囲+停止指令",相手信号
17984 000032A8 D111              7336             MOV.L   #_CB_SEQ_CB_COM340,R1                   ;340
17985 000032AA 6011              7337             MOV.W   @R1,R0                                  ;
17986 000032AC 941A              7338             MOV.W   #BIT12,R4                               ;
17987 000032AE 2048              7339             TST     R4,R0                                   ;
17988                            7340             TST_BIT_ON POSHLD1_STEP2_STARTEXT               ;
17989 000032B0 8B33                   M           BF      POSHLD1_STEP2_STARTEXT
17990                            7341     
17991                            7342     ;       ----------------起動条件成立--------------------------------
17992                            7343             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HLDSTOP1_FLG,LG=W,BIT=(BIT2),WKREG=R1
                                          ;
17993 000032B2 D110                   M           MOV.L   #_POS_HLDSTOP1_FLG,R1           ;
17994 000032B4 6011                   M           MOV.W   @R1,R0          ;
17995 000032B6 CB04                   M           OR      #(BIT2),R0              ;
17996 000032B8 2101                   M           MOV.W   R0,@R1          ;
17997                            7344             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_HOLD_RESTARTCMD,LG=W,BIT=(BIT0),WKREG=R1
                                          ;RESTART
17998 000032BA D10F                   M           MOV.L   #_POS_HOLD_RESTARTCMD,R1                ;
17999 000032BC 6011                   M           MOV.W   @R1,R0          ;
18000 000032BE CB01                   M           OR      #(BIT0),R0              ;
18001 000032C0 2101                   M           MOV.W   R0,@R1          ;
18002                            7345             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4
                                          ;待機停止中
18003 000032C2 D10E                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
18004 000032C4 6011                   M           MOV.W   @R1,R0          ;
18005 000032C6 940E                   M           MOV.W   #LWORD (~BIT7),R4       ;
18006 000032C8 2049                   M           AND     R4,R0           ;
18007 000032CA 2101                   M           MOV.W   R0,@R1          ;
18008                            7346     ;;;;2015-02-20  MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT8),WKRG1=R1,WKR
                                          G2=R4           ;再起動ON
18009                            7347             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=(BIT12|BIT8),WKRG1=R1,WKRG2
                                          =R4             ;再起動ON
18010 000032CC D10B                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
18011 000032CE 6011                   M           MOV.W   @R1,R0          ;
18012 000032D0 940A                   M           MOV.W   #(BIT12|BIT8),R4                ;
18013 000032D2 204B                   M           OR      R4,R0           ;
18014 000032D4 2101                   M           MOV.W   R0,@R1          ;
18015                            7348     
18016 000032D6 9008              7349             MOV.W   #D'20,R0                                ;
18017 000032D8 D109              7350             MOV.L   #_POS_HLDSTOP1_SIG1TIM,R1               ;20msecだけ再起動をONする
18018 000032DA 2101              7351             MOV.W   R0,@R1                                  ;
18019 000032DC D109              7352             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1               ;2015-02-20追加　20msecだけ再起動
                                          または通過時
18020 000032DE 2101              7353             MOV.W   R0,@R1                                  ;
18021                            7354             M_BRA   POSHLD1_STEP2_STARTEXT
                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   214
PROGRAM NAME =

18022 000032E0 A01B                   M           BRA     POSHLD1_STEP2_STARTEXT
18023 000032E2 0009                   M           NOP
18024                            7355     
18025                                     ***** BEGIN-POOL *****
18026 000032E4 1000                       DATA FOR SOURCE-LINE 7338
18027 000032E6 FF7F                       DATA FOR SOURCE-LINE 7345
18028 000032E8 1100                       DATA FOR SOURCE-LINE 7347
18029 000032EA 0014                       DATA FOR SOURCE-LINE 7349
18030 000032EC 00000000                   DATA FOR SOURCE-LINE 7325
18031 000032F0 00000000                   DATA FOR SOURCE-LINE 7336
18032 000032F4 00000000                   DATA FOR SOURCE-LINE 7343
18033 000032F8 00000000                   DATA FOR SOURCE-LINE 7344
18034 000032FC 00000000                   DATA FOR SOURCE-LINE 7345,7347
18035 00003300 00000000                   DATA FOR SOURCE-LINE 7350
18036 00003304 00000000                   DATA FOR SOURCE-LINE 7352
18037                                     ***** END-POOL *****
18038 00003308                   7356     POSHLD1_STEP2_START500:
18039                            7357     
18040                            7358     
18041 00003308 D506              7359             MOV.L   #_SQ_CBWK_TOP+_WKSQCB224,R5             ;
18042 0000330A 6151              7360             MOV.W   @R5,R1                                  ;
18043 0000330C 9008              7361             MOV.W   #BIT13,R0
18044 0000330E 210B              7362             OR      R0,R1
18045 00003310 2511              7363             MOV.W   R1,@R5
18046                            7364     
18047 00003312 9406              7365             MOV.W   #H'224D,R4                              ;2010-12-21
18048                            7366             FAR_JSR #_EXQ_STOP,R0                           ;EXQ_FLG
18049 00003314 D004                   M           MOV.L   #_EXQ_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18050 00003316 400B                   M           JSR     @R0                     ;
18051 00003318 0009                   M           NOP                                     ;
18052                            7367     
18053 0000331A                   7368     POSHLD1_STEP2_STARTEXT:
18054                            7369     
18055                            7370             SUB_END
18056                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18057 0000331A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18058                            7371             M_RTS
18059 0000331C 000B                   M           RTS                             ;RTSの後ろの
18060 0000331E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18061                            7372     
18062                            7373     
18063                                     ***** BEGIN-POOL *****
18064 00003320 2000                       DATA FOR SOURCE-LINE 7361
18065 00003322 224D                       DATA FOR SOURCE-LINE 7365
18066 00003324 00000000                   DATA FOR SOURCE-LINE 7359
18067 00003328 00000000                   DATA FOR SOURCE-LINE 7366
18068                                     ***** END-POOL *****
18069 0000332C                   7374     _POSHLD1_FLG_CLR:
18070                            7375             SUB_START
18071 0000332C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18072                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18073 0000332E 200A              7376             XOR     R0,R0
18074 00003330 D106              7377             MOV.L   #_POS_HLDSTOP1_FLG,R1   ;
18075 00003332 2101              7378             MOV.W   R0,@R1                  ;
18076 00003334 D106              7379             MOV.L   #_POSHLD1_CHKLST_FLG,R1 ;//
18077 00003336 2101              7380             MOV.W   R0,@R1
18078                            7381     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   215
PROGRAM NAME =

18079                            7382             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=~(BIT7|BIT6),WKRG1=R1,WKRG2
                                          =R4     ;
18080 00003338 D106                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
18081 0000333A 6011                   M           MOV.W   @R1,R0          ;
18082 0000333C 9404                   M           MOV.W   #LWORD ~(BIT7|BIT6),R4  ;
18083 0000333E 2049                   M           AND     R4,R0           ;
18084 00003340 2101                   M           MOV.W   R0,@R1          ;
18085                            7383     
18086                            7384             SUB_END
18087                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18088 00003342 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18089                            7385             M_RTS
18090 00003344 000B                   M           RTS                             ;RTSの後ろの
18091 00003346 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18092                            7386     
18093                            7387     
18094                            7388     
18095                            7389     
18096                            7390     
18097                                     ***** BEGIN-POOL *****
18098 00003348 FF3F                       DATA FOR SOURCE-LINE 7382
18099 0000334A 0000                       ALIGNMENT CODE
18100 0000334C 00000000                   DATA FOR SOURCE-LINE 7377
18101 00003350 00000000                   DATA FOR SOURCE-LINE 7379
18102 00003354 00000000                   DATA FOR SOURCE-LINE 7382
18103                                     ***** END-POOL *****
18104 00003358                   7391     _POSHLD1_SIG_CHK
18105                            7392             SUB_START
18106 00003358 4F22                   M           STS.L   PR,@-R15                ;[必要]
18107                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18108                            7393     ;       --------- 再起動信号--------------
18109 0000335A D507              7394             MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R5
18110 0000335C 6351              7395             MOV.W   @R5,R3
18111 0000335E 9409              7396             MOV.W   #BIT8,R4
18112 00003360 2348              7397             TST     R4,R3
18113                            7398             TST_BIT_OF POSHLD1_SIGCHK_200   ;
18114 00003362 8910                   M           BT      POSHLD1_SIGCHK_200
18115                            7399     
18116 00003364 D105              7400             MOV.L   #_POS_HLDSTOP1_SIG1TIM,R1       ;       //100msecだけ再起動をONする
18117 00003366 6011              7401             MOV.W   @R1,R0                          ;
18118 00003368 2008              7402             TST     R0,R0
18119                            7403             TST_BIT_OF POSHLD1_SIGCHK_100           ;
18120 0000336A 8909                   M           BT      POSHLD1_SIGCHK_100
18121 0000336C 70FF              7404             ADD     #-1,R0
18122 0000336E 2101              7405             MOV.W   R0,@R1
18123                            7406             M_BRA   POSHLD1_SIGCHK_200
18124 00003370 A009                   M           BRA     POSHLD1_SIGCHK_200
18125 00003372 0009                   M           NOP
18126                                     ***** BEGIN-POOL *****
18127 00003374 0100                       DATA FOR SOURCE-LINE 7396
18128 00003376 0000                       ALIGNMENT CODE
18129 00003378 00000000                   DATA FOR SOURCE-LINE 7394
18130 0000337C 00000000                   DATA FOR SOURCE-LINE 7400
18131                                     ***** END-POOL *****
18132 00003380                   7407     POSHLD1_SIGCHK_100
18133 00003380 6447              7408             NOT     R4,R4
18134 00003382 2349              7409             AND     R4,R3
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   216
PROGRAM NAME =

18135 00003384 2531              7410             MOV.W   R3,@R5                          ;
18136                            7411     
18137 00003386                   7412     POSHLD1_SIGCHK_200
18138                            7413     
18139                            7414     
18140                            7415     
18141                            7416     ;       --------- 通過信号2015-02-20--------------
18142 00003386 D507              7417             MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R5
18143 00003388 6351              7418             MOV.W   @R5,R3
18144 0000338A 9409              7419             MOV.W   #BIT12,R4
18145 0000338C 2348              7420             TST     R4,R3
18146                            7421             TST_BIT_OF POSHLD1_SIGCHK_400   ;
18147 0000338E 8910                   M           BT      POSHLD1_SIGCHK_400
18148                            7422     
18149 00003390 D105              7423             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1       ;       //100msecだけ再起動をONする
18150 00003392 6011              7424             MOV.W   @R1,R0                          ;
18151 00003394 2008              7425             TST     R0,R0
18152                            7426             TST_BIT_OF POSHLD1_SIGCHK_300           ;
18153 00003396 8909                   M           BT      POSHLD1_SIGCHK_300
18154 00003398 70FF              7427             ADD     #-1,R0
18155 0000339A 2101              7428             MOV.W   R0,@R1
18156                            7429             M_BRA   POSHLD1_SIGCHK_400
18157 0000339C A009                   M           BRA     POSHLD1_SIGCHK_400
18158 0000339E 0009                   M           NOP
18159                                     ***** BEGIN-POOL *****
18160 000033A0 1000                       DATA FOR SOURCE-LINE 7419
18161 000033A2 0000                       ALIGNMENT CODE
18162 000033A4 00000000                   DATA FOR SOURCE-LINE 7417
18163 000033A8 00000000                   DATA FOR SOURCE-LINE 7423
18164                                     ***** END-POOL *****
18165 000033AC                   7430     POSHLD1_SIGCHK_300
18166 000033AC 6447              7431             NOT     R4,R4
18167 000033AE 2349              7432             AND     R4,R3
18168 000033B0 2531              7433             MOV.W   R3,@R5                          ;
18169                            7434     
18170 000033B2                   7435     POSHLD1_SIGCHK_400
18171                            7436     
18172                            7437             SUB_END
18173                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18174 000033B2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18175                            7438             M_RTS
18176 000033B4 000B                   M           RTS                             ;RTSの後ろの
18177 000033B6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18178                            7439     
18179                            7440     ;       *******************************************
18180                            7441     ;       ***                                     ***
18181                            7442     ;       ***     複数個で一旦停止を行える構造    ***
18182                            7443     ;       ***                                     ***
18183                            7444     ;       ***                                     ***
18184                            7445     ;       *******************************************
18185                            7446     ;
18186                            7447     ;
18187                            7448     ;_POS_HLDSTOP1_FLG;     //位置決め状態、準備未完了状態にて行う
18188 000033B8                   7449     _POS_HOLD_RESTART_CHK:
18189                            7450             SUB_START
18190 000033B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
18191                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   217
PROGRAM NAME =

18192                            7451             FAR_JSR #_POSHLD1_STEP2_START_CHK,R0            ;ｺﾏﾝﾄﾞで出力
18193 000033BA D003                   M           MOV.L   #_POSHLD1_STEP2_START_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18194 000033BC 400B                   M           JSR     @R0                     ;
18195 000033BE 0009                   M           NOP                                     ;
18196                            7452     
18197                            7453             SUB_END
18198                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18199 000033C0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18200                            7454             M_RTS
18201 000033C2 000B                   M           RTS                             ;RTSの後ろの
18202 000033C4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18203                            7455     
18204                            7456     
18205                            7457     
18206                            7458     
18207                                     ***** BEGIN-POOL *****
18208 000033C6 0000                       ALIGNMENT CODE
18209 000033C8 00000000                   DATA FOR SOURCE-LINE 7451
18210                                     ***** END-POOL *****
18211 000033CC                   7459     _HOLD_RESTART_OF_OUT:
18212                            7460             SUB_START
18213 000033CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
18214                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18215                            7461             FAR_JSR #_CPU_AB_DRVHLDSTOP_OF_OUT,R0           ;
18216 000033CE D003                   M           MOV.L   #_CPU_AB_DRVHLDSTOP_OF_OUT,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18217 000033D0 400B                   M           JSR     @R0                     ;
18218 000033D2 0009                   M           NOP                                     ;
18219                            7462             SUB_END
18220                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18221 000033D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18222                            7463             M_RTS
18223 000033D6 000B                   M           RTS                             ;RTSの後ろの
18224 000033D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18225                            7464     
18226                            7465     
18227                            7466     ;       -----R0=0 RESTART-OK----------
18228                                     ***** BEGIN-POOL *****
18229 000033DA 0000                       ALIGNMENT CODE
18230 000033DC 00000000                   DATA FOR SOURCE-LINE 7461
18231                                     ***** END-POOL *****
18232 000033E0                   7467     _HOLD_RESTART_BA_JG:
18233                            7468             SUB_START
18234 000033E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
18235                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18236                            7469             FAR_JSR #_CPU_BA_DRVHLDSTOP_OF_JG,R0    ;R0=0 起動 とりあえず１個
18237 000033E2 D003                   M           MOV.L   #_CPU_BA_DRVHLDSTOP_OF_JG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18238 000033E4 400B                   M           JSR     @R0                     ;
18239 000033E6 0009                   M           NOP                                     ;
18240                            7470             SUB_END
18241                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18242 000033E8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18243                            7471             M_RTS
18244 000033EA 000B                   M           RTS                             ;RTSの後ろの
18245 000033EC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18246                            7472     
18247                            7473     ;       -----R0=0 RESTART-OK----------
18248                            7474     ;;;;;;;;;;_HOLD_STOP_BA_JG:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   218
PROGRAM NAME =

18249                            7475     ;;;;;;;;;;      SUB_START
18250                            7476     ;;;;;;;;;;      FAR_JSR #_CPU_BA_DRVHLDSTOP_ON_JG,R0    ;R0=FFFF 停止 とりあえず1個(複数時
                                          でもどれか１つがFFFFでいいと思う)
18251                            7477     ;;;;;;;;;;      SUB_END
18252                            7478     ;;;;;;;;;       M_RTS
18253                            7479     
18254                            7480     
18255                            7481     
18256                            7482     
18257                                     ***** BEGIN-POOL *****
18258 000033EE 0000                       ALIGNMENT CODE
18259 000033F0 00000000                   DATA FOR SOURCE-LINE 7469
18260                                     ***** END-POOL *****
18261 000033F4                   7483     _POS_HOLD_FLG_CLR:
18262                            7484             SUB_START
18263 000033F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
18264                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18265                            7485     
18266 000033F6 200A              7486             XOR     R0,R0
18267 000033F8 D105              7487             MOV.L   #_POS_HOLD_RESTARTCMD,R1
18268 000033FA 2101              7488             MOV.W   R0,@R1
18269 000033FC D105              7489             MOV.L   #_POS_HOLD_CMD,R1
18270 000033FE 2101              7490             MOV.W   R0,@R1
18271 00003400 D105              7491             MOV.L   #_POS_HOLD_FLG,R1
18272 00003402 2101              7492             MOV.W   R0,@R1
18273                            7493     
18274                            7494             FAR_JSR #_POSHLD1_FLG_CLR,R0            ;
18275 00003404 D005                   M           MOV.L   #_POSHLD1_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18276 00003406 400B                   M           JSR     @R0                     ;
18277 00003408 0009                   M           NOP                                     ;
18278                            7495     
18279                            7496             SUB_END
18280                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18281 0000340A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18282                            7497             M_RTS
18283 0000340C 000B                   M           RTS                             ;RTSの後ろの
18284 0000340E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18285                            7498     
18286                            7499     ;
18287                                     ***** BEGIN-POOL *****
18288 00003410 00000000                   DATA FOR SOURCE-LINE 7487
18289 00003414 00000000                   DATA FOR SOURCE-LINE 7489
18290 00003418 00000000                   DATA FOR SOURCE-LINE 7491
18291 0000341C 00000000                   DATA FOR SOURCE-LINE 7494
18292                                     ***** END-POOL *****
18293 00003420                   7500     _POS_HOLD_FLG_STR2CLR:
18294                            7501             SUB_START
18295 00003420 4F22                   M           STS.L   PR,@-R15                ;[必要]
18296                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18297 00003422 200A              7502             XOR     R0,R0
18298 00003424 D102              7503             MOV.L   #_POS_HOLD_RDY_EXITF,R1 ;//しょうがない
18299 00003426 2101              7504             MOV.W   R0,@R1                  ;
18300                            7505     
18301                            7506     ;;;;;;;;;;      MOV.L   #_POS_HOLD_RDY_EXITF2,R1;//しょうがない
18302                            7507     ;;;;;;;;;;      MOV.W   R0,@R1                  ;
18303                            7508     
18304                            7509             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   219
PROGRAM NAME =

18305                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18306 00003428 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18307                            7510             M_RTS
18308 0000342A 000B                   M           RTS                             ;RTSの後ろの
18309 0000342C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18310                            7511     
18311                            7512     
18312                            7513     
18313                            7514     
18314                            7515     
18315                            7516     ;       *******************************************
18316                            7517     ;       ***                                     ***
18317                            7518     ;       ***     ｽﾗｲﾄﾞ位置自動待機中信号         ***
18318                            7519     ;       ***     ﾌﾞﾚｰｷを解除するﾀｲﾐﾝｸﾞ           ***
18319                            7520     ;       ***     2017-05-12                      ***
18320                            7521     ;       ***                                     ***
18321                            7522     ;       *******************************************
18322                                     ***** BEGIN-POOL *****
18323 0000342E 0000                       ALIGNMENT CODE
18324 00003430 00000000                   DATA FOR SOURCE-LINE 7503
18325                                     ***** END-POOL *****
18326 00003434                   7523     _API_HOLD_WAIT_BRKOFF_SIG
18327                            7524             SUB_START
18328 00003434 4F22                   M           STS.L   PR,@-R15                ;[必要]
18329                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18330                            7525     
18331 00003436 222A              7526             XOR     R2,R2
18332                            7527     
18333 00003438 D107              7528             MOV.L   #(_PAR_POSHLD_BRKSEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1  ;2017-05-10　CE3-9
                                          9 自動待機中に連続時ﾌﾞﾚｰｷかける(0)/かけない(1)
18334 0000343A 6011              7529             MOV.W   @R1,R0                                                  ;
18335 0000343C 8801              7530             CMP/EQ  #1,R0                                                   ;
18336 0000343E 8B07              7531             BF      API_HOLD_WAIT_BRKOFFSIG_END                             ;
18337                            7532     
18338 00003440 D106              7533             MOV.L   #_MODE_SEL,R1                                           ;
18339 00003442 6011              7534             MOV.W   @R1,R0                                                  ;
18340 00003444 C808              7535             TST     #_W1CNT,R0                                              ;
18341                            7536             TST_BIT_OF API_HOLD_WAIT_BRKOFFSIG_END                          ;
18342 00003446 8903                   M           BT      API_HOLD_WAIT_BRKOFFSIG_END
18343                            7537     
18344                            7538     
18345                            7539             FAR_JSR #_HOLD_WAIT_DURING_SIG,R0
18346 00003448 D005                   M           MOV.L   #_HOLD_WAIT_DURING_SIG,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18347 0000344A 400B                   M           JSR     @R0                     ;
18348 0000344C 0009                   M           NOP                                     ;
18349 0000344E 6203              7540             MOV     R0,R2                                                   ;
18350                            7541     
18351 00003450                   7542     API_HOLD_WAIT_BRKOFFSIG_END                                             ;
18352 00003450 6023              7543             MOV     R2,R0                                                   ;
18353                            7544     
18354                            7545             SUB_END
18355                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18356 00003452 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18357                            7546             M_RTS
18358 00003454 000B                   M           RTS                             ;RTSの後ろの
18359 00003456 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18360                            7547     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   220
PROGRAM NAME =

18361                            7548     
18362                                     ***** BEGIN-POOL *****
18363 00003458 00000000                   DATA FOR SOURCE-LINE 7528
18364 0000345C 00000000                   DATA FOR SOURCE-LINE 7533
18365 00003460 00000000                   DATA FOR SOURCE-LINE 7539
18366                                     ***** END-POOL *****
18367 00003464                   7549     _HOLD_WAIT_DURING_SIG
18368                            7550             SUB_START
18369 00003464 4F22                   M           STS.L   PR,@-R15                ;[必要]
18370                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18371                            7551     
18372 00003466 222A              7552             XOR     R2,R2
18373 00003468 D107              7553             MOV.L   #_POS_HOLD_RDY_EXITF,R1         ;起動のCPUA/Bﾊﾝﾄﾞｼｪｲｸ中
18374 0000346A 6011              7554             MOV.W   @R1,R0                          ;
18375 0000346C C901              7555             AND     #BIT0,R0
18376 0000346E 220B              7556             OR      R0,R2                           ;
18377                            7557     
18378 00003470 D106              7558             MOV.L   #_POS_HOLD_FLG,R1
18379 00003472 6011              7559             MOV.W   @R1,R0
18380 00003474 C907              7560             AND     #(BIT2+BIT1+BIT0),R0            ;BIT0:ｺﾏﾝﾄﾞ受付,BIT1(待機中):,BIT2再起動中
18381 00003476 220B              7561             OR      R0,R2                           ;
18382                            7562     
18383 00003478 D105              7563             MOV.L   #_POS_HOLD_CMD,R1               ;
18384 0000347A 6011              7564             MOV.W   @R1,R0                          ;
18385 0000347C C901              7565             AND     #(BIT0),R0                      ;BIT0
18386 0000347E 220B              7566             OR      R0,R2                           ;
18387                            7567     
18388 00003480 6023              7568             MOV     R2,R0                           ;
18389                            7569     
18390                            7570             SUB_END
18391                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18392 00003482 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18393                            7571             M_RTS
18394 00003484 000B                   M           RTS                             ;RTSの後ろの
18395 00003486 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18396                            7572     
18397                            7573     
18398                            7574     
18399                            7575     
18400                            7576     
18401                            7577     
18402                            7578     
18403                            7579     
18404                            7580     
18405                            7581     
18406                            7582     ;       ***********************************
18407                            7583     ;       ***     EXQ,EMG時の内部ｸﾘｱ      ***
18408                            7584     ;       ***********************************
18409                                     ***** BEGIN-POOL *****
18410 00003488 00000000                   DATA FOR SOURCE-LINE 7553
18411 0000348C 00000000                   DATA FOR SOURCE-LINE 7558
18412 00003490 00000000                   DATA FOR SOURCE-LINE 7563
18413                                     ***** END-POOL *****
18414 00003494                   7585     _POS_HOLD_FLG_EXQ_CLR:
18415                            7586             SUB_START
18416 00003494 4F22                   M           STS.L   PR,@-R15                ;[必要]
18417                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   221
PROGRAM NAME =

18418                            7587     
18419                            7588             FAR_JSR #_POS_HOLD_FLG_CLR,R0           ;
18420 00003496 D00E                   M           MOV.L   #_POS_HOLD_FLG_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18421 00003498 400B                   M           JSR     @R0                     ;
18422 0000349A 0009                   M           NOP                                     ;
18423                            7589             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;
18424 0000349C D00D                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18425 0000349E 400B                   M           JSR     @R0                     ;
18426 000034A0 0009                   M           NOP                                     ;
18427                            7590     
18428 000034A2 200A              7591             XOR     R0,R0                           ;
18429 000034A4 D10C              7592             MOV.L   #_POSHLD1_STOPLATCH,R1          ;//停止前、停止中に停止釦相当が発生したか?
18430 000034A6 2101              7593             MOV.W   R0,@R1                          ;
18431                            7594     
18432 000034A8 D10C              7595             MOV.L   #_POS_HLDSTOP1_SIG1TIM,R1       ;251.8   20msecだけ再起動をONする
18433 000034AA 2101              7596             MOV.W   R0,@R1                          ;
18434 000034AC D10C              7597             MOV.L   #_POS_HLDSTOP1_SIG2TIM,R1       ;251.12  20msecだけ通過時もしくは再起動時O
                                          Nする[2015-02-20]
18435 000034AE 2101              7598             MOV.W   R0,@R1                          ;
18436                            7599     
18437                            7600     ;       ---     2015-02-20 BIT9は設定条件       ---
18438                            7601             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB251,LG=W,BIT=~(BIT12|BIT8|BIT7|BIT6),WKR
                                          G1=R1,WKRG2=R4  ;
18439 000034B0 D10C                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;
18440 000034B2 6011                   M           MOV.W   @R1,R0          ;
18441 000034B4 940A                   M           MOV.W   #LWORD ~(BIT12|BIT8|BIT7|BIT6),R4       ;
18442 000034B6 2049                   M           AND     R4,R0           ;
18443 000034B8 2101                   M           MOV.W   R0,@R1          ;
18444                            7602     
18445                            7603     
18446                            7604             FAR_JSR #_HOLD_RESTART_OF_OUT,R0        ;DPRAM ｺﾏﾝﾄﾞｸﾘｱ
18447 000034BA D00B                   M           MOV.L   #_HOLD_RESTART_OF_OUT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18448 000034BC 400B                   M           JSR     @R0                     ;
18449 000034BE 0009                   M           NOP                                     ;
18450                            7605             FAR_JSR #_RDY_HOLDSTP_OF_FLGOUT,R0      ;
18451 000034C0 D00A                   M           MOV.L   #_RDY_HOLDSTP_OF_FLGOUT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18452 000034C2 400B                   M           JSR     @R0                     ;
18453 000034C4 0009                   M           NOP                                     ;
18454                            7606     
18455                            7607     
18456                            7608     
18457                            7609     
18458                            7610             SUB_END
18459                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18460 000034C6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18461                            7611             M_RTS
18462 000034C8 000B                   M           RTS                             ;RTSの後ろの
18463 000034CA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18464                            7612     
18465                            7613     ;EMG,EXQなのでRDY_CHECKは通らないから強制OFF[2015-02-20]
18466                                     ***** BEGIN-POOL *****
18467 000034CC EE3F                       DATA FOR SOURCE-LINE 7601
18468 000034CE 0000                       ALIGNMENT CODE
18469 000034D0 00000000                   DATA FOR SOURCE-LINE 7588
18470 000034D4 00000000                   DATA FOR SOURCE-LINE 7589
18471 000034D8 00000000                   DATA FOR SOURCE-LINE 7592
18472 000034DC 00000000                   DATA FOR SOURCE-LINE 7595
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   222
PROGRAM NAME =

18473 000034E0 00000000                   DATA FOR SOURCE-LINE 7597
18474 000034E4 00000000                   DATA FOR SOURCE-LINE 7601
18475 000034E8 00000000                   DATA FOR SOURCE-LINE 7604
18476 000034EC 00000000                   DATA FOR SOURCE-LINE 7605
18477                                     ***** END-POOL *****
18478 000034F0                   7614     _RDY_HOLDSTP_OF_FLGOUT:
18479                            7615             SUB_START
18480 000034F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
18481                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18482 000034F2 200A              7616             XOR     R0,R0
18483 000034F4 D103              7617             MOV.L   #_SH4_HD_HLDSTOP2,R1
18484 000034F6 2101              7618             MOV.W   R0,@R1
18485 000034F8 D103              7619             MOV.L   #_SH2_HD_HLDSTOP2,R1
18486 000034FA 2101              7620             MOV.W   R0,@R1
18487                            7621             SUB_END
18488                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18489 000034FC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18490                            7622             M_RTS
18491 000034FE 000B                   M           RTS                             ;RTSの後ろの
18492 00003500 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18493                            7623     
18494                            7624     
18495                                     ***** BEGIN-POOL *****
18496 00003502 0000                       ALIGNMENT CODE
18497 00003504 00000000                   DATA FOR SOURCE-LINE 7617
18498 00003508 00000000                   DATA FOR SOURCE-LINE 7619
18499                                     ***** END-POOL *****
18500 0000350C                   7625     _RDY_HOLDSTP_FLGOUT:
18501                            7626             SUB_START
18502 0000350C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18503                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18504                            7627     
18505 0000350E D103              7628             MOV.L   #_POS_HOLD_FLG,R1       ;
18506 00003510 6011              7629             MOV.W   @R1,R0                  ;
18507                            7630     
18508                            7631             .AIF    0 EQ    0       ;
18509 00003512 D103              7632 C           MOV.L   #_SH4_HD_HLDSTOP2,R1
18510                            7633             .AELSE
18511                            7634             MOV.L   #_SH2_HD_HLDSTOP2,R1
18512                            7635             .AENDI
18513 00003514 2101              7636             MOV.W   R0,@R1
18514                            7637     
18515                            7638             SUB_END
18516                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18517 00003516 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18518                            7639             M_RTS
18519 00003518 000B                   M           RTS                             ;RTSの後ろの
18520 0000351A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18521                            7640     
18522                                     ***** BEGIN-POOL *****
18523 0000351C 00000000                   DATA FOR SOURCE-LINE 7628
18524 00003520 00000000                   DATA FOR SOURCE-LINE 7632
18525                                     ***** END-POOL *****
18526 00003524                   7641     _HOLD_STOP_BA_JG:
18527                            7642             SUB_START
18528 00003524 4F22                   M           STS.L   PR,@-R15                ;[必要]
18529                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   223
PROGRAM NAME =

18530                            7643     
18531                            7644             .AIF    0 EQ    0       ;
18532 00003526 D102              7645 C           MOV.L   #_SH2_HD_HLDSTOP2,R1
18533                            7646             .AELSE
18534                            7647             MOV.L   #_SH4_HD_HLDSTOP2,R1
18535                            7648             .AENDI
18536 00003528 6011              7649             MOV.W   @R1,R0
18537                            7650     
18538                            7651             SUB_END
18539                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18540 0000352A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18541                            7652             M_RTS
18542 0000352C 000B                   M           RTS                             ;RTSの後ろの
18543 0000352E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18544                            7653     
18545                            7654     
18546                            7655     ;       *******************************************
18547                            7656     ;       ***                                     ***
18548                            7657     ;       ***                                     ***
18549                            7658     ;       ***                                     ***
18550                            7659     ;       ***     寸動任意角度起動                ***
18551                            7660     ;       ***                                     ***
18552                            7661     ;       ***                                     ***
18553                            7662     ;       ***                                     ***
18554                            7663     ;       *******************************************
18555                            7664     
18556                            7665     ;       *******************************************
18557                            7666     ;       ***                                     ***
18558                            7667     ;       ***     EMG時ワーククリア               ***
18559                            7668     ;       ***                                     ***
18560                            7669     ;       *******************************************
18561                            7670     ;       起動時もCALLされる
18562                            7671             .EXPORT _INC_RST_WORK_CLR
18563                                     ***** BEGIN-POOL *****
18564 00003530 00000000                   DATA FOR SOURCE-LINE 7645
18565                                     ***** END-POOL *****
18566 00003534                   7672     _INC_RST_WORK_CLR
18567                            7673             SUB_START                               ;
18568 00003534 4F22                   M           STS.L   PR,@-R15                ;[必要]
18569                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18570 00003536 200A              7674             XOR     R0,R0                           ;
18571 00003538 D103              7675             MOV.L   #_INC_RESET_STEP,R1             ;//0,1:1ｽﾃｯﾌﾟから起動 2~11
18572 0000353A 2101              7676             MOV.W   R0,@R1                          ;//
18573                            7677     
18574 0000353C D103              7678             MOV.L   #_INC_RESET_USE_F,R1            ;//STEPを参照して!
18575 0000353E 2101              7679             MOV.W   R0,@R1                          ;//起動時ONならRESET_STEPを参照する
18576                            7680     
18577                            7681             SUB_END                                 ;
18578                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18579 00003540 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18580                            7682             M_RTS                                   ;
18581 00003542 000B                   M           RTS                             ;RTSの後ろの
18582 00003544 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18583                            7683     
18584                            7684     ;       *******************************************
18585                            7685     ;       ***                                     ***
18586                            7686     ;       ***     リセット時の開始行程判断        ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   224
PROGRAM NAME =

18587                            7687     ;       ***                                     ***
18588                            7688     ;       *******************************************
18589                            7689             .IMPORT _POS_STEP1_SEARCH               ;
18590                            7690     
18591                                     ***** BEGIN-POOL *****
18592 00003546 0000                       ALIGNMENT CODE
18593 00003548 00000000                   DATA FOR SOURCE-LINE 7675
18594 0000354C 00000000                   DATA FOR SOURCE-LINE 7678
18595                                     ***** END-POOL *****
18596 00003550                   7691     _INC_RSTMODE_CHK
18597                            7692             SUB_START                                                       ;
18598 00003550 4F22                   M           STS.L   PR,@-R15                ;[必要]
18599                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18600                            7693     
18601                            7694             FAR_JSR #_INC_SPEC_RSTCHK,R0                    ;ｼｽﾊﾟﾗが有効で且つ寸動
18602 00003552 D004                   M           MOV.L   #_INC_SPEC_RSTCHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18603 00003554 400B                   M           JSR     @R0                     ;
18604 00003556 0009                   M           NOP                                     ;
18605                            7695     
18606 00003558 222A              7696             XOR     R2,R2                                   ;
18607 0000355A 2008              7697             TST     R0,R0
18608                            7698             TST_BIT_ON INC_RSTMODECK020                     ;寸動で且つ、リセット有効
18609 0000355C 8B04                   M           BF      INC_RSTMODECK020
18610                            7699             M_BRA   INC_RSTMODECK499                        ;特殊なﾓｰﾄﾞではない
18611 0000355E A08A                   M           BRA     INC_RSTMODECK499
18612 00003560 0009                   M           NOP
18613                            7700     
18614                                     ***** BEGIN-POOL *****
18615 00003562 0000                       ALIGNMENT CODE
18616 00003564 00000000                   DATA FOR SOURCE-LINE 7694
18617                                     ***** END-POOL *****
18618 00003568                   7701     INC_RSTMODECK020
18619                            7702     
18620                            7703     ;       ----------------------------------
18621 00003568 D104              7704             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
18622 0000356A 6011              7705             MOV.W   @R1,R0                                  ;
18623 0000356C C804              7706             TST     #(_DMATH_DNDRIV),R0                     ;
18624                            7707             TST_BIT_OF INC_RSTMODECK100                     ;振子でない
18625 0000356E 8909                   M           BT      INC_RSTMODECK100
18626                            7708     
18627 00003570 D403              7709             MOV.L   #_DNM_RESET_AREA,R4                     ;//BIT7(左)/BIT4(右側)
18628 00003572 6041              7710             MOV.W   @R4,R0
18629 00003574 C890              7711             TST     #(BIT7+BIT4),R0                         ;
18630                            7712             TST_BIT_ON INC_RSTMODECK490                     ;待機点OK->通常側ｿﾌﾄで処理
18631 00003576 8B7D                   M           BF      INC_RSTMODECK490
18632                            7713             M_BRA   INC_RSTMODECK200                        ;
18633 00003578 A008                   M           BRA     INC_RSTMODECK200
18634 0000357A 0009                   M           NOP
18635                            7714     
18636                            7715     
18637                                     ***** BEGIN-POOL *****
18638 0000357C 00000000                   DATA FOR SOURCE-LINE 7704
18639 00003580 00000000                   DATA FOR SOURCE-LINE 7709
18640                                     ***** END-POOL *****
18641 00003584                   7716     INC_RSTMODECK100
18642 00003584 D412              7717             MOV.L   #_M_LINK_AREASIG,R4                     ;//BIT0/BIT4:待機点範囲
18643 00003586 6041              7718             MOV.W   @R4,R0                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   225
PROGRAM NAME =

18644 00003588 C810              7719             TST     #BIT4,R0                                ;左側
18645                            7720             TST_BIT_ON INC_RSTMODECK490                     ;待機点OK->通常側ｿﾌﾄで処理
18646 0000358A 8B73                   M           BF      INC_RSTMODECK490
18647                            7721     
18648                            7722     ;       --------- 待機点にいない いままではここはＮＧ区間-----------
18649 0000358C                   7723     INC_RSTMODECK200
18650                            7724     
18651                            7725             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0          ;
18652 0000358C D011                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18653 0000358E 400B                   M           JSR     @R0                     ;
18654 00003590 0009                   M           NOP                                     ;
18655                            7726             FAR_JSR #_NOW_INC_DIG_MAK,R0            ;
18656 00003592 D011                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18657 00003594 400B                   M           JSR     @R0                     ;
18658 00003596 0009                   M           NOP                                     ;
18659                            7727     
18660                            7728     
18661 00003598 D110              7729             MOV.L   #_LINK_NOWROT_OFSPLS_P,R1               ;[[[目標]]]
18662 0000359A 6712              7730             MOV.L   @R1,R7                                  ;
18663                            7731     
18664                            7732     ;       -------2018-01-25[回転で待機点359度のとき 0の場合は問題なし]-----------
18665                            7733             FAR_JSR #_INC_RST_DATA_CHK,R0                   ;input R7 /output R7
18666 0000359C D010                   M           MOV.L   #_INC_RST_DATA_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18667 0000359E 400B                   M           JSR     @R0                     ;
18668 000035A0 0009                   M           NOP                                     ;
18669                            7734     ;       -------------- 2018-01-25 追加----------------
18670                            7735     
18671                            7736     ;       -----------INPUT R7--------------------
18672                            7737             FAR_JSR #_POS_STEP1_SEARCH,R0                   ;INPUT R7
18673 000035A2 D010                   M           MOV.L   #_POS_STEP1_SEARCH,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18674 000035A4 400B                   M           JSR     @R0                     ;
18675 000035A6 0009                   M           NOP                                     ;
18676                            7738                                                             ;OUTPUT R0(R6):ｽﾃｯﾌﾟ R5方向
18677                            7739                                                             ;R2(Sn),R3(Sn_1),R7(入力=目標位置)
18678 000035A8 2008              7740             TST     R0,R0                                   ;
18679                            7741             TST_BIT_OF INC_RSTMODECK490                     ;OKにはできない
18680 000035AA 8963                   M           BT      INC_RSTMODECK490
18681 000035AC D10E              7742             MOV.L   #_INC_RESET_STEP,R1                     ;
18682 000035AE 2101              7743             MOV.W   R0,@R1                                  ;開始行程
18683                            7744     
18684                            7745     ;       -- R5=方向 BIT1=0(正)/1(逆)---
18685 000035B0 D10E              7746             MOV.L   #(_PAR_INCMODE_EPLS-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
18686 000035B2 6011              7747             MOV.W   @R1,R0                                                  ;
18687 000035B4 2008              7748             TST     R0,R0                                                   ;
18688                            7749             TST_BIT_OF INC_RSTMODECK280                                     ;
18689 000035B6 8929                   M           BT      INC_RSTMODECK280
18690                            7750     
18691 000035B8 E402              7751             MOV.B   #BIT1,R4                                ;
18692 000035BA 2548              7752             TST     R4,R5                                   ;
18693                            7753             TST_BIT_OF INC_RSTMODECK240                     ;方向
18694 000035BC 8918                   M           BT      INC_RSTMODECK240
18695 000035BE 600B              7754             NEG     R0,R0                                   ;
18696 000035C0 307C              7755             ADD     R7,R0                                   ;
18697                            7756     
18698                            7757             MAX_MIN_RG_CMP4B DT_REG=R2,MAXRG=R7,MINRG=R0    ;T=1:範囲内　R7 >= R2 => R0(R7-α)
                                          　なら次行程
18699 000035C2 3203                   M           CMP/GE  R0,R2           ;MIN =< DT THEN T=1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   226
PROGRAM NAME =

18700 000035C4 8B00                   M           BF      JMP0100003                      ;DT < MIN T=0
18701 000035C6 3723                   M           CMP/GE  R2,R7           ;
18702 000035C8                        M   JMP0100003                                      ;
18703 000035C8 8917              7758             BT      INC_RSTMODECK260                        ;
18704                            7759             M_BRA   INC_RSTMODECK280                        ;範囲内ではない
18705 000035CA A01F                   M           BRA     INC_RSTMODECK280
18706 000035CC 0009                   M           NOP
18707                            7760     
18708                                     ***** BEGIN-POOL *****
18709 000035CE 0000                       ALIGNMENT CODE
18710 000035D0 00000000                   DATA FOR SOURCE-LINE 7717
18711 000035D4 00000000                   DATA FOR SOURCE-LINE 7725
18712 000035D8 00000000                   DATA FOR SOURCE-LINE 7726
18713 000035DC 00000000                   DATA FOR SOURCE-LINE 7729
18714 000035E0 00000000                   DATA FOR SOURCE-LINE 7733
18715 000035E4 00000000                   DATA FOR SOURCE-LINE 7737
18716 000035E8 00000000                   DATA FOR SOURCE-LINE 7742
18717 000035EC 00000000                   DATA FOR SOURCE-LINE 7746
18718                                     ***** END-POOL *****
18719 000035F0                   7761     INC_RSTMODECK240                                        ;
18720 000035F0 307C              7762             ADD     R7,R0                                   ;
18721                            7763             MAX_MIN_RG_CMP4B DT_REG=R2,MAXRG=R0,MINRG=R7    ;T=1:範囲内　R7=<R2<=R0(R7+α)なら
                                          次行程
18722 000035F2 3273                   M           CMP/GE  R7,R2           ;MIN =< DT THEN T=1
18723 000035F4 8B00                   M           BF      JMP0100004                      ;DT < MIN T=0
18724 000035F6 3023                   M           CMP/GE  R2,R0           ;
18725 000035F8                        M   JMP0100004                                      ;
18726 000035F8 8B08              7764             BF      INC_RSTMODECK280                        ;範囲内ではない2016-05-17抜けてい
                                          た
18727 000035FA                   7765     INC_RSTMODECK260                                        ;
18728                            7766     
18729 000035FA D50D              7767             MOV.L   #_INC_RESET_STEP,R5                     ;
18730 000035FC 6051              7768             MOV.W   @R5,R0                                  ;
18731 000035FE 7001              7769             ADD     #1,R0
18732 00003600 D40C              7770             MOV.L   #_SETX_POS_STEP_MAX,R4                  ;
18733 00003602 6141              7771             MOV.W   @R4,R1                                  ;
18734 00003604 7101              7772             ADD     #1,R1                                   ;
18735 00003606 3103              7773             CMP/GE  R0,R1                                   ;
18736 00003608 8B00              7774             BF      INC_RSTMODECK280                        ;ｵｰﾊﾞしてしまう
18737 0000360A 2501              7775             MOV.W   R0,@R5                                  ;
18738                            7776     
18739                            7777     
18740 0000360C                   7778     INC_RSTMODECK280
18741 0000360C D10A              7779             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
18742 0000360E 6011              7780             MOV.W   @R1,R0                                  ;
18743 00003610 C804              7781             TST     #(_DMATH_DNDRIV),R0                     ;
18744                            7782             TST_BIT_OF INC_RSTMODECK300                     ;ふりこではない
18745 00003612 8921                   M           BT      INC_RSTMODECK300
18746                            7783     
18747                            7784     ;       ------前回がﾓｰｼｮﾝ運転ならその運転の方向を引き継ぐ[2014-11-10]-----
18748 00003614 D109              7785             MOV.L   #_MOVE_MODE_MATH_LATCH,R1       ;//0:(ふりこ以外 または 段取・原点モード)1
                                          :(ふりこでﾓｰｼｮﾝしていた)
18749 00003616 6011              7786             MOV.W   @R1,R0                          ;
18750 00003618 C801              7787             TST     #BIT0,R0                        ;
18751                            7788             TST_BIT_OF INC_RSTMODECK290             ;前はﾓｰｼｮﾝではないorふりこではない
18752 0000361A 8915                   M           BT      INC_RSTMODECK290
18753                            7789     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   227
PROGRAM NAME =

18754 0000361C D108              7790             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1      ;//ふりこの場合の前回までの動作方向
18755 0000361E 6011              7791             MOV.W   @R1,R0                          ;
18756 00003620 C801              7792             TST     #BIT0,R0                        ;
18757                            7793             TST_BIT_OF INC_RSTMODECK300             ;正
18758 00003622 8919                   M           BT      INC_RSTMODECK300
18759                            7794     
18760                            7795             FAR_JSR #_DNM_DATA_REV_SET,R0           ;逆
18761 00003624 D007                   M           MOV.L   #_DNM_DATA_REV_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18762 00003626 400B                   M           JSR     @R0                     ;
18763 00003628 0009                   M           NOP                                     ;
18764                            7796             M_BRA   INC_RSTMODECK300                ;
18765 0000362A A015                   M           BRA     INC_RSTMODECK300
18766 0000362C 0009                   M           NOP
18767                            7797     
18768                            7798     
18769                            7799     
18770                                     ***** BEGIN-POOL *****
18771 0000362E 0000                       ALIGNMENT CODE
18772 00003630 00000000                   DATA FOR SOURCE-LINE 7767
18773 00003634 00000000                   DATA FOR SOURCE-LINE 7770
18774 00003638 00000000                   DATA FOR SOURCE-LINE 7779
18775 0000363C 00000000                   DATA FOR SOURCE-LINE 7785
18776 00003640 00000000                   DATA FOR SOURCE-LINE 7790
18777 00003644 00000000                   DATA FOR SOURCE-LINE 7795
18778                                     ***** END-POOL *****
18779 00003648                   7800     INC_RSTMODECK290
18780                            7801     
18781 00003648 930C              7802             MOV.W   #_UPDN_DIRJG_DIG,R3                     ;               .EQU    1800    ;
18782 0000364A D107              7803             MOV.L   #_INC_ENC360,R1                         ;
18783 0000364C 6211              7804             MOV.W   @R1,R2                                  ;
18784 0000364E 3237              7805             CMP/GT  R3,R2                                   ;
18785 00003650 8B02              7806             BF      INC_RSTMODECK300                        ;
18786                            7807     
18787                            7808     ;       --------0~180-------------
18788                            7809             FAR_JSR #_DNM_DATA_REV_SET,R0                   ;
18789 00003652 D006                   M           MOV.L   #_DNM_DATA_REV_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18790 00003654 400B                   M           JSR     @R0                     ;
18791 00003656 0009                   M           NOP                                     ;
18792                            7810     
18793 00003658                   7811     INC_RSTMODECK300
18794                            7812     
18795 00003658 E001              7813             MOV.B   #BIT0,R0                        ;
18796 0000365A D105              7814             MOV.L   #_INC_RESET_USE_F,R1            ;//STEPを参照して!
18797 0000365C 2101              7815             MOV.W   R0,@R1                          ;//起動時ONならRESET_STEPを参照する
18798                            7816     
18799                            7817     ;       -----------------------------------------
18800                            7818     ;;;INC_RSTMODECK480
18801 0000365E E201              7819             MOV.B   #BIT0,R2                        ;
18802                            7820             M_BRA   INC_RSTMODECK500                ;OKして!
18803 00003660 A00A                   M           BRA     INC_RSTMODECK500
18804 00003662 0009                   M           NOP
18805                            7821     
18806                            7822     
18807                                     ***** BEGIN-POOL *****
18808 00003664 0708                       DATA FOR SOURCE-LINE 7802
18809 00003666 0000                       ALIGNMENT CODE
18810 00003668 00000000                   DATA FOR SOURCE-LINE 7803
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   228
PROGRAM NAME =

18811 0000366C 00000000                   DATA FOR SOURCE-LINE 7809
18812 00003670 00000000                   DATA FOR SOURCE-LINE 7814
18813                                     ***** END-POOL *****
18814 00003674                   7823     INC_RSTMODECK490
18815 00003674 0009              7824             NOP
18816 00003676                   7825     INC_RSTMODECK499
18817 00003676 200A              7826             XOR     R0,R0                           ;通常ｿﾌﾄを流して
18818 00003678                   7827     INC_RSTMODECK500
18819                            7828     
18820                            7829             SUB_END                                                         ;
18821                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18822 00003678 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18823                            7830             M_RTS                                                           ;
18824 0000367A 000B                   M           RTS                             ;RTSの後ろの
18825 0000367C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18826                            7831     
18827                            7832     
18828                            7833     
18829                            7834             .EXPORT _INC_SPEC_RSTCHK
18830 0000367E                   7835     _INC_SPEC_RSTCHK
18831                            7836             SUB_START                                                       ;
18832 0000367E 4F22                   M           STS.L   PR,@-R15                ;[必要]
18833                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18834                            7837     
18835 00003680 D105              7838             MOV.L   #(_PAR_INCMODE_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
18836 00003682 6011              7839             MOV.W   @R1,R0                                                  ;
18837 00003684 8801              7840             CMP/EQ  #1,R0                                                   ;
18838 00003686 8B0B              7841             BF      INC_SPEC_RSTCK100                                       ;
18839                            7842     
18840 00003688 D104              7843             MOV.L   #_INP_MODE,R1                                           ;
18841 0000368A 6011              7844             MOV.W   @R1,R0                                                  ;
18842 0000368C C802              7845             TST     #_W1INC,R0                                              ;寸動?
18843                            7846             TST_BIT_OF INC_SPEC_RSTCK100                                    ;
18844 0000368E 8907                   M           BT      INC_SPEC_RSTCK100
18845                            7847     
18846 00003690 E001              7848             MOV.B   #BIT0,R0
18847                            7849             M_BRA   INC_SPEC_RSTCK200
18848 00003692 A006                   M           BRA     INC_SPEC_RSTCK200
18849 00003694 0009                   M           NOP
18850                            7850     
18851                                     ***** BEGIN-POOL *****
18852 00003696 0000                       ALIGNMENT CODE
18853 00003698 00000000                   DATA FOR SOURCE-LINE 7838
18854 0000369C 00000000                   DATA FOR SOURCE-LINE 7843
18855                                     ***** END-POOL *****
18856 000036A0                   7851     INC_SPEC_RSTCK100:
18857 000036A0 200A              7852             XOR     R0,R0
18858 000036A2                   7853     INC_SPEC_RSTCK200:
18859                            7854     
18860                            7855     
18861                            7856             SUB_END                                                         ;
18862                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18863 000036A2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18864                            7857             M_RTS                                                           ;
18865 000036A4 000B                   M           RTS                             ;RTSの後ろの
18866 000036A6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18867                            7858     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   229
PROGRAM NAME =

18868                            7859     ;
18869                            7860     ;
18870                            7861     ;       INPUT R7/OUTPUT R7
18871                            7862     
18872                            7863     ;       -------------- 2018-01-25 追加----------------
18873 000036A8                   7864     _INC_RST_DATA_CHK:
18874                            7865             SUB_START                                                       ;
18875 000036A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
18876                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18877                            7866     
18878 000036AA D107              7867             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;方向の関係でふりこを先にチェック
18879 000036AC 6011              7868             MOV.W   @R1,R0                                                  ;
18880 000036AE C801              7869             TST             #_DMATH_CNTROT,R0                               ;
18881                            7870             TST_BIT_OF INC_RSTDAT_CHK230
18882 000036B0 8906                   M           BT      INC_RSTDAT_CHK230
18883                            7871     
18884 000036B2 D106              7872             MOV.L   #_SETX_UPAREA_PLS,R1                    ;//4;待機点
18885 000036B4 6212              7873             MOV.L   @R1,R2                                                  ;起点(Sn_1)
18886 000036B6 3723              7874             CMP/GE  R2,R7                                                   ;待機点(起点)<=現
                                          在位置:正常
18887 000036B8 8902              7875             BT              INC_RSTDAT_CHK230
18888                            7876     
18889 000036BA D105              7877             MOV.L   #_LINK_1ROT_PLS,R1                              ;
18890 000036BC 6412              7878             MOV.L   @R1,R4                                                  ;
18891 000036BE 374C              7879             ADD             R4,R7                                                   ;
18892 000036C0                   7880     INC_RSTDAT_CHK230
18893                            7881     
18894                            7882             SUB_END                                                         ;
18895                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18896 000036C0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18897                            7883             M_RTS                                                           ;
18898 000036C2 000B                   M           RTS                             ;RTSの後ろの
18899 000036C4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18900                            7884     
18901                            7885     ;       *******************************************
18902                            7886     ;       ***                                     ***
18903                            7887     ;       ***             EPｾﾝｻﾁｪｯｸ               ***
18904                            7888     ;       ***                                     ***
18905                            7889     ;       *******************************************
18906                            7890             .INCLUDE        "ssa_epchk.inc"         ;//
18907                               1 I1  ;       ***********************************
18908                               2 I1  ;       ***                             ***
18909                               3 I1  ;       ***     EPｾﾝｻﾁｪｯｸ               ***
18910                               4 I1  ;       ***                             ***
18911                               5 I1  ;       ***********************************
18912                               6 I1  ;       電源投入時
18913                               7 I1  ;       位置づけはｾﾙﾌﾁｪｯｸだが,独立した機能
18914                               8 I1  ;       ANTI-ONしてから
18915                               9 I1  
18916                              10 I1          .EXPORT         _EPSEN_CLR
18917                              11 I1  
18918                              12 I1          .GLOBAL         _PAR_EPCHK_SEL          ;5 0:EPｾﾝｻﾁｪｯｸしない 1:ﾁｪｯｸする
18919                              13 I1          .GLOBAL         _PAR_EP1STR_DLYTM       ;6 開始遅延時間 ms
18920                              14 I1          .GLOBAL         _PAR_EP2FVINOF_ERTM     ;7 片方ﾘﾚｰOF(0)確認時間兼ﾀｲﾑｱｳﾄ
18921                              15 I1          .GLOBAL         _PAR_EP3BRKON_DLYTM     ;8 ﾌﾞﾚｰｷON出力遅延
18922                              16 I1          .GLOBAL         _PAR_EP4EPINOF_ERTM     ;9 EPｾﾝｻoff確認時間兼ﾀｲﾑｱｳﾄ
18923                              17 I1          .GLOBAL         _PAR_EP5RSTON_DLYTM     ;10 EPｾﾝｻﾘｾｯﾄON遅延時間
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   230
PROGRAM NAME =

18924                              18 I1          .GLOBAL         _PAR_EP6RSTON_JGTM      ;1 ﾘｾｯﾄON時間兼判定時間
18925                              19 I1          .GLOBAL         _PAR_EP6RSTOF_INTTM     ;2 OFFｲﾝﾀ-ﾊﾞﾙ時間
18926                              20 I1          .GLOBAL         _PAR_EP6RST_RETRY       ;3 ﾘｾｯﾄﾘﾄﾗｲ回数
18927                              21 I1          .GLOBAL         _PAR_EP7AB_DLYTM        ;4 CPUA-->CPUBﾃｽﾄ遅延時間
18928                              22 I1          .GLOBAL         _PAR_EP7END_DLYTM       ;5 CPUB-->終了遅延時間
18929                              23 I1  
18930                              24 I1  
18931                              25 I1          .MACRO  STEP_NEXT MEM
18932                              26 I1          MOV.L   #\MEM,R1        ;
18933                              27 I1          MOV.W   @R1,R0          ;
18934                              28 I1          ADD     #1,R0           ;
18935                              29 I1          MOV.W   R0,@R1          ;
18936                              30 I1          .ENDM
18937                              31 I1  
18938                                 I1  ***** BEGIN-POOL *****
18939 000036C6 0000                   I1  ALIGNMENT CODE
18940 000036C8 00000000               I1  DATA FOR SOURCE-LINE 7867
18941 000036CC 00000000               I1  DATA FOR SOURCE-LINE 7872
18942 000036D0 00000000               I1  DATA FOR SOURCE-LINE 7877
18943                                 I1  ***** END-POOL *****
18944 000036D4                     32 I1          .ALIGN  4                               ;
18945 000036D4                     33 I1  _EP_JMP_TBL
18946                              34 I1  
18947 000036D4 00000000            35 I1          .DATA.L         EP_STEP_USE_RY_DATSET_A ;0
18948 000036D8 00000000            36 I1          .DATA.L         EP_STEP_USE_RY_A        ;1 片効有効RY-ON,片効きｾﾝｻ確認
18949 000036DC 00000000            37 I1          .DATA.L         EP_STEP_VALVON_DATSET   ;2
18950 000036E0 00000000            38 I1          .DATA.L         EP_STEP_VALVON_COM      ;3 ﾊﾞﾙﾌﾞON,EPｾﾝｻ確認
18951 000036E4 00000000            39 I1          .DATA.L         EP_STEP_EPSENSIG_A      ;4
18952 000036E8 00000000            40 I1          .DATA.L         EP_STEP_RESET_DATSET1   ;5
18953 000036EC 00000000            41 I1          .DATA.L         EP_STEP_RESETON_COM     ;6
18954 000036F0 00000000            42 I1          .DATA.L         EP_STEP_ENDSIG_A        ;7
18955 000036F4 00000000            43 I1          .DATA.L         EP_STEP_USE_RY_DATSET_B ;8
18956 000036F8 00000000            44 I1          .DATA.L         EP_STEP_USE_RY_B        ;9
18957 000036FC 00000000            45 I1          .DATA.L         EP_STEP_VALVON_DATSET   ;10
18958 00003700 00000000            46 I1          .DATA.L         EP_STEP_VALVON_COM      ;11
18959 00003704 00000000            47 I1          .DATA.L         EP_STEP_EPSENSIG_B      ;12
18960 00003708 00000000            48 I1          .DATA.L         EP_STEP_RESET_DATSET1   ;13
18961 0000370C 00000000            49 I1          .DATA.L         EP_STEP_RESETON_COM     ;14
18962 00003710 00000000            50 I1          .DATA.L         EP_STEP_ENDSIG_B        ;15
18963 00003714 00000000            51 I1          .DATA.L         EP_STEP_XX              ;16
18964 00003718 00000000            52 I1          .DATA.L         EP_STEP_XX              ;17
18965 0000371C 00000000            53 I1          .DATA.L         EP_STEP_XX              ;18
18966 00003720 00000000            54 I1          .DATA.L         EP_STEP_XX              ;19
18967 00003724 00000000            55 I1          .DATA.L         EP_STEP_XX              ;20
18968 00003728 00000000            56 I1          .DATA.L         EP_STEP_XX              ;21
18969 0000372C 00000000            57 I1          .DATA.L         EP_STEP_XX              ;22
18970 00003730 00000000            58 I1          .DATA.L         EP_STEP_XX              ;23
18971 00003734 00000000            59 I1          .DATA.L         EP_STEP_XX              ;24
18972 00003738 00000000            60 I1          .DATA.L         EP_STEP_XX              ;25
18973 0000373C 00000000            61 I1          .DATA.L         EP_STEP_XX              ;26
18974 00003740 00000000            62 I1          .DATA.L         EP_STEP_XX              ;27
18975 00003744 00000000            63 I1          .DATA.L         EP_STEP_XX              ;28
18976 00003748 00000000            64 I1          .DATA.L         EP_STEP_XX              ;29
18977 0000374C 00000000            65 I1          .DATA.L         EP_STEP_XX              ;30
18978 00003750 00000000            66 I1          .DATA.L         EP_STEP_XX              ;31
18979 00003754 00000000            67 I1          .DATA.L         EP_STEP_XX              ;32
18980                              68 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   231
PROGRAM NAME =

18981                              69 I1  
18982                              70 I1  
18983 00003758                     71 I1          .ALIGN  4                               ;
18984                              72 I1          .EXPORT _EP_SENCER_CHECK
18985 00003758                     73 I1  _EP_SENCER_CHECK
18986                              74 I1          SUB_START
18987 00003758 4F22                   M           STS.L   PR,@-R15                ;[必要]
18988                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18989                              75 I1  
18990 0000375A D105                76 I1          MOV.L   #_EPCHK_FLG,R1                  ;
18991 0000375C 6011                77 I1          MOV.W   @R1,R0                          ;
18992 0000375E 2008                78 I1          TST     R0,R0                           ;
18993                              79 I1          TST_BIT_ON EP_SENCER_CK050              ;
18994 00003760 8B36                   M           BF      EP_SENCER_CK050
18995                              80 I1  
18996 00003762 D104                81 I1          MOV.L   #_EPCHK_COM,R1                  ;
18997 00003764 6011                82 I1          MOV.W   @R1,R0                          ;
18998 00003766 2008                83 I1          TST     R0,R0                           ;
18999                              84 I1          TST_BIT_ON EP_SENCER_CK020              ;
19000 00003768 8B06                   M           BF      EP_SENCER_CK020
19001                              85 I1          M_BRA   EP_SENCER_CKEXT                 ;IDEL
19002 0000376A A1F6                   M           BRA     EP_SENCER_CKEXT
19003 0000376C 0009                   M           NOP
19004                              86 I1  
19005                              87 I1  ;       --------- 開始処理-----------
19006                                 I1  ***** BEGIN-POOL *****
19007 0000376E 0000                   I1  ALIGNMENT CODE
19008 00003770 00000000               I1  DATA FOR SOURCE-LINE 76
19009 00003774 00000000               I1  DATA FOR SOURCE-LINE 81
19010                                 I1  ***** END-POOL *****
19011 00003778                     88 I1  EP_SENCER_CK020:
19012                              89 I1  
19013 00003778 D102                90 I1          MOV.L   #(_PAR_EPCHK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1      ;
19014 0000377A 6011                91 I1          MOV.W   @R1,R0                                                  ;
19015 0000377C 8801                92 I1          CMP/EQ  #1,R0                                                   ;
19016 0000377E 8903                93 I1          BT      EP_SENCER_CK030                                         ;
19017                              94 I1          M_BRA   EP_SENCER_CK800                                         ;正常終了
19018 00003780 A1C6                   M           BRA     EP_SENCER_CK800
19019 00003782 0009                   M           NOP
19020                              95 I1  
19021                              96 I1  
19022                                 I1  ***** BEGIN-POOL *****
19023 00003784 00000000               I1  DATA FOR SOURCE-LINE 90
19024                                 I1  ***** END-POOL *****
19025 00003788                     97 I1  EP_SENCER_CK030:
19026                              98 I1  
19027                              99 I1          FAR_JSR #_EP_SENCHK_STOPCONF1,R0        ;
19028 00003788 D004                   M           MOV.L   #_EP_SENCHK_STOPCONF1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19029 0000378A 400B                   M           JSR     @R0                     ;
19030 0000378C 0009                   M           NOP                                     ;
19031 0000378E 2008               100 I1          TST     R0,R0                           ;
19032                             101 I1          TST_BIT_OF EP_SENCER_CK040              ;
19033 00003790 8908                   M           BT      EP_SENCER_CK040
19034                             102 I1  
19035 00003792 200A               103 I1          XOR     R0,R0
19036 00003794 D102               104 I1          MOV.L   #_EPCHK_STS,R1                  ;
19037 00003796 2101               105 I1          MOV.W   R0,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   232
PROGRAM NAME =

19038                             106 I1          M_BRA   EP_SENCER_CK900                 ;
19039 00003798 A1C8                   M           BRA     EP_SENCER_CK900
19040 0000379A 0009                   M           NOP
19041                             107 I1  
19042                                 I1  ***** BEGIN-POOL *****
19043 0000379C 00000000               I1  DATA FOR SOURCE-LINE 99
19044 000037A0 00000000               I1  DATA FOR SOURCE-LINE 104
19045                                 I1  ***** END-POOL *****
19046 000037A4                    108 I1  EP_SENCER_CK040:
19047 000037A4 E001               109 I1          MOV.B   #BIT0,R0                ;
19048 000037A6 D106               110 I1          MOV.L   #_EPCHK_FLG,R1          ;
19049 000037A8 2101               111 I1          MOV.W   R0,@R1                  ;
19050                             112 I1  
19051 000037AA 200A               113 I1          XOR     R0,R0                   ;
19052 000037AC D105               114 I1          MOV.L   #_EPCHK_STEP,R1         ;
19053 000037AE 2101               115 I1          MOV.W   R0,@R1                  ;
19054                             116 I1  
19055 000037B0 E001               117 I1          MOV.B   #BIT0,R0                ;
19056 000037B2 D105               118 I1          MOV.L   #_EPCHK_STS,R1          ;
19057 000037B4 2101               119 I1          MOV.W   R0,@R1                  ;
19058                             120 I1  
19059                             121 I1  ;       ---------------------------
19060 000037B6 222A               122 I1          XOR     R2,R2
19061 000037B8 D104               123 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                      ;
19062 000037BA 2121               124 I1          MOV.W   R2,@R1                                                  ;
19063                             125 I1  
19064                             126 I1          M_BRA   EP_SENCER_CKEND         ;
19065 000037BC A1C9                   M           BRA     EP_SENCER_CKEND
19066 000037BE 0009                   M           NOP
19067                             127 I1  
19068                             128 I1  
19069                                 I1  ***** BEGIN-POOL *****
19070 000037C0 00000000               I1  DATA FOR SOURCE-LINE 110
19071 000037C4 00000000               I1  DATA FOR SOURCE-LINE 114
19072 000037C8 00000000               I1  DATA FOR SOURCE-LINE 118
19073 000037CC 00000000               I1  DATA FOR SOURCE-LINE 123
19074                                 I1  ***** END-POOL *****
19075 000037D0                    129 I1  EP_SENCER_CK050:
19076 000037D0 C880               130 I1          TST     #BIT7,R0                ;
19077                             131 I1          TST_BIT_OF EP_SENCER_CK100      ;
19078 000037D2 8901                   M           BT      EP_SENCER_CK100
19079                             132 I1          M_BRA   EP_SENCER_CKEND ;
19080 000037D4 A1BD                   M           BRA     EP_SENCER_CKEND
19081 000037D6 0009                   M           NOP
19082                             133 I1  
19083                             134 I1  ;       ---------- 処理中---------------
19084 000037D8                    135 I1  EP_SENCER_CK100:
19085                             136 I1  
19086                             137 I1          DN_TIME LG=W,MEM_ADR=_EPCHK_DLY_TIM,WKREG1=R1,WKREG2=R4 ;
19087 000037D8 D106                   M           MOV.L   #_EPCHK_DLY_TIM,R1              ;SORCE ADRESS SET
19088 000037DA 6411                   M           MOV.W   @R1,R4          ;
19089 000037DC 2448                   M           TST     R4,R4                   ;
19090 000037DE 8901                   M           BT      JMP_0100005                     ;ZERO THEN JUMP
19091 000037E0 4410                   M           DT      R4                              ;
19092 000037E2 2141                   M           MOV.W   R4,@R1          ;STORE
19093 000037E4                        M   JMP_0100005:
19094                             138 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   233
PROGRAM NAME =

19095                             139 I1  ;       -------- 中断条件--------------------
19096                             140 I1          FAR_JSR #_EP_SENCHK_STOPCONF2,R0        ;
19097 000037E4 D004                   M           MOV.L   #_EP_SENCHK_STOPCONF2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19098 000037E6 400B                   M           JSR     @R0                     ;
19099 000037E8 0009                   M           NOP                                     ;
19100 000037EA 2008               141 I1          TST     R0,R0                           ;
19101                             142 I1          TST_BIT_OF EP_SENCER_CK150              ;
19102 000037EC 8906                   M           BT      EP_SENCER_CK150
19103                             143 I1          M_BRA   EP_SENCER_CK900                 ;異常
19104 000037EE A19D                   M           BRA     EP_SENCER_CK900
19105 000037F0 0009                   M           NOP
19106                             144 I1  
19107                                 I1  ***** BEGIN-POOL *****
19108 000037F2 0000                   I1  ALIGNMENT CODE
19109 000037F4 00000000               I1  DATA FOR SOURCE-LINE 137
19110 000037F8 00000000               I1  DATA FOR SOURCE-LINE 140
19111                                 I1  ***** END-POOL *****
19112 000037FC                    145 I1  EP_SENCER_CK150:
19113                             146 I1  
19114                             147 I1  ;       -----------遅延時間処理--------
19115 000037FC D102               148 I1          MOV.L   #_EPCHK_DLY_TIM,R1              ;
19116 000037FE 6011               149 I1          MOV.W   @R1,R0                          ;
19117 00003800 2008               150 I1          TST     R0,R0                           ;
19118                             151 I1          TST_BIT_OF EP_SENCER_CK200              ;
19119 00003802 8903                   M           BT      EP_SENCER_CK200
19120                             152 I1          M_BRA   EP_SENCER_CKEND         ;
19121 00003804 A1A5                   M           BRA     EP_SENCER_CKEND
19122 00003806 0009                   M           NOP
19123                             153 I1  
19124                             154 I1  ;       ---------- 遅延時間中は異常ﾀｲﾏｶｳﾝﾄしない-----------
19125                                 I1  ***** BEGIN-POOL *****
19126 00003808 00000000               I1  DATA FOR SOURCE-LINE 148
19127                                 I1  ***** END-POOL *****
19128 0000380C                    155 I1  EP_SENCER_CK200:
19129                             156 I1          DN_TIME LG=W,MEM_ADR=_EPCHK_ERR_TIM,WKREG1=R1,WKREG2=R4 ;
19130 0000380C D107                   M           MOV.L   #_EPCHK_ERR_TIM,R1              ;SORCE ADRESS SET
19131 0000380E 6411                   M           MOV.W   @R1,R4          ;
19132 00003810 2448                   M           TST     R4,R4                   ;
19133 00003812 8901                   M           BT      JMP_0100006                     ;ZERO THEN JUMP
19134 00003814 4410                   M           DT      R4                              ;
19135 00003816 2141                   M           MOV.W   R4,@R1          ;STORE
19136 00003818                        M   JMP_0100006:
19137                             157 I1  
19138 00003818 D105               158 I1          MOV.L   #_EPCHK_STEP,R1                         ;
19139 0000381A 6011               159 I1          MOV.W   @R1,R0                                  ;
19140 0000381C C91F               160 I1          AND     #H'1F,R0                                ;MAX 16ｽﾃｯﾌﾟ
19141 0000381E 4008               161 I1          SHLL2   R0                                      ;
19142 00003820 D104               162 I1          MOV.L   #_EP_JMP_TBL,R1                         ;
19143 00003822 310C               163 I1          ADD     R0,R1                                   ;
19144 00003824 6012               164 I1          MOV.L   @R1,R0                                  ;
19145                             165 I1          REG_JMP WKREG=R0                                ;
19146 00003826 402B                   M           JMP     @R0
19147 00003828 0009                   M           NOP
19148                             166 I1  
19149                             167 I1  
19150                             168 I1  ;       ---------------------------------------------------
19151                             169 I1  ;       ---     遅延ﾀｲﾏ,有効ﾘﾚｰ,異常ﾀｲﾏｾｯﾄ[STEP0]       ---
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   234
PROGRAM NAME =

19152                             170 I1  ;       ---------------------------------------------------
19153                                 I1  ***** BEGIN-POOL *****
19154 0000382A 0000                   I1  ALIGNMENT CODE
19155 0000382C 00000000               I1  DATA FOR SOURCE-LINE 156
19156 00003830 00000000               I1  DATA FOR SOURCE-LINE 158
19157 00003834 00000000               I1  DATA FOR SOURCE-LINE 162
19158                                 I1  ***** END-POOL *****
19159 00003838                    171 I1  EP_STEP_USE_RY_DATSET_A
19160                             172 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19161 00003838 D102               173 I1          MOV.L   #(_PAR_EP1STR_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;開始遅延
19162 0000383A 6211               174 I1          MOV.W   @R1,R2                                                  ;
19163 0000383C D102               175 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                      ;
19164 0000383E 2121               176 I1          MOV.W   R2,@R1                                                  ;
19165                             177 I1          M_BRA   EP_STEP_USE_RY_DATSETCOM
19166 00003840 A008                   M           BRA     EP_STEP_USE_RY_DATSETCOM
19167 00003842 0009                   M           NOP
19168                             178 I1  
19169                                 I1  ***** BEGIN-POOL *****
19170 00003844 00000000               I1  DATA FOR SOURCE-LINE 173
19171 00003848 00000000               I1  DATA FOR SOURCE-LINE 175
19172                                 I1  ***** END-POOL *****
19173 0000384C                    179 I1  EP_STEP_USE_RY_DATSET_B
19174                             180 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19175 0000384C D106               181 I1          MOV.L   #(_PAR_EP7AB_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;開始遅延
19176 0000384E 6211               182 I1          MOV.W   @R1,R2                                                  ;
19177 00003850 D106               183 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                      ;
19178 00003852 2121               184 I1          MOV.W   R2,@R1                                                  ;
19179                             185 I1  
19180 00003854                    186 I1  EP_STEP_USE_RY_DATSETCOM
19181                             187 I1  
19182                             188 I1  ;       ---------ﾀｲﾏｾｯﾄ[異常]-----------------
19183 00003854 D106               189 I1          MOV.L   #(_PAR_EP2FVINOF_ERTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1 ;片方ﾘﾚｰOF(0)確認
                                          時間兼ﾀｲﾑｱｳﾄ
19184 00003856 6211               190 I1          MOV.W   @R1,R2                                                  ;
19185 00003858 D106               191 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                      ;
19186 0000385A 2121               192 I1          MOV.W   R2,@R1                                                  ;
19187                             193 I1          STEP_NEXT MEM=_EPCHK_STEP                                       ;
19188 0000385C D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
19189 0000385E 6011                   M           MOV.W   @R1,R0          ;
19190 00003860 7001                   M           ADD     #1,R0           ;
19191 00003862 2101                   M           MOV.W   R0,@R1          ;
19192                             194 I1          M_BRA   EP_SENCER_CKEND                                         ;
19193 00003864 A175                   M           BRA     EP_SENCER_CKEND
19194 00003866 0009                   M           NOP
19195                             195 I1  
19196                             196 I1  
19197                             197 I1  ;       ---------------------------------------------------
19198                             198 I1  ;       ---     VF-RYの片効ｱﾝｻ待ち，異常CHK[STEP1]      ---
19199                             199 I1  ;       ---------------------------------------------------
19200                             200 I1  ;       ﾀｲﾑｱｯﾌﾟ前に入力を確認し、入力が"L"なら即遷移する,時間内に"L"にならなければ異常
19201                             201 I1  ;       ----------- A:ｽﾃｯﾌﾟ1,B:ｽﾃｯﾌﾟ1----------
19202                                 I1  ***** BEGIN-POOL *****
19203 00003868 00000000               I1  DATA FOR SOURCE-LINE 181
19204 0000386C 00000000               I1  DATA FOR SOURCE-LINE 183
19205 00003870 00000000               I1  DATA FOR SOURCE-LINE 189
19206 00003874 00000000               I1  DATA FOR SOURCE-LINE 191
19207 00003878 00000000               I1  DATA FOR SOURCE-LINE 193
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   235
PROGRAM NAME =

19208                                 I1  ***** END-POOL *****
19209 0000387C                    202 I1  EP_STEP_USE_RY_A
19210                             203 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT5),WKRG1=R1,WKRG2=R4      ;BIT5=1:A
                                          片効要求
19211 0000387C D103                   M           MOV.L   #_EPCHK_STS,R1          ;
19212 0000387E 6011                   M           MOV.W   @R1,R0          ;
19213 00003880 9403                   M           MOV.W   #(BIT5),R4              ;
19214 00003882 204B                   M           OR      R4,R0           ;
19215 00003884 2101                   M           MOV.W   R0,@R1          ;
19216                             204 I1          M_BRA   EP_STEP_USE_RY_COM              ;
19217 00003886 A008                   M           BRA     EP_STEP_USE_RY_COM
19218 00003888 0009                   M           NOP
19219                             205 I1  
19220                             206 I1  
19221                                 I1  ***** BEGIN-POOL *****
19222 0000388A 0020                   I1  DATA FOR SOURCE-LINE 203
19223 0000388C 00000000               I1  DATA FOR SOURCE-LINE 203
19224                                 I1  ***** END-POOL *****
19225 00003890                    207 I1  EP_STEP_USE_RY_B
19226                             208 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT6),WKRG1=R1,WKRG2=R4      ;BIT6=A片
                                          効要求
19227 00003890 D108                   M           MOV.L   #_EPCHK_STS,R1          ;
19228 00003892 6011                   M           MOV.W   @R1,R0          ;
19229 00003894 940C                   M           MOV.W   #(BIT6),R4              ;
19230 00003896 204B                   M           OR      R4,R0           ;
19231 00003898 2101                   M           MOV.W   R0,@R1          ;
19232 0000389A                    209 I1  EP_STEP_USE_RY_COM
19233                             210 I1  
19234                             211 I1          FAR_JSR #_VFRY_IN_CHK,R0                                                ;ANS R0=0(
                                          OFF) R0=BIT14(ON)
19235 0000389A D007                   M           MOV.L   #_VFRY_IN_CHK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19236 0000389C 400B                   M           JSR     @R0                     ;
19237 0000389E 0009                   M           NOP                                     ;
19238                             212 I1  
19239 000038A0 2008               213 I1          TST     R0,R0                                                           ;
19240                             214 I1          TST_BIT_ON EP_STEP_USE_RY_COM_150                                       ;
19241 000038A2 8B0D                   M           BF      EP_STEP_USE_RY_COM_150
19242                             215 I1  
19243                             216 I1  ;       ------- OFF発見 ------
19244                             217 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19245 000038A4 D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
19246 000038A6 6011                   M           MOV.W   @R1,R0          ;
19247 000038A8 7001                   M           ADD     #1,R0           ;
19248 000038AA 2101                   M           MOV.W   R0,@R1          ;
19249                             218 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19250 000038AC A151                   M           BRA     EP_SENCER_CKEND
19251 000038AE 0009                   M           NOP
19252                             219 I1  
19253                                 I1  ***** BEGIN-POOL *****
19254 000038B0 0040                   I1  DATA FOR SOURCE-LINE 208
19255 000038B2 0000                   I1  ALIGNMENT CODE
19256 000038B4 00000000               I1  DATA FOR SOURCE-LINE 208
19257 000038B8 00000000               I1  DATA FOR SOURCE-LINE 211
19258 000038BC 00000000               I1  DATA FOR SOURCE-LINE 217
19259                                 I1  ***** END-POOL *****
19260 000038C0                    220 I1  EP_STEP_USE_RY_COM_150                                                          ;
19261 000038C0 D105               221 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   236
PROGRAM NAME =

19262 000038C2 6011               222 I1          MOV.W   @R1,R0                                                          ;
19263 000038C4 2008               223 I1          TST     R0,R0                                                           ;
19264                             224 I1          TST_BIT_ON EP_STEP_USE_RY_COM_190                                       ;
19265 000038C6 8B0B                   M           BF      EP_STEP_USE_RY_COM_190
19266                             225 I1  
19267                             226 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT2),WKRG1=R1,WKRG2=R4      ;ﾌｨｰﾄﾞﾊﾞｯｸ
                                          失敗
19268 000038C8 D104                   M           MOV.L   #_EPCHK_STS,R1          ;
19269 000038CA 6011                   M           MOV.W   @R1,R0          ;
19270 000038CC 9403                   M           MOV.W   #(BIT2),R4              ;
19271 000038CE 204B                   M           OR      R4,R0           ;
19272 000038D0 2101                   M           MOV.W   R0,@R1          ;
19273                             227 I1          M_BRA   EP_SENCER_CK900                                                 ;
19274 000038D2 A12B                   M           BRA     EP_SENCER_CK900
19275 000038D4 0009                   M           NOP
19276                             228 I1  
19277                                 I1  ***** BEGIN-POOL *****
19278 000038D6 0004                   I1  DATA FOR SOURCE-LINE 226
19279 000038D8 00000000               I1  DATA FOR SOURCE-LINE 221
19280 000038DC 00000000               I1  DATA FOR SOURCE-LINE 226
19281                                 I1  ***** END-POOL *****
19282 000038E0                    229 I1  EP_STEP_USE_RY_COM_190                                                          ;
19283                             230 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19284 000038E0 A137                   M           BRA     EP_SENCER_CKEND
19285 000038E2 0009                   M           NOP
19286                             231 I1  
19287                             232 I1  
19288                             233 I1  
19289                             234 I1  ;       ---------------------------------------------------
19290                             235 I1  ;       ---     遅延ﾀｲﾏ,ﾊﾞﾙﾌﾞON,異常ﾀｲﾏｾｯﾄ[STEP2]       ---
19291                             236 I1  ;       ---------------------------------------------------
19292 000038E4                    237 I1  EP_STEP_VALVON_DATSET
19293                             238 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19294 000038E4 D106               239 I1          MOV.L   #(_PAR_EP3BRKON_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1         ;ﾌﾞﾚｰｷON出
                                          力遅延
19295 000038E6 6211               240 I1          MOV.W   @R1,R2                                                          ;
19296 000038E8 D106               241 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
19297 000038EA 2121               242 I1          MOV.W   R2,@R1                                                          ;
19298                             243 I1  
19299                             244 I1  ;       ---------ﾀｲﾏｾｯﾄ[異常]-----------------
19300 000038EC D106               245 I1          MOV.L   #(_PAR_EP4EPINOF_ERTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1 ;ﾊﾞﾙﾌﾞON時間兼ﾀｲﾑｱ
                                          ｳﾄ時間
19301 000038EE 6211               246 I1          MOV.W   @R1,R2                                                  ;
19302 000038F0 D106               247 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                      ;
19303 000038F2 2121               248 I1          MOV.W   R2,@R1                                                  ;
19304                             249 I1          STEP_NEXT MEM=_EPCHK_STEP                                       ;
19305 000038F4 D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
19306 000038F6 6011                   M           MOV.W   @R1,R0          ;
19307 000038F8 7001                   M           ADD     #1,R0           ;
19308 000038FA 2101                   M           MOV.W   R0,@R1          ;
19309                             250 I1          M_BRA   EP_SENCER_CKEND                                         ;
19310 000038FC A129                   M           BRA     EP_SENCER_CKEND
19311 000038FE 0009                   M           NOP
19312                             251 I1  
19313                             252 I1  
19314                             253 I1  ;       ---------------------------------------------------
19315                             254 I1  ;       ---     ﾊﾞﾙﾌﾞONのｱﾝｻEP待ち，異常CHK[STEP3]      ---
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   237
PROGRAM NAME =

19316                             255 I1  ;       ---------------------------------------------------
19317                             256 I1  ;       ﾀｲﾑｱｯﾌﾟ後に入力を確認し、入力が"L"なら遷移,"H"なら異常
19318                             257 I1  ;       ----------- A:ｽﾃｯﾌﾟ,B:ｽﾃｯﾌﾟ----------
19319                                 I1  ***** BEGIN-POOL *****
19320 00003900 00000000               I1  DATA FOR SOURCE-LINE 239
19321 00003904 00000000               I1  DATA FOR SOURCE-LINE 241
19322 00003908 00000000               I1  DATA FOR SOURCE-LINE 245
19323 0000390C 00000000               I1  DATA FOR SOURCE-LINE 247
19324 00003910 00000000               I1  DATA FOR SOURCE-LINE 249
19325                                 I1  ***** END-POOL *****
19326 00003914                    258 I1  EP_STEP_VALVON_COM
19327 00003914 E001               259 I1          MOV.B   #(BIT0),R0                      ;ﾌﾞﾚｰｷ解除
19328 00003916 D10A               260 I1          MOV.L   #_EPCHK_FORCE_VONCMD,R1         ;
19329 00003918 2101               261 I1          MOV.W   R0,@R1                          ;
19330                             262 I1  
19331                             263 I1  
19332 0000391A D10A               264 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
19333 0000391C 6011               265 I1          MOV.W   @R1,R0                                                          ;
19334 0000391E 2008               266 I1          TST     R0,R0                                                           ;
19335                             267 I1          TST_BIT_ON EP_STEP_VALV_COM_190                                 ;
19336 00003920 8B20                   M           BF      EP_STEP_VALV_COM_190
19337                             268 I1  
19338                             269 I1  ;       ﾀｲﾑｱｯﾌﾟ後にﾁｪｯｸ
19339 00003922 200A               270 I1          XOR     R0,R0                           ;
19340 00003924 D106               271 I1          MOV.L   #_EPCHK_FORCE_VONCMD,R1         ;
19341 00003926 2101               272 I1          MOV.W   R0,@R1                          ;
19342                             273 I1  
19343                             274 I1          FAR_JSR #_EPSEN_IN_CHK,R0                                               ;ANS R0=0(
                                          OFF) R0=BIT15(ON)
19344 00003928 D007                   M           MOV.L   #_EPSEN_IN_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19345 0000392A 400B                   M           JSR     @R0                     ;
19346 0000392C 0009                   M           NOP                                     ;
19347                             275 I1  
19348 0000392E 2008               276 I1          TST     R0,R0                                                           ;
19349                             277 I1          TST_BIT_ON EP_STEP_VALV_COM_150                                 ;
19350 00003930 8B0E                   M           BF      EP_STEP_VALV_COM_150
19351                             278 I1  
19352                             279 I1  ;       ------- OFF発見 ------
19353                             280 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19354 00003932 D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
19355 00003934 6011                   M           MOV.W   @R1,R0          ;
19356 00003936 7001                   M           ADD     #1,R0           ;
19357 00003938 2101                   M           MOV.W   R0,@R1          ;
19358                             281 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19359 0000393A A10A                   M           BRA     EP_SENCER_CKEND
19360 0000393C 0009                   M           NOP
19361                             282 I1  
19362                                 I1  ***** BEGIN-POOL *****
19363 0000393E 0000                   I1  ALIGNMENT CODE
19364 00003940 00000000               I1  DATA FOR SOURCE-LINE 260,271
19365 00003944 00000000               I1  DATA FOR SOURCE-LINE 264
19366 00003948 00000000               I1  DATA FOR SOURCE-LINE 274
19367 0000394C 00000000               I1  DATA FOR SOURCE-LINE 280
19368                                 I1  ***** END-POOL *****
19369 00003950                    283 I1  EP_STEP_VALV_COM_150                                                            ;
19370                             284 I1  
19371                             285 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT3),WKRG1=R1,WKRG2=R4      ;EPｾﾝｻ失敗
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   238
PROGRAM NAME =

19372 00003950 D103                   M           MOV.L   #_EPCHK_STS,R1          ;
19373 00003952 6011                   M           MOV.W   @R1,R0          ;
19374 00003954 9403                   M           MOV.W   #(BIT3),R4              ;
19375 00003956 204B                   M           OR      R4,R0           ;
19376 00003958 2101                   M           MOV.W   R0,@R1          ;
19377                             286 I1          M_BRA   EP_SENCER_CK900                                                 ;
19378 0000395A A0E7                   M           BRA     EP_SENCER_CK900
19379 0000395C 0009                   M           NOP
19380                             287 I1  
19381                                 I1  ***** BEGIN-POOL *****
19382 0000395E 0008                   I1  DATA FOR SOURCE-LINE 285
19383 00003960 00000000               I1  DATA FOR SOURCE-LINE 285
19384                                 I1  ***** END-POOL *****
19385 00003964                    288 I1  EP_STEP_VALV_COM_190
19386                             289 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19387 00003964 A0F5                   M           BRA     EP_SENCER_CKEND
19388 00003966 0009                   M           NOP
19389                             290 I1  
19390                             291 I1  
19391                             292 I1  
19392                             293 I1  ;       ---------------------------------------------------
19393                             294 I1  ;       ---     EP確認完了[STEP4]                       ---
19394                             295 I1  ;       ---------------------------------------------------
19395 00003968                    296 I1  EP_STEP_EPSENSIG_A:
19396                             297 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT7),WKRG1=R1,WKRG2=R4      ;
19397 00003968 D107                   M           MOV.L   #_EPCHK_STS,R1          ;
19398 0000396A 6011                   M           MOV.W   @R1,R0          ;
19399 0000396C 940A                   M           MOV.W   #(BIT7),R4              ;
19400 0000396E 204B                   M           OR      R4,R0           ;
19401 00003970 2101                   M           MOV.W   R0,@R1          ;
19402 00003972 200A               298 I1          XOR     R0,R0                                                           ;
19403 00003974 D105               299 I1          MOV.L   #_EPCHK_RETRY_CNT,R1                                            ;STEP5の前
                                          に行う
19404 00003976 2101               300 I1          MOV.W   R0,@R1                                                          ;
19405                             301 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19406 00003978 D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
19407 0000397A 6011                   M           MOV.W   @R1,R0          ;
19408 0000397C 7001                   M           ADD     #1,R0           ;
19409 0000397E 2101                   M           MOV.W   R0,@R1          ;
19410                             302 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19411 00003980 A0E7                   M           BRA     EP_SENCER_CKEND
19412 00003982 0009                   M           NOP
19413                             303 I1  
19414                                 I1  ***** BEGIN-POOL *****
19415 00003984 0080                   I1  DATA FOR SOURCE-LINE 297
19416 00003986 0000                   I1  ALIGNMENT CODE
19417 00003988 00000000               I1  DATA FOR SOURCE-LINE 297
19418 0000398C 00000000               I1  DATA FOR SOURCE-LINE 299
19419 00003990 00000000               I1  DATA FOR SOURCE-LINE 301
19420                                 I1  ***** END-POOL *****
19421 00003994                    304 I1  EP_STEP_EPSENSIG_B:
19422                             305 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT8),WKRG1=R1,WKRG2=R4      ;
19423 00003994 D107                   M           MOV.L   #_EPCHK_STS,R1          ;
19424 00003996 6011                   M           MOV.W   @R1,R0          ;
19425 00003998 940A                   M           MOV.W   #(BIT8),R4              ;
19426 0000399A 204B                   M           OR      R4,R0           ;
19427 0000399C 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   239
PROGRAM NAME =

19428 0000399E 200A               306 I1          XOR     R0,R0                                                           ;STEP5の前
                                          に行う
19429 000039A0 D105               307 I1          MOV.L   #_EPCHK_RETRY_CNT,R1                                            ;
19430 000039A2 2101               308 I1          MOV.W   R0,@R1                                                          ;
19431                             309 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19432 000039A4 D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
19433 000039A6 6011                   M           MOV.W   @R1,R0          ;
19434 000039A8 7001                   M           ADD     #1,R0           ;
19435 000039AA 2101                   M           MOV.W   R0,@R1          ;
19436                             310 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19437 000039AC A0D1                   M           BRA     EP_SENCER_CKEND
19438 000039AE 0009                   M           NOP
19439                             311 I1  
19440                             312 I1  
19441                             313 I1  ;       ---------------------------------------------------
19442                             314 I1  ;       ---     EPﾘｾｯﾄON遅延,ﾀｲﾑｱｳﾄ設定[STEP5]          ---
19443                             315 I1  ;       ---------------------------------------------------
19444                                 I1  ***** BEGIN-POOL *****
19445 000039B0 0100                   I1  DATA FOR SOURCE-LINE 305
19446 000039B2 0000                   I1  ALIGNMENT CODE
19447 000039B4 00000000               I1  DATA FOR SOURCE-LINE 305
19448 000039B8 00000000               I1  DATA FOR SOURCE-LINE 307
19449 000039BC 00000000               I1  DATA FOR SOURCE-LINE 309
19450                                 I1  ***** END-POOL *****
19451 000039C0                    316 I1  EP_STEP_RESET_DATSET1:
19452 000039C0 D104               317 I1          MOV.L   #_EPCHK_RETRY_CNT,R1            ;
19453 000039C2 6011               318 I1          MOV.W   @R1,R0                          ;
19454 000039C4 2008               319 I1          TST     R0,R0                           ;
19455                             320 I1          TST_BIT_ON EP_STEP_RESET_100            ;ﾘﾄﾗｲ
19456 000039C6 8B0B                   M           BF      EP_STEP_RESET_100
19457                             321 I1  
19458                             322 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19459 000039C8 D103               323 I1          MOV.L   #(_PAR_EP5RSTON_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1         ;ﾘｾｯﾄON遅
                                          延時間
19460 000039CA 6211               324 I1          MOV.W   @R1,R2                                                          ;(ﾘｾｯﾄOFF
                                          時間)
19461 000039CC D103               325 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
19462 000039CE 2121               326 I1          MOV.W   R2,@R1                                                          ;
19463                             327 I1          M_BRA   EP_STEP_RESET_DATSET_COM                                        ;
19464 000039D0 A00A                   M           BRA     EP_STEP_RESET_DATSET_COM
19465 000039D2 0009                   M           NOP
19466                             328 I1  
19467                                 I1  ***** BEGIN-POOL *****
19468 000039D4 00000000               I1  DATA FOR SOURCE-LINE 317
19469 000039D8 00000000               I1  DATA FOR SOURCE-LINE 323
19470 000039DC 00000000               I1  DATA FOR SOURCE-LINE 325
19471                                 I1  ***** END-POOL *****
19472 000039E0                    329 I1  EP_STEP_RESET_100:
19473                             330 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19474 000039E0 D106               331 I1          MOV.L   #(_PAR_EP6RSTOF_INTTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1         ;ﾘｾｯﾄON遅
                                          延時間(ｲﾝﾀｰﾊﾞﾙ時間)
19475 000039E2 6211               332 I1          MOV.W   @R1,R2                                                          ;(ﾘｾｯﾄOFF
                                          時間)
19476 000039E4 D106               333 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
19477 000039E6 2121               334 I1          MOV.W   R2,@R1                                                          ;
19478                             335 I1  
19479 000039E8                    336 I1  EP_STEP_RESET_DATSET_COM:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   240
PROGRAM NAME =

19480                             337 I1  
19481                             338 I1  ;       ---------ﾀｲﾏｾｯﾄ[異常]-----------------
19482 000039E8 D106               339 I1          MOV.L   #(_PAR_EP6RSTON_JGTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1          ;ﾘｾｯﾄON時
                                          間兼ﾀｲﾑｱｳﾄ時間
19483 000039EA 6211               340 I1          MOV.W   @R1,R2                                                          ;
19484 000039EC D106               341 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
19485 000039EE 2121               342 I1          MOV.W   R2,@R1                                                          ;
19486                             343 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19487 000039F0 D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
19488 000039F2 6011                   M           MOV.W   @R1,R0          ;
19489 000039F4 7001                   M           ADD     #1,R0           ;
19490 000039F6 2101                   M           MOV.W   R0,@R1          ;
19491                             344 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19492 000039F8 A0AB                   M           BRA     EP_SENCER_CKEND
19493 000039FA 0009                   M           NOP
19494                             345 I1  
19495                             346 I1  
19496                             347 I1  
19497                             348 I1  
19498                             349 I1  ;       ---------------------------------------------------
19499                             350 I1  ;       ---     ﾘｾｯﾄONのｱﾝｻEP待ち，異常CHK[STEP6]       ---
19500                             351 I1  ;       ---------------------------------------------------
19501                             352 I1  ;       ﾀｲﾑｱｯﾌﾟ後に入力を確認し、入力が"Ｈ"なら遷移,"Ｌ"なら異常　ﾘﾄﾗｲ
19502                             353 I1  ;       ----------- A:ｽﾃｯﾌﾟ,B:ｽﾃｯﾌﾟ----------
19503                                 I1  ***** BEGIN-POOL *****
19504 000039FC 00000000               I1  DATA FOR SOURCE-LINE 331
19505 00003A00 00000000               I1  DATA FOR SOURCE-LINE 333
19506 00003A04 00000000               I1  DATA FOR SOURCE-LINE 339
19507 00003A08 00000000               I1  DATA FOR SOURCE-LINE 341
19508 00003A0C 00000000               I1  DATA FOR SOURCE-LINE 343
19509                                 I1  ***** END-POOL *****
19510 00003A10                    354 I1  EP_STEP_RESETON_COM
19511                             355 I1  
19512                             356 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT9),WKRG1=R1,WKRG2=R4      ;ﾘｾｯﾄｺﾏﾝﾄﾞ
19513 00003A10 D10D                   M           MOV.L   #_EPCHK_STS,R1          ;
19514 00003A12 6011                   M           MOV.W   @R1,R0          ;
19515 00003A14 9415                   M           MOV.W   #(BIT9),R4              ;
19516 00003A16 204B                   M           OR      R4,R0           ;
19517 00003A18 2101                   M           MOV.W   R0,@R1          ;
19518                             357 I1  
19519 00003A1A D10C               358 I1          MOV.L   #_EPCHK_ERR_TIM,R1                                              ;
19520 00003A1C 6011               359 I1          MOV.W   @R1,R0                                                          ;
19521 00003A1E 2008               360 I1          TST     R0,R0                                                           ;
19522                             361 I1          TST_BIT_ON EP_STEP_RESET_COM_190                                        ;
19523 00003A20 8B38                   M           BF      EP_STEP_RESET_COM_190
19524                             362 I1  
19525                             363 I1  ;       ------- ﾀｲﾑｱｯﾌﾟ後にﾁｪｯｸ--------
19526                             364 I1          MEM1_BIT0_F_ADCLR MEM=_EPCHK_STS,LG=W,BIT=~(BIT9),WKRG1=R1,WKRG2=R4     ;ﾘｾｯﾄOFF
19527 00003A22 D109                   M           MOV.L   #_EPCHK_STS,R1          ;
19528 00003A24 6011                   M           MOV.W   @R1,R0          ;
19529 00003A26 940D                   M           MOV.W   #LWORD ~(BIT9),R4       ;
19530 00003A28 2049                   M           AND     R4,R0           ;
19531 00003A2A 2101                   M           MOV.W   R0,@R1          ;
19532                             365 I1  
19533                             366 I1  
19534                             367 I1          FAR_JSR #_EPSEN_IN_CHK,R0                                               ;ANS R0=0(
                                          OFF) R0=BIT15(ON)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   241
PROGRAM NAME =

19535 00003A2C D008                   M           MOV.L   #_EPSEN_IN_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19536 00003A2E 400B                   M           JSR     @R0                     ;
19537 00003A30 0009                   M           NOP                                     ;
19538                             368 I1  
19539 00003A32 2008               369 I1          TST     R0,R0                                                           ;
19540                             370 I1          TST_BIT_OF EP_STEP_RESET_COM_150                                        ;
19541 00003A34 8910                   M           BT      EP_STEP_RESET_COM_150
19542                             371 I1  
19543                             372 I1  ;       ------- ON発見 ------
19544                             373 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19545 00003A36 D107                   M           MOV.L   #_EPCHK_STEP,R1 ;
19546 00003A38 6011                   M           MOV.W   @R1,R0          ;
19547 00003A3A 7001                   M           ADD     #1,R0           ;
19548 00003A3C 2101                   M           MOV.W   R0,@R1          ;
19549                             374 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19550 00003A3E A088                   M           BRA     EP_SENCER_CKEND
19551 00003A40 0009                   M           NOP
19552                             375 I1  
19553                                 I1  ***** BEGIN-POOL *****
19554 00003A42 0200                   I1  DATA FOR SOURCE-LINE 356
19555 00003A44 FDFF                   I1  DATA FOR SOURCE-LINE 364
19556 00003A46 0000                   I1  ALIGNMENT CODE
19557 00003A48 00000000               I1  DATA FOR SOURCE-LINE 356,364
19558 00003A4C 00000000               I1  DATA FOR SOURCE-LINE 358
19559 00003A50 00000000               I1  DATA FOR SOURCE-LINE 367
19560 00003A54 00000000               I1  DATA FOR SOURCE-LINE 373
19561                                 I1  ***** END-POOL *****
19562 00003A58                    376 I1  EP_STEP_RESET_COM_150                                                           ;
19563 00003A58 D106               377 I1          MOV.L   #(_PAR_EP6RST_RETRY-_CB_SYS_PARAM000+_W_PARAM_TOP),R1           ;ﾘｾｯﾄﾘﾄﾗｲ
                                          回数
19564 00003A5A 6211               378 I1          MOV.W   @R1,R2                                                          ;0:ﾘﾄﾗｲし
                                          ない
19565 00003A5C D506               379 I1          MOV.L   #_EPCHK_RETRY_CNT,R5                                            ;
19566 00003A5E 6051               380 I1          MOV.W   @R5,R0                                                          ;
19567 00003A60 3022               381 I1          CMP/HS  R2,R0                                                           ;0(SV)=<0(
                                          PV)
19568 00003A62 890D               382 I1          BT      EP_STEP_RESET_COM_170                                           ;ﾘﾄﾗｲｵｰﾊﾞ
19569 00003A64 7001               383 I1          ADD     #1,R0                                                           ;
19570 00003A66 2501               384 I1          MOV.W   R0,@R5                                                          ;
19571                             385 I1  
19572 00003A68 D104               386 I1          MOV.L   #_EPCHK_STEP,R1                         ;1個前からやり直す
19573 00003A6A 6011               387 I1          MOV.W   @R1,R0                                  ;
19574 00003A6C 70FF               388 I1          ADD     #-1,R0                                  ;
19575 00003A6E 2101               389 I1          MOV.W   R0,@R1                                  ;
19576                             390 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19577 00003A70 A06F                   M           BRA     EP_SENCER_CKEND
19578 00003A72 0009                   M           NOP
19579                             391 I1  
19580                             392 I1  
19581                                 I1  ***** BEGIN-POOL *****
19582 00003A74 00000000               I1  DATA FOR SOURCE-LINE 377
19583 00003A78 00000000               I1  DATA FOR SOURCE-LINE 379
19584 00003A7C 00000000               I1  DATA FOR SOURCE-LINE 386
19585                                 I1  ***** END-POOL *****
19586 00003A80                    393 I1  EP_STEP_RESET_COM_170                                                           ;終了処理
19587                             394 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R4      ;EPｾﾝｻﾘｾｯﾄ
                                          失敗
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   242
PROGRAM NAME =

19588 00003A80 D103                   M           MOV.L   #_EPCHK_STS,R1          ;
19589 00003A82 6011                   M           MOV.W   @R1,R0          ;
19590 00003A84 9403                   M           MOV.W   #(BIT4),R4              ;
19591 00003A86 204B                   M           OR      R4,R0           ;
19592 00003A88 2101                   M           MOV.W   R0,@R1          ;
19593                             395 I1          M_BRA   EP_SENCER_CK900                                                 ;
19594 00003A8A A04F                   M           BRA     EP_SENCER_CK900
19595 00003A8C 0009                   M           NOP
19596                             396 I1  
19597                                 I1  ***** BEGIN-POOL *****
19598 00003A8E 0010                   I1  DATA FOR SOURCE-LINE 394
19599 00003A90 00000000               I1  DATA FOR SOURCE-LINE 394
19600                                 I1  ***** END-POOL *****
19601 00003A94                    397 I1  EP_STEP_RESET_COM_190
19602                             398 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19603 00003A94 A05D                   M           BRA     EP_SENCER_CKEND
19604 00003A96 0009                   M           NOP
19605                             399 I1  
19606                             400 I1  
19607                             401 I1  
19608                             402 I1  ;       ---------------------------------------------------
19609                             403 I1  ;       ---     CPUA終了,CPUB開始遅延+ﾀｲﾑｱｳﾄ設定[STEP7] ---
19610                             404 I1  ;       ---------------------------------------------------
19611 00003A98                    405 I1  EP_STEP_ENDSIG_A
19612                             406 I1          MEM1_BIT0_F_ADCLR MEM=_EPCHK_STS,LG=W,BIT=~(BIT9|BIT5),WKRG1=R1,WKRG2=R4        ;ﾘ
                                          ｾｯﾄOFF
19613 00003A98 D10B                   M           MOV.L   #_EPCHK_STS,R1          ;
19614 00003A9A 6011                   M           MOV.W   @R1,R0          ;
19615 00003A9C 9411                   M           MOV.W   #LWORD ~(BIT9|BIT5),R4  ;
19616 00003A9E 2049                   M           AND     R4,R0           ;
19617 00003AA0 2101                   M           MOV.W   R0,@R1          ;
19618                             407 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT10),WKRG1=R1,WKRG2=R4             ;A
                                          完了
19619 00003AA2 D109                   M           MOV.L   #_EPCHK_STS,R1          ;
19620 00003AA4 6011                   M           MOV.W   @R1,R0          ;
19621 00003AA6 940D                   M           MOV.W   #(BIT10),R4             ;
19622 00003AA8 204B                   M           OR      R4,R0           ;
19623 00003AAA 2101                   M           MOV.W   R0,@R1          ;
19624                             408 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT1),WKRG1=R1,WKRG2=R4              ;B
                                          開始
19625 00003AAC D106                   M           MOV.L   #_EPCHK_STS,R1          ;
19626 00003AAE 6011                   M           MOV.W   @R1,R0          ;
19627 00003AB0 9409                   M           MOV.W   #(BIT1),R4              ;
19628 00003AB2 204B                   M           OR      R4,R0           ;
19629 00003AB4 2101                   M           MOV.W   R0,@R1          ;
19630                             409 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19631 00003AB6 D105                   M           MOV.L   #_EPCHK_STEP,R1 ;
19632 00003AB8 6011                   M           MOV.W   @R1,R0          ;
19633 00003ABA 7001                   M           ADD     #1,R0           ;
19634 00003ABC 2101                   M           MOV.W   R0,@R1          ;
19635                             410 I1          M_BRA   EP_SENCER_CKEND                                                         ;
19636 00003ABE A048                   M           BRA     EP_SENCER_CKEND
19637 00003AC0 0009                   M           NOP
19638                             411 I1  
19639                                 I1  ***** BEGIN-POOL *****
19640 00003AC2 FDDF                   I1  DATA FOR SOURCE-LINE 406
19641 00003AC4 0400                   I1  DATA FOR SOURCE-LINE 407
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   243
PROGRAM NAME =

19642 00003AC6 0002                   I1  DATA FOR SOURCE-LINE 408
19643 00003AC8 00000000               I1  DATA FOR SOURCE-LINE 406,407,408
19644 00003ACC 00000000               I1  DATA FOR SOURCE-LINE 409
19645                                 I1  ***** END-POOL *****
19646 00003AD0                    412 I1  EP_STEP_ENDSIG_B
19647                             413 I1          MEM1_BIT0_F_ADCLR MEM=_EPCHK_STS,LG=W,BIT=~(BIT9|BIT6),WKRG1=R1,WKRG2=R4        ;ﾘ
                                          ｾｯﾄOFF
19648 00003AD0 D10A                   M           MOV.L   #_EPCHK_STS,R1          ;
19649 00003AD2 6011                   M           MOV.W   @R1,R0          ;
19650 00003AD4 9410                   M           MOV.W   #LWORD ~(BIT9|BIT6),R4  ;
19651 00003AD6 2049                   M           AND     R4,R0           ;
19652 00003AD8 2101                   M           MOV.W   R0,@R1          ;
19653                             414 I1          MEM1_BIT0_F_ORSET MEM=_EPCHK_STS,LG=W,BIT=(BIT11),WKRG1=R1,WKRG2=R4     ;
19654 00003ADA D108                   M           MOV.L   #_EPCHK_STS,R1          ;
19655 00003ADC 6011                   M           MOV.W   @R1,R0          ;
19656 00003ADE 940C                   M           MOV.W   #(BIT11),R4             ;
19657 00003AE0 204B                   M           OR      R4,R0           ;
19658 00003AE2 2101                   M           MOV.W   R0,@R1          ;
19659                             415 I1  
19660                             416 I1  ;       ---------- 処理遅延ｾｯﾄ-------------
19661 00003AE4 D106               417 I1          MOV.L   #(_PAR_EP7END_DLYTM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1           ;終了遅延
19662 00003AE6 6211               418 I1          MOV.W   @R1,R2                                                          ;
19663 00003AE8 D106               419 I1          MOV.L   #_EPCHK_DLY_TIM,R1                                              ;
19664 00003AEA 2121               420 I1          MOV.W   R2,@R1                                                          ;
19665                             421 I1  ;;;;2015-10-26ｺﾞﾐ　悪さはしないが       M_BRA   EP_STEP_RESET_DATSET_COM
                                                          ;
19666                             422 I1          STEP_NEXT MEM=_EPCHK_STEP                                               ;
19667 00003AEC D106                   M           MOV.L   #_EPCHK_STEP,R1 ;
19668 00003AEE 6011                   M           MOV.W   @R1,R0          ;
19669 00003AF0 7001                   M           ADD     #1,R0           ;
19670 00003AF2 2101                   M           MOV.W   R0,@R1          ;
19671                             423 I1          M_BRA   EP_SENCER_CKEND                                                 ;
19672 00003AF4 A02D                   M           BRA     EP_SENCER_CKEND
19673 00003AF6 0009                   M           NOP
19674                             424 I1  
19675                             425 I1  
19676                                 I1  ***** BEGIN-POOL *****
19677 00003AF8 FDBF                   I1  DATA FOR SOURCE-LINE 413
19678 00003AFA 0800                   I1  DATA FOR SOURCE-LINE 414
19679 00003AFC 00000000               I1  DATA FOR SOURCE-LINE 413,414
19680 00003B00 00000000               I1  DATA FOR SOURCE-LINE 417
19681 00003B04 00000000               I1  DATA FOR SOURCE-LINE 419
19682 00003B08 00000000               I1  DATA FOR SOURCE-LINE 422
19683                                 I1  ***** END-POOL *****
19684 00003B0C                    426 I1  EP_STEP_ENDSIG
19685                             427 I1          M_BRA   EP_SENCER_CK800                                                 ;
19686 00003B0C A000                   M           BRA     EP_SENCER_CK800
19687 00003B0E 0009                   M           NOP
19688                             428 I1  
19689                             429 I1  
19690 00003B10                    430 I1  EP_STEP_XX:
19691                             431 I1  
19692                             432 I1  ;       -----------正常終了処理--------
19693 00003B10                    433 I1  EP_SENCER_CK800:
19694                             434 I1  
19695 00003B10 9006               435 I1          MOV.W   #BIT7,R0                        ;
19696 00003B12 D104               436 I1          MOV.L   #_EPCHK_FLG,R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   244
PROGRAM NAME =

19697 00003B14 2101               437 I1          MOV.W   R0,@R1                          ;
19698                             438 I1  
19699 00003B16 9004               439 I1          MOV.W   #BIT15,R0
19700 00003B18 D103               440 I1          MOV.L   #_EPCHK_STS,R1                  ;BIT15:正常完了
19701 00003B1A 2101               441 I1          MOV.W   R0,@R1                          ;
19702                             442 I1  
19703                             443 I1          M_BRA   EP_SENCER_CK950                 ;
19704 00003B1C A014                   M           BRA     EP_SENCER_CK950
19705 00003B1E 0009                   M           NOP
19706                             444 I1  
19707                             445 I1  
19708                             446 I1  ;       -----------異常終了処理--------
19709                                 I1  ***** BEGIN-POOL *****
19710 00003B20 0080                   I1  DATA FOR SOURCE-LINE 435
19711 00003B22 8000                   I1  DATA FOR SOURCE-LINE 439
19712 00003B24 00000000               I1  DATA FOR SOURCE-LINE 436
19713 00003B28 00000000               I1  DATA FOR SOURCE-LINE 440
19714                                 I1  ***** END-POOL *****
19715 00003B2C                    447 I1  EP_SENCER_CK900:
19716                             448 I1  
19717 00003B2C 9418               449 I1          MOV.W   #H'239E,R4              ;2010-12-21
19718                             450 I1          FAR_JSR #_EMG_STOP,R0                   ;
19719 00003B2E D00E                   M           MOV.L   #_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19720 00003B30 400B                   M           JSR     @R0                     ;
19721 00003B32 0009                   M           NOP                                     ;
19722                             451 I1  
19723 00003B34 200A               452 I1          XOR     R0,R0                                   ;
19724 00003B36 D10D               453 I1          MOV.L   #_EPCHK_FLG,R1                          ;
19725 00003B38 2101               454 I1          MOV.W   R0,@R1                                  ;
19726                             455 I1  
19727 00003B3A D10D               456 I1          MOV.L   #_EPCHK_STS,R1                          ;
19728 00003B3C 6011               457 I1          MOV.W   @R1,R0                                  ;
19729 00003B3E 9410               458 I1          MOV.W   #(BIT4|BIT3|BIT2),R4                    ;異常要因以外をｸﾘｱ
19730 00003B40 2049               459 I1          AND     R4,R0                                   ;
19731                             460 I1  
19732 00003B42 940F               461 I1          MOV.W   #BIT14,R4                               ;BIT14異常終了ｾｯﾄ
19733 00003B44 204B               462 I1          OR      R4,R0                                   ;
19734 00003B46 2101               463 I1          MOV.W   R0,@R1                                  ;
19735                             464 I1  
19736                             465 I1  ;       -----------終了共通処理--------
19737 00003B48                    466 I1  EP_SENCER_CK950:
19738 00003B48 200A               467 I1          XOR     R0,R0                                   ;
19739 00003B4A D10A               468 I1          MOV.L   #_EPCHK_COM,R1                          ;
19740 00003B4C 2101               469 I1          MOV.W   R0,@R1                                  ;
19741 00003B4E D10A               470 I1          MOV.L   #_EPCHK_FORCE_VONCMD,R1                 ;強制ﾊﾞﾙﾌﾞON:OFF
19742 00003B50 2101               471 I1          MOV.W   R0,@R1                                  ;
19743                             472 I1  
19744                             473 I1  
19745 00003B52                    474 I1  EP_SENCER_CKEND
19746 00003B52 D107               475 I1          MOV.L   #_EPCHK_STS,R1                  ;
19747 00003B54 6211               476 I1          MOV.W   @R1,R2                          ;
19748 00003B56 D109               477 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB239,R1     ;239
19749 00003B58 2121               478 I1          MOV.W   R2,@R1                          ;
19750                             479 I1  
19751 00003B5A                    480 I1  EP_SENCER_CKEXT
19752                             481 I1          SUB_END
19753                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   245
PROGRAM NAME =

19754 00003B5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19755                             482 I1          M_RTS
19756 00003B5C 000B                   M           RTS                             ;RTSの後ろの
19757 00003B5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19758                             483 I1  
19759                             484 I1  
19760                                 I1  ***** BEGIN-POOL *****
19761 00003B60 239E                   I1  DATA FOR SOURCE-LINE 449
19762 00003B62 001C                   I1  DATA FOR SOURCE-LINE 458
19763 00003B64 4000                   I1  DATA FOR SOURCE-LINE 461
19764 00003B66 0000                   I1  ALIGNMENT CODE
19765 00003B68 00000000               I1  DATA FOR SOURCE-LINE 450
19766 00003B6C 00000000               I1  DATA FOR SOURCE-LINE 453
19767 00003B70 00000000               I1  DATA FOR SOURCE-LINE 456,475
19768 00003B74 00000000               I1  DATA FOR SOURCE-LINE 468
19769 00003B78 00000000               I1  DATA FOR SOURCE-LINE 470
19770 00003B7C 00000000               I1  DATA FOR SOURCE-LINE 477
19771                                 I1  ***** END-POOL *****
19772 00003B80                    485 I1  _EP_SENCHK_STOPCONF1:
19773 00003B80                    486 I1  _EP_SENCHK_STOPCONF2:
19774                             487 I1          SUB_START
19775 00003B80 4F22                   M           STS.L   PR,@-R15                ;[必要]
19776                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19777                             488 I1  
19778 00003B82 D104               489 I1          MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
19779 00003B84 6011               490 I1          MOV.W   @R1,R0                  ;
19780 00003B86 D104               491 I1          MOV.L   #_exq_err_flg,R1        ;//異常ﾗｯﾁ
19781 00003B88 6211               492 I1          MOV.W   @R1,R2                  ;
19782 00003B8A 202B               493 I1          OR      R2,R0                   ;
19783                             494 I1  
19784                             495 I1          SUB_END
19785                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19786 00003B8C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19787                             496 I1          M_RTS
19788 00003B8E 000B                   M           RTS                             ;RTSの後ろの
19789 00003B90 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19790                             497 I1  
19791                             498 I1  
19792                             499 I1  ;       ANS R0=0(OFF) R0=BIT14(ON)
19793                                 I1  ***** BEGIN-POOL *****
19794 00003B92 0000                   I1  ALIGNMENT CODE
19795 00003B94 00000000               I1  DATA FOR SOURCE-LINE 489
19796 00003B98 00000000               I1  DATA FOR SOURCE-LINE 491
19797                                 I1  ***** END-POOL *****
19798 00003B9C                    500 I1  _VFRY_IN_CHK:
19799                             501 I1          SUB_START
19800 00003B9C 4F22                   M           STS.L   PR,@-R15                ;[必要]
19801                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19802 00003B9E 9405               502 I1          MOV.W   #BIT14,R4                       ;
19803 00003BA0 D103               503 I1          MOV.L   #_CB_SEQ_CB_COM349,R1           ;
19804 00003BA2 6011               504 I1          MOV.W   @R1,R0                          ;
19805 00003BA4 2049               505 I1          AND     R4,R0                           ;0orBIT14
19806                             506 I1  
19807                             507 I1          SUB_END
19808                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19809 00003BA6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19810                             508 I1          M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   246
PROGRAM NAME =

19811 00003BA8 000B                   M           RTS                             ;RTSの後ろの
19812 00003BAA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19813                             509 I1  
19814                             510 I1  
19815                                 I1  ***** BEGIN-POOL *****
19816 00003BAC 4000                   I1  DATA FOR SOURCE-LINE 502
19817 00003BAE 0000                   I1  ALIGNMENT CODE
19818 00003BB0 00000000               I1  DATA FOR SOURCE-LINE 503
19819                                 I1  ***** END-POOL *****
19820 00003BB4                    511 I1  _EPSEN_IN_CHK
19821                             512 I1          SUB_START
19822 00003BB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
19823                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19824 00003BB6 9405               513 I1          MOV.W   #BIT15,R4                       ;
19825 00003BB8 D103               514 I1          MOV.L   #_CB_SEQ_CB_COM349,R1           ;
19826 00003BBA 6011               515 I1          MOV.W   @R1,R0                          ;
19827 00003BBC 2049               516 I1          AND     R4,R0                           ;0orBIT15
19828                             517 I1  
19829                             518 I1          SUB_END
19830                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19831 00003BBE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19832                             519 I1          M_RTS
19833 00003BC0 000B                   M           RTS                             ;RTSの後ろの
19834 00003BC2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19835                             520 I1  
19836                             521 I1  
19837                                 I1  ***** BEGIN-POOL *****
19838 00003BC4 8000                   I1  DATA FOR SOURCE-LINE 513
19839 00003BC6 0000                   I1  ALIGNMENT CODE
19840 00003BC8 00000000               I1  DATA FOR SOURCE-LINE 514
19841                                 I1  ***** END-POOL *****
19842 00003BCC                    522 I1  _EPSEN_CLR
19843                             523 I1          SUB_START
19844 00003BCC 4F22                   M           STS.L   PR,@-R15                ;[必要]
19845                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19846                             524 I1  
19847 00003BCE 9408               525 I1          MOV.W   #BIT15,R4
19848 00003BD0 D104               526 I1          MOV.L   #_EPCHK_STS,R1                  ;
19849 00003BD2 6011               527 I1          MOV.W   @R1,R0
19850 00003BD4 2049               528 I1          AND     R4,R0
19851 00003BD6 2101               529 I1          MOV.W   R0,@R1                          ;
19852 00003BD8 D103               530 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB239,R1     ;239
19853 00003BDA 2101               531 I1          MOV.W   R0,@R1                          ;
19854                             532 I1  
19855                             533 I1          SUB_END
19856                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19857 00003BDC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19858                             534 I1          M_RTS
19859 00003BDE 000B                   M           RTS                             ;RTSの後ろの
19860 00003BE0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19861                             535 I1  
19862                            7891     
19863                                     ***** BEGIN-POOL *****
19864 00003BE2 8000                       DATA FOR SOURCE-LINE 525
19865 00003BE4 00000000                   DATA FOR SOURCE-LINE 526
19866 00003BE8 00000000                   DATA FOR SOURCE-LINE 530
19867                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   247
PROGRAM NAME =

19868 00003BEC                   7892             .ALIGN  4
19869                            7893     ;       *******************************************
19870                            7894     ;       ***                                     ***
19871                            7895     ;       ***                                     ***
19872                            7896     ;       ***                                     ***
19873                            7897     ;       ***     EXQ,遮光による行程違いのRECOVER ***
19874                            7898     ;       ***             2016-04-16              ***
19875                            7899     ;       ***             2016-01-10              ***
19876                            7900     ;       ***                                     ***
19877                            7901     ;       ***                                     ***
19878                            7902     ;       ***                                     ***
19879                            7903     ;       *******************************************
19880                            7904     ;       リセット時に行う
19881                            7905     ;       ハンドシェイク中でEXQを実行した場合、強制中断するが、他のＣＰＵは
19882                            7906     ;       ハンドシェイク成立している可能性があり、次の工程に行っている
19883                            7907     ;       このリカバーはハンドシェイク時のみのリカバーとする
19884                            7908     
19885                            7909             .IMPORT _CPUA_SV_STEP                           ;
19886                            7910             .IMPORT _CPUB_SV_STEP                           ;
19887                            7911     
19888                            7912             .IMPORT _EMG_POS_FLG_PROC
19889                            7913     
19890                            7914     
19891 00003BEC                   7915     _EXQ_PROC_STEP_RECOVER:
19892                            7916             SUB_START
19893 00003BEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
19894                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19895                            7917     
19896                            7918     
19897 00003BEE D117              7919             MOV.L   #_MODE_SEL,R1                           ;
19898 00003BF0 6011              7920             MOV.W   @R1,R0                                  ;
19899                            7921     
19900 00003BF2 942A              7922             MOV.W   #_W1INC+_W1SGL+_W1CNT+_W1OPT,R4         ;最終形態
19901 00003BF4 2048              7923             TST     R4,R0                                   ;
19902                            7924             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1            ;
19903 00003BF6 896B                   M           BT      EXQ_PROC_STEPRECOVER_END1
19904                            7925     
19905 00003BF8 D115              7926             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
19906 00003BFA 6011              7927             MOV.W   @R1,R0                                  ;
19907                            7928     ;;;;    TST     #_DMATH_CNTROT,R0                       ;
19908                            7929     ;;;;    TST     #(_DMATH_DNDRIV),R0                     ;回転or往復
19909 00003BFC C805              7930             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
19910                            7931             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1    ;
19911 00003BFE 8967                   M           BT      EXQ_PROC_STEPRECOVER_END1
19912                            7932     
19913 00003C00 D114              7933             MOV.L   #_EXQ_LT_GET_FLG,R1                     ;[]
19914 00003C02 6011              7934             MOV.W   @R1,R0                                  ;
19915 00003C04 2008              7935             TST     R0,R0                                   ;
19916                            7936             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1            ;
19917 00003C06 8963                   M           BT      EXQ_PROC_STEPRECOVER_END1
19918                            7937     
19919                            7938     
19920                            7939     ;-----------------処理確認ﾃﾞﾊﾞｯｸ機能------------------------------
19921 00003C08 D113              7940             MOV.L   #_EXQ_LT_PROC_CNT1,R1
19922 00003C0A 6011              7941             MOV.W   @R1,R0
19923 00003C0C 7001              7942             ADD     #1,R0
19924 00003C0E 2101              7943             MOV.W   R0,@R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   248
PROGRAM NAME =

19925                            7944     
19926 00003C10 E401              7945             MOV.B   #BIT0,R4
19927 00003C12 D112              7946             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
19928 00003C14 6011              7947             MOV.W   @R1,R0
19929 00003C16 204A              7948             XOR     R4,R0
19930 00003C18 2101              7949             MOV.W   R0,@R1
19931                            7950     
19932                            7951     
19933                            7952     ;---------------------------------------------------------
19934                            7953     ;切替条件
19935                            7954     ;       EXQ_LT_GET_FLGがON
19936                            7955     ;       (1)R1:自分が0(emg)でない
19937                            7956     ;       (1)R2:相手も0(emg)でない
19938                            7957     ;         (2-1)自分が最終行程の場合
19939                            7958     ;               (3-1)待機点範囲の場合
19940                            7959     ;                       相手CPUが0または1の場合　
19941                            7960     ;                       自分はEMG処理相当を行う(行程1からはじめる)
19942                            7961     ;               (3-2)待機点範囲でない場合:演算しない
19943                            7962     ;         (2-2)自分が最終行程でない場合
19944                            7963     ;               自分<相手であれば行程を入れ替える
19945                            7964     ;       EXQ_LT_HAND_STEP2_FLG=_CMPSTEP_STEP_END
19946                            7965     
19947                            7966             FAR_JSR #_RECOVER_WAIT_AREA_CHK,R0      ;
19948 00003C1A D011                   M           MOV.L   #_RECOVER_WAIT_AREA_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19949 00003C1C 400B                   M           JSR     @R0                     ;
19950 00003C1E 0009                   M           NOP                                     ;
19951 00003C20 6303              7967             MOV     R0,R3                           ;R3!=0:待機点
19952                            7968     
19953 00003C22 D510              7969             MOV.L   #_SV_POS_CTL_STEP,R5            ;
19954 00003C24 6151              7970             MOV.W   @R5,R1                          ;自分
19955                            7971             .AIF    0 EQ    0
19956 00003C26 D610              7972 C           MOV.L   #_CPUB_SV_STEP,R6               ;CPUB->CPUA
19957                            7973             .AELSE
19958                            7974             MOV.L   #_CPUA_SV_STEP,R6               ;
19959                            7975             .AENDI
19960 00003C28 6261              7976             MOV.W   @R6,R2                          ;相手CPUB 2BYTE
19961 00003C2A 2118              7977             TST     R1,R1                           ;CPUA(自分)
19962                            7978             TST_BIT_OF EXQ_PROC_STEPRECOVER_END1    ;[次の工程は１行程から行う]
19963 00003C2C 8950                   M           BT      EXQ_PROC_STEPRECOVER_END1
19964                            7979     
19965 00003C2E 2338              7980             TST     R3,R3                           ;待機点？
19966                            7981             TST_BIT_OF EXQ_PROC_STEPRECOVER_200     ;NO!
19967 00003C30 8950                   M           BT      EXQ_PROC_STEPRECOVER_200
19968                            7982     
19969 00003C32 D40E              7983             MOV.L   #_CPOS_STEP_MAX,R4              ;
19970 00003C34 6041              7984             MOV.W   @R4,R0                          ;
19971 00003C36 7001              7985             ADD     #1,R0                           ;
19972 00003C38 3010              7986             CMP/EQ  R1,R0                           ;最終ｽﾃｯﾌﾟか?
19973 00003C3A 8B49              7987             BF      EXQ_PROC_STEPRECOVER_END1       ;NO!(待機点だが最終ステップではない)
19974                            7988     
19975                            7989     ;       --------- 自分が最終ｽﾃｯﾌﾟ-------------
19976 00003C3C E001              7990             MOV.B   #1,R0                           ;
19977 00003C3E 2228              7991             TST     R2,R2                           ;
19978                            7992             TST_BIT_OF EXQ_PROC_STEPRECOVER_100     ;(R2=0:次の工程は0から YES:EMG)
19979 00003C40 8916                   M           BT      EXQ_PROC_STEPRECOVER_100
19980                            7993     
19981 00003C42 3200              7994             CMP/EQ  R0,R2                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   249
PROGRAM NAME =

19982 00003C44 8914              7995             BT      EXQ_PROC_STEPRECOVER_100        ;相手CPU=1です
19983                            7996             M_BRA   EXQ_PROC_STEPRECOVER_END1       ;
19984 00003C46 A043                   M           BRA     EXQ_PROC_STEPRECOVER_END1
19985 00003C48 0009                   M           NOP
19986                            7997     
19987                            7998     ;
19988                            7999     ;最終行程で待機点内で他のCPUで行程=1がいる[次サイクル]
19989                            8000     ;
19990                            8001     ;待機点での方向変更処理が必要
19991                            8002     ;       「EMGと同じ処理」
19992                                     ***** BEGIN-POOL *****
19993 00003C4A 001E                       DATA FOR SOURCE-LINE 7922
19994 00003C4C 00000000                   DATA FOR SOURCE-LINE 7919
19995 00003C50 00000000                   DATA FOR SOURCE-LINE 7926
19996 00003C54 00000000                   DATA FOR SOURCE-LINE 7933
19997 00003C58 00000000                   DATA FOR SOURCE-LINE 7940
19998 00003C5C 00000000                   DATA FOR SOURCE-LINE 7946
19999 00003C60 00000000                   DATA FOR SOURCE-LINE 7966
20000 00003C64 00000000                   DATA FOR SOURCE-LINE 7969
20001 00003C68 00000000                   DATA FOR SOURCE-LINE 7972
20002 00003C6C 00000000                   DATA FOR SOURCE-LINE 7983
20003                                     ***** END-POOL *****
20004 00003C70                   8003     EXQ_PROC_STEPRECOVER_100:
20005                            8004     
20006 00003C70 D105              8005             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
20007 00003C72 6011              8006             MOV.W   @R1,R0                          ;
20008 00003C74 C804              8007             TST     #_DMATH_DNDRIV,R0               ;
20009                            8008             TST_BIT_ON EXQ_PROC_STEPRECOVER_150     ;
20010 00003C76 8B0D                   M           BF      EXQ_PROC_STEPRECOVER_150
20011                            8009     
20012                            8010             FAR_JSR #_EMG_POS_FLG_PROC,R0           ;振り子以外なら非常停止と同じ処理でいい
20013 00003C78 D004                   M           MOV.L   #_EMG_POS_FLG_PROC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20014 00003C7A 400B                   M           JSR     @R0                     ;
20015 00003C7C 0009                   M           NOP                                     ;
20016                            8011             FAR_JSR #_EMG_CTL_FLG_PROC,R0           ;
20017 00003C7E D004                   M           MOV.L   #_EMG_CTL_FLG_PROC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20018 00003C80 400B                   M           JSR     @R0                     ;
20019 00003C82 0009                   M           NOP                                     ;
20020                            8012             M_BRA   EXQ_PROC_STEPRECOVER_180        ;
20021 00003C84 A00C                   M           BRA     EXQ_PROC_STEPRECOVER_180
20022 00003C86 0009                   M           NOP
20023                            8013     
20024                                     ***** BEGIN-POOL *****
20025 00003C88 00000000                   DATA FOR SOURCE-LINE 8005
20026 00003C8C 00000000                   DATA FOR SOURCE-LINE 8010
20027 00003C90 00000000                   DATA FOR SOURCE-LINE 8011
20028                                     ***** END-POOL *****
20029 00003C94                   8014     EXQ_PROC_STEPRECOVER_150:
20030                            8015             FAR_JSR #_DNM_CYCLE_END,R0              ;
20031 00003C94 D009                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20032 00003C96 400B                   M           JSR     @R0                     ;
20033 00003C98 0009                   M           NOP                                     ;
20034                            8016             FAR_JSR #_CYC_END_POS_FLG_CLR,R0        ;
20035 00003C9A D009                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20036 00003C9C 400B                   M           JSR     @R0                     ;
20037 00003C9E 0009                   M           NOP                                     ;
20038 00003CA0                   8017     EXQ_PROC_STEPRECOVER_180:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   250
PROGRAM NAME =

20039                            8018             FAR_JSR #_LOT_SIG_FLG_CLR,R0            ;通常の連続
20040 00003CA0 D008                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20041 00003CA2 400B                   M           JSR     @R0                     ;
20042 00003CA4 0009                   M           NOP                                     ;
20043                            8019     
20044                            8020     ;       ---------- ﾃﾞﾊﾞｯｸ-------------
20045 00003CA6 D108              8021             MOV.L   #_EXQ_LT_PROC_CNT2,R1           ;ﾃﾞﾊﾞｯｸ用
20046 00003CA8 6011              8022             MOV.W   @R1,R0                          ;
20047 00003CAA 7001              8023             ADD     #1,R0                           ;
20048 00003CAC 2101              8024             MOV.W   R0,@R1                          ;
20049                            8025     
20050 00003CAE E402              8026             MOV.B   #BIT1,R4
20051 00003CB0 D106              8027             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20052 00003CB2 6011              8028             MOV.W   @R1,R0
20053 00003CB4 204A              8029             XOR     R4,R0
20054 00003CB6 2101              8030             MOV.W   R0,@R1
20055                            8031     ;       ------ﾃﾞﾊﾞｯｸ--------
20056                            8032             M_BRA   EXQ_PROC_STEPRECOVER_END        ;
20057 00003CB8 A030                   M           BRA     EXQ_PROC_STEPRECOVER_END
20058 00003CBA 0009                   M           NOP
20059                            8033     
20060                            8034     
20061                            8035     ;       ==============================================
20062                                     ***** BEGIN-POOL *****
20063 00003CBC 00000000                   DATA FOR SOURCE-LINE 8015
20064 00003CC0 00000000                   DATA FOR SOURCE-LINE 8016
20065 00003CC4 00000000                   DATA FOR SOURCE-LINE 8018
20066 00003CC8 00000000                   DATA FOR SOURCE-LINE 8021
20067 00003CCC 00000000                   DATA FOR SOURCE-LINE 8027
20068                                     ***** END-POOL *****
20069 00003CD0                   8036     EXQ_PROC_STEPRECOVER_END1       ;
20070                            8037             M_BRA   EXQ_PROC_STEPRECOVER_END        ;
20071 00003CD0 A024                   M           BRA     EXQ_PROC_STEPRECOVER_END
20072 00003CD2 0009                   M           NOP
20073                            8038     
20074                            8039     
20075                            8040     ;       ---------------------途中行程-----------------------
20076 00003CD4                   8041     EXQ_PROC_STEPRECOVER_200:                       ;NO!
20077                            8042     
20078 00003CD4 D109              8043             MOV.L   #_EXQ_LT_CMPSTEP_STEP_END,R1    ;[HANDｼｪｲｸ中]
20079 00003CD6 6011              8044             MOV.W   @R1,R0                          ;
20080 00003CD8 2008              8045             TST     R0,R0                           ;
20081                            8046             TST_BIT_OF EXQ_PROC_STEPRECOVER_END     ;
20082 00003CDA 891F                   M           BT      EXQ_PROC_STEPRECOVER_END
20083                            8047     
20084 00003CDC 6151              8048             MOV.W   @R5,R1                          ;CPUA(自分)
20085 00003CDE 6261              8049             MOV.W   @R6,R2                          ;CPUB 2BYTE
20086                            8050     
20087                            8051     
20088 00003CE0 3216              8052             CMP/HI  R1,R2                           ;R1(CPUA)<(R2 CPUB)
20089 00003CE2 8911              8053             BT      EXQ_PROC_STEPRECOVER_250        ;YES
20090                            8054     
20091                            8055     
20092 00003CE4 D106              8056             MOV.L   #_EXQ_LT_PROC_CNT4,R1           ;ﾃﾞﾊﾞｯｸ用
20093 00003CE6 6011              8057             MOV.W   @R1,R0                          ;
20094 00003CE8 7001              8058             ADD     #1,R0                           ;
20095 00003CEA 2101              8059             MOV.W   R0,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   251
PROGRAM NAME =

20096                            8060     
20097 00003CEC E408              8061             MOV.B   #BIT3,R4
20098 00003CEE D105              8062             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20099 00003CF0 6011              8063             MOV.W   @R1,R0
20100 00003CF2 204A              8064             XOR     R4,R0
20101 00003CF4 2101              8065             MOV.W   R0,@R1
20102                            8066             M_BRA   EXQ_PROC_STEPRECOVER_END        ;
20103 00003CF6 A011                   M           BRA     EXQ_PROC_STEPRECOVER_END
20104 00003CF8 0009                   M           NOP
20105                            8067     
20106                            8068     
20107                            8069     ;       ------------- 行程変更実地
20108                                     ***** BEGIN-POOL *****
20109 00003CFA 0000                       ALIGNMENT CODE
20110 00003CFC 00000000                   DATA FOR SOURCE-LINE 8043
20111 00003D00 00000000                   DATA FOR SOURCE-LINE 8056
20112 00003D04 00000000                   DATA FOR SOURCE-LINE 8062
20113                                     ***** END-POOL *****
20114 00003D08                   8070     EXQ_PROC_STEPRECOVER_250:                       ;NO!
20115 00003D08 2521              8071             MOV.W   R2,@R5                          ;設定変更実施　R5=_SV_POS_CTL_STEP
20116                            8072     
20117                            8073     ;       ------ 必要があれば目標位置演算-------------
20118                            8074     
20119 00003D0A D106              8075             MOV.L   #_EXQ_LT_PROC_CNT3,R1           ;ﾃﾞﾊﾞｯｸ用
20120 00003D0C 6011              8076             MOV.W   @R1,R0                          ;
20121 00003D0E 7001              8077             ADD     #1,R0                           ;
20122 00003D10 2101              8078             MOV.W   R0,@R1                          ;
20123                            8079     
20124 00003D12 E404              8080             MOV.B   #BIT2,R4
20125 00003D14 D104              8081             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20126 00003D16 6011              8082             MOV.W   @R1,R0
20127 00003D18 204A              8083             XOR     R4,R0
20128 00003D1A 2101              8084             MOV.W   R0,@R1
20129                            8085     
20130                            8086     
20131                            8087     
20132 00003D1C                   8088     EXQ_PROC_STEPRECOVER_END:
20133                            8089     
20134                            8090             SUB_END
20135                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20136 00003D1C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20137                            8091             M_RTS
20138 00003D1E 000B                   M           RTS                             ;RTSの後ろの
20139 00003D20 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20140                            8092     
20141                            8093     
20142                            8094     
20143                            8095     
20144                            8096             .IMPORT _DNM_CYCLE_END          ;
20145                            8097             .IMPORT _CYC_END_POS_FLG_CLR
20146                            8098     
20147                            8099     ;       *******************************************
20148                            8100     ;       ***     待機点かどうかのチェック        ***
20149                            8101     ;       *******************************************
20150                            8102     ;       ANS R0
20151                                     ***** BEGIN-POOL *****
20152 00003D22 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   252
PROGRAM NAME =

20153 00003D24 00000000                   DATA FOR SOURCE-LINE 8075
20154 00003D28 00000000                   DATA FOR SOURCE-LINE 8081
20155                                     ***** END-POOL *****
20156 00003D2C                   8103     _RECOVER_WAIT_AREA_CHK:
20157                            8104             SUB_START
20158 00003D2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
20159                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20160                            8105             PUSH_REG1 R1
20161 00003D2E 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20162                                 M                                           ;REG=>[SP]
20163                                 M                                           ;"-4" FF,FF,FF,FC
20164                            8106             PUSH_REG1 R2
20165 00003D30 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
20166                                 M                                           ;REG=>[SP]
20167                                 M                                           ;"-4" FF,FF,FF,FC
20168                            8107             PUSH_REG1 R3
20169 00003D32 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
20170                                 M                                           ;REG=>[SP]
20171                                 M                                           ;"-4" FF,FF,FF,FC
20172                            8108             PUSH_REG1 R4
20173 00003D34 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
20174                                 M                                           ;REG=>[SP]
20175                                 M                                           ;"-4" FF,FF,FF,FC
20176 00003D36 233A              8109             XOR     R3,R3                           ;ANS R3=0
20177                            8110     
20178 00003D38 D104              8111             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
20179 00003D3A 6011              8112             MOV.W   @R1,R0                          ;
20180 00003D3C C804              8113             TST     #_DMATH_DNDRIV,R0               ;
20181                            8114             TST_BIT_OF RECOVER_WAIT_AREACHK_100     ;
20182 00003D3E 8909                   M           BT      RECOVER_WAIT_AREACHK_100
20183                            8115     
20184                            8116              .AIF   1 EQ 1  ;
20185                            8117 C   ;       -------- 2016-10-31 ADD 二重回路対策
20186                            8118              .AENDI
20187                            8119     
20188                            8120     ;;;信号変更 2016-10-31
20189 00003D40 D103              8121             MOV.L   #_DNM_RST_SPEC_AREASIG,R1
20190 00003D42 6011              8122             MOV.W   @R1,R0                          ;
20191 00003D44 C801              8123             TST     #BIT0,R0
20192                            8124             TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;待機点だ
20193 00003D46 8B0D                   M           BF      RECOVER_WAIT_AREACHK_200
20194                            8125     
20195                            8126     ;;;信号変更     MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R1
20196                            8127     ;;;信号変更     MOV.W   @R1,R0                          ;
20197                            8128     ;;;信号変更     MOV.W   #BIT7,R4                        ;
20198                            8129     ;;;信号変更     TST     R4,R0                           ;
20199                            8130     ;;;信号変更     TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;待機点だ
20200                            8131     
20201                            8132     ;;;;記述ミス    MOV.L   #_M_LINK_AREASIG,R4             ;
20202                            8133     ;;;;記述ミス    MOV.W   @R4,R0                          ;
20203                            8134     ;;;;記述ミス    TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;
20204                            8135             M_BRA   RECOVER_WAIT_AREACHK_END
20205 00003D48 A00D                   M           BRA     RECOVER_WAIT_AREACHK_END
20206 00003D4A 0009                   M           NOP
20207                            8136     
20208                                     ***** BEGIN-POOL *****
20209 00003D4C 00000000                   DATA FOR SOURCE-LINE 8111
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   253
PROGRAM NAME =

20210 00003D50 00000000                   DATA FOR SOURCE-LINE 8121
20211                                     ***** END-POOL *****
20212 00003D54                   8137     RECOVER_WAIT_AREACHK_100
20213 00003D54 D402              8138             MOV.L   #_M_LINK_AREASIG,R4             ;//BIT0/BIT4:待機点範囲(ふりこでは使えない
                                          )
20214 00003D56 6041              8139             MOV.W   @R4,R0                          ;
20215 00003D58 C810              8140             TST     #BIT4,R0                        ;
20216                            8141             TST_BIT_ON RECOVER_WAIT_AREACHK_200     ;
20217 00003D5A 8B03                   M           BF      RECOVER_WAIT_AREACHK_200
20218                            8142             M_BRA   RECOVER_WAIT_AREACHK_END
20219 00003D5C A003                   M           BRA     RECOVER_WAIT_AREACHK_END
20220 00003D5E 0009                   M           NOP
20221                            8143     
20222                            8144     
20223                                     ***** BEGIN-POOL *****
20224 00003D60 00000000                   DATA FOR SOURCE-LINE 8138
20225                                     ***** END-POOL *****
20226 00003D64                   8145     RECOVER_WAIT_AREACHK_200
20227 00003D64 E301              8146             MOV.B   #BIT0,R3
20228 00003D66                   8147     RECOVER_WAIT_AREACHK_END
20229 00003D66 6033              8148             MOV     R3,R0                           ;ANS R0=0 R0=BIT0(待機点範囲)
20230                            8149             POP_REG1 R4
20231                                 M                                   ; RE"+4" 00,00,00,04
20232 00003D68 64F6                   M           MOV.L   @R15+,R4        ;
20233                            8150             POP_REG1 R3
20234                                 M                                   ; RE"+4" 00,00,00,04
20235 00003D6A 63F6                   M           MOV.L   @R15+,R3        ;
20236                            8151             POP_REG1 R2
20237                                 M                                   ; RE"+4" 00,00,00,04
20238 00003D6C 62F6                   M           MOV.L   @R15+,R2        ;
20239                            8152             POP_REG1 R1
20240                                 M                                   ; RE"+4" 00,00,00,04
20241 00003D6E 61F6                   M           MOV.L   @R15+,R1        ;
20242                            8153     
20243                            8154             SUB_END
20244                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20245 00003D70 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20246                            8155             M_RTS
20247 00003D72 000B                   M           RTS                             ;RTSの後ろの
20248 00003D74 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20249                            8156     
20250                            8157     
20251                            8158     ;       *******************************************
20252                            8159     ;       ***                                     ***
20253                            8160     ;       ***                                     ***
20254                            8161     ;       ***     2016-10-31(2016-06-21)          ***
20255                            8162     ;       ***                                     ***
20256                            8163     ;       *******************************************
20257                            8164              .AIF   1 EQ 1  ;
20258                            8165 C   ;       -------- 2016-10-31 ADD 二重回路対策
20259                            8166              .AENDI
20260                            8167     
20261 00003D76                   8168     _DNM_OBJ_AREA_SIG2:             ;振り子の場合の目標の待機点信号
20262                            8169             SUB_START
20263 00003D76 4F22                   M           STS.L   PR,@-R15                ;[必要]
20264                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20265                            8170     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   254
PROGRAM NAME =

20266 00003D78 D10C              8171             MOV.L   #_MODE_SEL,R1                           ;
20267 00003D7A 6011              8172             MOV.W   @R1,R0                                  ;
20268 00003D7C C81E              8173             TST     #_W1SGL+_W1CNT+_W1OPT+_W1INC,R0         ;安全、連続、オプション,INC
20269                            8174             TST_BIT_OF DNMOBJ_ARASIG2_150                   ;
20270 00003D7E 893D                   M           BT      DNMOBJ_ARASIG2_150
20271                            8175     
20272 00003D80 D10B              8176             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
20273 00003D82 6011              8177             MOV.W   @R1,R0                                  ;
20274 00003D84 C804              8178             TST     #_DMATH_DNDRIV,R0                       ;
20275                            8179             TST_BIT_OF DNMOBJ_ARASIG2_150                   ;ふりこじゃない
20276 00003D86 8939                   M           BT      DNMOBJ_ARASIG2_150
20277                            8180     
20278 00003D88 D10A              8181             MOV.L   #_BRKTST_SW_IN,R1                       ;
20279 00003D8A 6011              8182             MOV.W   @R1,R0                                  ;
20280 00003D8C C801              8183             TST     #BIT0,R0                                ;
20281                            8184             TST_BIT_ON DNMOBJ_ARASIG2_150                   ;
20282 00003D8E 8B35                   M           BF      DNMOBJ_ARASIG2_150
20283                            8185     
20284 00003D90 D409              8186             MOV.L   #_DNM_SETX_LINK_UP_POS_DN,R4            ;ﾘﾝｸ(範囲比較)
20285 00003D92 6141              8187             MOV.W   @R4,R1                                  ;待機点-α
20286 00003D94 D409              8188             MOV.L   #_DNM_SETX_LINK_UP_POS_UP,R4            ;
20287 00003D96 6341              8189             MOV.W   @R4,R3                                  ;待機点+α
20288 00003D98 D409              8190             MOV.L   #_INC_ENC360,R4                         ;PG
20289 00003D9A 6241              8191             MOV.W   @R4,R2                                  ;R1~R3の範囲か？
20290                            8192             FAR_JSR #_DIG_AREA_CHK1,R0                      ;
20291 00003D9C D009                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20292 00003D9E 400B                   M           JSR     @R0                     ;
20293 00003DA0 0009                   M           NOP                                     ;
20294 00003DA2 4511              8193             CMP/PZ  R5                                      ;
20295 00003DA4 8B10              8194             BF      DNMOBJ_ARASIG2_100                      ;
20296                            8195             M_BRA   DNMOBJ_ARASIG2_120_SET
20297 00003DA6 A019                   M           BRA     DNMOBJ_ARASIG2_120_SET
20298 00003DA8 0009                   M           NOP
20299                            8196     
20300                            8197     
20301                                     ***** BEGIN-POOL *****
20302 00003DAA 0000                       ALIGNMENT CODE
20303 00003DAC 00000000                   DATA FOR SOURCE-LINE 8171
20304 00003DB0 00000000                   DATA FOR SOURCE-LINE 8176
20305 00003DB4 00000000                   DATA FOR SOURCE-LINE 8181
20306 00003DB8 00000000                   DATA FOR SOURCE-LINE 8186
20307 00003DBC 00000000                   DATA FOR SOURCE-LINE 8188
20308 00003DC0 00000000                   DATA FOR SOURCE-LINE 8190
20309 00003DC4 00000000                   DATA FOR SOURCE-LINE 8192
20310                                     ***** END-POOL *****
20311 00003DC8                   8198     DNMOBJ_ARASIG2_100:
20312 00003DC8 D407              8199             MOV.L   #_SETX_LINK_UP_POS_DN,R4                ;ﾘﾝｸ(範囲比較)
20313 00003DCA 6141              8200             MOV.W   @R4,R1                                  ;待機点-α
20314 00003DCC D407              8201             MOV.L   #_SETX_LINK_UP_POS_UP,R4                ;
20315 00003DCE 6341              8202             MOV.W   @R4,R3                                  ;待機点+α
20316 00003DD0 D407              8203             MOV.L   #_INC_ENC360,R4                         ;PG
20317 00003DD2 6241              8204             MOV.W   @R4,R2                                  ;R1~R3の範囲か？
20318                            8205             FAR_JSR #_DIG_AREA_CHK1,R0                      ;
20319 00003DD4 D007                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20320 00003DD6 400B                   M           JSR     @R0                     ;
20321 00003DD8 0009                   M           NOP                                     ;
20322 00003DDA 8B0F              8206             BF      DNMOBJ_ARASIG2_150                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   255
PROGRAM NAME =

20323 00003DDC                   8207     DNMOBJ_ARASIG2_120_SET:
20324                            8208     
20325                            8209             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_RST_SPEC_AREASIG,LG=W,BIT=(BIT0),WKREG=R1      ;
20326 00003DDC D106                   M           MOV.L   #_DNM_RST_SPEC_AREASIG,R1               ;
20327 00003DDE 6011                   M           MOV.W   @R1,R0          ;
20328 00003DE0 CB01                   M           OR      #(BIT0),R0              ;
20329 00003DE2 2101                   M           MOV.W   R0,@R1          ;
20330                            8210             M_BRA   DNMOBJ_ARASIG2_200
20331 00003DE4 A00E                   M           BRA     DNMOBJ_ARASIG2_200
20332 00003DE6 0009                   M           NOP
20333                            8211     
20334                                     ***** BEGIN-POOL *****
20335 00003DE8 00000000                   DATA FOR SOURCE-LINE 8199
20336 00003DEC 00000000                   DATA FOR SOURCE-LINE 8201
20337 00003DF0 00000000                   DATA FOR SOURCE-LINE 8203
20338 00003DF4 00000000                   DATA FOR SOURCE-LINE 8205
20339 00003DF8 00000000                   DATA FOR SOURCE-LINE 8209
20340                                     ***** END-POOL *****
20341 00003DFC                   8212     DNMOBJ_ARASIG2_150:
20342                            8213     
20343                            8214             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_DNM_RST_SPEC_AREASIG,LG=W,BIT=(~BIT0),WKREG=R1    ;
20344 00003DFC D103                   M           MOV.L   #_DNM_RST_SPEC_AREASIG,R1               ;
20345 00003DFE 6011                   M           MOV.W   @R1,R0          ;
20346 00003E00 C9FE                   M           AND     #LOW (~BIT0),R0         ;
20347 00003E02 2101                   M           MOV.W   R0,@R1          ;
20348                            8215     
20349 00003E04                   8216     DNMOBJ_ARASIG2_200:
20350                            8217     
20351                            8218             SUB_END
20352                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20353 00003E04 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20354                            8219             M_RTS
20355 00003E06 000B                   M           RTS                             ;RTSの後ろの
20356 00003E08 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20357                            8220     
20358                            8221     
20359                            8222     
20360                            8223     ;       *******************************************
20361                            8224     ;       ***                                     ***
20362                            8225     ;       ***     EXQ発生時　ﾊﾝﾄﾞｼｪｲｸ中かﾁｪｯｸ     ***
20363                            8226     ;       ***     2016-01-10[]                    ***
20364                            8227     ;       ***     2016-04-15                      ***
20365                            8228     ;       *******************************************
20366                            8229             .EXPORT _API_EXQ_STEP_STS_GET
20367                                     ***** BEGIN-POOL *****
20368 00003E0A 0000                       ALIGNMENT CODE
20369 00003E0C 00000000                   DATA FOR SOURCE-LINE 8214
20370                                     ***** END-POOL *****
20371 00003E10                   8230     _API_EXQ_STEP_STS_GET
20372                            8231             SUB_START
20373 00003E10 4F22                   M           STS.L   PR,@-R15                ;[必要]
20374                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20375                            8232     
20376 00003E12 D106              8233             MOV.L   #_EXQ_LT_GET_FLG,R1             ;
20377 00003E14 6011              8234             MOV.W   @R1,R0                          ;
20378 00003E16 2008              8235             TST     R0,R0                           ;
20379                            8236             TST_BIT_ON API_EXQ_STEP_STSGET_EXT      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   256
PROGRAM NAME =

20380 00003E18 8B05                   M           BF      API_EXQ_STEP_STSGET_EXT
20381 00003E1A E001              8237             MOV.B   #BIT0,R0                        ;
20382 00003E1C 2101              8238             MOV.W   R0,@R1                          ;
20383                            8239     
20384 00003E1E D104              8240             MOV.L   #_CMPSTEP_STEP_END,R1   ;(HAND)
20385 00003E20 6011              8241             MOV.W   @R1,R0                          ;
20386 00003E22 D104              8242             MOV.L   #_EXQ_LT_CMPSTEP_STEP_END,R1    ;
20387 00003E24 2101              8243             MOV.W   R0,@R1                          ;
20388                            8244     
20389                            8245     
20390 00003E26                   8246     API_EXQ_STEP_STSGET_EXT
20391                            8247     
20392                            8248             SUB_END
20393                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20394 00003E26 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20395                            8249             M_RTS
20396 00003E28 000B                   M           RTS                             ;RTSの後ろの
20397 00003E2A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20398                            8250     
20399                            8251     
20400                            8252     ;       *******************************************
20401                            8253     ;       ***                                     ***
20402                            8254     ;       ***     クリア                          ***
20403                            8255     ;       ***     2016-01-10                      ***
20404                            8256     ;       *******************************************
20405                            8257             .EXPORT _API_EXQ_STEP_FLGCLR
20406                                     ***** BEGIN-POOL *****
20407 00003E2C 00000000                   DATA FOR SOURCE-LINE 8233
20408 00003E30 00000000                   DATA FOR SOURCE-LINE 8240
20409 00003E34 00000000                   DATA FOR SOURCE-LINE 8242
20410                                     ***** END-POOL *****
20411 00003E38                   8258     _API_EXQ_STEP_FLGCLR
20412                            8259             SUB_START
20413 00003E38 4F22                   M           STS.L   PR,@-R15                ;[必要]
20414                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20415 00003E3A 200A              8260             XOR     R0,R0
20416 00003E3C D103              8261             MOV.L   #_EXQ_LT_CMPSTEP_STEP_END,R1    ;
20417 00003E3E 2101              8262             MOV.W   R0,@R1                          ;
20418 00003E40 D103              8263             MOV.L   #_EXQ_LT_GET_FLG,R1             ;
20419 00003E42 2101              8264             MOV.W   R0,@R1                          ;
20420                            8265     
20421                            8266             SUB_END
20422                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20423 00003E44 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20424                            8267             M_RTS
20425 00003E46 000B                   M           RTS                             ;RTSの後ろの
20426 00003E48 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20427                            8268     
20428                            8269     ;       *******************************************
20429                            8270     ;       ***                                     ***
20430                            8271     ;       ***     リセット処理                    ***
20431                            8272     ;       ***     2016-10-31(2016-05-11)          ***
20432                            8273     ;       ***                                     ***
20433                            8274     ;       *******************************************
20434                            8275              .AIF   1 EQ 1  ;
20435                            8276 C   ;       -------- 2016-10-31 ADD 二重回路対策
20436                            8277              .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   257
PROGRAM NAME =

20437                                     ***** BEGIN-POOL *****
20438 00003E4A 0000                       ALIGNMENT CODE
20439 00003E4C 00000000                   DATA FOR SOURCE-LINE 8261
20440 00003E50 00000000                   DATA FOR SOURCE-LINE 8263
20441                                     ***** END-POOL *****
20442 00003E54                   8278     _POSCTRL_CANSEL_RESET:
20443                            8279             SUB_START
20444 00003E54 4F22                   M           STS.L   PR,@-R15                ;[必要]
20445                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20446 00003E56 D10E              8280             MOV.L   #_POSCANSEL_CMD,R1              ;
20447 00003E58 6011              8281             MOV.W   @R1,R0                          ;
20448 00003E5A 2008              8282             TST     R0,R0                           ;
20449                            8283             TST_BIT_OF POSCTRL_CANSEL_RST_EXT       ;
20450 00003E5C 8913                   M           BT      POSCTRL_CANSEL_RST_EXT
20451                            8284     
20452 00003E5E D10D              8285             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340.11 位置決めキャンセル
20453 00003E60 6011              8286             MOV.W   @R1,R0                          ;
20454 00003E62 9413              8287             MOV.W   #BIT11,R4                       ;
20455 00003E64 2048              8288             TST     R4,R0                           ;指令OFF
20456                            8289             TST_BIT_ON POSCTRL_CANSEL_RST_EXT       ;
20457 00003E66 8B0E                   M           BF      POSCTRL_CANSEL_RST_EXT
20458                            8290     
20459 00003E68 D10B              8291             MOV.L   #_di1_cb_ctl1_dt,R1             ;ﾚﾍﾞﾙに変更(ｵｰﾊﾞﾛｰﾄﾞなどのｼｰｹﾝｽ上の異常をｼ
                                          ｰｹﾝｽがﾘｾｯﾄでｸﾘｱするため)
20460 00003E6A 6011              8292             MOV.W   @R1,R0                          ;(ｴｯｼﾞの場合,まだｼｰｹﾝｽからのEMG指令はOFFし
                                          ない)
20461 00003E6C 940F              8293             MOV.W   #_W1RST,R4                      ;ﾘｾｯﾄ釦
20462 00003E6E 2048              8294             TST     R4,R0                           ;ONｴｯｼﾞ
20463                            8295             TST_BIT_OF POSCTRL_CANSEL_RST_EXT       ;
20464 00003E70 8909                   M           BT      POSCTRL_CANSEL_RST_EXT
20465                            8296     
20466 00003E72 200A              8297             XOR     R0,R0                           ;
20467 00003E74 D106              8298             MOV.L   #_POSCANSEL_CMD,R1              ;
20468 00003E76 2101              8299             MOV.W   R0,@R1                          ;
20469                            8300     
20470 00003E78 D108              8301             MOV.L   #_reset_flg,R1                  ;
20471 00003E7A 6011              8302             MOV.W   @R1,R0                          ;
20472 00003E7C 2008              8303             TST     R0,R0                           ;
20473                            8304             TST_BIT_ON POSCTRL_CANSEL_RST_EXT       ;EXQ,EMG
20474 00003E7E 8B02                   M           BF      POSCTRL_CANSEL_RST_EXT
20475                            8305     
20476                            8306             FAR_JSR #_POSCAN_PROC_STEP_RECOVER,R0   ;
20477 00003E80 D007                   M           MOV.L   #_POSCAN_PROC_STEP_RECOVER,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20478 00003E82 400B                   M           JSR     @R0                     ;
20479 00003E84 0009                   M           NOP                                     ;
20480                            8307     
20481                            8308     
20482 00003E86                   8309     POSCTRL_CANSEL_RST_EXT:
20483                            8310     
20484                            8311             SUB_END
20485                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20486 00003E86 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20487                            8312             M_RTS
20488 00003E88 000B                   M           RTS                             ;RTSの後ろの
20489 00003E8A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20490                            8313     
20491                            8314     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   258
PROGRAM NAME =

20492                            8315     
20493                            8316     ;       *******************************************
20494                            8317     ;       ***                                     ***
20495                            8318     ;       ***                                     ***
20496                            8319     ;       ***                                     ***
20497                            8320     ;       ***     EXQ,遮光による行程違いのRECOVER ***
20498                            8321     ;       ***     2016-10-31                      ***
20499                            8322     ;       ***                                     ***
20500                            8323     ;       ***                                     ***
20501                            8324     ;       *******************************************
20502                            8325     ;       リセット時に行う
20503                            8326     ;       ハンドシェイク中でEXQを実行した場合、強制中断するが、他のＣＰＵは
20504                            8327     ;       ハンドシェイク成立している可能性があり、次の工程に行っている
20505                            8328     ;       このリカバーはハンドシェイク時のみのリカバーとする
20506                            8329              .AIF   1 EQ 1  ;
20507                            8330 C   ;       -------- 2016-10-31 ADD 二重回路対策
20508                            8331              .AENDI
20509                            8332     
20510                            8333     
20511                                     ***** BEGIN-POOL *****
20512 00003E8C 0800                       DATA FOR SOURCE-LINE 8287
20513 00003E8E 8000                       DATA FOR SOURCE-LINE 8293
20514 00003E90 00000000                   DATA FOR SOURCE-LINE 8280,8298
20515 00003E94 00000000                   DATA FOR SOURCE-LINE 8285
20516 00003E98 00000000                   DATA FOR SOURCE-LINE 8291
20517 00003E9C 00000000                   DATA FOR SOURCE-LINE 8301
20518 00003EA0 00000000                   DATA FOR SOURCE-LINE 8306
20519                                     ***** END-POOL *****
20520 00003EA4                   8334     _POSCAN_PROC_STEP_RECOVER:
20521                            8335             SUB_START
20522 00003EA4 4F22                   M           STS.L   PR,@-R15                ;[必要]
20523                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20524                            8336     
20525                            8337     
20526 00003EA6 D115              8338             MOV.L   #_MODE_SEL,R1                           ;
20527 00003EA8 6011              8339             MOV.W   @R1,R0                                  ;
20528                            8340     
20529 00003EAA 9426              8341             MOV.W   #_W1INC+_W1SGL+_W1CNT+_W1OPT,R4         ;最終形態
20530 00003EAC 2048              8342             TST     R4,R0                                   ;
20531                            8343             TST_BIT_OF POSCAN_PROCSTEPRECOVER_END1
20532 00003EAE 8953                   M           BT      POSCAN_PROCSTEPRECOVER_END1
20533                            8344     
20534 00003EB0 D113              8345             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
20535 00003EB2 6011              8346             MOV.W   @R1,R0                                  ;
20536 00003EB4 C805              8347             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
20537                            8348             TST_BIT_OF POSCAN_PROCSTEPRECOVER_END1  ;
20538 00003EB6 894F                   M           BT      POSCAN_PROCSTEPRECOVER_END1
20539                            8349     
20540                            8350     
20541                            8351     ;-----------------処理確認ﾃﾞﾊﾞｯｸ機能------------------------------
20542 00003EB8 D112              8352             MOV.L   #_EXQ_LT_PROC_CNT1,R1
20543 00003EBA 6011              8353             MOV.W   @R1,R0
20544 00003EBC 7001              8354             ADD     #1,R0
20545 00003EBE 2101              8355             MOV.W   R0,@R1
20546                            8356     
20547 00003EC0 E401              8357             MOV.B   #BIT0,R4
20548 00003EC2 D111              8358             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   259
PROGRAM NAME =

20549 00003EC4 6011              8359             MOV.W   @R1,R0
20550 00003EC6 204A              8360             XOR     R4,R0
20551 00003EC8 2101              8361             MOV.W   R0,@R1
20552                            8362     
20553                            8363     
20554                            8364     ;---------------------------------------------------------
20555                            8365     ;切替条件
20556                            8366     ;       (1)R1:自分が0(emg)でない
20557                            8367     ;       (1)R2:相手も0(emg)でない
20558                            8368     ;         (2-1)自分が最終行程の場合
20559                            8369     ;               (3-1)待機点範囲の場合
20560                            8370     ;                       相手CPUが0または1の場合　
20561                            8371     ;                       自分はEMG処理相当を行う(行程1からはじめる)
20562                            8372     ;               (3-2)待機点範囲でない場合:演算しない
20563                            8373     ;         (2-2)自分が最終行程でない場合
20564                            8374     ;               自分<相手であれば行程を入れ替える
20565                            8375     
20566                            8376             FAR_JSR #_RECOVER_WAIT_AREA_CHK,R0      ;
20567 00003ECA D010                   M           MOV.L   #_RECOVER_WAIT_AREA_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20568 00003ECC 400B                   M           JSR     @R0                     ;
20569 00003ECE 0009                   M           NOP                                     ;
20570 00003ED0 6303              8377             MOV     R0,R3                           ;R3!=0:待機点
20571                            8378     
20572 00003ED2 D50F              8379             MOV.L   #_SV_POS_CTL_STEP,R5            ;
20573 00003ED4 6151              8380             MOV.W   @R5,R1                          ;自分
20574                            8381             .AIF    0 EQ    0
20575 00003ED6 D60F              8382 C           MOV.L   #_CPUB_SV_STEP,R6               ;CPUB->CPUA
20576                            8383             .AELSE
20577                            8384             MOV.L   #_CPUA_SV_STEP,R6               ;
20578                            8385             .AENDI
20579 00003ED8 6261              8386             MOV.W   @R6,R2                          ;相手CPUB 2BYTE
20580 00003EDA 2118              8387             TST     R1,R1                           ;CPUA(自分)
20581                            8388             TST_BIT_OF POSCAN_PROCSTEPRECOVER_END1  ;[次の工程は１行程から行う]
20582 00003EDC 893C                   M           BT      POSCAN_PROCSTEPRECOVER_END1
20583                            8389     
20584 00003EDE 2338              8390             TST     R3,R3                           ;待機点？
20585                            8391             TST_BIT_OF POSCAN_PROCSTEPRECOVER_200   ;NO!
20586 00003EE0 893C                   M           BT      POSCAN_PROCSTEPRECOVER_200
20587                            8392     
20588 00003EE2 D40D              8393             MOV.L   #_CPOS_STEP_MAX,R4              ;
20589 00003EE4 6041              8394             MOV.W   @R4,R0                          ;
20590 00003EE6 7001              8395             ADD     #1,R0                           ;
20591 00003EE8 3010              8396             CMP/EQ  R1,R0                           ;最終ｽﾃｯﾌﾟか?
20592 00003EEA 8B35              8397             BF      POSCAN_PROCSTEPRECOVER_END1     ;NO!(待機点だが最終ステップではない)
20593                            8398     
20594                            8399     ;       --------- 自分が最終ｽﾃｯﾌﾟ-------------
20595 00003EEC E001              8400             MOV.B   #1,R0                           ;
20596 00003EEE 2228              8401             TST     R2,R2                           ;
20597                            8402             TST_BIT_OF POSCAN_PROCSTEPRECOVER_100   ;(R2=0:次の工程は0から YES:EMG)
20598 00003EF0 8914                   M           BT      POSCAN_PROCSTEPRECOVER_100
20599                            8403     
20600 00003EF2 3200              8404             CMP/EQ  R0,R2                           ;
20601 00003EF4 8912              8405             BT      POSCAN_PROCSTEPRECOVER_100      ;相手CPU=1です
20602                            8406             M_BRA   POSCAN_PROCSTEPRECOVER_END1     ;
20603 00003EF6 A02F                   M           BRA     POSCAN_PROCSTEPRECOVER_END1
20604 00003EF8 0009                   M           NOP
20605                            8407     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   260
PROGRAM NAME =

20606                            8408     ;
20607                            8409     ;最終行程で待機点内で他のCPUで行程=1がいる[次サイクル]
20608                            8410     ;待機点での方向変更処理が必要
20609                            8411     ;       「EMGと同じ処理」
20610                                     ***** BEGIN-POOL *****
20611 00003EFA 001E                       DATA FOR SOURCE-LINE 8341
20612 00003EFC 00000000                   DATA FOR SOURCE-LINE 8338
20613 00003F00 00000000                   DATA FOR SOURCE-LINE 8345
20614 00003F04 00000000                   DATA FOR SOURCE-LINE 8352
20615 00003F08 00000000                   DATA FOR SOURCE-LINE 8358
20616 00003F0C 00000000                   DATA FOR SOURCE-LINE 8376
20617 00003F10 00000000                   DATA FOR SOURCE-LINE 8379
20618 00003F14 00000000                   DATA FOR SOURCE-LINE 8382
20619 00003F18 00000000                   DATA FOR SOURCE-LINE 8393
20620                                     ***** END-POOL *****
20621 00003F1C                   8412     POSCAN_PROCSTEPRECOVER_100:
20622                            8413             FAR_JSR #_DNM_CYCLE_END,R0              ;
20623 00003F1C D009                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20624 00003F1E 400B                   M           JSR     @R0                     ;
20625 00003F20 0009                   M           NOP                                     ;
20626                            8414             FAR_JSR #_CYC_END_POS_FLG_CLR,R0        ;
20627 00003F22 D009                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20628 00003F24 400B                   M           JSR     @R0                     ;
20629 00003F26 0009                   M           NOP                                     ;
20630                            8415             FAR_JSR #_LOT_SIG_FLG_CLR,R0            ;通常の連続
20631 00003F28 D008                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20632 00003F2A 400B                   M           JSR     @R0                     ;
20633 00003F2C 0009                   M           NOP                                     ;
20634                            8416     
20635                            8417     ;       ---------- ﾃﾞﾊﾞｯｸ-------------
20636 00003F2E D108              8418             MOV.L   #_EXQ_LT_PROC_CNT2,R1           ;ﾃﾞﾊﾞｯｸ用
20637 00003F30 6011              8419             MOV.W   @R1,R0                          ;
20638 00003F32 7001              8420             ADD     #1,R0                           ;
20639 00003F34 2101              8421             MOV.W   R0,@R1                          ;
20640                            8422     
20641 00003F36 E402              8423             MOV.B   #BIT1,R4
20642 00003F38 D106              8424             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20643 00003F3A 6011              8425             MOV.W   @R1,R0
20644 00003F3C 204A              8426             XOR     R4,R0
20645 00003F3E 2101              8427             MOV.W   R0,@R1
20646                            8428     ;       ------ﾃﾞﾊﾞｯｸ--------
20647                            8429             M_BRA   POSCAN_PROCSTEPRECOVER_END      ;
20648 00003F40 A033                   M           BRA     POSCAN_PROCSTEPRECOVER_END
20649 00003F42 0009                   M           NOP
20650                            8430     
20651                            8431     
20652                            8432     ;       ==============================================
20653                                     ***** BEGIN-POOL *****
20654 00003F44 00000000                   DATA FOR SOURCE-LINE 8413
20655 00003F48 00000000                   DATA FOR SOURCE-LINE 8414
20656 00003F4C 00000000                   DATA FOR SOURCE-LINE 8415
20657 00003F50 00000000                   DATA FOR SOURCE-LINE 8418
20658 00003F54 00000000                   DATA FOR SOURCE-LINE 8424
20659                                     ***** END-POOL *****
20660 00003F58                   8433     POSCAN_PROCSTEPRECOVER_END1     ;
20661                            8434             M_BRA   POSCAN_PROCSTEPRECOVER_END      ;
20662 00003F58 A027                   M           BRA     POSCAN_PROCSTEPRECOVER_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   261
PROGRAM NAME =

20663 00003F5A 0009                   M           NOP
20664                            8435     
20665                            8436     
20666                            8437     ;       ---------------------途中行程-----------------------
20667 00003F5C                   8438     POSCAN_PROCSTEPRECOVER_200:                     ;NO!
20668 00003F5C 6151              8439             MOV.W   @R5,R1                          ;CPUA(自分)
20669 00003F5E 6261              8440             MOV.W   @R6,R2                          ;CPUB 2BYTE
20670                            8441     
20671 00003F60 3216              8442             CMP/HI  R1,R2                           ;R1(CPUA)<(R2 CPUB)
20672 00003F62 890F              8443             BT      POSCAN_PROCSTEPRECOVER_250      ;YES
20673                            8444     
20674                            8445     
20675 00003F64 D105              8446             MOV.L   #_EXQ_LT_PROC_CNT4,R1           ;ﾃﾞﾊﾞｯｸ用
20676 00003F66 6011              8447             MOV.W   @R1,R0                          ;
20677 00003F68 7001              8448             ADD     #1,R0                           ;
20678 00003F6A 2101              8449             MOV.W   R0,@R1                          ;
20679                            8450     
20680 00003F6C E408              8451             MOV.B   #BIT3,R4
20681 00003F6E D104              8452             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20682 00003F70 6011              8453             MOV.W   @R1,R0
20683 00003F72 204A              8454             XOR     R4,R0
20684 00003F74 2101              8455             MOV.W   R0,@R1
20685                            8456             M_BRA   POSCAN_PROCSTEPRECOVER_END      ;
20686 00003F76 A018                   M           BRA     POSCAN_PROCSTEPRECOVER_END
20687 00003F78 0009                   M           NOP
20688                            8457     
20689                            8458     
20690                            8459     ;       ------------- 行程変更実地
20691                                     ***** BEGIN-POOL *****
20692 00003F7A 0000                       ALIGNMENT CODE
20693 00003F7C 00000000                   DATA FOR SOURCE-LINE 8446
20694 00003F80 00000000                   DATA FOR SOURCE-LINE 8452
20695                                     ***** END-POOL *****
20696 00003F84                   8460     POSCAN_PROCSTEPRECOVER_250:                     ;NO!
20697                            8461     ;       -------2016-07-16---------------
20698                            8462             PUSH_REG1 R2
20699 00003F84 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
20700                                 M                                           ;REG=>[SP]
20701                                 M                                           ;"-4" FF,FF,FF,FC
20702                            8463             PUSH_REG1 R5
20703 00003F86 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
20704                                 M                                           ;REG=>[SP]
20705                                 M                                           ;"-4" FF,FF,FF,FC
20706                            8464             FAR_JSR #_ROT_CNTMODE_CHK,R0
20707 00003F88 D009                   M           MOV.L   #_ROT_CNTMODE_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20708 00003F8A 400B                   M           JSR     @R0                     ;
20709 00003F8C 0009                   M           NOP                                     ;
20710                            8465             POP_REG1 R5
20711                                 M                                   ; RE"+4" 00,00,00,04
20712 00003F8E 65F6                   M           MOV.L   @R15+,R5        ;
20713                            8466             POP_REG1 R2
20714                                 M                                   ; RE"+4" 00,00,00,04
20715 00003F90 62F6                   M           MOV.L   @R15+,R2        ;
20716                            8467     ;       -------------------------------
20717                            8468     
20718 00003F92 2008              8469             TST     R0,R0
20719                            8470             TST_BIT_ON POSCAN_PROCSTEPRECOVER_END   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   262
PROGRAM NAME =

20720 00003F94 8B09                   M           BF      POSCAN_PROCSTEPRECOVER_END
20721                            8471     
20722 00003F96 2521              8472             MOV.W   R2,@R5                          ;設定変更実施　R5=_SV_POS_CTL_STEP
20723                            8473     
20724                            8474     ;       ------ 必要があれば目標位置演算-------------
20725 00003F98 D106              8475             MOV.L   #_EXQ_LT_PROC_CNT3,R1           ;ﾃﾞﾊﾞｯｸ用
20726 00003F9A 6011              8476             MOV.W   @R1,R0                          ;
20727 00003F9C 7001              8477             ADD     #1,R0                           ;
20728 00003F9E 2101              8478             MOV.W   R0,@R1                          ;
20729                            8479     
20730 00003FA0 E404              8480             MOV.B   #BIT2,R4
20731 00003FA2 D105              8481             MOV.L   #_SQ_CBWK_TOP+_WKSQCB259,R1     ;
20732 00003FA4 6011              8482             MOV.W   @R1,R0
20733 00003FA6 204A              8483             XOR     R4,R0
20734 00003FA8 2101              8484             MOV.W   R0,@R1
20735                            8485     
20736                            8486     
20737 00003FAA                   8487     POSCAN_PROCSTEPRECOVER_END:
20738                            8488     
20739                            8489             SUB_END
20740                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20741 00003FAA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20742                            8490             M_RTS
20743 00003FAC 000B                   M           RTS                             ;RTSの後ろの
20744 00003FAE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20745                            8491     
20746                                     ***** BEGIN-POOL *****
20747 00003FB0 00000000                   DATA FOR SOURCE-LINE 8464
20748 00003FB4 00000000                   DATA FOR SOURCE-LINE 8475
20749 00003FB8 00000000                   DATA FOR SOURCE-LINE 8481
20750                                     ***** END-POOL *****
20751 00003FBC                   8492     _ROT_CNTMODE_CHK:
20752                            8493             SUB_START
20753 00003FBC 4F22                   M           STS.L   PR,@-R15                ;[必要]
20754                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20755                            8494     
20756 00003FBE 9416              8495             MOV.W   #1,R4   ;
20757 00003FC0 3140              8496             CMP/EQ  R4,R1   ;自分はSTEP1
20758 00003FC2 8B1F              8497             BF      ROT_CNTMODCHK_100               ;変更可能(自分が1でない)
20759                            8498     
20760 00003FC4 D40B              8499             MOV.L   #_CPOS_STEP_MAX,R4              ;
20761 00003FC6 6041              8500             MOV.W   @R4,R0                          ;
20762 00003FC8 7001              8501             ADD     #1,R0                           ;
20763 00003FCA 3020              8502             CMP/EQ  R2,R0                           ;相手が最終行程
20764 00003FCC 8B1A              8503             BF      ROT_CNTMODCHK_100               ;変更可能(相手が最終ｽﾃｯﾌﾟではない)
20765                            8504     
20766 00003FCE D10A              8505             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
20767 00003FD0 6011              8506             MOV.W   @R1,R0                          ;
20768 00003FD2 C801              8507             TST     #(_DMATH_CNTROT),R0             ;回転
20769                            8508             TST_BIT_OF ROT_CNTMODCHK_100            ;NO! 変更可能
20770 00003FD4 8916                   M           BT      ROT_CNTMODCHK_100
20771                            8509     
20772                            8510     ;待機点Vﾓｰﾄﾞ
20773 00003FD6 D109              8511             MOV.L   #_SETX_POS_MOD_FLG1,R1          ;
20774 00003FD8 6011              8512             MOV.W   @R1,R0                          ;
20775 00003FDA C905              8513             AND     #(BIT2+BIT0),R0                 ;
20776 00003FDC 8805              8514             CMP/EQ  #(BIT2+BIT0),R0                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   263
PROGRAM NAME =

20777 00003FDE 8B11              8515             BF      ROT_CNTMODCHK_100               ;回転,連続で待機点停止無し? NO
20778                            8516     
20779                            8517     
20780 00003FE0 D107              8518             MOV.L   #_LINK_CLANK_PV,R1              ;
20781 00003FE2 6011              8519             MOV.W   @R1,R0                          ;
20782 00003FE4 9404              8520             MOV.W   #D'600,R4                       ;60.0
20783 00003FE6 3042              8521             CMP/HS  R4,R0                           ;
20784 00003FE8 890C              8522             BT      ROT_CNTMODCHK_100               ;60<ｸﾗﾝｸ角度が大きい
20785                            8523             M_BRA   ROT_CNTMODCHK_200               ;0~60度だ.
20786 00003FEA A00E                   M           BRA     ROT_CNTMODCHK_200
20787 00003FEC 0009                   M           NOP
20788                            8524     
20789                                     ***** BEGIN-POOL *****
20790 00003FEE 0001                       DATA FOR SOURCE-LINE 8495
20791 00003FF0 0258                       DATA FOR SOURCE-LINE 8520
20792 00003FF2 0000                       ALIGNMENT CODE
20793 00003FF4 00000000                   DATA FOR SOURCE-LINE 8499
20794 00003FF8 00000000                   DATA FOR SOURCE-LINE 8505
20795 00003FFC 00000000                   DATA FOR SOURCE-LINE 8511
20796 00004000 00000000                   DATA FOR SOURCE-LINE 8518
20797                                     ***** END-POOL *****
20798 00004004                   8525     ROT_CNTMODCHK_100:
20799 00004004 200A              8526             XOR     R0,R0                   ;変更する
20800                            8527             M_BRA   ROT_CNTMODCHK_END       ;
20801 00004006 A001                   M           BRA     ROT_CNTMODCHK_END
20802 00004008 0009                   M           NOP
20803                            8528     
20804 0000400A                   8529     ROT_CNTMODCHK_200:
20805 0000400A E001              8530             MOV.B   #1,R0                   ;変更しない
20806 0000400C                   8531     ROT_CNTMODCHK_END:
20807                            8532             SUB_END
20808                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20809 0000400C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20810                            8533             M_RTS
20811 0000400E 000B                   M           RTS                             ;RTSの後ろの
20812 00004010 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20813                            8534     
20814                            8535     
20815                            8536     
20816                            8537             .END
  *****TOTAL ERRORS       0
  *****TOTAL WARNINGS     0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   264

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ANTI_CHK_0100                    P             000006CA   7854*
ANTI_CHK_0130                    P             000006FC   7884  7893*
ANTI_CHK_0150                    P             00000728   7852  7914*
ANTI_CHK_0500                    P             00000748   7831  7942*
ANTI_CHK_EXIT                    P             0000075C   7841  7898  7922  7929  7947  7957*
API_EXQ_STEP_STSGET_EXT          P             00003E26  20380 20390*
API_HOLD_WAIT_BRKOFFSIG_END      P             00003450  18336 18342 18351*
BIT0                                      EQU  00000001     15* 2040  2349  2364  6456  6480  6512  6848  6908  6925  6957  6971 
                                                          7073  7274  7503  7553  7583  7591  7600  7706  7865  7887  7926  7945 
                                                          8012  8035  8106  8168  8271  8362  8488  8718  8873  9425  9556  9598 
                                                          9869 10039 10213 10219 10375 10405 10461 10514 10530 10678 10724 10778 
                                                         10839 10853 10940 10947 12025 12083 12365 12448 12613 12641 12659 12906 
                                                         12907 12930 12931 12961 13113 13455 13524 13585 13733 14165 14283 14355 
                                                         14378 14444 14459 14592 14806 15138 15149 15611 15624 15847 15864 15890 
                                                         15926 16392 16399 16482 16527 16743 16768 16948 16969 17013 17019 17148 
                                                         17162 17177 17342 17363 17371 17450 17540 17545 17616 17642 17660 17827 
                                                         17902 18000 18375 18380 18385 18750 18756 18795 18801 18846 19047 19055 
                                                         19327 19926 20191 20227 20280 20328 20346 20381 20547 20775 20776 
BIT1                                      EQU  00000002     16* 2041  2350  2365  6553  6652  6925  6957  6971  7274  7714  8024 
                                                          8050  9068  9164  9314  9425  9754 10145 10606 10737 10793 10881 11031 
                                                         11038 11080 11130 11165 11231 12362 12420 12448 12613 12641 12659 13603 
                                                         13614 13750 13762 14592 15611 16028 16101 16127 16974 17013 17206 17310 
                                                         17531 17910 17926 18380 18691 19627 20050 20641 
BIT10                                     EQU  00000400     25* 2375  7293  7327  7391 10494 12757 17172 17174 17221 17317 19621 
BIT11                                     EQU  00000800     26* 2376  7293  7338  9091  9639 10647 11207 13367 15075 15096 17172 
                                                         17193 17221 17323 19656 20454 
BIT12                                     EQU  00001000     27* 2381  7293  7343  9091  9639 13367 15563 16296 17483 17754 17762 
                                                         17986 18012 18144 18441 
BIT13                                     EQU  00002000     28* 2382  7293  7322 14286 16296 18043 
BIT14                                     EQU  00004000     29* 2383  7293  9411 16215 16296 17006 19732 19802 
BIT15                                     EQU  00008000     30* 2384 14225 14772 14874 16215 16296 17097 17260 19699 19824 19847 
BIT16                                     EQU  00010000     31*
BIT17                                     EQU  00020000     32*
BIT18                                     EQU  00040000     33*
BIT19                                     EQU  00080000     34*
BIT2                                      EQU  00000004     17* 2042  2351  2366  2386  6542  6753  6925  7274  7727  9562  9783 
                                                         10111 10246 10429 10582 10672 10774 10966 11055 11120 12744 13630 13642 
                                                         13778 13790 14592 14935 16025 16138 16154 16176 17196 17906 17950 17995 
                                                         18380 19270 19729 20124 20730 20775 20776 
BIT20                                     EQU  00100000     35*
BIT21                                     EQU  00200000     36*
BIT22                                     EQU  00400000     37*
BIT23                                     EQU  00800000     38*
BIT24                                     EQU  01000000     39*
BIT25                                     EQU  02000000     40*
BIT26                                     EQU  04000000     41*
BIT27                                     EQU  08000000     42*
BIT28                                     EQU  10000000     43*
BIT29                                     EQU  20000000     44*
BIT3                                      EQU  00000008     18* 2043  2352  2367  2387  6925  7274  7427  7739  8424  8803  9675 
                                                          9691 11157 11430 14592 16014 16205 16683 19374 19729 20097 20680 
BIT30                                     EQU  40000000     45*
BIT31                                     EQU  80000000     46*
BIT4                                      EQU  00000010     19* 2353  2368  2388  6925  7123  7177  7198  7274  7752  9649 11153 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   265

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

                                                         11160 12039 12044 12466 12906 12907 12930 12931 13113 14389 14592 15011 
                                                         15780 16222 16892 17329 18629 18644 19590 19729 20215 
BIT5                                      EQU  00000020     20* 2354  2369  2389  6925  7274  7765 12044 12222 12466 14592 14599 
                                                         15411 15417 15474 15480 15932 16176 16230 16730 16736 19213 19615 
BIT6                                      EQU  00000040     21* 2355  2370  2390  6925  7274  7776 14355 14446 14592 15011 15932 
                                                         15933 16198 16255 17329 17550 17937 18082 18441 19229 19650 
BIT7                                      EQU  00000080     22* 2356  2371  2391  7127  7850  7882 11408 13295 15877 15983 17334 
                                                         17931 18005 18082 18441 18629 19076 19399 19695 
BIT8                                      EQU  00000100     23* 2357  2372  7409  7431 10014 10071 13374 17334 17476 18012 18111 
                                                         18441 19425 
BIT9                                      EQU  00000200     24* 2358  2373  7409 10014 11416 13393 19515 19529 19615 19650 
BRKTST_CHKDTMK_100               P             00002D82  16832 16834*
BRKTST_CTL_050                   P             000028B0  15873 15880*
BRKTST_CTL_090                   P             000028CA  15866 15879 15888 15904*
BRKTST_CTL_100                   P             000028F0  15849 15922*
BRKTST_CTL_150                   P             00002948  15934 15981*
BRKTST_CTL_190                   P             00002958  15966 15997*
BRKTST_CTL_200                   P             0000296C  15928 16010*
BRKTST_CTL_220                   P             0000297C  16016 16024*
BRKTST_CTL_250                   P             00002998  16043 16053*
BRKTST_CTL_260                   P             000029B8  16063 16079*
BRKTST_CTL_290                   P             000029DA  16045 16061 16071 16086 16088 16103*
BRKTST_CTL_300                   P             000029F0  16030 16116*
BRKTST_CTL_350                   P             00002A24  16129 16151*
BRKTST_CTL_360                   P             00002A36  16156 16166*
BRKTST_CTL_390                   P             00002A46  16141 16164 16178*
BRKTST_CTL_400                   P             00002A5C  16027 16194*
BRKTST_CTL_450                   P             00002A7E  16218 16226*
BRKTST_CTL_490                   P             00002A86  16200 16224 16233*
BRKTST_CTL_500                   P             00002A98  16018 16246*
BRKTST_CTL_900                   P             00002AB8  15906 15999 16105 16180 16235 16258 16270*
BRKTST_CTL_950                   P             00002AE0  16292 16299*
BRKTST_INPUTMK_100               P             00002B5C  16377 16383 16394 16416*
BRKTST_INPUTMK_200               P             00002B66  16406 16423*
BRKTST_MOD_CF_END                P             00002B0C  16346 16349*
BRKTST_RDYCHK_END                P             00002C50  16602 16619*
BRKTST_RDYCHK_OFF                P             00002C48  16523 16529 16581 16612*
BRKTST_RDYCHK_ON                 P             00002C2C  16583 16591*
BRKTST_RDYCHK_START_WAIT         P             00002C4E  16556 16617*
BRKTST_RDYCK_0198                P             00002BEE  16549 16554*
BRKTST_RDYCK_0200                P             00002C18  16512 16574*
BRKTST_RDY_SFTY_MASK2CHK055      P             00002B90  16464 16478*
BRKTST_RDY_SFTY_MASK2CHK060      P             00002BAC  16484 16499*
BRKTST_RDY_SFTY_MASK2CHK100      P             00002BB2  16471 16491 16504*
BRKTST_SPDCHK_100                P             00002DD2  16887 16895*
BRKTST_STOPSIG_MK300             P             00002E28  16950 16965 16977*
BRKTST_STR_POW_100               P             00002D0E  16765 16778*
BRK_RDY_ON_CF_998                P             00002E5C  17024*
BRK_RDY_ON_CF_999                P             00002E70  17009 17015 17021 17036*
BRK_RDY_ON_CF_EXT                P             00002E72  17027 17038*
BTTN_DRVSEP_CHK_CLR              P             00000E64   9564  9574*
BTTN_DRVSEP_CHK_END              P             00000E6A   9558  9578*
BTTN_START_CK100                 P             00000E7E   9600  9610*
BTTN_START_CK150                 P             00000EA8   9617  9633*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   266

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BTTN_START_CK180                 P             00000EBA   9642  9652*
BTTN_START_CK190                 P             00000ECC   9651  9665*
BTTN_START_CK192                 P             00000EEC   9670  9686*
BTTN_START_CK195                 P             00000EF6   9679  9694*
BTTN_START_CK200                 P             00000F10   9701  9712*
BTTN_START_CK220                 P             00000F12   9620  9655  9714*
BTTN_START_CK300                 P             00000F16   9703  9719*
BTTN_START_CK320                 P             00000F54   9750  9756  9778*
BTTN_START_CK350                 P             00000F80   9785  9813*
BTTN_START_CK550                 P             00000F90   9766  9794  9803  9827*
BTTN_START_CK570                 P             00000F96   9566  9764  9820  9832*
BTTN_START_CK599                 P             00000F9C   9724  9801  9818  9837*
BTTN_START_CKEXT                 P             00000F9E   9830  9835  9839*
CMPAB_NEAR_END_PC_100            P             00001F28  13584 13601*
CMPAB_NEAR_END_PC_200            P             00001F50  13605 13628*
CMPAB_NEAR_END_PC_ED             P             00001F72  13647 13655*
CMPAB_NEAR_END_PC_NG             P             00001F70  13592 13612 13621 13640 13653*
CMPAB_NEAR_END_PC_OK             P             00001F66  13632 13644*
CNT_SPM_DSPCK050                 P             00001EF0  13517 13522 13528*
CONT_LOT_CHK050                  P             00001CB0  12982 12985*
CONT_MD_CHK050                   P             00001E40  13377 13391*
CONT_MD_CHK100                   P             00001E4A  13362 13370 13381 13396 13399*
CTRL_UP_HOLD_CK_200              P             00001A20  12182 12197*
CTRL_UP_HOLD_CK_300              P             00001A28  12200 12206*
CTRL_UP_HOLD_CK_400              P             00001A34  12184 12202 12209 12218*
CTRL_UP_HOLD_CK_700              P             00001A48  12213 12226 12233*
CTRL_UP_HOLD_CK_END              P             00001A50  12159 12215 12224 12228 12246*
CTRL_UP_HOLD_CK_ST00             P             0000195C  12007 12022*
CTRL_UP_HOLD_CK_ST20             P             0000196C  12027 12035*
CTRL_UP_HOLD_CK_ST40             P             0000197C  12041 12046*
CTRL_UP_HOLD_CK_ST50             P             00001998  12068 12079*
CTRL_UP_HOLD_CK_STAA             P             0000194E  12001 12008*
CTRL_UP_HOLD_CK_ST_EXT           P             000019A0  12010 12029 12053 12077 12093*
CTRL_UP_LOT_CK_200               P             00001D88  13174 13188*
CTRL_UP_LOT_CK_300               P             00001D90  13191 13197*
CTRL_UP_LOT_CK_400               P             00001D9C  13193 13200 13210*
CTRL_UP_LOT_CK_700               P             00001DA4  13204 13213 13217*
CTRL_UP_LOT_CK_END               P             00001DAC  13150 13176 13206 13215 13227*
CW_CCW_ESTEPTMCHK_010            P             000018EC  11905 11913*
CW_CCW_ESTEPTMCHK_100            P             00001916  11940 11942 11946 11949*
CW_CCW_ESTEPTMCHK_200            P             00001922  11953 11955 11960*
CW_CCW_ESTEPTMCHK_LOP            P             00001900  11932*11964 
CW_CCW_ESTEPTMCHK_LOPEND         P             00001934  11907 11935 11971*
CW_CCW_ESTEPTMCHK_START          P             000018DC  11896 11900*
CW_CCW_ESTEP_LOP000              P             00001884  11821*11891 
CW_CCW_ESTEP_LOP050              P             00001892  11828 11831*
CW_CCW_ESTEP_LOP150              P             000018B4  11838 11856*
CW_CCW_ESTEP_LOP300              P             000018C0  11835 11870*
CW_CCW_ESTEP_LOP320              P             000018C6  11873 11876*
CW_CCW_ESTEP_LOP340              P             000018CC  11880 11884*
CW_CCW_ESTEP_LOP400              P             000018CE  11843 11847 11860 11864 11886*
CW_CCW_ESTEP_LOPEND              P             000018D8  11824 11894*
DEBUG_CMPERR_STSMK10             P             00000652   7705  7707*
DEBUG_CMPERR_STSMK100            P             00000684   7764  7766*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   267

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DEBUG_CMPERR_STSMK150            P             0000068E   7775  7777*
DEBUG_CMPERR_STSMK20             P             0000065C   7713  7715*
DEBUG_CMPERR_STSMK40             P             00000666   7726  7728*
DEBUG_CMPERR_STSMK60             P             00000670   7738  7740*
DEBUG_CMPERR_STSMK80             P             0000067A   7751  7753*
DNMOBJ_ARASIG2_100               P             00003DC8  20295 20311*
DNMOBJ_ARASIG2_120_SET           P             00003DDC  20297 20323*
DNMOBJ_ARASIG2_150               P             00003DFC  20270 20276 20282 20322 20341*
DNMOBJ_ARASIG2_200               P             00003E04  20331 20349*
DRV_START_ININW1_050             P             00001EB4  13449 13471*
DRV_START_ININW1_100             P             00001EBA  13459 13475*
DRV_START_KEP_WAIT_100           P             00002620  15140 15147 15163*
DRV_START_KEP_WAIT_END           P             00002646  15181 15186 15197*
DRV_START_KEP_WAIT_NON           P             00002630  15134 15178*
DRV_START_KEP_WAIT_START         P             0000263E  15171 15192*
DRV_START_KEP_WAIT_USE           P             00002636  15153 15168 15183*
EP_SENCER_CK020                  P             00003778  19000 19011*
EP_SENCER_CK030                  P             00003788  19016 19025*
EP_SENCER_CK040                  P             000037A4  19033 19046*
EP_SENCER_CK050                  P             000037D0  18994 19075*
EP_SENCER_CK100                  P             000037D8  19078 19084*
EP_SENCER_CK150                  P             000037FC  19102 19112*
EP_SENCER_CK200                  P             0000380C  19119 19128*
EP_SENCER_CK800                  P             00003B10  19018 19686 19693*
EP_SENCER_CK900                  P             00003B2C  19039 19104 19274 19378 19594 19715*
EP_SENCER_CK950                  P             00003B48  19704 19737*
EP_SENCER_CKEND                  P             00003B52  19065 19080 19121 19193 19250 19284 19310 19359 19387 19411 19437 19492 
                                                         19550 19577 19603 19636 19672 19745*
EP_SENCER_CKEXT                  P             00003B5A  19002 19751*
EP_STEP_ENDSIG                   P             00003B0C  19684*
EP_STEP_ENDSIG_A                 P             00003A98  18954 19611*
EP_STEP_ENDSIG_B                 P             00003AD0  18962 19646*
EP_STEP_EPSENSIG_A               P             00003968  18951 19395*
EP_STEP_EPSENSIG_B               P             00003994  18959 19421*
EP_STEP_RESETON_COM              P             00003A10  18953 18961 19510*
EP_STEP_RESET_100                P             000039E0  19456 19472*
EP_STEP_RESET_COM_150            P             00003A58  19541 19562*
EP_STEP_RESET_COM_170            P             00003A80  19568 19586*
EP_STEP_RESET_COM_190            P             00003A94  19523 19601*
EP_STEP_RESET_DATSET1            P             000039C0  18952 18960 19451*
EP_STEP_RESET_DATSET_COM         P             000039E8  19464 19479*
EP_STEP_USE_RY_A                 P             0000387C  18948 19209*
EP_STEP_USE_RY_B                 P             00003890  18956 19225*
EP_STEP_USE_RY_COM               P             0000389A  19217 19232*
EP_STEP_USE_RY_COM_150           P             000038C0  19241 19260*
EP_STEP_USE_RY_COM_190           P             000038E0  19265 19282*
EP_STEP_USE_RY_DATSETCOM         P             00003854  19166 19180*
EP_STEP_USE_RY_DATSET_A          P             00003838  18947 19159*
EP_STEP_USE_RY_DATSET_B          P             0000384C  18955 19173*
EP_STEP_VALVON_COM               P             00003914  18950 18958 19326*
EP_STEP_VALVON_DATSET            P             000038E4  18949 18957 19292*
EP_STEP_VALV_COM_150             P             00003950  19350 19369*
EP_STEP_VALV_COM_190             P             00003964  19336 19385*
EP_STEP_XX                       P             00003B10  18963 18964 18965 18966 18967 18968 18969 18970 18971 18972 18973 18974 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   268

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

                                                         18975 18976 18977 18978 18979 19690*
EXQ_PROC_STEPRECOVER_100         P             00003C70  19979 19982 20004*
EXQ_PROC_STEPRECOVER_150         P             00003C94  20010 20029*
EXQ_PROC_STEPRECOVER_180         P             00003CA0  20021 20038*
EXQ_PROC_STEPRECOVER_200         P             00003CD4  19967 20076*
EXQ_PROC_STEPRECOVER_250         P             00003D08  20089 20114*
EXQ_PROC_STEPRECOVER_END         P             00003D1C  20057 20071 20082 20103 20132*
EXQ_PROC_STEPRECOVER_END1        P             00003CD0  19903 19911 19917 19963 19973 19984 20069*
EXT_DRVBTTN_INFO_MK100           P             00002EE8  17150 17160 17164*
EXT_DRVBTTN_INFO_MK200           P             00002F18  17176 17192*
EXT_DRVBTTN_INFO_MK300           P             00002F26  17195 17204*
EXT_DRVBTTN_INFO_MK400           P             00002F28  17179 17198 17208*
EXT_DRVBTTN_INFO_MK410           P             00002F3A  17218 17224*
EXT_DRVBTTN_INFO_MK420           P             00002F54  17223 17240*
EXT_DRVBTTN_INFO_MK450           P             00002F68  17245 17255*
EXT_DRVBTTN_INFO_MK500           P             00002F7A  17230 17249 17269*
EXT_DRVBTTN_MOD100               P             00002EA4  17103 17105*
EXT_DRVBTTN_MODJG_CF300          P             00002FE0  17312 17320 17332 17337 17344 17362*
EXT_DRVBTTN_MODJG_CF500          P             00002FE2  17303 17326 17346 17364*
EXT_DRVBTTN_MODJG_CF700          P             00002FF6  17373 17382*
EXT_DRVBTTN_MOD_END              P             00002EB0  17084 17115*
HOLD1_DNSTARTPOSCK100            P             0000321C  17846 17852 17866*
HOLD1_DNSTARTPOSCK200            P             00003222  17858 17871*
H_BYTE                                    EQU  00000000     82*
INC_RSTDAT_CHK230                P             000036C0  18882 18887 18892*
INC_RSTMODECK020                 P             00003568  18609 18618*
INC_RSTMODECK100                 P             00003584  18625 18641*
INC_RSTMODECK200                 P             0000358C  18633 18649*
INC_RSTMODECK240                 P             000035F0  18694 18719*
INC_RSTMODECK260                 P             000035FA  18703 18727*
INC_RSTMODECK280                 P             0000360C  18689 18705 18726 18736 18740*
INC_RSTMODECK290                 P             00003648  18752 18779*
INC_RSTMODECK300                 P             00003658  18745 18758 18765 18785 18793*
INC_RSTMODECK490                 P             00003674  18631 18646 18680 18814*
INC_RSTMODECK499                 P             00003676  18611 18816*
INC_RSTMODECK500                 P             00003678  18803 18818*
INC_SPEC_RSTCK100                P             000036A0  18838 18844 18856*
INC_SPEC_RSTCK200                P             000036A2  18848 18858*
JMP0100001                       P             00002698  15376 15395*
JMP0100002                       P             000026E8  15442 15459*
JMP0100003                       P             000035C8  18700 18702*
JMP0100004                       P             000035F8  18723 18725*
JMP0200001                       P             000026A4  15380 15382 15385 15398 15400 15402*
JMP0200002                       P             000026F4  15446 15448 15451 15462 15464 15466*
JMP10000000                      P             00001F9C  13732 13748*
JMP20000000                      P             00001FC4  13752 13776*
JMP_0100005                      P             000037E4  19090 19093*
JMP_0100006                      P             00003818  19133 19136*
JMP_ED00000                      P             00001FE6  13795 13803*
JMP_NG00000                      P             00001FE4  13740 13760 13769 13788 13801*
JMP_OK00000                      P             00001FDA  13780 13792*
LOT_CNTCNT_050                   P             00001C70  12908 12918*
LOT_CNTCNT_080                   P             00001C84  12932 12941*
LOT_CNTCNT_200                   P             00001CB2  12877 12910 12934 12948 12957 12989*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   269

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

L_BYTE                                    EQU  00000001     81*
MASK2_SFYSTP400                  P             000027C0  15613 15643*
MASK2_SFYSTP500                  P             000027C6  15607 15626 15648*
MASK2_SFYSTP600                  P             000027C8  15630 15650*
MASK2_SFYSTPEXT                  P             000027CC  15654*
MODE_CCC_STOPCHK                 P             0000130C  10650 10661*
MODE_CCC_STPCMP_120              P             00001328  10674 10680*
MODE_CCS_STPCMP_105              P             00001398  10720 10758*
MODE_CCS_STPCMP_120              P             000013A6  10776 10782*
MODE_CCS_STPCMP_140              P             00001408  10789 10836*
MODE_CCS_STPCMP_145              P             00001410  10795 10802 10816 10844*
MODE_CCS_STPCMP_200              P             00001460  10818 10841 10911*
MODE_CCS_STPCMP_250              P             00001476  10936 10944*
MODE_CCS_STPCMP_270              P             0000147E  10950*
MODE_CCS_STPCMP_280              P             0000147E  10963*
MODE_CCS_STPCMP_300              P             0000148C  10744 10855 10896 10942 10968 10976*
MODE_CHG_050                     P             00000456   7278  7280*
MODE_CHG_080                     P             00000480   7297  7315*
MODE_CHG_080_SGL                 P             000004C4   7325  7380*
MODE_CHG_080_SNG                 P             000004CE   7330  7390*
MODE_CHG_100                     P             000004DC   7288  7402*
MODE_CHG_150                     P             000004F4   7405  7420*
MODE_CHG_200                     P             00000514   7423  7443*
MODE_CHG_800                     P             00000516   7284  7302  7362  7373  7384  7395  7413  7430  7434  7445*
MODE_CHG_EXT                     P             0000051A   7448*
MODE_CHG_OPT050                  P             000004B0   7341  7346  7358*
MODE_CHG_OPT090                  P             000004BA   7336  7348  7369*
MODE_CNTCNF1_STPCHK_210          P             000011C0  10352 10362*
MODE_CNTCNF1_STPCHK_220          P             000011C8  10356 10369*
MODE_CNTCNF1_STPCHK_250          P             000011D0  10368 10378*
MODE_CNTCOM1_STPCMP_100          P             00001184  10292 10300 10308 10316*
MODE_CNTCOM2_STPCHK_280          P             00001208  10415 10425*
MODE_CNTCOM2_STPCHK_300          P             00001216  10407 10417 10431 10438*
MODE_CNT_STPCHK_050              P             00001084  10074 10086*
MODE_CNT_STPCHK_080              P             0000108E  10078 10103*
MODE_CNT_STPCHK_120              P             00001068  10025 10068*
MODE_CNT_STPCHK_150              P             000010A2  10046 10134*
MODE_CNT_STPCHK_199              P             000010D4  10017 10106 10165*
MODE_CNT_STPCHK_200              P             000010DA  10035 10170*
MODE_CNT_STPCHK_210              P             000010F4  10177 10189*
MODE_CNT_STPCHK_220              P             00001104  10181 10209*
MODE_CNT_STPCHK_250              P             0000110C  10195 10206 10215*
MODE_CNT_STPCHK_280              P             0000113C  10229 10242*
MODE_CNT_STPCHK_300              P             0000114A  10113 10124 10153 10221 10231 10248 10257*
MODE_CNT_STPCMP_100              P             0000100C   9958  9966  9974  9981*
MODE_CSS_STOPCHK_START           P             00001348  10652 10705*
MODE_CSS_STOPCK1000              P             0000148C  10690 10978*
MODE_CTL_100                     P             00000550   7505  7514*
MODE_CTL_ET900                   P             000005CA   7561  7567  7602  7627*
MODE_CTL_EXIT                    P             000005DE   7507  7546  7555  7585  7593  7635  7647*
MODE_DUP_STPCHK100               P             00001568  11116 11149*
MODE_DUP_STPCHK200               P             00001584  11122 11139 11155 11159 11173*
MODE_INC_STPCHK_000              P             000014EC  11008 11025 11052*
MODE_INC_STPCHK_050              P             000014FE  11006 11033 11042 11071*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   270

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

MODE_INC_STPCHK_100              P             00001510  11040 11057 11067 11091*
MODE_SGL_STPCHK_050              P             00001264  10497 10511*
MODE_SGL_STPCHK_080              P             000012A4  10526 10558*
MODE_SGL_STPCHK_100              P             000012B4  10516 10571*
MODE_SGL_STPCHK_150              P             000012C6  10547 10597*
MODE_SGL_STPCHK_200              P             000012D8  10503 10564 10584 10594 10617*
NBIT0                                     EQU  000000FE     49*
NBIT1                                     EQU  000000FD     50*
NBIT10                                    EQU  0000FBFF     60*
NBIT11                                    EQU  0000F7FF     61*
NBIT12                                    EQU  0000EFFF     62*
NBIT13                                    EQU  0000DFFF     63*
NBIT14                                    EQU  0000BFFF     64*
NBIT15                                    EQU  00007FFF     65*
NBIT2                                     EQU  000000FB     51*
NBIT3                                     EQU  000000F7     52*
NBIT4                                     EQU  000000EF     53*
NBIT5                                     EQU  000000DF     54*
NBIT6                                     EQU  000000BF     55*
NBIT7                                     EQU  0000007F     56*
NBIT8                                     EQU  0000FEFF     58*
NBIT9                                     EQU  0000FDFF     59*
NEWMASK_SELSTOPCHK400            P             00001B46  12545 12567*
NEWMASK_SELSTOPCHK500            P             00001B64  12552 12558 12564 12584*
NEWMASK_SELSTOPCHKEND            P             00001B6A  12573 12589*
NZ_TIM_CK1_100                   P             0000243A  14686 14692 14695*
NZ_TIM_CK1_200                   P             0000244E  14701 14707 14710*
OPT_SGL_SFTY_MASKCHK_080         P             00001C14  12760 12781*
OPT_SGL_SFTY_MASKCHK_100         P             00001C24  12753 12799*
OPT_SGL_SFTY_MASKCHK_400         P             00001C40  12769 12789 12817 12823 12833*
OPT_SGL_SFTY_MASKCHK_500         P             00001C46  12739 12746 12767 12791 12825 12840*
OPT_SGL_SFTY_MASKCHK_END         P             00001C48  12836 12842*
ORGIN_180CK_100                  P             000026CC  15406 15437*
ORGIN_180CK_200                  P             0000271C  15469 15494*
ORGIN_180CK_300                  P             0000271C  15427 15484 15504*
ORGIN_MODE_SEL_ST090             P             000024F8  14877 14879*
ORGIN_MODE_SEL_STEND             P             000024FC  14869 14882*
ORGIN_MODE_SEL_WT090             P             00002486  14775 14777*
ORGIN_MODE_SEL_WT100             P             000024A4  14767 14795*
ORGIN_MODE_SEL_WTEND             P             000024B4  14740 14782 14800 14810*
ORGIN_MODE_START_WT10            P             000008C8   8234  8244*
ORGIN_MODE_ST_WT100              P             0000255C  14929 14955*
ORGIN_MODE_ST_WTEND              P             0000257A  14971 14976 14981*
ORGIN_MODE_ST_WT_NOT             P             00002578  14917 14923 14979*
ORGIN_MODE_ST_WT_START           P             0000256C  14943 14960 14968*
ORGIN_MODE_ST_WT_WAIT            P             00002572  14937 14973*
P                                P        SCT  00000000   6045*
POSCAN_PROCSTEPRECOVER_100       P             00003F1C  20598 20601 20621*
POSCAN_PROCSTEPRECOVER_200       P             00003F5C  20586 20667*
POSCAN_PROCSTEPRECOVER_250       P             00003F84  20672 20696*
POSCAN_PROCSTEPRECOVER_END       P             00003FAA  20648 20662 20686 20720 20737*
POSCAN_PROCSTEPRECOVER_END1      P             00003F58  20532 20538 20582 20592 20603 20660*
POSCTRL_CANSEL_RST_EXT           P             00003E86  20450 20457 20464 20474 20482*
POSHLD1_SIGCHK_100               P             00003380  18120 18132*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   271

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POSHLD1_SIGCHK_200               P             00003386  18114 18124 18137*
POSHLD1_SIGCHK_300               P             000033AC  18153 18165*
POSHLD1_SIGCHK_400               P             000033B2  18147 18157 18170*
POSHLD1_STEP1_STOP100            P             00003030  17452 17465*
POSHLD1_STEP1_STOP150            P             0000307C  17472 17501 17516*
POSHLD1_STEP1_STOPEXT            P             000030DE  17572 17578 17583*
POSHLD1_STEP1_STOPNO             P             000030D0  17479 17486 17492 17503 17569*
POSHLD1_STEP1_STOPSTOP           P             000030DC  17581*
POSHLD1_STEP1_STOPWAIT           P             000030D6  17454 17555 17575*
POSHLD1_STEP2_START100           P             00003274  17912 17943*
POSHLD1_STEP2_START110           P             0000329C  17952 17968*
POSHLD1_STEP2_START200           P             000032A8  17954 17981*
POSHLD1_STEP2_START500           P             00003308  17976 18038*
POSHLD1_STEP2_STARTEXT           P             0000331A  17904 17908 17989 18022 18053*
POSHLD1_STOPBTTNCMDCK_050        P             000030F6  17606 17612*
POSHLD1_STOPBTTNCMDCK_100        P             000030FE  17611 17618*
POSHLD1_STOPCONF_100             P             00003128  17645 17654*
POSHLD1_STOPCONF_200LOP          P             00003134  17665*17814 
POSHLD1_STOPCONF_300             P             000031D0  17693 17798*
POSHLD1_STOPCONF_350             P             000031D4  17742 17803*
POSHLD1_STOPCONF_400             P             000031D8  17675 17739 17749 17769 17800 17807*
POSHLD1_STOPCONF_499             P             000031E4  17812 17817*
POSHLD1_STOPCONF_500             P             000031E6  17671 17819*
POSHLD1_STOPCONF_STOPEND         P             000031EE  17823 17829*
POSHLD1_STOPCONF_STOPNO          P             000031E6  17686 17820*
POSHLD1_STOPCONF_STOPSTOP        P             000031EC  17757 17826*
POS_CANSEL_STPCHK_END            P             000015E6  11241 11255*
POS_CANSEL_STPCHK_MOV            P             000015E4  11211 11253*
RDY_CHK_0030                     P             00000884   8176  8187*
RDY_CHK_0050                     P             00000888   8170  8192*
RDY_CHK_0060                     P             000008A4   8204  8214*
RDY_CHK_0070                     P             000008CC   8232  8249*
RDY_CHK_0120                     P             00000960   8391  8401*
RDY_CHK_0150                     P             000009A8   8515  8524*
RDY_CHK_0198                     P             000009CA   8543  8548*
RDY_CHK_0199                     P             00000A0C   8474  8490  8522  8575*
RDY_CHK_0200                     P             00000A24   8393  8597*
RDY_CHK_0200_START               P             00000AF4   8752  8786*
RDY_CHK_0200_START_WAIT          P             00000AC4   8206  8739*
RDY_CHK_0200_START_WT2           P             00000AF0   8760  8771  8781*
RDY_CHK_0220                     P             00000A94   8110  8236  8656  8683  8704*
RDY_CHK_0280                     P             00000A78   8645  8668*
RDY_CHK_0290                     P             00000BAC   8695  8939*
RDY_CHK_0290A                    P             00000A8C   8629  8647  8693*
RDY_CHK_0299                     P             00000BC0   8700  8773  8946  8956*
RDY_CHK_0299A                    P             00000A90   8613  8631  8698*
RDY_CHK_0399                     P             00000BD8   8246  8685  8728  8783  8913  8948  8976*
RDY_CHK_0500                     P             00000BEC   8189  8993*
RDY_CHK_0505                     P             00000C14   9018  9028*
RDY_CHK_0510                     P             00000C28   9040  9048*
RDY_CHK_0520                     P             00000C38   9055  9063*
RDY_CHK_0525                     P             00000C48   9070  9077*
RDY_CHK_0530                     P             00000C6C   9094  9110*
RDY_CHK_0600                     P             00000C7C   9089  9122*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   272

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

RDY_CHK_0650                     P             00000C90   9126  9139*
RDY_CHK_0700                     P             00000CCC   9143  9202*
RDY_CHK_0750                     P             00000CE8   9206  9222*
RDY_CHK_0950                     P             00000CFC   9226  9238*
RDY_CHK_1000                     P             00000D02   8131  9020  9042  9057  9072  9101  9116  9132  9192  9216  9232  9248*
RDY_CHK_1200                     P             00000D34   8138  8178  9279*
RDY_CHK_CYCL_END                 P             00000D54   9292  9302*
RDY_CHK_END_COM                  P             00000D72   9294  9310  9316  9333*
RDY_CHK_EXIT                     P             00000DA0   8143  8550  8586  8978  9259  9269  9286  9367  9374*
RDY_HOLDCHK_0100                 P             000007A0   8001  8023*
RDY_HOLDCHK_0200                 P             000007D8   8026  8064*
RDY_HOLDCHK_1000                 P             0000083C   8015  8037  8124*
RDY_HOLDCHK_1200                 P             0000084C   8129  8136*
RDY_HOLDCHK_1999                 P             00000850   8045  8053  8079  8087  8100  8141*
RDY_HOLDCHK_END                  P             00000854   8007  8146*
RDY_ON_CF_998                    P             00000E16   9441  9469*
RDY_ON_CF_999                    P             00000E3C   9414  9427  9454  9487*
RDY_ON_CF_EXT                    P             00000E3E   9472  9489*
RDY_SFTY_MASK2CHK050             P             000008F4   8294  8322*
RDY_SFTY_MASK2CHK055             P             00000928   8337  8358*
RDY_SFTY_MASK2CHK060             P             00000944   8364  8378*
RDY_SFTY_MASK2CHK100             P             0000094A   8344  8371  8383*
RECOVER_WAIT_AREACHK_100         P             00003D54  20182 20212*
RECOVER_WAIT_AREACHK_200         P             00003D64  20193 20217 20226*
RECOVER_WAIT_AREACHK_END         P             00003D66  20205 20219 20228*
RESET_CHK_100                    P             0000003E   6452  6470*
RESET_CHK_200                    P             00000058   6477  6494*
RESET_CHK_250                    P             00000074   6508  6515*
RESET_CHK_300                    P             000000AC   6499  6537*
RESET_CHK_305                    P             000000B4   6544  6549*
RESET_CHK_305A                   P             000000BC   6555  6559*
RESET_CHK_325                    P             00000106   6591  6618*
RESET_CHK_330                    P             00000138   6617  6636*
RESET_CHK_350                    P             000001B0   6682  6720*
RESET_CHK_399                    P             000001B6   6701  6727*
RESET_CHK_400                    P             000001C8   6557  6741*
RESET_CHK_500                    P             00000208   6546  6782*
RESET_CHK_EXT                    P             00000260   6517  6620  6733  6747  6768  6787  6856*
RNA_ERR_RSTCKEXT                 P             00002760  15555 15561 15566 15574*
RNA_SCIF_ERRCLR1_050             P             00002594  15013 15028*
RNA_SCIF_ERRCLR1_100             P             000025AC  15021 15045*
RNA_SCIF_ERRCLR1_200             P             000025B2  15038 15052*
ROT_CNTMODCHK_100                P             00004004  20758 20764 20770 20777 20784 20798*
ROT_CNTMODCHK_200                P             0000400A  20786 20804*
ROT_CNTMODCHK_END                P             0000400C  20801 20806*
RST_CONFCK_005                   P             000002D4   6920  6930*
RST_CONFCK_010                   P             000002E4   6910  6916  6929  6940*
RST_CONFCK_015_OK                P             00000332   6985  7008*
RST_CONFCK_020                   P             00000358   6991  7028*
RST_CONFCK_050                   P             0000036C   7058*
RST_CONFCK_055                   P             000003B4   7092  7110*
RST_CONFCK_060                   P             000003E0   7129  7145*
RST_CONFCK_080                   P             00000400   7119  7174*
RST_CONFCK_BRK100                P             0000041C   7075  7195*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   273

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

RST_CONFCK_END                   P             00000440   7220  7224*
RST_CONFCK_NG                    P             00000438   6932  7135  7166  7186  7207  7217*
RST_CONFCK_NG70                  P             000003F0   6952  6959  6973  7002  7039  7160*
RST_CONFCK_OK                    P             0000043E   7010  7063  7094  7125  7151  7179  7200  7222*
RST_MOD_POSEND_100               P             00001792  11620*
RST_MOD_POSEND_200               P             0000179A  11626*
SELF_FORCE_POW_100               P             00000FC0   9866  9879*
SET_NZ_TIMDT_010                 P             000023F8  14643 14645*
SET_NZ_TIMDT_020                 P             00002406  14653 14655*
SFTY_MASK_ED_100                 P             00001BB0  12643 12656*
SFTY_MASK_ED_200                 P             00001BBE  12649 12665*
SFTY_MUTING_MODER_100            P             0000283C  15714 15722 15743*
SFTY_MUTING_MODER_200            P             00002858  15753 15759 15769*
SFTY_MUTING_MODER_EXT            P             00002872  15704 15730 15761 15775 15789*
SGL_UP_HOLD_MASK050              P             00000CB4   9166  9190*
STEP_SIG_DSP020                  P             00002204  14222 14227*
STEP_SIG_DSP200                  P             0000221C  14199 14232 14278*
STEP_SIG_DSP300                  P             00002228  14285 14288*
STOPPING_TIM_CK050               P             000022FC  14448 14458*
STOPPING_TIM_CK080               P             00002304  14461 14465*
STOPPING_TIM_CK100               P             00002336  14500 14502*
STOPPING_TIM_CK120               P             00002344  14505 14514*
STOPPING_TIM_CK200               P             0000236C  14520 14536*
STOPPING_TIM_CK250               P             0000237C  14546 14548*
STOPPING_TIM_CK400               P             00002394  14513 14565*
STOPPING_TIM_CK600               P             000023AC  14555 14587*
STOPPING_TIM_CK900               P             000023BE  14450 14463 14524 14576 14603*
STOPPING_TIM_STOPINI_100         P             000022A8  14357 14406*
SV_UP_HLDCHK_0050                P             000017D4  11661 11671*
SV_UP_HLDCHK_0100                P             000017E4  11676 11684*
SV_UP_HLDCHK_0190                P             00001804  11678 11703*
SV_UP_HLDCHK_0200                P             0000180C  11706 11712*
SV_UP_HLDCHK_0290                P             00001810  11708 11725*
SV_UP_HLDCHK_0295                P             00001814  11714 11729*
SV_UP_HLDCHK_0300                P             0000183C  11728 11753*
SV_UP_HLDCHK_0900                P             0000184E  11664 11694 11742 11764*
UP_HOLD_ARA_MASK480              P             00001ADC  12405 12415*
UP_HOLD_ARA_MASK500              P             00001AE4  12364 12367 12387 12412 12424*
UP_HOLD_MASKSPDCHK_COM           P             00001A90  12299 12313*
UP_HOLD_MASKSPDCHK_END           P             00001AAE  12333 12343*
UP_HOLD_MASKSPDCHK_FWD           P             00001A76  12277 12294*
UP_HOLD_MASKSPDCHK_NG            P             00001AAC  12285 12297 12311 12322 12341*
UP_HOLD_MASKSPDCHK_REV           P             00001A8C  12281 12292 12308*
UP_HOLD_MASKSPDCHK_STR           P             00001A9C  12330*
XBIT0                                     EQU  00000000     68*
XBIT1                                     EQU  00000001     69*
XBIT2                                     EQU  00000002     70*
XBIT3                                     EQU  00000003     71*
XBIT4                                     EQU  00000004     72*
XBIT5                                     EQU  00000005     73*
XBIT6                                     EQU  00000006     74*
XBIT7                                     EQU  00000007     75*
_ABS_ENC_PLS_SPD                          IMPT 00000000   3442 16882 
_ABS_OUT_PLS_SPD                          IMPT 00000000   3452 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   274

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACCERR_ACC_HENSA                         IMPT 00000000   4459 
_ACCERR_ACC_OBJ                           IMPT 00000000   4458 
_ACCERR_ACC_PV                            IMPT 00000000   4457 
_ACCERR_DLY_PV_TIM                        IMPT 00000000   4468 
_ACCERR_ERR_CNT                           IMPT 00000000   4460 
_ACCESS_ERR1                              IMPT 00000000   3538 
_ACCLW_CALC_FLG                           IMPT 00000000   5401 
_ACCLW_GEN_MAX_LNG                        IMPT 00000000   5410 
_ACCLW_GET_SET_SPD                        IMPT 00000000   5407 
_ACCLW_GET_STEP_NO                        IMPT 00000000   5406 
_ACCLW_OUT_SET_SPD                        IMPT 00000000   5408 
_ACCLW_REAL_SPD1MS                        IMPT 00000000   5396 
_ACCLW_SET_SPD                            IMPT 00000000   5395 
_ACCLW_USE_CONF                           IMPT 00000000   5397 
_ACCST_ACC_MATH_SEL                       IMPT 00000000   5427 
_ACCST_CALC_FLG                           IMPT 00000000   5422 
_ACCST_GEN_MAX_LNG                        IMPT 00000000   5433 
_ACCST_GET_SET_SPD                        IMPT 00000000   5431 
_ACCST_GET_STEP_NO                        IMPT 00000000   5426 
_ACCST_OUT_SET_SPD                        IMPT 00000000   5432 
_ACCST_REAL_SPD1MS                        IMPT 00000000   5420 
_ACCST_SET_SPD                            IMPT 00000000   5419 
_ACCST_USE_CONF                           IMPT 00000000   5421 
_ACC_MONITOR_DAT1                         IMPT 00000000   4271 
_ACC_MONITOR_DAT2                         IMPT 00000000   4272 
_ACC_MONITOR_DAT3                         IMPT 00000000   4273 
_ACC_MONITOR_DAT4                         IMPT 00000000   4274 
_ACC_MONITOR_DAT5                         IMPT 00000000   4275 
_ACC_MONITOR_DAT6                         IMPT 00000000   4276 
_ACC_MONITOR_DAT7                         IMPT 00000000   4277 
_ACC_MONITOR_DAT8                         IMPT 00000000   4278 
_ACC_REST_ABS_PLS                         IMPT 00000000   4228 
_ACC_REST_FLG                             IMPT 00000000   4229 
_ANTI_CHEAK                      P             000006B0   7571  7822*
_ANTI_OF                                  IMPT 00000000   6067  7950 
_ANTI_ON                                  IMPT 00000000   6066  7860 
_API_BREAK_VALV_FLG_OF                    IMPT 00000000   6270  9370 11369 
_API_BREAK_VALV_FLG_ON                    IMPT 00000000   6269  8876 16746 
_API_CAM_RST_ON                           IMPT 00000000   6405  6640 
_API_ENDHAND_SIGCHK                       IMPT 00000000   6389 10589 11062 
_API_EXQ_STEP_FLGCLR             P        EXPT 00003E38   6729 20405 20411*
_API_EXQ_STEP_STS_GET            P        EXPT 00003E10  20366 20371*
_API_HOLD_WAIT_BRKOFF_SIG        P             00003434   9362 18326*
_API_X_PRO_SEND_START2                    IMPT 00000000  14998 
_AUTO_OF                                  IMPT 00000000   6069  9345 10042 10533 10727 10846 11268 
_AUTO_ON                                  IMPT 00000000   6068 10167 10344 10499 10560 10928 
_BANK1_CALC_ROT_NUM_ZR                    IMPT 00000000   3685 
_BANK1_LK_END_OBJ_ABSPLS                  IMPT 00000000   3678 
_BANK2_LINK_OBJROT_NUMPLS_ZR              IMPT 00000000   3683 
_BANK2_LINK_OBJROT_NUM_ZR                 IMPT 00000000   3682 
_BANK2_LK_END_OBJ_ABSPLS                  IMPT 00000000   3679 
_BASE_TIM010MS                            IMPT 00000000   2499 
_BASE_TIM100MS                            IMPT 00000000   2500 
_BBN_MESURE_DLY_POINT                     IMPT 00000000   4444 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   275

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BBN_MESURE_DLY_SSPD                      IMPT 00000000   4443 
_BBN_MESURE_POINT                         IMPT 00000000   4438 
_BBN_MESURE_PPOS_BUF                      IMPT 00000000   4428 
_BBN_MESURE_PSPD                          IMPT 00000000   4430 
_BBN_MESURE_PSPD_BUF                      IMPT 00000000   4429 
_BBN_MESURE_SPOS_BUF                      IMPT 00000000   4424 
_BBN_MESURE_SSPD                          IMPT 00000000   4426 
_BBN_MESURE_SSPD_BUF                      IMPT 00000000   4425 
_BBN_MESURE_SSPD_DLYBUF                   IMPT 00000000   4442 
_BBN_MEUSRE_PV_ACC                        IMPT 00000000   4436 
_BBN_MEUSRE_PV_ACC_SRC                    IMPT 00000000   4433 
_BBN_MEUSRE_SV_ACC                        IMPT 00000000   4435 
_BBN_MEUSRE_SV_ACC_SRC                    IMPT 00000000   4432 
_BBN_SET_TIME                             IMPT 00000000   4439 
_BKTMCL_ACCDAT                            IMPT 00000000   4630 
_BKTMCL_ACCDAT_UNIT                       IMPT 00000000   4631 
_BKTMCL_ACCPOINT                          IMPT 00000000   4633 
_BKTMCL_BBNFLT_TIMPV                      IMPT 00000000   4647 
_BKTMCL_BRKSTP_SPD                        IMPT 00000000   4655 
_BKTMCL_BRKSTR_SPD                        IMPT 00000000   4654 
_BKTMCL_BRKSTX_SPD                        IMPT 00000000   4660 
_BKTMCL_BRKSTX_TIMPV                      IMPT 00000000   4661 
_BKTMCL_BRKSTX_TIMSV                      IMPT 00000000   4662 
_BKTMCL_BRK_TIMPV                         IMPT 00000000   4657 
_BKTMCL_BRX_AREA_IN                       IMPT 00000000   4665 
_BKTMCL_BRX_AREA_INLT                     IMPT 00000000   4666 
_BKTMCL_ENC_DIR                           IMPT 00000000   4638 
_BKTMCL_OLD_PLSPOS                        IMPT 00000000   4637 
_BKTMCL_POINTMAX                          IMPT 00000000   4634 
_BKTMCL_SETX_TMDEF                        IMPT 00000000   4649 
_BKTMCL_SPDBUF                            IMPT 00000000   4629 
_BKTMCL_STOP_SPD                          IMPT 00000000   4653 
_BKTMCL_STOP_TIMPV                        IMPT 00000000   4646 
_BKTMCL_TMDEF_PV                          IMPT 00000000   4648 
_BKTMCL_TMSTEP_FLG                        IMPT 00000000   4642 
_BKTMCL_TMSTEP_STS                        IMPT 00000000   4643 
_BKTMCL_TOTAL_TIMPV                       IMPT 00000000   4645 
_BRK1_CAL_DN_ACC                          IMPT 00000000   3431 
_BRK1_CHKDLY_TM                           IMPT 00000000   3419 
_BRK1_GEN_PV_ACCTM                        IMPT 00000000   3427 
_BRK1_GEN_PV_DLYTM                        IMPT 00000000   3426 
_BRK1_GEN_SV_ACCTM                        IMPT 00000000   3425 
_BRK1_GEN_SV_DLYTM                        IMPT 00000000   3424 
_BRK1_GEN_SV_FRQ1                         IMPT 00000000   3422 
_BRK1_GEN_SV_FRQ2                         IMPT 00000000   3423 
_BRK1_SV_DN_ACC                           IMPT 00000000   3430 
_BRK2_CHKDLY_TM                           IMPT 00000000   3420 
_BRK2_SV_DN_ACC                           IMPT 00000000   3432 
_BRKTMCAL_API1_STR                        IMPT 00000000   6366 14328 
_BRKTMCAL_API3_ENDCNF1                    IMPT 00000000   6368 14551 
_BRKTMCAL_API4_ENDCNF2                    IMPT 00000000   6369 14579 
_BRKTMCAL_STG1_STOPINI                    IMPT 00000000   6367 11447 
_BRKTST_AREA_SIG                          IMPT 00000000   4169  7196 
_BRKTST_BAKUP_FLG_PV1                     IMPT 00000000   4179 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   276

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BRKTST_BAKUP_FLG_PV2                     IMPT 00000000   4180 
_BRKTST_BAKUP_FLG_SV1                     IMPT 00000000   4177 
_BRKTST_BAKUP_FLG_SV2                     IMPT 00000000   4178 
_BRKTST_CHKDT_MAK                P             00002D70  16091 16821*
_BRKTST_CHKSPD_PLS                        IMPT 00000000   4159 16849 16884 
_BRKTST_CLNK_UP_POS_DN                    IMPT 00000000   4172 
_BRKTST_CLNK_UP_POS_UP                    IMPT 00000000   4171 
_BRKTST_CTRL                     P             00002888   7518 15833*
_BRKTST_INPUT_CMD                         IMPT 00000000   4162  7071 15862 15924 16125 16397 16418 16972 
_BRKTST_INPUT_MAK                P             00002B1C  15840 16368*
_BRKTST_LINK_UP_POS_DN                    IMPT 00000000   4174 
_BRKTST_LINK_UP_POS_UP                    IMPT 00000000   4173 
_BRKTST_MODE_CONF                P             00002AF8  15883 16159 16326*
_BRKTST_MOD_FLG                           IMPT 00000000   4157  7589 15845 15891 15930 15947 15984 16011 16099 16136 16174 16203 
                                                         16220 16228 16253 16272 16890 
_BRKTST_MOTOR_START              P             00002C8C  16095 16672*
_BRKTST_MOTOR_STOP               P             00002DE4  16132 16249 16917*
_BRKTST_OUTSPD_PLS                        IMPT 00000000   4158 16839 
_BRKTST_POS_START                         IMPT 00000000  16664 16721 
_BRKTST_RDY_CHK                  P             00002B74  16037 16446*
_BRKTST_RDY_OFF_OUT              P             00002C5C  16067 16614 16633*
_BRKTST_SPD_CHK                  P             00002DBC  16119 16878*
_BRKTST_STOPSIG_MAKE             P             00002DF8  16402 16942*
_BRKTST_STP_ABSPLS                        IMPT 00000000   4166 16952 
_BRKTST_STR_FLG                           IMPT 00000000   4167 16420 16946 16967 
_BRKTST_SW_IN                             IMPT 00000000   4168  6906 11997 16390 20278 
_BRK_CHK_COM                              IMPT 00000000   3416 
_BRK_CHK_FLG                              IMPT 00000000   3417 
_BRK_ERR_WORK_CLR1                        IMPT 00000000   6241  8724 10138 10600 10732 10876 11074 11124 11224 11454 17525 
_BRK_RDYON_CONF1                 P             00002E40  16518 16576 17000*
_BTTN_FLG                                 IMPT 00000000   2567  8486  9560  9596  9781 10109 10580 10670 10772 11036 11053 11118 
                                                         14933 16152 16525 
_BTTN_ON_TIME                             IMPT 00000000   3708 
_BTTN_START_CHK                  P             00000E44   8624  9548*16056 
_BVLV_CTL_FLG                             IMPT 00000000   4839 
_BVLV_CTL_ON                              IMPT 00000000   4840 
_BVLV_START_IN                            IMPT 00000000   4843 
_CALC_FULCLS_MXPLS                        IMPT 00000000   3188 
_CALC_MEM_1REV_ML_NROT_ML36               IMPT 00000000   2913 
_CALC_MEM_1REV_MUL_NROT                   IMPT 00000000   2912 
_CALC_MISS_FLG1                           IMPT 00000000   3791 
_CALC_PLS_MMIN_H32                        EQU  C0000000   2089*
_CALC_PLS_MMIN_L32                        EQU  00000001   2090*
_CALC_PLS_PMAX_H32                        EQU  3FFFFFFF   2085*
_CALC_PLS_PMAX_L32                        EQU  FFFFFFFF   2086*
_CALC_ROT_MAX                             EQU  60000000   2081*
_CALPOSANSLNG                             IMPT 00000000   4774 
_CALPOSLNWORK                             IMPT 00000000   4776 
_CALPOSWORK1                              IMPT 00000000   4770 
_CALPOSWORK2                              IMPT 00000000   4771 
_CALSPDANSPER                             IMPT 00000000   4773 
_CALSPDWORK1                              IMPT 00000000   4768 
_CALSPDWORK2                              IMPT 00000000   4769 
_CALSPDWORKANS                            IMPT 00000000   4772 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   277

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CAM_CNT_CHG_FLG                          IMPT 00000000   3288 11319 
_CAM_CTL_STEP                             IMPT 00000000   2643 
_CAM_DNM_USE_DIR_FLG                      IMPT 00000000   5096 
_CAM_DT_FLG                               EQU  0000000E   2199*
_CAM_INF_D1                               EQU  00000010   2200*
_CAM_INF_D2                               EQU  00000012   2201*
_CAM_NOW_DIG                              IMPT 00000000   3285 
_CAM_OF_DGT                               EQU  0000000C   2198*
_CAM_OF_DIG                               EQU  00000008   2195* 2196 
_CAM_OF_DIR                               EQU  0000000A   2197*
_CAM_OF_STP                               EQU  00000006   2194*
_CAM_OF_TIM                               EQU  00000008   2196*
_CAM_OLD_DIG                              IMPT 00000000   3286 
_CAM_ON_DIG                               EQU  00000002   2192*
_CAM_ON_DIR                               EQU  00000004   2193*
_CAM_ON_STP                               EQU  00000000   2191*
_CAM_OUTPUT_DT                            IMPT 00000000   3279 
_CAM_OUTPUT_SW                            IMPT 00000000   3277 
_CAM_POS_CTL_STEP                         IMPT 00000000   3287 
_CAM_POS_STEP_END_FLG1                    IMPT 00000000   3043 
_CAM_POS_STEP_END_FLG2                    IMPT 00000000   3044 
_CAM_SELECT_SW                            IMPT 00000000   3278 
_CAM_START_FLG                            IMPT 00000000   3280 
_CAM_START_MODE                           IMPT 00000000   3281 
_CAM_STEP_MAX                             IMPT 00000000   3284 
_CAM_STEP_NO                              IMPT 00000000   3282 
_CAM_STEP_NO_OLD                          IMPT 00000000   3283 
_CAM_STRCUT                               EQU  00000014   2190*
_CBA_STS_BKUP_SAVE                        IMPT 00000000   6362 15898 15954 15991 
_CBSTS_LOAD_FLG                           IMPT 00000000   4579 
_CBSTS_SAVE_CMDWK                         IMPT 00000000   4587 
_CBSTS_SAVE_DAT                           IMPT 00000000   4596 15894 15950 15987 
_CB_BAKUP_CMD1                            EQU  00005678    114*
_CB_BAKUP_CMD2                            EQU  00001234    115*
_CB_BAK_SUM_COD1                          EQU  5AA51234    112*
_CB_BAK_SUM_COD2                          EQU  A55A4321    113*
_CB_CTL_START_INI                P             00001DB4   8831 13243*16709 
_CB_ERR_INFO_MEM                          EQU  00000080    138*
_CB_ERR_INFO_PSIZE                        EQU  00000008    139*
_CB_INT_START_OK                          IMPT 00000000   2496 
_CB_IN_HANYO                              IMPT 00000000   4878 17170 
_CB_SEQ_CB_COM340                         IMPT 00000000   3029  9409 17004 17752 17984 20452 
_CB_SEQ_CB_COM345                         IMPT 00000000   3032 
_CB_SEQ_CB_COM345X                        IMPT 00000000   5614 
_CB_SEQ_CB_COM346                         IMPT 00000000   3033 
_CB_SEQ_CB_COM347                         IMPT 00000000   3034 
_CB_SEQ_CB_COM348                         IMPT 00000000   3035 
_CB_SEQ_CB_COM349                         IMPT 00000000   3036 19803 19825 
_CB_SEQ_CB_COM350                         IMPT 00000000   3038 
_CB_SEQ_CB_COM351                         IMPT 00000000   3039 
_CB_SEQ_CB_COM352                         IMPT 00000000   3040 17146 17308 17948 
_CB_SEQ_CB_COM356                         IMPT 00000000   5442 
_CB_SEQ_CB_SEL341                         IMPT 00000000   3030  9752 11029 14770 14872 15543 
_CB_SEQ_CB_SEL342                         IMPT 00000000   3031 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   278

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CB_SEQ_SW_SEL022                         IMPT 00000000   3024 17315 
_CB_SEQ_SW_SEL024                         IMPT 00000000   3025 
_CB_SEQ_SW_SEL028                         IMPT 00000000   3026  7291  7407  7425  9647 10012 10069 12742 13372 
_CB_SEQ_SW_SEL029                         IMPT 00000000   3027 
_CB_SEQ_SW_SEL058                         IMPT 00000000   4928 
_CB_STS_BUF_1BLK                          EQU  00000040    117*  119 
_CB_STS_BUF_BLKMAX                        EQU  00000008    118*  119 
_CB_STS_BUF_MAX                           EQU  00000200    119*
_CB_SYS_PARAM000                          IMPT 00000000   6312  8334 11902 12065 12317 15604 15701 16461 17081 17399 18333 18685 
                                                         18835 19013 19161 19175 19183 19294 19300 19459 19474 19482 19563 19661 
_CB_TIME                                  EQU  0000000A   2004* 2017  2018  2019  2024 
_CB_TRD_BEFORE                            EQU  00000060    127*
_CB_TRD_BUF_DP_MAX                        EQU  00000080    131*
_CB_TRD_BUF_MAX                           EQU  00000800    128*
_CB_TRD_DP_1CNT                           EQU  00000008    130*
_CB_TRD_DP_CH                             EQU  00000004    123*
_CB_TRD_SMP_CNT                           EQU  00000080    126*
_CCS_BTTN_OFF                             IMPT 00000000   3530 10779 10851 10938 
_CHKACCINF0                               IMPT 00000000   4761 
_CHKACCINF1                               IMPT 00000000   4762 
_CHKACCINF2                               IMPT 00000000   4763 
_CHKPOSANSDIG                             IMPT 00000000   4750 
_CHKPOSWORK0                              IMPT 00000000   4757 
_CHKPOSWORK1                              IMPT 00000000   4737 
_CHKPOSWORK2                              IMPT 00000000   4738 
_CHKPOSWORKANS                            IMPT 00000000   4743 
_CHKPOS_Ln1                               IMPT 00000000   4765 
_CHKSPDANSPER                             IMPT 00000000   4742 
_CHKSPDPERWORK0                           IMPT 00000000   4758 
_CHKSPDPERWORK1                           IMPT 00000000   4745 
_CHKSPDPERWORK2                           IMPT 00000000   4746 
_CHKSPDPOSINFO                            IMPT 00000000   4748 
_CHKSPDPOSOFS                             IMPT 00000000   4749 
_CHKSPDWORK0                              IMPT 00000000   4756 
_CHKSPDWORK1                              IMPT 00000000   4735 
_CHKSPDWORK2                              IMPT 00000000   4736 
_CHKSPDWORKANS                            IMPT 00000000   4739 
_CHKSPDWORKTMAX                           IMPT 00000000   4741 
_CHKSPDWORKVMAX                           IMPT 00000000   4740 
_CHK_ADD_DATA_LATCH                       IMPT 00000000   4268 
_CHK_CLK_SIG                              IMPT 00000000   4804 
_CHK_LSI_LOAD_OUT_CNT                     IMPT 00000000   4017 
_CHK_LSI_LOAD_POS_CNT                     IMPT 00000000   4016 
_CHK_OBJECT_TIM_TOP                       IMPT 00000000   5386 
_CHK_SET1_UPAREA_TIM0                     IMPT 00000000   5385 
_CLRSQ206_BIT11                  P        EXPT 000025BC  15062 15068*
_CLS_INC_MOST_DOWN_PLS                    IMPT 00000000   2779 
_CLS_RNA_MOST_DOWN_POS                    IMPT 00000000   2778 
_CMP2_ACC_NG_CNT                          IMPT 00000000   3597 
_CMP2_ACC_TOTAL_NG_CNT                    IMPT 00000000   3591 
_CMP2_BAS_NG_CNT                          IMPT 00000000   3594 
_CMP2_BAS_TOTAL_NG_CNT                    IMPT 00000000   3588 
_CMP2_LAT_NG_CNT                          IMPT 00000000   3596 
_CMP2_LAT_TOTAL_NG_CNT                    IMPT 00000000   3590 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   279

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CMP2_NOW_NG_CNT                          IMPT 00000000   3598 
_CMP2_NOW_TOTAL_NG_CNT                    IMPT 00000000   3592 
_CMP2_TOP_NG_CNT                          IMPT 00000000   3595 
_CMP2_TOP_TOTAL_NG_CNT                    IMPT 00000000   3589 
_CMPAB_NEAR_END_PROC             P        EXPT 00001F04  13550 13572*
_CMPAB_STEP_END_PROC             P        EXPT 00001F7A  13551 13715*
_CMPCYC_END_CLR                  P        EXPT 00002174  13561 14102*
_CMPCYC_START_CLR                P        EXPT 00002158  13560 14075*
_CMPEMG_EXQ_FLG_CLR              P        EXPT 000020CC   6667 11435 13563 13990*
_CMPSTEP_CNT_STOP                         IMPT 00000000   2687 13949 14037 
_CMPSTEP_CTRL_BUSY                        IMPT 00000000   2683 13849 14031 
_CMPSTEP_CTRL_REDY                        IMPT 00000000   2682 13826 
_CMPSTEP_NEAR_ZERO                        IMPT 00000000   2686 13580 13923 14035 
_CMPSTEP_POS_START                        IMPT 00000000   2684  8172  8200  8719  9262 13871 
_CMPSTEP_SFTY_AUTO                        IMPT 00000000   2685 13899 14033 
_CMPSTEP_STEP_END                         IMPT 00000000   2688  7771 10120 13728 13973 14039 20384 
_CMPSTP_CNT_STOP_CLR             P        EXPT 00002088  13558 13937*
_CMPSTP_CTRL_BUSY_CLR            P        EXPT 0000200C  13554 13841*14111 
_CMPSTP_CTRL_REDY_CLR            P        EXPT 00001FEE   8581  8881  8962 13553 13818*13995 14107 16646 16751 
_CMPSTP_NEAR_ZERO_CLR            P        EXPT 0000206C  13557 13915*14145 
_CMPSTP_POS_START_CLR            P        EXPT 00002028   8577  8958 13555 13863*13999 14115 16642 
_CMPSTP_SFTY_AUTO_CLR            P        EXPT 00002044  13556 13885*14084 
_CMPSTP_STEP_END_CLR             P        EXPT 000020B0  13559 13965*14141 
_CMP_ERR_CHK_STSA                         IMPT 00000000   2896 
_CMP_ERR_CHK_STSB                         IMPT 00000000   2897 
_CMP_ERR_STEP_A                           IMPT 00000000   2902 
_CMP_ERR_STEP_B                           IMPT 00000000   2903 
_CMP_ERR_STSA_INF1                        IMPT 00000000   2898 
_CMP_ERR_STSA_INF2                        IMPT 00000000   2899 
_CMP_ERR_STSA_INF3                        IMPT 00000000   2900 
_CMP_ERR_STSA_INF4                        IMPT 00000000   2901 
_CMP_ERR_TIM1                             IMPT 00000000   2599 
_CMP_HOLD_CTLGENSOK                       IMPT 00000000  17438 17873 
_CMP_LNGTH_AD_ERR_CNT                     IMPT 00000000   3701 
_CMP_POS_LSI_ACCLT1                       IMPT 00000000   3906 
_CMP_RECOVER_FLG                          IMPT 00000000   4011 10037 10528 10722 13320 
_CMP_RESTP_SR_ERR_CNT                     IMPT 00000000   3702 
_CMP_STEP_ERR_TIM1                        IMPT 00000000   2601 
_CNTREST_HOS_RESET                        IMPT 00000000   6257 11485 
_CNT_BANK_CALC_ERR                        IMPT 00000000   3688 14043 
_CNT_CYCL_DISP_ST                P             00001EC4   8154 11460 13489*
_CNT_GRF_I_DATA                           IMPT 00000000   5607 
_CNT_GRF_POINT                            IMPT 00000000   5609 
_CNT_GRF_Y_DATA                           IMPT 00000000   5608 
_CNT_MODE_CNT_SIG_OUT            P             00001CDC  12994 13054*13407 
_CNT_PLSOUT_STOP_CNT                      IMPT 00000000   3955 
_CNT_REST_SPD_HOSEI_DAT                   IMPT 00000000   3694 
_CNT_REST_SPD_HOSEI_FLG                   IMPT 00000000   3695 
_CNT_SPM_DISP_CHK                P             00001ED8   8160  9004 13509*
_CNT_STOP_CMD                             IMPT 00000000   2522  9450 10191 10364 10932 17017 17602 
_CNT_STOP_CMD_BEF1                        IMPT 00000000   4405 
_CNT_STOP_CTRL_FLG                        IMPT 00000000   3675 
_CNT_STOP_DBG_CNT                         IMPT 00000000   5503 
_CNT_STOP_LNGTH                           IMPT 00000000   3681 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   280

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CNT_STOP_WAIT_TIM                        IMPT 00000000   5502 10202 
_CNT_SYNC_CHK_CNT1                        IMPT 00000000   3970 
_CNT_SYNC_CHK_CNT2                        IMPT 00000000   3971 
_CNT_SYNC_ERR_FLG                         IMPT 00000000   3953 
_CNT_SYNC_HOS_CNT1                        IMPT 00000000   3972 
_CNT_SYNC_HOS_DAT1                        IMPT 00000000   3967 
_CNT_SYNC_HOS_DAT2                        IMPT 00000000   3968 
_CNT_SYNC_HOS_FLAG                        IMPT 00000000   3969 
_CNT_SYNC_STS_FLG                         IMPT 00000000   3954 
_CONT_MOD_CNT_PV                          IMPT 00000000   3100 10087 12978 13080 13403 
_CONT_MOD_TIM_PV                          IMPT 00000000   3102 10075 13401 
_CONT_STOP_END_SUBPLS                     IMPT 00000000   3687 
_COP_CB_LD_MONI_SIG                       IMPT 00000000   3348 
_COP_DIG_SIG_FLG                          IMPT 00000000   3347 
_COP_OLD_ENC3600                          IMPT 00000000   3366 
_CPOS_BANK_USELFUL                        IMPT 00000000   3674 
_CPOS_CTL_MATH                            IMPT 00000000   2763  7630 10784 
_CPOS_DND_DIGTOP                          IMPT 00000000   3783 
_CPOS_DND_PLSTOP                          IMPT 00000000   3784 
_CPOS_DND_STOP_DIRECTOLD                  IMPT 00000000   3782 
_CPOS_DND_STOP_SW                         IMPT 00000000   3780 
_CPOS_DND_STOP_SWOLD                      IMPT 00000000   3781 
_CPOS_FULCLS_MATEHD_SW                    IMPT 00000000   4863 
_CPOS_KJYUCLS_OBJ                         IMPT 00000000   4865 
_CPOS_MOD_FLG1                            IMPT 00000000   2762 10244 10427 10964 
_CPOS_SDAT1_CHGAPOS                       IMPT 00000000   2760 
_CPOS_SDAT1_CHGAPOS2                      IMPT 00000000   3676 
_CPOS_SDAT1_CNTSTEP                       IMPT 00000000   2757 
_CPOS_SDAT1_INF1                          IMPT 00000000   2758 
_CPOS_SDAT1_NUM                           IMPT 00000000   2759 
_CPOS_SDAT1_OFSPOS                        IMPT 00000000   2754 
_CPOS_SDAT1_SPD                           IMPT 00000000   2755 
_CPOS_SDAT1_STPAPOS                       IMPT 00000000   2761 
_CPOS_SDAT1_STPAPOS2                      IMPT 00000000   3677 
_CPOS_SDAT1_TIM                           IMPT 00000000   2756 
_CPOS_SDAT1_UP_OFSPOS                     IMPT 00000000   2782 
_CPOS_SDAT1_UP_POS                        IMPT 00000000   2783 
_CPOS_STEP_MAX                            IMPT 00000000   2764  9962 10225 10296 10411 14218 19969 20588 20760 
_CPOS_UPAREA_PLS                          IMPT 00000000   2777 
_CPUABD_WDTOK_FLG                         IMPT 00000000   5111 
_CPUA_CONT_MOD_CNT_PV                     IMPT 00000000   6399 13083 
_CPUA_LOT_CHK_FLG                         IMPT 00000000   6395 13063 
_CPUA_LOT_CNT_FLG                         IMPT 00000000   6397 13073 
_CPUA_SV_STEP                             IMPT 00000000  19885 
_CPUBX_MEM1_BUF                           IMPT 00000000   5623 
_CPUBX_MEM1_ENDFLG                        IMPT 00000000   5622 
_CPUBX_MEM1_RCVFLG                        IMPT 00000000   5621 
_CPUBX_MEM1_SNDEVN                        IMPT 00000000   5632 
_CPUBX_MEM1_SNDFLG                        IMPT 00000000   5634 
_CPUBX_MEM1_SNDKND                        IMPT 00000000   5633 
_CPUBX_SEND_MAXCNT                        IMPT 00000000   5629 
_CPUBX_SEND_NOWCNT                        IMPT 00000000   5630 
_CPUBX_SEND_TOPADR                        IMPT 00000000   5628 
_CPUB_CONT_MOD_CNT_PV                     IMPT 00000000   6400 10095 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   281

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPUB_DBG_MONI_CNT                        IMPT 00000000   6401 
_CPUB_DBG_MONI_STP                        IMPT 00000000   7670 
_CPUB_LOT_CHK_FLG                         IMPT 00000000   6396 12924 
_CPUB_LOT_CNT_FLG                         IMPT 00000000   6398 
_CPUB_PARAM_ERR_NO                        IMPT 00000000   5205 
_CPUB_SV_STEP                             IMPT 00000000  19886 19956 20575 
_CPUC_PARAM_ERR_NO                        IMPT 00000000   5204 
_CPUDX_MEM1_ENDFLG                        IMPT 00000000   5625 
_CPUDX_MEM1_RCVFLG                        IMPT 00000000   5624 
_CPUD_CHK_OLDCNT                          IMPT 00000000   5102 
_CPUD_CHK_TIME                            IMPT 00000000   5103 
_CPUX_PARAM_SEND_FLG                      IMPT 00000000   5194 
_CPUX_PARAM_SEND_NO                       IMPT 00000000   5195 
_CPU_AB_BSY_OF_JG                         IMPT 00000000   6114 
_CPU_AB_BSY_OF_OUT                        IMPT 00000000   6110 13846 14004 
_CPU_AB_BSY_ON_OUT                        IMPT 00000000   6112 
_CPU_AB_CED_OF_JG                         IMPT 00000000   6177 13783 
_CPU_AB_CED_OF_OUT                        IMPT 00000000   6173 13970 14026 
_CPU_AB_CED_ON_OUT                        IMPT 00000000   6175 13736 
_CPU_AB_CST_OF_JG                         IMPT 00000000   6166  9953 10287 
_CPU_AB_CST_OF_OUT1                       IMPT 00000000   6160 13942 14018 
_CPU_AB_CST_OF_OUT2                       IMPT 00000000   6161  9977 10312 13946 14022 
_CPU_AB_CST_ON_OUT1                       IMPT 00000000   6163 10465 
_CPU_AB_CST_ON_OUT2                       IMPT 00000000   6164 
_CPU_AB_DRVHLDSTOP_OF_OUT                 IMPT 00000000   6192 18216 
_CPU_AB_DRVHLDSTOP_ON_OUT                 IMPT 00000000   6191 17534 
_CPU_AB_DRVSTOP_OF_OUT                    IMPT 00000000   6132 13891 14009 
_CPU_AB_DRVSTOP_ON_OUT                    IMPT 00000000   6133 10148 10610 10740 10885 11084 11134 11169 11234 
_CPU_AB_NZR_OF_JG                         IMPT 00000000   6152 13635 
_CPU_AB_NZR_OF_OUT                        IMPT 00000000   6148 13920 14014 
_CPU_AB_NZR_ON_OUT                        IMPT 00000000   6150 13588 
_CPU_AB_RDY_OF_JG                         IMPT 00000000   6103 
_CPU_AB_RDY_OF_OUT                        IMPT 00000000   6099 13823 
_CPU_AB_RDY_ON_OUT                        IMPT 00000000   6101  8534 16540 16597 
_CPU_AB_STR_OF_JG                         IMPT 00000000   6125 
_CPU_AB_STR_OF_OUT                        IMPT 00000000   6121 13868 
_CPU_AB_STR_ON_OUT                        IMPT 00000000   6123  8715 
_CPU_BA_BSY_OF_OUT                        IMPT 00000000   6111 
_CPU_BA_BSY_ON_JG                         IMPT 00000000   6113 
_CPU_BA_CED_OF_OUT                        IMPT 00000000   6174 13765 
_CPU_BA_CED_ON_JG                         IMPT 00000000   6176 13755 
_CPU_BA_CST_OF_OUT                        IMPT 00000000   6162 
_CPU_BA_CST_ON_JG                         IMPT 00000000   6165 
_CPU_BA_DRVHLDSTOP_OF_JG                  IMPT 00000000   6194 18237 
_CPU_BA_DRVHLDSTOP_ON_JG                  IMPT 00000000   6193 17467 
_CPU_BA_DRVSTOP_OF_OUT                    IMPT 00000000   6135 13895 
_CPU_BA_DRVSTOP_ON_JG                     IMPT 00000000   6134 10030 10521 10715 
_CPU_BA_NZR_OF_OUT                        IMPT 00000000   6149 13617 
_CPU_BA_NZR_ON_JG                         IMPT 00000000   6151 13607 
_CPU_BA_RDY_OF_OUT                        IMPT 00000000   6100 
_CPU_BA_RDY_ON_JG                         IMPT 00000000   6102  8538  8765  8941 16544 
_CPU_BA_STEP_LOAD                         IMPT 00000000   6184  9970 10304 
_CPU_BA_STR_OF_OUT                        IMPT 00000000   6122  9265 
_CPU_BA_STR_ON_JG                         IMPT 00000000   6124  8747  9281 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   282

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPU_SV_HAND_IN                           IMPT 00000000   2524 
_CPU_SV_HAND_IN_ON                        IMPT 00000000   2525 
_CPU_SV_HAND_OUT                          IMPT 00000000   2527 
_CPUy_RESTPLS_LTFLG                       IMPT 00000000   3973 
_CTL_ENC360                               IMPT 00000000   2536 
_CTL_ENC360_OLD                           IMPT 00000000   4057 
_CTRL_UP_HOLD_CHK                P             0000193C   9146  9208 11986*
_CW_CCW_ENDSTEP_SERACH           P             00001864  11686 11732 11755 11800*
_CYCLE_SPD_CMP_FLG1                       IMPT 00000000   4315 
_CYCLE_SPD_CMP_PV_DAT                     IMPT 00000000   4316 
_CYCLE_TIME_DAT                           IMPT 00000000   3016 
_CYCLE_TIME_FLG                           IMPT 00000000   3018 
_CYCLE_TIME_PV                            IMPT 00000000   3017 
_CYCLE_TIME_REFLASH_CLR                   IMPT 00000000   6232  6693 
_CYCL_DSP_CNT_PV                          IMPT 00000000   3482 11466 13452 13518 
_CYCL_DSP_DISENB                          IMPT 00000000   3481 13456 13473 13494 13525 
_CYCL_START_CNT                           IMPT 00000000   2780 
_CYC_END_POS_FLG_CLR                      IMPT 00000000  20035 20145 20627 
_DAIHAI_CALC_WORK1                        IMPT 00000000   4356 
_DAIHAI_CALC_WORK10                       IMPT 00000000   4365 
_DAIHAI_CALC_WORK11                       IMPT 00000000   4367 
_DAIHAI_CALC_WORK12                       IMPT 00000000   4368 
_DAIHAI_CALC_WORK13X                      IMPT 00000000   4369 
_DAIHAI_CALC_WORK2                        IMPT 00000000   4357 
_DAIHAI_CALC_WORK3                        IMPT 00000000   4358 
_DAIHAI_CALC_WORK4                        IMPT 00000000   4359 
_DAIHAI_CALC_WORK5                        IMPT 00000000   4360 
_DAIHAI_CALC_WORK6                        IMPT 00000000   4361 
_DAIHAI_CALC_WORK7X                       IMPT 00000000   4362 
_DAIHAI_CALC_WORK8                        IMPT 00000000   4363 
_DAIHAI_CALC_WORK9X                       IMPT 00000000   4364 
_DAI_CMP_SMPSTART                         IMPT 00000000   2960 
_DAI_HOSEI1_FLG                           IMPT 00000000   2950 
_DAI_MOSTPOS_SMPLE                        IMPT 00000000   6240  7637 
_DAT_MOSTPOS_SIG_CLR                      IMPT 00000000   6229  6562 
_DBG_ATO_DRV_START_FLG                    IMPT 00000000   5132 
_DBG_ATO_DRV_TIME_PV                      IMPT 00000000   5133 
_DBG_ATO_DRV_TIME_PV2                     IMPT 00000000   5135 
_DBG_ATO_DRV_TIME_SV                      IMPT 00000000   5134 
_DBG_ATO_DRV_TIME_SV2                     IMPT 00000000   5136 
_DBG_CNT_GPOSINT                          IMPT 00000000   3612 
_DBG_CNT_STOP_CNT                         IMPT 00000000   3606 
_DBG_CNT_STOP_FLG                         IMPT 00000000   3605 
_DBG_CNT_STOP_SPC                         IMPT 00000000   3607 
_DBG_DNM_CLR_CNT                          IMPT 00000000   5486 
_DBG_DNM_END_CNT                          IMPT 00000000   5485 
_DBG_DNM_STR_CNT                          IMPT 00000000   5484 
_DBG_REVMOD_CTLPLS                        IMPT 00000000   3246 
_DBG_REVMOD_DNPLS                         IMPT 00000000   3248 
_DBG_REVMOD_OBJPLS                        IMPT 00000000   3245 
_DBG_REVMOD_UPPLS                         IMPT 00000000   3247 
_DBG_STEP12_CHG_DIG                       IMPT 00000000   3615 
_DBG_STEP12_CHG_POS                       IMPT 00000000   3619 
_DBG_STEP12_CHG_RSTP                      IMPT 00000000   3627 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   283

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DBG_STEP12_CHG_SPD                       IMPT 00000000   3623 
_DBG_STEP12_CHG_TIM                       IMPT 00000000   3609 
_DBG_STEP23_CHG_DIG                       IMPT 00000000   3616 
_DBG_STEP23_CHG_POS                       IMPT 00000000   3620 
_DBG_STEP23_CHG_RSTP                      IMPT 00000000   3628 
_DBG_STEP23_CHG_SPD                       IMPT 00000000   3624 
_DBG_STEP23_CHG_TIM                       IMPT 00000000   3610 
_DBG_STEPCD_CHG_DIG                       IMPT 00000000   3617 
_DBG_STEPCD_CHG_GPS                       IMPT 00000000   3631 
_DBG_STEPCD_CHG_POS                       IMPT 00000000   3621 
_DBG_STEPCD_CHG_RSTP                      IMPT 00000000   3629 
_DBG_STEPCD_CHG_SPD                       IMPT 00000000   3625 
_DBG_STEPCD_CHG_TIM                       IMPT 00000000   3611 
_DEBUG_CMPERR_STSMAK             P             00000644   7655  7696*
_DEBUG_ENC360_STS                         IMPT 00000000   4669 
_DEBUG_ENC360_STS2                        IMPT 00000000   4670 
_DEBUG_MOD_CODE                           IMPT 00000000   5130 
_DEBUG_SIGNAL_OFF                         IMPT 00000000  11571 11582 
_DEBUG_SPD_CHG_FLG1                       IMPT 00000000   5521 
_DEBUG_SPD_CHG_FLG2                       IMPT 00000000   5522 
_DEBUG_SPD_OLD_DAT1                       IMPT 00000000   5520 
_DEBUG_SQ_SIG_246_247            P             00001CD4  13016*
_DEBUG_STS_CNT1                           IMPT 00000000   5508 13121 
_DEBUG_STS_CNT2                           IMPT 00000000   5509 
_DEF_DAI_POS_PV                           IMPT 00000000   2989 
_DG_PS_INF_CHK1                           EQU  00000000   2208*
_DG_PS_INF_CHK2                           EQU  0000003C   2213*
_DG_PS_INF_CONT                           EQU  00000004   2209*
_DG_PS_INF_LATE                           EQU  00000010   2212*
_DG_PS_INF_STLK                           EQU  0000000C   2211*
_DG_PS_INF_UNIT                           EQU  00000008   2210*
_DIG_AREA_CHK0                            IMPT 00000000   6216 
_DIG_AREA_CHK1                            IMPT 00000000   6217 10812 12173 13165 20291 20319 
_DIR_FLG                                  IMPT 00000000   4069 
_DISP_ENC360                              IMPT 00000000   2540 
_DISP_RE_VIEW_FLG                         IMPT 00000000   3019  6846 
_DISP_SV_DG_DAT                           IMPT 00000000   3332 
_DISP_SV_MM_DAT                           IMPT 00000000   3333 
_DIVS_32REG2_32REG1_R4_32REG2_R2          IMPT 00000000   6199 
_DIVS_64R1R2_32R4_32R2                    IMPT 00000000   6200 
_DIVS_64R1R2_32R4_64R1R2                  IMPT 00000000   6213 
_DIVU_64R1R2_32R4_32R2                    IMPT 00000000   6201 
_DIVU_64R1R2_32R4_64R1R2                  IMPT 00000000   6214 
_DMATH_CNTROT                             EQU  00000001   2040* 7633 10787 12275 18880 19909 20536 20768 
_DMATH_DNDRIV                             EQU  00000004   2042* 7117  7633 10787 11704 12198 12283 12410 13189 17844 18623 18743 
                                                         19909 20008 20180 20274 20536 
_DMATH_REVRSE                             EQU  00000002   2041*11726 12207 12279 12410 13198 
_DMATH_UPDRIV                             EQU  00000008   2043*11674 12180 13172 
_DNDINC_CTRL_STEP                         IMPT 00000000   3779 
_DND_CALC_WORK                            IMPT 00000000   2806 
_DND_OVERCHK_DIG                          IMPT 00000000   4269 
_DNM_ACC_CALFLG                           IMPT 00000000   4239 
_DNM_CTL_INC3600                          IMPT 00000000   4107 10805 12165 13157 
_DNM_CYCLE_END                            IMPT 00000000  20031 20144 20623 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   284

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DNM_DATA_REV_SET                         IMPT 00000000   6386  7147 18761 18789 
_DNM_DEBUG_CNT                            IMPT 00000000   4710 
_DNM_DEBUG_STS1                           IMPT 00000000   4709 
_DNM_DIR_CHG_FLG                          IMPT 00000000   4105 
_DNM_DIR_CHG_TIM                          IMPT 00000000   4106 
_DNM_DIR_FLG_INC_LATCH                    IMPT 00000000   5089 18754 
_DNM_DIR_FLG_OLD                          IMPT 00000000   4145 
_DNM_DIR_NOW_FLG                          IMPT 00000000   4103 17848 
_DNM_DIR_SAM_FLG                          IMPT 00000000   4104 
_DNM_DIR_SET_FLG                          IMPT 00000000   4102 12288 
_DNM_MAX_GENSOK_LENGTH                    IMPT 00000000   4781 
_DNM_OBJ_AREA_SIG2               P             00003D76   6428 20261*
_DNM_RESET_AREA                           IMPT 00000000   5044  7121 18627 
_DNM_RST_SPEC_AREASIG                     IMPT 00000000   5476 20189 20326 20344 
_DNM_SET1_OBJECT_DIG_TOP                  IMPT 00000000   4101 
_DNM_SET1_OBJECT_PLS_TOP                  IMPT 00000000   4099 
_DNM_SET1_UPAREA_DIG0                     IMPT 00000000   4100 
_DNM_SET1_UPAREA_PLS0                     IMPT 00000000   4098 
_DNM_SETX_HOLD_CMP1_DEG                   IMPT 00000000   4474 
_DNM_SETX_LINK_UP_POS_DN                  IMPT 00000000   4115 20284 
_DNM_SETX_LINK_UP_POS_UP                  IMPT 00000000   4114 20286 
_DNM_SETX_MOTREP_DIR                      IMPT 00000000   5069 
_DNM_SETX_UPAREA_DIG                      IMPT 00000000   4110 
_DNM_SETX_UPAREA_PLS                      IMPT 00000000   4109 
_DNM_WSVX_CLNK_UP_POS                     IMPT 00000000   4111 
_DNM_WSVX_CLNK_UP_POS_DN                  IMPT 00000000   4113 
_DNM_WSVX_CLNK_UP_POS_UP                  IMPT 00000000   4112 
_DPCHK_CPU_ERR_TIM                        IMPT 00000000   5177 
_DPCHK_DI_ERR_TIM                         IMPT 00000000   5186 
_DPCHK_ERR_SIG                            IMPT 00000000   5176 
_DPCHK_WR_COD                             IMPT 00000000   5178 
_DPSQ022                                  EQU  0000002C   2095*
_DPSQ024                                  EQU  00000030   2096*
_DPSQ028                                  EQU  00000038   2097*
_DPSQ029                                  EQU  0000003A   2098*
_DPSQ058                                  EQU  00000074   2099*
_DPSQ287                                  EQU  0000023E   2110*
_DPSQ288                                  EQU  00000240   2111*
_DPSQ340                                  EQU  000002A8   2101*
_DPSQ341                                  EQU  000002AA   2102*
_DPSQ356                                  EQU  000002C8   2103*
_DPSQ358                                  EQU  000002CC   2104*
_DPSQ359                                  EQU  000002CE   2105*
_DPSQ367                                  EQU  000002DE   2106*
_DPSQ368                                  EQU  000002E0   2107*
_DPSQ369                                  EQU  000002E2   2108*
_DRVHOS_CAL_RNA_POS                       IMPT 00000000   2982 
_DRVHOS_DEF_CNT_PV                        IMPT 00000000   2974 
_DRVHOS_DEF_RNA_POS                       IMPT 00000000   2981 
_DRVHOS_IDO_BUF                           IMPT 00000000   2986 
_DRVHOS_IDO_CNT                           IMPT 00000000   2977 
_DRVHOS_IDO_POINT                         IMPT 00000000   2975 
_DRVHOS_IDO_TOTAL                         IMPT 00000000   2985 
_DRVHOS_MOST_DN_RNAPOS                    IMPT 00000000   2983 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   285

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DRVHOS_USE_FLG                           IMPT 00000000   2972 
_DRVHOS_WAIT_CNT_PV                       IMPT 00000000   2973 
_DRVHOS_WORK_BUF                          IMPT 00000000   2987 
_DRV_ACT_FLG                              IMPT 00000000   2673  8033  8166  8872  9350 11364 16742 
_DRV_START_INI_NEW1              P             00001E70  13307 13430*
_DRV_START_KEEP                           IMPT 00000000   4005  8360  8973  9554  9576 15136 15150 15194 15297 16480 16650 
_DRV_START_KEP_WAIT              P             000025EC   8640 15118*16081 
_DT_100PER_0                              EQU  00000064   2008*
_DT_100PER_1                              EQU  000003E8   2007*
_DUMMY_SUM_CODE                           EQU  5AA53CC3    105*
_DUM_MRTION_SEL1                          IMPT 00000000   3342 
_DUM_MTSTEP_MAXM                          IMPT 00000000   3341 
_DUM_OVERLIDE_COF                         IMPT 00000000   5383 
_DUM_SET1_DIG_TOP                         IMPT 00000000   3340 
_DUM_SET1_SPD_TOP                         IMPT 00000000   5382 
_DUM_SET1_UPAREA_SPD0                     IMPT 00000000   5381 
_DUM_UPAREA_DIG0                          IMPT 00000000   3339 
_DURING_TIM_FX                            IMPT 00000000   4672 11500 
_ELSE_CPU_START_POS_PRESET       P             00000FD8   9902*
_ELSE_ERR_FLG1                            IMPT 00000000   2595 
_ELSE_ERR_FLG2                            IMPT 00000000   2596 
_EMG_CTL_FLG_PROC                P        EXPT 00001618   6334 11299*20017 
_EMG_OUT                                  IMPT 00000000   6054  6463 
_EMG_POS_FLG_PROC                         IMPT 00000000  19888 20013 
_EMG_SCANCUT_FLG                          IMPT 00000000   4817 
_EMG_STOP                                 IMPT 00000000   6267 15726 15785 15942 16170 17265 19719 
_EMG_STOP_SPEC                            IMPT 00000000  16915 16922 
_ENC360_BITERR_CNT                        IMPT 00000000   2560 
_ENC360_BITFLW_CNT                        IMPT 00000000   2559 
_ENC360_BITNML_CNT                        IMPT 00000000   2561 
_ENC360_HEX                               IMPT 00000000   2535 
_ENC360_INDT                              IMPT 00000000   2534 
_ENC360_INOLD                             IMPT 00000000   2533 
_ENC360_LINK_AREASIG                      IMPT 00000000   3654 
_ENC360_OVER_ENC                          IMPT 00000000   3546 
_ENC360_OVER_FLG                          IMPT 00000000   3545  8822 11328 16701 
_ENCPLS_1000MSEC_LAT                      IMPT 00000000   3448 
_ENCPLS_DELT                              IMPT 00000000   3444 
_ENCPLS_POINT_SEL                         IMPT 00000000   3447 
_ENCPLS_SPD_AVL_TOP                       IMPT 00000000   3445 
_ENCPLS_SPD_POINT                         IMPT 00000000   3446 
_ENCPLS_SPD_TOTAL                         IMPT 00000000   3440 
_ENC_PLS_SPD                              IMPT 00000000   3441 
_ENC_PLS_SPD_DIR                          IMPT 00000000   3443 12270 
_ENC_SYSRST_CMD                           IMPT 00000000   2551 
_ENC_TIMEXT_FLG                           IMPT 00000000   2552 
_ENDHAND_TIMOUT_PV                        IMPT 00000000   5145 
_END_CMD_LATCH                            IMPT 00000000   2646  8125  9255  9288 
_EPCHK_COM                                IMPT 00000000   4963  7580  7886 18996 19739 
_EPCHK_DLY_TIM                            IMPT 00000000   4966 19061 19087 19115 19163 19177 19296 19461 19476 19663 
_EPCHK_ERR_TIM                            IMPT 00000000   4967 19130 19185 19261 19302 19332 19484 19519 
_EPCHK_FLG                                IMPT 00000000   4964  7501  7578  7880  7890 18990 19048 19696 19724 
_EPCHK_FORCE_VONCMD                       IMPT 00000000   4970 19328 19340 19741 
_EPCHK_RETRY_CNT                          IMPT 00000000   4968 19403 19429 19452 19565 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   286

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_EPCHK_STEP                               IMPT 00000000   4965 19052 19138 19188 19245 19305 19354 19406 19432 19487 19545 19572 
                                                         19631 19667 
_EPCHK_STOP_DISENB                        IMPT 00000000   5290 
_EPCHK_STS                                IMPT 00000000   4969 19036 19056 19211 19227 19268 19372 19397 19423 19513 19527 19588 
                                                         19613 19619 19625 19648 19654 19700 19727 19746 19848 
_EPSEN_CLR                       P        EXPT 00003BCC  18916 19842*
_EPSEN_IN_CHK                    P             00003BB4  19344 19535 19820*
_EP_JMP_TBL                      P             000036D4  18945*19142 
_EP_SENCER_CHECK                 P        EXPT 00003758   7498 18984 18985*
_EP_SENCHK_STOPCONF1             P             00003B80  19028 19772*
_EP_SENCHK_STOPCONF2             P             00003B80  19097 19773*
_EQ_CNT_DISP_STCNT                        EQU  00000002  13428*13451 
_EQ_DND_MAX                               EQU  00000002   2045*
_EQ_ORG_HIS                               EQU  0000000A  15361*15438 15439 
_EQ_ORG_OFDIG                             EQU  00000708  15360*15373 15439 
_EQ_ORG_ONDIG                             EQU  000006FE  15359*15372 15438 
_EQ_STEP_MAX                              EQU  00000005   2034*
_EQ_STEP_MX2                              EQU  0000000A   2035*
_EQ_STEP_MX3                              EQU  00000062   2036*
_ERRCHK_ENC360                            IMPT 00000000   4621 
_ERR_FIRST_ST                             IMPT 00000000   5032 
_ERR_INFO_A01                             EQU  00000020   2264*
_ERR_INFO_A02                             EQU  00000022   2265*
_ERR_INFO_A03                             EQU  00000024   2266*
_ERR_INFO_A04                             EQU  00000026   2267*
_ERR_INFO_A05                             EQU  00000028   2268*
_ERR_INFO_A06                             EQU  0000002A   2269*
_ERR_INFO_A07                             EQU  0000002C   2270*
_ERR_INFO_A08                             EQU  0000002E   2271*
_ERR_INFO_B01                             EQU  00000030   2272*
_ERR_INFO_B02                             EQU  00000032   2273*
_ERR_INFO_B03                             EQU  00000034   2274*
_ERR_INFO_B04                             EQU  00000036   2275*
_ERR_INFO_B05                             EQU  00000038   2276*
_ERR_INFO_B06                             EQU  0000003A   2277*
_ERR_INFO_B07                             EQU  0000003C   2278*
_ERR_INFO_B08                             EQU  0000003E   2279*
_ERR_INFO_C01                             EQU  00000000   2256*
_ERR_INFO_C02                             EQU  00000004   2257*
_ERR_INFO_C03                             EQU  00000008   2258*
_ERR_INFO_C04                             EQU  0000000C   2259*
_ERR_INFO_C05                             EQU  00000010   2260*
_ERR_INFO_C06                             EQU  00000014   2261*
_ERR_INFO_C07                             EQU  00000018   2262*
_ERR_INFO_C08                             EQU  0000001C   2263*
_ERR_INFO_DLY_TIM                         IMPT 00000000   3540 
_ERR_INFO_RST_CLR                         IMPT 00000000   6251  6822 
_ERR_INFO_SAVE_FLG                        IMPT 00000000   3541 
_ERR_INFO_SAVE_LATCH                      IMPT 00000000   3542 
_ERR_LEV_IN2                              IMPT 00000000   4294  6438 
_ERR_LEV_IN3                              IMPT 00000000   4295  6441 
_ERR_LEV_IN4                              IMPT 00000000   4296  6444 
_ERR_LEV_IN5                              IMPT 00000000   4297  6447 
_ERR_LEV_IN6                              IMPT 00000000   4298 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   287

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_EXQ_CTL_FLG_PROC                P        EXPT 00001670   6335 11304 11355*
_EXQ_LT_CMPSTEP_STEP_END                  IMPT 00000000   5460 20078 20386 20416 
_EXQ_LT_GET_FLG                           IMPT 00000000   5459 19913 20376 20418 
_EXQ_LT_PROC_CNT1                         IMPT 00000000   5461 19921 20542 
_EXQ_LT_PROC_CNT2                         IMPT 00000000   5462 20045 20636 
_EXQ_LT_PROC_CNT3                         IMPT 00000000   5463 20119 20725 
_EXQ_LT_PROC_CNT4                         IMPT 00000000   5464 20092 20675 
_EXQ_OUT                                  IMPT 00000000   6055  6487 
_EXQ_PROC_STEP_RECOVER           P             00003BEC   6723 19891*
_EXQ_STOP                                 IMPT 00000000   6375 18049 
_EXQ_STOP_LEV_POS_CLR                     IMPT 00000000   6253 11473 
_EXTDRV_BTTN_ERR_TIM                      IMPT 00000000   4886 17241 17401 
_EXTDRV_BTTN_USE                          IMPT 00000000   4879 17099 17214 17365 
_EXTDRV_UTINUKI_FLG                       IMPT 00000000   4880 17152 17165 17340 
_EXT_BTTN_FLG                             IMPT 00000000   4883 17209 
_EXT_DRVBTTN_ERRTIM_SET          P             00003004  17226 17377 17395*
_EXT_DRVBTTN_INFO_MAKE           P             00002ECC  17087 17139*
_EXT_DRVBTTN_MODE                P        EXPT 00002E80  17075 17076*
_EXT_DRVBTTN_MODJG_CONF          P             00002F8C  17093 17291*
_FPU_DIVS_32REG2_32REG1_R4_32REG*         IMPT 00000000   6206 
_FPU_DIVS_32REG2_DIV_32REG4_R2_M*         IMPT 00000000   6207 
_FPU_POS_HOKAN1                           IMPT 00000000   6219 
_FPU_R2_MUL_R1_DIV_R4                     IMPT 00000000   6204 16836 16846 
_FPU_R2_MUL_R1_R3_DIV_R4                  IMPT 00000000   6205 
_FPU_TIM_HOKAN1                           IMPT 00000000   6220 
_FRCYCL_OF                                IMPT 00000000   6070  9356 12616 
_FRCYCL_ON                                IMPT 00000000   6071 12662 
_FREQ_BAS_SV_SPD                          IMPT 00000000   3587 
_FREQ_PLSI_MAX_FRQ                        IMPT 00000000   3586 
_FREQ_SV_SPD                              IMPT 00000000   3519 
_FR_CYL_MASK_FLG                          IMPT 00000000   2645 12611 12657 
_FULCLS_ELSE_STS                          IMPT 00000000   4869 
_FULCLS_MATHED                            IMPT 00000000   4859 
_FULCLS_TIM_SETFLG                        IMPT 00000000   4867 
_FULL_CLS_OBJ_MM                          IMPT 00000000   3081 
_FUL_CLS_DLYTM_SV                         IMPT 00000000   4676 
_FUL_CLS_MAXOVER_F                        IMPT 00000000   4677 
_FUL_CLS_RNADIG                           EQU  00000320   2012*
_FUL_DATA_INIT                            IMPT 00000000   6237 14149 
_FWD_REV_STSIG_OFF                        IMPT 00000000   6248 
_GMN_HANYO_DI1                            IMPT 00000000   5540 
_GMN_HANYO_OUT1_SQ                        IMPT 00000000   5541 
_GMN_OVER_LIDE_FLG                        IMPT 00000000   3885 
_GPOSIN_HOS_RESET                         IMPT 00000000   6256 11479 
_HENSA_OVER_MOVE_CNT                      IMPT 00000000   3961 
_HENSA_OVER_STOP_CNT                      IMPT 00000000   3962 
_HENSA_OVR_ENCPOS                         IMPT 00000000   2881 
_HENSA_OVR_OUTPLS                         IMPT 00000000   2880 
_HIGH_DIVS_32REG2_16REG1_R4_16RE*         IMPT 00000000   6202 
_HIGH_S32R2_MUL_S32R1_DIV_S32R4_*         IMPT 00000000   6203 
_HIST_DAT_SEND_COM                        IMPT 00000000   5601 
_HIST_DAT_SEND_DIS                        IMPT 00000000   5600  6813 
_HIST_EVENT_COD                           IMPT 00000000   5602 
_HIST_KEP_SEND_COM                        IMPT 00000000   5603 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   288

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_HOLD1_DNSTART_POSCHK            P             000031F4  17717 17838*
_HOLD_RESTART_BA_JG              P             000033E0   8095 18232*
_HOLD_RESTART_OF_OUT             P             000033CC   8091 18211*18447 
_HOLD_STOP_BA_JG                 P             00003524   8040 18526*
_HOLD_WAIT_DURING_SIG            P             00003464  18346 18367*
_INCENC_ADD                               EQU  00000000   2067*
_INCENC_LINK_NOWROT_NUMPLS_ZR             IMPT 00000000   2702 
_INCENC_LINK_NOWROT_NUM_ZR                IMPT 00000000   2701 
_INCENC_LINK_NOWROT_OFSPLS                IMPT 00000000   2703 
_INCHEN_ADD                               EQU  00000000   2066*
_INCREV_ADD                               EQU  00000000   2071*
_INCRNA_ADD                               EQU  00000000   2068*
_INCSTP_ADD                               EQU  00000000   2069*
_INC_ABS_ORGWORK                          IMPT 00000000   2928 
_INC_ABS_ORGWORK2                         IMPT 00000000   4348 
_INC_ABS_ORGWORK2A                        IMPT 00000000   4349 
_INC_ENC360                               IMPT 00000000   2539 15369 18782 20288 20316 
_INC_ENC_MM_POS                           IMPT 00000000   2723 
_INC_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2704 
_INC_OFS_ORGWORK2A                        IMPT 00000000   4350 
_INC_RESET_STEP                           IMPT 00000000   5084 18571 18681 18729 
_INC_RESET_USE_F                          IMPT 00000000   5085 18574 18796 
_INC_RSTMODE_CHK                 P             00003550   7087 18596*
_INC_RST_DATA_CHK                P             000036A8  18666 18873*
_INC_RST_WORK_CLR                P        EXPT 00003534  18562 18566*
_INC_SPEC_RSTCHK                 P        EXPT 0000367E  18602 18829 18830*
_INC_STOP_CNT                             IMPT 00000000   3260 
_INFO_CHK1_COD                            EQU  5AA51234   2206*
_INFO_CHK2_COD                            EQU  4321A55A   2207*
_INPUT_MODE_SW                            IMPT 00000000   2594 
_INP_ERR_FLG                              IMPT 00000000   4612 
_INP_MODE                                 IMPT 00000000   2626  6912  6948  6980  7446 11621 15717 15749 16373 18840 
_INSERT_MOT_SV_CHGF                       IMPT 00000000   5153 
_INT1MS_SCAN_02MS                         IMPT 00000000   4287 
_INT1MS_SCAN_03MS                         IMPT 00000000   4288 
_INT1MS_SCAN_05MS1                        IMPT 00000000   4289 
_INT1MS_SCAN_05MS2                        IMPT 00000000   4290 
_INT1MS_SCAN_10MS                         IMPT 00000000   4291 
_INT_CLS_CTL_FLG                          IMPT 00000000   2847 11276 11393 
_INT_CLS_DYL_TIM                          IMPT 00000000   2848 
_INT_CYC_DRV_STS                          IMPT 00000000   2846 
_INT_DND_CTL_STEP                         IMPT 00000000   2842 
_INT_DND_NEG_STEP                         IMPT 00000000   2850 
_INT_DND_STEP_FLG                         IMPT 00000000   2845 
_INT_LINK_TOTAL_ABSPLS                    IMPT 00000000   2859 
_INT_POS_CTL_FLAG                         IMPT 00000000   2843 15960 
_INT_POS_CTL_STEP                         IMPT 00000000   2840  9960 10223 10294 10409 10797 11317 12003 12154 13145 14216 17682 
_INT_POS_STEP_FLG                         IMPT 00000000   2844 
_INT_SFY_INP_DAT                          IMPT 00000000   3647 
_INT_SPD_CHG_FLG                          IMPT 00000000   5514 
_INT_STP_INP_DAT                          IMPT 00000000   3648 
_INT_STP_INP_DAT1                         IMPT 00000000   3649 
_INT_STP_INP_DAT2                         IMPT 00000000   3650 
_INT_STP_INP_DAT3                         IMPT 00000000   3651 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   289

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_INT_TIM_CHG_FLG                          IMPT 00000000   5515 
_IN_PARAM_RNA_CHK                         IMPT 00000000   4044 15551 
_IN_POS_GPOINT_POS                        IMPT 00000000   3946 
_IN_RDY_FLG                               IMPT 00000000   2634  7598  7864  7943  9329 11333 
_IN_RNA_REF_ERR_FLG1                      IMPT 00000000  15006 
_IN_RNA_REF_ERR_FLG2                      IMPT 00000000  15007 
_IRQ_EMG_CNT                              IMPT 00000000   3641 
_IRQ_EMG_FLG                              IMPT 00000000   3640 
_IRQ_EMG_STP_CLR                          IMPT 00000000   6254  6671 
_IRQ_SFY_CNT                              IMPT 00000000   3643 
_IRQ_SFY_FLG                              IMPT 00000000   3642 
_IRQ_STP_CNT                              IMPT 00000000   3645 
_IRQ_STP_FLG                              IMPT 00000000   3644 
_KAJLIV_TTL_IDOBUF                        IMPT 00000000   4202 
_KAJLIV_TTL_POINT                         IMPT 00000000   4201 
_KAJLIV_TTL_TOTAL                         IMPT 00000000   4199 
_KJPHOS_CAL_PRS                           IMPT 00000000   3009 
_KJPHOS_DEF_CNT_PV                        IMPT 00000000   3001 
_KJPHOS_IDO_BUF                           IMPT 00000000   3004 
_KJPHOS_IDO_CNT                           IMPT 00000000   2998 
_KJPHOS_IDO_POINT                         IMPT 00000000   2997 
_KJPHOS_IDO_TOTAL                         IMPT 00000000   3003 
_KJPHOS_SAMPLING1                         IMPT 00000000   6352  7643 
_KJPHOS_SIG_CLR                           IMPT 00000000   6351  6571 
_KJPHOS_USE_FLG                           IMPT 00000000   2996 
_KJPHOS_WAIT_CNT_PV                       IMPT 00000000   3000 
_KJYUCLS_KN_HENSA                         IMPT 00000000   4856 
_KJYUCLS_KN_HENSA_PLS                     IMPT 00000000   4857 
_KJYUCLS_OBJ_KN                           IMPT 00000000   4855 
_KJYUU_DEF_DAT_PV                         IMPT 00000000   3007 
_KJYUU_IN_DAT_PV                          IMPT 00000000   3006 
_KJYUU_NEW_DAT_PV                         IMPT 00000000   3008 
_KJYU_CHK_NEARSIG                         IMPT 00000000   4866 
_KJYU_CMP_CMD                             IMPT 00000000   4925 
_KJYU_CMP_SEQHABA                         IMPT 00000000   4931 
_KJYU_CMP_SEQMINS                         IMPT 00000000   4930 
_KJ_AREATRD_SIG                           IMPT 00000000   4907 
_KJ_AREATRD_SIG_OLD                       IMPT 00000000   4908 
_KJ_AREA_BT0_OLD                          IMPT 00000000   3765 
_KJ_AREA_SIG                              IMPT 00000000   3764 
_KOMA_ASM_RAM_TOP                         IMPT 00000000   2487 
_LINKX_SV_OBJ_ABSPLS                      IMPT 00000000   3680 
_LINK_1000ROT_PLS                         IMPT 00000000   4220 
_LINK_1ROT_PLS                            IMPT 00000000   2774 18889 
_LINK_2ROT_PLS                            IMPT 00000000   4217 
_LINK_3ROT_PLS                            IMPT 00000000   4218 
_LINK_4ROT_PLS                            IMPT 00000000   4219 
_LINK_CLANK_DIG_MAK                       IMPT 00000000   6359 14395 
_LINK_CLANK_PV                            IMPT 00000000   3497 14399 20780 
_LINK_MAX_SPD_PLS                         IMPT 00000000   3049 16825 
_LINK_NOWROT_NUMPLS_ZR                    IMPT 00000000   2697 
_LINK_NOWROT_NUM_ZR                       IMPT 00000000   2696 
_LINK_NOWROT_OFSPLS                       IMPT 00000000   2698 
_LINK_NOWROT_OFSPLS_P                     IMPT 00000000   2699 18661 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   290

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LINK_OBJROT_NUMPLS_ZR                    IMPT 00000000   2768 
_LINK_OBJROT_NUM_ZR                       IMPT 00000000   2767 
_LINK_POS_OFFSET1                         IMPT 00000000   2861 
_LINK_POS_OFFSET2                         IMPT 00000000   2862 
_LINK_PV_ABSPLS                           IMPT 00000000   2860 14366 14473 16956 
_LINK_RL_OBJ_ABSPLS                       IMPT 00000000   2821 
_LINK_SV_OBJ_ABSPLS                       IMPT 00000000   2829 
_LINK_SV_OBJ_SPDPLS                       IMPT 00000000   2830 
_LNGTH_ADD_DATA                           IMPT 00000000   2855 
_LNGTH_TOTAL_OUTPLS                       IMPT 00000000   2856 
_LONG_BIT_TBL0                            IMPT 00000000   6278 
_LOT_CHK_DBG_CNT1                         IMPT 00000000   3484 
_LOT_CHK_DBG_CNT2                         IMPT 00000000   3485 
_LOT_CHK_FLG                              IMPT 00000000   2666 12904 13060 13111 
_LOT_CNT_CNT                     P             00001C50   7611 12867*
_LOT_CNT_FLG                              IMPT 00000000   2664 10837 12944 12959 13070 13116 
_LOT_SIG_FLG_CLR                 P        EXPT 00001D14   6684 13097 13107*20040 20631 
_LOT_SIG_SET                              IMPT 00000000  12866 12973 
_LSA1_FILETR_TIM                          IMPT 00000000   3746 
_LSA2_FILETR_TIM                          IMPT 00000000   3747 
_LSA_CHK_DELAY_TM                         IMPT 00000000   3752 
_LSA_ENC_DIG                              IMPT 00000000   3739 
_LSA_ENC_MOV_LNG1A                        IMPT 00000000   3740 
_LSA_ENC_MOV_LNG1B                        IMPT 00000000   3741 
_LSA_ENC_MOV_LNG2                         IMPT 00000000   3742 
_LSA_ERRCLR_INI                           IMPT 00000000   6246  6575 
_LSA_ERR_SIG                              IMPT 00000000   3751 
_LSA_SIG_DT                               IMPT 00000000   3743 
_LSA_SIG_DT2                              IMPT 00000000   4068 
_LSA_SIG_OLD_DT                           IMPT 00000000   3744 
_LSA_SIG_OLD_WRK                          IMPT 00000000   3745 
_LSI_BUF_PLS_BitComdL                     IMPT 00000000   3603 
_LSI_CHK_DBG_CNT1                         IMPT 00000000   4476 
_LSI_CHK_DBG_CNT2                         IMPT 00000000   4477 
_LSI_CHK_DBG_CNT3                         IMPT 00000000   4478 
_LSI_CHK_DBG_CNT4                         IMPT 00000000   4479 
_LSI_CMPCPUAB_POSMAX                      IMPT 00000000   3582 
_LSI_CMPCPUAB_POS_RL                      IMPT 00000000   3581 
_LSI_LOAD_PLS                             IMPT 00000000   5214 
_LSI_PLSCLR_AC_CNT1                       IMPT 00000000   3571 
_LSI_PLSCLR_NG_CNT1                       IMPT 00000000   3572 
_LSI_PLSCLR_NG_CNT2                       IMPT 00000000   3573 
_LSI_PLSCLR_RETRY_CNT1                    IMPT 00000000   3554 
_LSI_PLSCMP_AC_CNT1                       IMPT 00000000   3567 
_LSI_PLSCMP_NG_CNT1                       IMPT 00000000   3565 
_LSI_PLSCMP_RETRY_CNT1                    IMPT 00000000   3564 
_LSI_PLSRD_NG_CNT1                        IMPT 00000000   3568 
_LSI_PLSSET_AC_CNT1                       IMPT 00000000   3574 
_LSI_PLSSET_AC_CNT2                       IMPT 00000000   3575 
_LSI_PLSSET_NG_CNT1                       IMPT 00000000   3576 
_LSI_PLSSET_NG_CNT2                       IMPT 00000000   3577 
_LSI_PLSSET_NG_CNT3                       IMPT 00000000   3578 
_LSI_PLSSET_RETRY_CNT1                    IMPT 00000000   3555 
_LSI_SET_SPD_MAXLMT                       IMPT 00000000   3665 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   291

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LSI_SET_SPD_MINLMT                       IMPT 00000000   3666 
_LSI_SET_SPD_SV                           IMPT 00000000   3664 
_LT_INT_LINK_RL_OBJ_ABSPLS                IMPT 00000000   3515 
_LT_LINK_SV_OBJ_ABSPLS                    IMPT 00000000   3514 
_LT_LNGTH_ADD_DATA                        IMPT 00000000   3516 
_LT_LNGTH_TOTAL_OUTPLS                    IMPT 00000000   3517 
_LT_RNA_REF_ERR_FLG1                      IMPT 00000000  14995 15009 
_MAIN_CLK                                 IMPT 00000000   4803 
_MAIN_SPD_CHG_FLG                         IMPT 00000000   5516 
_MAIN_START_OK                            IMPT 00000000   2497 
_MAIN_TIM_CHG_FLG                         IMPT 00000000   5517 
_MASK2_SAFTY_MAK                 P             0000277C   7533 15599*
_MASK2_SAFTY_SW_MOV              P             000027DC   8318 15668*
_MCN_DBG_COD11                            EQU  00000063   2241*
_MCN_DBG_COD21                            EQU  00000059   2243*
_MCN_DBG_COD22                            EQU  00000058   2244*
_MCN_DBG_COD23                            EQU  00000058   2245*
_MCN_DBG_COD31                            EQU  0000004F   2247*
_MCN_DBG_COD32                            EQU  0000004E   2248*
_MCN_DBG_COD33                            EQU  0000004D   2249*
_MCN_FUJI_DBG1                            EQU  000004D2   2251*
_MISS_KEN_CAM_IN                          IMPT 00000000   5557 
_MISS_KEN_CAM_OF_EDG                      IMPT 00000000   5558 
_MISS_KEN_CNT_STOP_SQ                     IMPT 00000000   5560 
_MISS_KEN_DI                              IMPT 00000000   5553 
_MISS_KEN_DI_REC_ON                       IMPT 00000000   5554 
_MISS_KEN_EMG_STOP_SQ                     IMPT 00000000   5561 
_MISS_KEN_INIT_FLG                        IMPT 00000000   5550 
_MISS_KEN_INIT_TIM                        IMPT 00000000   5551 
_MNWR_POS_CMD                             IMPT 00000000   2790  9051  9066 10144 10605 10736 10880 11079 11129 11164 11230 15962 
                                                         17530 
_MN_POS_CTRL_ACT                          IMPT 00000000   6225  9250 
_MN_POS_CTRL_START                        IMPT 00000000   6224  8841 
_MODE_AREA_MAKE                  P        EXPT 00000524   6342  7467*
_MODE_CHANGE                     P        EXPT 00000448   6340  7258*
_MODE_CNTCNF1_STOP_CHK           P             000011A0  10338*10667 
_MODE_CNTCOM1_STOP_CHK           P             00001158  10281*10663 10707 
_MODE_CNTCOM2_STOP_CHK           P             000011E0  10398*10683 
_MODE_CNT_STOP_CHK               P             00000FE0   9112  9948*
_MODE_CSS_STOP_CHK               P             000012F4   9097 10640*
_MODE_CTRL                       P        EXPT 00000534   6341  7491*
_MODE_DIC_STOP_CHK               P             000014C0   9241 11016*
_MODE_DUP_STOP_CHK               P             0000152C   9228 11108*
_MODE_INC_STOP_CHK               P             000014AC   9128 10998*
_MODE_OPT_STOP_CHK               P             000014AC   9212 10997*
_MODE_SEL                                 IMPT 00000000   2627  7837  8510  9085  9305  9436  9612  9637  9746 10492 10645 11623 
                                                         11656 12755 12873 13358 13445 13513 14736 14865 14913 17488 18338 19897 
                                                         20266 20526 
_MODE_SGL_STOP_CHK               P             00001244   9158 10487*
_MONI_CPUAB_PLSDELT                       IMPT 00000000   3921 
_MONI_DISP_MOD                            IMPT 00000000   5605 
_MONI_RDY_STEP                            IMPT 00000000   5025  8196  8218  8254  8405  8462  8480  8495  9419  9432  9446  9465 
_MONI_RESET_STEP                          IMPT 00000000   5024  6945  6964  6977  6995  7005  7031  7043  7067  7080  7132  7163 
                                                          7183  7204 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   292

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_MONI_SELF_STS1                           IMPT 00000000   5026 
_MONI_SELF_STS2                           IMPT 00000000   5027 
_MOTION_CHK_START_FLG                     IMPT 00000000   5331 
_MOTION_SPD_CHKCNT                        IMPT 00000000   5448 
_MOT_REP_CNT                              IMPT 00000000   5071 
_MOT_REP_F                                IMPT 00000000   5070 14281 
_MOVE_MODE_MATH_LATCH                     IMPT 00000000   5088 18748 
_MOV_DATA_ERR_FLG1                        IMPT 00000000   2600 
_MOV_ERR_FLG1                             IMPT 00000000   2597 
_MRTION_SEL                               IMPT 00000000   2632 
_MULDIV_R1R2S64mR3S32dR4S32aR1R2*         IMPT 00000000   6210 
_MULDIV_R2S32mR1S32dR4S32aR1R2S6*         IMPT 00000000   6209 
_MUL_R1R2S64mR3S32aR1R2S64                IMPT 00000000   6211 
_MYUTING_MOD_STOPSEL                      IMPT 00000000   4729 12542 12736 
_M_LINK_AREASIG                           IMPT 00000000   2706  7175 10791 12037 18642 20213 
_M_LINK_RL_OBJ_ABSPLS                     IMPT 00000000   2814 
_NEAR_IN_FLG                              IMPT 00000000   2689 14153 
_NEG_CTL_OBJ_POS_PUSH                     IMPT 00000000   4328 
_NEG_CTRL_BEFOR_OBJ_PLS                   IMPT 00000000   4326 
_NEG_CTRL_BEFOR_SLW_PLS                   IMPT 00000000   4327 
_NEG_DND_STOP_POS_END_F                   IMPT 00000000   5569 
_NEG_DND_STOP_USE_F                       IMPT 00000000   5568 
_NEG_EXITTIM                              IMPT 00000000   4698 
_NEWMASK_SEL_STOPMSK             P             00001B24   8340  8367 11388 12536*16467 16487 
_NEW_POSLSI_RESTPLS                       IMPT 00000000   3583 
_NEW_TEP_CNT                              IMPT 00000000   3811 
_NOW_INC_DIG_MAK                          IMPT 00000000   6273 18656 
_NOW_MOTREP_DIR                           IMPT 00000000   5072 
_NOW_POS_PRESET_OUTPLS                    IMPT 00000000   6226  6597 
_NZ_TIM_CHK1                     P        EXPT 00002424  14623 14678*
_NZ_TIM_OUT_PV1                           IMPT 00000000   3399 11002 14646 14688 
_NZ_TIM_OUT_PV2                           IMPT 00000000   3400 14656 14703 
_NZ_TIM_OUT_SV1                           IMPT 00000000   3397 14639 14682 
_NZ_TIM_OUT_SV2                           IMPT 00000000   3398 14649 14697 
_OBJDIG_CLANK                             IMPT 00000000   4701 
_OBJ_ENC360                               IMPT 00000000   2541 
_OLD_RNAORG_POS1                          IMPT 00000000   2528 
_OPT_SGL_SFTY_MASK_CHK           P             00001BCC  12382 12729*
_ORGIN2_STEP_FLG                          IMPT 00000000   4337 
_ORGIN_180CHK                    P             00002670   8260 15364*
_ORGIN_END_FLG1                           IMPT 00000000   3071 
_ORGIN_MOD2_CHKTIM                        IMPT 00000000   3835 14811 14925 
_ORGIN_MOD2_SEL                           IMPT 00000000   3834 14778 14880 14940 14957 
_ORGIN_MOD2_START_FLG                     IMPT 00000000   3836 14804 14833 14919 
_ORGIN_MODE_FLG_CLR              P        EXPT 000024CC   8710 11218 11492 14822 14828*
_ORGIN_MODE_SEL_START            P             000024E0   8651 14860*
_ORGIN_MODE_SEL_WAIT             P             00002464   8678 14731*
_ORGIN_MODE_START_WAIT           P             00002514   8227 14909*
_ORGPOS_LATCH1_INC_OFFSET_PLS             IMPT 00000000   4393 
_ORGPOS_LATCH1_RNA_ABS_DAT                IMPT 00000000   4394 
_ORGPOS_SERCH_RNA_ABS_DAT                 IMPT 00000000   4395 
_ORG_DND_NOMAL_FLG1                       IMPT 00000000   2604  6998 
_ORG_DRV_CNT_PV                           IMPT 00000000   3471 13441 
_ORG_ELSE_NOMAL_FLG1                      IMPT 00000000   2603  7035 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   293

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ORG_END_SIG_CLR                          IMPT 00000000   6230  6566 
_ORG_FIRST_OBJPLS                         IMPT 00000000   3062 
_ORG_PRESET_TIM                           IMPT 00000000   2612  6594 
_ORG_RDY_CTL_FLG                          IMPT 00000000   3472 11151 11400 13436 
_ORG_SECOND_OBJPLS                        IMPT 00000000   3063 
_ORIGN_180ARA_FLG                         IMPT 00000000   4029 15409 15472 15508 16728 
_ORIGN_OBJ_CTL_FLG                        IMPT 00000000   3667 
_OUTPLS_1000MSEC_LAT                      IMPT 00000000   3458 
_OUTPLS_DELT                              IMPT 00000000   3454 
_OUTPLS_DIV                               IMPT 00000000   2864 
_OUTPLS_MOD                               IMPT 00000000   2863 
_OUTPLS_POINT_SEL                         IMPT 00000000   3457 
_OUTPLS_SPD_AVL_TOP                       IMPT 00000000   3455 
_OUTPLS_SPD_POINT                         IMPT 00000000   3456 
_OUTPLS_SPD_TOTAL                         IMPT 00000000   3450 
_OUT_PLS_SPD                              IMPT 00000000   3451 
_OUT_PLS_SPD_DIR                          IMPT 00000000   3453 
_OVER1_JGDIG                              EQU  00000032   2050*
_OVERH_CALC_USE                           IMPT 00000000   4695 
_OVERH_MODE_SEL                           IMPT 00000000   4693 
_OVERLIDE_DT_SEL                          IMPT 00000000   3883 
_OVERLID_DEF_SET                          IMPT 00000000   6357  6840 
_OVER_LIDE_ANS_TIM                        IMPT 00000000   3910 
_OVER_RIDE_LATE_ANS                       IMPT 00000000   3873 
_OVER_RIDE_LATE_FLG                       IMPT 00000000   3871 
_OVER_RIDE_LATE_REQ                       IMPT 00000000   3872 
_OVER_RIDE_USEFUL                         IMPT 00000000   3905 
_OVER_RID_UPDN_LAT_DTMK                   IMPT 00000000   6355  8796 
_OVER_UPDN_DBGCNT                         IMPT 00000000   3907 
_OVRLIDE_LATE_MAX                         EQU  00000064   2282*
_PAR_BRKDISE_TIM                          IMPT 00000000   6301 
_PAR_BRKLOCK_TIM                          IMPT 00000000   6302 
_PAR_BTNER_TM                             IMPT 00000000   6319 17399 
_PAR_EP1STR_DLYTM                         IMPT 00000000  18919 19161 
_PAR_EP2FVINOF_ERTM                       IMPT 00000000  18920 19183 
_PAR_EP3BRKON_DLYTM                       IMPT 00000000  18921 19294 
_PAR_EP4EPINOF_ERTM                       IMPT 00000000  18922 19300 
_PAR_EP5RSTON_DLYTM                       IMPT 00000000  18923 19459 
_PAR_EP6RSTOF_INTTM                       IMPT 00000000  18925 19474 
_PAR_EP6RSTON_JGTM                        IMPT 00000000  18924 19482 
_PAR_EP6RST_RETRY                         IMPT 00000000  18926 19563 
_PAR_EP7AB_DLYTM                          IMPT 00000000  18927 19175 
_PAR_EP7END_DLYTM                         IMPT 00000000  18928 19661 
_PAR_EPCHK_SEL                            IMPT 00000000  18918 19013 
_PAR_EXTDRV_SEL                           IMPT 00000000   6318 17081 
_PAR_INCMODE_EPLS                         IMPT 00000000   6325 18685 
_PAR_INCMODE_SEL                          IMPT 00000000   6324 18835 
_PAR_MYUTERR_SEL                          IMPT 00000000   6320 15701 
_PAR_MYUTING_SEL                          IMPT 00000000   6315 15604 
_PAR_MYU_BRK_SEL                          IMPT 00000000   6387  8334 16461 
_PAR_ORGDRV_CNT                           IMPT 00000000   6297 13439 
_PAR_ORGDRV_MOD                           IMPT 00000000   6296 11113 14764 
_PAR_POSHLD_BRKSEL                        IMPT 00000000   6328 18333 
_PAR_SELFCHK_POWSEL                       IMPT 00000000   9857  9863 16762 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   294

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PAR_SELF_WAIT_TM                         IMPT 00000000   6303 
_PAR_SFTY_BRKSEL                          IMPT 00000000   6300 
_PAR_SLOCK_DLY2                           IMPT 00000000   6304 
_PAR_UPCHK_SEL1                           IMPT 00000000   6308 11902 12065 
_PAR_UPMASK_SPD                           IMPT 00000000   6311 12317 
_PLSOUTEND_FLG                            IMPT 00000000   5237 
_PLSOUTEND_PVPLS                          IMPT 00000000   5235 
_PLSOUTEND_SHIN                           IMPT 00000000   5236 
_PLS_OUTPUT_FLG                           IMPT 00000000   3390 
_PLS_OUT_END_STS                          IMPT 00000000   4786 
_PON_ERR_WAIT_TIM                         IMPT 00000000   5167 
_POSCANSEL_CMD                            IMPT 00000000   5475 11205 20446 20467 
_POSCAN_PROC_STEP_RECOVER        P             00003EA4  20477 20520*
_POSCTL_CALC_ERR                          IMPT 00000000   3858 
_POSCTL_OVER_ACC_LAT                      IMPT 00000000   3914 
_POSCTL_OVER_SPD_LAT                      IMPT 00000000   3913 
_POSCTL_RL_PLS                            IMPT 00000000   3845 
_POSCTL_RL_SPD                            IMPT 00000000   3849 
_POSCTL_SET_SPD                           IMPT 00000000   3847 
_POSCTL_STEP_CMD                          IMPT 00000000   3856 
_POSCTL_STEP_FLG                          IMPT 00000000   3857 
_POSCTL_SV_DN_ACC                         IMPT 00000000   3852 
_POSCTL_SV_OFS_SPD                        IMPT 00000000   3854 
_POSCTL_SV_PLS                            IMPT 00000000   3844 
_POSCTL_SV_SPD                            IMPT 00000000   3848 
_POSCTL_SV_UP_ACC                         IMPT 00000000   3851 
_POSCTRL_CANSEL_RESET            P             00003E54   7527 20442*
_POSHLD1_CHKLST_FLG                       IMPT 00000000   5019 17651 17661 18076 
_POSHLD1_FLG_CLR                 P             0000332C  18069*18275 
_POSHLD1_GENSKPOSWK                       IMPT 00000000   4998 
_POSHLD1_GENSK_STEP                       IMPT 00000000   4999 
_POSHLD1_SDAT1_HOLDPOS                    IMPT 00000000   5001 17867 
_POSHLD1_SDAT2_HOLDPOS                    IMPT 00000000   5002 17854 
_POSHLD1_SIG_CHK                 P             00003358   7992 18104*
_POSHLD1_STEP1_STOPCMD_CHK       P             0000301C   9013 17444*
_POSHLD1_STEP2_START_CHK         P             00003238  17896*18193 
_POSHLD1_STOPBTTNCMD_CHK         P             000030E4   8029  8066 17519 17597*
_POSHLD1_STOPLATCH                        IMPT 00000000   5007 10173 10348 17614 18429 
_POSHLD1_STOPSPDWK                        IMPT 00000000   4996 
_POSHLD1_STOP_CONFCHK            P             00003110  17496 17635*
_POSHLD1_STOP_STEP                        IMPT 00000000   4995 17663 
_POSHLD1_STOP_STEPWK                      IMPT 00000000   4994 
_POSHLD_SET_DN_ACC                        IMPT 00000000   5006 
_POSINER_FLG                              IMPT 00000000   4947 
_POSINER_MOSTPV_POS                       IMPT 00000000   4943 
_POSINER_OLDPV_POS                        IMPT 00000000   4942 
_POSINER_PV_POS                           IMPT 00000000   4941 
_POSINER_RETRY_CNT                        IMPT 00000000   4949 
_POSINER_STOPCHK_TIM1                     IMPT 00000000   4950 
_POSINER_STOPCHK_TIM2                     IMPT 00000000   4951 
_POSINER_STS                              IMPT 00000000   4948 
_POSINER_SV_OVRPOS                        IMPT 00000000   4945 
_POSINER_SV_POS                           IMPT 00000000   4944 
_POSINER_SV_STPPOS                        IMPT 00000000   4946 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   295

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POSLSI_CHK_CNT                           IMPT 00000000   2873 
_POSLSI_CHK_DLT                           IMPT 00000000   2874 
_POSLSI_CHK_RESTPLS                       IMPT 00000000   2867 
_POSLSI_CHK_STS                           IMPT 00000000   2875 
_POSLSI_CMP_DATA                          IMPT 00000000   2857 
_POSLSI_DELT_POS                          IMPT 00000000   2858 
_POSLSI_DRIV_SHIN                         IMPT 00000000   2866 
_POSLSI_DRV_FRQ                           IMPT 00000000   3584 
_POSLSI_HENSA_LATCH                       IMPT 00000000   2871 
_POSLSI_OUTPUT_TOTAL_PLS                  IMPT 00000000   2869 
_POS_CALC_ERR_FLG1                        IMPT 00000000   3557 
_POS_CALC_ERR_FLG2                        IMPT 00000000   3558 
_POS_CALC_ERR_INF1                        IMPT 00000000   3561 
_POS_CALC_ERR_INF2                        IMPT 00000000   3562 
_POS_CANSEL_CLR                  P             000015EC  11214 11263*
_POS_CANSEL_STOP_CHK             P             00001598   9035 11192*
_POS_CMP_1STEP_START_INI         P        EXPT 0000219C  13564 14080 14136*
_POS_CTRL_SQ_STS                          IMPT 00000000   2837  8269 11421 13313 14163 
_POS_DRV_DIRECT                           IMPT 00000000   2831 
_POS_END_MYUTIG_KEEPTIM                   IMPT 00000000   5256 
_POS_END_MYUTIG_STOPTIM                   IMPT 00000000   5255 
_POS_END_WAIT_TIM                         IMPT 00000000   5246 
_POS_FRQ_SPDMAX                           IMPT 00000000   3055 
_POS_GPOINT_POS                           IMPT 00000000   3947 
_POS_HLDSTOP1_CHKTIM                      IMPT 00000000   4978 17920 17972 
_POS_HLDSTOP1_FLG                         IMPT 00000000   4979 17448 17538 17900 17924 17993 18074 
_POS_HLDSTOP1_SIG1TIM                     IMPT 00000000   4980 18017 18116 18432 
_POS_HLDSTOP1_SIG2TIM                     IMPT 00000000   4981 17766 18019 18149 18434 
_POS_HOLDABS_CALCF                        IMPT 00000000   5018 17640 
_POS_HOLD_CMD                             IMPT 00000000   5013  8003  8081 17543 18269 18383 
_POS_HOLD_FLG                             IMPT 00000000   5014  7997  8010  8048 18271 18378 18505 
_POS_HOLD_FLG_CLR                P             000033F4   8102 18261*18420 
_POS_HOLD_FLG_EXQ_CLR            P             00003494  11506 18414*
_POS_HOLD_FLG_STR2CLR            P        EXPT 00003420   6384  8618  8849 18293*18424 
_POS_HOLD_RDY_EXITF                       IMPT 00000000   5015  8107  8756 18298 18373 
_POS_HOLD_RDY_EXITF2                      IMPT 00000000   5016 
_POS_HOLD_RESTARTCMD                      IMPT 00000000   5012  8075 17998 18267 
_POS_HOLD_RESTART_CHK            P             000033B8   8071 18188*
_POS_LSI_ABSPLS                           IMPT 00000000   2919 
_POS_LSI_ACCLT1                           IMPT 00000000   3059 
_POS_LSI_ACCLT2                           IMPT 00000000   3060 
_POS_LSI_ACS_ERR_FLG1                     IMPT 00000000   3556 
_POS_LSI_ACS_ERR_INF1                     IMPT 00000000   3560 
_POS_LSI_CLSINC_SPDBAS                    IMPT 00000000   3077 
_POS_LSI_CLS_SPDBAS                       IMPT 00000000   3076 
_POS_LSI_CTL_NOWPLS                       IMPT 00000000   2923 
_POS_LSI_OFFSET1                          IMPT 00000000   2921 
_POS_LSI_OFFSET2                          IMPT 00000000   2922 
_POS_LSI_OLDCNT                           IMPT 00000000   2925 
_POS_LSI_SLOW_STOP                        IMPT 00000000   6249 
_POS_LSI_SPDBAS                           IMPT 00000000   3058 
_POS_LSI_SPDLAT                           IMPT 00000000   3057 
_POS_LSI_SPDMAX                           IMPT 00000000   3056 
_POS_LSI_TOTAL_PLS                        IMPT 00000000   2918 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   296

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POS_STEP1_SEARCH                         IMPT 00000000  18589 18673 
_PRD_DAI_CMP_ENB                          IMPT 00000000   3509 
_PRD_DAI_POS0                             IMPT 00000000   3507 
_PRD_DAI_POS1                             IMPT 00000000   3508 
_PRD_KJP_CMP_ENB                          IMPT 00000000   3995 
_PRESET_PV_FLGCLR                         IMPT 00000000   6272  6607 
_PS_DG_INF_CHK1                           EQU  00000000   2215*
_PS_DG_INF_CHK2                           EQU  0000003C   2220*
_PS_DG_INF_CONT                           EQU  00000004   2216*
_PS_DG_INF_LATE                           EQU  00000010   2219*
_PS_DG_INF_STLK                           EQU  0000000C   2218*
_PS_DG_INF_UNIT                           EQU  00000008   2217*
_PS_TIME                                  EQU  00000002   2005*
_PVCK_STOP_SMPTIM                         IMPT 00000000   3258 
_PVC_BRK_ENC_SPD                          IMPT 00000000   3462 
_PVC_BRK_OUT_SPD                          IMPT 00000000   3463 
_PVPX1_CKLMT_AGLTOP                       IMPT 00000000   5333 
_PVPX1_CKLMT_SPDTOP                       IMPT 00000000   5334 
_PVP_MOT_ACT_STEP                         IMPT 00000000  14293 14294 
_PVP_WTJUD_AGL                            IMPT 00000000   6381 
_PVP_WTJUD_POS                            IMPT 00000000   6382 
_PVP_WTJUD_SNO                            IMPT 00000000   6380 
_PVX_AMPERR_TIM1                          IMPT 00000000   3195 
_PVX_AMPERR_TIM2                          IMPT 00000000   3196 
_PVX_AMPERR_TIM3                          IMPT 00000000   3197 
_PVX_CKAGL_OVBIT                          IMPT 00000000   4753 
_PVX_CKSPD_OVBIT                          IMPT 00000000   4734 
_PVX_DAI_POS0                             IMPT 00000000   2939 
_PVX_DAI_POS1                             IMPT 00000000   2940 
_PVX_DNMOD_DLYTIM                         IMPT 00000000   4718 
_PVX_DYHITO_POS                           IMPT 00000000   2947 
_PVX_IAMP_VLT                             IMPT 00000000   3198 
_PVX_INPPOS_TIM1                          IMPT 00000000   3171 
_PVX_MOTINS_AG2                           IMPT 00000000   4538 
_PVX_MOTINS_AG2X                          IMPT 00000000   4539 
_PVX_MOTINS_AG3                           IMPT 00000000   4544 
_PVX_MOTINS_AG3X                          IMPT 00000000   4545 
_PVX_MOTINS_AGL                           IMPT 00000000   4541 
_PVX_MOTINS_AGLX                          IMPT 00000000   4542 
_PVX_MOTINS_DAN                           IMPT 00000000   4549 
_PVX_MOTINS_DANAFT                        IMPT 00000000   4550 
_PVX_MOTINS_DANBEF                        IMPT 00000000   4548 
_PVX_MOTINS_INF                           IMPT 00000000   4552 
_PVX_MOTINS_POS                           IMPT 00000000   4535 
_PVX_MOTINS_PS2                           IMPT 00000000   4534 
_PVX_MOTINS_PS3                           IMPT 00000000   4536 
_PVX_RNA_STLORK                           IMPT 00000000   2941 
_PV_ENC_SPD_PER                           IMPT 00000000   3460 12319 
_PV_OUT_SPD_PER                           IMPT 00000000   3461 
_RDYON_CONF1                     P             00000DD8   8469  8608  9405*
_RDY_CHEAK                       P             00000770   7619  7983*
_RDY_HOLDSTP_FLGOUT              P             0000350C   7623 18500*
_RDY_HOLDSTP_OF_FLGOUT           P             000034F0  18451 18478*
_RDY_OF                                   IMPT 00000000   6065  8885  8966 16638 16755 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   297

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_RDY_ON                                   IMPT 00000000   6064  8545 16551 16593 
_RDY_SFTY_LOCK                            IMPT 00000000   3731 
_RDY_SFTY_WAIT_TIM                        IMPT 00000000   3732 15143 15164 15287 
_RECOVER_WAIT_AREA_CHK           P             00003D2C  19948 20156*20567 
_RENEA_ERR_RESET_INI                      IMPT 00000000  14994 15034 
_REP_CAMOBJ_DIG                           IMPT 00000000   5073 
_RESET_CHEAK                     P        EXPT 00000000   6339  6418*
_RESET_CONF_CHK                  P             000002B4   6612  6900*
_RESET_END_OUT                            IMPT 00000000   6057  6794 
_RESET_ERR_SEQ_CLR                        IMPT 00000000   6234  6655  6804 
_RESET_ERR_SEQ_CLR1                       IMPT 00000000   6235 
_RESET_ERR_SEQ_CLR2                       IMPT 00000000   6236  6808 
_RESET_OUT                                IMPT 00000000   6056  6659  6760 
_RESET_ROTNUMPLS_ZR                       IMPT 00000000   2731 
_RESET_ROTNUM_ZR                          IMPT 00000000   2730 
_REVCHK_DRIV_SHIN                         IMPT 00000000   4619 
_REVCHK_MASK_PVTIM                        IMPT 00000000   4620 
_REVMOD_REVDN_DIG                         IMPT 00000000   4622 
_REV_CALC_WORK0                           IMPT 00000000   3249 
_REV_CALC_WORK1                           IMPT 00000000   3250 
_REV_CALC_WORK2                           IMPT 00000000   3251 
_REV_ERR_FLG                              IMPT 00000000   5277 
_REV_ERR_LT_PGPOS                         IMPT 00000000   5280 
_REV_ERR_LT_SVPOS                         IMPT 00000000   5281 
_REV_ERR_WAIT_TIMPV                       IMPT 00000000   4618 
_REV_LATCH_ENCPOS                         IMPT 00000000   2889 
_REV_LATCH_OUTPLS                         IMPT 00000000   2888 
_REV_LATCH_RNAPOS                         IMPT 00000000   2890 
_RM1_CHK_OLDSTS                           IMPT 00000000   5105 
_RM1_CHK_TIME                             IMPT 00000000   5106 
_RM2_CHK_OLDSTS                           IMPT 00000000   5108 
_RM2_CHK_TIME                             IMPT 00000000   5109 
_RNAREV_ADD                               EQU  00000000   2072*
_RNASTP_ADD                               EQU  00000000   2070*
_RNA_ABS_DRVHOS_DT                        IMPT 00000000   2980 
_RNA_ABS_MAXPOS                           IMPT 00000000   2959 
_RNA_ABS_MD2_C1                           IMPT 00000000   4352 
_RNA_ABS_MD2_C1A                          IMPT 00000000   4353 
_RNA_ABS_MD2_C2                           IMPT 00000000   4354 
_RNA_ABS_MD_DT0                           IMPT 00000000   2943 
_RNA_ABS_MD_DT1                           IMPT 00000000   2944 
_RNA_ABS_MEMORG                           IMPT 00000000   2936 
_RNA_ABS_MINPOS                           IMPT 00000000   2958 
_RNA_ABS_ORGWORK                          IMPT 00000000   2927 
_RNA_ABS_ORGWORK2                         IMPT 00000000   4346 
_RNA_ABS_ORGWORK2A                        IMPT 00000000   4347 
_RNA_ABS_POS                              IMPT 00000000   2935 
_RNA_ABS_WKMAXPOS                         IMPT 00000000   2957 
_RNA_ABS_WKMINPOS                         IMPT 00000000   2956 
_RNA_BBN_MESURE_POINT                     IMPT 00000000   4493 
_RNA_BBN_MESURE_SPOS_BUF                  IMPT 00000000   4486 
_RNA_BBN_MESURE_SSPD                      IMPT 00000000   4488 
_RNA_BBN_MESURE_SSPD_BUF                  IMPT 00000000   4487 
_RNA_BBN_MEUSRE_ACC                       IMPT 00000000   4490 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   298

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_RNA_BBN_MEUSRE_ACC_SRC                   IMPT 00000000   4489 
_RNA_BBN_SET_TIME                         IMPT 00000000   4492 
_RNA_CMD_RD_CNT                           IMPT 00000000   2554 
_RNA_CMD_SND_CNT                          IMPT 00000000   2553 
_RNA_COM_ERR_CNT                          IMPT 00000000   2546 
_RNA_COM_NML_CNT                          IMPT 00000000   2547 
_RNA_CTL_POS0                             IMPT 00000000   2945 
_RNA_CTL_POS1                             IMPT 00000000   2946 
_RNA_ENC360                               IMPT 00000000   2538 
_RNA_ERR_RSTCHK                  P        EXPT 00002734  15530 15537*
_RNA_HOS_DELT                             IMPT 00000000   2948 
_RNA_INSERT_CHKFLG                        IMPT 00000000   4505 
_RNA_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2722 
_RNA_OLD_STEP                             IMPT 00000000   4508 
_RNA_POS_OFFSET1                          IMPT 00000000   2933 
_RNA_POS_OFFSET2                          IMPT 00000000   2934 
_RNA_PROTOCOL_SEL                         IMPT 00000000   4045 
_RNA_PROTOCOL_X                           IMPT 00000000   4048 
_RNA_RESET_FLG                            IMPT 00000000   2549 15557 
_RNA_RESET_TIM                            IMPT 00000000   2550 
_RNA_SCIF_ERR_CLR1               P             00002580   6602 15001*15569 
_RNA_SCIF_ERR_CLR2                        IMPT 00000000   6265 15030 15048 
_RNA_STLORK                               IMPT 00000000   2938 
_RNA_STLORK_HALF                          IMPT 00000000   4344 
_RNA_STOP_CNT                             IMPT 00000000   3259 
_RNA_TECH_POINT                           IMPT 00000000   4504 
_RNA_TECH_POSBUF                          IMPT 00000000   4503 
_ROOT_MAIN_INP                            IMPT 00000000   5611 
_ROOT_MAIN_OUT                            IMPT 00000000   5612 
_ROT_CNTMODE_CHK                 P             00003FBC  20707 20751*
_RST_DLY_TM                               EQU  000000C8   2024* 6757 
_RST_ERR_CHK_ERR                          IMPT 00000000   2894 
_RST_ERR_CHK_FLG                          IMPT 00000000   2892 11397 
_RST_MOD_POS_END                 P             00001790   6790 11604*
_RST_MOD_POS_START               P             0000177C   6663 11576*
_SAME_TIM                                 IMPT 00000000   2674  8530  9608  9720 16536 
_SCAN_DBG_CNT                             IMPT 00000000   4822 
_SCAN_SMP_SIG                             IMPT 00000000   4809 
_SCAN_TIM_IDOBUF                          IMPT 00000000   4800 
_SCAN_TIM_IN                              IMPT 00000000   4805 
_SCAN_TIM_POINT                           IMPT 00000000   4801 
_SCAN_TIM_TOTAL                           IMPT 00000000   4799 
_SDATCLS_OBJMM                            IMPT 00000000   3083 
_SDATCLS_OBJPLS                           IMPT 00000000   3082 
_SDATCLS_OBJ_NEAR_UPDNPLS                 IMPT 00000000   3084 
_SDATCLS_TRG_STEP                         IMPT 00000000   3086 
_SDATCLS_UPOBJ_PLS                        IMPT 00000000   3085 
_SDAT_WAIT_PVTIM                          IMPT 00000000   2776 
_SELFCHK_LOCK_SET                P             00000FA4   8893  9858*
_SELF_AD_LATCH                            IMPT 00000000   3720 
_SELF_BRK_LOCK                            IMPT 00000000   3716 
_SELF_CHK_MATHED                          IMPT 00000000   3715  9876 16775 
_SELF_CHK_SEL                             IMPT 00000000   2621  9312  9874 15869 16773 
_SELF_COM                                 IMPT 00000000   2619  7550  7870  7925 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   299

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SELF_FIRST_END_FLG                       IMPT 00000000   3713 
_SELF_FLG                                 IMPT 00000000   2617  7548  7848  7874  7954 15622 15875 
_SELF_LOCK_FLG                            IMPT 00000000   4000  9870 16769 
_SELF_MOV_LENGTH                          IMPT 00000000   3723 
_SELF_MOV_SPEED                           IMPT 00000000   3724 
_SELF_SECOND_ACT_FLG                      IMPT 00000000   3718 
_SELF_SECOND_STEP                         IMPT 00000000   3719 
_SELF_START_CONF                          IMPT 00000000   6222  7917 
_SELF_START_POS_LATCH                     IMPT 00000000   3722 
_SELF_START_WAIT_TM                       IMPT 00000000   2620 
_SELF_TIMING_SIG                          IMPT 00000000   3714  6688  9324 
_SEQAB_DP_TOP                             IMPT 00000000   6374 17474 17481 
_SET1_ACCLAT_TIM1                         IMPT 00000000   3158 
_SET1_AMP100P_VLT                         IMPT 00000000   3192 
_SET1_ARACHK_LNG1                         IMPT 00000000   3173 
_SET1_ATDAT_DOTPOS                        IMPT 00000000   4959 
_SET1_ATSLID_BAKLNG                       IMPT 00000000   4954 
_SET1_ATSLID_COEF1                        IMPT 00000000   4957 
_SET1_ATSLID_COEF2                        IMPT 00000000   4958 
_SET1_ATSLID_DNOBJ1                       IMPT 00000000   4955 
_SET1_ATSLID_UPOBJ1                       IMPT 00000000   4956 
_SET1_BREAK_DIG                           IMPT 00000000   3495 
_SET1_BREAK_TIM1                          IMPT 00000000   3493 
_SET1_CNT_CNT                             IMPT 00000000   3101 13397 
_SET1_CNT_TIM                             IMPT 00000000   3099 13378 
_SET1_DAIHAI_LNG1                         IMPT 00000000   3184 
_SET1_DAIHAI_LNG2                         IMPT 00000000   3185 
_SET1_DAIHAI_LNG3                         IMPT 00000000   3186 
_SET1_DAIHAI_ORG0                         IMPT 00000000   3203 
_SET1_DAIORG0_CMP1DN                      IMPT 00000000   3205 
_SET1_DAIORG0_CMP1UP                      IMPT 00000000   3204 
_SET1_DAIORG0_CMP2DN                      IMPT 00000000   3207 
_SET1_DAIORG0_CMP2UP                      IMPT 00000000   3206 
_SET1_DAIORG0_CMP3DN                      IMPT 00000000   3209 
_SET1_DAIORG0_CMP3UP                      IMPT 00000000   3208 
_SET1_DAIORG0_CMP4DN                      IMPT 00000000   3211 
_SET1_DAIORG0_CMP4UP                      IMPT 00000000   3210 
_SET1_DNAREA_INPX                         IMPT 00000000   3161 
_SET1_DNAREA_INPXPLS                      IMPT 00000000   3165 
_SET1_DNAREA_JUDG                         IMPT 00000000   3135 
_SET1_DNDINC_SPD1                         IMPT 00000000   3144 
_SET1_DND_DIGTOP                          IMPT 00000000   3774 
_SET1_DND_PLSTOP                          IMPT 00000000   3775 
_SET1_DND_STOPDIG_UP                      IMPT 00000000   3773 
_SET1_DND_STOP_SW                         IMPT 00000000   3772 
_SET1_DND_UPPLS                           IMPT 00000000   3776 
_SET1_EJECAM_OFR                          IMPT 00000000   5062 
_SET1_EJECAM_ONR                          IMPT 00000000   5061 
_SET1_ENC360_HOS1                         IMPT 00000000   3175 
_SET1_FULCLS_MXPLS                        IMPT 00000000   3187 
_SET1_INCDIR_SEL1                         IMPT 00000000   3116 
_SET1_INCENC_ELNG                         IMPT 00000000   3178 
_SET1_INCHEN_ELNG                         IMPT 00000000   3177 
_SET1_INCPLS_1REV                         IMPT 00000000   3113 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   300

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_INCPLS_HOSM                         IMPT 00000000   3118 
_SET1_INCPLS_HOSN                         IMPT 00000000   3117 
_SET1_INCPOS_KP01                         IMPT 00000000   3156 
_SET1_INCREV_ELNG                         IMPT 00000000   3182 
_SET1_INCRNA_ELNG                         IMPT 00000000   3179 
_SET1_INCSTP_ELNG                         IMPT 00000000   3180 
_SET1_INPPOS_TIM1                         IMPT 00000000   3170 
_SET1_INTLIM_AGL                          IMPT 00000000   4984 
_SET1_INTLIM_PLS                          IMPT 00000000   4986 
_SET1_KAJAREA_ENO                         IMPT 00000000   4895 
_SET1_KAJAREA_SEL                         IMPT 00000000   4909 
_SET1_KAJAREA_SNO                         IMPT 00000000   4894 
_SET1_KATTCH_EAG                          IMPT 00000000   4917 
_SET1_KATTCH_SAG                          IMPT 00000000   4916 
_SET1_KATTCH_SPD                          IMPT 00000000   4562 
_SET1_KJEND_DIG1                          IMPT 00000000   3763 
_SET1_KJEND_DIG2                          IMPT 00000000   4898 
_SET1_KJEND_STEP1                         IMPT 00000000   3762 
_SET1_KJSTR_DIG1                          IMPT 00000000   3761 
_SET1_KJSTR_DIG2                          IMPT 00000000   4897 
_SET1_KJSTR_STEP1                         IMPT 00000000   3760 
_SET1_LSAABN_AGL1                         IMPT 00000000   3749 
_SET1_LSAABN_AGL2                         IMPT 00000000   3750 
_SET1_MAX_KJYU                            IMPT 00000000   4205 
_SET1_MISCAM_OFR                          IMPT 00000000   5064 
_SET1_MISCAM_ONR                          IMPT 00000000   5063 
_SET1_MOTMAX_FREQ                         IMPT 00000000   3130 
_SET1_MOTREP_CNT                          IMPT 00000000   5054 
_SET1_MOTREP_SPD                          IMPT 00000000   5053 
_SET1_MOTREP_STGE                         IMPT 00000000   5052 
_SET1_MOTREP_STGS                         IMPT 00000000   5051 
_SET1_MOTREP_USEFUL                       IMPT 00000000   5050 
_SET1_MOTRPM_MAXM                         IMPT 00000000   3120 
_SET1_MOT_INF                             IMPT 00000000   5447 
_SET1_MRTION_SEL1                         IMPT 00000000   3213  7471 
_SET1_MTSTEP_MAXM                         IMPT 00000000   3214 
_SET1_NEG_OFS_LNG                         IMPT 00000000   3191 
_SET1_OBJARA_INPX                         IMPT 00000000   3162 
_SET1_OBJARA_INPXPLS                      IMPT 00000000   3166 
_SET1_OBJARA_INPXPSX                      IMPT 00000000   3168 
_SET1_OBJECT_DIG_TOP                      IMPT 00000000   3239 
_SET1_OBJECT_PLS_TOP                      IMPT 00000000   3224 
_SET1_OBJECT_POS_TOP                      IMPT 00000000   3219 
_SET1_OBJECT_SPD_TOP                      IMPT 00000000   3227 
_SET1_OBJECT_TIM_TOP                      IMPT 00000000   3231 
_SET1_OBJ_CAM_DIG_TOP                     IMPT 00000000   3273 
_SET1_OVERLIDE_COF                        IMPT 00000000   3884 
_SET1_PLSAHI_PLS                          IMPT 00000000   3800 
_SET1_PLSALO_PLS                          IMPT 00000000   3799 
_SET1_RCAMON_POS_TOP                      IMPT 00000000   3275 
_SET1_RCAMON_TIM_TOP                      IMPT 00000000   3276 
_SET1_REVDAT_SPD1                         IMPT 00000000   3147 
_SET1_REVDAT_SPD2                         IMPT 00000000   3150 
_SET1_REVDAT_SPD3                         IMPT 00000000   3151 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   301

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_RNADIR_SEL1                         IMPT 00000000   3115 
_SET1_RNAORG_POS1                         IMPT 00000000   3131 
_SET1_RNAPOS_KP01                         IMPT 00000000   3157 
_SET1_RNAPOS_MAXP                         IMPT 00000000   3132 
_SET1_RNAPOS_MINP                         IMPT 00000000   3133 
_SET1_RNAREV_ELNG                         IMPT 00000000   3183 
_SET1_RNASTP_ELNG                         IMPT 00000000   3181 
_SET1_ROTCAM_OFR                          IMPT 00000000   5060 
_SET1_ROTCAM_ONR                          IMPT 00000000   5059 
_SET1_RPARAM_TOP1                         IMPT 00000000   3109 
_SET1_SSCURV_TIM1                         IMPT 00000000   3159 
_SET1_STDINC_SPD1                         IMPT 00000000   3146 
_SET1_TEPCTL_SPD1                         IMPT 00000000   3807 
_SET1_TEPLAT_DAT1                         IMPT 00000000   3153 
_SET1_TEPLAT_DAT2                         IMPT 00000000   3154 
_SET1_UPAREA_DIG0                         IMPT 00000000   3238 
_SET1_UPAREA_DIG1                         IMPT 00000000   3174 
_SET1_UPAREA_INPX                         IMPT 00000000   3160 
_SET1_UPAREA_INPXPLS                      IMPT 00000000   3164 
_SET1_UPAREA_JUDG                         IMPT 00000000   3134 
_SET1_UPAREA_PLS0                         IMPT 00000000   3222 
_SET1_UPAREA_PLS1                         IMPT 00000000   3223 
_SET1_UPAREA_POS0                         IMPT 00000000   3218 
_SET1_UPAREA_POS1                         IMPT 00000000   3054 
_SET1_UPAREA_SPD0                         IMPT 00000000   3226 
_SET1_UPAREA_SPD1                         IMPT 00000000   3145 
_SET1_UPAREA_TIM0                         IMPT 00000000   3230 
_SET1_UPCLEEP_SPD                         IMPT 00000000   3148 
_SET1_VIB_KJYU_TTL                        IMPT 00000000   4204 
_SET2_INTLIM_AGL                          IMPT 00000000   4985 
_SET2_INTLIM_PLS                          IMPT 00000000   4987 
_SET360_UPAREA_DIG1                       IMPT 00000000   4060 
_SET360_UPAREA_PLS1                       IMPT 00000000   4061 
_SETC_KJEND_DIG1                          IMPT 00000000   4143 
_SETC_KJEND_DIG2                          IMPT 00000000   4905 
_SETC_KJSTR_DIG1                          IMPT 00000000   4142 
_SETC_KJSTR_DIG2                          IMPT 00000000   4904 
_SETD_DEGSPD_MAX                          IMPT 00000000   3311 
_SETD_LINK_MAX_SPD_PLS                    IMPT 00000000   4253 
_SETD_MOTRPM_MAXM                         IMPT 00000000   4254 
_SETSQ206_BIT11                  P        EXPT 000025D4  15063 15089*
_SETXY_LINK_UP_POS_DN                     IMPT 00000000   4124 
_SETXY_LINK_UP_POS_UP                     IMPT 00000000   4123 
_SETXY_UPAREA_DIG                         IMPT 00000000   4119 
_SETXY_UPAREA_PLS                         IMPT 00000000   4118 
_SETX_ACCERR_DLY1                         IMPT 00000000   4461 
_SETX_ACCERR_ERR3DAT                      IMPT 00000000   4456 
_SETX_ACCERR_SEL                          IMPT 00000000   4466 
_SETX_BANK_USELFUL                        IMPT 00000000   3673 
_SETX_BREAK_DIG2                          IMPT 00000000   4189 
_SETX_BREAK_TIM2                          IMPT 00000000   4190 
_SETX_DAIPOS_MAXP                         IMPT 00000000   3140 
_SETX_DAIPOS_MINP                         IMPT 00000000   3141 
_SETX_DNAREA_JG_LNK                       IMPT 00000000   3136 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   302

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SETX_DNAREA_JG_PLS                       IMPT 00000000   3137 
_SETX_FULCLS_AREA_DIG                     IMPT 00000000   3079 
_SETX_FULCLS_AREA_PLS                     IMPT 00000000   3080 
_SETX_FULCLS_MATEHD_SW                    IMPT 00000000   4862 
_SETX_HOLD_CMP1_DEG                       IMPT 00000000   4473 
_SETX_INCPLS_HOSM                         IMPT 00000000   3119 
_SETX_KJEND_DIG1                          IMPT 00000000   4138 
_SETX_KJEND_DIG2                          IMPT 00000000   4901 
_SETX_KJSTR_DIG1                          IMPT 00000000   4137 
_SETX_KJSTR_DIG2                          IMPT 00000000   4900 
_SETX_KJYUCLS_OBJ                         IMPT 00000000   4864 
_SETX_KJYU_INCPOS_KP01                    IMPT 00000000   5157 
_SETX_LINK_UP_POS_DN                      IMPT 00000000   2717 20312 
_SETX_LINK_UP_POS_UP                      IMPT 00000000   2716 20314 
_SETX_MAX_ACC_LATE                        IMPT 00000000   4450 
_SETX_MOTREP_DIR                          IMPT 00000000   5068 
_SETX_OUTPLS_HOSA                         IMPT 00000000   3127 
_SETX_OUTPLS_HOSB                         IMPT 00000000   3128 
_SETX_OVERH_AMP                           IMPT 00000000   4692 
_SETX_OVERH_LNGTH                         IMPT 00000000   4691 
_SETX_POS_CTL_MATH                        IMPT 00000000   2750  7115 11672 12178 12273 12408 13170 17842 18621 18741 18878 19905 
                                                         20006 20178 20272 20534 20766 
_SETX_POS_MOD_FLG1                        IMPT 00000000   2749 20773 
_SETX_POS_SDAT1_CNTSTEP                   IMPT 00000000   2741 17678 
_SETX_POS_SDAT1_INF1                      IMPT 00000000   2742 
_SETX_POS_SDAT1_OFSPOS                    IMPT 00000000   2738 11812 
_SETX_POS_SDAT1_SPD                       IMPT 00000000   2739 
_SETX_POS_SDAT1_TIM                       IMPT 00000000   2740 11924 
_SETX_POS_SDAT2_INF1                      IMPT 00000000   2748 
_SETX_POS_SDAT2_OFSPOS                    IMPT 00000000   2744 
_SETX_POS_STEP_MAX                        IMPT 00000000   2751 11804 11919 17656 18732 
_SETX_RNA_ACC_BEFTIM                      IMPT 00000000   4506 
_SETX_RNA_ACC_CHKPOS                      IMPT 00000000   4507 
_SETX_SDAT1_INTLIMOFS                     IMPT 00000000   4988 
_SETX_SDAT2_INTLIMOFS                     IMPT 00000000   4989 
_SETX_UPAREA_DIG                          IMPT 00000000   3052 10809 12170 13162 
_SETX_UPAREA_PLS                          IMPT 00000000   3050 11829 18884 
_SETX_UPAREA_RNA                          IMPT 00000000   3051 
_SETX_UPDN_CHK_DN_DIG                     IMPT 00000000   3067 
_SETX_UPDN_CHK_DN_PLS                     IMPT 00000000   3069 
_SETX_UPDN_CHK_UP_DIG                     IMPT 00000000   3066 
_SETX_UPDN_CHK_UP_PLS                     IMPT 00000000   3068 
_SETX_UPERR_ERRCMPDAT                     IMPT 00000000   4472 
_SETY_INCPLS_HOSM0001                     IMPT 00000000   3125 
_SETY_INCPLS_HOSM001                      IMPT 00000000   3124 
_SETY_INCPLS_HOSM01X                      IMPT 00000000   3123 
_SETY_INCPLS_HOSM1XX                      IMPT 00000000   3122 
_SETY_KJEND_DIG1                          IMPT 00000000   4140 
_SETY_KJEND_DIG2                          IMPT 00000000   4903 
_SETY_KJSTR_DIG1                          IMPT 00000000   4139 
_SETY_KJSTR_DIG2                          IMPT 00000000   4902 
_SETY_SDAT1_INTLIMOFS                     IMPT 00000000   4991 
_SETY_SDAT2_INTLIMOFS                     IMPT 00000000   4992 
_SET_ACC_OVRLIDE                          IMPT 00000000   3895 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   303

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET_CLSINC_SPDBAS_PLS                    IMPT 00000000   3863 
_SET_CLS_SPDBAS_PLS                       IMPT 00000000   3861 
_SET_DN_ACC_LATE                          IMPT 00000000   3912 
_SET_GMN_ACC_OVRLIDE                      IMPT 00000000   3887 
_SET_GMN_SPD_OVRLIDE                      IMPT 00000000   3886 
_SET_NZ_TIM_DAT                  P        EXPT 000023EC  14157 14622 14635*
_SET_PV_ABS_TO_OBJ                        IMPT 00000000   6356  6579  6764  6836 18652 
_SET_SEQ_ACC_OVRLIDE                      IMPT 00000000   3875 
_SET_SEQ_SPD_OVRLIDE                      IMPT 00000000   3874 
_SET_SPDBAS_PLS                           IMPT 00000000   3862 
_SET_SPD_OVRLIDE                          IMPT 00000000   3894 
_SET_UP_ACC_LATE                          IMPT 00000000   3911 
_SET_UP_TIM                               IMPT 00000000   2675  8526  9666  9715  9790  9814 16532 
_SFTYCHK_CLANK_DEG                        IMPT 00000000   5223 
_SFTYCHK_LINK_PLS                         IMPT 00000000   5224 
_SFTYCHK_RNA_POS                          IMPT 00000000   3391 
_SFTY_CTL_IN_DAT                          IMPT 00000000   2569 
_SFTY_IN_DAT                              IMPT 00000000   2568  6955  9423 17011 
_SFTY_LOCK_DLYTM                          IMPT 00000000   3994 
_SFTY_MASK_END                   P             00001B94   8380  8826 12127 12569 12635*16501 16705 
_SFTY_MASK_START                 P             00001B74   9169 12586 12607*12645 
_SFTY_MUTING_MODE_ERR            P             000027F4   7537 15697*
_SH2_ADD_PLS                              IMPT 00000000   5799 
_SH2_BAS_FRQ_SV                           IMPT 00000000   5759 
_SH2_CNT_REST_HF                          IMPT 00000000   5770 
_SH2_CNT_REST_PLS                         IMPT 00000000   5754 
_SH2_GPOINT_LNGDSP                        IMPT 00000000   5807 
_SH2_GPOINT_SPDDSP                        IMPT 00000000   5808 
_SH2_HD_CNT_STOP                          IMPT 00000000   6292  7731 
_SH2_HD_CTRL_BUSY                         IMPT 00000000   6284 
_SH2_HD_CTRL_REDY                         IMPT 00000000   6282 
_SH2_HD_HLDSTOP2                          IMPT 00000000   7975 18485 18532 
_SH2_HD_NEAR_ZERO                         IMPT 00000000   6290 
_SH2_HD_POS_START                         IMPT 00000000   6286 
_SH2_HD_SFTY_AUTO                         IMPT 00000000   6288 
_SH2_HD_STEP_END                          IMPT 00000000   6294  7757 
_SH2_LNGH_ADD_SR                          IMPT 00000000   5755 
_SH2_LOT_CNT_A                            IMPT 00000000   5766 
_SH2_LOT_STEP_A                           IMPT 00000000   5767 
_SH2_NOW_FRQ_PV                           IMPT 00000000   5761 
_SH2_NOW_STEP                             IMPT 00000000   5805 
_SH2_PLSI_ACCS                            IMPT 00000000   5763 
_SH2_PLSI_LATE                            IMPT 00000000   5764 
_SH2_REST_PLS_RL                          IMPT 00000000   5757 
_SH2_REST_PLS_SR                          IMPT 00000000   5756 
_SH2_REST_RL_HF                           IMPT 00000000   5769 
_SH2_REST_SR_HF                           IMPT 00000000   5768 
_SH2_STEP1_FRQ                            IMPT 00000000   5787 
_SH2_STEP1_PV_PLS                         IMPT 00000000   5782 
_SH2_STEP1_REST_P                         IMPT 00000000   5777 
_SH2_STEP1_SV_PLS                         IMPT 00000000   5772 
_SH2_STEP1_TIM                            IMPT 00000000   5792 
_SH2_STEP2_FRQ                            IMPT 00000000   5788 
_SH2_STEP2_PV_PLS                         IMPT 00000000   5783 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   304

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH2_STEP2_REST_P                         IMPT 00000000   5778 
_SH2_STEP2_SV_PLS                         IMPT 00000000   5773 
_SH2_STEP2_TIM                            IMPT 00000000   5793 
_SH2_STEP3_FRQ                            IMPT 00000000   5789 
_SH2_STEP3_PV_PLS                         IMPT 00000000   5784 
_SH2_STEP3_REST_P                         IMPT 00000000   5779 
_SH2_STEP3_SV_PLS                         IMPT 00000000   5774 
_SH2_STEP3_TIM                            IMPT 00000000   5794 
_SH2_STEP4_FRQ                            IMPT 00000000   5790 
_SH2_STEP4_PV_PLS                         IMPT 00000000   5785 
_SH2_STEP4_REST_P                         IMPT 00000000   5780 
_SH2_STEP4_SV_PLS                         IMPT 00000000   5775 
_SH2_STEP4_TIM                            IMPT 00000000   5795 
_SH2_STEP5_FRQ                            IMPT 00000000   5791 
_SH2_STEP5_PV_PLS                         IMPT 00000000   5786 
_SH2_STEP5_REST_P                         IMPT 00000000   5781 
_SH2_STEP5_SV_PLS                         IMPT 00000000   5776 
_SH2_STEP5_TIM                            IMPT 00000000   5796 
_SH2_STEP_FRQ                             IMPT 00000000   5803 
_SH2_STEP_PV_PLS                          IMPT 00000000   5801 
_SH2_STEP_REST_P                          IMPT 00000000   5802 
_SH2_STEP_SV_PLS                          IMPT 00000000   5800 
_SH2_STEP_TIM                             IMPT 00000000   5804 
_SH2_TOP_FRQ_SV                           IMPT 00000000   5760 
_SH2_TOTAL_PLS                            IMPT 00000000   5798 
_SH4_ADD_PLS                              IMPT 00000000   5742 
_SH4_BAS_FRQ_SV                           IMPT 00000000   5704 
_SH4_CNT_REST_HF                          IMPT 00000000   5714 
_SH4_CNT_REST_PLS                         IMPT 00000000   5700 
_SH4_GPOINT_LNGDSP                        IMPT 00000000   5750 
_SH4_GPOINT_SPDDSP                        IMPT 00000000   5751 
_SH4_HD_CNT_STOP                          IMPT 00000000   6291  7719 
_SH4_HD_CTRL_BUSY                         IMPT 00000000   6283 
_SH4_HD_CTRL_REDY                         IMPT 00000000   6281 
_SH4_HD_HLDSTOP2                          IMPT 00000000   7974 18483 18509 
_SH4_HD_NEAR_ZERO                         IMPT 00000000   6289 
_SH4_HD_POS_START                         IMPT 00000000   6285 
_SH4_HD_SFTY_AUTO                         IMPT 00000000   6287 
_SH4_HD_STEP_END                          IMPT 00000000   6293  7744 
_SH4_LNGH_ADD_SR                          IMPT 00000000   5701 
_SH4_LOT_CNT_A                            IMPT 00000000   5710 
_SH4_LOT_STEP_A                           IMPT 00000000   5711 
_SH4_NOW_FRQ_PV                           IMPT 00000000   5706 
_SH4_NOW_STEP                             IMPT 00000000   5748 
_SH4_ORG_DIR_REV                          IMPT 00000000   6372 15510 
_SH4_PLSI_ACCS                            IMPT 00000000   5708 
_SH4_PLSI_LATE                            IMPT 00000000   5709 
_SH4_REST_PLS_RL                          IMPT 00000000   5703 
_SH4_REST_PLS_SR                          IMPT 00000000   5702 
_SH4_REST_RL_HF                           IMPT 00000000   5713 
_SH4_REST_SR_HF                           IMPT 00000000   5712 
_SH4_STEP1_FRQ                            IMPT 00000000   5731 
_SH4_STEP1_PV_PLS                         IMPT 00000000   5726 
_SH4_STEP1_REST_P                         IMPT 00000000   5721 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   305

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH4_STEP1_SV_PLS                         IMPT 00000000   5716 
_SH4_STEP1_TIM                            IMPT 00000000   5736 
_SH4_STEP2_FRQ                            IMPT 00000000   5732 
_SH4_STEP2_PV_PLS                         IMPT 00000000   5727 
_SH4_STEP2_REST_P                         IMPT 00000000   5722 
_SH4_STEP2_SV_PLS                         IMPT 00000000   5717 
_SH4_STEP2_TIM                            IMPT 00000000   5737 
_SH4_STEP3_FRQ                            IMPT 00000000   5733 
_SH4_STEP3_PV_PLS                         IMPT 00000000   5728 
_SH4_STEP3_REST_P                         IMPT 00000000   5723 
_SH4_STEP3_SV_PLS                         IMPT 00000000   5718 
_SH4_STEP3_TIM                            IMPT 00000000   5738 
_SH4_STEP4_FRQ                            IMPT 00000000   5734 
_SH4_STEP4_PV_PLS                         IMPT 00000000   5729 
_SH4_STEP4_REST_P                         IMPT 00000000   5724 
_SH4_STEP4_SV_PLS                         IMPT 00000000   5719 
_SH4_STEP4_TIM                            IMPT 00000000   5739 
_SH4_STEP5_FRQ                            IMPT 00000000   5735 
_SH4_STEP5_PV_PLS                         IMPT 00000000   5730 
_SH4_STEP5_REST_P                         IMPT 00000000   5725 
_SH4_STEP5_SV_PLS                         IMPT 00000000   5720 
_SH4_STEP5_TIM                            IMPT 00000000   5740 
_SH4_STEP_FRQ                             IMPT 00000000   5746 
_SH4_STEP_PV_PLS                          IMPT 00000000   5744 
_SH4_STEP_REST_P                          IMPT 00000000   5745 
_SH4_STEP_SV_PLS                          IMPT 00000000   5743 
_SH4_STEP_TIM                             IMPT 00000000   5747 
_SH4_TOP_FRQ_SV                           IMPT 00000000   5705 
_SH4_TOTAL_PLS                            IMPT 00000000   5741 
_SHOT_MOST_DOWN_POS                       IMPT 00000000   4023 
_SHOT_MOST_DOWN_POSWK                     IMPT 00000000   4024 
_SH_POSCTL_RL_ABSPLS                      IMPT 00000000   9894 
_SINKAKU_INF                              IMPT 00000000   3292 
_SINKAKU_ROTCAM_ENBSEL                    IMPT 00000000   3294 
_SINKAKU_ROTCAM_ENBSEL_WK                 IMPT 00000000   3293 
_SINKAKU_USESEL_OF_INF                    IMPT 00000000   3296 
_SINKAKU_USESEL_ON_INF                    IMPT 00000000   3295 
_SINWK_CALC_SCAN                          IMPT 00000000   3304 
_SIN_RCAMOF_SW1                           IMPT 00000000   3320 
_SIN_RCAMON_SW1                           IMPT 00000000   3319 
_SIN_RCAM_OF_DIG                          IMPT 00000000   3299 
_SIN_RCAM_OF_ERR1                         IMPT 00000000   3323 
_SIN_RCAM_ON_DIG                          IMPT 00000000   3298 
_SIN_RCAM_ON_ERR1                         IMPT 00000000   3322 
_SLIDALM_CHK_FLG                          IMPT 00000000   4381 
_SLIDALM_CHK_POS                          IMPT 00000000   4383 
_SLIDALM_CHK_TIM                          IMPT 00000000   4382 
_SLIDALM_POS_MINAS                        IMPT 00000000   4385 
_SLIDALM_POS_PULAS                        IMPT 00000000   4384 
_SPD_PER_MAX                              EQU  00002710   2006*16827 16844 
_SPLCHK_FLG                               IMPT 00000000   5038 
_SPLCHK_TIM                               IMPT 00000000   5039 
_SPL_ERR_INIT_WAIT_TIM                    IMPT 00000000   5118 
_SQ_CBWK_TOP                              IMPT 00000000   6279  8422  8801  9673  9689 11406 11414 11428 13293 14289 15073 15094 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   306

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

                                                         15415 15478 15778 16213 16274 16294 16681 16734 17108 17258 17548 17760 
                                                         17929 17935 18003 18010 18041 18080 18109 18142 18439 19748 19852 19927 
                                                         20051 20098 20125 20548 20642 20681 20731 
_SQ_OVERH_CMP                             IMPT 00000000   4694 
_SQ_RNA_ALMRST_OLD                        IMPT 00000000   4043 15545 
_START_ACK_COD                            EQU  00004321    213*
_START_CNT_INFO_OUT              P             00001E08   8602 13252 13352*
_START_FLG_AFTER_EMG                      IMPT 00000000   3373 
_START_REQ_COD                            EQU  00009876    212*
_START_SFTY_LOCK_CLR             P             00002654   8900 11381 15281*16782 
_STEP_CMPERR_TIMX1                        IMPT 00000000   5495 
_STEP_SIG_DISP                   P        EXPT 000021EE   6345  8999 14202*
_STEP_SIG_DSP_CLR                P        EXPT 000021E4   6344  9335 11323 14192*
_STOPCHK_INC_POS                          IMPT 00000000   3257 
_STOPCHK_RNA_POS                          IMPT 00000000   3256 
_STOPPING_STOP_POS                        IMPT 00000000   2653 14373 14481 
_STOPPING_STOP_TIM                        IMPT 00000000   2655 14363 14516 14571 
_STOPPING_TIM_CHK                P        EXPT 000022E4   6349 14438*
_STOPPING_TIM_FLG                         IMPT 00000000   2654 14321 14353 14377 14443 14591 16196 
_STOPPING_TIM_MOV_INI            P        EXPT 00002244   6347  8835 14317*16713 
_STOPPING_TIM_PV1                         IMPT 00000000   2656 14382 14468 14537 14584 
_STOPPING_TIM_PV2                         IMPT 00000000   2657 14384 14588 
_STOPPING_TIM_STOP_INI           P        EXPT 00002260   6348 11440 14349*
_STOPPING_VLVOFF_POS                      IMPT 00000000   2652 14369 14477 
_STOP_360ENC_DIG                          IMPT 00000000   4076 
_STOP_ERR_CHK                             IMPT 00000000   6245 14606 
_STOP_ERR_LATCH                           IMPT 00000000   3494 14388 14597 
_STOP_LATCH                               IMPT 00000000   2635  7709 10459 10893 11274 
_STOP_LATCH_B                             IMPT 00000000   2636  7701 10211 10217 10373 10403 10676 10891 10945 11272 17607 
_STOP_LATCH_CHK_TIM                       IMPT 00000000   2886 
_STOP_LATCH_ENCPOS                        IMPT 00000000   2884 
_STOP_LATCH_OUTPLS                        IMPT 00000000   2883 
_STOP_LATCH_RNAPOS                        IMPT 00000000   2885 
_STOP_LTH_OUT                    P        EXPT 00001224  10251 10434 10450 10455*10971 
_STP_RST_FLG_PROC                P        EXPT 00001768   6336 11553*
_STR_ENC3600_DIG                          IMPT 00000000   2803 
_STR_ENC3600_DIG_LNG                      IMPT 00000000   2804 
_SVCHK_SCAN                               IMPT 00000000   4713 
_SVPX1_FED_DEG                            IMPT 00000000   5317 
_SVPX1_FED_POS                            IMPT 00000000   5318 
_SVPX1_MOT_INF                            IMPT 00000000   5316 
_SVPX1_OBJECT_DIG_TOP                     IMPT 00000000   5312 
_SVPX1_OBJECT_POS_TOP                     IMPT 00000000   5311 
_SVPX1_OBJECT_PRS_TOP                     IMPT 00000000   5315 
_SVPX1_OBJECT_SPD_TOP                     IMPT 00000000   5313 
_SVPX1_OBJECT_TIM_TOP                     IMPT 00000000   5314 
_SVPX_UPAREA_DIG1                         IMPT 00000000   3242 
_SVP_INTLIM_AGL                           IMPT 00000000   6377 
_SVP_INTLIM_POS                           IMPT 00000000   6378 
_SVP_INTLIM_SNO                           IMPT 00000000   6376 
_SVP_WTTIM_MAX                            IMPT 00000000   6379 17915 
_SVX_DNM_MAXSPM                           IMPT 00000000   4262 
_SVX_OVER_ERR_DIG                         IMPT 00000000   3548 
_SVX_OVER_JGSTR_DIG                       IMPT 00000000   3549 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   307

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SV_CHG_FLG1                              IMPT 00000000   3335 
_SV_CHG_FLG2                              IMPT 00000000   3336 
_SV_CONST_SUB_PV                          IMPT 00000000   3963 
_SV_DAT_ERR1                              IMPT 00000000   3337 
_SV_OBJ360                                IMPT 00000000   3520 
_SV_POS_CTL_STEP                          IMPT 00000000   2836 19953 20572 
_SV_REAL_PLS                              IMPT 00000000   3964 
_SV_REAL_SUB_PV                           IMPT 00000000   3965 
_SV_UP_HOLD_CHK                  P             000017BC   8808 11652*16687 
_SW_DEV_MASK_FLG                          IMPT 00000000   2644 12639 15609 
_SYS_100STEP_DNM_SEL                      IMPT 00000000   5309 
_SYS_100STEP_USE                          IMPT 00000000   5308 
_SYS_BSAME_TIM                            EQU  000001F4   2017* 8529  9607 16535 
_SYS_SETUP_TIM                            EQU  000007D0   2018* 9713 
_SYS_STEP_MAX                             IMPT 00000000   5306 
_SYS_STOPPING_TIM                         EQU  00000032   2019*
_TABLE_ERR_FLG                            IMPT 00000000   2501 
_TBL_ANS_ACCTIM                           IMPT 00000000   4258 
_TBL_ANS_ACC_SEL                          IMPT 00000000   4260 
_TBL_ANS_MAXSPM                           IMPT 00000000   4259 
_TBL_USE_POS0                             IMPT 00000000   4257 
_TECH2_KJYU_DIG                           IMPT 00000000   4525 
_TECH2_KJYU_LNG                           IMPT 00000000   4523 
_TECH2_KJYU_LT1KN                         IMPT 00000000   4516 
_TECH2_KJYU_LT1PLS                        IMPT 00000000   4517 
_TECH2_KJYU_LT1PLS_OFS                    IMPT 00000000   4518 
_TECH2_KJYU_LT2KN                         IMPT 00000000   4519 
_TECH2_KJYU_LT2PLS                        IMPT 00000000   4520 
_TECH2_KJYU_LT2PLS_OFS                    IMPT 00000000   4521 
_TECH2_KJYU_PLS                           IMPT 00000000   4524 
_TECH2_KJYU_PLSX                          IMPT 00000000   4522 
_TECH2_KN_FLG                             IMPT 00000000   4526 
_TECH_USED_F                              IMPT 00000000   4563 
_TECH_WK_DIG1                             IMPT 00000000   4556 
_TECH_WK_DIG2                             IMPT 00000000   4557 
_TECH_WK_DIG3                             IMPT 00000000   4558 
_TECH_WK_DIG4                             IMPT 00000000   4559 
_TECH_WK_PLS1                             IMPT 00000000   4555 
_TEPA_PLSCNT_CHK                          IMPT 00000000   6262  7605 
_TEPA_PLSCNT_CLR                          IMPT 00000000   6261  6828  7856  9603 
_TEPA_PLS_ZERO_TIM                        IMPT 00000000   4419 
_TEPA_START_CHK                           IMPT 00000000   6260  9759 
_TEP_ADDCHK_SVPLS                         IMPT 00000000   3821 
_TEP_CHG_SPD1                             IMPT 00000000   3825 
_TEP_CHG_SPD2                             IMPT 00000000   3826 
_TEP_CNTSMP_TIM                           IMPT 00000000   4792 
_TEP_DND_SPD_PLS                          IMPT 00000000   4791 
_TEP_FLG_CLR                              IMPT 00000000   6259  6832  8276 
_TEP_INPLS_FLG                            IMPT 00000000   3816 
_TEP_IN_ADD                               IMPT 00000000   3810 
_TEP_MIN_SPD_FRQ                          IMPT 00000000   3823 
_TEP_MIN_SPD_PLS                          IMPT 00000000   3822 
_TEP_MODE_DRV                             IMPT 00000000   3812 11021 15130 
_TEP_POS_ADD_CNT                          IMPT 00000000   3808 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   308

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_TEP_REVPLS_LT_FLG                        IMPT 00000000   4793 
_TEP_STEP_FLG                             IMPT 00000000   3813 
_TEP_STEP_SVSMPTM                         IMPT 00000000   3820 
_TEP_STEP_SVWTTM1                         IMPT 00000000   3819 
_TEP_STEP_WTTM                            IMPT 00000000   3814 
_TIM_1MSEC                                EQU  0000000A   2003* 2017  2018  2019  2024 
_TIM_CNT010MS_DT                          EQU  0000000A   2342*
_TIM_CNT100MS_DT                          EQU  00000064   2343*
_TIM_SEC                                  EQU  00002710   2002*
_TMP_SCI_DEBUG                            IMPT 00000000   5374 
_TRD_CLR_CMD                              IMPT 00000000   5588  6817 
_TRD_DP_MOV_CNT                           IMPT 00000000   5594 
_TRD_DP_MOV_FLG                           IMPT 00000000   5593 
_TRD_EVENT_COD                            IMPT 00000000   5583 
_TRD_EVENT_LATCH                          IMPT 00000000   5585 
_TRD_LATE_PV                              IMPT 00000000   5590 
_TRD_LATE_SV                              IMPT 00000000   5589 
_TRD_POINT_END                            IMPT 00000000   5587 
_TRD_POINT_EVENT                          IMPT 00000000   5586 
_TRD_SMP_DAT1                             IMPT 00000000   5574 
_TRD_SMP_DAT2                             IMPT 00000000   5575 
_TRD_SMP_DAT3                             IMPT 00000000   5576 
_TRD_SMP_DAT4                             IMPT 00000000   5577 
_TRD_SMP_DAT5                             IMPT 00000000   5578 
_TRD_SMP_DAT6                             IMPT 00000000   5579 
_TRD_SMP_DAT7                             IMPT 00000000   5580 
_TRD_SMP_DAT8                             IMPT 00000000   5581 
_TRD_SMP_FLG                              IMPT 00000000   5591 
_TRD_SMP_POINT                            IMPT 00000000   5582 
_UP360_CHK_LIST                           IMPT 00000000   4058 
_UP360_JGDIG                              EQU  00000028   2049*
_UPDN_DIRJG_DIG                           EQU  00000708   2011*18781 
_UPHOLD_SPDERR_OK_FLG                     IMPT 00000000   5268 
_UPLIMIT_START_F                          IMPT 00000000   4724 
_UPLIMIT_SV_SPD                           IMPT 00000000   4723 
_UPMAK2_MOD_USE_SW                        IMPT 00000000   4684 12560 12819 15674 
_UPMSK2_DRVSEL                            IMPT 00000000   4686 12401 
_UPMSK2_MATH                              IMPT 00000000   4685 12548 
_UPMSK2_MOD                               IMPT 00000000   4682  8290 12554 12785 12813 15651 
_UPMSK2_MOD_IN_SW                         IMPT 00000000   4683 15619 15645 15672 15706 15771 
_UPMSK2_MOD_IN_SWOLD                      IMPT 00000000   4687 15708 
_UP_AREA_DATCHK                           IMPT 00000000   6228 
_UP_HOLD_AREA_MASK               P             00001AB4   9152 12356*
_UP_HOLD_DIG                              IMPT 00000000   2641 10807 12168 13160 
_UP_HOLD_FLG                              IMPT 00000000   2642  9162 10512 12023 12042 12081 12220 12360 12418 12446 12464 
_UP_HOLD_FLG_CLR1                P             00001AFC   8812  9340 11308 12123 12442*16691 
_UP_HOLD_FLG_CLR2                P             00001B10   8816 11312 12460*16695 
_UP_HOLD_MASK_SPDCHK             P             00001A58  12072 12265*
_UP_HOLD_MISS                    P             000019BC  10540 12118*
_UP_HOLD_SIG_MAK                 P             000019D8  12048 12150*
_UP_HOLD_STEP                             IMPT 00000000   2638 10799 11735 11758 12156 13147 
_UP_HOLD_STEP1                            IMPT 00000000   2639 11689 11737 11760 
_UP_HOLD_STEP2                            IMPT 00000000   2640 11691 11739 11762 
_UP_LOT_SIG_MAK                  P             00001D40  12951 13141*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   309

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_VALV_OFF_DIG_CLANK                       IMPT 00000000   3496 14401 
_VALV_ON_FLG                              IMPT 00000000   4070 
_VFRY_IN_CHK                     P             00003B9C  19235 19798*
_VIB_DLY_TIM                              IMPT 00000000   4212 
_VIB_GET_SET_TIM                          IMPT 00000000   4209 
_VIB_PV_UP_TIM                            IMPT 00000000   4211 
_VIB_STEP_COM                             IMPT 00000000   4208 
_VIB_STEP_FLG                             IMPT 00000000   4207 
_VIB_USE_SET_TIM                          IMPT 00000000   4210 
_VON1_OF                                  IMPT 00000000   6059 
_VON1_ON                                  IMPT 00000000   6058 
_VON2_OF                                  IMPT 00000000   6061 
_VON2_ON                                  IMPT 00000000   6060 
_VON3_OF                                  IMPT 00000000   6063 
_VON3_ON                                  IMPT 00000000   6062 
_VUPCHECK_EQU                             EQU  11AB3739     98*
_W1CNT                                    EQU  00000008   2367* 7359  7403  8512  9087  9614 11658 13360 13447 13515 15719 15751 
                                                         17490 18340 19900 20268 20529 
_W1DIC                                    EQU  00000020   2369* 6988  9307  9438  9748 12875 
_W1DUP                                    EQU  00000040   2370* 6914  6982  9224  9307  9438 12875 14738 14867 14915 
_W1END                                    EQU  00000080   2371*
_W1INC                                    EQU  00000002   2365* 7421  9124  9307  9438 11658 18842 19900 20268 20529 
_W1LNC                                    EQU  00000400   2375*
_W1LNO                                    EQU  00000800   2376*
_W1OFF                                    EQU  00000001   2364* 6950  7279  7282  7299  7370  7839 
_W1OPT                                    EQU  00000010   2368* 6927  7286  9204 11658 12751 15719 15757 16381 17301 17490 19900 
                                                         20268 20529 
_W1REV                                    EQU  00004000   2383*
_W1RNC                                    EQU  00000100   2372*
_W1RNO                                    EQU  00000200   2373*
_W1RST                                    EQU  00008000   2384* 6588  6744 16289 20461 
_W1SGL                                    EQU  00000004   2366* 6918  7382  7392  9141 11658 16375 17490 19900 20268 20529 
_W1SNC                                    EQU  00001000   2381*
_W1SNO                                    EQU  00002000   2382*
_W2LS1                                    EQU  00000004   2386*
_W2LS2                                    EQU  00000008   2387*
_W2SUP                                    EQU  00000080   2391* 8519  9698  9798 
_W2WT1                                    EQU  00000010   2388*
_W2WT2                                    EQU  00000020   2389*15617 
_W2WT3                                    EQU  00000040   2390*
_W4_PVP_KAJLIV_TTL                        IMPT 00000000   5122 
_W4_PV_CTL_KJYU_TTL_P                     IMPT 00000000   4853 
_W4_PV_FLT_KJYU_TTL                       IMPT 00000000   4851 
_W4_PV_FLT_KJYU_TTL_P                     IMPT 00000000   4852 
_WFSYS_OPT_CNT_SEL                        IMPT 00000000   3527  7333 
_WKSQCB200                                EQU  00000000   2115*
_WKSQCB201                                EQU  00000002   2116*
_WKSQCB202                                EQU  00000004   2117*
_WKSQCB203                                EQU  00000006   2118*
_WKSQCB204                                EQU  00000008   2119*
_WKSQCB205                                EQU  0000000A   2120*
_WKSQCB206                                EQU  0000000C   2121* 8422  8801  9673  9689 11406 11414 11428 13293 15073 15094 16681 
_WKSQCB207                                EQU  0000000E   2122*15415 15478 16734 
_WKSQCB208                                EQU  00000010   2123*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   310

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WKSQCB209                                EQU  00000012   2124*
_WKSQCB210                                EQU  00000014   2125*14289 
_WKSQCB211                                EQU  00000016   2126*
_WKSQCB212                                EQU  00000018   2127*
_WKSQCB213                                EQU  0000001A   2128*
_WKSQCB214                                EQU  0000001C   2129*
_WKSQCB215                                EQU  0000001E   2130*
_WKSQCB216                                EQU  00000020   2131*15778 17258 
_WKSQCB217                                EQU  00000022   2132*
_WKSQCB218                                EQU  00000024   2133*
_WKSQCB219                                EQU  00000026   2134*
_WKSQCB220                                EQU  00000028   2135*
_WKSQCB221                                EQU  0000002A   2136*
_WKSQCB222                                EQU  0000002C   2137*
_WKSQCB223                                EQU  0000002E   2138*
_WKSQCB224                                EQU  00000030   2139*18041 
_WKSQCB225                                EQU  00000032   2140*
_WKSQCB226                                EQU  00000034   2141*
_WKSQCB227                                EQU  00000036   2142*17108 
_WKSQCB228                                EQU  00000038   2143*
_WKSQCB229                                EQU  0000003A   2144*16213 16274 16294 
_WKSQCB230                                EQU  0000003C   2145*
_WKSQCB231                                EQU  0000003E   2146*
_WKSQCB232                                EQU  00000040   2147*
_WKSQCB233                                EQU  00000042   2148*
_WKSQCB234                                EQU  00000044   2149*
_WKSQCB235                                EQU  00000046   2150*
_WKSQCB236                                EQU  00000048   2151*
_WKSQCB237                                EQU  0000004A   2152*
_WKSQCB238                                EQU  0000004C   2153*
_WKSQCB239                                EQU  0000004E   2154*19748 19852 
_WKSQCB240                                EQU  00000050   2155*
_WKSQCB241                                EQU  00000052   2156*
_WKSQCB242                                EQU  00000054   2157*
_WKSQCB243                                EQU  00000056   2158*
_WKSQCB244                                EQU  00000058   2159*
_WKSQCB245                                EQU  0000005A   2160*
_WKSQCB246                                EQU  0000005C   2161*
_WKSQCB247                                EQU  0000005E   2162*
_WKSQCB248                                EQU  00000060   2163*
_WKSQCB249                                EQU  00000062   2164*
_WKSQCB250                                EQU  00000064   2165*
_WKSQCB251                                EQU  00000066   2166*17548 17760 17929 17935 18003 18010 18080 18109 18142 18439 
_WKSQCB252                                EQU  00000068   2167*
_WKSQCB253                                EQU  0000006A   2168*
_WKSQCB254                                EQU  0000006C   2169*
_WKSQCB255                                EQU  0000006E   2170*
_WKSQCB256                                EQU  00000070   2171*
_WKSQCB257                                EQU  00000072   2172*
_WKSQCB258                                EQU  00000074   2173*
_WKSQCB259                                EQU  00000076   2174*19927 20051 20098 20125 20548 20642 20681 20731 
_WKSQCB260                                EQU  00000078   2175*
_WKSQCB261                                EQU  0000007A   2176*
_WKSQCB262                                EQU  0000007C   2177*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   311

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WKSQCB263                                EQU  0000007E   2178*
_WKSQCB264                                EQU  00000080   2179*
_WKSQCB265                                EQU  00000082   2180*
_WKSQCB266                                EQU  00000084   2181*
_WKSQCB267                                EQU  00000086   2182*
_WKSQCB268                                EQU  00000088   2183*
_WKSQCB269                                EQU  0000008A   2184*
_WK_ERR_INFO_CPU_TOP                      IMPT 00000000   3539 
_WK_OBJECT_TIM_TOP                        IMPT 00000000   3233 
_WK_PVP_MOT_STS                           IMPT 00000000   5335 
_WK_SIN_RCAMOF_SW1                        IMPT 00000000   3317 
_WK_SIN_RCAMON_SW1                        IMPT 00000000   3316 
_WK_SIN_RCAM_OF_DIG                       IMPT 00000000   3302 
_WK_SIN_RCAM_OF_KOUTEI                    IMPT 00000000   3309 
_WK_SIN_RCAM_OF_SPD                       IMPT 00000000   3310 
_WK_SIN_RCAM_ON_DIG                       IMPT 00000000   3301 
_WK_SIN_RCAM_ON_KOUTEI                    IMPT 00000000   3307 
_WK_SIN_RCAM_ON_SPD                       IMPT 00000000   3308 
_WK_SIN_RCAM_SQOF1                        IMPT 00000000   3314 
_WK_SIN_RCAM_SQON1                        IMPT 00000000   3313 
_WOANT                                    EQU  00000010   2353* 7829 
_WOATO                                    EQU  00000040   2355*10022 17157 
_WOFCY                                    EQU  00000080   2356*
_WOQST                                    EQU  00000001   2349*
_WORCY                                    EQU  00000100   2357*
_WORDY                                    EQU  00000020   2354* 8389 16510 
_WORST                                    EQU  00000200   2358*
_WOVN1                                    EQU  00000002   2350*
_WOVN2                                    EQU  00000004   2351*
_WOVN3                                    EQU  00000008   2352*
_WPARX_BRKTST_DNDLMT                      IMPT 00000000   4605 
_WPARX_BRKTST_ORGDEGX                     IMPT 00000000   4413 
_WPARX_BRKTST_ORGPLS                      IMPT 00000000   4414 
_WPARX_BRKTST_STPDEGX                     IMPT 00000000   4163 
_WPARX_BRKTST_STPLNG                      IMPT 00000000   4165 
_WPARX_BRKTST_STPPLS                      IMPT 00000000   4164 
_WPARX_COP_DNDRV1_SDG1                    IMPT 00000000   4130 
_WPARX_COP_DNDRV1_SDG2                    IMPT 00000000   4131 
_WPARX_COP_DNDRV1_ZDG1                    IMPT 00000000   4128 
_WPARX_COP_DNDRV1_ZDG2                    IMPT 00000000   4129 
_WPARX_COP_DNDRV2_SDG1                    IMPT 00000000   4134 
_WPARX_COP_DNDRV2_SDG2                    IMPT 00000000   4135 
_WPARX_COP_DNDRV2_ZDG1                    IMPT 00000000   4132 
_WPARX_COP_DNDRV2_ZDG2                    IMPT 00000000   4133 
_WPARX_ELSE_ORGDEGX                       IMPT 00000000   4706 
_WPARX_ELSE_ORGPLS                        IMPT 00000000   4705 
_WPAR_360STP_HAB                          IMPT 00000000   4055 
_WPAR_ACCTYP_SEL                          IMPT 00000000   3981 
_WPAR_ACC_MATHED                          IMPT 00000000   4225 
_WPAR_ANAIN_SEL                           IMPT 00000000   3979 
_WPAR_BKTMCL_ACCCK                        IMPT 00000000   4652 
_WPAR_BRK1_ACCTM                          IMPT 00000000   3410 
_WPAR_BRK1_DLYTM                          IMPT 00000000   3409 
_WPAR_BRK2_ACCTM                          IMPT 00000000   3411 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   312

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WPAR_BRKTCHK_SPD                         IMPT 00000000   4153 16842 
_WPAR_BRKTOUT_SPD                         IMPT 00000000   4152 16829 
_WPAR_BRKTST_ORGDEG                       IMPT 00000000   4412 
_WPAR_BRK_SEL_SPD                         IMPT 00000000   3408 
_WPAR_CMP_ERR_TIM1                        IMPT 00000000   4306 
_WPAR_CMP_ERR_TIM2                        IMPT 00000000   4307 
_WPAR_COP_CNTROT_SDG1                     IMPT 00000000   3352 
_WPAR_COP_CNTROT_SDG2                     IMPT 00000000   3353 
_WPAR_COP_CNTROT_ZDG1                     IMPT 00000000   3350 
_WPAR_COP_CNTROT_ZDG2                     IMPT 00000000   3351 
_WPAR_COP_DISP_SPM1                       IMPT 00000000   4317 
_WPAR_COP_REVRSE_SDG1                     IMPT 00000000   3357 
_WPAR_COP_REVRSE_SDG2                     IMPT 00000000   3358 
_WPAR_COP_REVRSE_ZDG1                     IMPT 00000000   3355 
_WPAR_COP_REVRSE_ZDG2                     IMPT 00000000   3356 
_WPAR_COP_SDG1                            IMPT 00000000   3362 
_WPAR_COP_SDG2                            IMPT 00000000   3363 
_WPAR_COP_ZDG1                            IMPT 00000000   3360 
_WPAR_COP_ZDG2                            IMPT 00000000   3361 
_WPAR_CUPCHK_SEL                          IMPT 00000000   4054 
_WPAR_DAIHAI_SEL                          IMPT 00000000   4371 
_WPAR_DRVHOS_AVLCNT                       IMPT 00000000   2969 
_WPAR_DRVHOS_DIG1                         IMPT 00000000   2966 
_WPAR_DRVHOS_DIG2                         IMPT 00000000   2967 
_WPAR_DRVHOS_NO_USE                       IMPT 00000000   2970 
_WPAR_DRVHOS_SEL1                         IMPT 00000000   2965 
_WPAR_DRVHOS_WAITCNT                      IMPT 00000000   2968 
_WPAR_ILNGERR_DIG                         IMPT 00000000   3414 
_WPAR_ILNGERR_LNG                         IMPT 00000000   3413 
_WPAR_INCOVER_LNG                         IMPT 00000000   3379 
_WPAR_INCOVER_LNG1                        IMPT 00000000   3380 
_WPAR_INCOVER_LNG2                        IMPT 00000000   3381 
_WPAR_INCREV_EDYTM                        IMPT 00000000   3382 
_WPAR_INCSTP_EDYTM                        IMPT 00000000   3386 13303 
_WPAR_INCSTP_EDYTM1                       IMPT 00000000   3384 13301 
_WPAR_INCSTP_EDYTM2                       IMPT 00000000   3385 
_WPAR_KJYU_STOPTBL                        IMPT 00000000   4200 
_WPAR_LSA_FILTIM                          IMPT 00000000   3748 
_WPAR_MCNRNA_SEL                          IMPT 00000000   4053 
_WPAR_ORGDRV_MD2                          IMPT 00000000   4336 
_WPAR_ORGMOD2_TIM                         IMPT 00000000   3833 14796 
_WPAR_ORGPOS_LNG1                         IMPT 00000000   4396 
_WPAR_OVRLIDE_GMN                         IMPT 00000000   3882 
_WPAR_RNA_SFTY_LNG1                       IMPT 00000000   3388 
_WPAR_SFYOPT_USEL                         IMPT 00000000   4154 12764 
_WPAR_SLDALM_LNG                          IMPT 00000000   4378 
_WPAR_SLDALM_TIM                          IMPT 00000000   4379 
_WPAR_STOPING_TIM                         IMPT 00000000   4223 14360 14541 14568 
_WPAR_ZERO_SPD                            IMPT 00000000   3407 
_WPVX_KAJLIV_TTL                          IMPT 00000000   4203 
_WPV_ABS_AD_DATA                          IMPT 00000000   3987 
_WPV_AD_DATA                              IMPT 00000000   3986 
_WPV_CB_STS_DAT_TOP                       IMPT 00000000   5571 
_WPV_CB_STS_POINT                         IMPT 00000000   5596 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   313

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WPV_CB_TRD_DAT_TOP                       IMPT 00000000   5572 
_WPV_CB_TRD_POINT                         IMPT 00000000   5597 
_WPV_POWER_MONI                           IMPT 00000000   3988 
_WPV_POWER_ON_CNT                         IMPT 00000000   5598 
_WPV_SCAN_MAX01                           IMPT 00000000   4811 
_WPV_SCAN_MAX10                           IMPT 00000000   4810 
_WPV_SCAN_TIM_AVL                         IMPT 00000000   4807 
_WPV_SCAN_TIM_REAL                        IMPT 00000000   4806 
_WR_CB_SYS_CHKCOD1                        EQU  00001234   2226*
_WR_CB_SYS_CHKCOD2                        EQU  00004321   2227*
_WR_CB_SYS_CHKCOD3                        EQU  00005678   2228*
_WR_CB_SYS_CHKCOD4                        EQU  00008765   2229*
_WSVXY_CLNK_UP_POS                        IMPT 00000000   4120 
_WSVXY_CLNK_UP_POS_DN                     IMPT 00000000   4122 
_WSVXY_CLNK_UP_POS_UP                     IMPT 00000000   4121 
_WSVX_CLNK_UP_POS                         IMPT 00000000   2713 
_WSVX_CLNK_UP_POS_DN                      IMPT 00000000   2715 
_WSVX_CLNK_UP_POS_UP                      IMPT 00000000   2714 
_WXPV_ERR_DISP                            IMPT 00000000   3658 
_W_PARAM_TOP                              IMPT 00000000   4571  8334 11902 12065 12317 15604 15701 16461 17081 17399 18333 18685 
                                                         18835 19013 19161 19175 19183 19294 19300 19459 19474 19482 19563 19661 
_X_PROTCOL_TMP_ANS                        IMPT 00000000   5371 
_X_PROTCOL_TMP_EVENTCNT                   IMPT 00000000   5366 
_X_PROTCOL_TMP_FLG                        IMPT 00000000   5359 
_X_PROTCOL_TMP_LNG_PVTM                   IMPT 00000000   5364 
_X_PROTCOL_TMP_LNG_SVTM                   IMPT 00000000   5363 
_X_PROTCOL_TMP_PV1                        IMPT 00000000   5372 
_X_PROTCOL_TMP_PV2                        IMPT 00000000   5360 
_X_PROTCOL_TMP_PVLNG                      IMPT 00000000   5362 
_X_PROTCOL_TMP_REQ                        IMPT 00000000   5370 
_X_PROTCOL_TMP_SVLNG                      IMPT 00000000   5361 
_X_PROTCOL_TMP_TIME_PV                    IMPT 00000000   5367 
_X_R2_MUL_R1_DIV_R4                       IMPT 00000000   6221 
_ZERO_INCENC                              EQU  00000000   2058*
_ZERO_INCHEN                              EQU  00000000   2057*
_ZERO_INCREV                              EQU  00000000   2062*
_ZERO_INCRNA                              EQU  00000001   2059*
_ZERO_INCSTP                              EQU  00000000   2060*
_ZERO_RNAREV                              EQU  00000001   2063*
_ZERO_RNASTP                              EQU  00000001   2061*
_cbsys_tbl_err                            IMPT 00000000   4245 
_di1_cb_ctl1                              IMPT 00000000   2506 
_di1_cb_ctl1_dt                           IMPT 00000000   2514  6585  6742  6923  7272 12749 15755 16287 16379 17299 20459 
_di1_cb_ctl1_of                           IMPT 00000000   2516 
_di1_cb_ctl1_on                           IMPT 00000000   2515 
_di2_cb_ctl2                              IMPT 00000000   2507 
_di2_cb_ctl2_dt                           IMPT 00000000   2518  8517  9796 15615 
_di2_cb_ctl2_of                           IMPT 00000000   2520 
_di2_cb_ctl2_on                           IMPT 00000000   2519  9696 
_di3_cb_inp1                              IMPT 00000000   2508  6968 
_di3_cb_inp1_dt                           IMPT 00000000   2512 
_di4_cb_inp2                              IMPT 00000000   2509 
_dq1_cb_out1                              IMPT 00000000   2510  7827  8387 10020 16508 17155 
_emg_err_flg                              IMPT 00000000   2590  6501  6678  7059  7557 11629 16339 19778 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   314

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_emg_lev_flg                              IMPT 00000000   2589  6436  6453 
_exq_err_flg                              IMPT 00000000   2593  6503  7563 11631 16341 19780 
_exq_lev_flg                              IMPT 00000000   2591  6473 
_pass_err_flg1                            IMPT 00000000   2587  6858 
_pass_err_flg2                            IMPT 00000000   2588 
_reset_dly_tim                            IMPT 00000000   2611  6756  6783 
_reset_flg                                IMPT 00000000   2610  6435  6511  6650  6751  6798  7542 11558 20470 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:05:30                                                  PAGE   315

*** SECTION DATA LIST

SECTION                          ATTRIBUTE    SIZE             START

P                                REL-CODE    000004012        
