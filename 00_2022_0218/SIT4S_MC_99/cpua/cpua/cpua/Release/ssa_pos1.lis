*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE     1
PROGRAM NAME =

    1                               1     ;       ***************************************************
    2                               2     ;       ***                                             ***
    3                               3     ;       ***                                             ***
    4                               4     ;       ***     位置決め                                ***
    5                               5     ;       ***                                             ***
    6                               6     ;       ***                                             ***
    7                               7     ;       ***************************************************
 6228                              40     
 6229 00000000                     41             .SECTION        P,CODE                  ;
 6230                              42     
 6231                              43     
 6232          00000014            44     _SGL_CMPERR_CNTMAX      .EQU    20      ;2;(600回確認済み) 2005-04-14(4/18)
 6233          000007D0            45     _PLS_ERR_HABPLS1        .EQU    2000    ;2000pls
 6234                              46     
 6235                              47     
 6236          00001770            48     _SYNC_ERR_HABPLS1       .EQU    6000    ;2000pls(連続の異常範囲)
 6237          000007D0            49     _SYNC_ERR_HOSHAB        .EQU    2000    ;500pls(この範囲にある時補正はしない) 1msec=MAX500
                                          pls
 6238          00000064            50     _SYNC_ERR_HOSHAB_M      .EQU    100     ;100pls(この範囲にある時補正はしない)
 6239                              51     
 6240          00000064            52     _SYNC_GEN_HOS_ERR       .EQU    100     ;<==1000
 6241          00000001            53     _SYNC_GEN_HOS_HAB       .EQU    1       ;<==10
 6242          00000001            54     _SYNC_GEN_HOS_ADD       .EQU    1       ;
 6243                              55     
 6244          00000003            56     _LSI_RETRY_ERR_MAX      .EQU    3       ;
 6245          0000000A            57     _LSI_CMP_ERR_MAX        .EQU    10      ;
 6246                              58     
 6247                              59     
 6248          0000000F            60     _LSI_G_HOS_SPD          .EQU    15      ;500K=65535 250K=32767 1%=327 0.1%=32 (15代わった
                                          ら)
 6249          00080000            61     _DBG_XOR_SIG            .EQU    BIT3*H'10000    ;
 6250                              62     
 6251                              63     ;;2015-07-07 移動 _OVRLIDE_LATE_MAX     .EQU    100             ;1~100% 2006-09-19
 6252          00E4E1C0            64     _GENSOK_LNGTH_MAX       .EQU    30*500000       ;30秒×500,000HZ=E4,E1C0 2006-09-19
 6253          000003E8            65     _ACC_UNIT               .EQU    1000            ;1msec
 6254                              66     
 6255                              67     _CMP_ERR_SPEC_ENB       .DEFINE "0"     ;//noなら新ｱｸｾｽ部のLSI異常を見ない
 6256                              68     _OBJ_PLS_CTL_TYP        .DEFINE "1"     ;//
 6257                              69     
 6258                              70     
 6259                              71     ;       ***********************************
 6260                              72     ;       ***     2010-10-05              ***
 6261                              73     ;       ***********************************
 6262                              74     _X_SET_PV_ABS_TO_OBJ                    .DEFINE "_dum_SET_PV_ABS_TO_OBJ"        ;
 6263                              75     _X_LINK_PV_ABSPLS                       .DEFINE "_LINK_RL_OBJ_ABSPLS"           ;
 6264                              76     
 6265                              77             .IMPORT _PV_POWER_ON_CNT                        ;
 6266                              78             .IMPORT _CPU_CTRL_CLK                           ;
 6267                              79     
 6268                              80             .IMPORT _SVP_MACINE_SEL1
 6269                              81             .IMPORT _CHK_DNM_SPEC_MOD1
 6270                              82     
 6271                              83     
 6272                              84     ;       //      ***********************************
 6273                              85     ;       //      ***     EXTERN 宣言 PROGRAM     ***
 6274                              86     ;       //      ***********************************
 6275                              87     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE     2
PROGRAM NAME =

 6276                              88     
 6277                              89             .IMPORT         _CPOS_INI1_DTMOV1;ssa_dtmk.src
 6278                              90             .IMPORT         _CPOS_INI1_DTMOV2;ssa_dtmk.src
 6279                              91             .IMPORT         _CPOS_ROT_NUM_SET;ssa_dtmk.src
 6280                              92             .IMPORT         _CPOS_ABS_POS_SET;ssa_dtmk.src
 6281                              93             .IMPORT         _CPOS_SPD_DTMOV
 6282                              94             .IMPORT         _CPOS_TIM_DTMOV
 6283                              95     
 6284                              96             .IMPORT         _HLDCAM_ABS_POS_SET             ;ssa_dtmk.src 2014-08-30
 6285                              97             .IMPORT         _HLDCAM_BANK2_ABS_POS_SET       ;ssa_dtmk.src 2014-08-30
 6286                              98     
 6287                              99     
 6288                             100             .IMPORT         _DIG_LNGTH_CALC1;ssa_sca1.src
 6289                             101     ;;;;    .IMPORT         _POS_INC_TO_OUT_CHG_MOD 使用されない
 6290                             102     ;;;;    .IMPORT         _POS_OUT_TO_INC_CHG　使用されない
 6291                             103     
 6292                             104             .IMPORT         _ORGIN_MODE_INI         ;ssa_else.src
 6293                             105             .IMPORT         _ORGIN_MODE_SMP         ;
 6294                             106             .IMPORT         _ORGIN_MODE_END         ;
 6295                             107     ;;;;;   .IMPORT         _ORGIN2_MODE_END        ;
 6296                             108     
 6297                             109             .IMPORT         _LOT_SIG_SET            ;
 6298                             110     
 6299                             111             .IMPORT         _CYCLE_TIME_REFLASH_START
 6300                             112             .IMPORT         _CYCLE_TIME_REFLASH_END
 6301                             113             .IMPORT         _CYCLE_TIME_REFLASH_CLR
 6302                             114     
 6303                             115             .IMPORT         _NOW_INC_DIG_MAK        ;DTMK
 6304                             116     
 6305                             117             .IMPORT _DAT_MOSTPOS_SIG_CLR
 6306                             118             .IMPORT _DAI_MOSTPOS_SMPINI
 6307                             119             .IMPORT _DAI_MOSTPOS_SMPLE
 6308                             120             .IMPORT _DAI_MOSTPOS_CMPARE
 6309                             121     
 6310                             122             .IMPORT _DAI_FULL_SCALE_SMP_INI ;
 6311                             123             .IMPORT _DAI_FULL_SCALE_SMPLE   ;
 6312                             124             .IMPORT _DAI_FULL_SCALE_SMP_END ;
 6313                             125     
 6314                             126             .IMPORT _ORG_END_SIG_CLR;
 6315                             127     
 6316                             128             .IMPORT _CMPAB_NEAR_END_PROC    ;
 6317                             129             .IMPORT _CMPAB_STEP_END_PROC    ;
 6318                             130     
 6319                             131             .IMPORT _CMPSTP_CTRL_REDY_CLR;//準備完了にしたい
 6320                             132             .IMPORT _CMPSTP_CTRL_BUSY_CLR;//準備未完了にしたい
 6321                             133             .IMPORT _CMPSTP_POS_START_CLR;//起動したい
 6322                             134             .IMPORT _CMPSTP_SFTY_AUTO_CLR;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6323                             135             .IMPORT _CMPSTP_NEAR_ZERO_CLR;//ﾆｱｾﾞﾛ処理を行いたい
 6324                             136             .IMPORT _CMPSTP_CNT_STOP_CLR;//連続停止
 6325                             137             .IMPORT _CMPSTP_STEP_END_CLR;//位置決め完了としたい
 6326                             138             .IMPORT _CMPCYC_START_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
 6327                             139             .IMPORT _CMPCYC_END_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
 6328                             140     
 6329                             141             .IMPORT _CMPEMG_EXQ_FLG_CLR;
 6330                             142             .IMPORT _POS_CMP_1STEP_START_INI
 6331                             143     
 6332                             144             .IMPORT _STOP_LTH_OUT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE     3
PROGRAM NAME =

 6333                             145             .IMPORT _LOT_SIG_FLG_CLR                        ;通常の連続
 6334                             146             .IMPORT _STOPPING_TIM_STOP_INI
 6335                             147     
 6336                             148             .IMPORT _POS_OVER_RUN_CHK1      ;[S01m 2003-04-03]
 6337                             149     
 6338                             150             .IMPORT         _BRK_ERR_WORK_CLR1              ;ERR1.SRC
 6339                             151     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START1             ;
 6340                             152     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START2             ;
 6341                             153     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START3             ;
 6342                             154             .IMPORT         _BRK_ERR_CHK_START4             ;
 6343                             155     
 6344                             156             .IMPORT         _SET_NZ_TIM_DAT
 6345                             157             .IMPORT         _NZ_TIM_CHK1
 6346                             158     
 6347                             159     ;       ======= 2004-12-20 ==
 6348                             160             .IMPORT         _BANK2_CPOS_ABS_POS_SET ;2004-12-20 ssa_dtmk
 6349                             161             .IMPORT         _BANK2_TO_BANK1_MOV     ;
 6350                             162     
 6351                             163     ;       ======= 2006-07-28 ==
 6352                             164             .IMPORT _DND_POS_START_DAT_INI
 6353                             165     
 6354                             166             .AIF    0 EQ    0
 6355                             167 C   
 6356                             168 C           .IMPORT _VIB_PLS_OUT_ON         ;2010-08-23加振動制御 ssa_kjyu.inc
 6357                             169 C           .IMPORT _VIB_PLS_OUT_OF         ;2010-08-23加振動制御 ssa_kjyu.inc
 6358                             170 C   
 6359                             171 C           .IMPORT _API_IVW_CYC_START                      ;2010-09-21
 6360                             172 C           .IMPORT _API_IVW_CYC_END                        ;2010-09-21
 6361                             173 C   
 6362                             174 C   ;;;;;2012-10-19 .IMPORT _OVERH_CYC_START                        ;2012-09-25
 6363                             175 C           .IMPORT _OVERH_CYC_END                          ;2012-09-25
 6364                             176 C   
 6365                             177             .AENDI
 6366                             178     
 6367                             179             .IMPORT _API_BREAK_VALV_FLG_ON
 6368                             180             .IMPORT _API_BREAK_VALV_FLG_OF
 6369                             181     
 6370                             182     ;       //      ***********************************
 6371                             183     ;       //      ***     EXTERN 宣言 MEMORY,HARD ***
 6372                             184     ;       //      ***********************************
 6373                             185             .IMPORT         _LONG_BIT_TBL0
 6374                             186             .IMPORT         _SQ_CBWK_TOP
 6375                             187     ;       ====================================
 6376                             188             .GLOBAL         _SH4_HD_CTRL_REDY       ;準備完了にしたい
 6377                             189             .GLOBAL         _SH2_HD_CTRL_REDY       ;準備完了にしたい
 6378                             190             .GLOBAL         _SH4_HD_CTRL_BUSY       ;準備未完了にしたい
 6379                             191             .GLOBAL         _SH2_HD_CTRL_BUSY       ;準備未完了にしたい
 6380                             192             .GLOBAL         _SH4_HD_POS_START       ;起動したい
 6381                             193             .GLOBAL         _SH2_HD_POS_START       ;起動したい
 6382                             194             .GLOBAL         _SH4_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6383                             195             .GLOBAL         _SH2_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6384                             196             .GLOBAL         _SH4_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6385                             197             .GLOBAL         _SH2_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6386                             198             .GLOBAL         _SH4_HD_CNT_STOP        ;連続停止<工夫必要>
 6387                             199             .GLOBAL         _SH2_HD_CNT_STOP        ;連続停止<工夫必要>
 6388                             200             .GLOBAL         _SH4_HD_STEP_END        ;位置決め完了としたい
 6389                             201             .GLOBAL         _SH2_HD_STEP_END        ;位置決め完了としたい
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE     4
PROGRAM NAME =

 6390                             202     
 6391                             203     ;       ==== 2003-07-09 ===
 6392                             204             .GLOBAL         _PAR_ORGDRV_MOD         ;原点復帰方法変更
 6393                             205             .GLOBAL         _PAR_ORGDRV_CNT         ;原点復帰回数0=1回 1=2回
 6394                             206     
 6395                             207             .GLOBAL         _PAR_INSERT_SMPTM       ;2012-09-25
 6396                             208             .GLOBAL         _CB_SYS_PARAM000        ;2012-09-25
 6397                             209             .GLOBAL         _PAR_INCSPD_UPLMT       ;
 6398                             210             .GLOBAL         _PAR_STOPTIM_SEL        ;
 6399                             211     
 6400                             212     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT1         ;
 6401                             213     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT1         ;
 6402                             214     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT2         ;
 6403                             215     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT2         ;
 6404                             216     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT3         ;
 6405                             217     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT3         ;
 6406                             218     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT4         ;
 6407                             219     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT4         ;
 6408                             220     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT5         ;
 6409                             221     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT5         ;
 6410                             222     
 6411                             223             .IMPORT         _PVP_CB_A_VER           ;
 6412                             224             .IMPORT         _SH4_GPOINT_LNG         ;
 6413                             225             .IMPORT         _SH2_GPOINT_LNG         ;
 6414                             226     
 6415                             227             .IMPORT         _KJPHOS_SMPINI          ;2004-07-05
 6416                             228             .IMPORT         _KJPHOS_SMPLING_END1    ;2004-07-05
 6417                             229     
 6418                             230             .IMPORT         _ORIGIN_POS_CHK_INI2    ;2011-03-23 待機点移動完了
 6419                             231     
 6420                             232             .IMPORT         _UP_ACCERR_START_INI    ;2011-08-29
 6421                             233     
 6422                             234             .IMPORT         _PVPAB_KAJLIV_TTL               ;//荷重生（TON）(1word)
 6423                             235     
 6424                             236     
 6425                             237             .IMPORT         _POS_HOLD_FLG_STR2CLR           ;2014-09-12
 6426                             238     
 6427                             239     ;       //      ***********************************
 6428                             240     ;       //      ***     PUBLIC 宣言 PROGRAM     ***
 6429                             241     ;       //      ***********************************
 6430                             242             .EXPORT         _INT_POS_CTRL           ;-->ssa_k.src
 6431                             243             .EXPORT         _INT_POS_DATA_REF       ;-->ssa_k.src
 6432                             244     
 6433                             245             .EXPORT         _EMG_POS_FLG_PROC
 6434                             246             .EXPORT         _EXQ_POS_FLG_PROC
 6435                             247     
 6436                             248             .EXPORT         _MN_POS_CTRL_START              ;===>ssa_ctrl
 6437                             249             .EXPORT         _MN_POS_CTRL_ACT                ;===>ssa_ctrl
 6438                             250     
 6439                             251             .EXPORT         _FWD_REV_STSIG_OFF      ;SSA_CTRL1 2004-01-26
 6440                             252             .EXPORT         _POS_LSI_SLOW_STOP      ;SSA_CTRL1 2004-01-26
 6441                             253     
 6442                             254             .EXPORT _POS_LSI_START_INITAL           ;SPEED,LATE
 6443                             255             .EXPORT _POS_LSI_TOP_SPEED_SET  ;SPEED
 6444                             256             .EXPORT _LENGH_ADD_CALC         ;
 6445                             257             .EXPORT _LENGH_ADD_CALC_SV_TYPE ;
 6446                             258     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE     5
PROGRAM NAME =

 6447                             259             .EXPORT _POS_LENGTH_ADD_DATA    ;
 6448                             260             .EXPORT _POS_PLS_OUTPUT_DATA    ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
 6449                             261             .EXPORT _FWD_REV_START          ;起動
 6450                             262             .EXPORT _LOD_POS_STS_REG        ;
 6451                             263             .EXPORT _LOD_POS_STS_REG_POR    ;
 6452                             264             .EXPORT _FWD_REV_STSIG_OFF_SPEC ;
 6453                             265     
 6454                             266             .EXPORT _SET_PV_ABS_TO_OBJ      ;20060919
 6455                             267             .EXPORT _CHG_LSI_LATE_TO_PLS    ;20060919
 6456                             268             .EXPORT _OVERLID_DEF_SET        ;20060919
 6457                             269     
 6458                             270             .IMPORT _DIG01_CHG_DN_DATA_MAKE ;[20091007下振子]
 6459                             271     
 6460                             272             .IMPORT         _DIG36000_CHG_RENEA1            ;360.00度-->0.001mm
 6461                             273             .IMPORT _SVP_UPAREA_SPD0        ;0.1%　戻り速度
 6462                             274     
 6463                             275     ;       ------
 6464                             276             .IMPORT _CYCLE_SPD1             ;
 6465                             277     
 6466                             278             .IMPORT _INC_RST_WORK_CLR       ;
 6467                             279     
 6468                             280     ;;;     _BRK_SADOU_CHG EQ 1
 6469                             281     ;       ------ 2015-09-06(H2W 2015-03-15,H1F 2015-07-14)-------
 6470                             282     ;       -------- 2015-07-14------
 6471                             283             .IMPORT _PAR_MYUBRK_TIM1        ;[H1F=未作or無][H2W=2015-03-16 行程終了時　ﾐｭｰﾃﾝｸﾞ
                                          切替時間]
 6472                             284             .IMPORT _PAR_MYUBRK_TIM2        ;[H1F=未作or無][H2W=2015-03-16 終了時　ﾐｭｰﾃﾝｸﾞ切替
                                          時間]
 6473                             285             .IMPORT _PAR_MYU_BRK_SEL        ;[H1F=未作or無][H2W=2015-03-16 0:　1:ﾐｭｰﾃﾝｸﾞ時=BRK
                                          :LOCK]
 6474                             286             .IMPORT _PAR_SELF_WAIT_TM       ;P22ｾﾙﾌﾁｪｯｸまたは位置決めからﾛｯｸ開始遅延時間(停止
                                          確認用)
 6475                             287     
 6476                             288             .AIF    0 EQ    0
 6477                             289 C           .IMPORT _API_CAM_DRV_DNM_DIR_SET        ;2016-11-16
 6478                             290             .AENDI
 6479                             291     
 6480                             292     
 6481                             293     
 6482                             294     ;       ***************************************************
 6483                             295     ;       ***                                             ***
 6484                             296     ;       ***                                             ***
 6485                             297     ;       ***                                             ***
 6486                             298     ;       ***             位置決めＬＳＩアクセス          ***
 6487                             299     ;       ***                                             ***
 6488                             300     ;       ***                                             ***
 6489                             301     ;       ***                                             ***
 6490                             302     ;       ***************************************************
 6491                             303     ;       ?加減速時間の演算と指令周波数の演算
 6492                             304     ;       P27の指令ﾊﾟﾙｽREGのADDとP39の正確な位置決めができませんはなに？
 6493                             305     ;       "_poslsi1_top"
 6494                             306     ;       *ﾊﾟﾙｽ列の払い出しは指令ﾊﾟﾙｽｶｳﾝﾀの減算量
 6495                             307     ;       *速度周波数の演算
 6496                             308     ;       *ベース周波数=1?
 6497                             309     ;       *加速時間
 6498                             310     ;       *急停止の時間
 6499                             311     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE     6
PROGRAM NAME =

 6500                             312     ;       ***                             ***
 6501                             313     ;       ***     ﾊｰﾄﾞｳｴｱｲﾆｼｬﾙ            ***
 6502                             314     ;       ***                             ***
 6503                             315     ;       ***********************************
 6504                             316     ;       25MHZ*1/N*1/LATE=65535
 6505                             317             .IMPORT _poslsi1_top
 6506                             318     ;;;;_PLS_OUTPUT_MAX             .EQU    H'7FFF  ;
 6507          00FFFFFF           319     _PLS_OUTPUT_MAX         .EQU    H'00FFFFFF;128倍までは余裕あり
 6508          00000000           320     _PLSI_CH1               .equ    0
 6509          00000030           321     _PLSI_CH2               .equ    h'30
 6510                             322     
 6511          00000000           323     _PLS_BitComdL           .equ    h'0     ;R/W
 6512                             324     ;;_PLS_BitComdH         .equ    h'2     ;R/W
 6513          00000004           325     _PLS_BitInfoL           .equ    h'4     ;R
 6514                             326     ;;_PLS_BitInfoH         .equ    h'6     ;R
 6515          00000008           327     _PLS_TopFreqL           .EQU    H'8     ;R/W ﾄｯﾌﾟ周波数
 6516                             328     ;;_PLS_TopFreqH         .EQU    H'A     ;R/W
 6517          0000000C           329     _PLS_BasFreqL           .EQU    H'C     ;R/W ﾍﾞｰｽ周波数
 6518                             330     ;;_PLS_BasFreqH         .EQU    H'E     ;R/W
 6519          00000010           331     _PLS_NowFreqL           .EQU    H'10    ;R/W 現在周波数
 6520                             332     ;;_PLS_NowFreqH         .EQU    H'12    ;R/W
 6521          00000014           333     _PLS_OutPposL           .EQU    H'14    ;R/W 指令ﾊﾟﾙｽ数(これに払い出したいﾃﾞｰﾀを入れる:残
                                          量ｶｳﾝﾀでもある)
 6522                             334     ;;_PLS_OutPposH         .EQU    H'16    ;R/W
 6523          00000018           335     _PLS_GNpointL           .EQU    H'18    ;R/W 減速点
 6524                             336     ;;_PLS_GNpointH         .EQU    H'1A    ;R/W
 6525          0000001C           337     _PLS_AccLate1           .EQU    H'1C    ;R/W 通常運転加減速(減速指令時)
 6526          0000001E           338     _PLS_AccLate2           .EQU    H'1E    ;R/W 急停止加減速(急停止指令時)
 6527          00000020           339     _PLS_SpedLate           .EQU    H'20    ;R/W 周波数のLATE
 6528          00000022           340     _PLS_OutcntPS           .EQU    H'22    ;R/W 指令ﾊﾟﾙｽｶｳﾝﾀ(1回の起動での払出ﾊﾟﾙｽ数up-cnt)
 6529          00000024           341     _PLS_NowPos1L           .equ    h'24
 6530                             342     ;;_PLS_NowPos1H         .equ    h'26
 6531          00000028           343     _PLS_NowPos2            .equ    h'28
 6532          0000002A           344     _PLS_CtrlReg            .equ    h'2A
 6533                             345     
 6534                             346     
 6535          00000000           347     _PLSI_CH_COM            .EQU    0
 6536          0000007E           348     _PLS_LTCHReg            .EQU    H'7E    ;LATCH
 6537                             349     
 6538                             350     ;       *******************************************
 6539                             351     ;       ***                                     ***
 6540                             352     ;       ***     DE LATCH                        ***
 6541                             353     ;       ***     32BIT ﾃﾞｰﾀを読み込む時のラッチ  ***
 6542                             354     ;       ***                                     ***
 6543                             355     ;       *******************************************
 6544                             356             .MACRO  PLS_READ_LATCH          ;ﾚｼﾞｽﾀ破壊せず
 6545                             357             PUSH_REG1 R0                                            ;
 6546                             358             MOV.L   #_poslsi1_top+_PLSI_CH_COM+_PLS_LTCHReg,R0      ;
 6547                             359             MOV.W   @R0,R0                                          ;
 6548                             360             POP_REG1 R0                                             ;
 6549                             361             .ENDM
 6550                             362     
 6551                             363     ;       ***************************************************
 6552                             364     ;       ***     *CSを一旦上げてWAITを作成する為         ***
 6553                             365     ;       ***************************************************
 6554                             366             .MACRO  POS_LSI_WORD_DUM_LOD    ;ﾚｼﾞｽﾀ破壊せず
 6555                             367             PUSH_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE     7
PROGRAM NAME =

 6556                             368             MOV.L   #_PVP_CB_A_VER,R0       ;
 6557                             369             MOV.W   @R0,R0
 6558                             370             POP_REG1 R0
 6559                             371             .ENDM
 6560                             372     
 6561                             373             .MACRO  POSLSI_RD_WR_WAIT_NOP
 6562                             374             NOP
 6563                             375             NOP
 6564                             376             NOP
 6565                             377             NOP
 6566                             378             NOP
 6567                             379             NOP
 6568                             380             NOP
 6569                             381             NOP
 6570                             382             NOP
 6571                             383             NOP
 6572                             384             .ENDM
 6573                             385     
 6574                             386             .MACRO  TIM_CNT_ADD MEM,LG,ADR_REG,DAT_REG,LATE
 6575                             387             MOV.L   #\MEM,\ADR_REG          ;
 6576                             388             MOV.\LG @\ADR_REG,\DAT_REG      ;
 6577                             389             ADD     #\LATE,\DAT_REG         ;
 6578                             390             MOV.\LG \DAT_REG,@\ADR_REG      ;
 6579                             391             .ENDM
 6580                             392     
 6581                             393             .MACRO  eSHi_SET_MEM_MOV SRC,L1,DST,L2
 6582                             394             PUSH_REG1 R0
 6583                             395             PUSH_REG1 R1
 6584                             396             MOV.L   #\SRC,R1        ;
 6585                             397             MOV.\L1 @R1,R0          ;
 6586                             398             MOV.L   #\DST,R1        ;
 6587                             399             MOV.\L2 R0,@R1          ;
 6588                             400             POP_REG1 R1
 6589                             401             POP_REG1 R0
 6590                             402             .ENDM
 6591                             403     
 6592                             404             .MACRO  eSHi_SET_REG_MOV DST,L1,SETREG,WKREG1
 6593                             405             PUSH_REG1 \WKREG1               ;
 6594                             406             MOV.L   #\DST,\WKREG1           ;
 6595                             407             MOV.\L1 \SETREG,@\WKREG1        ;
 6596                             408             POP_REG1 \WKREG1                ;
 6597                             409             .ENDM
 6598                             410     
 6599                             411             .MACRO  eSHi_SET_IM_MOV DST,L1,WKREG1,WKREG2,IMD
 6600                             412             PUSH_REG1 \WKREG1               ;
 6601                             413             PUSH_REG1 \WKREG2               ;
 6602                             414             MOV.W   #\IMD,\WKREG2           ;
 6603                             415             MOV.L   #\DST,\WKREG1           ;
 6604                             416             MOV.\L1 \WKREG2,@\WKREG1        ;
 6605                             417             POP_REG1 \WKREG2                ;
 6606                             418             POP_REG1 \WKREG1                ;
 6607                             419             .ENDM
 6608                             420     
 6609                             421     
 6610                             422     
 6611                             423     ;       *******************************************
 6612                             424     ;       ***     WRITEｱｸｾｽ開始時にON(H)          ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE     8
PROGRAM NAME =

 6613                             425     ;       *******************************************
 6614                             426     
 6615                             427             .AIF    0 EQ    0
 6616                             428 C           .IMPORT _PDTRA
 6617                             429             .AENDI
 6618                             430     
 6619                             431             .MACRO  DEBUG_LSI_ACS_ON2_BIT BITDT
 6620                             432     
 6621                             433             .AIF    0 EQ    0
 6622                             434     ;;      (波形測定時)
 6623                             435             PUSH_REG1 R0
 6624                             436             PUSH_REG1 R1
 6625                             437             PUSH_REG1 R2
 6626                             438             MOV.L   #_PDTRA,R1                      ;
 6627                             439             MOV.W   @R1,R0                          ;
 6628                             440             MOV.W   #\BITDT,R2                      ;
 6629                             441             OR      R2,R0                           ;
 6630                             442             MOV.W   R0,@R1                          ;
 6631                             443     
 6632                             444             POP_REG1 R2
 6633                             445             POP_REG1 R1
 6634                             446             POP_REG1 R0
 6635                             447             .AENDI
 6636                             448     
 6637                             449             .ENDM
 6638                             450     
 6639                             451             .MACRO  DEBUG_LSI_ACS_OF2_BIT BITDT
 6640                             452     
 6641                             453             .AIF    0 EQ    0
 6642                             454     ;;      (波形測定時)
 6643                             455             PUSH_REG1 R0
 6644                             456             PUSH_REG1 R1
 6645                             457             PUSH_REG1 R2
 6646                             458             MOV.L   #_PDTRA,R1                      ;
 6647                             459             MOV.W   @R1,R0                          ;
 6648                             460             MOV.W   #LWORD ~\BITDT,R2               ;
 6649                             461             AND     R2,R0                           ;
 6650                             462             MOV.W   R0,@R1                          ;
 6651                             463             POP_REG1 R2
 6652                             464             POP_REG1 R1
 6653                             465             POP_REG1 R0
 6654                             466             .AENDI
 6655                             467     
 6656                             468             .ENDM
 6657                             469     
 6658                             470     
 6659                             471     
 6660                             472     ;       ***********************************
 6661                             473     ;       ***                             ***
 6662                             474     ;       ***     起動時呼ばれる          ***
 6663                             475     ;       ***                             ***
 6664                             476     ;       ***********************************
 6665                             477     ;
 6666                             478     ;       ・データのラッチ
 6667                             479             .IMPORT _CPUB_HENSA_FLG_CLR             ;2012-02-08
 6668                             480     ;
 6669 00000000                    481             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE     9
PROGRAM NAME =

 6670 00000000                    482     _MN_POS_CTRL_START:             ;ssa_pos1.src
 6671                             483             SUB_START
 6672 00000000 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6673                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6674                             484     
 6675                             485     
 6676                             486     ;       ----------2014-11-10------------
 6677 00000002 222A               487             XOR     R2,R2
 6678 00000004 D12C               488             MOV.L   #_CPOS_CTL_MATH,R1                      ;
 6679 00000006 6011               489             MOV.W   @R1,R0                                  ;
 6680 00000008 C804               490             TST     #_DMATH_DNDRIV,R0                       ;往復?
 6681                             491             TST_BIT_OF MN_POSCTL_ST050                      ;違う
 6682 0000000A 8904                   M           BT      MN_POSCTL_ST050
 6683                             492     
 6684 0000000C D12B               493             MOV.L   #_MODE_SEL,R1                           ;
 6685 0000000E 6011               494             MOV.W   @R1,R0                                  ;
 6686 00000010 C81E               495             TST     #(_W1OPT+_W1CNT+_W1SGL+_W1INC),R0       ;
 6687                             496             TST_BIT_OF MN_POSCTL_ST050                      ;
 6688 00000012 8900                   M           BT      MN_POSCTL_ST050
 6689                             497     
 6690 00000014 E201               498             MOV.B   #BIT0,R2                                ;対象運転開始
 6691                             499     
 6692 00000016                    500     MN_POSCTL_ST050                                         ;
 6693 00000016 D12A               501             MOV.L   #_MOVE_MODE_MATH_LATCH,R1               ;//0:(ふりこ以外 または 段取・原点
                                          モード)1:(ふりこでﾓｰｼｮﾝしていた)
 6694 00000018 2121               502             MOV.W   R2,@R1                                  ;
 6695                             503     ;       --------------------------------------------------
 6696                             504     
 6697                             505     ;       -------- 2013-02-08-------
 6698                             506     ;;;;;   MOV.L   #_CPOS_CTL_MATH,R1              ;
 6699                             507     ;;;;;   MOV.W   @R1,R0                          ;
 6700                             508     ;;;;;   TST     #_DMATH_DNDRIV,R0               ; 往復?
 6701                             509     ;;;;;   TST_BIT_OF MN_POSCTL_ST200              ;
 6702                             510     
 6703                             511             FAR_JSR #_CPUB_HENSA_FLG_CLR,R0         ;
 6704 0000001A D02A                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6705 0000001C 400B                   M           JSR     @R0                     ;
 6706 0000001E 0009                   M           NOP                                     ;
 6707                             512     
 6708                             513     ;;;;;MN_POSCTL_ST200:                           ;
 6709                             514     
 6710                             515     ;       --------------- 2014-09-12 [HLD後の起動なので再演算しない]-------
 6711                             516     ;;;;収集が付かないのでSET_PV_ABS_TO_OBJの中で抜ける     MOV.L   #_POS_HOLD_RDY_EXITF,R1
                                          ;
 6712                             517     ;;;;収集が付かないので  MOV.W   @R1,R0                          ;
 6713                             518     ;;;;収集が付かないので  TST     #BIT0,R0                        ;
 6714                             519     ;;;;収集が付かないので  TST_BIT_ON MN_POSCTL_START_050          ;
 6715                             520     
 6716                             521     ;       ======== 20060919 ======================
 6717                             522     ;       CPUBは自分の払いだした量だけ動作しない。そのため位置がづれるので、停止後はからなず
                                          必要
 6718                             523     ;;;;;;  FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
 6719                             524     ;       =======================================
 6720                             525     
 6721                             526     ;;;;収集が付かないので  M_BRA   MN_POSCTL_START_060             ;
 6722                             527     ;;;;収集が付かないので
 6723                             528     ;;;;収集が付かないのでMN_POSCTL_START_050:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    10
PROGRAM NAME =

 6724                             529     ;;;;収集が付かないので  NOP
 6725                             530     ;;;;収集が付かないのでMN_POSCTL_START_060:
 6726                             531     
 6727                             532             FAR_JSR #_PRESET_PV_ABS_TO_OBJ,R0       ;
 6728 00000020 D029                   M           MOV.L   #_PRESET_PV_ABS_TO_OBJ,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6729 00000022 400B                   M           JSR     @R0                     ;
 6730 00000024 0009                   M           NOP                                     ;
 6731                             533     
 6732                             534     
 6733                             535     
 6734                             536     
 6735                             537     
 6736                             538     ;       --------------2013-02-15 寸動制限------------
 6737                             539             FAR_JSR #_INC_UPLIMT_CALC,R0    ;
 6738 00000026 D029                   M           MOV.L   #_INC_UPLIMT_CALC,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6739 00000028 400B                   M           JSR     @R0                     ;
 6740 0000002A 0009                   M           NOP                                     ;
 6741                             540     
 6742                             541     
 6743                             542     ;       === 2005-04-14-E(4/18) ====
 6744                             543             FAR_JSR #_SGL_CMP_ERR_DT_CLR,R0
 6745 0000002C D028                   M           MOV.L   #_SGL_CMP_ERR_DT_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6746 0000002E 400B                   M           JSR     @R0                     ;
 6747 00000030 0009                   M           NOP                                     ;
 6748                             544     
 6749                             545     ;       ----- [2009-10-07下振子]-----
 6750                             546             FAR_JSR #_DNM_CYCLE_START,R0    ;
 6751 00000032 D028                   M           MOV.L   #_DNM_CYCLE_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6752 00000034 400B                   M           JSR     @R0                     ;
 6753 00000036 0009                   M           NOP                                     ;
 6754                             547     
 6755                             548             FAR_JSR #_CPOS_INI1_DTMOV1,R0           ;//運転ﾃﾞｰﾀﾗｯﾁ
 6756 00000038 D027                   M           MOV.L   #_CPOS_INI1_DTMOV1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6757 0000003A 400B                   M           JSR     @R0                     ;
 6758 0000003C 0009                   M           NOP                                     ;
 6759                             549             FAR_JSR #_DND_POS_START_DAT_INI,R0      ;2006-07-28
 6760 0000003E D027                   M           MOV.L   #_DND_POS_START_DAT_INI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6761 00000040 400B                   M           JSR     @R0                     ;
 6762 00000042 0009                   M           NOP                                     ;
 6763                             550     
 6764                             551             FAR_JSR #_LSI_REST_PLS_CHK_START_CLR,R0 ;
 6765 00000044 D026                   M           MOV.L   #_LSI_REST_PLS_CHK_START_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6766 00000046 400B                   M           JSR     @R0                     ;
 6767 00000048 0009                   M           NOP                                     ;
 6768                             552             FAR_JSR #_GPOSIN_HOS_DRV_INI,R0
 6769 0000004A D026                   M           MOV.L   #_GPOSIN_HOS_DRV_INI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6770 0000004C 400B                   M           JSR     @R0                     ;
 6771 0000004E 0009                   M           NOP                                     ;
 6772                             553     
 6773 00000050 222A               554             XOR     R2,R2
 6774 00000052 D125               555             MOV.L   #_INT_DND_CTL_STEP,R1;
 6775 00000054 2121               556             MOV.W   R2,@R1
 6776 00000056 D125               557             MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
 6777 00000058 2121               558             MOV.W   R2,@R1
 6778                             559     ;;;     ================= なぜこのフラグがＯＦＦしていない？ =======
 6779 0000005A 200A               560             XOR     R0,R0                           ;(1ｻｲｸﾙ完了時にOFFしていないとならない信号
                                          なのに)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    11
PROGRAM NAME =

 6780 0000005C D124               561             MOV.L   #_INT_POS_CTL_FLAG,R1           ;
 6781 0000005E 2101               562             MOV.W   R0,@R1                          ;
 6782                             563     
 6783                             564     ;       === 2004-12-20 ===
 6784 00000060 D124               565             MOV.L   #_CNT_STOP_CTRL_FLG,R1  ;//BIT0,BIT1:差し引き終了
 6785 00000062 2101               566             MOV.W   R0,@R1                          ;
 6786                             567     
 6787                             568             FAR_JSR #_CNTREST_HOS_RESET,R1  ;
 6788 00000064 D124                   M           MOV.L   #_CNTREST_HOS_RESET,R1          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6789 00000066 410B                   M           JSR     @R1                     ;
 6790 00000068 0009                   M           NOP                                     ;
 6791                             569     
 6792                             570     ;       === 2004-01-26 CCS===
 6793 0000006A 200A               571             XOR     R0,R0
 6794 0000006C D123               572             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
 6795 0000006E 2101               573             MOV.W   R0,@R1                          ;
 6796                             574     
 6797                             575     
 6798                             576     ;       ====== 一旦停止信号OFF=====
 6799                             577             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
 6800 00000070 D123                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 6801 00000072 6011                   M           MOV.W   @R1,R0          ;
 6802 00000074 941F                   M           MOV.W   #LWORD (~BIT9),R4       ;
 6803 00000076 2049                   M           AND     R4,R0           ;
 6804 00000078 2101                   M           MOV.W   R0,@R1          ;
 6805                             578     
 6806                             579             FAR_JSR #_CMPCYC_START_CLR,R0           ;
 6807 0000007A D022                   M           MOV.L   #_CMPCYC_START_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6808 0000007C 400B                   M           JSR     @R0                     ;
 6809 0000007E 0009                   M           NOP                                     ;
 6810                             580             FAR_JSR #_CMPSTP_CNT_STOP_CLR,R0        ;起動時のみ連続停止クリア（後はサイクル完
                                          了時も）
 6811 00000080 D021                   M           MOV.L   #_CMPSTP_CNT_STOP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6812 00000082 400B                   M           JSR     @R0                     ;
 6813 00000084 0009                   M           NOP                                     ;
 6814                             581             FAR_JSR #_POS_CMP_1STEP_START_INI,R0    ;
 6815 00000086 D021                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6816 00000088 400B                   M           JSR     @R0                     ;
 6817 0000008A 0009                   M           NOP                                     ;
 6818                             582     
 6819                             583             FAR_JSR #_MOTION_CYCLE_START,R0         ;
 6820 0000008C D020                   M           MOV.L   #_MOTION_CYCLE_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6821 0000008E 400B                   M           JSR     @R0                     ;
 6822 00000090 0009                   M           NOP                                     ;
 6823                             584     
 6824                             585             FAR_JSR #_POS_LSI_WORK_STOP2,R0
 6825 00000092 D020                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6826 00000094 400B                   M           JSR     @R0                     ;
 6827 00000096 0009                   M           NOP                                     ;
 6828                             586     
 6829 00000098 200A               587             XOR     R0,R0                   ;
 6830 0000009A D11F               588             MOV.L   #_INT_CYC_DRV_STS,R1    ;
 6831 0000009C 2101               589             MOV.W   R0,@R1                  ;
 6832 0000009E D11F               590             MOV.L   #_STOP_LATCH,R1         ;//BIT0:ｽﾄｯﾌﾟ釦
 6833 000000A0 2101               591             MOV.W   R0,@R1                  ;
 6834 000000A2 D11F               592             MOV.L   #_STOP_LATCH_B,R1       ;//BIT0:ｽﾄｯﾌﾟ釦
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    12
PROGRAM NAME =

 6835 000000A4 2101               593             MOV.W   R0,@R1                  ;
 6836 000000A6 D11F               594             MOV.L   #_INT_CLS_CTL_FLG,R1    ;//BIT0=1 START 起動時ｸﾘｱ
 6837 000000A8 2101               595             MOV.W   R0,@R1                  ;
 6838                             596     ;;2016-10-31未使用      MOV.L   #_LOT_CNT_TO_MOD,R1     ;
 6839                             597     ;;2016-10-31未使用      MOV.W   R0,@R1                  ;
 6840                             598     
 6841                             599     ;;      FAR_JSR #_CPOS_INI1_DTMOV1,R0   ;//運転ﾃﾞｰﾀﾗｯﾁ
 6842                             600     
 6843 000000AA D104               601             MOV.L   #_MODE_SEL,R1                                           ;
 6844 000000AC 6011               602             MOV.W   @R1,R0                                                  ;
 6845 000000AE C81E               603             TST     #(_W1OPT+_W1CNT+_W1SGL+_W1INC),R0                       ;
 6846                             604             TST_BIT_OF MN_POSCTL_START_110                                  ;
 6847 000000B0 893A                   M           BT      MN_POSCTL_START_110
 6848                             605             M_BRA   MN_POSCTL_START_500                                     ;寸動,安一,連続
 6849 000000B2 A07B                   M           BRA     MN_POSCTL_START_500
 6850 000000B4 0009                   M           NOP
 6851                                     ***** BEGIN-POOL *****
 6852 000000B6 FDFF                       DATA FOR SOURCE-LINE 577
 6853 000000B8 00000000                   DATA FOR SOURCE-LINE 488
 6854 000000BC 00000000                   DATA FOR SOURCE-LINE 493,601
 6855 000000C0 00000000                   DATA FOR SOURCE-LINE 501
 6856 000000C4 00000000                   DATA FOR SOURCE-LINE 511
 6857 000000C8 00000000                   DATA FOR SOURCE-LINE 532
 6858 000000CC 00000000                   DATA FOR SOURCE-LINE 539
 6859 000000D0 00000000                   DATA FOR SOURCE-LINE 543
 6860 000000D4 00000000                   DATA FOR SOURCE-LINE 546
 6861 000000D8 00000000                   DATA FOR SOURCE-LINE 548
 6862 000000DC 00000000                   DATA FOR SOURCE-LINE 549
 6863 000000E0 00000000                   DATA FOR SOURCE-LINE 551
 6864 000000E4 00000000                   DATA FOR SOURCE-LINE 552
 6865 000000E8 00000000                   DATA FOR SOURCE-LINE 555
 6866 000000EC 00000000                   DATA FOR SOURCE-LINE 557
 6867 000000F0 00000000                   DATA FOR SOURCE-LINE 561
 6868 000000F4 00000000                   DATA FOR SOURCE-LINE 565
 6869 000000F8 00000000                   DATA FOR SOURCE-LINE 568
 6870 000000FC 00000000                   DATA FOR SOURCE-LINE 572
 6871 00000100 00000000                   DATA FOR SOURCE-LINE 577
 6872 00000104 00000000                   DATA FOR SOURCE-LINE 579
 6873 00000108 00000000                   DATA FOR SOURCE-LINE 580
 6874 0000010C 00000000                   DATA FOR SOURCE-LINE 581
 6875 00000110 00000000                   DATA FOR SOURCE-LINE 583
 6876 00000114 00000000                   DATA FOR SOURCE-LINE 585
 6877 00000118 00000000                   DATA FOR SOURCE-LINE 588
 6878 0000011C 00000000                   DATA FOR SOURCE-LINE 590
 6879 00000120 00000000                   DATA FOR SOURCE-LINE 592
 6880 00000124 00000000                   DATA FOR SOURCE-LINE 594
 6881                                     ***** END-POOL *****
 6882 00000128                    606     MN_POSCTL_START_110:
 6883                             607     
 6884                             608     ;       === 待機点作成(最寄)  :上死点復帰の場合は360ｴﾝｺｰﾀﾞから算出する  ;
 6885 00000128 C840               609             TST     #(_W1DUP),R0                                            ;
 6886                             610             TST_BIT_ON MN_POSCTL_START_200                                  ;強制上昇
 6887 0000012A 8B07                   M           BF      MN_POSCTL_START_200
 6888                             611     
 6889                             612     ;       === 段取モード========
 6890                             613             FAR_JSR #_MN_DNDINC_START,R0            ;2006-07-28 ｲﾆｼｬﾙｻﾌﾞﾙｰﾁﾝ化
 6891 0000012C D002                   M           MOV.L   #_MN_DNDINC_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    13
PROGRAM NAME =

 6892 0000012E 400B                   M           JSR     @R0                     ;
 6893 00000130 0009                   M           NOP                                     ;
 6894                             614             M_BRA   MN_POSCTL_START_800             ;
 6895 00000132 A064                   M           BRA     MN_POSCTL_START_800
 6896 00000134 0009                   M           NOP
 6897                             615     
 6898                             616     ;;      -- 2006-07-28 ｲﾆｼｬﾙｻﾌﾞﾙｰﾁﾝ化--
 6899                             617     ;;      MOV.L   #_SETX_POS_CTL_MATH,R1          ;
 6900                             618     ;;      MOV.W   @R1,R0                          ;
 6901                             619     ;;      CMP/EQ  #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
 6902                             620     ;;      BF      MN_POSCTL_START_150             ;
 6903                             621     ;;
 6904                             622     ;;      ====== 反転/段取寸動===
 6905                             623     ;;      FAR_JSR #_DND_LNK_STEP_CHECK1,R0        ;//<どの工程から開始するか> CHEAK
 6906                             624     ;;      FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待機点2 _PO
                                          S_DRV_DIRECT
 6907                             625     ;;      M_BRA   MN_POSCTL_START_180             ;
 6908                             626     ;;
 6909                             627     ;;MN_POSCTL_START_150:
 6910                             628     ;;      ====== 回転/段取寸動===
 6911                             629     ;;      +/-MAX位置を目標とする                                  ;
 6912                             630     ;;      === 方向判別/速度設定/目標位置:STARTは割込でかける      ;
 6913                             631     ;;      FAR_JSR #_DNDINC_DIRECT_MAKE1,R1                        ;ANS R0(=POS_RDV_DIRECT)
 6914                             632     ;;      MOV.L   #_POS_DRV_DIRECT,R1                             ;起動時(SV-LEVEL)
 6915                             633     ;;      MOV.W   @R1,R0
 6916                             634     ;;      FAR_JSR #_LINK_P_M_MAX,R4                               ;Input R0:BIT0 DIRECT
 6917                             635     ;;MN_POSCTL_START_180:
 6918                             636     ;;      FAR_JSR #_DNDINC_SPD_SET,R4                             ;
 6919                             637     ;;      M_BRA   MN_POSCTL_START_800                             ;
 6920                             638     
 6921                             639     
 6922                             640     ;       ===================================
 6923                             641     ;       ===     (原点復帰開始処理)      ===
 6924                             642     ;       ===================================
 6925                             643     ;2008-09-16(論理変更　ﾚﾍﾞﾙ動作も活かす)
 6926                                     ***** BEGIN-POOL *****
 6927 00000136 0000                       ALIGNMENT CODE
 6928 00000138 00000000                   DATA FOR SOURCE-LINE 613
 6929                                     ***** END-POOL *****
 6930 0000013C                    644     MN_POSCTL_START_200:                                                    ;
 6931 0000013C D10B               645             MOV.L   #_ORGIN_END_FLG1,R1             ;//電源投入の１回ON:OFFはない
 6932 0000013E 6011               646             MOV.W   @R1,R0                          ;
 6933 00000140 C801               647             TST     #BIT0,R0                        ;
 6934                             648             TST_BIT_OF MN_POSCTL_START_220          ;１回も原点復帰していない
 6935 00000142 891D                   M           BT      MN_POSCTL_START_220
 6936                             649     
 6937                             650     ;       --------[2014-09-18]-----------
 6938 00000144 D10A               651             MOV.L   #_ORG_ELSE_NOMAL_FLG1,R1
 6939 00000146 6011               652             MOV.W   @R1,R0                          ;
 6940 00000148 C801               653             TST     #BIT0,R0                        ;
 6941                             654             TST_BIT_OF MN_POSCTL_START_220          ;1:ﾓｰｼｮﾝ運転可能=待機動作もｻｰﾁ無し可能
 6942 0000014A 8919                   M           BT      MN_POSCTL_START_220
 6943                             655     
 6944                             656     ;       --------------------------------
 6945                             657     
 6946 0000014C D109               658             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
 6947 0000014E 6011               659             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    14
PROGRAM NAME =

 6948 00000150 2008               660             TST     R0,R0                           ;
 6949                             661             TST_BIT_OF MN_POSCTL_START_220          ;(論理変更)
 6950 00000152 8915                   M           BT      MN_POSCTL_START_220
 6951                             662     
 6952 00000154 D108               663             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 6953 00000156 6011               664             MOV.W   @R1,R0                          ;
 6954 00000158 9406               665             MOV.W   #BIT15,R4                       ;
 6955 0000015A 2048               666             TST     R4,R0                           ;
 6956                             667             TST_BIT_OF MN_POSCTL_START_220          ;待機点目標位置決め指令(ｽﾗｲﾄﾞ調整後はｼｰｹﾝｽ
                                          で判断)
 6957 0000015C 8910                   M           BT      MN_POSCTL_START_220
 6958                             668     
 6959                             669             FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST1,R0     ;(原点復帰ではなく待機点位置決め)
 6960 0000015E D007                   M           MOV.L   #_ORGIN_OBJ_POS_CTRL_ST1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6961 00000160 400B                   M           JSR     @R0                     ;
 6962 00000162 0009                   M           NOP                                     ;
 6963                             670                                                     ;待機点範囲ならやらない(そうしないと...１
                                          回転するほうとしないほうがでる)
 6964                             671                                                     ;
 6965                             672             M_BRA   MN_POSCTL_START_800             ;
 6966 00000164 A04B                   M           BRA     MN_POSCTL_START_800
 6967 00000166 0009                   M           NOP
 6968                             673     
 6969                             674     ;;;;----------- 2008-09-16 論理変更
 6970                             675     ;;;;2006-11-21
 6971                             676     ;;;;MN_POSCTL_START_200:                                                        ;
 6972                             677     ;;;;    MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 6973                             678     ;;;;    MOV.W   @R1,R0                          ;
 6974                             679     ;;;;    MOV.W   #BIT15,R4                       ;
 6975                             680     ;;;;    TST     R4,R0                           ;
 6976                             681     ;;;;    TST_BIT_OF MN_POSCTL_START_220          ;待機点目標位置決め指令(ｽﾗｲﾄﾞ調整後はｼｰｹﾝｽ
                                          で判断)
 6977                             682     ;;;;
 6978                             683     ;;;;    ============ 2006-07-28=========
 6979                             684     ;;;;    MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
 6980                             685     ;;;;    MOV.W   @R1,R0                          ;
 6981                             686     ;;;;    TST     R0,R0                           ;
 6982                             687     ;;;;    TST_BIT_OF MN_POSCTL_START_220          ;(論理変更)
 6983                             688     ;;;;
 6984                             689     ;;;;    MOV.L   #_ORGIN_END_FLG1,R1             ;//電源投入の１回ON:OFFはない
 6985                             690     ;;;;    MOV.W   @R1,R0                          ;
 6986                             691     ;;;;    TST     #BIT0,R0                        ;
 6987                             692     ;;;;    TST_BIT_OF MN_POSCTL_START_220          ;１回も原点復帰していない
 6988                             693     ;;;;
 6989                             694     ;;;;    FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST1,R0     ;(原点復帰ではなく待機点位置決め)
 6990                             695     ;;;;                                            ;待機点範囲ならやらない(そうしないと...１
                                          回転するほうとしないほうがでる)
 6991                             696     ;;;;                                            ;
 6992                             697     ;;;;    M_BRA   MN_POSCTL_START_800             ;
 6993                             698     
 6994                             699     
 6995                             700     
 6996                             701     ;----------- 2006-11-21 論理変更
 6997                             702     ;;;MN_POSCTL_START_200:                                                 ;
 6998                             703     ;;;     ============ 2006-07-28=========
 6999                             704     ;;;     MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
 7000                             705     ;;;     MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    15
PROGRAM NAME =

 7001                             706     ;;;     TST     R0,R0                           ;
 7002                             707     ;;;     TST_BIT_ON MN_POSCTL_START_210          ;
 7003                             708     ;;;
 7004                             709     ;;;     ============2004-05-24=========================
 7005                             710     ;;;     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 7006                             711     ;;;     MOV.W   @R1,R0                          ;
 7007                             712     ;;;     MOV.W   #BIT15,R4                       ;
 7008                             713     ;;;     TST     R4,R0                           ;
 7009                             714     ;;;     TST_BIT_OF MN_POSCTL_START_220          ;待機点目標位置決め指令(ｽﾗｲﾄﾞ調整後はｼｰｹﾝｽ
                                          で判断)
 7010                             715     ;;;MN_POSCTL_START_210:                                                 ;
 7011                             716     ;;;     MOV.L   #_ORGIN_END_FLG1,R1             ;//電源投入の１回ON:OFFはない
 7012                             717     ;;;     MOV.W   @R1,R0                          ;
 7013                             718     ;;;     TST     #BIT0,R0                        ;
 7014                             719     ;;;     TST_BIT_OF MN_POSCTL_START_220          ;１回も原点復帰していない
 7015                             720     ;;;
 7016                             721     ;;;     FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST1,R0     ;(原点復帰ではなく待機点位置決め)
 7017                             722     ;;;                                             ;待機点範囲ならやらない(そうしないと...１
                                          回転するほうとしないほうがでる)
 7018                             723     ;;;                                             ;
 7019                             724     ;;;     M_BRA   MN_POSCTL_START_800             ;
 7020                             725     
 7021                             726     ;       ----------------- ｻｰﾁﾀｲﾌﾟ-----------------------
 7022                                     ***** BEGIN-POOL *****
 7023 00000168 8000                       DATA FOR SOURCE-LINE 665
 7024 0000016A 0000                       ALIGNMENT CODE
 7025 0000016C 00000000                   DATA FOR SOURCE-LINE 645
 7026 00000170 00000000                   DATA FOR SOURCE-LINE 651
 7027 00000174 00000000                   DATA FOR SOURCE-LINE 658
 7028 00000178 00000000                   DATA FOR SOURCE-LINE 663
 7029 0000017C 00000000                   DATA FOR SOURCE-LINE 669
 7030                                     ***** END-POOL *****
 7031 00000180                    727     MN_POSCTL_START_220:
 7032 00000180 D106               728             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;2004-05-24
 7033 00000182 200A               729             XOR     R0,R0                           ;
 7034 00000184 2101               730             MOV.W   R0,@R1                          ;
 7035                             731     
 7036                             732     ;       ===============================================
 7037                             733     ;       ==== 上死点復帰・待機点復帰====
 7038                             734     ;       今の位置から上死点＋３度を目指す
 7039                             735     ;       今の位置から上死点−３度を目指す
 7040                             736             FAR_JSR #_LINK_UPPLS_A_OBJMAK1,R1       ;
 7041 00000186 D106                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK1,R1               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7042 00000188 410B                   M           JSR     @R1                     ;
 7043 0000018A 0009                   M           NOP                                     ;
 7044                             737             FAR_JSR #_DNDUPS_SPD_SET,R4             ;
 7045 0000018C D405                   M           MOV.L   #_DNDUPS_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7046 0000018E 440B                   M           JSR     @R4                     ;
 7047 00000190 0009                   M           NOP                                     ;
 7048                             738             FAR_JSR #_ORG_END_SIG_CLR,R0            ;
 7049 00000192 D005                   M           MOV.L   #_ORG_END_SIG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7050 00000194 400B                   M           JSR     @R0                     ;
 7051 00000196 0009                   M           NOP                                     ;
 7052                             739             M_BRA   MN_POSCTL_START_800             ;
 7053 00000198 A031                   M           BRA     MN_POSCTL_START_800
 7054 0000019A 0009                   M           NOP
 7055                             740     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    16
PROGRAM NAME =

 7056                                     ***** BEGIN-POOL *****
 7057 0000019C 00000000                   DATA FOR SOURCE-LINE 728
 7058 000001A0 00000000                   DATA FOR SOURCE-LINE 736
 7059 000001A4 00000000                   DATA FOR SOURCE-LINE 737
 7060 000001A8 00000000                   DATA FOR SOURCE-LINE 738
 7061                                     ***** END-POOL *****
 7062 000001AC                    741     MN_POSCTL_START_500:                            ;
 7063                             742             FAR_JSR #_CPOS_INI1_DTMOV2,R0           ;
 7064 000001AC D009                   M           MOV.L   #_CPOS_INI1_DTMOV2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7065 000001AE 400B                   M           JSR     @R0                     ;
 7066 000001B0 0009                   M           NOP                                     ;
 7067                             743     
 7068                             744     ;;;     ================= なぜこのフラグがＯＦＦしていない？ =======
 7069                             745     ;;      XOR     R0,R0                           ;(1ｻｲｸﾙ完了時にOFFしていないとならない信号
                                          なのに)
 7070                             746     ;;      MOV.L   #_INT_POS_CTL_FLAG,R1           ;
 7071                             747     ;;      MOV.W   R0,@R1                          ;
 7072                             748     
 7073                             749     ;(急停止の場合はSV_POS_CTL_SEPは0ではない ok!)
 7074                             750     ;(ｻｲｸﾙ停止では、回転数を演算する必要はない)
 7075                             751     
 7076                             752     ;
 7077                             753     ;       === 待機点作成(方向あり)====
 7078 000001B2 D109               754             MOV.L   #_SV_POS_CTL_STEP,R1            ;
 7079 000001B4 6011               755             MOV.W   @R1,R0                          ;(+1だけでいいのか/つくり直す必要があるの
                                          か)
 7080                             756     
 7081 000001B6 2008               757             TST     R0,R0                           ;
 7082                             758             TST_BIT_ON MN_POSCTL_START_600          ;(ﾘｾｯﾄ時に待機点を決定する)
 7083 000001B8 8B1E                   M           BF      MN_POSCTL_START_600
 7084                             759     ;;;;;;;;;;STEP=0:非常停止後の起動
 7085                             760     ;;;;;;;;;;2014-09-19    ----------- [2009-10-07下振子]
 7086                             761     ;;;;;;;;;;2014-09-19    MOV.L   #_CPOS_CTL_MATH,R1              ;
 7087                             762     ;;;;;;;;;;2014-09-19    MOV.W   @R1,R0                          ;
 7088                             763     ;;;;;;;;;;2014-09-19    TST     #_DMATH_DNDRIV,R0               ; 往復?
 7089                             764     ;;;;;;;;;;2014-09-19    TST_BIT_OF MN_POSCTL_START_520          ;
 7090                             765     ;;;;;;;;;;2014-09-19    MOV.L   #_DNM_DIR_SET_FLG,R1            ;(この論理はよくない)
 7091                             766     ;;;;;;;;;;2014-09-19    MOV.W   @R1,R0                          ;
 7092                             767     ;;;;;;;;;;2014-09-19    TST     R0,R0                           ;
 7093                             768     ;;;;;;;;;;2014-09-19    TST_BIT_ON MN_POSCTL_START_540          ;DNM_DIR_NOW_FLG
 7094                             769     ;;;;;;;;;;2014-09-19MN_POSCTL_START_520:                                ;
 7095                             770     ;;;;;;;;;;2014-09-19 目標位置から演算するから不要に思える.待機点を跨ぐなら別
 7096                             771     
 7097                             772     ;       ------------ これがいまのところインターロックではたらいていなそう(20091007コメント
                                          )----------
 7098 000001BA D108               773             MOV.L   #_INT_CYC_DRV_STS,R1            ;SV=0非常停止またはｻｲｸﾙ停止(BIT0=1:ｻｲｸﾙ停
                                          止)
 7099 000001BC 6011               774             MOV.W   @R1,R0                          ;
 7100 000001BE C801               775             TST     #BIT0,R0                        ;
 7101                             776             TST_BIT_ON MN_POSCTL_START_540          ;(これがうまくとれていない ｻｲｸﾙ停止時は演
                                          算しない)
 7102 000001C0 8B12                   M           BF      MN_POSCTL_START_540
 7103                             777     
 7104                             778     ;       ---------- 非常停止後の起動-----------
 7105                             779             FAR_JSR #_NEXT_CYCL_START2,R0                   ;(((((何の起動??)))))
 7106 000001C2 D007                   M           MOV.L   #_NEXT_CYCL_START2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7107 000001C4 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    17
PROGRAM NAME =

 7108 000001C6 0009                   M           NOP                                     ;
 7109                             780             FAR_JSR #_START_CNT_BANK2_MAK_CHK,R0            ;(BANK1ROT番号+1)
 7110 000001C8 D006                   M           MOV.L   #_START_CNT_BANK2_MAK_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7111 000001CA 400B                   M           JSR     @R0                     ;
 7112 000001CC 0009                   M           NOP                                     ;
 7113                             781     
 7114                             782     
 7115                             783     ;
 7116                             784     
 7117                             785     
 7118                             786             M_BRA   MN_POSCTL_START_600                     ;
 7119 000001CE A013                   M           BRA     MN_POSCTL_START_600
 7120 000001D0 0009                   M           NOP
 7121                             787     
 7122                             788     ;       -------遮光停止でこれをやった場合で　待機点を越えていたら以外にだめ？(コメント2009
                                          1007)--------
 7123                             789     ;       遮光による停止、またはサイクルＥＮＤ後の自動起動
 7124                             790     
 7125                                     ***** BEGIN-POOL *****
 7126 000001D2 0000                       ALIGNMENT CODE
 7127 000001D4 00000000                   DATA FOR SOURCE-LINE 742
 7128 000001D8 00000000                   DATA FOR SOURCE-LINE 754
 7129 000001DC 00000000                   DATA FOR SOURCE-LINE 773
 7130 000001E0 00000000                   DATA FOR SOURCE-LINE 779
 7131 000001E4 00000000                   DATA FOR SOURCE-LINE 780
 7132                                     ***** END-POOL *****
 7133 000001E8                    791     MN_POSCTL_START_540:                                    ;
 7134 000001E8 D115               792             MOV.L   #_LINK_OBJROT_NUM_ZR,R1                 ;//NOW ROTATION 番号
 7135 000001EA 6212               793             MOV.L   @R1,R2                                  ;+0
 7136                             794             FAR_JSR #_NEXT_CYCL_START1,R0                   ;(連続時は転送でも良いがとりあえず
                                          このまま残す)
 7137 000001EC D015                   M           MOV.L   #_NEXT_CYCL_START1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7138 000001EE 400B                   M           JSR     @R0                     ;
 7139 000001F0 0009                   M           NOP                                     ;
 7140                             795             FAR_JSR #_START_CNT_BANK2_MAK_CHK,R0            ;(BANK1ROT番号+1)
 7141 000001F2 D015                   M           MOV.L   #_START_CNT_BANK2_MAK_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7142 000001F4 400B                   M           JSR     @R0                     ;
 7143 000001F6 0009                   M           NOP                                     ;
 7144 000001F8                    796     MN_POSCTL_START_600:                            ;
 7145 000001F8 0009               797             NOP                                     ;何もしないくて良いはず
 7146 000001FA 0009               798             NOP                                     ;
 7147 000001FC 0009               799             NOP                                     ;
 7148 000001FE                    800     MN_POSCTL_START_800:                            ;
 7149                             801     
 7150                             802     
 7151 000001FE 901D               803             MOV.W   #BIT0,R0                        ;起動
 7152 00000200 D112               804             MOV.L   #_MNWR_POS_CMD,R1               ;
 7153 00000202 2101               805             MOV.W   R0,@R1                          ;
 7154                             806     
 7155                             807     
 7156                             808     ;       --------2009-04-01 起動したらフラグクリア[原点時の]
 7157                             809             MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1      ;
                                          原点起動で使用
 7158 00000204 D412                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
 7159 00000206 6041                   M           MOV.W   @R4,R0          ;
 7160 00000208 9119                   M           MOV.W   #LWORD (~BIT5),R1       ;
 7161 0000020A 2019                   M           AND     R1,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    18
PROGRAM NAME =

 7162 0000020C 2401                   M           MOV.W   R0,@R4          ;
 7163                             810             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
 7164 0000020E D411                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
 7165 00000210 6041                   M           MOV.W   @R4,R0          ;
 7166 00000212 9114                   M           MOV.W   #LWORD (~BIT5),R1       ;
 7167 00000214 2019                   M           AND     R1,R0           ;
 7168 00000216 2401                   M           MOV.W   R0,@R4          ;
 7169                             811     
 7170                             812     
 7171                             813     ;       --------2011-05-11　起動時　本当は.160度手前.....----
 7172                             814             FAR_JSR #_CNT_BEF_LOT_SIGCHK,R0         ;ｻﾌﾞﾙｰﾁﾝ 2011-05-11
 7173 00000218 D00F                   M           MOV.L   #_CNT_BEF_LOT_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7174 0000021A 400B                   M           JSR     @R0                     ;
 7175 0000021C 0009                   M           NOP                                     ;
 7176                             815     
 7177                             816     
 7178                             817     ;       -2012-05-30 反転
 7179                             818             FAR_JSR #_FULCLS_MAXOVER_CLR,R0
 7180 0000021E D00F                   M           MOV.L   #_FULCLS_MAXOVER_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7181 00000220 400B                   M           JSR     @R0                     ;
 7182 00000222 0009                   M           NOP                                     ;
 7183                             819     
 7184                             820     ;       ----------- 荷重行程変更ｸﾘｱ-----------------
 7185                             821             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
 7186                             822 C           FAR_JSR #_FCLS_KJYU_STEPCHG_CLR,R0      ;2015-03-15[R01:2014-03-20]
 7187 00000224 D00E                   M           MOV.L   #_FCLS_KJYU_STEPCHG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7188 00000226 400B                   M           JSR     @R0                     ;
 7189 00000228 0009                   M           NOP                                     ;
 7190                             823 C           FAR_JSR #_KAJYU_ELSE_STS_CLR,R0         ;
 7191 0000022A D00E                   M           MOV.L   #_KAJYU_ELSE_STS_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7192 0000022C 400B                   M           JSR     @R0                     ;
 7193 0000022E 0009                   M           NOP                                     ;
 7194                             824             .AENDI
 7195                             825     
 7196                             826     ;       -------- 2015-11-17 ---------
 7197                             827     ;2016-04-18     FAR_JSR #_API_ACCLW_DRV_START1,R0
 7198                             828             FAR_JSR #_API_ACC_MATHED_COM_DRV_START1,R0      ;2016-04-18
 7199 00000230 D00D                   M           MOV.L   #_API_ACC_MATHED_COM_DRV_START1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7200 00000232 400B                   M           JSR     @R0                     ;
 7201 00000234 0009                   M           NOP                                     ;
 7202                             829     
 7203                             830             SUB_END
 7204                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7205 00000236 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7206                             831             M_RTS
 7207 00000238 000B                   M           RTS                             ;RTSの後ろの
 7208 0000023A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7209                             832     
 7210                             833     
 7211                             834     ;       ***********************************
 7212                             835     ;       ***     運転中に呼ばれる        ***
 7213                             836     ;       ***********************************
 7214                             837     ;       FAR_JSR #_MN_POS_CTRL_ACT,R1            ;<00:運転継続中>
 7215                             838     ;                                               ;<寸動等の停止 -->準備未完了へ "FF">
 7216                             839     ;                                               ;<ｻｲｸﾙ終了->ｾﾙﾌﾁｪｯｸへ          "55">
 7217                             840     ;
 7218                             841     ;       ・１回転分のデータを作成するだけ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    19
PROGRAM NAME =

 7219                             842     ;       ・位置決め完了を見るだけ
 7220                             843     ;
 7221                                     ***** BEGIN-POOL *****
 7222 0000023C 0001                       DATA FOR SOURCE-LINE 803
 7223 0000023E FFDF                       DATA FOR SOURCE-LINE 809,810
 7224 00000240 00000000                   DATA FOR SOURCE-LINE 792
 7225 00000244 00000000                   DATA FOR SOURCE-LINE 794
 7226 00000248 00000000                   DATA FOR SOURCE-LINE 795
 7227 0000024C 00000000                   DATA FOR SOURCE-LINE 804
 7228 00000250 00000000                   DATA FOR SOURCE-LINE 809
 7229 00000254 00000000                   DATA FOR SOURCE-LINE 810
 7230 00000258 00000000                   DATA FOR SOURCE-LINE 814
 7231 0000025C 00000000                   DATA FOR SOURCE-LINE 818
 7232 00000260 00000000                   DATA FOR SOURCE-LINE 822
 7233 00000264 00000000                   DATA FOR SOURCE-LINE 823
 7234 00000268 00000000                   DATA FOR SOURCE-LINE 828
 7235                                     ***** END-POOL *****
 7236 0000026C                    844             .ALIGN  4                               ;
 7237 0000026C                    845     _MN_POS_CTRL_ACT:                               ;ssa_pos1.src
 7238                             846             SUB_START
 7239 0000026C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7240                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7241                             847     
 7242 0000026E D103               848             MOV.L   #_INT_CYC_DRV_STS,R1            ;
 7243 00000270 6011               849             MOV.W   @R1,R0                          ;
 7244 00000272 C840               850             TST     #BIT6,R0                        ;工程終了
 7245                             851             TST_BIT_OF MN_POS_CTLACT_100            ;(位置決め完了 NO!)
 7246 00000274 8904                   M           BT      MN_POS_CTLACT_100
 7247                             852             M_BRA   MN_POS_CTLACT_800               ;
 7248 00000276 A029                   M           BRA     MN_POS_CTLACT_800
 7249 00000278 0009                   M           NOP
 7250                             853     
 7251                                     ***** BEGIN-POOL *****
 7252 0000027A 0000                       ALIGNMENT CODE
 7253 0000027C 00000000                   DATA FOR SOURCE-LINE 848
 7254                                     ***** END-POOL *****
 7255 00000280                    854     MN_POS_CTLACT_100:                              ;
 7256                             855     
 7257                             856     
 7258                             857     ;;;     _BRK_SADOU_CHG EQ 1
 7259                             858     ;       ------------2015-09-06 ﾌﾞﾚｰｷ作動(H2W 2015-03-16,H1F 2015-07-14)-----------------
 7260 00000280 D104               859             MOV.L   #(_PAR_MYU_BRK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1                    ;[
                                          H1F=未作or無][H2W=2015-03-16 0:　1:ﾐｭｰﾃﾝｸﾞ時=BRK:LOCK]
 7261 00000282 6011               860             MOV.W   @R1,R0                                  ;
 7262 00000284 8801               861             CMP/EQ  #1,R0
 7263 00000286 8B09               862             BF      MN_POS_CTLACT_130                       ;
 7264                             863     
 7265                             864     ;       -------------2015-09-06 (2015-07-14)-------------------------
 7266                             865     ;       ｲﾝﾎﾟｼﾞｼｮﾝから位置決め完了(ﾌﾞﾚｰｷまでの遅延)
 7267                             866             FAR_JSR #_POS_ENDWAIT_TIM_SET,R0                ;[安一,連続のAUTO それ以外でとるか
                                          ]
 7268 00000288 D003                   M           MOV.L   #_POS_ENDWAIT_TIM_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7269 0000028A 400B                   M           JSR     @R0                     ;
 7270 0000028C 0009                   M           NOP                                     ;
 7271                             867             M_BRA   MN_POS_CTLACT_150                                       ;
 7272 0000028E A008                   M           BRA     MN_POS_CTLACT_150
 7273 00000290 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    20
PROGRAM NAME =

 7274                             868     
 7275                                     ***** BEGIN-POOL *****
 7276 00000292 0000                       ALIGNMENT CODE
 7277 00000294 00000000                   DATA FOR SOURCE-LINE 859
 7278 00000298 00000000                   DATA FOR SOURCE-LINE 866
 7279                                     ***** END-POOL *****
 7280 0000029C                    869     MN_POS_CTLACT_130:                                      ;
 7281                             870     ;       --------------2015-09-06(2015-07-14)------------------------
 7282                             871             FAR_JSR #_POS_ENDMYUT_TIM_SET,R0                ;終了から動力遮断するorﾐｭｰﾃﾝｸﾞにす
                                          る時間
 7283 0000029C D007                   M           MOV.L   #_POS_ENDMYUT_TIM_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7284 0000029E 400B                   M           JSR     @R0                     ;
 7285 000002A0 0009                   M           NOP                                     ;
 7286                             872     ;       -------------------------------------------------
 7287 000002A2                    873     MN_POS_CTLACT_150:                                      ;
 7288                             874     
 7289                             875     
 7290                             876     
 7291                             877     
 7292                             878     
 7293                             879     
 7294 000002A2 D107               880             MOV.L   #_CPOS_CTL_MATH,R1              ;
 7295 000002A4 6011               881             MOV.W   @R1,R0                          ;
 7296 000002A6 C805               882             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0               ;[20091007下振子]
 7297                             883             TST_BIT_OF DAI_CHK01_200                ;
 7298 000002A8 8902                   M           BT      DAI_CHK01_200
 7299                             884             FAR_JSR #_DAI_FULL_SCALE_SMPLE,R0       ;2003-02-03
 7300 000002AA D006                   M           MOV.L   #_DAI_FULL_SCALE_SMPLE,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7301 000002AC 400B                   M           JSR     @R0                     ;
 7302 000002AE 0009                   M           NOP                                     ;
 7303 000002B0                    885     DAI_CHK01_200:
 7304                             886     
 7305                             887             FAR_JSR #_MOST_DISP_DAT_SMP,R0          ;
 7306 000002B0 D005                   M           MOV.L   #_MOST_DISP_DAT_SMP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7307 000002B2 400B                   M           JSR     @R0                     ;
 7308 000002B4 0009                   M           NOP                                     ;
 7309                             888             M_BRA   MN_POS_CTLACT_CONTINUE          ;
 7310 000002B6 A01D                   M           BRA     MN_POS_CTLACT_CONTINUE
 7311 000002B8 0009                   M           NOP
 7312                             889     
 7313                                     ***** BEGIN-POOL *****
 7314 000002BA 0000                       ALIGNMENT CODE
 7315 000002BC 00000000                   DATA FOR SOURCE-LINE 871
 7316 000002C0 00000000                   DATA FOR SOURCE-LINE 880
 7317 000002C4 00000000                   DATA FOR SOURCE-LINE 884
 7318 000002C8 00000000                   DATA FOR SOURCE-LINE 887
 7319                                     ***** END-POOL *****
 7320 000002CC                    890     MN_POS_CTLACT_800:
 7321 000002CC 200A               891             XOR     R0,R0                           ;ｻｲｸﾙ停止
 7322 000002CE D106               892             MOV.L   #_MNWR_POS_CMD,R1               ;ﾊﾟﾙｽ払出即停止
 7323 000002D0 2101               893             MOV.W   R0,@R1                          ;
 7324                             894     
 7325                             895     ;;;     _BRK_SADOU_CHG EQ 1
 7326                             896     ;       --------2015-09-06(2015-07-14)----------------
 7327 000002D2 D106               897             MOV.L   #_POS_END_WAIT_TIM,R1           ;
 7328 000002D4 6011               898             MOV.W   @R1,R0                          ;
 7329 000002D6 2008               899             TST     R0,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    21
PROGRAM NAME =

 7330                             900             TST_BIT_ON MN_POS_CTLACT_CONTINUE       ;(位置決め完了を待つ---遮光時は動力遮断状
                                          態だから大丈夫)
 7331 000002D8 8B0C                   M           BF      MN_POS_CTLACT_CONTINUE
 7332                             901     ;       -----------------------------------------
 7333                             902     
 7334                             903     
 7335 000002DA D105               904             MOV.L   #_INT_CYC_DRV_STS,R1    ;//BIT0:CYCLE　END()
 7336 000002DC 6011               905             MOV.W   @R1,R0
 7337 000002DE C801               906             TST     #BIT0,R0                        ;(わざとｻｲｸﾙ停止にしない)
 7338                             907             TST_BIT_ON MN_POS_CTLACT_CYCLE_END      ;
 7339 000002E0 8B0E                   M           BF      MN_POS_CTLACT_CYCLE_END
 7340                             908             M_BRA   MN_POS_CTLACT_STOP_END          ;
 7341 000002E2 A00A                   M           BRA     MN_POS_CTLACT_STOP_END
 7342 000002E4 0009                   M           NOP
 7343                             909     
 7344                             910     
 7345                                     ***** BEGIN-POOL *****
 7346 000002E6 0000                       ALIGNMENT CODE
 7347 000002E8 00000000                   DATA FOR SOURCE-LINE 892
 7348 000002EC 00000000                   DATA FOR SOURCE-LINE 897
 7349 000002F0 00000000                   DATA FOR SOURCE-LINE 904
 7350                                     ***** END-POOL *****
 7351 000002F4                    911     MN_POS_CTLACT_CONTINUE:
 7352 000002F4 200A               912             XOR     R0,R0
 7353                             913             M_BRA   MN_POS_CTLACT_EXIT
 7354 000002F6 A004                   M           BRA     MN_POS_CTLACT_EXIT
 7355 000002F8 0009                   M           NOP
 7356                             914     
 7357 000002FA                    915     MN_POS_CTLACT_STOP_END:
 7358 000002FA E0FF               916             MOV     #-1,R0
 7359                             917             M_BRA   MN_POS_CTLACT_EXIT
 7360 000002FC A001                   M           BRA     MN_POS_CTLACT_EXIT
 7361 000002FE 0009                   M           NOP
 7362 00000300                    918     MN_POS_CTLACT_CYCLE_END:
 7363 00000300 E055               919             MOV     #H'55,R0        ;CYCLE END
 7364 00000302                    920     MN_POS_CTLACT_EXIT:
 7365                             921             SUB_END
 7366                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7367 00000302 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7368                             922             M_RTS
 7369 00000304 000B                   M           RTS                             ;RTSの後ろの
 7370 00000306 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7371                             923     
 7372                             924     
 7373                             925     
 7374                             926     
 7375                             927     ;       ***********************************
 7376                             928     ;       ***                             ***
 7377                             929     ;       ***     2015-09-06              ***
 7378                             930     ;       ***     2015-07-14              ***
 7379                             931     ;       ***                             ***
 7380                             932     ;       ***********************************
 7381                             933     ;       ﾌﾞﾚｰｷとﾐｭ-ﾃﾝｸﾞ連動
 7382                             934     ;;;     _BRK_SADOU_CHG EQ 1
 7383 00000308                    935     _POS_ENDWAIT_TIM_SET
 7384                             936             SUB_START
 7385 00000308 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    22
PROGRAM NAME =

 7386                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7387                             937     
 7388                             938     
 7389                             939     ;       --------------------------------------------
 7390 0000030A D109               940             MOV.L   #(_PAR_MYUBRK_TIM2-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;[PNO.95][H2W=2015
                                          -03-16 寸動終了時ﾀｲﾏ]
 7391 0000030C 6211               941             MOV.W   @R1,R2                          ;
 7392                             942     
 7393 0000030E D109               943             MOV.L   #_MODE_SEL,R1                   ;
 7394 00000310 6011               944             MOV.W   @R1,R0                          ;
 7395 00000312 C81C               945             TST     #(_W1OPT+_W1CNT+_W1SGL),R0      ;
 7396                             946             TST_BIT_OF POS_ENDWAIT_TIMSET_END       ;
 7397 00000314 8906                   M           BT      POS_ENDWAIT_TIMSET_END
 7398                             947     
 7399 00000316 D108               948             MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
 7400 00000318 6011               949             MOV.W   @R1,R0                          ;
 7401 0000031A 9408               950             MOV.W   #_WOATO,R4                      ;AUTO
 7402 0000031C 2048               951             TST     R4,R0                           ;
 7403                             952             TST_BIT_OF POS_ENDWAIT_TIMSET_END       ;[AUTOじゃない]
 7404 0000031E 8901                   M           BT      POS_ENDWAIT_TIMSET_END
 7405                             953     
 7406                             954     ;       ----------- 1ｻｲｸﾙ停止時用 2015-07-14--------
 7407 00000320 D106               955             MOV.L   #(_PAR_MYUBRK_TIM1-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;[H2W=2015-03-14
                                          行程終了時　ﾐｭｰﾃﾝｸﾞ切替時間]
 7408 00000322 6211               956             MOV.W   @R1,R2                          ;[PNO.94]
 7409                             957                                                     ;
 7410                             958     
 7411 00000324                    959     POS_ENDWAIT_TIMSET_END
 7412 00000324 D106               960             MOV.L   #_POS_END_WAIT_TIM,R1           ;[位置決め完了遅延時間==動力遮断を伸ばす時
                                          間]
 7413 00000326 2121               961             MOV.W   R2,@R1
 7414                             962     
 7415                             963     
 7416                             964     
 7417                             965             SUB_END
 7418                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7419 00000328 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7420                             966             M_RTS
 7421 0000032A 000B                   M           RTS                             ;RTSの後ろの
 7422 0000032C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7423                             967     
 7424                             968     
 7425                             969     
 7426                             970     ;       ***********************************
 7427                             971     ;       ***                             ***
 7428                             972     ;       ***     2015-07-14              ***
 7429                             973     ;       ***                             ***
 7430                             974     ;       ***********************************
 7431                             975     ;       ﾌﾞﾚｰｷとﾐｭ-ﾃﾝｸﾞ連動しない
 7432                             976     ;       P22　ﾊﾟﾙｽ出力完了~ﾌﾞﾚｰｷをかけても良い時間
 7433                             977     ;       ﾐｭｰﾃﾝｸﾞ中はﾐｭｰﾃﾝｸﾞ継続時間
 7434                             978     ;       ﾐｭｰﾃﾝｸﾞしない状態では動力遮断時間
 7435                             979     ;
 7436                             980     ;       今までは遮光を検知しない時間=ﾐｭｰﾃﾝｸﾞ継続時間相当
 7437                             981     ;
 7438                             982     
 7439                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    23
PROGRAM NAME =

 7440 0000032E 0040                       DATA FOR SOURCE-LINE 950
 7441 00000330 00000000                   DATA FOR SOURCE-LINE 940
 7442 00000334 00000000                   DATA FOR SOURCE-LINE 943
 7443 00000338 00000000                   DATA FOR SOURCE-LINE 948
 7444 0000033C 00000000                   DATA FOR SOURCE-LINE 955
 7445 00000340 00000000                   DATA FOR SOURCE-LINE 960
 7446                                     ***** END-POOL *****
 7447 00000344                    983     _POS_ENDMYUT_TIM_SET:
 7448                             984             SUB_START
 7449 00000344 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7450                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7451                             985     
 7452 00000346 D10C               986             MOV.L   #(_PAR_SELF_WAIT_TM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;P22ｾﾙﾌﾁｪｯｸまたは
                                          位置決めからﾛｯｸ開始遅延時間(停止確認用)
 7453 00000348 6211               987             MOV.W   @R1,R2                  ;
 7454 0000034A 233A               988             XOR     R3,R3
 7455                             989     
 7456                             990     
 7457 0000034C D10B               991             MOV.L   #_MODE_SEL,R1           ;寸動・安全一工程・連続・OPT
 7458 0000034E 6011               992             MOV.W   @R1,R0                  ;
 7459 00000350 C804               993             TST     #_W1SGL,R0              ;
 7460                             994             TST_BIT_OF POS_ENDMYUTTIM_STOP  ;[見る必要ないのだが]
 7461 00000352 890A                   M           BT      POS_ENDMYUTTIM_STOP
 7462                             995     
 7463 00000354 D10A               996             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
 7464 00000356 6011               997             MOV.W   @R1,R0                  ;
 7465 00000358 C802               998             TST     #BIT1,R0                ;
 7466                             999             TST_BIT_OF POS_ENDMYUTTIM_STOP  ;[見る必要ないのだが]
 7467 0000035A 8906                   M           BT      POS_ENDMYUTTIM_STOP
 7468                            1000     
 7469 0000035C D109              1001             MOV.L   #_FR_CYL_MASK_FLG,R1    ;//上昇無効中"1"
 7470 0000035E 6011              1002             MOV.W   @R1,R0                  ;
 7471 00000360 C803              1003             TST     #(BIT1+BIT0),R0         ;
 7472                            1004             TST_BIT_OF POS_ENDMYUTTIM_STOP  ;
 7473 00000362 8902                   M           BT      POS_ENDMYUTTIM_STOP
 7474                            1005     
 7475                            1006     
 7476                            1007     ;       ---     ﾐｭｰﾃﾝｸﾞする     ---
 7477 00000364                   1008     POS_ENDMYUTTIM_KEEP:
 7478 00000364 6023              1009             MOV     R2,R0                   ;
 7479 00000366 6233              1010             MOV     R3,R2                   ;
 7480 00000368 6303              1011             MOV     R0,R3                   ;
 7481                            1012     
 7482                            1013     ;       ---     ﾐｭｰﾃﾝｸﾞじゃない ---
 7483 0000036A                   1014     POS_ENDMYUTTIM_STOP
 7484 0000036A D107              1015             MOV.L   #_POS_END_MYUTIG_STOPTIM,R1     ;//終了後この時間であれば動力遮断する時間
 7485 0000036C 2121              1016             MOV.W   R2,@R1                          ;
 7486 0000036E D107              1017             MOV.L   #_POS_END_MYUTIG_KEEPTIM,R1     ;//終了後上昇無効を継続する時間
 7487 00000370 2131              1018             MOV.W   R3,@R1                          ;
 7488                            1019     
 7489                            1020     
 7490                            1021     
 7491                            1022             SUB_END
 7492                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7493 00000372 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7494                            1023             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    24
PROGRAM NAME =

 7495 00000374 000B                   M           RTS                             ;RTSの後ろの
 7496 00000376 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7497                            1024     
 7498                            1025     ;       ***********************************
 7499                            1026     ;       ***                             ***
 7500                            1027     ;       ***     2015-07-14              ***
 7501                            1028     ;       ***                             ***
 7502                            1029     ;       ***     一応ｸﾘｱしておく         ***
 7503                            1030     ;       ***********************************
 7504                                     ***** BEGIN-POOL *****
 7505 00000378 00000000                   DATA FOR SOURCE-LINE 986
 7506 0000037C 00000000                   DATA FOR SOURCE-LINE 991
 7507 00000380 00000000                   DATA FOR SOURCE-LINE 996
 7508 00000384 00000000                   DATA FOR SOURCE-LINE 1001
 7509 00000388 00000000                   DATA FOR SOURCE-LINE 1015
 7510 0000038C 00000000                   DATA FOR SOURCE-LINE 1017
 7511                                     ***** END-POOL *****
 7512 00000390                   1031     _POS_END_MYUTIG_TIMER_CLR
 7513                            1032             SUB_START
 7514 00000390 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7515                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7516 00000392 200A              1033             XOR     R0,R0
 7517 00000394 D104              1034             MOV.L   #_POS_END_MYUTIG_STOPTIM,R1;    //終了後この時間であれば動力遮断する時間
 7518 00000396 2101              1035             MOV.W   R0,@R1
 7519                            1036     
 7520 00000398 D104              1037             MOV.L   #_POS_END_MYUTIG_KEEPTIM,R1;    //終了後上昇無効を継続する時間
 7521 0000039A 2101              1038             MOV.W   R0,@R1
 7522                            1039     
 7523 0000039C D104              1040             MOV.L   #_POS_END_WAIT_TIM,R1;          //[位置決め完了遅延時間==動力遮断を伸ばす
                                          時間]
 7524 0000039E 2101              1041             MOV.W   R0,@R1
 7525                            1042             SUB_END
 7526                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7527 000003A0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7528                            1043             M_RTS
 7529 000003A2 000B                   M           RTS                             ;RTSの後ろの
 7530 000003A4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7531                            1044     
 7532                            1045     
 7533                            1046     ;;;LENGTH_ADD[2]=LINK_SV_OBJ_ABSPLS[2]-LINK_RL_OBJ_ABSPLS[2];//abs停止目標位置-ﾘｱﾙﾀｲﾑ目標
                                          絶対位置
 7534                            1047     ;       ***********************************
 7535                            1048     ;       ***                             ***
 7536                            1049     ;       ***     ﾓｰﾄﾞに関わるｻﾌﾞﾙｰﾁﾝ     ***
 7537                            1050     ;       ***                             ***
 7538                            1051     ;       ***********************************
 7539                            1052     
 7540                            1053     
 7541                            1054     
 7542                            1055     ;;;;;;@@@@@@@@@@
 7543                            1056     
 7544                            1057     ;       ***********************************
 7545                            1058     ;       ***                             ***
 7546                            1059     ;       ***     上死点復帰              ***
 7547                            1060     ;       ***     速度設定                ***
 7548                            1061     ;       ***                             ***
 7549                            1062     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    25
PROGRAM NAME =

 7550                                     ***** BEGIN-POOL *****
 7551 000003A6 0000                       ALIGNMENT CODE
 7552 000003A8 00000000                   DATA FOR SOURCE-LINE 1034
 7553 000003AC 00000000                   DATA FOR SOURCE-LINE 1037
 7554 000003B0 00000000                   DATA FOR SOURCE-LINE 1040
 7555                                     ***** END-POOL *****
 7556 000003B4                   1063             .ALIGN  4                               ;
 7557 000003B4                   1064     _DNDUPS_SPD_SET:
 7558                            1065             SUB_START
 7559 000003B4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7560                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7561 000003B6 D103              1066             MOV.L   #_SET1_UPAREA_SPD1,R1   ;
 7562 000003B8 6212              1067             MOV.L   @R1,R2                  ;
 7563 000003BA D103              1068             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1 ;//目標速度
 7564 000003BC 2122              1069             MOV.L   R2,@R1                  ;
 7565                            1070             SUB_END
 7566                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7567 000003BE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7568                            1071             M_RTS
 7569 000003C0 000B                   M           RTS                             ;RTSの後ろの
 7570 000003C2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7571                            1072     
 7572                                     ***** BEGIN-POOL *****
 7573 000003C4 00000000                   DATA FOR SOURCE-LINE 1066
 7574 000003C8 00000000                   DATA FOR SOURCE-LINE 1068
 7575                                     ***** END-POOL *****
 7576 000003CC                   1073             .ALIGN  4                               ;
 7577 000003CC                   1074     _DNDUPS_CLEEP_SPD_SET:
 7578                            1075             SUB_START
 7579 000003CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7580                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7581 000003CE D103              1076             MOV.L   #_SET1_UPCLEEP_SPD,R1   ;
 7582 000003D0 6212              1077             MOV.L   @R1,R2                  ;
 7583 000003D2 D103              1078             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1 ;//目標速度
 7584 000003D4 2122              1079             MOV.L   R2,@R1                  ;
 7585                            1080             SUB_END
 7586                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7587 000003D6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7588                            1081             M_RTS
 7589 000003D8 000B                   M           RTS                             ;RTSの後ろの
 7590 000003DA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7591                            1082     
 7592                            1083     
 7593                            1084     
 7594                            1085     ;       ***********************************
 7595                            1086     ;       ***                             ***
 7596                            1087     ;       ***     2006-07-28              ***
 7597                            1088     ;       ***                             ***
 7598                            1089     ;       ***********************************
 7599                                     ***** BEGIN-POOL *****
 7600 000003DC 00000000                   DATA FOR SOURCE-LINE 1076
 7601 000003E0 00000000                   DATA FOR SOURCE-LINE 1078
 7602                                     ***** END-POOL *****
 7603 000003E4                   1090             .ALIGN  4                               ;
 7604 000003E4                   1091     _MN_DNDINC_START:
 7605                            1092             SUB_START
 7606 000003E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    26
PROGRAM NAME =

 7607                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7608 000003E6 D104              1093             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
 7609 000003E8 6011              1094             MOV.W   @R1,R0                          ;
 7610 000003EA 2008              1095             TST     R0,R0                           ;
 7611                            1096             TST_BIT_OF DNDINC_ST_100                ;
 7612 000003EC 8908                   M           BT      DNDINC_ST_100
 7613                            1097     
 7614                            1098             FAR_JSR #_MN_TEP_START,R0
 7615 000003EE D003                   M           MOV.L   #_MN_TEP_START,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7616 000003F0 400B                   M           JSR     @R0                     ;
 7617 000003F2 0009                   M           NOP                                     ;
 7618                            1099             M_BRA   DNDINC_ST_END                           ;
 7619 000003F4 A071                   M           BRA     DNDINC_ST_END
 7620 000003F6 0009                   M           NOP
 7621                            1100     
 7622                                     ***** BEGIN-POOL *****
 7623 000003F8 00000000                   DATA FOR SOURCE-LINE 1093
 7624 000003FC 00000000                   DATA FOR SOURCE-LINE 1098
 7625                                     ***** END-POOL *****
 7626 00000400                   1101     DNDINC_ST_100:
 7627 00000400 D10B              1102             MOV.L   #_CPOS_DND_STOP_SW,R1           ;
 7628 00000402 6011              1103             MOV.W   @R1,R0                          ;
 7629 00000404 C803              1104             TST     #(BIT1+BIT0),R0                 ;停止有り?
 7630                            1105             TST_BIT_OF DNDINC_ST_520                ;
 7631 00000406 8941                   M           BT      DNDINC_ST_520
 7632                            1106     
 7633 00000408 D10A              1107             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
 7634 0000040A 6011              1108             MOV.W   @R1,R0                                  ;
 7635 0000040C 8802              1109             CMP/EQ  #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
 7636 0000040E 8B27              1110             BF      DNDINC_ST_350                           ;
 7637                            1111     
 7638                            1112     ;;;[2021-11-15];        ====== 反転/段取寸動===
 7639                            1113     ;;;[2021-11-15] FAR_JSR #_DND_LNK_STEP_CHECK1,R0                ;//<どの工程から開始するか
                                          > CHEAK
 7640                            1114     ;;;[2021-11-15] FAR_JSR #_DND_LNKPLS_OBJMAK1,R1                 ;ｽﾃｯﾌﾟに応じて待機点1/目標
                                          位置/待機点2 _POS_DRV_DIRECT
 7641                            1115     ;;;[2021-11-15] M_BRA   DNDINC_ST_380                           ;
 7642                            1116     ;       ====== [2021-11-15]停止付き===
 7643                            1117     ;       ====== 反転/段取寸動===
 7644                            1118             FAR_JSR #_DND_NEG_STOP_SVCHK,R0                 ;
 7645 00000410 D009                   M           MOV.L   #_DND_NEG_STOP_SVCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7646 00000412 400B                   M           JSR     @R0                     ;
 7647 00000414 0009                   M           NOP                                     ;
 7648                            1119             FAR_JSR #_DND_NEG_START_FLG_CLR,R0              ;
 7649 00000416 D009                   M           MOV.L   #_DND_NEG_START_FLG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7650 00000418 400B                   M           JSR     @R0                     ;
 7651 0000041A 0009                   M           NOP                                     ;
 7652                            1120     
 7653                            1121     ;       ------- 2021-11-15ADD[[]]]
 7654 0000041C D108              1122             MOV.L   #_NEG_DND_STOP_USE_F,R1                 ;       //上死点(0)<停止<170の時 O
                                          n
 7655 0000041E 6010              1123             MOV.B   @R1,R0                                                  ;
 7656 00000420 2008              1124             TST             R0,R0                                                   ;
 7657                            1125             TST_BIT_ON DNDINC_ST_250                                ;
 7658 00000422 8B11                   M           BF      DNDINC_ST_250
 7659                            1126             FAR_JSR #_DND_LNK_STEP_CHECK0,R0                ;
 7660 00000424 D007                   M           MOV.L   #_DND_LNK_STEP_CHECK0,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    27
PROGRAM NAME =

 7661 00000426 400B                   M           JSR     @R0                     ;
 7662 00000428 0009                   M           NOP                                     ;
 7663                            1127             M_BRA   DNDINC_ST_290                                   ;
 7664 0000042A A010                   M           BRA     DNDINC_ST_290
 7665 0000042C 0009                   M           NOP
 7666                                     ***** BEGIN-POOL *****
 7667 0000042E 0000                       ALIGNMENT CODE
 7668 00000430 00000000                   DATA FOR SOURCE-LINE 1102
 7669 00000434 00000000                   DATA FOR SOURCE-LINE 1107
 7670 00000438 00000000                   DATA FOR SOURCE-LINE 1118
 7671 0000043C 00000000                   DATA FOR SOURCE-LINE 1119
 7672 00000440 00000000                   DATA FOR SOURCE-LINE 1122
 7673 00000444 00000000                   DATA FOR SOURCE-LINE 1126
 7674                                     ***** END-POOL *****
 7675 00000448                   1128     DNDINC_ST_250:
 7676                            1129             FAR_JSR #_DND_LNK_STEP_CHECK2,R0                ;//<どの工程から開始するか> CHEAK
 7677 00000448 D003                   M           MOV.L   #_DND_LNK_STEP_CHECK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7678 0000044A 400B                   M           JSR     @R0                     ;
 7679 0000044C 0009                   M           NOP                                     ;
 7680 0000044E                   1130     DNDINC_ST_290:
 7681                            1131             FAR_JSR #_DND_LNKPLS_OBJMAK1,R1                 ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待
                                          機点2 _POS_DRV_DIRECT
 7682 0000044E D103                   M           MOV.L   #_DND_LNKPLS_OBJMAK1,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7683 00000450 410B                   M           JSR     @R1                     ;
 7684 00000452 0009                   M           NOP                                     ;
 7685                            1132             M_BRA   DNDINC_ST_380                           ;
 7686 00000454 A00D                   M           BRA     DNDINC_ST_380
 7687 00000456 0009                   M           NOP
 7688                            1133     
 7689                            1134     
 7690                            1135     
 7691                                     ***** BEGIN-POOL *****
 7692 00000458 00000000                   DATA FOR SOURCE-LINE 1129
 7693 0000045C 00000000                   DATA FOR SOURCE-LINE 1131
 7694                                     ***** END-POOL *****
 7695 00000460                   1136     DNDINC_ST_350:
 7696                            1137     ;       ====== 回転/段取寸動===
 7697                            1138     ;       +/-MAX位置を目標とする                                  ;
 7698                            1139     ;       === 方向判別/速度設定/目標位置:STARTは割込でかける      ;
 7699                            1140             FAR_JSR #_DNDINC_DIRECT_MAKE1,R1                        ;ANS R0(=POS_RDV_DIRECT)
 7700 00000460 D106                   M           MOV.L   #_DNDINC_DIRECT_MAKE1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7701 00000462 410B                   M           JSR     @R1                     ;
 7702 00000464 0009                   M           NOP                                     ;
 7703                            1141             FAR_JSR #_DNDINC_STEP_MAKE,R1                           ;
 7704 00000466 D106                   M           MOV.L   #_DNDINC_STEP_MAKE,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7705 00000468 410B                   M           JSR     @R1                     ;
 7706 0000046A 0009                   M           NOP                                     ;
 7707                            1142             FAR_JSR #_DNDINC_MAKE_OBJPOS,R1                         ;
 7708 0000046C D105                   M           MOV.L   #_DNDINC_MAKE_OBJPOS,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7709 0000046E 410B                   M           JSR     @R1                     ;
 7710 00000470 0009                   M           NOP                                     ;
 7711                            1143     
 7712 00000472                   1144     DNDINC_ST_380:
 7713                            1145             FAR_JSR #_DNDINC_SPD_SET,R4                             ;
 7714 00000472 D405                   M           MOV.L   #_DNDINC_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7715 00000474 440B                   M           JSR     @R4                     ;
 7716 00000476 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    28
PROGRAM NAME =

 7717                            1146             M_BRA   DNDINC_ST_END                                   ;
 7718 00000478 A02F                   M           BRA     DNDINC_ST_END
 7719 0000047A 0009                   M           NOP
 7720                            1147     
 7721                            1148     
 7722                            1149     ;       -------- 今までのソフトをそのまま流す-------------
 7723                                     ***** BEGIN-POOL *****
 7724 0000047C 00000000                   DATA FOR SOURCE-LINE 1140
 7725 00000480 00000000                   DATA FOR SOURCE-LINE 1141
 7726 00000484 00000000                   DATA FOR SOURCE-LINE 1142
 7727 00000488 00000000                   DATA FOR SOURCE-LINE 1145
 7728                                     ***** END-POOL *****
 7729 0000048C                   1150     DNDINC_ST_520:
 7730 0000048C D108              1151             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
 7731 0000048E 6011              1152             MOV.W   @R1,R0                          ;
 7732 00000490 8802              1153             CMP/EQ  #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
 7733 00000492 8B17              1154             BF      DNDINC_ST_550           ;
 7734                            1155     
 7735                            1156     ;       ====== 反転/段取寸動===
 7736                            1157     ;;;[2021-11-15] FAR_JSR #_DND_LNK_STEP_CHECK1,R0        ;//<どの工程から開始するか> CHEAK
 7737                            1158     ;;;[2021-11-15] FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待
                                          機点2 _POS_DRV_DIRECT
 7738                            1159             FAR_JSR #_DND_NEG_STOP_SVCHK,R0                 ;
 7739 00000494 D007                   M           MOV.L   #_DND_NEG_STOP_SVCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7740 00000496 400B                   M           JSR     @R0                     ;
 7741 00000498 0009                   M           NOP                                     ;
 7742                            1160             FAR_JSR #_DND_NEG_START_FLG_CLR,R0
 7743 0000049A D007                   M           MOV.L   #_DND_NEG_START_FLG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7744 0000049C 400B                   M           JSR     @R0                     ;
 7745 0000049E 0009                   M           NOP                                     ;
 7746                            1161             FAR_JSR #_DND_LNK_STEP_CHECK0,R0        ;//<どの工程から開始するか> CHEAK
 7747 000004A0 D006                   M           MOV.L   #_DND_LNK_STEP_CHECK0,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7748 000004A2 400B                   M           JSR     @R0                     ;
 7749 000004A4 0009                   M           NOP                                     ;
 7750                            1162             FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待機点2 _PO
                                          S_DRV_DIRECT
 7751 000004A6 D106                   M           MOV.L   #_DND_LNKPLS_OBJMAK1,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7752 000004A8 410B                   M           JSR     @R1                     ;
 7753 000004AA 0009                   M           NOP                                     ;
 7754                            1163             M_BRA   DNDINC_ST_580           ;
 7755 000004AC A012                   M           BRA     DNDINC_ST_580
 7756 000004AE 0009                   M           NOP
 7757                            1164     
 7758                                     ***** BEGIN-POOL *****
 7759 000004B0 00000000                   DATA FOR SOURCE-LINE 1151
 7760 000004B4 00000000                   DATA FOR SOURCE-LINE 1159
 7761 000004B8 00000000                   DATA FOR SOURCE-LINE 1160
 7762 000004BC 00000000                   DATA FOR SOURCE-LINE 1161
 7763 000004C0 00000000                   DATA FOR SOURCE-LINE 1162
 7764                                     ***** END-POOL *****
 7765 000004C4                   1165     DNDINC_ST_550:
 7766                            1166     ;       ====== 回転/段取寸動===
 7767                            1167     ;       +/-MAX位置を目標とする                                  ;
 7768                            1168     ;       === 方向判別/速度設定/目標位置:STARTは割込でかける      ;
 7769                            1169             FAR_JSR #_DNDINC_DIRECT_MAKE1,R1                        ;ANS R0(=POS_RDV_DIRECT)
 7770 000004C4 D106                   M           MOV.L   #_DNDINC_DIRECT_MAKE1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7771 000004C6 410B                   M           JSR     @R1                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    29
PROGRAM NAME =

 7772 000004C8 0009                   M           NOP                                     ;
 7773 000004CA D106              1170             MOV.L   #_POS_DRV_DIRECT,R1                             ;起動時(SV-LEVEL)
 7774 000004CC 6011              1171             MOV.W   @R1,R0
 7775                            1172             FAR_JSR #_LINK_P_M_MAX,R4                               ;Input R0:BIT0 DIRECT
 7776 000004CE D406                   M           MOV.L   #_LINK_P_M_MAX,R4               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7777 000004D0 440B                   M           JSR     @R4                     ;
 7778 000004D2 0009                   M           NOP                                     ;
 7779 000004D4                   1173     DNDINC_ST_580:
 7780                            1174             FAR_JSR #_DNDINC_SPD_SET,R4                             ;
 7781 000004D4 D405                   M           MOV.L   #_DNDINC_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7782 000004D6 440B                   M           JSR     @R4                     ;
 7783 000004D8 0009                   M           NOP                                     ;
 7784 000004DA                   1175     DNDINC_ST_END:
 7785                            1176             SUB_END
 7786                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7787 000004DA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7788                            1177             M_RTS
 7789 000004DC 000B                   M           RTS                             ;RTSの後ろの
 7790 000004DE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7791                            1178     
 7792                            1179     
 7793                            1180     
 7794                            1181     ;       ***********************************
 7795                            1182     ;       ***                             ***
 7796                            1183     ;       ***     段取寸動(回転仕様)      ***
 7797                            1184     ;       ***     方向                    ***
 7798                            1185     ;       ***     目標位置abs             ***
 7799                            1186     ;       ***                             ***
 7800                            1187     ;       ***********************************
 7801                            1188     ;       ANS R0          BIT0
 7802                            1189     ;                       BIT1=1:EQU ｲｺｰﾙ時は逆転から始める
 7803                            1190     ;       ｼｰｹﾝｽﾋﾞｯﾄから決定
 7804                            1191     ;       (増加方向ならMAX)
 7805                            1192     ;       (減少方向ならMIN)
 7806                            1193     ;
 7807                                     ***** BEGIN-POOL *****
 7808 000004E0 00000000                   DATA FOR SOURCE-LINE 1169
 7809 000004E4 00000000                   DATA FOR SOURCE-LINE 1170
 7810 000004E8 00000000                   DATA FOR SOURCE-LINE 1172
 7811 000004EC 00000000                   DATA FOR SOURCE-LINE 1174
 7812                                     ***** END-POOL *****
 7813 000004F0                   1194             .ALIGN  4                               ;
 7814 000004F0                   1195     _DNDINC_DIRECT_MAKE1:
 7815                            1196             SUB_START
 7816 000004F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7817                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7818 000004F2 D006              1197             MOV.L   #_CTL_ENC360,R0                 ;//360.0度(いまのところ不要)
 7819 000004F4 6101              1198             MOV.W   @R0,R1                          ;
 7820 000004F6 D406              1199             MOV.L   #_STR_ENC3600_DIG,R4            ;//運転開始時の360.0角度
 7821 000004F8 2411              1200             MOV.W   R1,@R4                          ;
 7822                            1201     
 7823 000004FA D106              1202             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 7824 000004FC 6011              1203             MOV.W   @R1,R0                          ;
 7825 000004FE C901              1204             AND     #BIT0,R0                        ;(BIT0=0正転　BIT0=1逆転)
 7826                            1205     
 7827 00000500 D105              1206             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 7828 00000502 2101              1207             MOV.W   R0,@R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    30
PROGRAM NAME =

 7829                            1208             SUB_END
 7830                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7831 00000504 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7832                            1209             M_RTS
 7833 00000506 000B                   M           RTS                             ;RTSの後ろの
 7834 00000508 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7835                            1210     
 7836                            1211     ;       ***********************************
 7837                            1212     ;       ***                             ***
 7838                            1213     ;       ***     段取寸動(反転仕様)      ***
 7839                            1214     ;       ***     方向                    ***
 7840                            1215     ;       ***     目標位置abs             ***
 7841                            1216     ;       ***                             ***
 7842                            1217     ;       ***********************************
 7843                            1218     ;       <1>EXQ,EMG後の運転なら180を通らない方向待機点に向かう方向で,
 7844                            1219     ;          待機点を目指して運転開始
 7845                            1220     ;          待機点まで辿りついたら、一旦停止する。<FLG=0-->1>
 7846                            1221     ;
 7847                            1222     ;       <2>FLG=1
 7848                            1223     ;          下降から開始する.下限位置を目指す
 7849                            1224     ;          下限位置まで辿りついたら、一旦停止する。<FLG=1-->2>
 7850                            1225     ;
 7851                            1226     ;       <3>FLG=2
 7852                            1227     ;          上昇から開始する.待機位置を目指す
 7853                            1228     ;          待機位置まで辿りついたら、一旦停止する。<FLG=2-->1>
 7854                            1229     ;
 7855                            1230     ;
 7856                            1231     ;
 7857                            1232     ;       *******************************************
 7858                            1233     ;       ***                                     ***
 7859                            1234     ;       ***     運転釦による起動                ***
 7860                            1235     ;       ***     INT_DND_NEG_STEPを作成          ***
 7861                            1236     ;       ***                                     ***
 7862                            1237     ;       *******************************************
 7863                                     ***** BEGIN-POOL *****
 7864 0000050A 0000                       ALIGNMENT CODE
 7865 0000050C 00000000                   DATA FOR SOURCE-LINE 1197
 7866 00000510 00000000                   DATA FOR SOURCE-LINE 1199
 7867 00000514 00000000                   DATA FOR SOURCE-LINE 1202
 7868 00000518 00000000                   DATA FOR SOURCE-LINE 1206
 7869                                     ***** END-POOL *****
 7870 0000051C                   1238             .ALIGN  4                               ;
 7871                            1239     ;;2021-11-15_DND_LNK_STEP_CHECK1:
 7872                            1240     ;;2021-11-15    SUB_START
 7873                            1241     ;;2021-11-15;   ------- 2007-01-23-----
 7874                            1242     ;;2021-11-15    MOV.L   #_CB_SEQ_CB_SEL342,R1                           ;342
 7875                            1243     ;;2021-11-15    MOV.W   @R1,R0                                          ;
 7876                            1244     ;;2021-11-15    TST     #BIT3,R0                                        ;342.3
 7877                            1245     ;;2021-11-15    TST_BIT_OF DND_LNK_STEP_CK1_100                         ;OFF(往復運転　今
                                          までの)
 7878                            1246     ;;2021-11-15
 7879                            1247     ;;2021-11-15    MOV     #1,R2                                           ;
 7880                            1248     ;;2021-11-15    MOV.L   #_CB_SEQ_CB_SEL341,R1                           ;341.0=0 上昇
 7881                            1249     ;;2021-11-15    MOV.W   @R1,R0                                          ;
 7882                            1250     ;;2021-11-15    TST     #BIT0,R0                                        ;
 7883                            1251     ;;2021-11-15    TST_BIT_OF DND_LNK_STEP_CK1_050                         ;
 7884                            1252     ;;2021-11-15    MOV     #2,R2                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    31
PROGRAM NAME =

 7885                            1253     ;;2021-11-15DND_LNK_STEP_CK1_050:                                               ;
 7886                            1254     ;;2021-11-15    MOV.L   #_INT_DND_NEG_STEP,R1                           ;
 7887                            1255     ;;2021-11-15    MOV.W   R2,@R1                                          ;
 7888                            1256     ;;2021-11-15
 7889                            1257     ;;2021-11-15DND_LNK_STEP_CK1_100:
 7890                            1258     ;;2021-11-15;   ---------------------------
 7891                            1259     ;;2021-11-15
 7892                            1260     ;;2021-11-15    SUB_END
 7893                            1261     ;;2021-11-15    M_RTS
 7894                            1262     ;       ----------2021-11-15 ------------
 7895                            1263     ;       --------------------------------------
 7896                            1264     ;       ----------- 停止なし 起動       ----------
 7897                            1265     ;       --------------------------------------
 7898 0000051C                   1266     _DND_LNK_STEP_CHECK0:
 7899                            1267             SUB_START
 7900 0000051C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7901                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7902                            1268     
 7903                            1269     
 7904                            1270     ;---------------- 2007-01-23----------------------------------
 7905 0000051E D106              1271             MOV.L   #_CB_SEQ_CB_SEL342,R1                                   ;342
 7906 00000520 6011              1272             MOV.W   @R1,R0                                                                  ;
 7907 00000522 C808              1273             TST             #BIT3,R0
                                          ;342.3
 7908                            1274             TST_BIT_OF DND_LNK_STEP_CHK0_200                                ;OFF(往復)
 7909 00000524 890C                   M           BT      DND_LNK_STEP_CHK0_200
 7910                            1275     
 7911                            1276     ;       ---------------- 下降運転／上昇-----------------------
 7912 00000526 E204              1277             MOV.B   #4,R2                                                                   ;
 7913 00000528 D104              1278             MOV.L   #_CB_SEQ_CB_SEL341,R1                                   ;341.0=0 下降(正回
                                          転)
 7914 0000052A 6011              1279             MOV.W   @R1,R0                                                                  ;
 7915 0000052C C801              1280             TST             #BIT0,R0
                                          ;
 7916                            1281             TST_BIT_ON DND_LNK_STEP_CHK0_100                                ;341.0=1上昇(逆転)
                                           341.0=0下降(正)
 7917 0000052E 8B00                   M           BF      DND_LNK_STEP_CHK0_100
 7918 00000530 E202              1282             MOV.B   #2,R2                                                                   ;2
                                          :下降
 7919 00000532                   1283     DND_LNK_STEP_CHK0_100:                                                          ;
 7920 00000532 6023              1284             MOV             R2,R0
                                          ;
 7921                            1285             M_BRA   DND_LNK_STEP_CHK0_450                                   ;
 7922 00000534 A00D                   M           BRA     DND_LNK_STEP_CHK0_450
 7923 00000536 0009                   M           NOP
 7924                            1286     
 7925                            1287     
 7926                            1288     ;       ---------------- 往復運転-----------------------
 7927                                     ***** BEGIN-POOL *****
 7928 00000538 00000000                   DATA FOR SOURCE-LINE 1271
 7929 0000053C 00000000                   DATA FOR SOURCE-LINE 1278
 7930                                     ***** END-POOL *****
 7931 00000540                   1289     DND_LNK_STEP_CHK0_200:                                                          ;
 7932 00000540 D502              1290             MOV.L   #_INT_DND_NEG_STEP,R5                                   ;
 7933 00000542 6051              1291             MOV.W   @R5,R0                                                                  ;
 7934 00000544 2008              1292             TST             R0,R0
                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    32
PROGRAM NAME =

 7935                            1293             TST_BIT_OF DND_LNK_STEP_CHK0_400                                ;
 7936 00000546 8903                   M           BT      DND_LNK_STEP_CHK0_400
 7937                            1294             M_BRA   DND_LNK_STEP_CHK0_END                                   ;
 7938 00000548 A005                   M           BRA     DND_LNK_STEP_CHK0_END
 7939 0000054A 0009                   M           NOP
 7940                            1295     
 7941                                     ***** BEGIN-POOL *****
 7942 0000054C 00000000                   DATA FOR SOURCE-LINE 1290
 7943                                     ***** END-POOL *****
 7944 00000550                   1296     DND_LNK_STEP_CHK0_400:                                                          ;
 7945 00000550 E004              1297             MOV.B   #4,R0                                                                   ;
                                          上昇
 7946                            1298     
 7947 00000552                   1299     DND_LNK_STEP_CHK0_450:                                                          ;
 7948 00000552 D502              1300             MOV.L   #_INT_DND_NEG_STEP,R5                                   ;
 7949 00000554 2501              1301             MOV.W   R0,@R5                                                                  ;
 7950                            1302     
 7951 00000556                   1303     DND_LNK_STEP_CHK0_END:                                                          ;
 7952                            1304     
 7953                            1305             SUB_END
 7954                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7955 00000556 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7956                            1306             M_RTS
 7957 00000558 000B                   M           RTS                             ;RTSの後ろの
 7958 0000055A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7959                            1307     
 7960                            1308     ;       ---------------------------------------
 7961                            1309     ;       ----                                                            ---
 7962                            1310     ;       ---                     停止なし工程変更                ---
 7963                            1311     ;       ----                                                            ---
 7964                            1312     ;       ---------------------------------------
 7965                                     ***** BEGIN-POOL *****
 7966 0000055C 00000000                   DATA FOR SOURCE-LINE 1300
 7967                                     ***** END-POOL *****
 7968 00000560                   1313     _DND_NEG_LNK_STEP_CHANGE0:
 7969                            1314             SUB_START
 7970 00000560 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7971                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7972                            1315     
 7973                            1316     
 7974                            1317     ;       ---------------- 2007-01-23----------------------------------
 7975 00000562 D106              1318             MOV.L   #_CB_SEQ_CB_SEL342,R1                                   ;342
 7976 00000564 6011              1319             MOV.W   @R1,R0                                                                  ;
 7977 00000566 C808              1320             TST             #BIT3,R0
                                          ;342.3
 7978                            1321             TST_BIT_OF DND_LNK_STEP_CHG0_400                                ;
 7979 00000568 890C                   M           BT      DND_LNK_STEP_CHG0_400
 7980                            1322     
 7981 0000056A E204              1323             MOV.B   #4,R2                                                                   ;
 7982 0000056C D104              1324             MOV.L   #_CB_SEQ_CB_SEL341,R1                                   ;341.0=0 下降(正回
                                          転)
 7983 0000056E 6011              1325             MOV.W   @R1,R0                                                                  ;
 7984 00000570 C801              1326             TST             #BIT0,R0
                                          ;
 7985                            1327             TST_BIT_ON DND_LNK_STEP_CHG0_100                                ;341.0=1上昇(逆転)
                                           341.0=0下降(正)
 7986 00000572 8B00                   M           BF      DND_LNK_STEP_CHG0_100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    33
PROGRAM NAME =

 7987 00000574 E202              1328             MOV.B   #2,R2                                                                   ;2
                                          :下降
 7988 00000576                   1329     DND_LNK_STEP_CHG0_100:                                                          ;
 7989 00000576 6023              1330             MOV             R2,R0
                                          ;
 7990                            1331             M_BRA   DND_LNK_STEP_CHG0_425                                   ;固定
 7991 00000578 A00F                   M           BRA     DND_LNK_STEP_CHG0_425
 7992 0000057A 0009                   M           NOP
 7993                            1332     
 7994                            1333     
 7995                                     ***** BEGIN-POOL *****
 7996 0000057C 00000000                   DATA FOR SOURCE-LINE 1318
 7997 00000580 00000000                   DATA FOR SOURCE-LINE 1324
 7998                                     ***** END-POOL *****
 7999 00000584                   1334     DND_LNK_STEP_CHG0_400:                                                  ;
 8000                            1335     
 8001 00000584 D503              1336             MOV.L   #_INT_DND_NEG_STEP,R5                           ;
 8002 00000586 6051              1337             MOV.W   @R5,R0                                                          ;
 8003 00000588 8804              1338             CMP/EQ  #4,R0                                                           ;4:上昇
 8004 0000058A 8B05              1339             BF              DND_LNK_STEP_CHG0_423                           ;
 8005 0000058C E002              1340             MOV.B   #2,R0                                                           ;2:下降
 8006                            1341             M_BRA   DND_LNK_STEP_CHG0_425                           ;
 8007 0000058E A004                   M           BRA     DND_LNK_STEP_CHG0_425
 8008 00000590 0009                   M           NOP
 8009                                     ***** BEGIN-POOL *****
 8010 00000592 0000                       ALIGNMENT CODE
 8011 00000594 00000000                   DATA FOR SOURCE-LINE 1336
 8012                                     ***** END-POOL *****
 8013 00000598                   1342     DND_LNK_STEP_CHG0_423:                                                  ;
 8014 00000598 E004              1343             MOV.B   #4,R0                                                           ;上昇
 8015                            1344     
 8016 0000059A                   1345     DND_LNK_STEP_CHG0_425:                                                  ;
 8017                            1346     
 8018 0000059A D502              1347             MOV.L   #_INT_DND_NEG_STEP,R5                           ;
 8019 0000059C 2501              1348             MOV.W   R0,@R5                                                          ;
 8020                            1349     
 8021                            1350     
 8022 0000059E                   1351     DND_LNK_STEP_CHG0_END:                                                  ;
 8023                            1352             SUB_END
 8024                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8025 0000059E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8026                            1353             M_RTS
 8027 000005A0 000B                   M           RTS                             ;RTSの後ろの
 8028 000005A2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8029                            1354     
 8030                            1355     
 8031                            1356     
 8032                            1357     ;       ---------------------------------------
 8033                            1358     ;       ---                                                                     ---
 8034                            1359     ;       ---                     停止有起動                              ---
 8035                            1360     ;       ---                                                                     ---
 8036                            1361     ;       ---------------------------------------
 8037                            1362     ;       AREA
 8038                            1363     ;               停止角度(100):101~270度　停止角度100
 8039                            1364     ;
 8040                            1365     
 8041                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    34
PROGRAM NAME =

 8042 000005A4 00000000                   DATA FOR SOURCE-LINE 1347
 8043                                     ***** END-POOL *****
 8044 000005A8                   1366     _DND_LNK_STEP_CHECK2:
 8045                            1367             SUB_START
 8046 000005A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8047                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8048                            1368     
 8049                            1369     ;       ---------------- 2007-01-23----------------------------------
 8050 000005AA D108              1370             MOV.L   #_CB_SEQ_CB_SEL342,R1                                   ;342
 8051 000005AC 6011              1371             MOV.W   @R1,R0                                                                  ;
 8052 000005AE C808              1372             TST             #BIT3,R0
                                          ;342.3
 8053                            1373             TST_BIT_OF DND_LNK_STEP_CHK2_300                                ;OFF(往復)
 8054 000005B0 891E                   M           BT      DND_LNK_STEP_CHK2_300
 8055                            1374     
 8056                            1375     ;       ---------------- 下降運転／上昇-----------------------
 8057 000005B2 D107              1376             MOV.L   #_CB_SEQ_CB_SEL341,R1                                   ;341.0=0 下降(正回
                                          転)
 8058 000005B4 6011              1377             MOV.W   @R1,R0                                                                  ;
 8059 000005B6 C801              1378             TST             #BIT0,R0
                                          ;
 8060                            1379             TST_BIT_ON DND_LNK_STEP_CHK2_100                                ;341.0=1上昇(逆転)
                                           341.0=0下降(正)
 8061 000005B8 8B0E                   M           BF      DND_LNK_STEP_CHK2_100
 8062                            1380     
 8063                            1381     ;       --------- 下降から開始----------
 8064                            1382             FAR_JSR #_DND_NEG_AREA_JUDE1,R0                                 ;
 8065 000005BA D006                   M           MOV.L   #_DND_NEG_AREA_JUDE1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8066 000005BC 400B                   M           JSR     @R0                     ;
 8067 000005BE 0009                   M           NOP                                     ;
 8068 000005C0 E202              1383             MOV.B   #2,R2                                                                   ;
                                          下限
 8069 000005C2 2008              1384             TST             R0,R0
                                          ;
 8070                            1385             TST_BIT_ON DND_LNK_STEP_CHK2_199                                ;ON:
 8071 000005C4 8B0F                   M           BF      DND_LNK_STEP_CHK2_199
 8072 000005C6 E201              1386             MOV.B   #1,R2
 8073                            1387             M_BRA   DND_LNK_STEP_CHK2_199                                           ;ON:
 8074 000005C8 A00D                   M           BRA     DND_LNK_STEP_CHK2_199
 8075 000005CA 0009                   M           NOP
 8076                            1388     
 8077                            1389     ;       --------- 上昇から開始----------
 8078                                     ***** BEGIN-POOL *****
 8079 000005CC 00000000                   DATA FOR SOURCE-LINE 1370
 8080 000005D0 00000000                   DATA FOR SOURCE-LINE 1376
 8081 000005D4 00000000                   DATA FOR SOURCE-LINE 1382
 8082                                     ***** END-POOL *****
 8083 000005D8                   1390     DND_LNK_STEP_CHK2_100:                                                          ;
 8084                            1391             FAR_JSR #_DND_NEG_AREA_JUDE2,R0                                 ;
 8085 000005D8 D004                   M           MOV.L   #_DND_NEG_AREA_JUDE2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8086 000005DA 400B                   M           JSR     @R0                     ;
 8087 000005DC 0009                   M           NOP                                     ;
 8088                            1392     
 8089 000005DE E204              1393             MOV.B   #4,R2                                                                   ;0
                                          度
 8090 000005E0 2008              1394             TST             R0,R0
                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    35
PROGRAM NAME =

 8091                            1395             TST_BIT_OF DND_LNK_STEP_CHK2_199                                ;OFF
 8092 000005E2 8900                   M           BT      DND_LNK_STEP_CHK2_199
 8093 000005E4 E203              1396             MOV.B   #3,R2                                                                   ;
 8094 000005E6                   1397     DND_LNK_STEP_CHK2_199:                                                          ;
 8095 000005E6 6023              1398             MOV             R2,R0
                                          ;
 8096                            1399             M_BRA   DND_LNK_STEP_CHK2_450
 8097 000005E8 A00B                   M           BRA     DND_LNK_STEP_CHK2_450
 8098 000005EA 0009                   M           NOP
 8099                            1400     
 8100                            1401     
 8101                            1402     ;       ---------------- 往復運転-----------------------
 8102                                     ***** BEGIN-POOL *****
 8103 000005EC 00000000                   DATA FOR SOURCE-LINE 1391
 8104                                     ***** END-POOL *****
 8105 000005F0                   1403     DND_LNK_STEP_CHK2_300:                                                          ;
 8106 000005F0 D502              1404             MOV.L   #_INT_DND_NEG_STEP,R5                                   ;
 8107 000005F2 6051              1405             MOV.W   @R5,R0                                                                  ;
 8108 000005F4 2008              1406             TST             R0,R0
                                          ;
 8109                            1407             TST_BIT_OF DND_LNK_STEP_CHK2_400                                ;
 8110 000005F6 8903                   M           BT      DND_LNK_STEP_CHK2_400
 8111                            1408             M_BRA   DND_LNK_STEP_CHK2_END                                   ;
 8112 000005F8 A005                   M           BRA     DND_LNK_STEP_CHK2_END
 8113 000005FA 0009                   M           NOP
 8114                            1409     
 8115                                     ***** BEGIN-POOL *****
 8116 000005FC 00000000                   DATA FOR SOURCE-LINE 1404
 8117                                     ***** END-POOL *****
 8118 00000600                   1410     DND_LNK_STEP_CHK2_400:                                                          ;
 8119 00000600 E004              1411             MOV.B   #4,R0                                                                   ;
                                          上昇
 8120                            1412     
 8121 00000602                   1413     DND_LNK_STEP_CHK2_450:                                                          ;
 8122 00000602 D502              1414             MOV.L   #_INT_DND_NEG_STEP,R5                                   ;
 8123 00000604 2501              1415             MOV.W   R0,@R5                                                                  ;
 8124                            1416     
 8125 00000606                   1417     DND_LNK_STEP_CHK2_END:                                                          ;
 8126                            1418     
 8127                            1419             SUB_END
 8128                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8129 00000606 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8130                            1420             M_RTS
 8131 00000608 000B                   M           RTS                             ;RTSの後ろの
 8132 0000060A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8133                            1421     
 8134                            1422     
 8135                            1423     
 8136                            1424     
 8137                            1425     ;       ---------------------------------------
 8138                            1426     ;       ----                                                            ---
 8139                            1427     ;       ---                     停止工程変更                    ---
 8140                            1428     ;       ----                                                            ---
 8141                            1429     ;       ---------------------------------------
 8142                            1430     ;       1->2
 8143                            1431     ;       3->4
 8144                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    36
PROGRAM NAME =

 8145 0000060C 00000000                   DATA FOR SOURCE-LINE 1414
 8146                                     ***** END-POOL *****
 8147 00000610                   1432     _DND_NEG_LNK_STEP_CHANGE2:
 8148                            1433             SUB_START
 8149 00000610 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8150                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8151                            1434     
 8152                            1435     
 8153                            1436     ;       ---------------- 2007-01-23----------------------------------
 8154 00000612 D103              1437             MOV.L   #_CB_SEQ_CB_SEL342,R1                                   ;342
 8155 00000614 6011              1438             MOV.W   @R1,R0                                                                  ;
 8156 00000616 C808              1439             TST             #BIT3,R0
                                          ;342.3
 8157                            1440             TST_BIT_OF DND_LNK_STEP_CHG2_300                                ;OFF(往復)
 8158 00000618 8904                   M           BT      DND_LNK_STEP_CHG2_300
 8159                            1441             M_BRA   DND_LNK_STEP_CHG2_END                                   ;
 8160 0000061A A014                   M           BRA     DND_LNK_STEP_CHG2_END
 8161 0000061C 0009                   M           NOP
 8162                            1442     
 8163                            1443     ;       -----------------------------------------
 8164                                     ***** BEGIN-POOL *****
 8165 0000061E 0000                       ALIGNMENT CODE
 8166 00000620 00000000                   DATA FOR SOURCE-LINE 1437
 8167                                     ***** END-POOL *****
 8168 00000624                   1444     DND_LNK_STEP_CHG2_300:                                                  ;
 8169                            1445     
 8170 00000624 D505              1446             MOV.L   #_INT_DND_NEG_STEP,R5                           ;
 8171 00000626 6051              1447             MOV.W   @R5,R0                                                          ;
 8172 00000628 2008              1448             TST             R0,R0                                                           ;
 8173                            1449             TST_BIT_OF DND_LNK_STEP_CHG2_END                        ;EXIT
 8174 0000062A 890C                   M           BT      DND_LNK_STEP_CHG2_END
 8175                            1450     
 8176 0000062C 9404              1451             MOV.W   #4,R4
 8177 0000062E 3042              1452             CMP/HS  R4,R0                                                           ;4:上昇最
                                          終
 8178 00000630 8906              1453             BT              DND_LNK_STEP_CHG2_320                           ;
 8179                            1454     
 8180 00000632 7001              1455             ADD             #1,R0                                                           ;
 8181                            1456             M_BRA   DND_LNK_STEP_CHG2_400                           ;
 8182 00000634 A005                   M           BRA     DND_LNK_STEP_CHG2_400
 8183 00000636 0009                   M           NOP
 8184                            1457     
 8185                                     ***** BEGIN-POOL *****
 8186 00000638 0004                       DATA FOR SOURCE-LINE 1451
 8187 0000063A 0000                       ALIGNMENT CODE
 8188 0000063C 00000000                   DATA FOR SOURCE-LINE 1446
 8189                                     ***** END-POOL *****
 8190 00000640                   1458     DND_LNK_STEP_CHG2_320:                                                  ;
 8191 00000640 E001              1459             MOV.B   #1,R0                                                           ;
 8192                            1460     
 8193 00000642                   1461     DND_LNK_STEP_CHG2_400:                                                  ;
 8194 00000642 D502              1462             MOV.L   #_INT_DND_NEG_STEP,R5                           ;
 8195 00000644 2501              1463             MOV.W   R0,@R5                                                          ;
 8196                            1464     
 8197                            1465     
 8198 00000646                   1466     DND_LNK_STEP_CHG2_END:                                                  ;
 8199                            1467     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    37
PROGRAM NAME =

 8200                            1468             SUB_END
 8201                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8202 00000646 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8203                            1469             M_RTS
 8204 00000648 000B                   M           RTS                             ;RTSの後ろの
 8205 0000064A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8206                            1470     
 8207                            1471     
 8208                            1472     ;
 8209                            1473     ;
 8210                            1474     ;
 8211                            1475     ;
 8212                                     ***** BEGIN-POOL *****
 8213 0000064C 00000000                   DATA FOR SOURCE-LINE 1462
 8214                                     ***** END-POOL *****
 8215 00000650                   1476     _DND_NEG_START_FLG_CLR
 8216                            1477             SUB_START
 8217 00000650 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8218                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8219                            1478     
 8220 00000652 200A              1479             XOR             R0,R0
 8221 00000654 D102              1480             MOV.L   #_NEG_DND_STOP_POS_END_F,R1                     ;
 8222 00000656 2100              1481             MOV.B   R0,@R1                                                          ;
 8223                            1482     
 8224                            1483             SUB_END
 8225                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8226 00000658 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8227                            1484             M_RTS
 8228 0000065A 000B                   M           RTS                             ;RTSの後ろの
 8229 0000065C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8230                            1485     
 8231                            1486     
 8232                            1487     ;//     ***********************************************
 8233                            1488     ;//     ***                     2021-11-10[CE2] 反転の段取停止  ***
 8234                            1489     ;//     ***********************************************
 8235                            1490     ;段取停止STOP-SW-ON
 8236                            1491     ;0<段取停止位置<170[下限]
 8237                            1492     ;_SVP_DND_STOPDIG1      .SRES   2               ;段取停止角度 0~358.0
 8238                            1493     ;_SET1_DND_STOPDIG_UP(0):設定
 8239                            1494     ;       MOV.L   #_SET1_DND_STOP_SW,R1           ;0,BIT0,BIT1
 8240                            1495     ;       MOV.W   R0,@R1                          ;
 8241                            1496     ;
 8242                            1497             .IMPORT _SVP_DND_STOPDIG1                       ;
 8243                            1498             .IMPORT _SVP_DNAREA_JUDG                        ;
 8244                            1499     
 8245                                     ***** BEGIN-POOL *****
 8246 0000065E 0000                       ALIGNMENT CODE
 8247 00000660 00000000                   DATA FOR SOURCE-LINE 1480
 8248                                     ***** END-POOL *****
 8249 00000664                   1500     _DND_NEG_STOP_SVCHK:
 8250                            1501             SUB_START
 8251 00000664 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8252                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8253                            1502     
 8254 00000666 277A              1503             XOR             R7,R7                                           ;
 8255                            1504     
 8256                            1505     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    38
PROGRAM NAME =

 8257 00000668 D109              1506             MOV.L   #_SET1_DND_STOP_SW,R1                                   ;0,BIT0,BIT1
 8258 0000066A 6011              1507             MOV.W   @R1,R0                                                                  ;
 8259 0000066C C802              1508             TST             #BIT1,R0
                                          ;
 8260                            1509             TST_BIT_OF      DND_NEG_STOP_SVCK_OFF                           ;
 8261 0000066E 890A                   M           BT      DND_NEG_STOP_SVCK_OFF
 8262                            1510     
 8263 00000670 D108              1511             MOV.L   #_CB_SEQ_CB_SEL342,R1                                   ;[2021-11-15a] 342
 8264 00000672 6011              1512             MOV.W   @R1,R0                                                                  ;[
                                          2021-11-15a]
 8265 00000674 C808              1513             TST             #BIT3,R0
                                          ;[2021-11-15a]342.3
 8266                            1514             TST_BIT_OF DND_NEG_STOP_SVCK_OFF                                ;[2021-11-15a][停
                                          止させない]
 8267 00000676 8906                   M           BT      DND_NEG_STOP_SVCK_OFF
 8268                            1515     
 8269 00000678 D107              1516             MOV.L   #_SVP_DND_STOPDIG1,R1           ;
 8270 0000067A 6211              1517             MOV.W   @R1,R2                                          ;停止角度
 8271                            1518     
 8272 0000067C D107              1519             MOV.L   #_SVP_DNAREA_JUDG,R1            ;
 8273 0000067E 6312              1520             MOV.L   @R1,R3                                          ;
 8274                            1521     
 8275 00000680 3322              1522             CMP/HS  R2,R3                                           ;R2() < R3(170)
 8276 00000682 8B00              1523             BF              DND_NEG_STOP_SVCK_OFF           ;170より大きい
 8277                            1524     
 8278 00000684                   1525     DND_NEG_STOP_SVCK_ON:
 8279 00000684 E701              1526             MOV.B   #BIT0,R7                                        ;
 8280 00000686                   1527     DND_NEG_STOP_SVCK_OFF:
 8281 00000686                   1528     DND_NEG_STOP_SVCK_SET:
 8282 00000686 D106              1529             MOV.L   #_NEG_DND_STOP_USE_F,R1         ;       //上死点(0)<停止<170の時 On
 8283 00000688 2170              1530             MOV.B   R7,@R1                                          ;
 8284                            1531     
 8285 0000068A                   1532     DND_NEG_STOP_SVCK_EXT:
 8286                            1533             SUB_END
 8287                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8288 0000068A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8289                            1534             M_RTS
 8290 0000068C 000B                   M           RTS                             ;RTSの後ろの
 8291 0000068E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8292                            1535     
 8293                            1536     ;//     ***********************************************
 8294                            1537     ;//     ***                     2021-11-10[CE2] 反転の段取停止  ***
 8295                            1538     ;//     ***********************************************
 8296                            1539     ;R2=3,4(停止位置より上)
 8297                            1540     ;
 8298                            1541     ;
 8299                            1542     ;
 8300                            1543     ;;;_DND_NEG_UP_AREA_JUDE_STEP_MAKE:
 8301                            1544     ;;;     SUB_START
 8302                            1545     ;;;
 8303                            1546     ;;;     MOV.B   #4,R2                                                                   ;
 8304                            1547     
 8305                            1548     ;       --------- 上昇する-------------
 8306                            1549     ;;;     MOV.L   #_NEG_DND_STOP_USE_F,R1                                         ;
 8307                            1550     ;;;     MOV.B   @R1,R0
                                          ;
 8308                            1551     ;;;     TST             R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    39
PROGRAM NAME =

                                                  ;
 8309                            1552     ;;;     TST_BIT_OF DND_NEG_UP_AREAJUDE_STEP_MKEND                       ;
 8310                            1553     ;;;
 8311                            1554     ;;;     FAR_JSR #_DND_NEG_AREA_JUDE,R0                                          ;
 8312                            1555     ;;;     TST             R0,R0
                                                  ;
 8313                            1556     ;;;     TST_BIT_OF      DND_NEG_UP_AREAJUDE_STEP_MKEND                  ;0~停止角度内 0度
                                          をめざす[R2=4]
 8314                            1557     ;;;
 8315                            1558     ;;;
 8316                            1559     ;;;     MOV.B   #3,R2                                                                   ;
 8317                            1560     ;;;
 8318                            1561     ;;;
 8319                            1562     ;;;DND_NEG_UP_AREAJUDE_STEP_MKEND:
 8320                            1563     ;;;
 8321                            1564     ;;;     SUB_END
 8322                            1565     ;;;     M_RTS
 8323                            1566     
 8324                            1567     
 8325                            1568     
 8326                            1569     ;//     ***********************************************
 8327                            1570     ;//     ***                     2021-11-10[CE2] 反転の段取停止  ***
 8328                            1571     ;//     ***********************************************
 8329                            1572     ;;;_DND_NEG_DN_AREA_JUDE_STEP_MAKE:
 8330                            1573     ;;;     SUB_START
 8331                            1574     ;;;
 8332                            1575     ;;;     MOV.B   #2,R2                                                                   ;
 8333                            1576     ;;;
 8334                            1577     ;       --------- 下降する-------------
 8335                            1578     ;;;     MOV.L   #_NEG_DND_STOP_USE_F,R1                                         ;
 8336                            1579     ;;;     MOV.B   @R1,R0
                                          ;
 8337                            1580     ;;;     TST             R0,R0
                                                  ;
 8338                            1581     ;;;     TST_BIT_OF DND_NEG_DN_AREAJUDE_STEP_MKEND                       ;
 8339                            1582     ;;;
 8340                            1583     ;;;     FAR_JSR #_DND_NEG_AREA_JUDE,R0                                          ;
 8341                            1584     ;;;     TST             R0,R0
                                                  ;
 8342                            1585     ;;;     TST_BIT_ON      DND_NEG_DN_AREAJUDE_STEP_MKEND                  ;停止角度内~170度
                                          170度をめざす[R2=2]
 8343                            1586     ;;;
 8344                            1587     ;;;
 8345                            1588     ;;;     MOV.B   #1,R2                                                                   ;
 8346                            1589     ;;;
 8347                            1590     ;;;
 8348                            1591     ;;;DND_NEG_DN_AREAJUDE_STEP_MKEND:
 8349                            1592     ;;;
 8350                            1593     ;;;     SUB_END
 8351                            1594     ;;;     M_RTS
 8352                            1595     
 8353                            1596     
 8354                            1597     
 8355                            1598     
 8356                            1599     
 8357                            1600     ;//     ***********************************************
 8358                            1601     ;//     ***                     2021-11-10[CE2] 反転の段取停止  ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    40
PROGRAM NAME =

 8359                            1602     ;//     ***********************************************
 8360                            1603     ;       停止角度100度
 8361                            1604     ;       101度~270:      上昇時は100度を目標とする
 8362                            1605     ;                               下降時は170度を目標とする
 8363                            1606     ;       R0=0 上昇時は待機点を目標にする
 8364                            1607     ;       R0=0 下降時時は停止角度を目標にする
 8365                            1608     ;
 8366                            1609     ;[下降のため]
 8367                                     ***** BEGIN-POOL *****
 8368 00000690 00000000                   DATA FOR SOURCE-LINE 1506
 8369 00000694 00000000                   DATA FOR SOURCE-LINE 1511
 8370 00000698 00000000                   DATA FOR SOURCE-LINE 1516
 8371 0000069C 00000000                   DATA FOR SOURCE-LINE 1519
 8372 000006A0 00000000                   DATA FOR SOURCE-LINE 1529
 8373                                     ***** END-POOL *****
 8374 000006A4                   1610     _DND_NEG_AREA_JUDE1
 8375                            1611             SUB_START
 8376 000006A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8377                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8378                            1612     
 8379 000006A6 200A              1613             XOR             R0,R0
 8380                            1614     
 8381 000006A8 9410              1615             MOV.W   #D'10,R4
 8382 000006AA D109              1616             MOV.L   #_SVP_DND_STOPDIG1,R1                   ;
 8383 000006AC 6311              1617             MOV.W   @R1,R3                                                  ;停止角度(100.0)
 8384 000006AE 3348              1618             SUB             R4,R3                                                   ;
 8385 000006B0 4311              1619             CMP/PZ  R3                                                              ;
 8386 000006B2 8900              1620             BT      DND_NEG_AREA_JD1_050                            ;
 8387 000006B4 233A              1621             XOR             R3,R3                                                   ;
 8388 000006B6                   1622     DND_NEG_AREA_JD1_050                                            ;
 8389                            1623     
 8390 000006B6 D107              1624             MOV.L   #_LINK_CLANK_PV,R1                              ;表示角度
 8391 000006B8 6211              1625             MOV.W   @R1,R2                                                  ;
 8392 000006BA 9108              1626             MOV.W   #D'2700,R1                                              ;270.0
 8393                            1627     
 8394 000006BC 3232              1628             CMP/HS  R3,R2                                                   ;R3(停止角度)<= R2
                                          (NOW)
 8395 000006BE 8B02              1629             BF              DND_NEG_AREA_JD1_100                            ;NO! R2<ANS R0=0
 8396                            1630     
 8397 000006C0 3212              1631             CMP/HS  R1,R2                                                   ;R1(2700)< R2(NOW)
 8398 000006C2 8900              1632             BT              DND_NEG_AREA_JD1_100                    ;YES:0:0停止角度
 8399                            1633     
 8400 000006C4 E001              1634             MOV.B   #1,R0                                                   ;
 8401                            1635     
 8402 000006C6                   1636     DND_NEG_AREA_JD1_100
 8403                            1637     
 8404                            1638     
 8405                            1639     
 8406                            1640             SUB_END
 8407                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8408 000006C6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8409                            1641             M_RTS
 8410 000006C8 000B                   M           RTS                             ;RTSの後ろの
 8411 000006CA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8412                            1642     
 8413                            1643     
 8414                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    41
PROGRAM NAME =

 8415 000006CC 000A                       DATA FOR SOURCE-LINE 1615
 8416 000006CE 0A8C                       DATA FOR SOURCE-LINE 1626
 8417 000006D0 00000000                   DATA FOR SOURCE-LINE 1616
 8418 000006D4 00000000                   DATA FOR SOURCE-LINE 1624
 8419                                     ***** END-POOL *****
 8420 000006D8                   1644     _DND_NEG_AREA_JUDE2
 8421                            1645             SUB_START
 8422 000006D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8423                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8424                            1646     
 8425 000006DA 200A              1647             XOR             R0,R0
 8426                            1648     
 8427 000006DC 940D              1649             MOV.W   #D'10,R4
 8428 000006DE D108              1650             MOV.L   #_SVP_DND_STOPDIG1,R1                   ;
 8429 000006E0 6311              1651             MOV.W   @R1,R3                                                  ;停止角度(100.0)
 8430 000006E2 334C              1652             ADD             R4,R3                                                   ;101.0~
 8431 000006E4 D107              1653             MOV.L   #_LINK_CLANK_PV,R1                              ;表示角度
 8432 000006E6 6211              1654             MOV.W   @R1,R2                                                  ;
 8433 000006E8 9108              1655             MOV.W   #D'2700,R1                                              ;270.0
 8434                            1656     
 8435 000006EA 3232              1657             CMP/HS  R3,R2                                                   ;R3(停止角度)<= R2
                                          (NOW)
 8436 000006EC 8B02              1658             BF              DND_NEG_AREA_JD2_100                            ;NO! R2<ANS R0=0
 8437                            1659     
 8438 000006EE 3212              1660             CMP/HS  R1,R2                                                   ;R1(2700)< R2(NOW)
 8439 000006F0 8900              1661             BT              DND_NEG_AREA_JD2_100                            ;YES:0:0停止角度
 8440                            1662     
 8441 000006F2 E001              1663             MOV.B   #1,R0                                                   ;
 8442                            1664     
 8443 000006F4                   1665     DND_NEG_AREA_JD2_100
 8444                            1666     
 8445                            1667     
 8446                            1668     
 8447                            1669             SUB_END
 8448                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8449 000006F4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8450                            1670             M_RTS
 8451 000006F6 000B                   M           RTS                             ;RTSの後ろの
 8452 000006F8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8453                            1671     
 8454                            1672     
 8455                            1673     
 8456                            1674     
 8457                            1675     ;               -------------- 反転専用-------------
 8458                            1676     ;               ------------- 往復自動運転---------------
 8459                            1677     ;               ------------- 上昇のみ運転---------------
 8460                            1678     ;               ------------- 下降のみ運転---------------
 8461                                     ***** BEGIN-POOL *****
 8462 000006FA 000A                       DATA FOR SOURCE-LINE 1649
 8463 000006FC 0A8C                       DATA FOR SOURCE-LINE 1655
 8464 000006FE 0000                       ALIGNMENT CODE
 8465 00000700 00000000                   DATA FOR SOURCE-LINE 1650
 8466 00000704 00000000                   DATA FOR SOURCE-LINE 1653
 8467                                     ***** END-POOL *****
 8468 00000708                   1679             .ALIGN  4                               ;
 8469 00000708                   1680     _DND_LNKPLS_OBJMAK1:
 8470                            1681             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    42
PROGRAM NAME =

 8471 00000708 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8472                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8473                            1682     
 8474                            1683     
 8475 0000070A D10C              1684             MOV.L   #_INT_DND_NEG_STEP,R1           ;
 8476 0000070C 6011              1685             MOV.W   @R1,R0                                          ;
 8477 0000070E 2008              1686             TST             R0,R0                                           ;
 8478                            1687             TST_BIT_OF DND_LNKPLS_OBJ_UPPOS1        ;0:上へ(自動運転のみ)
 8479 00000710 8907                   M           BT      DND_LNKPLS_OBJ_UPPOS1
 8480                            1688     
 8481 00000712 8802              1689             CMP/EQ  #2,R0                                           ;
 8482 00000714 891C              1690             BT      DND_LNKPLS_OBJ_DNPOS1                   ;反転STEP=2:170度:下死点を目標に動
                                          作
 8483 00000716 8804              1691             CMP/EQ  #4,R0                                           ;
 8484 00000718 8903              1692             BT      DND_LNKPLS_OBJ_UPPOS1                   ;反転STEP=4:0度:待機点を目標に動作
 8485                            1693     
 8486 0000071A 8801              1694             CMP/EQ  #1,R0                                           ;
 8487 0000071C 8924              1695             BT      DND_LNKPLS_OBJ_STOPPOS1                 ;
 8488 0000071E 8803              1696             CMP/EQ  #3,R0                                           ;
 8489 00000720 8922              1697             BT      DND_LNKPLS_OBJ_STOPPOS1                 ;
 8490                            1698     
 8491                            1699     ;       ------[0][基本無しとする]-----
 8492                            1700     
 8493                            1701     ;       === 方向を判別して待機点を目指す ===
 8494                            1702     ;       ------------ 上死点位置---------------
 8495 00000722                   1703     DND_LNKPLS_OBJ_UPPOS1:
 8496 00000722                   1704     DND_LNKPLS_OBJ_UPPOS0:
 8497 00000722 D007              1705             MOV.L   #_SET1_UPAREA_PLS1,R0                   ;//4;上死点0度固定(上死点)
 8498 00000724 6202              1706             MOV.L   @R0,R2                                                  ;
 8499                            1707     
 8500                            1708     
 8501                            1709     ;       ==== 2004-05-23====
 8502 00000726 D007              1710             MOV.L   #_PAR_WTSEL_USE,R0                              ;
 8503 00000728 6001              1711             MOV.W   @R0,R0                                                  ;
 8504 0000072A 8801              1712             CMP/EQ  #1,R0                                                   ;待機点選択使用時
                                          は上死点ではない
 8505 0000072C 8B01              1713             BF      DND_LNKPLS_OBJ_CHG050                           ;
 8506                            1714     
 8507 0000072E D006              1715             MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;上死点固定(上死点)
 8508 00000730 6202              1716             MOV.L   @R0,R2                                                  ;
 8509 00000732                   1717     DND_LNKPLS_OBJ_CHG050:
 8510                            1718             FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 8511 00000732 D006                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8512 00000734 400B                   M           JSR     @R0                     ;
 8513 00000736 0009                   M           NOP                                     ;
 8514                            1719             M_BRA   DND_LNKPLS_OBJMK1_END                   ;
 8515 00000738 A01B                   M           BRA     DND_LNKPLS_OBJMK1_END
 8516 0000073A 0009                   M           NOP
 8517                            1720     
 8518                            1721     
 8519                            1722     ;       ------------ 下限位置---------------
 8520                                     ***** BEGIN-POOL *****
 8521 0000073C 00000000                   DATA FOR SOURCE-LINE 1684
 8522 00000740 00000000                   DATA FOR SOURCE-LINE 1705
 8523 00000744 00000000                   DATA FOR SOURCE-LINE 1710
 8524 00000748 00000000                   DATA FOR SOURCE-LINE 1715
 8525 0000074C 00000000                   DATA FOR SOURCE-LINE 1718
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    43
PROGRAM NAME =

 8526                                     ***** END-POOL *****
 8527 00000750                   1723     DND_LNKPLS_OBJ_DNPOS1:
 8528 00000750 D003              1724             MOV.L   #_SETX_DNAREA_JG_PLS,R0                 ;
 8529 00000752 6202              1725             MOV.L   @R0,R2                                                  ;
 8530                            1726             FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 8531 00000754 D003                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8532 00000756 400B                   M           JSR     @R0                     ;
 8533 00000758 0009                   M           NOP                                     ;
 8534                            1727             M_BRA   DND_LNKPLS_OBJMK1_END                   ;
 8535 0000075A A00A                   M           BRA     DND_LNKPLS_OBJMK1_END
 8536 0000075C 0009                   M           NOP
 8537                            1728     
 8538                            1729     
 8539                            1730     
 8540                            1731     ;[2021-11-11]
 8541                            1732     ;       ------------ 停止位置---------------
 8542                            1733     ;       MOV.L   #_SVP_DND_STOPDIG1,R1                   ;
 8543                            1734     
 8544                                     ***** BEGIN-POOL *****
 8545 0000075E 0000                       ALIGNMENT CODE
 8546 00000760 00000000                   DATA FOR SOURCE-LINE 1724
 8547 00000764 00000000                   DATA FOR SOURCE-LINE 1726
 8548                                     ***** END-POOL *****
 8549 00000768                   1735     DND_LNKPLS_OBJ_STOPPOS1
 8550 00000768 D003              1736             MOV.L   #_SET1_DND_PLSTOP+1*4,R0                ;
 8551 0000076A 6202              1737             MOV.L   @R0,R2                                                  ;
 8552                            1738             FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 8553 0000076C D003                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8554 0000076E 400B                   M           JSR     @R0                     ;
 8555 00000770 0009                   M           NOP                                     ;
 8556 00000772                   1739     DND_LNKPLS_OBJMK1_END:
 8557                            1740     
 8558                            1741     
 8559                            1742             SUB_END
 8560                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8561 00000772 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8562                            1743             M_RTS
 8563 00000774 000B                   M           RTS                             ;RTSの後ろの
 8564 00000776 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8565                            1744     
 8566                            1745     ;;[2021-11-15]  .ALIGN  4                               ;
 8567                            1746     ;;[2021-11-15]_DND_LNKPLS_OBJMAK1:
 8568                            1747     ;;[2021-11-15]  SUB_START
 8569                            1748     ;;[2021-11-15]  MOV.L   #_INT_DND_NEG_STEP,R1           ;
 8570                            1749     ;;[2021-11-15]  MOV.W   @R1,R0                          ;
 8571                            1750     ;;[2021-11-15]  CMP/EQ  #1,R0                           ;
 8572                            1751     ;;[2021-11-15]  BT      DND_LNKPLS_OBJ_DNPOS1           ;下死点を目標に動作
 8573                            1752     ;;[2021-11-15]  CMP/EQ  #2,R0                           ;
 8574                            1753     ;;[2021-11-15]  BT      DND_LNKPLS_OBJ_UPPOS1           ;待機点を目標に動作
 8575                            1754     ;;[2021-11-15]
 8576                            1755     ;;[2021-11-15]; === 方向を判別して待機点を目指す ===
 8577                            1756     ;;[2021-11-15]DND_LNKPLS_OBJ_UPPOS1:
 8578                            1757     ;;[2021-11-15]DND_LNKPLS_OBJ_UPPOS0:
 8579                            1758     ;;[2021-11-15];;;ｵﾘｷﾞﾅﾙｿﾌﾄ      MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機
                                          点
 8580                            1759     ;;[2021-11-15]  MOV.L   #_SET1_UPAREA_PLS1,R0                   ;//4;上死点固定(上死点)
 8581                            1760     ;;[2021-11-15]  MOV.L   @R0,R2                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    44
PROGRAM NAME =

 8582                            1761     ;;[2021-11-15]; ==== 2004-05-23====
 8583                            1762     ;;[2021-11-15]  MOV.L   #_PAR_WTSEL_USE,R0
 8584                            1763     ;;[2021-11-15]  MOV.W   @R0,R0                                  ;
 8585                            1764     ;;[2021-11-15]  CMP/EQ  #1,R0                                   ;待機点選択使用時は上死点
                                          ではない
 8586                            1765     ;;[2021-11-15]  BF      DND_LNKPLS_OBJ_CHG050                   ;
 8587                            1766     ;;[2021-11-15]  MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;上死点固定(上死点)
 8588                            1767     ;;[2021-11-15]  MOV.L   @R0,R2                                  ;
 8589                            1768     ;;[2021-11-15]DND_LNKPLS_OBJ_CHG050:
 8590                            1769     ;;[2021-11-15]; ===================
 8591                            1770     ;;[2021-11-15]
 8592                            1771     ;;[2021-11-15]  FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 8593                            1772     ;;[2021-11-15]  M_BRA   DND_LNKPLS_OBJMK1_END                   ;
 8594                            1773     ;;[2021-11-15]
 8595                            1774     ;;[2021-11-15]DND_LNKPLS_OBJ_DNPOS1:
 8596                            1775     ;;[2021-11-15]  MOV.L   #_SETX_DNAREA_JG_PLS,R0                 ;
 8597                            1776     ;;[2021-11-15]  MOV.L   @R0,R2                                  ;
 8598                            1777     ;;[2021-11-15]  FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 8599                            1778     ;;[2021-11-15]DND_LNKPLS_OBJMK1_END:
 8600                            1779     ;;[2021-11-15]  SUB_END
 8601                            1780     ;;[2021-11-15]  M_RTS
 8602                            1781     
 8603                            1782     
 8604                            1783     ;       *******************************************
 8605                            1784     ;       ***                                     ***
 8606                            1785     ;       ***             Input R2                ***
 8607                            1786     ;       ***             ﾘﾝｸ(内部制御)ﾊﾟﾙｽ       ***
 8608                            1787     ;       ***                                     ***
 8609                            1788     ;       *******************************************
 8610                            1789     ;       MOV.L   #_SETX_DNAREA_JG_PLS,R4                 ;反転設定不可範囲LINK-PLS
 8611                            1790     ;       MOV.L   @R4,R2                                  ;
 8612                            1791     ;
 8613                                     ***** BEGIN-POOL *****
 8614 00000778 00000000                   DATA FOR SOURCE-LINE 1736
 8615 0000077C 00000000                   DATA FOR SOURCE-LINE 1738
 8616                                     ***** END-POOL *****
 8617 00000780                   1792             .ALIGN  4                               ;
 8618 00000780                   1793     _LNKPLS_OBJ_DAT_MAK1:
 8619                            1794             SUB_START
 8620 00000780 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8621                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8622                            1795             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;
 8623 00000782 D00B                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8624 00000784 400B                   M           JSR     @R0                     ;
 8625 00000786 0009                   M           NOP                                     ;
 8626                            1796     
 8627                            1797             PUSH_REG1 R2
 8628 00000788 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 8629                                 M                                           ;REG=>[SP]
 8630                                 M                                           ;"-4" FF,FF,FF,FC
 8631                            1798     
 8632                            1799     
 8633                            1800             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 8634 0000078A D00A                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8635 0000078C 400B                   M           JSR     @R0                     ;
 8636 0000078E 0009                   M           NOP                                     ;
 8637                            1801     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    45
PROGRAM NAME =

 8638                            1802             POP_REG1 R2
 8639                                 M                                   ; RE"+4" 00,00,00,04
 8640 00000790 62F6                   M           MOV.L   @R15+,R2        ;
 8641                            1803     ;       === 目標角度(R2) ====
 8642                            1804     
 8643                            1805     ;;      MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 8644                            1806     ;;      MOV.L   @R0,R2                                  ;
 8645                            1807     
 8646 00000792 D409              1808             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 8647 00000794 6142              1809             MOV.L   @R4,R1                                  ;現在 ***.* pls
 8648                            1810                                                             ;目標 ***.* pls
 8649 00000796 D409              1811             MOV.L   #_SETX_UPDN_CHK_DN_PLS,R4               ;180.0pls(下死点角度 180.0)
 8650 00000798 6342              1812             MOV.L   @R4,R3                                  ;
 8651                            1813     ;
 8652                            1814     ;       ===== R3~R2の範囲にR1がいれば正転===
 8653                            1815             DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R1,ANSREG=R0       ;
 8654 0000079A 3233                   M           CMP/GE  R3,R2
 8655 0000079C 8B10                   M           BF      JMP0100000
 8656                                 M   ;       === 0度をはさなまい===
 8657 0000079E 200A                   M           XOR     R0,R0
 8658 000007A0 3133                   M           CMP/GE  R3,R1           ;
 8659 000007A2 8B13                   M           BF      JMP0200000                      ; PV<SV1
 8660 000007A4 3213                   M           CMP/GE  R1,R2           ;
 8661 000007A6 8B11                   M           BF      JMP0200000                      ; SV2<PV2 (1)
 8662 000007A8 E001                   M           MOV     #1,R0           ;
 8663                                 M           M_BRA   JMP0200000                      ;
 8664 000007AA A00F                   M           BRA     JMP0200000
 8665 000007AC 0009                   M           NOP
 8666                                 M   
 8667                                 M   ;       ==== ０度をはさむ====
 8668                                 M   ***** BEGIN-POOL *****
 8669 000007AE 0000                   M   ALIGNMENT CODE
 8670 000007B0 00000000               M   DATA FOR SOURCE-LINE 1795
 8671 000007B4 00000000               M   DATA FOR SOURCE-LINE 1800
 8672 000007B8 00000000               M   DATA FOR SOURCE-LINE 1808
 8673 000007BC 00000000               M   DATA FOR SOURCE-LINE 1811
 8674                                 M   ***** END-POOL *****
 8675 000007C0                        M   JMP0100000:
 8676 000007C0 E001                   M           MOV     #1,R0
 8677 000007C2 3133                   M           CMP/GE  R3,R1
 8678 000007C4 8902                   M           BT      JMP0200000                      ;SV1=<PV=<360
 8679 000007C6 3213                   M           CMP/GE  R1,R2           ;
 8680 000007C8 8900                   M           BT      JMP0200000                      ;
 8681 000007CA 200A                   M           XOR     R0,R0           ;
 8682 000007CC                        M   JMP0200000:
 8683 000007CC 233A              1816             XOR     R3,R3
 8684 000007CE 2008              1817             TST     R0,R0
 8685                            1818             TST_BIT_ON LNKPLS_OBJ_DAT_MK1_150               ;
 8686 000007D0 8B00                   M           BF      LNKPLS_OBJ_DAT_MK1_150
 8687 000007D2 E3FF              1819             MOV     #-1,R3
 8688 000007D4                   1820     LNKPLS_OBJ_DAT_MK1_150:                                 ;R2
 8689                            1821     
 8690 000007D4 2338              1822             TST     R3,R3                                   ;正転
 8691                            1823             TST_BIT_ON LNKPLS_OBJ_DAT_MK1_300               ;逆転 JUMP
 8692 000007D6 8B0D                   M           BF      LNKPLS_OBJ_DAT_MK1_300
 8693                            1824     ;       ==== 正転方向でいく ====
 8694 000007D8 3218              1825             SUB     R1,R2                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    46
PROGRAM NAME =

 8695 000007DA 4211              1826             CMP/PZ  R2
 8696 000007DC 8915              1827             BT      LNKPLS_OBJ_DAT_MK1_500                  ;R2 >= 0(R2は符号付距離)
 8697 000007DE D504              1828             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8698 000007E0 6452              1829             MOV.L   @R5,R4                                  ;
 8699 000007E2 324C              1830             ADD     R4,R2                                   ;
 8700 000007E4 4211              1831             CMP/PZ  R2
 8701 000007E6 8910              1832             BT      LNKPLS_OBJ_DAT_MK1_500          ;
 8702 000007E8 222A              1833             XOR     R2,R2                                   ;
 8703                            1834             M_BRA   LNKPLS_OBJ_DAT_MK1_500                  ;
 8704 000007EA A00E                   M           BRA     LNKPLS_OBJ_DAT_MK1_500
 8705 000007EC 0009                   M           NOP
 8706                            1835     
 8707                                     ***** BEGIN-POOL *****
 8708 000007EE 0000                       ALIGNMENT CODE
 8709 000007F0 00000000                   DATA FOR SOURCE-LINE 1828
 8710                                     ***** END-POOL *****
 8711 000007F4                   1836     LNKPLS_OBJ_DAT_MK1_300:                         ;R2
 8712 000007F4 3218              1837             SUB     R1,R2                                   ;300-270
 8713 000007F6 622B              1838             NEG     R2,R2                                   ;
 8714 000007F8 4211              1839             CMP/PZ  R2
 8715 000007FA 8905              1840             BT      LNKPLS_OBJ_DAT_MK1_400                  ;R2 >= 0(R2は符号付距離)
 8716 000007FC D514              1841             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8717 000007FE 6452              1842             MOV.L   @R5,R4                                  ;
 8718 00000800 324C              1843             ADD     R4,R2                                   ;
 8719 00000802 4211              1844             CMP/PZ  R2
 8720 00000804 8900              1845             BT      LNKPLS_OBJ_DAT_MK1_400                  ;
 8721 00000806 222A              1846             XOR     R2,R2                                   ;
 8722 00000808                   1847     LNKPLS_OBJ_DAT_MK1_400:                         ;
 8723 00000808 622B              1848             NEG     R2,R2                                   ;
 8724 0000080A                   1849     LNKPLS_OBJ_DAT_MK1_500:                         ;
 8725 0000080A 255A              1850             XOR     R5,R5                                   ;
 8726 0000080C 6623              1851             MOV     R2,R6                                   ;
 8727 0000080E 4211              1852             CMP/PZ  R2                                      ;
 8728 00000810 8900              1853             BT      LNKPLS_OBJ_DAT_MK1_600                  ;
 8729 00000812 E5FF              1854             MOV     #-1,R5                                  ;
 8730 00000814                   1855     LNKPLS_OBJ_DAT_MK1_600:                                 ;
 8731                            1856     
 8732 00000814 D40F              1857             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
                                                  ;
 8733 00000816 6146              1858             MOV.L   @R4+,R1                                 ;
 8734 00000818 6242              1859             MOV.L   @R4,R2                                  ;
 8735                            1860             PUSH_REG1 R1
 8736 0000081A 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 8737                                 M                                           ;REG=>[SP]
 8738                                 M                                           ;"-4" FF,FF,FF,FC
 8739                            1861             PUSH_REG1 R2
 8740 0000081C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 8741                                 M                                           ;REG=>[SP]
 8742                                 M                                           ;"-4" FF,FF,FF,FC
 8743                            1862             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 8744 0000081E 0008                   M           CLRT
 8745 00000820 326E                   M           ADDC    R6,R2
 8746 00000822 315E                   M           ADDC    R5,R1
 8747                            1863     
 8748 00000824 D40C              1864             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 8749 00000826 2412              1865             MOV.L   R1,@R4                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    47
PROGRAM NAME =

 8750 00000828 1421              1866             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 8751                            1867             POP_REG1 R6
 8752                                 M                                   ; RE"+4" 00,00,00,04
 8753 0000082A 66F6                   M           MOV.L   @R15+,R6        ;
 8754                            1868             POP_REG1 R5
 8755                                 M                                   ; RE"+4" 00,00,00,04
 8756 0000082C 65F6                   M           MOV.L   @R15+,R5        ;
 8757                            1869     
 8758                            1870             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 8759 0000082E 0008                   M           CLRT
 8760 00000830 326A                   M           SUBC    R6,R2
 8761 00000832 315A                   M           SUBC    R5,R1
 8762 00000834 233A              1871             XOR     R3,R3
 8763 00000836 4111              1872             CMP/PZ  R1                              ;
 8764 00000838 8900              1873             BT      LNKPLS_OBJ_DAT_MK1_750          ;
 8765 0000083A E301              1874             MOV     #BIT0,R3                        ;
 8766 0000083C                   1875     LNKPLS_OBJ_DAT_MK1_750:                         ;
 8767 0000083C D107              1876             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 8768 0000083E 2131              1877             MOV.W   R3,@R1                          ;
 8769                            1878     
 8770 00000840 D107              1879             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 8771 00000842 6011              1880             MOV.W   @R1,R0                  ;
 8772 00000844 C9FE              1881             AND     #LOW ~BIT0,R0           ;
 8773 00000846 203B              1882             OR      R3,R0                   ;
 8774 00000848 2101              1883             MOV.W   R0,@R1                  ;
 8775                            1884     
 8776                            1885             SUB_END
 8777                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8778 0000084A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8779                            1886             M_RTS
 8780 0000084C 000B                   M           RTS                             ;RTSの後ろの
 8781 0000084E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8782                            1887     
 8783                            1888     
 8784                            1889     
 8785                            1890     
 8786                            1891     
 8787                            1892     
 8788                            1893     
 8789                            1894     
 8790                            1895     
 8791                            1896     
 8792                            1897     
 8793                            1898     
 8794                            1899     
 8795                            1900     
 8796                            1901     
 8797                            1902     
 8798                            1903     ;       ***********************************
 8799                            1904     ;       ***                             ***
 8800                            1905     ;       ***     段取寸動                ***
 8801                            1906     ;       ***     速度設定                ***
 8802                            1907     ;       ***                             ***
 8803                            1908     ;       ***********************************
 8804                                     ***** BEGIN-POOL *****
 8805 00000850 00000000                   DATA FOR SOURCE-LINE 1841
 8806 00000854 00000000                   DATA FOR SOURCE-LINE 1857
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    48
PROGRAM NAME =

 8807 00000858 00000000                   DATA FOR SOURCE-LINE 1864
 8808 0000085C 00000000                   DATA FOR SOURCE-LINE 1876
 8809 00000860 00000000                   DATA FOR SOURCE-LINE 1879
 8810                                     ***** END-POOL *****
 8811 00000864                   1909             .ALIGN  4                               ;
 8812 00000864                   1910     _DNDINC_SPD_SET:
 8813                            1911             SUB_START
 8814 00000864 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8815                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8816                            1912     
 8817                            1913     ;       --------2011-09-20-
 8818                            1914             PUSH_REG1 R0    ;2011-09-20
 8819 00000866 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
 8820                                 M                                           ;REG=>[SP]
 8821                                 M                                           ;"-4" FF,FF,FF,FC
 8822                            1915     
 8823                            1916     
 8824                            1917     ;;;;2016-04-16  MOV.L   #_SET1_DNDINC_SPD1,R1   ;
 8825                            1918     ;;;;2016-04-16  MOV.L   @R1,R2                  ;
 8826                            1919     
 8827                            1920             FAR_JSR #_DND_SPD_SEQ_SET,R0            ;2016-04-16
 8828 00000868 D008                   M           MOV.L   #_DND_SPD_SEQ_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8829 0000086A 400B                   M           JSR     @R0                     ;
 8830 0000086C 0009                   M           NOP                                     ;
 8831                            1921     
 8832                            1922     ;       ---------------------------
 8833 0000086E D108              1923             MOV.L   #_CB_SEQ_CB_COM349,R1           ;
 8834 00000870 6011              1924             MOV.W   @R1,R0                          ;
 8835 00000872 C840              1925             TST     #BIT6,R0                        ;
 8836                            1926             TST_BIT_OF DNDINC_SPDSET_100            ;
 8837 00000874 8904                   M           BT      DNDINC_SPDSET_100
 8838                            1927     
 8839 00000876 D107              1928             MOV.L   #_WPARX_BRKTST_DNDLMT,R1        ;
 8840 00000878 6012              1929             MOV.L   @R1,R0                          ;
 8841                            1930     
 8842 0000087A 3202              1931             CMP/HS  R0,R2                           ;R0<R2
 8843 0000087C 8B00              1932             BF      DNDINC_SPDSET_100               ;NO JUMP(R2=<R0)
 8844 0000087E 6203              1933             MOV     R0,R2                           ;
 8845 00000880                   1934     DNDINC_SPDSET_100:
 8846                            1935     ;       ---------------------------
 8847                            1936     
 8848 00000880 D105              1937             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1 ;//目標速度
 8849 00000882 2122              1938             MOV.L   R2,@R1                  ;
 8850                            1939     
 8851                            1940             POP_REG1 R0     ;2011-09-20
 8852                                 M                                   ; RE"+4" 00,00,00,04
 8853 00000884 60F6                   M           MOV.L   @R15+,R0        ;
 8854                            1941     
 8855                            1942             SUB_END
 8856                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8857 00000886 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8858                            1943             M_RTS
 8859 00000888 000B                   M           RTS                             ;RTSの後ろの
 8860 0000088A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8861                            1944     
 8862                            1945     ;       *******************************************
 8863                            1946     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    49
PROGRAM NAME =

 8864                            1947     ;       ***     2016-04-16 段取速度SEQ変更      ***
 8865                            1948     ;       ***                                     ***
 8866                            1949     ;       *******************************************
 8867                                     ***** BEGIN-POOL *****
 8868 0000088C 00000000                   DATA FOR SOURCE-LINE 1920
 8869 00000890 00000000                   DATA FOR SOURCE-LINE 1923
 8870 00000894 00000000                   DATA FOR SOURCE-LINE 1928
 8871 00000898 00000000                   DATA FOR SOURCE-LINE 1937
 8872                                     ***** END-POOL *****
 8873 0000089C                   1950     _DND_SPD_SEQ_SET:
 8874                            1951             SUB_START
 8875 0000089C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8876                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8877                            1952     
 8878 0000089E D10C              1953             MOV.L   #_SET1_DNDINC_SPD1,R1           ;
 8879 000008A0 6212              1954             MOV.L   @R1,R2                          ;
 8880                            1955     
 8881 000008A2 D10C              1956             MOV.L   #_CB_SEQ_CB_COM356,R1           ;
 8882 000008A4 6011              1957             MOV.W   @R1,R0                          ;
 8883 000008A6 C880              1958             TST     #BIT7,R0                        ;356.7
 8884                            1959             TST_BIT_OF DND_SPD_SEQSET_END           ;
 8885 000008A8 890D                   M           BT      DND_SPD_SEQSET_END
 8886                            1960     
 8887 000008AA C97F              1961             AND     #H'7F,R0                        ;
 8888 000008AC 2008              1962             TST     R0,R0                           ;
 8889                            1963             TST_BIT_OF DND_SPD_SEQSET_END           ;指定速度=0
 8890 000008AE 890A                   M           BT      DND_SPD_SEQSET_END
 8891                            1964     
 8892 000008B0 940C              1965             MOV.W   #D'100,R4                       ;100%単位
 8893 000008B2 3046              1966             CMP/HI  R4,R0                           ;R4 < R0
 8894 000008B4 8B00              1967             BF      DND_SPD_SEQSET_100              ;NO!
 8895 000008B6 6043              1968             MOV     R4,R0                           ;
 8896 000008B8                   1969     DND_SPD_SEQSET_100:                             ;
 8897 000008B8 6203              1970             MOV     R0,R2                           ;
 8898 000008BA D007              1971             MOV.L   #_LINK_MAX_SPD_PLS,R0           ;
 8899 000008BC 6102              1972             MOV.L   @R0,R1                          ;data(R2) *R1/R4
 8900 000008BE 9405              1973             MOV.W   #D'100,R4                       ;100%単位
 8901                            1974             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
 8902 000008C0 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8903 000008C2 400B                   M           JSR     @R0                     ;
 8904 000008C4 0009                   M           NOP                                     ;
 8905                            1975     
 8906 000008C6                   1976     DND_SPD_SEQSET_END:
 8907                            1977     
 8908                            1978             SUB_END
 8909                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8910 000008C6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8911                            1979             M_RTS
 8912 000008C8 000B                   M           RTS                             ;RTSの後ろの
 8913 000008CA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8914                            1980     
 8915                            1981     ;       *******************************************
 8916                            1982     ;       ***                                     ***
 8917                            1983     ;       ***     今の回転上の上死点+3．0を目指す ***
 8918                            1984     ;       ***     本当は最寄の上死点の+3を目指す  ***
 8919                            1985     ;       *******************************************
 8920                            1986     ;       今の回転の上死点が現在位置から見て、+180度以上相当のパルスなら -1回転
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    50
PROGRAM NAME =

 8921                            1987     ;                                           -180度以下相当のパルスなら +1回転
 8922                            1988             .IMPORT _POSCHG_LINK_ABSPLS_ROTNUMBER                           ;R1,R2(R1=0/FFFFの
                                          み)
 8923                            1989             .IMPORT _POSCHG_LINK_ROTNUM_PLS                                 ;
 8924                            1990     
 8925                            1991     
 8926                            1992     
 8927                            1993     
 8928                            1994     ;       *******************************************
 8929                            1995     ;       ***                                     ***
 8930                            1996     ;       ***     今の回転上の上死点-3．0を目指す ***
 8931                            1997     ;       ***     本当は最寄の上死点の+3を目指す  ***
 8932                            1998     ;       *******************************************
 8933                            1999     ;       今の回転の上死点が現在位置から見て、+180度以上相当のパルスなら -1回転
 8934                            2000     ;                                           -180度以下相当のパルスなら +1回転
 8935                            2001     ;;      .IMPORT _POSCHG_LINK_ABSPLS_ROTNUMBER                           ;R1,R2(R1=0/FFFFの
                                          み)
 8936                            2002     ;;      .IMPORT _POSCHG_LINK_ROTNUM_PLS                                 ;
 8937                                     ***** BEGIN-POOL *****
 8938 000008CC 0064                       DATA FOR SOURCE-LINE 1965,1973
 8939 000008CE 0000                       ALIGNMENT CODE
 8940 000008D0 00000000                   DATA FOR SOURCE-LINE 1953
 8941 000008D4 00000000                   DATA FOR SOURCE-LINE 1956
 8942 000008D8 00000000                   DATA FOR SOURCE-LINE 1971
 8943 000008DC 00000000                   DATA FOR SOURCE-LINE 1974
 8944                                     ***** END-POOL *****
 8945 000008E0                   2003             .ALIGN  4                               ;
 8946 000008E0                   2004     _LINK_UPPLS_A_OBJMAK1:
 8947                            2005             SUB_START
 8948 000008E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8949                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8950                            2006     
 8951                            2007     
 8952                            2008             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 8953 000008E2 D011                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8954 000008E4 400B                   M           JSR     @R0                     ;
 8955 000008E6 0009                   M           NOP                                     ;
 8956                            2009     
 8957                            2010     ;       === 目標角度 ====
 8958 000008E8 D010              2011             MOV.L   #_SET1_UPAREA_PLS1,R0                   ;//4;上死点固定(1回目は上死点)
 8959 000008EA 6202              2012             MOV.L   @R0,R2                                  ;これは反転でも回転で待機点選択有
                                          りでも同じ
 8960 000008EC D010              2013             MOV.L   #_ORG_FIRST_OBJPLS,R0                   ;[-ﾏｲﾅｽﾃﾞｰﾀ]
 8961 000008EE 6102              2014             MOV.L   @R0,R1                                  ;
 8962 000008F0 321C              2015             ADD     R1,R2                                   ;
 8963 000008F2 D510              2016             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8964 000008F4 6452              2017             MOV.L   @R5,R4                                  ;
 8965                            2018     
 8966                            2019     ;;;2011-03-22[0度不具合]        CMP/HI  R2,R4                                   ;R2 < R4
 8967 000008F6 3423              2020             CMP/GE  R2,R4                                   ;R2 < R4
 8968 000008F8 8900              2021             BT      LINK_UPPLS_A_OBJMK1_100                 ;
 8969 000008FA 3248              2022             SUB     R4,R2                                   ;
 8970 000008FC                   2023     LINK_UPPLS_A_OBJMK1_100:                                ;R2
 8971                            2024     
 8972                            2025     ;       ------ 2011-03-22--------
 8973 000008FC 4211              2026             CMP/PZ  R2
 8974 000008FE 8900              2027             BT      LINK_UPPLS_A_OBJMK1_110                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    51
PROGRAM NAME =

 8975 00000900 324C              2028             ADD     R4,R2                                   ;
 8976 00000902                   2029     LINK_UPPLS_A_OBJMK1_110:                                ;
 8977                            2030     
 8978                            2031     
 8979                            2032     
 8980                            2033     
 8981                            2034     
 8982 00000902 D40D              2035             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 8983 00000904 6142              2036             MOV.L   @R4,R1                                  ;現在 ***.* pls
 8984                            2037                                                             ;目標 ***.* pls
 8985 00000906 D40D              2038             MOV.L   #_SETX_UPDN_CHK_DN_PLS,R4               ;180.0pls(下死点角度 180.0)
 8986 00000908 6342              2039             MOV.L   @R4,R3                                  ;
 8987                            2040     
 8988                            2041     ;       ===========2008-04-28 =======
 8989                            2042     ;;;     MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R0             ;
 8990                            2043     
 8991 0000090A D00D              2044             MOV.L   #_ORIGN_180ARA_FLG,R0   ;
 8992 0000090C 6001              2045             MOV.W   @R0,R0                                  ;
 8993 0000090E C820              2046             TST     #BIT5,R0                                ;
 8994                            2047             TST_BIT_ON LINK_UPPLS_A_OBJMK1_145              ;逆転固定
 8995 00000910 8B21                   M           BF      LINK_UPPLS_A_OBJMK1_145
 8996                            2048     ;       ================================
 8997                            2049     
 8998                            2050     
 8999                            2051     ;       ===== R3~R2の範囲にR1がいれば正転===
 9000                            2052             DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R1,ANSREG=R0       ;
 9001 00000912 3233                   M           CMP/GE  R3,R2
 9002 00000914 8B16                   M           BF      JMP0100001
 9003                                 M   ;       === 0度をはさなまい===
 9004 00000916 200A                   M           XOR     R0,R0
 9005 00000918 3133                   M           CMP/GE  R3,R1           ;
 9006 0000091A 8B19                   M           BF      JMP0200001                      ; PV<SV1
 9007 0000091C 3213                   M           CMP/GE  R1,R2           ;
 9008 0000091E 8B17                   M           BF      JMP0200001                      ; SV2<PV2 (1)
 9009 00000920 E001                   M           MOV     #1,R0           ;
 9010                                 M           M_BRA   JMP0200001                      ;
 9011 00000922 A015                   M           BRA     JMP0200001
 9012 00000924 0009                   M           NOP
 9013                                 M   
 9014                                 M   ;       ==== ０度をはさむ====
 9015                                 M   ***** BEGIN-POOL *****
 9016 00000926 0000                   M   ALIGNMENT CODE
 9017 00000928 00000000               M   DATA FOR SOURCE-LINE 2008
 9018 0000092C 00000000               M   DATA FOR SOURCE-LINE 2011
 9019 00000930 00000000               M   DATA FOR SOURCE-LINE 2013
 9020 00000934 00000000               M   DATA FOR SOURCE-LINE 2016
 9021 00000938 00000000               M   DATA FOR SOURCE-LINE 2035
 9022 0000093C 00000000               M   DATA FOR SOURCE-LINE 2038
 9023 00000940 00000000               M   DATA FOR SOURCE-LINE 2044
 9024                                 M   ***** END-POOL *****
 9025 00000944                        M   JMP0100001:
 9026 00000944 E001                   M           MOV     #1,R0
 9027 00000946 3133                   M           CMP/GE  R3,R1
 9028 00000948 8902                   M           BT      JMP0200001                      ;SV1=<PV=<360
 9029 0000094A 3213                   M           CMP/GE  R1,R2           ;
 9030 0000094C 8900                   M           BT      JMP0200001                      ;
 9031 0000094E 200A                   M           XOR     R0,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    52
PROGRAM NAME =

 9032 00000950                        M   JMP0200001:
 9033 00000950 233A              2053             XOR     R3,R3
 9034 00000952 2008              2054             TST     R0,R0
 9035                            2055             TST_BIT_ON LINK_UPPLS_A_OBJMK1_150              ;
 9036 00000954 8B00                   M           BF      LINK_UPPLS_A_OBJMK1_150
 9037 00000956                   2056     LINK_UPPLS_A_OBJMK1_145:                                ;R2
 9038 00000956 E3FF              2057             MOV     #-1,R3
 9039 00000958                   2058     LINK_UPPLS_A_OBJMK1_150:                                ;R2
 9040                            2059     
 9041 00000958 2338              2060             TST     R3,R3                                   ;正転
 9042                            2061             TST_BIT_ON LINK_UPPLS_A_OBJMK1_300              ;逆転 JUMP
 9043 0000095A 8B0D                   M           BF      LINK_UPPLS_A_OBJMK1_300
 9044                            2062     ;       ==== 正転方向でいく ====
 9045 0000095C 3218              2063             SUB     R1,R2                                   ;
 9046 0000095E 4211              2064             CMP/PZ  R2
 9047 00000960 8915              2065             BT      LINK_UPPLS_A_OBJMK1_500                 ;R2 >= 0(R2は符号付距離)
 9048 00000962 D504              2066             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9049 00000964 6452              2067             MOV.L   @R5,R4                                  ;
 9050 00000966 324C              2068             ADD     R4,R2                                   ;
 9051 00000968 4211              2069             CMP/PZ  R2
 9052 0000096A 8910              2070             BT      LINK_UPPLS_A_OBJMK1_500         ;
 9053 0000096C 222A              2071             XOR     R2,R2                                   ;
 9054                            2072             M_BRA   LINK_UPPLS_A_OBJMK1_500                 ;
 9055 0000096E A00E                   M           BRA     LINK_UPPLS_A_OBJMK1_500
 9056 00000970 0009                   M           NOP
 9057                            2073     
 9058                                     ***** BEGIN-POOL *****
 9059 00000972 0000                       ALIGNMENT CODE
 9060 00000974 00000000                   DATA FOR SOURCE-LINE 2066
 9061                                     ***** END-POOL *****
 9062 00000978                   2074     LINK_UPPLS_A_OBJMK1_300:                                ;R2
 9063 00000978 3218              2075             SUB     R1,R2                                   ;300-270
 9064 0000097A 622B              2076             NEG     R2,R2                                   ;
 9065 0000097C 4211              2077             CMP/PZ  R2
 9066 0000097E 8905              2078             BT      LINK_UPPLS_A_OBJMK1_400                 ;R2 >= 0(R2は符号付距離)
 9067 00000980 D514              2079             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9068 00000982 6452              2080             MOV.L   @R5,R4                                  ;
 9069 00000984 324C              2081             ADD     R4,R2                                   ;
 9070 00000986 4211              2082             CMP/PZ  R2
 9071 00000988 8900              2083             BT      LINK_UPPLS_A_OBJMK1_400         ;
 9072 0000098A 222A              2084             XOR     R2,R2                                   ;
 9073 0000098C                   2085     LINK_UPPLS_A_OBJMK1_400:                                ;
 9074 0000098C 622B              2086             NEG     R2,R2                                   ;
 9075 0000098E                   2087     LINK_UPPLS_A_OBJMK1_500:                                ;
 9076 0000098E 255A              2088             XOR     R5,R5
 9077 00000990 6623              2089             MOV     R2,R6                                   ;
 9078 00000992 4211              2090             CMP/PZ  R2                                      ;
 9079 00000994 8900              2091             BT      LINK_UPPLS_A_OBJMK1_600                 ;
 9080 00000996 E5FF              2092             MOV     #-1,R5                                  ;
 9081 00000998                   2093     LINK_UPPLS_A_OBJMK1_600:                                ;
 9082                            2094     
 9083                            2095     
 9084 00000998 D40F              2096             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;//ﾘｱﾙﾀｲﾑ目標絶対
                                          位置(ﾊﾞｯｸﾗｯｼなし)       ;
 9085 0000099A 6146              2097             MOV.L   @R4+,R1                                                 ;
 9086 0000099C 6242              2098             MOV.L   @R4,R2                                                  ;
 9087                            2099             PUSH_REG1 R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    53
PROGRAM NAME =

 9088 0000099E 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 9089                                 M                                           ;REG=>[SP]
 9090                                 M                                           ;"-4" FF,FF,FF,FC
 9091                            2100             PUSH_REG1 R2
 9092 000009A0 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 9093                                 M                                           ;REG=>[SP]
 9094                                 M                                           ;"-4" FF,FF,FF,FC
 9095                            2101             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 9096 000009A2 0008                   M           CLRT
 9097 000009A4 326E                   M           ADDC    R6,R2
 9098 000009A6 315E                   M           ADDC    R5,R1
 9099                            2102     
 9100 000009A8 D40C              2103             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 9101 000009AA 2412              2104             MOV.L   R1,@R4                                          ;
 9102 000009AC 1421              2105             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 9103                            2106             POP_REG1 R6
 9104                                 M                                   ; RE"+4" 00,00,00,04
 9105 000009AE 66F6                   M           MOV.L   @R15+,R6        ;
 9106                            2107             POP_REG1 R5
 9107                                 M                                   ; RE"+4" 00,00,00,04
 9108 000009B0 65F6                   M           MOV.L   @R15+,R5        ;
 9109                            2108             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 9110 000009B2 0008                   M           CLRT
 9111 000009B4 326A                   M           SUBC    R6,R2
 9112 000009B6 315A                   M           SUBC    R5,R1
 9113 000009B8 233A              2109             XOR     R3,R3
 9114 000009BA 4111              2110             CMP/PZ  R1                              ;+
 9115 000009BC 8900              2111             BT      LINK_UPPLS_A_OBJMK1_700         ;
 9116 000009BE E301              2112             MOV     #BIT0,R3
 9117 000009C0                   2113     LINK_UPPLS_A_OBJMK1_700:                                ;
 9118 000009C0 D107              2114             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 9119 000009C2 2131              2115             MOV.W   R3,@R1                          ;
 9120                            2116     
 9121 000009C4 D107              2117             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 9122 000009C6 6011              2118             MOV.W   @R1,R0                  ;
 9123 000009C8 C9FE              2119             AND     #LOW ~BIT0,R0           ;
 9124 000009CA 203B              2120             OR      R3,R0                   ;
 9125 000009CC 2101              2121             MOV.W   R0,@R1                  ;
 9126                            2122     
 9127                            2123             SUB_END
 9128                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9129 000009CE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9130                            2124             M_RTS
 9131 000009D0 000B                   M           RTS                             ;RTSの後ろの
 9132 000009D2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9133                            2125     
 9134                            2126     
 9135                            2127     ;       ***************************************************
 9136                            2128     ;       ***                                             ***
 9137                            2129     ;       ***     １回目の目標位置+6.0を目指す            ***
 9138                            2130     ;       ***                                             ***
 9139                            2131     ;       ***************************************************
 9140                                     ***** BEGIN-POOL *****
 9141 000009D4 00000000                   DATA FOR SOURCE-LINE 2079
 9142 000009D8 00000000                   DATA FOR SOURCE-LINE 2096
 9143 000009DC 00000000                   DATA FOR SOURCE-LINE 2103
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    54
PROGRAM NAME =

 9144 000009E0 00000000                   DATA FOR SOURCE-LINE 2114
 9145 000009E4 00000000                   DATA FOR SOURCE-LINE 2117
 9146                                     ***** END-POOL *****
 9147 000009E8                   2132             .ALIGN  4                               ;
 9148 000009E8                   2133     _LINK_UPPLS_A_OBJMAK2:
 9149                            2134             SUB_START
 9150 000009E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9151                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9152                            2135             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
 9153 000009EA D013                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9154 000009EC 400B                   M           JSR     @R0                     ;
 9155 000009EE 0009                   M           NOP                                     ;
 9156                            2136     
 9157 000009F0 D412              2137             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 9158 000009F2 6142              2138             MOV.L   @R4,R1                                          ;
 9159 000009F4 5241              2139             MOV.L   @(1*4,R4),R2                                    ;目標位置ｾｯﾄ
 9160 000009F6 D412              2140             MOV.L   #_ORG_SECOND_OBJPLS,R4                          ;
 9161 000009F8 6642              2141             MOV.L   @R4,R6                                          ;
 9162 000009FA 255A              2142             XOR     R5,R5                                           ;
 9163 000009FC 4611              2143             CMP/PZ  R6
 9164 000009FE 8900              2144             BT      LINK_UPPLS_A_OBJMK2_030                         ;あり得ない
 9165 00000A00 75FF              2145             ADD     #-1,R5                                          ;
 9166 00000A02                   2146     LINK_UPPLS_A_OBJMK2_030:                                                ;
 9167                            2147             FAR_JSR #_ADDR56_R12_ANS_R12_LIMIT_MAX_MIN,R0           ;
 9168 00000A02 D010                   M           MOV.L   #_ADDR56_R12_ANS_R12_LIMIT_MAX_MIN,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9169 00000A04 400B                   M           JSR     @R0                     ;
 9170 00000A06 0009                   M           NOP                                     ;
 9171                            2148     
 9172 00000A08 D40C              2149             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 9173 00000A0A 2412              2150             MOV.L   R1,@R4                                          ;
 9174 00000A0C 1421              2151             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 9175                            2152     
 9176 00000A0E D40E              2153             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)       ;
 9177 00000A10 6546              2154             MOV.L   @R4+,R5                                                         ;
 9178 00000A12 6642              2155             MOV.L   @R4,R6                                                          ;
 9179                            2156             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 9180 00000A14 0008                   M           CLRT
 9181 00000A16 326A                   M           SUBC    R6,R2
 9182 00000A18 315A                   M           SUBC    R5,R1
 9183 00000A1A 233A              2157             XOR     R3,R3
 9184 00000A1C 4111              2158             CMP/PZ  R1                              ;
 9185 00000A1E 8900              2159             BT      LINK_UPPLS_A_OBJMK2_050         ;
 9186 00000A20 E301              2160             MOV     #BIT0,R3                        ;
 9187 00000A22                   2161     LINK_UPPLS_A_OBJMK2_050:                                ;
 9188 00000A22 D10A              2162             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 9189 00000A24 2131              2163             MOV.W   R3,@R1                          ;
 9190                            2164     
 9191 00000A26 D10A              2165             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 9192 00000A28 6011              2166             MOV.W   @R1,R0                  ;
 9193 00000A2A C9FE              2167             AND     #LOW ~BIT0,R0           ;
 9194 00000A2C 203B              2168             OR      R3,R0                   ;
 9195 00000A2E 2101              2169             MOV.W   R0,@R1                  ;
 9196                            2170     
 9197                            2171             SUB_END
 9198                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    55
PROGRAM NAME =

 9199 00000A30 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9200                            2172             M_RTS
 9201 00000A32 000B                   M           RTS                             ;RTSの後ろの
 9202 00000A34 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9203                            2173     
 9204                            2174     ;       ***************************************************
 9205                            2175     ;       ***                                             ***
 9206                            2176     ;       ***     今の回転上の待機点を目指す              ***
 9207                            2177     ;       ***     本当は正転する待機点を目指す            ***
 9208                            2178     ;       ***************************************************
 9209                            2179     ;       ｱﾙｺﾞﾘｽﾞﾑ:今の回転の待機点が負方向なら、１回転した待機点に変更し、
 9210                            2180     ;
 9211                                     ***** BEGIN-POOL *****
 9212 00000A36 0000                       ALIGNMENT CODE
 9213 00000A38 00000000                   DATA FOR SOURCE-LINE 2135
 9214 00000A3C 00000000                   DATA FOR SOURCE-LINE 2137,2149
 9215 00000A40 00000000                   DATA FOR SOURCE-LINE 2140
 9216 00000A44 00000000                   DATA FOR SOURCE-LINE 2147
 9217 00000A48 00000000                   DATA FOR SOURCE-LINE 2153
 9218 00000A4C 00000000                   DATA FOR SOURCE-LINE 2162
 9219 00000A50 00000000                   DATA FOR SOURCE-LINE 2165
 9220                                     ***** END-POOL *****
 9221 00000A54                   2181             .ALIGN  4                               ;
 9222 00000A54                   2182     _LINK_UPPLS_A_OBJMAK3:
 9223                            2183             SUB_START
 9224 00000A54 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9225                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9226                            2184     
 9227                            2185     
 9228                            2186             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;20060919
 9229 00000A56 D009                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9230 00000A58 400B                   M           JSR     @R0                     ;
 9231 00000A5A 0009                   M           NOP                                     ;
 9232                            2187     
 9233                            2188     
 9234                            2189             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 9235 00000A5C D008                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9236 00000A5E 400B                   M           JSR     @R0                     ;
 9237 00000A60 0009                   M           NOP                                     ;
 9238                            2190     
 9239                            2191     ;       ----------- 2014-09-18 -----------------
 9240                            2192             FAR_JSR #_LINK_UPPLS_OBJ_SELECT1,R0             ;
 9241 00000A62 D008                   M           MOV.L   #_LINK_UPPLS_OBJ_SELECT1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9242 00000A64 400B                   M           JSR     @R0                     ;
 9243 00000A66 0009                   M           NOP                                     ;
 9244                            2193     
 9245                            2194     
 9246                            2195     ;;2014-09-18　SELECT1へ移動;    -------2012-10-19 別目的　ふりこ退避
 9247                            2196     ;;2014-09-18　SELECT1へ移動     MOV.L   #_CB_SEQ_CB_COM349,R1           ;
 9248                            2197     ;;2014-09-18　SELECT1へ移動     MOV.W   @R1,R0                          ;
 9249                            2198     ;;2014-09-18　SELECT1へ移動     TST     #BIT5,R0                        ;
 9250                            2199     ;;2014-09-18　SELECT1へ移動     TST_BIT_OF LINK_UPPLS_A_OBJMK3_050      ;R2
 9251                            2200     ;;2014-09-18　SELECT1へ移動
 9252                            2201     ;;2014-09-18　SELECT1へ移動     MOV.L   #_WPARX_ELSE_ORGPLS,R0                  ;//4;好き
                                          なとこ
 9253                            2202     ;;2014-09-18　SELECT1へ移動     MOV.L   @R0,R2                                  ;
 9254                            2203     ;;2014-09-18　SELECT1へ移動     M_BRA   LINK_UPPLS_A_OBJMK3_110B                ;R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    56
PROGRAM NAME =

 9255                            2204     ;;2014-09-18　SELECT1へ移動
 9256                            2205     ;;2014-09-18　SELECT1へ移動LINK_UPPLS_A_OBJMK3_050:
 9257                            2206     ;;2014-09-18　SELECT1へ移動;    -----------------------------
 9258                            2207     ;;2014-09-18　SELECT1へ移動
 9259                            2208     ;;2014-09-18　SELECT1へ移動     MOV.L   #_BRKTST_SW_IN,R1               ;制動試験
 9260                            2209     ;;2014-09-18　SELECT1へ移動     MOV.W   @R1,R0                          ;
 9261                            2210     ;;2014-09-18　SELECT1へ移動     TST     #BIT0,R0                        ;
 9262                            2211     ;;2014-09-18　SELECT1へ移動     TST_BIT_OF LINK_UPPLS_A_OBJMK3_100A     ;R2
 9263                            2212     ;;2014-09-18　SELECT1へ移動
 9264                            2213     ;;2014-09-18　SELECT1へ移動     MOV.L   #_WPARX_BRKTST_ORGPLS,R0                ;//4;待機
                                          点X
 9265                            2214     ;;2014-09-18　SELECT1へ移動     MOV.L   @R0,R2                                  ;
 9266                            2215     ;;2014-09-18　SELECT1へ移動     M_BRA   LINK_UPPLS_A_OBJMK3_110B                ;R2
 9267                            2216     ;;2014-09-18　SELECT1へ移動
 9268                            2217     ;;2014-09-18　SELECT1へ移動
 9269                            2218     ;;2014-09-18　SELECT1へ移動;    === 目標角度 ====
 9270                            2219     ;;2014-09-18　SELECT1へ移動LINK_UPPLS_A_OBJMK3_100A:                            ;R2
 9271                            2220     ;;2014-09-18　SELECT1へ移動     MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機
                                          点
 9272                            2221     ;;2014-09-18　SELECT1へ移動     MOV.L   @R0,R2                                  ;
 9273                            2222     ;;2014-09-18　SELECT1へ移動LINK_UPPLS_A_OBJMK3_110B:                            ;R2
 9274                            2223     ;;;2011-05-11   MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 9275                            2224     ;;;2011-05-11   MOV.L   @R0,R2                                  ;
 9276                            2225     
 9277                            2226     
 9278                            2227     ;       ===========2008-04-28 =======
 9279 00000A68 D007              2228             MOV.L   #_ORIGN_180ARA_FLG,R0                   ;
 9280 00000A6A 6001              2229             MOV.W   @R0,R0                                  ;
 9281 00000A6C C920              2230             AND     #BIT5,R0                                ;
 9282                            2231     
 9283                            2232             FAR_JSR #_UPPLS1_OBJMAK_COMMON,R4               ;input R2(目標),R0=0(自動判別) R0!
                                          =0(BIT5=1)逆転固定
 9284 00000A6E D407                   M           MOV.L   #_UPPLS1_OBJMAK_COMMON,R4               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9285 00000A70 440B                   M           JSR     @R4                     ;
 9286 00000A72 0009                   M           NOP                                     ;
 9287                            2233     
 9288                            2234             SUB_END
 9289                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9290 00000A74 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9291                            2235             M_RTS
 9292 00000A76 000B                   M           RTS                             ;RTSの後ろの
 9293 00000A78 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9294                            2236     
 9295                            2237     
 9296                            2238     
 9297                            2239     ;       *******************************************
 9298                            2240     ;       ***                                     ***
 9299                            2241     ;       ***     待機点位置決めの目標位置選択    ***
 9300                            2242     ;       ***                                     ***
 9301                            2243     ;       *******************************************
 9302                            2244     ;       2014-09-18 ｻﾌﾞﾙｰﾁﾝ化しただけ
 9303                            2245     ;
 9304                            2246     ;       ANS R0=0:強制書き換え無し R2=待機点
 9305                            2247     ;       ANS R0=1:強制書き換え有り R2=変更目標
 9306                            2248     ;
 9307                            2249     ;
 9308                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    57
PROGRAM NAME =

 9309 00000A7A 0000                       ALIGNMENT CODE
 9310 00000A7C 00000000                   DATA FOR SOURCE-LINE 2186
 9311 00000A80 00000000                   DATA FOR SOURCE-LINE 2189
 9312 00000A84 00000000                   DATA FOR SOURCE-LINE 2192
 9313 00000A88 00000000                   DATA FOR SOURCE-LINE 2228
 9314 00000A8C 00000000                   DATA FOR SOURCE-LINE 2232
 9315                                     ***** END-POOL *****
 9316 00000A90                   2250     _LINK_UPPLS_OBJ_SELECT1
 9317                            2251             SUB_START
 9318 00000A90 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9319                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9320                            2252     
 9321                            2253     ;       -------2012-10-19 別目的　ふりこ退避
 9322 00000A92 D104              2254             MOV.L   #_CB_SEQ_CB_COM349,R1           ;
 9323 00000A94 6011              2255             MOV.W   @R1,R0                          ;
 9324 00000A96 C820              2256             TST     #BIT5,R0                        ;
 9325                            2257             TST_BIT_OF LINK_UPPLS_OBJ_SEL_050       ;R2
 9326 00000A98 8908                   M           BT      LINK_UPPLS_OBJ_SEL_050
 9327                            2258     
 9328 00000A9A D003              2259             MOV.L   #_WPARX_ELSE_ORGPLS,R0                  ;//4;好きなとこ
 9329 00000A9C 6202              2260             MOV.L   @R0,R2                                  ;
 9330                            2261             M_BRA   LINK_UPPLS_OBJ_SEL_110B         ;R2
 9331 00000A9E A019                   M           BRA     LINK_UPPLS_OBJ_SEL_110B
 9332 00000AA0 0009                   M           NOP
 9333                            2262     
 9334                                     ***** BEGIN-POOL *****
 9335 00000AA2 0000                       ALIGNMENT CODE
 9336 00000AA4 00000000                   DATA FOR SOURCE-LINE 2254
 9337 00000AA8 00000000                   DATA FOR SOURCE-LINE 2259
 9338                                     ***** END-POOL *****
 9339 00000AAC                   2263     LINK_UPPLS_OBJ_SEL_050:
 9340                            2264     ;       -----------------------------
 9341                            2265     
 9342 00000AAC D103              2266             MOV.L   #_BRKTST_SW_IN,R1               ;制動試験
 9343 00000AAE 6011              2267             MOV.W   @R1,R0                          ;
 9344 00000AB0 C801              2268             TST     #BIT0,R0                        ;
 9345                            2269             TST_BIT_OF LINK_UPPLS_OBJ_SEL_100A      ;R2
 9346 00000AB2 8907                   M           BT      LINK_UPPLS_OBJ_SEL_100A
 9347                            2270     
 9348 00000AB4 D002              2271             MOV.L   #_WPARX_BRKTST_ORGPLS,R0                ;//4;待機点X
 9349 00000AB6 6202              2272             MOV.L   @R0,R2                                  ;
 9350                            2273             M_BRA   LINK_UPPLS_OBJ_SEL_110B         ;R2
 9351 00000AB8 A00C                   M           BRA     LINK_UPPLS_OBJ_SEL_110B
 9352 00000ABA 0009                   M           NOP
 9353                            2274     
 9354                            2275     
 9355                            2276     ;       === 目標角度(通常の待機点) ====
 9356                                     ***** BEGIN-POOL *****
 9357 00000ABC 00000000                   DATA FOR SOURCE-LINE 2266
 9358 00000AC0 00000000                   DATA FOR SOURCE-LINE 2271
 9359                                     ***** END-POOL *****
 9360 00000AC4                   2277     LINK_UPPLS_OBJ_SEL_100A:                                ;R2
 9361 00000AC4 D002              2278             MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 9362 00000AC6 6202              2279             MOV.L   @R0,R2                                  ;
 9363 00000AC8 200A              2280             XOR     R0,R0                                   ;強制書換無し
 9364                            2281             M_BRA   LINK_UPPLS_OBJ_SEL_END                  ;
 9365 00000ACA A004                   M           BRA     LINK_UPPLS_OBJ_SEL_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    58
PROGRAM NAME =

 9366 00000ACC 0009                   M           NOP
 9367                            2282     
 9368                                     ***** BEGIN-POOL *****
 9369 00000ACE 0000                       ALIGNMENT CODE
 9370 00000AD0 00000000                   DATA FOR SOURCE-LINE 2278
 9371                                     ***** END-POOL *****
 9372 00000AD4                   2283     LINK_UPPLS_OBJ_SEL_110B:                                ;
 9373 00000AD4 E0FF              2284             MOV.B   #-1,R0                                  ;強制書換有り
 9374                            2285     
 9375 00000AD6                   2286     LINK_UPPLS_OBJ_SEL_END:                         ;R2
 9376                            2287     
 9377                            2288             SUB_END
 9378                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9379 00000AD6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9380                            2289             M_RTS
 9381 00000AD8 000B                   M           RTS                             ;RTSの後ろの
 9382 00000ADA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9383                            2290     
 9384                            2291     
 9385                            2292     
 9386                            2293     
 9387                            2294     ;       ***************************************************
 9388                            2295     ;       ***                                             ***
 9389                            2296     ;       ***     待機位置決めの方向判別＋目標＋方向      ***
 9390                            2297     ;       ***     R2:目標位置ｵﾌｾｯﾄﾊﾟﾙｽ相当の角度          ***
 9391                            2298     ;       ***     R0=0自動判別　R0=BIT5逆転固定           ***
 9392                            2299     ;       ***                                             ***
 9393                            2300     ;       ***************************************************
 9394                            2301     ;
 9395                            2302     ;input R2(目標),R0=0(自動判別) R0!=0(BIT5=1)逆転固定
 9396                            2303     
 9397                            2304     
 9398 00000ADC                   2305     _UPPLS1_OBJMAK_COMMON:
 9399                            2306             SUB_START
 9400 00000ADC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9401                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9402                            2307     
 9403 00000ADE D408              2308             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 9404 00000AE0 6142              2309             MOV.L   @R4,R1                                  ;現在 ***.* pls
 9405                            2310                                                             ;目標 ***.* pls
 9406 00000AE2 D408              2311             MOV.L   #_SETX_UPDN_CHK_DN_PLS,R4               ;180.0pls(下死点角度 180.0)
 9407 00000AE4 6342              2312             MOV.L   @R4,R3                                  ;
 9408                            2313     
 9409                            2314     
 9410                            2315     ;;;;    TST     #BIT5,R0                        ;
 9411 00000AE6 2008              2316             TST     R0,R0                           ;
 9412                            2317             TST_BIT_ON UPPLS1_OBJMAK_COM_145        ;逆転固定(1回起動した場合は0になるのでｻｰﾁ
                                          完了時は0)
 9413 00000AE8 8B17                   M           BF      UPPLS1_OBJMAK_COM_145
 9414                            2318     
 9415                            2319     ;       ===== R3[下死点]~R2[待機点]の範囲にR1がいれば正転===
 9416                            2320             DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R1,ANSREG=R0       ;
 9417 00000AEA 3233                   M           CMP/GE  R3,R2
 9418 00000AEC 8B0C                   M           BF      JMP0100002
 9419                                 M   ;       === 0度をはさなまい===
 9420 00000AEE 200A                   M           XOR     R0,R0
 9421 00000AF0 3133                   M           CMP/GE  R3,R1           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    59
PROGRAM NAME =

 9422 00000AF2 8B0F                   M           BF      JMP0200002                      ; PV<SV1
 9423 00000AF4 3213                   M           CMP/GE  R1,R2           ;
 9424 00000AF6 8B0D                   M           BF      JMP0200002                      ; SV2<PV2 (1)
 9425 00000AF8 E001                   M           MOV     #1,R0           ;
 9426                                 M           M_BRA   JMP0200002                      ;
 9427 00000AFA A00B                   M           BRA     JMP0200002
 9428 00000AFC 0009                   M           NOP
 9429                                 M   
 9430                                 M   ;       ==== ０度をはさむ====
 9431                                 M   ***** BEGIN-POOL *****
 9432 00000AFE 0000                   M   ALIGNMENT CODE
 9433 00000B00 00000000               M   DATA FOR SOURCE-LINE 2308
 9434 00000B04 00000000               M   DATA FOR SOURCE-LINE 2311
 9435                                 M   ***** END-POOL *****
 9436 00000B08                        M   JMP0100002:
 9437 00000B08 E001                   M           MOV     #1,R0
 9438 00000B0A 3133                   M           CMP/GE  R3,R1
 9439 00000B0C 8902                   M           BT      JMP0200002                      ;SV1=<PV=<360
 9440 00000B0E 3213                   M           CMP/GE  R1,R2           ;
 9441 00000B10 8900                   M           BT      JMP0200002                      ;
 9442 00000B12 200A                   M           XOR     R0,R0           ;
 9443 00000B14                        M   JMP0200002:
 9444 00000B14 233A              2321             XOR     R3,R3
 9445 00000B16 2008              2322             TST     R0,R0
 9446                            2323             TST_BIT_ON UPPLS1_OBJMAK_COM_150                ;
 9447 00000B18 8B00                   M           BF      UPPLS1_OBJMAK_COM_150
 9448 00000B1A                   2324     UPPLS1_OBJMAK_COM_145:                          ;R2
 9449 00000B1A E3FF              2325             MOV     #-1,R3
 9450 00000B1C                   2326     UPPLS1_OBJMAK_COM_150:                          ;R2
 9451                            2327     
 9452 00000B1C 2338              2328             TST     R3,R3                                   ;正転
 9453                            2329             TST_BIT_ON UPPLS1_OBJMAK_COM_300                ;逆転 JUMP
 9454 00000B1E 8B0D                   M           BF      UPPLS1_OBJMAK_COM_300
 9455                            2330     ;       ==== 正転方向でいく ====
 9456 00000B20 3218              2331             SUB     R1,R2                                   ;
 9457 00000B22 4211              2332             CMP/PZ  R2
 9458 00000B24 8915              2333             BT      UPPLS1_OBJMAK_COM_500                   ;R2 >= 0(R2は符号付距離)
 9459 00000B26 D504              2334             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9460 00000B28 6452              2335             MOV.L   @R5,R4                                  ;
 9461 00000B2A 324C              2336             ADD     R4,R2                                   ;
 9462 00000B2C 4211              2337             CMP/PZ  R2
 9463 00000B2E 8910              2338             BT      UPPLS1_OBJMAK_COM_500           ;
 9464 00000B30 222A              2339             XOR     R2,R2                                   ;
 9465                            2340             M_BRA   UPPLS1_OBJMAK_COM_500                   ;
 9466 00000B32 A00E                   M           BRA     UPPLS1_OBJMAK_COM_500
 9467 00000B34 0009                   M           NOP
 9468                            2341     
 9469                                     ***** BEGIN-POOL *****
 9470 00000B36 0000                       ALIGNMENT CODE
 9471 00000B38 00000000                   DATA FOR SOURCE-LINE 2334
 9472                                     ***** END-POOL *****
 9473 00000B3C                   2342     UPPLS1_OBJMAK_COM_300:                          ;R2
 9474 00000B3C 3218              2343             SUB     R1,R2                                   ;300-270
 9475 00000B3E 622B              2344             NEG     R2,R2                                   ;
 9476 00000B40 4211              2345             CMP/PZ  R2
 9477 00000B42 8905              2346             BT      UPPLS1_OBJMAK_COM_400                   ;R2 >= 0(R2は符号付距離)
 9478 00000B44 D514              2347             MOV.L   #_LINK_1ROT_PLS,R5                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    60
PROGRAM NAME =

 9479 00000B46 6452              2348             MOV.L   @R5,R4                                  ;
 9480 00000B48 324C              2349             ADD     R4,R2                                   ;
 9481 00000B4A 4211              2350             CMP/PZ  R2
 9482 00000B4C 8900              2351             BT      UPPLS1_OBJMAK_COM_400                   ;
 9483 00000B4E 222A              2352             XOR     R2,R2                                   ;
 9484 00000B50                   2353     UPPLS1_OBJMAK_COM_400:                          ;
 9485 00000B50 622B              2354             NEG     R2,R2                                   ;
 9486 00000B52                   2355     UPPLS1_OBJMAK_COM_500:                          ;
 9487 00000B52 255A              2356             XOR     R5,R5                                   ;
 9488 00000B54 6623              2357             MOV     R2,R6                                   ;
 9489 00000B56 4211              2358             CMP/PZ  R2                                      ;
 9490 00000B58 8900              2359             BT      UPPLS1_OBJMAK_COM_600                   ;
 9491 00000B5A E5FF              2360             MOV     #-1,R5                                  ;
 9492 00000B5C                   2361     UPPLS1_OBJMAK_COM_600:                          ;
 9493                            2362     
 9494                            2363     
 9495 00000B5C D40F              2364             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;//ﾘｱﾙﾀｲﾑ目標絶対
                                          位置(ﾊﾞｯｸﾗｯｼなし)       ;
 9496 00000B5E 6146              2365             MOV.L   @R4+,R1                                                 ;
 9497 00000B60 6242              2366             MOV.L   @R4,R2                                                  ;
 9498                            2367             PUSH_REG1 R1
 9499 00000B62 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 9500                                 M                                           ;REG=>[SP]
 9501                                 M                                           ;"-4" FF,FF,FF,FC
 9502                            2368             PUSH_REG1 R2
 9503 00000B64 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 9504                                 M                                           ;REG=>[SP]
 9505                                 M                                           ;"-4" FF,FF,FF,FC
 9506                            2369             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 9507 00000B66 0008                   M           CLRT
 9508 00000B68 326E                   M           ADDC    R6,R2
 9509 00000B6A 315E                   M           ADDC    R5,R1
 9510                            2370     
 9511 00000B6C D40C              2371             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 9512 00000B6E 2412              2372             MOV.L   R1,@R4                                          ;
 9513 00000B70 1421              2373             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 9514                            2374             POP_REG1 R6
 9515                                 M                                   ; RE"+4" 00,00,00,04
 9516 00000B72 66F6                   M           MOV.L   @R15+,R6        ;
 9517                            2375             POP_REG1 R5
 9518                                 M                                   ; RE"+4" 00,00,00,04
 9519 00000B74 65F6                   M           MOV.L   @R15+,R5        ;
 9520                            2376     
 9521                            2377             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 9522 00000B76 0008                   M           CLRT
 9523 00000B78 326A                   M           SUBC    R6,R2
 9524 00000B7A 315A                   M           SUBC    R5,R1
 9525 00000B7C 233A              2378             XOR     R3,R3
 9526 00000B7E 4111              2379             CMP/PZ  R1                              ;
 9527 00000B80 8900              2380             BT      UPPLS1_OBJMAK_COM_750           ;
 9528 00000B82 E301              2381             MOV     #BIT0,R3                        ;
 9529 00000B84                   2382     UPPLS1_OBJMAK_COM_750:                          ;
 9530 00000B84 D107              2383             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 9531 00000B86 2131              2384             MOV.W   R3,@R1                          ;
 9532                            2385     
 9533 00000B88 D107              2386             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    61
PROGRAM NAME =

 9534 00000B8A 6011              2387             MOV.W   @R1,R0                  ;
 9535 00000B8C C9FE              2388             AND     #LOW ~BIT0,R0           ;
 9536 00000B8E 203B              2389             OR      R3,R0                   ;
 9537 00000B90 2101              2390             MOV.W   R0,@R1                  ;
 9538                            2391     
 9539                            2392             SUB_END
 9540                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9541 00000B92 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9542                            2393             M_RTS
 9543 00000B94 000B                   M           RTS                             ;RTSの後ろの
 9544 00000B96 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9545                            2394     
 9546                            2395     
 9547                            2396     
 9548                            2397     
 9549                            2398     ;       ***************************************************
 9550                            2399     ;       ***                                             ***
 9551                            2400     ;       ***     シーケンスによる運転方向の決定          ***
 9552                            2401     ;       ***                                             ***
 9553                            2402     ;       ***************************************************
 9554                            2403     ;       Input   R0 ==0 正転
 9555                            2404     ;               R0 !=0(BIT13)逆転
 9556                            2405     ;       2004-07-01
 9557                            2406     ;
 9558                                     ***** BEGIN-POOL *****
 9559 00000B98 00000000                   DATA FOR SOURCE-LINE 2347
 9560 00000B9C 00000000                   DATA FOR SOURCE-LINE 2364
 9561 00000BA0 00000000                   DATA FOR SOURCE-LINE 2371
 9562 00000BA4 00000000                   DATA FOR SOURCE-LINE 2383
 9563 00000BA8 00000000                   DATA FOR SOURCE-LINE 2386
 9564                                     ***** END-POOL *****
 9565 00000BAC                   2407             .ALIGN  4                               ;
 9566 00000BAC                   2408     _LINK_DIR_OBJMAK3:
 9567                            2409             SUB_START
 9568 00000BAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9569                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9570                            2410     
 9571                            2411             PUSH_REG1 R0
 9572 00000BAE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
 9573                                 M                                           ;REG=>[SP]
 9574                                 M                                           ;"-4" FF,FF,FF,FC
 9575                            2412     
 9576                            2413     
 9577                            2414             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
 9578 00000BB0 D00E                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9579 00000BB2 400B                   M           JSR     @R0                     ;
 9580 00000BB4 0009                   M           NOP                                     ;
 9581                            2415     
 9582                            2416             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 9583 00000BB6 D00E                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9584 00000BB8 400B                   M           JSR     @R0                     ;
 9585 00000BBA 0009                   M           NOP                                     ;
 9586                            2417     
 9587                            2418     ;       === 目標角度() ====
 9588 00000BBC D00D              2419             MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 9589 00000BBE 6202              2420             MOV.L   @R0,R2                                  ;
 9590 00000BC0 D40D              2421             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    62
PROGRAM NAME =

 9591 00000BC2 6142              2422             MOV.L   @R4,R1                                  ;現在 ***.* pls
 9592                            2423                                                             ;目標 ***.* pls
 9593                            2424     
 9594                            2425             POP_REG1 R0                                     ;
 9595                                 M                                   ; RE"+4" 00,00,00,04
 9596 00000BC4 60F6                   M           MOV.L   @R15+,R0        ;
 9597                            2426     
 9598 00000BC6 2008              2427             TST     R0,R0                                   ;
 9599                            2428             TST_BIT_ON LINK_DIR_OBJMK3_300                  ;
 9600 00000BC8 8B1C                   M           BF      LINK_DIR_OBJMK3_300
 9601                            2429     ;       ==== 正転方向でいく ====
 9602 00000BCA 3218              2430             SUB     R1,R2                                   ;
 9603 00000BCC 4211              2431             CMP/PZ  R2
 9604 00000BCE 8905              2432             BT      LINK_DIR_OBJMK3_250                             ;R2 >= 0(R2は符号付距離)
 9605 00000BD0 D50A              2433             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9606 00000BD2 6452              2434             MOV.L   @R5,R4                                  ;
 9607 00000BD4 324C              2435             ADD     R4,R2                                   ;
 9608 00000BD6 4211              2436             CMP/PZ  R2
 9609 00000BD8 8900              2437             BT      LINK_DIR_OBJMK3_250                     ;
 9610 00000BDA 222A              2438             XOR     R2,R2                                   ;
 9611 00000BDC                   2439     LINK_DIR_OBJMK3_250:                                    ;
 9612                            2440             FAR_JSR #_OBJ_NEAR_CHK1,R0                      ;ANS R0!=0 NEAR ZERO
 9613 00000BDC D008                   M           MOV.L   #_OBJ_NEAR_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9614 00000BDE 400B                   M           JSR     @R0                     ;
 9615 00000BE0 0009                   M           NOP                                     ;
 9616 00000BE2 2008              2441             TST     R0,R0                                   ;
 9617                            2442             TST_BIT_OF LINK_DIR_OBJMK3_280                  ;NOT NEAR ZERO JUMP
 9618 00000BE4 8900                   M           BT      LINK_DIR_OBJMK3_280
 9619 00000BE6 222A              2443             XOR     R2,R2                                   ;
 9620 00000BE8                   2444     LINK_DIR_OBJMK3_280:
 9621                            2445             M_BRA   LINK_DIR_OBJMK3_500                             ;
 9622 00000BE8 A01D                   M           BRA     LINK_DIR_OBJMK3_500
 9623 00000BEA 0009                   M           NOP
 9624                            2446     
 9625                            2447     ;       ====逆転方向でいく=====
 9626                                     ***** BEGIN-POOL *****
 9627 00000BEC 00000000                   DATA FOR SOURCE-LINE 2414
 9628 00000BF0 00000000                   DATA FOR SOURCE-LINE 2416
 9629 00000BF4 00000000                   DATA FOR SOURCE-LINE 2419
 9630 00000BF8 00000000                   DATA FOR SOURCE-LINE 2421
 9631 00000BFC 00000000                   DATA FOR SOURCE-LINE 2433
 9632 00000C00 00000000                   DATA FOR SOURCE-LINE 2440
 9633                                     ***** END-POOL *****
 9634 00000C04                   2448     LINK_DIR_OBJMK3_300:                                    ;R2
 9635 00000C04 3218              2449             SUB     R1,R2                                   ;
 9636 00000C06 622B              2450             NEG     R2,R2                                   ;
 9637 00000C08 4211              2451             CMP/PZ  R2                                      ;
 9638 00000C0A 8905              2452             BT      LINK_DIR_OBJMK3_400                             ;R2 >= 0(R2は符号付距離)
 9639 00000C0C D517              2453             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9640 00000C0E 6452              2454             MOV.L   @R5,R4                                  ;
 9641 00000C10 324C              2455             ADD     R4,R2                                   ;
 9642 00000C12 4211              2456             CMP/PZ  R2
 9643 00000C14 8900              2457             BT      LINK_DIR_OBJMK3_400                     ;
 9644 00000C16 222A              2458             XOR     R2,R2                                   ;
 9645 00000C18                   2459     LINK_DIR_OBJMK3_400:                                    ;R2 ≦NERA-ZERO or  1REV-NEAR≦R2
                                          なら R2=0とする
 9646                            2460     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    63
PROGRAM NAME =

 9647                            2461             FAR_JSR #_OBJ_NEAR_CHK1,R0                      ;ANS R0=0 NOT NEAR ZERO
 9648 00000C18 D015                   M           MOV.L   #_OBJ_NEAR_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9649 00000C1A 400B                   M           JSR     @R0                     ;
 9650 00000C1C 0009                   M           NOP                                     ;
 9651 00000C1E 2008              2462             TST     R0,R0                                   ;
 9652                            2463             TST_BIT_OF LINK_DIR_OBJMK3_450                  ;
 9653 00000C20 8900                   M           BT      LINK_DIR_OBJMK3_450
 9654 00000C22 222A              2464             XOR     R2,R2                                   ;
 9655 00000C24                   2465     LINK_DIR_OBJMK3_450:                                    ;
 9656                            2466     
 9657 00000C24 622B              2467             NEG     R2,R2                                   ;
 9658 00000C26                   2468     LINK_DIR_OBJMK3_500:                                    ;R2:+/-
 9659 00000C26 255A              2469             XOR     R5,R5                                   ;
 9660 00000C28 6623              2470             MOV     R2,R6                                   ;
 9661 00000C2A 4211              2471             CMP/PZ  R2                                      ;
 9662 00000C2C 8900              2472             BT      LINK_DIR_OBJMK3_600                     ;
 9663 00000C2E E5FF              2473             MOV     #-1,R5                                  ;
 9664 00000C30                   2474     LINK_DIR_OBJMK3_600:                                    ;
 9665                            2475     
 9666                            2476     
 9667 00000C30 D410              2477             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;//ﾘｱﾙﾀｲﾑ目標絶対
                                          位置(ﾊﾞｯｸﾗｯｼなし)       ;
 9668 00000C32 6146              2478             MOV.L   @R4+,R1                                                 ;
 9669 00000C34 6242              2479             MOV.L   @R4,R2                                                  ;
 9670                            2480             PUSH_REG1 R1
 9671 00000C36 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 9672                                 M                                           ;REG=>[SP]
 9673                                 M                                           ;"-4" FF,FF,FF,FC
 9674                            2481             PUSH_REG1 R2
 9675 00000C38 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 9676                                 M                                           ;REG=>[SP]
 9677                                 M                                           ;"-4" FF,FF,FF,FC
 9678                            2482             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 9679 00000C3A 0008                   M           CLRT
 9680 00000C3C 326E                   M           ADDC    R6,R2
 9681 00000C3E 315E                   M           ADDC    R5,R1
 9682 00000C40 D40D              2483             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 9683 00000C42 2412              2484             MOV.L   R1,@R4                                          ;
 9684 00000C44 1421              2485             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 9685                            2486             POP_REG1 R6
 9686                                 M                                   ; RE"+4" 00,00,00,04
 9687 00000C46 66F6                   M           MOV.L   @R15+,R6        ;
 9688                            2487             POP_REG1 R5
 9689                                 M                                   ; RE"+4" 00,00,00,04
 9690 00000C48 65F6                   M           MOV.L   @R15+,R5        ;
 9691                            2488     
 9692                            2489             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 9693 00000C4A 0008                   M           CLRT
 9694 00000C4C 326A                   M           SUBC    R6,R2
 9695 00000C4E 315A                   M           SUBC    R5,R1
 9696 00000C50 233A              2490             XOR     R3,R3
 9697 00000C52 4111              2491             CMP/PZ  R1                              ;
 9698 00000C54 8900              2492             BT      LINK_DIR_OBJMK3_750             ;
 9699 00000C56 E301              2493             MOV     #BIT0,R3                        ;
 9700 00000C58                   2494     LINK_DIR_OBJMK3_750:                            ;
 9701 00000C58 D108              2495             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    64
PROGRAM NAME =

 9702 00000C5A 2131              2496             MOV.W   R3,@R1                          ;
 9703                            2497     
 9704 00000C5C D108              2498             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 9705 00000C5E 6011              2499             MOV.W   @R1,R0                  ;
 9706 00000C60 C9FE              2500             AND     #LOW ~BIT0,R0           ;
 9707 00000C62 203B              2501             OR      R3,R0                   ;
 9708 00000C64 2101              2502             MOV.W   R0,@R1                  ;
 9709                            2503     
 9710                            2504             SUB_END
 9711                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9712 00000C66 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9713                            2505             M_RTS
 9714 00000C68 000B                   M           RTS                             ;RTSの後ろの
 9715 00000C6A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9716                            2506     
 9717                            2507     ;       ***************************************************
 9718                            2508     ;       ***                                             ***
 9719                            2509     ;       ***     今の回転上の待機点を目指す              ***
 9720                            2510     ;       ***     本当は正転する待機点を目指す            ***
 9721                            2511     ;       ***************************************************
 9722                            2512     ;       ｱﾙｺﾞﾘｽﾞﾑ:今の回転の待機点が負方向なら、１回転した待機点に変更し、
 9723                            2513     ;
 9724                                     ***** BEGIN-POOL *****
 9725 00000C6C 00000000                   DATA FOR SOURCE-LINE 2453
 9726 00000C70 00000000                   DATA FOR SOURCE-LINE 2461
 9727 00000C74 00000000                   DATA FOR SOURCE-LINE 2477
 9728 00000C78 00000000                   DATA FOR SOURCE-LINE 2483
 9729 00000C7C 00000000                   DATA FOR SOURCE-LINE 2495
 9730 00000C80 00000000                   DATA FOR SOURCE-LINE 2498
 9731                                     ***** END-POOL *****
 9732 00000C84                   2514             .ALIGN  4                               ;
 9733 00000C84                   2515     _LINK_UPPLS_DNDRIV:
 9734                            2516             SUB_START
 9735 00000C84 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9736                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9737                            2517     
 9738                            2518             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 9739 00000C86 D005                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9740 00000C88 400B                   M           JSR     @R0                     ;
 9741 00000C8A 0009                   M           NOP                                     ;
 9742                            2519     
 9743                            2520     ;       ----------- 2014-09-18 -----------------
 9744                            2521             FAR_JSR #_LINK_UPPLS_OBJ_SELECT1,R0             ;
 9745 00000C8C D004                   M           MOV.L   #_LINK_UPPLS_OBJ_SELECT1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9746 00000C8E 400B                   M           JSR     @R0                     ;
 9747 00000C90 0009                   M           NOP                                     ;
 9748 00000C92 2008              2522             TST     R0,R0                                   ;
 9749                            2523             TST_BIT_OF LINK_UPPLSDN_DRV050                  ;強制書き換えなし
 9750 00000C94 8906                   M           BT      LINK_UPPLSDN_DRV050
 9751                            2524             M_BRA   LINK_UPPLSDN_DRV130                     ;
 9752 00000C96 A01B                   M           BRA     LINK_UPPLSDN_DRV130
 9753 00000C98 0009                   M           NOP
 9754                            2525     
 9755                            2526     
 9756                                     ***** BEGIN-POOL *****
 9757 00000C9A 0000                       ALIGNMENT CODE
 9758 00000C9C 00000000                   DATA FOR SOURCE-LINE 2518
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    65
PROGRAM NAME =

 9759 00000CA0 00000000                   DATA FOR SOURCE-LINE 2521
 9760                                     ***** END-POOL *****
 9761 00000CA4                   2527     LINK_UPPLSDN_DRV050:
 9762                            2528             PUSH_REG1 R2                                    ;
 9763 00000CA4 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 9764                                 M                                           ;REG=>[SP]
 9765                                 M                                           ;"-4" FF,FF,FF,FC
 9766                            2529             FAR_JSR #_AREACHK_0DIG_TO_180,R0                ;ANS:R0
 9767 00000CA6 D007                   M           MOV.L   #_AREACHK_0DIG_TO_180,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9768 00000CA8 400B                   M           JSR     @R0                     ;
 9769 00000CAA 0009                   M           NOP                                     ;
 9770                            2530             POP_REG1 R2                                     ;R2;右側待機点
 9771                                 M                                   ; RE"+4" 00,00,00,04
 9772 00000CAC 62F6                   M           MOV.L   @R15+,R2        ;
 9773                            2531     
 9774 00000CAE 2008              2532             TST     R0,R0                                   ;
 9775                            2533             TST_BIT_ON LINK_UPPLSDN_DRV130                  ;0~180度：右半球
 9776 00000CB0 8B0E                   M           BF      LINK_UPPLSDN_DRV130
 9777                            2534     
 9778 00000CB2 D005              2535             MOV.L   #_ORIGN_180ARA_FLG,R0                   ;
 9779 00000CB4 6001              2536             MOV.W   @R0,R0                                  ;
 9780 00000CB6 C820              2537             TST     #BIT5,R0                                ;
 9781                            2538             TST_BIT_ON LINK_UPPLSDN_DRV130                  ;181~182度：右半球
 9782 00000CB8 8B0A                   M           BF      LINK_UPPLSDN_DRV130
 9783                            2539     
 9784                            2540     
 9785 00000CBA D004              2541             MOV.L   #_DNM_SETX_UPAREA_PLS,R0                ;//4;左半球待機点
 9786 00000CBC 6202              2542             MOV.L   @R0,R2                                  ;
 9787                            2543             M_BRA   LINK_UPPLSDN_DRV130                     ;
 9788 00000CBE A007                   M           BRA     LINK_UPPLSDN_DRV130
 9789 00000CC0 0009                   M           NOP
 9790                            2544     
 9791                            2545     
 9792                            2546     ;       --------------- INPUT:R2----------
 9793                                     ***** BEGIN-POOL *****
 9794 00000CC2 0000                       ALIGNMENT CODE
 9795 00000CC4 00000000                   DATA FOR SOURCE-LINE 2529
 9796 00000CC8 00000000                   DATA FOR SOURCE-LINE 2535
 9797 00000CCC 00000000                   DATA FOR SOURCE-LINE 2541
 9798                                     ***** END-POOL *****
 9799 00000CD0                   2547     LINK_UPPLSDN_DRV130:
 9800 00000CD0 200A              2548             XOR     R0,R0                                   ;
 9801                            2549             M_BRA   LINK_UPPLSDN_DRV140
 9802 00000CD2 A001                   M           BRA     LINK_UPPLSDN_DRV140
 9803 00000CD4 0009                   M           NOP
 9804 00000CD6                   2550     LINK_UPPLSDN_DRV135:
 9805 00000CD6 E020              2551             MOV.B   #BIT5,R0                                ;
 9806                            2552     
 9807 00000CD8                   2553     LINK_UPPLSDN_DRV140:
 9808                            2554     
 9809                            2555             FAR_JSR #_UPPLS1_OBJMAK_COMMON,R4
 9810 00000CD8 D402                   M           MOV.L   #_UPPLS1_OBJMAK_COMMON,R4               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9811 00000CDA 440B                   M           JSR     @R4                     ;
 9812 00000CDC 0009                   M           NOP                                     ;
 9813                            2556     
 9814                            2557     
 9815                            2558             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    66
PROGRAM NAME =

 9816                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9817 00000CDE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9818                            2559             M_RTS
 9819 00000CE0 000B                   M           RTS                             ;RTSの後ろの
 9820 00000CE2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9821                            2560     
 9822                            2561     
 9823                                     ***** BEGIN-POOL *****
 9824 00000CE4 00000000                   DATA FOR SOURCE-LINE 2555
 9825                                     ***** END-POOL *****
 9826 00000CE8                   2562     _AREACHK_0DIG_TO_180:
 9827                            2563             SUB_START
 9828 00000CE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9829                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9830                            2564     
 9831 00000CEA D006              2565             MOV.L   #_SET1_UPAREA_DIG1,R0
 9832 00000CEC 6101              2566             MOV.W   @R0,R1                  ;0度相当
 9833                            2567     
 9834 00000CEE D006              2568             MOV.L   #_INC_ENC360,R0         ;ｸﾗﾝｸ変換前角度
 9835 00000CF0 6201              2569             MOV.W   @R0,R2                  ;
 9836                            2570     
 9837 00000CF2 9305              2571             MOV.W   #_UPDN_DIRJG_DIG,R3     ;
 9838                            2572     
 9839                            2573             FAR_JSR #_DIG_AREA_CHK0,R0      ;R1<= R2 <= R3 THEN R0=1
 9840 00000CF4 D005                   M           MOV.L   #_DIG_AREA_CHK0,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9841 00000CF6 400B                   M           JSR     @R0                     ;
 9842 00000CF8 0009                   M           NOP                                     ;
 9843                            2574     
 9844                            2575     
 9845                            2576             SUB_END
 9846                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9847 00000CFA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9848                            2577             M_RTS
 9849 00000CFC 000B                   M           RTS                             ;RTSの後ろの
 9850 00000CFE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9851                            2578     
 9852                            2579     
 9853                            2580     ;       ***********************************
 9854                            2581     ;       ***                             ***
 9855                            2582     ;       ***     R2：移動距離            ***
 9856                            2583     ;       ***                             ***
 9857                            2584     ;       ***********************************
 9858                            2585     ;       ANS R0
 9859                            2586     ;       MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9860                            2587     ;       MOV.L   @R5,R4                                  ;
 9861                            2588     ;LINK_DIR_OBJMK3_400:                                   ;
 9862                            2589     ;       R2 ≦NEAR(1)  or  1REV-NEAR≦R2(-1)
 9863                            2590     ;       NEAR<R2<1REV-NEAR THEN R0=0
 9864                            2591     
 9865                                     ***** BEGIN-POOL *****
 9866 00000D00 0708                       DATA FOR SOURCE-LINE 2571
 9867 00000D02 0000                       ALIGNMENT CODE
 9868 00000D04 00000000                   DATA FOR SOURCE-LINE 2565
 9869 00000D08 00000000                   DATA FOR SOURCE-LINE 2568
 9870 00000D0C 00000000                   DATA FOR SOURCE-LINE 2573
 9871                                     ***** END-POOL *****
 9872 00000D10                   2592             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    67
PROGRAM NAME =

 9873 00000D10                   2593     _OBJ_NEAR_CHK1:
 9874                            2594             SUB_START
 9875 00000D10 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9876                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9877 00000D12 200A              2595             XOR     R0,R0
 9878 00000D14 D505              2596             MOV.L   #_SET1_OBJARA_INPXPLS,R5                ;
 9879 00000D16 6451              2597             MOV.W   @R5,R4                                  ;
 9880 00000D18 9507              2598             MOV.W   #D'100,R5                               ;min 100pls
 9881 00000D1A 3453              2599             CMP/GE  R5,R4                                   ;
 9882 00000D1C 8900              2600             BT      OBJ_NEAR_CK_030                         ;
 9883 00000D1E 6453              2601             MOV     R5,R4                                   ;
 9884 00000D20                   2602     OBJ_NEAR_CK_030:                                        ;
 9885                            2603     
 9886 00000D20 3247              2604             CMP/GT  R4,R2                                   ;
 9887 00000D22 8905              2605             BT      OBJ_NEAR_CK_050                         ;R4 < R2 JUMP
 9888 00000D24 E001              2606             MOV     #1,R0                                   ;R2≦R4
 9889                            2607             M_BRA   OBJ_NEAR_CK_EXT                         ;ﾆｱｾﾞﾛ幅
 9890 00000D26 A009                   M           BRA     OBJ_NEAR_CK_EXT
 9891 00000D28 0009                   M           NOP
 9892                            2608     
 9893                                     ***** BEGIN-POOL *****
 9894 00000D2A 0064                       DATA FOR SOURCE-LINE 2598
 9895 00000D2C 00000000                   DATA FOR SOURCE-LINE 2596
 9896                                     ***** END-POOL *****
 9897 00000D30                   2609     OBJ_NEAR_CK_050:
 9898 00000D30 D504              2610             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9899 00000D32 6552              2611             MOV.L   @R5,R5                                  ;
 9900 00000D34 3548              2612             SUB     R4,R5                                   ;
 9901 00000D36 3527              2613             CMP/GT  R2,R5                                   ;R2<R5(1ROT-)
 9902 00000D38 8900              2614             BT      OBJ_NEAR_CK_EXT                         ;
 9903 00000D3A E0FF              2615             MOV     #-1,R0                                  ;
 9904 00000D3C                   2616     OBJ_NEAR_CK_EXT:
 9905                            2617             SUB_END
 9906                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9907 00000D3C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9908                            2618             M_RTS
 9909 00000D3E 000B                   M           RTS                             ;RTSの後ろの
 9910 00000D40 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9911                            2619     
 9912                            2620     
 9913                            2621     
 9914                            2622     
 9915                            2623     ;       *******************************************
 9916                            2624     ;       ***     回転ﾊﾟﾙｽR1,R2+ｵﾌｾｯﾄR5,R6        ***
 9917                            2625     ;       ***     LIMIT MAX/MIN                   ***
 9918                            2626     ;       *******************************************
 9919                            2627     ;       Input R1,R2,R5,R6
 9920                            2628     ;       Output R1,R2
 9921                            2629     ;       Keep R5,R6
 9922                                     ***** BEGIN-POOL *****
 9923 00000D42 0000                       ALIGNMENT CODE
 9924 00000D44 00000000                   DATA FOR SOURCE-LINE 2610
 9925                                     ***** END-POOL *****
 9926 00000D48                   2630             .ALIGN  4                               ;
 9927 00000D48                   2631     _ADDR56_R12_ANS_R12_LIMIT_MAX_MIN:
 9928                            2632             SUB_START
 9929 00000D48 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    68
PROGRAM NAME =

 9930                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9931                            2633             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2               ;
 9932 00000D4A 0008                   M           CLRT
 9933 00000D4C 326E                   M           ADDC    R6,R2
 9934 00000D4E 315E                   M           ADDC    R5,R1
 9935                            2634             MAX_MIN8B       DT_REGH=R1,DT_REGL=R2,WKRG1=R0,WKRG2=R4,                ;
 9936                            2635     +                       MAX_H=_CALC_PLS_PMAX_H32,MAX_L=_CALC_PLS_PMAX_L32,      ;
 9937                            2636     +                       MIN_H=_CALC_PLS_MMIN_H32,MIN_L=_CALC_PLS_MMIN_L32       ;
 9938 00000D50 0008                   M           CLRT
 9939 00000D52 D00B                   M           MOV.L   #_CALC_PLS_PMAX_L32,R0
 9940 00000D54 302A                   M           SUBC    R2,R0           ;
 9941 00000D56 D00B                   M           MOV.L   #_CALC_PLS_PMAX_H32,R0
 9942 00000D58 301A                   M           SUBC    R1,R0           ;
 9943 00000D5A 4011                   M           CMP/PZ  R0                      ;
 9944 00000D5C 8901                   M           BT      JMP0100003                      ;DATA=<MAX
 9945 00000D5E D208                   M           MOV.L   #_CALC_PLS_PMAX_L32,R2  ;data >= max
 9946 00000D60 D108                   M           MOV.L   #_CALC_PLS_PMAX_H32,R1  ;LIMIT
 9947 00000D62                        M   JMP0100003                                      ;
 9948 00000D62 0008                   M           CLRT
 9949 00000D64 D008                   M           MOV.L   #_CALC_PLS_MMIN_L32,R0          ;
 9950 00000D66 302A                   M           SUBC    R2,R0           ;
 9951 00000D68 D408                   M           MOV.L   #_CALC_PLS_MMIN_H32,R4          ;
 9952 00000D6A 341A                   M           SUBC    R1,R4           ;
 9953 00000D6C 4415                   M           CMP/PL  R4                      ;
 9954 00000D6E 8B04                   M           BF      JMP0200003                      ;"-" R3 < 0 THEN OK!
 9955 00000D70 240B                   M           OR      R0,R4           ;
 9956 00000D72 2448                   M           TST     R4,R4           ;
 9957                                 M           TST_BIT_OF JMP0200003           ;
 9958 00000D74 8901                   M           BT      JMP0200003
 9959 00000D76 D204                   M           MOV.L   #_CALC_PLS_MMIN_L32,R2  ;data < min
 9960 00000D78 D104                   M           MOV.L   #_CALC_PLS_MMIN_H32,R1  ;LIMIT
 9961 00000D7A                        M   JMP0200003:
 9962                            2637             SUB_END
 9963                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9964 00000D7A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9965                            2638             M_RTS
 9966 00000D7C 000B                   M           RTS                             ;RTSの後ろの
 9967 00000D7E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9968                            2639     
 9969                            2640     
 9970                            2641     ;       ***********************************
 9971                            2642     ;       ***                             ***
 9972                            2643     ;       ***     最大正転値・最小値      ***
 9973                            2644     ;       ***                             ***
 9974                            2645     ;       ***********************************
 9975                            2646     ;       Input R0 BIT0=0正転 BIT0=1逆転
 9976                                     ***** BEGIN-POOL *****
 9977 00000D80 FFFFFFFF                   DATA FOR SOURCE-LINE 2634,2634
 9978 00000D84 3FFFFFFF                   DATA FOR SOURCE-LINE 2634,2634
 9979 00000D88 00000001                   DATA FOR SOURCE-LINE 2634,2634
 9980 00000D8C C0000000                   DATA FOR SOURCE-LINE 2634,2634
 9981                                     ***** END-POOL *****
 9982 00000D90                   2647             .ALIGN  4                               ;
 9983 00000D90                   2648     _LINK_P_M_MAX:
 9984                            2649             SUB_START
 9985 00000D90 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9986                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    69
PROGRAM NAME =

 9987                            2650     
 9988 00000D92 D106              2651             MOV.L   #_CALC_PLS_PMAX_H32,R1  ;
 9989 00000D94 D206              2652             MOV.L   #_CALC_PLS_PMAX_L32,R2  ;
 9990                            2653     
 9991 00000D96 C801              2654             TST     #BIT0,R0                ;
 9992                            2655             TST_BIT_OF LINK_PM_MX50
 9993 00000D98 8901                   M           BT      LINK_PM_MX50
 9994 00000D9A D106              2656             MOV.L   #_CALC_PLS_MMIN_H32,R1  ;
 9995 00000D9C D206              2657             MOV.L   #_CALC_PLS_MMIN_L32,R2  ;
 9996                            2658     
 9997 00000D9E                   2659     LINK_PM_MX50:                   ;
 9998 00000D9E D407              2660             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
 9999 00000DA0 2412              2661             MOV.L   R1,@R4                          ;
10000 00000DA2 1421              2662             MOV.L   R2,@(1*4,R4)                    ;目標位置ｾｯﾄ
10001                            2663             SUB_END
10002                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10003 00000DA4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10004                            2664             M_RTS
10005 00000DA6 000B                   M           RTS                             ;RTSの後ろの
10006 00000DA8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10007                            2665     
10008                            2666     ;       ***************************************************
10009                            2667     ;       ***                                             ***
10010                            2668     ;       ***     はじめから待機点目標位置への位置決め    ***
10011                            2669     ;       ***     2004-05-24(ﾒｲﾝ側での目標位置作成)       ***
10012                            2670     ;       ***                                             ***
10013                            2671     ;       ***************************************************
10014                                     ***** BEGIN-POOL *****
10015 00000DAA 0000                       ALIGNMENT CODE
10016 00000DAC 3FFFFFFF                   DATA FOR SOURCE-LINE 2651
10017 00000DB0 FFFFFFFF                   DATA FOR SOURCE-LINE 2652
10018 00000DB4 C0000000                   DATA FOR SOURCE-LINE 2656
10019 00000DB8 00000001                   DATA FOR SOURCE-LINE 2657
10020 00000DBC 00000000                   DATA FOR SOURCE-LINE 2660
10021                                     ***** END-POOL *****
10022 00000DC0                   2672             .ALIGN  4                               ;
10023 00000DC0                   2673     _ORGIN_OBJ_POS_CTRL_ST1:                        ;
10024                            2674             SUB_START
10025 00000DC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
10026                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10027 00000DC2 D109              2675             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;
10028 00000DC4 900C              2676             MOV.W   #BIT0,R0                        ;
10029 00000DC6 2101              2677             MOV.W   R0,@R1                          ;
10030                            2678     
10031 00000DC8 D108              2679             MOV.L   #_CB_SEQ_CB_COM346,R1           ;2004-07-01
10032 00000DCA 6011              2680             MOV.W   @R1,R0                          ;
10033 00000DCC 9109              2681             MOV.W   #BIT14,R1                       ;
10034 00000DCE 2018              2682             TST     R1,R0                           ;
10035                            2683             TST_BIT_OF ORGIN_OBJ_POS_CTLST1_100     ;BIT14=0 自動判別
10036 00000DD0 8910                   M           BT      ORGIN_OBJ_POS_CTLST1_100
10037                            2684     
10038 00000DD2 9107              2685             MOV.W   #BIT13,R1                       ;
10039 00000DD4 2019              2686             AND     R1,R0
10040                            2687             FAR_JSR #_LINK_DIR_OBJMAK3,R1           ;Input R0 R0==0/R0!=0(BIT13)
10041 00000DD6 D106                   M           MOV.L   #_LINK_DIR_OBJMAK3,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10042 00000DD8 410B                   M           JSR     @R1                     ;
10043 00000DDA 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    70
PROGRAM NAME =

10044                            2688             M_BRA   ORGIN_OBJ_POS_CTLST1_200        ;
10045 00000DDC A01B                   M           BRA     ORGIN_OBJ_POS_CTLST1_200
10046 00000DDE 0009                   M           NOP
10047                            2689     
10048                            2690     
10049                                     ***** BEGIN-POOL *****
10050 00000DE0 0001                       DATA FOR SOURCE-LINE 2676
10051 00000DE2 4000                       DATA FOR SOURCE-LINE 2681
10052 00000DE4 2000                       DATA FOR SOURCE-LINE 2685
10053 00000DE6 0000                       ALIGNMENT CODE
10054 00000DE8 00000000                   DATA FOR SOURCE-LINE 2675
10055 00000DEC 00000000                   DATA FOR SOURCE-LINE 2679
10056 00000DF0 00000000                   DATA FOR SOURCE-LINE 2687
10057                                     ***** END-POOL *****
10058 00000DF4                   2691     ORGIN_OBJ_POS_CTLST1_100:
10059                            2692     ;       --------- 2014-09-18-------------
10060 00000DF4 D104              2693             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
10061 00000DF6 6011              2694             MOV.W   @R1,R0                          ;
10062 00000DF8 C804              2695             TST     #(_DMATH_DNDRIV),R0             ;
10063                            2696             TST_BIT_OF ORGIN_OBJ_POS_CTLST1_150     ;ふりこ以外
10064 00000DFA 8909                   M           BT      ORGIN_OBJ_POS_CTLST1_150
10065                            2697     
10066                            2698     ;       -------- ふりこ範囲確認--------------
10067                            2699     ;       待機点+0~181までは右半球
10068                            2700             FAR_JSR #_LINK_UPPLS_DNDRIV,R0          ;
10069 00000DFC D003                   M           MOV.L   #_LINK_UPPLS_DNDRIV,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10070 00000DFE 400B                   M           JSR     @R0                     ;
10071 00000E00 0009                   M           NOP                                     ;
10072                            2701             M_BRA   ORGIN_OBJ_POS_CTLST1_200        ;
10073 00000E02 A008                   M           BRA     ORGIN_OBJ_POS_CTLST1_200
10074 00000E04 0009                   M           NOP
10075                            2702     
10076                            2703     
10077                            2704     
10078                            2705     
10079                                     ***** BEGIN-POOL *****
10080 00000E06 0000                       ALIGNMENT CODE
10081 00000E08 00000000                   DATA FOR SOURCE-LINE 2693
10082 00000E0C 00000000                   DATA FOR SOURCE-LINE 2700
10083                                     ***** END-POOL *****
10084 00000E10                   2706     ORGIN_OBJ_POS_CTLST1_150:
10085                            2707             FAR_JSR #_LINK_UPPLS_A_OBJMAK3,R0       ;自動で方向判別(2004-05-24)
10086 00000E10 D005                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK3,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10087 00000E12 400B                   M           JSR     @R0                     ;
10088 00000E14 0009                   M           NOP                                     ;
10089 00000E16                   2708     ORGIN_OBJ_POS_CTLST1_200:                       ;
10090                            2709     
10091                            2710     
10092                            2711             FAR_JSR #_DNDUPS_SPD_SET,R4             ;
10093 00000E16 D405                   M           MOV.L   #_DNDUPS_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10094 00000E18 440B                   M           JSR     @R4                     ;
10095 00000E1A 0009                   M           NOP                                     ;
10096                            2712             FAR_JSR #_ORG_END_SIG_CLR,R0            ;206.4 OFF
10097 00000E1C D004                   M           MOV.L   #_ORG_END_SIG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10098 00000E1E 400B                   M           JSR     @R0                     ;
10099 00000E20 0009                   M           NOP                                     ;
10100                            2713     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    71
PROGRAM NAME =

10101                            2714             SUB_END
10102                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10103 00000E22 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10104                            2715             M_RTS
10105 00000E24 000B                   M           RTS                             ;RTSの後ろの
10106 00000E26 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10107                            2716     
10108                                     ***** BEGIN-POOL *****
10109 00000E28 00000000                   DATA FOR SOURCE-LINE 2707
10110 00000E2C 00000000                   DATA FOR SOURCE-LINE 2711
10111 00000E30 00000000                   DATA FOR SOURCE-LINE 2712
10112                                     ***** END-POOL *****
10113 00000E34                   2717             .ALIGN  4                               ;
10114 00000E34                   2718     _ORGIN_OBJ_POS_CTRL_ST2:                                ;
10115                            2719             SUB_START
10116 00000E34 4F22                   M           STS.L   PR,@-R15                ;[必要]
10117                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10118 00000E36 D105              2720             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;
10119 00000E38 6011              2721             MOV.W   @R1,R0                          ;
10120 00000E3A C801              2722             TST     #BIT0,R0                        ;
10121                            2723             TST_BIT_OF ORGIN_OBJ_POSCTLST2_EXT      ;(待機点位置決め中 NO! JUMP)
10122 00000E3C 8903                   M           BT      ORGIN_OBJ_POSCTLST2_EXT
10123                            2724     
10124 00000E3E D104              2725             MOV.L   #_INT_DND_CTL_STEP,R1           ;
10125 00000E40 6011              2726             MOV.W   @R1,R0                          ;
10126 00000E42 CB02              2727             OR      #BIT1,R0                        ;
10127 00000E44 2101              2728             MOV.W   R0,@R1                          ;
10128                            2729     
10129 00000E46                   2730     ORGIN_OBJ_POSCTLST2_EXT                         ;
10130                            2731     
10131                            2732             SUB_END
10132                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10133 00000E46 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10134                            2733             M_RTS
10135 00000E48 000B                   M           RTS                             ;RTSの後ろの
10136 00000E4A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10137                            2734     
10138                            2735     
10139                            2736     
10140                            2737     ;       ***************************************************
10141                            2738     ;       ***                                             ***
10142                            2739     ;       ***                                             ***
10143                            2740     ;       ***                                             ***
10144                            2741     ;       ***                                             ***
10145                            2742     ;       ***             位置決め200usec割込             ***
10146                            2743     ;       ***             1msecでも可能                   ***
10147                            2744     ;       ***                                             ***
10148                            2745     ;       ***                                             ***
10149                            2746     ;       ***                                             ***
10150                            2747     ;       ***                                             ***
10151                            2748     ;       ***************************************************
10152                            2749     ;       停止ﾀｲﾏの処理・多段全てを行う
10153                            2750     ;       即停止状態
10154                            2751     ;       ここではﾊﾟﾙｽの払出しﾊﾟﾙｽの積算は行う
10155                            2752     ;       _INT_POS_CTL_FLAG
10156                            2753     ;               0000,0000:IDEL()
10157                            2754     ;                       BIT0:(INITAL完了)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    72
PROGRAM NAME =

10158                            2755     ;                             BIT0=1で払いﾃﾞｰﾀ作成,起動中
10159                            2756     ;                       BIT2:減速停止ﾗｯﾁ(払出停止待ち)
10160                            2757     ;                       BIT3:急停止ﾗｯﾁ(払出停止待ち)
10161                            2758     ;                       BIT4:
10162                            2759     ;                       BIT6:位置決め完了(ﾆｱｾﾞﾛ)--->IDELへ
10163                            2760     ;
10164                            2761     ;       S2b     INT_POS_STEP_FLG(ｽﾃｯﾌﾟ,段取共通);
10165                            2762     ;                               BIT0:1ｽﾃｯﾌﾟﾃﾞｰﾀ作成完了 :
10166                            2763     ;                               BIT1:払い出し開始       :
10167                            2764     ;                               BIT2:
10168                            2765     ;                               BIT3:ﾀｲﾏ測定中
10169                            2766     ;                               BIT4:完了
10170                                     ***** BEGIN-POOL *****
10171 00000E4C 00000000                   DATA FOR SOURCE-LINE 2720
10172 00000E50 00000000                   DATA FOR SOURCE-LINE 2725
10173                                     ***** END-POOL *****
10174 00000E54                   2767             .ALIGN  4                               ;
10175 00000E54                   2768     _INT_POS_CTRL:
10176                            2769             SUB_START
10177 00000E54 4F22                   M           STS.L   PR,@-R15                ;[必要]
10178                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
10179                            2770     
10180                            2771             FAR_JSR #_ERR_INFO_DT_IN0,R0    ;
10181 00000E56 D006                   M           MOV.L   #_ERR_INFO_DT_IN0,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10182 00000E58 400B                   M           JSR     @R0                     ;
10183 00000E5A 0009                   M           NOP                                     ;
10184                            2772     
10185                            2773     ;-------------------[2015-04-08]---------------
10186                            2774             FAR_JSR #_ENDHAND_WAIT_TIMCNT,R0        ;
10187 00000E5C D005                   M           MOV.L   #_ENDHAND_WAIT_TIMCNT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10188 00000E5E 400B                   M           JSR     @R0                     ;
10189 00000E60 0009                   M           NOP                                     ;
10190                            2775     
10191 00000E62 D105              2776             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
10192 00000E64 6011              2777             MOV.W   @R1,R0                  ;
10193 00000E66 2008              2778             TST     R0,R0                   ;
10194                            2779             TST_BIT_OF INT_POSCTL_CHK00     ;
10195 00000E68 8908                   M           BT      INT_POSCTL_CHK00
10196                            2780             M_BRA   INT_POSCTL_0910         ;
10197 00000E6A A224                   M           BRA     INT_POSCTL_0910
10198 00000E6C 0009                   M           NOP
10199                            2781     
10200                            2782     
10201                                     ***** BEGIN-POOL *****
10202 00000E6E 0000                       ALIGNMENT CODE
10203 00000E70 00000000                   DATA FOR SOURCE-LINE 2771
10204 00000E74 00000000                   DATA FOR SOURCE-LINE 2774
10205 00000E78 00000000                   DATA FOR SOURCE-LINE 2776
10206                                     ***** END-POOL *****
10207 00000E7C                   2783     INT_POSCTL_CHK00:
10208                            2784     
10209                            2785     ;       ------- 2010-08-20[制動モード]
10210 00000E7C D104              2786             MOV.L   #_BRKTST_MOD_FLG,R1     ;
10211 00000E7E 6011              2787             MOV.W   @R1,R0                  ;
10212 00000E80 C801              2788             TST     #BIT0,R0                ;
10213                            2789             TST_BIT_OF INT_POSCTL_CHK10     ;
10214 00000E82 8909                   M           BT      INT_POSCTL_CHK10
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    73
PROGRAM NAME =

10215                            2790     
10216                            2791             FAR_JSR #_BRKTST_POS_CTL,R0     ;
10217 00000E84 D003                   M           MOV.L   #_BRKTST_POS_CTL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10218 00000E86 400B                   M           JSR     @R0                     ;
10219 00000E88 0009                   M           NOP                                     ;
10220                            2792     
10221                            2793             M_BRA   INT_POSCTL_0910         ;
10222 00000E8A A214                   M           BRA     INT_POSCTL_0910
10223 00000E8C 0009                   M           NOP
10224                            2794     
10225                                     ***** BEGIN-POOL *****
10226 00000E8E 0000                       ALIGNMENT CODE
10227 00000E90 00000000                   DATA FOR SOURCE-LINE 2786
10228 00000E94 00000000                   DATA FOR SOURCE-LINE 2791
10229                                     ***** END-POOL *****
10230 00000E98                   2795     INT_POSCTL_CHK10:
10231                            2796     
10232                            2797     
10233                            2798     
10234                            2799     
10235                            2800     
10236                            2801             FAR_JSR #_GAMEN_OVER_RIDE,R0            ;MAIN LOOP DATA 1 CHECK
10237 00000E98 D00D                   M           MOV.L   #_GAMEN_OVER_RIDE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10238 00000E9A 400B                   M           JSR     @R0                     ;
10239 00000E9C 0009                   M           NOP                                     ;
10240                            2802             FAR_JSR #_OVER_LIDE_SEQREF,R0           ;SEQ       DATA 1 CHKEAK
10241 00000E9E D00D                   M           MOV.L   #_OVER_LIDE_SEQREF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10242 00000EA0 400B                   M           JSR     @R0                     ;
10243 00000EA2 0009                   M           NOP                                     ;
10244                            2803             FAR_JSR #_SET_OVER_RIDE,R0              ;
10245 00000EA4 D00C                   M           MOV.L   #_SET_OVER_RIDE,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10246 00000EA6 400B                   M           JSR     @R0                     ;
10247 00000EA8 0009                   M           NOP                                     ;
10248                            2804     
10249                            2805     ;;      --------- 2006-10-16---
10250                            2806     ;;      MOV.L   #_OVER_RIDE_USEFUL,R1
10251                            2807     ;;      MOV.W   @R1,R0
10252                            2808     ;;      TST     #BIT0,R0
10253                            2809     ;;      TST_BIT_OF OVERRIDE_CHG050
10254                            2810     ;;      FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;速度ﾘｱﾙﾀｲﾑ
10255                            2811     ;;OVERRIDE_CHG050
10256                            2812     
10257                            2813     
10258                            2814     
10259                            2815     
10260                            2816     ;       ------------------------------------------
10261                            2817     ;       ------ 2010-10-07 ------------------------
10262                            2818     ;       ------------------------------------------
10263                            2819     ;       -----ふりこの場合待機点でのみ速度反映 ----
10264                            2820             FAR_JSR #_CHK_DNM_SPEC_MOD1,R0          ;
10265 00000EAA D00C                   M           MOV.L   #_CHK_DNM_SPEC_MOD1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10266 00000EAC 400B                   M           JSR     @R0                     ;
10267 00000EAE 0009                   M           NOP                                     ;
10268 00000EB0 2008              2821             TST     R0,R0                           ;
10269                            2822             TST_BIT_ON OVERRIDE_CHG050              ;ふりこだ!
10270 00000EB2 8B06                   M           BF      OVERRIDE_CHG050
10271                            2823     ;       ---------------------------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    74
PROGRAM NAME =

10272                            2824     
10273                            2825     
10274 00000EB4 D10A              2826             MOV.L   #_OVER_RIDE_USEFUL,R1
10275 00000EB6 6011              2827             MOV.W   @R1,R0
10276 00000EB8 C803              2828             TST     #(BIT1+BIT0),R0                 ;SEQ
10277                            2829             TST_BIT_OF OVERRIDE_CHG050
10278 00000EBA 8902                   M           BT      OVERRIDE_CHG050
10279                            2830     
10280                            2831             FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;
10281 00000EBC D009                   M           MOV.L   #_OVERRIDE_CALC_SPED_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10282 00000EBE 400B                   M           JSR     @R0                     ;
10283 00000EC0 0009                   M           NOP                                     ;
10284                            2832     
10285 00000EC2                   2833     OVERRIDE_CHG050
10286                            2834     
10287                            2835     ;;;;;;;;;;;;;   2015-11-15 ちゃんとした場所で対応
10288                            2836     ;;;;;;;;;;;;;;-------------------超お試し[2015-04-08]---------------
10289                            2837     ;;;;;;;;;;;;;   MOV.L   #_MODE_SEL,R1                           ;
10290                            2838     ;;;;;;;;;;;;;   MOV.W   @R1,R0                                  ;
10291                            2839     ;;;;;;;;;;;;;   TST     #_W1INC+_W1SGL,R0                       ;
10292                            2840     ;;;;;;;;;;;;;   TST_BIT_OF FORCE_STEPEND_HAND100EXT             ;（段取でもある)
10293                            2841     ;;;;;;;;;;;;;
10294                            2842     ;;;;;;;;;;;;;   FAR_JSR #_API_ENDHAND_SIGCHK,R0                 ;
10295                            2843     ;;;;;;;;;;;;;   TST     R0,R0
10296                            2844     ;;;;;;;;;;;;;   TST_BIT_OF FORCE_STEPEND_HAND100EXT             ;
10297                            2845     ;;;;;;;;;;;;;   M_BRA   FORCE_STEPEND_HAND100                   ;
10298                            2846     ;;;;;;;;;;;;;FORCE_STEPEND_HAND100EXT
10299                            2847     
10300                            2848     
10301                            2849     
10302 00000EC2 D509              2850             MOV.L   #_INT_CYC_DRV_STS,R5            ;//BIT0:CYCLE　END()
10303 00000EC4 6051              2851             MOV.W   @R5,R0                          ;
10304 00000EC6 C840              2852             TST     #BIT6,R0                        ;位置決め完了?
10305                            2853             TST_BIT_OF INT_POSCTL_0020              ;
10306 00000EC8 8910                   M           BT      INT_POSCTL_0020
10307                            2854             M_BRA   INT_POSCTL_0700
10308 00000ECA A1DB                   M           BRA     INT_POSCTL_0700
10309 00000ECC 0009                   M           NOP
10310                            2855     
10311                                     ***** BEGIN-POOL *****
10312 00000ECE 0000                       ALIGNMENT CODE
10313 00000ED0 00000000                   DATA FOR SOURCE-LINE 2801
10314 00000ED4 00000000                   DATA FOR SOURCE-LINE 2802
10315 00000ED8 00000000                   DATA FOR SOURCE-LINE 2803
10316 00000EDC 00000000                   DATA FOR SOURCE-LINE 2820
10317 00000EE0 00000000                   DATA FOR SOURCE-LINE 2826
10318 00000EE4 00000000                   DATA FOR SOURCE-LINE 2831
10319 00000EE8 00000000                   DATA FOR SOURCE-LINE 2850
10320                                     ***** END-POOL *****
10321 00000EEC                   2856     INT_POSCTL_0020:
10322 00000EEC D502              2857             MOV.L   #_INT_POS_CTL_FLAG,R5           ;
10323 00000EEE 6051              2858             MOV.W   @R5,R0                          ;
10324 00000EF0 C85C              2859             TST     #(BIT6+BIT4+BIT3+BIT2),R0       ;
10325                            2860             TST_BIT_OF INT_POSCTL_0040              ;
10326 00000EF2 8903                   M           BT      INT_POSCTL_0040
10327                            2861             M_BRA   INT_POSCTL_0300                 ;
10328 00000EF4 A196                   M           BRA     INT_POSCTL_0300
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    75
PROGRAM NAME =

10329 00000EF6 0009                   M           NOP
10330                            2862     
10331                                     ***** BEGIN-POOL *****
10332 00000EF8 00000000                   DATA FOR SOURCE-LINE 2857
10333                                     ***** END-POOL *****
10334 00000EFC                   2863     INT_POSCTL_0040:
10335 00000EFC C801              2864             TST     #BIT0,R0                ;
10336                            2865             TST_BIT_OF INT_POSCTL_0045      ;
10337 00000EFE 8901                   M           BT      INT_POSCTL_0045
10338                            2866             M_BRA   INT_POSCTL_0200 ;起動処理 BIT0
10339 00000F00 A10A                   M           BRA     INT_POSCTL_0200
10340 00000F02 0009                   M           NOP
10341 00000F04                   2867     INT_POSCTL_0045:
10342                            2868     
10343                            2869     ;       ===================
10344 00000F04 D603              2870             MOV.L   #_MNWR_POS_CMD,R6       ;ﾊﾟﾙｽ払出即停止
10345 00000F06 6061              2871             MOV.W   @R6,R0                  ;
10346 00000F08 C907              2872             AND     #(BIT2+BIT1+BIT0),R0    ;
10347 00000F0A 8801              2873             CMP/EQ  #BIT0,R0                ;
10348 00000F0C 8904              2874             BT      INT_POSCTL_0048         ;001[起動]
10349                            2875             M_BRA   INT_POSCTL_0190         ;EXIT
10350 00000F0E A0E4                   M           BRA     INT_POSCTL_0190
10351 00000F10 0009                   M           NOP
10352                            2876     ;       ==== 通常の位置決め起動コマンド状態
10353                                     ***** BEGIN-POOL *****
10354 00000F12 0000                       ALIGNMENT CODE
10355 00000F14 00000000                   DATA FOR SOURCE-LINE 2870
10356                                     ***** END-POOL *****
10357 00000F18                   2877     INT_POSCTL_0048:
10358                            2878     
10359 00000F18 222A              2879             XOR     R2,R2
10360 00000F1A D111              2880             MOV.L   #_INT_POS_STEP_FLG,R1   ;
10361 00000F1C 2121              2881             MOV.W   R2,@R1                  ;
10362 00000F1E D111              2882             MOV.L   #_INT_DND_CTL_STEP,R1;
10363 00000F20 2121              2883             MOV.W   R2,@R1
10364 00000F22 D111              2884             MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
10365 00000F24 2121              2885             MOV.W   R2,@R1                  ;
10366                            2886     
10367                            2887     ;       ===========================
10368 00000F26 D111              2888             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
10369 00000F28 2121              2889             MOV.W   R2,@R1                          ;
10370                            2890     ;       ===========================
10371                            2891     
10372                            2892     
10373                            2893     ;       -------- 2014-09-26 寸動--------------
10374 00000F2A D111              2894             MOV.L   #_INC_RESET_USE_F,R1    ;//STEPを参照して!
10375 00000F2C 6011              2895             MOV.W   @R1,R0                  ;
10376 00000F2E 2008              2896             TST     R0,R0                   ;
10377                            2897             TST_BIT_OF INT_POSCTL_0080      ;
10378 00000F30 8906                   M           BT      INT_POSCTL_0080
10379                            2898     
10380 00000F32 D110              2899             MOV.L   #_INC_RESET_STEP,R1     ;
10381 00000F34 6411              2900             MOV.W   @R1,R4
10382 00000F36 D110              2901             MOV.L   #_SV_POS_CTL_STEP,R1    ;//1msec 制御上の見かけ
10383 00000F38 2141              2902             MOV.W   R4,@R1                  ;
10384                            2903     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    76
PROGRAM NAME =

10385                            2904             FAR_JSR #_INC_RST_WORK_CLR,R0
10386 00000F3A D010                   M           MOV.L   #_INC_RST_WORK_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10387 00000F3C 400B                   M           JSR     @R0                     ;
10388 00000F3E 0009                   M           NOP                                     ;
10389                            2905     
10390 00000F40                   2906     INT_POSCTL_0080
10391                            2907     ;       ------ ﾓｰｼｮﾝ運転 --------
10392 00000F40 D10D              2908             MOV.L   #_SV_POS_CTL_STEP,R1    ;//1msec 制御上の見かけ
10393 00000F42 6411              2909             MOV.W   @R1,R4                  ;
10394 00000F44 D20E              2910             MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
10395 00000F46 2241              2911             MOV.W   R4,@R2                  ;
10396                            2912     
10397                            2913     
10398                            2914     
10399                            2915     
10400                            2916     
10401                            2917     
10402                            2918     
10403 00000F48                   2919     INT_POSCTL_0100:
10404                            2920     ;       ===========================================
10405                            2921     ;       ===             起動処理                ===
10406                            2922     ;       ===========================================
10407                            2923     ;;2002-09-05    FAR_JSR #_POS_LSI_START_INITAL,R0       ;
10408                            2924     
10409                            2925     ;       ----------- 2012-05-17 反転のタイマ継続処理CHK---------
10410                            2926             FAR_JSR #_DURING_TIM_CNTINUE_CHK,R0                                     ;
10411 00000F48 D00E                   M           MOV.L   #_DURING_TIM_CNTINUE_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10412 00000F4A 400B                   M           JSR     @R0                     ;
10413 00000F4C 0009                   M           NOP                                     ;
10414 00000F4E 2008              2927             TST     R0,R0                                                           ;
10415                            2928             TST_BIT_OF INT_POSCTL_0102                                              ;
10416 00000F50 891C                   M           BT      INT_POSCTL_0102
10417                            2929             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;必要があ
                                          ればここでつじつまあわせ
10418 00000F52 D10D                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10419 00000F54 6011                   M           MOV.W   @R1,R0          ;
10420 00000F56 CB01                   M           OR      #BIT0,R0                ;
10421 00000F58 2101                   M           MOV.W   R0,@R1          ;
10422                            2930             M_BRA   INT_POSCTL_0190                                                 ;
10423 00000F5A A0BE                   M           BRA     INT_POSCTL_0190
10424 00000F5C 0009                   M           NOP
10425                                     ***** BEGIN-POOL *****
10426 00000F5E 0000                       ALIGNMENT CODE
10427 00000F60 00000000                   DATA FOR SOURCE-LINE 2880
10428 00000F64 00000000                   DATA FOR SOURCE-LINE 2882
10429 00000F68 00000000                   DATA FOR SOURCE-LINE 2884
10430 00000F6C 00000000                   DATA FOR SOURCE-LINE 2888
10431 00000F70 00000000                   DATA FOR SOURCE-LINE 2894
10432 00000F74 00000000                   DATA FOR SOURCE-LINE 2899
10433 00000F78 00000000                   DATA FOR SOURCE-LINE 2901,2908
10434 00000F7C 00000000                   DATA FOR SOURCE-LINE 2904
10435 00000F80 00000000                   DATA FOR SOURCE-LINE 2910
10436 00000F84 00000000                   DATA FOR SOURCE-LINE 2926
10437 00000F88 00000000                   DATA FOR SOURCE-LINE 2929
10438                                     ***** END-POOL *****
10439 00000F8C                   2931     INT_POSCTL_0102:
10440                            2932     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    77
PROGRAM NAME =

10441                            2933     
10442                            2934     
10443                            2935     
10444 00000F8C D108              2936             MOV.L   #_MODE_SEL,R1                   ;
10445 00000F8E 6011              2937             MOV.W   @R1,R0                          ;
10446 00000F90 C860              2938             TST     #(_W1DUP+_W1DIC),R0             ;
10447                            2939             TST_BIT_ON INT_POSCTL_0120              ;
10448 00000F92 8B5B                   M           BF      INT_POSCTL_0120
10449                            2940     
10450                            2941     
10451                            2942             .AIF    1 EQ 1
10452 00000F94 D107              2943 C           MOV.L   #_START_FLG_AFTER_EMG,R1        ;???
10453 00000F96 9009              2944 C           MOV.W   #1,R0                           ;
10454 00000F98 2101              2945 C           MOV.W   R0,@R1                          ;
10455                            2946             .AENDI
10456                            2947     
10457                            2948     
10458                            2949     ;       -------------繰り返し 2014-09-22 ---------------
10459 00000F9A D107              2950             MOV.L   #_MOT_REP_F,R1                          ;
10460 00000F9C 6011              2951             MOV.W   @R1,R0                                  ;
10461 00000F9E C801              2952             TST     #BIT0,R0                                ;
10462                            2953             TST_BIT_OF INT_POSCTL_0102A                     ;
10463 00000FA0 890E                   M           BT      INT_POSCTL_0102A
10464                            2954     
10465                            2955     ;       -------- 繰り返しの待機点戻り工程--------------
10466                            2956             FAR_JSR #_MOT_REPSTART_CALC,R0                  ;
10467 00000FA2 D006                   M           MOV.L   #_MOT_REPSTART_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10468 00000FA4 400B                   M           JSR     @R0                     ;
10469 00000FA6 0009                   M           NOP                                     ;
10470                            2957             M_BRA   INT_POSCTL_0115
10471 00000FA8 A044                   M           BRA     INT_POSCTL_0115
10472 00000FAA 0009                   M           NOP
10473                            2958     
10474                            2959     
10475                                     ***** BEGIN-POOL *****
10476 00000FAC 0001                       DATA FOR SOURCE-LINE 2944
10477 00000FAE 0000                       ALIGNMENT CODE
10478 00000FB0 00000000                   DATA FOR SOURCE-LINE 2936
10479 00000FB4 00000000                   DATA FOR SOURCE-LINE 2943
10480 00000FB8 00000000                   DATA FOR SOURCE-LINE 2950
10481 00000FBC 00000000                   DATA FOR SOURCE-LINE 2956
10482                                     ***** END-POOL *****
10483 00000FC0                   2960     INT_POSCTL_0102A:
10484                            2961     
10485 00000FC0 D00C              2962             MOV.L   #_CPOS_CTL_MATH,R0                      ;
10486 00000FC2 6001              2963             MOV.W   @R0,R0                                  ;
10487 00000FC4 C805              2964             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復[2011-03-23]
10488                            2965             TST_BIT_OF INT_POSCTL_0110
10489 00000FC6 892F                   M           BT      INT_POSCTL_0110
10490                            2966     ;       ===== 回転時の起動===
10491                            2967             FAR_JSR #_HIST_INFO_DT_IN1,R0           ;起動前の目標停止位置
10492 00000FC8 D00B                   M           MOV.L   #_HIST_INFO_DT_IN1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10493 00000FCA 400B                   M           JSR     @R0                     ;
10494 00000FCC 0009                   M           NOP                                     ;
10495                            2968     
10496                            2969             FAR_JSR #_POS_LSI_START_INITAL,R0       ;[本当にふりこはここを通していいのかな2011
                                          -03-23]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    78
PROGRAM NAME =

10497 00000FCE D00B                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10498 00000FD0 400B                   M           JSR     @R0                     ;
10499 00000FD2 0009                   M           NOP                                     ;
10500                            2970     
10501                            2971             FAR_JSR #_ERR_INFO_DT_CHK1,R0           ;POS_LSI_START_INITALでｸﾘｱされるﾃﾞｰﾀが0か
                                          ？
10502 00000FD4 D00A                   M           MOV.L   #_ERR_INFO_DT_CHK1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10503 00000FD6 400B                   M           JSR     @R0                     ;
10504 00000FD8 0009                   M           NOP                                     ;
10505                            2972             FAR_JSR #_ERR_INFO_DT_IN1,R0            ;2004-01-28(今一)
10506 00000FDA D00A                   M           MOV.L   #_ERR_INFO_DT_IN1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10507 00000FDC 400B                   M           JSR     @R0                     ;
10508 00000FDE 0009                   M           NOP                                     ;
10509                            2973     
10510 00000FE0 D109              2974             MOV.L   #_CPOS_BANK_USELFUL,R1          ;
10511 00000FE2 6011              2975             MOV.W   @R1,R0                          ;
10512 00000FE4 C801              2976             TST     #BIT0,R0                        ;
10513                            2977             TST_BIT_ON INT_POSCTL_0103              ;上死停止有り
10514 00000FE6 8B13                   M           BF      INT_POSCTL_0103
10515                            2978     
10516                            2979             FAR_JSR #_POS_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED<停止からの起動か実ﾊﾟﾙｽ
                                          から>
10517 00000FE8 D008                   M           MOV.L   #_POS_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10518 00000FEA 400B                   M           JSR     @R0                     ;
10519 00000FEC 0009                   M           NOP                                     ;
10520                            2980     
10521                            2981             M_BRA   INT_POSCTL_0105
10522 00000FEE A012                   M           BRA     INT_POSCTL_0105
10523 00000FF0 0009                   M           NOP
10524                                     ***** BEGIN-POOL *****
10525 00000FF2 0000                       ALIGNMENT CODE
10526 00000FF4 00000000                   DATA FOR SOURCE-LINE 2962
10527 00000FF8 00000000                   DATA FOR SOURCE-LINE 2967
10528 00000FFC 00000000                   DATA FOR SOURCE-LINE 2969
10529 00001000 00000000                   DATA FOR SOURCE-LINE 2971
10530 00001004 00000000                   DATA FOR SOURCE-LINE 2972
10531 00001008 00000000                   DATA FOR SOURCE-LINE 2974
10532 0000100C 00000000                   DATA FOR SOURCE-LINE 2979
10533                                     ***** END-POOL *****
10534 00001010                   2982     INT_POSCTL_0103:                                ;上死停止なし
10535                            2983             FAR_JSR #_POS_CNT_BANK_DTMAK1,R0        ;これは必ずSVから演算(2004-12-20)もう１回
                                          転先になる
10536 00001010 D003                   M           MOV.L   #_POS_CNT_BANK_DTMAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10537 00001012 400B                   M           JSR     @R0                     ;
10538 00001014 0009                   M           NOP                                     ;
10539                            2984     
10540 00001016                   2985     INT_POSCTL_0105:
10541                            2986     
10542                            2987             FAR_JSR #_ERR_INFO_DT_IN2,R0            ;2004-01-28(data-smp-only)
10543 00001016 D003                   M           MOV.L   #_ERR_INFO_DT_IN2,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10544 00001018 400B                   M           JSR     @R0                     ;
10545 0000101A 0009                   M           NOP                                     ;
10546                            2988             M_BRA   INT_POSCTL_0115                 ;
10547 0000101C A00A                   M           BRA     INT_POSCTL_0115
10548 0000101E 0009                   M           NOP
10549                            2989     
10550                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    79
PROGRAM NAME =

10551 00001020 00000000                   DATA FOR SOURCE-LINE 2983
10552 00001024 00000000                   DATA FOR SOURCE-LINE 2987
10553                                     ***** END-POOL *****
10554 00001028                   2990     INT_POSCTL_0110:
10555                            2991     ;       ===== 反転時の起動===
10556                            2992             FAR_JSR #_POS_LSI_START_INITL2,R0       ;
10557 00001028 D005                   M           MOV.L   #_POS_LSI_START_INITL2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10558 0000102A 400B                   M           JSR     @R0                     ;
10559 0000102C 0009                   M           NOP                                     ;
10560                            2993             FAR_JSR #_POS_1STEP_DATA_MAK1CL,R0      ;目標位置に対して少しパルスを減らす 2011-0
                                          2-19
10561 0000102E D005                   M           MOV.L   #_POS_1STEP_DATA_MAK1CL,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10562 00001030 400B                   M           JSR     @R0                     ;
10563 00001032 0009                   M           NOP                                     ;
10564                            2994     
10565                            2995     
10566 00001034                   2996     INT_POSCTL_0115:
10567                            2997             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-12
10568 00001034 D004                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10569 00001036 400B                   M           JSR     @R0                     ;
10570 00001038 0009                   M           NOP                                     ;
10571                            2998             M_BRA   INT_POSCTL_0140                 ;
10572 0000103A A029                   M           BRA     INT_POSCTL_0140
10573 0000103C 0009                   M           NOP
10574                            2999     
10575                            3000     
10576                            3001     ;       ------------段取、原点復帰、手動パルサ
10577                                     ***** BEGIN-POOL *****
10578 0000103E 0000                       ALIGNMENT CODE
10579 00001040 00000000                   DATA FOR SOURCE-LINE 2992
10580 00001044 00000000                   DATA FOR SOURCE-LINE 2993
10581 00001048 00000000                   DATA FOR SOURCE-LINE 2997
10582                                     ***** END-POOL *****
10583 0000104C                   3002     INT_POSCTL_0120:                                ;
10584                            3003     ;       ---------- 2006-07-28------
10585 0000104C D108              3004             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
10586 0000104E 6011              3005             MOV.W   @R1,R0                          ;
10587 00001050 2008              3006             TST     R0,R0                           ;
10588                            3007             TST_BIT_OF INT_POSCTL_0130              ;
10589 00001052 8917                   M           BT      INT_POSCTL_0130
10590                            3008     ;;;;;   FAR_JSR #_POS_LSI_START_INITAL,R0       ;手動パルサ
10591                            3009             FAR_JSR #_POS_LSI_START_INITAL_TEP,R0   ;2013-06-13
10592 00001054 D007                   M           MOV.L   #_POS_LSI_START_INITAL_TEP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10593 00001056 400B                   M           JSR     @R0                     ;
10594 00001058 0009                   M           NOP                                     ;
10595 0000105A D107              3010             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
10596 0000105C 6212              3011             MOV.L   @R1,R2                          ;
10597                            3012             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
10598 0000105E D107                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10599 00001060 410B                   M           JSR     @R1                     ;
10600 00001062 0009                   M           NOP                                     ;
10601                            3013             FAR_JSR #_TEP_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
10602 00001064 D006                   M           MOV.L   #_TEP_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10603 00001066 400B                   M           JSR     @R0                     ;
10604 00001068 0009                   M           NOP                                     ;
10605                            3014             M_BRA   INT_POSCTL_0140                 ;
10606 0000106A A011                   M           BRA     INT_POSCTL_0140
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    80
PROGRAM NAME =

10607 0000106C 0009                   M           NOP
10608                            3015     
10609                                     ***** BEGIN-POOL *****
10610 0000106E 0000                       ALIGNMENT CODE
10611 00001070 00000000                   DATA FOR SOURCE-LINE 3004
10612 00001074 00000000                   DATA FOR SOURCE-LINE 3009
10613 00001078 00000000                   DATA FOR SOURCE-LINE 3010
10614 0000107C 00000000                   DATA FOR SOURCE-LINE 3012
10615 00001080 00000000                   DATA FOR SOURCE-LINE 3013
10616                                     ***** END-POOL *****
10617 00001084                   3016     INT_POSCTL_0130:                                ;
10618                            3017             FAR_JSR #_POS_LSI_START_INITAL,R0       ;((((((((((((段取・原点起動スキャン)))))))
                                          ))))
10619 00001084 D016                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10620 00001086 400B                   M           JSR     @R0                     ;
10621 00001088 0009                   M           NOP                                     ;
10622                            3018             FAR_JSR #_DND_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
10623 0000108A D016                   M           MOV.L   #_DND_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10624 0000108C 400B                   M           JSR     @R0                     ;
10625 0000108E 0009                   M           NOP                                     ;
10626                            3019     
10627                            3020     
10628 00001090                   3021     INT_POSCTL_0140:                                ;
10629                            3022             FAR_JSR #_POS_LENGTH_ADD_DATA,R0
10630 00001090 D015                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10631 00001092 400B                   M           JSR     @R0                     ;
10632 00001094 0009                   M           NOP                                     ;
10633                            3023             FAR_JSR #_ERR_INFO_DT_IN3,R0            ;2004-01-28ADD,TOTAL(起動開始)
10634 00001096 D015                   M           MOV.L   #_ERR_INFO_DT_IN3,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10635 00001098 400B                   M           JSR     @R0                     ;
10636 0000109A 0009                   M           NOP                                     ;
10637                            3024     
10638                            3025     ;;;;;   FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;停止時からの起動
10639                            3026             FAR_JSR #_POS_PLSOUT_SET_RETRY,R0       ;(停止時からの起動の場合のみ有効・安一のみ
                                          )
10640 0000109C D014                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10641 0000109E 400B                   M           JSR     @R0                     ;
10642 000010A0 0009                   M           NOP                                     ;
10643                            3027     
10644                            3028     ;       == 2004-03 ===
10645                            3029             FAR_JSR #_ERR_INFO_DT_CHK2,R0           ; SGL ONLY
10646 000010A2 D014                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10647 000010A4 400B                   M           JSR     @R0                     ;
10648 000010A6 0009                   M           NOP                                     ;
10649 000010A8 9019              3030             MOV.W   #D'2,R0                 ;
10650 000010AA D113              3031             MOV.L   #_ERR_INFO_DLY_TIM,R1           ;
10651 000010AC 2101              3032             MOV.W   R0,@R1                          ;
10652                            3033     
10653                            3034             FAR_JSR #_ERR_INFO_DT_IN4,R0            ;
10654 000010AE D013                   M           MOV.L   #_ERR_INFO_DT_IN4,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10655 000010B0 400B                   M           JSR     @R0                     ;
10656 000010B2 0009                   M           NOP                                     ;
10657                            3035             FAR_JSR #_FWD_REV_START,R1              ;起動
10658 000010B4 D112                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10659 000010B6 410B                   M           JSR     @R1                     ;
10660 000010B8 0009                   M           NOP                                     ;
10661                            3036     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    81
PROGRAM NAME =

10662                            3037     ;       -------- 2010-09-27 ふりこ情報--------
10663                            3038             FAR_JSR #_DNM_START_ACC_CALC,R0
10664 000010BA D012                   M           MOV.L   #_DNM_START_ACC_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10665 000010BC 400B                   M           JSR     @R0                     ;
10666 000010BE 0009                   M           NOP                                     ;
10667                            3039     
10668                            3040             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;
10669 000010C0 D111                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10670 000010C2 6011                   M           MOV.W   @R1,R0          ;
10671 000010C4 CB01                   M           OR      #BIT0,R0                ;
10672 000010C6 2101                   M           MOV.W   R0,@R1          ;
10673                            3041     
10674                            3042             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
10675 000010C8 D010                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10676 000010CA 400B                   M           JSR     @R0                     ;
10677 000010CC 0009                   M           NOP                                     ;
10678                            3043     
10679                            3044             FAR_JSR #_POS_CMP_1STEP_START_INI,R0
10680 000010CE D010                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10681 000010D0 400B                   M           JSR     @R0                     ;
10682 000010D2 0009                   M           NOP                                     ;
10683                            3045     
10684                            3046     ;       ---------------- 起動 2011-09-01 -------------------
10685                            3047             FAR_JSR #_UP_ACCERR_START_INI,R0
10686 000010D4 D00F                   M           MOV.L   #_UP_ACCERR_START_INI,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10687 000010D6 400B                   M           JSR     @R0                     ;
10688 000010D8 0009                   M           NOP                                     ;
10689                            3048     
10690 000010DA                   3049     INT_POSCTL_0190:
10691                            3050             M_BRA   INT_POSCTL_0800                 ;
10692 000010DA A0DC                   M           BRA     INT_POSCTL_0800
10693 000010DC 0009                   M           NOP
10694                            3051     
10695                                     ***** BEGIN-POOL *****
10696 000010DE 0002                       DATA FOR SOURCE-LINE 3030
10697 000010E0 00000000                   DATA FOR SOURCE-LINE 3017
10698 000010E4 00000000                   DATA FOR SOURCE-LINE 3018
10699 000010E8 00000000                   DATA FOR SOURCE-LINE 3022
10700 000010EC 00000000                   DATA FOR SOURCE-LINE 3023
10701 000010F0 00000000                   DATA FOR SOURCE-LINE 3026
10702 000010F4 00000000                   DATA FOR SOURCE-LINE 3029
10703 000010F8 00000000                   DATA FOR SOURCE-LINE 3031
10704 000010FC 00000000                   DATA FOR SOURCE-LINE 3034
10705 00001100 00000000                   DATA FOR SOURCE-LINE 3035
10706 00001104 00000000                   DATA FOR SOURCE-LINE 3038
10707 00001108 00000000                   DATA FOR SOURCE-LINE 3040
10708 0000110C 00000000                   DATA FOR SOURCE-LINE 3042
10709 00001110 00000000                   DATA FOR SOURCE-LINE 3044
10710 00001114 00000000                   DATA FOR SOURCE-LINE 3047
10711                                     ***** END-POOL *****
10712 00001118                   3052     INT_POSCTL_0200:
10713                            3053     ;       ===========================================
10714                            3054     ;       ===                                     ===
10715                            3055     ;       ===             起動中                  ===
10716                            3056     ;       ===                                     ===
10717                            3057     ;       ===========================================
10718 00001118 D609              3058             MOV.L   #_MNWR_POS_CMD,R6                                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    82
PROGRAM NAME =

10719 0000111A 6061              3059             MOV.W   @R6,R0                                                          ;
10720 0000111C 2008              3060             TST     R0,R0                                                           ;ﾊﾟﾙｽ払出
                                          即停止
10721                            3061             TST_BIT_ON INT_POSCTL_0220                                              ;
10722 0000111E 8B19                   M           BF      INT_POSCTL_0220
10723                            3062             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT3,WKREG=R1    ;
10724 00001120 D108                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10725 00001122 6011                   M           MOV.W   @R1,R0          ;
10726 00001124 CB08                   M           OR      #BIT3,R0                ;
10727 00001126 2101                   M           MOV.W   R0,@R1          ;
10728                            3063             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
10729 00001128 D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10730 0000112A 400B                   M           JSR     @R0                     ;
10731 0000112C 0009                   M           NOP                                     ;
10732                            3064             FAR_JSR #_POS_LSI_EMG_STOP,R0                                           ;急停止
10733 0000112E D007                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10734 00001130 400B                   M           JSR     @R0                     ;
10735 00001132 0009                   M           NOP                                     ;
10736                            3065             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0                                  ;2004-03-0
                                          3
10737 00001134 D006                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10738 00001136 400B                   M           JSR     @R0                     ;
10739 00001138 0009                   M           NOP                                     ;
10740                            3066             M_BRA   INT_POSCTL_0800                                                 ;
10741 0000113A A0AC                   M           BRA     INT_POSCTL_0800
10742 0000113C 0009                   M           NOP
10743                            3067     
10744                                     ***** BEGIN-POOL *****
10745 0000113E 0000                       ALIGNMENT CODE
10746 00001140 00000000                   DATA FOR SOURCE-LINE 3058
10747 00001144 00000000                   DATA FOR SOURCE-LINE 3062
10748 00001148 00000000                   DATA FOR SOURCE-LINE 3063
10749 0000114C 00000000                   DATA FOR SOURCE-LINE 3064
10750 00001150 00000000                   DATA FOR SOURCE-LINE 3065
10751                                     ***** END-POOL *****
10752 00001154                   3068     INT_POSCTL_0220:                                                                ;
10753 00001154 C802              3069             TST     #BIT1,R0                                                        ;減速停止ｺ
                                          ﾏﾝﾄﾞ
10754                            3070             TST_BIT_OF INT_POSCTL_0240                                              ;
10755 00001156 8917                   M           BT      INT_POSCTL_0240
10756                            3071             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT2,WKREG=R1    ;
10757 00001158 D107                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10758 0000115A 6011                   M           MOV.W   @R1,R0          ;
10759 0000115C CB04                   M           OR      #BIT2,R0                ;
10760 0000115E 2101                   M           MOV.W   R0,@R1          ;
10761                            3072             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
10762 00001160 D006                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10763 00001162 400B                   M           JSR     @R0                     ;
10764 00001164 0009                   M           NOP                                     ;
10765                            3073             FAR_JSR #_POS_LSI_SLOW_STOP,R0                                          ;
10766 00001166 D006                   M           MOV.L   #_POS_LSI_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10767 00001168 400B                   M           JSR     @R0                     ;
10768 0000116A 0009                   M           NOP                                     ;
10769                            3074             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0                                  ;2004-03-0
                                          3
10770 0000116C D005                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10771 0000116E 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    83
PROGRAM NAME =

10772 00001170 0009                   M           NOP                                     ;
10773                            3075             M_BRA   INT_POSCTL_0800                                                 ;
10774 00001172 A090                   M           BRA     INT_POSCTL_0800
10775 00001174 0009                   M           NOP
10776                            3076     
10777                                     ***** BEGIN-POOL *****
10778 00001176 0000                       ALIGNMENT CODE
10779 00001178 00000000                   DATA FOR SOURCE-LINE 3071
10780 0000117C 00000000                   DATA FOR SOURCE-LINE 3072
10781 00001180 00000000                   DATA FOR SOURCE-LINE 3073
10782 00001184 00000000                   DATA FOR SOURCE-LINE 3074
10783                                     ***** END-POOL *****
10784 00001188                   3077     INT_POSCTL_0240:
10785                            3078     ;       ==========(位置決め完了・継続) ==========
10786 00001188 D109              3079             MOV.L   #_INT_POS_STEP_FLG,R1                                           ;//ｽﾃｯﾌﾟ,
                                          段取り共通
10787 0000118A 6011              3080             MOV.W   @R1,R0                                                          ;
10788 0000118C C840              3081             TST     #BIT6,R0                                                        ;工程終了
10789                            3082             TST_BIT_OF INT_POSCTL_0250                                              ;
10790 0000118E 8919                   M           BT      INT_POSCTL_0250
10791                            3083             FAR_JSR #_CYC_END_POS_FLG_SET,R0                                        ;
10792 00001190 D008                   M           MOV.L   #_CYC_END_POS_FLG_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10793 00001192 400B                   M           JSR     @R0                     ;
10794 00001194 0009                   M           NOP                                     ;
10795                            3084             FAR_JSR #_CYC_END_POS_FLG_CLR,R0                                        ;
10796 00001196 D008                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10797 00001198 400B                   M           JSR     @R0                     ;
10798 0000119A 0009                   M           NOP                                     ;
10799                            3085     
10800                            3086              .AIF   1 EQ 1  ;
10801                            3087 C   ;       -------- 2016-10-31 ADD 二重回路対策
10802                            3088              .AENDI
10803                            3089     ;       ---------2016-06-13[3]
10804                            3090             FAR_JSR #_DNM_CYCLE_END,R0                      ;2016-06-13[3]
10805 0000119C D007                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10806 0000119E 400B                   M           JSR     @R0                     ;
10807 000011A0 0009                   M           NOP                                     ;
10808                            3091     
10809                            3092             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT6,WKREG=R1    ;位置決め
                                          完了
10810 000011A2 D107                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10811 000011A4 6011                   M           MOV.W   @R1,R0          ;
10812 000011A6 CB40                   M           OR      #BIT6,R0                ;
10813 000011A8 2101                   M           MOV.W   R0,@R1          ;
10814                            3093             M_BRA   INT_POSCTL_0800                                                 ;
10815 000011AA A074                   M           BRA     INT_POSCTL_0800
10816 000011AC 0009                   M           NOP
10817                            3094     
10818                            3095     
10819                                     ***** BEGIN-POOL *****
10820 000011AE 0000                       ALIGNMENT CODE
10821 000011B0 00000000                   DATA FOR SOURCE-LINE 3079
10822 000011B4 00000000                   DATA FOR SOURCE-LINE 3083
10823 000011B8 00000000                   DATA FOR SOURCE-LINE 3084
10824 000011BC 00000000                   DATA FOR SOURCE-LINE 3090
10825 000011C0 00000000                   DATA FOR SOURCE-LINE 3092
10826                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    84
PROGRAM NAME =

10827 000011C4                   3096     INT_POSCTL_0250:
10828 000011C4 D105              3097             MOV.L   #_MODE_SEL,R1                   ;
10829 000011C6 6011              3098             MOV.W   @R1,R0                          ;
10830 000011C8 C820              3099             TST     #_W1DIC,R0                      ;
10831                            3100             TST_BIT_ON INT_POSCTL_0260              ;段取
10832 000011CA 8B0B                   M           BF      INT_POSCTL_0260
10833                            3101     
10834 000011CC C840              3102             TST     #_W1DUP,R0                      ;
10835                            3103             TST_BIT_ON INT_POSCTL_0260              ;待機点復帰
10836 000011CE 8B09                   M           BF      INT_POSCTL_0260
10837                            3104     
10838                            3105     
10839                            3106             FAR_JSR #_POS_ALL_STEP_CTRL,R0          ;ﾓｰｼｮﾝ
10840 000011D0 D003                   M           MOV.L   #_POS_ALL_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10841 000011D2 400B                   M           JSR     @R0                     ;
10842 000011D4 0009                   M           NOP                                     ;
10843                            3107     
10844                            3108             M_BRA   INT_POSCTL_0280                 ;
10845 000011D6 A008                   M           BRA     INT_POSCTL_0280
10846 000011D8 0009                   M           NOP
10847                            3109     
10848                                     ***** BEGIN-POOL *****
10849 000011DA 0000                       ALIGNMENT CODE
10850 000011DC 00000000                   DATA FOR SOURCE-LINE 3097
10851 000011E0 00000000                   DATA FOR SOURCE-LINE 3106
10852                                     ***** END-POOL *****
10853 000011E4                   3110     INT_POSCTL_0260:                                ;
10854                            3111             FAR_JSR #_DND_ALL_STEP_CTRL,R0          ;(((((((((((段取毎スキャン)))))))))))))))
10855 000011E4 D00A                   M           MOV.L   #_DND_ALL_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10856 000011E6 400B                   M           JSR     @R0                     ;
10857 000011E8 0009                   M           NOP                                     ;
10858 000011EA                   3112     INT_POSCTL_0280:
10859                            3113             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
10860 000011EA D00A                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10861 000011EC 400B                   M           JSR     @R0                     ;
10862 000011EE 0009                   M           NOP                                     ;
10863                            3114     
10864                            3115     ;       === FLAG SET(REST-PLS REFLASH-END)====
10865                            3116             eSHi_SET_IM_MOV DST=_SH4_REST_RL_HF,L1=W,WKREG1=R1,WKREG2=R0,IMD=1      ;
10866                                 M           PUSH_REG1 R1            ;
10867 000011F0 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
10868                                 M                                           ;REG=>[SP]
10869                                 M                                           ;"-4" FF,FF,FF,FC
10870                                 M           PUSH_REG1 R0            ;
10871 000011F2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
10872                                 M                                           ;REG=>[SP]
10873                                 M                                           ;"-4" FF,FF,FF,FC
10874 000011F4 900B                   M           MOV.W   #1,R0           ;
10875 000011F6 D108                   M           MOV.L   #_SH4_REST_RL_HF,R1             ;
10876 000011F8 2101                   M           MOV.W   R0,@R1  ;
10877                                 M           POP_REG1 R0             ;
10878                                 M                                   ; RE"+4" 00,00,00,04
10879 000011FA 60F6                   M           MOV.L   @R15+,R0        ;
10880                                 M           POP_REG1 R1             ;
10881                                 M                                   ; RE"+4" 00,00,00,04
10882 000011FC 61F6                   M           MOV.L   @R15+,R1        ;
10883                            3117     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    85
PROGRAM NAME =

10884                            3118     
10885                            3119     ;       === 2004-01-28===
10886                            3120             FAR_JSR #_ERR_INFO_DT_CHK2,R0           ;0CHEAK(起動中常時) SGL-ONLY
10887 000011FE D007                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10888 00001200 400B                   M           JSR     @R0                     ;
10889 00001202 0009                   M           NOP                                     ;
10890                            3121             FAR_JSR #_ERR_INFO_DT_CHK3,R0           ;PLS SGL-OMLY
10891 00001204 D006                   M           MOV.L   #_ERR_INFO_DT_CHK3,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10892 00001206 400B                   M           JSR     @R0                     ;
10893 00001208 0009                   M           NOP                                     ;
10894                            3122     
10895                            3123             .AIF 0  EQ 1    ;2006-09-19
10896                            3124             FAR_JSR #_ERR_INFO_DT_CHK_CMP2,R0       ;SGL-ONLY
10897                            3125             .AENDI
10898                            3126     
10899                            3127             M_BRA   INT_POSCTL_0800
10900 0000120A A044                   M           BRA     INT_POSCTL_0800
10901 0000120C 0009                   M           NOP
10902                            3128     
10903                            3129     
10904                            3130     ;       ***************************************************
10905                            3131     ;       ***             終わりへ向かう状態              ***
10906                            3132     ;       ***************************************************
10907                                     ***** BEGIN-POOL *****
10908 0000120E 0001                       DATA FOR SOURCE-LINE 3116
10909 00001210 00000000                   DATA FOR SOURCE-LINE 3111
10910 00001214 00000000                   DATA FOR SOURCE-LINE 3113
10911 00001218 00000000                   DATA FOR SOURCE-LINE 3116
10912 0000121C 00000000                   DATA FOR SOURCE-LINE 3120
10913 00001220 00000000                   DATA FOR SOURCE-LINE 3121
10914                                     ***** END-POOL *****
10915 00001224                   3133     INT_POSCTL_0300:
10916 00001224 C840              3134             TST     #BIT6,R0                        ;
10917                            3135             TST_BIT_ON INT_POSCTL_0700              ;(位置決め完了状態)起動指令OFF待ち
10918 00001226 8B2D                   M           BF      INT_POSCTL_0700
10919 00001228 C808              3136             TST     #BIT3,R0                        ;
10920                            3137             TST_BIT_ON INT_POSCTL_0500              ;急停止の払出待ち
10921 0000122A 8B1B                   M           BF      INT_POSCTL_0500
10922 0000122C C804              3138             TST     #BIT2,R0                        ;
10923                            3139             TST_BIT_ON INT_POSCTL_0320              ;減速停止の払出待ち
10924 0000122E 8B01                   M           BF      INT_POSCTL_0320
10925                            3140             M_BRA   INT_POSCTL_0900                 ;ｱｲﾄﾞﾙ
10926 00001230 A032                   M           BRA     INT_POSCTL_0900
10927 00001232 0009                   M           NOP
10928                            3141     
10929 00001234                   3142     INT_POSCTL_0320:
10930                            3143     ;       ===========================================
10931                            3144     ;       ===             減速停止中              ===
10932                            3145     ;       ===========================================
10933 00001234 D607              3146             MOV.L   #_MNWR_POS_CMD,R6               ;
10934 00001236 6061              3147             MOV.W   @R6,R0                          ;
10935 00001238 2008              3148             TST     R0,R0                           ;ﾊﾟﾙｽ払出即停止
10936                            3149             TST_BIT_ON INT_POSCTL_0500      ;
10937 0000123A 8B13                   M           BF      INT_POSCTL_0500
10938                            3150             FAR_JSR #_FWD_REV_STSIG_OFF,R0          ;起動信号一定時間ONしたらOFF:但し払い出し
                                          中が立つ
10939 0000123C D006                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    86
PROGRAM NAME =

10940 0000123E 400B                   M           JSR     @R0                     ;
10941 00001240 0009                   M           NOP                                     ;
10942                            3151             FAR_JSR #_POS_LSI_EMG_STOP,R0           ;急停止
10943 00001242 D006                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10944 00001244 400B                   M           JSR     @R0                     ;
10945 00001246 0009                   M           NOP                                     ;
10946                            3152             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT3,WKREG=R1    ;急停止へ
10947 00001248 D105                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10948 0000124A 6011                   M           MOV.W   @R1,R0          ;
10949 0000124C CB08                   M           OR      #BIT3,R0                ;
10950 0000124E 2101                   M           MOV.W   R0,@R1          ;
10951                            3153             M_BRA   INT_POSCTL_0800                 ;
10952 00001250 A021                   M           BRA     INT_POSCTL_0800
10953 00001252 0009                   M           NOP
10954                            3154     
10955                            3155     
10956                            3156     ;       ===========================================
10957                            3157     ;       ===             急停止中                ===
10958                            3158     ;       ===========================================
10959                                     ***** BEGIN-POOL *****
10960 00001254 00000000                   DATA FOR SOURCE-LINE 3146
10961 00001258 00000000                   DATA FOR SOURCE-LINE 3150
10962 0000125C 00000000                   DATA FOR SOURCE-LINE 3151
10963 00001260 00000000                   DATA FOR SOURCE-LINE 3152
10964                                     ***** END-POOL *****
10965 00001264                   3159     INT_POSCTL_0500:
10966                            3160             FAR_JSR #_LOD_POS_STS_REG_SLOW,R1       ;
10967 00001264 D105                   M           MOV.L   #_LOD_POS_STS_REG_SLOW,R1               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10968 00001266 410B                   M           JSR     @R1                     ;
10969 00001268 0009                   M           NOP                                     ;
10970 0000126A C804              3161             TST     #BIT2,R0                        ;停止?
10971                            3162             TST_BIT_OF INT_POSCTL_0800              ;
10972 0000126C 8913                   M           BT      INT_POSCTL_0800
10973                            3163             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT6,WKREG=R1    ;位置決め
                                          完了
10974 0000126E D104                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10975 00001270 6011                   M           MOV.W   @R1,R0          ;
10976 00001272 CB40                   M           OR      #BIT6,R0                ;
10977 00001274 2101                   M           MOV.W   R0,@R1          ;
10978                            3164             M_BRA   INT_POSCTL_0800         ;
10979 00001276 A00E                   M           BRA     INT_POSCTL_0800
10980 00001278 0009                   M           NOP
10981                            3165     
10982                            3166     
10983                            3167     
10984                            3168     
10985                            3169     
10986                            3170     
10987                            3171     
10988                            3172     ;       ===========================================
10989                            3173     ;       ===             位置決め完了待ち        ===
10990                            3174     ;       ===========================================
10991                                     ***** BEGIN-POOL *****
10992 0000127A 0000                       ALIGNMENT CODE
10993 0000127C 00000000                   DATA FOR SOURCE-LINE 3160
10994 00001280 00000000                   DATA FOR SOURCE-LINE 3163
10995                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    87
PROGRAM NAME =

10996 00001284                   3175     INT_POSCTL_0700:                                        ;
10997 00001284 D512              3176             MOV.L   #_INT_CYC_DRV_STS,R5    ;//BIT0:CYCLE　END()
10998 00001286 6051              3177             MOV.W   @R5,R0                  ;
10999 00001288 C840              3178             TST     #BIT6,R0                ;
11000                            3179             TST_BIT_ON INT_POSCTL_0900      ;
11001 0000128A 8B05                   M           BF      INT_POSCTL_0900
11002 0000128C CB40              3180             OR      #BIT6,R0                ;
11003 0000128E 2501              3181             MOV.W   R0,@R5                  ;位置決め完了SET
11004                            3182     ;       ===========================     ;
11005                            3183     ;       ===     運転終了        ===     ;
11006                            3184     ;       ===========================     ;
11007                            3185             FAR_JSR #_INT_POS_CTL_END,R0    ;
11008 00001290 D010                   M           MOV.L   #_INT_POS_CTL_END,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11009 00001292 400B                   M           JSR     @R0                     ;
11010 00001294 0009                   M           NOP                                     ;
11011 00001296                   3186     INT_POSCTL_0800:
11012 00001296 0009              3187             NOP
11013 00001298                   3188     INT_POSCTL_0900:
11014                            3189             MEM_MOV_TO_MEM  _POS_CALC_ERR_FLG1,W    ,_POS_CALC_ERR_INF1,W,R1,R2,R3
                                          ;
11015 00001298 D10F                   M           MOV.L   #_POS_CALC_ERR_FLG1,R1
11016 0000129A 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
11017 0000129C D30F                   M           MOV.L   #_POS_CALC_ERR_INF1,R3  ;DST_ADR
11018 0000129E 2321                   M           MOV.W   R2,@R3  ;DST_ADR
11019                            3190             MEM_MOV_TO_MEM  _POS_CALC_ERR_FLG2,W    ,_POS_CALC_ERR_INF2,W,R1,R2,R3
                                          ;
11020 000012A0 D10F                   M           MOV.L   #_POS_CALC_ERR_FLG2,R1
11021 000012A2 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
11022 000012A4 D30F                   M           MOV.L   #_POS_CALC_ERR_INF2,R3  ;DST_ADR
11023 000012A6 2321                   M           MOV.W   R2,@R3  ;DST_ADR
11024                            3191             MEM_MOV_TO_MEM  _POS_LSI_ACS_ERR_FLG1,W ,_POS_LSI_ACS_ERR_INF1,W,R1,R2,R3
                                          ;
11025 000012A8 D10F                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1
11026 000012AA 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
11027 000012AC D30F                   M           MOV.L   #_POS_LSI_ACS_ERR_INF1,R3       ;DST_ADR
11028 000012AE 2321                   M           MOV.W   R2,@R3  ;DST_ADR
11029                            3192     
11030                            3193     
11031                            3194     
11032                            3195             FAR_JSR #_POS_OVER_RUN_CHK1,R0          ;[S01m 2003-04-03]
11033 000012B0 D00F                   M           MOV.L   #_POS_OVER_RUN_CHK1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11034 000012B2 400B                   M           JSR     @R0                     ;
11035 000012B4 0009                   M           NOP                                     ;
11036                            3196     
11037 000012B6                   3197     INT_POSCTL_0910:
11038                            3198     
11039                            3199     
11040                            3200     ;;;2011-09-14移動[ﾌﾞﾚｰｷﾃｽﾄ中はｵｰﾊﾞﾗﾝを見ない]   FAR_JSR #_POS_OVER_RUN_CHK1,R0          ;[
                                          S01m 2003-04-03]
11041                            3201     
11042                            3202     
11043                            3203     
11044                            3204     
11045                            3205             FAR_JSR #_ERR_STOP_MOV_CHK,R0           ;FLG=R0
11046 000012B6 D00F                   M           MOV.L   #_ERR_STOP_MOV_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11047 000012B8 400B                   M           JSR     @R0                     ;
11048 000012BA 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    88
PROGRAM NAME =

11049 000012BC 2008              3206             TST     R0,R0                           ;
11050                            3207             TST_BIT_ON INT_POSCTL_0920              ;
11051 000012BE 8B1D                   M           BF      INT_POSCTL_0920
11052                            3208             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT1),WKRG1=R1,WKRG2=R4
11053 000012C0 D10D                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11054 000012C2 6011                   M           MOV.W   @R1,R0          ;
11055 000012C4 9403                   M           MOV.W   #LWORD (~BIT1),R4       ;
11056 000012C6 2049                   M           AND     R4,R0           ;
11057 000012C8 2101                   M           MOV.W   R0,@R1          ;
11058                            3209             M_BRA   INT_POSCTL_0950                 ;
11059 000012CA A01C                   M           BRA     INT_POSCTL_0950
11060 000012CC 0009                   M           NOP
11061                                     ***** BEGIN-POOL *****
11062 000012CE FFFD                       DATA FOR SOURCE-LINE 3208
11063 000012D0 00000000                   DATA FOR SOURCE-LINE 3176
11064 000012D4 00000000                   DATA FOR SOURCE-LINE 3185
11065 000012D8 00000000                   DATA FOR SOURCE-LINE 3189
11066 000012DC 00000000                   DATA FOR SOURCE-LINE 3189
11067 000012E0 00000000                   DATA FOR SOURCE-LINE 3190
11068 000012E4 00000000                   DATA FOR SOURCE-LINE 3190
11069 000012E8 00000000                   DATA FOR SOURCE-LINE 3191
11070 000012EC 00000000                   DATA FOR SOURCE-LINE 3191
11071 000012F0 00000000                   DATA FOR SOURCE-LINE 3195
11072 000012F4 00000000                   DATA FOR SOURCE-LINE 3205
11073 000012F8 00000000                   DATA FOR SOURCE-LINE 3208
11074                                     ***** END-POOL *****
11075 000012FC                   3210     INT_POSCTL_0920:
11076                            3211             MEM1_BIT0_F_ORSET MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(BIT1),WKRG1=R1,WKRG2=R4
11077 000012FC D11A                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
11078 000012FE 6011                   M           MOV.W   @R1,R0          ;
11079 00001300 9430                   M           MOV.W   #(BIT1),R4              ;
11080 00001302 204B                   M           OR      R4,R0           ;
11081 00001304 2101                   M           MOV.W   R0,@R1          ;
11082 00001306                   3212     INT_POSCTL_0950:
11083                            3213     
11084                            3214     ;       ------ 2006-09-19 -------
11085                            3215             FAR_JSR #_MONI_SEINOU_CMP_OUTPUT,R0                     ;制御(_SH_POSCTL_RL_ABSPLS
                                          )を使用している注意
11086 00001306 D019                   M           MOV.L   #_MONI_SEINOU_CMP_OUTPUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11087 00001308 400B                   M           JSR     @R0                     ;
11088 0000130A 0009                   M           NOP                                     ;
11089                            3216             FAR_JSR #_RL_POS_DATA_CHK,R0                            ;
11090 0000130C D018                   M           MOV.L   #_RL_POS_DATA_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11091 0000130E 400B                   M           JSR     @R0                     ;
11092 00001310 0009                   M           NOP                                     ;
11093                            3217     
11094                            3218             FAR_JSR #_CNT_HOSEI_CHK_CALC,R0                         ;
11095 00001312 D018                   M           MOV.L   #_CNT_HOSEI_CHK_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11096 00001314 400B                   M           JSR     @R0                     ;
11097 00001316 0009                   M           NOP                                     ;
11098                            3219     
11099                            3220     ;       ----------------------------------------------
11100                            3221             FAR_JSR #_PLS_LSI_CTRL,R0                       ;
11101 00001318 D017                   M           MOV.L   #_PLS_LSI_CTRL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11102 0000131A 400B                   M           JSR     @R0                     ;
11103 0000131C 0009                   M           NOP                                     ;
11104                            3222     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    89
PROGRAM NAME =

11105                            3223     
11106                            3224     ;       ------2012-05-15---------------
11107 0000131E D117              3225             MOV.L   #_DURING_TIM_FX,R1              ;ﾓﾆﾀ
11108 00001320 6211              3226             MOV.W   @R1,R2                          ;
11109 00001322 622C              3227             EXTU.B  R2,R2                           ;
11110                            3228     
11111 00001324 D116              3229             MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;2012-05-30
11112 00001326 6011              3230             MOV.W   @R1,R0                          ;
11113 00001328 4018              3231             SHLL8   R0                              ;
11114 0000132A 220B              3232             OR      R0,R2                           ;
11115                            3233     
11116 0000132C D115              3234             MOV.L   #_SQ_CBWK_TOP+_WKSQCB231,R1     ;
11117 0000132E 2121              3235             MOV.W   R2,@R1                          ;
11118                            3236     
11119                            3237     ;       ------2012-10-01---------------
11120 00001330 D115              3238             MOV.L   #_INT_CLS_CTL_FLG,R1            ;
11121 00001332 6211              3239             MOV.W   @R1,R2                          ;
11122 00001334 622C              3240             EXTU.B  R2,R2                           ;
11123                            3241     
11124                            3242     ;       -------- 2019-04-10-------------
11125 00001336 233A              3243             XOR             R3,R3
11126 00001338 D114              3244             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1      ;//ふりこの場合の前回までの動作方向(今回動
                                          きべき方向) 非常停止の影響ない
11127 0000133A 6011              3245             MOV.W   @R1,R0                                          ;
11128 0000133C 2008              3246             TST             R0,R0
11129                            3247             TST_BIT_OF      DEBUG_SIGINC_100
11130 0000133E 8900                   M           BT      DEBUG_SIGINC_100
11131 00001340 E302              3248             MOV.B   #BIT1,R3
11132 00001342                   3249     DEBUG_SIGINC_100:
11133                            3250     
11134 00001342 244A              3251             XOR             R4,R4
11135                            3252     ;;;
11136                            3253     ;;;     MOV.L   #_HANTEN_LAST_STEP_F,R1         ;
11137                            3254     ;;;     MOV.W   @R1,R0                                          ;
11138                            3255     ;;;     TST             R0,R0
11139                            3256     ;;;     TST_BIT_OF      DEBUG_SIGNEG_100                ;
11140                            3257     ;;;     MOV.B   #BIT2,R4
11141                            3258     ;;;DEBUG_SIGNEG_100:                                            ;
11142                            3259     ;;;
11143                            3260     
11144 00001344 D112              3261             MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
11145 00001346 6011              3262             MOV.W   @R1,R0                                          ;
11146 00001348 C901              3263             AND             #BIT0,R0                                        ;
11147                            3264     
11148 0000134A 203B              3265             OR              R3,R0                                           ;BIT1->232.9
11149 0000134C 204B              3266             OR              R4,R0                                           ;BIT2->232.10
11150 0000134E 4018              3267             SHLL8   R0                                                      ;BIT0->232.8
11151 00001350 220B              3268             OR      R0,R2                                                   ;
11152                            3269     
11153 00001352 D110              3270             MOV.L   #_SQ_CBWK_TOP+_WKSQCB232,R1     ;
11154 00001354 2121              3271             MOV.W   R2,@R1                          ;
11155                            3272     
11156                            3273     
11157                            3274     ;----------2013-08-20
11158 00001356 D110              3275             MOV.L   #_POSCTL_STEP_FLG,R1            ;
11159 00001358 6211              3276             MOV.W   @R1,R2                          ;
11160 0000135A D110              3277             MOV.L   #_SQ_CBWK_TOP+_WKSQCB233,R1     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    90
PROGRAM NAME =

11161 0000135C 2121              3278             MOV.W   R2,@R1                          ;
11162                            3279     
11163                            3280     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_LSI_BUF_PLS_BitComdL+0,R1
11164                            3281     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   @R1,R2                          ;
11165                            3282     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_SQ_CBWK_TOP+_WKSQCB234,R1     ;
11166                            3283     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   R2,@R1                          ;
11167                            3284     ;;;;;;;;;;;;;;;;;;;2015-07-07
11168                            3285     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_LSI_BUF_PLS_BitComdL+2,R1
11169                            3286     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   @R1,R2                          ;
11170                            3287     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_SQ_CBWK_TOP+_WKSQCB235,R1     ;
11171                            3288     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   R2,@R1                          ;
11172                            3289     
11173                            3290     
11174                            3291     
11175                            3292             SUB_END
11176                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11177 0000135E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11178                            3293             M_RTS
11179 00001360 000B                   M           RTS                             ;RTSの後ろの
11180 00001362 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11181                            3294     
11182                            3295     ;       ***********************************
11183                            3296     ;       ***                             ***
11184                            3297     ;       ***     INT                     ***
11185                            3298     ;       ***                             ***
11186                            3299     ;       ***********************************
11187                                     ***** BEGIN-POOL *****
11188 00001364 0002                       DATA FOR SOURCE-LINE 3211
11189 00001366 0000                       ALIGNMENT CODE
11190 00001368 00000000                   DATA FOR SOURCE-LINE 3211
11191 0000136C 00000000                   DATA FOR SOURCE-LINE 3215
11192 00001370 00000000                   DATA FOR SOURCE-LINE 3216
11193 00001374 00000000                   DATA FOR SOURCE-LINE 3218
11194 00001378 00000000                   DATA FOR SOURCE-LINE 3221
11195 0000137C 00000000                   DATA FOR SOURCE-LINE 3225
11196 00001380 00000000                   DATA FOR SOURCE-LINE 3229
11197 00001384 00000000                   DATA FOR SOURCE-LINE 3234
11198 00001388 00000000                   DATA FOR SOURCE-LINE 3238
11199 0000138C 00000000                   DATA FOR SOURCE-LINE 3244
11200 00001390 00000000                   DATA FOR SOURCE-LINE 3261
11201 00001394 00000000                   DATA FOR SOURCE-LINE 3270
11202 00001398 00000000                   DATA FOR SOURCE-LINE 3275
11203 0000139C 00000000                   DATA FOR SOURCE-LINE 3277
11204                                     ***** END-POOL *****
11205 000013A0                   3300             .ALIGN  4                               ;
11206 000013A0                   3301     _INT_POS_CTL_END:
11207                            3302             SUB_START
11208 000013A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
11209                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11210 000013A2 200A              3303             XOR     R0,R0
11211 000013A4 D10E              3304             MOV.L   #_INT_POS_CTL_FLAG,R1;
11212 000013A6 2101              3305             MOV.W   R0,@R1
11213 000013A8 D10E              3306             MOV.L   #_INT_POS_STEP_FLG,R1;
11214 000013AA 2101              3307             MOV.W   R0,@R1
11215 000013AC D10E              3308             MOV.L   #_INT_POS_CTL_STEP,R1;
11216 000013AE 2101              3309             MOV.W   R0,@R1
11217                            3310     ;       ===========================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    91
PROGRAM NAME =

11218 000013B0 D10E              3311             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
11219 000013B2 2101              3312             MOV.W   R0,@R1                          ;
11220                            3313     ;       ===========================
11221                            3314     
11222 000013B4 D10E              3315             MOV.L   #_INT_DND_CTL_STEP,R1;
11223 000013B6 2101              3316             MOV.W   R0,@R1
11224 000013B8 D10E              3317             MOV.L   #_INT_DND_STEP_FLG,R1;
11225 000013BA 2101              3318             MOV.W   R0,@R1
11226                            3319     
11227 000013BC D10E              3320             MOV.L   #_LNGTH_ADD_DATA,R1;[2];//符号付き
11228 000013BE 2102              3321             MOV.L   R0,@R1
11229 000013C0 1101              3322             MOV.L   R0,@(4,R1)
11230                            3323     
11231 000013C2 D10E              3324             MOV.L   #_LNGTH_TOTAL_OUTPLS,R1;[2];//符号つき TOTAL=TOTAL+ADD ADD_DATA<=0
11232 000013C4 2102              3325             MOV.L   R0,@R1
11233 000013C6 1101              3326             MOV.L   R0,@(4,R1)
11234                            3327     
11235 000013C8 D10D              3328             MOV.L   #_POSLSI_CMP_DATA,R1;//CMP_DATA=CMP_DATA+|ADD_DATA| (符号なし)
11236 000013CA 2102              3329             MOV.L   R0,@R1
11237                            3330     
11238 000013CC D10D              3331             MOV.L   #_POSLSI_DELT_POS,R1;//変化分
11239 000013CE 2102              3332             MOV.L   R0,@R1
11240                            3333     
11241 000013D0 D10D              3334             MOV.L   #_OUTPLS_MOD,R1         ;
11242 000013D2 2102              3335             MOV.L   R0,@R1                  ;
11243                            3336     
11244                            3337     
11245                            3338     ;       ------- 2015-11-17 -----------------------
11246                            3339     ;2016-04-18     FAR_JSR #_API_ACCLW_DRV_STOP,R0
11247                            3340             FAR_JSR #_API_ACC_MATHED_COM_DRV_STOP,R0        ;2016-04-18
11248 000013D4 D00D                   M           MOV.L   #_API_ACC_MATHED_COM_DRV_STOP,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11249 000013D6 400B                   M           JSR     @R0                     ;
11250 000013D8 0009                   M           NOP                                     ;
11251                            3341     
11252                            3342             SUB_END
11253                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11254 000013DA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11255                            3343             M_RTS
11256 000013DC 000B                   M           RTS                             ;RTSの後ろの
11257 000013DE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11258                            3344     
11259                            3345     
11260                            3346     
11261                            3347     
11262                            3348     ;       ***********************************
11263                            3349     ;       ***                             ***
11264                            3350     ;       ***     移動距離と速度          ***
11265                            3351     ;       ***                             ***
11266                            3352     ;       ***********************************
11267                                     ***** BEGIN-POOL *****
11268 000013E0 00000000                   DATA FOR SOURCE-LINE 3304
11269 000013E4 00000000                   DATA FOR SOURCE-LINE 3306
11270 000013E8 00000000                   DATA FOR SOURCE-LINE 3308
11271 000013EC 00000000                   DATA FOR SOURCE-LINE 3311
11272 000013F0 00000000                   DATA FOR SOURCE-LINE 3315
11273 000013F4 00000000                   DATA FOR SOURCE-LINE 3317
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    92
PROGRAM NAME =

11274 000013F8 00000000                   DATA FOR SOURCE-LINE 3320
11275 000013FC 00000000                   DATA FOR SOURCE-LINE 3324
11276 00001400 00000000                   DATA FOR SOURCE-LINE 3328
11277 00001404 00000000                   DATA FOR SOURCE-LINE 3331
11278 00001408 00000000                   DATA FOR SOURCE-LINE 3334
11279 0000140C 00000000                   DATA FOR SOURCE-LINE 3340
11280                                     ***** END-POOL *****
11281 00001410                   3353             .ALIGN  4
11282 00001410                   3354     _POS_1STEP_DATA_MAK1:
11283                            3355             SUB_START
11284 00001410 4F22                   M           STS.L   PR,@-R15                ;[必要]
11285                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11286                            3356             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;DUMMY CALL
11287 00001412 D012                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11288 00001414 400B                   M           JSR     @R0                     ;
11289 00001416 0009                   M           NOP                                     ;
11290                            3357     
11291 00001418 D211              3358             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
11292 0000141A 6021              3359             MOV.W   @R2,R0                          ;
11293 0000141C 70FF              3360             ADD     #-1,R0                          ;
11294 0000141E 4008              3361             SHLL2   R0                              ;
11295 00001420 D410              3362             MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COPY
11296 00001422 024E              3363             MOV.L   @(R0,R4),R2                     ;
11297 00001424 D110              3364             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
11298 00001426 2122              3365             MOV.L   R2,@R1                          ;
11299                            3366     
11300                            3367     
11301                            3368             PUSH_REG1       R0
11302 00001428 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
11303                                 M                                           ;REG=>[SP]
11304                                 M                                           ;"-4" FF,FF,FF,FC
11305                            3369             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
11306 0000142A D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11307 0000142C 410B                   M           JSR     @R1                     ;
11308 0000142E 0009                   M           NOP                                     ;
11309                            3370             POP_REG1        R0                      ;R0=*4
11310                                 M                                   ; RE"+4" 00,00,00,04
11311 00001430 60F6                   M           MOV.L   @R15+,R0        ;
11312 00001432 4000              3371             SHLL    R0                              ;*2
11313 00001434 D40E              3372             MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
11314 00001436 340C              3373             ADD     R0,R4                   ;
11315 00001438 6146              3374             MOV.L   @R4+,R1                 ;
11316 0000143A 6242              3375             MOV.L   @R4,R2                  ;(目標位置)
11317                            3376             FAR_JSR #_LENGH_ADD_CALC,R0     ;
11318 0000143C D00D                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11319 0000143E 400B                   M           JSR     @R0                     ;
11320 00001440 0009                   M           NOP                                     ;
11321                            3377     
11322 00001442 233A              3378             XOR     R3,R3                   ;
11323 00001444 4111              3379             CMP/PZ  R1                      ;+正転?
11324 00001446 8900              3380             BT      POS_1STEP_DATMK1_050    ;
11325 00001448 E301              3381             MOV     #BIT0,R3                ;
11326 0000144A                   3382     POS_1STEP_DATMK1_050:
11327 0000144A D10B              3383             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
11328 0000144C 6011              3384             MOV.W   @R1,R0                  ;
11329 0000144E C9FE              3385             AND     #LOW ~BIT0,R0           ;
11330 00001450 203B              3386             OR      R3,R0                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    93
PROGRAM NAME =

11331 00001452 2101              3387             MOV.W   R0,@R1                  ;
11332                            3388             SUB_END
11333                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11334 00001454 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11335                            3389             M_RTS
11336 00001456 000B                   M           RTS                             ;RTSの後ろの
11337 00001458 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11338                            3390     
11339                            3391     
11340                            3392     ;       ***********************************
11341                            3393     ;       ***                             ***
11342                            3394     ;       ***     移動距離と速度          ***
11343                            3395     ;       ***     反転用                  ***
11344                            3396     ;       ***     2011-02-19              ***
11345                            3397     ;       ***                             ***
11346                            3398     ;       ***********************************
11347                            3399     ;
11348                            3400     ;       ・上昇のときはBEFOREしない
11349                            3401     ;       ・
11350                            3402     
11351                                     ***** BEGIN-POOL *****
11352 0000145A 0000                       ALIGNMENT CODE
11353 0000145C 00000000                   DATA FOR SOURCE-LINE 3356
11354 00001460 00000000                   DATA FOR SOURCE-LINE 3358
11355 00001464 00000000                   DATA FOR SOURCE-LINE 3362
11356 00001468 00000000                   DATA FOR SOURCE-LINE 3364
11357 0000146C 00000000                   DATA FOR SOURCE-LINE 3369
11358 00001470 00000000                   DATA FOR SOURCE-LINE 3372
11359 00001474 00000000                   DATA FOR SOURCE-LINE 3376
11360 00001478 00000000                   DATA FOR SOURCE-LINE 3383
11361                                     ***** END-POOL *****
11362 0000147C                   3403             .ALIGN  4
11363 0000147C                   3404     _POS_1STEP_DATA_MAK1CL:
11364                            3405             SUB_START
11365 0000147C 4F22                   M           STS.L   PR,@-R15                ;[必要]
11366                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11367                            3406     ;----------------------------------------
11368                            3407             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0      ;
11369 0000147E D010                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11370 00001480 400B                   M           JSR     @R0                     ;
11371 00001482 0009                   M           NOP                                     ;
11372                            3408     
11373 00001484 D20F              3409             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
11374 00001486 6021              3410             MOV.W   @R2,R0                          ;
11375 00001488 70FF              3411             ADD     #-1,R0                          ;
11376 0000148A 4008              3412             SHLL2   R0                              ;
11377 0000148C D40E              3413             MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COPY
11378 0000148E 024E              3414             MOV.L   @(R0,R4),R2                     ;
11379 00001490 D10E              3415             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
11380 00001492 2122              3416             MOV.L   R2,@R1                          ;
11381                            3417     
11382                            3418     
11383                            3419             PUSH_REG1       R0
11384 00001494 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
11385                                 M                                           ;REG=>[SP]
11386                                 M                                           ;"-4" FF,FF,FF,FC
11387                            3420             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    94
PROGRAM NAME =

11388 00001496 D10E                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11389 00001498 410B                   M           JSR     @R1                     ;
11390 0000149A 0009                   M           NOP                                     ;
11391                            3421             POP_REG1        R0                      ;R0=*4
11392                                 M                                   ; RE"+4" 00,00,00,04
11393 0000149C 60F6                   M           MOV.L   @R15+,R0        ;
11394                            3422     
11395                            3423             PUSH_REG1 R0                            ;2012-10-05
11396 0000149E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
11397                                 M                                           ;REG=>[SP]
11398                                 M                                           ;"-4" FF,FF,FF,FC
11399                            3424     
11400 000014A0 4000              3425             SHLL    R0                              ;*2
11401 000014A2 D40C              3426             MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
11402 000014A4 340C              3427             ADD     R0,R4                           ;
11403 000014A6 6146              3428             MOV.L   @R4+,R1                         ;
11404 000014A8 6242              3429             MOV.L   @R4,R2                          ;(目標位置)
11405                            3430     
11406                            3431             POP_REG1 R0                             ;2012-10-05
11407                                 M                                   ; RE"+4" 00,00,00,04
11408 000014AA 60F6                   M           MOV.L   @R15+,R0        ;
11409                            3432     
11410                            3433     
11411                            3434     ;       --------------------
11412 000014AC D40A              3435             MOV.L   #_CPOS_SDAT1_INF1,R4            ;
11413 000014AE 340C              3436             ADD     R0,R4                           ;
11414 000014B0 6042              3437             MOV.L   @R4,R0                          ;
11415 000014B2 C802              3438             TST     #BIT1,R0                        ;
11416                            3439             TST_BIT_OF POS_1STEP_DATMK1CL_020       ;正
11417 000014B4 8914                   M           BT      POS_1STEP_DATMK1CL_020
11418                            3440     
11419                            3441     ;       ------------逆転[手前減速位置演算をしない]-------------
11420 000014B6 D409              3442             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R4       ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
11421 000014B8 2412              3443             MOV.L   R1,@R4                          ;
11422 000014BA 1421              3444             MOV.L   R2,@(4,R4)                      ;save
11423                            3445             M_BRA   POS_1STEP_DATMK1CL_040          ;
11424 000014BC A013                   M           BRA     POS_1STEP_DATMK1CL_040
11425 000014BE 0009                   M           NOP
11426                            3446     
11427                                     ***** BEGIN-POOL *****
11428 000014C0 00000000                   DATA FOR SOURCE-LINE 3407
11429 000014C4 00000000                   DATA FOR SOURCE-LINE 3409
11430 000014C8 00000000                   DATA FOR SOURCE-LINE 3413
11431 000014CC 00000000                   DATA FOR SOURCE-LINE 3415
11432 000014D0 00000000                   DATA FOR SOURCE-LINE 3420
11433 000014D4 00000000                   DATA FOR SOURCE-LINE 3426
11434 000014D8 00000000                   DATA FOR SOURCE-LINE 3435
11435 000014DC 00000000                   DATA FOR SOURCE-LINE 3442
11436                                     ***** END-POOL *****
11437 000014E0                   3447     POS_1STEP_DATMK1CL_020:
11438                            3448     ;       ============== input R1,R2 ===============
11439                            3449             FAR_JSR #_FUL_BEFOR_CALC,R0             ;[引いた結果が前段や待機点より小さくなる場
                                          合はそれより引かない]
11440 000014E0 D008                   M           MOV.L   #_FUL_BEFOR_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11441 000014E2 400B                   M           JSR     @R0                     ;
11442 000014E4 0009                   M           NOP                                     ;
11443                            3450     ;       ============== output R1,R2  =============
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    95
PROGRAM NAME =

11444 000014E6                   3451     POS_1STEP_DATMK1CL_040:
11445                            3452     
11446                            3453     
11447                            3454     
11448                            3455             FAR_JSR #_LENGH_ADD_CALC,R0             ;
11449 000014E6 D008                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11450 000014E8 400B                   M           JSR     @R0                     ;
11451 000014EA 0009                   M           NOP                                     ;
11452                            3456     
11453 000014EC 233A              3457             XOR     R3,R3                           ;
11454 000014EE 4111              3458             CMP/PZ  R1                              ;+正転?
11455 000014F0 8900              3459             BT      POS_1STEP_DATMK1CL_050          ;
11456 000014F2 E301              3460             MOV     #BIT0,R3                        ;
11457 000014F4                   3461     POS_1STEP_DATMK1CL_050:
11458 000014F4 D105              3462             MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
11459 000014F6 6011              3463             MOV.W   @R1,R0                          ;
11460 000014F8 C9FE              3464             AND     #LOW ~BIT0,R0                   ;
11461 000014FA 203B              3465             OR      R3,R0                           ;
11462 000014FC 2101              3466             MOV.W   R0,@R1                          ;
11463                            3467     ;       ----------------------------------------
11464                            3468             SUB_END
11465                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11466 000014FE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11467                            3469             M_RTS
11468 00001500 000B                   M           RTS                             ;RTSの後ろの
11469 00001502 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11470                            3470     
11471                            3471     ;       *******************************************
11472                            3472     ;       ***     input R1,R2 /Output R1,R2       ***
11473                            3473     ;       *******************************************
11474                                     ***** BEGIN-POOL *****
11475 00001504 00000000                   DATA FOR SOURCE-LINE 3449
11476 00001508 00000000                   DATA FOR SOURCE-LINE 3455
11477 0000150C 00000000                   DATA FOR SOURCE-LINE 3462
11478                                     ***** END-POOL *****
11479 00001510                   3474             .ALIGN  4                               ;
11480 00001510                   3475     _FUL_BEFOR_CALC:
11481                            3476             SUB_START
11482 00001510 4F22                   M           STS.L   PR,@-R15                ;[必要]
11483                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11484                            3477             PUSH_REG1 R0
11485 00001512 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
11486                                 M                                           ;REG=>[SP]
11487                                 M                                           ;"-4" FF,FF,FF,FC
11488                            3478             PUSH_REG1 R3
11489 00001514 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
11490                                 M                                           ;REG=>[SP]
11491                                 M                                           ;"-4" FF,FF,FF,FC
11492                            3479             PUSH_REG1 R4
11493 00001516 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
11494                                 M                                           ;REG=>[SP]
11495                                 M                                           ;"-4" FF,FF,FF,FC
11496                            3480             PUSH_REG1 R5
11497 00001518 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
11498                                 M                                           ;REG=>[SP]
11499                                 M                                           ;"-4" FF,FF,FF,FC
11500                            3481             PUSH_REG1 R6
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    96
PROGRAM NAME =

11501 0000151A 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
11502                                 M                                           ;REG=>[SP]
11503                                 M                                           ;"-4" FF,FF,FF,FC
11504                            3482     
11505 0000151C D508              3483             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R5               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
11506 0000151E 2512              3484             MOV.L   R1,@R5                                  ;
11507 00001520 1521              3485             MOV.L   R2,@(4,R5)                              ;save
11508                            3486     
11509 00001522 D408              3487             MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R4     ;//目標−手前
11510 00001524 6642              3488             MOV.L   @R4,R6                          ;
11511 00001526 255A              3489             XOR     R5,R5                           ;
11512 00001528 2668              3490             TST     R6,R6                           ;
11513                            3491             TST_BIT_OF FUL_BEFOR_CAL500             ;
11514 0000152A 8914                   M           BT      FUL_BEFOR_CAL500
11515                            3492     
11516 0000152C D306              3493             MOV.L   #_INT_POS_CTL_STEP,R3           ;//内部制御工程1~11
11517 0000152E 6031              3494             MOV.W   @R3,R0                          ;
11518 00001530 D306              3495             MOV.L   #_CPOS_STEP_MAX,R3              ;
11519 00001532 6431              3496             MOV.W   @R3,R4                          ;
11520 00001534 7401              3497             ADD     #1,R4                           ;
11521 00001536 3040              3498             CMP/EQ  R4,R0                           ;
11522 00001538 8B0A              3499             BF      FUL_BEFOR_CAL100                ;（この論理では戻り工程は１つだけになる）
11523                            3500             M_BRA   FUL_BEFOR_CAL500                ;戻り工程は演算しない
11524 0000153A A00C                   M           BRA     FUL_BEFOR_CAL500
11525 0000153C 0009                   M           NOP
11526                            3501     
11527                                     ***** BEGIN-POOL *****
11528 0000153E 0000                       ALIGNMENT CODE
11529 00001540 00000000                   DATA FOR SOURCE-LINE 3483
11530 00001544 00000000                   DATA FOR SOURCE-LINE 3487
11531 00001548 00000000                   DATA FOR SOURCE-LINE 3493
11532 0000154C 00000000                   DATA FOR SOURCE-LINE 3495
11533                                     ***** END-POOL *****
11534 00001550                   3502     FUL_BEFOR_CAL100:
11535                            3503     
11536                            3504             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
11537 00001550 0008                   M           CLRT
11538 00001552 326A                   M           SUBC    R6,R2
11539 00001554 315A                   M           SUBC    R5,R1
11540                            3505     
11541 00001556                   3506     FUL_BEFOR_CAL500:
11542                            3507             POP_REG1 R6
11543                                 M                                   ; RE"+4" 00,00,00,04
11544 00001556 66F6                   M           MOV.L   @R15+,R6        ;
11545                            3508             POP_REG1 R5
11546                                 M                                   ; RE"+4" 00,00,00,04
11547 00001558 65F6                   M           MOV.L   @R15+,R5        ;
11548                            3509             POP_REG1 R4
11549                                 M                                   ; RE"+4" 00,00,00,04
11550 0000155A 64F6                   M           MOV.L   @R15+,R4        ;
11551                            3510             POP_REG1 R3
11552                                 M                                   ; RE"+4" 00,00,00,04
11553 0000155C 63F6                   M           MOV.L   @R15+,R3        ;
11554                            3511             POP_REG1 R0
11555                                 M                                   ; RE"+4" 00,00,00,04
11556 0000155E 60F6                   M           MOV.L   @R15+,R0        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    97
PROGRAM NAME =

11557                            3512     
11558                            3513             SUB_END
11559                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11560 00001560 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11561                            3514             M_RTS
11562 00001562 000B                   M           RTS                             ;RTSの後ろの
11563 00001564 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11564                            3515     
11565                            3516     
11566 00001568                   3517             .ALIGN  4                               ;
11567 00001568                   3518     _FUL_START_FUL_OBJ_SET
11568                            3519             SUB_START
11569 00001568 4F22                   M           STS.L   PR,@-R15                ;[必要]
11570                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11571                            3520     
11572 0000156A D509              3521             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R5               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
11573 0000156C 6152              3522             MOV.L   @R5,R1                                  ;
11574 0000156E 5251              3523             MOV.L   @(4,R5),R2                              ;save
11575                            3524     
11576 00001570 D408              3525             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;
11577 00001572 1410              3526             MOV.L   R1,@(0,R4)
11578 00001574 1421              3527             MOV.L   R2,@(4,R4)                              ;
11579                            3528     
11580 00001576 D408              3529             MOV.L   #_POSCTL_SV_PLS,R4                      ;SV
11581 00001578 1410              3530             MOV.L   R1,@(0,R4)
11582 0000157A 1421              3531             MOV.L   R2,@(4,R4)                              ;
11583                            3532     
11584                            3533     ;       ---------------リアルタイム目標位置-----------
11585 0000157C D407              3534             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;
11586 0000157E 1410              3535             MOV.L   R1,@(0,R4)
11587 00001580 1421              3536             MOV.L   R2,@(4,R4)                              ;
11588                            3537     
11589 00001582 D407              3538             MOV.L   #_POSCTL_RL_PLS,R4                      ;
11590 00001584 1410              3539             MOV.L   R1,@(0,R4)
11591 00001586 1421              3540             MOV.L   R2,@(4,R4)                              ;
11592                            3541             SUB_END
11593                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11594 00001588 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11595                            3542             M_RTS
11596 0000158A 000B                   M           RTS                             ;RTSの後ろの
11597 0000158C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11598                            3543     
11599                            3544     
11600                            3545     ;       ***********************************
11601                            3546     ;       ***                             ***
11602                            3547     ;       ***     移動距離と速度          ***
11603                            3548     ;       ***     ふりこ・回転の通常      ***
11604                            3549     ;       ***                             ***
11605                            3550     ;       ***********************************
11606                            3551     ;       FAR_JSR #_LENGH_ADD_CALC,R0     ;
11607                            3552     ;       が
11608                            3553     ;       FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
11609                            3554     ;       になっているだけ
11610                            3555     ;
11611                            3556     
11612                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    98
PROGRAM NAME =

11613 0000158E 0000                       ALIGNMENT CODE
11614 00001590 00000000                   DATA FOR SOURCE-LINE 3521
11615 00001594 00000000                   DATA FOR SOURCE-LINE 3525
11616 00001598 00000000                   DATA FOR SOURCE-LINE 3529
11617 0000159C 00000000                   DATA FOR SOURCE-LINE 3534
11618 000015A0 00000000                   DATA FOR SOURCE-LINE 3538
11619                                     ***** END-POOL *****
11620 000015A4                   3557             .ALIGN  4                               ;
11621 000015A4                   3558     _POS_1STEP_DATA_MAK2:
11622                            3559             SUB_START
11623 000015A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
11624                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11625                            3560     
11626                            3561             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0      ;2010-10-05 実測を取り込まない
11627 000015A6 D012                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11628 000015A8 400B                   M           JSR     @R0                     ;
11629 000015AA 0009                   M           NOP                                     ;
11630                            3562     
11631 000015AC D211              3563             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
11632 000015AE 6021              3564             MOV.W   @R2,R0                          ;
11633 000015B0 70FF              3565             ADD     #-1,R0                          ;
11634 000015B2 4008              3566             SHLL2   R0                              ;
11635 000015B4 D410              3567             MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COPY
11636 000015B6 024E              3568             MOV.L   @(R0,R4),R2                     ;
11637 000015B8 D110              3569             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
11638 000015BA 2122              3570             MOV.L   R2,@R1                          ;
11639                            3571     
11640                            3572             PUSH_REG1       R0
11641 000015BC 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
11642                                 M                                           ;REG=>[SP]
11643                                 M                                           ;"-4" FF,FF,FF,FC
11644                            3573             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
11645 000015BE D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11646 000015C0 410B                   M           JSR     @R1                     ;
11647 000015C2 0009                   M           NOP                                     ;
11648                            3574             POP_REG1        R0                      ;R0=*4
11649                                 M                                   ; RE"+4" 00,00,00,04
11650 000015C4 60F6                   M           MOV.L   @R15+,R0        ;
11651 000015C6 4000              3575             SHLL    R0                              ;*2
11652 000015C8 D40E              3576             MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
11653 000015CA 340C              3577             ADD     R0,R4                   ;
11654 000015CC 6146              3578             MOV.L   @R4+,R1                 ;
11655 000015CE 6242              3579             MOV.L   @R4,R2                  ;(目標位置)
11656                            3580             FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
11657 000015D0 D00D                   M           MOV.L   #_LENGH_ADD_CALC_SV_TYPE,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11658 000015D2 400B                   M           JSR     @R0                     ;
11659 000015D4 0009                   M           NOP                                     ;
11660                            3581     
11661 000015D6 233A              3582             XOR     R3,R3                   ;
11662 000015D8 4111              3583             CMP/PZ  R1                      ;+正転?
11663 000015DA 8900              3584             BT      POS_1STEP_DATMK2_050    ;
11664 000015DC E301              3585             MOV     #BIT0,R3                ;
11665 000015DE                   3586     POS_1STEP_DATMK2_050:
11666 000015DE D10B              3587             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
11667 000015E0 6011              3588             MOV.W   @R1,R0                  ;
11668 000015E2 C9FE              3589             AND     #LOW ~BIT0,R0           ;
11669 000015E4 203B              3590             OR      R3,R0                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE    99
PROGRAM NAME =

11670 000015E6 2101              3591             MOV.W   R0,@R1                  ;
11671                            3592             SUB_END
11672                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11673 000015E8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11674                            3593             M_RTS
11675 000015EA 000B                   M           RTS                             ;RTSの後ろの
11676 000015EC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11677                            3594     
11678                            3595     ;       ***********************************
11679                            3596     ;       ***                             ***
11680                            3597     ;       ***     移動距離と速度          ***
11681                            3598     ;       ***                             ***
11682                            3599     ;       ***********************************
11683                            3600     ;;;;;未使用みたい       .ALIGN  4                               ;
11684                            3601     ;;;;;未使用みたい_POS_1STEP_DATA_MAK3:
11685                            3602     ;;;;;未使用みたい       SUB_START
11686                            3603     ;;;;;未使用みたい       FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
11687                            3604     ;;;;;未使用みたい
11688                            3605     ;;;;;未使用みたい       MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
11689                            3606     ;;;;;未使用みたい       MOV.W   @R2,R0                          ;
11690                            3607     ;;;;;未使用みたい       ADD     #-1,R0                          ;
11691                            3608     ;;;;;未使用みたい       SHLL2   R0                              ;
11692                            3609     ;;;;;未使用みたい       MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COP
                                          Y
11693                            3610     ;;;;;未使用みたい       MOV.L   @(R0,R4),R2                     ;
11694                            3611     ;;;;;未使用みたい       MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
11695                            3612     ;;;;;未使用みたい       MOV.L   R2,@R1                          ;
11696                            3613     ;;;;;未使用みたい
11697                            3614     ;;;;;未使用みたい       PUSH_REG1       R0
11698                            3615     ;;;;;未使用みたい       FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
11699                            3616     ;;;;;未使用みたい       POP_REG1        R0                      ;R0=*4
11700                            3617     ;;;;;未使用みたい       SHLL    R0                              ;*2
11701                            3618     ;;;;;未使用みたい       MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
11702                            3619     ;;;;;未使用みたい       ADD     R0,R4                   ;
11703                            3620     ;;;;;未使用みたい       MOV.L   @R4+,R1                 ;
11704                            3621     ;;;;;未使用みたい       MOV.L   @R4,R2                  ;(目標位置)
11705                            3622     ;;;;;未使用みたい
11706                            3623     ;;;;;未使用みたい       FAR_JSR #_FUL_CLS_LENGH_ADD_CALC,R0
11707                            3624     ;;;;;未使用みたい
11708                            3625     ;;;;;未使用みたい       XOR     R3,R3                   ;
11709                            3626     ;;;;;未使用みたい       CMP/PZ  R1                      ;+正転?
11710                            3627     ;;;;;未使用みたい       BT      POS_1STEP_DATMK3_050    ;
11711                            3628     ;;;;;未使用みたい       MOV     #BIT0,R3                ;
11712                            3629     ;;;;;未使用みたいPOS_1STEP_DATMK3_050:
11713                            3630     ;;;;;未使用みたい       MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
11714                            3631     ;;;;;未使用みたい       MOV.W   @R1,R0                  ;
11715                            3632     ;;;;;未使用みたい       AND     #LOW ~BIT0,R0           ;
11716                            3633     ;;;;;未使用みたい       OR      R3,R0                   ;
11717                            3634     ;;;;;未使用みたい       MOV.W   R0,@R1                  ;
11718                            3635     ;;;;;未使用みたい       SUB_END
11719                            3636     ;;;;;未使用みたい       M_RTS
11720                            3637     
11721                            3638     ;       ***********************************
11722                            3639     ;       ***                             ***
11723                            3640     ;       ***     初回起動                ***
11724                            3641     ;       ***                             ***
11725                            3642     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   100
PROGRAM NAME =

11726                            3643     ;
11727                                     ***** BEGIN-POOL *****
11728 000015EE 0000                       ALIGNMENT CODE
11729 000015F0 00000000                   DATA FOR SOURCE-LINE 3561
11730 000015F4 00000000                   DATA FOR SOURCE-LINE 3563
11731 000015F8 00000000                   DATA FOR SOURCE-LINE 3567
11732 000015FC 00000000                   DATA FOR SOURCE-LINE 3569
11733 00001600 00000000                   DATA FOR SOURCE-LINE 3573
11734 00001604 00000000                   DATA FOR SOURCE-LINE 3576
11735 00001608 00000000                   DATA FOR SOURCE-LINE 3580
11736 0000160C 00000000                   DATA FOR SOURCE-LINE 3587
11737                                     ***** END-POOL *****
11738 00001610                   3644             .ALIGN  4                               ;
11739 00001610                   3645     _DND_1STEP_DATA_MAK1:
11740                            3646             SUB_START
11741 00001610 4F22                   M           STS.L   PR,@-R15                ;[必要]
11742                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11743 00001612 D10B              3647             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
11744 00001614 6212              3648             MOV.L   @R1,R2                          ;
11745                            3649     
11746                            3650             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
11747 00001616 D10B                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11748 00001618 410B                   M           JSR     @R1                     ;
11749 0000161A 0009                   M           NOP                                     ;
11750                            3651     
11751 0000161C D50A              3652             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;(はじめの起動分はﾒｲﾝで作られている)
11752 0000161E 6152              3653             MOV.L   @R5,R1                          ;
11753 00001620 5251              3654             MOV.L   @(4,R5),R2                      ;
11754                            3655             FAR_JSR #_LENGH_ADD_CALC,R0             ;ANS R1,R2
11755 00001622 D00A                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11756 00001624 400B                   M           JSR     @R0                     ;
11757 00001626 0009                   M           NOP                                     ;
11758 00001628 233A              3656             XOR     R3,R3                           ;
11759 0000162A 4111              3657             CMP/PZ  R1                              ;+正転?
11760 0000162C 8900              3658             BT      DND_1STEP_DATMK1_050            ;
11761 0000162E E301              3659             MOV     #BIT0,R3                        ;
11762 00001630                   3660     DND_1STEP_DATMK1_050:
11763 00001630 D107              3661             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
11764 00001632 6011              3662             MOV.W   @R1,R0                  ;
11765 00001634 C9FE              3663             AND     #LOW ~BIT0,R0           ;
11766 00001636 203B              3664             OR      R3,R0                   ;
11767 00001638 2101              3665             MOV.W   R0,@R1                  ;
11768                            3666             SUB_END
11769                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11770 0000163A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11771                            3667             M_RTS
11772 0000163C 000B                   M           RTS                             ;RTSの後ろの
11773 0000163E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11774                            3668     
11775                            3669     
11776                            3670     
11777                            3671     ;       ***********************************
11778                            3672     ;       ***                             ***
11779                            3673     ;       ***     ﾓｰｼｮﾝ全工程             ***
11780                            3674     ;       ***                             ***
11781                            3675     ;       ***********************************
11782                            3676     ;       ======== 停止待ち(速度変更)     0000,0000       ====
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   101
PROGRAM NAME =

11783                            3677     ;       ======== ﾀｲﾏ計測                BIT0            ====
11784                            3678     ;       ======== 再起動/終了            BIT1            ====
11785                            3679     ;       ======== BIT6;終了
11786                                     ***** BEGIN-POOL *****
11787 00001640 00000000                   DATA FOR SOURCE-LINE 3647
11788 00001644 00000000                   DATA FOR SOURCE-LINE 3650
11789 00001648 00000000                   DATA FOR SOURCE-LINE 3652
11790 0000164C 00000000                   DATA FOR SOURCE-LINE 3655
11791 00001650 00000000                   DATA FOR SOURCE-LINE 3661
11792                                     ***** END-POOL *****
11793 00001654                   3680             .ALIGN  4                               ;
11794 00001654                   3681     _POS_ALL_STEP_CTRL:
11795                            3682             SUB_START
11796 00001654 4F22                   M           STS.L   PR,@-R15                ;[必要]
11797                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11798                            3683     
11799                            3684     ;;;;;;;;;;;;[2015-11-15]ちゃんとした場所へ移動
11800                            3685     ;;;;;;;;;;;;;-------------------超お試し[2015-04-08]---------------
11801                            3686     ;;;;;;;;;;;;    MOV.L   #_MODE_SEL,R1                           ;
11802                            3687     ;;;;;;;;;;;;    MOV.W   @R1,R0                                  ;
11803                            3688     ;;;;;;;;;;;;    TST     #_W1INC+_W1SGL,R0                       ;
11804                            3689     ;;;;;;;;;;;;    TST_BIT_OF FORCE_STEPEND_HAND200EXT             ;（段取でもある)
11805                            3690     ;;;;;;;;;;;;
11806                            3691     ;;;;;;;;;;;;    FAR_JSR #_API_ENDHAND_SIGCHK,R0         ;
11807                            3692     ;;;;;;;;;;;;    TST     R0,R0                           ;
11808                            3693     ;;;;;;;;;;;;    TST_BIT_OF FORCE_STEPEND_HAND200EXT     ;
11809                            3694     ;;;;;;;;;;;;    M_BRA   FORCE_STEPEND_HAND200           ;
11810                            3695     ;;;;;;;;;;;;FORCE_STEPEND_HAND200EXT
11811                            3696     
11812                            3697     
11813                            3698     ;       ==== 停止した場合、次の工程の起動、工程がなくなれば終わり====
11814                            3699     ;       停止はﾊﾟﾙｽ払出
11815 00001656 D103              3700             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ
11816 00001658 6011              3701             MOV.W   @R1,R0                          ;BIT
11817 0000165A C840              3702             TST     #BIT6,R0                        ;
11818                            3703             TST_BIT_OF POS_ALLSTEPCTL_020           ;
11819 0000165C 8904                   M           BT      POS_ALLSTEPCTL_020
11820                            3704             M_BRA   POS_ALLSTEPCTL_900              ;位置決め完了
11821 0000165E A2FF                   M           BRA     POS_ALLSTEPCTL_900
11822 00001660 0009                   M           NOP
11823                            3705     
11824                                     ***** BEGIN-POOL *****
11825 00001662 0000                       ALIGNMENT CODE
11826 00001664 00000000                   DATA FOR SOURCE-LINE 3700
11827                                     ***** END-POOL *****
11828 00001668                   3706     POS_ALLSTEPCTL_020:
11829 00001668 C803              3707             TST     #(BIT1+BIT0),R0         ;
11830                            3708             TST_BIT_OF POS_ALLSTEPCTL_100   ;BIT0:ﾀｲﾏ制御開始
11831 0000166A 8901                   M           BT      POS_ALLSTEPCTL_100
11832                            3709             M_BRA   POS_ALLSTEPCTL_300      ;BIT1:次の回転起動
11833 0000166C A13A                   M           BRA     POS_ALLSTEPCTL_300
11834 0000166E 0009                   M           NOP
11835                            3710     
11836 00001670                   3711     POS_ALLSTEPCTL_100:
11837                            3712     
11838                            3713     
11839                            3714     ;       ----------- 2012-05-17 全モード,(反転)タイマ継続処理CHK---------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   102
PROGRAM NAME =

11840                            3715             FAR_JSR #_DURING_TIM_CNTINUE_CHK,R0             ;
11841 00001670 D003                   M           MOV.L   #_DURING_TIM_CNTINUE_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11842 00001672 400B                   M           JSR     @R0                     ;
11843 00001674 0009                   M           NOP                                     ;
11844 00001676 2008              3716             TST     R0,R0                                   ;
11845                            3717             TST_BIT_OF POS_ALLSTEPCTL_101                   ;
11846 00001678 8904                   M           BT      POS_ALLSTEPCTL_101
11847                            3718             M_BRA   POS_ALLSTEPCTL_230                      ;
11848 0000167A A0CF                   M           BRA     POS_ALLSTEPCTL_230
11849 0000167C 0009                   M           NOP
11850                            3719     
11851                                     ***** BEGIN-POOL *****
11852 0000167E 0000                       ALIGNMENT CODE
11853 00001680 00000000                   DATA FOR SOURCE-LINE 3715
11854                                     ***** END-POOL *****
11855 00001684                   3720     POS_ALLSTEPCTL_101:
11856                            3721     
11857                            3722     
11858                            3723     ;       ---------- 2019-04-10 -----------------
11859                            3724     ;;;     FAR_JSR #_HANTEN_LAST_SIG_CLR,R0
11860                            3725     ;       ---------------------------------------
11861                            3726     
11862 00001684 D105              3727             MOV.L   #_CPOS_CTL_MATH,R1                      ;
11863 00001686 6011              3728             MOV.W   @R1,R0                                  ;
11864 00001688 C805              3729             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
11865                            3730             TST_BIT_ON POS_ALLSTEPCTL_120                   ;YES
11866 0000168A 8B0D                   M           BF      POS_ALLSTEPCTL_120
11867                            3731     
11868                            3732     
11869                            3733             FAR_JSR #_POS_CLS_TYP1_POS_CTL1,R0              ;ﾌﾙｸﾛｰｽﾞ,ﾌﾙｸﾛｰｽﾞのｵｰﾌﾟﾝ時は中でﾁｪｯ
                                          ｸする
11870 0000168C D004                   M           MOV.L   #_POS_CLS_TYP1_POS_CTL1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11871 0000168E 400B                   M           JSR     @R0                     ;
11872 00001690 0009                   M           NOP                                     ;
11873 00001692 2008              3734             TST     R0,R0                                   ;
11874                            3735             TST_BIT_OF POS_ALLSTEPCTL_105                   ;
11875 00001694 8906                   M           BT      POS_ALLSTEPCTL_105
11876                            3736             M_BRA   POS_ALLSTEPCTL_230                      ;(BIT2=1)
11877 00001696 A0C1                   M           BRA     POS_ALLSTEPCTL_230
11878 00001698 0009                   M           NOP
11879                            3737     
11880                                     ***** BEGIN-POOL *****
11881 0000169A 0000                       ALIGNMENT CODE
11882 0000169C 00000000                   DATA FOR SOURCE-LINE 3727
11883 000016A0 00000000                   DATA FOR SOURCE-LINE 3733
11884                                     ***** END-POOL *****
11885 000016A4                   3738     POS_ALLSTEPCTL_105:
11886                            3739             M_BRA   POS_ALLSTEPCTL_900                      ;
11887 000016A4 A2DC                   M           BRA     POS_ALLSTEPCTL_900
11888 000016A6 0009                   M           NOP
11889                            3740     
11890 000016A8                   3741     POS_ALLSTEPCTL_120:
11891                            3742     ;       ======== 2003-07-01 ======
11892                            3743             FAR_JSR #_BRK_ERR_CHK_START4,R0         ;
11893 000016A8 D018                   M           MOV.L   #_BRK_ERR_CHK_START4,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11894 000016AA 400B                   M           JSR     @R0                     ;
11895 000016AC 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   103
PROGRAM NAME =

11896                            3744     
11897                            3745     
11898                            3746     
11899                            3747     
11900                            3748     ;       ===========================================
11901                            3749     ;       === 回転はニアゼロをチェックする        ===
11902                            3750     ;       ===========================================
11903                            3751             FAR_JSR #_OPEN_ROT_NEAR1_ZERO_CHK,R0    ;
11904 000016AE D018                   M           MOV.L   #_OPEN_ROT_NEAR1_ZERO_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11905 000016B0 400B                   M           JSR     @R0                     ;
11906 000016B2 0009                   M           NOP                                     ;
11907                            3752     
11908                            3753     
11909                            3754             FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
11910 000016B4 D117                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11911 000016B6 410B                   M           JSR     @R1                     ;
11912 000016B8 0009                   M           NOP                                     ;
11913 000016BA C804              3755             TST     #BIT2,R0                        ;停止?
11914                            3756             TST_BIT_ON POS_ALLSTEPCTL_200           ;YES 停止中 1:停止 0:払出中
11915 000016BC 8B5A                   M           BF      POS_ALLSTEPCTL_200
11916                            3757     
11917                            3758     ;       ===========================================
11918                            3759     ;       ===     払出中                          ===
11919                            3760     ;       ===========================================
11920                            3761     
11921                            3762     ;       ===================================================
11922                            3763     ;       ===  "CPUA=CPUB=ﾃｰﾌﾞﾙ時に生かす" 2013-03-07     ===
11923                            3764     ;       ===================================================
11924                            3765             FAR_JSR #_DNMODE_ENDWAIT_TIM_SET,R0     ;[[[2013-03-24復活]]]
11925 000016BE D016                   M           MOV.L   #_DNMODE_ENDWAIT_TIM_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11926 000016C0 400B                   M           JSR     @R0                     ;
11927 000016C2 0009                   M           NOP                                     ;
11928                            3766     
11929                            3767     
11930                            3768             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_DNM_DEBUG_STS1,LG=W,BIT=~(BIT4),WKREG=R1  ;2012-12-1
                                          0 DEBUG
11931 000016C4 D115                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
11932 000016C6 6011                   M           MOV.W   @R1,R0          ;
11933 000016C8 C9EF                   M           AND     #LOW ~(BIT4),R0         ;
11934 000016CA 2101                   M           MOV.W   R0,@R1          ;
11935                            3769     
11936                            3770     ;       ===== 払出中のBUSYﾁｪｯｸ ======
11937                            3771             FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
11938 000016CC D014                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11939 000016CE 400B                   M           JSR     @R0                     ;
11940 000016D0 0009                   M           NOP                                     ;
11941                            3772     ;       ===== 払出中 ======
11942                            3773     ;       ===== 位置による速度切り替え＋速度連続のｽﾃｯﾌﾟ切替====
11943                            3774             FAR_JSR #_SPD_STEP_CHG_FWD,R0   ;(STEP番号切替/速度切り替え)
11944 000016D2 D014                   M           MOV.L   #_SPD_STEP_CHG_FWD,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11945 000016D4 400B                   M           JSR     @R0                     ;
11946 000016D6 0009                   M           NOP                                     ;
11947                            3775     
11948                            3776     
11949                            3777     ;       ======== 回転の連続・ﾀｲﾏ=0処理====
11950 000016D8 D113              3778             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
11951 000016DA 6011              3779             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   104
PROGRAM NAME =

11952 000016DC C801              3780             TST     #BIT0,R0                        ;
11953                            3781             TST_BIT_ON POS_ALLSTEPCTL_190           ;
11954 000016DE 8B3C                   M           BF      POS_ALLSTEPCTL_190
11955                            3782     
11956                            3783     ;       ========== 2004-01-26 連続寸動一工程/連続一工程 ======
11957 000016E0 D112              3784             MOV.L   #_WFSYS_OPT_CNT_SEL,R1          ;SEL=1 連寸一、連続一行程有効
11958 000016E2 6011              3785             MOV.W   @R1,R0                          ;
11959 000016E4 8801              3786             CMP/EQ  #1,R0                           ;
11960 000016E6 8B29              3787             BF      POS_ALLSTEPCTL_189              ;
11961                            3788     
11962 000016E8 D111              3789             MOV.L   #_MODE_SEL,R1                   ;
11963 000016EA 6011              3790             MOV.W   @R1,R0                          ;
11964 000016EC C808              3791             TST     #_W1CNT,R0                      ;
11965                            3792             TST_BIT_OF POS_ALLSTEPCTL_189           ;
11966 000016EE 8925                   M           BT      POS_ALLSTEPCTL_189
11967 000016F0 910A              3793             MOV.W   #(BIT12+BIT11),R1               ;
11968 000016F2 2018              3794             TST     R1,R0                           ;
11969                            3795             TST_BIT_OF POS_ALLSTEPCTL_189           ;(通常連続)
11970 000016F4 8922                   M           BT      POS_ALLSTEPCTL_189
11971                            3796     
11972                            3797     
11973                            3798     ;       ==============20071106======================
11974 000016F6 D10F              3799             MOV.L   #_CPOS_BANK_USELFUL,R1          ;大バグ
11975 000016F8 6011              3800             MOV.W   @R1,R0                          ;
11976 000016FA C801              3801             TST     #BIT0,R0                        ;
11977                            3802             TST_BIT_OF POS_ALLSTEPCTL_189A          ;
11978 000016FC 892C                   M           BT      POS_ALLSTEPCTL_189A
11979                            3803     
11980                            3804     ;;      FAR_JSR #_CCS_STEP_NEXT_CHK,R0          ;
11981                            3805             FAR_JSR #_BANK_CNT_STEP_NEXT_CHK,R0     ;
11982 000016FE D00E                   M           MOV.L   #_BANK_CNT_STEP_NEXT_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11983 00001700 400B                   M           JSR     @R0                     ;
11984 00001702 0009                   M           NOP                                     ;
11985                            3806             M_BRA   POS_ALLSTEPCTL_190              ;
11986 00001704 A029                   M           BRA     POS_ALLSTEPCTL_190
11987 00001706 0009                   M           NOP
11988                            3807     ;       ===========================================
11989                            3808     
11990                            3809     
11991                                     ***** BEGIN-POOL *****
11992 00001708 1800                       DATA FOR SOURCE-LINE 3793
11993 0000170A 0000                       ALIGNMENT CODE
11994 0000170C 00000000                   DATA FOR SOURCE-LINE 3743
11995 00001710 00000000                   DATA FOR SOURCE-LINE 3751
11996 00001714 00000000                   DATA FOR SOURCE-LINE 3754
11997 00001718 00000000                   DATA FOR SOURCE-LINE 3765
11998 0000171C 00000000                   DATA FOR SOURCE-LINE 3768
11999 00001720 00000000                   DATA FOR SOURCE-LINE 3771
12000 00001724 00000000                   DATA FOR SOURCE-LINE 3774
12001 00001728 00000000                   DATA FOR SOURCE-LINE 3778
12002 0000172C 00000000                   DATA FOR SOURCE-LINE 3784
12003 00001730 00000000                   DATA FOR SOURCE-LINE 3789
12004 00001734 00000000                   DATA FOR SOURCE-LINE 3799
12005 00001738 00000000                   DATA FOR SOURCE-LINE 3805
12006                                     ***** END-POOL *****
12007 0000173C                   3810     POS_ALLSTEPCTL_189:                             ;
12008                            3811     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   105
PROGRAM NAME =

12009 0000173C D104              3812             MOV.L   #_CPOS_BANK_USELFUL,R1          ;
12010 0000173E 6011              3813             MOV.W   @R1,R0                          ;
12011 00001740 C801              3814             TST     #BIT0,R0                        ;
12012                            3815             TST_BIT_OF POS_ALLSTEPCTL_189A          ;
12013 00001742 8909                   M           BT      POS_ALLSTEPCTL_189A
12014                            3816             FAR_JSR #_BANK_CNT_STEP_NEXT_CHK,R0     ;(連続の上死点停止なし)
12015 00001744 D003                   M           MOV.L   #_BANK_CNT_STEP_NEXT_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12016 00001746 400B                   M           JSR     @R0                     ;
12017 00001748 0009                   M           NOP                                     ;
12018                            3817             M_BRA   POS_ALLSTEPCTL_190              ;
12019 0000174A A006                   M           BRA     POS_ALLSTEPCTL_190
12020 0000174C 0009                   M           NOP
12021                            3818     
12022                                     ***** BEGIN-POOL *****
12023 0000174E 0000                       ALIGNMENT CODE
12024 00001750 00000000                   DATA FOR SOURCE-LINE 3812
12025 00001754 00000000                   DATA FOR SOURCE-LINE 3816
12026                                     ***** END-POOL *****
12027 00001758                   3819     POS_ALLSTEPCTL_189A:                                    ;
12028                            3820     ;;;;未使用      FAR_JSR #_CNT_STEP_NEXT_CHK,R0          ;<ここはくせもの>
12029 00001758 0009              3821             NOP                                             ;安一、寸動、上死点停止付連続、一
                                          工程
12030 0000175A                   3822     POS_ALLSTEPCTL_190:                                     ;
12031                            3823     
12032                            3824     ;       ==== 2003-06-13===
12033                            3825             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
12034 0000175A D104                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
12035 0000175C 6011                   M           MOV.W   @R1,R0          ;
12036 0000175E C9FE                   M           AND     #LOW ~BIT0,R0           ;
12037 00001760 2101                   M           MOV.W   R0,@R1          ;
12038                            3826             FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏ再設定
12039 00001762 D003                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12040 00001764 400B                   M           JSR     @R0                     ;
12041 00001766 0009                   M           NOP                                     ;
12042                            3827     
12043                            3828             M_BRA   POS_ALLSTEPCTL_900              ;
12044 00001768 A27A                   M           BRA     POS_ALLSTEPCTL_900
12045 0000176A 0009                   M           NOP
12046                            3829     
12047                            3830     ;       ===========================
12048                            3831     ;       ===     払出停止        ===
12049                            3832     ;       ===     回転時          ===
12050                            3833     ;       ===========================
12051                                     ***** BEGIN-POOL *****
12052 0000176C 00000000                   DATA FOR SOURCE-LINE 3825
12053 00001770 00000000                   DATA FOR SOURCE-LINE 3826
12054                                     ***** END-POOL *****
12055 00001774                   3834     POS_ALLSTEPCTL_200:
12056                            3835             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT1,WKREG=R1 ;2012-12-10 DEB
                                          UG
12057 00001774 D113                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
12058 00001776 6011                   M           MOV.W   @R1,R0          ;
12059 00001778 CB02                   M           OR      #BIT1,R0                ;
12060 0000177A 2101                   M           MOV.W   R0,@R1          ;
12061                            3836     
12062                            3837     ;       ------- 2015-11-17 -----------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   106
PROGRAM NAME =

12063                            3838     ;2016-04-18     FAR_JSR #_API_ACCLW_DRV_STOP,R0
12064                            3839             FAR_JSR #_API_ACC_MATHED_COM_DRV_STOP,R0        ;2016-04-18
12065 0000177C D012                   M           MOV.L   #_API_ACC_MATHED_COM_DRV_STOP,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12066 0000177E 400B                   M           JSR     @R0                     ;
12067 00001780 0009                   M           NOP                                     ;
12068                            3840     
12069                            3841     
12070 00001782 D112              3842             MOV.L   #_CNT_PLSOUT_STOP_CNT,R1
12071 00001784 6011              3843             MOV.W   @R1,R0
12072 00001786 7001              3844             ADD     #1,R0                           ;
12073 00001788 2101              3845             MOV.W   R0,@R1                          ;
12074                            3846             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0  ;2004-03-03
12075 0000178A D011                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12076 0000178C 400B                   M           JSR     @R0                     ;
12077 0000178E 0009                   M           NOP                                     ;
12078                            3847     
12079                            3848     
12080 00001790 D110              3849             MOV.L   #_NEAR_IN_FLG,R1                ;
12081 00001792 6011              3850             MOV.W   @R1,R0                          ;
12082 00001794 2008              3851             TST     R0,R0                           ;
12083                            3852             TST_BIT_ON POS_ALLSTEPCTL_220           ;ﾆｱｾﾞﾛOK
12084 00001796 8B27                   M           BF      POS_ALLSTEPCTL_220
12085                            3853     
12086                            3854     
12087                            3855             FAR_JSR #_CPU_BA_NZR_ON_JG,R0           ;ﾆｱｾﾞﾛ代わり
12088 00001798 D00F                   M           MOV.L   #_CPU_BA_NZR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12089 0000179A 400B                   M           JSR     @R0                     ;
12090 0000179C 0009                   M           NOP                                     ;
12091 0000179E 2008              3856             TST     R0,R0
12092                            3857             TST_BIT_OF POS_ALLSTEPCTL_210           ;
12093 000017A0 8903                   M           BT      POS_ALLSTEPCTL_210
12094 000017A2 D10C              3858             MOV.L   #_NEAR_IN_FLG,R1                ;ﾆｱｾﾞﾛ扱い
12095 000017A4 6011              3859             MOV.W   @R1,R0                          ;
12096 000017A6 CB01              3860             OR      #BIT0,R0                        ;
12097 000017A8 2101              3861             MOV.W   R0,@R1                          ;
12098 000017AA                   3862     POS_ALLSTEPCTL_210:                             ;
12099                            3863     
12100                            3864             FAR_JSR #_NZ_TIM_CHK1,R0                ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏｶｳﾝﾄﾀﾞｳﾝ
12101 000017AA D00C                   M           MOV.L   #_NZ_TIM_CHK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12102 000017AC 400B                   M           JSR     @R0                     ;
12103 000017AE 0009                   M           NOP                                     ;
12104                            3865     
12105                            3866     
12106                            3867     ;       -----------2012-03-06ｲﾝﾎﾟｼﾞ異常ﾁｪｯｸ------------------------------
12107 000017B0 D10B              3868             MOV.L   #_NZ_TIM_OUT_PV2,R1                                     ;
12108 000017B2 6011              3869             MOV.W   @R1,R0                                                  ;
12109 000017B4 2008              3870             TST     R0,R0                                                   ;
12110                            3871             TST_BIT_ON POS_ALLSTEPCTL_211                                   ;
12111 000017B6 8B03                   M           BF      POS_ALLSTEPCTL_211
12112                            3872             MEM1_BIT0_TO_BIT7_ORSET MEM=_INP_ERR_FLG,LG=W,BIT=BIT0,WKREG=R1 ;
12113 000017B8 D10A                   M           MOV.L   #_INP_ERR_FLG,R1                ;
12114 000017BA 6011                   M           MOV.W   @R1,R0          ;
12115 000017BC CB01                   M           OR      #BIT0,R0                ;
12116 000017BE 2101                   M           MOV.W   R0,@R1          ;
12117 000017C0                   3873     POS_ALLSTEPCTL_211:                                                     ;
12118                            3874     
12119                            3875             M_BRA   POS_ALLSTEPCTL_900              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   107
PROGRAM NAME =

12120 000017C0 A24E                   M           BRA     POS_ALLSTEPCTL_900
12121 000017C2 0009                   M           NOP
12122                            3876     
12123                                     ***** BEGIN-POOL *****
12124 000017C4 00000000                   DATA FOR SOURCE-LINE 3835
12125 000017C8 00000000                   DATA FOR SOURCE-LINE 3839
12126 000017CC 00000000                   DATA FOR SOURCE-LINE 3842
12127 000017D0 00000000                   DATA FOR SOURCE-LINE 3846
12128 000017D4 00000000                   DATA FOR SOURCE-LINE 3849,3858
12129 000017D8 00000000                   DATA FOR SOURCE-LINE 3855
12130 000017DC 00000000                   DATA FOR SOURCE-LINE 3864
12131 000017E0 00000000                   DATA FOR SOURCE-LINE 3868
12132 000017E4 00000000                   DATA FOR SOURCE-LINE 3872
12133                                     ***** END-POOL *****
12134 000017E8                   3877     POS_ALLSTEPCTL_220:
12135                            3878     
12136                            3879     ;       ===================================================
12137                            3880     ;       ===  "CPUA=CPUB=ﾃｰﾌﾞﾙ時に生かす" 2013-03-07     ===
12138                            3881     ;       ===================================================
12139                            3882     
12140                            3883     ;;;;    ===========================================
12141                            3884     ;;;;    ===     ふりこの終了遅延ﾀｲﾏ2013-02-08   ===
12142                            3885     ;;;;    ===     CPUB_CURVSEL[5]                 ===
12143                            3886     ;;;;    ===========================================
12144                            3887             FAR_JSR #_DNMODE_ENDWAIT_TIM_CHK,R0     ;[[[2013-03-24復活]]]
12145 000017E8 D003                   M           MOV.L   #_DNMODE_ENDWAIT_TIM_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12146 000017EA 400B                   M           JSR     @R0                     ;
12147 000017EC 0009                   M           NOP                                     ;
12148 000017EE 2008              3888             TST     R0,R0                           ;[[[2013-03-24復活]]]
12149                            3889             TST_BIT_OF POS_ALLSTEPCTL_225           ;[[[2013-03-24復活]]]
12150 000017F0 8904                   M           BT      POS_ALLSTEPCTL_225
12151                            3890             M_BRA   POS_ALLSTEPCTL_900              ;[[[2013-03-24復活]]]
12152 000017F2 A235                   M           BRA     POS_ALLSTEPCTL_900
12153 000017F4 0009                   M           NOP
12154                            3891     
12155                                     ***** BEGIN-POOL *****
12156 000017F6 0000                       ALIGNMENT CODE
12157 000017F8 00000000                   DATA FOR SOURCE-LINE 3887
12158                                     ***** END-POOL *****
12159 000017FC                   3892     POS_ALLSTEPCTL_225:
12160                            3893     
12161                            3894     ;       =====================================================
12162                            3895     
12163                            3896     
12164                            3897             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT2,WKREG=R1 ;2012-12-10 DEB
                                          UG
12165 000017FC D105                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
12166 000017FE 6011                   M           MOV.W   @R1,R0          ;
12167 00001800 CB04                   M           OR      #BIT2,R0                ;
12168 00001802 2101                   M           MOV.W   R0,@R1          ;
12169                            3898     
12170                            3899             FAR_JSR #_CMPAB_NEAR_END_PROC,R0        ;ｵｰﾌﾟﾝ時ﾆｱｾﾞﾛの終わり
12171 00001804 D004                   M           MOV.L   #_CMPAB_NEAR_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12172 00001806 400B                   M           JSR     @R0                     ;
12173 00001808 0009                   M           NOP                                     ;
12174 0000180A 2008              3900             TST     R0,R0                           ;
12175                            3901             TST_BIT_ON POS_ALLSTEPCTL_230           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   108
PROGRAM NAME =

12176 0000180C 8B06                   M           BF      POS_ALLSTEPCTL_230
12177                            3902             M_BRA   POS_ALLSTEPCTL_900              ;
12178 0000180E A227                   M           BRA     POS_ALLSTEPCTL_900
12179 00001810 0009                   M           NOP
12180                            3903     
12181                                     ***** BEGIN-POOL *****
12182 00001812 0000                       ALIGNMENT CODE
12183 00001814 00000000                   DATA FOR SOURCE-LINE 3897
12184 00001818 00000000                   DATA FOR SOURCE-LINE 3899
12185                                     ***** END-POOL *****
12186 0000181C                   3904     POS_ALLSTEPCTL_230:
12187                            3905     
12188                            3906     ;       ===============================================
12189                            3907             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT3,WKREG=R1 ;2012-12-10 DEB
                                          UG
12190 0000181C D121                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
12191 0000181E 6011                   M           MOV.W   @R1,R0          ;
12192 00001820 CB08                   M           OR      #BIT3,R0                ;
12193 00001822 2101                   M           MOV.W   R0,@R1          ;
12194                            3908             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
12195 00001824 D120                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
12196 00001826 6011                   M           MOV.W   @R1,R0          ;
12197 00001828 C9FE                   M           AND     #LOW ~BIT0,R0           ;
12198 0000182A 2101                   M           MOV.W   R0,@R1          ;
12199                            3909     
12200                            3910     ;       =====================
12201                            3911     ;       ===== 状態遷移時=====
12202                            3912     ;       =====================
12203                            3913     ;       ==========================
12204                            3914     ;       ===== ﾌﾙｸﾛｰｽﾞ信号ｸﾘｱ======
12205                            3915     ;       ==========================
12206                            3916             FAR_JSR #_FUL_DATA_INIT,R0      ;R0,R1 USED
12207 0000182C D01F                   M           MOV.L   #_FUL_DATA_INIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12208 0000182E 400B                   M           JSR     @R0                     ;
12209 00001830 0009                   M           NOP                                     ;
12210                            3917     ;       ===============================================
12211                            3918             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_NEAR_IN_FLG,LG=W,BIT=~BIT0,WKREG=R1 ;//
12212 00001832 D11F                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
12213 00001834 6011                   M           MOV.W   @R1,R0          ;
12214 00001836 C9FE                   M           AND     #LOW ~BIT0,R0           ;
12215 00001838 2101                   M           MOV.W   R0,@R1          ;
12216                            3919     ;       ===============================================
12217                            3920             FAR_JSR #_CMPSTP_NEAR_ZERO_CLR,R0;//ﾌﾗｸﾞｸﾘｱしたい
12218 0000183A D01E                   M           MOV.L   #_CMPSTP_NEAR_ZERO_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12219 0000183C 400B                   M           JSR     @R0                     ;
12220 0000183E 0009                   M           NOP                                     ;
12221                            3921     ;       ===============================================
12222                            3922             FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏ再設定
12223 00001840 D01D                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12224 00001842 400B                   M           JSR     @R0                     ;
12225 00001844 0009                   M           NOP                                     ;
12226                            3923     ;       === ﾆｱｾﾞﾛ待ち信号ｸﾘｱ ====
12227                            3924             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
12228 00001846 D118                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
12229 00001848 6011                   M           MOV.W   @R1,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   109
PROGRAM NAME =

12230 0000184A C9FE                   M           AND     #LOW ~BIT0,R0           ;
12231 0000184C 2101                   M           MOV.W   R0,@R1          ;
12232                            3925     
12233                            3926     
12234 0000184E D21B              3927             MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
12235 00001850 6021              3928             MOV.W   @R2,R0                  ;ﾀｲﾏLOAD
12236 00001852 70FF              3929             ADD     #-1,R0                  ;
12237 00001854 D41A              3930             MOV.L   #_CPOS_SDAT1_TIM,R4     ;
12238 00001856 4008              3931             SHLL2   R0                      ;
12239 00001858 014E              3932             MOV.L   @(R0,R4),R1             ;
12240                            3933     
12241                            3934     ;       ----------------------------
12242 0000185A D41A              3935             MOV.L   #_MOT_REP_F,R4                  ;//BIT0(ﾘﾋﾟｰﾄ動作
12243 0000185C 6041              3936             MOV.W   @R4,R0                          ;
12244 0000185E C801              3937             TST     #BIT0,R0                        ;ﾘﾋﾟｰﾄ動作直後の停止
12245                            3938             TST_BIT_OF POS_ALLSTEPCTL_REP231        ;
12246 00001860 8900                   M           BT      POS_ALLSTEPCTL_REP231
12247 00001862 211A              3939             XOR     R1,R1                           ;
12248 00001864                   3940     POS_ALLSTEPCTL_REP231:                          ;
12249                            3941     
12250                            3942     
12251                            3943     
12252                            3944     
12253                            3945     
12254                            3946     
12255                            3947     
12256                            3948     
12257                            3949     
12258 00001864 D418              3950             MOV.L   #_MODE_SEL,R4           ;
12259 00001866 6041              3951             MOV.W   @R4,R0                  ;
12260 00001868 C808              3952             TST     #_W1CNT,R0              ;
12261                            3953             TST_BIT_ON POS_ALLSTEPCTL_280   ;
12262 0000186A 8B07                   M           BF      POS_ALLSTEPCTL_280
12263                            3954     
12264                            3955     ;       == 連続以外は最終工程は0固定 ==
12265                            3956     
12266 0000186C D213              3957             MOV.L   #_INT_POS_CTL_STEP,R2   ;1~5,6
12267 0000186E 6021              3958             MOV.W   @R2,R0                  ;
12268 00001870 D216              3959             MOV.L   #_CPOS_STEP_MAX,R2      ;
12269 00001872 6421              3960             MOV.W   @R2,R4                  ;
12270 00001874 7401              3961             ADD     #1,R4                   ;
12271 00001876 3400              3962             CMP/EQ  R0,R4                   ;R0 =< R4(MAX)
12272 00001878 8B00              3963             BF      POS_ALLSTEPCTL_280      ;最終工程ではない
12273 0000187A 211A              3964             XOR     R1,R1                   ;最終工程
12274 0000187C                   3965     POS_ALLSTEPCTL_280:                     ;
12275                            3966     
12276                            3967             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
12277                            3968 C   ;2015-03-15
12278 0000187C D014              3969 C           MOV.L   #_FULCLS_TIM_SETFLG,R0          ;
12279 0000187E 6001              3970 C           MOV.W   @R0,R0                          ;
12280 00001880 C802              3971 C           TST     #BIT1,R0                        ;
12281                            3972 C           TST_BIT_OF POS_ALLSTEPCTL_285           ;
12282 00001882 8900                   M           BT      POS_ALLSTEPCTL_285
12283 00001884 211A              3973 C           XOR     R1,R1                           ;ﾀｲﾏ=0にする
12284 00001886                   3974 C   POS_ALLSTEPCTL_285:                             ;
12285                            3975             .AENDI
12286                            3976     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   110
PROGRAM NAME =

12287                            3977     ;       input R1
12288                            3978             FAR_JSR #_DURING_TIM_PRESET_CALC,R0     ;2014-05-30 ﾀｲﾏ継続
12289 00001886 D013                   M           MOV.L   #_DURING_TIM_PRESET_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12290 00001888 400B                   M           JSR     @R0                     ;
12291 0000188A 0009                   M           NOP                                     ;
12292                            3979     ;;;2014-05-30   MOV.L   #_SDAT_WAIT_PVTIM,R4                                            ;
12293                            3980     ;;;2014-05-30   MOV.L   R1,@R4                                                          ;
12294                            3981     
12295                            3982             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1    ;
12296 0000188C D112                   M           MOV.L   #_INT_POS_STEP_FLG,R1           ;
12297 0000188E 6011                   M           MOV.W   @R1,R0          ;
12298 00001890 CB01                   M           OR      #BIT0,R0                ;
12299 00001892 2101                   M           MOV.W   R0,@R1          ;
12300                            3983     
12301                            3984     ;       ----------- 荷重行程変更ｸﾘｱ-----------------
12302                            3985             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
12303                            3986 C           FAR_JSR #_FCLS_KJYU_STEPCHG_CLR,R0      ;2015-03-15[R01:2014-03-20]
12304 00001894 D011                   M           MOV.L   #_FCLS_KJYU_STEPCHG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12305 00001896 400B                   M           JSR     @R0                     ;
12306 00001898 0009                   M           NOP                                     ;
12307                            3987             .AENDI
12308                            3988     
12309                            3989     ;       ===================
12310                            3990     ;       ===     CAM1    ===
12311                            3991     ;       ===================
12312                            3992             FAR_JSR #_CAM_1STEP_END_SIG1,R0 ;
12313 0000189A D011                   M           MOV.L   #_CAM_1STEP_END_SIG1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12314 0000189C 400B                   M           JSR     @R0                     ;
12315 0000189E 0009                   M           NOP                                     ;
12316                            3993             M_BRA   POS_ALLSTEPCTL_900      ;
12317 000018A0 A1DE                   M           BRA     POS_ALLSTEPCTL_900
12318 000018A2 0009                   M           NOP
12319                            3994     
12320                            3995     
12321                            3996     ;       ====<<<<2段目以降の起動処理>>>====
12322                                     ***** BEGIN-POOL *****
12323 000018A4 00000000                   DATA FOR SOURCE-LINE 3907
12324 000018A8 00000000                   DATA FOR SOURCE-LINE 3908,3924
12325 000018AC 00000000                   DATA FOR SOURCE-LINE 3916
12326 000018B0 00000000                   DATA FOR SOURCE-LINE 3918
12327 000018B4 00000000                   DATA FOR SOURCE-LINE 3920
12328 000018B8 00000000                   DATA FOR SOURCE-LINE 3922
12329 000018BC 00000000                   DATA FOR SOURCE-LINE 3927,3957
12330 000018C0 00000000                   DATA FOR SOURCE-LINE 3930
12331 000018C4 00000000                   DATA FOR SOURCE-LINE 3935
12332 000018C8 00000000                   DATA FOR SOURCE-LINE 3950
12333 000018CC 00000000                   DATA FOR SOURCE-LINE 3959
12334 000018D0 00000000                   DATA FOR SOURCE-LINE 3969
12335 000018D4 00000000                   DATA FOR SOURCE-LINE 3978
12336 000018D8 00000000                   DATA FOR SOURCE-LINE 3982
12337 000018DC 00000000                   DATA FOR SOURCE-LINE 3986
12338 000018E0 00000000                   DATA FOR SOURCE-LINE 3992
12339                                     ***** END-POOL *****
12340 000018E4                   3997     POS_ALLSTEPCTL_300:
12341 000018E4 C802              3998             TST     #BIT1,R0                ;
12342                            3999             TST_BIT_ON POS_ALLSTEPCTL_400   ;
12343 000018E6 8B3B                   M           BF      POS_ALLSTEPCTL_400
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   111
PROGRAM NAME =

12344                            4000     
12345                            4001     ;       ==== 各段一旦停止機能====
12346 000018E8 D106              4002             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340
12347 000018EA 6011              4003             MOV.W   @R1,R0                          ;
12348 000018EC 9408              4004             MOV.W   #BIT13,R4                       ;
12349 000018EE 2048              4005             TST     R4,R0                           ;
12350                            4006             TST_BIT_OF POS_ALLSTEPCTL_310           ;
12351 000018F0 890C                   M           BT      POS_ALLSTEPCTL_310
12352                            4007             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB206,LG=W,BIT=(BIT9),WKRG1=R1,WKRG2=R4
12353 000018F2 D105                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
12354 000018F4 6011                   M           MOV.W   @R1,R0          ;
12355 000018F6 9404                   M           MOV.W   #(BIT9),R4              ;
12356 000018F8 204B                   M           OR      R4,R0           ;
12357 000018FA 2101                   M           MOV.W   R0,@R1          ;
12358                            4008             M_BRA   POS_ALLSTEPCTL_900              ;
12359 000018FC A1B0                   M           BRA     POS_ALLSTEPCTL_900
12360 000018FE 0009                   M           NOP
12361                            4009     
12362                                     ***** BEGIN-POOL *****
12363 00001900 2000                       DATA FOR SOURCE-LINE 4004
12364 00001902 0200                       DATA FOR SOURCE-LINE 4007
12365 00001904 00000000                   DATA FOR SOURCE-LINE 4002
12366 00001908 00000000                   DATA FOR SOURCE-LINE 4007
12367                                     ***** END-POOL *****
12368 0000190C                   4010     POS_ALLSTEPCTL_310:
12369                            4011             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
12370 0000190C D10A                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
12371 0000190E 6011                   M           MOV.W   @R1,R0          ;
12372 00001910 9411                   M           MOV.W   #LWORD (~BIT9),R4       ;
12373 00001912 2049                   M           AND     R4,R0           ;
12374 00001914 2101                   M           MOV.W   R0,@R1          ;
12375                            4012     
12376                            4013     
12377                            4014     ;       --------反転及び全動作 タイマ計測から再開
12378                            4015             MEM1_BIT0_TO_BIT7_ORSET MEM=_DURING_TIM_FX,LG=W,BIT=BIT0,WKREG=R1       ;する
12379 00001916 D109                   M           MOV.L   #_DURING_TIM_FX,R1              ;
12380 00001918 6011                   M           MOV.W   @R1,R0          ;
12381 0000191A CB01                   M           OR      #BIT0,R0                ;
12382 0000191C 2101                   M           MOV.W   R0,@R1          ;
12383                            4016     
12384                            4017             DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;2014-05-30
12385 0000191E D108                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
12386 00001920 6412                   M           MOV.L   @R1,R4          ;
12387 00001922 2448                   M           TST     R4,R4                   ;
12388 00001924 8901                   M           BT      JMP_0100004                     ;ZERO THEN JUMP
12389 00001926 4410                   M           DT      R4                              ;
12390 00001928 2142                   M           MOV.L   R4,@R1          ;STORE
12391 0000192A                        M   JMP_0100004:
12392                            4018     
12393 0000192A D405              4019             MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
12394 0000192C 6142              4020             MOV.L   @R4,R1                  ;
12395 0000192E 2118              4021             TST     R1,R1                   ;
12396                            4022             TST_BIT_OF POS_ALLSTEPCTL_320   ;
12397 00001930 8908                   M           BT      POS_ALLSTEPCTL_320
12398                            4023             M_BRA   POS_ALLSTEPCTL_900      ;
12399 00001932 A195                   M           BRA     POS_ALLSTEPCTL_900
12400 00001934 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   112
PROGRAM NAME =

12401                            4024     
12402                                     ***** BEGIN-POOL *****
12403 00001936 FDFF                       DATA FOR SOURCE-LINE 4011
12404 00001938 00000000                   DATA FOR SOURCE-LINE 4011
12405 0000193C 00000000                   DATA FOR SOURCE-LINE 4015
12406 00001940 00000000                   DATA FOR SOURCE-LINE 4017,4019
12407                                     ***** END-POOL *****
12408 00001944                   4025     POS_ALLSTEPCTL_320:
12409                            4026     ;;;     ===================
12410                            4027     ;;;     ===     CAM2    ===
12411                            4028     ;;;     ===================
12412                            4029     ;;;     FAR_JSR #_CAM_1STEP_END_SIG2,R0 ;
12413                            4030     
12414                            4031             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1 ;TIME UP
12415 00001944 D104                   M           MOV.L   #_INT_POS_STEP_FLG,R1           ;
12416 00001946 6011                   M           MOV.W   @R1,R0          ;
12417 00001948 CB02                   M           OR      #BIT1,R0                ;
12418 0000194A 2101                   M           MOV.W   R0,@R1          ;
12419                            4032     
12420                            4033     ;       --------反転及び全モードタイマ時はタイマ処理から再開をクリア[2/]------
12421                            4034             MEM_0CLR_R0_R1  MEM=_DURING_TIM_FX,LG=W         ;ﾀｲﾏ処理終了した
12422 0000194C 200A                   M           XOR     R0,R0           ;
12423 0000194E D103                   M           MOV.L   #_DURING_TIM_FX,R1      ;
12424 00001950 2101                   M           MOV.W   R0,@R1          ;
12425                            4035             M_BRA   POS_ALLSTEPCTL_900                      ;
12426 00001952 A185                   M           BRA     POS_ALLSTEPCTL_900
12427 00001954 0009                   M           NOP
12428                            4036     
12429                            4037     
12430                            4038     ;       ======= 次の起動の演算または終了の判断=====
12431                                     ***** BEGIN-POOL *****
12432 00001956 0000                       ALIGNMENT CODE
12433 00001958 00000000                   DATA FOR SOURCE-LINE 4031
12434 0000195C 00000000                   DATA FOR SOURCE-LINE 4034
12435                                     ***** END-POOL *****
12436 00001960                   4039     POS_ALLSTEPCTL_400:
12437                            4040              .AIF   1 EQ 1  ;
12438                            4041 C   ;       -------- 2016-10-31 ADD 二重回路対策
12439                            4042              .AENDI
12440                            4043     
12441                            4044     ;       --2016-10-31(2016-07-31)(CMPERR対策)---------
12442 00001960 D110              4045             MOV.L   #_CMPSTEP_STEP_END,R1           ;
12443 00001962 6011              4046             MOV.W   @R1,R0                          ;
12444 00001964 2008              4047             TST     R0,R0                           ;
12445                            4048             TST_BIT_ON POS_ALLSTEPCTL_415           ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
12446 00001966 8B12                   M           BF      POS_ALLSTEPCTL_415
12447                            4049     
12448                            4050     ;       --2016-10-31(2016-08-12)(CMPERR対策)---------
12449 00001968 D10F              4051             MOV.L   #_CNT_STOP_WAIT_TIM,R1          ;
12450 0000196A 6011              4052             MOV.W   @R1,R0                          ;
12451 0000196C 2008              4053             TST     R0,R0                           ;
12452                            4054             TST_BIT_ON POS_ALLSTEPCTL_415           ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
12453 0000196E 8B0E                   M           BF      POS_ALLSTEPCTL_415
12454                            4055     
12455                            4056     
12456                            4057     
12457                            4058     ;       === ﾌﾙｸﾛｰｽﾞ・回転共にこれで止める　連続・回転・停止なしのみここ以外
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   113
PROGRAM NAME =

12458 00001970 D10E              4059             MOV.L   #_MODE_SEL,R1                   ;
12459 00001972 6011              4060             MOV.W   @R1,R0                          ;寸動なら１工程へ、連続なら停止なしなら１
                                          工程へ
12460 00001974 C808              4061             TST     #_W1CNT,R0                      ;
12461                            4062             TST_BIT_OF POS_ALLSTEPCTL_415           ;
12462 00001976 890A                   M           BT      POS_ALLSTEPCTL_415
12463                            4063     
12464                            4064     ;       ===== 2004-12-20 ===
12465 00001978 D10D              4065             MOV.L   #_CPOS_MOD_FLG1,R1              ;
12466 0000197A 6011              4066             MOV.W   @R1,R0                          ;
12467 0000197C C804              4067             TST     #BIT2,R0                        ;
12468                            4068             TST_BIT_ON POS_ALLSTEPCTL_415           ;
12469 0000197E 8B06                   M           BF      POS_ALLSTEPCTL_415
12470                            4069     
12471 00001980 D10C              4070             MOV.L   #_STOP_LATCH_B,R1               ;
12472 00001982 6011              4071             MOV.W   @R1,R0                          ;
12473 00001984 2008              4072             TST     R0,R0                           ;
12474                            4073             TST_BIT_OF POS_ALLSTEPCTL_415           ;
12475 00001986 8902                   M           BT      POS_ALLSTEPCTL_415
12476                            4074             FAR_JSR #_STOP_LTH_OUT,R0               ;自分を止めるのが目的
12477 00001988 D00B                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12478 0000198A 400B                   M           JSR     @R0                     ;
12479 0000198C 0009                   M           NOP                                     ;
12480                            4075     
12481 0000198E                   4076     POS_ALLSTEPCTL_415:                             ;
12482                            4077     
12483                            4078     ;       ===================================
12484                            4079     ;       ===     二重回路対策            ===
12485                            4080     ;       ===     工程完了                ===
12486                            4081     ;       ===================================
12487                            4082     ;;;;;;;;;;;;FORCE_STEPEND_HAND200:                              ;[2015-04-08]
12488                            4083     
12489                            4084              .AIF   1 EQ 1  ;
12490                            4085 C   ;       -------- 2016-10-31 ADD 二重回路対策
12491                            4086              .AENDI
12492 0000198E 9008              4087             MOV.W   #D'5,R0                         ;CPUAがCPUBの開始に反応しないかどうかの確
                                          認(2016-08-26)
12493 00001990 D105              4088             MOV.L   #_CNT_STOP_WAIT_TIM,R1          ;
12494 00001992 2101              4089             MOV.W   R0,@R1                          ;ﾊﾝﾄﾞｼｪｲｸ終了後2msecだけ停止釦を検知しない
12495                            4090     
12496                            4091             FAR_JSR #_CMPAB_STEP_END_PROC,R0        ;
12497 00001994 D009                   M           MOV.L   #_CMPAB_STEP_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12498 00001996 400B                   M           JSR     @R0                     ;
12499 00001998 0009                   M           NOP                                     ;
12500 0000199A 2008              4092             TST     R0,R0                           ;
12501                            4093             TST_BIT_ON POS_ALLSTEPCTL_420           ;
12502 0000199C 8B10                   M           BF      POS_ALLSTEPCTL_420
12503                            4094             M_BRA   POS_ALLSTEPCTL_900              ;
12504 0000199E A15F                   M           BRA     POS_ALLSTEPCTL_900
12505 000019A0 0009                   M           NOP
12506                                     ***** BEGIN-POOL *****
12507 000019A2 0005                       DATA FOR SOURCE-LINE 4087
12508 000019A4 00000000                   DATA FOR SOURCE-LINE 4045
12509 000019A8 00000000                   DATA FOR SOURCE-LINE 4051,4088
12510 000019AC 00000000                   DATA FOR SOURCE-LINE 4059
12511 000019B0 00000000                   DATA FOR SOURCE-LINE 4065
12512 000019B4 00000000                   DATA FOR SOURCE-LINE 4070
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   114
PROGRAM NAME =

12513 000019B8 00000000                   DATA FOR SOURCE-LINE 4074
12514 000019BC 00000000                   DATA FOR SOURCE-LINE 4091
12515                                     ***** END-POOL *****
12516 000019C0                   4095     POS_ALLSTEPCTL_420:                             ;
12517                            4096             FAR_JSR #_CMPSTP_STEP_END_CLR,R0        ;//位置決め完了としたい
12518 000019C0 D00B                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12519 000019C2 400B                   M           JSR     @R0                     ;
12520 000019C4 0009                   M           NOP                                     ;
12521                            4097     
12522                            4098     ;       ===================
12523                            4099     ;       ===     CAM2    ===
12524                            4100     ;       ===================
12525                            4101             FAR_JSR #_CAM_1STEP_END_SIG2,R0         ;
12526 000019C6 D00B                   M           MOV.L   #_CAM_1STEP_END_SIG2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12527 000019C8 400B                   M           JSR     @R0                     ;
12528 000019CA 0009                   M           NOP                                     ;
12529                            4102     
12530                            4103     
12531                            4104     ;       ====== 次の工程演算[繰り返しCHK] ======
12532                            4105             FAR_JSR #_MOT_REP_STEPCHK,R0            ;ﾘﾋﾟｰﾄ開始(通常工程->ﾘﾋﾟｰﾄ戻工程,ﾘﾋﾟｰﾄ戻->
                                          ﾘﾋﾟｰﾄ開始工程)
12533 000019CC D00A                   M           MOV.L   #_MOT_REP_STEPCHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12534 000019CE 400B                   M           JSR     @R0                     ;
12535 000019D0 0009                   M           NOP                                     ;
12536                            4106     
12537 000019D2 D50A              4107             MOV.L   #_MOT_REP_F,R5                  ;//BIT1(ﾚﾋﾟｰﾄ演算しろ),BIT2(ﾘﾋﾟｰﾄ戻実行中)
12538 000019D4 6051              4108             MOV.W   @R5,R0                          ;
12539 000019D6 C804              4109             TST     #BIT2,R0                        ;
12540                            4110             TST_BIT_OF POS_ALLSTEPCTL_428           ;ﾘﾋﾟｰﾄから通常の開始工程に切り替えろ?
12541 000019D8 8918                   M           BT      POS_ALLSTEPCTL_428
12542 000019DA C901              4111             AND     #(BIT0),R0                      ;BIT3,BIT2:CLR
12543 000019DC 2501              4112             MOV.W   R0,@R5                          ;
12544 000019DE D408              4113             MOV.L   #_SET1_MOTREP_STGS,R4           ;//繰り返し終了行程[この工程は停止工程とす
                                          る]
12545 000019E0 6141              4114             MOV.W   @R4,R1                          ;
12546 000019E2 D508              4115             MOV.L   #_INT_POS_CTL_STEP,R5           ;//内部制御工程1~11
12547 000019E4 2511              4116             MOV.W   R1,@R5                          ;
12548 000019E6 D008              4117             MOV.L   #_SV_POS_CTL_STEP,R0            ;//1msec 制御上の見かけ
12549 000019E8 2011              4118             MOV.W   R1,@R0                          ;
12550                            4119             M_BRA   POS_ALLSTEPCTL_580              ;工程番号から位置演算
12551 000019EA A090                   M           BRA     POS_ALLSTEPCTL_580
12552 000019EC 0009                   M           NOP
12553                            4120     
12554                            4121     
12555                                     ***** BEGIN-POOL *****
12556 000019EE 0000                       ALIGNMENT CODE
12557 000019F0 00000000                   DATA FOR SOURCE-LINE 4096
12558 000019F4 00000000                   DATA FOR SOURCE-LINE 4101
12559 000019F8 00000000                   DATA FOR SOURCE-LINE 4105
12560 000019FC 00000000                   DATA FOR SOURCE-LINE 4107
12561 00001A00 00000000                   DATA FOR SOURCE-LINE 4113
12562 00001A04 00000000                   DATA FOR SOURCE-LINE 4115
12563 00001A08 00000000                   DATA FOR SOURCE-LINE 4117
12564                                     ***** END-POOL *****
12565 00001A0C                   4122     POS_ALLSTEPCTL_428
12566 00001A0C C802              4123             TST     #BIT1,R0                        ;
12567                            4124             TST_BIT_OF POS_ALLSTEPCTL_430           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   115
PROGRAM NAME =

12568 00001A0E 890D                   M           BT      POS_ALLSTEPCTL_430
12569 00001A10 C901              4125             AND     #(BIT0),R0                      ;BIT1:CLR BIT3:ふりこ時に使用される
12570 00001A12 2501              4126             MOV.W   R0,@R5                          ;
12571                            4127     
12572                            4128             FAR_JSR #_DEBUG_BRK_POINT2,R0           ;
12573 00001A14 D003                   M           MOV.L   #_DEBUG_BRK_POINT2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12574 00001A16 400B                   M           JSR     @R0                     ;
12575 00001A18 0009                   M           NOP                                     ;
12576                            4129     
12577                            4130             FAR_JSR #_MOT_REPSTART_CALC,R0          ;
12578 00001A1A D003                   M           MOV.L   #_MOT_REPSTART_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12579 00001A1C 400B                   M           JSR     @R0                     ;
12580 00001A1E 0009                   M           NOP                                     ;
12581                            4131             M_BRA   POS_ALLSTEPCTL_590              ;位置演算後の処理
12582 00001A20 A0BB                   M           BRA     POS_ALLSTEPCTL_590
12583 00001A22 0009                   M           NOP
12584                            4132     
12585                            4133     
12586                                     ***** BEGIN-POOL *****
12587 00001A24 00000000                   DATA FOR SOURCE-LINE 4128
12588 00001A28 00000000                   DATA FOR SOURCE-LINE 4130
12589                                     ***** END-POOL *****
12590 00001A2C                   4134     POS_ALLSTEPCTL_430:                             ;
12591                            4135     ;       ====== 次の工程演算 ======
12592 00001A2C D509              4136             MOV.L   #_INT_POS_CTL_STEP,R5   ;//内部制御工程1~11
12593 00001A2E 6051              4137             MOV.W   @R5,R0                  ;
12594 00001A30 70FF              4138             ADD     #-1,R0                  ;
12595 00001A32 4008              4139             SHLL2   R0                      ;
12596 00001A34 D708              4140             MOV.L   #_CPOS_SDAT1_CNTSTEP,R7 ;
12597 00001A36 017E              4141             MOV.L   @(R0,R7),R1             ;この工程の最後のｽﾃｯﾌﾟ
12598 00001A38 D608              4142             MOV.L   #_CPOS_STEP_MAX,R6      ;//設定
12599 00001A3A 6461              4143             MOV.W   @R6,R4                  ;
12600 00001A3C 7401              4144             ADD     #1,R4                   ;
12601 00001A3E 3142              4145             CMP/HS  R4,R1                   ;R4=(<)R1:NOW 最終工程?
12602 00001A40 8912              4146             BT      POS_ALLSTEPCTL_450      ;YES 最終工程だった JUMP
12603 00001A42 7101              4147             ADD     #1,R1                   ;
12604 00001A44 2511              4148             MOV.W   R1,@R5                  ;NEXT ｾｯﾄ
12605                            4149     
12606                            4150     ;       =======================================
12607 00001A46 D406              4151             MOV.L   #_CAM_CNT_CHG_FLG,R4            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
12608 00001A48 200A              4152             XOR     R0,R0                           ;
12609 00001A4A 2401              4153             MOV.W   R0,@R4                          ;
12610                            4154     ;       =========================================
12611                            4155     
12612                            4156     ;       =================================================
12613 00001A4C D005              4157             MOV.L   #_SV_POS_CTL_STEP,R0    ;//1msec 制御上の見かけ
12614 00001A4E 2011              4158             MOV.W   R1,@R0                  ;
12615                            4159     ;       ================================================
12616                            4160     ;       === 次の工程への処理===         ;
12617                            4161             M_BRA   POS_ALLSTEPCTL_580      ;
12618 00001A50 A05D                   M           BRA     POS_ALLSTEPCTL_580
12619 00001A52 0009                   M           NOP
12620                            4162     
12621                            4163     ;====通常の安一等の最終工程,連続停止の最終行程もここ 2004-03-03
12622                                     ***** BEGIN-POOL *****
12623 00001A54 00000000                   DATA FOR SOURCE-LINE 4136
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   116
PROGRAM NAME =

12624 00001A58 00000000                   DATA FOR SOURCE-LINE 4140
12625 00001A5C 00000000                   DATA FOR SOURCE-LINE 4142
12626 00001A60 00000000                   DATA FOR SOURCE-LINE 4151
12627 00001A64 00000000                   DATA FOR SOURCE-LINE 4157
12628                                     ***** END-POOL *****
12629 00001A68                   4164     POS_ALLSTEPCTL_450:
12630                            4165             FAR_JSR #_MOTION_CYCLE_END,R0           ;
12631 00001A68 D00D                   M           MOV.L   #_MOTION_CYCLE_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12632 00001A6A 400B                   M           JSR     @R0                     ;
12633 00001A6C 0009                   M           NOP                                     ;
12634                            4166     
12635                            4167             .AIF    0 EQ    0
12636                            4168 C           FAR_JSR #_API_IVW_CYC_START,R0                  ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
12637 00001A6E D00D                   M           MOV.L   #_API_IVW_CYC_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12638 00001A70 400B                   M           JSR     @R0                     ;
12639 00001A72 0009                   M           NOP                                     ;
12640                            4169 C   
12641                            4170             .AENDI
12642                            4171     
12643                            4172             FAR_JSR #_MOTION_CYCLE_ED2,R0           ;連続のVﾓｰﾄﾞがここを通過している
12644 00001A74 D00C                   M           MOV.L   #_MOTION_CYCLE_ED2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12645 00001A76 400B                   M           JSR     @R0                     ;
12646 00001A78 0009                   M           NOP                                     ;
12647                            4173             FAR_JSR #_LOT_SIG_FLG_CLR,R0            ;通常の連続
12648 00001A7A D00C                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12649 00001A7C 400B                   M           JSR     @R0                     ;
12650 00001A7E 0009                   M           NOP                                     ;
12651                            4174     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT1,R0
12652                            4175     
12653                            4176     
12654                            4177     ;       == 非常停止解除(ｻｲｸﾙ運転),1CYCLEND ==
12655 00001A80 D10B              4178             MOV.L   #_MODE_SEL,R1                   ;
12656 00001A82 6011              4179             MOV.W   @R1,R0                          ;寸動なら１工程へ、連続なら停止なしなら１
                                          工程へ
12657 00001A84 C80A              4180             TST     #(_W1CNT+_W1INC),R0             ;
12658                            4181             TST_BIT_OF POS_ALLSTEPCTL_600X          ;終了
12659 00001A86 8909                   M           BT      POS_ALLSTEPCTL_600X
12660                            4182     
12661 00001A88 C802              4183             TST     #(_W1INC),R0                    ;
12662                            4184             TST_BIT_ON POS_ALLSTEPCTL_530           ;開始
12663 00001A8A 8B17                   M           BF      POS_ALLSTEPCTL_530
12664                            4185     
12665                            4186     ;       === 連続 ===
12666 00001A8C D109              4187             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
12667 00001A8E 6011              4188             MOV.W   @R1,R0                          ;
12668 00001A90 C801              4189             TST     #BIT0,R0                        ;
12669                            4190             TST_BIT_ON POS_ALLSTEPCTL_600X          ;終了
12670 00001A92 8B03                   M           BF      POS_ALLSTEPCTL_600X
12671                            4191     
12672                            4192              .AIF   1 EQ 1  ;
12673                            4193 C   ;       -------- 2016-10-31 ADD 二重回路対策
12674                            4194              .AENDI
12675                            4195     
12676                            4196     ;;;2016-10-31           M_BRA   POS_ALLSTEPCTL_550              ;(連続のＶﾓｰﾄﾞでの最終工程
                                          から最初の行程) 停止付の処理
12677                            4197     ;       ----------- 2016-10-31(2016-07-31)(CMPERR対策)--------
12678                            4198             .AIF    0 EQ    0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   117
PROGRAM NAME =

12679 00001A94 D108              4199 C           MOV.L   #_SH2_HD_CNT_STOP,R1            ;
12680                            4200             .AELSE
12681                            4201             MOV.L   #_SH4_HD_CNT_STOP,R1            ;
12682                            4202             .AENDI
12683 00001A96 6011              4203             MOV.W   @R1,R0                          ;
12684 00001A98 2008              4204             TST     R0,R0                           ;
12685                            4205             TST_BIT_OF POS_ALLSTEPCTL_550           ;(連続のＶﾓｰﾄﾞでの最終工程から最初の行程)
                                          停止付の処理
12686 00001A9A 8919                   M           BT      POS_ALLSTEPCTL_550
12687                            4206     ;;;;2016-08-24  XOR     R0,R0                           ;相手の信号を受け付けた場合,相手の
                                          信号をOFFしておく
12688                            4207     ;;;;2016-08-24  MOV.W   R0,@R1                          ;不要
12689                            4208     
12690                            4209     
12691 00001A9C                   4210     POS_ALLSTEPCTL_600X             ;終了
12692                            4211             M_BRA   POS_ALLSTEPCTL_600              ;終了
12693 00001A9C A0C8                   M           BRA     POS_ALLSTEPCTL_600
12694 00001A9E 0009                   M           NOP
12695                            4212     
12696                            4213     
12697                                     ***** BEGIN-POOL *****
12698 00001AA0 00000000                   DATA FOR SOURCE-LINE 4165
12699 00001AA4 00000000                   DATA FOR SOURCE-LINE 4168
12700 00001AA8 00000000                   DATA FOR SOURCE-LINE 4172
12701 00001AAC 00000000                   DATA FOR SOURCE-LINE 4173
12702 00001AB0 00000000                   DATA FOR SOURCE-LINE 4178
12703 00001AB4 00000000                   DATA FOR SOURCE-LINE 4187
12704 00001AB8 00000000                   DATA FOR SOURCE-LINE 4199
12705                                     ***** END-POOL *****
12706 00001ABC                   4214     POS_ALLSTEPCTL_530:                             ;
12707 00001ABC D103              4215             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
12708 00001ABE 6111              4216             MOV.W   @R1,R1                          ;.3
12709 00001AC0 9203              4217             MOV.W   #BIT3,R2                        ;
12710 00001AC2 2128              4218             TST     R2,R1
12711                            4219             TST_BIT_OF POS_ALLSTEPCTL_550           ;
12712 00001AC4 8904                   M           BT      POS_ALLSTEPCTL_550
12713                            4220             M_BRA   POS_ALLSTEPCTL_600              ;終了 寸動一工程
12714 00001AC6 A0B3                   M           BRA     POS_ALLSTEPCTL_600
12715 00001AC8 0009                   M           NOP
12716                            4221     
12717                            4222     ;       === 継続運転<> ==
12718                                     ***** BEGIN-POOL *****
12719 00001ACA 0008                       DATA FOR SOURCE-LINE 4217
12720 00001ACC 00000000                   DATA FOR SOURCE-LINE 4215
12721                                     ***** END-POOL *****
12722 00001AD0                   4223     POS_ALLSTEPCTL_550:                             ;
12723                            4224             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT4,WKREG=R1 ;2012-12-10 DEB
                                          UG
12724 00001AD0 D11A                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
12725 00001AD2 6011                   M           MOV.W   @R1,R0          ;
12726 00001AD4 CB10                   M           OR      #BIT4,R0                ;
12727 00001AD6 2101                   M           MOV.W   R0,@R1          ;
12728                            4225             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_DNM_DEBUG_STS1,LG=W,BIT=~(BIT3+BIT2+BIT1+BIT0),WKREG
                                          =R1     ;2012-12-10 DEBUG
12729 00001AD8 D118                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
12730 00001ADA 6011                   M           MOV.W   @R1,R0          ;
12731 00001ADC C9F0                   M           AND     #LOW ~(BIT3+BIT2+BIT1+BIT0),R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   118
PROGRAM NAME =

12732 00001ADE 2101                   M           MOV.W   R0,@R1          ;
12733                            4226     
12734                            4227              .AIF   1 EQ 1  ;
12735                            4228 C   ;       -------- 2016-10-31 ADD 二重回路対策
12736                            4229              .AENDI
12737                            4230     ;       ---------連続及び寸動の継続時の１サイクル終了はここ
12738                            4231             FAR_JSR #_DNM_CYCLE_END,R0                      ;2016-06-13[3]
12739 00001AE0 D017                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12740 00001AE2 400B                   M           JSR     @R0                     ;
12741 00001AE4 0009                   M           NOP                                     ;
12742                            4232     
12743                            4233     ;       ----- [2009-10-07下振子]-----
12744                            4234             FAR_JSR #_DNM_CYCLE_START,R0            ;連続の次のｻｲｸﾙ開始はここ
12745 00001AE6 D017                   M           MOV.L   #_DNM_CYCLE_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12746 00001AE8 400B                   M           JSR     @R0                     ;
12747 00001AEA 0009                   M           NOP                                     ;
12748                            4235     
12749 00001AEC 200A              4236             XOR     R0,R0                           ;
12750                            4237     ;       =======================================
12751 00001AEE D116              4238             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
12752 00001AF0 2101              4239             MOV.W   R0,@R1                          ;
12753                            4240     ;       =========================================
12754 00001AF2 D116              4241             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
12755 00001AF4 2101              4242             MOV.W   R0,@R1                          ;
12756 00001AF6 D116              4243             MOV.L   #_LINK_OBJROT_NUM_ZR,R1         ;//NOW ROTATION 番号
12757 00001AF8 6212              4244             MOV.L   @R1,R2                          ;+0
12758                            4245     ;;;;    FAR_JSR #_NEXT_CYCL_START1,R0           ;回転なら+1
12759                            4246             FAR_JSR #_BANK_CHK_NEXT_CYCL_STR1,R0    ;2004-12-20::::連続/寸動の上死点停止付処理
12760 00001AFA D016                   M           MOV.L   #_BANK_CHK_NEXT_CYCL_STR1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12761 00001AFC 400B                   M           JSR     @R0                     ;
12762 00001AFE 0009                   M           NOP                                     ;
12763                            4247     
12764 00001B00 D115              4248             MOV.L   #_SV_POS_CTL_STEP,R1            ;//1msec 制御上の見かけ
12765 00001B02 6411              4249             MOV.W   @R1,R4                          ;
12766 00001B04 D215              4250             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
12767 00001B06 2241              4251             MOV.W   R4,@R2                          ;
12768                            4252     
12769                            4253     
12770                            4254             FAR_JSR #_MOTION_CYCLE_START,R0         ;1回転
12771 00001B08 D015                   M           MOV.L   #_MOTION_CYCLE_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12772 00001B0A 400B                   M           JSR     @R0                     ;
12773 00001B0C 0009                   M           NOP                                     ;
12774                            4255     
12775                            4256     
12776                            4257     
12777                            4258     ;       ==== 通常の行程切替,連続の停止付１回転====
12778                            4259     ;       (((((連続Vﾓｰﾄﾞではここは通らない))))))))
12779 00001B0E                   4260     POS_ALLSTEPCTL_580:                             ;<====
12780                            4261     ;       ====== 2007-09-15未出荷　(SIT3:2007-09-15)(COP2:2007-07-07) =============
12781                            4262             FAR_JSR #_POS_LSI_START_INITAL,R0
12782 00001B0E D015                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12783 00001B10 400B                   M           JSR     @R0                     ;
12784 00001B12 0009                   M           NOP                                     ;
12785                            4263     
12786                            4264             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0      ;2010-10-05 実測から設定に取り込まない
12787 00001B14 D014                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   119
PROGRAM NAME =

12788 00001B16 400B                   M           JSR     @R0                     ;
12789 00001B18 0009                   M           NOP                                     ;
12790                            4265     
12791                            4266             FAR_JSR #_OVER_RID_UPDN_LAT_DTMK,R0     ;20060919:
12792 00001B1A D014                   M           MOV.L   #_OVER_RID_UPDN_LAT_DTMK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12793 00001B1C 400B                   M           JSR     @R0                     ;
12794 00001B1E 0009                   M           NOP                                     ;
12795                            4267     
12796 00001B20 D113              4268             MOV.L   #_CPOS_CTL_MATH,R1              ;
12797 00001B22 6011              4269             MOV.W   @R1,R0                          ;
12798 00001B24 C801              4270             TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
12799                            4271             TST_BIT_OF POS_ALLSTEPCTL_585           ;
12800 00001B26 8935                   M           BT      POS_ALLSTEPCTL_585
12801                            4272     ;       ====== 回転時はこれ==========
12802 00001B28 D112              4273             MOV.L   #_CPOS_BANK_USELFUL,R1          ;2004-12-20
12803 00001B2A 6011              4274             MOV.W   @R1,R0                          ;
12804 00001B2C C801              4275             TST     #BIT0,R0                        ;
12805                            4276             TST_BIT_ON POS_ALLSTEPCTL_583           ;<====
12806 00001B2E 8B25                   M           BF      POS_ALLSTEPCTL_583
12807                            4277             FAR_JSR #_POS_1STEP_DATA_MAK2,R0        ;_LNGTH,SHIN,SPEED<設定から求める>
12808 00001B30 D011                   M           MOV.L   #_POS_1STEP_DATA_MAK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12809 00001B32 400B                   M           JSR     @R0                     ;
12810 00001B34 0009                   M           NOP                                     ;
12811                            4278             M_BRA   POS_ALLSTEPCTL_590              ;[]
12812 00001B36 A030                   M           BRA     POS_ALLSTEPCTL_590
12813 00001B38 0009                   M           NOP
12814                            4279     
12815                                     ***** BEGIN-POOL *****
12816 00001B3A 0000                       ALIGNMENT CODE
12817 00001B3C 00000000                   DATA FOR SOURCE-LINE 4224,4225
12818 00001B40 00000000                   DATA FOR SOURCE-LINE 4231
12819 00001B44 00000000                   DATA FOR SOURCE-LINE 4234
12820 00001B48 00000000                   DATA FOR SOURCE-LINE 4238
12821 00001B4C 00000000                   DATA FOR SOURCE-LINE 4241
12822 00001B50 00000000                   DATA FOR SOURCE-LINE 4243
12823 00001B54 00000000                   DATA FOR SOURCE-LINE 4246
12824 00001B58 00000000                   DATA FOR SOURCE-LINE 4248
12825 00001B5C 00000000                   DATA FOR SOURCE-LINE 4250
12826 00001B60 00000000                   DATA FOR SOURCE-LINE 4254
12827 00001B64 00000000                   DATA FOR SOURCE-LINE 4262
12828 00001B68 00000000                   DATA FOR SOURCE-LINE 4264
12829 00001B6C 00000000                   DATA FOR SOURCE-LINE 4266
12830 00001B70 00000000                   DATA FOR SOURCE-LINE 4268
12831 00001B74 00000000                   DATA FOR SOURCE-LINE 4273
12832 00001B78 00000000                   DATA FOR SOURCE-LINE 4277
12833                                     ***** END-POOL *****
12834 00001B7C                   4280     POS_ALLSTEPCTL_583                              ;
12835                            4281     ;       === 連続の上死点ﾀｲﾏなし===
12836                            4282             FAR_JSR #_POS_CNT_BANK_DTMAK3,R0        ;ﾀｲﾏ停止後の起動
12837 00001B7C D003                   M           MOV.L   #_POS_CNT_BANK_DTMAK3,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12838 00001B7E 400B                   M           JSR     @R0                     ;
12839 00001B80 0009                   M           NOP                                     ;
12840                            4283             FAR_JSR #_BANK_CNT_STOP_CHK_TYP1,R0     ;
12841 00001B82 D003                   M           MOV.L   #_BANK_CNT_STOP_CHK_TYP1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12842 00001B84 400B                   M           JSR     @R0                     ;
12843 00001B86 0009                   M           NOP                                     ;
12844                            4284             M_BRA   POS_ALLSTEPCTL_590              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   120
PROGRAM NAME =

12845 00001B88 A007                   M           BRA     POS_ALLSTEPCTL_590
12846 00001B8A 0009                   M           NOP
12847                            4285     
12848                                     ***** BEGIN-POOL *****
12849 00001B8C 00000000                   DATA FOR SOURCE-LINE 4282
12850 00001B90 00000000                   DATA FOR SOURCE-LINE 4283
12851                                     ***** END-POOL *****
12852 00001B94                   4286     POS_ALLSTEPCTL_585:                             ;<<<<<<<<<<<<<<<<<<
12853                            4287     
12854                            4288             FAR_JSR #_POS_1STEP_DATA_MAK_SEL,R0     ;2011-11-18 _POS_1STEP_DATA_MAK1CL/POS_1ST
                                          EP_DATA_MAK2の切り替え
12855 00001B94 D017                   M           MOV.L   #_POS_1STEP_DATA_MAK_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12856 00001B96 400B                   M           JSR     @R0                     ;
12857 00001B98 0009                   M           NOP                                     ;
12858                            4289     
12859                            4290                                                     ;基本的には一致した状態(本当は最終工程だけ
                                          )
12860                            4291     ;;;;2010-10-05  FAR_JSR #_POS_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED<ｲﾝｸﾘﾒﾝﾀﾙﾊﾟﾙｽか
                                          ら求める>
12861                            4292     ;;;;2011-02-18  FAR_JSR #_POS_1STEP_DATA_MAK2,R0        ;目標位置タイプ　2010-10-05
12862                            4293     
12863 00001B9A                   4294     POS_ALLSTEPCTL_590:                             ;
12864                            4295     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ==== 2003-07-14 回転の停止時間変更 ===
12865                            4296     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 2014-08-30
12866                            4297     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; MOV.L   #_SV_CHG_FLG2,R1                ;
12867                            4298     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; MOV.L   @R1,R0                          ;
12868                            4299     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; TST     R0,R0                           ;
12869                            4300     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; TST_BIT_ON POS_ALLSTEPCTL_900           ;次の起動をかけな
                                          い
12870                            4301     
12871                            4302     ;       ===(次ｽﾃｯﾌﾟ起動)===
12872                            4303             FAR_JSR #_ERR_INFO_DT_IN2,R0            ;2004-01-27(data-smp only)
12873 00001B9A D017                   M           MOV.L   #_ERR_INFO_DT_IN2,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12874 00001B9C 400B                   M           JSR     @R0                     ;
12875 00001B9E 0009                   M           NOP                                     ;
12876                            4304     
12877                            4305             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
12878 00001BA0 D016                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12879 00001BA2 400B                   M           JSR     @R0                     ;
12880 00001BA4 0009                   M           NOP                                     ;
12881                            4306             FAR_JSR #_ERR_INFO_DT_IN3,R0            ;2004-01-28ADD,TOTAL(data-smp only)
12882 00001BA6 D016                   M           MOV.L   #_ERR_INFO_DT_IN3,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12883 00001BA8 400B                   M           JSR     @R0                     ;
12884 00001BAA 0009                   M           NOP                                     ;
12885                            4307     
12886                            4308     
12887                            4309     ;;;;;;  FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;停止時からの起動
12888                            4310     ;;;;;(連続のＶﾓｰﾄﾞもここを通過してきているので安全一行程だけ)
12889                            4311             FAR_JSR #_POS_PLSOUT_SET_RETRY,R0       ;(停止時からの起動の場合のみ有効・安一のみ
                                          )
12890 00001BAC D015                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12891 00001BAE 400B                   M           JSR     @R0                     ;
12892 00001BB0 0009                   M           NOP                                     ;
12893                            4312     
12894                            4313     ;       == 2004-03 ===
12895                            4314             FAR_JSR #_ERR_INFO_DT_CHK2,R0           ;"SGL"
12896 00001BB2 D015                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   121
PROGRAM NAME =

12897 00001BB4 400B                   M           JSR     @R0                     ;
12898 00001BB6 0009                   M           NOP                                     ;
12899 00001BB8 901B              4315             MOV.W   #D'2,R0                 ;
12900 00001BBA D114              4316             MOV.L   #_ERR_INFO_DLY_TIM,R1           ;
12901 00001BBC 2101              4317             MOV.W   R0,@R1                          ;
12902                            4318     
12903                            4319             FAR_JSR #_ERR_INFO_DT_IN4,R0            ;"SGL"
12904 00001BBE D014                   M           MOV.L   #_ERR_INFO_DT_IN4,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12905 00001BC0 400B                   M           JSR     @R0                     ;
12906 00001BC2 0009                   M           NOP                                     ;
12907                            4320             FAR_JSR #_FWD_REV_START,R1              ;起動
12908 00001BC4 D113                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12909 00001BC6 410B                   M           JSR     @R1                     ;
12910 00001BC8 0009                   M           NOP                                     ;
12911                            4321     
12912                            4322     ;       -------- 2010-09-27 ふりこ情報--------
12913                            4323             FAR_JSR #_DNM_START_ACC_CALC,R0
12914 00001BCA D013                   M           MOV.L   #_DNM_START_ACC_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12915 00001BCC 400B                   M           JSR     @R0                     ;
12916 00001BCE 0009                   M           NOP                                     ;
12917                            4324     
12918                            4325             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
12919 00001BD0 D012                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12920 00001BD2 400B                   M           JSR     @R0                     ;
12921 00001BD4 0009                   M           NOP                                     ;
12922                            4326     
12923 00001BD6 200A              4327             XOR     R0,R0                           ;
12924 00001BD8 D111              4328             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
12925 00001BDA 2101              4329             MOV.W   R0,@R1                          ;Q
12926                            4330     
12927                            4331     ;       ==== ﾆｱｾﾞﾛ,ﾊﾝﾄﾞｼｪｲｸ終了,ｸﾛｰｽﾞﾌﾗｸﾞCLR ===
12928                            4332             FAR_JSR #_POS_CMP_1STEP_START_INI,R0
12929 00001BDC D011                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12930 00001BDE 400B                   M           JSR     @R0                     ;
12931 00001BE0 0009                   M           NOP                                     ;
12932                            4333     
12933                            4334     ;       ---------------- 起動 2011-09-01 -------------------
12934                            4335             FAR_JSR #_UP_ACCERR_START_INI,R0
12935 00001BE2 D011                   M           MOV.L   #_UP_ACCERR_START_INI,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12936 00001BE4 400B                   M           JSR     @R0                     ;
12937 00001BE6 0009                   M           NOP                                     ;
12938                            4336     
12939                            4337     
12940                            4338     ;       ------- 2015-11-17 -----------------------
12941                            4339     ;2016-04-18     FAR_JSR #_API_ACCLW_DRV_START1,R0
12942                            4340             FAR_JSR #_API_ACC_MATHED_COM_DRV_START1,R0      ;2016-04-18
12943 00001BE8 D010                   M           MOV.L   #_API_ACC_MATHED_COM_DRV_START1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12944 00001BEA 400B                   M           JSR     @R0                     ;
12945 00001BEC 0009                   M           NOP                                     ;
12946                            4341             M_BRA   POS_ALLSTEPCTL_900              ;
12947 00001BEE A037                   M           BRA     POS_ALLSTEPCTL_900
12948 00001BF0 0009                   M           NOP
12949                            4342     
12950                                     ***** BEGIN-POOL *****
12951 00001BF2 0002                       DATA FOR SOURCE-LINE 4315
12952 00001BF4 00000000                   DATA FOR SOURCE-LINE 4288
12953 00001BF8 00000000                   DATA FOR SOURCE-LINE 4303
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   122
PROGRAM NAME =

12954 00001BFC 00000000                   DATA FOR SOURCE-LINE 4305
12955 00001C00 00000000                   DATA FOR SOURCE-LINE 4306
12956 00001C04 00000000                   DATA FOR SOURCE-LINE 4311
12957 00001C08 00000000                   DATA FOR SOURCE-LINE 4314
12958 00001C0C 00000000                   DATA FOR SOURCE-LINE 4316
12959 00001C10 00000000                   DATA FOR SOURCE-LINE 4319
12960 00001C14 00000000                   DATA FOR SOURCE-LINE 4320
12961 00001C18 00000000                   DATA FOR SOURCE-LINE 4323
12962 00001C1C 00000000                   DATA FOR SOURCE-LINE 4325
12963 00001C20 00000000                   DATA FOR SOURCE-LINE 4328
12964 00001C24 00000000                   DATA FOR SOURCE-LINE 4332
12965 00001C28 00000000                   DATA FOR SOURCE-LINE 4335
12966 00001C2C 00000000                   DATA FOR SOURCE-LINE 4340
12967                                     ***** END-POOL *****
12968 00001C30                   4343     POS_ALLSTEPCTL_600:
12969                            4344             FAR_JSR #_MOTION_CYCLE_END,R0                   ;2回目通る
12970 00001C30 D00D                   M           MOV.L   #_MOTION_CYCLE_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12971 00001C32 400B                   M           JSR     @R0                     ;
12972 00001C34 0009                   M           NOP                                     ;
12973                            4345             FAR_JSR #_MOTION_CYCLE_ED2,R0                   ;2003-07-09
12974 00001C36 D00D                   M           MOV.L   #_MOTION_CYCLE_ED2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12975 00001C38 400B                   M           JSR     @R0                     ;
12976 00001C3A 0009                   M           NOP                                     ;
12977                            4346             FAR_JSR #_LOT_SIG_FLG_CLR,R0                    ;通常の連続
12978 00001C3C D00C                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12979 00001C3E 400B                   M           JSR     @R0                     ;
12980 00001C40 0009                   M           NOP                                     ;
12981                            4347     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT2,R0
12982                            4348     
12983                            4349             .AIF    0 EQ    0
12984                            4350 C           FAR_JSR #_API_IVW_CYC_END,R0                    ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
12985 00001C42 D00C                   M           MOV.L   #_API_IVW_CYC_END,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12986 00001C44 400B                   M           JSR     @R0                     ;
12987 00001C46 0009                   M           NOP                                     ;
12988                            4351             .AENDI
12989                            4352     
12990                            4353             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1 ;
12991 00001C48 D10B                   M           MOV.L   #_INT_POS_STEP_FLG,R1           ;
12992 00001C4A 6011                   M           MOV.W   @R1,R0          ;
12993 00001C4C CB40                   M           OR      #BIT6,R0                ;
12994 00001C4E 2101                   M           MOV.W   R0,@R1          ;
12995                            4354     
12996                            4355     ;       ------- 2015-11-17 -----------------------
12997                            4356     ;2016-04-18     FAR_JSR #_API_ACCLW_DRV_STOP,R0
12998                            4357             FAR_JSR #_API_ACC_MATHED_COM_DRV_STOP,R0        ;2016-04-18
12999 00001C50 D00A                   M           MOV.L   #_API_ACC_MATHED_COM_DRV_STOP,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13000 00001C52 400B                   M           JSR     @R0                     ;
13001 00001C54 0009                   M           NOP                                     ;
13002                            4358     
13003                            4359     ;       ======ｻｲｸﾙ停止状態ON==========================
13004 00001C56 D10A              4360             MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
13005 00001C58 6011              4361             MOV.W   @R1,R0                                  ;
13006 00001C5A 9404              4362             MOV.W   #BIT7,R4                                ;
13007 00001C5C 204B              4363             OR      R4,R0                                   ;以下 BIT0,BIT1,BIT8,BIT9を作成す
                                          る
13008 00001C5E 2101              4364             MOV.W   R0,@R1                                  ;
13009                            4365     ;       ===============================================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   123
PROGRAM NAME =

13010 00001C60                   4366     POS_ALLSTEPCTL_900:
13011                            4367     
13012                            4368     
13013                            4369     
13014                            4370     
13015                            4371     
13016                            4372     ;       ------- 2012-12-10 DEBUG-----------
13017                            4373     ;;;2014-09-14   MOV.L   #_DNM_DEBUG_STS1,R1
13018                            4374     ;;;2014-09-14   MOV.W   @R1,R2
13019                            4375     ;;;2014-09-14   MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
13020                            4376     ;;;2014-09-14   MOV.W   R2,@R1                          ;ﾃﾞﾊﾞｯｸ専用
13021                            4377     
13022                            4378     
13023                            4379             SUB_END
13024                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13025 00001C60 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13026                            4380             M_RTS
13027 00001C62 000B                   M           RTS                             ;RTSの後ろの
13028 00001C64 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13029                            4381     
13030                            4382     
13031                            4383     
13032                            4384     
13033                            4385     
13034                            4386     
13035                                     ***** BEGIN-POOL *****
13036 00001C66 0080                       DATA FOR SOURCE-LINE 4362
13037 00001C68 00000000                   DATA FOR SOURCE-LINE 4344
13038 00001C6C 00000000                   DATA FOR SOURCE-LINE 4345
13039 00001C70 00000000                   DATA FOR SOURCE-LINE 4346
13040 00001C74 00000000                   DATA FOR SOURCE-LINE 4350
13041 00001C78 00000000                   DATA FOR SOURCE-LINE 4353
13042 00001C7C 00000000                   DATA FOR SOURCE-LINE 4357
13043 00001C80 00000000                   DATA FOR SOURCE-LINE 4360
13044                                     ***** END-POOL *****
13045 00001C84                   4387     _DEBUG_BRK_POINT1
13046                            4388             SUB_START
13047 00001C84 4F22                   M           STS.L   PR,@-R15                ;[必要]
13048                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13049                            4389     ;       -------debug break-point set----------
13050                            4390             PUSH_REG1 R0
13051 00001C86 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
13052                                 M                                           ;REG=>[SP]
13053                                 M                                           ;"-4" FF,FF,FF,FC
13054                            4391             PUSH_REG1 R1
13055 00001C88 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
13056                                 M                                           ;REG=>[SP]
13057                                 M                                           ;"-4" FF,FF,FF,FC
13058 00001C8A D107              4392             MOV.L   #_di2_cb_ctl2,R1        ;
13059 00001C8C 6011              4393             MOV.W   @R1,R0                  ;
13060 00001C8E C880              4394             TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
13061                            4395             TST_BIT_OF DEBUG_BRK_PNT1_100
13062 00001C90 8904                   M           BT      DEBUG_BRK_PNT1_100
13063                            4396     
13064 00001C92 0009              4397             NOP
13065 00001C94 0009              4398             NOP
13066 00001C96 0009              4399             NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   124
PROGRAM NAME =

13067 00001C98 0009              4400             NOP
13068 00001C9A 0009              4401             NOP
13069                            4402     
13070                            4403     
13071 00001C9C                   4404     DEBUG_BRK_PNT1_100
13072                            4405     
13073                            4406     
13074                            4407             POP_REG1 R1
13075                                 M                                   ; RE"+4" 00,00,00,04
13076 00001C9C 61F6                   M           MOV.L   @R15+,R1        ;
13077                            4408             POP_REG1 R0
13078                                 M                                   ; RE"+4" 00,00,00,04
13079 00001C9E 60F6                   M           MOV.L   @R15+,R0        ;
13080                            4409             SUB_END
13081                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13082 00001CA0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13083                            4410             M_RTS
13084 00001CA2 000B                   M           RTS                             ;RTSの後ろの
13085 00001CA4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13086                            4411     
13087                                     ***** BEGIN-POOL *****
13088 00001CA6 0000                       ALIGNMENT CODE
13089 00001CA8 00000000                   DATA FOR SOURCE-LINE 4392
13090                                     ***** END-POOL *****
13091 00001CAC                   4412     _DEBUG_BRK_POINT2
13092                            4413             SUB_START
13093 00001CAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
13094                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13095                            4414     ;       -------debug break-point set----------
13096                            4415             PUSH_REG1 R0
13097 00001CAE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
13098                                 M                                           ;REG=>[SP]
13099                                 M                                           ;"-4" FF,FF,FF,FC
13100                            4416             PUSH_REG1 R1
13101 00001CB0 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
13102                                 M                                           ;REG=>[SP]
13103                                 M                                           ;"-4" FF,FF,FF,FC
13104 00001CB2 D107              4417             MOV.L   #_di2_cb_ctl2,R1        ;
13105 00001CB4 6011              4418             MOV.W   @R1,R0                  ;
13106 00001CB6 C880              4419             TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
13107                            4420             TST_BIT_OF DEBUG_BRK_PNT2_100
13108 00001CB8 8904                   M           BT      DEBUG_BRK_PNT2_100
13109                            4421     
13110 00001CBA 0009              4422             NOP
13111 00001CBC 0009              4423             NOP
13112 00001CBE 0009              4424             NOP
13113 00001CC0 0009              4425             NOP
13114 00001CC2 0009              4426             NOP
13115                            4427     
13116                            4428     
13117 00001CC4                   4429     DEBUG_BRK_PNT2_100
13118                            4430     
13119                            4431     
13120                            4432             POP_REG1 R1
13121                                 M                                   ; RE"+4" 00,00,00,04
13122 00001CC4 61F6                   M           MOV.L   @R15+,R1        ;
13123                            4433             POP_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   125
PROGRAM NAME =

13124                                 M                                   ; RE"+4" 00,00,00,04
13125 00001CC6 60F6                   M           MOV.L   @R15+,R0        ;
13126                            4434             SUB_END
13127                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13128 00001CC8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13129                            4435             M_RTS
13130 00001CCA 000B                   M           RTS                             ;RTSの後ろの
13131 00001CCC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13132                            4436     
13133                                     ***** BEGIN-POOL *****
13134 00001CCE 0000                       ALIGNMENT CODE
13135 00001CD0 00000000                   DATA FOR SOURCE-LINE 4417
13136                                     ***** END-POOL *****
13137 00001CD4                   4437     _DEBUG_BRK_POINT3
13138                            4438             SUB_START
13139 00001CD4 4F22                   M           STS.L   PR,@-R15                ;[必要]
13140                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13141                            4439     ;       -------debug break-point set----------
13142                            4440             PUSH_REG1 R0
13143 00001CD6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
13144                                 M                                           ;REG=>[SP]
13145                                 M                                           ;"-4" FF,FF,FF,FC
13146                            4441             PUSH_REG1 R1
13147 00001CD8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
13148                                 M                                           ;REG=>[SP]
13149                                 M                                           ;"-4" FF,FF,FF,FC
13150 00001CDA D107              4442             MOV.L   #_di2_cb_ctl2,R1        ;
13151 00001CDC 6011              4443             MOV.W   @R1,R0                  ;
13152 00001CDE C880              4444             TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
13153                            4445             TST_BIT_OF DEBUG_BRK_PNT3_100
13154 00001CE0 8904                   M           BT      DEBUG_BRK_PNT3_100
13155                            4446     
13156 00001CE2 0009              4447             NOP
13157 00001CE4 0009              4448             NOP
13158 00001CE6 0009              4449             NOP
13159 00001CE8 0009              4450             NOP
13160 00001CEA 0009              4451             NOP
13161                            4452     
13162                            4453     
13163 00001CEC                   4454     DEBUG_BRK_PNT3_100
13164                            4455     
13165                            4456     
13166                            4457             POP_REG1 R1
13167                                 M                                   ; RE"+4" 00,00,00,04
13168 00001CEC 61F6                   M           MOV.L   @R15+,R1        ;
13169                            4458             POP_REG1 R0
13170                                 M                                   ; RE"+4" 00,00,00,04
13171 00001CEE 60F6                   M           MOV.L   @R15+,R0        ;
13172                            4459             SUB_END
13173                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13174 00001CF0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13175                            4460             M_RTS
13176 00001CF2 000B                   M           RTS                             ;RTSの後ろの
13177 00001CF4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13178                            4461     
13179                            4462     
13180                            4463     ;       *******************************************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   126
PROGRAM NAME =

13181                            4464     ;       ***                                                             ***
13182                            4465     ;       ***     反転時のフルクローズ後の工程（戻り）は目標位置ではだめ  ***
13183                            4466     ;       ***                                                             ***
13184                            4467     ;       *******************************************************************
13185                            4468     ;       2011-02-18 (2010-10-05 はMCのよるソフト)
13186                            4469     ;
13187                                     ***** BEGIN-POOL *****
13188 00001CF6 0000                       ALIGNMENT CODE
13189 00001CF8 00000000                   DATA FOR SOURCE-LINE 4442
13190                                     ***** END-POOL *****
13191 00001CFC                   4470             .ALIGN  4                               ;
13192 00001CFC                   4471     _POS_1STEP_DATA_MAK_SEL:
13193                            4472             SUB_START
13194 00001CFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
13195                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13196                            4473     
13197 00001CFE D104              4474             MOV.L   #_CPOS_CTL_MATH,R1                      ;
13198 00001D00 6011              4475             MOV.W   @R1,R0                                  ;
13199 00001D02 C805              4476             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
13200                            4477             TST_BIT_ON POS_1STEP_DATA_MKSL100               ;YES
13201 00001D04 8B08                   M           BF      POS_1STEP_DATA_MKSL100
13202                            4478     
13203                            4479     ;;;     FAR_JSR #_POS_1STEP_DATA_MAK1,R0                ;目標位置に対して少しパルスを減ら
                                          す 2011-02-19
13204                            4480             FAR_JSR #_POS_1STEP_DATA_MAK1CL,R0              ;目標位置に対して少しパルスを減ら
                                          す 2011-02-19
13205 00001D06 D003                   M           MOV.L   #_POS_1STEP_DATA_MAK1CL,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13206 00001D08 400B                   M           JSR     @R0                     ;
13207 00001D0A 0009                   M           NOP                                     ;
13208                            4481             M_BRA   POS_1STEP_DATA_MKSL200                  ;
13209 00001D0C A007                   M           BRA     POS_1STEP_DATA_MKSL200
13210 00001D0E 0009                   M           NOP
13211                            4482     
13212                            4483     
13213                                     ***** BEGIN-POOL *****
13214 00001D10 00000000                   DATA FOR SOURCE-LINE 4474
13215 00001D14 00000000                   DATA FOR SOURCE-LINE 4480
13216                                     ***** END-POOL *****
13217 00001D18                   4484     POS_1STEP_DATA_MKSL100:
13218                            4485             FAR_JSR #_POS_1STEP_DATA_MAK2,R0                ;目標位置タイプ　2010-10-05
13219 00001D18 D002                   M           MOV.L   #_POS_1STEP_DATA_MAK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13220 00001D1A 400B                   M           JSR     @R0                     ;
13221 00001D1C 0009                   M           NOP                                     ;
13222 00001D1E                   4486     POS_1STEP_DATA_MKSL200:
13223                            4487                                                             ;基本的には一致した状態(本当は最終
                                          工程だけ)
13224                            4488     ;;;;2010-10-05  FAR_JSR #_POS_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED<ｲﾝｸﾘﾒﾝﾀﾙﾊﾟﾙｽか
                                          ら求める>
13225                            4489     ;;;;2011-02-18  FAR_JSR #_POS_1STEP_DATA_MAK2,R0        ;目標位置タイプ　2010-10-05
13226                            4490     
13227                            4491     
13228                            4492             SUB_END
13229                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13230 00001D1E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13231                            4493             M_RTS
13232 00001D20 000B                   M           RTS                             ;RTSの後ろの
13233 00001D22 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   127
PROGRAM NAME =

13234                            4494     
13235                            4495     
13236                            4496     
13237                            4497     
13238                            4498     
13239                            4499     ;       *******************************************
13240                            4500     ;       ***                                     ***
13241                            4501     ;       ***                                     ***
13242                            4502     ;       ***                                     ***
13243                            4503     ;       ***     JUMP処理短縮のｻﾌﾞﾙｰﾁﾝ化         ***
13244                            4504     ;       ***     2009-10-07                      ***
13245                            4505     ;       ***                                     ***
13246                            4506     ;       ***                                     ***
13247                            4507     ;       *******************************************
13248                                     ***** BEGIN-POOL *****
13249 00001D24 00000000                   DATA FOR SOURCE-LINE 4485
13250                                     ***** END-POOL *****
13251 00001D28                   4508     _CNT_NEAR_TIM_CHK:
13252                            4509             SUB_START
13253 00001D28 4F22                   M           STS.L   PR,@-R15                ;[必要]
13254                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13255                            4510             SUB_END
13256                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13257 00001D2A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13258                            4511             M_RTS
13259 00001D2C 000B                   M           RTS                             ;RTSの後ろの
13260 00001D2E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13261                            4512     
13262 00001D30                   4513     _POS_ALLSTEP_STOP_SPD_CHK:
13263                            4514             SUB_START
13264 00001D30 4F22                   M           STS.L   PR,@-R15                ;[必要]
13265                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13266                            4515             SUB_END
13267                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13268 00001D32 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13269                            4516             M_RTS
13270 00001D34 000B                   M           RTS                             ;RTSの後ろの
13271 00001D36 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13272                            4517     
13273 00001D38                   4518     _NEAR_ZERO_IN_CHK:
13274                            4519             SUB_START
13275 00001D38 4F22                   M           STS.L   PR,@-R15                ;[必要]
13276                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13277                            4520             SUB_END
13278                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13279 00001D3A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13280                            4521             M_RTS
13281 00001D3C 000B                   M           RTS                             ;RTSの後ろの
13282 00001D3E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13283                            4522     
13284 00001D40                   4523     _PLSOUT_STEP_END_TIMSET
13285                            4524             SUB_START
13286 00001D40 4F22                   M           STS.L   PR,@-R15                ;[必要]
13287                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13288                            4525             SUB_END
13289                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13290 00001D42 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   128
PROGRAM NAME =

13291                            4526             M_RTS
13292 00001D44 000B                   M           RTS                             ;RTSの後ろの
13293 00001D46 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13294                            4527     
13295 00001D48                   4528     _WAIT_TIM_CNT:
13296                            4529             SUB_START
13297 00001D48 4F22                   M           STS.L   PR,@-R15                ;[必要]
13298                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13299                            4530             SUB_END
13300                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13301 00001D4A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13302                            4531             M_RTS
13303 00001D4C 000B                   M           RTS                             ;RTSの後ろの
13304 00001D4E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13305                            4532     
13306                            4533     
13307                            4534     ;       ***********************************
13308                            4535     ;       ***                             ***
13309                            4536     ;       ***     次のｻｲｸﾙ演算            ***
13310                            4537     ;       ***                             ***
13311                            4538     ;       ***********************************
13312                            4539     
13313                            4540     ;       ***************************
13314                            4541     ;       ***     Input R2 回転   ***
13315                            4542     ;       ***************************
13316                            4543     ;       ==かならず正転方向から運転を始める
13317                            4544     ;       ==(今の目標位置＝現在位置）は待機点と正転方向の第一目標位置の間にあるか？(正転動作
                                          から始める)０を
13318                            4545     ;       (1)待機点が第一目標位置より小さい場合（普通の設定 目標位置は１回転足されていない）
                                          ０をはさまない
13319                            4546     ;          @待機点と目標位置の範囲内なら足さない
13320                            4547     ;          A　@以外で１８０度(上昇ホールドだけど)〜０度（３６００）の範囲なら＋１する
13321                            4548     ;          Bそれ以外は戻すからそのまま
13322                            4549     ;       (2)待機点が第一目標位置より大きい場合（普通の設定 目標位置は１回転足されている）：
                                          ０をはさむ
13323                            4550     ;          @待機点〜０の間はそのまま
13324                            4551     ;          A０を含む ０〜第一目標位置の間は−１する
13325                            4552     ;          Bそのままにしておく
13326                            4553     
13327                            4554     ;       パルスで考える
13328                            4555     ;
13329                            4556     ;       0ﾊﾟﾙｽから待機点ﾊﾟﾙｽ間はそのまま
13330                            4557     ;       待機ﾊﾟﾙｽ~SV間
13331                            4558     ;
13332                            4559     ;       第一目標位置が360度を越えない場合(またがない場合)
13333                            4560     ;       第一目標位置が360度を越える場合(またぐ場合)
13334                            4561     ;
13335                            4562     ;
13336                            4563     ;       0_______ORG_____SV________359.9
13337                            4564     ;         PV1       PV2     PV3
13338                            4565     ;         *PV1:そのままの回転 PV2:そのまま　PV3 回転+1
13339                            4566     ;
13340                            4567     ;       0_______ORG_______________360.0_______SV______719.9
13341                            4568     ;          PV2          PV1              PV3-2   PV3-1
13342                            4569     ;          PV+360.0
13343                            4570     ;         PV1:そのまま (PV2はない)
13344                            4571     ;         PV3-1:そのまま
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   129
PROGRAM NAME =

13345                            4572     ;         PV3-2: "-1"
13346                            4573     ;       "Input R2"
13347 00001D50                   4574             .ALIGN  4                               ;
13348 00001D50                   4575     _NEXT_CYCL_START2:                              ;[正方向から開始する運転の１回目の起動]
13349                            4576             SUB_START                               ;
13350 00001D50 4F22                   M           STS.L   PR,@-R15                ;[必要]
13351                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13352                            4577     
13353                            4578             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
13354 00001D52 D011                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13355 00001D54 400B                   M           JSR     @R0                     ;
13356 00001D56 0009                   M           NOP                                     ;
13357 00001D58 D410              4579             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
13358 00001D5A 6242              4580             MOV.L   @R4,R2                                  ;
13359                            4581     
13360 00001D5C D410              4582             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;"(目標)"
13361 00001D5E 6942              4583             MOV.L   @R4,R9                                  ;
13362 00001D60 D110              4584             MOV.L   #_CPOS_UPAREA_PLS,R1                    ;//4;待機点
13363 00001D62 6812              4585             MOV.L   @R1,R8                                  ;
13364 00001D64 D110              4586             MOV.L   #_LINK_1ROT_PLS,R1                      ;待機点より小さかったら+１回転
13365 00001D66 6712              4587             MOV.L   @R1,R7                                  ;反転時もこの論理でＯＫ
13366                            4588     
13367                            4589     ;;;;2014-09-19 振子の逆待機点からの開始
13368                            4590     ;;;;2014-09-19  MOV.L   #_SETX_POS_SDAT1_OFSPOS,R10             ;
13369 00001D68 DA10              4591             MOV.L   #_CPOS_SDAT1_OFSPOS,R10                                         ;
13370 00001D6A 63A2              4592             MOV.L   @R10,R3
                                          ;1ｽﾃｯﾌﾟ目
13371                            4593     
13372                            4594     ;       ------INC_RESET_USE_F;//STEPを参照して　2014-09-26----------
13373                            4595     ;;;;2018-11-13
13374                            4596     ;;;;2018-11-13  MOV.L   #_INC_RESET_USE_F,R1            ;
13375                            4597     ;;;;2018-11-13  MOV.W   @R1,R0                                          ;
13376                            4598     ;;;;2018-11-13  TST     R0,R0                                                   ;
13377                            4599     ;;;;2018-11-13  TST_BIT_ON POS_START_ROT_CAL_900        ;
13378                            4600     ;;;;2018-11-13
13379                            4601     ;       ------------ 2018-11-13--------
13380 00001D6C D110              4602             MOV.L   #_INC_RESET_USE_F,R1                            ;ﾛｯﾄ数を算出するｿﾌﾄ
13381 00001D6E 6011              4603             MOV.W   @R1,R0                                                          ;
13382 00001D70 2008              4604             TST     R0,R0                                                                   ;
13383                            4605             TST_BIT_OF POS_START_ROT_CAL_050                        ;
13384 00001D72 8927                   M           BT      POS_START_ROT_CAL_050
13385                            4606     
13386 00001D74 D10F              4607             MOV.L   #_CPOS_CTL_MATH,R1                                      ;
13387 00001D76 6011              4608             MOV.W   @R1,R0                                                          ;
13388 00001D78 C801              4609             TST     #(_DMATH_CNTROT),R0                                             ;
13389                            4610             TST_BIT_OF POS_START_ROT_CAL_040                        ;回転ではない 今のﾛｯﾄはそ
                                          のまま
13390 00001D7A 8921                   M           BT      POS_START_ROT_CAL_040
13391                            4611     
13392 00001D7C 2888              4612             TST             R8,R8                                                           ;
13393                            4613             TST_BIT_OF POS_START_ROT_CAL_040                        ;待機点が0なら関係ない
13394 00001D7E 891F                   M           BT      POS_START_ROT_CAL_040
13395                            4614     
13396 00001D80 D10D              4615             MOV.L   #_PAR_WTSEL_USE,R1                                      ;
13397 00001D82 6011              4616             MOV.W   @R1,R0                                                          ;
13398 00001D84 8801              4617             CMP/EQ  #1,R0                                                           ;
13399 00001D86 8B1B              4618             BF              POS_START_ROT_CAL_040                           ;待機点選択無効
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   130
PROGRAM NAME =

13400                            4619     
13401 00001D88 D10C              4620             MOV.L   #_INC_RESET_STEP,R1                                     ;
13402 00001D8A 6011              4621             MOV.W   @R1,R0                                                          ;
13403 00001D8C 70FF              4622             ADD             #-1,R0                                                          ;
13404 00001D8E 4008              4623             SHLL2   R0                                                                      ;4
                                          BYTE
13405 00001D90 30AC              4624             ADD             R10,R0                                                          ;
13406 00001D92 6302              4625             MOV.L   @R0,R3                                                          ;R4 目標
13407                            4626             M_BRA   POS_START_ROT_CAL_100                           ;この目標位置で計算
13408 00001D94 A026                   M           BRA     POS_START_ROT_CAL_100
13409 00001D96 0009                   M           NOP
13410                            4627     
13411                            4628     
13412                                     ***** BEGIN-POOL *****
13413 00001D98 00000000                   DATA FOR SOURCE-LINE 4578
13414 00001D9C 00000000                   DATA FOR SOURCE-LINE 4579
13415 00001DA0 00000000                   DATA FOR SOURCE-LINE 4582
13416 00001DA4 00000000                   DATA FOR SOURCE-LINE 4584
13417 00001DA8 00000000                   DATA FOR SOURCE-LINE 4586
13418 00001DAC 00000000                   DATA FOR SOURCE-LINE 4591
13419 00001DB0 00000000                   DATA FOR SOURCE-LINE 4602
13420 00001DB4 00000000                   DATA FOR SOURCE-LINE 4607
13421 00001DB8 00000000                   DATA FOR SOURCE-LINE 4615
13422 00001DBC 00000000                   DATA FOR SOURCE-LINE 4620
13423                                     ***** END-POOL *****
13424 00001DC0                   4629     POS_START_ROT_CAL_040:
13425                            4630             M_BRA   POS_START_ROT_CAL_900                   ;
13426 00001DC0 A01E                   M           BRA     POS_START_ROT_CAL_900
13427 00001DC2 0009                   M           NOP
13428                            4631     
13429                            4632     
13430                            4633     
13431 00001DC4                   4634     POS_START_ROT_CAL_050:
13432                            4635     ;       ----------------------------------------------------------
13433                            4636     ;       ----- 2014-09-19　ふりこ反対側待機点からの初起動-----------
13434 00001DC4 D105              4637             MOV.L   #_CPOS_CTL_MATH,R1                              ;
13435 00001DC6 6011              4638             MOV.W   @R1,R0                                                  ;
13436 00001DC8 C804              4639             TST     #(_DMATH_DNDRIV),R0                                     ;往復
13437                            4640             TST_BIT_OF POS_START_ROT_CAL_100                ;
13438 00001DCA 890B                   M           BT      POS_START_ROT_CAL_100
13439                            4641     
13440 00001DCC D104              4642             MOV.L   #_DNM_DIR_NOW_FLG,R1                    ;//このフラグでいいのかな？
13441 00001DCE 6011              4643             MOV.W   @R1,R0                                                  ;
13442 00001DD0 2008              4644             TST     R0,R0                                                           ;
13443                            4645             TST_BIT_OF POS_START_ROT_CAL_100                ;ふりこの通常側からの起動
13444 00001DD2 8907                   M           BT      POS_START_ROT_CAL_100
13445                            4646     
13446                            4647     ;-------いいのかな?
13447 00001DD4 3833              4648             CMP/GE  R3,R8                                                   ;目標=<待機点
13448 00001DD6 8913              4649             BT      POS_START_ROT_CAL_900                           ;逆転から始まる
13449                            4650             M_BRA   POS_START_ROT_CAL_999                   ;-1回転
13450 00001DD8 A020                   M           BRA     POS_START_ROT_CAL_999
13451 00001DDA 0009                   M           NOP
13452                            4651     
13453                            4652     
13454                            4653     
13455                            4654     ;---------------- 今までの回転、反転、ふりこ右側待機・・正転から始まる-----------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   131
PROGRAM NAME =

13456                                     ***** BEGIN-POOL *****
13457 00001DDC 00000000                   DATA FOR SOURCE-LINE 4637
13458 00001DE0 00000000                   DATA FOR SOURCE-LINE 4642
13459                                     ***** END-POOL *****
13460 00001DE4                   4655     POS_START_ROT_CAL_100:
13461 00001DE4 3373              4656             CMP/GE  R7,R3                                                   ;1REV =< SV
13462 00001DE6 8903              4657             BT      POS_START_ROT_CAL_200                           ;
13463                            4658     ;       ======= 0度をはさまない ====
13464 00001DE8 3937              4659             CMP/GT  R3,R9                                                   ;
13465 00001DEA 890F              4660             BT      POS_START_ROT_CAL_950                           ;待機(R8)<SV(R3)<NOW
13466                            4661             M_BRA   POS_START_ROT_CAL_900                   ;
13467 00001DEC A008                   M           BRA     POS_START_ROT_CAL_900
13468 00001DEE 0009                   M           NOP
13469                            4662     
13470                            4663     ;       ====== ０度を挟む===
13471 00001DF0                   4664     POS_START_ROT_CAL_200:
13472 00001DF0 3897              4665             CMP/GT  R9,R8                                                   ;待機点以下?
13473 00001DF2 8B05              4666             BF      POS_START_ROT_CAL_900                           ;NO! 待機点~360度
13474 00001DF4 6593              4667             MOV     R9,R5
13475 00001DF6 357C              4668             ADD     R7,R5                                                           ;1REV+NOW
13476 00001DF8 3537              4669             CMP/GT  R3,R5                                                   ;SV < NOW
13477 00001DFA 8901              4670             BT      POS_START_ROT_CAL_900                           ;YES
13478                            4671             M_BRA   POS_START_ROT_CAL_999                   ;
13479 00001DFC A00E                   M           BRA     POS_START_ROT_CAL_999
13480 00001DFE 0009                   M           NOP
13481                            4672     
13482                            4673     
13483                            4674     
13484                            4675     ;       ===== そのまま =====
13485 00001E00                   4676     POS_START_ROT_CAL_900
13486 00001E00 D401              4677             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
13487 00001E02 6242              4678             MOV.L   @R4,R2                                  ;
13488                            4679             M_BRA   NEXT_CYCL_STR1_050                      ;
13489 00001E04 A018                   M           BRA     NEXT_CYCL_STR1_050
13490 00001E06 0009                   M           NOP
13491                            4680     
13492                            4681     ;       ===== +1 =====
13493                                     ***** BEGIN-POOL *****
13494 00001E08 00000000                   DATA FOR SOURCE-LINE 4677
13495                                     ***** END-POOL *****
13496 00001E0C                   4682     POS_START_ROT_CAL_950
13497 00001E0C D402              4683             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
13498 00001E0E 6242              4684             MOV.L   @R4,R2                                  ;
13499 00001E10 7201              4685             ADD     #1,R2                                   ;
13500                            4686             M_BRA   NEXT_CYCL_STR1_050                      ;
13501 00001E12 A011                   M           BRA     NEXT_CYCL_STR1_050
13502 00001E14 0009                   M           NOP
13503                            4687     
13504                            4688     ;       ===== -1 =====
13505                                     ***** BEGIN-POOL *****
13506 00001E16 0000                       ALIGNMENT CODE
13507 00001E18 00000000                   DATA FOR SOURCE-LINE 4683
13508                                     ***** END-POOL *****
13509 00001E1C                   4689     POS_START_ROT_CAL_999
13510 00001E1C D402              4690             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
13511 00001E1E 6242              4691             MOV.L   @R4,R2                                  ;
13512 00001E20 72FF              4692             ADD     #-1,R2                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   132
PROGRAM NAME =

13513                            4693             M_BRA   NEXT_CYCL_STR1_050                      ;
13514 00001E22 A009                   M           BRA     NEXT_CYCL_STR1_050
13515 00001E24 0009                   M           NOP
13516                            4694     
13517                                     ***** BEGIN-POOL *****
13518 00001E26 0000                       ALIGNMENT CODE
13519 00001E28 00000000                   DATA FOR SOURCE-LINE 4690
13520                                     ***** END-POOL *****
13521 00001E2C                   4695             .ALIGN  4                               ;
13522 00001E2C                   4696     _NEXT_CYCL_START1:
13523                            4697             SUB_START
13524 00001E2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
13525                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13526 00001E2E D111              4698             MOV.L   #_CPOS_CTL_MATH,R1              ;
13527 00001E30 6011              4699             MOV.W   @R1,R0                          ;
13528 00001E32 C801              4700             TST     #_DMATH_CNTROT,R0               ;回転?
13529                            4701             TST_BIT_OF NEXT_CYCL_STR1_050
13530 00001E34 8900                   M           BT      NEXT_CYCL_STR1_050
13531 00001E36 7201              4702             ADD     #1,R2                           ;回転数+1<反転>
13532 00001E38                   4703     NEXT_CYCL_STR1_050:
13533                            4704     
13534                            4705     ;       === 2004-12-20====
13535 00001E38 D40F              4706             MOV.L   #_BANK1_CALC_ROT_NUM_ZR,R4
13536 00001E3A 2422              4707             MOV.L   R2,@R4
13537                            4708     
13538 00001E3C 9418              4709             MOV.W   #1,R4
13539 00001E3E D10F              4710             MOV.L   #_SV_POS_CTL_STEP,R1            ;
13540 00001E40 2141              4711             MOV.W   R4,@R1                          ;(+1だけでいいのか/つくり直す必要があるの
                                          か)
13541                            4712             PUSH_REG1 R2
13542 00001E42 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
13543                                 M                                           ;REG=>[SP]
13544                                 M                                           ;"-4" FF,FF,FF,FC
13545                            4713             FAR_JSR #_CPOS_ROT_NUM_SET,R1           ;Input R2 回転
13546 00001E44 D10E                   M           MOV.L   #_CPOS_ROT_NUM_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13547 00001E46 410B                   M           JSR     @R1                     ;
13548 00001E48 0009                   M           NOP                                     ;
13549                            4714             POP_REG1 R2
13550                                 M                                   ; RE"+4" 00,00,00,04
13551 00001E4A 62F6                   M           MOV.L   @R15+,R2        ;
13552                            4715             FAR_JSR #_CPOS_ABS_POS_SET,R1           ;Input R2 回転
13553 00001E4C D10D                   M           MOV.L   #_CPOS_ABS_POS_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13554 00001E4E 410B                   M           JSR     @R1                     ;
13555 00001E50 0009                   M           NOP                                     ;
13556                            4716     
13557                            4717     ;       =====2003-07-09 速度============
13558                            4718             FAR_JSR #_CPOS_SPD_DTMOV,R0             ;
13559 00001E52 D00D                   M           MOV.L   #_CPOS_SPD_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13560 00001E54 400B                   M           JSR     @R0                     ;
13561 00001E56 0009                   M           NOP                                     ;
13562                            4719     ;       ===== 2003-07-14 TIME ======
13563                            4720             FAR_JSR #_CPOS_TIM_DTMOV,R0             ;
13564 00001E58 D00C                   M           MOV.L   #_CPOS_TIM_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13565 00001E5A 400B                   M           JSR     @R0                     ;
13566 00001E5C 0009                   M           NOP                                     ;
13567                            4721     
13568                            4722     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   133
PROGRAM NAME =

13569                            4723     ;       --------2012-05-15 反転、全モードのタイマ時はタイマ処理から再開をクリア[3/]　次ｻｲｸ
                                          ﾙ開始----
13570                            4724     ;       基本的にはなくてすむはずかな?
13571                            4725             MEM_0CLR_R0_R1  MEM=_DURING_TIM_FX,LG=W         ;ﾀｲﾏ処理終了した
13572 00001E5E 200A                   M           XOR     R0,R0           ;
13573 00001E60 D10B                   M           MOV.L   #_DURING_TIM_FX,R1      ;
13574 00001E62 2101                   M           MOV.W   R0,@R1          ;
13575                            4726     
13576                            4727     
13577                            4728     ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
13578                            4729             FAR_JSR #_HLDCAM_ABS_POS_SET,R1         ;
13579 00001E64 D10B                   M           MOV.L   #_HLDCAM_ABS_POS_SET,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13580 00001E66 410B                   M           JSR     @R1                     ;
13581 00001E68 0009                   M           NOP                                     ;
13582                            4730     
13583                            4731     
13584                            4732     
13585                            4733             SUB_END
13586                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13587 00001E6A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13588                            4734             M_RTS
13589 00001E6C 000B                   M           RTS                             ;RTSの後ろの
13590 00001E6E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13591                            4735     
13592                            4736     
13593                            4737     
13594                            4738     
13595                            4739     
13596                            4740     
13597                            4741     
13598                            4742     
13599                            4743     
13600                            4744     
13601                            4745     
13602                            4746     
13603                            4747     
13604                            4748     
13605                            4749     
13606                            4750     
13607                            4751     
13608                            4752     
13609                            4753     
13610                            4754     ;       ***********************************************************
13611                            4755     ;       ***                                                     ***
13612                            4756     ;       ***     連続速度中の速度と連続内のｽﾃｯﾌﾟ切り替え         ***
13613                            4757     ;       ***                                                     ***
13614                            4758     ;       ***********************************************************
13615                            4759     ;       連続だ。自分の切り替え位置を超えたら＋１する。もし、ＭＡＸステップを超えたら１にす
                                          る
13616                            4760     ;
13617                            4761     ;
13618                                     ***** BEGIN-POOL *****
13619 00001E70 0001                       DATA FOR SOURCE-LINE 4709
13620 00001E72 0000                       ALIGNMENT CODE
13621 00001E74 00000000                   DATA FOR SOURCE-LINE 4698
13622 00001E78 00000000                   DATA FOR SOURCE-LINE 4706
13623 00001E7C 00000000                   DATA FOR SOURCE-LINE 4710
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   134
PROGRAM NAME =

13624 00001E80 00000000                   DATA FOR SOURCE-LINE 4713
13625 00001E84 00000000                   DATA FOR SOURCE-LINE 4715
13626 00001E88 00000000                   DATA FOR SOURCE-LINE 4718
13627 00001E8C 00000000                   DATA FOR SOURCE-LINE 4720
13628 00001E90 00000000                   DATA FOR SOURCE-LINE 4725
13629 00001E94 00000000                   DATA FOR SOURCE-LINE 4729
13630                                     ***** END-POOL *****
13631 00001E98                   4762             .ALIGN  4                               ;
13632 00001E98                   4763     _SPD_STEP_CHG_FWD:
13633                            4764             SUB_START
13634 00001E98 4F22                   M           STS.L   PR,@-R15                ;[必要]
13635                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13636 00001E9A DB12              4765             MOV.L   #_INT_POS_CTL_STEP,R11                                  ;//内部制御工程1~1
                                          1
13637 00001E9C 69B1              4766             MOV.W   @R11,R9                                                 ;ﾀｲﾏLOAD
13638 00001E9E 6793              4767             MOV     R9,R7                                                   ;
13639 00001EA0 77FF              4768             ADD     #-1,R7                                                  ;
13640 00001EA2 4708              4769             SHLL2   R7                                                      ;
13641 00001EA4 6273              4770             MOV     R7,R2
13642 00001EA6 4200              4771             SHLL    R2
13643 00001EA8 D00F              4772             MOV.L   #_CPOS_SDAT1_CHGAPOS,R0                                 ;
13644 00001EAA 302C              4773             ADD     R2,R0
13645 00001EAC 6106              4774             MOV.L   @R0+,R1                                                 ;位置
13646 00001EAE 6202              4775             MOV.L   @R0,R2                                                  ;
13647                            4776     
13648 00001EB0 D40E              4777             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
13649 00001EB2 6546              4778             MOV.L   @R4+,R5                                                 ;
13650 00001EB4 6642              4779             MOV.L   @R4,R6                                                  ;R5,R6 実測位置-->
                                          目標位置
13651                            4780     
13652 00001EB6 D00E              4781             MOV.L   #_CPOS_SDAT1_INF1,R0            ;[12];          //SETX-->起動時COPY
13653 00001EB8 007E              4782             MOV.L   @(R0,R7),R0                     ;BIT0=1連続
13654 00001EBA C801              4783             TST     #BIT0,R0                        ;
13655                            4784             TST_BIT_OF SPD_STEP_CHGFWD_EXT          ;連続? NO EXIT
13656 00001EBC 894B                   M           BT      SPD_STEP_CHGFWD_EXT
13657 00001EBE C802              4785             TST     #BIT1,R0                        ;
13658                            4786             TST_BIT_ON SPD_STEP_CHGFWD_100          ;逆転方向 THEN JUMP
13659 00001EC0 8B1E                   M           BF      SPD_STEP_CHGFWD_100
13660                            4787     ;       ===== 正転方向 =======
13661                            4788             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;(ｲｺｰﾙでは切り替え
                                          ない)
13662 00001EC2 0008                   M           CLRT
13663 00001EC4 326A                   M           SUBC    R6,R2
13664 00001EC6 315A                   M           SUBC    R5,R1
13665 00001EC8 4111              4789             CMP/PZ  R1                              ;
13666 00001ECA 8B1E              4790             BF      SPD_STEP_CHGFWD_200             ;"-":超えた
13667                            4791     
13668                            4792     ;       ====== 2013-04-14 反転手前処理[反転手前で止めるため、その区間に停止がある場合の処
                                          理]======
13669 00001ECC D109              4793             MOV.L   #_CPOS_CTL_MATH,R1                      ;
13670 00001ECE 6011              4794             MOV.W   @R1,R0                                  ;
13671 00001ED0 C805              4795             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
13672                            4796             TST_BIT_ON SPD_STEP_CHGFWD_090                  ;
13673 00001ED2 8B13                   M           BF      SPD_STEP_CHGFWD_090
13674                            4797     
13675                            4798             FAR_JSR #_REV_BEFORE_CHGKOUTEICHK,R0            ;反転
13676 00001ED4 D008                   M           MOV.L   #_REV_BEFORE_CHGKOUTEICHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   135
PROGRAM NAME =

13677 00001ED6 400B                   M           JSR     @R0                     ;
13678 00001ED8 0009                   M           NOP                                     ;
13679 00001EDA 2008              4799             TST     R0,R0                                   ;
13680                            4800             TST_BIT_OF SPD_STEP_CHGFWD_090                  ;
13681 00001EDC 890E                   M           BT      SPD_STEP_CHGFWD_090
13682 00001EDE 6923              4801             MOV     R2,R9                                   ;行程
13683                            4802             M_BRA   SPD_STEP_CHGFWD_202                     ;2013-04-14追加
13684 00001EE0 A014                   M           BRA     SPD_STEP_CHGFWD_202
13685 00001EE2 0009                   M           NOP
13686                            4803     
13687                                     ***** BEGIN-POOL *****
13688 00001EE4 00000000                   DATA FOR SOURCE-LINE 4765
13689 00001EE8 00000000                   DATA FOR SOURCE-LINE 4772
13690 00001EEC 00000000                   DATA FOR SOURCE-LINE 4777
13691 00001EF0 00000000                   DATA FOR SOURCE-LINE 4781
13692 00001EF4 00000000                   DATA FOR SOURCE-LINE 4793
13693 00001EF8 00000000                   DATA FOR SOURCE-LINE 4798
13694                                     ***** END-POOL *****
13695 00001EFC                   4804     SPD_STEP_CHGFWD_090:
13696                            4805             M_BRA   SPD_STEP_CHGFWD_EXT             ;SV-PV >=0 EXIT (SV >= PV)
13697 00001EFC A02B                   M           BRA     SPD_STEP_CHGFWD_EXT
13698 00001EFE 0009                   M           NOP
13699                            4806     
13700                            4807     
13701 00001F00                   4808     SPD_STEP_CHGFWD_100:
13702                            4809     ;       ===== 逆転方向 =======
13703                            4810             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6       ;(ｲｺｰﾙでは切り替え
                                          ない)
13704 00001F00 0008                   M           CLRT
13705 00001F02 362A                   M           SUBC    R2,R6
13706 00001F04 351A                   M           SUBC    R1,R5
13707 00001F06 4511              4811             CMP/PZ  R5                              ;
13708 00001F08 8925              4812             BT      SPD_STEP_CHGFWD_EXT             ;PV-SV >=0 EXIT (PV >= SV)
13709 00001F0A                   4813     SPD_STEP_CHGFWD_200:
13710 00001F0A 7901              4814             ADD     #1,R9                           ;NEXT STEP SET
13711                            4815     
13712 00001F0C                   4816     SPD_STEP_CHGFWD_202:                            ;2013-04-14追加
13713 00001F0C D105              4817             MOV.L   #_CPOS_STEP_MAX,R1              ;//設定
13714 00001F0E 6211              4818             MOV.W   @R1,R2                          ;
13715 00001F10 7201              4819             ADD     #1,R2                           ;
13716 00001F12 3292              4820             CMP/HS  R9,R2                           ;STEP+1=<MAX
13717 00001F14 890A              4821             BT      SPD_STEP_CHGFWD_250             ;
13718                            4822     
13719                            4823     ;       === 何の意味のチェックだろう？最大工程＋１＜管理ステップの意味？
13720                            4824             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSLSI_CHK_STS,LG=W,BIT=BIT3,WKREG=R3      ;
13721 00001F16 D304                   M           MOV.L   #_POSLSI_CHK_STS,R3             ;
13722 00001F18 6031                   M           MOV.W   @R3,R0          ;
13723 00001F1A CB08                   M           OR      #BIT3,R0                ;
13724 00001F1C 2301                   M           MOV.W   R0,@R3          ;
13725                            4825             M_BRA   SPD_STEP_CHGFWD_EXT                                             ;
13726 00001F1E A01A                   M           BRA     SPD_STEP_CHGFWD_EXT
13727 00001F20 0009                   M           NOP
13728                            4826     
13729                                     ***** BEGIN-POOL *****
13730 00001F22 0000                       ALIGNMENT CODE
13731 00001F24 00000000                   DATA FOR SOURCE-LINE 4817
13732 00001F28 00000000                   DATA FOR SOURCE-LINE 4824
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   136
PROGRAM NAME =

13733                                     ***** END-POOL *****
13734 00001F2C                   4827     SPD_STEP_CHGFWD_250:                            ;
13735 00001F2C 2B91              4828             MOV.W   R9,@R11                         ;ﾀｲﾏLOAD
13736                            4829     ;       ==========================================
13737                            4830     ;       =================================================
13738 00001F2E D00B              4831             MOV.L   #_SV_POS_CTL_STEP,R0    ;//1msec 制御上の見かけ
13739 00001F30 2091              4832             MOV.W   R9,@R0                  ;
13740                            4833     ;       ================================================
13741 00001F32 79FF              4834             ADD     #-1,R9                          ;
13742 00001F34 4908              4835             SHLL2   R9                              ;
13743 00001F36 D00A              4836             MOV.L   #_CPOS_SDAT1_SPD,R0             ;
13744 00001F38 029E              4837             MOV.L   @(R0,R9),R2                     ;
13745 00001F3A D10A              4838             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
13746 00001F3C 2122              4839             MOV.L   R2,@R1                          ;
13747                            4840             FAR_JSR #_POS_LSI_TOP_SPEED_SETX,R1     ;
13748 00001F3E D10A                   M           MOV.L   #_POS_LSI_TOP_SPEED_SETX,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13749 00001F40 410B                   M           JSR     @R1                     ;
13750 00001F42 0009                   M           NOP                                     ;
13751                            4841     
13752                            4842     
13753                            4843     ;       =======================================
13754 00001F44 D109              4844             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
13755 00001F46 200A              4845             XOR     R0,R0                           ;
13756 00001F48 2101              4846             MOV.W   R0,@R1                          ;
13757                            4847     ;       =========================================
13758                            4848             FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_END,R0
13759 00001F4A D009                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_END,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13760 00001F4C 400B                   M           JSR     @R0                     ;
13761 00001F4E 0009                   M           NOP                                     ;
13762                            4849             FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_DAT,R0
13763 00001F50 D008                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13764 00001F52 400B                   M           JSR     @R0                     ;
13765 00001F54 0009                   M           NOP                                     ;
13766                            4850     
13767                            4851             .AIF    0 EQ    0
13768                            4852             .AELSE
13769                            4853             FAR_JSR #_CPUB_HENSA_FLG_CLR,R0         ;
13770                            4854             .AENDI
13771                            4855     
13772                            4856     
13773 00001F56                   4857     SPD_STEP_CHGFWD_EXT:
13774                            4858             SUB_END
13775                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13776 00001F56 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13777                            4859             M_RTS
13778 00001F58 000B                   M           RTS                             ;RTSの後ろの
13779 00001F5A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13780                            4860     
13781                            4861     
13782                            4862     
13783                            4863     
13784                            4864     ;       === 2004-01-26 連続寸動一工程　===
13785                            4865     ;       == _CCS_STEP_NEXT_CHK ===
13786                            4866     ;;;;;;;;;;;;;;不要ですね20060930        .INCLUDE        "ssa_ccss.inc"          ; //
13787                            4867     
13788                            4868     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   137
PROGRAM NAME =

13789                            4869     ;       *******************************************
13790                            4870     ;       ***                                     ***
13791                            4871     ;       ***             段取/待機点復帰         ***
13792                            4872     ;       ***                                     ***
13793                            4873     ;       *******************************************
13794                                     ***** BEGIN-POOL *****
13795 00001F5C 00000000                   DATA FOR SOURCE-LINE 4831
13796 00001F60 00000000                   DATA FOR SOURCE-LINE 4836
13797 00001F64 00000000                   DATA FOR SOURCE-LINE 4838
13798 00001F68 00000000                   DATA FOR SOURCE-LINE 4840
13799 00001F6C 00000000                   DATA FOR SOURCE-LINE 4844
13800 00001F70 00000000                   DATA FOR SOURCE-LINE 4848
13801 00001F74 00000000                   DATA FOR SOURCE-LINE 4849
13802                                     ***** END-POOL *****
13803          000001F4          4874     _EQ_STOP_START_WAIT_ORG         .EQU    D'500   ;100mec(3000sec)
13804          00000064          4875     _EQ_STOP_START_WAIT_DND         .EQU    D'100   ;
13805                            4876     ;
13806                            4877     ;       ==============
13807 00001F78                   4878             .ALIGN  4                               ;
13808 00001F78                   4879     _DND_ALL_STEP_CTRL:
13809                            4880             SUB_START
13810 00001F78 4F22                   M           STS.L   PR,@-R15                ;[必要]
13811                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13812 00001F7A D106              4881             MOV.L   #_MODE_SEL,R1                   ;
13813 00001F7C 6011              4882             MOV.W   @R1,R0                          ;
13814 00001F7E C840              4883             TST     #_W1DUP,R0              ;
13815                            4884             TST_BIT_ON DND_ALLSTEPCTL_020   ;原点復帰
13816 00001F80 8B24                   M           BF      DND_ALLSTEPCTL_020
13817                            4885     
13818                            4886     ;       ------ 2006-07-28 -----
13819 00001F82 D105              4887             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
13820 00001F84 6011              4888             MOV.W   @R1,R0                          ;
13821 00001F86 2008              4889             TST     R0,R0                           ;
13822                            4890             TST_BIT_OF DND_ALLSTEPCTL_005           ;
13823 00001F88 890A                   M           BT      DND_ALLSTEPCTL_005
13824                            4891             FAR_JSR #_DND_TEP_STEP_CTRL,R0          ;
13825 00001F8A D004                   M           MOV.L   #_DND_TEP_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13826 00001F8C 400B                   M           JSR     @R0                     ;
13827 00001F8E 0009                   M           NOP                                     ;
13828                            4892             M_BRA   DND_ALLSTEPCTL_900              ;
13829 00001F90 A17D                   M           BRA     DND_ALLSTEPCTL_900
13830 00001F92 0009                   M           NOP
13831                            4893     
13832                                     ***** BEGIN-POOL *****
13833 00001F94 00000000                   DATA FOR SOURCE-LINE 4881
13834 00001F98 00000000                   DATA FOR SOURCE-LINE 4887
13835 00001F9C 00000000                   DATA FOR SOURCE-LINE 4891
13836                                     ***** END-POOL *****
13837 00001FA0                   4894     DND_ALLSTEPCTL_005:
13838                            4895     
13839 00001FA0 D104              4896             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
13840 00001FA2 6011              4897             MOV.W   @R1,R0                          ;
13841 00001FA4 C802              4898             TST     #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
13842                            4899             TST_BIT_OF DND_ALLSTEPCTL_010           ;
13843 00001FA6 8909                   M           BT      DND_ALLSTEPCTL_010
13844                            4900     
13845                            4901     ;       ==== 反転段取寸動========
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   138
PROGRAM NAME =

13846                            4902             FAR_JSR #_DND_NEG_STEP_CTRL,R0          ;
13847 00001FA8 D003                   M           MOV.L   #_DND_NEG_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13848 00001FAA 400B                   M           JSR     @R0                     ;
13849 00001FAC 0009                   M           NOP                                     ;
13850                            4903             M_BRA   DND_ALLSTEPCTL_900
13851 00001FAE A16E                   M           BRA     DND_ALLSTEPCTL_900
13852 00001FB0 0009                   M           NOP
13853                            4904     
13854                                     ***** BEGIN-POOL *****
13855 00001FB2 0000                       ALIGNMENT CODE
13856 00001FB4 00000000                   DATA FOR SOURCE-LINE 4896
13857 00001FB8 00000000                   DATA FOR SOURCE-LINE 4902
13858                                     ***** END-POOL *****
13859 00001FBC                   4905     DND_ALLSTEPCTL_010:
13860                            4906             FAR_JSR #_DND_ROT_STEP_CTRL,R0          ;[]
13861 00001FBC D002                   M           MOV.L   #_DND_ROT_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13862 00001FBE 400B                   M           JSR     @R0                     ;
13863 00001FC0 0009                   M           NOP                                     ;
13864                            4907             M_BRA   DND_ALLSTEPCTL_900
13865 00001FC2 A164                   M           BRA     DND_ALLSTEPCTL_900
13866 00001FC4 0009                   M           NOP
13867                            4908     
13868                            4909     ;       ================================
13869                            4910     ;       ======== 待機点復帰 ============
13870                            4911     ;       ================================
13871                                     ***** BEGIN-POOL *****
13872 00001FC6 0000                       ALIGNMENT CODE
13873 00001FC8 00000000                   DATA FOR SOURCE-LINE 4906
13874                                     ***** END-POOL *****
13875 00001FCC                   4912     DND_ALLSTEPCTL_020:
13876 00001FCC D102              4913             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ
13877 00001FCE 6011              4914             MOV.W   @R1,R0                          ;BIT
13878 00001FD0 C840              4915             TST     #BIT6,R0                        ;
13879                            4916             TST_BIT_OF DND_ALLSTEPCTL_050           ;
13880 00001FD2 8903                   M           BT      DND_ALLSTEPCTL_050
13881                            4917             M_BRA   DND_ALLSTEPCTL_900              ;位置決め完了
13882 00001FD4 A15B                   M           BRA     DND_ALLSTEPCTL_900
13883 00001FD6 0009                   M           NOP
13884                            4918     
13885                                     ***** BEGIN-POOL *****
13886 00001FD8 00000000                   DATA FOR SOURCE-LINE 4913
13887                                     ***** END-POOL *****
13888 00001FDC                   4919     DND_ALLSTEPCTL_050:
13889                            4920     ;       ===== 2004-05-23 =======
13890                            4921             FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST2,R0     ;.BIT1
13891 00001FDC D008                   M           MOV.L   #_ORGIN_OBJ_POS_CTRL_ST2,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13892 00001FDE 400B                   M           JSR     @R0                     ;
13893 00001FE0 0009                   M           NOP                                     ;
13894                            4922     ;       ========================
13895                            4923     
13896                            4924     
13897 00001FE2 D108              4925             MOV.L   #_INT_DND_CTL_STEP,R1           ;
13898 00001FE4 6011              4926             MOV.W   @R1,R0                          ;
13899 00001FE6 C802              4927             TST     #BIT1,R0
13900                            4928             TST_BIT_ON DND_ALLSTEPCTL_060           ;第３工程中　EXIT
13901 00001FE8 8B04                   M           BF      DND_ALLSTEPCTL_060
13902 00001FEA C801              4929             TST     #BIT0,R0                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   139
PROGRAM NAME =

13903                            4930             TST_BIT_OF DND_ALLSTEPCTL_060           ;第２工程前
13904 00001FEC 8902                   M           BT      DND_ALLSTEPCTL_060
13905                            4931             FAR_JSR #_ORGIN_MODE_SMP,R0             ;SMPLING
13906 00001FEE D006                   M           MOV.L   #_ORGIN_MODE_SMP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13907 00001FF0 400B                   M           JSR     @R0                     ;
13908 00001FF2 0009                   M           NOP                                     ;
13909 00001FF4                   4932     DND_ALLSTEPCTL_060:                             ;
13910                            4933     
13911 00001FF4 D105              4934             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ
13912 00001FF6 6011              4935             MOV.W   @R1,R0                          ;BIT
13913 00001FF8 C803              4936             TST     #(BIT1+BIT0),R0                 ;
13914                            4937             TST_BIT_OF DND_ALLSTEPCTL_100           ;BIT0:ﾀｲﾏ制御開始
13915 00001FFA 8909                   M           BT      DND_ALLSTEPCTL_100
13916                            4938             M_BRA   DND_ALLSTEPCTL_300              ;BIT1:次の回転起動
13917 00001FFC A024                   M           BRA     DND_ALLSTEPCTL_300
13918 00001FFE 0009                   M           NOP
13919                            4939     
13920                                     ***** BEGIN-POOL *****
13921 00002000 00000000                   DATA FOR SOURCE-LINE 4921
13922 00002004 00000000                   DATA FOR SOURCE-LINE 4925
13923 00002008 00000000                   DATA FOR SOURCE-LINE 4931
13924 0000200C 00000000                   DATA FOR SOURCE-LINE 4934
13925                                     ***** END-POOL *****
13926 00002010                   4940     DND_ALLSTEPCTL_100:
13927                            4941             FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
13928 00002010 D104                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13929 00002012 410B                   M           JSR     @R1                     ;
13930 00002014 0009                   M           NOP                                     ;
13931 00002016 C804              4942             TST     #BIT2,R0                        ;停止?
13932                            4943             TST_BIT_ON DND_ALLSTEPCTL_200           ;YES 停止中 1:停止 0:払出中
13933 00002018 8B08                   M           BF      DND_ALLSTEPCTL_200
13934                            4944             FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
13935 0000201A D003                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13936 0000201C 400B                   M           JSR     @R0                     ;
13937 0000201E 0009                   M           NOP                                     ;
13938                            4945             M_BRA   DND_ALLSTEPCTL_900              ;
13939 00002020 A135                   M           BRA     DND_ALLSTEPCTL_900
13940 00002022 0009                   M           NOP
13941                            4946     
13942                            4947     
13943                            4948     ;       ====== 停止 =====
13944                            4949             .IMPORT _PAR_START_WAIT_DND                     ;段取時切替WAIT時間
13945                                     ***** BEGIN-POOL *****
13946 00002024 00000000                   DATA FOR SOURCE-LINE 4941
13947 00002028 00000000                   DATA FOR SOURCE-LINE 4944
13948                                     ***** END-POOL *****
13949 0000202C                   4950     DND_ALLSTEPCTL_200:
13950 0000202C 9107              4951             MOV.W   #_EQ_STOP_START_WAIT_ORG,R1             ;段取時切替WAIT時間
13951 0000202E D404              4952             MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
13952 00002030 2412              4953             MOV.L   R1,@R4                  ;
13953                            4954     
13954                            4955             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1
13955 00002032 D104                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
13956 00002034 6011                   M           MOV.W   @R1,R0          ;
13957 00002036 CB01                   M           OR      #BIT0,R0                ;
13958 00002038 2101                   M           MOV.W   R0,@R1          ;
13959                            4956             M_BRA   DND_ALLSTEPCTL_900      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   140
PROGRAM NAME =

13960 0000203A A128                   M           BRA     DND_ALLSTEPCTL_900
13961 0000203C 0009                   M           NOP
13962                            4957     
13963                                     ***** BEGIN-POOL *****
13964 0000203E 01F4                       DATA FOR SOURCE-LINE 4951
13965 00002040 00000000                   DATA FOR SOURCE-LINE 4952
13966 00002044 00000000                   DATA FOR SOURCE-LINE 4955
13967                                     ***** END-POOL *****
13968 00002048                   4958     DND_ALLSTEPCTL_300:
13969 00002048 C802              4959             TST     #BIT1,R0                ;
13970                            4960             TST_BIT_ON DND_ALLSTEPCTL_400   ;
13971 0000204A 8B13                   M           BF      DND_ALLSTEPCTL_400
13972                            4961     
13973                            4962             DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;2014-05-30
13974 0000204C D107                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
13975 0000204E 6412                   M           MOV.L   @R1,R4          ;
13976 00002050 2448                   M           TST     R4,R4                   ;
13977 00002052 8901                   M           BT      JMP_0100005                     ;ZERO THEN JUMP
13978 00002054 4410                   M           DT      R4                              ;
13979 00002056 2142                   M           MOV.L   R4,@R1          ;STORE
13980 00002058                        M   JMP_0100005:
13981 00002058 D404              4963             MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
13982 0000205A 6142              4964             MOV.L   @R4,R1                  ;
13983 0000205C 2118              4965             TST     R1,R1                   ;
13984                            4966             TST_BIT_ON DND_ALLSTEPCTL_320   ;DND_ALLSTEPCTL_900     ;
13985 0000205E 8B03                   M           BF      DND_ALLSTEPCTL_320
13986                            4967             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1 ;TIME UP
13987 00002060 D103                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
13988 00002062 6011                   M           MOV.W   @R1,R0          ;
13989 00002064 CB02                   M           OR      #BIT1,R0                ;
13990 00002066 2101                   M           MOV.W   R0,@R1          ;
13991 00002068                   4968     DND_ALLSTEPCTL_320:
13992                            4969             M_BRA   DND_ALLSTEPCTL_900      ;
13993 00002068 A111                   M           BRA     DND_ALLSTEPCTL_900
13994 0000206A 0009                   M           NOP
13995                            4970     
13996                            4971     
13997                            4972     ;       ======= 次の起動の演算または終了の判断=====
13998                                     ***** BEGIN-POOL *****
13999 0000206C 00000000                   DATA FOR SOURCE-LINE 4962,4963
14000 00002070 00000000                   DATA FOR SOURCE-LINE 4967
14001                                     ***** END-POOL *****
14002 00002074                   4973     DND_ALLSTEPCTL_400:
14003 00002074 D502              4974             MOV.L   #_INT_DND_CTL_STEP,R5   ;
14004 00002076 6051              4975             MOV.W   @R5,R0                  ;
14005 00002078 C802              4976             TST     #BIT1,R0                ;BIT0=1 FIRST END BIT1=1 SECOND END
14006                            4977             TST_BIT_OF DND_ALLSTEPCTL_420   ;
14007 0000207A 8903                   M           BT      DND_ALLSTEPCTL_420
14008                            4978             M_BRA   DND_ALLSTEPCTL_600      ;YES 最終工程だった JUMP
14009 0000207C A0F6                   M           BRA     DND_ALLSTEPCTL_600
14010 0000207E 0009                   M           NOP
14011                                     ***** BEGIN-POOL *****
14012 00002080 00000000                   DATA FOR SOURCE-LINE 4974
14013                                     ***** END-POOL *****
14014 00002084                   4979     DND_ALLSTEPCTL_420:
14015                            4980     
14016                            4981     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   141
PROGRAM NAME =

14017 00002084 C801              4982             TST     #BIT0,R0                        ;
14018                            4983             TST_BIT_OF DND_ALLSTEPCTL_425           ;
14019 00002086 8901                   M           BT      DND_ALLSTEPCTL_425
14020                            4984             M_BRA   DND_ALLSTEPCTL_500              ;
14021 00002088 A0A0                   M           BRA     DND_ALLSTEPCTL_500
14022 0000208A 0009                   M           NOP
14023 0000208C                   4985     DND_ALLSTEPCTL_425:
14024                            4986     
14025                            4987     ;       ===========================
14026                            4988     ;       ===     2003-07-09      ===
14027                            4989     ;       ===========================
14028                            4990     ;       BIT0=0のままでn往復動作を行う
14029 0000208C D113              4991             MOV.L   #_ORG_DRV_CNT_PV,R1             ;//0:1回 0なら最後のｽﾃｯﾌﾟにいく
14030 0000208E 6011              4992             MOV.W   @R1,R0                          ;
14031 00002090 2008              4993             TST     R0,R0                           ;
14032                            4994             TST_BIT_OF DND_ALLSTEPCTL_450           ;(今までのｿﾌﾄを流す)
14033 00002092 8975                   M           BT      DND_ALLSTEPCTL_450
14034                            4995     ;
14035                            4996     ;       == _ORG_RDY_CTL_FLG BIT0 を使用する ===
14036 00002094 D512              4997             MOV.L   #_ORG_RDY_CTL_FLG,R5            ;[2工程/3工程の切り替えﾌﾗｸﾞ]
14037 00002096 6051              4998             MOV.W   @R5,R0                          ;
14038 00002098 C801              4999             TST     #BIT0,R0                        ;
14039                            5000             TST_BIT_ON DND_ORGIN_STEP_050           ;
14040 0000209A 8B35                   M           BF      DND_ORGIN_STEP_050
14041 0000209C CB01              5001             OR      #BIT0,R0                        ;
14042 0000209E 2501              5002             MOV.W   R0,@R5                          ;
14043                            5003     
14044                            5004     ;       ===== 第２工程開始(補正なし "+") ======
14045                            5005     ;       ======== 20060919 ======================
14046                            5006     ;       CPUBは自分の払いだした量だけ動作しない。そのため位置がづれるので、停止後はからなず
                                          必要
14047                            5007             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
14048 000020A0 D010                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14049 000020A2 400B                   M           JSR     @R0                     ;
14050 000020A4 0009                   M           NOP                                     ;
14051                            5008     ;       =======================================
14052                            5009             FAR_JSR #_LINK_UPPLS_A_OBJMAK2,R0       ;
14053 000020A6 D010                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14054 000020A8 400B                   M           JSR     @R0                     ;
14055 000020AA 0009                   M           NOP                                     ;
14056                            5010             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;ANS R2
14057 000020AC D00F                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14058 000020AE 400B                   M           JSR     @R0                     ;
14059 000020B0 0009                   M           NOP                                     ;
14060                            5011             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
14061 000020B2 D10F                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14062 000020B4 410B                   M           JSR     @R1                     ;
14063 000020B6 0009                   M           NOP                                     ;
14064                            5012     ;;;;    FAR_JSR #_DNDUPS_SPD_SET,R0             ;
14065 000020B8 D50E              5013             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
14066 000020BA 6152              5014             MOV.L   @R5,R1                          ;
14067 000020BC 5251              5015             MOV.L   @(4,R5),R2                      ;
14068                            5016             FAR_JSR #_LENGH_ADD_CALC,R0             ;
14069 000020BE D00E                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14070 000020C0 400B                   M           JSR     @R0                     ;
14071 000020C2 0009                   M           NOP                                     ;
14072                            5017             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   142
PROGRAM NAME =

14073 000020C4 D00D                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14074 000020C6 400B                   M           JSR     @R0                     ;
14075 000020C8 0009                   M           NOP                                     ;
14076                            5018             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
14077 000020CA D00D                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14078 000020CC 400B                   M           JSR     @R0                     ;
14079 000020CE 0009                   M           NOP                                     ;
14080                            5019             FAR_JSR #_FWD_REV_START,R1              ;起動
14081 000020D0 D10C                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14082 000020D2 410B                   M           JSR     @R1                     ;
14083 000020D4 0009                   M           NOP                                     ;
14084                            5020             M_BRA   DND_ORGIN_STEP_100              ;
14085 000020D6 A038                   M           BRA     DND_ORGIN_STEP_100
14086 000020D8 0009                   M           NOP
14087                            5021     
14088                                     ***** BEGIN-POOL *****
14089 000020DA 0000                       ALIGNMENT CODE
14090 000020DC 00000000                   DATA FOR SOURCE-LINE 4991
14091 000020E0 00000000                   DATA FOR SOURCE-LINE 4997
14092 000020E4 00000000                   DATA FOR SOURCE-LINE 5007
14093 000020E8 00000000                   DATA FOR SOURCE-LINE 5009
14094 000020EC 00000000                   DATA FOR SOURCE-LINE 5010
14095 000020F0 00000000                   DATA FOR SOURCE-LINE 5011
14096 000020F4 00000000                   DATA FOR SOURCE-LINE 5013
14097 000020F8 00000000                   DATA FOR SOURCE-LINE 5016
14098 000020FC 00000000                   DATA FOR SOURCE-LINE 5017
14099 00002100 00000000                   DATA FOR SOURCE-LINE 5018
14100 00002104 00000000                   DATA FOR SOURCE-LINE 5019
14101                                     ***** END-POOL *****
14102 00002108                   5022     DND_ORGIN_STEP_050:
14103 00002108 C9FE              5023             AND     #LOW ~BIT0,R0                   ;
14104 0000210A 2501              5024             MOV.W   R0,@R5                          ;BIT0 CLR
14105                            5025     ;       ===== 第3工程開始(補正なし "-") ======
14106                            5026     ;       ======== 20060919 ======================
14107                            5027     ;       CPUBは自分の払いだした量だけ動作しない。そのため位置がづれるので、停止後はからなず
                                          必要
14108                            5028             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
14109 0000210C D011                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14110 0000210E 400B                   M           JSR     @R0                     ;
14111 00002110 0009                   M           NOP                                     ;
14112                            5029     ;       =======================================
14113                            5030             FAR_JSR #_LINK_UPPLS_A_OBJMAK1,R0       ;
14114 00002112 D011                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14115 00002114 400B                   M           JSR     @R0                     ;
14116 00002116 0009                   M           NOP                                     ;
14117                            5031             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;(最後だけゆっくり動けばいいかも)
14118 00002118 D010                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14119 0000211A 400B                   M           JSR     @R0                     ;
14120 0000211C 0009                   M           NOP                                     ;
14121                            5032             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
14122 0000211E D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14123 00002120 410B                   M           JSR     @R1                     ;
14124 00002122 0009                   M           NOP                                     ;
14125                            5033     
14126                            5034     ;;;;    FAR_JSR #_DNDUPS_SPD_SET,R0             ;
14127 00002124 D50F              5035             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
14128 00002126 6152              5036             MOV.L   @R5,R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   143
PROGRAM NAME =

14129 00002128 5251              5037             MOV.L   @(4,R5),R2                      ;
14130                            5038             FAR_JSR #_LENGH_ADD_CALC,R0             ;
14131 0000212A D00F                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14132 0000212C 400B                   M           JSR     @R0                     ;
14133 0000212E 0009                   M           NOP                                     ;
14134                            5039             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
14135 00002130 D00E                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14136 00002132 400B                   M           JSR     @R0                     ;
14137 00002134 0009                   M           NOP                                     ;
14138                            5040             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
14139 00002136 D00E                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14140 00002138 400B                   M           JSR     @R0                     ;
14141 0000213A 0009                   M           NOP                                     ;
14142                            5041             FAR_JSR #_FWD_REV_START,R1              ;起動
14143 0000213C D10D                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14144 0000213E 410B                   M           JSR     @R1                     ;
14145 00002140 0009                   M           NOP                                     ;
14146                            5042     
14147 00002142 D10D              5043             MOV.L   #_ORG_DRV_CNT_PV,R1             ;//0:1回 0なら最後のｽﾃｯﾌﾟにいく
14148 00002144 6011              5044             MOV.W   @R1,R0                          ;
14149 00002146 70FF              5045             ADD     #-1,R0                          ;
14150 00002148 2101              5046             MOV.W   R0,@R1                          ;
14151 0000214A                   5047     DND_ORGIN_STEP_100:
14152 0000214A 200A              5048             XOR     R0,R0                           ;
14153 0000214C D10B              5049             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
14154 0000214E 2101              5050             MOV.W   R0,@R1                          ;Q
14155                            5051     
14156                            5052             M_BRA   DND_ALLSTEPCTL_900              ;
14157 00002150 A09D                   M           BRA     DND_ALLSTEPCTL_900
14158 00002152 0009                   M           NOP
14159                            5053     
14160                            5054     
14161                            5055     ;       ===== 通常の最後の原点復帰（最終回数目）====
14162                                     ***** BEGIN-POOL *****
14163 00002154 00000000                   DATA FOR SOURCE-LINE 5028
14164 00002158 00000000                   DATA FOR SOURCE-LINE 5030
14165 0000215C 00000000                   DATA FOR SOURCE-LINE 5031
14166 00002160 00000000                   DATA FOR SOURCE-LINE 5032
14167 00002164 00000000                   DATA FOR SOURCE-LINE 5035
14168 00002168 00000000                   DATA FOR SOURCE-LINE 5038
14169 0000216C 00000000                   DATA FOR SOURCE-LINE 5039
14170 00002170 00000000                   DATA FOR SOURCE-LINE 5040
14171 00002174 00000000                   DATA FOR SOURCE-LINE 5041
14172 00002178 00000000                   DATA FOR SOURCE-LINE 5043
14173 0000217C 00000000                   DATA FOR SOURCE-LINE 5049
14174                                     ***** END-POOL *****
14175 00002180                   5056     DND_ALLSTEPCTL_450:
14176                            5057     ;       ===== 第２工程開始(補正開始) ======
14177                            5058             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
14178 00002180 D00B                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14179 00002182 400B                   M           JSR     @R0                     ;
14180 00002184 0009                   M           NOP                                     ;
14181                            5059             FAR_JSR #_LINK_UPPLS_A_OBJMAK2,R0       ;
14182 00002186 D00B                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14183 00002188 400B                   M           JSR     @R0                     ;
14184 0000218A 0009                   M           NOP                                     ;
14185                            5060             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   144
PROGRAM NAME =

14186 0000218C D00A                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14187 0000218E 400B                   M           JSR     @R0                     ;
14188 00002190 0009                   M           NOP                                     ;
14189                            5061             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
14190 00002192 D10A                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14191 00002194 410B                   M           JSR     @R1                     ;
14192 00002196 0009                   M           NOP                                     ;
14193                            5062     
14194                            5063             FAR_JSR #_ORGIN_MODE_INI,R0     ;
14195 00002198 D009                   M           MOV.L   #_ORGIN_MODE_INI,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14196 0000219A 400B                   M           JSR     @R0                     ;
14197 0000219C 0009                   M           NOP                                     ;
14198 0000219E D509              5064             MOV.L   #_INT_DND_CTL_STEP,R5   ;
14199 000021A0 6051              5065             MOV.W   @R5,R0                  ;
14200 000021A2 CB01              5066             OR      #BIT0,R0                ;
14201 000021A4 2501              5067             MOV.W   R0,@R5                  ;
14202                            5068     
14203                            5069     ;       ======= 原点出し時のｲﾝﾀｰﾛｯｸ =======
14204 000021A6 200A              5070             XOR     R0,R0                           ;
14205 000021A8 D107              5071             MOV.L   #_RST_ERR_CHK_FLG,R1            ;[ｲﾆｼｬﾙを異常側で再演算する]
14206 000021AA 2101              5072             MOV.W   R0,@R1                          ;
14207                            5073             M_BRA   DND_ALLSTEPCTL_580              ;
14208 000021AC A024                   M           BRA     DND_ALLSTEPCTL_580
14209 000021AE 0009                   M           NOP
14210                            5074     
14211                                     ***** BEGIN-POOL *****
14212 000021B0 00000000                   DATA FOR SOURCE-LINE 5058
14213 000021B4 00000000                   DATA FOR SOURCE-LINE 5059
14214 000021B8 00000000                   DATA FOR SOURCE-LINE 5060
14215 000021BC 00000000                   DATA FOR SOURCE-LINE 5061
14216 000021C0 00000000                   DATA FOR SOURCE-LINE 5063
14217 000021C4 00000000                   DATA FOR SOURCE-LINE 5064
14218 000021C8 00000000                   DATA FOR SOURCE-LINE 5071
14219                                     ***** END-POOL *****
14220 000021CC                   5075     DND_ALLSTEPCTL_500:
14221                            5076     ;       ===== 第2工程終了（サーチ作業完了） ======
14222                            5077             FAR_JSR #_ORGIN_MODE_END,R0             ;
14223 000021CC D018                   M           MOV.L   #_ORGIN_MODE_END,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14224 000021CE 400B                   M           JSR     @R0                     ;
14225 000021D0 0009                   M           NOP                                     ;
14226                            5078             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;20060919
14227 000021D2 D018                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14228 000021D4 400B                   M           JSR     @R0                     ;
14229 000021D6 0009                   M           NOP                                     ;
14230                            5079             FAR_JSR #_LINK_UPPLS_A_OBJMAK3,R0       ;(待機点への移動)
14231 000021D8 D017                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK3,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14232 000021DA 400B                   M           JSR     @R0                     ;
14233 000021DC 0009                   M           NOP                                     ;
14234                            5080     
14235                            5081             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;(最後だけゆっくり動けばいいかも)
14236 000021DE D017                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14237 000021E0 400B                   M           JSR     @R0                     ;
14238 000021E2 0009                   M           NOP                                     ;
14239                            5082             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
14240 000021E4 D116                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14241 000021E6 410B                   M           JSR     @R1                     ;
14242 000021E8 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   145
PROGRAM NAME =

14243                            5083     
14244                            5084     ;;;2003-07-14   FAR_JSR #_DNDUPS_SPD_SET,R0     ;
14245                            5085     ;       ===== 第３工程開始 ======
14246 000021EA D516              5086             MOV.L   #_INT_DND_CTL_STEP,R5           ;
14247 000021EC 6051              5087             MOV.W   @R5,R0                          ;
14248 000021EE CB02              5088             OR      #BIT1,R0                        ;
14249 000021F0 2501              5089             MOV.W   R0,@R5                          ;
14250                            5090     
14251                            5091     
14252                            5092             FAR_JSR #_DNDUPS_SPD_SET,R0             ;2011-03-22[最後の目標位置へは上昇復帰速度
                                          ]
14253 000021F2 D015                   M           MOV.L   #_DNDUPS_SPD_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14254 000021F4 400B                   M           JSR     @R0                     ;
14255 000021F6 0009                   M           NOP                                     ;
14256                            5093     
14257                            5094     
14258 000021F8                   5095     DND_ALLSTEPCTL_580:
14259 000021F8 D114              5096             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
14260 000021FA 6212              5097             MOV.L   @R1,R2                          ;
14261                            5098             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
14262 000021FC D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14263 000021FE 410B                   M           JSR     @R1                     ;
14264 00002200 0009                   M           NOP                                     ;
14265                            5099     
14266 00002202 D513              5100             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
14267 00002204 6152              5101             MOV.L   @R5,R1                          ;
14268 00002206 5251              5102             MOV.L   @(4,R5),R2                      ;
14269                            5103             FAR_JSR #_LENGH_ADD_CALC,R0             ;Input R1,R2
14270 00002208 D012                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14271 0000220A 400B                   M           JSR     @R0                     ;
14272 0000220C 0009                   M           NOP                                     ;
14273                            5104             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
14274 0000220E D012                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14275 00002210 400B                   M           JSR     @R0                     ;
14276 00002212 0009                   M           NOP                                     ;
14277                            5105             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
14278 00002214 D011                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14279 00002216 400B                   M           JSR     @R0                     ;
14280 00002218 0009                   M           NOP                                     ;
14281                            5106             FAR_JSR #_FWD_REV_START,R1              ;起動
14282 0000221A D111                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14283 0000221C 410B                   M           JSR     @R1                     ;
14284 0000221E 0009                   M           NOP                                     ;
14285                            5107     
14286                            5108             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
14287 00002220 D010                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14288 00002222 400B                   M           JSR     @R0                     ;
14289 00002224 0009                   M           NOP                                     ;
14290                            5109     
14291 00002226 200A              5110             XOR     R0,R0                           ;
14292 00002228 D10F              5111             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
14293 0000222A 2101              5112             MOV.W   R0,@R1                          ;Q
14294                            5113             M_BRA   DND_ALLSTEPCTL_900              ;
14295 0000222C A02F                   M           BRA     DND_ALLSTEPCTL_900
14296 0000222E 0009                   M           NOP
14297                            5114     
14298                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   146
PROGRAM NAME =

14299 00002230 00000000                   DATA FOR SOURCE-LINE 5077
14300 00002234 00000000                   DATA FOR SOURCE-LINE 5078
14301 00002238 00000000                   DATA FOR SOURCE-LINE 5079
14302 0000223C 00000000                   DATA FOR SOURCE-LINE 5081
14303 00002240 00000000                   DATA FOR SOURCE-LINE 5082,5098
14304 00002244 00000000                   DATA FOR SOURCE-LINE 5086
14305 00002248 00000000                   DATA FOR SOURCE-LINE 5092
14306 0000224C 00000000                   DATA FOR SOURCE-LINE 5096
14307 00002250 00000000                   DATA FOR SOURCE-LINE 5100
14308 00002254 00000000                   DATA FOR SOURCE-LINE 5103
14309 00002258 00000000                   DATA FOR SOURCE-LINE 5104
14310 0000225C 00000000                   DATA FOR SOURCE-LINE 5105
14311 00002260 00000000                   DATA FOR SOURCE-LINE 5106
14312 00002264 00000000                   DATA FOR SOURCE-LINE 5108
14313 00002268 00000000                   DATA FOR SOURCE-LINE 5111
14314                                     ***** END-POOL *****
14315 0000226C                   5115     DND_ALLSTEPCTL_600:
14316                            5116             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1 ;
14317 0000226C D109                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
14318 0000226E 6011                   M           MOV.W   @R1,R0          ;
14319 00002270 CB40                   M           OR      #BIT6,R0                ;
14320 00002272 2101                   M           MOV.W   R0,@R1          ;
14321                            5117     
14322                            5118     ;       == 2003-07-09 ==(_INT_DND_STEP_FLG.BIT6でも代替OK) ===
14323                            5119             MEM1_BIT0_TO_BIT7_ORSET MEM=_ORG_RDY_CTL_FLG,LG=W,BIT=BIT3,WKREG=R1 ;
14324 00002274 D108                   M           MOV.L   #_ORG_RDY_CTL_FLG,R1            ;
14325 00002276 6011                   M           MOV.W   @R1,R0          ;
14326 00002278 CB08                   M           OR      #BIT3,R0                ;
14327 0000227A 2101                   M           MOV.W   R0,@R1          ;
14328                            5120     
14329                            5121     
14330                            5122     
14331                            5123     ;       ====2004-09-27(中型ではこれは206.4=1)====
14332                            5124             FAR_JSR #_DND_ORGIN_SIG_FORCE_ON,R0
14333 0000227C D007                   M           MOV.L   #_DND_ORGIN_SIG_FORCE_ON,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14334 0000227E 400B                   M           JSR     @R0                     ;
14335 00002280 0009                   M           NOP                                     ;
14336                            5125     
14337                            5126     ;       ------------2011-03-22-------
14338                            5127     ;;;;;;  FAR_JSR #_ORGIN2_MODE_END,R0
14339                            5128             FAR_JSR #_ORIGIN_POS_CHK_INI2,R0        ;待機点移動完了
14340 00002282 D007                   M           MOV.L   #_ORIGIN_POS_CHK_INI2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14341 00002284 400B                   M           JSR     @R0                     ;
14342 00002286 0009                   M           NOP                                     ;
14343                            5129     
14344                            5130     ;       --------- 2014-08-05----------
14345                            5131             FAR_JSR #_API_BREAK_VALV_FLG_OF,R0
14346 00002288 D006                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14347 0000228A 400B                   M           JSR     @R0                     ;
14348 0000228C 0009                   M           NOP                                     ;
14349                            5132     
14350                            5133     
14351                            5134     
14352                            5135     
14353                            5136     
14354 0000228E                   5137     DND_ALLSTEPCTL_900:
14355                            5138             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   147
PROGRAM NAME =

14356                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14357 0000228E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14358                            5139             M_RTS
14359 00002290 000B                   M           RTS                             ;RTSの後ろの
14360 00002292 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14361                            5140     
14362                            5141     ;       ***************************************************
14363                            5142     ;       ***                                             ***
14364                            5143     ;       ***     中型の目標位置決め原点でも206.4=1にする ***
14365                            5144     ;       ***                                             ***
14366                            5145     ;       ***************************************************
14367                            5146     ;       ====2004-09-27(中型ではこれは206.4=1)====
14368                                     ***** BEGIN-POOL *****
14369 00002294 00000000                   DATA FOR SOURCE-LINE 5116
14370 00002298 00000000                   DATA FOR SOURCE-LINE 5119
14371 0000229C 00000000                   DATA FOR SOURCE-LINE 5124
14372 000022A0 00000000                   DATA FOR SOURCE-LINE 5128
14373 000022A4 00000000                   DATA FOR SOURCE-LINE 5131
14374                                     ***** END-POOL *****
14375 000022A8                   5147             .ALIGN  4                               ;
14376 000022A8                   5148     _DND_ORGIN_SIG_FORCE_ON:
14377                            5149             SUB_START
14378 000022A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
14379                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14380 000022AA D00A              5150             MOV.L   #_PAR_WTSEL_USE,R0                      ;
14381 000022AC 6001              5151             MOV.W   @R0,R0                                  ;
14382 000022AE 8801              5152             CMP/EQ  #1,R0                                   ;待機点選択を中型で認識
14383 000022B0 8B0C              5153             BF      DND_ORGIN_SIG_FORON_EXT                 ;中型? NO
14384                            5154     
14385 000022B2 D109              5155             MOV.L   #_MODE_SEL,R1                           ;
14386 000022B4 6011              5156             MOV.W   @R1,R0                                  ;
14387 000022B6 C840              5157             TST     #_W1DUP,R0                              ;
14388                            5158             TST_BIT_OF DND_ORGIN_SIG_FORON_EXT              ;原点? NO
14389 000022B8 8908                   M           BT      DND_ORGIN_SIG_FORON_EXT
14390                            5159     
14391 000022BA D108              5160             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1                  ;
14392 000022BC 6011              5161             MOV.W   @R1,R0                                  ;
14393 000022BE C801              5162             TST     #BIT0,R0                                ;
14394                            5163             TST_BIT_OF DND_ORGIN_SIG_FORON_EXT              ;目標位置決め? NO
14395 000022C0 8904                   M           BT      DND_ORGIN_SIG_FORON_EXT
14396                            5164     
14397                            5165             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB206,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R4
14398 000022C2 D107                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
14399 000022C4 6011                   M           MOV.W   @R1,R0          ;
14400 000022C6 9404                   M           MOV.W   #(BIT4),R4              ;
14401 000022C8 204B                   M           OR      R4,R0           ;
14402 000022CA 2101                   M           MOV.W   R0,@R1          ;
14403 000022CC                   5166     DND_ORGIN_SIG_FORON_EXT:
14404                            5167             SUB_END
14405                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14406 000022CC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14407                            5168             M_RTS
14408 000022CE 000B                   M           RTS                             ;RTSの後ろの
14409 000022D0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14410                            5169     
14411                            5170     ;       ***********************************
14412                            5171     ;       ***                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   148
PROGRAM NAME =

14413                            5172     ;       ***     段取寸動反転仕様        ***
14414                            5173     ;       ***                             ***
14415                            5174     ;       ***********************************
14416                            5175     ;
14417                            5176             .INCLUDE        "ssa_dnd1.inc"          ; //
14418                               1 I1  ;       ***********************************
14419                               2 I1  ;       ***                             ***
14420                               3 I1  ;       ***     段取寸動コントロール    ***
14421                               4 I1  ;       ***                             ***
14422                               5 I1  ;       ***********************************
14423                               6 I1  ;       ***********************************
14424                               7 I1  ;       ***                             ***
14425                               8 I1  ;       ***     ﾓｰｼｮﾝ全工程             ***
14426                               9 I1  ;       ***                             ***
14427                              10 I1  ;       ***********************************
14428                              11 I1  ;       ======== 停止待ち(速度変更)     0000,0000       ====
14429                              12 I1  ;       ======== ﾀｲﾏ計測                BIT0            ====
14430                              13 I1  ;       ======== 再起動/終了            BIT1            ====
14431                              14 I1  ;       ======== BIT6;終了
14432                                 I1  ***** BEGIN-POOL *****
14433 000022D2 0010                   I1  DATA FOR SOURCE-LINE 5165
14434 000022D4 00000000               I1  DATA FOR SOURCE-LINE 5150
14435 000022D8 00000000               I1  DATA FOR SOURCE-LINE 5155
14436 000022DC 00000000               I1  DATA FOR SOURCE-LINE 5160
14437 000022E0 00000000               I1  DATA FOR SOURCE-LINE 5165
14438                                 I1  ***** END-POOL *****
14439 000022E4                     15 I1  _DND_NEG_STEP_CTRL:
14440                              16 I1          SUB_START
14441 000022E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
14442                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14443                              17 I1  
14444 000022E6 D103                18 I1          MOV.L   #_INT_DND_STEP_FLG,R1           ;段取り共通
14445 000022E8 6011                19 I1          MOV.W   @R1,R0                          ;
14446 000022EA C803                20 I1          TST     #(BIT1+BIT0),R0                 ;
14447                              21 I1          TST_BIT_OF DND_NEGSTEPCTL_100           ;BIT0:ﾀｲﾏ制御開始
14448 000022EC 8904                   M           BT      DND_NEGSTEPCTL_100
14449                              22 I1          M_BRA   DND_NEGSTEPCTL_300              ;BIT1:次の回転起動
14450 000022EE A03D                   M           BRA     DND_NEGSTEPCTL_300
14451 000022F0 0009                   M           NOP
14452                              23 I1  
14453                                 I1  ***** BEGIN-POOL *****
14454 000022F2 0000                   I1  ALIGNMENT CODE
14455 000022F4 00000000               I1  DATA FOR SOURCE-LINE 18
14456                                 I1  ***** END-POOL *****
14457 000022F8                     24 I1  DND_NEGSTEPCTL_100:
14458                              25 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
14459 000022F8 D004                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14460 000022FA 400B                   M           JSR     @R0                     ;
14461 000022FC 0009                   M           NOP                                     ;
14462                              26 I1  
14463                              27 I1          FAR_JSR #_LOD_POS_STS_REG,R1    ;
14464 000022FE D104                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14465 00002300 410B                   M           JSR     @R1                     ;
14466 00002302 0009                   M           NOP                                     ;
14467 00002304 C804                28 I1          TST     #BIT2,R0                ;停止?
14468                              29 I1          TST_BIT_ON DND_NEGSTEPCTL_200   ;YES 停止中 1:停止 0:払出中
14469 00002306 8B05                   M           BF      DND_NEGSTEPCTL_200
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   149
PROGRAM NAME =

14470                              30 I1          M_BRA   DND_NEGSTEPCTL_900      ;
14471 00002308 A06D                   M           BRA     DND_NEGSTEPCTL_900
14472 0000230A 0009                   M           NOP
14473                              31 I1  
14474                              32 I1  ;       ===========================
14475                              33 I1  ;       ===     払出停止        ===
14476                              34 I1  ;       ===     回転時          ===
14477                              35 I1  ;       ===========================
14478                              36 I1  ;       --------払い出し完了----------
14479                                 I1  ***** BEGIN-POOL *****
14480 0000230C 00000000               I1  DATA FOR SOURCE-LINE 25
14481 00002310 00000000               I1  DATA FOR SOURCE-LINE 27
14482                                 I1  ***** END-POOL *****
14483 00002314                     37 I1  DND_NEGSTEPCTL_200:
14484                              38 I1  
14485                              39 I1  ;       ------------ 2021-11-11-------------
14486 00002314 D109                40 I1          MOV.L   #_NEG_DND_STOP_POS_END_F,R1                     ;
14487 00002316 6010                41 I1          MOV.B   @R1,R0                                                          ;
14488 00002318 2008                42 I1          TST             R0,R0                                                           ;
14489                              43 I1          TST_BIT_ON DND_NEGSTEPCTL_900                           ;
14490 0000231A 8B64                   M           BF      DND_NEGSTEPCTL_900
14491                              44 I1  
14492                              45 I1  ;       ------------ 2021-11-11-------------
14493                              46 I1          FAR_JSR #_DND_NEG_STOP_SVCHK,R0                         ;
14494 0000231C D008                   M           MOV.L   #_DND_NEG_STOP_SVCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14495 0000231E 400B                   M           JSR     @R0                     ;
14496 00002320 0009                   M           NOP                                     ;
14497                              47 I1  
14498 00002322 D108                48 I1          MOV.L   #_NEG_DND_STOP_USE_F,R1                         ;       //上死点(0)<停止<1
                                          70の時 On
14499 00002324 6010                49 I1          MOV.B   @R1,R0                                                          ;
14500 00002326 2008                50 I1          TST             R0,R0                                                           ;
14501                              51 I1          TST_BIT_OF DND_NEGSTEPCTL_250                           ;
14502 00002328 8910                   M           BT      DND_NEGSTEPCTL_250
14503                              52 I1  
14504                              53 I1          FAR_JSR #_DND_NEG_LNK_STEP_CHANGE2,R0           ;
14505 0000232A D007                   M           MOV.L   #_DND_NEG_LNK_STEP_CHANGE2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14506 0000232C 400B                   M           JSR     @R0                     ;
14507 0000232E 0009                   M           NOP                                     ;
14508                              54 I1  
14509 00002330 E001                55 I1          MOV.B   #BIT0,R0
14510 00002332 D102                56 I1          MOV.L   #_NEG_DND_STOP_POS_END_F,R1                     ;
14511 00002334 2100                57 I1          MOV.B   R0,@R1                                                          ;
14512                              58 I1  
14513                              59 I1          M_BRA   DND_NEGSTEPCTL_900                                      ;
14514 00002336 A056                   M           BRA     DND_NEGSTEPCTL_900
14515 00002338 0009                   M           NOP
14516                              60 I1  
14517                              61 I1  
14518                                 I1  ***** BEGIN-POOL *****
14519 0000233A 0000                   I1  ALIGNMENT CODE
14520 0000233C 00000000               I1  DATA FOR SOURCE-LINE 40,56
14521 00002340 00000000               I1  DATA FOR SOURCE-LINE 46
14522 00002344 00000000               I1  DATA FOR SOURCE-LINE 48
14523 00002348 00000000               I1  DATA FOR SOURCE-LINE 53
14524                                 I1  ***** END-POOL *****
14525 0000234C                     62 I1  DND_NEGSTEPCTL_250:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   150
PROGRAM NAME =

14526                              63 I1  ;       -----------------------------------
14527                              64 I1  
14528                              65 I1  ;       >>>> 切替ﾀｲﾏｾｯﾄ <<<<
14529                              66 I1  ;       ===============================================
14530                              67 I1  ;;;2014-05-30   MOV.L   #_PAR_START_WAIT_DND,R1                                 ;段取時切
                                          替WAIT時間
14531 0000234C D104                68 I1          MOV.L   #(_PAR_START_WAIT_DND-_CB_SYS_PARAM000+_W_PARAM_TOP),R1 ;段取時切替WAIT時
                                          間
14532 0000234E 6111                69 I1          MOV.W   @R1,R1                                  ;
14533 00002350 D404                70 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4                                            ;
14534 00002352 2412                71 I1          MOV.L   R1,@R4                                                          ;
14535                              72 I1  ;       FLG=(BIT0):ｾｯﾄ                                                          ;
14536                              73 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1    ;ﾀｲﾏ起動
14537 00002354 D104                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
14538 00002356 6011                   M           MOV.W   @R1,R0          ;
14539 00002358 CB01                   M           OR      #BIT0,R0                ;
14540 0000235A 2101                   M           MOV.W   R0,@R1          ;
14541                              74 I1          M_BRA   DND_NEGSTEPCTL_900                                              ;
14542 0000235C A043                   M           BRA     DND_NEGSTEPCTL_900
14543 0000235E 0009                   M           NOP
14544                              75 I1  
14545                                 I1  ***** BEGIN-POOL *****
14546 00002360 00000000               I1  DATA FOR SOURCE-LINE 68
14547 00002364 00000000               I1  DATA FOR SOURCE-LINE 70
14548 00002368 00000000               I1  DATA FOR SOURCE-LINE 73
14549                                 I1  ***** END-POOL *****
14550 0000236C                     76 I1  DND_NEGSTEPCTL_300:
14551 0000236C C802                77 I1          TST     #BIT1,R0                ;
14552                              78 I1          TST_BIT_ON DND_NEGSTEPCTL_400   ;
14553 0000236E 8B15                   M           BF      DND_NEGSTEPCTL_400
14554                              79 I1  
14555                              80 I1  ;       ===== 切替ﾀｲﾏ待ち ====
14556                              81 I1  
14557                              82 I1          DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;2014-05-30
14558 00002370 D105                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
14559 00002372 6412                   M           MOV.L   @R1,R4          ;
14560 00002374 2448                   M           TST     R4,R4                   ;
14561 00002376 8901                   M           BT      JMP_0100006                     ;ZERO THEN JUMP
14562 00002378 4410                   M           DT      R4                              ;
14563 0000237A 2142                   M           MOV.L   R4,@R1          ;STORE
14564 0000237C                        M   JMP_0100006:
14565                              83 I1  
14566                              84 I1  
14567 0000237C D402                85 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
14568 0000237E 6142                86 I1          MOV.L   @R4,R1                  ;
14569 00002380 2118                87 I1          TST     R1,R1                   ;
14570                              88 I1          TST_BIT_OF DND_NEGSTEPCTL_320   ;
14571 00002382 8903                   M           BT      DND_NEGSTEPCTL_320
14572                              89 I1          M_BRA   DND_NEGSTEPCTL_900      ;
14573 00002384 A02F                   M           BRA     DND_NEGSTEPCTL_900
14574 00002386 0009                   M           NOP
14575                              90 I1  
14576                                 I1  ***** BEGIN-POOL *****
14577 00002388 00000000               I1  DATA FOR SOURCE-LINE 82,85
14578                                 I1  ***** END-POOL *****
14579 0000238C                     91 I1  DND_NEGSTEPCTL_320:
14580                              92 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1 ;TIME UP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   151
PROGRAM NAME =

14581 0000238C D102                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
14582 0000238E 6011                   M           MOV.W   @R1,R0          ;
14583 00002390 CB02                   M           OR      #BIT1,R0                ;
14584 00002392 2101                   M           MOV.W   R0,@R1          ;
14585                              93 I1          M_BRA   DND_NEGSTEPCTL_900              ;
14586 00002394 A027                   M           BRA     DND_NEGSTEPCTL_900
14587 00002396 0009                   M           NOP
14588                              94 I1  
14589                              95 I1  
14590                              96 I1  ;       ======= 次の起動 =====
14591                                 I1  ***** BEGIN-POOL *****
14592 00002398 00000000               I1  DATA FOR SOURCE-LINE 92
14593                                 I1  ***** END-POOL *****
14594 0000239C                     97 I1  DND_NEGSTEPCTL_400:
14595                              98 I1  ;       ===================================
14596                              99 I1  ;       ===     二重回路対策            ===
14597                             100 I1  ;       ===     工程完了                ===
14598                             101 I1  ;       ===================================
14599                             102 I1          FAR_JSR #_CMPAB_STEP_END_PROC,R0        ;
14600 0000239C D003                   M           MOV.L   #_CMPAB_STEP_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14601 0000239E 400B                   M           JSR     @R0                     ;
14602 000023A0 0009                   M           NOP                                     ;
14603 000023A2 2008               103 I1          TST     R0,R0                           ;
14604                             104 I1          TST_BIT_ON DND_NEGSTEPCTL_420           ;
14605 000023A4 8B04                   M           BF      DND_NEGSTEPCTL_420
14606                             105 I1          M_BRA   DND_NEGSTEPCTL_900              ;
14607 000023A6 A01E                   M           BRA     DND_NEGSTEPCTL_900
14608 000023A8 0009                   M           NOP
14609                             106 I1  
14610                                 I1  ***** BEGIN-POOL *****
14611 000023AA 0000                   I1  ALIGNMENT CODE
14612 000023AC 00000000               I1  DATA FOR SOURCE-LINE 102
14613                                 I1  ***** END-POOL *****
14614 000023B0                    107 I1  DND_NEGSTEPCTL_420:                             ;
14615                             108 I1          FAR_JSR #_CMPSTP_STEP_END_CLR,R0        ;//位置決め完了としたい
14616 000023B0 D00E                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14617 000023B2 400B                   M           JSR     @R0                     ;
14618 000023B4 0009                   M           NOP                                     ;
14619                             109 I1  
14620                             110 I1  ;;2021-11-11;   ====  次の動作の演算 =====
14621                             111 I1  ;;2021-11-11    MOV.L   #_INT_DND_NEG_STEP,R5           ;
14622                             112 I1  ;;2021-11-11    MOV.W   @R5,R0                          ;
14623                             113 I1  ;;2021-11-11    CMP/EQ  #1,R0                           ;
14624                             114 I1  ;;2021-11-11    BF      DND_NEGSTEPCTL_440              ;もし0or2なら待機点なので1へ遷移
14625                             115 I1  ;;2021-11-11    MOV     #2,R0                           ;もし1(目標位置への動作)なら2へ（
                                          待機点）
14626                             116 I1  ;;2021-11-11    M_BRA   DND_NEGSTEPCTL_460              ;
14627                             117 I1  ;;2021-11-11DND_NEGSTEPCTL_440:                         ;
14628                             118 I1  ;;2021-11-11    MOV     #1,R0                           ;もし0or2(待機点への動作)なら1
14629                             119 I1  ;;2021-11-11DND_NEGSTEPCTL_460:                         ;
14630                             120 I1  ;;2021-11-11    MOV.W   R0,@R5                          ;
14631                             121 I1  ;;2021-11-11    FAR_JSR #_DND_LNK_STEP_CHECK1,R0        ;<<>>
14632                             122 I1  ;;2021-11-11    FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待
                                          機点2 _POS_DRV_DIRECT
14633                             123 I1  ;;2021-11-11
14634                             124 I1  
14635                             125 I1          FAR_JSR #_DND_NEG_LNK_STEP_CHANGE0,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   152
PROGRAM NAME =

14636 000023B6 D00E                   M           MOV.L   #_DND_NEG_LNK_STEP_CHANGE0,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14637 000023B8 400B                   M           JSR     @R0                     ;
14638 000023BA 0009                   M           NOP                                     ;
14639                             126 I1          FAR_JSR #_DND_LNKPLS_OBJMAK1,R1                                 ;ｽﾃｯﾌﾟに応じて待機
                                          点1/目標位置/待機点2 _POS_DRV_DIRECT
14640 000023BC D10D                   M           MOV.L   #_DND_LNKPLS_OBJMAK1,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14641 000023BE 410B                   M           JSR     @R1                     ;
14642 000023C0 0009                   M           NOP                                     ;
14643                             127 I1  
14644                             128 I1  ;       ===================
14645                             129 I1  ;       ===     起動    ===
14646                             130 I1  ;       ===================
14647 000023C2                    131 I1  DND_NEGSTEPCTL_580:
14648                             132 I1          FAR_JSR #_DND_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
14649 000023C2 D00D                   M           MOV.L   #_DND_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14650 000023C4 400B                   M           JSR     @R0                     ;
14651 000023C6 0009                   M           NOP                                     ;
14652                             133 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
14653 000023C8 D00C                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14654 000023CA 400B                   M           JSR     @R0                     ;
14655 000023CC 0009                   M           NOP                                     ;
14656                             134 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
14657 000023CE D00C                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14658 000023D0 400B                   M           JSR     @R0                     ;
14659 000023D2 0009                   M           NOP                                     ;
14660                             135 I1          FAR_JSR #_FWD_REV_START,R1              ;起動
14661 000023D4 D10B                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14662 000023D6 410B                   M           JSR     @R1                     ;
14663 000023D8 0009                   M           NOP                                     ;
14664 000023DA 200A               136 I1          XOR     R0,R0                           ;
14665 000023DC D10A               137 I1          MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
14666 000023DE 2101               138 I1          MOV.W   R0,@R1                          ;Q
14667                             139 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0    ;
14668 000023E0 D00A                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14669 000023E2 400B                   M           JSR     @R0                     ;
14670 000023E4 0009                   M           NOP                                     ;
14671                             140 I1  
14672 000023E6                    141 I1  DND_NEGSTEPCTL_900:
14673                             142 I1          SUB_END
14674                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14675 000023E6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14676                             143 I1          M_RTS
14677 000023E8 000B                   M           RTS                             ;RTSの後ろの
14678 000023EA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14679                             144 I1  
14680                             145 I1  
14681                             146 I1  
14682                            5177     
14683                            5178     ;       *******************************************
14684                            5179     ;       ***                                     ***
14685                            5180     ;       ***     段取寸動正転・逆転停止仕様      ***
14686                            5181     ;       ***                                     ***
14687                            5182     ;       *******************************************
14688                            5183     ;
14689                            5184             .INCLUDE        "ssa_dnd2.inc"          ; //
14690                               1 I1  ;       ***********************************
14691                               2 I1  ;       ***                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   153
PROGRAM NAME =

14692                               3 I1  ;       ***     段取寸動コントロール    ***
14693                               4 I1  ;       ***                             ***
14694                               5 I1  ;       ***********************************
14695                               6 I1  ;       ***********************************
14696                               7 I1  ;       ***                             ***
14697                               8 I1  ;       ***     ﾓｰｼｮﾝ全工程             ***
14698                               9 I1  ;       ***                             ***
14699                              10 I1  ;       ***********************************
14700                              11 I1  ;       ======== 停止待ち(速度変更)     0000,0000       ====
14701                              12 I1  ;       ======== ﾀｲﾏ計測                BIT0            ====
14702                              13 I1  ;       ======== 再起動/終了            BIT1            ====
14703                              14 I1  ;       ======== BIT6;終了
14704                                 I1  ***** BEGIN-POOL *****
14705 000023EC 00000000               I1  DATA FOR SOURCE-LINE 108
14706 000023F0 00000000               I1  DATA FOR SOURCE-LINE 125
14707 000023F4 00000000               I1  DATA FOR SOURCE-LINE 126
14708 000023F8 00000000               I1  DATA FOR SOURCE-LINE 132
14709 000023FC 00000000               I1  DATA FOR SOURCE-LINE 133
14710 00002400 00000000               I1  DATA FOR SOURCE-LINE 134
14711 00002404 00000000               I1  DATA FOR SOURCE-LINE 135
14712 00002408 00000000               I1  DATA FOR SOURCE-LINE 137
14713 0000240C 00000000               I1  DATA FOR SOURCE-LINE 139
14714                                 I1  ***** END-POOL *****
14715 00002410                     15 I1  _DND_ROT_STEP_CTRL:
14716                              16 I1          SUB_START
14717 00002410 4F22                   M           STS.L   PR,@-R15                ;[必要]
14718                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14719                              17 I1  
14720 00002412 D103                18 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14721 00002414 6011                19 I1          MOV.W   @R1,R0                          ;
14722 00002416 C803                20 I1          TST     #(BIT1+BIT0),R0                 ;
14723                              21 I1          TST_BIT_ON DND_ROTSTEPCTL_050           ;
14724 00002418 8B04                   M           BF      DND_ROTSTEPCTL_050
14725                              22 I1          M_BRA   DND_ROTSTEPCTL_EXT              ;
14726 0000241A A043                   M           BRA     DND_ROTSTEPCTL_EXT
14727 0000241C 0009                   M           NOP
14728                              23 I1  
14729                                 I1  ***** BEGIN-POOL *****
14730 0000241E 0000                   I1  ALIGNMENT CODE
14731 00002420 00000000               I1  DATA FOR SOURCE-LINE 18
14732                                 I1  ***** END-POOL *****
14733 00002424                     24 I1  DND_ROTSTEPCTL_050:
14734 00002424 D106                25 I1          MOV.L   #_INT_DND_STEP_FLG,R1           ;
14735 00002426 6011                26 I1          MOV.W   @R1,R0                          ;
14736 00002428 C820                27 I1          TST     #BIT5,R0                        ;
14737                              28 I1          TST_BIT_ON DND_ROTSTEPCTL_080           ;終了
14738 0000242A 8B07                   M           BF      DND_ROTSTEPCTL_080
14739                              29 I1  
14740                              30 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
14741 0000242C D005                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14742 0000242E 400B                   M           JSR     @R0                     ;
14743 00002430 0009                   M           NOP                                     ;
14744                              31 I1          FAR_JSR #_LOD_POS_STS_REG,R1            ;
14745 00002432 D105                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14746 00002434 410B                   M           JSR     @R1                     ;
14747 00002436 0009                   M           NOP                                     ;
14748 00002438 C804                32 I1          TST     #BIT2,R0                        ;停止?
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   154
PROGRAM NAME =

14749                              33 I1          TST_BIT_ON DND_ROTSTEPCTL_200           ;YES 停止中 1:停止 0:払出中
14750 0000243A 8B07                   M           BF      DND_ROTSTEPCTL_200
14751 0000243C                     34 I1  DND_ROTSTEPCTL_080:
14752                              35 I1          M_BRA   DND_ROTSTEPCTL_900              ;
14753 0000243C A031                   M           BRA     DND_ROTSTEPCTL_900
14754 0000243E 0009                   M           NOP
14755                              36 I1  
14756                              37 I1  ;       ===========================
14757                              38 I1  ;       ===     払出停止        ===
14758                              39 I1  ;       ===     回転時          ===
14759                              40 I1  ;       ===========================
14760                                 I1  ***** BEGIN-POOL *****
14761 00002440 00000000               I1  DATA FOR SOURCE-LINE 25
14762 00002444 00000000               I1  DATA FOR SOURCE-LINE 30
14763 00002448 00000000               I1  DATA FOR SOURCE-LINE 31
14764                                 I1  ***** END-POOL *****
14765 0000244C                     41 I1  DND_ROTSTEPCTL_200:
14766 0000244C                     42 I1  DND_ROTSTEPCTL_400:
14767                              43 I1  ;       ===================================
14768                              44 I1  ;       ===     二重回路対策            ===
14769                              45 I1  ;       ===     工程完了                ===
14770                              46 I1  ;       ===================================
14771                              47 I1          FAR_JSR #_CMPAB_STEP_END_PROC,R0        ;
14772 0000244C D003                   M           MOV.L   #_CMPAB_STEP_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14773 0000244E 400B                   M           JSR     @R0                     ;
14774 00002450 0009                   M           NOP                                     ;
14775 00002452 2008                48 I1          TST     R0,R0                           ;
14776                              49 I1          TST_BIT_ON DND_ROTSTEPCTL_420           ;
14777 00002454 8B04                   M           BF      DND_ROTSTEPCTL_420
14778                              50 I1          M_BRA   DND_ROTSTEPCTL_900              ;
14779 00002456 A024                   M           BRA     DND_ROTSTEPCTL_900
14780 00002458 0009                   M           NOP
14781                              51 I1  
14782                                 I1  ***** BEGIN-POOL *****
14783 0000245A 0000                   I1  ALIGNMENT CODE
14784 0000245C 00000000               I1  DATA FOR SOURCE-LINE 47
14785                                 I1  ***** END-POOL *****
14786 00002460                     52 I1  DND_ROTSTEPCTL_420:                             ;
14787                              53 I1          FAR_JSR #_CMPSTP_STEP_END_CLR,R0        ;//位置決め完了としたい
14788 00002460 D006                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14789 00002462 400B                   M           JSR     @R0                     ;
14790 00002464 0009                   M           NOP                                     ;
14791                              54 I1  
14792                              55 I1  ;       ====  工程を進めて終了する =====
14793 00002466 D506                56 I1          MOV.L   #_DNDINC_CTRL_STEP,R5           ;
14794 00002468 6351                57 I1          MOV.W   @R5,R3                          ;
14795 0000246A D106                58 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14796 0000246C 6011                59 I1          MOV.W   @R1,R0                          ;
14797 0000246E C903                60 I1          AND     #(BIT1+BIT0),R0                 ;
14798 00002470 8803                61 I1          CMP/EQ  #(BIT1+BIT0),R0                 ;
14799 00002472 8909                62 I1          BT      DND_ROTSTEPCTL_440              ;
14800 00002474 E301                63 I1          MOV     #1,R3                           ;
14801                              64 I1          M_BRA   DND_ROTSTEPCTL_500              ;
14802 00002476 A00C                   M           BRA     DND_ROTSTEPCTL_500
14803 00002478 0009                   M           NOP
14804                                 I1  ***** BEGIN-POOL *****
14805 0000247A 0000                   I1  ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   155
PROGRAM NAME =

14806 0000247C 00000000               I1  DATA FOR SOURCE-LINE 53
14807 00002480 00000000               I1  DATA FOR SOURCE-LINE 56
14808 00002484 00000000               I1  DATA FOR SOURCE-LINE 58
14809                                 I1  ***** END-POOL *****
14810 00002488                     65 I1  DND_ROTSTEPCTL_440:                             ;
14811 00002488 7301                66 I1          ADD     #1,R3                           ;
14812 0000248A 920E                67 I1          MOV.W   #2,R2                           ;
14813 0000248C 3326                68 I1          CMP/HI  R2,R3                           ;
14814 0000248E 8B00                69 I1          BF      DND_ROTSTEPCTL_500              ;
14815 00002490 930C                70 I1          MOV.W   #1,R3                           ;
14816 00002492                     71 I1  DND_ROTSTEPCTL_500:                             ;
14817 00002492 2531                72 I1          MOV.W   R3,@R5                          ;
14818                              73 I1  
14819                              74 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT5,WKREG=R1    ;BIT5=1 EN
                                          D
14820 00002494 D106                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
14821 00002496 6011                   M           MOV.W   @R1,R0          ;
14822 00002498 CB20                   M           OR      #BIT5,R0                ;
14823 0000249A 2101                   M           MOV.W   R0,@R1          ;
14824                              75 I1  
14825                              76 I1  ;       --------- 2014-08-05----------
14826                              77 I1          FAR_JSR #_API_BREAK_VALV_FLG_OF,R0
14827 0000249C D005                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14828 0000249E 400B                   M           JSR     @R0                     ;
14829 000024A0 0009                   M           NOP                                     ;
14830                              78 I1  
14831 000024A2                     79 I1  DND_ROTSTEPCTL_900:
14832 000024A2 0009                80 I1          NOP
14833 000024A4                     81 I1  DND_ROTSTEPCTL_EXT:
14834                              82 I1          SUB_END
14835                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14836 000024A4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14837                              83 I1          M_RTS
14838 000024A6 000B                   M           RTS                             ;RTSの後ろの
14839 000024A8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14840                              84 I1  
14841                              85 I1  ;       ***********************************
14842                              86 I1  ;       ***                             ***
14843                              87 I1  ;       ***     初起動時のエリア作成    ***
14844                              88 I1  ;       ***                             ***
14845                              89 I1  ;       ***********************************
14846                                 I1  ***** BEGIN-POOL *****
14847 000024AA 0002                   I1  DATA FOR SOURCE-LINE 67
14848 000024AC 0001                   I1  DATA FOR SOURCE-LINE 70
14849 000024AE 0000                   I1  ALIGNMENT CODE
14850 000024B0 00000000               I1  DATA FOR SOURCE-LINE 74
14851 000024B4 00000000               I1  DATA FOR SOURCE-LINE 77
14852                                 I1  ***** END-POOL *****
14853          00000014            90 I1  _DND_AREA_HIS           .EQU    20              ;2.0DIG
14854 000024B8                     91 I1  _DNDINC_STEP_MAKE:
14855                              92 I1          SUB_START
14856 000024B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
14857                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14858 000024BA D50B                93 I1          MOV.L   #_DNDINC_CTRL_STEP,R5           ;
14859 000024BC 6351                94 I1          MOV.W   @R5,R3                          ;
14860 000024BE 2338                95 I1          TST     R3,R3                           ;
14861                              96 I1          TST_BIT_OF DNDINC_STEP_MK100            ;再計算
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   156
PROGRAM NAME =

14862 000024C0 891C                   M           BT      DNDINC_STEP_MK100
14863                              97 I1  
14864 000024C2 D10A                98 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14865 000024C4 6011                99 I1          MOV.W   @R1,R0                          ;
14866 000024C6 D10A               100 I1          MOV.L   #_CPOS_DND_STOP_SWOLD,R1        ;
14867 000024C8 6211               101 I1          MOV.W   @R1,R2
14868 000024CA 2101               102 I1          MOV.W   R0,@R1                          ;
14869 000024CC 220A               103 I1          XOR     R0,R2                           ;
14870 000024CE 2228               104 I1          TST     R2,R2                           ;
14871                             105 I1          TST_BIT_ON DNDINC_STEP_MK100            ;SW変更有り　再計算
14872 000024D0 8B14                   M           BF      DNDINC_STEP_MK100
14873                             106 I1  
14874 000024D2 D108               107 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
14875 000024D4 6011               108 I1          MOV.W   @R1,R0                          ;
14876 000024D6 D108               109 I1          MOV.L   #_CPOS_DND_STOP_DIRECTOLD,R1    ;
14877 000024D8 6211               110 I1          MOV.W   @R1,R2                          ;
14878 000024DA 2101               111 I1          MOV.W   R0,@R1                          ;
14879 000024DC 220A               112 I1          XOR     R0,R2                           ;
14880 000024DE 2228               113 I1          TST     R2,R2                           ;
14881                             114 I1          TST_BIT_ON DNDINC_STEP_MK100            ;DIRD変更有り　再計算
14882 000024E0 8B0C                   M           BF      DNDINC_STEP_MK100
14883                             115 I1          M_BRA   DNDINC_STEP_MK150
14884 000024E2 A027                   M           BRA     DNDINC_STEP_MK150
14885 000024E4 0009                   M           NOP
14886                             116 I1  
14887                             117 I1  ;;20060919      M_BRA   DNDINC_STEP_MK300               ;
14888                             118 I1  
14889                             119 I1  
14890                             120 I1  ;       -------- 開始計算--------
14891                                 I1  ***** BEGIN-POOL *****
14892 000024E6 0000                   I1  ALIGNMENT CODE
14893 000024E8 00000000               I1  DATA FOR SOURCE-LINE 93
14894 000024EC 00000000               I1  DATA FOR SOURCE-LINE 98
14895 000024F0 00000000               I1  DATA FOR SOURCE-LINE 100
14896 000024F4 00000000               I1  DATA FOR SOURCE-LINE 107
14897 000024F8 00000000               I1  DATA FOR SOURCE-LINE 109
14898                                 I1  ***** END-POOL *****
14899 000024FC                    121 I1  DNDINC_STEP_MK100:
14900 000024FC D108               122 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14901 000024FE 6011               123 I1          MOV.W   @R1,R0                          ;
14902 00002500 D108               124 I1          MOV.L   #_CPOS_DND_STOP_SWOLD,R1        ;
14903 00002502 2101               125 I1          MOV.W   R0,@R1                          ;
14904                             126 I1  
14905 00002504 D108               127 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
14906 00002506 6211               128 I1          MOV.W   @R1,R2                          ;
14907 00002508 D108               129 I1          MOV.L   #_CPOS_DND_STOP_DIRECTOLD,R1    ;
14908 0000250A 2121               130 I1          MOV.W   R2,@R1                          ;
14909                             131 I1  
14910 0000250C C903               132 I1          AND     #(BIT1+BIT0),R0                 ;
14911 0000250E 8803               133 I1          CMP/EQ  #(BIT1+BIT0),R0                 ;
14912 00002510 8910               134 I1          BT      DNDINC_STEP_MK150               ;
14913                             135 I1  
14914 00002512 D507               136 I1          MOV.L   #_DNDINC_CTRL_STEP,R5           ;
14915 00002514 9302               137 I1          MOV.W   #1,R3                           ;STEP=1
14916 00002516 2531               138 I1          MOV.W   R3,@R5                          ;
14917                             139 I1          M_BRA   DNDINC_STEP_MK300               ;
14918 00002518 A061                   M           BRA     DNDINC_STEP_MK300
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   157
PROGRAM NAME =

14919 0000251A 0009                   M           NOP
14920                             140 I1  
14921                                 I1  ***** BEGIN-POOL *****
14922 0000251C 0001                   I1  DATA FOR SOURCE-LINE 137
14923 0000251E 0000                   I1  ALIGNMENT CODE
14924 00002520 00000000               I1  DATA FOR SOURCE-LINE 122
14925 00002524 00000000               I1  DATA FOR SOURCE-LINE 124
14926 00002528 00000000               I1  DATA FOR SOURCE-LINE 127
14927 0000252C 00000000               I1  DATA FOR SOURCE-LINE 129
14928 00002530 00000000               I1  DATA FOR SOURCE-LINE 136
14929                                 I1  ***** END-POOL *****
14930 00002534                    141 I1  DNDINC_STEP_MK150:
14931 00002534 D10B               142 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
14932 00002536 6011               143 I1          MOV.W   @R1,R0
14933 00002538 2008               144 I1          TST     R0,R0                           ;
14934                             145 I1          TST_BIT_ON DNDINC_STEP_MK180            ;
14935 0000253A 8B19                   M           BF      DNDINC_STEP_MK180
14936                             146 I1  
14937 0000253C 940F               147 I1          MOV.W   #_DND_AREA_HIS,R4                                       ;
14938 0000253E D10A               148 I1          MOV.L   #_CPOS_DND_DIGTOP+0*2,R1                                ;
14939 00002540 6211               149 I1          MOV.W   @R1,R2                                                  ;
14940                             150 I1          DIG_REGA_SUB_REGB_ANS_REGB REGA=R4,REGB=R2,WKREG=R1,LATE=3600   ;dig-2.0
14941 00002542 3248                   M           SUB     R4,R2
14942 00002544 4211                   M           CMP/PZ  R2
14943 00002546 8901                   M           BT      JMP0100007                      ;
14944 00002548 910A                   M           MOV.W   #3600,R1
14945 0000254A 321C                   M           ADD     R1,R2           ;
14946 0000254C                        M   JMP0100007                                      ;
14947                             151 I1  
14948 0000254C D107               152 I1          MOV.L   #_CPOS_DND_DIGTOP+1*2,R1        ;
14949 0000254E 6311               153 I1          MOV.W   @R1,R3                          ;
14950                             154 I1          DIG_REGA_SUB_REGB_ANS_REGB REGA=R4,REGB=R3,WKREG=R1,LATE=3600   ;dig-2.0
14951 00002550 3348                   M           SUB     R4,R3
14952 00002552 4311                   M           CMP/PZ  R3
14953 00002554 8901                   M           BT      JMP0100008                      ;
14954 00002556 9103                   M           MOV.W   #3600,R1
14955 00002558 331C                   M           ADD     R1,R3           ;
14956 0000255A                        M   JMP0100008                                      ;
14957                             155 I1          M_BRA   DNDINC_STEP_MK200
14958 0000255A A018                   M           BRA     DNDINC_STEP_MK200
14959 0000255C 0009                   M           NOP
14960                             156 I1  
14961                                 I1  ***** BEGIN-POOL *****
14962 0000255E 0014                   I1  DATA FOR SOURCE-LINE 147
14963 00002560 0E10                   I1  DATA FOR SOURCE-LINE 150,154
14964 00002562 0000                   I1  ALIGNMENT CODE
14965 00002564 00000000               I1  DATA FOR SOURCE-LINE 142
14966 00002568 00000000               I1  DATA FOR SOURCE-LINE 148
14967 0000256C 00000000               I1  DATA FOR SOURCE-LINE 152
14968                                 I1  ***** END-POOL *****
14969 00002570                    157 I1  DNDINC_STEP_MK180:                                                      ;
14970                             158 I1  
14971 00002570 9419               159 I1          MOV.W   #_DND_AREA_HIS,R4                                       ;
14972 00002572 D10E               160 I1          MOV.L   #_CPOS_DND_DIGTOP+0*2,R1                                ;
14973 00002574 6311               161 I1          MOV.W   @R1,R3                                                  ;
14974                             162 I1          DIG_REGA_ADD_REGB_ANS_REGB REGA=R4,REGB=R3,WKREG=R1,LATE=3600   ;
14975 00002576 334C                   M           ADD     R4,R3
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   158
PROGRAM NAME =

14976 00002578 9116                   M           MOV.W   #3600,R1
14977 0000257A 3137                   M           CMP/GT  R3,R1           ;359.9<3600
14978 0000257C 8900                   M           BT      JMP0100009                      ;
14979 0000257E 3318                   M           SUB     R1,R3           ;
14980 00002580                        M   JMP0100009                                      ;
14981                             163 I1  
14982 00002580 D10B               164 I1          MOV.L   #_CPOS_DND_DIGTOP+1*2,R1                                ;
14983 00002582 6211               165 I1          MOV.W   @R1,R2                                                  ;
14984                             166 I1          DIG_REGA_ADD_REGB_ANS_REGB REGA=R4,REGB=R2,WKREG=R1,LATE=3600   ;
14985 00002584 324C                   M           ADD     R4,R2
14986 00002586 910F                   M           MOV.W   #3600,R1
14987 00002588 3127                   M           CMP/GT  R2,R1           ;359.9<3600
14988 0000258A 8900                   M           BT      JMP0100010                      ;
14989 0000258C 3218                   M           SUB     R1,R2           ;
14990 0000258E                        M   JMP0100010                                      ;
14991                             167 I1  
14992 0000258E                    168 I1  DNDINC_STEP_MK200:                                              ;
14993 0000258E D109               169 I1          MOV.L   #_INC_ENC360,R1                                 ;
14994 00002590 6411               170 I1          MOV.W   @R1,R4                                          ;
14995                             171 I1  
14996                             172 I1          DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R4,ANSREG=R0       ;R0 !=0 範囲内
14997 00002592 3233                   M           CMP/GE  R3,R2
14998 00002594 8B10                   M           BF      JMP0100011
14999                                 M   ;       === 0度をはさなまい===
15000 00002596 200A                   M           XOR     R0,R0
15001 00002598 3433                   M           CMP/GE  R3,R4           ;
15002 0000259A 8B13                   M           BF      JMP0200011                      ; PV<SV1
15003 0000259C 3243                   M           CMP/GE  R4,R2           ;
15004 0000259E 8B11                   M           BF      JMP0200011                      ; SV2<PV2 (1)
15005 000025A0 E001                   M           MOV     #1,R0           ;
15006                                 M           M_BRA   JMP0200011                      ;
15007 000025A2 A00F                   M           BRA     JMP0200011
15008 000025A4 0009                   M           NOP
15009                                 M   
15010                                 M   ;       ==== ０度をはさむ====
15011                                 M   ***** BEGIN-POOL *****
15012 000025A6 0014                   M   DATA FOR SOURCE-LINE 159
15013 000025A8 0E10                   M   DATA FOR SOURCE-LINE 162,166
15014 000025AA 0000                   M   ALIGNMENT CODE
15015 000025AC 00000000               M   DATA FOR SOURCE-LINE 160
15016 000025B0 00000000               M   DATA FOR SOURCE-LINE 164
15017 000025B4 00000000               M   DATA FOR SOURCE-LINE 169
15018                                 M   ***** END-POOL *****
15019 000025B8                        M   JMP0100011:
15020 000025B8 E001                   M           MOV     #1,R0
15021 000025BA 3433                   M           CMP/GE  R3,R4
15022 000025BC 8902                   M           BT      JMP0200011                      ;SV1=<PV=<360
15023 000025BE 3243                   M           CMP/GE  R4,R2           ;
15024 000025C0 8900                   M           BT      JMP0200011                      ;
15025 000025C2 200A                   M           XOR     R0,R0           ;
15026 000025C4                        M   JMP0200011:
15027 000025C4 2008               173 I1          TST     R0,R0                                           ;
15028                             174 I1          TST_BIT_OF DNDINC_STEP_MK220                            ;
15029 000025C6 8907                   M           BT      DNDINC_STEP_MK220
15030 000025C8 D502               175 I1          MOV.L   #_DNDINC_CTRL_STEP,R5                           ;
15031 000025CA 9302               176 I1          MOV.W   #2,R3                                           ;STEP=2 待機点に戻ってきて
                                          いる
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   159
PROGRAM NAME =

15032 000025CC 2531               177 I1          MOV.W   R3,@R5                                          ;
15033                             178 I1          M_BRA   DNDINC_STEP_MK300                               ;
15034 000025CE A006                   M           BRA     DNDINC_STEP_MK300
15035 000025D0 0009                   M           NOP
15036                                 I1  ***** BEGIN-POOL *****
15037 000025D2 0002                   I1  DATA FOR SOURCE-LINE 176
15038 000025D4 00000000               I1  DATA FOR SOURCE-LINE 175
15039                                 I1  ***** END-POOL *****
15040 000025D8                    179 I1  DNDINC_STEP_MK220:                                              ;
15041 000025D8 D503               180 I1          MOV.L   #_DNDINC_CTRL_STEP,R5                           ;
15042 000025DA 9303               181 I1          MOV.W   #1,R3                                           ;STEP=1 待機点を越えている
15043 000025DC 2531               182 I1          MOV.W   R3,@R5                                          ;
15044 000025DE                    183 I1  DNDINC_STEP_MK300:
15045                             184 I1          SUB_END
15046                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15047 000025DE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15048                             185 I1          M_RTS
15049 000025E0 000B                   M           RTS                             ;RTSの後ろの
15050 000025E2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15051                             186 I1  
15052                             187 I1  ;       ***********************************
15053                             188 I1  ;       ***                             ***
15054                             189 I1  ;       ***     工程からの目標位置作成  ***
15055                             190 I1  ;       ***                             ***
15056                             191 I1  ;       ***********************************
15057                                 I1  ***** BEGIN-POOL *****
15058 000025E4 0001                   I1  DATA FOR SOURCE-LINE 181
15059 000025E6 0000                   I1  ALIGNMENT CODE
15060 000025E8 00000000               I1  DATA FOR SOURCE-LINE 180
15061                                 I1  ***** END-POOL *****
15062 000025EC                    192 I1  _DNDINC_MAKE_OBJPOS:
15063                             193 I1          SUB_START
15064 000025EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
15065                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15066                             194 I1  
15067 000025EE D104               195 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
15068 000025F0 6011               196 I1          MOV.W   @R1,R0                          ;
15069 000025F2 C903               197 I1          AND     #(BIT1+BIT0),R0                 ;
15070 000025F4 8803               198 I1          CMP/EQ  #(BIT1+BIT0),R0                 ;
15071 000025F6 8905               199 I1          BT      DNDINC_MAKOBJPOS_100            ;
15072                             200 I1  
15073 000025F8 C801               201 I1          TST     #BIT0,R0                        ;待機点のみ
15074                             202 I1          TST_BIT_ON DNDINC_MAKOBJPOS_120         ;YES
15075 000025FA 8B08                   M           BF      DNDINC_MAKOBJPOS_120
15076                             203 I1          M_BRA   DNDINC_MAKOBJPOS_150            ;途中位置
15077 000025FC A010                   M           BRA     DNDINC_MAKOBJPOS_150
15078 000025FE 0009                   M           NOP
15079                             204 I1  
15080                                 I1  ***** BEGIN-POOL *****
15081 00002600 00000000               I1  DATA FOR SOURCE-LINE 195
15082                                 I1  ***** END-POOL *****
15083 00002604                    205 I1  DNDINC_MAKOBJPOS_100:
15084 00002604 D104               206 I1          MOV.L   #_DNDINC_CTRL_STEP,R1           ;
15085 00002606 6311               207 I1          MOV.W   @R1,R3                          ;
15086 00002608 9205               208 I1          MOV.W   #2,R2                           ;
15087 0000260A 3230               209 I1          CMP/EQ  R3,R2
15088 0000260C 8B08               210 I1          BF      DNDINC_MAKOBJPOS_150            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   160
PROGRAM NAME =

15089 0000260E                    211 I1  DNDINC_MAKOBJPOS_120:
15090 0000260E D103               212 I1          MOV.L   #_CPOS_DND_PLSTOP+0*4,R1        ;
15091 00002610 6212               213 I1          MOV.L   @R1,R2                          ;STEP2=待機点に戻る
15092                             214 I1          M_BRA   DNDINC_MAKOBJPOS_200            ;
15093 00002612 A007                   M           BRA     DNDINC_MAKOBJPOS_200
15094 00002614 0009                   M           NOP
15095                             215 I1  
15096                                 I1  ***** BEGIN-POOL *****
15097 00002616 0002                   I1  DATA FOR SOURCE-LINE 208
15098 00002618 00000000               I1  DATA FOR SOURCE-LINE 206
15099 0000261C 00000000               I1  DATA FOR SOURCE-LINE 212
15100                                 I1  ***** END-POOL *****
15101 00002620                    216 I1  DNDINC_MAKOBJPOS_150:
15102 00002620 D104               217 I1          MOV.L   #_CPOS_DND_PLSTOP+1*4,R1        ;
15103 00002622 6212               218 I1          MOV.L   @R1,R2                          ;STEP1=待機点から次へ出発
15104                             219 I1  
15105 00002624                    220 I1  DNDINC_MAKOBJPOS_200:
15106 00002624 D104               221 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
15107 00002626 6011               222 I1          MOV.W   @R1,R0
15108                             223 I1          FAR_JSR #_LNKPLS_OBJ_DAT_MAK2,R1        ;
15109 00002628 D104                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK2,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15110 0000262A 410B                   M           JSR     @R1                     ;
15111 0000262C 0009                   M           NOP                                     ;
15112                             224 I1  
15113                             225 I1  
15114                             226 I1          SUB_END
15115                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15116 0000262E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15117                             227 I1          M_RTS
15118 00002630 000B                   M           RTS                             ;RTSの後ろの
15119 00002632 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15120                             228 I1  
15121                             229 I1  ;       *******************************************
15122                             230 I1  ;       ***                                     ***
15123                             231 I1  ;       ***     Input R2                        ***
15124                             232 I1  ;       ***     ﾘﾝｸ(内部制御)ﾊﾟﾙｽ               ***
15125                             233 I1  ;       ***     Input R0 DIRECT                 ***
15126                             234 I1  ;       ***     方向固定                        ***
15127                             235 I1  ;       ***                                     ***
15128                             236 I1  ;       *******************************************
15129                             237 I1  ;       MOV.L   #_SETX_DNAREA_JG_PLS,R4                 ;反転設定不可範囲LINK-PLS
15130                             238 I1  ;       MOV.L   @R4,R2                                  ;
15131                             239 I1  
15132                                 I1  ***** BEGIN-POOL *****
15133 00002634 00000000               I1  DATA FOR SOURCE-LINE 217
15134 00002638 00000000               I1  DATA FOR SOURCE-LINE 221
15135 0000263C 00000000               I1  DATA FOR SOURCE-LINE 223
15136                                 I1  ***** END-POOL *****
15137 00002640                    240 I1  _LNKPLS_OBJ_DAT_MAK2:
15138                             241 I1          SUB_START
15139 00002640 4F22                   M           STS.L   PR,@-R15                ;[必要]
15140                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15141                             242 I1          PUSH_REG1 R0                                    ;SHIN
15142 00002642 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
15143                                 M                                           ;REG=>[SP]
15144                                 M                                           ;"-4" FF,FF,FF,FC
15145                             243 I1          PUSH_REG1 R2                                    ;1ROT DATA
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   161
PROGRAM NAME =

15146 00002644 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
15147                                 M                                           ;REG=>[SP]
15148                                 M                                           ;"-4" FF,FF,FF,FC
15149                             244 I1  
15150                             245 I1  ;;      MOV.L   #_LINK_PV_ABSPLS,R4             ;
15151                             246 I1  ;;      MOV.L   @R4+,R1                                 ;
15152                             247 I1  ;;      MOV.L   @R4,R2                                  ;
15153                             248 I1  ;;      MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
15154                             249 I1  ;;      MOV.L   R1,@(0,R4)                              ;
15155                             250 I1  ;;      MOV.L   R2,@(4,R4)                              ;
15156                             251 I1  
15157                             252 I1          FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
15158 00002646 D010                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15159 00002648 400B                   M           JSR     @R0                     ;
15160 0000264A 0009                   M           NOP                                     ;
15161                             253 I1  
15162                             254 I1          FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
15163 0000264C D00F                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15164 0000264E 400B                   M           JSR     @R0                     ;
15165 00002650 0009                   M           NOP                                     ;
15166                             255 I1  
15167                             256 I1  
15168                             257 I1  ;       === 目標角度() ====
15169 00002652 D40F               258 I1          MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;[目標側の位置]
15170 00002654 6142               259 I1          MOV.L   @R4,R1                                  ;現在 ***.* pls "+"data
15171                             260 I1                                                          ;目標 ***.* pls
15172                             261 I1          POP_REG1 R2                                     ;
15173                                 M                                   ; RE"+4" 00,00,00,04
15174 00002656 62F6                   M           MOV.L   @R15+,R2        ;
15175                             262 I1          POP_REG1 R0                                     ;
15176                                 M                                   ; RE"+4" 00,00,00,04
15177 00002658 60F6                   M           MOV.L   @R15+,R0        ;
15178 0000265A 2008               263 I1          TST     R0,R0                                   ;
15179                             264 I1          TST_BIT_ON LNKPLS_OBJ_DAT_MK2_100               ;DIRECT MINAS
15180 0000265C 8B20                   M           BF      LNKPLS_OBJ_DAT_MK2_100
15181                             265 I1  ;--------FWD-----------
15182 0000265E 3218               266 I1          SUB     R1,R2                                   ;R1(PV) < R2(SV);
15183 00002660 4215               267 I1          CMP/PL  R2                                      ;
15184 00002662 8908               268 I1          BT      LNKPLS_OBJ_DAT_MK2_050                  ;YES
15185 00002664 D50B               269 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;
15186 00002666 6452               270 I1          MOV.L   @R5,R4                                  ;
15187 00002668 324C               271 I1          ADD     R4,R2                                   ;
15188 0000266A 4211               272 I1          CMP/PZ  R2
15189 0000266C 8903               273 I1          BT      LNKPLS_OBJ_DAT_MK2_050                  ;0,+
15190                             274 I1          FAR_JSR #_POS_CALC_MISS0,R1                     ;EMG-ERR
15191 0000266E D10A                   M           MOV.L   #_POS_CALC_MISS0,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15192 00002670 410B                   M           JSR     @R1                     ;
15193 00002672 0009                   M           NOP                                     ;
15194 00002674 222A               275 I1          XOR     R2,R2                                   ;
15195 00002676                    276 I1  LNKPLS_OBJ_DAT_MK2_050                                  ;+1REV
15196                             277 I1  ;       ----------------ﾆｱｾﾞﾛなら1回転+する----------------
15197 00002676 D109               278 I1          MOV.L   #_SET1_OBJARA_INPXPLS,R1                ;
15198 00002678 6311               279 I1          MOV.W   @R1,R3                                  ;
15199 0000267A 3233               280 I1          CMP/GE  R3,R2                                   ;
15200 0000267C 8902               281 I1          BT      LNKPLS_OBJ_DAT_MK2_080                  ;
15201 0000267E D505               282 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;
15202 00002680 6452               283 I1          MOV.L   @R5,R4                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   162
PROGRAM NAME =

15203 00002682 324C               284 I1          ADD     R4,R2                                   ;
15204 00002684                    285 I1  LNKPLS_OBJ_DAT_MK2_080                                  ;
15205                             286 I1          M_BRA   LNKPLS_OBJ_DAT_MK2_300                  ;
15206 00002684 A020                   M           BRA     LNKPLS_OBJ_DAT_MK2_300
15207 00002686 0009                   M           NOP
15208                             287 I1  
15209                             288 I1  
15210                             289 I1  ;--------REV-----------
15211                                 I1  ***** BEGIN-POOL *****
15212 00002688 00000000               I1  DATA FOR SOURCE-LINE 252
15213 0000268C 00000000               I1  DATA FOR SOURCE-LINE 254
15214 00002690 00000000               I1  DATA FOR SOURCE-LINE 258
15215 00002694 00000000               I1  DATA FOR SOURCE-LINE 269,282
15216 00002698 00000000               I1  DATA FOR SOURCE-LINE 274
15217 0000269C 00000000               I1  DATA FOR SOURCE-LINE 278
15218                                 I1  ***** END-POOL *****
15219 000026A0                    290 I1  LNKPLS_OBJ_DAT_MK2_100:                                 ;R2
15220 000026A0 3218               291 I1          SUB     R1,R2                                   ;R1(PV) > R2(SV)
15221 000026A2 4211               292 I1          CMP/PZ  R2                                      ;
15222 000026A4 8B02               293 I1          BF      LNKPLS_OBJ_DAT_MK2_150                  ;YES
15223 000026A6 D51D               294 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;"0,+"
15224 000026A8 6452               295 I1          MOV.L   @R5,R4                                  ;
15225 000026AA 3248               296 I1          SUB     R4,R2                                   ;
15226 000026AC                    297 I1  LNKPLS_OBJ_DAT_MK2_150                                  ;-1REV
15227 000026AC 4215               298 I1          CMP/PL  R2                                      ;
15228 000026AE 8B03               299 I1          BF      LNKPLS_OBJ_DAT_MK2_200                  ;0,"-"
15229                             300 I1          FAR_JSR #_POS_CALC_MISS0,R1                     ;EMG-ERR
15230 000026B0 D11B                   M           MOV.L   #_POS_CALC_MISS0,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15231 000026B2 410B                   M           JSR     @R1                     ;
15232 000026B4 0009                   M           NOP                                     ;
15233 000026B6 222A               301 I1          XOR     R2,R2                                   ;
15234 000026B8                    302 I1  LNKPLS_OBJ_DAT_MK2_200                                  ;
15235                             303 I1  
15236                             304 I1  ;       ----------------ﾆｱｾﾞﾛなら1回転+する----------------
15237 000026B8 D11A               305 I1          MOV.L   #_SET1_OBJARA_INPXPLS,R1                ;
15238 000026BA 6311               306 I1          MOV.W   @R1,R3                                  ;
15239 000026BC 633B               307 I1          NEG     R3,R3                                   ;
15240 000026BE 3233               308 I1          CMP/GE  R3,R2                                   ;-2000
15241 000026C0 8B02               309 I1          BF      LNKPLS_OBJ_DAT_MK2_280                  ;
15242 000026C2 D516               310 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;
15243 000026C4 6452               311 I1          MOV.L   @R5,R4                                  ;
15244 000026C6 3248               312 I1          SUB     R4,R2                                   ;
15245 000026C8                    313 I1  LNKPLS_OBJ_DAT_MK2_280                                  ;
15246                             314 I1  ;       ---------------------------------------------------
15247                             315 I1  
15248                             316 I1  
15249 000026C8                    317 I1  LNKPLS_OBJ_DAT_MK2_300                                  ;
15250 000026C8 255A               318 I1          XOR     R5,R5                                   ;
15251 000026CA 6623               319 I1          MOV     R2,R6                                   ;R5,R6
15252 000026CC 4211               320 I1          CMP/PZ  R2                                      ;
15253 000026CE 8900               321 I1          BT      LNKPLS_OBJ_DAT_MK2_600                  ;
15254 000026D0 E5FF               322 I1          MOV     #-1,R5                                  ;
15255 000026D2                    323 I1  LNKPLS_OBJ_DAT_MK2_600:                                 ;
15256                             324 I1  
15257                             325 I1  
15258 000026D2 D415               326 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
                                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   163
PROGRAM NAME =

15259 000026D4 6146               327 I1          MOV.L   @R4+,R1                                 ;
15260 000026D6 6242               328 I1          MOV.L   @R4,R2                                  ;
15261                             329 I1          PUSH_REG1 R1
15262 000026D8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
15263                                 M                                           ;REG=>[SP]
15264                                 M                                           ;"-4" FF,FF,FF,FC
15265                             330 I1          PUSH_REG1 R2
15266 000026DA 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
15267                                 M                                           ;REG=>[SP]
15268                                 M                                           ;"-4" FF,FF,FF,FC
15269                             331 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
15270 000026DC 0008                   M           CLRT
15271 000026DE 326E                   M           ADDC    R6,R2
15272 000026E0 315E                   M           ADDC    R5,R1
15273                             332 I1  
15274 000026E2 D412               333 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
15275 000026E4 2412               334 I1          MOV.L   R1,@R4                                          ;
15276 000026E6 1421               335 I1          MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
15277                             336 I1          POP_REG1 R6
15278                                 M                                   ; RE"+4" 00,00,00,04
15279 000026E8 66F6                   M           MOV.L   @R15+,R6        ;
15280                             337 I1          POP_REG1 R5
15281                                 M                                   ; RE"+4" 00,00,00,04
15282 000026EA 65F6                   M           MOV.L   @R15+,R5        ;
15283                             338 I1  
15284                             339 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
15285 000026EC 0008                   M           CLRT
15286 000026EE 326A                   M           SUBC    R6,R2
15287 000026F0 315A                   M           SUBC    R5,R1
15288 000026F2 233A               340 I1          XOR     R3,R3
15289 000026F4 4111               341 I1          CMP/PZ  R1                              ;
15290 000026F6 8900               342 I1          BT      LNKPLS_OBJ_DAT_MK2_750          ;
15291 000026F8 E301               343 I1          MOV     #BIT0,R3                        ;
15292 000026FA                    344 I1  LNKPLS_OBJ_DAT_MK2_750:                         ;
15293 000026FA D10D               345 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
15294 000026FC 6211               346 I1          MOV.W   @R1,R2                          ;
15295 000026FE 2131               347 I1          MOV.W   R3,@R1                          ;
15296 00002700 223A               348 I1          XOR     R3,R2                           ;
15297 00002702 2228               349 I1          TST     R2,R2                           ;
15298                             350 I1          TST_BIT_OF LNKPLS_OBJ_DAT_MK2_800       ;
15299 00002704 8902                   M           BT      LNKPLS_OBJ_DAT_MK2_800
15300                             351 I1          FAR_JSR #_POS_CALC_MISS0,R1                     ;EMG-ERR
15301 00002706 D106                   M           MOV.L   #_POS_CALC_MISS0,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15302 00002708 410B                   M           JSR     @R1                     ;
15303 0000270A 0009                   M           NOP                                     ;
15304 0000270C                    352 I1  LNKPLS_OBJ_DAT_MK2_800:                         ;
15305                             353 I1  
15306 0000270C D109               354 I1          MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
15307 0000270E 6011               355 I1          MOV.W   @R1,R0                          ;
15308 00002710 C9FE               356 I1          AND     #LOW ~BIT0,R0                   ;
15309 00002712 203B               357 I1          OR      R3,R0                           ;
15310 00002714 2101               358 I1          MOV.W   R0,@R1                          ;
15311                             359 I1  
15312                             360 I1          SUB_END
15313                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15314 00002716 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   164
PROGRAM NAME =

15315                             361 I1          M_RTS
15316 00002718 000B                   M           RTS                             ;RTSの後ろの
15317 0000271A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15318                             362 I1  
15319                             363 I1  
15320                            5185     
15321                            5186     
15322                            5187     ;       *******************************************
15323                            5188     ;       ***                                     ***
15324                            5189     ;       ***     手動パルサ仕様                  ***
15325                            5190     ;       ***                                     ***
15326                            5191     ;       *******************************************
15327                            5192     ;       0.5秒以内に2ﾊﾟﾙｽ以上増えたら起動
15328                            5193     ;
15329                            5194     ;
15330                            5195             .INCLUDE        "ssa_tep1.inc"          ; //
15331                               1 I1  ;       ***********************************
15332                               2 I1  ;       ***                             ***
15333                               3 I1  ;       ***     手動パルサコントロール  ***
15334                               4 I1  ;       ***                             ***
15335                               5 I1  ;       ***********************************
15336                               6 I1  ;       両手offで終了
15337                               7 I1  ;       符号チェンジ
15338                               8 I1  ;       符号チェンジによる停止指令
15339                               9 I1  ;       停止待ち
15340                              10 I1  ;
15341                              11 I1  ;       +方向動作中にｶｳﾝﾀが"-1以下"になったら+動作完了後"-"に戻す：ｶｳﾝﾀの更新,0CLRは行なわ
                                          ない
15342                              12 I1  ;       -方向動作中にｶｳﾝﾀが"+1以上"になったら-動作完了後"+"に進める:
15343                              13 I1  ;
15344                              14 I1  ;       (1)DIRECTIONﾌﾗｸﾞとｶｳﾝﾀを比較する
15345                              15 I1  ;       (2-1)同じ方向にﾊﾟﾙｽが増えたらｶｳﾝﾀ→位置決めLSIに足しこむ.ｶｳﾝﾀ=0とする
15346                              16 I1  ;       (2-2)逆方向に増えたらﾊﾟﾙｽ払い出しを待つ
15347                              17 I1  ;BIT1   (>3-1)残りﾊﾟﾙｽ=0になったら指令をOFFする。：：：ｽﾃｯﾌﾟｼｰｹﾝｽ開始
15348                              18 I1  ;BIT2   (>3-2)位置決め完了したら10msecWAITする
15349                              19 I1  ;BIT6   (>3-3)起動演算を行なう
15350                              20 I1  ;
15351                              21 I1  ;       TEP_STEP_FLG
15352                              22 I1  ;               .BIT0 払出完了
15353                              23 I1  ;               .BIT1 5msecWAIT
15354                              24 I1  ;
15355                              25 I1  ;
15356                              26 I1  ;       plsData-->start-on
15357                              27 I1          .EXPORT _TEP_FLG_CLR
15358                              28 I1          .EXPORT _TEPA_START_CHK                 ;
15359                              29 I1          .EXPORT _TEPA_PLSCNT_CLR                ;
15360                              30 I1          .EXPORT _TEPA_PLSCNT_CHK                ;
15361                              31 I1  
15362                              32 I1          .IMPORT _PAR_TEP_WATTIM         ;3 1~50msec
15363                              33 I1          .IMPORT _PAR_TEP_BEFPLS         ;4 10pls
15364                              34 I1          .IMPORT _PAR_TEP_MINSPD         ;
15365                              35 I1  
15366                              36 I1  ;;;;まだ組み込まない    .IMPORT _SH4toSH2_TEPSIG        ;
15367                              37 I1  ;;;;まだ組み込まない    .IMPORT _SH2toSH4_TEPSIG        ;
15368                              38 I1  
15369                              39 I1  
15370                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   165
PROGRAM NAME =

15371 0000271C 00000000               I1  DATA FOR SOURCE-LINE 294,310
15372 00002720 00000000               I1  DATA FOR SOURCE-LINE 300,351
15373 00002724 00000000               I1  DATA FOR SOURCE-LINE 305
15374 00002728 00000000               I1  DATA FOR SOURCE-LINE 326
15375 0000272C 00000000               I1  DATA FOR SOURCE-LINE 333
15376 00002730 00000000               I1  DATA FOR SOURCE-LINE 345
15377 00002734 00000000               I1  DATA FOR SOURCE-LINE 354
15378                                 I1  ***** END-POOL *****
15379 00002738                     40 I1  _DND_TEP_STEP_CTRL:
15380                              41 I1          SUB_START
15381 00002738 4F22                   M           STS.L   PR,@-R15                ;[必要]
15382                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15383                              42 I1  
15384                              43 I1  ;       -------- 2013-06-05 -----------------------------
15385                              44 I1          DN_TIME LG=W,MEM_ADR=_TEP_CNTSMP_TIM,WKREG1=R1,WKREG2=R2        ;定周期
15386 0000273A D107                   M           MOV.L   #_TEP_CNTSMP_TIM,R1             ;SORCE ADRESS SET
15387 0000273C 6211                   M           MOV.W   @R1,R2          ;
15388 0000273E 2228                   M           TST     R2,R2                   ;
15389 00002740 8901                   M           BT      JMP_0100012                     ;ZERO THEN JUMP
15390 00002742 4210                   M           DT      R2                              ;
15391 00002744 2121                   M           MOV.W   R2,@R1          ;STORE
15392 00002746                        M   JMP_0100012:
15393                              45 I1  
15394                              46 I1  
15395                              47 I1          FAR_JSR #_TEP_ADD_PLS_MAK,R0            ;
15396 00002746 D005                   M           MOV.L   #_TEP_ADD_PLS_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15397 00002748 400B                   M           JSR     @R0                     ;
15398 0000274A 0009                   M           NOP                                     ;
15399                              48 I1  
15400 0000274C D104                49 I1          MOV.L   #_TEP_STEP_FLG,R1               ;
15401 0000274E 6011                50 I1          MOV.W   @R1,R0                          ;
15402 00002750 C802                51 I1          TST     #BIT1,R0                        ;
15403                              52 I1          TST_BIT_OF DND_TEPSTEPCTL_020           ;
15404 00002752 8907                   M           BT      DND_TEPSTEPCTL_020
15405                              53 I1          M_BRA   DND_TEPSTEPCTL_400              ;
15406 00002754 A056                   M           BRA     DND_TEPSTEPCTL_400
15407 00002756 0009                   M           NOP
15408                                 I1  ***** BEGIN-POOL *****
15409 00002758 00000000               I1  DATA FOR SOURCE-LINE 44
15410 0000275C 00000000               I1  DATA FOR SOURCE-LINE 47
15411 00002760 00000000               I1  DATA FOR SOURCE-LINE 49
15412                                 I1  ***** END-POOL *****
15413 00002764                     54 I1  DND_TEPSTEPCTL_020:
15414                              55 I1  
15415 00002764 C801                56 I1          TST     #BIT0,R0                        ;
15416                              57 I1          TST_BIT_ON DND_TEPSTEPCTL_200           ;
15417 00002766 8B23                   M           BF      DND_TEPSTEPCTL_200
15418                              58 I1  
15419                              59 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
15420 00002768 D00B                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15421 0000276A 400B                   M           JSR     @R0                     ;
15422 0000276C 0009                   M           NOP                                     ;
15423                              60 I1          FAR_JSR #_LOD_POS_STS_REG,R1            ;
15424 0000276E D10B                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15425 00002770 410B                   M           JSR     @R1                     ;
15426 00002772 0009                   M           NOP                                     ;
15427 00002774 C804                61 I1          TST     #BIT2,R0                        ;停止?
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   166
PROGRAM NAME =

15428                              62 I1          TST_BIT_OF DND_TEPSTEPCTL_180           ;NO 停止中? 0:払出中 1:停止
15429 00002776 890D                   M           BT      DND_TEPSTEPCTL_180
15430                              63 I1  
15431                              64 I1  
15432                              65 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0
15433 00002778 D009                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15434 0000277A 400B                   M           JSR     @R0                     ;
15435 0000277C 0009                   M           NOP                                     ;
15436                              66 I1  ;;まだ組み込まない      FAR_JSR #_TEP_CPUAB_HAND_CLR,R0         ;
15437                              67 I1  
15438                              68 I1  ;       ------ ILDE[0,0] 1回だけではないよ！！--------
15439 0000277E D109                69 I1          MOV.L   #_TEP_POS_ADD_CNT,R1                                            ;
15440 00002780 6212                70 I1          MOV.L   @R1,R2                                                          ;
15441 00002782 2228                71 I1          TST     R2,R2                                                           ;
15442                              72 I1          TST_BIT_OF DND_TEPSTEPCTL_180                                           ;
15443 00002784 8906                   M           BT      DND_TEPSTEPCTL_180
15444                              73 I1                                                                                  ;ﾊﾟﾙｽ有り
                                          遷移1
15445                              74 I1          FAR_JSR #_INT_TEP_RESTART,R0                                            ;2013-05-2
                                          6
15446 00002786 D008                   M           MOV.L   #_INT_TEP_RESTART,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15447 00002788 400B                   M           JSR     @R0                     ;
15448 0000278A 0009                   M           NOP                                     ;
15449                              75 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1        ;[この時点
                                          でﾊﾟﾙｽ設定していない]
15450 0000278C D107                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
15451 0000278E 6011                   M           MOV.W   @R1,R0          ;
15452 00002790 CB01                   M           OR      #BIT0,R0                ;
15453 00002792 2101                   M           MOV.W   R0,@R1          ;
15454                              76 I1  
15455 00002794                     77 I1  DND_TEPSTEPCTL_180:
15456                              78 I1          M_BRA   DND_TEPSTEPCTL_900              ;
15457 00002794 A057                   M           BRA     DND_TEPSTEPCTL_900
15458 00002796 0009                   M           NOP
15459                              79 I1  
15460                              80 I1  ;       -------------- 払い出し待ち------------
15461                                 I1  ***** BEGIN-POOL *****
15462 00002798 00000000               I1  DATA FOR SOURCE-LINE 59
15463 0000279C 00000000               I1  DATA FOR SOURCE-LINE 60
15464 000027A0 00000000               I1  DATA FOR SOURCE-LINE 65
15465 000027A4 00000000               I1  DATA FOR SOURCE-LINE 69
15466 000027A8 00000000               I1  DATA FOR SOURCE-LINE 74
15467 000027AC 00000000               I1  DATA FOR SOURCE-LINE 75
15468                                 I1  ***** END-POOL *****
15469 000027B0                     81 I1  DND_TEPSTEPCTL_200:
15470                              82 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0                                     ;
15471 000027B0 D00A                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15472 000027B2 400B                   M           JSR     @R0                     ;
15473 000027B4 0009                   M           NOP                                     ;
15474                              83 I1          FAR_JSR #_LOD_POS_STS_REG,R1                                            ;
15475 000027B6 D10A                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15476 000027B8 410B                   M           JSR     @R1                     ;
15477 000027BA 0009                   M           NOP                                     ;
15478 000027BC C804                84 I1          TST     #BIT2,R0                                                        ;停止?
15479                              85 I1          TST_BIT_OF DND_TEPSTEPCTL_220                                           ;NO 停止中
                                          ? 0:払出中 1:停止
15480 000027BE 8919                   M           BT      DND_TEPSTEPCTL_220
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   167
PROGRAM NAME =

15481                              86 I1  
15482                              87 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1        ;[払い出し
                                          完了 遷移2]
15483 000027C0 D108                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
15484 000027C2 6011                   M           MOV.W   @R1,R0          ;
15485 000027C4 CB02                   M           OR      #BIT1,R0                ;
15486 000027C6 2101                   M           MOV.W   R0,@R1          ;
15487                              88 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0                                          ;
15488 000027C8 D007                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15489 000027CA 400B                   M           JSR     @R0                     ;
15490 000027CC 0009                   M           NOP                                     ;
15491                              89 I1  
15492                              90 I1  
15493                              91 I1  ;       ------- 2013-06-05 払出完了開始遅延100ms--------
15494 000027CE D107                92 I1          MOV.L   #_TEP_STEP_SVWTTM1,R1                                           ;//2013-06
                                          -05
15495 000027D0 6211                93 I1          MOV.W   @R1,R2                                                          ;
15496 000027D2 D107                94 I1          MOV.L   #_TEP_STEP_WTTM,R1                                              ;
15497 000027D4 2121                95 I1          MOV.W   R2,@R1                                                          ;
15498                              96 I1          M_BRA   DND_TEPSTEPCTL_900                                              ;
15499 000027D6 A036                   M           BRA     DND_TEPSTEPCTL_900
15500 000027D8 0009                   M           NOP
15501                              97 I1  
15502                                 I1  ***** BEGIN-POOL *****
15503 000027DA 0000                   I1  ALIGNMENT CODE
15504 000027DC 00000000               I1  DATA FOR SOURCE-LINE 82
15505 000027E0 00000000               I1  DATA FOR SOURCE-LINE 83
15506 000027E4 00000000               I1  DATA FOR SOURCE-LINE 87
15507 000027E8 00000000               I1  DATA FOR SOURCE-LINE 88
15508 000027EC 00000000               I1  DATA FOR SOURCE-LINE 92
15509 000027F0 00000000               I1  DATA FOR SOURCE-LINE 94
15510                                 I1  ***** END-POOL *****
15511 000027F4                     98 I1  DND_TEPSTEPCTL_220:                                                             ;
15512                              99 I1  ;       2013-05-20 動作中の加算                                         ;
15513                             100 I1  
15514                             101 I1          FAR_JSR #_TEPA_ADD_LSI,R0                                       ;
15515 000027F4 D002                   M           MOV.L   #_TEPA_ADD_LSI,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15516 000027F6 400B                   M           JSR     @R0                     ;
15517 000027F8 0009                   M           NOP                                     ;
15518                             102 I1  
15519 000027FA                    103 I1  DND_TEPSTEPCTL_290:                                                     ;
15520                             104 I1          M_BRA   DND_TEPSTEPCTL_900                                      ;
15521 000027FA A024                   M           BRA     DND_TEPSTEPCTL_900
15522 000027FC 0009                   M           NOP
15523                             105 I1  
15524                             106 I1  
15525                             107 I1  ;       -------- 遅延待ち--------
15526                                 I1  ***** BEGIN-POOL *****
15527 000027FE 0000                   I1  ALIGNMENT CODE
15528 00002800 00000000               I1  DATA FOR SOURCE-LINE 101
15529                                 I1  ***** END-POOL *****
15530 00002804                    108 I1  DND_TEPSTEPCTL_400:
15531 00002804 D103               109 I1          MOV.L   #_TEP_STEP_WTTM,R1                              ;
15532 00002806 6011               110 I1          MOV.W   @R1,R0                                          ;
15533 00002808 2008               111 I1          TST     R0,R0                                           ;
15534                             112 I1          TST_BIT_OF DND_TEPSTEPCTL_420                           ;
15535 0000280A 8905                   M           BT      DND_TEPSTEPCTL_420
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   168
PROGRAM NAME =

15536 0000280C 70FF               113 I1          ADD     #-1,R0                                          ;
15537 0000280E 2101               114 I1          MOV.W   R0,@R1                                          ;
15538                             115 I1  
15539                             116 I1  ;;まだ組み込まない      FAR_JSR #_TEP_CPUAB_HAND_CLR,R0                         ;
15540                             117 I1          M_BRA   DND_TEPSTEPCTL_900                              ;
15541 00002810 A019                   M           BRA     DND_TEPSTEPCTL_900
15542 00002812 0009                   M           NOP
15543                             118 I1  
15544                             119 I1  
15545                                 I1  ***** BEGIN-POOL *****
15546 00002814 00000000               I1  DATA FOR SOURCE-LINE 109
15547                                 I1  ***** END-POOL *****
15548 00002818                    120 I1  DND_TEPSTEPCTL_420:                                             ;
15549                             121 I1  
15550                             122 I1  ;       ---- ﾀｲﾏ中にﾊﾟﾙｽがあった。再起動[BIT1->BIT0]--------
15551 00002818 D106               123 I1          MOV.L   #_TEP_POS_ADD_CNT,R1                                            ;
15552 0000281A 6012               124 I1          MOV.L   @R1,R0                                                          ;
15553 0000281C 2008               125 I1          TST     R0,R0                                                           ;
15554                             126 I1          TST_BIT_OF DND_TEPSTEPCTL_800                                           ;
15555 0000281E 890F                   M           BT      DND_TEPSTEPCTL_800
15556                             127 I1  
15557                             128 I1          FAR_JSR #_INT_TEP_RESTART,R0                                            ;
15558 00002820 D005                   M           MOV.L   #_INT_TEP_RESTART,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15559 00002822 400B                   M           JSR     @R0                     ;
15560 00002824 0009                   M           NOP                                     ;
15561                             129 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1        ;
15562 00002826 D105                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
15563 00002828 6011                   M           MOV.W   @R1,R0          ;
15564 0000282A CB01                   M           OR      #BIT0,R0                ;
15565 0000282C 2101                   M           MOV.W   R0,@R1          ;
15566                             130 I1          M_BRA   DND_TEPSTEPCTL_900                                              ;
15567 0000282E A00A                   M           BRA     DND_TEPSTEPCTL_900
15568 00002830 0009                   M           NOP
15569                             131 I1  
15570                             132 I1  
15571                             133 I1  ;       --------- 完全なﾀｲﾑｱｯﾌﾟ-------
15572                                 I1  ***** BEGIN-POOL *****
15573 00002832 0000                   I1  ALIGNMENT CODE
15574 00002834 00000000               I1  DATA FOR SOURCE-LINE 123
15575 00002838 00000000               I1  DATA FOR SOURCE-LINE 128
15576 0000283C 00000000               I1  DATA FOR SOURCE-LINE 129
15577                                 I1  ***** END-POOL *****
15578 00002840                    134 I1  DND_TEPSTEPCTL_800:
15579                             135 I1          FAR_JSR #_TEP_START_INIT1,R0                                            ;[遷移0]
15580 00002840 D003                   M           MOV.L   #_TEP_START_INIT1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15581 00002842 400B                   M           JSR     @R0                     ;
15582 00002844 0009                   M           NOP                                     ;
15583                             136 I1  
15584                             137 I1  
15585 00002846                    138 I1  DND_TEPSTEPCTL_900:
15586 00002846 0009               139 I1          NOP
15587 00002848                    140 I1  DND_TEPSTEPCTL_EXT:
15588                             141 I1          SUB_END
15589                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15590 00002848 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15591                             142 I1          M_RTS
15592 0000284A 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   169
PROGRAM NAME =

15593 0000284C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15594                             143 I1  
15595                             144 I1  
15596                             145 I1  ;       ***********************************
15597                             146 I1  ;       ***                             ***
15598                             147 I1  ;       ***     起動処理                ***
15599                             148 I1  ;       ***                             ***
15600                             149 I1  ;       ***********************************
15601                                 I1  ***** BEGIN-POOL *****
15602 0000284E 0000                   I1  ALIGNMENT CODE
15603 00002850 00000000               I1  DATA FOR SOURCE-LINE 135
15604                                 I1  ***** END-POOL *****
15605 00002854                    150 I1  _MN_TEP_START
15606                             151 I1          SUB_START
15607 00002854 4F22                   M           STS.L   PR,@-R15                ;[必要]
15608                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15609                             152 I1          FAR_JSR #_TEP_START_INIT1,R0                    ;
15610 00002856 D00D                   M           MOV.L   #_TEP_START_INIT1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15611 00002858 400B                   M           JSR     @R0                     ;
15612 0000285A 0009                   M           NOP                                     ;
15613                             153 I1  
15614                             154 I1  ;;;;;;2014-09-14        MOV.L   #_LINK_PV_ABSPLS,R4             ;
15615                             155 I1  ;;;;;;2014-09-14        MOV.L   @R4+,R1                                 ;
15616                             156 I1  ;;;;;;2014-09-14        MOV.L   @R4,R2                                  ;
15617                             157 I1  
15618 0000285C D40C               158 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
15619 0000285E 5140               159 I1          MOV.L   @(0,R4),R1                              ;
15620 00002860 5241               160 I1          MOV.L   @(4,R4),R2                              ;
15621 00002862 D40C               161 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
15622 00002864 2412               162 I1          MOV.L   R1,@R4                                  ;
15623 00002866 1421               163 I1          MOV.L   R2,@(1*4,R4)                            ;目標位置ｾｯﾄ
15624                             164 I1          FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
15625 00002868 D00B                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15626 0000286A 400B                   M           JSR     @R0                     ;
15627 0000286C 0009                   M           NOP                                     ;
15628                             165 I1          FAR_JSR #_TEP_ADD_PLS_MAK,R0                    ;
15629 0000286E D00B                   M           MOV.L   #_TEP_ADD_PLS_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15630 00002870 400B                   M           JSR     @R0                     ;
15631 00002872 0009                   M           NOP                                     ;
15632                             166 I1  ;       --- 位置データを作らない---- FAR_JSR #_TEP_SV_OBJ_MAK,R0
15633                             167 I1  
15634                             168 I1  
15635                             169 I1          FAR_JSR #_DNDINC_SPD_SET,R4                             ;とりあえずこれは触らない[
                                          ]
15636 00002874 D40A                   M           MOV.L   #_DNDINC_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15637 00002876 440B                   M           JSR     @R4                     ;
15638 00002878 0009                   M           NOP                                     ;
15639                             170 I1  
15640                             171 I1  ;       ---------- 2013-06-05
15641 0000287A 200A               172 I1          XOR     R0,R0                                           ;
15642 0000287C D109               173 I1          MOV.L   #_TEP_CNTSMP_TIM,R1                             ;
15643 0000287E 2101               174 I1          MOV.W   R0,@R1                                          ;
15644 00002880 D109               175 I1          MOV.L   #_TEP_STEP_WTTM,R1                              ;
15645 00002882 2101               176 I1          MOV.W   R0,@R1                                          ;
15646                             177 I1  
15647                             178 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   170
PROGRAM NAME =

15648                             179 I1  
15649                             180 I1  
15650                             181 I1          SUB_END
15651                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15652 00002884 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15653                             182 I1          M_RTS
15654 00002886 000B                   M           RTS                             ;RTSの後ろの
15655 00002888 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15656                             183 I1  
15657                             184 I1  ;       ***********************************
15658                             185 I1  ;       ***                             ***
15659                             186 I1  ;       ***     再起動処理              ***
15660                             187 I1  ;       ***                             ***
15661                             188 I1  ;       ***********************************
15662                             189 I1  ;       <<<<<<<<<<<100msecの速度で動作させる>>>>>>>>>>
15663                             190 I1  ;
15664                                 I1  ***** BEGIN-POOL *****
15665 0000288A 0000                   I1  ALIGNMENT CODE
15666 0000288C 00000000               I1  DATA FOR SOURCE-LINE 152
15667 00002890 00000000               I1  DATA FOR SOURCE-LINE 158
15668 00002894 00000000               I1  DATA FOR SOURCE-LINE 161
15669 00002898 00000000               I1  DATA FOR SOURCE-LINE 164
15670 0000289C 00000000               I1  DATA FOR SOURCE-LINE 165
15671 000028A0 00000000               I1  DATA FOR SOURCE-LINE 169
15672 000028A4 00000000               I1  DATA FOR SOURCE-LINE 173
15673 000028A8 00000000               I1  DATA FOR SOURCE-LINE 175
15674                                 I1  ***** END-POOL *****
15675 000028AC                    191 I1  _INT_TEP_RESTART
15676                             192 I1          SUB_START
15677 000028AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
15678                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15679                             193 I1  
15680                             194 I1  
15681 000028AE 222A               195 I1          XOR     R2,R2
15682 000028B0 D117               196 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
15683 000028B2 2121               197 I1          MOV.W   R2,@R1                          ;
15684                             198 I1  
15685                             199 I1  ;       --------- 2013-06-19 -----------------
15686                             200 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0
15687 000028B4 D017                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15688 000028B6 400B                   M           JSR     @R0                     ;
15689 000028B8 0009                   M           NOP                                     ;
15690                             201 I1  ;;まだ組み込まない      FAR_JSR #_TEP_CPUAB_HAND_CLR,R0         ;
15691                             202 I1  
15692                             203 I1  ;       --------- 2013-06-05 -----------------
15693                             204 I1          FAR_JSR #_TEP_SPD_CALC1,R0                      ;
15694 000028BA D017                   M           MOV.L   #_TEP_SPD_CALC1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15695 000028BC 400B                   M           JSR     @R0                     ;
15696 000028BE 0009                   M           NOP                                     ;
15697                             205 I1          FAR_JSR #_TEP_SPD_SET,R0                        ;
15698 000028C0 D016                   M           MOV.L   #_TEP_SPD_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15699 000028C2 400B                   M           JSR     @R0                     ;
15700 000028C4 0009                   M           NOP                                     ;
15701                             206 I1  
15702                             207 I1  ;;;2013-06-05   FAR_JSR #_DNDINC_SPD_SET,R4             ;
15703                             208 I1  
15704                             209 I1  ;;;;;;  FAR_JSR #_POS_LSI_START_INITAL,R0                                       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   171
PROGRAM NAME =

15705                             210 I1          FAR_JSR #_POS_LSI_START_INITAL_TEP,R0                                   ;2013-06-1
                                          3
15706 000028C6 D016                   M           MOV.L   #_POS_LSI_START_INITAL_TEP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15707 000028C8 400B                   M           JSR     @R0                     ;
15708 000028CA 0009                   M           NOP                                     ;
15709                             211 I1  
15710 000028CC D115               212 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                                         ;目標速度
15711 000028CE 6212               213 I1          MOV.L   @R1,R2                                                          ;
15712                             214 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1                                      ;
15713 000028D0 D115                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15714 000028D2 410B                   M           JSR     @R1                     ;
15715 000028D4 0009                   M           NOP                                     ;
15716                             215 I1          FAR_JSR #_TEP_1STEP_DATA_MAK1,R0                                        ;
15717 000028D6 D015                   M           MOV.L   #_TEP_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15718 000028D8 400B                   M           JSR     @R0                     ;
15719 000028DA 0009                   M           NOP                                     ;
15720                             216 I1  
15721                             217 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0                                        ;
15722 000028DC D014                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15723 000028DE 400B                   M           JSR     @R0                     ;
15724 000028E0 0009                   M           NOP                                     ;
15725                             218 I1          FAR_JSR #_POS_PLSOUT_SET_RETRY,R0                                       ;(停止時か
                                          らの起動の場合のみ有効・安一のみ)
15726 000028E2 D014                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15727 000028E4 400B                   M           JSR     @R0                     ;
15728 000028E6 0009                   M           NOP                                     ;
15729                             219 I1          FAR_JSR #_FWD_REV_START,R1                                              ;起動
15730 000028E8 D113                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15731 000028EA 410B                   M           JSR     @R1                     ;
15732 000028EC 0009                   M           NOP                                     ;
15733                             220 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;
15734 000028EE D113                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
15735 000028F0 6011                   M           MOV.W   @R1,R0          ;
15736 000028F2 CB01                   M           OR      #BIT0,R0                ;
15737 000028F4 2101                   M           MOV.W   R0,@R1          ;
15738                             221 I1          FAR_JSR #_BRK_ERR_WORK_CLR1,R0                                          ;
15739 000028F6 D012                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15740 000028F8 400B                   M           JSR     @R0                     ;
15741 000028FA 0009                   M           NOP                                     ;
15742                             222 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0                                    ;
15743 000028FC D011                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15744 000028FE 400B                   M           JSR     @R0                     ;
15745 00002900 0009                   M           NOP                                     ;
15746                             223 I1          FAR_JSR #_TEP_START_INIT1,R0                                            ;
15747 00002902 D011                   M           MOV.L   #_TEP_START_INIT1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15748 00002904 400B                   M           JSR     @R0                     ;
15749 00002906 0009                   M           NOP                                     ;
15750                             224 I1          SUB_END
15751                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15752 00002908 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15753                             225 I1          M_RTS
15754 0000290A 000B                   M           RTS                             ;RTSの後ろの
15755 0000290C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15756                             226 I1  
15757                             227 I1  
15758                             228 I1  ;;;;;;;;2013-06-05元元未使用    ***********************************
15759                             229 I1  ;;;;;;;;        ***                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   172
PROGRAM NAME =

15760                             230 I1  ;;;;;;;;        ***     再ADD                   ***
15761                             231 I1  ;;;;;;;;        ***                             ***
15762                             232 I1  ;;;;;;;;;       ***********************************
15763                             233 I1  ;;;;;;;;_TEP_ADD_OBJMAK:
15764                             234 I1  ;;;;;;;;        SUB_START
15765                             235 I1  ;;;;;;;;        FAR_JSR #_TEP_1STEP_DATA_MAK1,R0                ;
15766                             236 I1  ;;;;;;;;        FAR_JSR #_POS_LENGTH_ADD_DATA,R0                ;
15767                             237 I1  ;;;;;;;;        FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
15768                             238 I1  ;;;;;;;;        FAR_JSR #_TEP_START_INIT1,R0                    ;
15769                             239 I1  ;;;;;;;;        SUB_END
15770                             240 I1  ;;;;;;;;        M_RTS
15771                             241 I1  
15772                             242 I1  
15773                                 I1  ***** BEGIN-POOL *****
15774 0000290E 0000                   I1  ALIGNMENT CODE
15775 00002910 00000000               I1  DATA FOR SOURCE-LINE 196
15776 00002914 00000000               I1  DATA FOR SOURCE-LINE 200
15777 00002918 00000000               I1  DATA FOR SOURCE-LINE 204
15778 0000291C 00000000               I1  DATA FOR SOURCE-LINE 205
15779 00002920 00000000               I1  DATA FOR SOURCE-LINE 210
15780 00002924 00000000               I1  DATA FOR SOURCE-LINE 212
15781 00002928 00000000               I1  DATA FOR SOURCE-LINE 214
15782 0000292C 00000000               I1  DATA FOR SOURCE-LINE 215
15783 00002930 00000000               I1  DATA FOR SOURCE-LINE 217
15784 00002934 00000000               I1  DATA FOR SOURCE-LINE 218
15785 00002938 00000000               I1  DATA FOR SOURCE-LINE 219
15786 0000293C 00000000               I1  DATA FOR SOURCE-LINE 220
15787 00002940 00000000               I1  DATA FOR SOURCE-LINE 221
15788 00002944 00000000               I1  DATA FOR SOURCE-LINE 222
15789 00002948 00000000               I1  DATA FOR SOURCE-LINE 223
15790                                 I1  ***** END-POOL *****
15791 0000294C                    243 I1  _TEP_START_INIT1
15792                             244 I1          SUB_START
15793 0000294C 4F22                   M           STS.L   PR,@-R15                ;[必要]
15794                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15795                             245 I1  
15796                             246 I1          MEM1_0CLR MEM=_TEP_STEP_FLG,LG=W,WKREG1=R1,CLRREG=R0            ;
15797 0000294E D107                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
15798 00002950 200A                   M           XOR     R0,R0           ;
15799 00002952 2101                   M           MOV.W   R0,@R1  ;
15800                             247 I1          MEM1_0CLR MEM=_TEP_POS_ADD_CNT,LG=L,WKREG1=R1,CLRREG=R0         ;
15801 00002954 D106                   M           MOV.L   #_TEP_POS_ADD_CNT,R1            ;
15802 00002956 200A                   M           XOR     R0,R0           ;
15803 00002958 2102                   M           MOV.L   R0,@R1  ;
15804                             248 I1  ;       2013-06-20
15805                             249 I1          MEM1_0CLR MEM=_TEP_INPLS_FLG,LG=W,WKREG1=R1,CLRREG=R0           ;
15806 0000295A D106                   M           MOV.L   #_TEP_INPLS_FLG,R1              ;
15807 0000295C 200A                   M           XOR     R0,R0           ;
15808 0000295E 2101                   M           MOV.W   R0,@R1  ;
15809                             250 I1  
15810                             251 I1  ;;;;;;;;2013-06-05      MEM1_0CLR MEM=_TEP_POS_ADD_CNTOLD,LG=L,WKREG1=R1,CLRREG=R0      ;
15811                             252 I1  
15812                             253 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0  ;2013-07-19
15813 00002960 D005                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15814 00002962 400B                   M           JSR     @R0                     ;
15815 00002964 0009                   M           NOP                                     ;
15816                             254 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   173
PROGRAM NAME =

15817                             255 I1          SUB_END
15818                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15819 00002966 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15820                             256 I1          M_RTS
15821 00002968 000B                   M           RTS                             ;RTSの後ろの
15822 0000296A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15823                             257 I1  
15824                             258 I1  
15825                             259 I1  ;       *******************************************
15826                             260 I1  ;       ***                                     ***
15827                             261 I1  ;       ***             倍率                    ***
15828                             262 I1  ;       ***                                     ***
15829                             263 I1  ;       *******************************************
15830                             264 I1  ;       Output R2:NEW CUNTER
15831                             265 I1  ;       Output R3:OLD CUNTER
15832                             266 I1  ;       起動時はR2,R3は使用しない
15833                                 I1  ***** BEGIN-POOL *****
15834 0000296C 00000000               I1  DATA FOR SOURCE-LINE 246
15835 00002970 00000000               I1  DATA FOR SOURCE-LINE 247
15836 00002974 00000000               I1  DATA FOR SOURCE-LINE 249
15837 00002978 00000000               I1  DATA FOR SOURCE-LINE 253
15838                                 I1  ***** END-POOL *****
15839 0000297C                    267 I1  _TEP_ADD_PLS_MAK:
15840                             268 I1          SUB_START
15841 0000297C 4F22                   M           STS.L   PR,@-R15                ;[必要]
15842                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15843                             269 I1  
15844                             270 I1  ;       ----------- DIRECT作成 2013-06-20--------
15845 0000297E D415               271 I1          MOV.L   #_TEP_IN_ADD,R4                 ;
15846 00002980 6241               272 I1          MOV.W   @R4,R2                          ;
15847 00002982 2228               273 I1          TST     R2,R2                           ;
15848                             274 I1          TST_BIT_OF TEP_ADD_PLSMK_030            ;
15849 00002984 8907                   M           BT      TEP_ADD_PLSMK_030
15850                             275 I1  
15851 00002986 9021               276 I1          MOV.W   #BIT4,R0                        ;
15852 00002988 4211               277 I1          CMP/PZ  R2
15853 0000298A 8900               278 I1          BT      TEP_ADD_PLSMK_020               ;FWD
15854 0000298C 901F               279 I1          MOV.W   #BIT5,R0                        ;REV
15855 0000298E                    280 I1  TEP_ADD_PLSMK_020:
15856 0000298E D112               281 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
15857 00002990 6211               282 I1          MOV.W   @R1,R2                          ;
15858 00002992 220B               283 I1          OR      R0,R2                           ;
15859 00002994 2121               284 I1          MOV.W   R2,@R1                          ;
15860 00002996                    285 I1  TEP_ADD_PLSMK_030:
15861                             286 I1  ;       -----------------------------------------
15862                             287 I1  
15863                             288 I1  
15864 00002996 D311               289 I1          MOV.L   #_SET1_PLSALO_PLS,R3            ;//パルサ倍率低
15865 00002998 D111               290 I1          MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
15866 0000299A 6011               291 I1          MOV.W   @R1,R0                          ;
15867 0000299C C804               292 I1          TST     #BIT2,R0                        ;0:LOW 1:HIGH
15868                             293 I1          TST_BIT_OF TEP_ADD_PLSMK_050            ;
15869 0000299E 8900                   M           BT      TEP_ADD_PLSMK_050
15870 000029A0 D310               294 I1          MOV.L   #_SET1_PLSAHI_PLS,R3            ;パルサ倍率高
15871 000029A2                    295 I1  TEP_ADD_PLSMK_050:
15872 000029A2 6131               296 I1          MOV.W   @R3,R1                          ;
15873 000029A4 9414               297 I1          MOV.W   #D'1000,R4                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   174
PROGRAM NAME =

15874 000029A6 3412               298 I1          CMP/HS  R1,R4                           ;
15875 000029A8 8900               299 I1          BT      TEP_ADD_PLSMK_100               ;
15876 000029AA 6143               300 I1          MOV     R4,R1                           ;
15877 000029AC                    301 I1  TEP_ADD_PLSMK_100:                              ;
15878 000029AC 2118               302 I1          TST     R1,R1                           ;
15879                             303 I1          TST_BIT_ON TEP_ADD_PLSMK_150            ;
15880 000029AE 8B00                   M           BF      TEP_ADD_PLSMK_150
15881 000029B0 E101               304 I1          MOV     #1,R1                           ;
15882 000029B2                    305 I1  TEP_ADD_PLSMK_150:                              ;
15883                             306 I1  
15884 000029B2 200A               307 I1          XOR     R0,R0
15885 000029B4 D407               308 I1          MOV.L   #_TEP_IN_ADD,R4                 ;
15886 000029B6 6241               309 I1          MOV.W   @R4,R2                          ;
15887 000029B8 2401               310 I1          MOV.W   R0,@R4                          ;0CLR
15888                             311 I1                                                  ;R2
15889                             312 I1  
15890 000029BA 212F               313 I1          MULS.W  R2,R1                           ;
15891 000029BC 021A               314 I1          STS     MACL,R2                         ;
15892 000029BE D10A               315 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;
15893 000029C0 6312               316 I1          MOV.L   @R1,R3                          ;
15894 000029C2 323C               317 I1          ADD     R3,R2                           ;
15895 000029C4 2122               318 I1          MOV.L   R2,@R1                          ;R3:OLD R2:NEW
15896                             319 I1  ;;;;;;;2013-06-05       MOV.L   #_TEP_POS_ADD_CNTOLD,R1         ;[[[[[[[[使用していない]]]
                                          ]]]]]]]]]]]]]
15897                             320 I1  ;;;;;;;2013-06-05       MOV.L   R3,@R1                          ;
15898                             321 I1  
15899                             322 I1          SUB_END
15900                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15901 000029C6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15902                             323 I1          M_RTS
15903 000029C8 000B                   M           RTS                             ;RTSの後ろの
15904 000029CA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15905                             324 I1  
15906                             325 I1  ;       *******************************************
15907                             326 I1  ;       ***                                     ***
15908                             327 I1  ;       ***     位置決め側                      ***
15909                             328 I1  ;       ***     起動時の位置作成                ***
15910                             329 I1  ;       ***     再起動時の位置作成              ***
15911                             330 I1  ;       ***                                     ***
15912                             331 I1  ;       *******************************************
15913                                 I1  ***** BEGIN-POOL *****
15914 000029CC 0010                   I1  DATA FOR SOURCE-LINE 276
15915 000029CE 0020                   I1  DATA FOR SOURCE-LINE 279
15916 000029D0 03E8                   I1  DATA FOR SOURCE-LINE 297
15917 000029D2 0000                   I1  ALIGNMENT CODE
15918 000029D4 00000000               I1  DATA FOR SOURCE-LINE 271,308
15919 000029D8 00000000               I1  DATA FOR SOURCE-LINE 281
15920 000029DC 00000000               I1  DATA FOR SOURCE-LINE 289
15921 000029E0 00000000               I1  DATA FOR SOURCE-LINE 290
15922 000029E4 00000000               I1  DATA FOR SOURCE-LINE 294
15923 000029E8 00000000               I1  DATA FOR SOURCE-LINE 315
15924                                 I1  ***** END-POOL *****
15925 000029EC                    332 I1  _TEP_1STEP_DATA_MAK1:
15926                             333 I1          SUB_START
15927 000029EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
15928                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15929                             334 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   175
PROGRAM NAME =

15930 000029EE D008               335 I1          MOV.L   #_CPOS_CTL_MATH,R0              ;
15931 000029F0 6001               336 I1          MOV.W   @R0,R0                          ;
15932                             337 I1  ;;      TST     #_DMATH_CNTROT,R0               ;
15933 000029F2 C805               338 I1          TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;[2009-10-07下振子]
15934                             339 I1          TST_BIT_ON TEP_1STEP_DATMK1_080         ;
15935 000029F4 8B17                   M           BF      TEP_1STEP_DATMK1_080
15936                             340 I1  
15937                             341 I1          FAR_JSR #_NEG_TEPA_AREA_CHK,R0          ;反転モードのエリア
15938 000029F6 D007                   M           MOV.L   #_NEG_TEPA_AREA_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15939 000029F8 400B                   M           JSR     @R0                     ;
15940 000029FA 0009                   M           NOP                                     ;
15941 000029FC 2008               342 I1          TST     R0,R0                           ;
15942                             343 I1          TST_BIT_OF TEP_1STEP_DATMK1_080         ;+/- OK
15943 000029FE 8912                   M           BT      TEP_1STEP_DATMK1_080
15944                             344 I1  
15945 00002A00 D105               345 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;
15946 00002A02 6212               346 I1          MOV.L   @R1,R2                          ;
15947 00002A04 4211               347 I1          CMP/PZ  R2                              ;
15948 00002A06 8909               348 I1          BT      TEP_1STEP_DATMK1_050            ;
15949                             349 I1  ;       ------ "-" PLS入ってきた----
15950 00002A08 4011               350 I1          CMP/PZ  R0                              ;
15951 00002A0A 8909               351 I1          BT      TEP_1STEP_DATMK1_070            ;+のみ許可
15952                             352 I1          M_BRA   TEP_1STEP_DATMK1_080            ;-:OK
15953 00002A0C A00B                   M           BRA     TEP_1STEP_DATMK1_080
15954 00002A0E 0009                   M           NOP
15955                             353 I1  
15956                             354 I1  ;       ------ + PLS----
15957                                 I1  ***** BEGIN-POOL *****
15958 00002A10 00000000               I1  DATA FOR SOURCE-LINE 335
15959 00002A14 00000000               I1  DATA FOR SOURCE-LINE 341
15960 00002A18 00000000               I1  DATA FOR SOURCE-LINE 345
15961                                 I1  ***** END-POOL *****
15962 00002A1C                    355 I1  TEP_1STEP_DATMK1_050:
15963 00002A1C 4015               356 I1          CMP/PL  R0                              ;"+"OK?
15964 00002A1E 8902               357 I1          BT      TEP_1STEP_DATMK1_080            ;YES OK
15965 00002A20                    358 I1  TEP_1STEP_DATMK1_070:
15966 00002A20 D116               359 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;
15967 00002A22 200A               360 I1          XOR     R0,R0                           ;
15968 00002A24 2102               361 I1          MOV.L   R0,@R1                          ;
15969                             362 I1  
15970                             363 I1  ;       -----------ふりこ・回転の通常　及び反転の位置カット後の処理------------
15971 00002A26                    364 I1  TEP_1STEP_DATMK1_080:
15972 00002A26 D416               365 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;
15973 00002A28 6142               366 I1          MOV.L   @R4,R1                                                  ;
15974 00002A2A 5241               367 I1          MOV.L   @(1*4,R4),R2                                            ;
15975                             368 I1  
15976 00002A2C D013               369 I1          MOV.L   #_TEP_POS_ADD_CNT,R0                                    ;位置決め側使用デ
                                          ータ
15977 00002A2E 6602               370 I1          MOV.L   @R0,R6                                                  ;
15978                             371 I1          EXTS_4B_TO_8B REG8B_H=R5,REG4B=R6                               ;
15979 00002A30 255A                   M           XOR     R5,R5
15980 00002A32 4611                   M           CMP/PZ  R6
15981 00002A34 8900                   M           BT      JMP0100013              ;
15982 00002A36 75FF                   M           ADD     #-1,R5  ;
15983 00002A38                        M   JMP0100013:
15984                                 M   
15985                             372 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   176
PROGRAM NAME =

15986 00002A38 0008                   M           CLRT
15987 00002A3A 326E                   M           ADDC    R6,R2
15988 00002A3C 315E                   M           ADDC    R5,R1
15989                             373 I1  
15990                             374 I1  ;;      ------2007-01-23 LIMIT R1,R2(OBJ) R5,R6(DELT):反転の時---------------
15991                             375 I1  ;;      MOV.L   #_CPOS_CTL_MATH,R0              ;
15992                             376 I1  ;;      MOV.W   @R0,R0                          ;
15993                             377 I1  ;;      TST     #_DMATH_CNTROT,R0               ;
15994                             378 I1  ;;      TST_BIT_ON TEP_1STEP_DATMK1_200         ;
15995                             379 I1  ;;
15996                             380 I1  ;;      --(反転)--
15997                             381 I1  ;;      MOV.L   #_TEP_POS_ADD_CNT,R0            ;位置決め側使用データ
15998                             382 I1  ;;      MOV.L   @R0,R0                          ;
15999                             383 I1  ;;      CMP/PZ  R0                              ;
16000                             384 I1  ;;      BT      TEP_1STEP_DATMK1_100            ;
16001                             385 I1  ;;      ----- MINAS LIMIT -------
16002                             386 I1  ;;
16003                             387 I1  ;;
16004                             388 I1  ;;TEP_1STEP_DATMK1_100:
16005                             389 I1  ;;      ----- PLAS LIMIT -------
16006                             390 I1  ;;
16007                             391 I1  ;;
16008                             392 I1  ;;
16009                             393 I1  ;;
16010                             394 I1  ;;TEP_1STEP_DATMK1_200:
16011 00002A3E D410               395 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;
16012 00002A40 2412               396 I1          MOV.L   R1,@R4                                  ;
16013 00002A42 1421               397 I1          MOV.L   R2,@(1*4,R4)                            ;
16014 00002A44 D40F               398 I1          MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4                ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
16015 00002A46 2412               399 I1          MOV.L   R1,@R4                                  ;
16016 00002A48 1421               400 I1          MOV.L   R2,@(4,R4)                              ;
16017                             401 I1  
16018 00002A4A D40F               402 I1          MOV.L   #_LNGTH_ADD_DATA,R4                     ;//符号付き
16019 00002A4C 2452               403 I1          MOV.L   R5,@R4                                  ;
16020 00002A4E 1461               404 I1          MOV.L   R6,@(4,R4)                              ;
16021                             405 I1  
16022 00002A50 D40E               406 I1          MOV.L   #_LT_LNGTH_ADD_DATA,R4                  ;//符号付き
16023 00002A52 2452               407 I1          MOV.L   R5,@R4                                  ;
16024 00002A54 1461               408 I1          MOV.L   R6,@(4,R4)                              ;
16025                             409 I1  
16026 00002A56 233A               410 I1          XOR     R3,R3                                   ;
16027 00002A58 4511               411 I1          CMP/PZ  R5                                      ;
16028 00002A5A 8900               412 I1          BT      TEP_1STEP_DATMK1_100                    ;
16029 00002A5C 930C               413 I1          MOV.W   #BIT0,R3                                ;
16030 00002A5E                    414 I1  TEP_1STEP_DATMK1_100:
16031 00002A5E D10C               415 I1          MOV.L   #_POS_DRV_DIRECT,R1                     ;起動時(SV-LEVEL)
16032 00002A60 2131               416 I1          MOV.W   R3,@R1                                  ;
16033                             417 I1  
16034 00002A62 D10C               418 I1          MOV.L   #_POSLSI_DRIV_SHIN,R1                   ;
16035 00002A64 6011               419 I1          MOV.W   @R1,R0                                  ;
16036 00002A66 C9FE               420 I1          AND     #LOW ~BIT0,R0                           ;
16037 00002A68 203B               421 I1          OR      R3,R0                                   ;
16038 00002A6A 2101               422 I1          MOV.W   R0,@R1                                  ;
16039                             423 I1  
16040                             424 I1  ;       ---------- 2013-06-20 ------------
16041 00002A6C 200A               425 I1          XOR     R0,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   177
PROGRAM NAME =

16042 00002A6E D10A               426 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
16043 00002A70 2101               427 I1          MOV.W   R0,@R1                          ;
16044                             428 I1  
16045                             429 I1          SUB_END
16046                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16047 00002A72 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16048                             430 I1          M_RTS
16049 00002A74 000B                   M           RTS                             ;RTSの後ろの
16050 00002A76 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16051                             431 I1  
16052                             432 I1  
16053                             433 I1  
16054                             434 I1  ;       *******************************************
16055                             435 I1  ;       ***                                     ***
16056                             436 I1  ;       ***     手動パルサの反転のリミット      ***
16057                             437 I1  ;       ***     2007-01-23                      ***
16058                             438 I1  ;       *******************************************
16059                             439 I1  ;       0~165が動作範囲とする
16060                             440 I1  ;       180~0~165までは+側を受け付ける(=165~180まではﾌﾟﾗｽを受付けない)
16061                             441 I1  ;       0~165~180までは-側を受け付ける(=180~0まではﾏｲﾅｽを受付けない)
16062                             442 I1  ;       実測で0~165の範囲は+/-受け付ける
16063                             443 I1  ;
16064                             444 I1  ;
16065                             445 I1  ;       180
16066                             446 I1  ;
16067                             447 I1  ;
16068                             448 I1  ;
16069                             449 I1  ;
16070                             450 I1  ;       MOV.L   #_INC_LINK_NOWROT_OFSPLS_P,R4                   ;これを使用するか
16071                             451 I1  ;       MOV.L   @R4,R2                                          ;
16072                             452 I1  ;
16073                             453 I1  ;       0(+/-)ok
16074                             454 I1  ;       1(+)ok
16075                             455 I1  ;       -1(-)ok
16076                             456 I1  ;
16077                                 I1  ***** BEGIN-POOL *****
16078 00002A78 0001                   I1  DATA FOR SOURCE-LINE 413
16079 00002A7A 0000                   I1  ALIGNMENT CODE
16080 00002A7C 00000000               I1  DATA FOR SOURCE-LINE 359,369
16081 00002A80 00000000               I1  DATA FOR SOURCE-LINE 365,395
16082 00002A84 00000000               I1  DATA FOR SOURCE-LINE 398
16083 00002A88 00000000               I1  DATA FOR SOURCE-LINE 402
16084 00002A8C 00000000               I1  DATA FOR SOURCE-LINE 406
16085 00002A90 00000000               I1  DATA FOR SOURCE-LINE 415
16086 00002A94 00000000               I1  DATA FOR SOURCE-LINE 418
16087 00002A98 00000000               I1  DATA FOR SOURCE-LINE 426
16088                                 I1  ***** END-POOL *****
16089          00000064           457 I1  _TEP_DNPOS_HIS  .EQU    100     ;10.0度
16090                             458 I1  
16091 00002A9C                    459 I1  _NEG_TEPA_AREA_CHK:
16092                             460 I1          SUB_START
16093 00002A9C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16094                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16095                             461 I1  
16096                             462 I1  
16097 00002A9E D40D               463 I1          MOV.L   #_SETX_UPDN_CHK_DN_DIG,R4       ;180.0度(下死点角度 180.0)
16098 00002AA0 6142               464 I1          MOV.L   @R4,R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   178
PROGRAM NAME =

16099                             465 I1  ;;;;    MOV.L   #_SETX_LINK_UP_POS_DN,R4        ;ﾘﾝｸ(範囲比較)
16100                             466 I1  ;;;;    MOV.W   @R4,R3                          ;待機点-α
16101                             467 I1  
16102 00002AA2 D40D               468 I1          MOV.L   #_SET1_UPAREA_DIG1,R4           ;ﾘﾝｸ(範囲比較)
16103 00002AA4 6341               469 I1          MOV.W   @R4,R3                          ;待機点
16104 00002AA6 D40D               470 I1          MOV.L   #_INC_ENC360,R4                 ;
16105 00002AA8 6241               471 I1          MOV.W   @R4,R2                          ;R1(180)~R3(0)の範囲か？
16106                             472 I1          FAR_JSR #_DIG_AREA_CHK1,R0              ;ANS.R5=1(ﾏｲﾅｽを受け付けない)
16107 00002AAA D00D                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16108 00002AAC 400B                   M           JSR     @R0                     ;
16109 00002AAE 0009                   M           NOP                                     ;
16110 00002AB0 4511               473 I1          CMP/PZ  R5                              ;
16111 00002AB2 891C               474 I1          BT      NEG_TEPA_ARACHK200              ;+のみ可能
16112                             475 I1  
16113                             476 I1  
16114 00002AB4 D40B               477 I1          MOV.L   #_SETX_DNAREA_JG_LNK,R4         ;反転設定不可範囲LINK 度
16115 00002AB6 6142               478 I1          MOV.L   @R4,R1                          ;
16116 00002AB8 D406               479 I1          MOV.L   #_SETX_UPDN_CHK_DN_DIG,R4       ;180.0度(下死点角度 180.0)
16117 00002ABA 6342               480 I1          MOV.L   @R4,R3                          ;
16118 00002ABC 9009               481 I1          MOV.W   #_TEP_DNPOS_HIS,R0              ;10.0
16119 00002ABE 330C               482 I1          ADD     R0,R3                           ;10.0は..
16120 00002AC0 D406               483 I1          MOV.L   #_INC_ENC360,R4                 ;
16121 00002AC2 6241               484 I1          MOV.W   @R4,R2                          ;R1(180)~R3(0)の範囲か？
16122                             485 I1          FAR_JSR #_DIG_AREA_CHK1,R0              ;ANS.R5=1(+受け付けない)
16123 00002AC4 D006                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16124 00002AC6 400B                   M           JSR     @R0                     ;
16125 00002AC8 0009                   M           NOP                                     ;
16126 00002ACA 890D               486 I1          BT      NEG_TEPA_ARACHK100              ;
16127                             487 I1  
16128 00002ACC 200A               488 I1          XOR     R0,R0                           ;
16129                             489 I1          M_BRA   NEG_TEPA_ARACHK300              ;+/- OK
16130 00002ACE A00F                   M           BRA     NEG_TEPA_ARACHK300
16131 00002AD0 0009                   M           NOP
16132                             490 I1  
16133                             491 I1  ;       -------- -を受け付ける=====
16134                                 I1  ***** BEGIN-POOL *****
16135 00002AD2 0064                   I1  DATA FOR SOURCE-LINE 481
16136 00002AD4 00000000               I1  DATA FOR SOURCE-LINE 463,479
16137 00002AD8 00000000               I1  DATA FOR SOURCE-LINE 468
16138 00002ADC 00000000               I1  DATA FOR SOURCE-LINE 470,483
16139 00002AE0 00000000               I1  DATA FOR SOURCE-LINE 472,485
16140 00002AE4 00000000               I1  DATA FOR SOURCE-LINE 477
16141                                 I1  ***** END-POOL *****
16142 00002AE8                    492 I1  NEG_TEPA_ARACHK100:
16143 00002AE8 E0FF               493 I1          MOV     #-1,R0                          ;
16144                             494 I1          M_BRA   NEG_TEPA_ARACHK300              ;
16145 00002AEA A001                   M           BRA     NEG_TEPA_ARACHK300
16146 00002AEC 0009                   M           NOP
16147                             495 I1  
16148                             496 I1  ;       -------- +を受け付ける=====
16149 00002AEE                    497 I1  NEG_TEPA_ARACHK200:
16150 00002AEE E001               498 I1          MOV     #1,R0                           ;
16151 00002AF0                    499 I1  NEG_TEPA_ARACHK300:
16152                             500 I1  
16153                             501 I1  
16154                             502 I1          SUB_END
16155                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   179
PROGRAM NAME =

16156 00002AF0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16157                             503 I1          M_RTS
16158 00002AF2 000B                   M           RTS                             ;RTSの後ろの
16159 00002AF4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16160                             504 I1  
16161                             505 I1  
16162                             506 I1  
16163                             507 I1  ;       ***********************************
16164                             508 I1  ;       ***                             ***
16165                             509 I1  ;       ***     手動パルサフラグ        ***
16166                             510 I1  ;       ***                             ***
16167                             511 I1  ;       ***********************************
16168 00002AF6                    512 I1  _TEP_FLG_CLR
16169                             513 I1          SUB_START
16170 00002AF6 4F22                   M           STS.L   PR,@-R15                ;[必要]
16171                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16172 00002AF8 200A               514 I1          XOR     R0,R0
16173 00002AFA D102               515 I1          MOV.L   #_TEP_MODE_DRV,R1       ;//起動時に判定
16174 00002AFC 2101               516 I1          MOV.W   R0,@R1                  ;
16175                             517 I1          SUB_END
16176                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16177 00002AFE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16178                             518 I1          M_RTS
16179 00002B00 000B                   M           RTS                             ;RTSの後ろの
16180 00002B02 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16181                             519 I1  
16182                                 I1  ***** BEGIN-POOL *****
16183 00002B04 00000000               I1  DATA FOR SOURCE-LINE 515
16184                                 I1  ***** END-POOL *****
16185 00002B08                    520 I1  _TEP_FLG_START
16186                             521 I1          SUB_START
16187 00002B08 4F22                   M           STS.L   PR,@-R15                ;[必要]
16188                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16189 00002B0A 9004               522 I1          MOV.W   #BIT0,R0
16190 00002B0C D102               523 I1          MOV.L   #_TEP_MODE_DRV,R1       ;//起動時に判定
16191 00002B0E 2101               524 I1          MOV.W   R0,@R1                  ;
16192                             525 I1          SUB_END
16193                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16194 00002B10 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16195                             526 I1          M_RTS
16196 00002B12 000B                   M           RTS                             ;RTSの後ろの
16197 00002B14 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16198                             527 I1  
16199                             528 I1  ;       ***********************************
16200                             529 I1  ;       ***                             ***
16201                             530 I1  ;       ***     手動パルサ起動条件      ***
16202                             531 I1  ;       ***     起動=1                  ***
16203                             532 I1  ;       ***                             ***
16204                             533 I1  ;       ***********************************
16205                             534 I1  ;------------ 341.1ON→片手ON→手パの順位に変更する2011-07-04
16206                             535 I1  ;
16207                                 I1  ***** BEGIN-POOL *****
16208 00002B16 0001                   I1  DATA FOR SOURCE-LINE 522
16209 00002B18 00000000               I1  DATA FOR SOURCE-LINE 523
16210                                 I1  ***** END-POOL *****
16211 00002B1C                    536 I1  _TEPA_START_CHK:
16212                             537 I1          SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   180
PROGRAM NAME =

16213 00002B1C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16214                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16215                             538 I1  
16216 00002B1E D10A               539 I1          MOV.L   #_TEPA_PLS_ZERO_TIM,R1          ;2011-07-04手パ時間
16217 00002B20 6011               540 I1          MOV.W   @R1,R0                          ;
16218 00002B22 2008               541 I1          TST     R0,R0                           ;
16219                             542 I1          TST_BIT_ON TEPA_STARTCHK_NG             ;手パが先になった
16220 00002B24 8B0B                   M           BF      TEPA_STARTCHK_NG
16221                             543 I1  
16222 00002B26 D109               544 I1          MOV.L   #_BTTN_FLG,R1                   ;
16223 00002B28 6011               545 I1          MOV.W   @R1,R0                          ;
16224 00002B2A C802               546 I1          TST     #BIT1,R0                        ;
16225                             547 I1          TST_BIT_OF TEPA_STARTCHK_NG             ;
16226 00002B2C 8907                   M           BT      TEPA_STARTCHK_NG
16227                             548 I1  
16228 00002B2E D108               549 I1          MOV.L   #_TEP_IN_ADD,R1                 ;
16229 00002B30 6211               550 I1          MOV.W   @R1,R2                          ;
16230 00002B32 4211               551 I1          CMP/PZ  R2                              ;
16231 00002B34 8900               552 I1          BT      TEPA_STARTCHK_050               ;
16232 00002B36 622B               553 I1          NEG     R2,R2                           ;
16233 00002B38                    554 I1  TEPA_STARTCHK_050:
16234 00002B38 9104               555 I1          MOV.W   #D'1,R1                         ;1で良いか
16235 00002B3A 3213               556 I1          CMP/GE  R1,R2                           ;
16236 00002B3C 890A               557 I1          BT      TEPA_STARTCHK_OK                ;
16237 00002B3E                    558 I1  TEPA_STARTCHK_NG:
16238 00002B3E 200A               559 I1          XOR     R0,R0                           ;
16239                             560 I1          M_BRA   TEPA_STARTCHK_END               ;
16240 00002B40 A00C                   M           BRA     TEPA_STARTCHK_END
16241 00002B42 0009                   M           NOP
16242                             561 I1  
16243                                 I1  ***** BEGIN-POOL *****
16244 00002B44 0001                   I1  DATA FOR SOURCE-LINE 555
16245 00002B46 0000                   I1  ALIGNMENT CODE
16246 00002B48 00000000               I1  DATA FOR SOURCE-LINE 539
16247 00002B4C 00000000               I1  DATA FOR SOURCE-LINE 544
16248 00002B50 00000000               I1  DATA FOR SOURCE-LINE 549
16249                                 I1  ***** END-POOL *****
16250 00002B54                    562 I1  TEPA_STARTCHK_OK:
16251                             563 I1          FAR_JSR #_TEP_FLG_START,R0              ;
16252 00002B54 D003                   M           MOV.L   #_TEP_FLG_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16253 00002B56 400B                   M           JSR     @R0                     ;
16254 00002B58 0009                   M           NOP                                     ;
16255 00002B5A E001               564 I1          MOV     #1,R0                           ;
16256 00002B5C                    565 I1  TEPA_STARTCHK_END:
16257                             566 I1  
16258                             567 I1          SUB_END
16259                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16260 00002B5C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16261                             568 I1          M_RTS
16262 00002B5E 000B                   M           RTS                             ;RTSの後ろの
16263 00002B60 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16264                             569 I1  
16265                             570 I1  ;;;     ------------ 341.1ON→片手ON→手パの順位に変更する2011-07-04
16266                             571 I1  ;;;_TEPA_START_CHK:
16267                             572 I1  ;;;     SUB_START
16268                             573 I1  ;;;
16269                             574 I1  ;;;     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   181
PROGRAM NAME =

16270                             575 I1  ;;;     MOV.W   @R1,R0                          ;
16271                             576 I1  ;;;     TST     #BIT1,R0                        ;
16272                             577 I1  ;;;     TST_BIT_OF TEPA_STARTCHK_NG             ;無効
16273                             578 I1  ;;;
16274                             579 I1  ;;;     MOV.L   #_TEP_IN_ADD,R1                 ;
16275                             580 I1  ;;;     MOV.W   @R1,R2                          ;
16276                             581 I1  ;;;     CMP/PZ  R2                              ;
16277                             582 I1  ;;;     BT      TEPA_STARTCHK_050               ;
16278                             583 I1  ;;;     NEG     R2,R2                           ;
16279                             584 I1  ;;;TEPA_STARTCHK_050:
16280                             585 I1  ;;;     MOV.W   #D'1,R1                         ;1で良いか
16281                             586 I1  ;;;     CMP/GE  R1,R2                           ;
16282                             587 I1  ;;;     BT      TEPA_STARTCHK_OK                ;
16283                             588 I1  ;;;TEPA_STARTCHK_NG:
16284                             589 I1  ;;;     XOR     R0,R0                           ;
16285                             590 I1  ;;;     M_BRA   TEPA_STARTCHK_END               ;
16286                             591 I1  ;;;
16287                             592 I1  ;;;TEPA_STARTCHK_OK:
16288                             593 I1  ;;;     FAR_JSR #_TEP_FLG_START,R0              ;
16289                             594 I1  ;;;     MOV     #1,R0                           ;
16290                             595 I1  ;;;TEPA_STARTCHK_END:
16291                             596 I1  ;;;
16292                             597 I1  ;;;     SUB_END
16293                             598 I1  ;;;     M_RTS
16294                             599 I1  
16295                             600 I1  ;       ***********************************
16296                             601 I1  ;       ***                             ***
16297                             602 I1  ;       ***     手動パルサ遷移時の      ***
16298                             603 I1  ;       ***     パルスクリア            ***
16299                             604 I1  ;       ***                             ***
16300                             605 I1  ;       ***********************************
16301                             606 I1          .IMPORT         _PVP_CPUA_TEPPLS
16302                             607 I1          .IMPORT         _PVP_CPUB_TEPPLS
16303                             608 I1  
16304                                 I1  ***** BEGIN-POOL *****
16305 00002B62 0000                   I1  ALIGNMENT CODE
16306 00002B64 00000000               I1  DATA FOR SOURCE-LINE 563
16307                                 I1  ***** END-POOL *****
16308 00002B68                    609 I1  _TEPA_PLSCNT_CLR
16309                             610 I1          SUB_START
16310 00002B68 4F22                   M           STS.L   PR,@-R15                ;[必要]
16311                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16312                             611 I1  
16313                             612 I1          .AIF    0 EQ    0       ;
16314 00002B6A D106               613 C           MOV.L   #_PVP_CPUA_TEPPLS,R1            ;
16315 00002B6C 6211               614 C           MOV.W   @R1,R2                          ;
16316                             615             .AELSE
16317                             616             MOV.L   #_PVP_CPUB_TEPPLS,R1            ;
16318                             617             MOV.W   @R1,R2                          ;
16319                             618             .AENDI
16320                             619 I1  
16321 00002B6E D106               620 I1          MOV.L   #_NEW_TEP_CNT,R1                ;
16322 00002B70 2121               621 I1          MOV.W   R2,@R1                          ;
16323                             622 I1  
16324 00002B72 222A               623 I1          XOR     R2,R2
16325 00002B74 D105               624 I1          MOV.L   #_TEP_IN_ADD,R1                 ;
16326 00002B76 2121               625 I1          MOV.W   R2,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   182
PROGRAM NAME =

16327                             626 I1  
16328 00002B78 D105               627 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;位置決め側使用データ
16329 00002B7A 2122               628 I1          MOV.L   R2,@R1                          ;
16330                             629 I1  
16331                             630 I1          SUB_END
16332                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16333 00002B7C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16334                             631 I1          M_RTS
16335 00002B7E 000B                   M           RTS                             ;RTSの後ろの
16336 00002B80 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16337                             632 I1  
16338                             633 I1  ;       ***********************************
16339                             634 I1  ;       ***                             ***
16340                             635 I1  ;       ***     手動ﾊﾟﾙｻの増分ﾁｪｯｸ      ***
16341                             636 I1  ;       ***                             ***
16342                             637 I1  ;       ***                             ***
16343                             638 I1  ;       ***********************************
16344                                 I1  ***** BEGIN-POOL *****
16345 00002B82 0000                   I1  ALIGNMENT CODE
16346 00002B84 00000000               I1  DATA FOR SOURCE-LINE 613
16347 00002B88 00000000               I1  DATA FOR SOURCE-LINE 620
16348 00002B8C 00000000               I1  DATA FOR SOURCE-LINE 624
16349 00002B90 00000000               I1  DATA FOR SOURCE-LINE 627
16350                                 I1  ***** END-POOL *****
16351 00002B94                    639 I1  _TEPA_PLSCNT_CHK:
16352                             640 I1          SUB_START
16353 00002B94 4F22                   M           STS.L   PR,@-R15                ;[必要]
16354                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16355                             641 I1  
16356                             642 I1          .AIF    0 EQ    0       ;
16357 00002B96 D10C               643 C           MOV.L   #_PVP_CPUA_TEPPLS,R1            ;
16358 00002B98 6211               644 C           MOV.W   @R1,R2                          ;
16359                             645             .AELSE
16360                             646             MOV.L   #_PVP_CPUB_TEPPLS,R1            ;
16361                             647             MOV.W   @R1,R2                          ;
16362                             648             .AENDI
16363                             649 I1  
16364 00002B9A D10C               650 I1          MOV.L   #_NEW_TEP_CNT,R1                ;
16365 00002B9C 6311               651 I1          MOV.W   @R1,R3                          ;
16366 00002B9E 2121               652 I1          MOV.W   R2,@R1                          ;
16367 00002BA0 3238               653 I1          SUB     R3,R2                           ;
16368 00002BA2 D10B               654 I1          MOV.L   #_TEP_IN_ADD,R1                 ;
16369 00002BA4 2121               655 I1          MOV.W   R2,@R1                          ;
16370                             656 I1  
16371                             657 I1  ;       ------ 2011-07-04 追加　運転釦が先--
16372 00002BA6 2228               658 I1          TST     R2,R2                           ;変化あり?
16373                             659 I1          TST_BIT_OF TEPA_PLSCNTCHK_100           ;
16374 00002BA8 890A                   M           BT      TEPA_PLSCNTCHK_100
16375                             660 I1  
16376 00002BAA D10A               661 I1          MOV.L   #_TEPA_PLS_ZERO_TIM,R1          ;2011-07-04手パ時間
16377 00002BAC 6011               662 I1          MOV.W   @R1,R0                          ;
16378 00002BAE 2008               663 I1          TST     R0,R0
16379                             664 I1          TST_BIT_ON TEPA_PLSCNTCHK_050           ;
16380 00002BB0 8B03                   M           BF      TEPA_PLSCNTCHK_050
16381                             665 I1  
16382 00002BB2 D109               666 I1          MOV.L   #_BTTN_FLG,R1                   ;
16383 00002BB4 6011               667 I1          MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   183
PROGRAM NAME =

16384 00002BB6 C802               668 I1          TST     #BIT1,R0                        ;
16385                             669 I1          TST_BIT_ON TEPA_PLSCNTCHK_100           ;
16386 00002BB8 8B02                   M           BF      TEPA_PLSCNTCHK_100
16387                             670 I1  
16388 00002BBA                    671 I1  TEPA_PLSCNTCHK_050:
16389                             672 I1  
16390 00002BBA 9004               673 I1          MOV.W   #D'51,R0                        ;50*10=0.5秒
16391 00002BBC D105               674 I1          MOV.L   #_TEPA_PLS_ZERO_TIM,R1          ;2011-07-04手パ時間
16392 00002BBE 2101               675 I1          MOV.W   R0,@R1                          ;
16393                             676 I1  
16394 00002BC0                    677 I1  TEPA_PLSCNTCHK_100:
16395                             678 I1  
16396                             679 I1  
16397                             680 I1          SUB_END
16398                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16399 00002BC0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16400                             681 I1          M_RTS
16401 00002BC2 000B                   M           RTS                             ;RTSの後ろの
16402 00002BC4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16403                             682 I1  
16404                             683 I1  
16405                             684 I1  ;       *******************************************
16406                             685 I1  ;       ***                                     ***
16407                             686 I1  ;       ***     2013-05-26                      ***
16408                             687 I1  ;       ***                                     ***
16409                             688 I1  ;       *******************************************
16410                             689 I1  ;       10ﾊﾟﾙｽ,方向無視----→修正必要
16411                                 I1  ***** BEGIN-POOL *****
16412 00002BC6 0033                   I1  DATA FOR SOURCE-LINE 673
16413 00002BC8 00000000               I1  DATA FOR SOURCE-LINE 643
16414 00002BCC 00000000               I1  DATA FOR SOURCE-LINE 650
16415 00002BD0 00000000               I1  DATA FOR SOURCE-LINE 654
16416 00002BD4 00000000               I1  DATA FOR SOURCE-LINE 661,674
16417 00002BD8 00000000               I1  DATA FOR SOURCE-LINE 666
16418                                 I1  ***** END-POOL *****
16419 00002BDC                    690 I1  _TEPA_ADD_LSI:
16420                             691 I1          SUB_START
16421 00002BDC 4F22                   M           STS.L   PR,@-R15                ;[必要]
16422                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16423                             692 I1  
16424                             693 I1  ;;まだ組み込まない .AIF 0 EQ    0       ;
16425                             694 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;[自分のインターロック]
16426                             695 I1  ;;まだ組み込まない .AELSE
16427                             696 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R5    ;
16428                             697 I1  ;;まだ組み込まない .AENDI
16429                             698 I1  
16430 00002BDE D509               699 I1          MOV.L   #_TEP_REVPLS_LT_FLG,R5  ;
16431 00002BE0 6051               700 I1          MOV.W   @R5,R0                          ;
16432 00002BE2 2008               701 I1          TST     R0,R0                           ;
16433                             702 I1          TST_BIT_ON TEPA_ADDLSI_025              ;停止
16434 00002BE4 8B22                   M           BF      TEPA_ADDLSI_025
16435                             703 I1  
16436                             704 I1  ;       ---------- 2013-06-20 ------------
16437 00002BE6 222A               705 I1          XOR     R2,R2
16438 00002BE8 D107               706 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
16439 00002BEA 6011               707 I1          MOV.W   @R1,R0                          ;
16440 00002BEC 2121               708 I1          MOV.W   R2,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   184
PROGRAM NAME =

16441                             709 I1  
16442 00002BEE 2008               710 I1          TST     R0,R0                                   ;
16443                             711 I1          TST_BIT_OF TEPA_ADDLSI_030                      ;
16444 00002BF0 8924                   M           BT      TEPA_ADDLSI_030
16445                             712 I1  
16446 00002BF2 D106               713 I1          MOV.L   #_POS_DRV_DIRECT,R1                     ;起動時(SV-LEVEL)
16447 00002BF4 6211               714 I1          MOV.W   @R1,R2                                  ;
16448 00002BF6 E401               715 I1          MOV.B   #BIT0,R4                                ;
16449 00002BF8 2248               716 I1          TST     R4,R2                                   ;DIRCT +
16450                             717 I1          TST_BIT_ON TEPA_ADDLSI_010                      ;
16451 00002BFA 8B09                   M           BF      TEPA_ADDLSI_010
16452                             718 I1  
16453 00002BFC C820               719 I1          TST     #BIT5,R0                                ;逆転有り?
16454                             720 I1          TST_BIT_ON TEPA_ADDLSI_020                      ;有り
16455 00002BFE 8B0B                   M           BF      TEPA_ADDLSI_020
16456                             721 I1          M_BRA   TEPA_ADDLSI_030                         ;
16457 00002C00 A01C                   M           BRA     TEPA_ADDLSI_030
16458 00002C02 0009                   M           NOP
16459                             722 I1  
16460                             723 I1  
16461                                 I1  ***** BEGIN-POOL *****
16462 00002C04 00000000               I1  DATA FOR SOURCE-LINE 699
16463 00002C08 00000000               I1  DATA FOR SOURCE-LINE 706
16464 00002C0C 00000000               I1  DATA FOR SOURCE-LINE 713
16465                                 I1  ***** END-POOL *****
16466 00002C10                    724 I1  TEPA_ADDLSI_010:
16467 00002C10 C810               725 I1          TST     #BIT4,R0                                ;正転有り?
16468                             726 I1          TST_BIT_ON TEPA_ADDLSI_020                      ;有り
16469 00002C12 8B01                   M           BF      TEPA_ADDLSI_020
16470                             727 I1          M_BRA   TEPA_ADDLSI_030                         ;
16471 00002C14 A012                   M           BRA     TEPA_ADDLSI_030
16472 00002C16 0009                   M           NOP
16473                             728 I1  
16474 00002C18                    729 I1  TEPA_ADDLSI_020:
16475                             730 I1          FAR_JSR #_TEP_SPD_CALC3,R0                      ;
16476 00002C18 D005                   M           MOV.L   #_TEP_SPD_CALC3,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16477 00002C1A 400B                   M           JSR     @R0                     ;
16478 00002C1C 0009                   M           NOP                                     ;
16479                             731 I1          FAR_JSR #_TEP_SPD_SET_CHG,R0                    ;
16480 00002C1E D005                   M           MOV.L   #_TEP_SPD_SET_CHG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16481 00002C20 400B                   M           JSR     @R0                     ;
16482 00002C22 0009                   M           NOP                                     ;
16483                             732 I1  ;;まだ組み込まないFAR_JSR       #_TEP_CPUAB_HAND_STOP,R0                ;2013-06-19
16484                             733 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_REVPLS_LT_FLG,LG=W,BIT=BIT0,WKREG=R1   ;
16485 00002C24 D104                   M           MOV.L   #_TEP_REVPLS_LT_FLG,R1          ;
16486 00002C26 6011                   M           MOV.W   @R1,R0          ;
16487 00002C28 CB01                   M           OR      #BIT0,R0                ;
16488 00002C2A 2101                   M           MOV.W   R0,@R1          ;
16489                             734 I1  
16490 00002C2C                    735 I1  TEPA_ADDLSI_025:
16491                             736 I1          M_BRA   TEPA_ADDLSI_EXT                         ;
16492 00002C2C A02A                   M           BRA     TEPA_ADDLSI_EXT
16493 00002C2E 0009                   M           NOP
16494                             737 I1  
16495                             738 I1  ;       ---------------------------------------------------
16496                                 I1  ***** BEGIN-POOL *****
16497 00002C30 00000000               I1  DATA FOR SOURCE-LINE 730
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   185
PROGRAM NAME =

16498 00002C34 00000000               I1  DATA FOR SOURCE-LINE 731
16499 00002C38 00000000               I1  DATA FOR SOURCE-LINE 733
16500                                 I1  ***** END-POOL *****
16501 00002C3C                    739 I1  TEPA_ADDLSI_030
16502                             740 I1  ;       ----------- 復活 2013-06-05--------
16503 00002C3C D113               741 I1          MOV.L   #_TEP_CNTSMP_TIM,R1             ;
16504 00002C3E 6011               742 I1          MOV.W   @R1,R0                          ;
16505 00002C40 2008               743 I1          TST     R0,R0                           ;
16506                             744 I1          TST_BIT_ON TEPA_ADDLSI_EXT              ;
16507 00002C42 8B1F                   M           BF      TEPA_ADDLSI_EXT
16508                             745 I1  
16509                             746 I1  ;       -----------------------------------
16510 00002C44 D012               747 I1          MOV.L   #_TEP_STEP_SVSMPTM,R0           ;
16511 00002C46 6201               748 I1          MOV.W   @R0,R2                          ;
16512 00002C48 2121               749 I1          MOV.W   R2,@R1                          ;
16513                             750 I1  ;       -----------------------------------
16514 00002C4A D112               751 I1          MOV.L   #_TEP_POS_ADD_CNT,R1                    ;
16515 00002C4C 6012               752 I1          MOV.L   @R1,R0                                  ;
16516 00002C4E 2008               753 I1          TST     R0,R0                                   ;
16517                             754 I1          TST_BIT_OF TEPA_ADDLSI_EXT                      ;
16518 00002C50 8918                   M           BT      TEPA_ADDLSI_EXT
16519                             755 I1  
16520                             756 I1  
16521                             757 I1          FAR_JSR #_LOAD_REST_PLS,R0                                      ;LOAD PLS
16522 00002C52 D011                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16523 00002C54 400B                   M           JSR     @R0                     ;
16524 00002C56 0009                   M           NOP                                     ;
16525                             758 I1  
16526 00002C58 D110               759 I1          MOV.L   #_TEP_ADDCHK_SVPLS,R1                                   ;SYS_PARA 10PLS
16527 00002C5A 6411               760 I1          MOV.W   @R1,R4
16528                             761 I1  
16529 00002C5C 3406               762 I1          CMP/HI  R0,R4                                                   ;10pls以下 R0<10
16530 00002C5E 8911               763 I1          BT      TEPA_ADDLSI_EXT                                         ;"二重回路HAND対象
                                          "
16531                             764 I1                                                                          ;難しい
16532                             765 I1  
16533                             766 I1  ;       ---------パルス加算処理 2013-06-05 --------------
16534                             767 I1          FAR_JSR #_TEP_SPD_CALC2,R0                      ;
16535 00002C60 D00F                   M           MOV.L   #_TEP_SPD_CALC2,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16536 00002C62 400B                   M           JSR     @R0                     ;
16537 00002C64 0009                   M           NOP                                     ;
16538                             768 I1          FAR_JSR #_TEP_SPD_SET_CHG,R0                    ;
16539 00002C66 D00F                   M           MOV.L   #_TEP_SPD_SET_CHG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16540 00002C68 400B                   M           JSR     @R0                     ;
16541 00002C6A 0009                   M           NOP                                     ;
16542                             769 I1  
16543                             770 I1          FAR_JSR #_TEP_1STEP_DATA_MAK1,R0                ;CNT=0 CLR,目標変更
16544 00002C6C D00E                   M           MOV.L   #_TEP_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16545 00002C6E 400B                   M           JSR     @R0                     ;
16546 00002C70 0009                   M           NOP                                     ;
16547                             771 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0                ;
16548 00002C72 D00E                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16549 00002C74 400B                   M           JSR     @R0                     ;
16550 00002C76 0009                   M           NOP                                     ;
16551                             772 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
16552 00002C78 D00D                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16553 00002C7A 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   186
PROGRAM NAME =

16554 00002C7C 0009                   M           NOP                                     ;
16555                             773 I1  
16556 00002C7E 200A               774 I1          XOR     R0,R0
16557 00002C80 D104               775 I1          MOV.L   #_TEP_POS_ADD_CNT,R1
16558 00002C82 2102               776 I1          MOV.L   R0,@R1
16559                             777 I1  
16560                             778 I1  
16561 00002C84                    779 I1  TEPA_ADDLSI_EXT:
16562                             780 I1  
16563                             781 I1          SUB_END
16564                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16565 00002C84 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16566                             782 I1          M_RTS
16567 00002C86 000B                   M           RTS                             ;RTSの後ろの
16568 00002C88 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16569                             783 I1  
16570                             784 I1  ;       ***********************************
16571                             785 I1  ;       ***                             ***
16572                             786 I1  ;       ***     初起動時のエリア作成    ***
16573                             787 I1  ;       ***                             ***
16574                             788 I1  ;       ***********************************
16575                             789 I1  ;;2013-05-26 _DNDTEP_STEP_MAKE:
16576                             790 I1  ;;2013-05-26    SUB_START
16577                             791 I1  ;;2013-05-26    SUB_END
16578                             792 I1  ;;2013-05-26    M_RTS
16579                             793 I1  
16580                             794 I1  ;       ***********************************
16581                             795 I1  ;       ***                             ***
16582                             796 I1  ;       ***     工程からの目標位置作成  ***
16583                             797 I1  ;       ***                             ***
16584                             798 I1  ;       ***********************************
16585                             799 I1  ;;2013-05-26_DNDTEP_MAKE_OBJPOS:
16586                             800 I1  ;;2013-05-26    SUB_START
16587                             801 I1  ;;2013-05-26
16588                             802 I1  ;;2013-05-26
16589                             803 I1  ;;2013-05-26    SUB_END
16590                             804 I1  ;;2013-05-26    M_RTS
16591                             805 I1  
16592                                 I1  ***** BEGIN-POOL *****
16593 00002C8A 0000                   I1  ALIGNMENT CODE
16594 00002C8C 00000000               I1  DATA FOR SOURCE-LINE 741
16595 00002C90 00000000               I1  DATA FOR SOURCE-LINE 747
16596 00002C94 00000000               I1  DATA FOR SOURCE-LINE 751,775
16597 00002C98 00000000               I1  DATA FOR SOURCE-LINE 757
16598 00002C9C 00000000               I1  DATA FOR SOURCE-LINE 759
16599 00002CA0 00000000               I1  DATA FOR SOURCE-LINE 767
16600 00002CA4 00000000               I1  DATA FOR SOURCE-LINE 768
16601 00002CA8 00000000               I1  DATA FOR SOURCE-LINE 770
16602 00002CAC 00000000               I1  DATA FOR SOURCE-LINE 771
16603 00002CB0 00000000               I1  DATA FOR SOURCE-LINE 772
16604                                 I1  ***** END-POOL *****
16605 00002CB4                    806 I1  _TEP_SPD_CALC1:
16606                             807 I1          SUB_START
16607 00002CB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
16608                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16609 00002CB6 D306               808 I1          MOV.L   #_TEP_STEP_SVWTTM1,R3   ;//2013-06-05
16610 00002CB8 6431               809 I1          MOV.W   @R3,R4                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   187
PROGRAM NAME =

16611                             810 I1          FAR_JSR #_TEP_SPD_CALC_COM,R0   ;ANS=TEP1
16612 00002CBA D006                   M           MOV.L   #_TEP_SPD_CALC_COM,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16613 00002CBC 400B                   M           JSR     @R0                     ;
16614 00002CBE 0009                   M           NOP                                     ;
16615                             811 I1  
16616 00002CC0 D105               812 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;起動時はSPD1,SPD2とも同じ速度
16617 00002CC2 6212               813 I1          MOV.L   @R1,R2                  ;
16618 00002CC4 D105               814 I1          MOV.L   #_TEP_CHG_SPD2,R1       ;
16619 00002CC6 2122               815 I1          MOV.L   R2,@R1                  ;SPD2が実際に使用する速度
16620                             816 I1  
16621                             817 I1          SUB_END
16622                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16623 00002CC8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16624                             818 I1          M_RTS
16625 00002CCA 000B                   M           RTS                             ;RTSの後ろの
16626 00002CCC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16627                             819 I1  
16628                                 I1  ***** BEGIN-POOL *****
16629 00002CCE 0000                   I1  ALIGNMENT CODE
16630 00002CD0 00000000               I1  DATA FOR SOURCE-LINE 808
16631 00002CD4 00000000               I1  DATA FOR SOURCE-LINE 810
16632 00002CD8 00000000               I1  DATA FOR SOURCE-LINE 812
16633 00002CDC 00000000               I1  DATA FOR SOURCE-LINE 814
16634                                 I1  ***** END-POOL *****
16635 00002CE0                    820 I1  _TEP_SPD_CALC2:
16636                             821 I1          SUB_START
16637 00002CE0 4F22                   M           STS.L   PR,@-R15                ;[必要]
16638                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16639                             822 I1  
16640 00002CE2 D106               823 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;起動時はSPD1,SPD2とも同じ速度
16641 00002CE4 6212               824 I1          MOV.L   @R1,R2                  ;
16642 00002CE6 D106               825 I1          MOV.L   #_TEP_CHG_SPD2,R1       ;
16643 00002CE8 2122               826 I1          MOV.L   R2,@R1                  ;SPD2が実際に使用する速度
16644                             827 I1  
16645 00002CEA D306               828 I1          MOV.L   #_TEP_STEP_SVSMPTM,R3
16646 00002CEC 6431               829 I1          MOV.W   @R3,R4                  ;
16647                             830 I1          FAR_JSR #_TEP_SPD_CALC_COM,R0   ;
16648 00002CEE D006                   M           MOV.L   #_TEP_SPD_CALC_COM,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16649 00002CF0 400B                   M           JSR     @R0                     ;
16650 00002CF2 0009                   M           NOP                                     ;
16651                             831 I1          SUB_END
16652                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16653 00002CF4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16654                             832 I1          M_RTS
16655 00002CF6 000B                   M           RTS                             ;RTSの後ろの
16656 00002CF8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16657                             833 I1  
16658                             834 I1  
16659                                 I1  ***** BEGIN-POOL *****
16660 00002CFA 0000                   I1  ALIGNMENT CODE
16661 00002CFC 00000000               I1  DATA FOR SOURCE-LINE 823
16662 00002D00 00000000               I1  DATA FOR SOURCE-LINE 825
16663 00002D04 00000000               I1  DATA FOR SOURCE-LINE 828
16664 00002D08 00000000               I1  DATA FOR SOURCE-LINE 830
16665                                 I1  ***** END-POOL *****
16666 00002D0C                    835 I1  _TEP_SPD_CALC_COM
16667                             836 I1          SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   188
PROGRAM NAME =

16668 00002D0C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16669                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16670                             837 I1  
16671 00002D0E D30E               838 I1          MOV.L   #_TEP_POS_ADD_CNT,R3            ;
16672 00002D10 6232               839 I1          MOV.L   @R3,R2                          ;
16673 00002D12 4211               840 I1          CMP/PZ  R2
16674 00002D14 8900               841 I1          BT      TEP_SPD_CALCCOM_100                     ;
16675 00002D16 622B               842 I1          NEG     R2,R2                                   ;
16676 00002D18                    843 I1  TEP_SPD_CALCCOM_100
16677                             844 I1  
16678 00002D18 9114               845 I1          MOV.W   #D'1000,R1                              ;
16679                             846 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;10PLS:100msec
16680 00002D1A D00C                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16681 00002D1C 400B                   M           JSR     @R0                     ;
16682 00002D1E 0009                   M           NOP                                     ;
16683                             847 I1  
16684 00002D20 2228               848 I1          TST     R2,R2                                   ;
16685                             849 I1          TST_BIT_ON TEP_SPD_CALCCOM_200                  ;
16686 00002D22 8B00                   M           BF      TEP_SPD_CALCCOM_200
16687 00002D24 920F               850 I1          MOV.W   #1,R2                                   ;
16688 00002D26                    851 I1  TEP_SPD_CALCCOM_200
16689                             852 I1  
16690                             853 I1  
16691 00002D26 D10A               854 I1          MOV.L   #_SET1_DNDINC_SPD1,R1   ;
16692 00002D28 6312               855 I1          MOV.L   @R1,R3                  ;
16693                             856 I1  
16694                             857 I1  ;       -----------MAX LIMIT----------
16695 00002D2A 3322               858 I1          CMP/HS  R2,R3
16696 00002D2C 8900               859 I1          BT      TEP_SPD_CALCCOM_300
16697 00002D2E 6233               860 I1          MOV     R3,R2                   ;
16698 00002D30                    861 I1  TEP_SPD_CALCCOM_300
16699                             862 I1  
16700                             863 I1  
16701                             864 I1  ;       ---------- MIN LIMIT -------------
16702 00002D30 D108               865 I1          MOV.L   #_TEP_MIN_SPD_PLS,R1    ;
16703 00002D32 6312               866 I1          MOV.L   @R1,R3                  ;PLS/S
16704                             867 I1  
16705 00002D34 3232               868 I1          CMP/HS  R3,R2
16706 00002D36 8900               869 I1          BT      TEP_SPD_CALCCOM_400
16707 00002D38 6233               870 I1          MOV     R3,R2                   ;
16708 00002D3A                    871 I1  TEP_SPD_CALCCOM_400
16709                             872 I1  
16710 00002D3A D107               873 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;
16711 00002D3C 2122               874 I1          MOV.L   R2,@R1                  ;
16712                             875 I1  
16713                             876 I1          SUB_END
16714                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16715 00002D3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16716                             877 I1          M_RTS
16717 00002D40 000B                   M           RTS                             ;RTSの後ろの
16718 00002D42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16719                             878 I1  
16720                             879 I1  ;       -----------------------------------
16721                                 I1  ***** BEGIN-POOL *****
16722 00002D44 03E8                   I1  DATA FOR SOURCE-LINE 845
16723 00002D46 0001                   I1  DATA FOR SOURCE-LINE 850
16724 00002D48 00000000               I1  DATA FOR SOURCE-LINE 838
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   189
PROGRAM NAME =

16725 00002D4C 00000000               I1  DATA FOR SOURCE-LINE 846
16726 00002D50 00000000               I1  DATA FOR SOURCE-LINE 854
16727 00002D54 00000000               I1  DATA FOR SOURCE-LINE 865
16728 00002D58 00000000               I1  DATA FOR SOURCE-LINE 873
16729                                 I1  ***** END-POOL *****
16730 00002D5C                    880 I1  _TEP_SPD_CALC3:
16731                             881 I1          SUB_START
16732 00002D5C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16733                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16734 00002D5E D104               882 I1          MOV.L   #_SET1_DNDINC_SPD1,R1   ;
16735 00002D60 6212               883 I1          MOV.L   @R1,R2                  ;
16736 00002D62 D104               884 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;
16737 00002D64 2122               885 I1          MOV.L   R2,@R1                  ;
16738 00002D66 D104               886 I1          MOV.L   #_TEP_CHG_SPD2,R1       ;
16739 00002D68 2122               887 I1          MOV.L   R2,@R1                  ;
16740                             888 I1          SUB_END
16741                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16742 00002D6A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16743                             889 I1          M_RTS
16744 00002D6C 000B                   M           RTS                             ;RTSの後ろの
16745 00002D6E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16746                             890 I1  
16747                             891 I1  
16748                             892 I1  
16749                                 I1  ***** BEGIN-POOL *****
16750 00002D70 00000000               I1  DATA FOR SOURCE-LINE 882
16751 00002D74 00000000               I1  DATA FOR SOURCE-LINE 884
16752 00002D78 00000000               I1  DATA FOR SOURCE-LINE 886
16753                                 I1  ***** END-POOL *****
16754 00002D7C                    893 I1  _TEP_SPD_SET:
16755                             894 I1          SUB_START
16756 00002D7C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16757                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16758                             895 I1  
16759 00002D7E D103               896 I1          MOV.L   #_TEP_CHG_SPD1,R1                       ;
16760 00002D80 6212               897 I1          MOV.L   @R1,R2                                  ;
16761                             898 I1  
16762 00002D82 D103               899 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                 ;//目標速度
16763 00002D84 2122               900 I1          MOV.L   R2,@R1                                  ;
16764                             901 I1  
16765                             902 I1          SUB_END
16766                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16767 00002D86 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16768                             903 I1          M_RTS
16769 00002D88 000B                   M           RTS                             ;RTSの後ろの
16770 00002D8A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16771                             904 I1  
16772                                 I1  ***** BEGIN-POOL *****
16773 00002D8C 00000000               I1  DATA FOR SOURCE-LINE 896
16774 00002D90 00000000               I1  DATA FOR SOURCE-LINE 899
16775                                 I1  ***** END-POOL *****
16776 00002D94                    905 I1  _TEP_SPD_SET_CHG:
16777                             906 I1          SUB_START
16778 00002D94 4F22                   M           STS.L   PR,@-R15                ;[必要]
16779                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16780                             907 I1  
16781                             908 I1  ;;;;    MOV.L   #_TEP_CHG_SPD1,R1                       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   190
PROGRAM NAME =

16782                             909 I1  ;;;;    MOV.L   @R1,R2                                  ;
16783                             910 I1  
16784 00002D96 D105               911 I1          MOV.L   #_TEP_CHG_SPD2,R1                       ;
16785 00002D98 6212               912 I1          MOV.L   @R1,R2                                  ;
16786                             913 I1  
16787 00002D9A D105               914 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                 ;//目標速度
16788 00002D9C 2122               915 I1          MOV.L   R2,@R1                                  ;
16789                             916 I1  
16790                             917 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SETX,R1             ;input R2
16791 00002D9E D105                   M           MOV.L   #_POS_LSI_TOP_SPEED_SETX,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16792 00002DA0 410B                   M           JSR     @R1                     ;
16793 00002DA2 0009                   M           NOP                                     ;
16794                             918 I1  
16795                             919 I1          SUB_END
16796                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16797 00002DA4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16798                             920 I1          M_RTS
16799 00002DA6 000B                   M           RTS                             ;RTSの後ろの
16800 00002DA8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16801                             921 I1  
16802                             922 I1  
16803                             923 I1  
16804                             924 I1  
16805                             925 I1  ;       ***************************************************
16806                             926 I1  ;       ***                                             ***
16807                             927 I1  ;       ***                                             ***
16808                             928 I1  ;       ***                                             ***
16809                             929 I1  ;       ***                                             ***
16810                             930 I1  ;       ***************************************************
16811                             931 I1          .EXPORT _TEP_DTMAK
16812                                 I1  ***** BEGIN-POOL *****
16813 00002DAA 0000                   I1  ALIGNMENT CODE
16814 00002DAC 00000000               I1  DATA FOR SOURCE-LINE 911
16815 00002DB0 00000000               I1  DATA FOR SOURCE-LINE 914
16816 00002DB4 00000000               I1  DATA FOR SOURCE-LINE 917
16817                                 I1  ***** END-POOL *****
16818 00002DB8                    932 I1  _TEP_DTMAK:
16819                             933 I1          SUB_START
16820 00002DB8 4F22                   M           STS.L   PR,@-R15                ;[必要]
16821                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16822                             934 I1  
16823                             935 I1  ;       ------------------------------------
16824 00002DBA D117               936 I1          MOV.L   #(_PAR_TEP_BEFPLS-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
16825 00002DBC 6411               937 I1          MOV.W   @R1,R4                                                  ;
16826 00002DBE 9027               938 I1          MOV.W   #D'10,R0                                                ;MIN PLS
16827 00002DC0 3402               939 I1          CMP/HS  R0,R4                                                   ;R4(10PLS)=< R0
16828 00002DC2 8900               940 I1          BT      TEP_SYS_SET080                                          ;
16829 00002DC4 6403               941 I1          MOV     R0,R4                                                   ;
16830 00002DC6                    942 I1  TEP_SYS_SET080:
16831 00002DC6 D115               943 I1          MOV.L   #_TEP_ADDCHK_SVPLS,R1
16832 00002DC8 2141               944 I1          MOV.W   R4,@R1
16833                             945 I1  
16834                             946 I1  ;       --------------2013-06-05 -----------
16835 00002DCA 9222               947 I1          MOV.W   #D'100,R2                                               ;DEF 100msec
16836 00002DCC D114               948 I1          MOV.L   #(_PAR_TEP_WATTIM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
16837 00002DCE 6011               949 I1          MOV.W   @R1,R0                                                  ;
16838 00002DD0 2008               950 I1          TST     R0,R0                                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   191
PROGRAM NAME =

16839                             951 I1          TST_BIT_OF TEP_SYS_SET100                                       ;
16840 00002DD2 8900                   M           BT      TEP_SYS_SET100
16841 00002DD4 6203               952 I1          MOV     R0,R2                                                   ;
16842 00002DD6                    953 I1  TEP_SYS_SET100:
16843 00002DD6 D113               954 I1          MOV.L   #_TEP_STEP_SVWTTM1,R1   ;//2013-06-05
16844 00002DD8 2121               955 I1          MOV.W   R2,@R1                  ;
16845                             956 I1  
16846 00002DDA D112               957 I1          MOV.L   #_TEP_STEP_SVWTTM1,R1   ;//2013-06-05
16847 00002DDC 6211               958 I1          MOV.W   @R1,R2                  ;
16848 00002DDE 4201               959 I1          SHLR    R2                      ;
16849 00002DE0 D111               960 I1          MOV.L   #_TEP_STEP_SVSMPTM,R1   ;
16850 00002DE2 2121               961 I1          MOV.W   R2,@R1                  ;1/2時間
16851                             962 I1  
16852                             963 I1  ;       ---------- 最小速度兼自起動速度
16853 00002DE4 D111               964 I1          MOV.L   #(_PAR_TEP_MINSPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
16854 00002DE6 6211               965 I1          MOV.W   @R1,R2                                                  ;
16855 00002DE8 2228               966 I1          TST     R2,R2                                                   ;
16856                             967 I1          TST_BIT_ON TEP_SYS_SET200                                       ;
16857 00002DEA 8B00                   M           BF      TEP_SYS_SET200
16858 00002DEC 9212               968 I1          MOV.W   #1,R2                                                   ;0.01%
16859 00002DEE                    969 I1  TEP_SYS_SET200:                                                         ;
16860                             970 I1          FAR_JSR #_CYCLE_SPD1,R0                                         ;
16861 00002DEE D010                   M           MOV.L   #_CYCLE_SPD1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16862 00002DF0 400B                   M           JSR     @R0                     ;
16863 00002DF2 0009                   M           NOP                                     ;
16864 00002DF4 D10F               971 I1          MOV.L   #_TEP_MIN_SPD_PLS,R1                                    ;
16865 00002DF6 2122               972 I1          MOV.L   R2,@R1                                                  ;PLS/S
16866                             973 I1  
16867 00002DF8 D00F               974 I1          MOV.L   #_POS_LSI_SPDMAX,R0                             ;
16868 00002DFA 6102               975 I1          MOV.L   @R0,R1                                          ;
16869 00002DFC D00F               976 I1          MOV.L   #_POS_FRQ_SPDMAX,R0                             ;500KHZ(500000PLS/S)
16870 00002DFE 6402               977 I1          MOV.L   @R0,R4                                          ;
16871                             978 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
16872 00002E00 D00F                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16873 00002E02 400B                   M           JSR     @R0                     ;
16874 00002E04 0009                   M           NOP                                     ;
16875 00002E06 D10F               979 I1          MOV.L   #_TEP_MIN_SPD_FRQ,R1                            ;//自起動速度
16876 00002E08 2122               980 I1          MOV.L   R2,@R1                                          ;
16877                             981 I1  
16878                             982 I1  
16879                             983 I1          SUB_END
16880                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16881 00002E0A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16882                             984 I1          M_RTS
16883 00002E0C 000B                   M           RTS                             ;RTSの後ろの
16884 00002E0E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16885                             985 I1  
16886                             986 I1  ;
16887                             987 I1  ;;まだ組み込まない_TEP_CPUAB_HAND
16888                             988 I1  ;;まだ組み込まない      SUB_START
16889                             989 I1  ;;まだ組み込まない      XOR     R0,R0
16890                             990 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;
16891                             991 I1  ;;まだ組み込まない      MOV.W   @R5,R1                  ;
16892                             992 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R6    ;
16893                             993 I1  ;;まだ組み込まない      MOV.W   @R6,R2                  ;
16894                             994 I1  ;;まだ組み込まない      CMP/EQ  R1,R2                   ;
16895                             995 I1  ;;まだ組み込まない      BF      TEP_CPUAB_HDEXT         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   192
PROGRAM NAME =

16896                             996 I1  ;;まだ組み込まない      MOV.B   #BIT0,R0                        ;
16897                             997 I1  ;;まだ組み込まないTEP_CPUAB_HDEXT
16898                             998 I1  ;;まだ組み込まない
16899                             999 I1  ;;まだ組み込まない      SUB_END
16900                            1000 I1  ;;まだ組み込まない      M_RTS
16901                            1001 I1  
16902                            1002 I1  ;;まだ組み込まない_TEP_CPUAB_HAND_CLR
16903                            1003 I1  ;;まだ組み込まない      SUB_START
16904                            1004 I1  ;;まだ組み込まない      XOR     R0,R0
16905                            1005 I1  ;;まだ組み込まない
16906                            1006 I1  ;;まだ組み込まない .AIF 0 EQ    0       ;
16907                            1007 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;
16908                            1008 I1  ;;まだ組み込まない .AELSE
16909                            1009 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R5    ;
16910                            1010 I1  ;;まだ組み込まない .AENDI
16911                            1011 I1  ;;まだ組み込まない      MOV.W   R0,@R5
16912                            1012 I1  ;;まだ組み込まない
16913                            1013 I1  ;;まだ組み込まない      SUB_END
16914                            1014 I1  ;;まだ組み込まない      M_RTS
16915                            1015 I1  
16916                            1016 I1  
16917                            1017 I1  ;*******************************************
16918                            1018 I1  
16919                            1019 I1  ;;まだ組み込まない_TEP_CPUAB_HAND_STOP
16920                            1020 I1  ;;まだ組み込まない      SUB_START
16921                            1021 I1  ;;まだ組み込まない      MOV.B   #BIT0,R0                ;
16922                            1022 I1  ;;まだ組み込まない
16923                            1023 I1  ;;まだ組み込まない .AIF 0 EQ    0       ;
16924                            1024 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;
16925                            1025 I1  ;;まだ組み込まない .AELSE
16926                            1026 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R5    ;
16927                            1027 I1  ;;まだ組み込まない .AENDI
16928                            1028 I1  ;;まだ組み込まない      MOV.W   R0,@R5
16929                            1029 I1  ;;まだ組み込まない
16930                            1030 I1  ;;まだ組み込まない      SUB_END
16931                            1031 I1  ;;まだ組み込まない      M_RTS
16932                            1032 I1  
16933                            1033 I1  
16934                            1034 I1  ;       *******************************************
16935                            1035 I1  ;       ***                                     ***
16936                            1036 I1  ;       ***     停止させる信号のクリア          ***
16937                            1037 I1  ;       ***                                     ***
16938                            1038 I1  ;       *******************************************
16939                            1039 I1  ;
16940                                 I1  ***** BEGIN-POOL *****
16941 00002E10 000A                   I1  DATA FOR SOURCE-LINE 938
16942 00002E12 0064                   I1  DATA FOR SOURCE-LINE 947
16943 00002E14 0001                   I1  DATA FOR SOURCE-LINE 968
16944 00002E16 0000                   I1  ALIGNMENT CODE
16945 00002E18 00000000               I1  DATA FOR SOURCE-LINE 936
16946 00002E1C 00000000               I1  DATA FOR SOURCE-LINE 943
16947 00002E20 00000000               I1  DATA FOR SOURCE-LINE 948
16948 00002E24 00000000               I1  DATA FOR SOURCE-LINE 954,957
16949 00002E28 00000000               I1  DATA FOR SOURCE-LINE 960
16950 00002E2C 00000000               I1  DATA FOR SOURCE-LINE 964
16951 00002E30 00000000               I1  DATA FOR SOURCE-LINE 970
16952 00002E34 00000000               I1  DATA FOR SOURCE-LINE 971
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   193
PROGRAM NAME =

16953 00002E38 00000000               I1  DATA FOR SOURCE-LINE 974
16954 00002E3C 00000000               I1  DATA FOR SOURCE-LINE 976
16955 00002E40 00000000               I1  DATA FOR SOURCE-LINE 978
16956 00002E44 00000000               I1  DATA FOR SOURCE-LINE 979
16957                                 I1  ***** END-POOL *****
16958 00002E48                   1040 I1  _TEP_REVPLS_LT_CLR
16959                            1041 I1          SUB_START
16960 00002E48 4F22                   M           STS.L   PR,@-R15                ;[必要]
16961                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16962 00002E4A 200A              1042 I1          XOR     R0,R0                   ;
16963 00002E4C D102              1043 I1          MOV.L   #_TEP_REVPLS_LT_FLG,R1  ;
16964 00002E4E 2101              1044 I1          MOV.W   R0,@R1                  ;
16965                            1045 I1          SUB_END
16966                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16967 00002E50 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16968                            1046 I1          M_RTS
16969 00002E52 000B                   M           RTS                             ;RTSの後ろの
16970 00002E54 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16971                            1047 I1  
16972                            1048 I1  ;       *******************************************
16973                            1049 I1  ;       ***                                     ***
16974                            1050 I1  ;       ***     Input R2                        ***
16975                            1051 I1  ;       ***     ﾘﾝｸ(内部制御)ﾊﾟﾙｽ               ***
16976                            1052 I1  ;       ***     Input R0 DIRECT                 ***
16977                            1053 I1  ;       ***     方向固定                        ***
16978                            1054 I1  ;       ***                                     ***
16979                            1055 I1  ;       *******************************************
16980                            1056 I1  ;       MOV.L   #_SETX_DNAREA_JG_PLS,R4                 ;反転設定不可範囲LINK-PLS
16981                            1057 I1  ;       MOV.L   @R4,R2                                  ;
16982                            1058 I1  ;
16983                            1059 I1  
16984                            5196     
16985                            5197     
16986                            5198     
16987                            5199     
16988                            5200     
16989                            5201     ;       ***********************************
16990                            5202     ;       ***                             ***
16991                            5203     ;       ***     目標位置→LENGTH        ***
16992                            5204     ;       ***                             ***
16993                            5205     ;       ***********************************
16994                            5206     ;       Input R1,R2(目標位置)
16995                            5207     ;       Output R1,R2
16996                                     ***** BEGIN-POOL *****
16997 00002E56 0000                       ALIGNMENT CODE
16998 00002E58 00000000                   DATA FOR SOURCE-LINE 1043
16999                                     ***** END-POOL *****
17000 00002E5C                   5208             .ALIGN  4                               ;
17001 00002E5C                   5209     _LENGH_ADD_CALC:
17002                            5210             SUB_START
17003 00002E5C 4F22                   M           STS.L   PR,@-R15                ;[必要]
17004                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17005 00002E5E D50B              5211             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
17006 00002E60 2512              5212             MOV.L   R1,@R5                          ;
17007 00002E62 1521              5213             MOV.L   R2,@(4,R5)                      ;
17008                            5214     
17009                            5215     ;       ===2004-12-20 ===================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   194
PROGRAM NAME =

17010                            5216             PUSH_REG1 R5
17011 00002E64 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
17012                                 M                                           ;REG=>[SP]
17013                                 M                                           ;"-4" FF,FF,FF,FC
17014 00002E66 D50A              5217             MOV.L   #_LINKX_SV_OBJ_ABSPLS,R5        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
17015 00002E68 2512              5218             MOV.L   R1,@R5                          ;
17016 00002E6A 1521              5219             MOV.L   R2,@(4,R5)                      ;
17017                            5220             POP_REG1 R5
17018                                 M                                   ; RE"+4" 00,00,00,04
17019 00002E6C 65F6                   M           MOV.L   @R15+,R5        ;
17020                            5221     ;       =================================
17021                            5222     
17022                            5223     ;;;;2014-09-12ﾃﾞﾝｼﾞｬﾗｽか?       MOV.L   #_LINK_PV_ABSPLS,R4             ;(ﾌﾙｸﾛｰｽﾞ時は対象
                                          を変える)
17023 00002E6E D409              5224             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4         ;2014-09-14
17024 00002E70 6546              5225             MOV.L   @R4+,R5                         ;
17025 00002E72 6642              5226             MOV.L   @R4,R6                          ;
17026                            5227             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
17027 00002E74 0008                   M           CLRT
17028 00002E76 326A                   M           SUBC    R6,R2
17029 00002E78 315A                   M           SUBC    R5,R1
17030 00002E7A D407              5228             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
17031 00002E7C 2412              5229             MOV.L   R1,@R4                          ;
17032 00002E7E 1421              5230             MOV.L   R2,@(4,R4)                      ;
17033                            5231     
17034                            5232     ;       ==== MONITOR 2004-01-28 ====
17035 00002E80 D406              5233             MOV.L   #_LT_LNGTH_ADD_DATA,R4  ;//符号付き
17036 00002E82 2412              5234             MOV.L   R1,@R4                          ;
17037 00002E84 1421              5235             MOV.L   R2,@(4,R4)                      ;
17038                            5236     
17039                            5237     
17040                            5238     
17041                            5239             SUB_END
17042                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17043 00002E86 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17044                            5240             M_RTS
17045 00002E88 000B                   M           RTS                             ;RTSの後ろの
17046 00002E8A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17047                            5241     
17048                                     ***** BEGIN-POOL *****
17049 00002E8C 00000000                   DATA FOR SOURCE-LINE 5211
17050 00002E90 00000000                   DATA FOR SOURCE-LINE 5217
17051 00002E94 00000000                   DATA FOR SOURCE-LINE 5224
17052 00002E98 00000000                   DATA FOR SOURCE-LINE 5228
17053 00002E9C 00000000                   DATA FOR SOURCE-LINE 5233
17054                                     ***** END-POOL *****
17055 00002EA0                   5242             .ALIGN  4                               ;
17056 00002EA0                   5243     _LENGH_ADD_CALC_SV_TYPE:
17057                            5244             SUB_START
17058 00002EA0 4F22                   M           STS.L   PR,@-R15                ;[必要]
17059                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17060 00002EA2 D40B              5245             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
17061 00002EA4 6542              5246             MOV.L   @R4,R5                          ;OLD_LOAD
17062 00002EA6 5641              5247             MOV.L   @(4,R4),R6                      ;
17063 00002EA8 2412              5248             MOV.L   R1,@R4                          ;
17064 00002EAA 1421              5249             MOV.L   R2,@(4,R4)                      ;NEW SAVE
17065                            5250     ;       ===2004-12-20 ===================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   195
PROGRAM NAME =

17066                            5251             PUSH_REG1 R4
17067 00002EAC 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
17068                                 M                                           ;REG=>[SP]
17069                                 M                                           ;"-4" FF,FF,FF,FC
17070 00002EAE D409              5252             MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
17071 00002EB0 2412              5253             MOV.L   R1,@R4                          ;
17072 00002EB2 1421              5254             MOV.L   R2,@(4,R4)                      ;
17073                            5255             POP_REG1 R4
17074                                 M                                   ; RE"+4" 00,00,00,04
17075 00002EB4 64F6                   M           MOV.L   @R15+,R4        ;
17076                            5256     ;       =================================
17077                            5257     
17078                            5258             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
17079 00002EB6 0008                   M           CLRT
17080 00002EB8 326A                   M           SUBC    R6,R2
17081 00002EBA 315A                   M           SUBC    R5,R1
17082 00002EBC D406              5259             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
17083 00002EBE 2412              5260             MOV.L   R1,@R4                          ;
17084 00002EC0 1421              5261             MOV.L   R2,@(4,R4)                      ;
17085                            5262     ;       ==== MONITOR 2004-01-28 ====
17086 00002EC2 D406              5263             MOV.L   #_LT_LNGTH_ADD_DATA,R4  ;//符号付き
17087 00002EC4 2412              5264             MOV.L   R1,@R4                          ;
17088 00002EC6 1421              5265             MOV.L   R2,@(4,R4)                      ;
17089                            5266     
17090                            5267             SUB_END
17091                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17092 00002EC8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17093                            5268             M_RTS
17094 00002ECA 000B                   M           RTS                             ;RTSの後ろの
17095 00002ECC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17096                            5269     
17097                            5270     ;       ===== BANK LENGTH ADD ====
17098                                     ***** BEGIN-POOL *****
17099 00002ECE 0000                       ALIGNMENT CODE
17100 00002ED0 00000000                   DATA FOR SOURCE-LINE 5245
17101 00002ED4 00000000                   DATA FOR SOURCE-LINE 5252
17102 00002ED8 00000000                   DATA FOR SOURCE-LINE 5259
17103 00002EDC 00000000                   DATA FOR SOURCE-LINE 5263
17104                                     ***** END-POOL *****
17105 00002EE0                   5271             .ALIGN  4                               ;
17106 00002EE0                   5272     _BANK_LENGH_ADD_CALC_SV_TYPE:
17107                            5273             SUB_START
17108 00002EE0 4F22                   M           STS.L   PR,@-R15                ;[必要]
17109                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17110 00002EE2 D40B              5274             MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
17111 00002EE4 6542              5275             MOV.L   @R4,R5                          ;OLD_LOAD
17112 00002EE6 5641              5276             MOV.L   @(4,R4),R6                      ;
17113 00002EE8 2412              5277             MOV.L   R1,@R4                          ;
17114 00002EEA 1421              5278             MOV.L   R2,@(4,R4)                      ;NEW SAVE
17115                            5279             PUSH_REG1 R4
17116 00002EEC 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
17117                                 M                                           ;REG=>[SP]
17118                                 M                                           ;"-4" FF,FF,FF,FC
17119 00002EEE D409              5280             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
17120 00002EF0 2412              5281             MOV.L   R1,@R4                          ;
17121 00002EF2 1421              5282             MOV.L   R2,@(4,R4)                      ;
17122                            5283             POP_REG1 R4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   196
PROGRAM NAME =

17123                                 M                                   ; RE"+4" 00,00,00,04
17124 00002EF4 64F6                   M           MOV.L   @R15+,R4        ;
17125                            5284     
17126                            5285     
17127                            5286     
17128                            5287             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
17129 00002EF6 0008                   M           CLRT
17130 00002EF8 326A                   M           SUBC    R6,R2
17131 00002EFA 315A                   M           SUBC    R5,R1
17132 00002EFC D406              5288             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
17133 00002EFE 2412              5289             MOV.L   R1,@R4                          ;
17134 00002F00 1421              5290             MOV.L   R2,@(4,R4)                      ;
17135                            5291     ;       ==== MONITOR 2004-01-28 ====
17136 00002F02 D406              5292             MOV.L   #_LT_LNGTH_ADD_DATA,R4  ;//符号付き
17137 00002F04 2412              5293             MOV.L   R1,@R4                          ;
17138 00002F06 1421              5294             MOV.L   R2,@(4,R4)                      ;
17139                            5295     
17140                            5296             SUB_END
17141                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17142 00002F08 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17143                            5297             M_RTS
17144 00002F0A 000B                   M           RTS                             ;RTSの後ろの
17145 00002F0C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17146                            5298     
17147                            5299     
17148                            5300     ;       ***********************************
17149                            5301     ;       ***     STOP MEM CLR            ***
17150                            5302     ;       ***********************************
17151                                     ***** BEGIN-POOL *****
17152 00002F0E 0000                       ALIGNMENT CODE
17153 00002F10 00000000                   DATA FOR SOURCE-LINE 5274
17154 00002F14 00000000                   DATA FOR SOURCE-LINE 5280
17155 00002F18 00000000                   DATA FOR SOURCE-LINE 5288
17156 00002F1C 00000000                   DATA FOR SOURCE-LINE 5292
17157                                     ***** END-POOL *****
17158 00002F20                   5303             .ALIGN  4                               ;
17159 00002F20                   5304     _POS_LSI_WORK_STOP_CLR:
17160                            5305             SUB_START
17161 00002F20 4F22                   M           STS.L   PR,@-R15                ;[必要]
17162                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17163                            5306     
17164 00002F22 200A              5307             XOR     R0,R0
17165 00002F24 D105              5308             MOV.L   #_LNGTH_TOTAL_OUTPLS,R1                         ;//符号つき TOTAL=TOTAL+AD
                                          D ADD_DATA<=0
17166 00002F26 2102              5309             MOV.L   R0,@R1                                          ;
17167 00002F28 1101              5310             MOV.L   R0,@(4,R1)                                      ;
17168 00002F2A D105              5311             MOV.L   #_LNGTH_ADD_DATA,R1                             ;//符号付き
17169 00002F2C 2102              5312             MOV.L   R0,@R1                                          ;
17170 00002F2E 1101              5313             MOV.L   R0,@(4,R1)                                      ;
17171 00002F30 D104              5314             MOV.L   #_OUTPLS_MOD,R1                                 ;
17172 00002F32 2102              5315             MOV.L   R0,@R1                                          ;
17173                            5316     
17174                            5317             SUB_END
17175                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17176 00002F34 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17177                            5318             M_RTS
17178 00002F36 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   197
PROGRAM NAME =

17179 00002F38 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17180                            5319     
17181                            5320     ;       *******************************************
17182                            5321     ;       ***                                     ***
17183                            5322     ;       *******************************************
17184                                     ***** BEGIN-POOL *****
17185 00002F3A 0000                       ALIGNMENT CODE
17186 00002F3C 00000000                   DATA FOR SOURCE-LINE 5308
17187 00002F40 00000000                   DATA FOR SOURCE-LINE 5311
17188 00002F44 00000000                   DATA FOR SOURCE-LINE 5314
17189                                     ***** END-POOL *****
17190 00002F48                   5323             .ALIGN  4                               ;
17191 00002F48                   5324     _POS_LSI_WORK_STOP2;
17192                            5325             SUB_START
17193 00002F48 4F22                   M           STS.L   PR,@-R15                ;[必要]
17194                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17195                            5326             FAR_JSR #_OutputPLS_REG_CLR,R0          ;
17196 00002F4A D004                   M           MOV.L   #_OutputPLS_REG_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17197 00002F4C 400B                   M           JSR     @R0                     ;
17198 00002F4E 0009                   M           NOP                                     ;
17199 00002F50 200A              5327             XOR     R0,R0                           ;
17200 00002F52 D103              5328             MOV.L   #_POSLSI_CMP_DATA,R1            ;//CMP_DATA=CMP_DATA+|ADD_DATA| (符号なし)
17201 00002F54 2102              5329             MOV.L   R0,@R1                          ;
17202                            5330             SUB_END
17203                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17204 00002F56 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17205                            5331             M_RTS
17206 00002F58 000B                   M           RTS                             ;RTSの後ろの
17207 00002F5A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17208                            5332     ;       ***********************************
17209                            5333     ;       ***                             ***
17210                            5334     ;       ***                             ***
17211                            5335     ;       ***                             ***
17212                            5336     ;       ***********************************
17213                                     ***** BEGIN-POOL *****
17214 00002F5C 00000000                   DATA FOR SOURCE-LINE 5326
17215 00002F60 00000000                   DATA FOR SOURCE-LINE 5328
17216                                     ***** END-POOL *****
17217 00002F64                   5337             .ALIGN  4
17218 00002F64                   5338     _EMG_POS_FLG_PROC:
17219                            5339             SUB_START
17220 00002F64 4F22                   M           STS.L   PR,@-R15                ;[必要]
17221                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17222                            5340             FAR_JSR #_CYC_END_POS_FLG_CLR,R0        ;
17223 00002F66 D015                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17224 00002F68 400B                   M           JSR     @R0                     ;
17225 00002F6A 0009                   M           NOP                                     ;
17226                            5341     
17227 00002F6C 9024              5342             MOV.W   #BIT6,R0                        ;位置決め完了
17228 00002F6E D114              5343             MOV.L   #_INT_CYC_DRV_STS,R1            ;//BIT0=1(終了:ﾃﾞｰﾀ保証あり)
17229 00002F70 2101              5344             MOV.W   R0,@R1                          ;
17230                            5345     
17231 00002F72 D114              5346             MOV.L   #_MNWR_POS_CMD,R1               ;ﾊﾟﾙｽ払出即停止
17232 00002F74 200A              5347             XOR     R0,R0                           ;
17233 00002F76 2101              5348             MOV.W   R0,@R1                          ;
17234                            5349     
17235                            5350     ;;      .AIF    1 EQ 1  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   198
PROGRAM NAME =

17236                            5351     ;;      .AENDI
17237 00002F78 200A              5352             XOR     R0,R0
17238 00002F7A D113              5353             MOV.L   #_INT_DND_NEG_STEP,R1           ;//2003-01-27 1 EQ 1    ;
17239 00002F7C 2101              5354             MOV.W   R0,@R1                          ;
17240 00002F7E D113              5355             MOV.L   #_DNDINC_CTRL_STEP,R1           ;2006-07-28
17241 00002F80 2101              5356             MOV.W   R0,@R1                          ;
17242                            5357     
17243                            5358             FAR_JSR #_FWD_REV_STSIG_OFF,R0          ;
17244 00002F82 D013                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17245 00002F84 400B                   M           JSR     @R0                     ;
17246 00002F86 0009                   M           NOP                                     ;
17247                            5359             FAR_JSR #_POS_LSI_EMG_STOP,R0           ;急停止
17248 00002F88 D012                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17249 00002F8A 400B                   M           JSR     @R0                     ;
17250 00002F8C 0009                   M           NOP                                     ;
17251                            5360     
17252                            5361     ;       ---     [2009-10-07下振子]      ---
17253                            5362             FAR_JSR #_DNM_DATA_CLR,R0                       ;
17254 00002F8E D012                   M           MOV.L   #_DNM_DATA_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17255 00002F90 400B                   M           JSR     @R0                     ;
17256 00002F92 0009                   M           NOP                                     ;
17257                            5363     
17258                            5364     ;       ------------寸動からの上限指令 2013-02-15--
17259 00002F94 200A              5365             XOR     R0,R0                   ;
17260 00002F96 D111              5366             MOV.L   #_UPLIMIT_START_F,R1    ;//BIT0:寸動からの指令
17261 00002F98 2101              5367             MOV.W   R0,@R1                  ;
17262                            5368     
17263                            5369     ;       ------------ 2013-07-13
17264                            5370             FAR_JSR #_EXQ_POS_FLG_PROC,R0
17265 00002F9A D011                   M           MOV.L   #_EXQ_POS_FLG_PROC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17266 00002F9C 400B                   M           JSR     @R0                     ;
17267 00002F9E 0009                   M           NOP                                     ;
17268                            5371     
17269                            5372     ;       --------- 2013-07-18
17270 00002FA0 200A              5373             XOR     R0,R0
17271 00002FA2 D110              5374             MOV.L   #_POSCTL_CALC_ERR,R1                    ;BIT0:起動時
17272 00002FA4 2101              5375             MOV.W   R0,@R1                                  ;
17273                            5376     
17274                            5377     ;       --------- 2014-09-22 繰返---------------
17275                            5378             FAR_JSR #_MOT_REP_CLR,R0
17276 00002FA6 D010                   M           MOV.L   #_MOT_REP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17277 00002FA8 400B                   M           JSR     @R0                     ;
17278 00002FAA 0009                   M           NOP                                     ;
17279                            5379     
17280                            5380     ;       -------2021-11-11[]-------
17281                            5381             FAR_JSR #_DND_NEG_START_FLG_CLR,R0
17282 00002FAC D00F                   M           MOV.L   #_DND_NEG_START_FLG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17283 00002FAE 400B                   M           JSR     @R0                     ;
17284 00002FB0 0009                   M           NOP                                     ;
17285                            5382     
17286                            5383             SUB_END
17287                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17288 00002FB2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17289                            5384             M_RTS
17290 00002FB4 000B                   M           RTS                             ;RTSの後ろの
17291 00002FB6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17292                            5385     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   199
PROGRAM NAME =

17293                            5386     
17294                                     ***** BEGIN-POOL *****
17295 00002FB8 0040                       DATA FOR SOURCE-LINE 5342
17296 00002FBA 0000                       ALIGNMENT CODE
17297 00002FBC 00000000                   DATA FOR SOURCE-LINE 5340
17298 00002FC0 00000000                   DATA FOR SOURCE-LINE 5343
17299 00002FC4 00000000                   DATA FOR SOURCE-LINE 5346
17300 00002FC8 00000000                   DATA FOR SOURCE-LINE 5353
17301 00002FCC 00000000                   DATA FOR SOURCE-LINE 5355
17302 00002FD0 00000000                   DATA FOR SOURCE-LINE 5358
17303 00002FD4 00000000                   DATA FOR SOURCE-LINE 5359
17304 00002FD8 00000000                   DATA FOR SOURCE-LINE 5362
17305 00002FDC 00000000                   DATA FOR SOURCE-LINE 5366
17306 00002FE0 00000000                   DATA FOR SOURCE-LINE 5370
17307 00002FE4 00000000                   DATA FOR SOURCE-LINE 5374
17308 00002FE8 00000000                   DATA FOR SOURCE-LINE 5378
17309 00002FEC 00000000                   DATA FOR SOURCE-LINE 5381
17310                                     ***** END-POOL *****
17311 00002FF0                   5387             .ALIGN  4
17312 00002FF0                   5388     _EXQ_POS_FLG_PROC:
17313                            5389             SUB_START
17314 00002FF0 4F22                   M           STS.L   PR,@-R15                ;[必要]
17315                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17316                            5390     
17317 00002FF2 D11A              5391             MOV.L   #_MNWR_POS_CMD,R1       ;ﾊﾟﾙｽ払出即停止
17318 00002FF4 200A              5392             XOR     R0,R0                   ;
17319 00002FF6 2101              5393             MOV.W   R0,@R1                  ;
17320                            5394             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
17321 00002FF8 D019                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17322 00002FFA 400B                   M           JSR     @R0                     ;
17323 00002FFC 0009                   M           NOP                                     ;
17324                            5395             FAR_JSR #_POS_LSI_EMG_STOP,R0                   ;急停止
17325 00002FFE D019                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17326 00003000 400B                   M           JSR     @R0                     ;
17327 00003002 0009                   M           NOP                                     ;
17328                            5396     
17329                            5397     ;       ==========================
17330 00003004 200A              5398             XOR     R0,R0                           ;
17331 00003006 D118              5399             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
17332 00003008 2101              5400             MOV.W   R0,@R1                          ;
17333                            5401     
17334 0000300A 200A              5402             XOR     R0,R0                           ;
17335                            5403             REG_MOV_TO_MEM  DST_ADR=_POS_LSI_ACS_ERR_FLG1   ,L1=W,DT_REG=R0,WKREG1=R1       ;L
                                          SI異常
17336 0000300C D117                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1       ;DST_ADR
17337 0000300E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
17338                            5404             REG_MOV_TO_MEM  DST_ADR=_POS_CALC_ERR_FLG1      ,L1=W,DT_REG=R0,WKREG1=R1       ;
17339 00003010 D117                   M           MOV.L   #_POS_CALC_ERR_FLG1,R1  ;DST_ADR
17340 00003012 2101                   M           MOV.W   R0,@R1  ;DST_ADR
17341                            5405             REG_MOV_TO_MEM  DST_ADR=_POS_CALC_ERR_FLG2      ,L1=W,DT_REG=R0,WKREG1=R1       ;
17342 00003014 D117                   M           MOV.L   #_POS_CALC_ERR_FLG2,R1  ;DST_ADR
17343 00003016 2101                   M           MOV.W   R0,@R1  ;DST_ADR
17344                            5406     
17345                            5407             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0
17346 00003018 D017                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17347 0000301A 400B                   M           JSR     @R0                     ;
17348 0000301C 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   200
PROGRAM NAME =

17349                            5408     
17350                            5409             .AIF    0 EQ    0
17351                            5410 C   
17352                            5411 C           FAR_JSR #_VIB_PLS_OUT_OF,R0     ;2010-08-23加振動制御
17353 0000301E D017                   M           MOV.L   #_VIB_PLS_OUT_OF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17354 00003020 400B                   M           JSR     @R0                     ;
17355 00003022 0009                   M           NOP                                     ;
17356                            5412             .AENDI
17357                            5413     
17358                            5414     
17359                            5415             .AIF    0 EQ    0
17360                            5416 C           FAR_JSR #_API_IVW_CYC_END,R0                    ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
17361 00003024 D016                   M           MOV.L   #_API_IVW_CYC_END,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17362 00003026 400B                   M           JSR     @R0                     ;
17363 00003028 0009                   M           NOP                                     ;
17364                            5417             .AENDI
17365                            5418     
17366                            5419     ;       -2012-05-30 反転
17367                            5420             FAR_JSR #_FULCLS_MAXOVER_CLR,R0
17368 0000302A D016                   M           MOV.L   #_FULCLS_MAXOVER_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17369 0000302C 400B                   M           JSR     @R0                     ;
17370 0000302E 0009                   M           NOP                                     ;
17371                            5421     
17372                            5422     ;       ----------- 荷重行程変更ｸﾘｱ-----------------
17373                            5423             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
17374                            5424 C           FAR_JSR #_FCLS_KJYU_STEPCHG_CLR,R0      ;2015-03-15[R01:2014-03-20]
17375 00003030 D015                   M           MOV.L   #_FCLS_KJYU_STEPCHG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17376 00003032 400B                   M           JSR     @R0                     ;
17377 00003034 0009                   M           NOP                                     ;
17378                            5425 C           FAR_JSR #_KAJYU_ELSE_STS_CLR,R0         ;
17379 00003036 D015                   M           MOV.L   #_KAJYU_ELSE_STS_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17380 00003038 400B                   M           JSR     @R0                     ;
17381 0000303A 0009                   M           NOP                                     ;
17382                            5426             .AENDI
17383                            5427     
17384                            5428     ;       --------- 2013-07-18
17385 0000303C 200A              5429             XOR     R0,R0
17386 0000303E D114              5430             MOV.L   #_POSCTL_CALC_ERR,R1                    ;BIT0:起動時
17387 00003040 2101              5431             MOV.W   R0,@R1                                  ;
17388                            5432     
17389                            5433             FAR_JSR #_PRESET_PV_FLGCLR,R0           ;2014-09-14 異常が発生した
17390 00003042 D014                   M           MOV.L   #_PRESET_PV_FLGCLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17391 00003044 400B                   M           JSR     @R0                     ;
17392 00003046 0009                   M           NOP                                     ;
17393                            5434     
17394                            5435     ;       -------- 2015-09-06(2015-07-14)-----------
17395                            5436     ;;;     _BRK_SADOU_CHG EQ 1
17396                            5437             FAR_JSR #_POS_END_MYUTIG_TIMER_CLR,R0
17397 00003048 D013                   M           MOV.L   #_POS_END_MYUTIG_TIMER_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17398 0000304A 400B                   M           JSR     @R0                     ;
17399 0000304C 0009                   M           NOP                                     ;
17400                            5438     
17401                            5439     ;       ------- 2015-11-17 -----------------------
17402                            5440     ;2016-04-18     FAR_JSR #_API_ACCLW_DRV_STOP,R0
17403                            5441             FAR_JSR #_API_ACC_MATHED_COM_DRV_STOP,R0        ;2016-04-18
17404 0000304E D013                   M           MOV.L   #_API_ACC_MATHED_COM_DRV_STOP,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17405 00003050 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   201
PROGRAM NAME =

17406 00003052 0009                   M           NOP                                     ;
17407                            5442     
17408                            5443             SUB_END
17409                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17410 00003054 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17411                            5444             M_RTS
17412 00003056 000B                   M           RTS                             ;RTSの後ろの
17413 00003058 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17414                            5445     
17415                            5446     ;       ***********************************
17416                            5447     ;       ***                             ***
17417                            5448     ;       ***     ﾜｰｸﾌﾗｸﾞ関係ｸﾘｱ          ***
17418                            5449     ;       ***                             ***
17419                            5450     ;       ***********************************
17420                            5451     ;       1ｻｲｸﾙ終了時
17421                                     ***** BEGIN-POOL *****
17422 0000305A 0000                       ALIGNMENT CODE
17423 0000305C 00000000                   DATA FOR SOURCE-LINE 5391
17424 00003060 00000000                   DATA FOR SOURCE-LINE 5394
17425 00003064 00000000                   DATA FOR SOURCE-LINE 5395
17426 00003068 00000000                   DATA FOR SOURCE-LINE 5399
17427 0000306C 00000000                   DATA FOR SOURCE-LINE 5403
17428 00003070 00000000                   DATA FOR SOURCE-LINE 5404
17429 00003074 00000000                   DATA FOR SOURCE-LINE 5405
17430 00003078 00000000                   DATA FOR SOURCE-LINE 5407
17431 0000307C 00000000                   DATA FOR SOURCE-LINE 5411
17432 00003080 00000000                   DATA FOR SOURCE-LINE 5416
17433 00003084 00000000                   DATA FOR SOURCE-LINE 5420
17434 00003088 00000000                   DATA FOR SOURCE-LINE 5424
17435 0000308C 00000000                   DATA FOR SOURCE-LINE 5425
17436 00003090 00000000                   DATA FOR SOURCE-LINE 5430
17437 00003094 00000000                   DATA FOR SOURCE-LINE 5433
17438 00003098 00000000                   DATA FOR SOURCE-LINE 5437
17439 0000309C 00000000                   DATA FOR SOURCE-LINE 5441
17440                                     ***** END-POOL *****
17441 000030A0                   5452             .ALIGN  4
17442                            5453             .EXPORT _CYC_END_POS_FLG_CLR            ;2016-04-18
17443 000030A0                   5454     _CYC_END_POS_FLG_CLR:
17444                            5455             SUB_START
17445 000030A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
17446                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17447 000030A2 200A              5456             XOR     R0,R0                           ;
17448 000030A4 D102              5457             MOV.L   #_SV_POS_CTL_STEP,R1            ;
17449 000030A6 2101              5458             MOV.W   R0,@R1                          ;
17450                            5459     
17451                            5460     
17452                            5461             SUB_END
17453                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17454 000030A8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17455                            5462             M_RTS
17456 000030AA 000B                   M           RTS                             ;RTSの後ろの
17457 000030AC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17458                            5463     ;       ***********************************
17459                            5464     ;       ***                             ***
17460                            5465     ;       ***     ﾜｰｸﾌﾗｸﾞ関係SET          ***
17461                            5466     ;       ***                             ***
17462                            5467     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   202
PROGRAM NAME =

17463                            5468     ;       1ｻｲｸﾙ終了時     CYCL=BIT0,SV_STEP=0
17464                            5469     ;       非常停止復帰時  CYCL=0  ,SV_STEP=0
17465                                     ***** BEGIN-POOL *****
17466 000030AE 0000                       ALIGNMENT CODE
17467 000030B0 00000000                   DATA FOR SOURCE-LINE 5457
17468                                     ***** END-POOL *****
17469 000030B4                   5470             .ALIGN  4                               ;
17470 000030B4                   5471     _CYC_END_POS_FLG_SET:
17471                            5472             SUB_START
17472 000030B4 4F22                   M           STS.L   PR,@-R15                ;[必要]
17473                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17474                            5473             MEM1_DATA_SET MEM=_INT_CYC_DRV_STS,LG=W,DATA=(BIT6+BIT0),WKREG1=R1,WKREG2=R2    ;ｻ
                                          ｲｸﾙｴﾝﾄﾞ(次回運転まで有効)
17475 000030B6 D103                   M           MOV.L   #_INT_CYC_DRV_STS,R1            ;
17476 000030B8 9203                   M           MOV.W   #(BIT6+BIT0),R2         ;
17477 000030BA 2121                   M           MOV.W   R2,@R1  ;
17478                            5474             SUB_END
17479                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17480 000030BC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17481                            5475             M_RTS
17482 000030BE 000B                   M           RTS                             ;RTSの後ろの
17483 000030C0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17484                            5476     
17485                            5477     ;       ***************************************************
17486                            5478     ;       ***                                             ***
17487                            5479     ;       ***                                             ***
17488                            5480     ;       ***                                             ***
17489                            5481     ;       ***             位置決めＬＳＩアクセス          ***
17490                            5482     ;       ***                                             ***
17491                            5483     ;       ***                                             ***
17492                            5484     ;       ***                                             ***
17493                            5485     ;       ***************************************************
17494                            5486     ;       ?加減速時間の演算と指令周波数の演算
17495                            5487     ;       P27の指令ﾊﾟﾙｽREGのADDとP39の正確な位置決めができませんはなに？
17496                            5488     ;       "_poslsi1_top"
17497                            5489     ;       *ﾊﾟﾙｽ列の払い出しは指令ﾊﾟﾙｽｶｳﾝﾀの減算量
17498                            5490     ;       *速度周波数の演算
17499                            5491     ;       *ベース周波数=1?
17500                            5492     ;       *加速時間
17501                            5493     ;       *急停止の時間
17502                            5494     ;       ***********************************
17503                            5495     ;       ***                             ***
17504                            5496     ;       ***     ﾊｰﾄﾞｳｴｱｲﾆｼｬﾙ            ***
17505                            5497     ;       ***                             ***
17506                            5498     ;       ***********************************
17507                            5499     ;       25MHZ*1/N*1/LATE=65535
17508                            5500     
17509                            5501             .EXPORT _POS_LSI_HARD_INITAL
17510                            5502             .EXPORT _POS_LSI_DATA_INITAL
17511                            5503     
17512                            5504             .MACRO  POS_LSI_CMD_WR ADR_REG,DAT_REG
17513                            5505             SWAP.W  \DAT_REG,\DAT_REG                               ;
17514                            5506     
17515                            5507             MOV.W   \DAT_REG,@\ADR_REG
17516                            5508             ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17517                            5509             SWAP.W  \DAT_REG,\DAT_REG                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   203
PROGRAM NAME =

17518                            5510             POS_LSI_WORD_DUM_LOD                                    ;
17519                            5511             MOV.W   \DAT_REG,@\ADR_REG                              ;HIGH WORD SAVE
17520                            5512             POS_LSI_WORD_DUM_LOD                                    ;
17521                            5513             .ENDM
17522                            5514     
17523                            5515             .MACRO  POS_LSI_BIT_SET_LG ADR,MEM
17524                            5516             MOV.L   #\MEM,R6                                        ;
17525                            5517             MOV.L   @R6,R5                                          ;
17526                            5518             OR      R4,R5                                           ;
17527                            5519             MOV.L   R5,@R6                                          ;SAVE
17528                            5520     
17529                            5521             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,R6                 ;
17530                            5522             POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17531                            5523             .ENDM
17532                            5524     
17533                            5525     
17534                            5526             .MACRO  POS_LSI_BIT_CLR_LG ADR,MEM
17535                            5527             MOV.L   #\MEM,R6                                        ;
17536                            5528             MOV.L   @R6,R5                                          ;
17537                            5529             AND     R4,R5                                           ;
17538                            5530             MOV.L   R5,@R6                                          ;SAVE
17539                            5531     
17540                            5532             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,R6                 ;
17541                            5533             POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17542                            5534             .ENDM
17543                            5535     
17544                            5536     ;AND R3 対象BIT
17545                            5537     ;OR  R4 転送BIT
17546                            5538             .MACRO  POS_LSI_BIT_MOV_LG ADR,MEM
17547                            5539             MOV.L   #\MEM,R6                                        ;
17548                            5540             MOV.L   @R6,R5                                          ;
17549                            5541             NOT     R3,R3                                           ;
17550                            5542             AND     R3,R5                                           ;
17551                            5543             OR      R4,R5                                           ;
17552                            5544             MOV.L   R5,@R6                                          ;SAVE
17553                            5545     
17554                            5546             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,R6                 ;
17555                            5547             POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17556                            5548             .ENDM
17557                            5549     
17558                            5550     
17559                            5551     
17560                            5552     ;       ***************************************************
17561                            5553     ;       ***     位置決めＬＳＩ 32BIT DATA WRITE         ***
17562                            5554     ;       ***     払出ﾊﾟﾙｽ設定
17563                            5555     ;       ********************************************
17564                            5556     
17565                            5557             .MACRO  POS_LSI_32BIT_DAT_SET ADR,ADR_REG,DAT_REG
17566                            5558             PUSH_REG1 \ADR_REG
17567                            5559             PUSH_REG1 \DAT_REG
17568                            5560             POS_LSI_WORD_DUM_LOD                                    ;
17569                            5561             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,\ADR_REG           ;
17570                            5562             MOV.W   \DAT_REG,@\ADR_REG                              ;(LOW)
17571                            5563             ADD     #2,\ADR_REG                                     ;
17572                            5564             SWAP.W  \DAT_REG,\DAT_REG                               ;
17573                            5565             POS_LSI_WORD_DUM_LOD                                    ;
17574                            5566             MOV.W   \DAT_REG,@\ADR_REG                              ;(HIGH)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   204
PROGRAM NAME =

17575                            5567             POS_LSI_WORD_DUM_LOD                                    ;
17576                            5568             POP_REG1 \DAT_REG
17577                            5569             POP_REG1 \ADR_REG
17578                            5570             .ENDM
17579                            5571     
17580                            5572     
17581                            5573     ;       *******************************************
17582                            5574     ;       ***                                     ***
17583                            5575     ;       ***                                     ***
17584                            5576     ;       ***                                     ***
17585                            5577     ;       *******************************************
17586                                     ***** BEGIN-POOL *****
17587 000030C2 0041                       DATA FOR SOURCE-LINE 5473
17588 000030C4 00000000                   DATA FOR SOURCE-LINE 5473
17589                                     ***** END-POOL *****
17590 000030C8                   5578             .ALIGN  4                               ;
17591 000030C8                   5579     _POS_LSI_HARD_INITAL:
17592                            5580             SUB_START
17593 000030C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
17594                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17595                            5581     ;       ==========================================
17596 000030CA D60E              5582             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_CtrlReg,R6         ;
17597                            5583             .AIF    1 EQ 1          ;2006-09-19
17598 000030CC 9519              5584 C           MOV.W   #H'100*(B'01000011)+(B'11000100),R5
17599                            5585 C                                                                   ;B相進み
17600                            5586 C                                                                   ;BIT7,BIT6=1,1 +OT,-OT無効
17601                            5587 C                                                                   ;BIT9,BIT8=1,1 自動加減速
                                          無効
17602                            5588 C                                                                   ;BIT14         外部ｹﾞｰﾄ無
                                          効
17603                            5589             .AELSE
17604                            5590             MOV.W   #H'100*(B'01000000)+(B'11000100),R5
17605                            5591                                                                     ;B相進み
17606                            5592                                                                     ;BIT7,BIT6=1   +OT,-OT無効
17607                            5593                                                                     ;BIT9,BIT8=0,0 自動加減速
                                          有効
17608                            5594                                                                     ;BIT14         外部ｹﾞｰﾄ無
                                          効
17609                            5595             .AENDI
17610 000030CE 2651              5596             MOV.W   R5,@R6                                          ;
17611                            5597     ;BIT0=0(正転PLS/逆転PLS 2PLS MODE)
17612                            5598     ;BIT1=0 帰還有効
17613                            5599     ;BIT2=1 A相進み
17614                            5600     ;BIT4,3=0 90位相;
17615                            5601     ;BIT13=0速度16ﾋﾞｯﾄ　=1:20ﾋﾞｯﾄ
17616                            5602     ;
17617                            5603     ;       ======= ｲﾝｸﾘﾒﾝﾀﾙﾊﾟﾙｽｶｳﾝﾄ開始    ============
17618 000030D0 D50D              5604             MOV.L   #BIT2,R5                                        ;
17619 000030D2 D60E              5605             MOV.L   #_LSI_BUF_PLS_BitComdL,R6                       ;
17620 000030D4 2652              5606             MOV.L   R5,@R6                                          ;MOTROLA 32BIT DATA
17621                            5607     
17622 000030D6 D40C              5608             MOV.L   #BIT2,R4                                                ;
17623                            5609             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;BIT2(BIT18)
17624 000030D8 D60C                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17625 000030DA 6562                   M           MOV.L   @R6,R5                                          ;
17626 000030DC 254B                   M           OR      R4,R5                                           ;
17627 000030DE 2652                   M           MOV.L   R5,@R6                                          ;SAVE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   205
PROGRAM NAME =

17628                                 M   
17629 000030E0 D60B                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17630                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17631 000030E2 6559                   M           SWAP.W  R5,R5                           ;
17632                                 M   
17633 000030E4 2651                   M           MOV.W   R5,@R6
17634 000030E6 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17635 000030E8 6559                   M           SWAP.W  R5,R5                           ;
17636                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17637                                 M           PUSH_REG1 R0
17638 000030EA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17639                                 M                                           ;REG=>[SP]
17640                                 M                                           ;"-4" FF,FF,FF,FC
17641 000030EC D009                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17642 000030EE 6001                   M           MOV.W   @R0,R0
17643                                 M           POP_REG1 R0
17644                                 M                                   ; RE"+4" 00,00,00,04
17645 000030F0 60F6                   M           MOV.L   @R15+,R0        ;
17646 000030F2 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17647                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17648                                 M           PUSH_REG1 R0
17649 000030F4 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17650                                 M                                           ;REG=>[SP]
17651                                 M                                           ;"-4" FF,FF,FF,FC
17652 000030F6 D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17653 000030F8 6001                   M           MOV.W   @R0,R0
17654                                 M           POP_REG1 R0
17655                                 M                                   ; RE"+4" 00,00,00,04
17656 000030FA 60F6                   M           MOV.L   @R15+,R0        ;
17657                            5610     
17658                            5611             SUB_END
17659                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17660 000030FC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17661                            5612             M_RTS
17662 000030FE 000B                   M           RTS                             ;RTSの後ろの
17663 00003100 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17664                            5613     
17665                            5614     ;       ***********************************
17666                            5615     ;       ***                             ***
17667                            5616     ;       ***     ﾒｲﾝﾃﾞｰﾀ受信後           ***
17668                            5617     ;       ***                             ***
17669                            5618     ;       ***********************************
17670                                     ***** BEGIN-POOL *****
17671 00003102 43C4                       DATA FOR SOURCE-LINE 5584
17672 00003104 00000000                   DATA FOR SOURCE-LINE 5582
17673 00003108 00000004                   DATA FOR SOURCE-LINE 5604,5608
17674 0000310C 00000000                   DATA FOR SOURCE-LINE 5605,5609
17675 00003110 00000000                   DATA FOR SOURCE-LINE 5609
17676 00003114 00000000                   DATA FOR SOURCE-LINE 5609,5609
17677                                     ***** END-POOL *****
17678 00003118                   5619             .ALIGN  4                               ;
17679 00003118                   5620     _POS_LSI_DATA_INITAL:
17680                            5621             SUB_START
17681 00003118 4F22                   M           STS.L   PR,@-R15                ;[必要]
17682                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17683                            5622             FAR_JSR #_POS_LSI_SPDLATE_SET,R0        ;(本当は1回だけ)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   206
PROGRAM NAME =

17684 0000311A D006                   M           MOV.L   #_POS_LSI_SPDLATE_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17685 0000311C 400B                   M           JSR     @R0                     ;
17686 0000311E 0009                   M           NOP                                     ;
17687                            5623             FAR_JSR #_POS_LSI_BAS_SPEED_SET,R0      ;(本当は1回だけ)
17688 00003120 D005                   M           MOV.L   #_POS_LSI_BAS_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17689 00003122 400B                   M           JSR     @R0                     ;
17690 00003124 0009                   M           NOP                                     ;
17691                            5624             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
17692 00003126 D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
17693 00003128 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
17694 0000312A D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
17695 0000312C 2322                   M           MOV.L   R2,@R3  ;DST_ADR
17696                            5625     
17697                            5626     
17698                            5627     
17699                            5628     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC1_SET,R0           ;加減速(意味無し)
17700                            5629     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC2_SET,R0           ;加減速
17701                            5630     
17702                            5631             SUB_END
17703                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17704 0000312E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17705                            5632             M_RTS
17706 00003130 000B                   M           RTS                             ;RTSの後ろの
17707 00003132 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17708                            5633     
17709                            5634     
17710                            5635     ;       ***********************************
17711                            5636     ;       ***                             ***
17712                            5637     ;       ***     起動前ｲﾆｼｬﾙ             ***
17713                            5638     ;       ***                             ***
17714                            5639     ;       ***********************************
17715                                     ***** BEGIN-POOL *****
17716 00003134 00000000                   DATA FOR SOURCE-LINE 5622
17717 00003138 00000000                   DATA FOR SOURCE-LINE 5623
17718 0000313C 00000000                   DATA FOR SOURCE-LINE 5624
17719 00003140 00000000                   DATA FOR SOURCE-LINE 5624
17720                                     ***** END-POOL *****
17721 00003144                   5640             .ALIGN  4                               ;
17722 00003144                   5641     _POS_LSI_START_INITAL:
17723                            5642             SUB_START
17724 00003144 4F22                   M           STS.L   PR,@-R15                ;[必要]
17725                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17726                            5643     
17727                            5644     ;       ===== 本当は不要だけど、ﾃﾞﾊﾞｯｸ完了までは======
17728                            5645     
17729                            5646     ;       ====== フルクローズ時は自起動を使用したインチングを行う ===
17730                            5647             FAR_JSR #_POS_LSI_BAS_SPEED_SET,R0      ;
17731 00003146 D006                   M           MOV.L   #_POS_LSI_BAS_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17732 00003148 400B                   M           JSR     @R0                     ;
17733 0000314A 0009                   M           NOP                                     ;
17734                            5648             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
17735 0000314C D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
17736 0000314E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
17737 00003150 D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
17738 00003152 2322                   M           MOV.L   R2,@R3  ;DST_ADR
17739                            5649     
17740                            5650     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   207
PROGRAM NAME =

17741                            5651     
17742                            5652     
17743                            5653     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC2_SET,R0           ;加減速
17744                            5654     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC1_SET,R0           ;加減速
17745                            5655             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
17746 00003154 D005                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17747 00003156 400B                   M           JSR     @R0                     ;
17748 00003158 0009                   M           NOP                                     ;
17749                            5656     
17750                            5657             SUB_END
17751                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17752 0000315A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17753                            5658             M_RTS
17754 0000315C 000B                   M           RTS                             ;RTSの後ろの
17755 0000315E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17756                            5659     ;       ***********************************
17757                            5660     ;       ***                             ***
17758                            5661     ;       ***     起動前ｲﾆｼｬﾙ             ***
17759                            5662     ;       ***                             ***
17760                            5663     ;       ***********************************
17761                                     ***** BEGIN-POOL *****
17762 00003160 00000000                   DATA FOR SOURCE-LINE 5647
17763 00003164 00000000                   DATA FOR SOURCE-LINE 5648
17764 00003168 00000000                   DATA FOR SOURCE-LINE 5648
17765 0000316C 00000000                   DATA FOR SOURCE-LINE 5655
17766                                     ***** END-POOL *****
17767 00003170                   5664             .ALIGN  4                               ;
17768 00003170                   5665     _POS_LSI_START_INITL2:
17769                            5666             SUB_START
17770 00003170 4F22                   M           STS.L   PR,@-R15                ;[必要]
17771                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17772                            5667     
17773                            5668     
17774                            5669     ;       ====== フルクローズ時は自起動を使用したインチングを行う ===
17775                            5670             FAR_JSR #_POS_LSI_CLS_BAS_SPD_SET,R0    ;
17776 00003172 D006                   M           MOV.L   #_POS_LSI_CLS_BAS_SPD_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17777 00003174 400B                   M           JSR     @R0                     ;
17778 00003176 0009                   M           NOP                                     ;
17779                            5671             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
17780 00003178 D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
17781 0000317A 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
17782 0000317C D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
17783 0000317E 2322                   M           MOV.L   R2,@R3  ;DST_ADR
17784                            5672     
17785                            5673     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC2_SET,R0           ;加減速
17786                            5674     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC1_SET,R0           ;加減速
17787                            5675             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
17788 00003180 D005                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17789 00003182 400B                   M           JSR     @R0                     ;
17790 00003184 0009                   M           NOP                                     ;
17791                            5676     
17792                            5677             SUB_END
17793                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17794 00003186 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17795                            5678             M_RTS
17796 00003188 000B                   M           RTS                             ;RTSの後ろの
17797 0000318A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   208
PROGRAM NAME =

17798                            5679     
17799                            5680     ;       ***********************************
17800                            5681     ;       ***                             ***
17801                            5682     ;       ***     起動前ｲﾆｼｬﾙ             ***
17802                            5683     ;       ***     2013-06-13              ***
17803                            5684     ;       ***********************************
17804                                     ***** BEGIN-POOL *****
17805 0000318C 00000000                   DATA FOR SOURCE-LINE 5670
17806 00003190 00000000                   DATA FOR SOURCE-LINE 5671
17807 00003194 00000000                   DATA FOR SOURCE-LINE 5671
17808 00003198 00000000                   DATA FOR SOURCE-LINE 5675
17809                                     ***** END-POOL *****
17810 0000319C                   5685             .ALIGN  4                               ;
17811 0000319C                   5686     _POS_LSI_START_INITAL_TEP:
17812                            5687             SUB_START
17813 0000319C 4F22                   M           STS.L   PR,@-R15                ;[必要]
17814                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17815                            5688     
17816                            5689             FAR_JSR #_POS_LSI_TEP_BAS_SPEED_SET,R0
17817 0000319E D006                   M           MOV.L   #_POS_LSI_TEP_BAS_SPEED_SET,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17818 000031A0 400B                   M           JSR     @R0                     ;
17819 000031A2 0009                   M           NOP                                     ;
17820                            5690             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
17821 000031A4 D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
17822 000031A6 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
17823 000031A8 D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
17824 000031AA 2322                   M           MOV.L   R2,@R3  ;DST_ADR
17825                            5691             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
17826 000031AC D005                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17827 000031AE 400B                   M           JSR     @R0                     ;
17828 000031B0 0009                   M           NOP                                     ;
17829                            5692     
17830                            5693             SUB_END
17831                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17832 000031B2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17833                            5694             M_RTS
17834 000031B4 000B                   M           RTS                             ;RTSの後ろの
17835 000031B6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17836                            5695     
17837                            5696     ;       ***********************************
17838                            5697     ;       ***                             ***
17839                            5698     ;       ***     指令ﾊﾟﾙｽﾚｼﾞｽﾀｸﾘｱ        ***
17840                            5699     ;       ***                             ***
17841                            5700     ;       ***********************************
17842                            5701     ;       2004-02-19
17843                                     ***** BEGIN-POOL *****
17844 000031B8 00000000                   DATA FOR SOURCE-LINE 5689
17845 000031BC 00000000                   DATA FOR SOURCE-LINE 5690
17846 000031C0 00000000                   DATA FOR SOURCE-LINE 5690
17847 000031C4 00000000                   DATA FOR SOURCE-LINE 5691
17848                                     ***** END-POOL *****
17849 000031C8                   5702             .ALIGN  4                               ;
17850 000031C8                   5703     _OutputPLS_REG_CLR:
17851                            5704             SUB_START
17852 000031C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
17853                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17854                            5705             PUSH_ALL
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   209
PROGRAM NAME =

17855                                 M           PUSH_REG1       R0      ;
17856 000031CA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17857                                 M                                           ;REG=>[SP]
17858                                 M                                           ;"-4" FF,FF,FF,FC
17859                                 M           PUSH_REG1       R1      ;
17860 000031CC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
17861                                 M                                           ;REG=>[SP]
17862                                 M                                           ;"-4" FF,FF,FF,FC
17863                                 M           PUSH_REG1       R2      ;
17864 000031CE 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
17865                                 M                                           ;REG=>[SP]
17866                                 M                                           ;"-4" FF,FF,FF,FC
17867                                 M           PUSH_REG1       R3      ;
17868 000031D0 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
17869                                 M                                           ;REG=>[SP]
17870                                 M                                           ;"-4" FF,FF,FF,FC
17871                                 M           PUSH_REG1       R4      ;
17872 000031D2 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
17873                                 M                                           ;REG=>[SP]
17874                                 M                                           ;"-4" FF,FF,FF,FC
17875                                 M           PUSH_REG1       R5      ;
17876 000031D4 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
17877                                 M                                           ;REG=>[SP]
17878                                 M                                           ;"-4" FF,FF,FF,FC
17879                                 M           PUSH_REG1       R6      ;
17880 000031D6 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
17881                                 M                                           ;REG=>[SP]
17882                                 M                                           ;"-4" FF,FF,FF,FC
17883                                 M           PUSH_REG1       R7      ;
17884 000031D8 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
17885                                 M                                           ;REG=>[SP]
17886                                 M                                           ;"-4" FF,FF,FF,FC
17887                                 M           PUSH_REG1       R8      ;
17888 000031DA 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
17889                                 M                                           ;REG=>[SP]
17890                                 M                                           ;"-4" FF,FF,FF,FC
17891                                 M           PUSH_REG1       R9      ;
17892 000031DC 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
17893                                 M                                           ;REG=>[SP]
17894                                 M                                           ;"-4" FF,FF,FF,FC
17895                                 M           PUSH_REG1       R10     ;
17896 000031DE 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
17897                                 M                                           ;REG=>[SP]
17898                                 M                                           ;"-4" FF,FF,FF,FC
17899                                 M           PUSH_REG1       R11     ;
17900 000031E0 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
17901                                 M                                           ;REG=>[SP]
17902                                 M                                           ;"-4" FF,FF,FF,FC
17903                                 M           PUSH_REG1       R12     ;
17904 000031E2 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
17905                                 M                                           ;REG=>[SP]
17906                                 M                                           ;"-4" FF,FF,FF,FC
17907                                 M           PUSH_REG1       R13     ;
17908 000031E4 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
17909                                 M                                           ;REG=>[SP]
17910                                 M                                           ;"-4" FF,FF,FF,FC
17911                                 M           PUSH_REG1       R14     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   210
PROGRAM NAME =

17912 000031E6 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
17913                                 M                                           ;REG=>[SP]
17914                                 M                                           ;"-4" FF,FF,FF,FC
17915                                 M           PUSH_MACHL              ;
17916 000031E8 4F02                   M           STS.L   MACH,@-R15
17917 000031EA 4F12                   M           STS.L   MACL,@-R15
17918                                 M           PUSH_SYS_REG    GBR     ;
17919 000031EC 4F13                   M           STC.L   GBR,@-R15
17920                                 M           .AIF    2 EQ 3
17921                                             .AELSE
17922                                 C           PUSH_FPU_ALL            ;2001-07-08
17923                                 M                   PUSH_SYS_FPU            ;2001-07-08 koma add
17924 000031EE 4F52                   M           STS.L   FPUL,@-R15
17925 000031F0 4F62                   M           STS.L   FPSCR,@-R15
17926                                 M                   PUSH_FPU_REG1 FR0       ;
17927 000031F2 FF0B                   M           FMOV.S  FR0,@-R15
17928                                 M                   PUSH_FPU_REG1 FR1       ;
17929 000031F4 FF1B                   M           FMOV.S  FR1,@-R15
17930                                 M                   PUSH_FPU_REG1 FR2       ;
17931 000031F6 FF2B                   M           FMOV.S  FR2,@-R15
17932                                 M                   PUSH_FPU_REG1 FR3       ;
17933 000031F8 FF3B                   M           FMOV.S  FR3,@-R15
17934                                 M                   PUSH_FPU_REG1 FR4       ;
17935 000031FA FF4B                   M           FMOV.S  FR4,@-R15
17936                                 M           .AENDI
17937 000031FC 200A              5706             XOR     R0,R0                                   ;
17938 000031FE D127              5707             MOV.L   #_LSI_PLSCLR_RETRY_CNT1,R1              ;//CLR処理そのもの
17939 00003200 2101              5708             MOV.W   R0,@R1                                  ;
17940                            5709     
17941                            5710             TIM_CNT_ADD MEM=_LSI_PLSCLR_AC_CNT1,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
17942 00003202 D127                   M           MOV.L   #_LSI_PLSCLR_AC_CNT1,R1         ;
17943 00003204 6012                   M           MOV.L   @R1,R0  ;
17944 00003206 7001                   M           ADD     #1,R0           ;
17945 00003208 2102                   M           MOV.L   R0,@R1  ;
17946                            5711     
17947                            5712     
17948 0000320A                   5713     OutputPLS_REGCLR_LOP:
17949                            5714             FAR_JSR #_LOAD_REST_PLS,R0
17950 0000320A D026                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17951 0000320C 400B                   M           JSR     @R0                     ;
17952 0000320E 0009                   M           NOP                                     ;
17953 00003210 D425              5715             MOV.L   #(BIT12*H'10000),R4                                             ;
17954                            5716             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;
17955 00003212 D626                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17956 00003214 6562                   M           MOV.L   @R6,R5                                          ;
17957 00003216 254B                   M           OR      R4,R5                                           ;
17958 00003218 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17959                                 M   
17960 0000321A D625                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17961                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17962 0000321C 6559                   M           SWAP.W  R5,R5                           ;
17963                                 M   
17964 0000321E 2651                   M           MOV.W   R5,@R6
17965 00003220 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17966 00003222 6559                   M           SWAP.W  R5,R5                           ;
17967                                 M           POS_LSI_WORD_DUM_LOD                                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   211
PROGRAM NAME =

17968                                 M           PUSH_REG1 R0
17969 00003224 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17970                                 M                                           ;REG=>[SP]
17971                                 M                                           ;"-4" FF,FF,FF,FC
17972 00003226 D023                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17973 00003228 6001                   M           MOV.W   @R0,R0
17974                                 M           POP_REG1 R0
17975                                 M                                   ; RE"+4" 00,00,00,04
17976 0000322A 60F6                   M           MOV.L   @R15+,R0        ;
17977 0000322C 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17978                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17979                                 M           PUSH_REG1 R0
17980 0000322E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17981                                 M                                           ;REG=>[SP]
17982                                 M                                           ;"-4" FF,FF,FF,FC
17983 00003230 D020                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17984 00003232 6001                   M           MOV.W   @R0,R0
17985                                 M           POP_REG1 R0
17986                                 M                                   ; RE"+4" 00,00,00,04
17987 00003234 60F6                   M           MOV.L   @R15+,R0        ;
17988                            5717     
17989                            5718     ;(DE LATCHしない)       FAR_JSR #_LOAD_REST_PLS,R0                              ;
17990                            5719             POS_LSI_WORD_DUM_LOD                                                    ;
17991                                 M           PUSH_REG1 R0
17992 00003236 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17993                                 M                                           ;REG=>[SP]
17994                                 M                                           ;"-4" FF,FF,FF,FC
17995 00003238 D01E                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17996 0000323A 6001                   M           MOV.W   @R0,R0
17997                                 M           POP_REG1 R0
17998                                 M                                   ; RE"+4" 00,00,00,04
17999 0000323C 60F6                   M           MOV.L   @R15+,R0        ;
18000                            5720             POSLSI_RD_WR_WAIT_NOP                                                   ;
18001 0000323E 0009                   M           NOP
18002 00003240 0009                   M           NOP
18003 00003242 0009                   M           NOP
18004 00003244 0009                   M           NOP
18005 00003246 0009                   M           NOP
18006 00003248 0009                   M           NOP
18007 0000324A 0009                   M           NOP
18008 0000324C 0009                   M           NOP
18009 0000324E 0009                   M           NOP
18010 00003250 0009                   M           NOP
18011                            5721     
18012 00003252 D119              5722             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1                        ;R/W 指令ﾊ
                                          ﾟﾙｽ数
18013 00003254 6015              5723             MOV.W   @R1+,R0                                                         ;
18014                            5724             POS_LSI_WORD_DUM_LOD                                                    ;
18015                                 M           PUSH_REG1 R0
18016 00003256 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18017                                 M                                           ;REG=>[SP]
18018                                 M                                           ;"-4" FF,FF,FF,FC
18019 00003258 D016                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18020 0000325A 6001                   M           MOV.W   @R0,R0
18021                                 M           POP_REG1 R0
18022                                 M                                   ; RE"+4" 00,00,00,04
18023 0000325C 60F6                   M           MOV.L   @R15+,R0        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   212
PROGRAM NAME =

18024 0000325E 6011              5725             MOV.W   @R1,R0                                                          ;
18025                            5726             POS_LSI_WORD_DUM_LOD                                                    ;
18026                                 M           PUSH_REG1 R0
18027 00003260 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18028                                 M                                           ;REG=>[SP]
18029                                 M                                           ;"-4" FF,FF,FF,FC
18030 00003262 D014                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18031 00003264 6001                   M           MOV.W   @R0,R0
18032                                 M           POP_REG1 R0
18033                                 M                                   ; RE"+4" 00,00,00,04
18034 00003266 60F6                   M           MOV.L   @R15+,R0        ;
18035                            5727     
18036 00003268 D414              5728             MOV.L   #~(BIT12*H'10000),R4                                            ;
18037                            5729             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;
18038 0000326A D610                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18039 0000326C 6562                   M           MOV.L   @R6,R5                                          ;
18040 0000326E 2549                   M           AND     R4,R5                                           ;
18041 00003270 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18042                                 M   
18043 00003272 D60F                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18044                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18045 00003274 6559                   M           SWAP.W  R5,R5                           ;
18046                                 M   
18047 00003276 2651                   M           MOV.W   R5,@R6
18048 00003278 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18049 0000327A 6559                   M           SWAP.W  R5,R5                           ;
18050                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18051                                 M           PUSH_REG1 R0
18052 0000327C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18053                                 M                                           ;REG=>[SP]
18054                                 M                                           ;"-4" FF,FF,FF,FC
18055 0000327E D00D                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18056 00003280 6001                   M           MOV.W   @R0,R0
18057                                 M           POP_REG1 R0
18058                                 M                                   ; RE"+4" 00,00,00,04
18059 00003282 60F6                   M           MOV.L   @R15+,R0        ;
18060 00003284 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18061                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18062                                 M           PUSH_REG1 R0
18063 00003286 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18064                                 M                                           ;REG=>[SP]
18065                                 M                                           ;"-4" FF,FF,FF,FC
18066 00003288 D00A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18067 0000328A 6001                   M           MOV.W   @R0,R0
18068                                 M           POP_REG1 R0
18069                                 M                                   ; RE"+4" 00,00,00,04
18070 0000328C 60F6                   M           MOV.L   @R15+,R0        ;
18071                            5730             FAR_JSR #_LOAD_REST_PLS,R0
18072 0000328E D005                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18073 00003290 400B                   M           JSR     @R0                     ;
18074 00003292 0009                   M           NOP                                     ;
18075                            5731     
18076 00003294 2008              5732             TST     R0,R0                                   ;払出ﾊﾟﾙｽｸﾘｱ完了
18077                            5733             TST_BIT_ON OutputPLS_REGCLR_100                 ;
18078 00003296 8B13                   M           BF      OutputPLS_REGCLR_100
18079                            5734             M_BRA   OutputPLS_REGCLR_END                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   213
PROGRAM NAME =

18080 00003298 A056                   M           BRA     OutputPLS_REGCLR_END
18081 0000329A 0009                   M           NOP
18082                                     ***** BEGIN-POOL *****
18083 0000329C 00000000                   DATA FOR SOURCE-LINE 5707
18084 000032A0 00000000                   DATA FOR SOURCE-LINE 5710
18085 000032A4 00000000                   DATA FOR SOURCE-LINE 5714,5730
18086 000032A8 10000000                   DATA FOR SOURCE-LINE 5715
18087 000032AC 00000000                   DATA FOR SOURCE-LINE 5716,5729
18088 000032B0 00000000                   DATA FOR SOURCE-LINE 5716,5729
18089 000032B4 00000000                   DATA FOR SOURCE-LINE 5716,5716,5719,5724,5726,5729,5729
18090 000032B8 00000000                   DATA FOR SOURCE-LINE 5722
18091 000032BC EFFFFFFF                   DATA FOR SOURCE-LINE 5728
18092                                     ***** END-POOL *****
18093 000032C0                   5735     OutputPLS_REGCLR_100:
18094                            5736     
18095                            5737     ;       ==== ﾘｾｯﾄｺﾏﾝﾄﾞによるﾘｾｯﾄ失敗=====
18096                            5738             TIM_CNT_ADD MEM=_LSI_PLSCLR_NG_CNT1,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
18097 000032C0 D111                   M           MOV.L   #_LSI_PLSCLR_NG_CNT1,R1         ;
18098 000032C2 6012                   M           MOV.L   @R1,R0  ;
18099 000032C4 7001                   M           ADD     #1,R0           ;
18100 000032C6 2102                   M           MOV.L   R0,@R1  ;
18101                            5739     
18102                            5740             FAR_JSR #_LOAD_REST_PLS,R0                                      ;
18103 000032C8 D010                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18104 000032CA 400B                   M           JSR     @R0                     ;
18105 000032CC 0009                   M           NOP                                     ;
18106 000032CE 600B              5741             NEG     R0,R0                                                   ;
18107                            5742             POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R1,DAT_REG=R0   ;
18108                                 M           PUSH_REG1 R1
18109 000032D0 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18110                                 M                                           ;REG=>[SP]
18111                                 M                                           ;"-4" FF,FF,FF,FC
18112                                 M           PUSH_REG1 R0
18113 000032D2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18114                                 M                                           ;REG=>[SP]
18115                                 M                                           ;"-4" FF,FF,FF,FC
18116                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18117                                 M           PUSH_REG1 R0
18118 000032D4 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18119                                 M                                           ;REG=>[SP]
18120                                 M                                           ;"-4" FF,FF,FF,FC
18121 000032D6 D00E                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18122 000032D8 6001                   M           MOV.W   @R0,R0
18123                                 M           POP_REG1 R0
18124                                 M                                   ; RE"+4" 00,00,00,04
18125 000032DA 60F6                   M           MOV.L   @R15+,R0        ;
18126 000032DC D10D                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1                ;
18127 000032DE 2101                   M           MOV.W   R0,@R1                          ;(LOW)
18128 000032E0 7102                   M           ADD     #2,R1                                   ;
18129 000032E2 6009                   M           SWAP.W  R0,R0                           ;
18130                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18131                                 M           PUSH_REG1 R0
18132 000032E4 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18133                                 M                                           ;REG=>[SP]
18134                                 M                                           ;"-4" FF,FF,FF,FC
18135 000032E6 D00A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18136 000032E8 6001                   M           MOV.W   @R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   214
PROGRAM NAME =

18137                                 M           POP_REG1 R0
18138                                 M                                   ; RE"+4" 00,00,00,04
18139 000032EA 60F6                   M           MOV.L   @R15+,R0        ;
18140 000032EC 2101                   M           MOV.W   R0,@R1                          ;(HIGH)
18141                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18142                                 M           PUSH_REG1 R0
18143 000032EE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18144                                 M                                           ;REG=>[SP]
18145                                 M                                           ;"-4" FF,FF,FF,FC
18146 000032F0 D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18147 000032F2 6001                   M           MOV.W   @R0,R0
18148                                 M           POP_REG1 R0
18149                                 M                                   ; RE"+4" 00,00,00,04
18150 000032F4 60F6                   M           MOV.L   @R15+,R0        ;
18151                                 M           POP_REG1 R0
18152                                 M                                   ; RE"+4" 00,00,00,04
18153 000032F6 60F6                   M           MOV.L   @R15+,R0        ;
18154                                 M           POP_REG1 R1
18155                                 M                                   ; RE"+4" 00,00,00,04
18156 000032F8 61F6                   M           MOV.L   @R15+,R1        ;
18157                            5743     
18158                            5744             FAR_JSR #_LOAD_REST_PLS,R0                                      ;
18159 000032FA D004                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18160 000032FC 400B                   M           JSR     @R0                     ;
18161 000032FE 0009                   M           NOP                                     ;
18162 00003300 2008              5745             TST     R0,R0                                                   ;
18163                            5746             TST_BIT_ON OutputPLS_REGCLR_150                                 ;
18164 00003302 8B09                   M           BF      OutputPLS_REGCLR_150
18165                            5747             M_BRA   OutputPLS_REGCLR_END                                    ;
18166 00003304 A020                   M           BRA     OutputPLS_REGCLR_END
18167 00003306 0009                   M           NOP
18168                            5748     
18169                                     ***** BEGIN-POOL *****
18170 00003308 00000000                   DATA FOR SOURCE-LINE 5738
18171 0000330C 00000000                   DATA FOR SOURCE-LINE 5740,5744
18172 00003310 00000000                   DATA FOR SOURCE-LINE 5742,5742,5742
18173 00003314 00000000                   DATA FOR SOURCE-LINE 5742
18174                                     ***** END-POOL *****
18175 00003318                   5749     OutputPLS_REGCLR_150:
18176                            5750             TIM_CNT_ADD MEM=_LSI_PLSCLR_RETRY_CNT1,LG=W,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
18177 00003318 D107                   M           MOV.L   #_LSI_PLSCLR_RETRY_CNT1,R1              ;
18178 0000331A 6011                   M           MOV.W   @R1,R0  ;
18179 0000331C 7001                   M           ADD     #1,R0           ;
18180 0000331E 2101                   M           MOV.W   R0,@R1  ;
18181 00003320 D105              5751             MOV.L   #_LSI_PLSCLR_RETRY_CNT1,R1
                                          ;
18182 00003322 6011              5752             MOV.W   @R1,R0
                                          ;
18183 00003324 9107              5753             MOV.W   #_LSI_RETRY_ERR_MAX,R1
                                          ;
18184 00003326 3016              5754             CMP/HI  R1,R0
                                          ;10=< R0
18185 00003328 890A              5755             BT      OutputPLS_REGCLR_ERR
                                          ;
18186                            5756             TIM_CNT_ADD MEM=_LSI_PLSCLR_NG_CNT2,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   215
PROGRAM NAME =

18187 0000332A D104                   M           MOV.L   #_LSI_PLSCLR_NG_CNT2,R1         ;
18188 0000332C 6012                   M           MOV.L   @R1,R0  ;
18189 0000332E 7001                   M           ADD     #1,R0           ;
18190 00003330 2102                   M           MOV.L   R0,@R1  ;
18191                            5757             M_BRA   OutputPLS_REGCLR_LOP
                                          ;
18192 00003332 AF6A                   M           BRA     OutputPLS_REGCLR_LOP
18193 00003334 0009                   M           NOP
18194                            5758     
18195                                     ***** BEGIN-POOL *****
18196 00003336 0003                       DATA FOR SOURCE-LINE 5753
18197 00003338 00000000                   DATA FOR SOURCE-LINE 5750,5751
18198 0000333C 00000000                   DATA FOR SOURCE-LINE 5756
18199                                     ***** END-POOL *****
18200 00003340                   5759     OutputPLS_REGCLR_ERR:
18201                            5760     ;       == 異常ﾌﾗｸﾞ==
18202                            5761             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT1+BIT0),WKREG=R1
                                          ;
18203 00003340 D10F                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1               ;
18204 00003342 6011                   M           MOV.W   @R1,R0          ;
18205 00003344 CB03                   M           OR      #(BIT1+BIT0),R0         ;
18206 00003346 2101                   M           MOV.W   R0,@R1          ;
18207                            5762     
18208 00003348                   5763     OutputPLS_REGCLR_END:
18209                            5764             POP_ALL
18210                                 M           .AIF    2 EQ 3
18211                                             .AELSE
18212                                 C           POP_FPU_ALL             ;2001-07-08
18213                                 M                   POP_FPU_REG1 FR4        ;2001-07-08 koma add
18214 00003348 F4F9                   M           FMOV.S  @R15+,FR4
18215                                 M                   POP_FPU_REG1 FR3        ;
18216 0000334A F3F9                   M           FMOV.S  @R15+,FR3
18217                                 M                   POP_FPU_REG1 FR2        ;
18218 0000334C F2F9                   M           FMOV.S  @R15+,FR2
18219                                 M                   POP_FPU_REG1 FR1        ;
18220 0000334E F1F9                   M           FMOV.S  @R15+,FR1
18221                                 M                   POP_FPU_REG1 FR0        ;
18222 00003350 F0F9                   M           FMOV.S  @R15+,FR0
18223                                 M                   POP_SYS_FPU             ;
18224 00003352 4F66                   M           LDS.L   @R15+,FPSCR
18225 00003354 4F56                   M           LDS.L   @R15+,FPUL
18226                                 M           .AENDI
18227                                 M           POP_SYS_REG     GBR     ;
18228 00003356 4F17                   M           LDC.L   @R15+,GBR
18229                                 M           POP_MACHL               ;
18230 00003358 4F16                   M           LDS.L   @R15+,MACL
18231 0000335A 4F06                   M           LDS.L   @R15+,MACH
18232                                 M           POP_REG1        R14     ;
18233                                 M                                   ; RE"+4" 00,00,00,04
18234 0000335C 6EF6                   M           MOV.L   @R15+,R14        ;
18235                                 M           POP_REG1        R13     ;
18236                                 M                                   ; RE"+4" 00,00,00,04
18237 0000335E 6DF6                   M           MOV.L   @R15+,R13        ;
18238                                 M           POP_REG1        R12     ;
18239                                 M                                   ; RE"+4" 00,00,00,04
18240 00003360 6CF6                   M           MOV.L   @R15+,R12        ;
18241                                 M           POP_REG1        R11     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   216
PROGRAM NAME =

18242                                 M                                   ; RE"+4" 00,00,00,04
18243 00003362 6BF6                   M           MOV.L   @R15+,R11        ;
18244                                 M           POP_REG1        R10     ;
18245                                 M                                   ; RE"+4" 00,00,00,04
18246 00003364 6AF6                   M           MOV.L   @R15+,R10        ;
18247                                 M           POP_REG1        R9      ;
18248                                 M                                   ; RE"+4" 00,00,00,04
18249 00003366 69F6                   M           MOV.L   @R15+,R9        ;
18250                                 M           POP_REG1        R8      ;
18251                                 M                                   ; RE"+4" 00,00,00,04
18252 00003368 68F6                   M           MOV.L   @R15+,R8        ;
18253                                 M           POP_REG1        R7      ;
18254                                 M                                   ; RE"+4" 00,00,00,04
18255 0000336A 67F6                   M           MOV.L   @R15+,R7        ;
18256                                 M           POP_REG1        R6      ;
18257                                 M                                   ; RE"+4" 00,00,00,04
18258 0000336C 66F6                   M           MOV.L   @R15+,R6        ;
18259                                 M           POP_REG1        R5      ;
18260                                 M                                   ; RE"+4" 00,00,00,04
18261 0000336E 65F6                   M           MOV.L   @R15+,R5        ;
18262                                 M           POP_REG1        R4      ;
18263                                 M                                   ; RE"+4" 00,00,00,04
18264 00003370 64F6                   M           MOV.L   @R15+,R4        ;
18265                                 M           POP_REG1        R3      ;
18266                                 M                                   ; RE"+4" 00,00,00,04
18267 00003372 63F6                   M           MOV.L   @R15+,R3        ;
18268                                 M           POP_REG1        R2      ;
18269                                 M                                   ; RE"+4" 00,00,00,04
18270 00003374 62F6                   M           MOV.L   @R15+,R2        ;
18271                                 M           POP_REG1        R1      ;
18272                                 M                                   ; RE"+4" 00,00,00,04
18273 00003376 61F6                   M           MOV.L   @R15+,R1        ;
18274                                 M           POP_REG1        R0      ;
18275                                 M                                   ; RE"+4" 00,00,00,04
18276 00003378 60F6                   M           MOV.L   @R15+,R0        ;
18277                            5765             SUB_END
18278                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18279 0000337A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18280                            5766             M_RTS
18281 0000337C 000B                   M           RTS                             ;RTSの後ろの
18282 0000337E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18283                            5767     
18284                            5768     ;       ***********************************
18285                            5769     ;       ***                             ***
18286                            5770     ;       ***     急停止                  ***
18287                            5771     ;       ***                             ***
18288                            5772     ;       ***********************************
18289                                     ***** BEGIN-POOL *****
18290 00003380 00000000                   DATA FOR SOURCE-LINE 5761
18291                                     ***** END-POOL *****
18292 00003384                   5773             .ALIGN  4                               ;
18293 00003384                   5774     _POS_LSI_EMG_STOP                       ;急停止
18294                            5775             SUB_START
18295 00003384 4F22                   M           STS.L   PR,@-R15                ;[必要]
18296                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18297                            5776     
18298                            5777             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   217
PROGRAM NAME =

18299 00003386 D008                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18300 00003388 400B                   M           JSR     @R0                     ;
18301 0000338A 0009                   M           NOP                                     ;
18302                            5778     
18303                            5779             FAR_JSR #_LOD_POS_STS_REG,R0
18304 0000338C D007                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18305 0000338E 400B                   M           JSR     @R0                     ;
18306 00003390 0009                   M           NOP                                     ;
18307 00003392 C804              5780             TST     #BIT2,R0                ;
18308                            5781             TST_BIT_ON POS_LSI_EMGSTOP_END
18309 00003394 8B05                   M           BF      POS_LSI_EMGSTOP_END
18310                            5782     
18311                            5783             .AIF    1 EQ 1          ;2006-09-19
18312                            5784 C           FAR_JSR #_SPD_CTL_EMG_STOP,R0                           ;
18313 00003396 D006                   M           MOV.L   #_SPD_CTL_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18314 00003398 400B                   M           JSR     @R0                     ;
18315 0000339A 0009                   M           NOP                                     ;
18316                            5785 C           FAR_JSR #_POS_LSI_EMG_STOP_CMD,R0                       ;
18317 0000339C D005                   M           MOV.L   #_POS_LSI_EMG_STOP_CMD,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18318 0000339E 400B                   M           JSR     @R0                     ;
18319 000033A0 0009                   M           NOP                                     ;
18320                            5786 C   
18321                            5787             .AELSE
18322                            5788             FAR_JSR #_POS_LSI_EMG_STOP_CMD,R0                       ;
18323                            5789             .AENDI
18324                            5790     
18325 000033A2                   5791     POS_LSI_EMGSTOP_END:
18326                            5792     
18327                            5793             SUB_END
18328                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18329 000033A2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18330                            5794             M_RTS
18331 000033A4 000B                   M           RTS                             ;RTSの後ろの
18332 000033A6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18333                            5795     ;       ***********************************
18334                            5796     ;       ***                             ***
18335                            5797     ;       ***     減速停止                ***
18336                            5798     ;       ***                             ***
18337                            5799     ;       ***********************************
18338                                     ***** BEGIN-POOL *****
18339 000033A8 00000000                   DATA FOR SOURCE-LINE 5777
18340 000033AC 00000000                   DATA FOR SOURCE-LINE 5779
18341 000033B0 00000000                   DATA FOR SOURCE-LINE 5784
18342 000033B4 00000000                   DATA FOR SOURCE-LINE 5785
18343                                     ***** END-POOL *****
18344 000033B8                   5800             .ALIGN  4                               ;
18345 000033B8                   5801     _POS_LSI_SLOW_STOP                      ;急停止
18346                            5802             SUB_START
18347 000033B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
18348                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18349                            5803     
18350                            5804             FAR_JSR #_FWD_REV_STSIG_OFF,R0          ;
18351 000033BA D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18352 000033BC 400B                   M           JSR     @R0                     ;
18353 000033BE 0009                   M           NOP                                     ;
18354                            5805     
18355                            5806             FAR_JSR #_LOD_POS_STS_REG,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   218
PROGRAM NAME =

18356 000033C0 D006                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18357 000033C2 400B                   M           JSR     @R0                     ;
18358 000033C4 0009                   M           NOP                                     ;
18359 000033C6 C804              5807             TST     #BIT2,R0                        ;
18360                            5808             TST_BIT_ON POS_LSI_SLWSTOP_END
18361 000033C8 8B02                   M           BF      POS_LSI_SLWSTOP_END
18362                            5809     
18363                            5810             .AIF    1 EQ 1          ;2006-09-19
18364                            5811 C           FAR_JSR #_SPD_CTL_SLOW_STOP,R0          ;
18365 000033CA D005                   M           MOV.L   #_SPD_CTL_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18366 000033CC 400B                   M           JSR     @R0                     ;
18367 000033CE 0009                   M           NOP                                     ;
18368                            5812             .AELSE
18369                            5813             FAR_JSR #_POS_LSI_SLOW_STOP_CMD,R0      ;
18370                            5814             .AENDI
18371                            5815     
18372                            5816     
18373 000033D0                   5817     POS_LSI_SLWSTOP_END:
18374                            5818     
18375                            5819             SUB_END
18376                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18377 000033D0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18378                            5820             M_RTS
18379 000033D2 000B                   M           RTS                             ;RTSの後ろの
18380 000033D4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18381                            5821     
18382                            5822     ;       ---------------------------------------------------
18383                            5823     ;       ---     位置決めLSIへのｺﾏﾝﾄﾞ発行とﾜｰｸ処理       ---
18384                            5824     ;       ---     EMG                                     ---
18385                            5825     ;       ---------------------------------------------------
18386                                     ***** BEGIN-POOL *****
18387 000033D6 0000                       ALIGNMENT CODE
18388 000033D8 00000000                   DATA FOR SOURCE-LINE 5804
18389 000033DC 00000000                   DATA FOR SOURCE-LINE 5806
18390 000033E0 00000000                   DATA FOR SOURCE-LINE 5811
18391                                     ***** END-POOL *****
18392 000033E4                   5826             .ALIGN  4                               ;
18393 000033E4                   5827     _POS_LSI_EMG_STOP_CMD:
18394                            5828             SUB_START
18395 000033E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
18396                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18397 000033E6 D417              5829             MOV.L   #(BIT11*H'10000),R4                                     ;
18398                            5830             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18399 000033E8 D617                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18400 000033EA 6562                   M           MOV.L   @R6,R5                                          ;
18401 000033EC 254B                   M           OR      R4,R5                                           ;
18402 000033EE 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18403                                 M   
18404 000033F0 D616                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18405                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18406 000033F2 6559                   M           SWAP.W  R5,R5                           ;
18407                                 M   
18408 000033F4 2651                   M           MOV.W   R5,@R6
18409 000033F6 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18410 000033F8 6559                   M           SWAP.W  R5,R5                           ;
18411                                 M           POS_LSI_WORD_DUM_LOD                                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   219
PROGRAM NAME =

18412                                 M           PUSH_REG1 R0
18413 000033FA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18414                                 M                                           ;REG=>[SP]
18415                                 M                                           ;"-4" FF,FF,FF,FC
18416 000033FC D014                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18417 000033FE 6001                   M           MOV.W   @R0,R0
18418                                 M           POP_REG1 R0
18419                                 M                                   ; RE"+4" 00,00,00,04
18420 00003400 60F6                   M           MOV.L   @R15+,R0        ;
18421 00003402 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18422                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18423                                 M           PUSH_REG1 R0
18424 00003404 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18425                                 M                                           ;REG=>[SP]
18426                                 M                                           ;"-4" FF,FF,FF,FC
18427 00003406 D012                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18428 00003408 6001                   M           MOV.W   @R0,R0
18429                                 M           POP_REG1 R0
18430                                 M                                   ; RE"+4" 00,00,00,04
18431 0000340A 60F6                   M           MOV.L   @R15+,R0        ;
18432 0000340C 0009              5831             NOP
18433                            5832             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
18434 0000340E D011                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18435 00003410 400B                   M           JSR     @R0                     ;
18436 00003412 0009                   M           NOP                                     ;
18437 00003414 0009              5833             NOP
18438 00003416 D410              5834             MOV.L   #~(BIT11*H'10000),R4            ;
18439                            5835             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18440 00003418 D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18441 0000341A 6562                   M           MOV.L   @R6,R5                                          ;
18442 0000341C 2549                   M           AND     R4,R5                                           ;
18443 0000341E 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18444                                 M   
18445 00003420 D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18446                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18447 00003422 6559                   M           SWAP.W  R5,R5                           ;
18448                                 M   
18449 00003424 2651                   M           MOV.W   R5,@R6
18450 00003426 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18451 00003428 6559                   M           SWAP.W  R5,R5                           ;
18452                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18453                                 M           PUSH_REG1 R0
18454 0000342A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18455                                 M                                           ;REG=>[SP]
18456                                 M                                           ;"-4" FF,FF,FF,FC
18457 0000342C D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18458 0000342E 6001                   M           MOV.W   @R0,R0
18459                                 M           POP_REG1 R0
18460                                 M                                   ; RE"+4" 00,00,00,04
18461 00003430 60F6                   M           MOV.L   @R15+,R0        ;
18462 00003432 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18463                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18464                                 M           PUSH_REG1 R0
18465 00003434 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18466                                 M                                           ;REG=>[SP]
18467                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   220
PROGRAM NAME =

18468 00003436 D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18469 00003438 6001                   M           MOV.W   @R0,R0
18470                                 M           POP_REG1 R0
18471                                 M                                   ; RE"+4" 00,00,00,04
18472 0000343A 60F6                   M           MOV.L   @R15+,R0        ;
18473                            5836             SUB_END
18474                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18475 0000343C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18476                            5837             M_RTS
18477 0000343E 000B                   M           RTS                             ;RTSの後ろの
18478 00003440 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18479                            5838     
18480                            5839     ;       ---------------------------------------------------
18481                            5840     ;       ---     位置決めLSIへのｺﾏﾝﾄﾞ発行とﾜｰｸ処理       ---
18482                            5841     ;       ---     SLOW                                    ---
18483                            5842     ;       ---------------------------------------------------
18484                                     ***** BEGIN-POOL *****
18485 00003442 0000                       ALIGNMENT CODE
18486 00003444 08000000                   DATA FOR SOURCE-LINE 5829
18487 00003448 00000000                   DATA FOR SOURCE-LINE 5830,5835
18488 0000344C 00000000                   DATA FOR SOURCE-LINE 5830,5835
18489 00003450 00000000                   DATA FOR SOURCE-LINE 5830,5830,5835,5835
18490 00003454 00000000                   DATA FOR SOURCE-LINE 5832
18491 00003458 F7FFFFFF                   DATA FOR SOURCE-LINE 5834
18492                                     ***** END-POOL *****
18493 0000345C                   5843             .ALIGN  4                               ;
18494 0000345C                   5844     _POS_LSI_SLOW_STOP_CMD
18495                            5845             SUB_START
18496 0000345C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18497                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18498 0000345E D417              5846             MOV.L   #(BIT10*H'10000),R4             ;
18499                            5847             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18500 00003460 D617                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18501 00003462 6562                   M           MOV.L   @R6,R5                                          ;
18502 00003464 254B                   M           OR      R4,R5                                           ;
18503 00003466 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18504                                 M   
18505 00003468 D616                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18506                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18507 0000346A 6559                   M           SWAP.W  R5,R5                           ;
18508                                 M   
18509 0000346C 2651                   M           MOV.W   R5,@R6
18510 0000346E 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18511 00003470 6559                   M           SWAP.W  R5,R5                           ;
18512                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18513                                 M           PUSH_REG1 R0
18514 00003472 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18515                                 M                                           ;REG=>[SP]
18516                                 M                                           ;"-4" FF,FF,FF,FC
18517 00003474 D014                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18518 00003476 6001                   M           MOV.W   @R0,R0
18519                                 M           POP_REG1 R0
18520                                 M                                   ; RE"+4" 00,00,00,04
18521 00003478 60F6                   M           MOV.L   @R15+,R0        ;
18522 0000347A 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18523                                 M           POS_LSI_WORD_DUM_LOD                                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   221
PROGRAM NAME =

18524                                 M           PUSH_REG1 R0
18525 0000347C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18526                                 M                                           ;REG=>[SP]
18527                                 M                                           ;"-4" FF,FF,FF,FC
18528 0000347E D012                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18529 00003480 6001                   M           MOV.W   @R0,R0
18530                                 M           POP_REG1 R0
18531                                 M                                   ; RE"+4" 00,00,00,04
18532 00003482 60F6                   M           MOV.L   @R15+,R0        ;
18533 00003484 0009              5848             NOP
18534                            5849             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
18535 00003486 D011                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18536 00003488 400B                   M           JSR     @R0                     ;
18537 0000348A 0009                   M           NOP                                     ;
18538 0000348C 0009              5850             NOP
18539 0000348E D410              5851             MOV.L   #~(BIT10*H'10000),R4            ;
18540                            5852             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18541 00003490 D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18542 00003492 6562                   M           MOV.L   @R6,R5                                          ;
18543 00003494 2549                   M           AND     R4,R5                                           ;
18544 00003496 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18545                                 M   
18546 00003498 D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18547                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18548 0000349A 6559                   M           SWAP.W  R5,R5                           ;
18549                                 M   
18550 0000349C 2651                   M           MOV.W   R5,@R6
18551 0000349E 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18552 000034A0 6559                   M           SWAP.W  R5,R5                           ;
18553                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18554                                 M           PUSH_REG1 R0
18555 000034A2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18556                                 M                                           ;REG=>[SP]
18557                                 M                                           ;"-4" FF,FF,FF,FC
18558 000034A4 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18559 000034A6 6001                   M           MOV.W   @R0,R0
18560                                 M           POP_REG1 R0
18561                                 M                                   ; RE"+4" 00,00,00,04
18562 000034A8 60F6                   M           MOV.L   @R15+,R0        ;
18563 000034AA 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18564                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18565                                 M           PUSH_REG1 R0
18566 000034AC 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18567                                 M                                           ;REG=>[SP]
18568                                 M                                           ;"-4" FF,FF,FF,FC
18569 000034AE D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18570 000034B0 6001                   M           MOV.W   @R0,R0
18571                                 M           POP_REG1 R0
18572                                 M                                   ; RE"+4" 00,00,00,04
18573 000034B2 60F6                   M           MOV.L   @R15+,R0        ;
18574                            5853     
18575                            5854             SUB_END
18576                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18577 000034B4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18578                            5855             M_RTS
18579 000034B6 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   222
PROGRAM NAME =

18580 000034B8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18581                            5856     
18582                            5857     ;       ***********************************
18583                            5858     ;       ***                             ***
18584                            5859     ;       ***     速度変更有効            ***
18585                            5860     ;       ***                             ***
18586                            5861     ;       ***********************************
18587                            5862     
18588                            5863     
18589                            5864     ;       ***********************************
18590                            5865     ;       ***                             ***
18591                            5866     ;       ***     起動                    ***
18592                            5867     ;       ***                             ***
18593                            5868     ;       ***********************************
18594                            5869     
18595                                     ***** BEGIN-POOL *****
18596 000034BA 0000                       ALIGNMENT CODE
18597 000034BC 04000000                   DATA FOR SOURCE-LINE 5846
18598 000034C0 00000000                   DATA FOR SOURCE-LINE 5847,5852
18599 000034C4 00000000                   DATA FOR SOURCE-LINE 5847,5852
18600 000034C8 00000000                   DATA FOR SOURCE-LINE 5847,5847,5852,5852
18601 000034CC 00000000                   DATA FOR SOURCE-LINE 5849
18602 000034D0 FBFFFFFF                   DATA FOR SOURCE-LINE 5851
18603                                     ***** END-POOL *****
18604 000034D4                   5870             .ALIGN  4                               ;
18605 000034D4                   5871     _FWD_REV_START:
18606                            5872             SUB_START
18607 000034D4 4F22                   M           STS.L   PR,@-R15                ;[必要]
18608                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18609                            5873             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
18610 000034D6 D025                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18611 000034D8 400B                   M           JSR     @R0                     ;
18612 000034DA 0009                   M           NOP                                     ;
18613                            5874     
18614 000034DC D124              5875             MOV.L   #_POSLSI_DRIV_SHIN,R1
18615 000034DE 6011              5876             MOV.W   @R1,R0                                          ;
18616 000034E0 D324              5877             MOV.L   #(BIT3*H'10000),R3                              ;
18617 000034E2 244A              5878             XOR     R4,R4                                           ;
18618 000034E4 C801              5879             TST     #BIT0,R0                                        ;
18619                            5880             TST_BIT_OF FWD_REV_STR_050                              ;
18620 000034E6 8900                   M           BT      FWD_REV_STR_050
18621 000034E8 6433              5881             MOV     R3,R4                                           ;
18622 000034EA                   5882     FWD_REV_STR_050:                                                ;
18623                            5883     ;       =============================
18624 000034EA D123              5884             MOV.L   #_SVP_MACINE_SEL1,R1                            ;
18625 000034EC 6011              5885             MOV.W   @R1,R0                                          ;
18626 000034EE 913B              5886             MOV.W   #D'8765,R1                                      ;
18627 000034F0 3010              5887             CMP/EQ  R1,R0                                           ;
18628 000034F2 8B01              5888             BF      FWD_REV_STR_055                                 ;
18629 000034F4 D01F              5889             MOV.L   #_DBG_XOR_SIG,R0                                ;
18630 000034F6 240A              5890             XOR     R0,R4                                           ;
18631 000034F8                   5891     FWD_REV_STR_055:                                                ;
18632                            5892     
18633                            5893     ;       ==方向選択==
18634                            5894             POS_LSI_BIT_MOV_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;
18635 000034F8 D620                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18636 000034FA 6562                   M           MOV.L   @R6,R5                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   223
PROGRAM NAME =

18637 000034FC 6337                   M           NOT     R3,R3                                           ;
18638 000034FE 2539                   M           AND     R3,R5                                           ;
18639 00003500 254B                   M           OR      R4,R5                                           ;
18640 00003502 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18641                                 M   
18642 00003504 D61E                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18643                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18644 00003506 6559                   M           SWAP.W  R5,R5                           ;
18645                                 M   
18646 00003508 2651                   M           MOV.W   R5,@R6
18647 0000350A 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18648 0000350C 6559                   M           SWAP.W  R5,R5                           ;
18649                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18650                                 M           PUSH_REG1 R0
18651 0000350E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18652                                 M                                           ;REG=>[SP]
18653                                 M                                           ;"-4" FF,FF,FF,FC
18654 00003510 D01C                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18655 00003512 6001                   M           MOV.W   @R0,R0
18656                                 M           POP_REG1 R0
18657                                 M                                   ; RE"+4" 00,00,00,04
18658 00003514 60F6                   M           MOV.L   @R15+,R0        ;
18659 00003516 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18660                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18661                                 M           PUSH_REG1 R0
18662 00003518 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18663                                 M                                           ;REG=>[SP]
18664                                 M                                           ;"-4" FF,FF,FF,FC
18665 0000351A D01A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18666 0000351C 6001                   M           MOV.W   @R0,R0
18667                                 M           POP_REG1 R0
18668                                 M                                   ; RE"+4" 00,00,00,04
18669 0000351E 60F6                   M           MOV.L   @R15+,R0        ;
18670                            5895             POS_LSI_WORD_DUM_LOD                                                    ;
18671                                 M           PUSH_REG1 R0
18672 00003520 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18673                                 M                                           ;REG=>[SP]
18674                                 M                                           ;"-4" FF,FF,FF,FC
18675 00003522 D018                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18676 00003524 6001                   M           MOV.W   @R0,R0
18677                                 M           POP_REG1 R0
18678                                 M                                   ; RE"+4" 00,00,00,04
18679 00003526 60F6                   M           MOV.L   @R15+,R0        ;
18680                            5896     
18681                            5897     ;       == 起動 ===                                                             ;
18682 00003528 D417              5898             MOV.L   #(BIT2*H'10000),R4                                              ;
18683                            5899             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;;起動 ONｴ
                                          ｯｼﾞ
18684 0000352A D614                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18685 0000352C 6562                   M           MOV.L   @R6,R5                                          ;
18686 0000352E 254B                   M           OR      R4,R5                                           ;
18687 00003530 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18688                                 M   
18689 00003532 D613                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18690                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18691 00003534 6559                   M           SWAP.W  R5,R5                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   224
PROGRAM NAME =

18692                                 M   
18693 00003536 2651                   M           MOV.W   R5,@R6
18694 00003538 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18695 0000353A 6559                   M           SWAP.W  R5,R5                           ;
18696                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18697                                 M           PUSH_REG1 R0
18698 0000353C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18699                                 M                                           ;REG=>[SP]
18700                                 M                                           ;"-4" FF,FF,FF,FC
18701 0000353E D011                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18702 00003540 6001                   M           MOV.W   @R0,R0
18703                                 M           POP_REG1 R0
18704                                 M                                   ; RE"+4" 00,00,00,04
18705 00003542 60F6                   M           MOV.L   @R15+,R0        ;
18706 00003544 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18707                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18708                                 M           PUSH_REG1 R0
18709 00003546 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18710                                 M                                           ;REG=>[SP]
18711                                 M                                           ;"-4" FF,FF,FF,FC
18712 00003548 D00E                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18713 0000354A 6001                   M           MOV.W   @R0,R0
18714                                 M           POP_REG1 R0
18715                                 M                                   ; RE"+4" 00,00,00,04
18716 0000354C 60F6                   M           MOV.L   @R15+,R0        ;
18717                            5900             POS_LSI_WORD_DUM_LOD                                                    ;
18718                                 M           PUSH_REG1 R0
18719 0000354E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18720                                 M                                           ;REG=>[SP]
18721                                 M                                           ;"-4" FF,FF,FF,FC
18722 00003550 D00C                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18723 00003552 6001                   M           MOV.W   @R0,R0
18724                                 M           POP_REG1 R0
18725                                 M                                   ; RE"+4" 00,00,00,04
18726 00003554 60F6                   M           MOV.L   @R15+,R0        ;
18727                            5901     
18728                            5902             FAR_JSR #_SPD_CTL_START,R0
18729 00003556 D00D                   M           MOV.L   #_SPD_CTL_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18730 00003558 400B                   M           JSR     @R0                     ;
18731 0000355A 0009                   M           NOP                                     ;
18732                            5903     
18733                            5904     
18734                            5905             .AIF    0 EQ    0
18735                            5906 C   
18736                            5907 C           FAR_JSR #_VIB_PLS_OUT_ON,R0     ;2010-08-23加振動制御
18737 0000355C D00C                   M           MOV.L   #_VIB_PLS_OUT_ON,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18738 0000355E 400B                   M           JSR     @R0                     ;
18739 00003560 0009                   M           NOP                                     ;
18740                            5908             .AENDI
18741                            5909     
18742                            5910     
18743                            5911     
18744                            5912     
18745                            5913             SUB_END
18746                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18747 00003562 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   225
PROGRAM NAME =

18748                            5914             M_RTS
18749 00003564 000B                   M           RTS                             ;RTSの後ろの
18750 00003566 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18751                            5915     
18752                            5916     ;       ==== 起動信号OFF ====
18753                                     ***** BEGIN-POOL *****
18754 00003568 223D                       DATA FOR SOURCE-LINE 5886
18755 0000356A 0000                       ALIGNMENT CODE
18756 0000356C 00000000                   DATA FOR SOURCE-LINE 5873
18757 00003570 00000000                   DATA FOR SOURCE-LINE 5875
18758 00003574 00080000                   DATA FOR SOURCE-LINE 5877,5889
18759 00003578 00000000                   DATA FOR SOURCE-LINE 5884
18760 0000357C 00000000                   DATA FOR SOURCE-LINE 5894,5899
18761 00003580 00000000                   DATA FOR SOURCE-LINE 5894,5899
18762 00003584 00000000                   DATA FOR SOURCE-LINE 5894,5894,5895,5899,5899,5900
18763 00003588 00040000                   DATA FOR SOURCE-LINE 5898
18764 0000358C 00000000                   DATA FOR SOURCE-LINE 5902
18765 00003590 00000000                   DATA FOR SOURCE-LINE 5907
18766                                     ***** END-POOL *****
18767 00003594                   5917             .ALIGN  4                               ;
18768 00003594                   5918     _FWD_REV_STSIG_OFF:
18769                            5919             SUB_START
18770 00003594 4F22                   M           STS.L   PR,@-R15                ;[必要]
18771                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18772 00003596 D40B              5920             MOV.L   #~(BIT2*H'10000),R4             ;
18773                            5921             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18774 00003598 D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18775 0000359A 6562                   M           MOV.L   @R6,R5                                          ;
18776 0000359C 2549                   M           AND     R4,R5                                           ;
18777 0000359E 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18778                                 M   
18779 000035A0 D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18780                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18781 000035A2 6559                   M           SWAP.W  R5,R5                           ;
18782                                 M   
18783 000035A4 2651                   M           MOV.W   R5,@R6
18784 000035A6 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18785 000035A8 6559                   M           SWAP.W  R5,R5                           ;
18786                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18787                                 M           PUSH_REG1 R0
18788 000035AA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18789                                 M                                           ;REG=>[SP]
18790                                 M                                           ;"-4" FF,FF,FF,FC
18791 000035AC D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18792 000035AE 6001                   M           MOV.W   @R0,R0
18793                                 M           POP_REG1 R0
18794                                 M                                   ; RE"+4" 00,00,00,04
18795 000035B0 60F6                   M           MOV.L   @R15+,R0        ;
18796 000035B2 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18797                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18798                                 M           PUSH_REG1 R0
18799 000035B4 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18800                                 M                                           ;REG=>[SP]
18801                                 M                                           ;"-4" FF,FF,FF,FC
18802 000035B6 D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18803 000035B8 6001                   M           MOV.W   @R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   226
PROGRAM NAME =

18804                                 M           POP_REG1 R0
18805                                 M                                   ; RE"+4" 00,00,00,04
18806 000035BA 60F6                   M           MOV.L   @R15+,R0        ;
18807                            5922             SUB_END
18808                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18809 000035BC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18810                            5923             M_RTS
18811 000035BE 000B                   M           RTS                             ;RTSの後ろの
18812 000035C0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18813                            5924     
18814                            5925     ;       =====================
18815                            5926     ;       ==== 起動信号OFF ====
18816                            5927     ;       =====================
18817                            5928     ;       残ﾊﾟﾙｽがなくなってから指令OFF
18818                                     ***** BEGIN-POOL *****
18819 000035C2 0000                       ALIGNMENT CODE
18820 000035C4 FFFBFFFF                   DATA FOR SOURCE-LINE 5920
18821 000035C8 00000000                   DATA FOR SOURCE-LINE 5921
18822 000035CC 00000000                   DATA FOR SOURCE-LINE 5921
18823 000035D0 00000000                   DATA FOR SOURCE-LINE 5921,5921
18824                                     ***** END-POOL *****
18825 000035D4                   5929             .ALIGN  4                               ;
18826 000035D4                   5930     _FWD_REV_STSIG_OFF_SPEC:
18827                            5931             SUB_START
18828 000035D4 4F22                   M           STS.L   PR,@-R15                ;[必要]
18829                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18830                            5932             PUSH_REG1 R0
18831 000035D6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18832                                 M                                           ;REG=>[SP]
18833                                 M                                           ;"-4" FF,FF,FF,FC
18834                            5933             FAR_JSR #_LOAD_REST_PLS,R0
18835 000035D8 D00E                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18836 000035DA 400B                   M           JSR     @R0                     ;
18837 000035DC 0009                   M           NOP                                     ;
18838 000035DE 6103              5934             MOV     R0,R1                                           ;
18839                            5935             POP_REG1 R0
18840                                 M                                   ; RE"+4" 00,00,00,04
18841 000035E0 60F6                   M           MOV.L   @R15+,R0        ;
18842                            5936     
18843 000035E2 2118              5937             TST     R1,R1                           ;
18844                            5938             TST_BIT_ON FWD_REV_STSIG_OFSPEC_050     ;
18845 000035E4 8B12                   M           BF      FWD_REV_STSIG_OFSPEC_050
18846 000035E6 D40C              5939             MOV.L   #~(BIT2*H'10000),R4             ;
18847                            5940             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18848 000035E8 D60C                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18849 000035EA 6562                   M           MOV.L   @R6,R5                                          ;
18850 000035EC 2549                   M           AND     R4,R5                                           ;
18851 000035EE 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18852                                 M   
18853 000035F0 D60B                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18854                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18855 000035F2 6559                   M           SWAP.W  R5,R5                           ;
18856                                 M   
18857 000035F4 2651                   M           MOV.W   R5,@R6
18858 000035F6 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18859 000035F8 6559                   M           SWAP.W  R5,R5                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   227
PROGRAM NAME =

18860                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18861                                 M           PUSH_REG1 R0
18862 000035FA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18863                                 M                                           ;REG=>[SP]
18864                                 M                                           ;"-4" FF,FF,FF,FC
18865 000035FC D009                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18866 000035FE 6001                   M           MOV.W   @R0,R0
18867                                 M           POP_REG1 R0
18868                                 M                                   ; RE"+4" 00,00,00,04
18869 00003600 60F6                   M           MOV.L   @R15+,R0        ;
18870 00003602 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18871                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18872                                 M           PUSH_REG1 R0
18873 00003604 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18874                                 M                                           ;REG=>[SP]
18875                                 M                                           ;"-4" FF,FF,FF,FC
18876 00003606 D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18877 00003608 6001                   M           MOV.W   @R0,R0
18878                                 M           POP_REG1 R0
18879                                 M                                   ; RE"+4" 00,00,00,04
18880 0000360A 60F6                   M           MOV.L   @R15+,R0        ;
18881 0000360C                   5941     FWD_REV_STSIG_OFSPEC_050:
18882                            5942             SUB_END
18883                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18884 0000360C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18885                            5943             M_RTS
18886 0000360E 000B                   M           RTS                             ;RTSの後ろの
18887 00003610 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18888                            5944     
18889                            5945     ;       ***********************************
18890                            5946     ;       ***     ｽﾃｰﾀｽLOAD               ***
18891                            5947     ;       ***********************************
18892                            5948     ;;      .EXPORT _LOD_POS_STS_REG        ;2003-05-12
18893                                     ***** BEGIN-POOL *****
18894 00003612 0000                       ALIGNMENT CODE
18895 00003614 00000000                   DATA FOR SOURCE-LINE 5933
18896 00003618 FFFBFFFF                   DATA FOR SOURCE-LINE 5939
18897 0000361C 00000000                   DATA FOR SOURCE-LINE 5940
18898 00003620 00000000                   DATA FOR SOURCE-LINE 5940
18899 00003624 00000000                   DATA FOR SOURCE-LINE 5940,5940
18900                                     ***** END-POOL *****
18901 00003628                   5949             .ALIGN  4                               ;
18902 00003628                   5950     _LOD_POS_STS_REG:
18903                            5951             SUB_START
18904 00003628 4F22                   M           STS.L   PR,@-R15                ;[必要]
18905                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18906                            5952             PUSH_REG1 R2
18907 0000362A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18908                                 M                                           ;REG=>[SP]
18909                                 M                                           ;"-4" FF,FF,FF,FC
18910                            5953     
18911                            5954             FAR_JSR #_LOD_POS_STS_REG_IN,R0 ;ANS R0
18912 0000362C D003                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18913 0000362E 400B                   M           JSR     @R0                     ;
18914 00003630 0009                   M           NOP                                     ;
18915                            5955     
18916                            5956             POP_REG1 R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   228
PROGRAM NAME =

18917                                 M                                   ; RE"+4" 00,00,00,04
18918 00003632 62F6                   M           MOV.L   @R15+,R2        ;
18919                            5957             SUB_END
18920                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18921 00003634 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18922                            5958             M_RTS
18923 00003636 000B                   M           RTS                             ;RTSの後ろの
18924 00003638 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18925                            5959     
18926                            5960     
18927                            5961     ;       ***********************************
18928                            5962     ;       ***     ｽﾃｰﾀｽLOAD               ***
18929                            5963     ;       ***********************************
18930                            5964     ;;      .EXPORT _LOD_POS_STS_REG        ;2003-05-12
18931                                     ***** BEGIN-POOL *****
18932 0000363A 0000                       ALIGNMENT CODE
18933 0000363C 00000000                   DATA FOR SOURCE-LINE 5954
18934                                     ***** END-POOL *****
18935 00003640                   5965             .ALIGN  4                               ;
18936 00003640                   5966     _LOD_POS_STS_REG_POR:
18937 00003640                   5967     _LOD_POS_STS_REG_SLOW:
18938                            5968             SUB_START
18939 00003640 4F22                   M           STS.L   PR,@-R15                ;[必要]
18940                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18941                            5969             PUSH_REG1 R2
18942 00003642 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18943                                 M                                           ;REG=>[SP]
18944                                 M                                           ;"-4" FF,FF,FF,FC
18945                            5970     
18946                            5971             FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;ANS R0
18947 00003644 D007                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18948 00003646 400B                   M           JSR     @R0                     ;
18949 00003648 0009                   M           NOP                                     ;
18950 0000364A C804              5972             TST     #BIT2,R0                        ;
18951                            5973             TST_BIT_ON LOD_POS_STS_REGSLOW_END      ;
18952 0000364C 8B05                   M           BF      LOD_POS_STS_REGSLOW_END
18953 0000364E D206              5974             MOV.L   #_POSCTL_STEP_FLG,R2            ;
18954 00003650 6421              5975             MOV.W   @R2,R4                          ;
18955 00003652 9206              5976             MOV.W   #BIT6,R2                        ;
18956 00003654 2428              5977             TST     R2,R4                           ;
18957                            5978             TST_BIT_OF LOD_POS_STS_REGSLOW_END      ;
18958 00003656 8900                   M           BT      LOD_POS_STS_REGSLOW_END
18959 00003658 CB04              5979             OR      #BIT2,R0                        ;
18960                            5980     
18961 0000365A                   5981     LOD_POS_STS_REGSLOW_END:
18962                            5982             POP_REG1 R2
18963                                 M                                   ; RE"+4" 00,00,00,04
18964 0000365A 62F6                   M           MOV.L   @R15+,R2        ;
18965                            5983             SUB_END
18966                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18967 0000365C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18968                            5984             M_RTS
18969 0000365E 000B                   M           RTS                             ;RTSの後ろの
18970 00003660 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18971                            5985     
18972                            5986     
18973                            5987     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   229
PROGRAM NAME =

18974                            5988     ;       ***********************************
18975                            5989     ;       ***     ｽﾃｰﾀｽLOAD               ***
18976                            5990     ;       ***********************************
18977                            5991     ;       R0 BIT2=1 STOP
18978                                     ***** BEGIN-POOL *****
18979 00003662 0040                       DATA FOR SOURCE-LINE 5976
18980 00003664 00000000                   DATA FOR SOURCE-LINE 5971
18981 00003668 00000000                   DATA FOR SOURCE-LINE 5974
18982                                     ***** END-POOL *****
18983 0000366C                   5992             .ALIGN  4                               ;
18984 0000366C                   5993     _LOD_POS_STS_REG_IN:
18985                            5994             SUB_START
18986 0000366C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18987                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18988                            5995             PUSH_REG1 R2
18989 0000366E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18990                                 M                                           ;REG=>[SP]
18991                                 M                                           ;"-4" FF,FF,FF,FC
18992                            5996     
18993 00003670 D413              5997             MOV.L   #(BIT2*H'10000),R4
18994 00003672                   5998     LOD_POS_STSRG00:
18995                            5999             POS_LSI_WORD_DUM_LOD                                    ;
18996                                 M           PUSH_REG1 R0
18997 00003672 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18998                                 M                                           ;REG=>[SP]
18999                                 M                                           ;"-4" FF,FF,FF,FC
19000 00003674 D013                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
19001 00003676 6001                   M           MOV.W   @R0,R0
19002                                 M           POP_REG1 R0
19003                                 M                                   ; RE"+4" 00,00,00,04
19004 00003678 60F6                   M           MOV.L   @R15+,R0        ;
19005 0000367A D613              6000             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitInfoL,R6        ;
19006 0000367C 6065              6001             MOV.W   @R6+,R0                                         ;BIT1:指令ﾊﾟﾙｽ BIT2:ﾊﾟﾙｽ払
                                          出停止中
19007                            6002                                                                     ;BIT2で判断する
19008                            6003             POS_LSI_WORD_DUM_LOD                                    ;
19009                                 M           PUSH_REG1 R0
19010 0000367E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19011                                 M                                           ;REG=>[SP]
19012                                 M                                           ;"-4" FF,FF,FF,FC
19013 00003680 D010                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
19014 00003682 6001                   M           MOV.W   @R0,R0
19015                                 M           POP_REG1 R0
19016                                 M                                   ; RE"+4" 00,00,00,04
19017 00003684 60F6                   M           MOV.L   @R15+,R0        ;
19018 00003686 6261              6004             MOV.W   @R6,R2                                          ;
19019 00003688 600D              6005             EXTU.W  R0,R0                                           ;LOW
19020 0000368A 622D              6006             EXTU.W  R2,R2                                           ;HIGH
19021 0000368C 4228              6007             SHLL16  R2
19022 0000368E 202B              6008             OR      R2,R0                                           ;
19023 00003690 0009              6009             NOP
19024                            6010             POS_LSI_WORD_DUM_LOD                                    ;
19025                                 M           PUSH_REG1 R0
19026 00003692 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19027                                 M                                           ;REG=>[SP]
19028                                 M                                           ;"-4" FF,FF,FF,FC
19029 00003694 D00B                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   230
PROGRAM NAME =

19030 00003696 6001                   M           MOV.W   @R0,R0
19031                                 M           POP_REG1 R0
19032                                 M                                   ; RE"+4" 00,00,00,04
19033 00003698 60F6                   M           MOV.L   @R15+,R0        ;
19034 0000369A D60B              6011             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitInfoL,R6        ;
19035 0000369C 6165              6012             MOV.W   @R6+,R1                                         ;
19036                            6013             POS_LSI_WORD_DUM_LOD                                    ;
19037                                 M           PUSH_REG1 R0
19038 0000369E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19039                                 M                                           ;REG=>[SP]
19040                                 M                                           ;"-4" FF,FF,FF,FC
19041 000036A0 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
19042 000036A2 6001                   M           MOV.W   @R0,R0
19043                                 M           POP_REG1 R0
19044                                 M                                   ; RE"+4" 00,00,00,04
19045 000036A4 60F6                   M           MOV.L   @R15+,R0        ;
19046 000036A6 6261              6014             MOV.W   @R6,R2                                          ;
19047 000036A8 611D              6015             EXTU.W  R1,R1                                           ;LOW
19048 000036AA 622D              6016             EXTU.W  R2,R2                                           ;HIGH
19049 000036AC 4228              6017             SHLL16  R2                                              ;
19050 000036AE 212B              6018             OR      R2,R1                                           ;
19051                            6019     
19052 000036B0 201A              6020             XOR     R1,R0                                           ;
19053 000036B2 2048              6021             TST     R4,R0                                           ;
19054                            6022             TST_BIT_ON LOD_POS_STSRG00                              ;R0=R1
19055 000036B4 8BDD                   M           BF      LOD_POS_STSRG00
19056 000036B6 6013              6023             MOV     R1,R0                                           ;BIT2
19057                            6024     
19058                            6025             POP_REG1 R2
19059                                 M                                   ; RE"+4" 00,00,00,04
19060 000036B8 62F6                   M           MOV.L   @R15+,R2        ;
19061                            6026             SUB_END
19062                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19063 000036BA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19064                            6027             M_RTS
19065 000036BC 000B                   M           RTS                             ;RTSの後ろの
19066 000036BE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19067                            6028     
19068                            6029     
19069                            6030     
19070                            6031     
19071                            6032     
19072                            6033     ;       ***********************************
19073                            6034     ;       ***     現在位置ｶｳﾝﾀLOAD        ***
19074                            6035     ;       ***********************************
19075                            6036             .EXPORT _POS_LSI_CNT_LOAD_R1reg
19076                                     ***** BEGIN-POOL *****
19077 000036C0 00040000                   DATA FOR SOURCE-LINE 5997
19078 000036C4 00000000                   DATA FOR SOURCE-LINE 5999,6003,6010,6013
19079 000036C8 00000000                   DATA FOR SOURCE-LINE 6000,6011
19080                                     ***** END-POOL *****
19081 000036CC                   6037             .ALIGN  4                               ;
19082 000036CC                   6038     _POS_LSI_CNT_LOAD_R1reg:
19083                            6039             SUB_START
19084 000036CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
19085                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19086 000036CE D603              6040             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_NowPos1L,R6        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   231
PROGRAM NAME =

19087 000036D0 6162              6041             MOV.L   @R6,R1                                          ;(とりあえずこのままにして
                                          おく)
19088 000036D2 6119              6042             SWAP.W  R1,R1                                           ;
19089                            6043             SUB_END
19090                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19091 000036D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19092                            6044             M_RTS
19093 000036D6 000B                   M           RTS                             ;RTSの後ろの
19094 000036D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19095                            6045     
19096                            6046     
19097                            6047     
19098                            6048     ;       ***********************************
19099                            6049     ;       ***                             ***
19100                            6050     ;       ***     払出ﾊﾟﾙｽ                ***
19101                            6051     ;       ***                             ***
19102                            6052     ;       ***********************************
19103                            6053     ;       I/F LNGTH_ADD_DATA[2];//符号付き
19104                            6054     ;
19105                            6055     ;       ﾊﾞｯｸﾗｯｼの処理はここで行う
19106                            6056     ;
19107                            6057     ;
19108                                     ***** BEGIN-POOL *****
19109 000036DA 0000                       ALIGNMENT CODE
19110 000036DC 00000000                   DATA FOR SOURCE-LINE 6040
19111                                     ***** END-POOL *****
19112 000036E0                   6058             .ALIGN  4                               ;
19113 000036E0                   6059     _POS_LENGTH_ADD_DATA
19114                            6060             SUB_START
19115 000036E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
19116                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19117 000036E2 D40A              6061             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
19118 000036E4 6142              6062             MOV.L   @R4,R1                          ;
19119 000036E6 5241              6063             MOV.L   @(4,R4),R2                      ;
19120 000036E8 233A              6064             XOR     R3,R3                           ;
19121 000036EA 2432              6065             MOV.L   R3,@R4                                                  ;
19122 000036EC 1431              6066             MOV.L   R3,@(4,R4)                                              ;(ここでﾊﾞｯｸﾗｯｼ補
                                          正を足しこむ)
19123                            6067     
19124 000036EE D708              6068             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;//符号つき TOTAL=
                                          TOTAL+ADD ADD_DATA<=0
19125 000036F0 6572              6069             MOV.L   @R7,R5                                                  ;
19126 000036F2 5671              6070             MOV.L   @(4,R7),R6                                              ;
19127                            6071             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
19128 000036F4 0008                   M           CLRT
19129 000036F6 326E                   M           ADDC    R6,R2
19130 000036F8 315E                   M           ADDC    R5,R1
19131 000036FA 2712              6072             MOV.L   R1,@R7                                                  ;
19132 000036FC 1721              6073             MOV.L   R2,@(4,R7)                                              ;
19133                            6074     
19134                            6075     ;       ===2004-01-28 MONITOR ==
19135 000036FE D705              6076             MOV.L   #_LT_LNGTH_TOTAL_OUTPLS,R7;//符号つき
19136 00003700 2712              6077             MOV.L   R1,@R7                                                  ;
19137 00003702 1721              6078             MOV.L   R2,@(4,R7)                                              ;
19138                            6079     
19139                            6080             SUB_END
19140                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   232
PROGRAM NAME =

19141 00003704 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19142                            6081             M_RTS
19143 00003706 000B                   M           RTS                             ;RTSの後ろの
19144 00003708 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19145                            6082     
19146                            6083     ;       *******************************************
19147                            6084     ;       ***                                     ***
19148                            6085     ;       ***     ﾊﾟﾙｽ払い出し管理                ***
19149                            6086     ;       ***                                     ***
19150                            6087     ;       *******************************************
19151                            6088     ;       ***********************************************************
19152                            6089     ;       ***     (停止時からの起動の場合のみ有効・安一のみ)      ***
19153                            6090     ;       ***********************************************************
19154                                     ***** BEGIN-POOL *****
19155 0000370A 0000                       ALIGNMENT CODE
19156 0000370C 00000000                   DATA FOR SOURCE-LINE 6061
19157 00003710 00000000                   DATA FOR SOURCE-LINE 6068
19158 00003714 00000000                   DATA FOR SOURCE-LINE 6076
19159                                     ***** END-POOL *****
19160 00003718                   6091             .ALIGN  4                               ;
19161 00003718                   6092     _POS_PLSOUT_SET_RETRY:
19162                            6093             SUB_START
19163 00003718 4F22                   M           STS.L   PR,@-R15                ;[必要]
19164                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19165 0000371A D105              6094             MOV.L   #_MODE_SEL,R1                   ;
19166 0000371C 6011              6095             MOV.W   @R1,R0                          ;
19167 0000371E 9406              6096             MOV.W   #_W1SGL,R4                      ;
19168 00003720 2048              6097             TST     R4,R0                           ;
19169                            6098             TST_BIT_ON POS_PLSOUT_SETRY100          ;
19170 00003722 8B09                   M           BF      POS_PLSOUT_SETRY100
19171                            6099     
19172                            6100             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;
19173 00003724 D003                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19174 00003726 400B                   M           JSR     @R0                     ;
19175 00003728 0009                   M           NOP                                     ;
19176                            6101             M_BRA   POS_PLSOUT_SETRYEXT
19177 0000372A A09E                   M           BRA     POS_PLSOUT_SETRYEXT
19178 0000372C 0009                   M           NOP
19179                            6102     
19180                            6103     ;       ===     安全一行程      ===
19181                                     ***** BEGIN-POOL *****
19182 0000372E 0004                       DATA FOR SOURCE-LINE 6096
19183 00003730 00000000                   DATA FOR SOURCE-LINE 6094
19184 00003734 00000000                   DATA FOR SOURCE-LINE 6100
19185                                     ***** END-POOL *****
19186 00003738                   6104     POS_PLSOUT_SETRY100:
19187 00003738 200A              6105             XOR     R0,R0
19188 0000373A D116              6106             MOV.L   #_LSI_PLSSET_RETRY_CNT1,R1              ;
19189 0000373C 2101              6107             MOV.W   R0,@R1                                  ;
19190                            6108     
19191                            6109             eSHi_SET_MEM_MOV SRC=_LNGTH_TOTAL_OUTPLS+4,L1=L,DST=_SH4_LNGH_ADD_SR,L2=L       ;
19192                                 M           PUSH_REG1 R0
19193 0000373E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19194                                 M                                           ;REG=>[SP]
19195                                 M                                           ;"-4" FF,FF,FF,FC
19196                                 M           PUSH_REG1 R1
19197 00003740 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   233
PROGRAM NAME =

19198                                 M                                           ;REG=>[SP]
19199                                 M                                           ;"-4" FF,FF,FF,FC
19200 00003742 D115                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS+4,R1       ;
19201 00003744 6012                   M           MOV.L   @R1,R0          ;
19202 00003746 D115                   M           MOV.L   #_SH4_LNGH_ADD_SR,R1    ;
19203 00003748 2102                   M           MOV.L   R0,@R1          ;
19204                                 M           POP_REG1 R1
19205                                 M                                   ; RE"+4" 00,00,00,04
19206 0000374A 61F6                   M           MOV.L   @R15+,R1        ;
19207                                 M           POP_REG1 R0
19208                                 M                                   ; RE"+4" 00,00,00,04
19209 0000374C 60F6                   M           MOV.L   @R15+,R0        ;
19210                            6110             TIM_CNT_ADD MEM=_SH4_LOT_CNT_A,LG=W,ADR_REG=R1,DAT_REG=R0,LATE=1                ;+
                                          1
19211 0000374E D114                   M           MOV.L   #_SH4_LOT_CNT_A,R1              ;
19212 00003750 6011                   M           MOV.W   @R1,R0  ;
19213 00003752 7001                   M           ADD     #1,R0           ;
19214 00003754 2101                   M           MOV.W   R0,@R1  ;
19215                            6111     
19216                            6112     
19217                            6113     
19218 00003756                   6114     POS_PLSOUT_SETRYLOP:
19219                            6115     
19220 00003756 D713              6116             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;+/-(0へ向かってい
                                          く)
19221 00003758 6172              6117             MOV.L   @R7,R1                                                  ;
19222 0000375A 5271              6118             MOV.L   @(4,R7),R2                                              ;払いだしたい量
19223                            6119             PUSH_REG1 R1                                                    ;
19224 0000375C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19225                                 M                                           ;REG=>[SP]
19226                                 M                                           ;"-4" FF,FF,FF,FC
19227                            6120             PUSH_REG1 R2                                                    ;
19228 0000375E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
19229                                 M                                           ;REG=>[SP]
19230                                 M                                           ;"-4" FF,FF,FF,FC
19231                            6121             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                                ;
19232 00003760 D011                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19233 00003762 400B                   M           JSR     @R0                     ;
19234 00003764 0009                   M           NOP                                     ;
19235                            6122             POP_REG1 R2                                                     ;
19236                                 M                                   ; RE"+4" 00,00,00,04
19237 00003766 62F6                   M           MOV.L   @R15+,R2        ;
19238                            6123             POP_REG1 R1                                                     ;
19239                                 M                                   ; RE"+4" 00,00,00,04
19240 00003768 61F6                   M           MOV.L   @R15+,R1        ;
19241 0000376A 6313              6124             MOV     R1,R3                                                   ;
19242 0000376C 6423              6125             MOV     R2,R4                                                   ;
19243 0000376E 4311              6126             CMP/PZ  R3                                                      ;"+"
19244 00003770 8905              6127             BT      POS_PLSOUT_SETRY120                                     ;
19245                            6128             NEG1_64 H_REG=R3,L_REG=R4,WKREG=R0                              ;|R3,R4|
19246 00003772 6447                   M           NOT     R4,R4                           ;
19247 00003774 6337                   M           NOT     R3,R3                           ;
19248 00003776 200A                   M           XOR     R0,R0                           ;
19249 00003778 0018                   M           SETT
19250 0000377A 340E                   M           ADDC    R0,R4                           ;0+1+R2
19251 0000377C 330E                   M           ADDC    R0,R3                           ;
19252 0000377E                   6129     POS_PLSOUT_SETRY120:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   234
PROGRAM NAME =

19253 0000377E 2338              6130             TST     R3,R3                                                   ;
19254                            6131             TST_BIT_OF POS_PLSOUT_SETRY130                                  ;
19255 00003780 8918                   M           BT      POS_PLSOUT_SETRY130
19256                            6132     ;       ====上位LWORDが存在する. 1回転の中にそれがあることはない
19257                            6133     ;       ==== data err ===
                                          ;
19258                            6134             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CALC_ERR_FLG1,LG=W,BIT=(BIT2+BIT0),WKREG=R1
                                          ;
19259 00003782 D10A                   M           MOV.L   #_POS_CALC_ERR_FLG1,R1          ;
19260 00003784 6011                   M           MOV.W   @R1,R0          ;
19261 00003786 CB05                   M           OR      #(BIT2+BIT0),R0         ;
19262 00003788 2101                   M           MOV.W   R0,@R1          ;
19263                            6135             FAR_JSR #_OutputPLS_REG_CLR,R0
                                          ;
19264 0000378A D009                   M           MOV.L   #_OutputPLS_REG_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19265 0000378C 400B                   M           JSR     @R0                     ;
19266 0000378E 0009                   M           NOP                                     ;
19267                            6136             M_BRA   POS_PLSOUT_SETRY900
                                          ;
19268 00003790 A064                   M           BRA     POS_PLSOUT_SETRY900
19269 00003792 0009                   M           NOP
19270                            6137     
19271                                     ***** BEGIN-POOL *****
19272 00003794 00000000                   DATA FOR SOURCE-LINE 6106
19273 00003798 00000000                   DATA FOR SOURCE-LINE 6109
19274 0000379C 00000000                   DATA FOR SOURCE-LINE 6109
19275 000037A0 00000000                   DATA FOR SOURCE-LINE 6110
19276 000037A4 00000000                   DATA FOR SOURCE-LINE 6116
19277 000037A8 00000000                   DATA FOR SOURCE-LINE 6121
19278 000037AC 00000000                   DATA FOR SOURCE-LINE 6134
19279 000037B0 00000000                   DATA FOR SOURCE-LINE 6135
19280                                     ***** END-POOL *****
19281 000037B4                   6138     POS_PLSOUT_SETRY130:
19282                            6139     
19283                            6140             FAR_JSR #_LOAD_REST_PLS,R0                      ;
19284 000037B4 D017                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19285 000037B6 400B                   M           JSR     @R0                     ;
19286 000037B8 0009                   M           NOP                                     ;
19287                            6141             eSHi_SET_REG_MOV DST=_SH4_REST_PLS_SR,L1=L,SETREG=R0,WKREG1=R5
19288                                 M           PUSH_REG1 R5            ;
19289 000037BA 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
19290                                 M                                           ;REG=>[SP]
19291                                 M                                           ;"-4" FF,FF,FF,FC
19292 000037BC D516                   M           MOV.L   #_SH4_REST_PLS_SR,R5            ;
19293 000037BE 2502                   M           MOV.L   R0,@R5  ;
19294                                 M           POP_REG1 R5             ;
19295                                 M                                   ; RE"+4" 00,00,00,04
19296 000037C0 65F6                   M           MOV.L   @R15+,R5        ;
19297                            6142     
19298 000037C2 3400              6143             CMP/EQ  R0,R4                                   ;
19299 000037C4 894A              6144             BT      POS_PLSOUT_SETRY900                     ;"EQU"
19300 000037C6 7001              6145             ADD     #1,R0                                   ;
19301 000037C8 3400              6146             CMP/EQ  R0,R4                                   ;
19302 000037CA 8947              6147             BT      POS_PLSOUT_SETRY900                     ;
19303 000037CC 70FE              6148             ADD     #-2,R0                                  ;
19304 000037CE 3400              6149             CMP/EQ  R0,R4                                   ;
19305 000037D0 8944              6150             BT      POS_PLSOUT_SETRY900                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   235
PROGRAM NAME =

19306                            6151     
19307                            6152     ;       ==== ﾍﾞﾘﾌｧｲ異常====
19308                            6153             DEBUG_LSI_ACS_ON2_BIT BITDT=BIT2                ;VERIFAY ERR
19309                                 M   
19310                                 M           .AIF    0 EQ    0
19311                                 C   ;;      (波形測定時)
19312                                 C           PUSH_REG1 R0
19313 000037D2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19314                                 M                                           ;REG=>[SP]
19315                                 M                                           ;"-4" FF,FF,FF,FC
19316                                 C           PUSH_REG1 R1
19317 000037D4 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19318                                 M                                           ;REG=>[SP]
19319                                 M                                           ;"-4" FF,FF,FF,FC
19320                                 C           PUSH_REG1 R2
19321 000037D6 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
19322                                 M                                           ;REG=>[SP]
19323                                 M                                           ;"-4" FF,FF,FF,FC
19324 000037D8 D110                   C           MOV.L   #_PDTRA,R1                      ;
19325 000037DA 6011                   C           MOV.W   @R1,R0                          ;
19326 000037DC 9217                   C           MOV.W   #BIT2,R2                        ;
19327 000037DE 202B                   C           OR      R2,R0                           ;
19328 000037E0 2101                   C           MOV.W   R0,@R1                          ;
19329                                 C   
19330                                 C           POP_REG1 R2
19331                                 M                                   ; RE"+4" 00,00,00,04
19332 000037E2 62F6                   M           MOV.L   @R15+,R2        ;
19333                                 C           POP_REG1 R1
19334                                 M                                   ; RE"+4" 00,00,00,04
19335 000037E4 61F6                   M           MOV.L   @R15+,R1        ;
19336                                 C           POP_REG1 R0
19337                                 M                                   ; RE"+4" 00,00,00,04
19338 000037E6 60F6                   M           MOV.L   @R15+,R0        ;
19339                                 M           .AENDI
19340                                 M   
19341                            6154     
19342                            6155             FAR_JSR #_OutputPLS_REG_CLR,R0                  ;
19343 000037E8 D00D                   M           MOV.L   #_OutputPLS_REG_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19344 000037EA 400B                   M           JSR     @R0                     ;
19345 000037EC 0009                   M           NOP                                     ;
19346 000037EE D70D              6156             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                 ;+/-(0へ向かっていく)
19347 000037F0 2712              6157             MOV.L   R1,@R7                                  ;
19348 000037F2 1721              6158             MOV.L   R2,@(4,R7)                              ;払いだしたい量
19349                            6159     
19350 000037F4 D10C              6160             MOV.L   #_LSI_PLSSET_RETRY_CNT1,R1              ;
19351 000037F6 6011              6161             MOV.W   @R1,R0                                  ;
19352 000037F8 940A              6162             MOV.W   #_LSI_RETRY_ERR_MAX,R4
                                          ;
19353 000037FA 7001              6163             ADD     #1,R0
                                          ;
19354 000037FC 2101              6164             MOV.W   R0,@R1
                                          ;
19355 000037FE 3046              6165             CMP/HI  R4,R0
                                          ;3<
19356 00003800 8916              6166             BT      POS_PLSOUT_SETRYERR
                                          ;
19357                            6167             TIM_CNT_ADD MEM=_LSI_PLSSET_NG_CNT1,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   236
PROGRAM NAME =

                                          ;
19358 00003802 D10A                   M           MOV.L   #_LSI_PLSSET_NG_CNT1,R1         ;
19359 00003804 6012                   M           MOV.L   @R1,R0  ;
19360 00003806 7001                   M           ADD     #1,R0           ;
19361 00003808 2102                   M           MOV.L   R0,@R1  ;
19362                            6168             M_BRA   POS_PLSOUT_SETRYLOP                     ;
19363 0000380A AFA4                   M           BRA     POS_PLSOUT_SETRYLOP
19364 0000380C 0009                   M           NOP
19365                            6169     
19366                                     ***** BEGIN-POOL *****
19367 0000380E 0004                       DATA FOR SOURCE-LINE 6153
19368 00003810 0003                       DATA FOR SOURCE-LINE 6162
19369 00003812 0000                       ALIGNMENT CODE
19370 00003814 00000000                   DATA FOR SOURCE-LINE 6140
19371 00003818 00000000                   DATA FOR SOURCE-LINE 6141
19372 0000381C 00000000                   DATA FOR SOURCE-LINE 6153
19373 00003820 00000000                   DATA FOR SOURCE-LINE 6155
19374 00003824 00000000                   DATA FOR SOURCE-LINE 6156
19375 00003828 00000000                   DATA FOR SOURCE-LINE 6160
19376 0000382C 00000000                   DATA FOR SOURCE-LINE 6167
19377                                     ***** END-POOL *****
19378 00003830                   6170     POS_PLSOUT_SETRYERR:
19379                            6171             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT2+BIT0),WKREG=R1
                                          ;
19380 00003830 D108                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1               ;
19381 00003832 6011                   M           MOV.W   @R1,R0          ;
19382 00003834 CB05                   M           OR      #(BIT2+BIT0),R0         ;
19383 00003836 2101                   M           MOV.W   R0,@R1          ;
19384                            6172             DEBUG_LSI_ACS_ON2_BIT BITDT=BIT6                ;RETRY ERR
19385                                 M   
19386                                 M           .AIF    0 EQ    0
19387                                 C   ;;      (波形測定時)
19388                                 C           PUSH_REG1 R0
19389 00003838 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19390                                 M                                           ;REG=>[SP]
19391                                 M                                           ;"-4" FF,FF,FF,FC
19392                                 C           PUSH_REG1 R1
19393 0000383A 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19394                                 M                                           ;REG=>[SP]
19395                                 M                                           ;"-4" FF,FF,FF,FC
19396                                 C           PUSH_REG1 R2
19397 0000383C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
19398                                 M                                           ;REG=>[SP]
19399                                 M                                           ;"-4" FF,FF,FF,FC
19400 0000383E D106                   C           MOV.L   #_PDTRA,R1                      ;
19401 00003840 6011                   C           MOV.W   @R1,R0                          ;
19402 00003842 9206                   C           MOV.W   #BIT6,R2                        ;
19403 00003844 202B                   C           OR      R2,R0                           ;
19404 00003846 2101                   C           MOV.W   R0,@R1                          ;
19405                                 C   
19406                                 C           POP_REG1 R2
19407                                 M                                   ; RE"+4" 00,00,00,04
19408 00003848 62F6                   M           MOV.L   @R15+,R2        ;
19409                                 C           POP_REG1 R1
19410                                 M                                   ; RE"+4" 00,00,00,04
19411 0000384A 61F6                   M           MOV.L   @R15+,R1        ;
19412                                 C           POP_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   237
PROGRAM NAME =

19413                                 M                                   ; RE"+4" 00,00,00,04
19414 0000384C 60F6                   M           MOV.L   @R15+,R0        ;
19415                                 M           .AENDI
19416                                 M   
19417                            6173             M_BRA   POS_PLSOUT_SETRYEXT
19418 0000384E A00C                   M           BRA     POS_PLSOUT_SETRYEXT
19419 00003850 0009                   M           NOP
19420                            6174     
19421                                     ***** BEGIN-POOL *****
19422 00003852 0040                       DATA FOR SOURCE-LINE 6172
19423 00003854 00000000                   DATA FOR SOURCE-LINE 6171
19424 00003858 00000000                   DATA FOR SOURCE-LINE 6172
19425                                     ***** END-POOL *****
19426 0000385C                   6175     POS_PLSOUT_SETRY900:
19427                            6176     ;       === FLAG SET====
19428                            6177             eSHi_SET_IM_MOV DST=_SH4_REST_SR_HF,L1=W,WKREG1=R1,WKREG2=R0,IMD=1      ;
19429                                 M           PUSH_REG1 R1            ;
19430 0000385C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19431                                 M                                           ;REG=>[SP]
19432                                 M                                           ;"-4" FF,FF,FF,FC
19433                                 M           PUSH_REG1 R0            ;
19434 0000385E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19435                                 M                                           ;REG=>[SP]
19436                                 M                                           ;"-4" FF,FF,FF,FC
19437 00003860 9011                   M           MOV.W   #1,R0           ;
19438 00003862 D10A                   M           MOV.L   #_SH4_REST_SR_HF,R1             ;
19439 00003864 2101                   M           MOV.W   R0,@R1  ;
19440                                 M           POP_REG1 R0             ;
19441                                 M                                   ; RE"+4" 00,00,00,04
19442 00003866 60F6                   M           MOV.L   @R15+,R0        ;
19443                                 M           POP_REG1 R1             ;
19444                                 M                                   ; RE"+4" 00,00,00,04
19445 00003868 61F6                   M           MOV.L   @R15+,R1        ;
19446                            6178     
19447 0000386A                   6179     POS_PLSOUT_SETRYEXT:
19448                            6180             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT4                ;VERYFAI ERR OFF付
19449                                 M   
19450                                 M           .AIF    0 EQ    0
19451                                 C   ;;      (波形測定時)
19452                                 C           PUSH_REG1 R0
19453 0000386A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19454                                 M                                           ;REG=>[SP]
19455                                 M                                           ;"-4" FF,FF,FF,FC
19456                                 C           PUSH_REG1 R1
19457 0000386C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19458                                 M                                           ;REG=>[SP]
19459                                 M                                           ;"-4" FF,FF,FF,FC
19460                                 C           PUSH_REG1 R2
19461 0000386E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
19462                                 M                                           ;REG=>[SP]
19463                                 M                                           ;"-4" FF,FF,FF,FC
19464 00003870 D107                   C           MOV.L   #_PDTRA,R1                      ;
19465 00003872 6011                   C           MOV.W   @R1,R0                          ;
19466 00003874 9208                   C           MOV.W   #LWORD ~BIT4,R2         ;
19467 00003876 2029                   C           AND     R2,R0                           ;
19468 00003878 2101                   C           MOV.W   R0,@R1                          ;
19469                                 C           POP_REG1 R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   238
PROGRAM NAME =

19470                                 M                                   ; RE"+4" 00,00,00,04
19471 0000387A 62F6                   M           MOV.L   @R15+,R2        ;
19472                                 C           POP_REG1 R1
19473                                 M                                   ; RE"+4" 00,00,00,04
19474 0000387C 61F6                   M           MOV.L   @R15+,R1        ;
19475                                 C           POP_REG1 R0
19476                                 M                                   ; RE"+4" 00,00,00,04
19477 0000387E 60F6                   M           MOV.L   @R15+,R0        ;
19478                                 M           .AENDI
19479                                 M   
19480                            6181     
19481                            6182             SUB_END
19482                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19483 00003880 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19484                            6183             M_RTS
19485 00003882 000B                   M           RTS                             ;RTSの後ろの
19486 00003884 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19487                            6184     
19488                            6185     ;       *******************************************
19489                            6186     ;       ***                                     ***
19490                            6187     ;       ***     ﾊﾟﾙｽ払い出し管理                ***
19491                            6188     ;       ***                                     ***
19492                            6189     ;       *******************************************
19493                                     ***** BEGIN-POOL *****
19494 00003886 0001                       DATA FOR SOURCE-LINE 6177
19495 00003888 FFEF                       DATA FOR SOURCE-LINE 6180
19496 0000388A 0000                       ALIGNMENT CODE
19497 0000388C 00000000                   DATA FOR SOURCE-LINE 6177
19498 00003890 00000000                   DATA FOR SOURCE-LINE 6180
19499                                     ***** END-POOL *****
19500 00003894                   6190             .ALIGN  4                               ;
19501 00003894                   6191     _POS_PLS_OUTPUT_DATA:
19502                            6192             SUB_START
19503 00003894 4F22                   M           STS.L   PR,@-R15                ;[必要]
19504                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19505                            6193     
19506                            6194     
19507                            6195             FAR_JSR #_LOAD_REST_PLS,R0                                              ;
19508 00003896 D00D                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19509 00003898 400B                   M           JSR     @R0                     ;
19510 0000389A 0009                   M           NOP                                     ;
19511 0000389C 6B03              6196             MOV     R0,R11                                                          ;R/W 指令ﾊ
                                          ﾟﾙｽｶｳﾝﾀ(残ﾊﾟﾙｽ)
19512 0000389E D10C              6197             MOV.L   #_POSLSI_CHK_RESTPLS,R1                                         ;
19513 000038A0 21B2              6198             MOV.L   R11,@R1                                                         ;
19514                            6199     
19515 000038A2 DC0C              6200             MOV.L   #_PLS_OUTPUT_MAX,R12                                            ;
19516 000038A4 3CB8              6201             SUB     R11,R12                                                         ;
19517 000038A6 4C11              6202             CMP/PZ  R12                                                             ;残り設定
                                          できる距離出力側で
19518 000038A8 8904              6203             BT      POS_PLS_OUTDAT_050                                              ;
19519                            6204             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSLSI_CHK_STS,LG=W,BIT=BIT0,WKREG=R1       ;
19520 000038AA D10B                   M           MOV.L   #_POSLSI_CHK_STS,R1             ;
19521 000038AC 6011                   M           MOV.W   @R1,R0          ;
19522 000038AE CB01                   M           OR      #BIT0,R0                ;
19523 000038B0 2101                   M           MOV.W   R0,@R1          ;
19524 000038B2 2CCA              6205             XOR     R12,R12                                                         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   239
PROGRAM NAME =

19525 000038B4                   6206     POS_PLS_OUTDAT_050:                                                             ;R12は出力
                                          ﾊﾟﾙｽﾚﾍﾞﾙ
19526                            6207     ;       ============= 出力ﾊﾟﾙｽ補正============
19527 000038B4 62C3              6208             MOV     R12,R2                                                  ;ﾊﾟﾙｽ列-->ｲﾝｸﾘﾒﾝﾀﾙ
                                          ﾊﾟﾙｽ量
19528                            6209     ;;;;;   FAR_JSR #_POS_OUT_TO_INC_CHG,R0                                 ;
19529 000038B6 6C23              6210             MOV     R2,R12                                                  ;
19530                            6211     
19531                            6212     ;       ==== R12が設定可能量====
19532 000038B8 D708              6213             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;+/-(0へ向かってい
                                          く)
19533 000038BA 6172              6214             MOV.L   @R7,R1                                                  ;
19534 000038BC 5271              6215             MOV.L   @(4,R7),R2                                              ;払いだしたい量
19535 000038BE 6013              6216             MOV     R1,R0                                                   ;
19536 000038C0 202B              6217             OR      R2,R0                                                   ;
19537 000038C2 2008              6218             TST     R0,R0                                                   ;
19538                            6219             TST_BIT_ON POS_PLS_OUTDAT_080                                   ;
19539 000038C4 8B0C                   M           BF      POS_PLS_OUTDAT_080
19540 000038C6 2CCA              6220             XOR     R12,R12                                                 ;位置決めLSIには設
                                          定済み
19541                            6221             M_BRA   POS_PLS_OUTDAT_300                                      ;
19542 000038C8 A027                   M           BRA     POS_PLS_OUTDAT_300
19543 000038CA 0009                   M           NOP
19544                            6222     
19545                                     ***** BEGIN-POOL *****
19546 000038CC 00000000                   DATA FOR SOURCE-LINE 6195
19547 000038D0 00000000                   DATA FOR SOURCE-LINE 6197
19548 000038D4 00FFFFFF                   DATA FOR SOURCE-LINE 6200
19549 000038D8 00000000                   DATA FOR SOURCE-LINE 6204
19550 000038DC 00000000                   DATA FOR SOURCE-LINE 6213
19551                                     ***** END-POOL *****
19552 000038E0                   6223     POS_PLS_OUTDAT_080:                                                     ;
19553                            6224             PUSH_REG1       R1
19554 000038E0 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19555                                 M                                           ;REG=>[SP]
19556                                 M                                           ;"-4" FF,FF,FF,FC
19557 000038E2 4111              6225             CMP/PZ  R1                                                      ;
19558 000038E4 8905              6226             BT      POS_PLS_OUTDAT_100                                      ;
19559                            6227             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R3                              ;|R1,R2|
19560 000038E6 6227                   M           NOT     R2,R2                           ;
19561 000038E8 6117                   M           NOT     R1,R1                           ;
19562 000038EA 233A                   M           XOR     R3,R3                           ;
19563 000038EC 0018                   M           SETT
19564 000038EE 323E                   M           ADDC    R3,R2                           ;0+1+R2
19565 000038F0 313E                   M           ADDC    R3,R1                           ;
19566 000038F2                   6228     POS_PLS_OUTDAT_100:                                                     ;
19567 000038F2 2118              6229             TST     R1,R1                                                   ;
19568                            6230             TST_BIT_ON POS_PLS_OUTDAT_200                                   ;引いてOK
19569 000038F4 8B02                   M           BF      POS_PLS_OUTDAT_200
19570 000038F6 32C7              6231             CMP/GT  R12,R2                                                  ;引いてOK
19571 000038F8 8900              6232             BT      POS_PLS_OUTDAT_200                                      ;
19572 000038FA 6C23              6233             MOV     R2,R12                                                  ;R12(R2)だけ引いて
                                          OK
19573 000038FC                   6234     POS_PLS_OUTDAT_200:                                                     ;(引く量の決定)
19574 000038FC 200A              6235             XOR     R0,R0                                                   ;
19575                            6236             SUB8B DT_REGH=R0,DT_REGL=R12,DT_ANS_REGH=R1,DT_ANS_REGL=R2      ;
19576 000038FE 0008                   M           CLRT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   240
PROGRAM NAME =

19577 00003900 32CA                   M           SUBC    R12,R2
19578 00003902 310A                   M           SUBC    R0,R1
19579                            6237             POP_REG1 R0
19580                                 M                                   ; RE"+4" 00,00,00,04
19581 00003904 60F6                   M           MOV.L   @R15+,R0        ;
19582 00003906 4011              6238             CMP/PZ  R0
19583 00003908 8905              6239             BT      POS_PLS_OUTDAT_250                                      ;
19584                            6240             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R3                              ;
19585 0000390A 6227                   M           NOT     R2,R2                           ;
19586 0000390C 6117                   M           NOT     R1,R1                           ;
19587 0000390E 233A                   M           XOR     R3,R3                           ;
19588 00003910 0018                   M           SETT
19589 00003912 323E                   M           ADDC    R3,R2                           ;0+1+R2
19590 00003914 313E                   M           ADDC    R3,R1                           ;
19591 00003916                   6241     POS_PLS_OUTDAT_250:                                                     ;
19592 00003916 2712              6242             MOV.L   R1,@R7                                                  ;
19593 00003918 1721              6243             MOV.L   R2,@(4,R7)                                              ;
19594                            6244     
19595                            6245     ;"R12ADD"
19596 0000391A                   6246     POS_PLS_OUTDAT_300:                                                             ;
19597                            6247             FAR_JSR #_LOAD_REST_PLS,R0                                              ;OLD残りﾊﾟ
                                          ﾙｽ
19598 0000391A D028                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19599 0000391C 400B                   M           JSR     @R0                     ;
19600 0000391E 0009                   M           NOP                                     ;
19601 00003920 6403              6248             MOV     R0,R4                                                           ;
19602 00003922 62C3              6249             MOV     R12,R2                                                          ;
19603                            6250     
19604                            6251             DEBUG_LSI_ACS_ON2_BIT BITDT=(BIT4+BIT0)                                 ;
19605                                 M   
19606                                 M           .AIF    0 EQ    0
19607                                 C   ;;      (波形測定時)
19608                                 C           PUSH_REG1 R0
19609 00003924 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19610                                 M                                           ;REG=>[SP]
19611                                 M                                           ;"-4" FF,FF,FF,FC
19612                                 C           PUSH_REG1 R1
19613 00003926 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19614                                 M                                           ;REG=>[SP]
19615                                 M                                           ;"-4" FF,FF,FF,FC
19616                                 C           PUSH_REG1 R2
19617 00003928 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
19618                                 M                                           ;REG=>[SP]
19619                                 M                                           ;"-4" FF,FF,FF,FC
19620 0000392A D125                   C           MOV.L   #_PDTRA,R1                      ;
19621 0000392C 6011                   C           MOV.W   @R1,R0                          ;
19622 0000392E 9241                   C           MOV.W   #(BIT4+BIT0),R2                 ;
19623 00003930 202B                   C           OR      R2,R0                           ;
19624 00003932 2101                   C           MOV.W   R0,@R1                          ;
19625                                 C   
19626                                 C           POP_REG1 R2
19627                                 M                                   ; RE"+4" 00,00,00,04
19628 00003934 62F6                   M           MOV.L   @R15+,R2        ;
19629                                 C           POP_REG1 R1
19630                                 M                                   ; RE"+4" 00,00,00,04
19631 00003936 61F6                   M           MOV.L   @R15+,R1        ;
19632                                 C           POP_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   241
PROGRAM NAME =

19633                                 M                                   ; RE"+4" 00,00,00,04
19634 00003938 60F6                   M           MOV.L   @R15+,R0        ;
19635                                 M           .AENDI
19636                                 M   
19637                            6252             .AIF    1               EQ      1       ;YES:WR WAIT 4CLK(NO 3CLK) 2004-02-19
19638                            6253 C           POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R6,DAT_REG=R2           ;製品
19639                                 M           PUSH_REG1 R6
19640 0000393A 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
19641                                 M                                           ;REG=>[SP]
19642                                 M                                           ;"-4" FF,FF,FF,FC
19643                                 M           PUSH_REG1 R2
19644 0000393C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
19645                                 M                                           ;REG=>[SP]
19646                                 M                                           ;"-4" FF,FF,FF,FC
19647                                 M           POS_LSI_WORD_DUM_LOD                                    ;
19648                                 M           PUSH_REG1 R0
19649 0000393E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19650                                 M                                           ;REG=>[SP]
19651                                 M                                           ;"-4" FF,FF,FF,FC
19652 00003940 D020                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
19653 00003942 6001                   M           MOV.W   @R0,R0
19654                                 M           POP_REG1 R0
19655                                 M                                   ; RE"+4" 00,00,00,04
19656 00003944 60F6                   M           MOV.L   @R15+,R0        ;
19657 00003946 D620                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R6                ;
19658 00003948 2621                   M           MOV.W   R2,@R6                          ;(LOW)
19659 0000394A 7602                   M           ADD     #2,R6                                   ;
19660 0000394C 6229                   M           SWAP.W  R2,R2                           ;
19661                                 M           POS_LSI_WORD_DUM_LOD                                    ;
19662                                 M           PUSH_REG1 R0
19663 0000394E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19664                                 M                                           ;REG=>[SP]
19665                                 M                                           ;"-4" FF,FF,FF,FC
19666 00003950 D01C                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
19667 00003952 6001                   M           MOV.W   @R0,R0
19668                                 M           POP_REG1 R0
19669                                 M                                   ; RE"+4" 00,00,00,04
19670 00003954 60F6                   M           MOV.L   @R15+,R0        ;
19671 00003956 2621                   M           MOV.W   R2,@R6                          ;(HIGH)
19672                                 M           POS_LSI_WORD_DUM_LOD                                    ;
19673                                 M           PUSH_REG1 R0
19674 00003958 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19675                                 M                                           ;REG=>[SP]
19676                                 M                                           ;"-4" FF,FF,FF,FC
19677 0000395A D01A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
19678 0000395C 6001                   M           MOV.W   @R0,R0
19679                                 M           POP_REG1 R0
19680                                 M                                   ; RE"+4" 00,00,00,04
19681 0000395E 60F6                   M           MOV.L   @R15+,R0        ;
19682                                 M           POP_REG1 R2
19683                                 M                                   ; RE"+4" 00,00,00,04
19684 00003960 62F6                   M           MOV.L   @R15+,R2        ;
19685                                 M           POP_REG1 R6
19686                                 M                                   ; RE"+4" 00,00,00,04
19687 00003962 66F6                   M           MOV.L   @R15+,R6        ;
19688                            6254             .AELSE
19689                            6255     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   242
PROGRAM NAME =

19690                            6256     ;       ===== 異常を発生させるよう ======
19691                            6257             PUSH_REG1 R0                                                    ;
19692                            6258             PUSH_REG1 R12                                                   ;
19693                            6259             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R0                ;R/W
19694                            6260             SWAP.W  R12,R12                                                 ;
19695                            6261             MOV.L   R12,@R0                                                 ;
19696                            6262             POP_REG1 R12                                                    ;
19697                            6263             POP_REG1 R0                                                     ;
19698                            6264             .AENDI
19699                            6265     
19700                            6266             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT0
19701                                 M   
19702                                 M           .AIF    0 EQ    0
19703                                 C   ;;      (波形測定時)
19704                                 C           PUSH_REG1 R0
19705 00003964 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19706                                 M                                           ;REG=>[SP]
19707                                 M                                           ;"-4" FF,FF,FF,FC
19708                                 C           PUSH_REG1 R1
19709 00003966 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19710                                 M                                           ;REG=>[SP]
19711                                 M                                           ;"-4" FF,FF,FF,FC
19712                                 C           PUSH_REG1 R2
19713 00003968 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
19714                                 M                                           ;REG=>[SP]
19715                                 M                                           ;"-4" FF,FF,FF,FC
19716 0000396A D115                   C           MOV.L   #_PDTRA,R1                      ;
19717 0000396C 6011                   C           MOV.W   @R1,R0                          ;
19718 0000396E 9222                   C           MOV.W   #LWORD ~BIT0,R2         ;
19719 00003970 2029                   C           AND     R2,R0                           ;
19720 00003972 2101                   C           MOV.W   R0,@R1                          ;
19721                                 C           POP_REG1 R2
19722                                 M                                   ; RE"+4" 00,00,00,04
19723 00003974 62F6                   M           MOV.L   @R15+,R2        ;
19724                                 C           POP_REG1 R1
19725                                 M                                   ; RE"+4" 00,00,00,04
19726 00003976 61F6                   M           MOV.L   @R15+,R1        ;
19727                                 C           POP_REG1 R0
19728                                 M                                   ; RE"+4" 00,00,00,04
19729 00003978 60F6                   M           MOV.L   @R15+,R0        ;
19730                                 M           .AENDI
19731                                 M   
19732                            6267     
19733                            6268             FAR_JSR #_LOAD_REST_PLS,R0                                              ;NEW残りﾊﾟ
                                          ﾙｽ
19734 0000397A D010                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19735 0000397C 400B                   M           JSR     @R0                     ;
19736 0000397E 0009                   M           NOP                                     ;
19737 00003980 D112              6269             MOV.L   #_NEW_POSLSI_RESTPLS,R1                                         ;
19738 00003982 2102              6270             MOV.L   R0,@R1                                                          ;
19739                            6271     
19740                            6272             eSHi_SET_REG_MOV DST=_SH4_REST_PLS_RL,L1=L,SETREG=R0,WKREG1=R1          ;
19741                                 M           PUSH_REG1 R1            ;
19742 00003984 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19743                                 M                                           ;REG=>[SP]
19744                                 M                                           ;"-4" FF,FF,FF,FC
19745 00003986 D112                   M           MOV.L   #_SH4_REST_PLS_RL,R1            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   243
PROGRAM NAME =

19746 00003988 2102                   M           MOV.L   R0,@R1  ;
19747                                 M           POP_REG1 R1             ;
19748                                 M                                   ; RE"+4" 00,00,00,04
19749 0000398A 61F6                   M           MOV.L   @R15+,R1        ;
19750                            6273     
19751                            6274     
19752                            6275     ;       基本的には
19753                            6276     ;       OLD+SV=NEW
19754                            6277     
19755 0000398C 34CC              6278             ADD     R12,R4                                                  ;
19756 0000398E 6343              6279             MOV     R4,R3                                                   ;
19757 00003990 9112              6280             MOV.W   #D'500,R1                                               ;200usec(100pls)　
                                          受信割込有り
19758 00003992 341C              6281             ADD     R1,R4                                                   ;OLD+SV+500<NEW
19759 00003994 3046              6282             CMP/HI  R4,R0                                                   ;OLD+SV+500<NEW
19760 00003996 891F              6283             BT      POS_PLS_OUTDAT_320_ERR1                                 ;
19761                            6284     
19762 00003998 6433              6285             MOV     R3,R4                                                   ;
19763 0000399A 910D              6286             MOV.W   #D'500,R1                                               ;200usec(100pls)
19764 0000399C 3418              6287             SUB     R1,R4                                                   ;
19765 0000399E 4411              6288             CMP/PZ  R4                                                      ;
19766 000039A0 8900              6289             BT      POS_PLS_OUTDAT_320_ECK10                                ;
19767 000039A2 244A              6290             XOR     R4,R4                                                   ;
19768 000039A4                   6291     POS_PLS_OUTDAT_320_ECK10:                                               ;
19769 000039A4 3042              6292             CMP/HS  R4,R0
19770 000039A6 891F              6293             BT      POS_PLS_OUTDAT_320_END                                  ;R4 =< R0 OK
19771                            6294     ;       === 設定したﾊﾟﾙｽ+OLD残ﾊﾟﾙｽ-200 ≧残ﾊﾟﾙｽなら異常(2)      ===
19772                            6295             TIM_CNT_ADD MEM=_LSI_PLSSET_NG_CNT2,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
19773 000039A8 D10A                   M           MOV.L   #_LSI_PLSSET_NG_CNT2,R1         ;
19774 000039AA 6012                   M           MOV.L   @R1,R0  ;
19775 000039AC 7001                   M           ADD     #1,R0           ;
19776 000039AE 2102                   M           MOV.L   R0,@R1  ;
19777                            6296     ;;;;;   MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT3+BIT0),WKREG=R1
                                          ;
19778                            6297             M_BRA   POS_PLS_OUTDAT_320_EXT
                                          ;
19779 000039B0 A01E                   M           BRA     POS_PLS_OUTDAT_320_EXT
19780 000039B2 0009                   M           NOP
19781                            6298     
19782                                     ***** BEGIN-POOL *****
19783 000039B4 0011                       DATA FOR SOURCE-LINE 6251
19784 000039B6 FFFE                       DATA FOR SOURCE-LINE 6266
19785 000039B8 01F4                       DATA FOR SOURCE-LINE 6280,6286
19786 000039BA 0000                       ALIGNMENT CODE
19787 000039BC 00000000                   DATA FOR SOURCE-LINE 6247,6268
19788 000039C0 00000000                   DATA FOR SOURCE-LINE 6251,6266
19789 000039C4 00000000                   DATA FOR SOURCE-LINE 6253,6253,6253
19790 000039C8 00000000                   DATA FOR SOURCE-LINE 6253
19791 000039CC 00000000                   DATA FOR SOURCE-LINE 6269
19792 000039D0 00000000                   DATA FOR SOURCE-LINE 6272
19793 000039D4 00000000                   DATA FOR SOURCE-LINE 6295
19794                                     ***** END-POOL *****
19795 000039D8                   6299     POS_PLS_OUTDAT_320_ERR1:
                                          ;
19796                            6300     ;       === 設定したﾊﾟﾙｽ+OLD残ﾊﾟﾙｽ≦残ﾊﾟﾙｽなら異常(1)   === 500KHZ 200usec=100pls
                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   244
PROGRAM NAME =

19797                            6301             TIM_CNT_ADD MEM=_LSI_PLSSET_NG_CNT3,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;ここだとﾘﾄﾗｲできない
19798 000039D8 D102                   M           MOV.L   #_LSI_PLSSET_NG_CNT3,R1         ;
19799 000039DA 6012                   M           MOV.L   @R1,R0  ;
19800 000039DC 7001                   M           ADD     #1,R0           ;
19801 000039DE 2102                   M           MOV.L   R0,@R1  ;
19802                            6302     ;;;;;   MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT4+BIT0),WKREG=R1
                                          ;
19803                            6303             M_BRA   POS_PLS_OUTDAT_320_EXT
                                          ;
19804 000039E0 A006                   M           BRA     POS_PLS_OUTDAT_320_EXT
19805 000039E2 0009                   M           NOP
19806                            6304     
19807                                     ***** BEGIN-POOL *****
19808 000039E4 00000000                   DATA FOR SOURCE-LINE 6301
19809                                     ***** END-POOL *****
19810 000039E8                   6305     POS_PLS_OUTDAT_320_END:                                                                 ;
19811                            6306             TIM_CNT_ADD MEM=_LSI_PLSSET_AC_CNT2,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1           ;
19812 000039E8 D10C                   M           MOV.L   #_LSI_PLSSET_AC_CNT2,R1         ;
19813 000039EA 6012                   M           MOV.L   @R1,R0  ;
19814 000039EC 7001                   M           ADD     #1,R0           ;
19815 000039EE 2102                   M           MOV.L   R0,@R1  ;
19816 000039F0                   6307     POS_PLS_OUTDAT_320_EXT:                                                                 ;
19817                            6308     
19818                            6309     
19819                            6310     
19820                            6311             eSHi_SET_MEM_MOV SRC=_INT_POS_CTL_STEP,L1=W,DST=_SH4_LOT_STEP_A,L2=W
19821                                 M           PUSH_REG1 R0
19822 000039F0 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19823                                 M                                           ;REG=>[SP]
19824                                 M                                           ;"-4" FF,FF,FF,FC
19825                                 M           PUSH_REG1 R1
19826 000039F2 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19827                                 M                                           ;REG=>[SP]
19828                                 M                                           ;"-4" FF,FF,FF,FC
19829 000039F4 D10A                   M           MOV.L   #_INT_POS_CTL_STEP,R1   ;
19830 000039F6 6011                   M           MOV.W   @R1,R0          ;
19831 000039F8 D10A                   M           MOV.L   #_SH4_LOT_STEP_A,R1     ;
19832 000039FA 2101                   M           MOV.W   R0,@R1          ;
19833                                 M           POP_REG1 R1
19834                                 M                                   ; RE"+4" 00,00,00,04
19835 000039FC 61F6                   M           MOV.L   @R15+,R1        ;
19836                                 M           POP_REG1 R0
19837                                 M                                   ; RE"+4" 00,00,00,04
19838 000039FE 60F6                   M           MOV.L   @R15+,R0        ;
19839                            6312     
19840                            6313     
19841                            6314     ;       ======== ものは試し====
19842 00003A00 255A              6315             XOR     R5,R5
19843 00003A02 D109              6316             MOV.L   #_POSLSI_DRIV_SHIN,R1
19844 00003A04 6011              6317             MOV.W   @R1,R0                                                  ;
19845 00003A06 C801              6318             TST     #BIT0,R0
19846                            6319             TST_BIT_OF POS_PLS_OUTDAT_400                                   ;
19847 00003A08 8905                   M           BT      POS_PLS_OUTDAT_400
19848                            6320             NEG1_64 H_REG=R5,L_REG=R13,WKREG=R3                             ;
19849 00003A0A 6DD7                   M           NOT     R13,R13                         ;
19850 00003A0C 6557                   M           NOT     R5,R5                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   245
PROGRAM NAME =

19851 00003A0E 233A                   M           XOR     R3,R3                           ;
19852 00003A10 0018                   M           SETT
19853 00003A12 3D3E                   M           ADDC    R3,R13                          ;0+1+R2
19854 00003A14 353E                   M           ADDC    R3,R5                           ;
19855 00003A16                   6321     POS_PLS_OUTDAT_400:                                                     ;
19856                            6322     
19857                            6323     
19858                            6324             SUB_END
19859                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19860 00003A16 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19861                            6325             M_RTS
19862 00003A18 000B                   M           RTS                             ;RTSの後ろの
19863 00003A1A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19864                            6326     
19865                            6327     
19866                            6328     ;       ***********************************
19867                            6329     ;       ***                             ***
19868                            6330     ;       ***     連続開始                ***
19869                            6331     ;       ***                             ***
19870                            6332     ;       ***********************************
19871                            6333     ;       安全一工程、連続、オプション
19872                            6334     ;       寸動と
19873                            6335     
19874                                     ***** BEGIN-POOL *****
19875 00003A1C 00000000                   DATA FOR SOURCE-LINE 6306
19876 00003A20 00000000                   DATA FOR SOURCE-LINE 6311
19877 00003A24 00000000                   DATA FOR SOURCE-LINE 6311
19878 00003A28 00000000                   DATA FOR SOURCE-LINE 6316
19879                                     ***** END-POOL *****
19880 00003A2C                   6336             .ALIGN  4                               ;
19881 00003A2C                   6337     _MOTION_CYCLE_START:
19882                            6338             SUB_START
19883 00003A2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
19884                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19885                            6339     ;;      MOV.L   #_MODE_SEL,R1                   ;
19886                            6340     ;;      MOV.W   @R1,R0                          ;
19887                            6341     ;;      TST     #_W1CNT,R0                      ;
19888                            6342     ;;      TST_BIT_OF MOTION_CYC_ST100             ;
19889                            6343     ;;      FAR_JSR #_CYCLE_TIME_REFLASH_START,R0   ;
19890                            6344     ;;MOTION_CYC_ST100:                             ;
19891                            6345     
19892                            6346     
19893                            6347             FAR_JSR #_DAI_MOSTPOS_SMPINI,R0         ;2003-02-03
19894 00003A2E D00E                   M           MOV.L   #_DAI_MOSTPOS_SMPINI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19895 00003A30 400B                   M           JSR     @R0                     ;
19896 00003A32 0009                   M           NOP                                     ;
19897                            6348             FAR_JSR #_KJPHOS_SMPINI,R0              ;2004-07-05
19898 00003A34 D00D                   M           MOV.L   #_KJPHOS_SMPINI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19899 00003A36 400B                   M           JSR     @R0                     ;
19900 00003A38 0009                   M           NOP                                     ;
19901                            6349     
19902 00003A3A D10D              6350             MOV.L   #_MODE_SEL,R1                   ;
19903 00003A3C 6011              6351             MOV.W   @R1,R0                          ;
19904 00003A3E C81E              6352             TST     #_W1CNT+_W1SGL+_W1INC+_W1OPT,R0 ;
19905                            6353             TST_BIT_OF MOTION_CYC_ST200             ;
19906 00003A40 8909                   M           BT      MOTION_CYC_ST200
19907                            6354     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   246
PROGRAM NAME =

19908 00003A42 D10C              6355             MOV.L   #_CPOS_CTL_MATH,R1              ;
19909 00003A44 6011              6356             MOV.W   @R1,R0                          ;
19910                            6357     ;;2009-10-07    TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
19911 00003A46 C805              6358             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;2009-10-07_DMATH_CNTROT,R0
                                          ;2002-09-01 回転?
19912                            6359             TST_BIT_OF DAI_CHK01_100
19913 00003A48 8902                   M           BT      DAI_CHK01_100
19914                            6360     
19915                            6361     ;;;2003-02-03   FAR_JSR #_DAI_MOSTPOS_SMPINI,R0         ;
19916                            6362             FAR_JSR #_DAI_FULL_SCALE_SMP_INI,R0     ;2003-02-03
19917 00003A4A D00B                   M           MOV.L   #_DAI_FULL_SCALE_SMP_INI,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19918 00003A4C 400B                   M           JSR     @R0                     ;
19919 00003A4E 0009                   M           NOP                                     ;
19920                            6363     
19921 00003A50                   6364     DAI_CHK01_100
19922                            6365     
19923                            6366             FAR_JSR #_CYCLE_TIME_REFLASH_START,R0   ;
19924 00003A50 D00A                   M           MOV.L   #_CYCLE_TIME_REFLASH_START,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19925 00003A52 400B                   M           JSR     @R0                     ;
19926 00003A54 0009                   M           NOP                                     ;
19927                            6367     
19928 00003A56                   6368     MOTION_CYC_ST200:                               ;
19929                            6369     
19930                            6370             FAR_JSR #_MOST_DISP_DAT_INI,R0
19931 00003A56 D00A                   M           MOV.L   #_MOST_DISP_DAT_INI,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19932 00003A58 400B                   M           JSR     @R0                     ;
19933 00003A5A 0009                   M           NOP                                     ;
19934                            6371     
19935                            6372     ;       ----------------------------------------
19936                            6373             .AIF    0 EQ    0
19937                            6374 C           FAR_JSR #_API_IVW_CYC_START,R0                  ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
19938 00003A5C D009                   M           MOV.L   #_API_IVW_CYC_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19939 00003A5E 400B                   M           JSR     @R0                     ;
19940 00003A60 0009                   M           NOP                                     ;
19941                            6375 C   ;;;;;2012-10-19 削除    FAR_JSR #_OVERH_CYC_START,R0                    ;2012-09-25
19942                            6376             .AENDI
19943                            6377     
19944                            6378             SUB_END
19945                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19946 00003A62 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19947                            6379             M_RTS
19948 00003A64 000B                   M           RTS                             ;RTSの後ろの
19949 00003A66 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19950                            6380     
19951                            6381     ;
19952                            6382     ;       止まる時に１回通る/止まらないときも
19953                            6383     
19954                                     ***** BEGIN-POOL *****
19955 00003A68 00000000                   DATA FOR SOURCE-LINE 6347
19956 00003A6C 00000000                   DATA FOR SOURCE-LINE 6348
19957 00003A70 00000000                   DATA FOR SOURCE-LINE 6350
19958 00003A74 00000000                   DATA FOR SOURCE-LINE 6355
19959 00003A78 00000000                   DATA FOR SOURCE-LINE 6362
19960 00003A7C 00000000                   DATA FOR SOURCE-LINE 6366
19961 00003A80 00000000                   DATA FOR SOURCE-LINE 6370
19962 00003A84 00000000                   DATA FOR SOURCE-LINE 6374
19963                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   247
PROGRAM NAME =

19964 00003A88                   6384             .ALIGN  4                               ;
19965 00003A88                   6385     _MOTION_CYCLE_END:
19966                            6386             SUB_START
19967 00003A88 4F22                   M           STS.L   PR,@-R15                ;[必要]
19968                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19969                            6387     ;       ======= 描画用 ====
19970                            6388             MEM1_BIT0_TO_BIT7_ORSET MEM=_DISP_RE_VIEW_FLG,LG=W,BIT=BIT0,WKREG=R1    ;
19971 00003A8A D111                   M           MOV.L   #_DISP_RE_VIEW_FLG,R1           ;
19972 00003A8C 6011                   M           MOV.W   @R1,R0          ;
19973 00003A8E CB01                   M           OR      #BIT0,R0                ;
19974 00003A90 2101                   M           MOV.W   R0,@R1          ;
19975                            6389     ;;;;    FAR_JSR #_LOT_SIG_SET,R0                                                ;
19976                            6390     ;;;;    FAR_JSR #_LOT_SIG_FLG_CLR,R0                                            ;
19977                            6391             FAR_JSR #_CYCLE_TIME_REFLASH_END,R0                                     ;
19978 00003A92 D010                   M           MOV.L   #_CYCLE_TIME_REFLASH_END,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19979 00003A94 400B                   M           JSR     @R0                     ;
19980 00003A96 0009                   M           NOP                                     ;
19981                            6392     
19982                            6393     ;       ============================================
19983 00003A98 D10F              6394             MOV.L   #_CPOS_CTL_MATH,R1              ;
19984 00003A9A 6011              6395             MOV.W   @R1,R0                          ;
19985                            6396     ;;[20091007下振子]      TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
19986 00003A9C C805              6397             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;2009-10-0_7DMATH_CNTROT,R0
                                          ;2002-09-01 回転?
19987                            6398             TST_BIT_OF DAI_CHK03_300
19988 00003A9E 8908                   M           BT      DAI_CHK03_300
19989                            6399     
19990                            6400             FAR_JSR #_DAI_FULL_SCALE_SMP_END,R0     ;2003-02-03
19991 00003AA0 D00E                   M           MOV.L   #_DAI_FULL_SCALE_SMP_END,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19992 00003AA2 400B                   M           JSR     @R0                     ;
19993 00003AA4 0009                   M           NOP                                     ;
19994                            6401             FAR_JSR #_DAI_MOSTPOS_CMPARE,R0         ;
19995 00003AA6 D00E                   M           MOV.L   #_DAI_MOSTPOS_CMPARE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19996 00003AA8 400B                   M           JSR     @R0                     ;
19997 00003AAA 0009                   M           NOP                                     ;
19998                            6402     
19999                            6403             FAR_JSR #_KJPHOS_SMPLING_END1,R0        ;2004-07-05
20000 00003AAC D00D                   M           MOV.L   #_KJPHOS_SMPLING_END1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20001 00003AAE 400B                   M           JSR     @R0                     ;
20002 00003AB0 0009                   M           NOP                                     ;
20003                            6404     
20004 00003AB2                   6405     DAI_CHK03_300:
20005                            6406     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT4,R0
20006                            6407     
20007                            6408             .AIF    0 EQ    0
20008                            6409 C           .IMPORT _TRD_SIG_SET
20009                            6410 C           FAR_JSR #_TRD_SIG_SET,R0                        ;2006-11-20
20010 00003AB2 D00D                   M           MOV.L   #_TRD_SIG_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20011 00003AB4 400B                   M           JSR     @R0                     ;
20012 00003AB6 0009                   M           NOP                                     ;
20013                            6411             .AENDI
20014                            6412     
20015                            6413              .AIF   1 EQ 1  ;
20016                            6414 C   ;       -------- 2016-10-31 ADD 二重回路対策
20017                            6415              .AENDI
20018                            6416     ;;;;2016-10-31  FAR_JSR #_DNM_CYCLE_END,R0      ;
20019                            6417     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   248
PROGRAM NAME =

20020                            6418     ;       ------------- 2007-12-12 ---------------
20021                            6419             FAR_JSR #_CYCL_DOWN_POS_REF,R0          ;
20022 00003AB8 D00C                   M           MOV.L   #_CYCL_DOWN_POS_REF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20023 00003ABA 400B                   M           JSR     @R0                     ;
20024 00003ABC 0009                   M           NOP                                     ;
20025                            6420     
20026                            6421     
20027                            6422             .AIF    0 EQ    0
20028                            6423 C           FAR_JSR #_OVERH_CYC_END,R0                      ;2012-09-25
20029 00003ABE D00C                   M           MOV.L   #_OVERH_CYC_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20030 00003AC0 400B                   M           JSR     @R0                     ;
20031 00003AC2 0009                   M           NOP                                     ;
20032                            6424             .AENDI
20033                            6425     
20034                            6426     ;       ----------- 2014-09-20-----------
20035                            6427             FAR_JSR #_MOT_REP_CLR,R0
20036 00003AC4 D00B                   M           MOV.L   #_MOT_REP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20037 00003AC6 400B                   M           JSR     @R0                     ;
20038 00003AC8 0009                   M           NOP                                     ;
20039                            6428     
20040                            6429             SUB_END
20041                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20042 00003ACA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20043                            6430             M_RTS
20044 00003ACC 000B                   M           RTS                             ;RTSの後ろの
20045 00003ACE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20046                            6431     
20047                            6432     
20048                            6433     ;       *******************************************
20049                            6434     ;       ***             2007-12-12              ***
20050                            6435     ;       *******************************************
20051                                     ***** BEGIN-POOL *****
20052 00003AD0 00000000                   DATA FOR SOURCE-LINE 6388
20053 00003AD4 00000000                   DATA FOR SOURCE-LINE 6391
20054 00003AD8 00000000                   DATA FOR SOURCE-LINE 6394
20055 00003ADC 00000000                   DATA FOR SOURCE-LINE 6400
20056 00003AE0 00000000                   DATA FOR SOURCE-LINE 6401
20057 00003AE4 00000000                   DATA FOR SOURCE-LINE 6403
20058 00003AE8 00000000                   DATA FOR SOURCE-LINE 6410
20059 00003AEC 00000000                   DATA FOR SOURCE-LINE 6419
20060 00003AF0 00000000                   DATA FOR SOURCE-LINE 6423
20061 00003AF4 00000000                   DATA FOR SOURCE-LINE 6427
20062                                     ***** END-POOL *****
20063 00003AF8                   6436             .ALIGN  4                               ;
20064 00003AF8                   6437     _CYCL_DOWN_POS_REF:
20065                            6438             SUB_START
20066 00003AF8 4F22                   M           STS.L   PR,@-R15                ;[必要]
20067                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20068                            6439     ;;      MOV.L   #_CLS_RNA_MOST_DOWN_POS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
20069                            6440     ;;      MOV.L   @R1,R0                          ;
20070 00003AFA D103              6441             MOV.L   #_SHOT_MOST_DOWN_POSWK,R1       ;
20071 00003AFC 6012              6442             MOV.L   @R1,R0                          ;
20072 00003AFE D103              6443             MOV.L   #_SHOT_MOST_DOWN_POS,R1
20073 00003B00 2102              6444             MOV.L   R0,@R1                          ;
20074                            6445             SUB_END
20075                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20076 00003B02 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   249
PROGRAM NAME =

20077                            6446             M_RTS
20078 00003B04 000B                   M           RTS                             ;RTSの後ろの
20079 00003B06 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20080                            6447     
20081                            6448     ;       *******************************************
20082                            6449     ;       ***     どのﾓｰﾄﾞでも1回しかこない       ***
20083                            6450     ;       *******************************************
20084                            6451     ;       止まるとき（安全一、連続停止時２回通る）
20085                            6452     ;
20086                                     ***** BEGIN-POOL *****
20087 00003B08 00000000                   DATA FOR SOURCE-LINE 6441
20088 00003B0C 00000000                   DATA FOR SOURCE-LINE 6443
20089                                     ***** END-POOL *****
20090 00003B10                   6453             .ALIGN  4                               ;
20091 00003B10                   6454     _MOTION_CYCLE_ED2:
20092                            6455             SUB_START
20093 00003B10 4F22                   M           STS.L   PR,@-R15                ;[必要]
20094                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20095                            6456     
20096                            6457     ;       ==========================
20097 00003B12 D104              6458             MOV.L   #_CYCL_DSP_CNT_PV,R1    ;//非表示ｶｳﾝﾀ 2->1->0(表示)
20098 00003B14 6011              6459             MOV.W   @R1,R0                  ;
20099 00003B16 2008              6460             TST     R0,R0                   ;
20100                            6461             TST_BIT_OF MOTCYC_ED2_050       ;
20101 00003B18 8901                   M           BT      MOTCYC_ED2_050
20102 00003B1A 70FF              6462             ADD     #-1,R0                  ;
20103 00003B1C 2101              6463             MOV.W   R0,@R1                  ;
20104 00003B1E                   6464     MOTCYC_ED2_050:
20105                            6465     
20106                            6466     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT5,R0
20107                            6467     
20108                            6468             SUB_END
20109                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20110 00003B1E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20111                            6469             M_RTS
20112 00003B20 000B                   M           RTS                             ;RTSの後ろの
20113 00003B22 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20114                            6470     
20115                                     ***** BEGIN-POOL *****
20116 00003B24 00000000                   DATA FOR SOURCE-LINE 6458
20117                                     ***** END-POOL *****
20118 00003B28                   6471             .ALIGN  4                               ;
20119                            6472     ;;;2016-10-31_DBG_END_CNT1:
20120                            6473     ;;;2016-10-31   SUB_START
20121                            6474     ;;;2016-10-31   .AIF    0 EQ    0
20122                            6475     ;;;2016-10-31   MOV.L   #_PVP_A_LOT_CNT1,R1
20123                            6476     ;;;2016-10-31   .AELSE
20124                            6477     ;;;2016-10-31   MOV.L   #_PVP_B_LOT_CNT1,R1
20125                            6478     ;;;2016-10-31   .AENDI
20126                            6479     ;;;2016-10-31   MOV.W   @R1,R0
20127                            6480     ;;;2016-10-31   ADD     #1,R0
20128                            6481     ;;;2016-10-31   MOV.W   R0,@R1  ;
20129                            6482     ;;;2016-10-31   SUB_END
20130                            6483     ;;;2016-10-31   M_RTS
20131                            6484     ;;;2016-10-31
20132                            6485     ;;;2016-10-31   .ALIGN  4                               ;
20133                            6486     ;;;2016-10-31_DBG_END_CNT2:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   250
PROGRAM NAME =

20134                            6487     ;;;2016-10-31   SUB_START
20135                            6488     ;;;2016-10-31   .AIF    0 EQ    0
20136                            6489     ;;;2016-10-31   MOV.L   #_PVP_A_LOT_CNT2,R1
20137                            6490     ;;;2016-10-31   .AELSE
20138                            6491     ;;;2016-10-31   MOV.L   #_PVP_B_LOT_CNT2,R1
20139                            6492     ;;;2016-10-31   .AENDI
20140                            6493     ;;;2016-10-31   MOV.W   @R1,R0
20141                            6494     ;;;2016-10-31   ADD     #1,R0
20142                            6495     ;;;2016-10-31   MOV.W   R0,@R1  ;
20143                            6496     ;;;2016-10-31   SUB_END
20144                            6497     ;;;2016-10-31   M_RTS
20145                            6498     ;;;2016-10-31
20146                            6499     ;;;2016-10-31_DBG_END_CNT3:
20147                            6500     ;;;2016-10-31   SUB_START
20148                            6501     ;;;2016-10-31   .AIF    0 EQ    0
20149                            6502     ;;;2016-10-31   MOV.L   #_PVP_A_LOT_CNT3,R1
20150                            6503     ;;;2016-10-31   .AELSE
20151                            6504     ;;;2016-10-31   MOV.L   #_PVP_B_LOT_CNT3,R1
20152                            6505     ;;;2016-10-31   .AENDI
20153                            6506     ;;;2016-10-31   MOV.W   @R1,R0
20154                            6507     ;;;2016-10-31   ADD     #1,R0
20155                            6508     ;;;2016-10-31   MOV.W   R0,@R1  ;
20156                            6509     ;;;2016-10-31   SUB_END
20157                            6510     ;;;2016-10-31   M_RTS
20158                            6511     ;;;2016-10-31
20159                            6512     ;;;2016-10-31_DBG_END_CNT4:
20160                            6513     ;;;2016-10-31   SUB_START
20161                            6514     ;;;2016-10-31   .AIF    0 EQ    0
20162                            6515     ;;;2016-10-31   MOV.L   #_PVP_A_LOT_CNT4,R1
20163                            6516     ;;;2016-10-31   .AELSE
20164                            6517     ;;;2016-10-31   MOV.L   #_PVP_B_LOT_CNT4,R1
20165                            6518     ;;;2016-10-31   .AENDI
20166                            6519     ;;;2016-10-31   MOV.W   @R1,R0
20167                            6520     ;;;2016-10-31   ADD     #1,R0
20168                            6521     ;;;2016-10-31   MOV.W   R0,@R1  ;
20169                            6522     ;;;2016-10-31   SUB_END
20170                            6523     ;;;2016-10-31   M_RTS
20171                            6524     ;;;2016-10-31
20172                            6525     ;;;2016-10-31_DBG_END_CNT5:
20173                            6526     ;;;2016-10-31   SUB_START
20174                            6527     ;;;2016-10-31   .AIF    0 EQ    0
20175                            6528     ;;;2016-10-31   MOV.L   #_PVP_A_LOT_CNT5,R1
20176                            6529     ;;;2016-10-31   .AELSE
20177                            6530     ;;;2016-10-31   MOV.L   #_PVP_B_LOT_CNT5,R1
20178                            6531     ;;;2016-10-31   MOV.W   @R1,R0
20179                            6532     ;;;2016-10-31   ADD     #1,R0
20180                            6533     ;;;2016-10-31   MOV.W   R0,@R1  ;
20181                            6534     ;;;2016-10-31   .AENDI
20182                            6535     ;;;2016-10-31   SUB_END
20183                            6536     ;;;2016-10-31   M_RTS
20184                            6537     
20185                            6538     
20186                            6539     
20187                            6540     
20188                            6541     
20189                            6542     ;       ***********************************
20190                            6543     ;       ***     200usec --> 2msec       ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   251
PROGRAM NAME =

20191                            6544     ;       ***********************************
20192                            6545     
20193                            6546     ;       ***********************************
20194                            6547     ;       ***     200usec --> 2msec       ***
20195                            6548     ;       ***********************************
20196 00003B28                   6549             .ALIGN  4                               ;
20197 00003B28                   6550     _INT_POS_DATA_REF:
20198                            6551             SUB_START
20199 00003B28 4F22                   M           STS.L   PR,@-R15                ;[必要]
20200                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20201                            6552             SUB_END
20202                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20203 00003B2A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20204                            6553             M_RTS
20205 00003B2C 000B                   M           RTS                             ;RTSの後ろの
20206 00003B2E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20207                            6554     
20208                            6555     
20209                            6556     ;       ***********************************
20210                            6557     ;       ***     払い出しカウント        ***
20211                            6558     ;       ***********************************
20212                            6559             .EXPORT _OUT_UP_DN_TOTAL_CNT
20213 00003B30                   6560             .ALIGN  4                               ;
20214 00003B30                   6561     _OUT_UP_DN_TOTAL_CNT:
20215                            6562             SUB_START
20216 00003B30 4F22                   M           STS.L   PR,@-R15                ;[必要]
20217                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20218                            6563     
20219                            6564     ;;;;;   いらない
20220                            6565     ;;;;;   -2013-04-14 [１段目停止位置＝２段目停止位置などでﾘｱﾙと払出完了のﾀｲﾐﾝｸﾞ用]---------
20221                            6566     ;;;;;   FAR_JSR #_LOD_POS_STS_REG_POR,R0        ;
20222                            6567     ;;;;;   MOV.L   #_PLS_OUT_END_STS,R1            ;
20223                            6568     ;;;;;;  MOV.W   R0,@R1                          ;BIT2=1 ﾊﾟﾙｽ出力完了
20224                            6569     ;       ----------------------------------------------------
20225                            6570     
20226                            6571     
20227                            6572     
20228                            6573     
20229                            6574     
20230                            6575     
20231                            6576     
20232                            6577     
20233                            6578     
20234 00003B32 D621              6579             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutcntPS,R6                ;R/W 指令ﾊﾟﾙｽｶｳﾝﾀ(
                                          残ﾊﾟﾙｽではない)
20235 00003B34 6061              6580             MOV.W   @R6,R0                                                  ;+/-に関わらず+す
                                          るｶｳﾝﾀ
20236                            6581     
20237                            6582     ;       -----------------2007-11-26 前回と同じならもう一度読み込みを行う----------------
20238 00003B36 D421              6583             MOV.L   #_CHK_LSI_LOAD_OUT_CNT,R4                               ;
20239 00003B38 6141              6584             MOV.W   @R4,R1
20240 00003B3A 2401              6585             MOV.W   R0,@R4
20241 00003B3C 3100              6586             CMP/EQ  R0,R1
20242 00003B3E 8B01              6587             BF      OUTPLS_CNT_CHK010                                       ;
20243 00003B40 D61D              6588             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutcntPS,R6                ;
20244 00003B42 6061              6589             MOV.W   @R6,R0                                                  ;
20245 00003B44                   6590     OUTPLS_CNT_CHK010:                                                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   252
PROGRAM NAME =

20246                            6591     
20247                            6592     
20248                            6593     
20249 00003B44 9436              6594             MOV.W   #H'FF00,R4
20250 00003B46 6203              6595             MOV     R0,R2
20251 00003B48 2249              6596             AND     R4,R2
20252                            6597     
20253 00003B4A 6161              6598             MOV.W   @R6,R1                                                  ;
20254 00003B4C 2149              6599             AND     R4,R1
20255 00003B4E 3210              6600             CMP/EQ  R1,R2                                                   ;桁　FFFF=>0　上位
                                          8BITが一致している
20256 00003B50 8900              6601             BT      OUTPLS_CNT_CHK020                                       ;
20257 00003B52 6061              6602             MOV.W   @R6,R0                                                  ;
20258 00003B54                   6603     OUTPLS_CNT_CHK020:                                                      ;
20259                            6604     
20260                            6605     
20261 00003B54 D11A              6606             MOV.L   #_POSLSI_CHK_CNT,R1                                     ;
20262 00003B56 6211              6607             MOV.W   @R1,R2                                                  ;
20263 00003B58 2101              6608             MOV.W   R0,@R1                                                  ;
20264 00003B5A 622D              6609             EXTU.W  R2,R2                                                   ;
20265 00003B5C 600D              6610             EXTU.W  R0,R0                                                   ;
20266 00003B5E 3028              6611             SUB     R2,R0                                                   ;
20267 00003B60 600F              6612             EXTS.W  R0,R0                                                   ;
20268 00003B62 4011              6613             CMP/PZ  R0                                                      ;
20269 00003B64 8900              6614             BT      OUTPLS_CNT_CHK050                                       ;
20270 00003B66 600B              6615             NEG     R0,R0                                                   ;
20271 00003B68                   6616     OUTPLS_CNT_CHK050:                                                      ;
20272 00003B68 D116              6617             MOV.L   #_POSLSI_CHK_DLT,R1                                     ;変化量 +のみ
20273 00003B6A 2101              6618             MOV.W   R0,@R1                                                  ;
20274 00003B6C D416              6619             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
20275 00003B6E 6141              6620             MOV.W   @R4,R1
20276 00003B70 9321              6621             MOV.W   #BIT0,R3                                                ;
20277                            6622     
20278                            6623     
20279 00003B72 255A              6624             XOR     R5,R5                                                   ;
20280 00003B74 6603              6625             MOV     R0,R6                                                   ;
20281                            6626     
20282 00003B76 2138              6627             TST     R3,R1                                                   ;
20283                            6628             TST_BIT_OF OUTPLS_CNT_CHK100                                    ;BIT3=0 "+"
20284 00003B78 8903                   M           BT      OUTPLS_CNT_CHK100
20285 00003B7A 666B              6629             NEG     R6,R6                                                   ;
20286 00003B7C 4611              6630             CMP/PZ  R6
20287 00003B7E 8900              6631             BT      OUTPLS_CNT_CHK100                                       ;
20288 00003B80 75FF              6632             ADD     #-1,R5                                                  ;
20289 00003B82                   6633     OUTPLS_CNT_CHK100:                                                      ;
20290                            6634     
20291                            6635     ;       === 2003-07-01 1msec差分速度算出用 ==
20292 00003B82 D312              6636             MOV.L   #_OUTPLS_DELT,R3                        ;符号付
20293 00003B84 2361              6637             MOV.W   R6,@R3                                  ;
20294                            6638     
20295                            6639     ;       =====================================
20296                            6640             PUSH_REG1 R5                                                    ;異常測定用
20297 00003B86 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
20298                                 M                                           ;REG=>[SP]
20299                                 M                                           ;"-4" FF,FF,FF,FC
20300                            6641             PUSH_REG1 R6                                                    ;
20301 00003B88 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   253
PROGRAM NAME =

20302                                 M                                           ;REG=>[SP]
20303                                 M                                           ;"-4" FF,FF,FF,FC
20304 00003B8A D311              6642             MOV.L   #_POSLSI_OUTPUT_TOTAL_PLS,R3                            ;
20305 00003B8C 6132              6643             MOV.L   @R3,R1                                                  ;
20306 00003B8E 5231              6644             MOV.L   @(4,R3),R2                                              ;
20307                            6645             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
20308 00003B90 0008                   M           CLRT
20309 00003B92 326E                   M           ADDC    R6,R2
20310 00003B94 315E                   M           ADDC    R5,R1
20311 00003B96 2312              6646             MOV.L   R1,@R3                                                  ;
20312 00003B98 1321              6647             MOV.L   R2,@(4,R3)                                              ;
20313                            6648             POP_REG1 R6                                                     ;
20314                                 M                                   ; RE"+4" 00,00,00,04
20315 00003B9A 66F6                   M           MOV.L   @R15+,R6        ;
20316                            6649             POP_REG1 R5                                                     ;
20317                                 M                                   ; RE"+4" 00,00,00,04
20318 00003B9C 65F6                   M           MOV.L   @R15+,R5        ;
20319                            6650     
20320                            6651     ;       =========       20060919 現在位置管理用 =============
20321 00003B9E D30D              6652             MOV.L   #_LINK_RL_OBJ_ABSPLS,R3                         ;
20322 00003BA0 6132              6653             MOV.L   @R3,R1                                                  ;
20323 00003BA2 5231              6654             MOV.L   @(4,R3),R2                                              ;
20324                            6655             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
20325 00003BA4 0008                   M           CLRT
20326 00003BA6 326E                   M           ADDC    R6,R2
20327 00003BA8 315E                   M           ADDC    R5,R1
20328 00003BAA 2312              6656             MOV.L   R1,@R3                                                  ;
20329 00003BAC 1321              6657             MOV.L   R2,@(4,R3)                                              ;
20330                            6658     
20331                            6659     
20332                            6660     
20333                            6661             SUB_END
20334                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20335 00003BAE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20336                            6662             M_RTS
20337 00003BB0 000B                   M           RTS                             ;RTSの後ろの
20338 00003BB2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20339                            6663     
20340                            6664     ;       *******************************************
20341                            6665     ;       ***                                     ***
20342                            6666     ;       ***                                     ***
20343                            6667     ;       ***             ニアゼロチェック        ***
20344                            6668     ;       ***                                     ***
20345                            6669     ;       *******************************************
20346                            6670     ;       R0= -1:完了
20347                            6671     ;
20348                                     ***** BEGIN-POOL *****
20349 00003BB4 FF00                       DATA FOR SOURCE-LINE 6594
20350 00003BB6 0001                       DATA FOR SOURCE-LINE 6621
20351 00003BB8 00000000                   DATA FOR SOURCE-LINE 6579,6588
20352 00003BBC 00000000                   DATA FOR SOURCE-LINE 6583
20353 00003BC0 00000000                   DATA FOR SOURCE-LINE 6606
20354 00003BC4 00000000                   DATA FOR SOURCE-LINE 6617
20355 00003BC8 00000000                   DATA FOR SOURCE-LINE 6619
20356 00003BCC 00000000                   DATA FOR SOURCE-LINE 6636
20357 00003BD0 00000000                   DATA FOR SOURCE-LINE 6642
20358 00003BD4 00000000                   DATA FOR SOURCE-LINE 6652
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   254
PROGRAM NAME =

20359                                     ***** END-POOL *****
20360 00003BD8                   6672             .ALIGN  4                               ;
20361 00003BD8                   6673     _OPEN_ROT_NEAR1_ZERO_CHK:
20362                            6674             SUB_START
20363 00003BD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
20364                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20365                            6675             FAR_JSR #_INCENC_SV_HENSA_MAKE,R0       ;
20366 00003BDA D008                   M           MOV.L   #_INCENC_SV_HENSA_MAKE,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20367 00003BDC 400B                   M           JSR     @R0                     ;
20368 00003BDE 0009                   M           NOP                                     ;
20369                            6676     
20370                            6677     ;       =====2009-10-07　連続のふりこ専用ｲﾝﾎﾟｼﾞｼｮﾝ(h2wはふりこ＋反転)
20371 00003BE0 D107              6678             MOV.L   #_MODE_SEL,R1                   ;
20372 00003BE2 6011              6679             MOV.W   @R1,R0                          ;
20373 00003BE4 C808              6680             TST     #_W1CNT,R0                      ;
20374                            6681             TST_BIT_OF OPEN_ROT_NEAR1_ZR_CK20       ;
20375 00003BE6 8911                   M           BT      OPEN_ROT_NEAR1_ZR_CK20
20376                            6682     
20377                            6683     ;       -----2009-10-07 ADD(ふりこの場合の連続ﾓｰﾄﾞのみニアゼロ幅を変える) h2wは反転も-----
                                          -
20378 00003BE8 D306              6684             MOV.L   #_SET1_OBJARA_INPXPSX,R3                ;ふりこ用2007-11-13
20379 00003BEA 6431              6685             MOV.W   @R3,R4                                  ;
20380 00003BEC 2448              6686             TST     R4,R4                                   ;
20381                            6687             TST_BIT_OF OPEN_ROT_NEAR1_ZR_CK20               ;"0以外"
20382 00003BEE 890D                   M           BT      OPEN_ROT_NEAR1_ZR_CK20
20383                            6688     
20384 00003BF0 D105              6689             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
20385 00003BF2 6011              6690             MOV.W   @R1,R0                                  ;
20386                            6691     ;;;h2w  TST     #(_DMATH_REVRSE+_DMATH_DNDRIV),R0       ;DRIVE MATH 反転,ふりこ
20387 00003BF4 C804              6692             TST     #(_DMATH_DNDRIV),R0                     ;DRIVE MATH ふりこ
20388                            6693             TST_BIT_OF OPEN_ROT_NEAR1_ZR_CK20               ;
20389 00003BF6 8909                   M           BT      OPEN_ROT_NEAR1_ZR_CK20
20390                            6694             M_BRA   OPEN_ROT_NEAR1_ZR_CK40
20391 00003BF8 A00A                   M           BRA     OPEN_ROT_NEAR1_ZR_CK40
20392 00003BFA 0009                   M           NOP
20393                            6695     
20394                            6696     
20395                                     ***** BEGIN-POOL *****
20396 00003BFC 00000000                   DATA FOR SOURCE-LINE 6675
20397 00003C00 00000000                   DATA FOR SOURCE-LINE 6678
20398 00003C04 00000000                   DATA FOR SOURCE-LINE 6684
20399 00003C08 00000000                   DATA FOR SOURCE-LINE 6689
20400                                     ***** END-POOL *****
20401 00003C0C                   6697     OPEN_ROT_NEAR1_ZR_CK20:
20402 00003C0C D307              6698             MOV.L   #_SET1_OBJARA_INPXPLS,R3        ;
20403 00003C0E 6431              6699             MOV.W   @R3,R4                          ;
20404 00003C10                   6700     OPEN_ROT_NEAR1_ZR_CK40:                         ;
20405 00003C10 3423              6701             CMP/GE  R2,R4                           ;R2 =< MAX
20406 00003C12 890F              6702             BT      OPEN_ROT_NEAR1_ZR_CK50          ;
20407                            6703     ;       ==== ﾆｱｾﾞﾛ待ち======
20408                            6704             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT0,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
20409 00003C14 D106                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20410 00003C16 6011                   M           MOV.W   @R1,R0          ;
20411 00003C18 CB01                   M           OR      #BIT0,R0                ;
20412 00003C1A 2101                   M           MOV.W   R0,@R1          ;
20413                            6705             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT1,WKREG=R1 ;//位置決めｽ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   255
PROGRAM NAME =

                                          ﾃｰﾀｽ
20414 00003C1C D104                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20415 00003C1E 6011                   M           MOV.W   @R1,R0          ;
20416 00003C20 C9FD                   M           AND     #LOW ~BIT1,R0           ;
20417 00003C22 2101                   M           MOV.W   R0,@R1          ;
20418                            6706     ;       ===============================================
20419 00003C24 200A              6707             XOR     R0,R0                           ;
20420                            6708             M_BRA   OPEN_ROT_NEAR1_ZR_CK100
20421 00003C26 A016                   M           BRA     OPEN_ROT_NEAR1_ZR_CK100
20422 00003C28 0009                   M           NOP
20423                            6709     
20424                                     ***** BEGIN-POOL *****
20425 00003C2A 0000                       ALIGNMENT CODE
20426 00003C2C 00000000                   DATA FOR SOURCE-LINE 6698
20427 00003C30 00000000                   DATA FOR SOURCE-LINE 6704,6705
20428                                     ***** END-POOL *****
20429 00003C34                   6710     OPEN_ROT_NEAR1_ZR_CK50:
20430                            6711     ;       =========[ﾆｱｾﾞﾛ]======================================
20431                            6712             MEM1_BIT0_TO_BIT7_ORSET MEM=_NEAR_IN_FLG,LG=W,BIT=BIT0,WKREG=R1 ;//ﾆｱｾﾞﾛﾗｯﾁ
20432 00003C34 D109                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
20433 00003C36 6011                   M           MOV.W   @R1,R0          ;
20434 00003C38 CB01                   M           OR      #BIT0,R0                ;
20435 00003C3A 2101                   M           MOV.W   R0,@R1          ;
20436                            6713             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT0,WKREG=R1 ;2012-12-10 DEB
                                          UG
20437 00003C3C D108                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
20438 00003C3E 6011                   M           MOV.W   @R1,R0          ;
20439 00003C40 CB01                   M           OR      #BIT0,R0                ;
20440 00003C42 2101                   M           MOV.W   R0,@R1          ;
20441                            6714     
20442                            6715     
20443                            6716     
20444                            6717             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
20445 00003C44 D107                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20446 00003C46 6011                   M           MOV.W   @R1,R0          ;
20447 00003C48 C9FE                   M           AND     #LOW ~BIT0,R0           ;
20448 00003C4A 2101                   M           MOV.W   R0,@R1          ;
20449                            6718             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT1,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
20450 00003C4C D105                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20451 00003C4E 6011                   M           MOV.W   @R1,R0          ;
20452 00003C50 CB02                   M           OR      #BIT1,R0                ;
20453 00003C52 2101                   M           MOV.W   R0,@R1          ;
20454                            6719     
20455                            6720     ;       ===============================================
20456 00003C54 E0FF              6721             MOV     #-1,R0                          ;ANS FFFF SET NEAR-ZERO
20457 00003C56                   6722     OPEN_ROT_NEAR1_ZR_CK100:                                ;
20458                            6723             SUB_END
20459                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20460 00003C56 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20461                            6724             M_RTS
20462 00003C58 000B                   M           RTS                             ;RTSの後ろの
20463 00003C5A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20464                            6725     
20465                            6726     ;       *******************************************
20466                            6727     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   256
PROGRAM NAME =

20467                            6728     ;       ***     反転の戻り工程だけの            ***
20468                            6729     ;       ***             ニアゼロチェック        ***
20469                            6730     ;       ***                                     ***
20470                            6731     ;       *******************************************
20471                            6732     ;       R0= -1:完了
20472                            6733     ;
20473                                     ***** BEGIN-POOL *****
20474 00003C5C 00000000                   DATA FOR SOURCE-LINE 6712
20475 00003C60 00000000                   DATA FOR SOURCE-LINE 6713
20476 00003C64 00000000                   DATA FOR SOURCE-LINE 6717,6718
20477                                     ***** END-POOL *****
20478 00003C68                   6734             .ALIGN  4                               ;
20479 00003C68                   6735     _OPEN_ROT_NEAR2_ZERO_CHK:
20480                            6736             SUB_START
20481 00003C68 4F22                   M           STS.L   PR,@-R15                ;[必要]
20482                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20483                            6737             FAR_JSR #_INCENC_SV_HENSA_MAKE,R0       ;
20484 00003C6A D00A                   M           MOV.L   #_INCENC_SV_HENSA_MAKE,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20485 00003C6C 400B                   M           JSR     @R0                     ;
20486 00003C6E 0009                   M           NOP                                     ;
20487 00003C70 D309              6738             MOV.L   #_SET1_OBJARA_INPXPLS,R3        ;
20488 00003C72 6431              6739             MOV.W   @R3,R4                          ;
20489 00003C74 900D              6740             MOV.W   #D'1000,R0                      ;
20490 00003C76 340C              6741             ADD     R0,R4                           ;目標位置+ｲﾝﾎﾟｼﾞｼｮﾝ+1000~-ｲﾝﾎﾟｼﾞｼｮﾝ-1000
20491                            6742     
20492 00003C78 3423              6743             CMP/GE  R2,R4                           ;R2 =< MAX
20493 00003C7A 8911              6744             BT      OPEN_ROT_NEAR2_ZR_CK50          ;
20494                            6745     ;       ==== ﾆｱｾﾞﾛ待ち======
20495                            6746             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT0,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
20496 00003C7C D107                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20497 00003C7E 6011                   M           MOV.W   @R1,R0          ;
20498 00003C80 CB01                   M           OR      #BIT0,R0                ;
20499 00003C82 2101                   M           MOV.W   R0,@R1          ;
20500                            6747             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT1,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
20501 00003C84 D105                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20502 00003C86 6011                   M           MOV.W   @R1,R0          ;
20503 00003C88 C9FD                   M           AND     #LOW ~BIT1,R0           ;
20504 00003C8A 2101                   M           MOV.W   R0,@R1          ;
20505                            6748     ;       ===============================================
20506 00003C8C 200A              6749             XOR     R0,R0                           ;
20507                            6750             M_BRA   OPEN_ROT_NEAR2_ZR_CK100
20508 00003C8E A014                   M           BRA     OPEN_ROT_NEAR2_ZR_CK100
20509 00003C90 0009                   M           NOP
20510                            6751     
20511                                     ***** BEGIN-POOL *****
20512 00003C92 03E8                       DATA FOR SOURCE-LINE 6740
20513 00003C94 00000000                   DATA FOR SOURCE-LINE 6737
20514 00003C98 00000000                   DATA FOR SOURCE-LINE 6738
20515 00003C9C 00000000                   DATA FOR SOURCE-LINE 6746,6747
20516                                     ***** END-POOL *****
20517 00003CA0                   6752     OPEN_ROT_NEAR2_ZR_CK50:
20518                            6753     ;       =========[ﾆｱｾﾞﾛ]======================================
20519                            6754             MEM1_BIT0_TO_BIT7_ORSET MEM=_NEAR_IN_FLG,LG=W,BIT=BIT0,WKREG=R1 ;//ﾆｱｾﾞﾛﾗｯﾁ
20520 00003CA0 D107                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
20521 00003CA2 6011                   M           MOV.W   @R1,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   257
PROGRAM NAME =

20522 00003CA4 CB01                   M           OR      #BIT0,R0                ;
20523 00003CA6 2101                   M           MOV.W   R0,@R1          ;
20524                            6755     
20525                            6756             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
20526 00003CA8 D106                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20527 00003CAA 6011                   M           MOV.W   @R1,R0          ;
20528 00003CAC C9FE                   M           AND     #LOW ~BIT0,R0           ;
20529 00003CAE 2101                   M           MOV.W   R0,@R1          ;
20530                            6757             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT1,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
20531 00003CB0 D104                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20532 00003CB2 6011                   M           MOV.W   @R1,R0          ;
20533 00003CB4 CB02                   M           OR      #BIT1,R0                ;
20534 00003CB6 2101                   M           MOV.W   R0,@R1          ;
20535                            6758     
20536                            6759     ;       ===============================================
20537 00003CB8 E0FF              6760             MOV     #-1,R0                          ;ANS FFFF SET NEAR-ZERO
20538 00003CBA                   6761     OPEN_ROT_NEAR2_ZR_CK100:                                ;
20539                            6762             SUB_END
20540                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20541 00003CBA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20542                            6763             M_RTS
20543 00003CBC 000B                   M           RTS                             ;RTSの後ろの
20544 00003CBE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20545                            6764     
20546                            6765     
20547                            6766     ;       *******************************************
20548                            6767     ;       ***                                     ***
20549                            6768     ;       ***     カムへステップ完了を教える      ***
20550                            6769     ;       ***                                     ***
20551                            6770     ;       *******************************************
20552                            6771     ;       ﾀｲﾏ前
20553                                     ***** BEGIN-POOL *****
20554 00003CC0 00000000                   DATA FOR SOURCE-LINE 6754
20555 00003CC4 00000000                   DATA FOR SOURCE-LINE 6756,6757
20556                                     ***** END-POOL *****
20557 00003CC8                   6772             .ALIGN  4                               ;
20558 00003CC8                   6773     _CAM_1STEP_END_SIG1:
20559                            6774             SUB_START
20560 00003CC8 4F22                   M           STS.L   PR,@-R15                ;[必要]
20561                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20562 00003CCA D105              6775             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
20563 00003CCC 6011              6776             MOV.W   @R1,R0                          ;ﾀｲﾏLOAD
20564 00003CCE 4008              6777             SHLL2   R0                              ;
20565 00003CD0 D204              6778             MOV.L   #_LONG_BIT_TBL0,R2              ;
20566 00003CD2 320C              6779             ADD     R0,R2                           ;
20567 00003CD4 6022              6780             MOV.L   @R2,R0                          ;
20568 00003CD6 D104              6781             MOV.L   #_CAM_POS_STEP_END_FLG1,R1      ;//各工程の位置決め完了
20569 00003CD8 2101              6782             MOV.W   R0,@R1                          ;
20570                            6783             SUB_END
20571                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20572 00003CDA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20573                            6784             M_RTS
20574 00003CDC 000B                   M           RTS                             ;RTSの後ろの
20575 00003CDE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20576                            6785     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   258
PROGRAM NAME =

20577                            6786     ;       ﾀｲﾏ後
20578                                     ***** BEGIN-POOL *****
20579 00003CE0 00000000                   DATA FOR SOURCE-LINE 6775
20580 00003CE4 00000000                   DATA FOR SOURCE-LINE 6778
20581 00003CE8 00000000                   DATA FOR SOURCE-LINE 6781
20582                                     ***** END-POOL *****
20583 00003CEC                   6787             .ALIGN  4                               ;
20584 00003CEC                   6788     _CAM_1STEP_END_SIG2:
20585                            6789             SUB_START
20586 00003CEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
20587                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20588 00003CEE D105              6790             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
20589 00003CF0 6011              6791             MOV.W   @R1,R0                          ;ﾀｲﾏLOAD
20590 00003CF2 4008              6792             SHLL2   R0                              ;
20591 00003CF4 D204              6793             MOV.L   #_LONG_BIT_TBL0,R2              ;
20592 00003CF6 320C              6794             ADD     R0,R2                           ;
20593 00003CF8 6022              6795             MOV.L   @R2,R0                          ;
20594 00003CFA D104              6796             MOV.L   #_CAM_POS_STEP_END_FLG2,R1      ;//各工程の位置決め完了
20595 00003CFC 2101              6797             MOV.W   R0,@R1                          ;
20596                            6798             SUB_END
20597                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20598 00003CFE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20599                            6799             M_RTS
20600 00003D00 000B                   M           RTS                             ;RTSの後ろの
20601 00003D02 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20602                            6800     
20603                            6801     ;       *******************************************
20604                            6802     ;       ***     ANS R1,R2 |目標-現在|=R2        ***
20605                            6803     ;       ***     ANS R0=0 目標>=現在             ***
20606                            6804     ;       *******************************************
20607                            6805     ;       4BYTE MAX +/ 7FFF,FFFF
20608                            6806             .EXPORT _INCENC_SV_HENSA_MAKE
20609                                     ***** BEGIN-POOL *****
20610 00003D04 00000000                   DATA FOR SOURCE-LINE 6790
20611 00003D08 00000000                   DATA FOR SOURCE-LINE 6793
20612 00003D0C 00000000                   DATA FOR SOURCE-LINE 6796
20613                                     ***** END-POOL *****
20614 00003D10                   6807             .ALIGN  4                               ;
20615 00003D10                   6808     _INCENC_SV_HENSA_MAKE:
20616                            6809             SUB_START
20617 00003D10 4F22                   M           STS.L   PR,@-R15                ;[必要]
20618                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20619 00003D12 D40C              6810             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;//abs停止目標位置
                                          (設定ﾊﾞｯｸﾗｯｼなし)
20620 00003D14 6142              6811             MOV.L   @R4,R1                                                  ;
20621 00003D16 5241              6812             MOV.L   @(1*4,R4),R2                                            ;目標位置
20622 00003D18 D40B              6813             MOV.L   #_LINK_PV_ABSPLS,R4                                     ;20060919
20623 00003D1A 6542              6814             MOV.L   @R4,R5                                                  ;
20624 00003D1C 5641              6815             MOV.L   @(1*4,R4),R6                                            ;現在位置
20625                            6816             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
20626 00003D1E 0008                   M           CLRT
20627 00003D20 326A                   M           SUBC    R6,R2
20628 00003D22 315A                   M           SUBC    R5,R1
20629 00003D24 6013              6817             MOV     R1,R0                           ;
20630 00003D26 4111              6818             CMP/PZ  R1                              ;
20631 00003D28 8905              6819             BT      INCENC_SV_HENSA_MK050           ;
20632                            6820             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R3      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   259
PROGRAM NAME =

20633 00003D2A 6227                   M           NOT     R2,R2                           ;
20634 00003D2C 6117                   M           NOT     R1,R1                           ;
20635 00003D2E 233A                   M           XOR     R3,R3                           ;
20636 00003D30 0018                   M           SETT
20637 00003D32 323E                   M           ADDC    R3,R2                           ;0+1+R2
20638 00003D34 313E                   M           ADDC    R3,R1                           ;
20639 00003D36                   6821     INCENC_SV_HENSA_MK050:                          ;
20640 00003D36 2118              6822             TST     R1,R1                           ;
20641                            6823             TST_BIT_OF INCENC_SV_HENSA_MK100        ;8byte
20642 00003D38 8900                   M           BT      INCENC_SV_HENSA_MK100
20643 00003D3A D204              6824             MOV.L   #H'7FFFFFFF,R2                  ;
20644 00003D3C                   6825     INCENC_SV_HENSA_MK100:                          ;
20645                            6826     
20646                            6827             SUB_END
20647                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20648 00003D3C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20649                            6828             M_RTS
20650 00003D3E 000B                   M           RTS                             ;RTSの後ろの
20651 00003D40 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20652                            6829     
20653                            6830     ;       ***********************************
20654                            6831     ;       ***     最下死点INITAL          ***
20655                            6832     ;       ***********************************
20656                                     ***** BEGIN-POOL *****
20657 00003D42 0000                       ALIGNMENT CODE
20658 00003D44 00000000                   DATA FOR SOURCE-LINE 6810
20659 00003D48 00000000                   DATA FOR SOURCE-LINE 6813
20660 00003D4C 7FFFFFFF                   DATA FOR SOURCE-LINE 6824
20661                                     ***** END-POOL *****
20662 00003D50                   6833             .ALIGN  4                               ;
20663 00003D50                   6834     _MOST_DISP_DAT_INI:
20664                            6835             SUB_START
20665 00003D50 4F22                   M           STS.L   PR,@-R15                ;[必要]
20666                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20667 00003D52 D109              6836             MOV.L   #_CYCL_START_CNT,R1             ;
20668 00003D54 6011              6837             MOV.W   @R1,R0                          ;
20669 00003D56 7001              6838             ADD     #1,R0                           ;
20670 00003D58 2101              6839             MOV.W   R0,@R1                          ;起動回数
20671                            6840     
20672                            6841     ;       ======== 2007-12-12 ====================
20673 00003D5A D108              6842             MOV.L   #_RNA_ABS_POS,R1                ;//ﾎﾞﾙｽﾀ面高さ(絶対位置)
20674 00003D5C 6212              6843             MOV.L   @R1,R2                          ;
20675 00003D5E D108              6844             MOV.L   #_SHOT_MOST_DOWN_POSWK,R1       ;
20676 00003D60 2122              6845             MOV.L   R2,@R1                          ;
20677                            6846     ;       =========================================
20678                            6847     
20679                            6848     ;       ====== 最下死点処理======
20680 00003D62 D108              6849             MOV.L   #_RNA_CTL_POS1,R1               ;//制御位置
20681 00003D64 6012              6850             MOV.L   @R1,R0                          ;
20682 00003D66 D108              6851             MOV.L   #_CLS_RNA_MOST_DOWN_POS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
20683 00003D68 2102              6852             MOV.L   R0,@R1                          ;
20684                            6853     
20685 00003D6A D108              6854             MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R1   ;//余り角度 +ﾃﾞｰﾀ
20686 00003D6C 6012              6855             MOV.L   @R1,R0                          ;
20687 00003D6E D108              6856             MOV.L   #_CLS_INC_MOST_DOWN_PLS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
20688 00003D70 2102              6857             MOV.L   R0,@R1                          ;
20689                            6858     ;       =========================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   260
PROGRAM NAME =

20690                            6859             SUB_END
20691                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20692 00003D72 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20693                            6860             M_RTS
20694 00003D74 000B                   M           RTS                             ;RTSの後ろの
20695 00003D76 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20696                            6861     
20697                            6862     ;       ***********************************
20698                            6863     ;       ***     最下死点ｻﾝﾌﾟﾘﾝｸﾞ        ***
20699                            6864     ;       ***********************************
20700                                     ***** BEGIN-POOL *****
20701 00003D78 00000000                   DATA FOR SOURCE-LINE 6836
20702 00003D7C 00000000                   DATA FOR SOURCE-LINE 6842
20703 00003D80 00000000                   DATA FOR SOURCE-LINE 6844
20704 00003D84 00000000                   DATA FOR SOURCE-LINE 6849
20705 00003D88 00000000                   DATA FOR SOURCE-LINE 6851
20706 00003D8C 00000000                   DATA FOR SOURCE-LINE 6854
20707 00003D90 00000000                   DATA FOR SOURCE-LINE 6856
20708                                     ***** END-POOL *****
20709 00003D94                   6865             .ALIGN  4                               ;
20710 00003D94                   6866     _MOST_DISP_DAT_SMP:
20711                            6867             SUB_START
20712 00003D94 4F22                   M           STS.L   PR,@-R15                ;[必要]
20713                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20714                            6868     ;       ====== 最下死点処理======
20715 00003D96 D10D              6869             MOV.L   #_RNA_CTL_POS1,R1               ;//制御位置
20716 00003D98 6012              6870             MOV.L   @R1,R0                          ;
20717 00003D9A D10D              6871             MOV.L   #_CLS_RNA_MOST_DOWN_POS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
20718 00003D9C 6212              6872             MOV.L   @R1,R2                          ;
20719 00003D9E 3023              6873             CMP/GE  R2,R0                           ; OLD < NEW(R0)
20720 00003DA0 8900              6874             BT      MOST_DISP_DATSMP_050            ;
20721 00003DA2 6203              6875             MOV     R0,R2                           ;最小値ｻﾝﾌﾟﾘﾝｸﾞ
20722 00003DA4                   6876     MOST_DISP_DATSMP_050:                           ;
20723 00003DA4 2122              6877             MOV.L   R2,@R1                          ;
20724                            6878     
20725 00003DA6 D10B              6879             MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R1   ;//余り角度 +ﾃﾞｰﾀ
20726 00003DA8 6012              6880             MOV.L   @R1,R0                          ;
20727 00003DAA D10B              6881             MOV.L   #_CLS_INC_MOST_DOWN_PLS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
20728 00003DAC 6212              6882             MOV.L   @R1,R2                          ;
20729 00003DAE 3203              6883             CMP/GE  R0,R2                           ;NEW(R0) < OLD
20730 00003DB0 8900              6884             BT      MOST_DISP_DATSMP_100            ;
20731 00003DB2 6203              6885             MOV     R0,R2                           ;最大値ｻﾝﾌﾟﾘﾝｸﾞ
20732 00003DB4                   6886     MOST_DISP_DATSMP_100:                           ;
20733 00003DB4 2122              6887             MOV.L   R2,@R1                          ;
20734                            6888     ;       =========================
20735                            6889     
20736                            6890     ;       ======== 2007-12-12(RNA_ABS_POSの最小値) ======
20737                            6891     ;       ====== 最下死点処理======
20738 00003DB6 D109              6892             MOV.L   #_RNA_ABS_POS,R1                ;//ﾎﾞﾙｽﾀ面高さ(絶対位置)
20739 00003DB8 6012              6893             MOV.L   @R1,R0                          ;
20740 00003DBA D109              6894             MOV.L   #_SHOT_MOST_DOWN_POSWK,R1       ;//
20741 00003DBC 6212              6895             MOV.L   @R1,R2                          ;
20742 00003DBE 3023              6896             CMP/GE  R2,R0                           ; OLD < NEW(R0)
20743 00003DC0 8900              6897             BT      MOST_DISP_DATSMP_150            ;
20744 00003DC2 6203              6898             MOV     R0,R2                           ;最小値ｻﾝﾌﾟﾘﾝｸﾞ
20745 00003DC4                   6899     MOST_DISP_DATSMP_150:                           ;
20746 00003DC4 2122              6900             MOV.L   R2,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   261
PROGRAM NAME =

20747                            6901     ;       =========================================
20748                            6902     
20749                            6903             SUB_END
20750                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20751 00003DC6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20752                            6904             M_RTS
20753 00003DC8 000B                   M           RTS                             ;RTSの後ろの
20754 00003DCA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20755                            6905     
20756                            6906     ;       ***********************************
20757                            6907     ;       ***                             ***
20758                            6908     ;       ***                             ***
20759                            6909     ;       ***                             ***
20760                            6910     ;       ***********************************
20761                                     ***** BEGIN-POOL *****
20762 00003DCC 00000000                   DATA FOR SOURCE-LINE 6869
20763 00003DD0 00000000                   DATA FOR SOURCE-LINE 6871
20764 00003DD4 00000000                   DATA FOR SOURCE-LINE 6879
20765 00003DD8 00000000                   DATA FOR SOURCE-LINE 6881
20766 00003DDC 00000000                   DATA FOR SOURCE-LINE 6892
20767 00003DE0 00000000                   DATA FOR SOURCE-LINE 6894
20768                                     ***** END-POOL *****
20769 00003DE4                   6911             .ALIGN  4                               ;
20770 00003DE4                   6912     _CMP_ERR_STS_REF:
20771                            6913             SUB_START
20772 00003DE4 4F22                   M           STS.L   PR,@-R15                ;[必要]
20773                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20774                            6914             SUB_END
20775                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20776 00003DE6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20777                            6915             M_RTS
20778 00003DE8 000B                   M           RTS                             ;RTSの後ろの
20779 00003DEA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20780                            6916     
20781                            6917     
20782                            6918     ;       ***********************************
20783                            6919     ;       ***     R0=0:停止 ELSE 動作     ***
20784                            6920     ;       ***********************************
20785                            6921     ;       == R0=0 停止 R0=FF 動作
20786                            6922     ;       USED R4,R1,R0
20787                            6923             .IMPORT _CPUA_PLS_OUTF  ;
20788                            6924             .IMPORT _CPUB_PLS_OUTF  ;
20789                            6925     
20790 00003DEC                   6926             .ALIGN  4                               ;
20791 00003DEC                   6927     _ERR_STOP_MOV_CHK:
20792                            6928             SUB_START
20793 00003DEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
20794                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20795                            6929             FAR_JSR #_LOD_POS_STS_REG,R0            ;停止の判断をこれにする
20796 00003DEE D007                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20797 00003DF0 400B                   M           JSR     @R0                     ;
20798 00003DF2 0009                   M           NOP                                     ;
20799 00003DF4 211A              6930             XOR     R1,R1                           ;
20800 00003DF6 C804              6931             TST     #BIT2,R0                        ;
20801                            6932             TST_BIT_ON ERR_STOP_MOVCK050            ;
20802 00003DF8 8B00                   M           BF      ERR_STOP_MOVCK050
20803 00003DFA 71FF              6933             ADD     #-1,R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   262
PROGRAM NAME =

20804 00003DFC                   6934     ERR_STOP_MOVCK050:
20805 00003DFC 6013              6935             MOV     R1,R0                           ;
20806 00003DFE D104              6936             MOV.L   #_PLS_OUTPUT_FLG,R1             ;//0払い出し停止 1払出中
20807 00003E00 2101              6937             MOV.W   R0,@R1                          ;
20808                            6938     
20809                            6939     ;       ----- 2015-07-14--------
20810                            6940      .AIF   0 EQ    0       ;
20811 00003E02 D104              6941 C           MOV.L   #_CPUA_PLS_OUTF,R1      ;
20812                            6942      .AELSE
20813                            6943             MOV.L   #_CPUB_PLS_OUTF,R1      ;
20814                            6944      .AENDI
20815 00003E04 2101              6945             MOV.W   R0,@R1                          ;
20816                            6946             SUB_END
20817                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20818 00003E06 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20819                            6947             M_RTS
20820 00003E08 000B                   M           RTS                             ;RTSの後ろの
20821 00003E0A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20822                            6948     
20823                            6949     ;       ***************************************************
20824                            6950     ;       ***                                             ***
20825                            6951     ;       ***                                             ***
20826                            6952     ;       ***                                             ***
20827                            6953     ;       ***                                             ***
20828                            6954     ;       ***             位置決めLSIｱｸｾｽｿﾌﾄ              ***
20829                            6955     ;       ***                                             ***
20830                            6956     ;       ***                                             ***
20831                            6957     ;       ***                                             ***
20832                            6958     ;       ***************************************************
20833                            6959     
20834                            6960     ;       === (2003-07-01 履歴用ﾃﾞｰﾀ作成) ======
20835                            6961             .EXPORT _LOAD_REST_PLS          ;残りﾊﾟﾙｽ
20836                            6962             .EXPORT _LOAD_FREQ_PLS          ;設定ﾊﾟﾙｽ
20837                            6963             .EXPORT _LOAD_NOW_FREQ_PLS      ;現在
20838                            6964             .EXPORT _LOAD_GPOINT_PLS        ;
20839                            6965     
20840                            6966             .EXPORT _LOAD_SPD_LATE          ;
20841                            6967             .EXPORT _LOAD_ACCS1_LATE        ;
20842                            6968             .EXPORT _LOAD_BASE_FREQ_PLS     ;
20843                            6969     
20844                            6970     ;       ***************************************************
20845                            6971     ;       ***                                             ***
20846                            6972     ;       ***             残りﾊﾟﾙｽREAD                    ***
20847                            6973     ;       ***             ANS:R0                          ***
20848                            6974     ;       ***************************************************
20849                            6975     ;       R0以外破壊しない
20850                            6976     ;       "残りﾊﾟﾙｽ"
20851                            6977     ;       減る方向で化けるｹｰｽもある.従って２度読みの古い方側を使用した方が良いか？
20852                            6978     ;       ３度読みでその真ん中は正しい=  >２度読みの古いほうが正しい ==>だめ
20853                            6979     ;       １回目が化けて大きくなって２回目が正常なら発生する
20854                            6980     ;       時間などチェックが必要だ
20855                                     ***** BEGIN-POOL *****
20856 00003E0C 00000000                   DATA FOR SOURCE-LINE 6929
20857 00003E10 00000000                   DATA FOR SOURCE-LINE 6936
20858 00003E14 00000000                   DATA FOR SOURCE-LINE 6941
20859                                     ***** END-POOL *****
20860 00003E18                   6981             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   263
PROGRAM NAME =

20861 00003E18                   6982     _LOAD_REST_PLS:
20862                            6983             SUB_START
20863 00003E18 4F22                   M           STS.L   PR,@-R15                ;[必要]
20864                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20865                            6984             PUSH_REG1 R1
20866 00003E1A 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20867                                 M                                           ;REG=>[SP]
20868                                 M                                           ;"-4" FF,FF,FF,FC
20869                            6985             PUSH_REG1 R2
20870 00003E1C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
20871                                 M                                           ;REG=>[SP]
20872                                 M                                           ;"-4" FF,FF,FF,FC
20873                            6986             PUSH_REG1 R3
20874 00003E1E 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
20875                                 M                                           ;REG=>[SP]
20876                                 M                                           ;"-4" FF,FF,FF,FC
20877                            6987             PUSH_REG1 R4
20878 00003E20 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
20879                                 M                                           ;REG=>[SP]
20880                                 M                                           ;"-4" FF,FF,FF,FC
20881 00003E22 E30A              6988             MOV     #D'10,R3                                        ;
20882                            6989     
20883 00003E24                   6990     LOAD_RESTPLS_LOP:
20884                            6991     
20885 00003E24 D109              6992             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1        ;R/W 指令ﾊﾟﾙｽ数
20886                            6993             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20887 00003E26 D00A                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20888 00003E28 400B                   M           JSR     @R0                     ;
20889 00003E2A 0009                   M           NOP                                     ;
20890 00003E2C 6403              6994             MOV     R0,R4                                           ;FIRST R0
20891                            6995     
20892 00003E2E D107              6996             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1        ;R/W 指令ﾊﾟﾙｽ数
20893                            6997             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20894 00003E30 D007                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20895 00003E32 400B                   M           JSR     @R0                     ;
20896 00003E34 0009                   M           NOP                                     ;
20897 00003E36 6203              6998             MOV     R0,R2                                           ;FIRST R0
20898                            6999     
20899 00003E38 D104              7000             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1        ;R/W 指令ﾊﾟﾙｽ数
20900                            7001             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20901 00003E3A D005                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20902 00003E3C 400B                   M           JSR     @R0                     ;
20903 00003E3E 0009                   M           NOP                                     ;
20904                            7002     
20905                            7003     ;       R0=<R2=<R4
20906 00003E40 3422              7004             CMP/HS  R2,R4                                           ;R2 =< R4
20907 00003E42 8B07              7005             BF      LOAD_RESTPLS_050                                ;NO! 失敗(R2>R4)
20908 00003E44 3202              7006             CMP/HS  R0,R2                                           ;R0 =< R2
20909 00003E46 8B05              7007             BF      LOAD_RESTPLS_050                                ;NO! 失敗(R0>R2)
20910                            7008             M_BRA   LOAD_RESTPLS_END                                ;R0(NEW)=<R2(MID)=<R4(OLD)
                                           R2を信用する
20911 00003E48 A00F                   M           BRA     LOAD_RESTPLS_END
20912 00003E4A 0009                   M           NOP
20913                            7009     
20914                                     ***** BEGIN-POOL *****
20915 00003E4C 00000000                   DATA FOR SOURCE-LINE 6992,6996,7000
20916 00003E50 00000000                   DATA FOR SOURCE-LINE 6993,6997,7001
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   264
PROGRAM NAME =

20917                                     ***** END-POOL *****
20918 00003E54                   7010     LOAD_RESTPLS_050:                                               ;
20919 00003E54 D109              7011             MOV.L   #_LSI_PLSRD_NG_CNT1,R1                          ;
20920 00003E56 6011              7012             MOV.W   @R1,R0                                          ;
20921 00003E58 7001              7013             ADD     #1,R0                                           ;
20922 00003E5A 2101              7014             MOV.W   R0,@R1                                          ;
20923                            7015     
20924 00003E5C 73FF              7016             ADD     #-1,R3                                          ;
20925 00003E5E 4315              7017             CMP/PL  R3                                              ;
20926 00003E60 89E0              7018             BT      LOAD_RESTPLS_LOP                                ;
20927                            7019     ;       ==== HARD ERR ===
20928                            7020             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT5+BIT0),WKREG=R1
                                          ;R1,R0
20929 00003E62 D107                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1               ;
20930 00003E64 6011                   M           MOV.W   @R1,R0          ;
20931 00003E66 CB21                   M           OR      #(BIT5+BIT0),R0         ;
20932 00003E68 2101                   M           MOV.W   R0,@R1          ;
20933                            7021     
20934                            7022     ;;      MOV     R2,R0                                           ;
20935                            7023     ;       ANS.R2
20936 00003E6A                   7024     LOAD_RESTPLS_END:
20937 00003E6A 6023              7025             MOV     R2,R0                                           ;(3度読みの真ん中をデータ
                                          として使用する)
20938                            7026             POP_REG1 R4
20939                                 M                                   ; RE"+4" 00,00,00,04
20940 00003E6C 64F6                   M           MOV.L   @R15+,R4        ;
20941                            7027             POP_REG1 R3
20942                                 M                                   ; RE"+4" 00,00,00,04
20943 00003E6E 63F6                   M           MOV.L   @R15+,R3        ;
20944                            7028             POP_REG1 R2
20945                                 M                                   ; RE"+4" 00,00,00,04
20946 00003E70 62F6                   M           MOV.L   @R15+,R2        ;
20947                            7029             POP_REG1 R1
20948                                 M                                   ; RE"+4" 00,00,00,04
20949 00003E72 61F6                   M           MOV.L   @R15+,R1        ;
20950                            7030     
20951                            7031             SUB_END
20952                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20953 00003E74 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20954                            7032             M_RTS
20955 00003E76 000B                   M           RTS                             ;RTSの後ろの
20956 00003E78 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20957                            7033     
20958                            7034     ;       ***************************************************
20959                            7035     ;       ***                                             ***
20960                            7036     ;       ***             設定周波数ﾚｼﾞｽﾀREAD             ***
20961                            7037     ;       ***                                             ***
20962                            7038     ;       ***************************************************
20963                            7039     ;       R0以外破壊しない
20964                                     ***** BEGIN-POOL *****
20965 00003E7A 0000                       ALIGNMENT CODE
20966 00003E7C 00000000                   DATA FOR SOURCE-LINE 7011
20967 00003E80 00000000                   DATA FOR SOURCE-LINE 7020
20968                                     ***** END-POOL *****
20969 00003E84                   7040             .ALIGN  4                               ;
20970 00003E84                   7041     _LOAD_FREQ_PLS
20971                            7042             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   265
PROGRAM NAME =

20972 00003E84 4F22                   M           STS.L   PR,@-R15                ;[必要]
20973                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20974                            7043     
20975                            7044             PUSH_REG1 R1
20976 00003E86 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20977                                 M                                           ;REG=>[SP]
20978                                 M                                           ;"-4" FF,FF,FF,FC
20979                            7045     
20980 00003E88 D103              7046             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_TopFreqL,R1        ;TOP(設定)周波数
20981                            7047             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20982 00003E8A D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20983 00003E8C 400B                   M           JSR     @R0                     ;
20984 00003E8E 0009                   M           NOP                                     ;
20985                            7048     
20986                            7049             POP_REG1 R1
20987                                 M                                   ; RE"+4" 00,00,00,04
20988 00003E90 61F6                   M           MOV.L   @R15+,R1        ;
20989                            7050     
20990                            7051             SUB_END
20991                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20992 00003E92 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20993                            7052             M_RTS
20994 00003E94 000B                   M           RTS                             ;RTSの後ろの
20995 00003E96 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20996                            7053     
20997                            7054     ;       ***********************************
20998                            7055     ;       ***     ベース周波数()          ***
20999                            7056     ;       ***********************************
21000                                     ***** BEGIN-POOL *****
21001 00003E98 00000000                   DATA FOR SOURCE-LINE 7046
21002 00003E9C 00000000                   DATA FOR SOURCE-LINE 7047
21003                                     ***** END-POOL *****
21004 00003EA0                   7057             .ALIGN  4                               ;
21005 00003EA0                   7058     _LOAD_BASE_FREQ_PLS:
21006                            7059             SUB_START
21007 00003EA0 4F22                   M           STS.L   PR,@-R15                ;[必要]
21008                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21009                            7060             PUSH_REG1 R1
21010 00003EA2 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
21011                                 M                                           ;REG=>[SP]
21012                                 M                                           ;"-4" FF,FF,FF,FC
21013                            7061     
21014 00003EA4 D103              7062             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BasFreqL,R1        ;BASE(設定)周波数
21015                            7063             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
21016 00003EA6 D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21017 00003EA8 400B                   M           JSR     @R0                     ;
21018 00003EAA 0009                   M           NOP                                     ;
21019                            7064     
21020                            7065     
21021                            7066             POP_REG1 R1
21022                                 M                                   ; RE"+4" 00,00,00,04
21023 00003EAC 61F6                   M           MOV.L   @R15+,R1        ;
21024                            7067             SUB_END
21025                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21026 00003EAE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21027                            7068             M_RTS
21028 00003EB0 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   266
PROGRAM NAME =

21029 00003EB2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21030                            7069     ;       ***********************************
21031                            7070     ;       ***     加速時間()              ***
21032                            7071     ;       ***********************************
21033                                     ***** BEGIN-POOL *****
21034 00003EB4 00000000                   DATA FOR SOURCE-LINE 7062
21035 00003EB8 00000000                   DATA FOR SOURCE-LINE 7063
21036                                     ***** END-POOL *****
21037 00003EBC                   7072             .ALIGN  4                               ;
21038 00003EBC                   7073     _LOAD_ACCS1_LATE:
21039                            7074             SUB_START
21040 00003EBC 4F22                   M           STS.L   PR,@-R15                ;[必要]
21041                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21042                            7075             PUSH_REG1 R1
21043 00003EBE 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
21044                                 M                                           ;REG=>[SP]
21045                                 M                                           ;"-4" FF,FF,FF,FC
21046                            7076     
21047                            7077     
21048 00003EC0 D102              7078             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_AccLate1,R1        ;
21049 00003EC2 6011              7079             MOV.W   @R1,R0                                          ;
21050                            7080     
21051                            7081             POP_REG1 R1
21052                                 M                                   ; RE"+4" 00,00,00,04
21053 00003EC4 61F6                   M           MOV.L   @R15+,R1        ;
21054                            7082             SUB_END
21055                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21056 00003EC6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21057                            7083             M_RTS
21058 00003EC8 000B                   M           RTS                             ;RTSの後ろの
21059 00003ECA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21060                            7084     
21061                            7085     ;       ***************************
21062                            7086     ;       ***     LATE()          ***
21063                            7087     ;       ***************************
21064                                     ***** BEGIN-POOL *****
21065 00003ECC 00000000                   DATA FOR SOURCE-LINE 7078
21066                                     ***** END-POOL *****
21067 00003ED0                   7088             .ALIGN  4                               ;
21068 00003ED0                   7089     _LOAD_SPD_LATE:
21069                            7090             SUB_START
21070 00003ED0 4F22                   M           STS.L   PR,@-R15                ;[必要]
21071                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21072                            7091             PUSH_REG1 R1
21073 00003ED2 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
21074                                 M                                           ;REG=>[SP]
21075                                 M                                           ;"-4" FF,FF,FF,FC
21076                            7092     
21077 00003ED4 D102              7093             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_SpedLate,R1        ;
21078 00003ED6 6011              7094             MOV.W   @R1,R0                                          ;
21079                            7095     
21080                            7096             POP_REG1 R1
21081                                 M                                   ; RE"+4" 00,00,00,04
21082 00003ED8 61F6                   M           MOV.L   @R15+,R1        ;
21083                            7097             SUB_END
21084                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21085 00003EDA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   267
PROGRAM NAME =

21086                            7098             M_RTS
21087 00003EDC 000B                   M           RTS                             ;RTSの後ろの
21088 00003EDE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21089                            7099     
21090                            7100     
21091                            7101     
21092                            7102     ;       ***************************************************
21093                            7103     ;       ***                                             ***
21094                            7104     ;       ***             現在周波数ﾚｼﾞｽﾀREAD             ***
21095                            7105     ;       ***                                             ***
21096                            7106     ;       ***************************************************
21097                            7107     ;       R0以外破壊しない
21098                                     ***** BEGIN-POOL *****
21099 00003EE0 00000000                   DATA FOR SOURCE-LINE 7093
21100                                     ***** END-POOL *****
21101 00003EE4                   7108             .ALIGN  4                               ;
21102 00003EE4                   7109     _LOAD_NOW_FREQ_PLS
21103                            7110             SUB_START
21104 00003EE4 4F22                   M           STS.L   PR,@-R15                ;[必要]
21105                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21106                            7111     
21107                            7112             PUSH_REG1 R1
21108 00003EE6 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
21109                                 M                                           ;REG=>[SP]
21110                                 M                                           ;"-4" FF,FF,FF,FC
21111                            7113     
21112 00003EE8 D103              7114             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_NowFreqL,R1        ;R/W 現在周波数
21113                            7115             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
21114 00003EEA D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21115 00003EEC 400B                   M           JSR     @R0                     ;
21116 00003EEE 0009                   M           NOP                                     ;
21117                            7116     
21118                            7117             POP_REG1 R1
21119                                 M                                   ; RE"+4" 00,00,00,04
21120 00003EF0 61F6                   M           MOV.L   @R15+,R1        ;
21121                            7118             SUB_END
21122                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21123 00003EF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21124                            7119             M_RTS
21125 00003EF4 000B                   M           RTS                             ;RTSの後ろの
21126 00003EF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21127                            7120     
21128                            7121     ;       ***************************************************
21129                            7122     ;       ***                                             ***
21130                            7123     ;       ***             減速距離READ                    ***
21131                            7124     ;       ***                                             ***
21132                            7125     ;       ***************************************************
21133                            7126     ;       R0以外破壊しない
21134                                     ***** BEGIN-POOL *****
21135 00003EF8 00000000                   DATA FOR SOURCE-LINE 7114
21136 00003EFC 00000000                   DATA FOR SOURCE-LINE 7115
21137                                     ***** END-POOL *****
21138 00003F00                   7127             .ALIGN  4                               ;
21139 00003F00                   7128     _LOAD_GPOINT_PLS
21140                            7129             SUB_START
21141 00003F00 4F22                   M           STS.L   PR,@-R15                ;[必要]
21142                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   268
PROGRAM NAME =

21143                            7130             PUSH_REG1 R1
21144 00003F02 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
21145                                 M                                           ;REG=>[SP]
21146                                 M                                           ;"-4" FF,FF,FF,FC
21147                            7131     
21148 00003F04 D103              7132             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_GNpointL,R1        ;R/W 減速点
21149                            7133             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
21150 00003F06 D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21151 00003F08 400B                   M           JSR     @R0                     ;
21152 00003F0A 0009                   M           NOP                                     ;
21153                            7134     
21154                            7135             POP_REG1 R1
21155                                 M                                   ; RE"+4" 00,00,00,04
21156 00003F0C 61F6                   M           MOV.L   @R15+,R1        ;
21157                            7136             SUB_END
21158                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21159 00003F0E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21160                            7137             M_RTS
21161 00003F10 000B                   M           RTS                             ;RTSの後ろの
21162 00003F12 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21163                            7138     
21164                            7139     ;       ***************************************************
21165                            7140     ;       ***                                             ***
21166                            7141     ;       ***             32BITﾚｼﾞｽﾀREAD                  ***
21167                            7142     ;       ***             Input  R1:ADRESS(DESTROY)       ***
21168                            7143     ;       ***             Output R0:data(ﾓﾄﾛｰﾗHEX)        ***
21169                            7144     ;       ***************************************************
21170                                     ***** BEGIN-POOL *****
21171 00003F14 00000000                   DATA FOR SOURCE-LINE 7132
21172 00003F18 00000000                   DATA FOR SOURCE-LINE 7133
21173                                     ***** END-POOL *****
21174 00003F1C                   7145             .ALIGN  4                               ;
21175 00003F1C                   7146     _LSI_LOAD_32BIT_DATA:
21176                            7147             SUB_START
21177 00003F1C 4F22                   M           STS.L   PR,@-R15                ;[必要]
21178                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21179                            7148     ;;      PLS_READ_LATCH                                          ;2004-02-12
21180                            7149     ;;      POS_LSI_WORD_DUM_LOD                                    ;CS
21181                            7150     ;;      MOV.W   @R1+,R0                                         ;LOW WORD
21182                            7151     ;;      EXTU.W  R0,R0                                           ;
21183                            7152     ;;
21184                            7153     ;;      POS_LSI_WORD_DUM_LOD                                    ;CS
21185                            7154     ;;      MOV.W   @R1,R1                                          ;HIGH WORD
21186                            7155     ;;      EXTU.W  R1,R1                                           ;
21187                            7156     ;;      SHLL16  R1
21188                            7157     ;;      OR      R1,R0                                           ;
21189                            7158     ;;      MOV.L   #_ACCESS_ERR1+4*4,R1                            ;4 5/5
21190                            7159     
21191                            7160             POS_LSI_WORD_DUM_LOD                                    ;CS(A)
21192                                 M           PUSH_REG1 R0
21193 00003F1E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
21194                                 M                                           ;REG=>[SP]
21195                                 M                                           ;"-4" FF,FF,FF,FC
21196 00003F20 D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
21197 00003F22 6001                   M           MOV.W   @R0,R0
21198                                 M           POP_REG1 R0
21199                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   269
PROGRAM NAME =

21200 00003F24 60F6                   M           MOV.L   @R15+,R0        ;
21201                            7161             PLS_READ_LATCH                                          ;2004-02-12
21202                                 M           PUSH_REG1 R0                                            ;
21203 00003F26 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
21204                                 M                                           ;REG=>[SP]
21205                                 M                                           ;"-4" FF,FF,FF,FC
21206 00003F28 D006                   M           MOV.L   #_poslsi1_top+_PLSI_CH_COM+_PLS_LTCHReg,R0      ;
21207 00003F2A 6001                   M           MOV.W   @R0,R0                                          ;
21208                                 M           POP_REG1 R0                                             ;
21209                                 M                                   ; RE"+4" 00,00,00,04
21210 00003F2C 60F6                   M           MOV.L   @R15+,R0        ;
21211                            7162             POS_LSI_WORD_DUM_LOD                                    ;CS(B)
21212                                 M           PUSH_REG1 R0
21213 00003F2E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
21214                                 M                                           ;REG=>[SP]
21215                                 M                                           ;"-4" FF,FF,FF,FC
21216 00003F30 D003                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
21217 00003F32 6001                   M           MOV.W   @R0,R0
21218                                 M           POP_REG1 R0
21219                                 M                                   ; RE"+4" 00,00,00,04
21220 00003F34 60F6                   M           MOV.L   @R15+,R0        ;
21221 00003F36 6012              7163             MOV.L   @R1,R0                                          ;LONG
21222 00003F38 6009              7164             SWAP.W  R0,R0                                           ;
21223                            7165     
21224                            7166             SUB_END
21225                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21226 00003F3A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21227                            7167             M_RTS
21228 00003F3C 000B                   M           RTS                             ;RTSの後ろの
21229 00003F3E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21230                            7168     
21231                            7169     
21232                            7170     ;       *******************************************
21233                            7171     ;       ***     2003-07-01 指令ﾊﾟﾙｽの速度演算   ***
21234                            7172     ;       *******************************************
21235                            7173             .EXPORT _OUT_PLS_SPD_CALC
21236                            7174             .EXPORT _ENC_PLS_SPD_CALC
21237                                     ***** BEGIN-POOL *****
21238 00003F40 00000000                   DATA FOR SOURCE-LINE 7160,7162
21239 00003F44 00000000                   DATA FOR SOURCE-LINE 7161
21240                                     ***** END-POOL *****
21241 00003F48                   7175             .ALIGN  4                               ;
21242 00003F48                   7176     _OUT_PLS_SPD_CALC:
21243                            7177             SUB_START
21244 00003F48 4F22                   M           STS.L   PR,@-R15                ;[必要]
21245                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21246 00003F4A D109              7178             MOV.L   #_OUTPLS_DELT,R1                        ;符号付
21247 00003F4C 6211              7179             MOV.W   @R1,R2                                  ;
21248                            7180     ;;      SHLL    R2
21249                            7181     ;;      SHLL    R2
21250                            7182     ;;      SHLL    R2
21251                            7183     ;;      SHLL    R2                              ;*16
21252                            7184     
21253                            7185     ;       =====================================
21254 00003F4E D509              7186             MOV.L   #_OUTPLS_SPD_TOTAL,R5           ;= R5(ad4)
21255 00003F50 D609              7187             MOV.L   #_OUTPLS_SPD_AVL_TOP,R6         ;= R6(ad2)
21256 00003F52 D10A              7188             MOV.L   #_OUTPLS_POINT_SEL,R1           ;= R7(dt2)=10
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   270
PROGRAM NAME =

21257 00003F54 6711              7189             MOV.W   @R1,R7                          ;
21258                            7190     
21259 00003F56 D80A              7191             MOV.L   #_OUTPLS_SPD_POINT,R8           ;= R8(ad2)
21260 00003F58 D90A              7192             MOV.L   #_OUT_PLS_SPD_DIR,R9            ;= R9(ad2) 0pls/s でも -と+がある
21261 00003F5A DA0B              7193             MOV.L   #_OUTPLS_1000MSEC_LAT,R10       ;= R10(ad2)
21262 00003F5C DB0B              7194             MOV.L   #_OUT_PLS_SPD,R11               ;= R11(ad4)
21263 00003F5E DC0C              7195             MOV.L   #_ABS_OUT_PLS_SPD,R12           ;= R12(ad4)
21264 00003F60 DD0C              7196             MOV.L   #_PV_OUT_SPD_PER,R13            ;= R13(ad2)
21265 00003F62 DE0D              7197             MOV.L   #_PVC_BRK_OUT_SPD,R14           ;= R14(ad2)
21266                            7198     
21267                            7199             FAR_JSR #_DELT_POS_SPD_CHG1,R0          ;ANS R2 ABS_PLS
21268 00003F64 D00D                   M           MOV.L   #_DELT_POS_SPD_CHG1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21269 00003F66 400B                   M           JSR     @R0                     ;
21270 00003F68 0009                   M           NOP                                     ;
21271                            7200     
21272                            7201             SUB_END
21273                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21274 00003F6A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21275                            7202             M_RTS
21276 00003F6C 000B                   M           RTS                             ;RTSの後ろの
21277 00003F6E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21278                            7203     ;       *******************************************
21279                            7204     ;       ***     2003-07-01 PGﾊﾟﾙｽの速度演算     ***
21280                            7205     ;       *******************************************
21281                                     ***** BEGIN-POOL *****
21282 00003F70 00000000                   DATA FOR SOURCE-LINE 7178
21283 00003F74 00000000                   DATA FOR SOURCE-LINE 7186
21284 00003F78 00000000                   DATA FOR SOURCE-LINE 7187
21285 00003F7C 00000000                   DATA FOR SOURCE-LINE 7188
21286 00003F80 00000000                   DATA FOR SOURCE-LINE 7191
21287 00003F84 00000000                   DATA FOR SOURCE-LINE 7192
21288 00003F88 00000000                   DATA FOR SOURCE-LINE 7193
21289 00003F8C 00000000                   DATA FOR SOURCE-LINE 7194
21290 00003F90 00000000                   DATA FOR SOURCE-LINE 7195
21291 00003F94 00000000                   DATA FOR SOURCE-LINE 7196
21292 00003F98 00000000                   DATA FOR SOURCE-LINE 7197
21293 00003F9C 00000000                   DATA FOR SOURCE-LINE 7199
21294                                     ***** END-POOL *****
21295 00003FA0                   7206             .ALIGN  4                               ;
21296 00003FA0                   7207     _ENC_PLS_SPD_CALC:
21297                            7208             SUB_START
21298 00003FA0 4F22                   M           STS.L   PR,@-R15                ;[必要]
21299                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21300                            7209     
21301                            7210     ;       === 2003-07-01 1msec差分速度算出用 ==
21302 00003FA2 D109              7211             MOV.L   #_ENCPLS_DELT,R1;                       ;符号付
21303 00003FA4 6211              7212             MOV.W   @R1,R2                                  ;R2(dt2)
21304                            7213     ;       =====================================
21305 00003FA6 D509              7214             MOV.L   #_ENCPLS_SPD_TOTAL,R5                   ;= R5(ad4)
21306 00003FA8 D609              7215             MOV.L   #_ENCPLS_SPD_AVL_TOP,R6                 ;= R6(ad2)
21307 00003FAA D10A              7216             MOV.L   #_ENCPLS_POINT_SEL,R1                   ;= R7(dt2)=10
21308 00003FAC 6711              7217             MOV.W   @R1,R7                                  ;
21309                            7218     
21310 00003FAE D80A              7219             MOV.L   #_ENCPLS_SPD_POINT,R8                   ;= R8(ad2)
21311 00003FB0 D90A              7220             MOV.L   #_ENC_PLS_SPD_DIR,R9                    ;= R9(ad2) 0pls/s でも -と+がある
21312 00003FB2 DA0B              7221             MOV.L   #_ENCPLS_1000MSEC_LAT,R10               ;= R10(ad2)
21313 00003FB4 DB0B              7222             MOV.L   #_ENC_PLS_SPD,R11                       ;= R11(ad4)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   271
PROGRAM NAME =

21314 00003FB6 DC0C              7223             MOV.L   #_ABS_ENC_PLS_SPD,R12                   ;= R12(ad4)
21315 00003FB8 DD0C              7224             MOV.L   #_PV_ENC_SPD_PER,R13                    ;= R13(ad2)
21316 00003FBA DE0D              7225             MOV.L   #_PVC_BRK_ENC_SPD,R14                   ;= R14(ad2) per
21317                            7226             FAR_JSR #_DELT_POS_SPD_CHG1,R0                  ;ANS R2 ABS_PLS
21318 00003FBC D00D                   M           MOV.L   #_DELT_POS_SPD_CHG1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21319 00003FBE 400B                   M           JSR     @R0                     ;
21320 00003FC0 0009                   M           NOP                                     ;
21321                            7227     
21322                            7228             SUB_END
21323                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21324 00003FC2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21325                            7229             M_RTS
21326 00003FC4 000B                   M           RTS                             ;RTSの後ろの
21327 00003FC6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21328                            7230     
21329                            7231     
21330                            7232     ;       *******************************************
21331                            7233     ;       ***     2003-07-01 PGﾊﾟﾙｽの速度演算     ***
21332                            7234     ;       *******************************************
21333                                     ***** BEGIN-POOL *****
21334 00003FC8 00000000                   DATA FOR SOURCE-LINE 7211
21335 00003FCC 00000000                   DATA FOR SOURCE-LINE 7214
21336 00003FD0 00000000                   DATA FOR SOURCE-LINE 7215
21337 00003FD4 00000000                   DATA FOR SOURCE-LINE 7216
21338 00003FD8 00000000                   DATA FOR SOURCE-LINE 7219
21339 00003FDC 00000000                   DATA FOR SOURCE-LINE 7220
21340 00003FE0 00000000                   DATA FOR SOURCE-LINE 7221
21341 00003FE4 00000000                   DATA FOR SOURCE-LINE 7222
21342 00003FE8 00000000                   DATA FOR SOURCE-LINE 7223
21343 00003FEC 00000000                   DATA FOR SOURCE-LINE 7224
21344 00003FF0 00000000                   DATA FOR SOURCE-LINE 7225
21345 00003FF4 00000000                   DATA FOR SOURCE-LINE 7226
21346                                     ***** END-POOL *****
21347 00003FF8                   7235             .ALIGN  4                               ;
21348 00003FF8                   7236     _ENC_PLS_SPD_CLR:
21349                            7237             SUB_START
21350 00003FF8 4F22                   M           STS.L   PR,@-R15                ;[必要]
21351                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21352                            7238     
21353 00003FFA 222A              7239             XOR     R2,R2
21354 00003FFC D10A              7240             MOV.L   #_ENCPLS_DELT,R1;                       ;符号付
21355 00003FFE 2121              7241             MOV.W   R2,@R1                                  ;
21356                            7242     
21357 00004000 D50A              7243             MOV.L   #_ENCPLS_SPD_TOTAL,R5                   ;= R5(ad4)
21358 00004002 D60B              7244             MOV.L   #_ENCPLS_SPD_AVL_TOP,R6                 ;= R6(ad2)
21359 00004004 D10B              7245             MOV.L   #_ENCPLS_POINT_SEL,R1                   ;= R7(dt2)=10
21360 00004006 6711              7246             MOV.W   @R1,R7                                  ;
21361 00004008 D80B              7247             MOV.L   #_ENCPLS_SPD_POINT,R8                   ;= R8(ad2)
21362                            7248             FAR_JSR #_DELT_POS_SPD_CLR,R0                   ;
21363 0000400A D00C                   M           MOV.L   #_DELT_POS_SPD_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21364 0000400C 400B                   M           JSR     @R0                     ;
21365 0000400E 0009                   M           NOP                                     ;
21366                            7249     
21367                            7250     ;;;     MOV.L   #_ENC_PLS_SPD_DIR,R9                    ;= R9(ad2) 0pls/s でも -と+がある
21368                            7251     ;;;     MOV.L   #_ENCPLS_1000MSEC_LAT,R10               ;= R10(ad2)
21369 00004010 200A              7252             XOR     R0,R0
21370 00004012 DB0B              7253             MOV.L   #_ENC_PLS_SPD,R11                       ;= R11(ad4)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   272
PROGRAM NAME =

21371 00004014 2B02              7254             MOV.L   R0,@R11
21372 00004016 DC0B              7255             MOV.L   #_ABS_ENC_PLS_SPD,R12                   ;= R12(ad4)
21373 00004018 2C02              7256             MOV.L   R0,@R12
21374 0000401A DD0B              7257             MOV.L   #_PV_ENC_SPD_PER,R13                    ;= R13(ad2)
21375 0000401C 2D01              7258             MOV.W   R0,@R13
21376 0000401E DE0B              7259             MOV.L   #_PVC_BRK_ENC_SPD,R14                   ;= R14(ad2)
21377 00004020 2E01              7260             MOV.W   R0,@R14
21378                            7261     
21379                            7262     
21380                            7263             SUB_END
21381                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21382 00004022 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21383                            7264             M_RTS
21384 00004024 000B                   M           RTS                             ;RTSの後ろの
21385 00004026 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21386                            7265     
21387                            7266     ;       .GLOBAL _PV_ENC_SPD_PER;//0~100.00%
21388                            7267     ;       .GLOBAL _PV_OUT_SPD_PER;//0~100.00%
21389                            7268     
21390                            7269     ;_ENCPLS_SPD_TOTAL      = R5(ad4)
21391                            7270     ;_ENC_PLS_SPD_DIR       = R9(ad2) 0pls/s でも -と+がある
21392                            7271     ;_ENCPLS_POINT_SEL      = R7(dt2)=10
21393                            7272     ;_ENCPLS_DELT           = R2(dt2)
21394                            7273     ;_ENCPLS_SPD_AVL_TOP    = R6(ad2)
21395                            7274     ;_ENCPLS_SPD_POINT      = R8(ad2)
21396                            7275     ;_ENCPLS_1000MSEC_LAT   =R10(ad2)
21397                            7276     ;_ENC_PLS_SPD           = R11(ad4)
21398                            7277     ;_ABS_ENC_PLS_SPD       = R12(ad4)
21399                            7278     ;_PV_ENC_SPD_PER        =R13(ad2)
21400                            7279     ;_PVC_ENC_SPD_PER       =R14(ad2)MINLIMIT
21401                            7280     ;R0,R1,R2,R3,R4 WORK
21402                            7281     
21403                            7282     ;       ***********************************************************
21404                            7283     ;       ***                                                     ***
21405                            7284     ;       ***     1msecのﾃﾞｰﾀの移動平均を行う                     ***
21406                            7285     ;       ***     不感帯がないと停止時はｸﾘｱ処理ばかりはしる       ***
21407                            7286     ;       ***     処理の重さだけの話になる                        ***
21408                            7287     ;       ***     (+/-10pls溜まるまで待つか=>やらない)            ***
21409                            7288     ;       ***                                                     ***
21410                            7289     ;       ***********************************************************
21411                                     ***** BEGIN-POOL *****
21412 00004028 00000000                   DATA FOR SOURCE-LINE 7240
21413 0000402C 00000000                   DATA FOR SOURCE-LINE 7243
21414 00004030 00000000                   DATA FOR SOURCE-LINE 7244
21415 00004034 00000000                   DATA FOR SOURCE-LINE 7245
21416 00004038 00000000                   DATA FOR SOURCE-LINE 7247
21417 0000403C 00000000                   DATA FOR SOURCE-LINE 7248
21418 00004040 00000000                   DATA FOR SOURCE-LINE 7253
21419 00004044 00000000                   DATA FOR SOURCE-LINE 7255
21420 00004048 00000000                   DATA FOR SOURCE-LINE 7257
21421 0000404C 00000000                   DATA FOR SOURCE-LINE 7259
21422                                     ***** END-POOL *****
21423 00004050                   7290             .ALIGN  4                               ;
21424 00004050                   7291     _DELT_POS_SPD_CHG1:
21425                            7292             SUB_START
21426 00004050 4F22                   M           STS.L   PR,@-R15                ;[必要]
21427                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   273
PROGRAM NAME =

21428                            7293     
21429 00004052 2778              7294             TST     R7,R7                   ;
21430                            7295             TST_BIT_ON DELT_POS_SPDCG1_020  ;
21431 00004054 8B00                   M           BF      DELT_POS_SPDCG1_020
21432 00004056 7701              7296             ADD     #1,R7                   ;
21433 00004058                   7297     DELT_POS_SPDCG1_020:                    ;
21434                            7298     
21435 00004058 2228              7299             TST     R2,R2                   ;R2=0
21436                            7300             TST_BIT_OF DELT_POS_SPDCG1_200  ;
21437 0000405A 890C                   M           BT      DELT_POS_SPDCG1_200
21438 0000405C 6091              7301             MOV.W   @R9,R0                  ;符号LOAD
21439 0000405E 4211              7302             CMP/PZ  R2                      ;
21440 00004060 8903              7303             BT      DELT_POS_SPDCG1_050     ;"+"
21441 00004062 2008              7304             TST     R0,R0                   ;
21442                            7305             TST_BIT_ON DELT_POS_SPDCG1_200  ;"-" CLR処理不要
21443 00004064 8B07                   M           BF      DELT_POS_SPDCG1_200
21444                            7306             M_BRA   DELT_POS_SPDCG1_100     ;前回-で今回+ ｸﾘｱ必要
21445 00004066 A002                   M           BRA     DELT_POS_SPDCG1_100
21446 00004068 0009                   M           NOP
21447                            7307     
21448 0000406A                   7308     DELT_POS_SPDCG1_050:
21449 0000406A 2008              7309             TST     R0,R0                   ;
21450                            7310             TST_BIT_OF DELT_POS_SPDCG1_200  ;今回も前回も+
21451 0000406C 8903                   M           BT      DELT_POS_SPDCG1_200
21452                            7311     
21453                            7312     ;       ====== CLR =======
21454 0000406E                   7313     DELT_POS_SPDCG1_100:
21455                            7314             FAR_JSR #_DELT_POS_SPD_CLR,R0
21456 0000406E D020                   M           MOV.L   #_DELT_POS_SPD_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21457 00004070 400B                   M           JSR     @R0                     ;
21458 00004072 0009                   M           NOP                                     ;
21459                            7315     
21460                            7316     
21461 00004074 0009              7317             NOP                             ;ﾊﾞﾌｧはｸﾘｱするけど計算は行う
21462                            7318     
21463                            7319     ;       ====================================
21464 00004076                   7320     DELT_POS_SPDCG1_200:
21465 00004076 6081              7321             MOV.W   @R8,R0                  ;POINTER
21466 00004078 4000              7322             SHLL    R0                      ;2Byte
21467 0000407A 360C              7323             ADD     R0,R6                   ;TOP+POINTER
21468 0000407C 6161              7324             MOV.W   @R6,R1                  ;OLD LOAD
21469 0000407E 2621              7325             MOV.W   R2,@R6                  ;NEW SAVE
21470 00004080 6352              7326             MOV.L   @R5,R3                  ;TOTAL
21471 00004082 332C              7327             ADD     R2,R3                   ;
21472 00004084 3318              7328             SUB     R1,R3                   ;
21473 00004086 2532              7329             MOV.L   R3,@R5                  ;TOTAL REFLASH
21474 00004088 4001              7330             SHLR    R0                      ;
21475 0000408A 7001              7331             ADD     #1,R0                   ;
21476 0000408C 3072              7332             CMP/HS  R7,R0                   ;R7(10) =<R0(0~9)
21477 0000408E 8B00              7333             BF      DELT_POS_SPDCG1_250     ;
21478 00004090 200A              7334             XOR     R0,R0                   ;
21479 00004092                   7335     DELT_POS_SPDCG1_250:                    ;
21480 00004092 2801              7336             MOV.W   R0,@R8                  ;POINTER +1 REFLASH
21481                            7337     ;       ==================================
21482 00004094 61A1              7338             MOV.W   @R10,R1                 ;TOTAL(10msec)*100=PLS/S
21483 00004096 331D              7339             DMULS.L R1,R3                   ;total*100=pps
21484 00004098 021A              7340             STS     MACL,R2                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   274
PROGRAM NAME =

21485                            7341     
21486 0000409A 2B22              7342             MOV.L   R2,@R11                 ;_ENC_PLS_SPD 符号付 0.1pps??1PPSでしょう。
21487 0000409C 2228              7343             TST     R2,R2                   ;
21488                            7344             TST_BIT_OF DELT_POS_SPDCG1_350  ;速度が0なら符号は変えない
21489 0000409E 8905                   M           BT      DELT_POS_SPDCG1_350
21490                            7345     
21491 000040A0 200A              7346             XOR     R0,R0                   ;
21492 000040A2 4211              7347             CMP/PZ  R2                      ;+?
21493 000040A4 8901              7348             BT      DELT_POS_SPDCG1_300     ;
21494 000040A6 622B              7349             NEG     R2,R2                   ;
21495 000040A8 E0FF              7350             MOV     #-1,R0                  ;
21496 000040AA                   7351     DELT_POS_SPDCG1_300:                    ;
21497 000040AA 2901              7352             MOV.W   R0,@R9                  ;SHIN _ENC_PLS_SPD_DIR
21498 000040AC                   7353     DELT_POS_SPDCG1_350:                    ;
21499                            7354     
21500                            7355     ;       =========================================
21501 000040AC D111              7356             MOV.L   #_WPAR_ZERO_SPD,R1                      ;
21502 000040AE 6011              7357             MOV.W   @R1,R0                                  ;
21503 000040B0 3202              7358             CMP/HS  R0,R2                                   ;MIN
21504 000040B2 8900              7359             BT      DELT_POS_SPDCG1_380                     ;
21505 000040B4 222A              7360             XOR     R2,R2                                   ;
21506 000040B6                   7361     DELT_POS_SPDCG1_380:                                    ;
21507 000040B6 2C22              7362             MOV.L   R2,@R12                 ;_ABS_ENC_PLS_SPD       = R12(ad4)
21508                            7363     
21509                            7364     ;       ==== 速度換算 ======
21510                            7365     ;;;2010-10-22   MOV.L   #_LINK_MAX_SPD_PLS,R0                   ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　p
                                          ls/s
21511 000040B8 D00F              7366             MOV.L   #_SETD_LINK_MAX_SPD_PLS,R0                      ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　p
                                          ls/s[SETD_LINK_MAX_SPD_PLS　ｻｰﾎﾞﾊﾟﾗ]
21512 000040BA 6402              7367             MOV.L   @R0,R4                                          ;
21513 000040BC 9115              7368             MOV.W   #_SPD_PER_MAX,R1                                ;100.00per
21514                            7369             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
21515 000040BE D00F                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21516 000040C0 400B                   M           JSR     @R0                     ;
21517 000040C2 0009                   M           NOP                                     ;
21518 000040C4 9112              7370             MOV.W   #_SPD_PER_MAX*110/100,R1                        ;110.00per
21519                            7371             REG_PMAX_MMIN   DATA_REG=R2,MAX_MIN_REG=R1              ;R1=10000
21520 000040C6 3123                   M           CMP/GE  R2,R1           ;
21521 000040C8 8900                   M           BT      JMP0100014                              ;DATA =< MAX
21522 000040CA 6213                   M           MOV     R1,R2           ;MAX LIMIT
21523 000040CC                        M   JMP0100014:                                     ;
21524 000040CC 611B                   M           NEG     R1,R1   ;
21525 000040CE 3213                   M           CMP/GE  R1,R2           ;
21526 000040D0 8900                   M           BT      JMP0200014                              ;MIN =< DATA
21527 000040D2 6213                   M           MOV     R1,R2           ;MIN LIMIT
21528 000040D4                        M   JMP0200014:                                     ;
21529 000040D4 611B                   M           NEG     R1,R1   ;
21530 000040D6 2D21              7372             MOV.W   R2,@R13                                         ;_PV_ENC_SPD_PER
21531                            7373     
21532                            7374     ;       =========================================
21533 000040D8 D109              7375             MOV.L   #_WPAR_BRK_SEL_SPD,R1                   ;%
21534 000040DA 6011              7376             MOV.W   @R1,R0                                  ;
21535 000040DC 3202              7377             CMP/HS  R0,R2                                   ;MIN
21536 000040DE 8900              7378             BT      DELT_POS_SPDCG1_430                     ;
21537 000040E0 222A              7379             XOR     R2,R2                                   ;
21538 000040E2                   7380     DELT_POS_SPDCG1_430:                                    ;
21539 000040E2 2E21              7381             MOV.W   R2,@R14                                 ;_PVC_BRK_ENC_SPD
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   275
PROGRAM NAME =

21540                            7382     
21541                            7383             SUB_END
21542                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21543 000040E4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21544                            7384             M_RTS
21545 000040E6 000B                   M           RTS                             ;RTSの後ろの
21546 000040E8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21547                            7385     
21548                            7386     ;       ===== INPUT R5 TOTAL
21549                            7387     ;       ===== INPUT R6 AVL_TOP
21550                            7388     ;       ===== INPUT R7 POINTER MAX
21551                            7389     ;       ===== INPUT R8 POINTER
21552                            7390     ;       DESTROY R0,R1,R4
21553                            7391     ;
21554                                     ***** BEGIN-POOL *****
21555 000040EA 2710                       DATA FOR SOURCE-LINE 7368
21556 000040EC 2AF8                       DATA FOR SOURCE-LINE 7370
21557 000040EE 0000                       ALIGNMENT CODE
21558 000040F0 00000000                   DATA FOR SOURCE-LINE 7314
21559 000040F4 00000000                   DATA FOR SOURCE-LINE 7356
21560 000040F8 00000000                   DATA FOR SOURCE-LINE 7366
21561 000040FC 00000000                   DATA FOR SOURCE-LINE 7369
21562 00004100 00000000                   DATA FOR SOURCE-LINE 7375
21563                                     ***** END-POOL *****
21564 00004104                   7392             .ALIGN  4                               ;
21565 00004104                   7393     _DELT_POS_SPD_CLR:
21566                            7394             SUB_START
21567 00004104 4F22                   M           STS.L   PR,@-R15                ;[必要]
21568                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21569 00004106 244A              7395             XOR     R4,R4                   ;
21570 00004108 2841              7396             MOV.W   R4,@R8                  ;POINTER-CLR
21571 0000410A 2542              7397             MOV.L   R4,@R5                  ;TOTAL-CLR
21572                            7398     
21573 0000410C 6073              7399             MOV     R7,R0                   ;POINTER MAX
21574 0000410E 6173              7400             MOV     R7,R1                   ;
21575 00004110 71FF              7401             ADD     #-1,R1                  ;
21576 00004112 4100              7402             SHLL    R1                      ;
21577 00004114 316C              7403             ADD     R6,R1                   ;TOP+MAX
21578                            7404     
21579 00004116                   7405     DELT_POS_SPDCG1_150:                    ;
21580 00004116 2141              7406             MOV.W   R4,@R1                  ;
21581 00004118 71FE              7407             ADD     #-2,R1                  ;
21582 0000411A 70FF              7408             ADD     #-1,R0                  ;
21583 0000411C 2008              7409             TST     R0,R0                   ;
21584                            7410             TST_BIT_ON DELT_POS_SPDCG1_150  ;
21585 0000411E 8BFA                   M           BF      DELT_POS_SPDCG1_150
21586                            7411             SUB_END
21587                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21588 00004120 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21589                            7412             M_RTS
21590 00004122 000B                   M           RTS                             ;RTSの後ろの
21591 00004124 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21592                            7413     
21593                            7414     ;       ***************************
21594                            7415     ;       ***     減速中信号      ***
21595                            7416     ;       ***************************
21596                            7417     ;       TOP周波数ﾚｼﾞｽﾀ >現在周波数ﾚｼﾞｽﾀにて減速中
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   276
PROGRAM NAME =

21597                            7418     ;       ・最終減速かどうかは,最終工程にて判断を行う
21598                            7419     ;       ・停止工程かどうか
21599                            7420     ;       R0,R1,R2,R3,R4,R6
21600                            7421     ;       R0=0
21601                            7422             .EXPORT _GENSOK_SIG_MAK         ;
21602 00004128                   7423             .ALIGN  4                               ;
21603 00004128                   7424     _GENSOK_SIG_MAK:
21604                            7425             SUB_START
21605 00004128 4F22                   M           STS.L   PR,@-R15                ;[必要]
21606                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21607                            7426     
21608                            7427             FAR_JSR #_LOD_POS_STS_REG,R0    ;
21609 0000412A D003                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21610 0000412C 400B                   M           JSR     @R0                     ;
21611 0000412E 0009                   M           NOP                                     ;
21612 00004130 C804              7428             TST     #BIT2,R0                ;停止中
21613                            7429             TST_BIT_OF GENSOK_SIGMK_050     ;
21614 00004132 8903                   M           BT      GENSOK_SIGMK_050
21615                            7430             M_BRA   GENSOK_SIGMK_OF         ;YES:STOP NOT 減速中
21616 00004134 A00D                   M           BRA     GENSOK_SIGMK_OF
21617 00004136 0009                   M           NOP
21618                            7431     
21619                                     ***** BEGIN-POOL *****
21620 00004138 00000000                   DATA FOR SOURCE-LINE 7427
21621                                     ***** END-POOL *****
21622 0000413C                   7432     GENSOK_SIGMK_050:                       ;
21623 0000413C D102              7433             MOV.L   #_POSCTL_STEP_FLG,R1    ;
21624 0000413E 6011              7434             MOV.W   @R1,R0                  ;
21625 00004140 C806              7435             TST     #(BIT2+BIT1),R0         ;
21626                            7436             TST_BIT_ON GENSOK_SIGMK_ON      ;
21627 00004142 8B03                   M           BF      GENSOK_SIGMK_ON
21628                            7437             M_BRA   GENSOK_SIGMK_OF         ;
21629 00004144 A005                   M           BRA     GENSOK_SIGMK_OF
21630 00004146 0009                   M           NOP
21631                            7438     
21632                            7439     
21633                                     ***** BEGIN-POOL *****
21634 00004148 00000000                   DATA FOR SOURCE-LINE 7433
21635                                     ***** END-POOL *****
21636 0000414C                   7440     GENSOK_SIGMK_ON:                        ;
21637 0000414C E001              7441             MOV     #BIT0,R0
21638                            7442             M_BRA   GENSOK_SIGMK_END        ;
21639 0000414E A001                   M           BRA     GENSOK_SIGMK_END
21640 00004150 0009                   M           NOP
21641 00004152                   7443     GENSOK_SIGMK_OF:                        ;
21642 00004152 200A              7444             XOR     R0,R0                   ;
21643 00004154                   7445     GENSOK_SIGMK_END:                       ;
21644                            7446             SUB_END
21645                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21646 00004154 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21647                            7447             M_RTS
21648 00004156 000B                   M           RTS                             ;RTSの後ろの
21649 00004158 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21650                            7448     
21651                            7449     
21652                            7450             .INCLUDE        "ssa_fulc.inc"          ;//ﾌﾙｸﾛｰｽﾞ処理
21653                               1 I1  ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   277
PROGRAM NAME =

21654                               2 I1  ;       ***                             ***
21655                               3 I1  ;       ***     フルクローズ関連        ***
21656                               4 I1  ;       ***                             ***
21657                               5 I1  ;       ***********************************
21658          000003E8             6 I1  _POS_LATE1              .EQU    D'1000  ;100.0%
21659          000003E8             7 I1  _POS_GEN_BEFORE_LNG     .EQU    D'1000  ;1000ﾊﾟﾙｽ
21660          000003E8             8 I1  _POS_LATE_CALC_MAX      .EQU    D'1000  ;1000ﾊﾟﾙｽ
21661                               9 I1  
21662                              10 I1          .IMPORT _PAR_NEGERR_ENB         ;2012-05-30
21663                              11 I1          .IMPORT _PAR_NEG_EXITTIM        ;2012-10-05
21664                              12 I1  
21665                              13 I1          .IMPORT _PAR_KAJYU_HLDSPD       ;1　一旦停止中の荷重制御速度
21666                              14 I1          .IMPORT _PAR_KAJYU_ARASPD       ;2[荷重制御]一旦停止中のromﾊﾟﾗ範囲外 荷重制御速度
                                          pls7/s
21667                              15 I1          .IMPORT _PAR_KAJYU_CHGARA       ;3[荷重制御] 20KNを設定の荷重完了範囲から引くARA->
                                          HLD
21668                              16 I1  
21669                              17 I1          .IMPORT _PAR_NEGCTL_SPDS1       ;
21670                              18 I1  
21671                              19 I1          .IMPORT _PAR_KAJYU_CTIM1        ;2015-06-22周期１
21672                              20 I1          .IMPORT _PAR_KAJYU_CTIM2        ;2015-06-22周期２
21673                              21 I1          .IMPORT _PAR_KAJYU_STPARA       ;2015-06-22出力停止幅
21674                              22 I1          .IMPORT _PAR_KAJYU_FIRST        ;2015-06-22荷重制御開始幅 2015-06-11(H2W/H1F)
21675                              23 I1  
21676                              24 I1          .EXPORT _REVRSE_BASINC_SPDCALC  ;2015-03-15
21677                              25 I1  
21678                              26 I1  ;       ***********************************
21679                              27 I1  ;       ***                             ***
21680                              28 I1  ;       ***     払出中処理              ***
21681                              29 I1  ;       ***     (起動時の)              ***
21682                              30 I1  ;       ***                             ***
21683                              31 I1  ;       ***********************************
21684                              32 I1  ;       ANS     R0=0     (制御状態)
21685                              33 I1  ;               R0.BIT2=1(BUSY完了)
21686                              34 I1  ;
21687                              35 I1  ;_INT_CLS_CTL_FLG,R1    ;
21688                              36 I1  ;BIT0:INIT START
21689                              37 I1  ;BIT1:(反転必要)==>停止待ち<再計算>
21690                              38 I1  ;BIT2:ﾆｱｾﾞﾛに入った<1回目>==>停止待ち<払出=0 待ち>
21691                              39 I1  ;BIT3:ﾆｱｾﾞﾛに入ったまたは停止後の処理(KPに関係なく残ﾊﾟﾙｽ=0なら1ﾊﾟﾙｽずつ足していく)
21692                              40 I1  ;BIT4:
21693                              41 I1  ;BIT5:
21694                              42 I1  ;BIT6:完了
21695                              43 I1  ;残りﾊﾟﾙｽ+AのAの上限は1000ﾊﾟﾙｽとする<>
21696                              44 I1  ;
21697                              45 I1  ;
21698                              46 I1  ;(本当はこの中で多段の動きを考慮して、”Ｖ”指定の処理も必要)
21699                              47 I1  ;
21700                              48 I1  ;;;;    .IMPORT _CPUB_HENSA_FLG_CLR                     ;
21701                              49 I1  
21702 0000415A                     50 I1  _POS_CLS_TYP1_POS_CTL1:
21703                              51 I1          SUB_START
21704 0000415A 4F22                   M           STS.L   PR,@-R15                ;[必要]
21705                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21706                              52 I1  
21707                              53 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R6                ;R/W 指令ﾊ
                                          ﾟﾙｽｶｳﾝﾀ(残ﾊﾟﾙｽ)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   278
PROGRAM NAME =

21708                              54 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   @R6,R11                                                 ;(data lat
                                          ch)
21709                              55 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   #_ACCESS_ERR1+9*4,R6                                    ;**
21710                              56 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    SWAP.W  R11,R11                                                 ;
21711                              57 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   #_POSLSI_CHK_RESTPLS,R1                                 ;
21712                              58 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   R11,@R1                                                 ;
21713                              59 I1  
21714                              60 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21715                              61 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
21716 0000415C D01B                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21717 0000415E 400B                   M           JSR     @R0                     ;
21718 00004160 0009                   M           NOP                                     ;
21719                              62 C           PUSH_REG1 R5                                    ;
21720 00004162 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
21721                                 M                                           ;REG=>[SP]
21722                                 M                                           ;"-4" FF,FF,FF,FC
21723                              63 C           PUSH_REG1 R0                                    ;
21724 00004164 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
21725                                 M                                           ;REG=>[SP]
21726                                 M                                           ;"-4" FF,FF,FF,FC
21727                              64 C           FAR_JSR #_KJYU_DATA_INFO_SEL,R0                 ;227.13
21728 00004166 D01A                   M           MOV.L   #_KJYU_DATA_INFO_SEL,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21729 00004168 400B                   M           JSR     @R0                     ;
21730 0000416A 0009                   M           NOP                                     ;
21731                              65 C           POP_REG1 R0                                     ;
21732                                 M                                   ; RE"+4" 00,00,00,04
21733 0000416C 60F6                   M           MOV.L   @R15+,R0        ;
21734                              66 C           POP_REG1 R5                                     ;
21735                                 M                                   ; RE"+4" 00,00,00,04
21736 0000416E 65F6                   M           MOV.L   @R15+,R5        ;
21737                              67 C   
21738                              68 C   ;;;;    FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;
21739                              69 C   
21740                              70             .AELSE
21741                              71             FAR_JSR #_POS_CLS_TYP1_PROC_CHK,R0              ;(目標位置､実測位置作成,R0=R5=ｸﾛｰｽ
                                          ﾞするかどうか？)
21742                              72             .AENDI
21743                              73 I1  
21744                              74 I1  
21745                              75 I1  
21746 00004170 2008                76 I1          TST     R0,R0                                   ;
21747                              77 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_NOT             ;R5=工程 R0=0停止工程ではない
21748 00004172 8908                   M           BT      POS_CLS_TYP1_POSCTL1_NOT
21749                              78 I1  
21750                              79 I1  ;       ---------------2014-09-22 REPEAT-----------
21751 00004174 D117                80 I1          MOV.L   #_MOT_REP_F,R1                          ;//BIT0(ﾘﾋﾟｰﾄ動作
21752 00004176 6011                81 I1          MOV.W   @R1,R0                                  ;
21753 00004178 C801                82 I1          TST     #BIT0,R0                                ;
21754                              83 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_NOT20           ;
21755 0000417A 8B07                   M           BF      POS_CLS_TYP1_POSCTL1_NOT20
21756                              84 I1  
21757                              85 I1  
21758 0000417C D116                86 I1          MOV.L   #_CPOS_STEP_MAX,R1                      ;//設定
21759 0000417E 6211                87 I1          MOV.W   @R1,R2                                  ;
21760 00004180 7201                88 I1          ADD     #1,R2                                   ;
21761 00004182 3250                89 I1          CMP/EQ  R5,R2                                   ;
21762 00004184 8B3B                90 I1          BF      POS_CLS_TYP1_POSCTL1_000                ;最終工程(戻り)ではない
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   279
PROGRAM NAME =

21763                              91 I1  
21764                              92 I1  ;-----------2019-04-10(戻り信号のラッチ:異常時の処理チェック用)---------
21765                              93 I1  ;;;;不要でした  FAR_JSR #_HANTEN_LAST_SIG_SET,R0
21766                              94 I1  ;       --------------------------------------------------------------------
21767                              95 I1  
21768 00004186                     96 I1  POS_CLS_TYP1_POSCTL1_NOT:                               ;
21769                              97 I1  
21770                              98 I1  ;       ===== ｻｲｸﾙﾁｪﾝｼﾞ====
21771                              99 I1  ;       ===== 位置による速度切り替え＋速度連続のｽﾃｯﾌﾟ切替====
21772                             100 I1          FAR_JSR #_SPD_STEP_CHG_FWD,R0   ;(STEP番号切替/速度切り替え)
21773 00004186 D015                   M           MOV.L   #_SPD_STEP_CHG_FWD,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21774 00004188 400B                   M           JSR     @R0                     ;
21775 0000418A 0009                   M           NOP                                     ;
21776                             101 I1  
21777 0000418C                    102 I1  POS_CLS_TYP1_POSCTL1_NOT20:                             ;
21778                             103 I1  
21779                             104 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
21780 0000418C D014                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21781 0000418E 400B                   M           JSR     @R0                     ;
21782 00004190 0009                   M           NOP                                     ;
21783                             105 I1  ;       ===========================================
21784                             106 I1  ;       ===             最終工程                ===
21785                             107 I1  ;       ===========================================
21786                             108 I1  ;       ﾊﾝﾄﾞｼｪｲｸのみ行う
21787                             109 I1  ;;      FAR_JSR #_OPEN_ROT_NEAR_ZERO_CHK,R0             ;
21788                             110 I1  
21789                             111 I1          FAR_JSR #_OPEN_ROT_NEAR2_ZERO_CHK,R0            ;(ｵｰﾌﾟﾝでﾆｱｾﾞﾛにいるかどうか)
21790 00004192 D014                   M           MOV.L   #_OPEN_ROT_NEAR2_ZERO_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21791 00004194 400B                   M           JSR     @R0                     ;
21792 00004196 0009                   M           NOP                                     ;
21793                             112 I1  
21794                             113 I1  
21795                             114 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
21796 00004198 D113                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21797 0000419A 410B                   M           JSR     @R1                     ;
21798 0000419C 0009                   M           NOP                                     ;
21799 0000419E C804               115 I1          TST     #BIT2,R0                                ;
21800                             116 I1          TST_BIT_OF TYP1_OPEN_PRC_200                    ;払出完了?
21801 000041A0 892A                   M           BT      TYP1_OPEN_PRC_200
21802                             117 I1  
21803                             118 I1          FAR_JSR #_CPU_BA_NZR_ON_JG,R0                   ;
21804 000041A2 D012                   M           MOV.L   #_CPU_BA_NZR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21805 000041A4 400B                   M           JSR     @R0                     ;
21806 000041A6 0009                   M           NOP                                     ;
21807 000041A8 2008               119 I1          TST     R0,R0                                   ;
21808                             120 I1          TST_BIT_OF TYP1_OPEN_PRC_050                    ;相手側は終わった
21809 000041AA 8903                   M           BT      TYP1_OPEN_PRC_050
21810 000041AC D110               121 I1          MOV.L   #_NEAR_IN_FLG,R1                        ;ﾆｱｾﾞﾛ扱い
21811 000041AE 6011               122 I1          MOV.W   @R1,R0                                  ;
21812 000041B0 CB01               123 I1          OR      #BIT0,R0                                ;
21813 000041B2 2101               124 I1          MOV.W   R0,@R1                                  ;
21814 000041B4                    125 I1  TYP1_OPEN_PRC_050:
21815                             126 I1  
21816 000041B4 D10E               127 I1          MOV.L   #_NEAR_IN_FLG,R1                        ;
21817 000041B6 6011               128 I1          MOV.W   @R1,R0                                  ;
21818 000041B8 2008               129 I1          TST     R0,R0                                   ;
21819                             130 I1          TST_BIT_OF TYP1_OPEN_PRC_200                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   280
PROGRAM NAME =

21820 000041BA 891D                   M           BT      TYP1_OPEN_PRC_200
21821                             131 I1  
21822                             132 I1          FAR_JSR #_CMPAB_NEAR_END_PROC,R0                ;
21823 000041BC D00D                   M           MOV.L   #_CMPAB_NEAR_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21824 000041BE 400B                   M           JSR     @R0                     ;
21825 000041C0 0009                   M           NOP                                     ;
21826 000041C2 2008               133 I1          TST     R0,R0                                   ;
21827                             134 I1          TST_BIT_OF TYP1_OPEN_PRC_200                    ;
21828 000041C4 8918                   M           BT      TYP1_OPEN_PRC_200
21829                             135 I1  
21830 000041C6 E004               136 I1          MOV     #BIT2,R0                                ;
21831                             137 I1          M_BRA   POS_CLS_TYP1_POSCTL1_END                ;ﾆｱｾﾞﾛ+払い出し完了
21832 000041C8 A1AE                   M           BRA     POS_CLS_TYP1_POSCTL1_END
21833 000041CA 0009                   M           NOP
21834                             138 I1  
21835                                 I1  ***** BEGIN-POOL *****
21836 000041CC 00000000               I1  DATA FOR SOURCE-LINE 61
21837 000041D0 00000000               I1  DATA FOR SOURCE-LINE 64
21838 000041D4 00000000               I1  DATA FOR SOURCE-LINE 80
21839 000041D8 00000000               I1  DATA FOR SOURCE-LINE 86
21840 000041DC 00000000               I1  DATA FOR SOURCE-LINE 100
21841 000041E0 00000000               I1  DATA FOR SOURCE-LINE 104
21842 000041E4 00000000               I1  DATA FOR SOURCE-LINE 111
21843 000041E8 00000000               I1  DATA FOR SOURCE-LINE 114
21844 000041EC 00000000               I1  DATA FOR SOURCE-LINE 118
21845 000041F0 00000000               I1  DATA FOR SOURCE-LINE 121,127
21846 000041F4 00000000               I1  DATA FOR SOURCE-LINE 132
21847                                 I1  ***** END-POOL *****
21848 000041F8                    139 I1  TYP1_OPEN_PRC_200
21849 000041F8 200A               140 I1          XOR     R0,R0
21850                             141 I1          M_BRA   POS_CLS_TYP1_POSCTL1_END                ;
21851 000041FA A195                   M           BRA     POS_CLS_TYP1_POSCTL1_END
21852 000041FC 0009                   M           NOP
21853                             142 I1  
21854                             143 I1  
21855                             144 I1  
21856                             145 I1  
21857                             146 I1  ;       ===========================
21858                             147 I1  ;       ===     ﾌﾙｸﾛｰｽﾞ         ===
21859                             148 I1  ;       ===========================
21860 000041FE                    149 I1  POS_CLS_TYP1_POSCTL1_000:
21861 000041FE D108               150 I1          MOV.L   #_INT_CLS_CTL_FLG,R1            ;
21862 00004200 6011               151 I1          MOV.W   @R1,R0                          ;
21863 00004202 C801               152 I1          TST     #BIT0,R0                        ;ｸﾛｰｽﾞ処理開始?
21864                             153 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_100     ;
21865 00004204 8B48                   M           BF      POS_CLS_TYP1_POSCTL1_100
21866                             154 I1  
21867                             155 I1  
21868                             156 I1  ;;2012-10-05 2012-05-30では不具合       MOV.L   #_SET1_FULCLS_MXPLS,R1          ;
21869                             157 I1  ;;2012-10-05 2012-05-30では不具合       MOV.W   @R1,R0                          ;
21870                             158 I1  ;;2012-10-05 2012-05-30では不具合       MOV.L   #_CALC_FULCLS_MXPLS,R1          ;ｲﾝﾁﾝｸﾞMAX
                                          量
21871                             159 I1  ;;2012-10-05 2012-05-30では不具合       MOV.W   R0,@R1                          ;
21872                             160 I1  
21873                             161 I1  ;;;     ==============2012-10-05[本来の形 2012-05-30では不具合]=============
21874                             162 I1  ;;;     MOV.L   #_SET1_FULCLS_MXPLS,R1          ;
21875                             163 I1  ;;;     MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   281
PROGRAM NAME =

21876                             164 I1  ;;;     MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R1     ;//目標−手前
21877                             165 I1  ;;;     MOV.L   @R1,R2                          ;
21878                             166 I1  ;;;     ADD     R2,R0                           ;
21879                             167 I1  ;;;     MOV.L   #_CALC_FULCLS_MXPLS,R1          ;ｲﾝﾁﾝｸﾞMAX量
21880                             168 I1  ;;;     MOV.L   R0,@R1                          ;2BYTE->4BYTE 2012-10-05 型変更U2B->U4Bに
                                          変更
21881                             169 I1  ;;;
21882                             170 I1  ;       ====== 2012-10-05 仕様変更 180度を最大追い込みとする====
21883                             171 I1          FAR_JSR #_FULCLS_MAXPLS_CALC,R0
21884 00004206 D007                   M           MOV.L   #_FULCLS_MAXPLS_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21885 00004208 400B                   M           JSR     @R0                     ;
21886 0000420A 0009                   M           NOP                                     ;
21887                             172 I1  
21888                             173 I1  
21889                             174 I1  
21890                             175 I1  
21891                             176 I1  ;       ===== SIG-OFF[1] =====
21892                             177 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
21893 0000420C D006                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21894 0000420E 400B                   M           JSR     @R0                     ;
21895 00004210 0009                   M           NOP                                     ;
21896                             178 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;20060930POR
21897 00004212 D106                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21898 00004214 410B                   M           JSR     @R1                     ;
21899 00004216 0009                   M           NOP                                     ;
21900 00004218 C804               179 I1          TST     #BIT2,R0                                ;
21901                             180 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_050             ;[払い出しパルス終了]
21902 0000421A 8B09                   M           BF      POS_CLS_TYP1_POSCTL1_050
21903                             181 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
21904 0000421C A183                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21905 0000421E 0009                   M           NOP
21906                             182 I1  
21907                             183 I1  ;       =========================
21908                             184 I1  ;       =====(開始条件成立)======
21909                             185 I1  ;       =========================
21910                                 I1  ***** BEGIN-POOL *****
21911 00004220 00000000               I1  DATA FOR SOURCE-LINE 150
21912 00004224 00000000               I1  DATA FOR SOURCE-LINE 171
21913 00004228 00000000               I1  DATA FOR SOURCE-LINE 177
21914 0000422C 00000000               I1  DATA FOR SOURCE-LINE 178
21915                                 I1  ***** END-POOL *****
21916 00004230                    186 I1  POS_CLS_TYP1_POSCTL1_050:
21917 00004230 E001               187 I1          MOV     #BIT0,R0                                ;
21918 00004232 D10E               188 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;[step1:ｵｰﾌﾟﾝ後の起動:180度を目指
                                          す]
21919 00004234 2101               189 I1          MOV.W   R0,@R1                                  ;
21920                             190 I1  
21921                             191 I1  ;       --------- 2012-05-30----------
21922                             192 I1  ;[[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
21923                             193 I1          FAR_JSR #_FULCLS_MAXOVER_STEP_INI,R0
21924 00004236 D00E                   M           MOV.L   #_FULCLS_MAXOVER_STEP_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21925 00004238 400B                   M           JSR     @R0                     ;
21926 0000423A 0009                   M           NOP                                     ;
21927                             194 I1  
21928 0000423C D10D               195 I1          MOV.L   #_PAR_NEG_EXITTIM-_CB_SYS_PARAM000+_W_PARAM_TOP,R1      ;2 2012-10-5追い込
                                          み失敗の待ち時間
21929 0000423E 6011               196 I1          MOV.W   @R1,R0                                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   282
PROGRAM NAME =

21930 00004240 D10D               197 I1          MOV.L   #_NEG_EXITTIM,R1                                        ;//超変な針の穴を
                                          通すタイマ  2012-10-05
21931 00004242 2101               198 I1          MOV.W   R0,@R1                                                  ;
21932                             199 I1  
21933                             200 I1  
21934                             201 I1  ;       ===ｵｰﾌﾟﾝ出力完了〜ｲﾝﾁﾝｸﾞに切り替わる時のﾓ-ﾀ遅延分のﾀｲﾏ===
21935                             202 I1  ;;;2012-05-30   MOV.W   #D'50,R0                        ;50msec
21936 00004244 D10D               203 I1          MOV.L   #_FUL_CLS_DLYTM_SV,R1                   ;2012-05-30
21937 00004246 6011               204 I1          MOV.W   @R1,R0                                  ;2012-05-30
21938 00004248 D10D               205 I1          MOV.L   #_INT_CLS_DYL_TIM,R1                    ;
21939 0000424A 2101               206 I1          MOV.W   R0,@R1                                  ;遅延時間=0
21940                             207 I1  
21941                             208 I1  ;       =====2011-05-11[必要か???]======
21942                             209 I1  ;;;;;;;;;;;;;;;;;;;;;;;;;;2014-09-16悪さをしている      FAR_JSR #_FUL_START_FUL_OBJ_SET,R0
21943                             210 I1  
21944                             211 I1  
21945                             212 I1  ;       ========================
21946                             213 I1  ;       ===== 初期起動==========
21947                             214 I1  ;       ========================
21948                             215 I1  ;       自起動周波数=TOP-SPEED
21949                             216 I1  ;;;;2006-09-30  FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET1,R0        ;''''''''''''''''@@@@見直
                                          し''''''''''''''
21950                             217 I1  ;       -----------------------------
21951                             218 I1          FAR_JSR #_REVRSE_BASINC_SPDCALC,R0              ;位置_SET_CLSINC_SPDBAS_PLSをｼｽﾊﾟﾗ
                                          から
21952 0000424C D00D                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21953 0000424E 400B                   M           JSR     @R0                     ;
21954 00004250 0009                   M           NOP                                     ;
21955                             219 I1          FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0        ;2007-07-07
21956 00004252 D00D                   M           MOV.L   #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21957 00004254 400B                   M           JSR     @R0                     ;
21958 00004256 0009                   M           NOP                                     ;
21959                             220 I1  ;       -----------------------------
21960                             221 I1  ;;;;;;;;;;;;    FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0        ;''''''''''''''''@@@@見直
                                          し''''''''''''''
21961                             222 I1  ;
21962 00004258 D10C               223 I1          MOV.L   #_CALC_FULCLS_MXPLS,R1                  ;
21963 0000425A 6312               224 I1          MOV.L   @R1,R3                                  ;30000ﾊﾟﾙｽでしょう2012-05-30ｺﾒﾝﾄ
21964                             225 I1                                                          ;2012-10-05 2BYTE->4BYTE 型U2B->U4
                                          Bに変更
21965                             226 I1          FAR_JSR #_FUL_PLS_START,R0                      ;Input R6(SV),R7(PV),R3()
21966 0000425C D00C                   M           MOV.L   #_FUL_PLS_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21967 0000425E 400B                   M           JSR     @R0                     ;
21968 00004260 0009                   M           NOP                                     ;
21969                             227 I1  
21970                             228 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21971                             229 C   ;       -------2015-03-15[R01:2014-08-20]--------
21972                             230 C           FAR_JSR #_KAJYU_START_UPCHK,R0
21973 00004262 D00C                   M           MOV.L   #_KAJYU_START_UPCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21974 00004264 400B                   M           JSR     @R0                     ;
21975 00004266 0009                   M           NOP                                     ;
21976                             231 I1          .AENDI
21977                             232 I1  
21978                             233 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT   ;
21979 00004268 A15D                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21980 0000426A 0009                   M           NOP
21981                             234 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   283
PROGRAM NAME =

21982                                 I1  ***** BEGIN-POOL *****
21983 0000426C 00000000               I1  DATA FOR SOURCE-LINE 188
21984 00004270 00000000               I1  DATA FOR SOURCE-LINE 193
21985 00004274 00000000               I1  DATA FOR SOURCE-LINE 195
21986 00004278 00000000               I1  DATA FOR SOURCE-LINE 197
21987 0000427C 00000000               I1  DATA FOR SOURCE-LINE 203
21988 00004280 00000000               I1  DATA FOR SOURCE-LINE 205
21989 00004284 00000000               I1  DATA FOR SOURCE-LINE 218
21990 00004288 00000000               I1  DATA FOR SOURCE-LINE 219
21991 0000428C 00000000               I1  DATA FOR SOURCE-LINE 223
21992 00004290 00000000               I1  DATA FOR SOURCE-LINE 226
21993 00004294 00000000               I1  DATA FOR SOURCE-LINE 230
21994                                 I1  ***** END-POOL *****
21995 00004298                    235 I1  POS_CLS_TYP1_POSCTL1_100:
21996 00004298                    236 I1  POS_CLS_TYP1_POSCTL1_105:                       ;
21997                             237 I1  ;-----------------------とりあえずここ-----------------
21998                             238 I1          DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;[2015-07-22]
21999 00004298 D10A                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
22000 0000429A 6412                   M           MOV.L   @R1,R4          ;
22001 0000429C 2448                   M           TST     R4,R4                   ;
22002 0000429E 8901                   M           BT      JMP_0100015                     ;ZERO THEN JUMP
22003 000042A0 4410                   M           DT      R4                              ;
22004 000042A2 2142                   M           MOV.L   R4,@R1          ;STORE
22005 000042A4                        M   JMP_0100015:
22006                             239 I1  
22007                             240 I1  
22008                             241 I1  ;       ===========================
22009                             242 I1  ;       ===     最終遷移        ===
22010                             243 I1  ;       ===========================
22011 000042A4 D108               244 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
22012 000042A6 6011               245 I1          MOV.W   @R1,R0                                  ;
22013 000042A8 C840               246 I1          TST     #BIT6,R0                                ;
22014                             247 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_110
22015 000042AA 8915                   M           BT      POS_CLS_TYP1_POSCTL1_110
22016                             248 I1  
22017                             249 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                        ;
22018 000042AC D107                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22019 000042AE 410B                   M           JSR     @R1                     ;
22020 000042B0 0009                   M           NOP                                     ;
22021 000042B2 C804               250 I1          TST     #BIT2,R0                                ;
22022                             251 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_107             ;
22023 000042B4 8904                   M           BT      POS_CLS_TYP1_POSCTL1_107
22024                             252 I1  
22025                             253 I1          FAR_JSR #_CMPAB_NEAR_END_PROC,R0                ;
22026 000042B6 D006                   M           MOV.L   #_CMPAB_NEAR_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22027 000042B8 400B                   M           JSR     @R0                     ;
22028 000042BA 0009                   M           NOP                                     ;
22029 000042BC 2008               254 I1          TST     R0,R0                                   ;
22030                             255 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_108             ;
22031 000042BE 8B09                   M           BF      POS_CLS_TYP1_POSCTL1_108
22032 000042C0                    256 I1  POS_CLS_TYP1_POSCTL1_107:                               ;
22033                             257 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
22034 000042C0 A131                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
22035 000042C2 0009                   M           NOP
22036                             258 I1  
22037                                 I1  ***** BEGIN-POOL *****
22038 000042C4 00000000               I1  DATA FOR SOURCE-LINE 238
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   284
PROGRAM NAME =

22039 000042C8 00000000               I1  DATA FOR SOURCE-LINE 244
22040 000042CC 00000000               I1  DATA FOR SOURCE-LINE 249
22041 000042D0 00000000               I1  DATA FOR SOURCE-LINE 253
22042                                 I1  ***** END-POOL *****
22043 000042D4                    259 I1  POS_CLS_TYP1_POSCTL1_108:                               ;
22044                             260 I1          M_BRA   POS_CLS_TYP1_POSCTL1_PC_END             ;終了
22045 000042D4 A124                   M           BRA     POS_CLS_TYP1_POSCTL1_PC_END
22046 000042D6 0009                   M           NOP
22047                             261 I1  
22048                             262 I1  ;       ====================================
22049                             263 I1  ;       ===     通常運転or特殊な状態    ====
22050                             264 I1  ;       ====================================
22051 000042D8                    265 I1  POS_CLS_TYP1_POSCTL1_110:
22052                             266 I1  
22053                             267 I1  ;       ---------------- 2012-05-30　[[neg]][[払い出して達しなければSQへ出力するが次へ進む
                                          ]]-----------
22054 000042D8 D106               268 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;2012-05-30
22055 000042DA 6011               269 I1          MOV.W   @R1,R0                          ;
22056 000042DC C801               270 I1          TST     #BIT0,R0                        ;
22057                             271 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_112     ;
22058 000042DE 890F                   M           BT      POS_CLS_TYP1_POSCTL1_112
22059 000042E0 9006               272 I1          MOV.W   #(BIT2+BIT0),R0                 ;1ﾊﾟﾙｽ制御 BIT2:1PLS制御
22060 000042E2 D105               273 I1          MOV.L   #_INT_CLS_CTL_FLG,R1            ;
22061 000042E4 2101               274 I1          MOV.W   R0,@R1                          ;
22062                             275 I1          FAR_JSR #_FULCLS_MAXOVER_STEP_INI,R0    ;
22063 000042E6 D005                   M           MOV.L   #_FULCLS_MAXOVER_STEP_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22064 000042E8 400B                   M           JSR     @R0                     ;
22065 000042EA 0009                   M           NOP                                     ;
22066                             276 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OVER98     ;
22067 000042EC A042                   M           BRA     POS_CLS_TYP1_POSCTL1_OVER98
22068 000042EE 0009                   M           NOP
22069                                 I1  ***** BEGIN-POOL *****
22070 000042F0 0005                   I1  DATA FOR SOURCE-LINE 272
22071 000042F2 0000                   I1  ALIGNMENT CODE
22072 000042F4 00000000               I1  DATA FOR SOURCE-LINE 268
22073 000042F8 00000000               I1  DATA FOR SOURCE-LINE 273
22074 000042FC 00000000               I1  DATA FOR SOURCE-LINE 275
22075                                 I1  ***** END-POOL *****
22076 00004300                    277 I1  POS_CLS_TYP1_POSCTL1_112:
22077                             278 I1  ;       -----------------------------------------
22078 00004300 D102               279 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
22079 00004302 6011               280 I1          MOV.W   @R1,R0                                  ;
22080 00004304 C806               281 I1          TST     #(BIT2+BIT1),R0                         ;
22081                             282 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_113             ;
22082 00004306 8B03                   M           BF      POS_CLS_TYP1_POSCTL1_113
22083                             283 I1          M_BRA   POS_CLS_TYP1_POSCTL1_200                ;(通常制御)
22084 00004308 A094                   M           BRA     POS_CLS_TYP1_POSCTL1_200
22085 0000430A 0009                   M           NOP
22086                             284 I1  
22087                                 I1  ***** BEGIN-POOL *****
22088 0000430C 00000000               I1  DATA FOR SOURCE-LINE 279
22089                                 I1  ***** END-POOL *****
22090 00004310                    285 I1  POS_CLS_TYP1_POSCTL1_113:
22091                             286 I1  
22092                             287 I1  ;       ====== 1回ﾆｱｾﾞﾛに入ってからの処理======
22093                             288 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
22094 00004310 D004                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   285
PROGRAM NAME =

22095 00004312 400B                   M           JSR     @R0                     ;
22096 00004314 0009                   M           NOP                                     ;
22097                             289 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
22098 00004316 D104                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22099 00004318 410B                   M           JSR     @R1                     ;
22100 0000431A 0009                   M           NOP                                     ;
22101 0000431C C804               290 I1          TST     #BIT2,R0                                ;
22102                             291 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_115             ;
22103 0000431E 8B05                   M           BF      POS_CLS_TYP1_POSCTL1_115
22104                             292 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;払出待ち完了待ち
22105 00004320 A101                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
22106 00004322 0009                   M           NOP
22107                             293 I1  
22108                                 I1  ***** BEGIN-POOL *****
22109 00004324 00000000               I1  DATA FOR SOURCE-LINE 288
22110 00004328 00000000               I1  DATA FOR SOURCE-LINE 289
22111                                 I1  ***** END-POOL *****
22112 0000432C                    294 I1  POS_CLS_TYP1_POSCTL1_115:                               ;
22113 0000432C D103               295 I1          MOV.L   #_INT_CLS_DYL_TIM,R1                    ;
22114 0000432E 6011               296 I1          MOV.W   @R1,R0                                  ;遅延時間=0
22115 00004330 2008               297 I1          TST     R0,R0                                   ;
22116                             298 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_117             ;
22117 00004332 8905                   M           BT      POS_CLS_TYP1_POSCTL1_117
22118 00004334 70FF               299 I1          ADD     #-1,R0                                  ;
22119 00004336 2101               300 I1          MOV.W   R0,@R1                                  ;
22120                             301 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;払出待ち完了待ち
22121 00004338 A0F5                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
22122 0000433A 0009                   M           NOP
22123                                 I1  ***** BEGIN-POOL *****
22124 0000433C 00000000               I1  DATA FOR SOURCE-LINE 295
22125                                 I1  ***** END-POOL *****
22126 00004340                    302 I1  POS_CLS_TYP1_POSCTL1_117:                               ;
22127                             303 I1  
22128                             304 I1  ;       ==== 停止した ====
22129                             305 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
22130                             306 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
22131 00004340 D008                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22132 00004342 400B                   M           JSR     @R0                     ;
22133 00004344 0009                   M           NOP                                     ;
22134                             307 C           FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;
22135 00004346 D008                   M           MOV.L   #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22136 00004348 400B                   M           JSR     @R0                     ;
22137 0000434A 0009                   M           NOP                                     ;
22138                             308 C           FAR_JSR #_POS_CLS_RNA_KJYU_NZ_CHEAK,R0          ;[1度ﾆｱｾﾞﾛに入ってからの処理]
22139 0000434C D007                   M           MOV.L   #_POS_CLS_RNA_KJYU_NZ_CHEAK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22140 0000434E 400B                   M           JSR     @R0                     ;
22141 00004350 0009                   M           NOP                                     ;
22142                             309 I1          .AENDI
22143                             310 I1  
22144                             311 I1  
22145 00004352 8800               312 I1          CMP/EQ  #0,R0                                   ;
22146 00004354 8913               313 I1          BT      POS_CLS_TYP1_POSCTL1_ED050              ;[step3]今もﾆｱｾﾞﾛ内なら完了
22147                             314 I1  
22148                             315 I1          FAR_JSR #_OVER_DIG_CHK,R0                       ;
22149 00004356 D006                   M           MOV.L   #_OVER_DIG_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22150 00004358 400B                   M           JSR     @R0                     ;
22151 0000435A 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   286
PROGRAM NAME =

22152 0000435C 2008               316 I1          TST     R0,R0                                   ;
22153                             317 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_OVER99          ;
22154 0000435E 8B0B                   M           BF      POS_CLS_TYP1_POSCTL1_OVER99
22155                             318 I1          M_BRA   POS_CLS_TYP1_POSCTL1_118                ;
22156 00004360 A02C                   M           BRA     POS_CLS_TYP1_POSCTL1_118
22157 00004362 0009                   M           NOP
22158                             319 I1  
22159                             320 I1  
22160                             321 I1  
22161                             322 I1  
22162                             323 I1  ;       ===================================
22163                             324 I1  ;       ==== ﾆｱｾﾞﾛ範囲内 終了決定       ===
22164                             325 I1  ;       ===================================
22165                                 I1  ***** BEGIN-POOL *****
22166 00004364 00000000               I1  DATA FOR SOURCE-LINE 306
22167 00004368 00000000               I1  DATA FOR SOURCE-LINE 307
22168 0000436C 00000000               I1  DATA FOR SOURCE-LINE 308
22169 00004370 00000000               I1  DATA FOR SOURCE-LINE 315
22170                                 I1  ***** END-POOL *****
22171 00004374                    326 I1  POS_CLS_TYP1_POSCTL1_OVER98:                            ;
22172 00004374 0009               327 I1          nop
22173 00004376 0009               328 I1          nop
22174 00004378                    329 I1  POS_CLS_TYP1_POSCTL1_OVER99:                            ;
22175 00004378 0009               330 I1          nop
22176 0000437A 0009               331 I1          nop
22177 0000437C 0009               332 I1          nop
22178                             333 I1  
22179 0000437E                    334 I1  POS_CLS_TYP1_POSCTL1_ED050:
22180 0000437E 0009               335 I1          nop
22181 00004380 0009               336 I1          nop
22182                             337 I1  
22183                             338 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                 ;
22184 00004382 D009                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22185 00004384 400B                   M           JSR     @R0                     ;
22186 00004386 0009                   M           NOP                                     ;
22187                             339 I1  ;       ====== 二重回路対策<CPUA>===========
22188 00004388 D108               340 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;やめる事を決定
22189 0000438A 6011               341 I1          MOV.W   @R1,R0                                  ;
22190 0000438C CB40               342 I1          OR      #BIT6,R0                                ;
22191 0000438E 2101               343 I1          MOV.W   R0,@R1                                  ;
22192                             344 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
22193 00004390 D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22194 00004392 400B                   M           JSR     @R0                     ;
22195 00004394 0009                   M           NOP                                     ;
22196                             345 I1  
22197                             346 I1  ;       ==================================
22198                             347 I1          FAR_JSR #_POS_LSI_WORK_STOP2,R0
22199 00004396 D007                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22200 00004398 400B                   M           JSR     @R0                     ;
22201 0000439A 0009                   M           NOP                                     ;
22202                             348 I1          FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
22203 0000439C D006                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22204 0000439E 400B                   M           JSR     @R0                     ;
22205 000043A0 0009                   M           NOP                                     ;
22206                             349 I1  ;       ==================================
22207                             350 I1  
22208                             351 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   287
PROGRAM NAME =

22209 000043A2 A0C0                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
22210 000043A4 0009                   M           NOP
22211                             352 I1  
22212                             353 I1  ;       ===========================
22213                             354 I1  ;       ====== ｲﾝﾁﾝｸﾞ処理==========
22214                             355 I1  ;       ===========================
22215                                 I1  ***** BEGIN-POOL *****
22216 000043A6 0000                   I1  ALIGNMENT CODE
22217 000043A8 00000000               I1  DATA FOR SOURCE-LINE 338
22218 000043AC 00000000               I1  DATA FOR SOURCE-LINE 340
22219 000043B0 00000000               I1  DATA FOR SOURCE-LINE 344
22220 000043B4 00000000               I1  DATA FOR SOURCE-LINE 347
22221 000043B8 00000000               I1  DATA FOR SOURCE-LINE 348
22222                                 I1  ***** END-POOL *****
22223 000043BC                    356 I1  POS_CLS_TYP1_POSCTL1_118:                               ;[step3 ﾊﾟﾙｽ出力停止し50msec後毎で
                                          ここにくる]
22224                             357 I1  ;       === 再起動処理(再起動時はKP=1) ====
22225                             358 I1  ;       (方向作成)
22226                             359 I1  ;       (ﾃﾞｰﾀ作成)
22227                             360 I1  
22228                             361 I1  ;       ----------- 2015-06-22[荷重・位置共通]--------------
22229 000043BC D108               362 I1          MOV.L   #_SET1_INCPOS_KP01,R1           ;
22230 000043BE 6011               363 I1          MOV.W   @R1,R0                          ;
22231 000043C0 D108               364 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1      ;
22232 000043C2 2101               365 I1          MOV.W   R0,@R1                          ;
22233                             366 I1  
22234                             367 I1  
22235                             368 I1  ;       ------- 2015-03-15[R01:2014-07-15] ----------
22236                             369 I1          .AIF    1 EQ    1               ;
22237 000043C4 D108               370 C           MOV.L   #_FULCLS_MATHED,R1                      ;//0:位置 1:荷重
22238 000043C6 6011               371 C           MOV.W   @R1,R0                                  ;
22239 000043C8 2008               372 C           TST     R0,R0
22240                             373 C           TST_BIT_OF POS_CLS_TYP1_POSCTL1_119A            ;位置の速度JUMP
22241 000043CA 8913                   M           BT      POS_CLS_TYP1_POSCTL1_119A
22242                             374 C   
22243                             375 C   ;       -----------2015-06-22--------
22244                             376 C   ;       [未出力[ﾆｱｾﾞﾛ]/再起動ﾊﾟﾙｽ,遅延周期選択追加]
22245                             377 C           FAR_JSR #_RESTART_WAIT_PLS_DATA_SELECT,R0       ;
22246 000043CC D007                   M           MOV.L   #_RESTART_WAIT_PLS_DATA_SELECT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22247 000043CE 400B                   M           JSR     @R0                     ;
22248 000043D0 0009                   M           NOP                                     ;
22249 000043D2 2008               378 C           TST     R0,R0                                   ;
22250                             379 C           TST_BIT_OF POS_CLS_TYP1_POSCTL1_119E_EX         ;
22251 000043D4 891F                   M           BT      POS_CLS_TYP1_POSCTL1_119E_EX
22252                             380 C   
22253                             381 C           FAR_JSR #_REVRSE_KAJYU_AREACHK_BASSET,R0        ;荷重:_SET_CLSINC_SPDBAS_PLSをｼｽﾊﾟ
                                          ﾗから
22254 000043D6 D006                   M           MOV.L   #_REVRSE_KAJYU_AREACHK_BASSET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22255 000043D8 400B                   M           JSR     @R0                     ;
22256 000043DA 0009                   M           NOP                                     ;
22257                             382 C           M_BRA   POS_CLS_TYP1_POSCTL1_119E               ;
22258 000043DC A00D                   M           BRA     POS_CLS_TYP1_POSCTL1_119E
22259 000043DE 0009                   M           NOP
22260                             383 C   
22261                             384 C   
22262                                 C   ***** BEGIN-POOL *****
22263 000043E0 00000000               C   DATA FOR SOURCE-LINE 362
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   288
PROGRAM NAME =

22264 000043E4 00000000               C   DATA FOR SOURCE-LINE 364
22265 000043E8 00000000               C   DATA FOR SOURCE-LINE 370
22266 000043EC 00000000               C   DATA FOR SOURCE-LINE 377
22267 000043F0 00000000               C   DATA FOR SOURCE-LINE 381
22268                                 C   ***** END-POOL *****
22269 000043F4                    385 C   POS_CLS_TYP1_POSCTL1_119A:                              ;
22270                             386 C           FAR_JSR #_REVRSE_BASINC_SPDCALC,R0              ;位置_SET_CLSINC_SPDBAS_PLSをｼｽﾊﾟﾗ
                                          から
22271 000043F4 D009                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22272 000043F6 400B                   M           JSR     @R0                     ;
22273 000043F8 0009                   M           NOP                                     ;
22274 000043FA                    387 C   POS_CLS_TYP1_POSCTL1_119E:                              ;
22275                             388 I1          .AENDI
22276                             389 I1  
22277                             390 I1          FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0        ;R6破壊
22278 000043FA D009                   M           MOV.L   #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22279 000043FC 400B                   M           JSR     @R0                     ;
22280 000043FE 0009                   M           NOP                                     ;
22281                             391 I1  
22282                             392 I1  ;       ------ 2015-06-22 ---------
22283                             393 I1  ;;;;    MOV.L   #_SET1_INCPOS_KP01,R1                   ;
22284                             394 I1  ;;;;    MOV.W   @R1,R3                                  ;8ﾊﾟﾙｽ
22285 00004400 D108               395 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1              ;
22286 00004402 6311               396 I1          MOV.W   @R1,R3                                  ;8ﾊﾟﾙｽ
22287                             397 I1          FAR_JSR #_FUL_PLS_START,R0                      ;Input R6(SV),R7(PV),R3()
22288 00004404 D008                   M           MOV.L   #_FUL_PLS_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22289 00004406 400B                   M           JSR     @R0                     ;
22290 00004408 0009                   M           NOP                                     ;
22291 0000440A E005               398 I1          MOV     #(BIT2+BIT0),R0                         ;1ﾊﾟﾙｽ制御 BIT2:1PLS制御
22292 0000440C D107               399 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
22293 0000440E 2101               400 I1          MOV.W   R0,@R1                                  ;
22294                             401 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                 ;
22295 00004410 D007                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22296 00004412 400B                   M           JSR     @R0                     ;
22297 00004414 0009                   M           NOP                                     ;
22298 00004416                    402 I1  POS_CLS_TYP1_POSCTL1_119E_EX:                           ;
22299                             403 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
22300 00004416 A086                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
22301 00004418 0009                   M           NOP
22302                             404 I1  
22303                             405 I1  
22304                             406 I1  ;       =========通常運転(ﾆｱｾﾞﾛ待ち) =====
22305                                 I1  ***** BEGIN-POOL *****
22306 0000441A 0000                   I1  ALIGNMENT CODE
22307 0000441C 00000000               I1  DATA FOR SOURCE-LINE 386
22308 00004420 00000000               I1  DATA FOR SOURCE-LINE 390
22309 00004424 00000000               I1  DATA FOR SOURCE-LINE 395
22310 00004428 00000000               I1  DATA FOR SOURCE-LINE 397
22311 0000442C 00000000               I1  DATA FOR SOURCE-LINE 399
22312 00004430 00000000               I1  DATA FOR SOURCE-LINE 401
22313                                 I1  ***** END-POOL *****
22314 00004434                    407 I1  POS_CLS_TYP1_POSCTL1_200:
22315                             408 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
22316                             409 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
22317 00004434 D00C                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22318 00004436 400B                   M           JSR     @R0                     ;
22319 00004438 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   289
PROGRAM NAME =

22320                             410 C           FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;
22321 0000443A D00C                   M           MOV.L   #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22322 0000443C 400B                   M           JSR     @R0                     ;
22323 0000443E 0009                   M           NOP                                     ;
22324                             411 C           FAR_JSR #_POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK,R0    ;
22325 00004440 D00B                   M           MOV.L   #_POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22326 00004442 400B                   M           JSR     @R0                     ;
22327 00004444 0009                   M           NOP                                     ;
22328                             412 C   
22329                             413 I1          .AENDI
22330                             414 I1  
22331                             415 I1  
22332 00004446 8800               416 I1          CMP/EQ  #0,R0                                                   ;
22333 00004448 8B1C               417 I1          BF      POS_CLS_TYP1_POSCTL1_220                                        ;
22334                             418 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                                          ;[step2:停
                                          止]
22335 0000444A D00A                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22336 0000444C 400B                   M           JSR     @R0                     ;
22337 0000444E 0009                   M           NOP                                     ;
22338                             419 I1          FAR_JSR #_POS_LSI_SLOW_STOP,R0                                          ;
22339 00004450 D009                   M           MOV.L   #_POS_LSI_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22340 00004452 400B                   M           JSR     @R0                     ;
22341 00004454 0009                   M           NOP                                     ;
22342                             420 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_CLS_CTL_FLG,LG=W,BIT=BIT1,WKREG=R1     ;
22343 00004456 D109                   M           MOV.L   #_INT_CLS_CTL_FLG,R1            ;
22344 00004458 6011                   M           MOV.W   @R1,R0          ;
22345 0000445A CB02                   M           OR      #BIT1,R0                ;
22346 0000445C 2101                   M           MOV.W   R0,@R1          ;
22347                             421 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                                         ;
22348 0000445E D008                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22349 00004460 400B                   M           JSR     @R0                     ;
22350 00004462 0009                   M           NOP                                     ;
22351                             422 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;ﾆｱｾﾞﾛにはいった
22352 00004464 A05F                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
22353 00004466 0009                   M           NOP
22354                             423 I1  
22355                                 I1  ***** BEGIN-POOL *****
22356 00004468 00000000               I1  DATA FOR SOURCE-LINE 409
22357 0000446C 00000000               I1  DATA FOR SOURCE-LINE 410
22358 00004470 00000000               I1  DATA FOR SOURCE-LINE 411
22359 00004474 00000000               I1  DATA FOR SOURCE-LINE 418
22360 00004478 00000000               I1  DATA FOR SOURCE-LINE 419
22361 0000447C 00000000               I1  DATA FOR SOURCE-LINE 420
22362 00004480 00000000               I1  DATA FOR SOURCE-LINE 421
22363                                 I1  ***** END-POOL *****
22364 00004484                    424 I1  POS_CLS_TYP1_POSCTL1_220:
22365                             425 I1  
22366                             426 I1  ;       input R0
22367                             427 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
22368                             428 C   ;       -----------2015-03-15 荷重の場合ニアゼロにならないからここでオーバを見る--------
22369                             429 C           PUSH_REG1 R0
22370 00004484 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
22371                                 M                                           ;REG=>[SP]
22372                                 M                                           ;"-4" FF,FF,FF,FC
22373                             430 C           FAR_JSR #_OVER_DIG_CHK,R0
22374 00004486 D004                   M           MOV.L   #_OVER_DIG_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22375 00004488 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   290
PROGRAM NAME =

22376 0000448A 0009                   M           NOP                                     ;
22377 0000448C 6103               431 C           MOV     R0,R1                                                           ;
22378                             432 C           POP_REG1 R0
22379                                 M                                   ; RE"+4" 00,00,00,04
22380 0000448E 60F6                   M           MOV.L   @R15+,R0        ;
22381                             433 C   
22382 00004490 2118               434 C           TST     R1,R1
22383                             435 C           TST_BIT_OF POS_CLS_TYP1_POSCTL1_222                     ;
22384 00004492 8903                   M           BT      POS_CLS_TYP1_POSCTL1_222
22385                             436 C           M_BRA   POS_CLS_TYP1_POSCTL1_250                        ;
22386 00004494 A010                   M           BRA     POS_CLS_TYP1_POSCTL1_250
22387 00004496 0009                   M           NOP
22388                             437 I1          .AENDI
22389                             438 I1  
22390                                 I1  ***** BEGIN-POOL *****
22391 00004498 00000000               I1  DATA FOR SOURCE-LINE 430
22392                                 I1  ***** END-POOL *****
22393 0000449C                    439 I1  POS_CLS_TYP1_POSCTL1_222:
22394                             440 I1  ;       -----------------------------------------------------------------------
22395                             441 I1  
22396                             442 I1  
22397                             443 I1  
22398                             444 I1  
22399 0000449C 4011               445 I1          CMP/PZ  R0                                      ;+?
22400 0000449E 8B07               446 I1          BF      POS_CLS_TYP1_POSCTL1_240                ;NO ﾏｲﾅｽ
22401                             447 I1  ;       === ＋方向へ行き過ぎている　ﾏｲﾅｽへ向かうべきだ  ;
22402 000044A0 D402               448 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                   ;//BIT0
22403 000044A2 6041               449 I1          MOV.W   @R4,R0                                  ;
22404 000044A4 C801               450 I1          TST     #BIT0,R0                                ;
22405                             451 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_260             ;OK
22406 000044A6 8B21                   M           BF      POS_CLS_TYP1_POSCTL1_260
22407                             452 I1          M_BRA   POS_CLS_TYP1_POSCTL1_250                ;
22408 000044A8 A006                   M           BRA     POS_CLS_TYP1_POSCTL1_250
22409 000044AA 0009                   M           NOP
22410                             453 I1  
22411                                 I1  ***** BEGIN-POOL *****
22412 000044AC 00000000               I1  DATA FOR SOURCE-LINE 448
22413                                 I1  ***** END-POOL *****
22414 000044B0                    454 I1  POS_CLS_TYP1_POSCTL1_240:
22415 000044B0 D409               455 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                   ;//BIT0
22416 000044B2 6041               456 I1          MOV.W   @R4,R0                                  ;
22417 000044B4 C801               457 I1          TST     #BIT0,R0                                ;
22418                             458 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_260             ;OK
22419 000044B6 8919                   M           BT      POS_CLS_TYP1_POSCTL1_260
22420                             459 I1  
22421                             460 I1  ;       ======== 行き過ぎた ====
22422 000044B8                    461 I1  POS_CLS_TYP1_POSCTL1_250:
22423                             462 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                                          ;
22424 000044B8 D008                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22425 000044BA 400B                   M           JSR     @R0                     ;
22426 000044BC 0009                   M           NOP                                     ;
22427                             463 I1          FAR_JSR #_POS_LSI_SLOW_STOP,R0                                          ;
22428 000044BE D008                   M           MOV.L   #_POS_LSI_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22429 000044C0 400B                   M           JSR     @R0                     ;
22430 000044C2 0009                   M           NOP                                     ;
22431                             464 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_CLS_CTL_FLG,LG=W,BIT=BIT1,WKREG=R1     ;
22432 000044C4 D107                   M           MOV.L   #_INT_CLS_CTL_FLG,R1            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   291
PROGRAM NAME =

22433 000044C6 6011                   M           MOV.W   @R1,R0          ;
22434 000044C8 CB02                   M           OR      #BIT1,R0                ;
22435 000044CA 2101                   M           MOV.W   R0,@R1          ;
22436                             465 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                                         ;
22437 000044CC D006                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22438 000044CE 400B                   M           JSR     @R0                     ;
22439 000044D0 0009                   M           NOP                                     ;
22440                             466 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT                                   ;
22441 000044D2 A028                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
22442 000044D4 0009                   M           NOP
22443                             467 I1  
22444                                 I1  ***** BEGIN-POOL *****
22445 000044D6 0000                   I1  ALIGNMENT CODE
22446 000044D8 00000000               I1  DATA FOR SOURCE-LINE 455
22447 000044DC 00000000               I1  DATA FOR SOURCE-LINE 462
22448 000044E0 00000000               I1  DATA FOR SOURCE-LINE 463
22449 000044E4 00000000               I1  DATA FOR SOURCE-LINE 464
22450 000044E8 00000000               I1  DATA FOR SOURCE-LINE 465
22451                                 I1  ***** END-POOL *****
22452 000044EC                    468 I1  POS_CLS_TYP1_POSCTL1_260:
22453                             469 I1  
22454                             470 I1  ;-------------------------2012-05-30 CHECK ----------------
22455                             471 I1  ;;[[neg]]
22456                             472 I1  ;;[[neg]]       MOV.L   #_PAR_NEGERR_ENB-_CB_SYS_PARAM000+_W_PARAM_TOP,R1       ;
22457                             473 I1  ;;[[neg]]       MOV.W   @R1,R0                                                  ;
22458                             474 I1  ;;[[neg]]       CMP/EQ  #1,R0                                                   ;
22459                             475 I1  ;;[[neg]]       BF      POS_CLS_TYP1_POSCTL1_280                                ;
22460                             476 I1  ;;[[neg]]
22461 000044EC D108               477 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
22462 000044EE 6011               478 I1          MOV.W   @R1,R0                                  ;
22463 000044F0 C806               479 I1          TST     #(BIT2+BIT1),R0                         ;
22464                             480 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_280             ;(通常制御)
22465 000044F2 8B0A                   M           BF      POS_CLS_TYP1_POSCTL1_280
22466                             481 I1  
22467                             482 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
22468 000044F4 D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22469 000044F6 400B                   M           JSR     @R0                     ;
22470 000044F8 0009                   M           NOP                                     ;
22471                             483 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
22472 000044FA D107                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22473 000044FC 410B                   M           JSR     @R1                     ;
22474 000044FE 0009                   M           NOP                                     ;
22475 00004500 C804               484 I1          TST     #BIT2,R0                                ;
22476                             485 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_280             ;まだﾊﾟﾙｽがある
22477 00004502 8902                   M           BT      POS_CLS_TYP1_POSCTL1_280
22478                             486 I1  
22479                             487 I1  ;       ---ﾊﾟﾙｽがなくなった---
22480                             488 I1          FAR_JSR #_FULCLS_MAXOVER_ERR_WT,R0              ;2012-05-30/2012-10-05
22481 00004504 D005                   M           MOV.L   #_FULCLS_MAXOVER_ERR_WT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22482 00004506 400B                   M           JSR     @R0                     ;
22483 00004508 0009                   M           NOP                                     ;
22484                             489 I1  
22485                             490 I1  ;       ----------------------------------------------------------
22486 0000450A                    491 I1  POS_CLS_TYP1_POSCTL1_280:
22487                             492 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
22488 0000450A A00C                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
22489 0000450C 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   292
PROGRAM NAME =

22490                             493 I1  
22491                             494 I1  
22492                             495 I1  
22493                                 I1  ***** BEGIN-POOL *****
22494 0000450E 0000                   I1  ALIGNMENT CODE
22495 00004510 00000000               I1  DATA FOR SOURCE-LINE 477
22496 00004514 00000000               I1  DATA FOR SOURCE-LINE 482
22497 00004518 00000000               I1  DATA FOR SOURCE-LINE 483
22498 0000451C 00000000               I1  DATA FOR SOURCE-LINE 488
22499                                 I1  ***** END-POOL *****
22500 00004520                    496 I1  POS_CLS_TYP1_POSCTL1_PC_END:
22501 00004520 E004               497 I1          MOV     #BIT2,R0                                ;
22502                             498 I1          M_BRA   POS_CLS_TYP1_POSCTL1_END                ;
22503 00004522 A001                   M           BRA     POS_CLS_TYP1_POSCTL1_END
22504 00004524 0009                   M           NOP
22505                             499 I1  
22506 00004526                    500 I1  POS_CLS_TYP1_POSCTL1_OUT_WAIT:                          ;
22507 00004526 200A               501 I1          XOR     R0,R0                                   ;まだよ
22508 00004528                    502 I1  POS_CLS_TYP1_POSCTL1_END:
22509                             503 I1  
22510                             504 I1  ;;;;2018-02-10  PUSH_REG1 R0
22511                             505 I1  ;;;;2018-02-10  PUSH_REG1 R1
22512                             506 I1  ;;;;2018-02-10  MOV.L   #_FULCLS_TIM_SETFLG,R1          ;
22513                             507 I1  ;;;;2018-02-10  MOV.W   @R1,R0                          ;
22514                             508 I1  ;;;;2018-02-10  MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;247.0/247.1
22515                             509 I1  ;;;;2018-02-10  MOV.W   R0,@R1                          ;
22516                             510 I1  ;;;;2018-02-10  POP_REG1 R1
22517                             511 I1  ;;;;2018-02-10  POP_REG1 R0
22518                             512 I1  
22519                             513 I1          SUB_END
22520                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22521 00004528 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22522                             514 I1          M_RTS
22523 0000452A 000B                   M           RTS                             ;RTSの後ろの
22524 0000452C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22525                             515 I1  
22526                             516 I1  
22527                             517 I1  ;       ***************************
22528                             518 I1  ;       ***                     ***
22529                             519 I1  ;       ***     2015-06-22      ***
22530                             520 I1  ;;      ***                     ***
22531                             521 I1  ;       ***************************
22532                             522 I1  ;       出力しない,ﾊﾟﾙｽ,遅延周期を設定
22533                             523 I1  ;       ANS:R0=0:出力しない
22534                             524 I1  ;
22535 0000452E                    525 I1  _RESTART_WAIT_PLS_DATA_SELECT:
22536                             526 I1          SUB_START
22537 0000452E 4F22                   M           STS.L   PR,@-R15                ;[必要]
22538                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22539                             527 I1  
22540                             528 I1  
22541                             529 I1          FAR_JSR #_KJYU_NEARZERO3_CHK,R0                 ;0,1,-1,-2
22542 00004530 D008                   M           MOV.L   #_KJYU_NEARZERO3_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22543 00004532 400B                   M           JSR     @R0                     ;
22544 00004534 0009                   M           NOP                                     ;
22545 00004536 2008               530 I1          TST     R0,R0                                   ;
22546                             531 I1          TST_BIT_OF RESTART_WAIT_PLS_DATASEL_END         ;[ﾘｽﾀｰﾄしない]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   293
PROGRAM NAME =

22547 00004538 891F                   M           BT      RESTART_WAIT_PLS_DATASEL_END
22548                             532 I1  
22549 0000453A 4011               533 I1          CMP/PZ  R0                                      ;+()
22550 0000453C 8914               534 I1          BT      RESTART_WAIT_PLS_DATASEL_100            ;
22551                             535 I1  
22552                             536 I1  ;       ---------範囲外---------
22553                             537 I1  ;;;;H2W MOV.L   #_SVP_OUTPLS_HOSA,R1            ;44
22554                             538 I1  
22555 0000453E D106               539 I1          MOV.L   #_PAR_KAJYU_CTIM1-_CB_SYS_PARAM000+_W_PARAM_TOP,R1      ;368:範囲外
22556 00004540 6011               540 I1          MOV.W   @R1,R0                          ;
22557 00004542 D106               541 I1          MOV.L   #_INT_CLS_DYL_TIM,R1            ;
22558 00004544 2101               542 I1          MOV.W   R0,@R1                          ;遅延時間=0
22559                             543 I1  
22560 00004546 D106               544 I1          MOV.L   #_SET1_INCPOS_KP01,R1           ;31
22561 00004548 6011               545 I1          MOV.W   @R1,R0                          ;
22562 0000454A D106               546 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1      ;
22563 0000454C 2101               547 I1          MOV.W   R0,@R1                          ;
22564                             548 I1  
22565                             549 I1          M_BRA   RESTART_WAIT_PLS_DATASEL_OUT            ;
22566 0000454E A013                   M           BRA     RESTART_WAIT_PLS_DATASEL_OUT
22567 00004550 0009                   M           NOP
22568                             550 I1  
22569                             551 I1  ;       ------------ニアゼロ範囲内-------------
22570                                 I1  ***** BEGIN-POOL *****
22571 00004552 0000                   I1  ALIGNMENT CODE
22572 00004554 00000000               I1  DATA FOR SOURCE-LINE 529
22573 00004558 00000000               I1  DATA FOR SOURCE-LINE 539
22574 0000455C 00000000               I1  DATA FOR SOURCE-LINE 541
22575 00004560 00000000               I1  DATA FOR SOURCE-LINE 544
22576 00004564 00000000               I1  DATA FOR SOURCE-LINE 546
22577                                 I1  ***** END-POOL *****
22578 00004568                    552 I1  RESTART_WAIT_PLS_DATASEL_100:
22579                             553 I1  
22580                             554 I1  ;;;H2W  MOV.L   #_SVP_OUTPLS_HOSB,R1            ;45
22581 00004568 D105               555 I1          MOV.L   #_PAR_KAJYU_CTIM2-_CB_SYS_PARAM000+_W_PARAM_TOP,R1      ;369:範囲内
22582 0000456A 6011               556 I1          MOV.W   @R1,R0                          ;
22583 0000456C D105               557 I1          MOV.L   #_INT_CLS_DYL_TIM,R1            ;
22584 0000456E 2101               558 I1          MOV.W   R0,@R1                          ;遅延時間=0
22585                             559 I1  
22586 00004570 D105               560 I1          MOV.L   #_SET1_RNAPOS_KP01,R1           ;
22587 00004572 6011               561 I1          MOV.W   @R1,R0                          ;
22588 00004574 D105               562 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1      ;
22589 00004576 2101               563 I1          MOV.W   R0,@R1                          ;
22590                             564 I1  
22591 00004578                    565 I1  RESTART_WAIT_PLS_DATASEL_OUT:
22592 00004578 E001               566 I1          MOV.B   #1,R0                                   ;START
22593 0000457A                    567 I1  RESTART_WAIT_PLS_DATASEL_END:
22594                             568 I1  
22595                             569 I1          SUB_END
22596                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22597 0000457A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22598                             570 I1          M_RTS
22599 0000457C 000B                   M           RTS                             ;RTSの後ろの
22600 0000457E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22601                             571 I1  
22602                             572 I1  
22603                             573 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   294
PROGRAM NAME =

22604                             574 I1  ;       *******************************************
22605                             575 I1  ;       ***                                     ***
22606                             576 I1  ;       ***                                     ***
22607                             577 I1  ;       ***                                     ***
22608                             578 I1  ;       ***                                     ***
22609                             579 I1  ;       *******************************************
22610                             580 I1          .IMPORT _POSCHG_LINK_DIG_TO_LINK_PLS            ;
22611                             581 I1          .IMPORT _OBJ_POS_DIG_MAK                        ;2015-03-15[R01:2014-08-20]
22612                             582 I1  
22613                                 I1  ***** BEGIN-POOL *****
22614 00004580 00000000               I1  DATA FOR SOURCE-LINE 555
22615 00004584 00000000               I1  DATA FOR SOURCE-LINE 557
22616 00004588 00000000               I1  DATA FOR SOURCE-LINE 560
22617 0000458C 00000000               I1  DATA FOR SOURCE-LINE 562
22618                                 I1  ***** END-POOL *****
22619 00004590                    583 I1          .ALIGN  4                                               ;
22620 00004590                    584 I1  _FULCLS_MAXPLS_CALC:
22621                             585 I1          SUB_START
22622 00004590 4F22                   M           STS.L   PR,@-R15                ;[必要]
22623                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22624                             586 I1  
22625                             587 I1  ;;;;DEBUG       MOV.L   #_SET1_FULCLS_MXPLS,R1          ;
22626                             588 I1  ;;;;DEBUG       MOV.W   @R1,R2                          ;
22627                             589 I1  ;;;;DEBUG       M_BRA   FULCLS_MAXPLSCAL_200            ;
22628                             590 I1  
22629                             591 I1  ;       -------- 2015-03-15 -----------
22630                             592 I1          FAR_JSR #_OBJ_POS_DIG_MAK,R0                    ;これがない 2015-03-15[R012014-08-
                                          20]
22631 00004592 D00A                   M           MOV.L   #_OBJ_POS_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22632 00004594 400B                   M           JSR     @R0                     ;
22633 00004596 0009                   M           NOP                                     ;
22634                             593 I1  ;       --------------------------
22635                             594 I1  
22636 00004598 D109               595 I1          MOV.L   #_SV_OBJ360,R1                          ;停止目標位置角度
22637 0000459A 6311               596 I1          MOV.W   @R1,R3                                  ;
22638 0000459C 940D               597 I1          MOV.W   #D'1800,R4                              ;
22639 0000459E 6243               598 I1          MOV     R4,R2                                   ;
22640 000045A0 3238               599 I1          SUB     R3,R2                                   ;
22641 000045A2 4211               600 I1          CMP/PZ  R2                                      ;
22642 000045A4 8900               601 I1          BT      FULCLS_MAXPLSCAL_100                    ;
22643 000045A6 324C               602 I1          ADD     R4,R2                                   ;角度0.1度
22644 000045A8                    603 I1  FULCLS_MAXPLSCAL_100:                                   ;
22645 000045A8 7201               604 I1          ADD     #1,R2                                   ;+0.1度
22646                             605 I1          FAR_JSR #_POSCHG_LINK_DIG_TO_LINK_PLS,R0        ;
22647 000045AA D006                   M           MOV.L   #_POSCHG_LINK_DIG_TO_LINK_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22648 000045AC 400B                   M           JSR     @R0                     ;
22649 000045AE 0009                   M           NOP                                     ;
22650                             606 I1  
22651                             607 I1  
22652                             608 I1  
22653 000045B0                    609 I1  FULCLS_MAXPLSCAL_200:                                   ;
22654 000045B0 D105               610 I1          MOV.L   #_CALC_FULCLS_MXPLS,R1                  ;
22655 000045B2 2122               611 I1          MOV.L   R2,@R1                                  ;
22656                             612 I1  
22657                             613 I1  ;;;     MOV.L   #_LINK_NOWROT_OFSPLS_P,R4       ;[[[目標]]]
22658                             614 I1  ;;;     MOV.L   @R4,R2                          ;
22659                             615 I1  ;;;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   295
PROGRAM NAME =

22660                             616 I1  ;;;     MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
22661                             617 I1  ;;;     MOV.L   R1,@R5                          ;
22662                             618 I1  ;;;     MOV.L   R2,@(4,R5)                      ;
22663                             619 I1  ;;;
22664                             620 I1  ;;;     MOV.L   #_CALC_FULCLS_MXPLS,R1          ;ｲﾝﾁﾝｸﾞMAX量
22665                             621 I1  ;;;     MOV.L   R0,@R1                          ;2BYTE->4BYTE 2012-10-05 型変更U2B->U4Bに
                                          変更
22666                             622 I1  
22667                             623 I1  
22668                             624 I1          SUB_END
22669                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22670 000045B4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22671                             625 I1          M_RTS
22672 000045B6 000B                   M           RTS                             ;RTSの後ろの
22673 000045B8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22674                             626 I1  
22675                             627 I1  
22676                             628 I1  ;       *******************************************
22677                             629 I1  ;       ***             2012-10-05              ***
22678                             630 I1  ;       ***                                     ***
22679                             631 I1  ;       ***     180.0度に達したらEXIT           ***
22680                             632 I1  ;       *******************************************
22681                                 I1  ***** BEGIN-POOL *****
22682 000045BA 0708                   I1  DATA FOR SOURCE-LINE 597
22683 000045BC 00000000               I1  DATA FOR SOURCE-LINE 592
22684 000045C0 00000000               I1  DATA FOR SOURCE-LINE 595
22685 000045C4 00000000               I1  DATA FOR SOURCE-LINE 605
22686 000045C8 00000000               I1  DATA FOR SOURCE-LINE 610
22687                                 I1  ***** END-POOL *****
22688 000045CC                    633 I1  _OVER_DIG_CHK:
22689                             634 I1          SUB_START
22690 000045CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
22691                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22692 000045CE D108               635 I1          MOV.L   #_INC_ENC360,R1                 ;
22693 000045D0 6211               636 I1          MOV.W   @R1,R2                          ;
22694 000045D2 900C               637 I1          MOV.W   #D'1798,R0                      ;179.8
22695 000045D4 3202               638 I1          CMP/HS  R0,R2                           ;
22696 000045D6 8B11               639 I1          BF      OVER_DIGCHK_NOMAL               ;ｵｰﾊﾞはしていない
22697                             640 I1  
22698 000045D8                    641 I1  OVER_DIGCHK_ERR:
22699                             642 I1          FAR_JSR #_FULCLS_MAXOVER_ERR,R0         ;ﾀｲﾏなし
22700 000045D8 D006                   M           MOV.L   #_FULCLS_MAXOVER_ERR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22701 000045DA 400B                   M           JSR     @R0                     ;
22702 000045DC 0009                   M           NOP                                     ;
22703 000045DE D106               643 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
22704 000045E0 6011               644 I1          MOV.W   @R1,R0                          ;
22705 000045E2 C940               645 I1          AND     #BIT6,R0
22706 000045E4 2008               646 I1          TST     R0,R0                           ;
22707                             647 I1          TST_BIT_OF OVER_DIGCHK_NOMAL            ;R0=0SET
22708 000045E6 8909                   M           BT      OVER_DIGCHK_NOMAL
22709 000045E8 E001               648 I1          MOV.B   #1,R0                           ;R0=1
22710                             649 I1          M_BRA   OVER_DIGCHK_END
22711 000045EA A008                   M           BRA     OVER_DIGCHK_END
22712 000045EC 0009                   M           NOP
22713                                 I1  ***** BEGIN-POOL *****
22714 000045EE 0706                   I1  DATA FOR SOURCE-LINE 637
22715 000045F0 00000000               I1  DATA FOR SOURCE-LINE 635
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   296
PROGRAM NAME =

22716 000045F4 00000000               I1  DATA FOR SOURCE-LINE 642
22717 000045F8 00000000               I1  DATA FOR SOURCE-LINE 643
22718                                 I1  ***** END-POOL *****
22719 000045FC                    650 I1  OVER_DIGCHK_NOMAL
22720 000045FC 200A               651 I1          XOR     R0,R0
22721 000045FE                    652 I1  OVER_DIGCHK_END
22722                             653 I1  
22723                             654 I1          SUB_END
22724                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22725 000045FE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22726                             655 I1          M_RTS
22727 00004600 000B                   M           RTS                             ;RTSの後ろの
22728 00004602 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22729                             656 I1  
22730                             657 I1  
22731                             658 I1  ;       ***************************
22732                             659 I1  ;       ***     2012-05-30      ***
22733                             660 I1  ;       ***     反転オーバ      ***
22734                             661 I1  ;       ***************************
22735                             662 I1  ;       [[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
22736 00004604                    663 I1          .ALIGN  4                                               ;
22737 00004604                    664 I1  _FULCLS_MAXOVER_ERR:
22738                             665 I1          SUB_START
22739 00004604 4F22                   M           STS.L   PR,@-R15                ;[必要]
22740                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22741                             666 I1          M_BRA   FULCLS_MAXOVER_ERRSET           ;
22742 00004606 A00B                   M           BRA     FULCLS_MAXOVER_ERRSET
22743 00004608 0009                   M           NOP
22744                             667 I1  
22745 0000460A                    668 I1  _FULCLS_MAXOVER_ERR_WT:
22746                             669 I1          SUB_START
22747 0000460A 4F22                   M           STS.L   PR,@-R15                ;[必要]
22748                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22749                             670 I1  
22750 0000460C D103               671 I1          MOV.L   #_NEG_EXITTIM,R1                ;
22751 0000460E 6011               672 I1          MOV.W   @R1,R0                          ;
22752 00004610 2008               673 I1          TST     R0,R0                           ;
22753                             674 I1          TST_BIT_OF FULCLS_MAXOVER_ERRSET        ;
22754 00004612 8905                   M           BT      FULCLS_MAXOVER_ERRSET
22755 00004614 70FF               675 I1          ADD     #-1,R0                          ;
22756 00004616 2101               676 I1          MOV.W   R0,@R1                          ;
22757                             677 I1          M_BRA   FULCLS_MAXOVER_ERRWAT           ;
22758 00004618 A012                   M           BRA     FULCLS_MAXOVER_ERRWAT
22759 0000461A 0009                   M           NOP
22760                             678 I1  
22761                                 I1  ***** BEGIN-POOL *****
22762 0000461C 00000000               I1  DATA FOR SOURCE-LINE 671
22763                                 I1  ***** END-POOL *****
22764 00004620                    679 I1  FULCLS_MAXOVER_ERRSET:
22765 00004620 D109               680 I1          MOV.L   #_PAR_NEGERR_ENB-_CB_SYS_PARAM000+_W_PARAM_TOP,R1       ;
22766 00004622 6011               681 I1          MOV.W   @R1,R0                                                  ;
22767 00004624 8801               682 I1          CMP/EQ  #1,R0                                                   ;
22768 00004626 8B0B               683 I1          BF      FULCLS_MAXOVER_ERRWAT                                   ;
22769                             684 I1  
22770                             685 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_FUL_CLS_MAXOVER_F,LG=W,BIT=(BIT6+BIT0),WKREG=R1    ;B
                                          IT6:ERR BIT0:制御
22771 00004628 D108                   M           MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   297
PROGRAM NAME =

22772 0000462A 6011                   M           MOV.W   @R1,R0          ;
22773 0000462C CB41                   M           OR      #(BIT6+BIT0),R0         ;
22774 0000462E 2101                   M           MOV.W   R0,@R1          ;
22775                             686 I1  
22776                             687 I1  
22777                             688 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
22778                             689 C   ;       ------2015-03-15[R01:2014-08-20] 荷重制御情報追加-------------
22779 00004630 D107               690 C           MOV.L   #_FULCLS_MATHED,R1                      ;//0:位置 1:荷重
22780 00004632 6011               691 C           MOV.W   @R1,R0                                  ;
22781 00004634 8801               692 C           CMP/EQ  #1,R0                                   ;
22782 00004636 8B03               693 C           BF      FULCLS_MAXOVER_ERRS100                  ;
22783                             694 C   
22784                             695 C           MEM1_BIT0_TO_BIT7_ORSET MEM=_FUL_CLS_MAXOVER_F,LG=W,BIT=(BIT5),WKREG=R1 ;BIT5:荷重
22785 00004638 D104                   M           MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
22786 0000463A 6011                   M           MOV.W   @R1,R0          ;
22787 0000463C CB20                   M           OR      #(BIT5),R0              ;
22788 0000463E 2101                   M           MOV.W   R0,@R1          ;
22789                             696 C   
22790 00004640                    697 C   FULCLS_MAXOVER_ERRS100:
22791                             698 C   ;       -----------------------------------------------
22792                             699 I1          .AENDI
22793                             700 I1  
22794                             701 I1  
22795 00004640                    702 I1  FULCLS_MAXOVER_ERRWAT:
22796                             703 I1          SUB_END
22797                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22798 00004640 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22799                             704 I1          M_RTS
22800 00004642 000B                   M           RTS                             ;RTSの後ろの
22801 00004644 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22802                             705 I1  
22803                             706 I1  ;       ***************************
22804                             707 I1  ;       ***     2012-05-30      ***
22805                             708 I1  ;       ***     反転オーバCLR   ***
22806                             709 I1  ;       ***************************
22807                             710 I1  ;       [[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
22808                                 I1  ***** BEGIN-POOL *****
22809 00004646 0000                   I1  ALIGNMENT CODE
22810 00004648 00000000               I1  DATA FOR SOURCE-LINE 680
22811 0000464C 00000000               I1  DATA FOR SOURCE-LINE 685,695
22812 00004650 00000000               I1  DATA FOR SOURCE-LINE 690
22813                                 I1  ***** END-POOL *****
22814 00004654                    711 I1          .ALIGN  4                                               ;
22815                             712 I1          .EXPORT _FULCLS_MAXOVER_CLR     ;
22816 00004654                    713 I1  _FULCLS_MAXOVER_CLR:
22817                             714 I1          SUB_START
22818 00004654 4F22                   M           STS.L   PR,@-R15                ;[必要]
22819                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22820 00004656 200A               715 I1          XOR     R0,R0                   ;
22821 00004658 D102               716 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1  ;
22822 0000465A 2101               717 I1          MOV.W   R0,@R1                  ;
22823                             718 I1          SUB_END
22824                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22825 0000465C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22826                             719 I1          M_RTS
22827 0000465E 000B                   M           RTS                             ;RTSの後ろの
22828 00004660 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   298
PROGRAM NAME =

22829                             720 I1  
22830                             721 I1  ;       ***************************
22831                             722 I1  ;       ***     2012-05-30      ***
22832                             723 I1  ;       ***     反転オーバINI   ***
22833                             724 I1  ;       ***************************
22834                             725 I1  ;       [[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
22835                                 I1  ***** BEGIN-POOL *****
22836 00004662 0000                   I1  ALIGNMENT CODE
22837 00004664 00000000               I1  DATA FOR SOURCE-LINE 716
22838                                 I1  ***** END-POOL *****
22839 00004668                    726 I1          .ALIGN  4                                               ;
22840 00004668                    727 I1  _FULCLS_MAXOVER_STEP_INI:
22841                             728 I1          SUB_START
22842 00004668 4F22                   M           STS.L   PR,@-R15                ;[必要]
22843                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22844                             729 I1  
22845                             730 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_FUL_CLS_MAXOVER_F,LG=W,BIT=~BIT0,WKREG=R1 ;
22846 0000466A D103                   M           MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
22847 0000466C 6011                   M           MOV.W   @R1,R0          ;
22848 0000466E C9FE                   M           AND     #LOW ~BIT0,R0           ;
22849 00004670 2101                   M           MOV.W   R0,@R1          ;
22850                             731 I1  
22851                             732 I1  
22852                             733 I1          SUB_END
22853                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22854 00004672 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22855                             734 I1          M_RTS
22856 00004674 000B                   M           RTS                             ;RTSの後ろの
22857 00004676 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22858                             735 I1  
22859                             736 I1  ;       ***********************************
22860                             737 I1  ;       ***                             ***
22861                             738 I1  ;       ***     追い込み達せず信号出力  ***
22862                             739 I1  ;       ***     224.9  各行程           ***
22863                             740 I1  ;       ***     224.10 1回でも          ***
22864                             741 I1  ;       ***                             ***
22865                             742 I1  ;       ***********************************
22866                             743 I1          .EXPORT _FULCLS_OVER_SIG
22867                             744 I1  
22868                                 I1  ***** BEGIN-POOL *****
22869 00004678 00000000               I1  DATA FOR SOURCE-LINE 730
22870                                 I1  ***** END-POOL *****
22871 0000467C                    745 I1          .ALIGN  4                       ;2012-05-30
22872 0000467C                    746 I1  _FULCLS_OVER_SIG
22873                             747 I1          SUB_START
22874 0000467C 4F22                   M           STS.L   PR,@-R15                ;[必要]
22875                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22876                             748 I1  
22877 0000467E 233A               749 I1          XOR     R3,R3
22878 00004680 244A               750 I1          XOR     R4,R4
22879 00004682 D10B               751 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
22880 00004684 6011               752 I1          MOV.W   @R1,R0                          ;
22881 00004686 C840               753 I1          TST     #BIT6,R0                        ;
22882                             754 I1          TST_BIT_OF FULCLS_OVERSG_100            ;異常記憶なし
22883 00004688 8903                   M           BT      FULCLS_OVERSG_100
22884 0000468A 930D               755 I1          MOV.W   #BIT9,R3                        ;異常有り・リセットまで保持
22885                             756 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   299
PROGRAM NAME =

22886                             757 I1  
22887                             758 I1  
22888                             759 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
22889                             760 C   ;       --2015-03-15[R01:2014-08-20追加]---
22890 0000468C C820               761 C           TST     #BIT5,R0                        ;荷重?
22891                             762 C           TST_BIT_OF FULCLS_OVERSG_100            ;NO
22892 0000468E 8900                   M           BT      FULCLS_OVERSG_100
22893 00004690 930B               763 C           MOV.W   #BIT10,R3                       ;
22894                             764 I1          .AENDI
22895                             765 I1  
22896 00004692                    766 I1  FULCLS_OVERSG_100
22897                             767 I1  
22898                             768 I1  ;;;;;   TST     #BIT0,R0                        ;
22899                             769 I1  ;;;;;   TST_BIT_OF FULCLS_OVERSG_200            ;制御中なし
22900                             770 I1  ;;;;;   MOV.W   #BIT10,R4                       ;異常有り・記憶はしない
22901                             771 I1  ;;;;;FULCLS_OVERSG_200
22902                             772 I1  
22903 00004692 D108               773 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB224,R1     ;
22904 00004694 6011               774 I1          MOV.W   @R1,R0                          ;
22905 00004696 9209               775 I1          MOV.W   #(BIT10+BIT9),R2                ;
22906 00004698 6227               776 I1          NOT     R2,R2                           ;
22907 0000469A 2029               777 I1          AND     R2,R0                           ;
22908 0000469C 203B               778 I1          OR      R3,R0                           ;
22909 0000469E 204B               779 I1          OR      R4,R0                           ;
22910 000046A0 2101               780 I1          MOV.W   R0,@R1                          ;
22911                             781 I1  
22912                             782 I1          SUB_END
22913                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22914 000046A2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22915                             783 I1          M_RTS
22916 000046A4 000B                   M           RTS                             ;RTSの後ろの
22917 000046A6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22918                             784 I1  
22919                             785 I1  
22920                             786 I1  ;       ***********************************
22921                             787 I1  ;       ***                             ***
22922                             788 I1  ;       ***     ﾌﾙｸﾛｰｽﾞﾆｱｾﾞﾛ            ***
22923                             789 I1  ;       ***                             ***
22924                             790 I1  ;       ***********************************
22925                             791 I1  ;       ANS R0(ﾌﾙｸﾛｰｽﾞすべきかどうか R0=0しない R0 !=0(工程)ﾌﾙｸﾛｰｽﾞ)
22926                             792 I1  ;       ANS R6 1回転目標ﾊﾟﾙｽ
22927                             793 I1  ;       ANS R7 1回転ﾘﾆｱﾊﾟﾙｽ
22928                             794 I1  ;
22929                             795 I1  ;
22930                             796 I1  ;       設定=0度　==>312度を目標
22931                             797 I1  ;       180より大きい区間は　−扱いで考える(1)
22932                             798 I1  ;       もし1800より大きければ
22933                             799 I1  ;
22934                             800 I1  ;       -1*(3600-現在ﾊﾟﾙｽ)
22935                                 I1  ***** BEGIN-POOL *****
22936 000046A8 0200                   I1  DATA FOR SOURCE-LINE 755
22937 000046AA 0400                   I1  DATA FOR SOURCE-LINE 763
22938 000046AC 0600                   I1  DATA FOR SOURCE-LINE 775
22939 000046AE 0000                   I1  ALIGNMENT CODE
22940 000046B0 00000000               I1  DATA FOR SOURCE-LINE 751
22941 000046B4 00000000               I1  DATA FOR SOURCE-LINE 773
22942                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   300
PROGRAM NAME =

22943 000046B8                    801 I1          .ALIGN  4                                               ;
22944                             802 I1  ;       Input 工程=R5
22945                             803 I1  ;       Input R7
22946                             804 I1  ;       ANS     R0:0,1,-1
22947                             805 I1  ;       R0      =0 :ﾆｱｾﾞﾛ範囲内
22948                             806 I1  ;               =1 :正(正転運転では行き過ぎている/逆転運転では生きたりない)
22949                             807 I1  ;               =-1:負(正運転では行きたりない    /逆転運転では行き過ぎている)
22950                             808 I1  ;       ANS     R6:ﾘﾆｱPLS現在位置
22951                             809 I1  
22952                             810 I1  ;
22953 000046B8                    811 I1  _POS_CLS_TYP1_NEAR_ZERO_CHEAK:
22954                             812 I1          SUB_START
22955 000046B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
22956                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22957 000046BA D40D               813 I1          MOV.L   #_SDATCLS_TRG_STEP,R4           ;//速度連続の最後のｽﾃｯﾌﾟ
22958 000046BC 6041               814 I1          MOV.W   @R4,R0                          ;
22959 000046BE 70FF               815 I1          ADD     #-1,R0                          ;
22960 000046C0 4008               816 I1          SHLL2   R0                              ;
22961 000046C2 4000               817 I1          SHLL    R0                              ;8byte
22962 000046C4 D40B               818 I1          MOV.L   #_SDATCLS_OBJ_NEAR_UPDNPLS,R4   ;//+0*4:UP +1*4 DN
22963 000046C6 340C               819 I1          ADD     R0,R4                           ;
22964 000046C8 6346               820 I1          MOV.L   @R4+,R3                         ;目標位置+ALFA(結果"-")
22965 000046CA 6142               821 I1          MOV.L   @R4,R1                          ;目標位置-ALFA
22966 000046CC 3313               822 I1          CMP/GE  R1,R3                           ;
22967 000046CE 8902               823 I1          BT      POS_CLS_TYP1_NEAR_ZR_CHK_100    ;
22968 000046D0 6013               824 I1          MOV     R1,R0                           ;
22969 000046D2 6133               825 I1          MOV     R3,R1                           ;
22970 000046D4 6303               826 I1          MOV     R0,R3                           ;
22971 000046D6                    827 I1  POS_CLS_TYP1_NEAR_ZR_CHK_100:                   ;
22972                             828 I1  
22973                             829 I1  ;       ==== 2003-02-21 ===================
22974 000046D6 D008               830 I1          MOV.L   #_DBG_REVMOD_UPPLS,R0   ;
22975 000046D8 2032               831 I1          MOV.L   R3,@R0                  ;
22976 000046DA D008               832 I1          MOV.L   #_DBG_REVMOD_DNPLS,R0   ;
22977 000046DC 2012               833 I1          MOV.L   R1,@R0                  ;
22978                             834 I1  
22979                             835 I1  ;       ===================================
22980                             836 I1  ;;;     MOV     #1,R0
22981                             837 I1  ;;;     CMP/GT  R3,R6                           ;
22982                             838 I1  ;;;     BT      POS_CLS_TYP1_NEAR_ZR_CHK_200    ;+側へｵｰﾊﾞ
22983                             839 I1  ;;;
22984                             840 I1  ;;;     MOV     #-1,R0                          ;
22985                             841 I1  ;;;     CMP/GE  R1,R6                           ;R1=< R6 NO
22986                             842 I1  ;;;     BF      POS_CLS_TYP1_NEAR_ZR_CHK_200    ;(範囲内 NO)
22987                             843 I1  ;;;     XOR     R0,R0                           ;
22988                             844 I1  ;;;POS_CLS_TYP1_NEAR_ZR_CHK_200:                        ;
22989                             845 I1  
22990 000046DE E001               846 I1          MOV     #1,R0
22991 000046E0 3637               847 I1          CMP/GT  R3,R6                           ;
22992 000046E2 890D               848 I1          BT      POS_CLS_TYP1_NEAR_ZR_CHK_200    ;+側へｵｰﾊﾞ
22993                             849 I1  
22994 000046E4 E0FF               850 I1          MOV     #-1,R0                          ;
22995 000046E6 3613               851 I1          CMP/GE  R1,R6                           ;R1=< R6 NO
22996 000046E8 8B0D               852 I1          BF      POS_CLS_TYP1_NEAR_ZR_CHK_201    ;(範囲内 NO)
22997 000046EA 200A               853 I1          XOR     R0,R0                           ;
22998                             854 I1          M_BRA   POS_CLS_TYP1_NEAR_ZR_CHK_202
22999 000046EC A00C                   M           BRA     POS_CLS_TYP1_NEAR_ZR_CHK_202
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   301
PROGRAM NAME =

23000 000046EE 0009                   M           NOP
23001                             855 I1  
23002                                 I1  ***** BEGIN-POOL *****
23003 000046F0 00000000               I1  DATA FOR SOURCE-LINE 813
23004 000046F4 00000000               I1  DATA FOR SOURCE-LINE 818
23005 000046F8 00000000               I1  DATA FOR SOURCE-LINE 830
23006 000046FC 00000000               I1  DATA FOR SOURCE-LINE 832
23007                                 I1  ***** END-POOL *****
23008 00004700                    856 I1  POS_CLS_TYP1_NEAR_ZR_CHK_200:                   ;
23009 00004700 0009               857 I1          NOP
23010                             858 I1          M_BRA   POS_CLS_TYP1_NEAR_ZR_CHK_202
23011 00004702 A001                   M           BRA     POS_CLS_TYP1_NEAR_ZR_CHK_202
23012 00004704 0009                   M           NOP
23013 00004706                    859 I1  POS_CLS_TYP1_NEAR_ZR_CHK_201:                   ;
23014 00004706 0009               860 I1          NOP
23015 00004708                    861 I1  POS_CLS_TYP1_NEAR_ZR_CHK_202:                   ;
23016                             862 I1  
23017                             863 I1  ;       ===========================================
23018                             864 I1  ;       === <CPU-Aが終わりを告げたら終わり>     ===
23019                             865 I1  ;       === <CPU-Bが終わりを告げても終わり?>    ===
23020                             866 I1  ;       ===========================================
23021                             867 I1          PUSH_REG1 R2
23022 00004708 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
23023                                 M                                           ;REG=>[SP]
23024                                 M                                           ;"-4" FF,FF,FF,FC
23025                             868 I1          PUSH_REG1 R3
23026 0000470A 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
23027                                 M                                           ;REG=>[SP]
23028                                 M                                           ;"-4" FF,FF,FF,FC
23029                             869 I1  
23030                             870 I1          PUSH_REG1 R0
23031 0000470C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
23032                                 M                                           ;REG=>[SP]
23033                                 M                                           ;"-4" FF,FF,FF,FC
23034                             871 I1          .AIF    0 EQ    0
23035 0000470E 222A               872 C           XOR     R2,R2                           ;CPUAは自分から終わる
23036                             873             .AELSE
23037                             874             FAR_JSR #_CPU_BA_NZR_ON_JG,R0           ;
23038                             875             MOV     R0,R2                           ;
23039                             876             .AENDI
23040                             877 I1          POP_REG1 R0                             ;
23041                                 M                                   ; RE"+4" 00,00,00,04
23042 00004710 60F6                   M           MOV.L   @R15+,R0        ;
23043                             878 I1  
23044 00004712 2228               879 I1          TST     R2,R2                           ;
23045                             880 I1          TST_BIT_OF POS_CLS_CPUB_TO_CPUA_100     ;
23046 00004714 8900                   M           BT      POS_CLS_CPUB_TO_CPUA_100
23047 00004716 200A               881 I1          XOR     R0,R0                           ;
23048 00004718                    882 I1  POS_CLS_CPUB_TO_CPUA_100:                       ;
23049                             883 I1  
23050                             884 I1          POP_REG1 R3
23051                                 M                                   ; RE"+4" 00,00,00,04
23052 00004718 63F6                   M           MOV.L   @R15+,R3        ;
23053                             885 I1          POP_REG1 R2
23054                                 M                                   ; RE"+4" 00,00,00,04
23055 0000471A 62F6                   M           MOV.L   @R15+,R2        ;
23056                             886 I1          SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   302
PROGRAM NAME =

23057                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23058 0000471C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23059                             887 I1          M_RTS
23060 0000471E 000B                   M           RTS                             ;RTSの後ろの
23061 00004720 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23062                             888 I1  
23063                             889 I1  
23064                             890 I1  ;       ***********************************
23065                             891 I1  ;       ***     Input R1,R2             ***
23066                             892 I1  ;       ***********************************
23067                             893 I1  ;       R1,R2 絶対値
23068 00004722                    894 I1  _CLS_POS_LENGTH_ADD_DATA:
23069                             895 I1          SUB_START
23070 00004722 4F22                   M           STS.L   PR,@-R15                ;[必要]
23071                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23072 00004724 D40A               896 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
23073 00004726 6041               897 I1          MOV.W   @R4,R0                                                  ;
23074 00004728 C801               898 I1          TST     #BIT0,R0                                                ;
23075                             899 I1          TST_BIT_OF CLS_POS_LENGTH_ADDATA_050                            ;
23076 0000472A 8905                   M           BT      CLS_POS_LENGTH_ADDATA_050
23077                             900 I1          NEG1_64 H_REG=R1,L_REG=R2,WKREG=R4                              ;|R1,R2|
23078 0000472C 6227                   M           NOT     R2,R2                           ;
23079 0000472E 6117                   M           NOT     R1,R1                           ;
23080 00004730 244A                   M           XOR     R4,R4                           ;
23081 00004732 0018                   M           SETT
23082 00004734 324E                   M           ADDC    R4,R2                           ;0+1+R2
23083 00004736 314E                   M           ADDC    R4,R1                           ;
23084 00004738                    901 I1  CLS_POS_LENGTH_ADDATA_050:                                              ;
23085 00004738 D706               902 I1          MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;//符号つき TOTAL=
                                          TOTAL+ADD ADD_DATA<=0
23086 0000473A 6572               903 I1          MOV.L   @R7,R5                                                  ;
23087 0000473C 5671               904 I1          MOV.L   @(4,R7),R6                                              ;
23088                             905 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
23089 0000473E 0008                   M           CLRT
23090 00004740 326E                   M           ADDC    R6,R2
23091 00004742 315E                   M           ADDC    R5,R1
23092 00004744 2712               906 I1          MOV.L   R1,@R7                                                  ;
23093 00004746 1721               907 I1          MOV.L   R2,@(4,R7)                                              ;
23094                             908 I1          SUB_END
23095                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23096 00004748 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23097                             909 I1          M_RTS
23098 0000474A 000B                   M           RTS                             ;RTSの後ろの
23099 0000474C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23100                             910 I1  
23101                             911 I1  
23102                             912 I1  ;       *******************************************
23103                             913 I1  ;       ***     260から0度の間は"-"になる       ***
23104                             914 I1  ;       *******************************************
23105                             915 I1  ;       R0~R2
23106                             916 I1          .EXPORT _FUL_CLS_OBJPLS_CHK
23107                                 I1  ***** BEGIN-POOL *****
23108 0000474E 0000                   I1  ALIGNMENT CODE
23109 00004750 00000000               I1  DATA FOR SOURCE-LINE 896
23110 00004754 00000000               I1  DATA FOR SOURCE-LINE 902
23111                                 I1  ***** END-POOL *****
23112 00004758                    917 I1  _FUL_CLS_OBJPLS_CHK:    ;Input R2 もし260~0の間なら"-"のﾊﾟﾙｽになる
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   303
PROGRAM NAME =

23113                             918 I1          SUB_START
23114 00004758 4F22                   M           STS.L   PR,@-R15                ;[必要]
23115                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23116 0000475A D107               919 I1          MOV.L   #_SETX_FULCLS_AREA_PLS,R1       ;//260.0==>PLS
23117 0000475C 6012               920 I1          MOV.L   @R1,R0                          ;
23118 0000475E 3203               921 I1          CMP/GE  R0,R2                           ;R2 OK
23119 00004760 8B06               922 I1          BF      FUL_CLS_OBJPLSCK_050            ;
23120 00004762 D106               923 I1          MOV.L   #_LINK_1ROT_PLS,R1              ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
23121 00004764 6012               924 I1          MOV.L   @R1,R0                          ;
23122 00004766 3028               925 I1          SUB     R2,R0                           ;360-359=1
23123 00004768 620B               926 I1          NEG     R0,R2                           ;-1
23124 0000476A 4215               927 I1          CMP/PL  R2                              ;
23125 0000476C 8B00               928 I1          BF      FUL_CLS_OBJPLSCK_050            ;
23126 0000476E 222A               929 I1          XOR     R2,R2                           ;
23127 00004770                    930 I1  FUL_CLS_OBJPLSCK_050:                           ;
23128                             931 I1          SUB_END
23129                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23130 00004770 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23131                             932 I1          M_RTS
23132 00004772 000B                   M           RTS                             ;RTSの後ろの
23133 00004774 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23134                             933 I1  
23135                             934 I1  
23136                             935 I1  
23137                             936 I1  ;       ***********************************
23138                             937 I1  ;       ***                             ***
23139                             938 I1  ;       ***     目標位置→LENGTH        ***
23140                             939 I1  ;       ***                             ***
23141                             940 I1  ;       ***********************************
23142                             941 I1  ;       Input R1,R2(目標位置)
23143                             942 I1  ;       Output R1,R2
23144                             943 I1          .IMPORT _POSCHG_LINK_ABSPLS_ROTNUM_OFSPLS
23145                                 I1  ***** BEGIN-POOL *****
23146 00004776 0000                   I1  ALIGNMENT CODE
23147 00004778 00000000               I1  DATA FOR SOURCE-LINE 919
23148 0000477C 00000000               I1  DATA FOR SOURCE-LINE 923
23149                                 I1  ***** END-POOL *****
23150 00004780                    944 I1  _FUL_CLS_LENGH_ADD_CALC:
23151                             945 I1          SUB_START
23152 00004780 4F22                   M           STS.L   PR,@-R15                ;[必要]
23153                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23154                             946 I1  
23155 00004782 D512               947 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R5 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
23156 00004784 2512               948 I1          MOV.L   R1,@R5                                          ;
23157 00004786 1521               949 I1          MOV.L   R2,@(4,R5)                                      ;絶対目標位置
23158                             950 I1  
23159                             951 I1  ;       == ﾛｯﾄﾃﾞｰﾀを取り除く==                                  ;
23160                             952 I1          FAR_JSR #_POSCHG_LINK_ABSPLS_ROTNUM_OFSPLS,R0           ;R1,R2+/-回転数 余りパルス
                                          (符号つき)
23161 00004788 D011                   M           MOV.L   #_POSCHG_LINK_ABSPLS_ROTNUM_OFSPLS,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23162 0000478A 400B                   M           JSR     @R0                     ;
23163 0000478C 0009                   M           NOP                                     ;
23164 0000478E 6233               953 I1          MOV     R3,R2                                           ;ﾊﾟﾙｽ
23165 00004790 4211               954 I1          CMP/PZ  R2                                              ;
23166 00004792 8905               955 I1          BT      FULCLS_LNG_ADD_CAL200                           ;
23167 00004794 D10F               956 I1          MOV.L   #_LINK_1ROT_PLS,R1                              ;<待機点340度   目標30度 3
                                          0-340+360>
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   304
PROGRAM NAME =

23168 00004796 6412               957 I1          MOV.L   @R1,R4                                          ;               <30>
23169 00004798 324C               958 I1          ADD     R4,R2                                           ;
23170 0000479A 4211               959 I1          CMP/PZ  R2                                              ;
23171 0000479C 8900               960 I1          BT      FULCLS_LNG_ADD_CAL200                           ;
23172 0000479E 222A               961 I1          XOR     R2,R2                                           ;"演算誤差0":ありえないは
                                          ず?BREAK CHEAK
23173 000047A0                    962 I1  FULCLS_LNG_ADD_CAL200:                                          ;
23174                             963 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0
23175 000047A0 D00D                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23176 000047A2 400B                   M           JSR     @R0                     ;
23177 000047A4 0009                   M           NOP                                     ;
23178                             964 I1          PUSH_REG1 R2
23179 000047A6 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
23180                                 M                                           ;REG=>[SP]
23181                                 M                                           ;"-4" FF,FF,FF,FC
23182 000047A8 D40C               965 I1          MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R4                   ;//余り角度 +ﾃﾞｰﾀ
23183 000047AA 6242               966 I1          MOV.L   @R4,R2                                          ;
23184                             967 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0         ;
23185 000047AC D00A                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23186 000047AE 400B                   M           JSR     @R0                     ;
23187 000047B0 0009                   M           NOP                                     ;
23188 000047B2 6323               968 I1          MOV     R2,R3                           ;
23189                             969 I1          POP_REG1 R2                             ;
23190                                 M                                   ; RE"+4" 00,00,00,04
23191 000047B4 62F6                   M           MOV.L   @R15+,R2        ;
23192                             970 I1  ;       ==== 運転方向(CW/CCW)==
23193 000047B6 D10A               971 I1          MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
23194 000047B8 6411               972 I1          MOV.W   @R1,R4                          ;ﾀｲﾏLOAD
23195 000047BA 74FF               973 I1          ADD     #-1,R4                          ;
23196 000047BC 4408               974 I1          SHLL2   R4                              ;
23197 000047BE D009               975 I1          MOV.L   #_CPOS_SDAT1_INF1,R0            ;
23198 000047C0 004E               976 I1          MOV.L   @(R0,R4),R0                     ;BIT1=0 CW
23199 000047C2 C802               977 I1          TST     #BIT1,R0                        ;
23200                             978 I1          TST_BIT_ON FULCLS_LNG_ADD_CAL300        ;
23201 000047C4 8B10                   M           BF      FULCLS_LNG_ADD_CAL300
23202                             979 I1  ;       ====== 正転運転 ===
23203 000047C6 3238               980 I1          SUB     R3,R2                           ;
23204                             981 I1  ;;      CMP/PZ  R2                              ;
23205                             982 I1  ;;      BT      FULCLS_LNG_ADD_CAL250           ;
23206                             983 I1  ;;      MOV.L   #_LINK_1ROT_PLS,R1              ;
23207                             984 I1  ;;      MOV.L   @R1,R4                          ;
23208                             985 I1  ;;      ADD     R4,R2                           ;
23209                             986 I1  ;;FULCLS_LNG_ADD_CAL250:                                ;
23210                             987 I1          M_BRA   FULCLS_LNG_ADD_CAL400           ;
23211 000047C8 A00F                   M           BRA     FULCLS_LNG_ADD_CAL400
23212 000047CA 0009                   M           NOP
23213                             988 I1  
23214                                 I1  ***** BEGIN-POOL *****
23215 000047CC 00000000               I1  DATA FOR SOURCE-LINE 947
23216 000047D0 00000000               I1  DATA FOR SOURCE-LINE 952
23217 000047D4 00000000               I1  DATA FOR SOURCE-LINE 956
23218 000047D8 00000000               I1  DATA FOR SOURCE-LINE 963,967
23219 000047DC 00000000               I1  DATA FOR SOURCE-LINE 965
23220 000047E0 00000000               I1  DATA FOR SOURCE-LINE 971
23221 000047E4 00000000               I1  DATA FOR SOURCE-LINE 975
23222                                 I1  ***** END-POOL *****
23223 000047E8                    989 I1  FULCLS_LNG_ADD_CAL300:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   305
PROGRAM NAME =

23224                             990 I1  ;       ====== 逆転運転 ===
23225 000047E8 3238               991 I1          SUB     R3,R2                           ;
23226                             992 I1  ;;      CMP/PL  R2                              ;
23227                             993 I1  ;;      BF      FULCLS_LNG_ADD_CAL350           ;
23228                             994 I1  ;;      MOV.L   #_LINK_1ROT_PLS,R1              ;
23229                             995 I1  ;;      MOV.L   @R1,R4                          ;
23230                             996 I1  ;;      SUB     R4,R2                           ;
23231                             997 I1  ;;FULCLS_LNG_ADD_CAL350:
23232                             998 I1  ;;      NOP
23233 000047EA                    999 I1  FULCLS_LNG_ADD_CAL400:
23234 000047EA 211A              1000 I1          XOR     R1,R1                                           ;
23235 000047EC 4211              1001 I1          CMP/PZ  R2                                              ;
23236 000047EE 8900              1002 I1          BT      FULCLS_LNG_ADD_CAL450                           ;
23237 000047F0 71FF              1003 I1          ADD     #-1,R1                                          ;
23238 000047F2                   1004 I1  FULCLS_LNG_ADD_CAL450:
23239                            1005 I1  
23240                            1006 I1  ;       ====== 差分======
23241 000047F2 D403              1007 I1          MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
23242 000047F4 2412              1008 I1          MOV.L   R1,@R4                          ;
23243 000047F6 1421              1009 I1          MOV.L   R2,@(4,R4)                      ;
23244                            1010 I1          SUB_END
23245                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23246 000047F8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23247                            1011 I1          M_RTS
23248 000047FA 000B                   M           RTS                             ;RTSの後ろの
23249 000047FC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23250                            1012 I1  
23251                            1013 I1  
23252                            1014 I1          .EXPORT _FUL_DATA_INIT  ;USED R1,R0
23253                                 I1  ***** BEGIN-POOL *****
23254 000047FE 0000                   I1  ALIGNMENT CODE
23255 00004800 00000000               I1  DATA FOR SOURCE-LINE 1007
23256                                 I1  ***** END-POOL *****
23257 00004804                   1015 I1  _FUL_DATA_INIT:
23258                            1016 I1          SUB_START
23259 00004804 4F22                   M           STS.L   PR,@-R15                ;[必要]
23260                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23261 00004806 D103              1017 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
23262 00004808 200A              1018 I1          XOR     R0,R0                                   ;
23263 0000480A 2101              1019 I1          MOV.W   R0,@R1                                  ;
23264                            1020 I1          SUB_END
23265                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23266 0000480C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23267                            1021 I1          M_RTS
23268 0000480E 000B                   M           RTS                             ;RTSの後ろの
23269 00004810 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23270                            1022 I1  
23271                            1023 I1  
23272                            1024 I1  ;       ***********************************
23273                            1025 I1  ;       ***                             ***
23274                            1026 I1  ;       ***********************************
23275                            1027 I1  ;
23276                            1028 I1  ;       Input R6:PV
23277                            1029 I1  ;       Input R7:SV
23278                            1030 I1  ;
23279                            1031 I1  ;       Input R3:ｲﾝﾁﾝｸﾞ量
23280                            1032 I1  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   306
PROGRAM NAME =

23281                                 I1  ***** BEGIN-POOL *****
23282 00004812 0000                   I1  ALIGNMENT CODE
23283 00004814 00000000               I1  DATA FOR SOURCE-LINE 1017
23284                                 I1  ***** END-POOL *****
23285 00004818                   1033 I1  _FUL_PLS_START:
23286                            1034 I1          SUB_START
23287 00004818 4F22                   M           STS.L   PR,@-R15                ;[必要]
23288                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23289                            1035 I1          PUSH_REG1 R3
23290 0000481A 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
23291                                 M                                           ;REG=>[SP]
23292                                 M                                           ;"-4" FF,FF,FF,FC
23293                            1036 I1          FAR_JSR #_POS_LSI_WORK_STOP2,R0
23294 0000481C D014                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23295 0000481E 400B                   M           JSR     @R0                     ;
23296 00004820 0009                   M           NOP                                     ;
23297                            1037 I1  
23298                            1038 I1          FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
23299 00004822 D014                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23300 00004824 400B                   M           JSR     @R0                     ;
23301 00004826 0009                   M           NOP                                     ;
23302                            1039 I1  
23303                            1040 I1  ;       ------2015-03-15
23304                            1041 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
23305                            1042 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
23306 00004828 D013                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23307 0000482A 400B                   M           JSR     @R0                     ;
23308 0000482C 0009                   M           NOP                                     ;
23309                            1043 C           FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;R7=100,R6=90 OBJ=100KN PV=90KN
23310 0000482E D013                   M           MOV.L   #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23311 00004830 400B                   M           JSR     @R0                     ;
23312 00004832 0009                   M           NOP                                     ;
23313                            1044             .AELSE
23314                            1045             FAR_JSR #_POS_CLS_TYP1_PROC_CHK,R0                              ;(目標位置､実測位
                                          置作成)
23315                            1046             .AENDI
23316                            1047 I1  
23317                            1048 I1          POP_REG1 R3
23318                                 M                                   ; RE"+4" 00,00,00,04
23319 00004834 63F6                   M           MOV.L   @R15+,R3        ;
23320 00004836 D412              1049 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                           ;
23321 00004838 6041              1050 I1          MOV.W   @R4,R0
23322 0000483A C9FE              1051 I1          AND     #LOW ~BIT0,R0                           ;
23323 0000483C 6273              1052 I1          MOV     R7,R2                                   ;R7:SV R6:PV
23324 0000483E 3268              1053 I1          SUB     R6,R2                                   ;SV_-PV_RNA(偏差)
23325 00004840 4211              1054 I1          CMP/PZ  R2                                      ;
23326 00004842 8900              1055 I1          BT      FUL_PLS_ST120
23327 00004844 CB01              1056 I1          OR      #BIT0,R0                                ;
23328 00004846                   1057 I1  FUL_PLS_ST120:                                          ;
23329 00004846 2401              1058 I1          MOV.W   R0,@R4                                  ;方向作成
23330 00004848 211A              1059 I1          XOR     R1,R1                                   ;R1,R2(絶対ﾊﾟﾙｽ)
23331 0000484A 6233              1060 I1          MOV     R3,R2                                   ;
23332                            1061 I1          FAR_JSR #_CLS_POS_LENGTH_ADD_DATA,R0            ;
23333 0000484C D00D                   M           MOV.L   #_CLS_POS_LENGTH_ADD_DATA,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23334 0000484E 400B                   M           JSR     @R0                     ;
23335 00004850 0009                   M           NOP                                     ;
23336                            1062 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   307
PROGRAM NAME =

23337 00004852 D00D                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23338 00004854 400B                   M           JSR     @R0                     ;
23339 00004856 0009                   M           NOP                                     ;
23340                            1063 I1          FAR_JSR #_FWD_REV_START,R1                      ;起動
23341 00004858 D10C                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23342 0000485A 410B                   M           JSR     @R1                     ;
23343 0000485C 0009                   M           NOP                                     ;
23344 0000485E 0009              1064 I1          NOP
23345 00004860 0009              1065 I1          NOP
23346 00004862 0009              1066 I1          NOP
23347                            1067 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
23348 00004864 D00A                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23349 00004866 400B                   M           JSR     @R0                     ;
23350 00004868 0009                   M           NOP                                     ;
23351                            1068 I1          SUB_END
23352                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23353 0000486A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23354                            1069 I1          M_RTS
23355 0000486C 000B                   M           RTS                             ;RTSの後ろの
23356 0000486E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23357                            1070 I1  
23358                            1071 I1  
23359                            1072 I1  ;       ***********************************
23360                            1073 I1  ;       ***                             ***
23361                            1074 I1  ;       ***     2013-04-14              ***
23362                            1075 I1  ;       ***     (速度継続中のみCALL)    ***
23363                            1076 I1  ;       ***                             ***
23364                            1077 I1  ;       ***********************************
23365                            1078 I1  ;       位置１　停止位置２　手前にした結果　手前位置＜位置１＜位置２の場合、位置１の手前で
                                          停止する
23366                            1079 I1  ;       ANS     R0=1:切替必要
23367                            1080 I1  ;       ANS     R2=X:切替行程
23368                                 I1  ***** BEGIN-POOL *****
23369 00004870 00000000               I1  DATA FOR SOURCE-LINE 1036
23370 00004874 00000000               I1  DATA FOR SOURCE-LINE 1038
23371 00004878 00000000               I1  DATA FOR SOURCE-LINE 1042
23372 0000487C 00000000               I1  DATA FOR SOURCE-LINE 1043
23373 00004880 00000000               I1  DATA FOR SOURCE-LINE 1049
23374 00004884 00000000               I1  DATA FOR SOURCE-LINE 1061
23375 00004888 00000000               I1  DATA FOR SOURCE-LINE 1062
23376 0000488C 00000000               I1  DATA FOR SOURCE-LINE 1063
23377 00004890 00000000               I1  DATA FOR SOURCE-LINE 1067
23378                                 I1  ***** END-POOL *****
23379 00004894                   1081 I1  _REV_BEFORE_CHGKOUTEICHK:
23380                            1082 I1          SUB_START
23381 00004894 4F22                   M           STS.L   PR,@-R15                ;[必要]
23382                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23383                            1083 I1          PUSH_REG1 R5
23384 00004896 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
23385                                 M                                           ;REG=>[SP]
23386                                 M                                           ;"-4" FF,FF,FF,FC
23387                            1084 I1          PUSH_REG1 R9
23388 00004898 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
23389                                 M                                           ;REG=>[SP]
23390                                 M                                           ;"-4" FF,FF,FF,FC
23391                            1085 I1          PUSH_REG1 R11
23392 0000489A 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   308
PROGRAM NAME =

23393                                 M                                           ;REG=>[SP]
23394                                 M                                           ;"-4" FF,FF,FF,FC
23395                            1086 I1  
23396 0000489C DB0F              1087 I1          MOV.L   #_INT_POS_CTL_STEP,R11                                  ;//内部制御工程1~1
                                          1
23397 0000489E 69B1              1088 I1          MOV.W   @R11,R9                                                 ;ﾀｲﾏLOAD
23398 000048A0 6593              1089 I1          MOV     R9,R5                                                   ;
23399 000048A2 75FF              1090 I1          ADD     #-1,R5                                                  ;
23400 000048A4 4508              1091 I1          SHLL2   R5                                                      ;
23401 000048A6 6253              1092 I1          MOV     R5,R2
23402 000048A8 4200              1093 I1          SHLL    R2
23403 000048AA D00D              1094 I1          MOV.L   #_CPOS_SDAT1_CHGAPOS,R0                                 ;
23404 000048AC 302C              1095 I1          ADD     R2,R0
23405 000048AE 6106              1096 I1          MOV.L   @R0+,R1                                                 ;位置
23406 000048B0 6202              1097 I1          MOV.L   @R0,R2                                                  ;
23407                            1098 I1  
23408 000048B2 255A              1099 I1          XOR     R5,R5                                                   ;
23409 000048B4 D40B              1100 I1          MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R4                             ;//目標−手前
23410 000048B6 6642              1101 I1          MOV.L   @R4,R6                                                  ;
23411 000048B8 7601              1102 I1          ADD     #D'1,R6                                         ;
23412                            1103 I1  
23413                            1104 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
23414 000048BA 0008                   M           CLRT
23415 000048BC 326A                   M           SUBC    R6,R2
23416 000048BE 315A                   M           SUBC    R5,R1
23417                            1105 I1  
23418 000048C0 D409              1106 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
23419 000048C2 6546              1107 I1          MOV.L   @R4+,R5                                                 ;
23420 000048C4 6642              1108 I1          MOV.L   @R4,R6                                                  ;R5,R6 実測位置-->
                                          目標位置
23421                            1109 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
23422 000048C6 0008                   M           CLRT
23423 000048C8 326A                   M           SUBC    R6,R2
23424 000048CA 315A                   M           SUBC    R5,R1
23425                            1110 I1  
23426 000048CC 4111              1111 I1          CMP/PZ  R1
23427 000048CE 8B0E              1112 I1          BF      REV_BEFORE_CHGKOUTEICK100                               ;"-" 過ぎた
23428                            1113 I1  
23429 000048D0 6013              1114 I1          MOV     R1,R0
23430 000048D2 202B              1115 I1          OR      R2,R0
23431 000048D4 2008              1116 I1          TST     R0,R0
23432                            1117 I1          TST_BIT_OF REV_BEFORE_CHGKOUTEICK090                            ;
23433 000048D6 8909                   M           BT      REV_BEFORE_CHGKOUTEICK090
23434                            1118 I1          M_BRA   REV_BEFORE_CHGKOUTEICK300                               ;
23435 000048D8 A016                   M           BRA     REV_BEFORE_CHGKOUTEICK300
23436 000048DA 0009                   M           NOP
23437                            1119 I1  
23438                                 I1  ***** BEGIN-POOL *****
23439 000048DC 00000000               I1  DATA FOR SOURCE-LINE 1087
23440 000048E0 00000000               I1  DATA FOR SOURCE-LINE 1094
23441 000048E4 00000000               I1  DATA FOR SOURCE-LINE 1100
23442 000048E8 00000000               I1  DATA FOR SOURCE-LINE 1106
23443                                 I1  ***** END-POOL *****
23444 000048EC                   1120 I1  REV_BEFORE_CHGKOUTEICK090:
23445 000048EC 0009              1121 I1          NOP
23446 000048EE                   1122 I1  REV_BEFORE_CHGKOUTEICK100:
23447 000048EE 6093              1123 I1          MOV     R9,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   309
PROGRAM NAME =

23448 000048F0 70FF              1124 I1          ADD     #-1,R0                          ;
23449 000048F2 4008              1125 I1          SHLL2   R0
23450 000048F4 D103              1126 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1         ;
23451 000048F6 021E              1127 I1          MOV.L   @(R0,R1),R2                     ;現状の工程の目標工程
23452 000048F8 3922              1128 I1          CMP/HS  R2,R9                           ;
23453 000048FA 8905              1129 I1          BT      REV_BEFORE_CHGKOUTEICK300       ;すでにこの行程
23454                            1130 I1  
23455 000048FC                   1131 I1  REV_BEFORE_CHGKOUTEICK200:
23456 000048FC E001              1132 I1          MOV.B   #1,R0                           ;ANS R2,R0
23457                            1133 I1          M_BRA   REV_BEFORE_CHGKOUTEICK400
23458 000048FE A004                   M           BRA     REV_BEFORE_CHGKOUTEICK400
23459 00004900 0009                   M           NOP
23460                            1134 I1  
23461                                 I1  ***** BEGIN-POOL *****
23462 00004902 0000                   I1  ALIGNMENT CODE
23463 00004904 00000000               I1  DATA FOR SOURCE-LINE 1126
23464                                 I1  ***** END-POOL *****
23465 00004908                   1135 I1  REV_BEFORE_CHGKOUTEICK300:
23466 00004908 200A              1136 I1          XOR     R0,R0
23467 0000490A                   1137 I1  REV_BEFORE_CHGKOUTEICK400:
23468                            1138 I1  
23469                            1139 I1          POP_REG1 R11
23470                                 M                                   ; RE"+4" 00,00,00,04
23471 0000490A 6BF6                   M           MOV.L   @R15+,R11        ;
23472                            1140 I1          POP_REG1 R9
23473                                 M                                   ; RE"+4" 00,00,00,04
23474 0000490C 69F6                   M           MOV.L   @R15+,R9        ;
23475                            1141 I1          POP_REG1 R5
23476                                 M                                   ; RE"+4" 00,00,00,04
23477 0000490E 65F6                   M           MOV.L   @R15+,R5        ;
23478                            1142 I1  
23479                            1143 I1          SUB_END
23480                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23481 00004910 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23482                            1144 I1          M_RTS
23483 00004912 000B                   M           RTS                             ;RTSの後ろの
23484 00004914 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23485                            1145 I1  
23486                            1146 I1  
23487                            1147 I1  ;       *******************************************
23488                            1148 I1  ;       ***                                     ***
23489                            1149 I1  ;       ***                                     ***
23490                            1150 I1  ;       ***                                     ***
23491                            1151 I1  ;       ***                                     ***
23492                            1152 I1  ;       ****            荷重−位置変換          ***
23493                            1153 I1  ;       ***                                     ***
23494                            1154 I1  ;       ***                                     ***
23495                            1155 I1  ;       ***                                     ***
23496                            1156 I1  ;       ***                                     ***
23497                            1157 I1  ;       *******************************************
23498                            1158 I1  ;       INPUT
23499                            1159 I1  ;       INPUT
23500                            1160 I1  ;       OUTPUT
23501                            1161 I1          .IMPORT _SVP_ORGRUP_DEG         ;原点右区間上[荷重ﾃﾞﾊﾞｯｸ]KN
23502                            1162 I1          .IMPORT _SVP_ORGRDN_DEG         ;原点右区間下[荷重ﾃﾞﾊﾞｯｸ]PLS
23503                            1163 I1          .IMPORT _SVP_ORGLUP_DEG         ;原点左区間上[荷重ﾃﾞﾊﾞｯｸ]KN
23504                            1164 I1          .IMPORT _SVP_ORGLDN_DEG         ;原点左区間下[荷重ﾃﾞﾊﾞｯｸ]PLS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   310
PROGRAM NAME =

23505                            1165 I1  
23506                            1166 I1  
23507                            1167 I1  
23508                            1168 I1  _SVPX_KTBL_MIN_KN       .DEFINE         "_SVP_ORGRUP_DEG"
23509                            1169 I1  _SVPX_KTBL_MIN_PLS      .DEFINE         "_SVP_ORGLUP_DEG"
23510                            1170 I1  
23511                            1171 I1  _SVPX_KTBL_MAX_KN       .DEFINE         "_SVP_ORGRDN_DEG"
23512                            1172 I1  _SVPX_KTBL_MAX_PLS      .DEFINE         "_SVP_ORGLDN_DEG"
23513                            1173 I1  
23514                            1174 I1  ;       R3:Yn_1         R5:Xn_1
23515                            1175 I1  ;       R2:Yn           R4:Xn
23516                            1176 I1  ;       ANS:R2=y        R1:x
23517                            1177 I1  ;       limit R6(Yn)
23518                            1178 I1  
23519 00004916                   1179 I1  _CLS_KJYU_PLS_CHANGE
23520                            1180 I1          SUB_START
23521 00004916 4F22                   M           STS.L   PR,@-R15                ;[必要]
23522                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23523                            1181 I1  
23524 00004918 D105              1182 I1          MOV.L   #_KJYUCLS_OBJ_KN,R1             ;//その行程のターゲット
23525 0000491A 6212              1183 I1          MOV.L   @R1,R2                          ;
23526 0000491C D105              1184 I1          MOV.L   #_W4_PV_CTL_KJYU_TTL_P,R1       ;//制御値=ﾌｨﾙﾀ値予定
23527 0000491E 6012              1185 I1          MOV.L   @R1,R0                          ;荷重実測
23528 00004920 3208              1186 I1          SUB     R0,R2                           ;
23529 00004922 D105              1187 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1           ;//荷重の偏差
23530 00004924 2122              1188 I1          MOV.L   R2,@R1                          ;
23531                            1189 I1  
23532                            1190 I1  ;       ------KN->PLS換算は不要 KN=PLSにしてしますためコメントにする
23533 00004926 D105              1191 I1          MOV.L   #_KJYUCLS_KN_HENSA_PLS,R1       ;//荷重の偏差相当のパルス
23534 00004928 2122              1192 I1          MOV.L   R2,@R1                          ;PLS="+":もっと正転していい
23535                            1193 I1  
23536                            1194 I1          SUB_END
23537                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23538 0000492A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23539                            1195 I1          M_RTS
23540 0000492C 000B                   M           RTS                             ;RTSの後ろの
23541 0000492E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23542                            1196 I1  
23543                            1197 I1  
23544                            1198 I1  
23545                            1199 I1  
23546                            1200 I1  ;;      FAR_JSR #_POS_CLS_TYP1_PROC_CHK,R0                              ;(目標位置､実測位
                                          置作成)
23547                            1201 I1  ;;              @この段でフルクロを行うかどうか R0=0　しない R0 != フルクロする
23548                            1202 I1  ;;              AR6:目標停止位置[PLS],R7リニアの実測位置[PLS] 1回転上のオフセットパルス
23549                            1203 I1  ;;
23550                            1204 I1  ;;      FAR_JSR #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0                       ;ANS R0,R6(ﾘﾆｱ実測
                                          ﾊﾟﾙｽ),R7(1回転内目標ﾊﾟﾙｽ)
23551                            1205 I1  ;;              @ニアゼロの範囲内 R0=0, ＋側へオーバR0=1,-側へオーバR0=-1
23552                            1206 I1  ;;               CPUBはCPUAがニアゼロならニアＺロと認識
23553                            1207 I1  
23554                            1208 I1  ;       *******************************************
23555                            1209 I1  ;       ***                                     ***
23556                            1210 I1  ;       ***     ﾌﾙｸﾛｰｽﾞを行う段数かチェック     ***
23557                            1211 I1  ;       ***     [ﾘﾆｱ・荷重切替]                 ***
23558                            1212 I1  ;       *******************************************
23559                            1213 I1  ;       最終段の場合はﾌﾙｸﾛｰｽﾞしない。このソフトの上で見ている
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   311
PROGRAM NAME =

23560                            1214 I1  ;       input INT_POS_CTL_STEP,CPOS_SDAT1_CNTSTEP
23561                            1215 I1  ;       ANS R0:0 ﾌﾙｸﾛｰｽﾞしない
23562                            1216 I1  ;             :0以外 ﾌﾙｸﾛｰｽﾞする
23563                            1217 I1  ;       ANS R5:この行程の停止行程
23564                            1218 I1  ;[_POS_CLS_START_CONFは_POS_CLS_TYP1_PROC_CHKの一部]
23565                            1219 I1  ;
23566                                 I1  ***** BEGIN-POOL *****
23567 00004930 00000000               I1  DATA FOR SOURCE-LINE 1182
23568 00004934 00000000               I1  DATA FOR SOURCE-LINE 1184
23569 00004938 00000000               I1  DATA FOR SOURCE-LINE 1187
23570 0000493C 00000000               I1  DATA FOR SOURCE-LINE 1191
23571                                 I1  ***** END-POOL *****
23572 00004940                   1220 I1  _POS_CLS_START_CONF:
23573                            1221 I1          SUB_START
23574 00004940 4F22                   M           STS.L   PR,@-R15                ;[必要]
23575                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23576 00004942 D107              1222 I1          MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
23577 00004944 6011              1223 I1          MOV.W   @R1,R0                          ;
23578 00004946 6503              1224 I1          MOV     R0,R5                           ;工程PUSH
23579 00004948 70FF              1225 I1          ADD     #-1,R0                          ;
23580 0000494A 4008              1226 I1          SHLL2   R0
23581 0000494C D105              1227 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1         ;
23582 0000494E 001E              1228 I1          MOV.L   @(R0,R1),R0                     ;現状の工程の目標工程
23583 00004950 D105              1229 I1          MOV.L   #_SDATCLS_TRG_STEP,R1           ;//速度連続の最後のｽﾃｯﾌﾟ
23584 00004952 2101              1230 I1          MOV.W   R0,@R1
23585                            1231 I1  
23586 00004954 3500              1232 I1          CMP/EQ  R0,R5                           ;停止させる工程でのみﾌﾙｸﾛｰｽﾞは行う
23587 00004956 8900              1233 I1          BT      POS_CLS_START_050               ;R0=R5 ANS R5=工程,R0
23588 00004958 200A              1234 I1          XOR     R0,R0                           ;ANS MAK
23589 0000495A                   1235 I1  POS_CLS_START_050:                              ;
23590                            1236 I1  
23591                            1237 I1          SUB_END
23592                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23593 0000495A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23594                            1238 I1          M_RTS
23595 0000495C 000B                   M           RTS                             ;RTSの後ろの
23596 0000495E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23597                            1239 I1  
23598                            1240 I1  ;       ***************************************************
23599                            1241 I1  ;       ***                                             ***
23600                            1242 I1  ;       ***     目標位置(ﾊﾟﾙｽ)と制御対象実測作成        ***
23601                            1243 I1  ;       ***     [ﾘﾆｱ・荷重切替]                         ***
23602                            1244 I1  ;       ***                                             ***
23603                            1245 I1  ;       ***************************************************
23604                            1246 I1  ;       input _SDATCLS_TRG_STEP ;//速度連続の最後のｽﾃｯﾌﾟ
23605                            1247 I1  ;       ANS
23606                            1248 I1  ;       R7:目標停止位置
23607                            1249 I1  ;       R6:ﾘﾆｱ位置　または　荷重からの位置
23608                            1250 I1  ;               荷重の場合は(目標荷重-実測荷重)*K+目標位置
23609                            1251 I1  ;                               (完了幅内では+1,0,-1ﾊﾟﾙｽにする)
23610                            1252 I1  ;
23611                            1253 I1  ;[_POS_CLS_OBJPLS_PVPLS_MAKEは_POS_CLS_TYP1_PROC_CHKの一部]
23612                            1254 I1  ;
23613                            1255 I1  ;
23614                            1256 I1  ;
23615                                 I1  ***** BEGIN-POOL *****
23616 00004960 00000000               I1  DATA FOR SOURCE-LINE 1222
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   312
PROGRAM NAME =

23617 00004964 00000000               I1  DATA FOR SOURCE-LINE 1227
23618 00004968 00000000               I1  DATA FOR SOURCE-LINE 1229
23619                                 I1  ***** END-POOL *****
23620 0000496C                   1257 I1  _POS_CLS_OBJPLS_PVPLS_MAKE
23621                            1258 I1          SUB_START
23622 0000496C 4F22                   M           STS.L   PR,@-R15                ;[必要]
23623                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23624                            1259 I1  
23625 0000496E D111              1260 I1          MOV.L   #_SDATCLS_TRG_STEP,R1           ;//速度連続の最後のｽﾃｯﾌﾟ
23626 00004970 6011              1261 I1          MOV.W   @R1,R0                          ;[R5]
23627                            1262 I1  
23628 00004972 D511              1263 I1          MOV.L   #_SDATCLS_UPOBJ_PLS,R5          ;[目標位置=待機点]
23629 00004974 D111              1264 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;//設定
23630 00004976 6211              1265 I1          MOV.W   @R1,R2                          ;
23631 00004978 7201              1266 I1          ADD     #1,R2                           ;
23632 0000497A 3023              1267 I1          CMP/GE  R2,R0                           ;MAX=NOW
23633 0000497C 8903              1268 I1          BT      POS_CLS_OBJPVPLSMAK100  ;
23634                            1269 I1  
23635 0000497E D510              1270 I1          MOV.L   #_SDATCLS_OBJPLS,R5             ;[目標位置=各段設定位置]
23636 00004980 70FF              1271 I1          ADD     #-1,R0                          ;
23637 00004982 4008              1272 I1          SHLL2   R0                              ;4BYTE
23638 00004984 350C              1273 I1          ADD     R0,R5                           ;
23639 00004986                   1274 I1  POS_CLS_OBJPVPLSMAK100  ;
23640                            1275 I1  
23641 00004986 6752              1276 I1          MOV.L   @R5,R7                          ;待機点または目標位置(停止)
23642 00004988 6273              1277 I1          MOV     R7,R2
23643                            1278 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0         ;USED R0~R2(目標ﾊﾟﾙｽ+/-ﾊﾟﾙｽ変換)
23644 0000498A D00E                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23645 0000498C 400B                   M           JSR     @R0                     ;
23646 0000498E 0009                   M           NOP                                     ;
23647 00004990 6723              1279 I1          MOV     R2,R7                           ;R7:目標位置;ANS:目標位置(設定ﾚﾍﾞﾙ)
23648                            1280 I1  
23649 00004992 D40D              1281 I1          MOV.L   #_DBG_REVMOD_OBJPLS,R4          ;
23650 00004994 2422              1282 I1          MOV.L   R2,@R4                          ;ﾃﾞﾊﾞｯｸ用内部ﾃﾞｰﾀﾓﾆﾀ
23651                            1283 I1  
23652                            1284 I1  ;       ==========R7:停止目標位置============
23653 00004996 D10D              1285 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
23654 00004998 6011              1286 I1          MOV.W   @R1,R0                          ;
23655 0000499A 2008              1287 I1          TST     R0,R0                           ;
23656                            1288 I1          TST_BIT_ON POS_CLS_OBJPVPLSMAK300       ;荷重 JUMP
23657 0000499C 8B1C                   M           BF      POS_CLS_OBJPVPLSMAK300
23658                            1289 I1  
23659                            1290 I1  ;       =====   R6:リニア       ======
23660 0000499E D40C              1291 I1          MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R4   ;//余り角度 +ﾃﾞｰﾀ
23661 000049A0 6642              1292 I1          MOV.L   @R4,R6                          ;
23662 000049A2 6263              1293 I1          MOV     R6,R2                           ;
23663                            1294 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0         ;USED R0~R2(ﾘﾆｱｽｹｰﾙ==>+/-ﾊﾟﾙｽ変換)
23664 000049A4 D007                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23665 000049A6 400B                   M           JSR     @R0                     ;
23666 000049A8 0009                   M           NOP                                     ;
23667 000049AA 6623              1295 I1          MOV     R2,R6                           ;
23668 000049AC D009              1296 I1          MOV.L   #_DBG_REVMOD_CTLPLS,R0          ;
23669 000049AE 2022              1297 I1          MOV.L   R2,@R0                          ;
23670                            1298 I1          M_BRA   POS_CLS_OBJPVPLSMAK500          ;
23671 000049B0 A01C                   M           BRA     POS_CLS_OBJPVPLSMAK500
23672 000049B2 0009                   M           NOP
23673                            1299 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   313
PROGRAM NAME =

23674                            1300 I1  
23675                            1301 I1  ;       =====           荷重            ======
23676                                 I1  ***** BEGIN-POOL *****
23677 000049B4 00000000               I1  DATA FOR SOURCE-LINE 1260
23678 000049B8 00000000               I1  DATA FOR SOURCE-LINE 1263
23679 000049BC 00000000               I1  DATA FOR SOURCE-LINE 1264
23680 000049C0 00000000               I1  DATA FOR SOURCE-LINE 1270
23681 000049C4 00000000               I1  DATA FOR SOURCE-LINE 1278,1294
23682 000049C8 00000000               I1  DATA FOR SOURCE-LINE 1281
23683 000049CC 00000000               I1  DATA FOR SOURCE-LINE 1285
23684 000049D0 00000000               I1  DATA FOR SOURCE-LINE 1291
23685 000049D4 00000000               I1  DATA FOR SOURCE-LINE 1296
23686                                 I1  ***** END-POOL *****
23687 000049D8                   1302 I1  POS_CLS_OBJPVPLSMAK300:
23688                            1303 I1  ;;      S4b     KJYUCLS_OBJ_KN;         //各段の荷重目標
23689                            1304 I1  ;;      S4b     KJYUCLS_KN_HENSA;       //荷重の偏差
23690                            1305 I1  ;;      S4b     KJYUCLS_KN_HENSA_PLS;   //荷重の偏差相当のパルス
23691                            1306 I1  
23692                            1307 I1          PUSH_REG1 R7                            ;
23693 000049D8 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
23694                                 M                                           ;REG=>[SP]
23695                                 M                                           ;"-4" FF,FF,FF,FC
23696                            1308 I1          FAR_JSR #_CLS_KJYU_PLS_CHANGE,R0        ;OUTPUT R2:偏差ﾊﾟﾙｽ+/-
23697 000049DA D006                   M           MOV.L   #_CLS_KJYU_PLS_CHANGE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23698 000049DC 400B                   M           JSR     @R0                     ;
23699 000049DE 0009                   M           NOP                                     ;
23700                            1309 I1          POP_REG1 R7                             ;
23701                                 M                                   ; RE"+4" 00,00,00,04
23702 000049E0 67F6                   M           MOV.L   @R15+,R7        ;
23703                            1310 I1  
23704                            1311 I1  
23705 000049E2 2228              1312 I1          TST     R2,R2                           ;
23706                            1313 I1          TST_BIT_ON POS_CLS_OBJPVPLSMAK310       ;
23707 000049E4 8B00                   M           BF      POS_CLS_OBJPVPLSMAK310
23708                            1314 I1  
23709 000049E6 E201              1315 I1          MOV.B   #1,R2                           ;0なら1にする
23710                            1316 I1  
23711 000049E8                   1317 I1  POS_CLS_OBJPVPLSMAK310:                         ;
23712                            1318 I1                                                  ;"R2=2"
23713 000049E8 6673              1319 I1          MOV     R7,R6                           ;OBJ=100PLS
23714 000049EA 3628              1320 I1          SUB     R2,R6                           ;PV = 98PLS
23715                            1321 I1  
23716                            1322 I1  
23717                            1323 I1  
23718                            1324 I1  
23719 000049EC                   1325 I1  POS_CLS_OBJPVPLSMAK500:
23720                            1326 I1  
23721                            1327 I1          SUB_END
23722                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23723 000049EC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23724                            1328 I1          M_RTS
23725 000049EE 000B                   M           RTS                             ;RTSの後ろの
23726 000049F0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23727                            1329 I1  
23728                            1330 I1  ;       ***************************************************
23729                            1331 I1  ;       ***                                             ***
23730                            1332 I1  ;       ***     リニア　ニアゼロまたは荷重ニアゼロ      ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   314
PROGRAM NAME =

23731                            1333 I1  ;       ***                                             ***
23732                            1334 I1  ;       ***************************************************
23733                            1335 I1  ;       input   R6:ﾘﾆｱ位置
23734                            1336 I1  ;       ANS     R0:-1,0,1
23735                            1337 I1          .IMPORT _SVP_KAJOBJ_HAB ;荷重完了範囲
23736                            1338 I1  
23737                                 I1  ***** BEGIN-POOL *****
23738 000049F2 0000                   I1  ALIGNMENT CODE
23739 000049F4 00000000               I1  DATA FOR SOURCE-LINE 1308
23740                                 I1  ***** END-POOL *****
23741 000049F8                   1339 I1  _POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK:
23742                            1340 I1          SUB_START
23743 000049F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
23744                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23745                            1341 I1  
23746 000049FA D104              1342 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
23747 000049FC 6011              1343 I1          MOV.W   @R1,R0                          ;
23748 000049FE 2008              1344 I1          TST     R0,R0                           ;
23749                            1345 I1          TST_BIT_ON POS_CLS_RNA_KJYU_FIRST_NZ_CHK100     ;
23750 00004A00 8B08                   M           BF      POS_CLS_RNA_KJYU_FIRST_NZ_CHK100
23751                            1346 I1  
23752                            1347 I1          FAR_JSR #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0       ;目標位置とリニアスケールの論理は
                                          逆
23753 00004A02 D003                   M           MOV.L   #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23754 00004A04 400B                   M           JSR     @R0                     ;
23755 00004A06 0009                   M           NOP                                     ;
23756                            1348 I1          M_BRA   POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND
23757 00004A08 A011                   M           BRA     POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND
23758 00004A0A 0009                   M           NOP
23759                            1349 I1  
23760                                 I1  ***** BEGIN-POOL *****
23761 00004A0C 00000000               I1  DATA FOR SOURCE-LINE 1342
23762 00004A10 00000000               I1  DATA FOR SOURCE-LINE 1347
23763                                 I1  ***** END-POOL *****
23764 00004A14                   1350 I1  POS_CLS_RNA_KJYU_FIRST_NZ_CHK100:
23765                            1351 I1  
23766                            1352 I1          FAR_JSR #_KJYU_NEARZERO_CHK,R0          ;
23767 00004A14 D007                   M           MOV.L   #_KJYU_NEARZERO_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23768 00004A16 400B                   M           JSR     @R0                     ;
23769 00004A18 0009                   M           NOP                                     ;
23770                            1353 I1  ;       -2015-06-22
23771 00004A1A D107              1354 I1          MOV.L   #(_PAR_KAJYU_FIRST-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
23772 00004A1C 6311              1355 I1          MOV.W   @R1,R3                                                  ;
23773 00004A1E D107              1356 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差　＋：目標-実荷重:"+"まだ不足している
23774 00004A20 6212              1357 I1          MOV.L   @R1,R2                  ;"+/-"
23775 00004A22 4211              1358 I1          CMP/PZ  R2
23776 00004A24 8900              1359 I1          BT      POS_CLS_RNA_KJYU_FIRST_NZ_CHK120
23777 00004A26 622B              1360 I1          NEG     R2,R2                                   ;
23778 00004A28                   1361 I1  POS_CLS_RNA_KJYU_FIRST_NZ_CHK120                        ;
23779 00004A28 3236              1362 I1          CMP/HI  R3,R2                                   ;R3<R2
23780 00004A2A 8900              1363 I1          BT      POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND        ;
23781 00004A2C 200A              1364 I1          XOR     R0,R0                                   ;
23782                            1365 I1  
23783 00004A2E                   1366 I1  POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND:
23784                            1367 I1  
23785                            1368 I1          SUB_END
23786                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   315
PROGRAM NAME =

23787 00004A2E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23788                            1369 I1          M_RTS
23789 00004A30 000B                   M           RTS                             ;RTSの後ろの
23790 00004A32 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23791                            1370 I1  
23792                            1371 I1  
23793                            1372 I1  
23794                            1373 I1  
23795                            1374 I1  
23796                                 I1  ***** BEGIN-POOL *****
23797 00004A34 00000000               I1  DATA FOR SOURCE-LINE 1352
23798 00004A38 00000000               I1  DATA FOR SOURCE-LINE 1354
23799 00004A3C 00000000               I1  DATA FOR SOURCE-LINE 1356
23800                                 I1  ***** END-POOL *****
23801 00004A40                   1375 I1  _POS_CLS_RNA_KJYU_NZ_CHEAK:
23802                            1376 I1          SUB_START
23803 00004A40 4F22                   M           STS.L   PR,@-R15                ;[必要]
23804                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23805                            1377 I1  
23806 00004A42 D104              1378 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
23807 00004A44 6011              1379 I1          MOV.W   @R1,R0                          ;
23808 00004A46 2008              1380 I1          TST     R0,R0                           ;
23809                            1381 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK100   ;
23810 00004A48 8B08                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK100
23811                            1382 I1  
23812                            1383 I1          FAR_JSR #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0       ;目標位置とリニアスケールの論理は
                                          逆
23813 00004A4A D003                   M           MOV.L   #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23814 00004A4C 400B                   M           JSR     @R0                     ;
23815 00004A4E 0009                   M           NOP                                     ;
23816                            1384 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHKEND
23817 00004A50 A03F                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHKEND
23818 00004A52 0009                   M           NOP
23819                            1385 I1  
23820                                 I1  ***** BEGIN-POOL *****
23821 00004A54 00000000               I1  DATA FOR SOURCE-LINE 1378
23822 00004A58 00000000               I1  DATA FOR SOURCE-LINE 1383
23823                                 I1  ***** END-POOL *****
23824 00004A5C                   1386 I1  POS_CLS_RNA_KJYU_NZ_CHK100:
23825                            1387 I1  
23826                            1388 I1  ;       ---------------------------------------------------
23827                            1389 I1          .IMPORT _SEQ_DP_TOP
23828                            1390 I1  
23829 00004A5C D10C              1391 I1          MOV.L   #_CB_SEQ_CB_COM349,R1           ;[[[[[[[[[[[[
23830 00004A5E 6011              1392 I1          MOV.W   @R1,R0                          ;
23831 00004A60 9414              1393 I1          MOV.W   #BIT12,R4                       ;
23832                            1394 I1  
23833 00004A62 2048              1395 I1          TST     R4,R0                           ;
23834                            1396 I1          TST_BIT_OF POS_CLS_RNA_KJYU_NZ_CHK500   ;ﾀｲﾏ中は制御しない
23835 00004A64 8932                   M           BT      POS_CLS_RNA_KJYU_NZ_CHK500
23836                            1397 I1  
23837 00004A66 D10B              1398 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1          ;//BIT0:SET BIT1:ﾀｲﾑｱｯﾌﾟ()
23838 00004A68 6011              1399 I1          MOV.W   @R1,R0                          ;
23839 00004A6A C802              1400 I1          TST     #BIT1,R0
23840                            1401 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK400   ;
23841 00004A6C 8B1F                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK400
23842                            1402 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   316
PROGRAM NAME =

23843 00004A6E C801              1403 I1          TST     #BIT0,R0                        ;
23844                            1404 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK200   ;ﾆｱｾﾞﾛに入ったか？
23845 00004A70 8B16                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK200
23846                            1405 I1  
23847                            1406 I1          FAR_JSR #_KJYU_NEARZERO_CHK,R0          ;
23848 00004A72 D009                   M           MOV.L   #_KJYU_NEARZERO_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23849 00004A74 400B                   M           JSR     @R0                     ;
23850 00004A76 0009                   M           NOP                                     ;
23851 00004A78 2008              1407 I1          TST     R0,R0                           ;ﾆｱｾﾞﾛか?
23852                            1408 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK490   ;ﾆｱｾﾞﾛではない
23853 00004A7A 8B1F                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK490
23854                            1409 I1  
23855 00004A7C E001              1410 I1          MOV.B   #BIT0,R0                        ;
23856 00004A7E D105              1411 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1          ;
23857 00004A80 2101              1412 I1          MOV.W   R0,@R1                          ;
23858                            1413 I1  
23859                            1414 I1          FAR_JSR #_FCLS_NZ_TIM_SET,R0            ;ﾀｲﾏｾｯﾄ
23860 00004A82 D006                   M           MOV.L   #_FCLS_NZ_TIM_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23861 00004A84 400B                   M           JSR     @R0                     ;
23862 00004A86 0009                   M           NOP                                     ;
23863                            1415 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHK490      ;
23864 00004A88 A018                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHK490
23865 00004A8A 0009                   M           NOP
23866                            1416 I1  
23867                                 I1  ***** BEGIN-POOL *****
23868 00004A8C 1000                   I1  DATA FOR SOURCE-LINE 1393
23869 00004A8E 0000                   I1  ALIGNMENT CODE
23870 00004A90 00000000               I1  DATA FOR SOURCE-LINE 1391
23871 00004A94 00000000               I1  DATA FOR SOURCE-LINE 1398,1411
23872 00004A98 00000000               I1  DATA FOR SOURCE-LINE 1406
23873 00004A9C 00000000               I1  DATA FOR SOURCE-LINE 1414
23874                                 I1  ***** END-POOL *****
23875 00004AA0                   1417 I1  POS_CLS_RNA_KJYU_NZ_CHK200:
23876                            1418 I1  
23877                            1419 I1  
23878 00004AA0 D404              1420 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4            ;
23879 00004AA2 6142              1421 I1          MOV.L   @R4,R1                          ;
23880 00004AA4 2118              1422 I1          TST     R1,R1                           ;
23881                            1423 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK490   ;ﾀｲﾏ中
23882 00004AA6 8B09                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK490
23883                            1424 I1  
23884                            1425 I1  ;       --------ﾀｲﾑｱｯﾌﾟ------------
23885 00004AA8 E003              1426 I1          MOV.B   #BIT1+BIT0,R0                   ;
23886 00004AAA D103              1427 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1          ;
23887 00004AAC 2101              1428 I1          MOV.W   R0,@R1                          ;
23888                            1429 I1  
23889 00004AAE                   1430 I1  POS_CLS_RNA_KJYU_NZ_CHK400:
23890 00004AAE 200A              1431 I1          XOR     R0,R0                           ;完了
23891                            1432 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHKEND      ;
23892 00004AB0 A00F                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHKEND
23893 00004AB2 0009                   M           NOP
23894                            1433 I1  
23895                            1434 I1  
23896                                 I1  ***** BEGIN-POOL *****
23897 00004AB4 00000000               I1  DATA FOR SOURCE-LINE 1420
23898 00004AB8 00000000               I1  DATA FOR SOURCE-LINE 1427
23899                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   317
PROGRAM NAME =

23900 00004ABC                   1435 I1  POS_CLS_RNA_KJYU_NZ_CHK490:
23901                            1436 I1          FAR_JSR #_KJYU_OUT_DIRCT,R0             ;ANS R0=1(戻れ)/-1(進め)　終わらない
23902 00004ABC D002                   M           MOV.L   #_KJYU_OUT_DIRCT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23903 00004ABE 400B                   M           JSR     @R0                     ;
23904 00004AC0 0009                   M           NOP                                     ;
23905                            1437 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHKEND      ;
23906 00004AC2 A006                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHKEND
23907 00004AC4 0009                   M           NOP
23908                            1438 I1  
23909                            1439 I1  
23910                            1440 I1  ;       --------------------------------------------
23911                                 I1  ***** BEGIN-POOL *****
23912 00004AC6 0000                   I1  ALIGNMENT CODE
23913 00004AC8 00000000               I1  DATA FOR SOURCE-LINE 1436
23914                                 I1  ***** END-POOL *****
23915 00004ACC                   1441 I1  POS_CLS_RNA_KJYU_NZ_CHK500:
23916                            1442 I1  
23917                            1443 I1          FAR_JSR #_KJYU_NEARZERO_CHK,R0          ;0(完了),1(戻れ),-1(進め)
23918 00004ACC D002                   M           MOV.L   #_KJYU_NEARZERO_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23919 00004ACE 400B                   M           JSR     @R0                     ;
23920 00004AD0 0009                   M           NOP                                     ;
23921                            1444 I1  
23922 00004AD2                   1445 I1  POS_CLS_RNA_KJYU_NZ_CHKEND:
23923                            1446 I1  
23924                            1447 I1  
23925                            1448 I1          SUB_END
23926                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23927 00004AD2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23928                            1449 I1          M_RTS
23929 00004AD4 000B                   M           RTS                             ;RTSの後ろの
23930 00004AD6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23931                            1450 I1  
23932                            1451 I1  
23933                            1452 I1  
23934                            1453 I1  ;       *******************************************
23935                            1454 I1  ;       ***                                     ***
23936                            1455 I1  ;       ***     ユーザ設定荷重完了範囲との比較  ***
23937                            1456 I1  ;       ***                                     ***
23938                            1457 I1  ;       *******************************************
23939                                 I1  ***** BEGIN-POOL *****
23940 00004AD8 00000000               I1  DATA FOR SOURCE-LINE 1443
23941                                 I1  ***** END-POOL *****
23942 00004ADC                   1458 I1  _KJYU_NEARZERO_CHK:
23943                            1459 I1          SUB_START
23944 00004ADC 4F22                   M           STS.L   PR,@-R15                ;[必要]
23945                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23946                            1460 I1  
23947 00004ADE D108              1461 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差　＋：目標-実荷重:"+"まだ不足している
23948 00004AE0 6212              1462 I1          MOV.L   @R1,R2                  ;"+/-"
23949                            1463 I1  
23950 00004AE2 D108              1464 I1          MOV.L   #_SVP_KAJOBJ_HAB,R1     ;荷重完了範囲
23951 00004AE4 6311              1465 I1          MOV.W   @R1,R3                  ;
23952                            1466 I1  
23953 00004AE6 643B              1467 I1          NEG     R3,R4                   ;-R4~+R3
23954                            1468 I1  
23955 00004AE8 E0FF              1469 I1          MOV.B   #-1,R0                          ;手前だ
23956 00004AEA 3237              1470 I1          CMP/GT  R3,R2                           ;R3<R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   318
PROGRAM NAME =

23957 00004AEC 8903              1471 I1          BT      KJYU_NEARZERO_CK200             ;まだ荷重が上がっていない
23958                            1472 I1  
23959 00004AEE 200A              1473 I1          XOR     R0,R0                           ;範囲内
23960 00004AF0 3243              1474 I1          CMP/GE  R4,R2                           ;
23961 00004AF2 8900              1475 I1          BT      KJYU_NEARZERO_CK200             ;
23962 00004AF4 E001              1476 I1          MOV.B   #1,R0                           ;
23963 00004AF6                   1477 I1  KJYU_NEARZERO_CK200:
23964                            1478 I1  
23965 00004AF6 D104              1479 I1          MOV.L   #_KJYU_CHK_NEARSIG,R1   ;-1:まだ不足(進め) 1:荷重オーバ(戻れ)
23966 00004AF8 2101              1480 I1          MOV.W   R0,@R1                  ;
23967                            1481 I1  
23968                            1482 I1          SUB_END
23969                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23970 00004AFA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23971                            1483 I1          M_RTS
23972 00004AFC 000B                   M           RTS                             ;RTSの後ろの
23973 00004AFE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23974                            1484 I1  ;       ***************************************************
23975                            1485 I1  ;       ***                                             ***
23976                            1486 I1  ;       ***     ユーザ設定荷重完了範囲-シスパラとの比較 ***
23977                            1487 I1  ;       ***     [2015-03-15]                            ***
23978                            1488 I1  ;       ***************************************************
23979                            1489 I1  ;;;;;;;;;;_KJYU_NEARZERO2_CHK:
23980                            1490 I1  ;;;;;;;;;;      SUB_START
23981                            1491 I1  ;;;;;;;;;;
23982                            1492 I1  ;;;;;;;;;;      MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差　＋：目標-実荷重:"+"まだ不足
                                          している
23983                            1493 I1  ;;;;;;;;;;      MOV.L   @R1,R2                  ;"+/-"
23984                            1494 I1  ;;;;;;;;;;
23985                            1495 I1  ;;;;;;;;;;      MOV.L   #_SVP_KAJOBJ_HAB,R1     ;荷重完了範囲
23986                            1496 I1  ;;;;;;;;;;      MOV.W   @R1,R3                  ;
23987                            1497 I1  ;;;;;;;;;;
23988                            1498 I1  ;;;;;;;;;;      MOV.L   #(_PAR_KAJYU_CHGARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
23989                            1499 I1  ;;;;;;;;;;      MOV.W   @R1,R0                                                  ;
23990                            1500 I1  ;;;;;;;;;;      SUB     R0,R3                                                   ;
23991                            1501 I1  ;;;;;;;;;;      CMP/PL  R0                                                      ;
23992                            1502 I1  ;;;;;;;;;;      BT      KJYU_NEARZERO2_CK100                                    ;R0=
23993                            1503 I1  ;;;;;;;;;;
23994                            1504 I1  ;;;;;;;;;;      XOR     R0,R0                                                   ;荷重範囲
                                          内(設定が荷重いつでも荷重到達になる)
23995                            1505 I1  ;;;;;;;;;;      M_BRA   KJYU_NEARZERO2_CK200                                    ;
23996                            1506 I1  ;;;;;;;;;;
23997                            1507 I1  ;;;;;;;;;;KJYU_NEARZERO2_CK100                                                  ;
23998                            1508 I1  ;;;;;;;;;;
23999                            1509 I1  ;;;;;;;;;;      NEG     R3,R4                   ;-R4~+R3
24000                            1510 I1  ;;;;;;;;;;
24001                            1511 I1  ;;;;;;;;;;      MOV.B   #-1,R0                          ;手前だ
24002                            1512 I1  ;;;;;;;;;;      CMP/GT  R3,R2                           ;R3<R2
24003                            1513 I1  ;;;;;;;;;;      BT      KJYU_NEARZERO2_CK200            ;まだ荷重が上がっていない
24004                            1514 I1  ;;;;;;;;;;
24005                            1515 I1  ;;;;;;;;;;      XOR     R0,R0                           ;範囲内
24006                            1516 I1  ;;;;;;;;;;      CMP/GE  R4,R2                           ;
24007                            1517 I1  ;;;;;;;;;;      BT      KJYU_NEARZERO2_CK200            ;
24008                            1518 I1  ;;;;;;;;;;      MOV.B   #1,R0                           ;
24009                            1519 I1  ;;;;;;;;;;KJYU_NEARZERO2_CK200:
24010                            1520 I1  ;;;;;;;;;;
24011                            1521 I1  ;;;;;;;;;;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   319
PROGRAM NAME =

24012                            1522 I1  ;;;;;;;;;;      SUB_END
24013                            1523 I1  ;;;;;;;;;;      M_RTS
24014                            1524 I1  
24015                            1525 I1  
24016                            1526 I1  ;;;     R0=0 範囲内
24017                            1527 I1  ;;;     R0=1:荷重ｵｰﾊﾞ,R0=-1荷重不足
24018                            1528 I1  ;;;     MOV.L   #_KJYU_CHK_NEARSIG,R1   ;-1:まだ不足(進め) 1:荷重オーバ(戻れ)
24019                            1529 I1  ;;;     MOV.W   R0,@R1                  ;
24020                            1530 I1  
24021                            1531 I1  
24022                            1532 I1  ;       ***************************************************
24023                            1533 I1  ;       ***                                             ***
24024                            1534 I1  ;       ***     各種荷重範囲比較                        ***
24025                            1535 I1  ;       ***     2015-06-11                              ***
24026                            1536 I1  ;       ***************************************************
24027                                 I1  ***** BEGIN-POOL *****
24028 00004B00 00000000               I1  DATA FOR SOURCE-LINE 1461
24029 00004B04 00000000               I1  DATA FOR SOURCE-LINE 1464
24030 00004B08 00000000               I1  DATA FOR SOURCE-LINE 1479
24031                                 I1  ***** END-POOL *****
24032 00004B0C                   1537 I1  _KJYU_NEARZERO3_CHK:
24033                            1538 I1          SUB_START
24034 00004B0C 4F22                   M           STS.L   PR,@-R15                ;[必要]
24035                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24036                            1539 I1  
24037 00004B0E D10C              1540 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1                                   ;//荷重の偏差　＋
                                          ：目標-実荷重:"+"まだ不足している
24038 00004B10 6212              1541 I1          MOV.L   @R1,R2                                                  ;"+/-"
24039 00004B12 4211              1542 I1          CMP/PZ  R2                                                      ;
24040 00004B14 8900              1543 I1          BT      KJYU_NEARZERO3CHK_100                                   ;
24041 00004B16 622B              1544 I1          NEG     R2,R2                                                   ;
24042 00004B18                   1545 I1  KJYU_NEARZERO3CHK_100:
24043                            1546 I1  
24044 00004B18 D10A              1547 I1          MOV.L   #(_PAR_KAJYU_STPARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;[荷重停止範囲] 20
                                          15-06-22
24045 00004B1A 6311              1548 I1          MOV.W   @R1,R3                                                  ;
24046 00004B1C 3322              1549 I1          CMP/HS  R2,R3                                                   ;
24047 00004B1E 891C              1550 I1          BT      KJYU_NEARZERO3CHK_OUT_OFF                               ;R2<=R3
24048                            1551 I1  
24049 00004B20 D109              1552 I1          MOV.L   #_SVP_KAJOBJ_HAB,R1                                     ;荷重完了範囲
24050 00004B22 6411              1553 I1          MOV.W   @R1,R4                                                  ;
24051 00004B24 6343              1554 I1          MOV     R4,R3                                                   ;
24052                            1555 I1  
24053 00004B26 D109              1556 I1          MOV.L   #(_PAR_KAJYU_CHGARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
24054 00004B28 6011              1557 I1          MOV.W   @R1,R0                                                  ;
24055 00004B2A 3308              1558 I1          SUB     R0,R3                                                   ;
24056 00004B2C 4311              1559 I1          CMP/PZ  R3
24057 00004B2E 8900              1560 I1          BT      KJYU_NEARZERO3CHK_200                                   ;
24058 00004B30 6343              1561 I1          MOV     R4,R3                                                   ;
24059 00004B32                   1562 I1  KJYU_NEARZERO3CHK_200:                                                  ;
24060 00004B32 3322              1563 I1          CMP/HS  R2,R3                                                   ;R2<=R3 到達範囲?
24061 00004B34 8914              1564 I1          BT      KJYU_NEARZERO3CHK_TOUTATU                               ;
24062                            1565 I1  
24063 00004B36 3422              1566 I1          CMP/HS  R2,R4                                                   ;R2<=R4 荷重ニアゼ
                                          ロ範囲?
24064 00004B38 8915              1567 I1          BT      KJYU_NEARZERO3CHK_YES
24065 00004B3A E0FE              1568 I1          MOV.B   #-2,R0                                                  ;範囲外
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   320
PROGRAM NAME =

24066                            1569 I1          M_BRA   KJYU_NEARZERO3CHK_END                                   ;
24067 00004B3C A014                   M           BRA     KJYU_NEARZERO3CHK_END
24068 00004B3E 0009                   M           NOP
24069                            1570 I1  
24070                            1571 I1  
24071                                 I1  ***** BEGIN-POOL *****
24072 00004B40 00000000               I1  DATA FOR SOURCE-LINE 1540
24073 00004B44 00000000               I1  DATA FOR SOURCE-LINE 1547
24074 00004B48 00000000               I1  DATA FOR SOURCE-LINE 1552
24075 00004B4C 00000000               I1  DATA FOR SOURCE-LINE 1556
24076                                 I1  ***** END-POOL *****
24077 00004B50                   1572 I1  KJYU_NEARZERO3_CK100                                                    ;
24078 00004B50 3233              1573 I1          CMP/GE  R3,R2                                                   ;
24079 00004B52 8905              1574 I1          BT      KJYU_NEARZERO3CHK_TOUTATU                               ;R3<=R2
24080 00004B54 E0FF              1575 I1          MOV.B   #-1,R0                                                  ;
24081                            1576 I1          M_BRA   KJYU_NEARZERO3CHK_END                                   ;
24082 00004B56 A007                   M           BRA     KJYU_NEARZERO3CHK_END
24083 00004B58 0009                   M           NOP
24084                            1577 I1  
24085                            1578 I1  
24086 00004B5A                   1579 I1  KJYU_NEARZERO3CHK_OUT_OFF:
24087 00004B5A 200A              1580 I1          XOR     R0,R0                                                   ;一番小さい
24088                            1581 I1          M_BRA   KJYU_NEARZERO3CHK_END
24089 00004B5C A004                   M           BRA     KJYU_NEARZERO3CHK_END
24090 00004B5E 0009                   M           NOP
24091                            1582 I1  
24092 00004B60                   1583 I1  KJYU_NEARZERO3CHK_TOUTATU:                                              ;
24093 00004B60 E001              1584 I1          MOV.B   #1,R0                                                   ;二番目小さい
24094                            1585 I1          M_BRA   KJYU_NEARZERO3CHK_END                                   ;
24095 00004B62 A001                   M           BRA     KJYU_NEARZERO3CHK_END
24096 00004B64 0009                   M           NOP
24097                            1586 I1  
24098 00004B66                   1587 I1  KJYU_NEARZERO3CHK_YES
24099 00004B66 E002              1588 I1          MOV.B   #2,R0                                                   ;三番目小さい
24100                            1589 I1  
24101 00004B68                   1590 I1  KJYU_NEARZERO3CHK_END
24102                            1591 I1          SUB_END
24103                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24104 00004B68 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24105                            1592 I1          M_RTS
24106 00004B6A 000B                   M           RTS                             ;RTSの後ろの
24107 00004B6C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24108                            1593 I1  
24109                            1594 I1  
24110                            1595 I1  
24111 00004B6E                   1596 I1  _KJYU_OUT_DIRCT:
24112                            1597 I1          SUB_START
24113 00004B6E 4F22                   M           STS.L   PR,@-R15                ;[必要]
24114                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24115                            1598 I1  
24116 00004B70 D103              1599 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差
24117 00004B72 6012              1600 I1          MOV.L   @R1,R0                  ;"+/-"
24118                            1601 I1  
24119 00004B74 4011              1602 I1          CMP/PZ  R0
24120 00004B76 8905              1603 I1          BT      KJYU_OUTDIR100          ;
24121 00004B78 E001              1604 I1          MOV.B   #1,R0                   ;R0=1:"+"へ行き過ぎてる 戻れ
24122                            1605 I1          M_BRA   KJYU_OUTDIR200          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   321
PROGRAM NAME =

24123 00004B7A A004                   M           BRA     KJYU_OUTDIR200
24124 00004B7C 0009                   M           NOP
24125                            1606 I1  
24126                                 I1  ***** BEGIN-POOL *****
24127 00004B7E 0000                   I1  ALIGNMENT CODE
24128 00004B80 00000000               I1  DATA FOR SOURCE-LINE 1599
24129                                 I1  ***** END-POOL *****
24130 00004B84                   1607 I1  KJYU_OUTDIR100:
24131 00004B84 E0FF              1608 I1          MOV.B   #-1,R0                  ;R0=-1"-"進め
24132                            1609 I1  
24133 00004B86                   1610 I1  KJYU_OUTDIR200:
24134                            1611 I1  
24135                            1612 I1  
24136                            1613 I1          SUB_END
24137                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24138 00004B86 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24139                            1614 I1          M_RTS
24140 00004B88 000B                   M           RTS                             ;RTSの後ろの
24141 00004B8A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24142                            1615 I1  
24143                            1616 I1  ;       *******************************************
24144                            1617 I1  ;       ***                                     ***
24145                            1618 I1  ;       ***                                     ***
24146                            1619 I1  ;       ***                                     ***
24147                            1620 I1  ;       *******************************************
24148                            1621 I1  ;       荷重制御中　タイマ中も制御し続ける 349.12
24149                            1622 I1  ;       ニアゼロ
24150 00004B8C                   1623 I1  _FCLS_NZ_TIM_SET
24151                            1624 I1          SUB_START
24152 00004B8C 4F22                   M           STS.L   PR,@-R15                ;[必要]
24153                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24154                            1625 I1  
24155                            1626 I1  
24156 00004B8E D205              1627 I1          MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
24157 00004B90 6021              1628 I1          MOV.W   @R2,R0                  ;ﾀｲﾏLOAD
24158 00004B92 70FF              1629 I1          ADD     #-1,R0                  ;
24159 00004B94 D404              1630 I1          MOV.L   #_CPOS_SDAT1_TIM,R4     ;
24160 00004B96 4008              1631 I1          SHLL2   R0                      ;
24161 00004B98 014E              1632 I1          MOV.L   @(R0,R4),R1             ;TIM
24162 00004B9A D404              1633 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
24163 00004B9C 2412              1634 I1          MOV.L   R1,@R4                  ;
24164                            1635 I1  
24165                            1636 I1          SUB_END
24166                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24167 00004B9E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24168                            1637 I1          M_RTS
24169 00004BA0 000B                   M           RTS                             ;RTSの後ろの
24170 00004BA2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24171                            1638 I1  
24172                            1639 I1  
24173                                 I1  ***** BEGIN-POOL *****
24174 00004BA4 00000000               I1  DATA FOR SOURCE-LINE 1627
24175 00004BA8 00000000               I1  DATA FOR SOURCE-LINE 1630
24176 00004BAC 00000000               I1  DATA FOR SOURCE-LINE 1633
24177                                 I1  ***** END-POOL *****
24178 00004BB0                   1640 I1  _FCLS_KJYU_STEPCHG_CLR
24179                            1641 I1          SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   322
PROGRAM NAME =

24180 00004BB0 4F22                   M           STS.L   PR,@-R15                ;[必要]
24181                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24182 00004BB2 200A              1642 I1          XOR     R0,R0
24183 00004BB4 D103              1643 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1  ;
24184 00004BB6 2101              1644 I1          MOV.W   R0,@R1                  ;
24185                            1645 I1  
24186 00004BB8 D103              1646 I1          MOV.L   #_FULCLS_MATHED,R1
24187 00004BBA 2101              1647 I1          MOV.W   R0,@R1                  ;
24188                            1648 I1  
24189                            1649 I1          SUB_END
24190                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24191 00004BBC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24192                            1650 I1          M_RTS
24193 00004BBE 000B                   M           RTS                             ;RTSの後ろの
24194 00004BC0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24195                            1651 I1  
24196                            1652 I1  ;       ***************************************************
24197                            1653 I1  ;       ***                                             ***
24198                            1654 I1  ;       ***                                             ***
24199                            1655 I1  ;       ***                                             ***
24200                            1656 I1  ;       ***************************************************
24201                            1657 I1  ;       どこかで異常検出をする(仕様でないのに荷重ＳＷがＯＮだ)
24202                            1658 I1          .IMPORT _WORD_BIT_TBL1
24203                            1659 I1  
24204                                 I1  ***** BEGIN-POOL *****
24205 00004BC2 0000                   I1  ALIGNMENT CODE
24206 00004BC4 00000000               I1  DATA FOR SOURCE-LINE 1643
24207 00004BC8 00000000               I1  DATA FOR SOURCE-LINE 1646
24208                                 I1  ***** END-POOL *****
24209 00004BCC                   1660 I1  _KJYU_DATA_INFO_SEL
24210                            1661 I1          SUB_START
24211 00004BCC 4F22                   M           STS.L   PR,@-R15                ;[必要]
24212                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24213                            1662 I1  
24214 00004BCE D110              1663 I1          MOV.L   #_SDATCLS_TRG_STEP,R1           ;//速度連続の最後のｽﾃｯﾌﾟ
24215 00004BD0 6011              1664 I1          MOV.W   @R1,R0                          ;1~10
24216 00004BD2 2008              1665 I1          TST     R0,R0                           ;
24217                            1666 I1          TST_BIT_OF KJYU_DATA_INFOSL100          ;
24218 00004BD4 8928                   M           BT      KJYU_DATA_INFOSL100
24219                            1667 I1  
24220 00004BD6 D10F              1668 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;//設定
24221 00004BD8 6211              1669 I1          MOV.W   @R1,R2                          ;
24222 00004BDA 7201              1670 I1          ADD     #1,R2                           ;
24223 00004BDC 3200              1671 I1          CMP/EQ  R0,R2                           ;戻り行程?
24224 00004BDE 8923              1672 I1          BT      KJYU_DATA_INFOSL100             ;
24225                            1673 I1  
24226                            1674 I1  
24227                            1675 I1  ;;;;;;;;;2017-08-15     ADD     #-1,R0                          ;
24228                            1676 I1  ;;;;;;;;;2017-08-15     SHLL    R0                              ;
24229                            1677 I1  ;;;;;;;;;2017-08-15     MOV.L   #_WORD_BIT_TBL1,R4              ;R0=0のときにBIT0
24230                            1678 I1  ;;;;;;;;;2017-08-15     ADD     R0,R4                           ;
24231                            1679 I1  ;;;;;;;;;2017-08-15     MOV.W   @R4,R2                          ;ﾁｪｯｸﾋﾞｯﾄ
24232                            1680 I1  ;;;;;;;;;2017-08-15     MOV.L   #_CPOS_FULCLS_MATEHD_SW,R1      ;
24233                            1681 I1  ;;;;;;;;;2017-08-15     MOV.W   @R1,R3                          ;
24234                            1682 I1  ;;;;;;;;;2017-08-15     TST     R2,R3                           ;
24235                            1683 I1  ;;;;;;;;;2017-08-15     TST_BIT_OF KJYU_DATA_INFOSL100          ;位置
24236                            1684 I1  ;;;;;;;;;2017-08-15     SHLL    R0                              ;*2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   323
PROGRAM NAME =

24237                            1685 I1  
24238                            1686 I1  ;       ------------2017-08-15-----
24239 00004BE0 70FF              1687 I1          ADD     #-1,R0                                          ;
24240 00004BE2 4000              1688 I1          SHLL    R0                                              ;
24241 00004BE4 D40C              1689 I1          MOV.L   #_SET1_MOT_INF,R4               ;
24242 00004BE6 340C              1690 I1          ADD     R0,R4                                           ;
24243 00004BE8 6241              1691 I1          MOV.W   @R4,R2                                  ;
24244 00004BEA 930F              1692 I1          MOV.W   #BIT0,R3                                ;
24245 00004BEC 2328              1693 I1          TST     R2,R3                                           ;
24246                            1694 I1          TST_BIT_OF KJYU_DATA_INFOSL100  ;位置
24247 00004BEE 891B                   M           BT      KJYU_DATA_INFOSL100
24248                            1695 I1  
24249 00004BF0 4000              1696 I1          SHLL    R0                                              ;*2
24250 00004BF2 D10A              1697 I1          MOV.L   #_CPOS_KJYUCLS_OBJ,R1           ;
24251 00004BF4 310C              1698 I1          ADD     R0,R1                           ;
24252 00004BF6 6212              1699 I1          MOV.L   @R1,R2                          ;
24253 00004BF8 D109              1700 I1          MOV.L   #_KJYUCLS_OBJ_KN,R1             ;各段の荷重目標
24254 00004BFA 2122              1701 I1          MOV.L   R2,@R1                          ;
24255                            1702 I1  
24256                            1703 I1          MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB227,LG=W,BIT=(BIT13),WKRG1=R1,WKRG2=R4
                                          ;
24257 00004BFC D109                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB227,R1             ;
24258 00004BFE 6011                   M           MOV.W   @R1,R0          ;
24259 00004C00 9405                   M           MOV.W   #(BIT13),R4             ;
24260 00004C02 204B                   M           OR      R4,R0           ;
24261 00004C04 2101                   M           MOV.W   R0,@R1          ;
24262                            1704 I1  
24263 00004C06 E001              1705 I1          MOV.B   #BIT0,R0                        ;
24264                            1706 I1          M_BRA   KJYU_DATA_INFOSL300             ;
24265 00004C08 A014                   M           BRA     KJYU_DATA_INFOSL300
24266 00004C0A 0009                   M           NOP
24267                            1707 I1  
24268                                 I1  ***** BEGIN-POOL *****
24269 00004C0C 0001                   I1  DATA FOR SOURCE-LINE 1692
24270 00004C0E 2000                   I1  DATA FOR SOURCE-LINE 1703
24271 00004C10 00000000               I1  DATA FOR SOURCE-LINE 1663
24272 00004C14 00000000               I1  DATA FOR SOURCE-LINE 1668
24273 00004C18 00000000               I1  DATA FOR SOURCE-LINE 1689
24274 00004C1C 00000000               I1  DATA FOR SOURCE-LINE 1697
24275 00004C20 00000000               I1  DATA FOR SOURCE-LINE 1700
24276 00004C24 00000000               I1  DATA FOR SOURCE-LINE 1703
24277                                 I1  ***** END-POOL *****
24278 00004C28                   1708 I1  KJYU_DATA_INFOSL100
24279                            1709 I1          MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB227,LG=W,BIT=~(BIT13),WKRG1=R1,WKRG2=R4
24280 00004C28 D105                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB227,R1             ;
24281 00004C2A 6011                   M           MOV.W   @R1,R0          ;
24282 00004C2C 9407                   M           MOV.W   #LWORD ~(BIT13),R4      ;
24283 00004C2E 2049                   M           AND     R4,R0           ;
24284 00004C30 2101                   M           MOV.W   R0,@R1          ;
24285 00004C32 200A              1710 I1          XOR     R0,R0
24286 00004C34                   1711 I1  KJYU_DATA_INFOSL300
24287 00004C34 D103              1712 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
24288 00004C36 2101              1713 I1          MOV.W   R0,@R1                  ;
24289                            1714 I1  
24290                            1715 I1          SUB_END
24291                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24292 00004C38 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   324
PROGRAM NAME =

24293                            1716 I1          M_RTS
24294 00004C3A 000B                   M           RTS                             ;RTSの後ろの
24295 00004C3C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24296                            1717 I1  
24297                            1718 I1  
24298                            1719 I1  
24299                            1720 I1  
24300                            1721 I1  
24301                            1722 I1  
24302                            1723 I1  ;       ***************************************************
24303                            1724 I1  ;       ***                                             ***
24304                            1725 I1  ;       ***     １回目の荷重制御開始時に荷重が高いか?   ***
24305                            1726 I1  ;       ***     [2015-03-15]                                    ***
24306                            1727 I1  ;       ***************************************************
24307                                 I1  ***** BEGIN-POOL *****
24308 00004C3E DFFF                   I1  DATA FOR SOURCE-LINE 1709
24309 00004C40 00000000               I1  DATA FOR SOURCE-LINE 1709
24310 00004C44 00000000               I1  DATA FOR SOURCE-LINE 1712
24311                                 I1  ***** END-POOL *****
24312 00004C48                   1728 I1  _KAJYU_START_UPCHK:
24313                            1729 I1          SUB_START
24314 00004C48 4F22                   M           STS.L   PR,@-R15                ;[必要]
24315                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24316 00004C4A D10B              1730 I1          MOV.L   #_FULCLS_MATHED,R1      ;//0:位置 1:荷重
24317 00004C4C 6011              1731 I1          MOV.W   @R1,R0                  ;
24318 00004C4E 8801              1732 I1          CMP/EQ  #1,R0                   ;
24319 00004C50 8B0E              1733 I1          BF      KAJYU_START_UPCK_EXT    ;荷重ではない
24320                            1734 I1  
24321 00004C52 D10A              1735 I1          MOV.L   #_FULCLS_ELSE_STS,R1    ;       //BIT0=0->1:初めての荷重制御開始
24322 00004C54 6011              1736 I1          MOV.W   @R1,R0                  ;
24323 00004C56 C801              1737 I1          TST     #BIT0,R0                ;
24324                            1738 I1          TST_BIT_ON KAJYU_START_UPCK_EXT ;既にチェック済み
24325 00004C58 8B0A                   M           BF      KAJYU_START_UPCK_EXT
24326 00004C5A CB01              1739 I1          OR      #BIT0,R0                ;
24327 00004C5C 2101              1740 I1          MOV.W   R0,@R1                  ;
24328                            1741 I1  
24329 00004C5E D108              1742 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差
24330 00004C60 6012              1743 I1          MOV.L   @R1,R0                  ;
24331 00004C62 4011              1744 I1          CMP/PZ  R0                      ;
24332 00004C64 8904              1745 I1          BT      KAJYU_START_UPCK_EXT    ;目標>=実測
24333                            1746 I1  
24334                            1747 I1          MEM1_BIT0_F_ORSET MEM=(_SQ_CBWK_TOP+_WKSQCB224),LG=W,BIT=(BIT12),WKRG1=R1,WKRG2=R4
24335 00004C66 D107                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB224),R1           ;
24336 00004C68 6011                   M           MOV.W   @R1,R0          ;
24337 00004C6A 9404                   M           MOV.W   #(BIT12),R4             ;
24338 00004C6C 204B                   M           OR      R4,R0           ;
24339 00004C6E 2101                   M           MOV.W   R0,@R1          ;
24340                            1748 I1  
24341 00004C70                   1749 I1  KAJYU_START_UPCK_EXT:
24342                            1750 I1  
24343                            1751 I1          SUB_END
24344                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24345 00004C70 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24346                            1752 I1          M_RTS
24347 00004C72 000B                   M           RTS                             ;RTSの後ろの
24348 00004C74 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24349                            1753 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   325
PROGRAM NAME =

24350                            1754 I1  ;       ---------起動、異常-------
24351                            1755 I1          .EXPORT _KAJYU_ELSE_STS_CLR
24352                                 I1  ***** BEGIN-POOL *****
24353 00004C76 1000                   I1  DATA FOR SOURCE-LINE 1747
24354 00004C78 00000000               I1  DATA FOR SOURCE-LINE 1730
24355 00004C7C 00000000               I1  DATA FOR SOURCE-LINE 1735
24356 00004C80 00000000               I1  DATA FOR SOURCE-LINE 1742
24357 00004C84 00000000               I1  DATA FOR SOURCE-LINE 1747
24358                                 I1  ***** END-POOL *****
24359 00004C88                   1756 I1  _KAJYU_ELSE_STS_CLR:
24360                            1757 I1          SUB_START
24361 00004C88 4F22                   M           STS.L   PR,@-R15                ;[必要]
24362                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24363                            1758 I1  
24364                            1759 I1          FAR_JSR #_KAJYU_ELSE_STS_FLG_CLR,R0     ;
24365 00004C8A D006                   M           MOV.L   #_KAJYU_ELSE_STS_FLG_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24366 00004C8C 400B                   M           JSR     @R0                     ;
24367 00004C8E 0009                   M           NOP                                     ;
24368                            1760 I1  
24369                            1761 I1          MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB224),LG=W,BIT=~(BIT12),WKRG1=R1,WKRG2=R
                                          4
24370 00004C90 D105                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB224),R1           ;
24371 00004C92 6011                   M           MOV.W   @R1,R0          ;
24372 00004C94 9404                   M           MOV.W   #LWORD ~(BIT12),R4      ;
24373 00004C96 2049                   M           AND     R4,R0           ;
24374 00004C98 2101                   M           MOV.W   R0,@R1          ;
24375                            1762 I1  
24376                            1763 I1          SUB_END
24377                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24378 00004C9A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24379                            1764 I1          M_RTS
24380 00004C9C 000B                   M           RTS                             ;RTSの後ろの
24381 00004C9E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24382                            1765 I1  
24383                                 I1  ***** BEGIN-POOL *****
24384 00004CA0 EFFF                   I1  DATA FOR SOURCE-LINE 1761
24385 00004CA2 0000                   I1  ALIGNMENT CODE
24386 00004CA4 00000000               I1  DATA FOR SOURCE-LINE 1759
24387 00004CA8 00000000               I1  DATA FOR SOURCE-LINE 1761
24388                                 I1  ***** END-POOL *****
24389 00004CAC                   1766 I1  _KAJYU_ELSE_STS_FLG_CLR:
24390                            1767 I1          SUB_START
24391 00004CAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
24392                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24393 00004CAE 200A              1768 I1          XOR     R0,R0
24394 00004CB0 D102              1769 I1          MOV.L   #_FULCLS_ELSE_STS,R1    ;       //BIT0=0->1:初めての荷重制御開始
24395 00004CB2 2101              1770 I1          MOV.W   R0,@R1                  ;
24396                            1771 I1          SUB_END
24397                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24398 00004CB4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24399                            1772 I1          M_RTS
24400 00004CB6 000B                   M           RTS                             ;RTSの後ろの
24401 00004CB8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24402                            1773 I1  
24403                            1774 I1  
24404                            1775 I1  
24405                            1776 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   326
PROGRAM NAME =

24406                            1777 I1  
24407                            1778 I1  
24408                            1779 I1  
24409                            1780 I1  
24410                            1781 I1  
24411                            1782 I1  
24412                            1783 I1  
24413                            1784 I1  
24414                            1785 I1  
24415                            1786 I1  
24416                            1787 I1  
24417                            1788 I1  
24418                            1789 I1  
24419                            1790 I1  
24420                            1791 I1  ;       H2WではDTMKだがＱ
24421                            1792 I1  ;       ***************************************************
24422                            1793 I1  ;       ***                                             ***
24423                            1794 I1  ;       ***             起動時荷重データ判断            ***
24424                            1795 I1  ;       ***                                             ***
24425                            1796 I1  ;       ***             範囲1                           ***
24426                            1797 I1  ;       ***             範囲2                           ***
24427                            1798 I1  ;       ***************************************************
24428                            1799 I1  ;       "既に荷重範囲に一度は入った前提"
24429                            1800 I1  ;
24430                            1801 I1  
24431                                 I1  ***** BEGIN-POOL *****
24432 00004CBA 0000                   I1  ALIGNMENT CODE
24433 00004CBC 00000000               I1  DATA FOR SOURCE-LINE 1769
24434                                 I1  ***** END-POOL *****
24435 00004CC0                   1802 I1  _REVRSE_KAJYU_AREACHK_BASSET:
24436                            1803 I1          SUB_START
24437 00004CC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
24438                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24439 00004CC2 D108              1804 I1          MOV.L   #(_PAR_KAJYU_CHGARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
24440 00004CC4 6011              1805 I1          MOV.W   @R1,R0                                                  ;到達範囲
24441 00004CC6 2008              1806 I1          TST     R0,R0                                                   ;
24442                            1807 I1          TST_BIT_OF REVRSE_KAJYU_AREACK_LASTSPD                          ;最終範囲を使用し
                                          ない
24443 00004CC8 8912                   M           BT      REVRSE_KAJYU_AREACK_LASTSPD
24444                            1808 I1  
24445                            1809 I1  ;;;;;2015-06-22
24446                            1810 I1  ;;;;;   FAR_JSR #_KJYU_NEARZERO2_CHK,R0
24447                            1811 I1  ;;;;;   TST     R0,R0                                   ;
24448                            1812 I1  ;;;;;   TST_BIT_OF REVRSE_KAJYU_AREACK_LASTSPD          ;到達範囲内
24449                            1813 I1  
24450                            1814 I1  ;       速度選択のニアゼロサブルーチン変更
24451                            1815 I1          FAR_JSR #_KJYU_NEARZERO3_CHK,R0
24452 00004CCA D007                   M           MOV.L   #_KJYU_NEARZERO3_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24453 00004CCC 400B                   M           JSR     @R0                     ;
24454 00004CCE 0009                   M           NOP                                     ;
24455 00004CD0 8800              1816 I1          CMP/EQ  #0,R0
24456 00004CD2 890D              1817 I1          BT      REVRSE_KAJYU_AREACK_LASTSPD             ;到達範囲内 0,1
24457 00004CD4 8801              1818 I1          CMP/EQ  #1,R0
24458 00004CD6 890B              1819 I1          BT      REVRSE_KAJYU_AREACK_LASTSPD             ;到達範囲内 0,1
24459                            1820 I1  
24460                            1821 I1          FAR_JSR #_REVRSE_KAJYU1_BASINCSET,R0            ;
24461 00004CD8 D004                   M           MOV.L   #_REVRSE_KAJYU1_BASINCSET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   327
PROGRAM NAME =

24462 00004CDA 400B                   M           JSR     @R0                     ;
24463 00004CDC 0009                   M           NOP                                     ;
24464                            1822 I1          M_BRA   REVRSE_KAJYU_AREACK_END                 ;
24465 00004CDE A00A                   M           BRA     REVRSE_KAJYU_AREACK_END
24466 00004CE0 0009                   M           NOP
24467                            1823 I1  
24468                            1824 I1  ;       --------------最後の範囲内の運転--------------
24469                                 I1  ***** BEGIN-POOL *****
24470 00004CE2 0000                   I1  ALIGNMENT CODE
24471 00004CE4 00000000               I1  DATA FOR SOURCE-LINE 1804
24472 00004CE8 00000000               I1  DATA FOR SOURCE-LINE 1815
24473 00004CEC 00000000               I1  DATA FOR SOURCE-LINE 1821
24474                                 I1  ***** END-POOL *****
24475 00004CF0                   1825 I1  REVRSE_KAJYU_AREACK_LASTSPD:
24476                            1826 I1          FAR_JSR #_REVRSE_KAJYU2_BASINCSET,R0
24477 00004CF0 D002                   M           MOV.L   #_REVRSE_KAJYU2_BASINCSET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24478 00004CF2 400B                   M           JSR     @R0                     ;
24479 00004CF4 0009                   M           NOP                                     ;
24480                            1827 I1  
24481 00004CF6                   1828 I1  REVRSE_KAJYU_AREACK_END:
24482                            1829 I1  
24483                            1830 I1          SUB_END
24484                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24485 00004CF6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24486                            1831 I1          M_RTS
24487 00004CF8 000B                   M           RTS                             ;RTSの後ろの
24488 00004CFA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24489                            1832 I1  
24490                            1833 I1  
24491                            1834 I1  
24492                            1835 I1  
24493                            1836 I1  ;もしﾊﾟ-ｾﾝﾃﾞｰﾀなら
24494                            1837 I1  ;DATA(%)*MAX(freq)/10000=freq
24495                            1838 I1  ;freq*FFFF/500,000=LATE
24496                            1839 I1  ;
24497                            1840 I1  ;
24498                            1841 I1  ;もしﾚｰﾄ(7pls/s)なら
24499                            1842 I1  ;DATA()*500,000/FFFF=PLS/S
24500                            1843 I1  
24501                            1844 I1  ;       ------ 2014-08-20-------------------------------------------------------------
24502                            1845 I1  ;       ---------------- 荷重制御の一旦荷重幅に入った＋最終幅に入っていない-----------
24503                                 I1  ***** BEGIN-POOL *****
24504 00004CFC 00000000               I1  DATA FOR SOURCE-LINE 1826
24505                                 I1  ***** END-POOL *****
24506 00004D00                   1846 I1  _REVRSE_KAJYU1_BASINCSET:
24507                            1847 I1          SUB_START
24508 00004D00 4F22                   M           STS.L   PR,@-R15                ;[必要]
24509                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24510                            1848 I1  
24511 00004D02 D104              1849 I1          MOV.L   #(_PAR_KAJYU_ARASPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;Pno.362
24512 00004D04 6211              1850 I1          MOV.W   @R1,R2                                                  ;[7PLS/S]
24513 00004D06 2228              1851 I1          TST     R2,R2                                                   ;
24514                            1852 I1          TST_BIT_ON CLSINC1_SEL_020                                      ;
24515 00004D08 8B08                   M           BF      CLSINC1_SEL_020
24516                            1853 I1  
24517                            1854 I1          FAR_JSR #_REVRSE_BASINC_SPDCALC,R0                              ;
24518 00004D0A D003                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   328
PROGRAM NAME =

24519 00004D0C 400B                   M           JSR     @R0                     ;
24520 00004D0E 0009                   M           NOP                                     ;
24521                            1855 I1          M_BRA   CLSINC1_SEL_END                                         ;
24522 00004D10 A009                   M           BRA     CLSINC1_SEL_END
24523 00004D12 0009                   M           NOP
24524                            1856 I1  
24525                                 I1  ***** BEGIN-POOL *****
24526 00004D14 00000000               I1  DATA FOR SOURCE-LINE 1849
24527 00004D18 00000000               I1  DATA FOR SOURCE-LINE 1854
24528                                 I1  ***** END-POOL *****
24529 00004D1C                   1857 I1  CLSINC1_SEL_020
24530                            1858 I1          FAR_JSR #_CHG_LSI_LATE_TO_PLS,R0                                ;R2*POS_FRQ_SPDMAX
                                          (500000)/POS_LSI_SPDMAX(FFFF)
24531 00004D1C D003                   M           MOV.L   #_CHG_LSI_LATE_TO_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24532 00004D1E 400B                   M           JSR     @R0                     ;
24533 00004D20 0009                   M           NOP                                     ;
24534                            1859 I1  
24535 00004D22 D103              1860 I1          MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1                              ;
24536 00004D24 2122              1861 I1          MOV.L   R2,@R1                                                  ;
24537 00004D26                   1862 I1  CLSINC1_SEL_END
24538                            1863 I1  
24539                            1864 I1          SUB_END
24540                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24541 00004D26 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24542                            1865 I1          M_RTS
24543 00004D28 000B                   M           RTS                             ;RTSの後ろの
24544 00004D2A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24545                            1866 I1  
24546                            1867 I1  
24547                            1868 I1  ;       -------2014-07-14-----------
24548                            1869 I1  ;       ------ 2014-08-20-----------
24549                            1870 I1  ;       ---------------- 荷重制御の一旦荷重幅に入った＋最終幅に入った-----------
24550                                 I1  ***** BEGIN-POOL *****
24551 00004D2C 00000000               I1  DATA FOR SOURCE-LINE 1858
24552 00004D30 00000000               I1  DATA FOR SOURCE-LINE 1860
24553                                 I1  ***** END-POOL *****
24554 00004D34                   1871 I1  _REVRSE_KAJYU2_BASINCSET:
24555                            1872 I1          SUB_START
24556 00004D34 4F22                   M           STS.L   PR,@-R15                ;[必要]
24557                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24558                            1873 I1  
24559 00004D36 D104              1874 I1          MOV.L   #(_PAR_KAJYU_HLDSPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;Pno.361
24560 00004D38 6211              1875 I1          MOV.W   @R1,R2                                                  ;[7PLS/S]
24561 00004D3A 2228              1876 I1          TST     R2,R2                                                   ;
24562                            1877 I1          TST_BIT_ON CLSINC2_SEL_020                                      ;
24563 00004D3C 8B08                   M           BF      CLSINC2_SEL_020
24564                            1878 I1  
24565                            1879 I1          FAR_JSR #_REVRSE_BASINC_SPDCALC,R0                              ;
24566 00004D3E D003                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24567 00004D40 400B                   M           JSR     @R0                     ;
24568 00004D42 0009                   M           NOP                                     ;
24569                            1880 I1          M_BRA   CLSINC2_SEL_END                                         ;
24570 00004D44 A009                   M           BRA     CLSINC2_SEL_END
24571 00004D46 0009                   M           NOP
24572                            1881 I1  
24573                                 I1  ***** BEGIN-POOL *****
24574 00004D48 00000000               I1  DATA FOR SOURCE-LINE 1874
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   329
PROGRAM NAME =

24575 00004D4C 00000000               I1  DATA FOR SOURCE-LINE 1879
24576                                 I1  ***** END-POOL *****
24577 00004D50                   1882 I1  CLSINC2_SEL_020
24578                            1883 I1          FAR_JSR #_CHG_LSI_LATE_TO_PLS,R0                                ;R2*POS_FRQ_SPDMAX
                                          (500000)/POS_LSI_SPDMAX(FFFF)
24579 00004D50 D003                   M           MOV.L   #_CHG_LSI_LATE_TO_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24580 00004D52 400B                   M           JSR     @R0                     ;
24581 00004D54 0009                   M           NOP                                     ;
24582                            1884 I1  
24583 00004D56 D103              1885 I1          MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1                              ;
24584 00004D58 2122              1886 I1          MOV.L   R2,@R1                                                  ;
24585 00004D5A                   1887 I1  CLSINC2_SEL_END
24586                            1888 I1  
24587                            1889 I1          SUB_END
24588                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24589 00004D5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24590                            1890 I1          M_RTS
24591 00004D5C 000B                   M           RTS                             ;RTSの後ろの
24592 00004D5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24593                            1891 I1  
24594                            1892 I1  
24595                            1893 I1  ;       ***********************************
24596                            1894 I1  ;       ***     S01~S09処理             ***
24597                            1895 I1  ;       ***********************************
24598                                 I1  ***** BEGIN-POOL *****
24599 00004D60 00000000               I1  DATA FOR SOURCE-LINE 1883
24600 00004D64 00000000               I1  DATA FOR SOURCE-LINE 1885
24601                                 I1  ***** END-POOL *****
24602 00004D68                   1896 I1  _REVRSE_BASINC_SPDCALC:
24603                            1897 I1          SUB_START
24604 00004D68 4F22                   M           STS.L   PR,@-R15                ;[必要]
24605                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24606                            1898 I1  
24607                            1899 I1  ;       =======  2012-10-05 =========
24608 00004D6A D10B              1900 I1          MOV.L   #_CB_SEQ_CB_COM351,R1                                   ;ｲﾝﾁﾝｸﾞ速度選択
24609 00004D6C 6011              1901 I1          MOV.W   @R1,R0                                                  ;
24610 00004D6E 9411              1902 I1          MOV.W   #BIT9+BIT8+BIT7+BIT6+BIT5+BIT4+BIT3+BIT2+BIT1,R4        ;
24611 00004D70 2048              1903 I1          TST     R4,R0                                                   ;
24612                            1904 I1          TST_BIT_OF CLSINC_SEL_DEF                                       ;
24613 00004D72 8915                   M           BT      CLSINC_SEL_DEF
24614                            1905 I1  
24615 00004D74 E308              1906 I1          MOV.B   #D'9-1,R3                                                       ;
24616 00004D76 E402              1907 I1          MOV.B   #BIT1,R4                                                ;
24617 00004D78 D108              1908 I1          MOV.L   #(_PAR_NEGCTL_SPDS1-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
24618                            1909 I1  
24619 00004D7A                   1910 I1  CLSINC_SEL_050LOP:
24620 00004D7A 2048              1911 I1          TST     R4,R0
24621                            1912 I1          TST_BIT_ON CLSINC_SEL_100       ;
24622 00004D7C 8B04                   M           BF      CLSINC_SEL_100
24623 00004D7E 4400              1913 I1          SHLL    R4
24624 00004D80 7102              1914 I1          ADD     #2,R1                   ;
24625 00004D82 73FF              1915 I1          ADD     #-1,R3                  ;
24626 00004D84 2338              1916 I1          TST     R3,R3                   ;
24627                            1917 I1          TST_BIT_ON CLSINC_SEL_050LOP    ;BIT1~BIT8
24628 00004D86 8BF8                   M           BF      CLSINC_SEL_050LOP
24629 00004D88                   1918 I1  CLSINC_SEL_100:
24630 00004D88 6211              1919 I1          MOV.W   @R1,R2                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   330
PROGRAM NAME =

24631 00004D8A 2228              1920 I1          TST     R2,R2                   ;
24632                            1921 I1          TST_BIT_ON CLSINC_SEL_300       ;
24633 00004D8C 8B0A                   M           BF      CLSINC_SEL_300
24634 00004D8E 7201              1922 I1          ADD     #1,R2                   ;
24635                            1923 I1          M_BRA   CLSINC_SEL_300          ;
24636 00004D90 A008                   M           BRA     CLSINC_SEL_300
24637 00004D92 0009                   M           NOP
24638                            1924 I1  
24639                            1925 I1  
24640                                 I1  ***** BEGIN-POOL *****
24641 00004D94 03FE                   I1  DATA FOR SOURCE-LINE 1902
24642 00004D96 0000                   I1  ALIGNMENT CODE
24643 00004D98 00000000               I1  DATA FOR SOURCE-LINE 1900
24644 00004D9C 00000000               I1  DATA FOR SOURCE-LINE 1908
24645                                 I1  ***** END-POOL *****
24646 00004DA0                   1926 I1  CLSINC_SEL_DEF:
24647 00004DA0 D104              1927 I1          MOV.L   #_POS_LSI_CLSINC_SPDBAS,R1              ;ｲﾝﾁﾝｸﾞ時
24648 00004DA2 6212              1928 I1          MOV.L   @R1,R2
24649 00004DA4                   1929 I1  CLSINC_SEL_300
24650                            1930 I1          FAR_JSR #_CHG_LSI_LATE_TO_PLS,R0                ;
24651 00004DA4 D004                   M           MOV.L   #_CHG_LSI_LATE_TO_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24652 00004DA6 400B                   M           JSR     @R0                     ;
24653 00004DA8 0009                   M           NOP                                     ;
24654 00004DAA D104              1931 I1          MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1              ;//PLS/S
24655 00004DAC 2122              1932 I1          MOV.L   R2,@R1                                  ;
24656                            1933 I1                                                          ;
24657                            1934 I1  
24658                            1935 I1          SUB_END
24659                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24660 00004DAE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24661                            1936 I1          M_RTS
24662 00004DB0 000B                   M           RTS                             ;RTSの後ろの
24663 00004DB2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24664                            1937 I1  
24665                            1938 I1  ;-----------2019-04-10(戻り信号のラッチ:異常時の処理チェック用)---------
24666                            1939 I1  ;;;_HANTEN_LAST_SIG_CLR
24667                            1940 I1  ;;;     SUB_START
24668                            1941 I1  ;;;     XOR             R0,R0
24669                            1942 I1  ;;;     MOV.L   #_HANTEN_LAST_STEP_F,R1 ;
24670                            1943 I1  ;;;     MOV.W   R0,@R1                                  ;
24671                            1944 I1  ;;;     SUB_END
24672                            1945 I1  ;;;     M_RTS
24673                            1946 I1  ;;;
24674                            1947 I1  ;;;_HANTEN_LAST_SIG_SET
24675                            1948 I1  ;;;     SUB_START
24676                            1949 I1  ;;;     MOV.L   #_HANTEN_LAST_STEP_F,R1 ;
24677                            1950 I1  ;;;     MOV.W   @R1,R0                                  ;
24678                            1951 I1  ;;;     OR              #BIT0,R0                                ;
24679                            1952 I1  ;;;     MOV.W   R0,@R1                                  ;
24680                            1953 I1  ;;;     SUB_END
24681                            1954 I1  ;;;     M_RTS
24682                            7451     
24683                            7452     
24684                            7453     
24685                            7454     ;       ***************************
24686                            7455     ;       ***                     ***
24687                            7456     ;       ***     異常履歴ﾃﾞｰﾀ    ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   331
PROGRAM NAME =

24688                            7457     ;       ***                     ***
24689                            7458     ;       ***************************
24690                                     ***** BEGIN-POOL *****
24691 00004DB4 00000000                   DATA FOR SOURCE-LINE 1927
24692 00004DB8 00000000                   DATA FOR SOURCE-LINE 1930
24693 00004DBC 00000000                   DATA FOR SOURCE-LINE 1931
24694                                     ***** END-POOL *****
24695 00004DC0                   7459             .ALIGN  4                               ;
24696 00004DC0                   7460     _HIST_INFO_DT_IN1:
24697                            7461             SUB_START
24698 00004DC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
24699                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24700                            7462             PUSH_REG1 R0
24701 00004DC2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24702                                 M                                           ;REG=>[SP]
24703                                 M                                           ;"-4" FF,FF,FF,FC
24704                            7463             PUSH_REG1 R1
24705 00004DC4 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24706                                 M                                           ;REG=>[SP]
24707                                 M                                           ;"-4" FF,FF,FF,FC
24708                            7464             PUSH_REG1 R2
24709 00004DC6 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
24710                                 M                                           ;REG=>[SP]
24711                                 M                                           ;"-4" FF,FF,FF,FC
24712                            7465     
24713 00004DC8 D109              7466             MOV.L   #_LINK_SV_OBJ_ABSPLS,R1         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
24714 00004DCA D20A              7467             MOV.L   #_LT_LINK_SV_OBJ_ABSPLS,R2              ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
24715 00004DCC 6016              7468             MOV.L   @R1+,R0                                 ;
24716 00004DCE 2202              7469             MOV.L   R0,@R2                                  ;
24717 00004DD0 7204              7470             ADD     #4,R2                                   ;
24718 00004DD2 6016              7471             MOV.L   @R1+,R0                                 ;
24719 00004DD4 2202              7472             MOV.L   R0,@R2                                  ;
24720                            7473     
24721 00004DD6 D108              7474             MOV.L   #_LINK_PV_ABSPLS,R1             ;
24722 00004DD8 D208              7475             MOV.L   #_LT_INT_LINK_RL_OBJ_ABSPLS,R2          ;
24723 00004DDA 6016              7476             MOV.L   @R1+,R0                                 ;
24724 00004DDC 2202              7477             MOV.L   R0,@R2                                  ;
24725 00004DDE 7204              7478             ADD     #4,R2                                   ;
24726 00004DE0 6016              7479             MOV.L   @R1+,R0                                 ;
24727 00004DE2 2202              7480             MOV.L   R0,@R2                                  ;
24728                            7481     
24729                            7482             POP_REG1 R2
24730                                 M                                   ; RE"+4" 00,00,00,04
24731 00004DE4 62F6                   M           MOV.L   @R15+,R2        ;
24732                            7483             POP_REG1 R1
24733                                 M                                   ; RE"+4" 00,00,00,04
24734 00004DE6 61F6                   M           MOV.L   @R15+,R1        ;
24735                            7484             POP_REG1 R0
24736                                 M                                   ; RE"+4" 00,00,00,04
24737 00004DE8 60F6                   M           MOV.L   @R15+,R0        ;
24738                            7485             SUB_END
24739                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24740 00004DEA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24741                            7486             M_RTS
24742 00004DEC 000B                   M           RTS                             ;RTSの後ろの
24743 00004DEE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   332
PROGRAM NAME =

24744                            7487     
24745                            7488     ;       ***********************************
24746                            7489     ;       ***                             ***
24747                            7490     ;       ***     異常情報                ***
24748                            7491     ;       ***                             ***
24749                            7492     ;       ***********************************
24750                            7493             .MACRO  DATA_8B_0CHK MEM,ANSBIT
24751                            7494             MOV.L   #\MEM,R1        ;
24752                            7495             MOV.L   @R1+,R2                 ;HIGH
24753                            7496             MOV.L   @R1,R3                  ;LOW
24754                            7497             XOR     R1,R1                   ;
24755                            7498             OR      R3,R2                   ;
24756                            7499             TST     R2,R2                   ;
24757                            7500             TST_BIT_OF JMP01\@              ;ZERO
24758                            7501             MOV.W   #\ANSBIT,R1             ;
24759                            7502     JMP01\@                                 ;
24760                            7503             .ENDM
24761                            7504     
24762                            7505             .MACRO  DATA_4B_0CHK MEM,ANSBIT
24763                            7506             MOV.L   #\MEM,R1        ;
24764                            7507             MOV.L   @R1+,R2                 ;HIGH
24765                            7508             XOR     R1,R1                   ;
24766                            7509             TST     R2,R2                   ;
24767                            7510             TST_BIT_OF JMP01\@              ;ZERO
24768                            7511             MOV.W   #\ANSBIT,R1             ;
24769                            7512     JMP01\@                                 ;
24770                            7513             .ENDM
24771                            7514     
24772                            7515     
24773                            7516     ;       ***************************
24774                            7517     ;       ***     data 記憶       ***
24775                            7518     ;       ***************************
24776                                     ***** BEGIN-POOL *****
24777 00004DF0 00000000                   DATA FOR SOURCE-LINE 7466
24778 00004DF4 00000000                   DATA FOR SOURCE-LINE 7467
24779 00004DF8 00000000                   DATA FOR SOURCE-LINE 7474
24780 00004DFC 00000000                   DATA FOR SOURCE-LINE 7475
24781                                     ***** END-POOL *****
24782 00004E00                   7519             .ALIGN  4                               ;
24783 00004E00                   7520     _ERR_INFO_DT_IN0:
24784                            7521             SUB_START
24785 00004E00 4F22                   M           STS.L   PR,@-R15                ;[必要]
24786                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24787 00004E02 D105              7522             MOV.L   #_PV_POWER_ON_CNT,R1                    ;
24788 00004E04 6011              7523             MOV.W   @R1,R0                                  ;
24789 00004E06 D105              7524             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B01,R1  ;POWER
24790 00004E08 2101              7525             MOV.W   R0,@R1                                  ;
24791                            7526     
24792 00004E0A D105              7527             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B02,R1  ;TIM
24793 00004E0C 6011              7528             MOV.W   @R1,R0                                  ;
24794 00004E0E 7001              7529             ADD     #1,R0                                   ;
24795 00004E10 2101              7530             MOV.W   R0,@R1                                  ;
24796                            7531             SUB_END
24797                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24798 00004E12 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24799                            7532             M_RTS
24800 00004E14 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   333
PROGRAM NAME =

24801 00004E16 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24802                            7533     
24803                                     ***** BEGIN-POOL *****
24804 00004E18 00000000                   DATA FOR SOURCE-LINE 7522
24805 00004E1C 00000000                   DATA FOR SOURCE-LINE 7524
24806 00004E20 00000000                   DATA FOR SOURCE-LINE 7527
24807                                     ***** END-POOL *****
24808 00004E24                   7534             .ALIGN  4                               ;
24809 00004E24                   7535     _ERR_INFO_DT_IN1:
24810                            7536             SUB_START
24811 00004E24 4F22                   M           STS.L   PR,@-R15                ;[必要]
24812                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24813                            7537             PUSH_REG1 R0
24814 00004E26 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24815                                 M                                           ;REG=>[SP]
24816                                 M                                           ;"-4" FF,FF,FF,FC
24817                            7538             PUSH_REG1 R1
24818 00004E28 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24819                                 M                                           ;REG=>[SP]
24820                                 M                                           ;"-4" FF,FF,FF,FC
24821                            7539     
24822                            7540     
24823 00004E2A D108              7541             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24824 00004E2C 6011              7542             MOV.W   @R1,R0                          ;
24825 00004E2E 2008              7543             TST     R0,R0                           ;
24826                            7544             TST_BIT_ON ERR_INFO_DTIN1_EXT           ;
24827 00004E30 8B07                   M           BF      ERR_INFO_DTIN1_EXT
24828                            7545     
24829 00004E32 D107              7546             MOV.L   #_MODE_SEL,R1   ;
24830 00004E34 6011              7547             MOV.W   @R1,R0          ;
24831 00004E36 C804              7548             TST     #_W1SGL,R0      ;
24832                            7549             TST_BIT_OF ERR_INFO_DTIN1_EXT
24833 00004E38 8903                   M           BT      ERR_INFO_DTIN1_EXT
24834                            7550     
24835 00004E3A D106              7551             MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
24836 00004E3C 6012              7552             MOV.L   @R1,R0                                  ;
24837 00004E3E D106              7553             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C01,R1  ;
24838 00004E40 2102              7554             MOV.L   R0,@R1                                  ;
24839                            7555     
24840 00004E42                   7556     ERR_INFO_DTIN1_EXT:
24841                            7557     
24842                            7558             POP_REG1 R1
24843                                 M                                   ; RE"+4" 00,00,00,04
24844 00004E42 61F6                   M           MOV.L   @R15+,R1        ;
24845                            7559             POP_REG1 R0
24846                                 M                                   ; RE"+4" 00,00,00,04
24847 00004E44 60F6                   M           MOV.L   @R15+,R0        ;
24848                            7560             SUB_END
24849                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24850 00004E46 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24851                            7561             M_RTS
24852 00004E48 000B                   M           RTS                             ;RTSの後ろの
24853 00004E4A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24854                            7562     
24855                            7563     
24856                            7564     ;       ***************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   334
PROGRAM NAME =

24857                            7565     ;       ***     data 記憶       ***
24858                            7566     ;       ***************************
24859                            7567     ;       (data-smp only)
24860                                     ***** BEGIN-POOL *****
24861 00004E4C 00000000                   DATA FOR SOURCE-LINE 7541
24862 00004E50 00000000                   DATA FOR SOURCE-LINE 7546
24863 00004E54 00000000                   DATA FOR SOURCE-LINE 7551
24864 00004E58 00000000                   DATA FOR SOURCE-LINE 7553
24865                                     ***** END-POOL *****
24866 00004E5C                   7568             .ALIGN  4                               ;
24867 00004E5C                   7569     _ERR_INFO_DT_IN2:
24868                            7570             SUB_START
24869 00004E5C 4F22                   M           STS.L   PR,@-R15                ;[必要]
24870                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24871                            7571             PUSH_REG1 R0
24872 00004E5E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24873                                 M                                           ;REG=>[SP]
24874                                 M                                           ;"-4" FF,FF,FF,FC
24875                            7572             PUSH_REG1 R1
24876 00004E60 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24877                                 M                                           ;REG=>[SP]
24878                                 M                                           ;"-4" FF,FF,FF,FC
24879 00004E62 D10E              7573             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24880 00004E64 6011              7574             MOV.W   @R1,R0                          ;
24881 00004E66 2008              7575             TST     R0,R0                           ;
24882                            7576             TST_BIT_ON ERR_INFO_DTIN2_EXT           ;
24883 00004E68 8B13                   M           BF      ERR_INFO_DTIN2_EXT
24884                            7577     
24885 00004E6A D10D              7578             MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
24886 00004E6C 6012              7579             MOV.L   @R1,R0                                  ;
24887 00004E6E D10D              7580             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C02,R1  ;
24888 00004E70 2102              7581             MOV.L   R0,@R1                                  ;
24889                            7582     
24890 00004E72 D10D              7583             MOV.L   #_LINK_PV_ABSPLS+4,R1           ;
24891 00004E74 6012              7584             MOV.L   @R1,R0                                  ;
24892 00004E76 D10D              7585             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C03,R1  ;
24893 00004E78 2102              7586             MOV.L   R0,@R1                                  ;
24894                            7587     
24895 00004E7A D10D              7588             MOV.L   #_LNGTH_ADD_DATA+4,R1                   ;
24896 00004E7C 6012              7589             MOV.L   @R1,R0                                  ;
24897 00004E7E D10D              7590             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C04,R1  ;
24898 00004E80 2102              7591             MOV.L   R0,@R1                                  ;
24899                            7592     
24900                            7593     
24901                            7594     ;       ----- 2010-10-25 ---------------
24902 00004E82 D10D              7595             MOV.L   #_LNGTH_ADD_DATA,R1                     ;
24903 00004E84 6012              7596             MOV.L   @R1,R0                                  ;
24904 00004E86 D10D              7597             MOV.L   #_CHK_ADD_DATA_LATCH,R1                 ;
24905 00004E88 2102              7598             MOV.L   R0,@R1                                  ;
24906                            7599     
24907 00004E8A D109              7600             MOV.L   #_LNGTH_ADD_DATA+4,R1                   ;
24908 00004E8C 6012              7601             MOV.L   @R1,R0                                  ;
24909 00004E8E D10C              7602             MOV.L   #_CHK_ADD_DATA_LATCH+4,R1               ;
24910 00004E90 2102              7603             MOV.L   R0,@R1                                  ;
24911                            7604     
24912                            7605     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   335
PROGRAM NAME =

24913                            7606     
24914                            7607     
24915                            7608     
24916                            7609     
24917 00004E92                   7610     ERR_INFO_DTIN2_EXT
24918                            7611     
24919                            7612             POP_REG1 R1
24920                                 M                                   ; RE"+4" 00,00,00,04
24921 00004E92 61F6                   M           MOV.L   @R15+,R1        ;
24922                            7613             POP_REG1 R0
24923                                 M                                   ; RE"+4" 00,00,00,04
24924 00004E94 60F6                   M           MOV.L   @R15+,R0        ;
24925                            7614             SUB_END
24926                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24927 00004E96 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24928                            7615             M_RTS
24929 00004E98 000B                   M           RTS                             ;RTSの後ろの
24930 00004E9A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24931                            7616     
24932                            7617     ;       ***************************
24933                            7618     ;       ***     data 記憶       ***
24934                            7619     ;       ***************************
24935                                     ***** BEGIN-POOL *****
24936 00004E9C 00000000                   DATA FOR SOURCE-LINE 7573
24937 00004EA0 00000000                   DATA FOR SOURCE-LINE 7578
24938 00004EA4 00000000                   DATA FOR SOURCE-LINE 7580
24939 00004EA8 00000000                   DATA FOR SOURCE-LINE 7583
24940 00004EAC 00000000                   DATA FOR SOURCE-LINE 7585
24941 00004EB0 00000000                   DATA FOR SOURCE-LINE 7588,7600
24942 00004EB4 00000000                   DATA FOR SOURCE-LINE 7590
24943 00004EB8 00000000                   DATA FOR SOURCE-LINE 7595
24944 00004EBC 00000000                   DATA FOR SOURCE-LINE 7597
24945 00004EC0 00000000                   DATA FOR SOURCE-LINE 7602
24946                                     ***** END-POOL *****
24947 00004EC4                   7620             .ALIGN  4                               ;
24948 00004EC4                   7621     _ERR_INFO_DT_IN2A:
24949                            7622             SUB_START
24950 00004EC4 4F22                   M           STS.L   PR,@-R15                ;[必要]
24951                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24952                            7623             SUB_END
24953                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24954 00004EC6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24955                            7624             M_RTS
24956 00004EC8 000B                   M           RTS                             ;RTSの後ろの
24957 00004ECA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24958                            7625     
24959                            7626     ;       ***************************
24960                            7627     ;       ***     data 記憶       ***
24961                            7628     ;       ***************************
24962 00004ECC                   7629             .ALIGN  4                               ;
24963 00004ECC                   7630     _ERR_INFO_DT_IN3:
24964                            7631             SUB_START
24965 00004ECC 4F22                   M           STS.L   PR,@-R15                ;[必要]
24966                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24967                            7632             PUSH_REG1 R0
24968 00004ECE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24969                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   336
PROGRAM NAME =

24970                                 M                                           ;"-4" FF,FF,FF,FC
24971                            7633             PUSH_REG1 R1
24972 00004ED0 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24973                                 M                                           ;REG=>[SP]
24974                                 M                                           ;"-4" FF,FF,FF,FC
24975 00004ED2 D106              7634             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24976 00004ED4 6011              7635             MOV.W   @R1,R0                          ;
24977 00004ED6 2008              7636             TST     R0,R0                           ;
24978                            7637             TST_BIT_ON ERR_INFO_DTIN3_EXT           ;
24979 00004ED8 8B03                   M           BF      ERR_INFO_DTIN3_EXT
24980                            7638     
24981 00004EDA D105              7639             MOV.L   #_LNGTH_TOTAL_OUTPLS+4,R1               ;
24982 00004EDC 6012              7640             MOV.L   @R1,R0                                  ;
24983 00004EDE D105              7641             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C05,R1  ;
24984 00004EE0 2102              7642             MOV.L   R0,@R1                                  ;
24985                            7643     
24986 00004EE2                   7644     ERR_INFO_DTIN3_EXT
24987                            7645     
24988                            7646             POP_REG1 R1
24989                                 M                                   ; RE"+4" 00,00,00,04
24990 00004EE2 61F6                   M           MOV.L   @R15+,R1        ;
24991                            7647             POP_REG1 R0
24992                                 M                                   ; RE"+4" 00,00,00,04
24993 00004EE4 60F6                   M           MOV.L   @R15+,R0        ;
24994                            7648             SUB_END
24995                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24996 00004EE6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24997                            7649             M_RTS
24998 00004EE8 000B                   M           RTS                             ;RTSの後ろの
24999 00004EEA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25000                            7650     
25001                            7651     ;       ***********************************
25002                            7652     ;       ***     起動時の残りﾊﾟﾙｽ        ***
25003                            7653     ;       ***********************************
25004                                     ***** BEGIN-POOL *****
25005 00004EEC 00000000                   DATA FOR SOURCE-LINE 7634
25006 00004EF0 00000000                   DATA FOR SOURCE-LINE 7639
25007 00004EF4 00000000                   DATA FOR SOURCE-LINE 7641
25008                                     ***** END-POOL *****
25009 00004EF8                   7654             .ALIGN  4                               ;
25010 00004EF8                   7655     _ERR_INFO_DT_IN4:
25011                            7656             SUB_START
25012 00004EF8 4F22                   M           STS.L   PR,@-R15                ;[必要]
25013                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25014                            7657             PUSH_REG1 R0
25015 00004EFA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25016                                 M                                           ;REG=>[SP]
25017                                 M                                           ;"-4" FF,FF,FF,FC
25018                            7658             PUSH_REG1 R1
25019 00004EFC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25020                                 M                                           ;REG=>[SP]
25021                                 M                                           ;"-4" FF,FF,FF,FC
25022 00004EFE D10A              7659             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
25023 00004F00 6011              7660             MOV.W   @R1,R0                          ;
25024 00004F02 2008              7661             TST     R0,R0                           ;
25025                            7662             TST_BIT_ON ERR_INFO_DTIN4_EXT           ;
25026 00004F04 8B0A                   M           BF      ERR_INFO_DTIN4_EXT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   337
PROGRAM NAME =

25027                            7663     
25028 00004F06 D109              7664             MOV.L   #_MODE_SEL,R1   ;
25029 00004F08 6011              7665             MOV.W   @R1,R0          ;
25030 00004F0A C804              7666             TST     #_W1SGL,R0      ;
25031                            7667             TST_BIT_OF ERR_INFO_DTIN4_EXT
25032 00004F0C 8906                   M           BT      ERR_INFO_DTIN4_EXT
25033                            7668     
25034                            7669     ;       ==========
25035                            7670             FAR_JSR #_LOAD_REST_PLS,R0              ;残りﾊﾟﾙｽ
25036 00004F0E D008                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25037 00004F10 400B                   M           JSR     @R0                     ;
25038 00004F12 0009                   M           NOP                                     ;
25039 00004F14 D107              7671             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C06,R1  ;
25040 00004F16 2102              7672             MOV.L   R0,@R1                                  ;
25041 00004F18 D107              7673             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C07,R1  ;
25042 00004F1A 2102              7674             MOV.L   R0,@R1                                  ;
25043                            7675     
25044 00004F1C                   7676     ERR_INFO_DTIN4_EXT:
25045                            7677             POP_REG1 R1
25046                                 M                                   ; RE"+4" 00,00,00,04
25047 00004F1C 61F6                   M           MOV.L   @R15+,R1        ;
25048                            7678             POP_REG1 R0
25049                                 M                                   ; RE"+4" 00,00,00,04
25050 00004F1E 60F6                   M           MOV.L   @R15+,R0        ;
25051                            7679             SUB_END
25052                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25053 00004F20 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25054                            7680             M_RTS
25055 00004F22 000B                   M           RTS                             ;RTSの後ろの
25056 00004F24 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25057                            7681     
25058                            7682     ;       ***********************************************************
25059                            7683     ;       ***     TOTAL,ADDが0であること                          ***
25060                            7684     ;       ***********************************************************
25061                                     ***** BEGIN-POOL *****
25062 00004F26 0000                       ALIGNMENT CODE
25063 00004F28 00000000                   DATA FOR SOURCE-LINE 7659
25064 00004F2C 00000000                   DATA FOR SOURCE-LINE 7664
25065 00004F30 00000000                   DATA FOR SOURCE-LINE 7670
25066 00004F34 00000000                   DATA FOR SOURCE-LINE 7671
25067 00004F38 00000000                   DATA FOR SOURCE-LINE 7673
25068                                     ***** END-POOL *****
25069 00004F3C                   7685             .ALIGN  4                               ;
25070 00004F3C                   7686     _ERR_INFO_DT_CHK1:
25071                            7687             SUB_START
25072 00004F3C 4F22                   M           STS.L   PR,@-R15                ;[必要]
25073                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25074                            7688             PUSH_REG1 R0
25075 00004F3E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25076                                 M                                           ;REG=>[SP]
25077                                 M                                           ;"-4" FF,FF,FF,FC
25078                            7689             PUSH_REG1 R1
25079 00004F40 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25080                                 M                                           ;REG=>[SP]
25081                                 M                                           ;"-4" FF,FF,FF,FC
25082                            7690             PUSH_REG1 R2
25083 00004F42 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   338
PROGRAM NAME =

25084                                 M                                           ;REG=>[SP]
25085                                 M                                           ;"-4" FF,FF,FF,FC
25086                            7691             PUSH_REG1 R3
25087 00004F44 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25088                                 M                                           ;REG=>[SP]
25089                                 M                                           ;"-4" FF,FF,FF,FC
25090                            7692     
25091 00004F46 D11B              7693             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
25092 00004F48 6011              7694             MOV.W   @R1,R0                          ;
25093 00004F4A 2008              7695             TST     R0,R0                           ;
25094                            7696             TST_BIT_ON ERR_INFO_DTCHK1_EXT          ;
25095 00004F4C 8B27                   M           BF      ERR_INFO_DTCHK1_EXT
25096                            7697     
25097 00004F4E D11A              7698             MOV.L   #_MODE_SEL,R1   ;
25098 00004F50 6011              7699             MOV.W   @R1,R0          ;
25099 00004F52 C804              7700             TST     #_W1SGL,R0      ;
25100                            7701             TST_BIT_OF ERR_INFO_DTCHK1_EXT
25101 00004F54 8923                   M           BT      ERR_INFO_DTCHK1_EXT
25102                            7702     
25103 00004F56 D019              7703             MOV.L   #_CPOS_CTL_MATH,R0              ;
25104 00004F58 6001              7704             MOV.W   @R0,R0                          ;
25105 00004F5A C801              7705             TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
25106                            7706             TST_BIT_OF ERR_INFO_DTCHK1_EXT
25107 00004F5C 891F                   M           BT      ERR_INFO_DTCHK1_EXT
25108                            7707     
25109                            7708     ;       -------------2011-09-14---------------
25110 00004F5E D118              7709             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
25111 00004F60 6011              7710             MOV.W   @R1,R0                          ;
25112 00004F62 C801              7711             TST     #BIT0,R0                        ;
25113                            7712             TST_BIT_ON ERR_INFO_DTCHK1_EXT          ;
25114 00004F64 8B1B                   M           BF      ERR_INFO_DTCHK1_EXT
25115                            7713     
25116                            7714     
25117 00004F66 D117              7715             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A01,R1          ;
25118 00004F68 6011              7716             MOV.W   @R1,R0                                          ;
25119                            7717     
25120                            7718             DATA_8B_0CHK MEM=_LNGTH_ADD_DATA,ANSBIT=BIT0            ;
25121 00004F6A D117                   M           MOV.L   #_LNGTH_ADD_DATA,R1     ;
25122 00004F6C 6216                   M           MOV.L   @R1+,R2                 ;HIGH
25123 00004F6E 6312                   M           MOV.L   @R1,R3                  ;LOW
25124 00004F70 211A                   M           XOR     R1,R1                   ;
25125 00004F72 223B                   M           OR      R3,R2                   ;
25126 00004F74 2228                   M           TST     R2,R2                   ;
25127                                 M           TST_BIT_OF JMP0100016           ;ZERO
25128 00004F76 8900                   M           BT      JMP0100016
25129 00004F78 9118                   M           MOV.W   #BIT0,R1                ;
25130 00004F7A                        M   JMP0100016                                      ;
25131 00004F7A 201B              7719             OR      R1,R0                                           ;
25132                            7720     
25133                            7721             DATA_8B_0CHK MEM=_LNGTH_TOTAL_OUTPLS,ANSBIT=BIT1        ;
25134 00004F7C D113                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS,R1 ;
25135 00004F7E 6216                   M           MOV.L   @R1+,R2                 ;HIGH
25136 00004F80 6312                   M           MOV.L   @R1,R3                  ;LOW
25137 00004F82 211A                   M           XOR     R1,R1                   ;
25138 00004F84 223B                   M           OR      R3,R2                   ;
25139 00004F86 2228                   M           TST     R2,R2                   ;
25140                                 M           TST_BIT_OF JMP0100017           ;ZERO
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   339
PROGRAM NAME =

25141 00004F88 8900                   M           BT      JMP0100017
25142 00004F8A 9110                   M           MOV.W   #BIT1,R1                ;
25143 00004F8C                        M   JMP0100017                                      ;
25144 00004F8C 201B              7722             OR      R1,R0                                           ;
25145                            7723     
25146                            7724             DATA_4B_0CHK MEM=_OUTPLS_MOD,ANSBIT=BIT2                ;
25147 00004F8E D110                   M           MOV.L   #_OUTPLS_MOD,R1 ;
25148 00004F90 6216                   M           MOV.L   @R1+,R2                 ;HIGH
25149 00004F92 211A                   M           XOR     R1,R1                   ;
25150 00004F94 2228                   M           TST     R2,R2                   ;
25151                                 M           TST_BIT_OF JMP0100018           ;ZERO
25152 00004F96 8900                   M           BT      JMP0100018
25153 00004F98 910A                   M           MOV.W   #BIT2,R1                ;
25154 00004F9A                        M   JMP0100018                                      ;
25155                            7725     
25156 00004F9A D10A              7726             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A01,R1          ;
25157 00004F9C 2101              7727             MOV.W   R0,@R1                                          ;
25158 00004F9E                   7728     ERR_INFO_DTCHK1_EXT:
25159                            7729     
25160                            7730             POP_REG1 R3
25161                                 M                                   ; RE"+4" 00,00,00,04
25162 00004F9E 63F6                   M           MOV.L   @R15+,R3        ;
25163                            7731             POP_REG1 R2
25164                                 M                                   ; RE"+4" 00,00,00,04
25165 00004FA0 62F6                   M           MOV.L   @R15+,R2        ;
25166                            7732             POP_REG1 R1
25167                                 M                                   ; RE"+4" 00,00,00,04
25168 00004FA2 61F6                   M           MOV.L   @R15+,R1        ;
25169                            7733             POP_REG1 R0
25170                                 M                                   ; RE"+4" 00,00,00,04
25171 00004FA4 60F6                   M           MOV.L   @R15+,R0        ;
25172                            7734     
25173                            7735     
25174                            7736             SUB_END
25175                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25176 00004FA6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25177                            7737             M_RTS
25178 00004FA8 000B                   M           RTS                             ;RTSの後ろの
25179 00004FAA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25180                            7738     
25181                            7739     ;       ***********************************************************
25182                            7740     ;       ***     TOTAL,ADDが0であること                          ***
25183                            7741     ;       ***********************************************************
25184                            7742     ;       SGL
25185                                     ***** BEGIN-POOL *****
25186 00004FAC 0001                       DATA FOR SOURCE-LINE 7718
25187 00004FAE 0002                       DATA FOR SOURCE-LINE 7721
25188 00004FB0 0004                       DATA FOR SOURCE-LINE 7724
25189 00004FB2 0000                       ALIGNMENT CODE
25190 00004FB4 00000000                   DATA FOR SOURCE-LINE 7693
25191 00004FB8 00000000                   DATA FOR SOURCE-LINE 7698
25192 00004FBC 00000000                   DATA FOR SOURCE-LINE 7703
25193 00004FC0 00000000                   DATA FOR SOURCE-LINE 7709
25194 00004FC4 00000000                   DATA FOR SOURCE-LINE 7715,7726
25195 00004FC8 00000000                   DATA FOR SOURCE-LINE 7718
25196 00004FCC 00000000                   DATA FOR SOURCE-LINE 7721
25197 00004FD0 00000000                   DATA FOR SOURCE-LINE 7724
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   340
PROGRAM NAME =

25198                                     ***** END-POOL *****
25199 00004FD4                   7743             .ALIGN  4                               ;
25200 00004FD4                   7744     _ERR_INFO_DT_CHK2:
25201                            7745             SUB_START
25202 00004FD4 4F22                   M           STS.L   PR,@-R15                ;[必要]
25203                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25204                            7746             PUSH_REG1 R0
25205 00004FD6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25206                                 M                                           ;REG=>[SP]
25207                                 M                                           ;"-4" FF,FF,FF,FC
25208                            7747             PUSH_REG1 R1
25209 00004FD8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25210                                 M                                           ;REG=>[SP]
25211                                 M                                           ;"-4" FF,FF,FF,FC
25212                            7748             PUSH_REG1 R2
25213 00004FDA 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25214                                 M                                           ;REG=>[SP]
25215                                 M                                           ;"-4" FF,FF,FF,FC
25216                            7749             PUSH_REG1 R3
25217 00004FDC 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25218                                 M                                           ;REG=>[SP]
25219                                 M                                           ;"-4" FF,FF,FF,FC
25220                            7750     
25221                            7751     
25222                            7752     
25223 00004FDE D129              7753             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
25224 00004FE0 6011              7754             MOV.W   @R1,R0                          ;
25225 00004FE2 2008              7755             TST     R0,R0                           ;
25226                            7756             TST_BIT_ON ERR_INFO_DTCHK2_EXT          ;
25227 00004FE4 8B6F                   M           BF      ERR_INFO_DTCHK2_EXT
25228                            7757     
25229 00004FE6 D128              7758             MOV.L   #_MODE_SEL,R1                   ;
25230 00004FE8 6011              7759             MOV.W   @R1,R0                          ;
25231 00004FEA C804              7760             TST     #_W1SGL,R0                      ;
25232                            7761             TST_BIT_OF ERR_INFO_DTCHK2_EXT          ;
25233 00004FEC 896B                   M           BT      ERR_INFO_DTCHK2_EXT
25234                            7762     
25235 00004FEE D027              7763             MOV.L   #_CPOS_CTL_MATH,R0              ;
25236 00004FF0 6001              7764             MOV.W   @R0,R0                          ;
25237                            7765     ;;;;2010-10-25  TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
25238 00004FF2 C805              7766             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;2010-10-25 回転+ふりこ
25239                            7767             TST_BIT_OF ERR_INFO_DTCHK2_EXT          ;
25240 00004FF4 8967                   M           BT      ERR_INFO_DTCHK2_EXT
25241                            7768     
25242                            7769     ;       -------------2011-09-14---------------
25243 00004FF6 D126              7770             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
25244 00004FF8 6011              7771             MOV.W   @R1,R0                          ;
25245 00004FFA C801              7772             TST     #BIT0,R0                        ;
25246                            7773             TST_BIT_ON ERR_INFO_DTCHK2_EXT          ;
25247 00004FFC 8B63                   M           BF      ERR_INFO_DTCHK2_EXT
25248                            7774     
25249                            7775     
25250 00004FFE D125              7776             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
25251 00005000 6011              7777             MOV.W   @R1,R0                                          ;
25252                            7778     
25253                            7779             DATA_8B_0CHK MEM=_LNGTH_ADD_DATA,ANSBIT=BIT0            ;
25254 00005002 D125                   M           MOV.L   #_LNGTH_ADD_DATA,R1     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   341
PROGRAM NAME =

25255 00005004 6216                   M           MOV.L   @R1+,R2                 ;HIGH
25256 00005006 6312                   M           MOV.L   @R1,R3                  ;LOW
25257 00005008 211A                   M           XOR     R1,R1                   ;
25258 0000500A 223B                   M           OR      R3,R2                   ;
25259 0000500C 2228                   M           TST     R2,R2                   ;
25260                                 M           TST_BIT_OF JMP0100019           ;ZERO
25261 0000500E 8900                   M           BT      JMP0100019
25262 00005010 9133                   M           MOV.W   #BIT0,R1                ;
25263 00005012                        M   JMP0100019                                      ;
25264 00005012 201B              7780             OR      R1,R0                                           ;
25265                            7781     
25266                            7782             DATA_8B_0CHK MEM=_LNGTH_TOTAL_OUTPLS,ANSBIT=BIT1        ;
25267 00005014 D121                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS,R1 ;
25268 00005016 6216                   M           MOV.L   @R1+,R2                 ;HIGH
25269 00005018 6312                   M           MOV.L   @R1,R3                  ;LOW
25270 0000501A 211A                   M           XOR     R1,R1                   ;
25271 0000501C 223B                   M           OR      R3,R2                   ;
25272 0000501E 2228                   M           TST     R2,R2                   ;
25273                                 M           TST_BIT_OF JMP0100020           ;ZERO
25274 00005020 8900                   M           BT      JMP0100020
25275 00005022 912B                   M           MOV.W   #BIT1,R1                ;
25276 00005024                        M   JMP0100020                                      ;
25277 00005024 201B              7783             OR      R1,R0                                           ;
25278                            7784     
25279                            7785             DATA_4B_0CHK MEM=_OUTPLS_MOD,ANSBIT=BIT2                ;
25280 00005026 D11E                   M           MOV.L   #_OUTPLS_MOD,R1 ;
25281 00005028 6216                   M           MOV.L   @R1+,R2                 ;HIGH
25282 0000502A 211A                   M           XOR     R1,R1                   ;
25283 0000502C 2228                   M           TST     R2,R2                   ;
25284                                 M           TST_BIT_OF JMP0100021           ;ZERO
25285 0000502E 8900                   M           BT      JMP0100021
25286 00005030 9125                   M           MOV.W   #BIT2,R1                ;
25287 00005032                        M   JMP0100021                                      ;
25288                            7786     
25289 00005032 D118              7787             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
25290 00005034 2101              7788             MOV.W   R0,@R1                                          ;
25291                            7789     
25292                            7790     ;       ==== ADD DATA CHK ===
25293 00005036 D11B              7791             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C04,R1  ;ADD_
25294 00005038 6212              7792             MOV.L   @R1,R2                                  ;
25295 0000503A 4211              7793             CMP/PZ  R2                                      ;
25296 0000503C 8900              7794             BT      ERR_INFO_DTCHK2_050                     ;
25297 0000503E 622B              7795             NEG     R2,R2
25298 00005040                   7796     ERR_INFO_DTCHK2_050:
25299                            7797     
25300 00005040 D119              7798             MOV.L   #_LINK_1ROT_PLS,R1                      ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
25301 00005042 6012              7799             MOV.L   @R1,R0                                  ;
25302 00005044 911C              7800             MOV.W   #_PLS_ERR_HABPLS1,R1                    ;
25303 00005046 301C              7801             ADD     R1,R0                                   ;1ROT-PLS+2000
25304 00005048 3022              7802             CMP/HS  R2,R0                                   ;
25305 0000504A 8903              7803             BT      ERR_INFO_DTCHK2_100                     ;1ROT以下
25306                            7804             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//計算不良
25307 0000504C D111                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
25308 0000504E 6011                   M           MOV.W   @R1,R0          ;
25309 00005050 CB10                   M           OR      #BIT4,R0                ;
25310 00005052 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   342
PROGRAM NAME =

25311 00005054                   7805     ERR_INFO_DTCHK2_100:
25312                            7806     
25313                            7807     ;       =====もう一個チェックが必要[2010-10-26] ふりこ時の対策 化け方が0000,0000,FFF,FFFF[
                                          +]====
25314 00005054 D315              7808             MOV.L   #_CHK_ADD_DATA_LATCH,R3         ;
25315 00005056 6136              7809             MOV.L   @R3+,R1                         ;
25316 00005058 6232              7810             MOV.L   @R3,R2                          ;
25317 0000505A 4111              7811             CMP/PZ  R1                              ;
25318 0000505C 8905              7812             BT      ERR_INFO_DTCHK2_150             ;
25319                            7813             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0      ;
25320 0000505E 6227                   M           NOT     R2,R2                           ;
25321 00005060 6117                   M           NOT     R1,R1                           ;
25322 00005062 200A                   M           XOR     R0,R0                           ;
25323 00005064 0018                   M           SETT
25324 00005066 320E                   M           ADDC    R0,R2                           ;0+1+R2
25325 00005068 310E                   M           ADDC    R0,R1                           ;
25326 0000506A                   7814     ERR_INFO_DTCHK2_150:
25327 0000506A 2118              7815             TST     R1,R1                           ;
25328                            7816             TST_BIT_OF ERR_INFO_DTCHK2_200          ;
25329 0000506C 8920                   M           BT      ERR_INFO_DTCHK2_200
25330                            7817             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//計算不良
25331 0000506E D109                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
25332 00005070 6011                   M           MOV.W   @R1,R0          ;
25333 00005072 CB10                   M           OR      #BIT4,R0                ;
25334 00005074 2101                   M           MOV.W   R0,@R1          ;
25335                            7818             M_BRA   ERR_INFO_DTCHK2_300             ;
25336 00005076 A025                   M           BRA     ERR_INFO_DTCHK2_300
25337 00005078 0009                   M           NOP
25338                            7819     
25339                                     ***** BEGIN-POOL *****
25340 0000507A 0001                       DATA FOR SOURCE-LINE 7779
25341 0000507C 0002                       DATA FOR SOURCE-LINE 7782
25342 0000507E 0004                       DATA FOR SOURCE-LINE 7785
25343 00005080 07D0                       DATA FOR SOURCE-LINE 7800
25344 00005082 0000                       ALIGNMENT CODE
25345 00005084 00000000                   DATA FOR SOURCE-LINE 7753
25346 00005088 00000000                   DATA FOR SOURCE-LINE 7758
25347 0000508C 00000000                   DATA FOR SOURCE-LINE 7763
25348 00005090 00000000                   DATA FOR SOURCE-LINE 7770
25349 00005094 00000000                   DATA FOR SOURCE-LINE 7776,7787,7804,7817
25350 00005098 00000000                   DATA FOR SOURCE-LINE 7779
25351 0000509C 00000000                   DATA FOR SOURCE-LINE 7782
25352 000050A0 00000000                   DATA FOR SOURCE-LINE 7785
25353 000050A4 00000000                   DATA FOR SOURCE-LINE 7791
25354 000050A8 00000000                   DATA FOR SOURCE-LINE 7798
25355 000050AC 00000000                   DATA FOR SOURCE-LINE 7808
25356                                     ***** END-POOL *****
25357 000050B0                   7820     ERR_INFO_DTCHK2_200:
25358 000050B0 D109              7821             MOV.L   #_LINK_1ROT_PLS,R1                      ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
25359 000050B2 6012              7822             MOV.L   @R1,R0                                  ;
25360 000050B4 910E              7823             MOV.W   #_PLS_ERR_HABPLS1,R1                    ;
25361 000050B6 301C              7824             ADD     R1,R0                                   ;1ROT-PLS+2000
25362 000050B8 3022              7825             CMP/HS  R2,R0                                   ;
25363 000050BA 8903              7826             BT      ERR_INFO_DTCHK2_300                     ;1ROT以下
25364                            7827             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//計算不良
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   343
PROGRAM NAME =

25365 000050BC D107                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
25366 000050BE 6011                   M           MOV.W   @R1,R0          ;
25367 000050C0 CB10                   M           OR      #BIT4,R0                ;
25368 000050C2 2101                   M           MOV.W   R0,@R1          ;
25369 000050C4                   7828     ERR_INFO_DTCHK2_300:
25370 000050C4 0009              7829             NOP
25371                            7830     
25372                            7831     
25373                            7832     
25374 000050C6                   7833     ERR_INFO_DTCHK2_EXT:
25375                            7834     
25376                            7835     
25377                            7836             POP_REG1 R3
25378                                 M                                   ; RE"+4" 00,00,00,04
25379 000050C6 63F6                   M           MOV.L   @R15+,R3        ;
25380                            7837             POP_REG1 R2
25381                                 M                                   ; RE"+4" 00,00,00,04
25382 000050C8 62F6                   M           MOV.L   @R15+,R2        ;
25383                            7838             POP_REG1 R1
25384                                 M                                   ; RE"+4" 00,00,00,04
25385 000050CA 61F6                   M           MOV.L   @R15+,R1        ;
25386                            7839             POP_REG1 R0
25387                                 M                                   ; RE"+4" 00,00,00,04
25388 000050CC 60F6                   M           MOV.L   @R15+,R0        ;
25389                            7840             SUB_END
25390                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25391 000050CE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25392                            7841             M_RTS
25393 000050D0 000B                   M           RTS                             ;RTSの後ろの
25394 000050D2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25395                            7842     
25396                            7843     ;       *******************************************
25397                            7844     ;       ***     CHEAK ﾚｽﾄﾊﾟﾙｽが減ること/        ***
25398                            7845     ;       *******************************************
25399                                     ***** BEGIN-POOL *****
25400 000050D4 07D0                       DATA FOR SOURCE-LINE 7823
25401 000050D6 0000                       ALIGNMENT CODE
25402 000050D8 00000000                   DATA FOR SOURCE-LINE 7821
25403 000050DC 00000000                   DATA FOR SOURCE-LINE 7827
25404                                     ***** END-POOL *****
25405 000050E0                   7846             .ALIGN  4                               ;
25406 000050E0                   7847     _ERR_INFO_DT_CHK3:
25407                            7848             SUB_START
25408 000050E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
25409                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25410                            7849     
25411 000050E2 D10C              7850             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
25412 000050E4 6011              7851             MOV.W   @R1,R0                          ;
25413 000050E6 2008              7852             TST     R0,R0                           ;
25414                            7853             TST_BIT_ON ERR_INFO_DTCHK3_EXT                  ;
25415 000050E8 8B68                   M           BF      ERR_INFO_DTCHK3_EXT
25416                            7854     
25417 000050EA D10B              7855             MOV.L   #_MODE_SEL,R1                           ;
25418 000050EC 6011              7856             MOV.W   @R1,R0                                  ;
25419 000050EE C804              7857             TST     #_W1SGL,R0                              ;
25420                            7858             TST_BIT_OF ERR_INFO_DTCHK3_EXT                          ;
25421 000050F0 8964                   M           BT      ERR_INFO_DTCHK3_EXT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   344
PROGRAM NAME =

25422                            7859     
25423 000050F2 D00A              7860             MOV.L   #_CPOS_CTL_MATH,R0              ;
25424 000050F4 6001              7861             MOV.W   @R0,R0                          ;
25425 000050F6 C801              7862             TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
25426                            7863             TST_BIT_OF ERR_INFO_DTCHK3_EXT                          ;
25427 000050F8 8960                   M           BT      ERR_INFO_DTCHK3_EXT
25428                            7864     
25429                            7865     ;       -------------2011-09-14---------------
25430 000050FA D109              7866             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
25431 000050FC 6011              7867             MOV.W   @R1,R0                          ;
25432 000050FE C801              7868             TST     #BIT0,R0                        ;
25433                            7869             TST_BIT_ON ERR_INFO_DTCHK3_EXT          ;
25434 00005100 8B5C                   M           BF      ERR_INFO_DTCHK3_EXT
25435                            7870     
25436                            7871     
25437 00005102 D108              7872             MOV.L   #_ERR_INFO_DLY_TIM,R1                           ;
25438 00005104 6011              7873             MOV.W   @R1,R0                                          ;
25439 00005106 2008              7874             TST     R0,R0                                           ;
25440                            7875             TST_BIT_OF ERR_INFO_DTCHK3_050                          ;
25441 00005108 890E                   M           BT      ERR_INFO_DTCHK3_050
25442 0000510A 70FF              7876             ADD     #-1,R0                                          ;
25443 0000510C 2101              7877             MOV.W   R0,@R1                                          ;
25444                            7878             M_BRA   ERR_INFO_DTCHK3_EXT                             ;(ﾚｽﾄﾊﾟﾙｽが安定しないので
                                          その判断はしない)
25445 0000510E A055                   M           BRA     ERR_INFO_DTCHK3_EXT
25446 00005110 0009                   M           NOP
25447                            7879     
25448                                     ***** BEGIN-POOL *****
25449 00005112 0000                       ALIGNMENT CODE
25450 00005114 00000000                   DATA FOR SOURCE-LINE 7850
25451 00005118 00000000                   DATA FOR SOURCE-LINE 7855
25452 0000511C 00000000                   DATA FOR SOURCE-LINE 7860
25453 00005120 00000000                   DATA FOR SOURCE-LINE 7866
25454 00005124 00000000                   DATA FOR SOURCE-LINE 7872
25455                                     ***** END-POOL *****
25456 00005128                   7880     ERR_INFO_DTCHK3_050:                                            ;
25457                            7881     
25458                            7882             FAR_JSR #_LOAD_REST_PLS,R0                              ;残りﾊﾟﾙｽ
25459 00005128 D026                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25460 0000512A 400B                   M           JSR     @R0                     ;
25461 0000512C 0009                   M           NOP                                     ;
25462 0000512E D126              7883             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C07,R1          ;
25463 00005130 6312              7884             MOV.L   @R1,R3                                          ;
25464 00005132 2102              7885             MOV.L   R0,@R1                                          ;NOW =< OLD
25465 00005134 D125              7886             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C08,R1          ;
25466 00005136 2132              7887             MOV.L   R3,@R1                                          ;OLD SAVE
25467                            7888     
25468 00005138 3302              7889             CMP/HS  R0,R3                                           ;
25469 0000513A 890F              7890             BT      ERR_INFO_DTCHK3_100                             ;
25470                            7891     
25471                            7892             PUSH_REG1 R0                                            ;
25472 0000513C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25473                                 M                                           ;REG=>[SP]
25474                                 M                                           ;"-4" FF,FF,FF,FC
25475 0000513E D124              7893             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B03,R1          ;
25476 00005140 6211              7894             MOV.W   @R1,R2                                          ;
25477 00005142 7201              7895             ADD     #1,R2                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   345
PROGRAM NAME =

25478 00005144 2121              7896             MOV.W   R2,@R1                                          ;
25479                            7897     
25480 00005146 3038              7898             SUB     R3,R0                                           ;DELT
25481 00005148 D122              7899             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B04,R1          ;増分
25482 0000514A 6211              7900             MOV.W   @R1,R2                                          ;
25483 0000514C 3022              7901             CMP/HS  R2,R0                                           ;R2<R0
25484 0000514E 8B00              7902             BF      ERR_INFO_DTCHK3_060                             ;NO R2 > R0
25485 00005150 2101              7903             MOV.W   R0,@R1                                          ;MAX REFLASH
25486 00005152                   7904     ERR_INFO_DTCHK3_060:                                            ;
25487                            7905     
25488                            7906             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT0,WKREG
                                          =R1 ;//位置増加
25489 00005152 D121                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
25490 00005154 6011                   M           MOV.W   @R1,R0          ;
25491 00005156 CB01                   M           OR      #BIT0,R0                ;
25492 00005158 2101                   M           MOV.W   R0,@R1          ;
25493                            7907     
25494                            7908             POP_REG1 R0                                             ;
25495                                 M                                   ; RE"+4" 00,00,00,04
25496 0000515A 60F6                   M           MOV.L   @R15+,R0        ;
25497 0000515C                   7909     ERR_INFO_DTCHK3_100:                                            ;
25498                            7910     
25499                            7911     ;       ==== 起動時のRESETより生のﾊﾟﾙｽは小さいか===
25500                            7912     ;       R0:読み出したパルス
25501                            7913     
25502 0000515C D11F              7914             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C06,R1          ;
25503 0000515E 6212              7915             MOV.L   @R1,R2                                          ;
25504 00005160 7201              7916             ADD     #1,R2                                           ;
25505 00005162 3202              7917             CMP/HS  R0,R2                                           ;
25506 00005164 8907              7918             BT      ERR_INFO_DTCHK3_200                             ;起動時より増えていない
25507                            7919     
25508 00005166 D11E              7920             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B05,R1          ;
25509 00005168 6011              7921             MOV.W   @R1,R0                                          ;
25510 0000516A 7001              7922             ADD     #1,R0                                           ;
25511 0000516C 2101              7923             MOV.W   R0,@R1                                          ;
25512                            7924     
25513                            7925             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT1,WKREG
                                          =R1 ;//
25514 0000516E D11A                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
25515 00005170 6011                   M           MOV.W   @R1,R0          ;
25516 00005172 CB02                   M           OR      #BIT1,R0                ;
25517 00005174 2101                   M           MOV.W   R0,@R1          ;
25518                            7926     
25519 00005176                   7927     ERR_INFO_DTCHK3_200:
25520                            7928     
25521                            7929     ;       ==== 起動時のADDより生ﾊﾟﾙｽは小さいか===
25522 00005176 D114              7930             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C07,R1          ;
25523 00005178 6212              7931             MOV.L   @R1,R2                                          ;
25524                            7932     
25525 0000517A D11A              7933             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C04,R1  ;ADD-PLS
25526 0000517C 6012              7934             MOV.L   @R1,R0                                  ;
25527 0000517E 4011              7935             CMP/PZ  R0                                      ;
25528 00005180 8900              7936             BT      ERR_INFO_DTCHK3_220                     ;
25529 00005182 600B              7937             NEG     R0,R0                                   ;
25530 00005184                   7938     ERR_INFO_DTCHK3_220:                                    ;
25531 00005184 7001              7939             ADD     #1,R0                                   ;
25532 00005186 3022              7940             CMP/HS  R2,R0                                   ;R2<R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   346
PROGRAM NAME =

25533 00005188 8907              7941             BT      ERR_INFO_DTCHK3_300                     ;
25534                            7942     
25535                            7943             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT2,WKREG
                                          =R1 ;//
25536 0000518A D113                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
25537 0000518C 6011                   M           MOV.W   @R1,R0          ;
25538 0000518E CB04                   M           OR      #BIT2,R0                ;
25539 00005190 2101                   M           MOV.W   R0,@R1          ;
25540                            7944     
25541 00005192 D115              7945             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B06,R1          ;
25542 00005194 6011              7946             MOV.W   @R1,R0                                          ;
25543 00005196 7001              7947             ADD     #1,R0                                           ;
25544 00005198 2101              7948             MOV.W   R0,@R1                                          ;
25545                            7949     
25546                            7950     
25547 0000519A                   7951     ERR_INFO_DTCHK3_300:
25548                            7952     
25549                            7953     ;       ==== ｱｸｾｽ不正異常 =====
25550 0000519A 9312              7954             MOV.W   #D'10,R3                ;
25551 0000519C 222A              7955             XOR     R2,R2                   ;
25552 0000519E D113              7956             MOV.L   #_ACCESS_ERR1,R1        ;
25553 000051A0                   7957     ERR_INFO_DTCHK3_350:
25554 000051A0 6016              7958             MOV.L   @R1+,R0                 ;
25555 000051A2 220B              7959             OR      R0,R2                   ;
25556 000051A4 73FF              7960             ADD     #-1,R3                  ;
25557 000051A6 2338              7961             TST     R3,R3                   ;
25558                            7962             TST_BIT_ON ERR_INFO_DTCHK3_350  ;
25559 000051A8 8BFA                   M           BF      ERR_INFO_DTCHK3_350
25560 000051AA 2228              7963             TST     R2,R2                   ;
25561                            7964             TST_BIT_OF ERR_INFO_DTCHK3_380  ;
25562 000051AC 8903                   M           BT      ERR_INFO_DTCHK3_380
25563                            7965             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT3,WKREG
                                          =R1 ;//(不正ｱｸｾｽ有り)
25564 000051AE D10A                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
25565 000051B0 6011                   M           MOV.W   @R1,R0          ;
25566 000051B2 CB08                   M           OR      #BIT3,R0                ;
25567 000051B4 2101                   M           MOV.W   R0,@R1          ;
25568 000051B6                   7966     ERR_INFO_DTCHK3_380:
25569                            7967     
25570                            7968     
25571                            7969     ;       ==== REST PLS ﾁｪｯｸ(別次元かな)====
25572                            7970             FAR_JSR #_ERR_INFO_DT_CHK3X,R0          ;OVER
25573 000051B6 D00E                   M           MOV.L   #_ERR_INFO_DT_CHK3X,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25574 000051B8 400B                   M           JSR     @R0                     ;
25575 000051BA 0009                   M           NOP                                     ;
25576                            7971     
25577                            7972     
25578 000051BC                   7973     ERR_INFO_DTCHK3_EXT:
25579                            7974     
25580                            7975             SUB_END
25581                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25582 000051BC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25583                            7976             M_RTS
25584 000051BE 000B                   M           RTS                             ;RTSの後ろの
25585 000051C0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25586                            7977     
25587                            7978     ;       ***************************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   347
PROGRAM NAME =

25588                            7979     ;       ***                                             ***
25589                            7980     ;       ***     目標位置+2000＜現在位置+RESETPULS       ***
25590                            7981     ;       ***     注意 REST-PLSは20msec後から読み出す     ***
25591                            7982     ;       ***                                             ***
25592                            7983     ;       ***************************************************
25593                                     ***** BEGIN-POOL *****
25594 000051C2 000A                       DATA FOR SOURCE-LINE 7954
25595 000051C4 00000000                   DATA FOR SOURCE-LINE 7882
25596 000051C8 00000000                   DATA FOR SOURCE-LINE 7883,7930
25597 000051CC 00000000                   DATA FOR SOURCE-LINE 7886
25598 000051D0 00000000                   DATA FOR SOURCE-LINE 7893
25599 000051D4 00000000                   DATA FOR SOURCE-LINE 7899
25600 000051D8 00000000                   DATA FOR SOURCE-LINE 7906,7925,7943,7965
25601 000051DC 00000000                   DATA FOR SOURCE-LINE 7914
25602 000051E0 00000000                   DATA FOR SOURCE-LINE 7920
25603 000051E4 00000000                   DATA FOR SOURCE-LINE 7933
25604 000051E8 00000000                   DATA FOR SOURCE-LINE 7945
25605 000051EC 00000000                   DATA FOR SOURCE-LINE 7956
25606 000051F0 00000000                   DATA FOR SOURCE-LINE 7970
25607                                     ***** END-POOL *****
25608 000051F4                   7984             .ALIGN  4                               ;
25609 000051F4                   7985     _ERR_INFO_DT_CHK3X:
25610                            7986             SUB_START
25611 000051F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
25612                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25613                            7987     
25614 000051F6 D103              7988             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
25615 000051F8 6011              7989             MOV.W   @R1,R0                  ;
25616 000051FA C801              7990             TST     #BIT0,R0                ;
25617                            7991             TST_BIT_OF ERR_INFO_DTCHK3X_100 ;
25618 000051FC 8904                   M           BT      ERR_INFO_DTCHK3X_100
25619                            7992             M_BRA   ERR_INFO_DTCHK3X_200    ;
25620 000051FE A02F                   M           BRA     ERR_INFO_DTCHK3X_200
25621 00005200 0009                   M           NOP
25622                            7993     ;       ==== 正転運転 =====
25623                                     ***** BEGIN-POOL *****
25624 00005202 0000                       ALIGNMENT CODE
25625 00005204 00000000                   DATA FOR SOURCE-LINE 7988
25626                                     ***** END-POOL *****
25627 00005208                   7994     ERR_INFO_DTCHK3X_100:
25628                            7995             FAR_JSR #_LOAD_REST_PLS,R0                      ;残りﾊﾟﾙｽ R0
25629 00005208 D010                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25630 0000520A 400B                   M           JSR     @R0                     ;
25631 0000520C 0009                   M           NOP                                     ;
25632                            7996     
25633 0000520E D110              7997             MOV.L   #_LINK_SV_OBJ_ABSPLS,R1                 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
25634 00005210 6216              7998             MOV.L   @R1+,R2                                 ;
25635 00005212 6312              7999             MOV.L   @R1,R3                                  ;
25636 00005214 211A              8000             XOR     R1,R1
25637 00005216 9418              8001             MOV.W   #_PLS_ERR_HABPLS1,R4                    ;2000
25638                            8002             ADD8B DT_REGH=R1,DT_REGL=R4,DT_ANS_REGH=R2,DT_ANS_REGL=R3       ;OBJ+2000=R2,R3
25639 00005218 0008                   M           CLRT
25640 0000521A 334E                   M           ADDC    R4,R3
25641 0000521C 321E                   M           ADDC    R1,R2
25642                            8003     
25643                            8004     ;;;     MOV.L   #_LINK_RL_OBJ_ABSPLS,R1                                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   348
PROGRAM NAME =

25644 0000521E D10D              8005             MOV.L   #_LINK_PV_ABSPLS,R1                                     ;20060919
25645 00005220 6416              8006             MOV.L   @R1+,R4                                                 ;
25646 00005222 6512              8007             MOV.L   @R1,R5                                                  ;
25647 00005224 211A              8008             XOR     R1,R1                                                   ;R1,R0(残りﾊﾟﾙｽ)
25648                            8009             ADD8B DT_REGH=R1,DT_REGL=R0,DT_ANS_REGH=R4,DT_ANS_REGL=R5       ;PV+REST=R4,R5
25649 00005226 0008                   M           CLRT
25650 00005228 350E                   M           ADDC    R0,R5
25651 0000522A 341E                   M           ADDC    R1,R4
25652                            8010     
25653                            8011             SUB8B DT_REGH=R4,DT_REGL=R5,DT_ANS_REGH=R2,DT_ANS_REGL=R3
25654 0000522C 0008                   M           CLRT
25655 0000522E 335A                   M           SUBC    R5,R3
25656 00005230 324A                   M           SUBC    R4,R2
25657                            8012     ;       R2,R3 - R4,R5= R2,R3 >=0 THEN NOMAL
25658 00005232 4211              8013             CMP/PZ  R2                      ;
25659 00005234 8914              8014             BT      ERR_INFO_DTCHK3X_300    ;
25660                            8015     ;       === "-" ===
25661                            8016             .AIF    0 EQ    0
25662                            8017 C           MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//OVER-RUN
25663 00005236 D108                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
25664 00005238 6011                   M           MOV.W   @R1,R0          ;
25665 0000523A CB10                   M           OR      #BIT4,R0                ;
25666 0000523C 2101                   M           MOV.W   R0,@R1          ;
25667                            8018             .AELSE
25668                            8019             .AENDI
25669 0000523E D107              8020             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B07,R1          ;
25670 00005240 6011              8021             MOV.W   @R1,R0                                          ;
25671 00005242 7001              8022             ADD     #1,R0                                           ;
25672 00005244 2101              8023             MOV.W   R0,@R1                                          ;
25673                            8024     
25674                            8025             M_BRA   ERR_INFO_DTCHK3X_300    ;
25675 00005246 A00B                   M           BRA     ERR_INFO_DTCHK3X_300
25676 00005248 0009                   M           NOP
25677                            8026     ;       ==== 逆転運転 =====
25678                                     ***** BEGIN-POOL *****
25679 0000524A 07D0                       DATA FOR SOURCE-LINE 8001
25680 0000524C 00000000                   DATA FOR SOURCE-LINE 7995
25681 00005250 00000000                   DATA FOR SOURCE-LINE 7997
25682 00005254 00000000                   DATA FOR SOURCE-LINE 8005
25683 00005258 00000000                   DATA FOR SOURCE-LINE 8017
25684 0000525C 00000000                   DATA FOR SOURCE-LINE 8020
25685                                     ***** END-POOL *****
25686 00005260                   8027     ERR_INFO_DTCHK3X_200:
25687 00005260                   8028     ERR_INFO_DTCHK3X_300:
25688                            8029     
25689                            8030             SUB_END
25690                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25691 00005260 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25692                            8031             M_RTS
25693 00005262 000B                   M           RTS                             ;RTSの後ろの
25694 00005264 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25695                            8032     
25696                            8033     ;       ***********************************
25697                            8034     ;       ***                             ***
25698                            8035     ;       ***     残りﾊﾟﾙｽﾁｪｯｸ            ***
25699                            8036     ;       ***     二重回路                ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   349
PROGRAM NAME =

25700                            8037     ;       ***                             ***
25701                            8038     ;       ***********************************
25702                            8039             .MACRO REST_PLSCMP2_ERRCHK1 REG1,REG2,IMD,ERRBIT        ;
25703                            8040             XOR     R0,R0                                           ;
25704                            8041             SUB     \REG1,\REG2                                     ;
25705                            8042             CMP/PZ  \REG2                                           ;
25706                            8043             BT      JMP01\@                                         ;DATA=<MAX
25707                            8044             NEG     \REG2,\REG2                                     ;
25708                            8045     JMP01\@:                                                        ;
25709                            8046             MOV.L   #\IMD,\REG1                                     ;
25710                            8047             CMP/HI  \REG2,\REG1                                     ;REG1<REG2
25711                            8048             BT      JMP02\@                                         ;DATA=<MAX
25712                            8049             MOV.W   #\ERRBIT,R0                                     ;
25713                            8050     JMP02\@:                                                        ;
25714                            8051     
25715                            8052             .ENDM
25716                            8053     
25717                            8054     ;       ---2005-04-14-E(4/18)
25718                            8055             .MACRO REST_PLSCMP2_ERRCHK2 REG1,REG2,IMD,ERRBIT,CNT_ADR,CNT_MAX;
25719                            8056             XOR     R0,R0                                           ;
25720                            8057             SUB     \REG1,\REG2                                     ;
25721                            8058             CMP/PZ  \REG2                                           ;
25722                            8059             BT      JMP01\@                                         ;DATA=<MAX
25723                            8060             NEG     \REG2,\REG2                                     ;
25724                            8061     JMP01\@:                                                        ;
25725                            8062             MOV.L   #\IMD,\REG1                                     ;
25726                            8063             CMP/HI  \REG2,\REG1                                     ;REG1<REG2
25727                            8064             BT      JMP02\@                                         ;DATA=<MAX
25728                            8065             MOV.L   #\CNT_ADR,\REG1                                 ;
25729                            8066             MOV.W   @\REG1,R0                                       ;CNT+1
25730                            8067             ADD     #1,R0                                           ;
25731                            8068             MOV.W   R0,@\REG1                                       ;
25732                            8069             MOV.W   #\CNT_MAX,\REG1                                 ;
25733                            8070             CMP/HS  \REG1,R0                                        ;MAX =< R0
25734                            8071             BF      JMP03\@                                         ;
25735                            8072             MOV.W   #\ERRBIT,R0                                     ;
25736                            8073             M_BRA   JMP04\@                                         ;ERR
25737                            8074     JMP02\@:                                                        ;
25738                            8075             XOR     R0,R0                                           ;
25739                            8076             MOV.L   #\CNT_ADR,\REG1                                 ;
25740                            8077             MOV.W   R0,@\REG1                                       ;0CLR + ANS=0
25741                            8078     JMP03\@:                                                        ;
25742                            8079             XOR     R0,R0                                           ;
25743                            8080     JMP04\@:                                                        ;
25744                            8081             .ENDM
25745                            8082     
25746                            8083     
25747                            8084     
25748                            8085     
25749                            8086     
25750                            8087     
25751                            8088     
25752                            8089     
25753                            8090     
25754                            8091     
25755                            8092     
25756                            8093     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   350
PROGRAM NAME =

25757                            8094     ;       ***     ﾊﾞｯｸｱｯﾌﾟ条件ﾁｪｯｸ        ***
25758                            8095     ;       ***     非常停止の中で呼ばれる  ***
25759                            8096     ;       ***********************************
25760                            8097             .EXPORT _ERR_INFO_BAKUP_START
25761                            8098     
25762                            8099     
25763                            8100     
25764 00005268                   8101             .ALIGN  4                               ;
25765 00005268                   8102     _ERR_INFO_BAKUP_START
25766                            8103             SUB_START
25767 00005268 4F22                   M           STS.L   PR,@-R15                ;[必要]
25768                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25769 0000526A D107              8104             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
25770 0000526C 6011              8105             MOV.W   @R1,R0                          ;
25771 0000526E 2008              8106             TST     R0,R0                           ;
25772                            8107             TST_BIT_ON ERR_INFO_BAKUP_ST_END        ;
25773 00005270 8B07                   M           BF      ERR_INFO_BAKUP_ST_END
25774                            8108             MEM1_BIT0_TO_BIT7_ORSET MEM=_ERR_INFO_SAVE_LATCH,LG=W,BIT=BIT0,WKREG=R1 ;//SAVE-LA
                                          TCH
25775 00005272 D105                   M           MOV.L   #_ERR_INFO_SAVE_LATCH,R1                ;
25776 00005274 6011                   M           MOV.W   @R1,R0          ;
25777 00005276 CB01                   M           OR      #BIT0,R0                ;
25778 00005278 2101                   M           MOV.W   R0,@R1          ;
25779                            8109             MEM1_BIT0_TO_BIT7_ORSET MEM=_ERR_INFO_SAVE_FLG,LG=W,BIT=BIT0,WKREG=R1 ;//SAVE-STAR
                                          T
25780 0000527A D104                   M           MOV.L   #_ERR_INFO_SAVE_FLG,R1          ;
25781 0000527C 6011                   M           MOV.W   @R1,R0          ;
25782 0000527E CB01                   M           OR      #BIT0,R0                ;
25783 00005280 2101                   M           MOV.W   R0,@R1          ;
25784                            8110     
25785                            8111     
25786 00005282                   8112     ERR_INFO_BAKUP_ST_END
25787                            8113             SUB_END
25788                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25789 00005282 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25790                            8114             M_RTS
25791 00005284 000B                   M           RTS                             ;RTSの後ろの
25792 00005286 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25793                            8115     
25794                            8116             .EXPORT         _ERR_INFO_RST_CLR
25795                                     ***** BEGIN-POOL *****
25796 00005288 00000000                   DATA FOR SOURCE-LINE 8104,8108
25797 0000528C 00000000                   DATA FOR SOURCE-LINE 8109
25798                                     ***** END-POOL *****
25799 00005290                   8117             .ALIGN  4                               ;
25800 00005290                   8118     _ERR_INFO_RST_CLR:
25801                            8119             SUB_START
25802 00005290 4F22                   M           STS.L   PR,@-R15                ;[必要]
25803                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25804                            8120             FAR_JSR #_ERR_INFO_WK_CLR,R0
25805 00005292 D005                   M           MOV.L   #_ERR_INFO_WK_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25806 00005294 400B                   M           JSR     @R0                     ;
25807 00005296 0009                   M           NOP                                     ;
25808                            8121     
25809 00005298 200A              8122             XOR     R0,R0
25810 0000529A D104              8123             MOV.L   #_ERR_INFO_SAVE_FLG,R1
25811 0000529C 2101              8124             MOV.W   R0,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   351
PROGRAM NAME =

25812                            8125     
25813 0000529E D104              8126             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
25814 000052A0 2101              8127             MOV.W   R0,@R1                          ;
25815                            8128             SUB_END
25816                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25817 000052A2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25818                            8129             M_RTS
25819 000052A4 000B                   M           RTS                             ;RTSの後ろの
25820 000052A6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25821                            8130     
25822                            8131     ;       ***************************
25823                            8132     ;       ***                     ***
25824                            8133     ;       ***                     ***
25825                            8134     ;       ***                     ***
25826                            8135     ;       ***************************
25827                                     ***** BEGIN-POOL *****
25828 000052A8 00000000                   DATA FOR SOURCE-LINE 8120
25829 000052AC 00000000                   DATA FOR SOURCE-LINE 8123
25830 000052B0 00000000                   DATA FOR SOURCE-LINE 8126
25831                                     ***** END-POOL *****
25832 000052B4                   8136             .ALIGN  4                               ;
25833 000052B4                   8137     _ERR_INFO_WK_CLR:
25834                            8138             SUB_START
25835 000052B4 4F22                   M           STS.L   PR,@-R15                ;[必要]
25836                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25837 000052B6 200A              8139             XOR     R0,R0
25838 000052B8 D107              8140             MOV.L   #_WK_ERR_INFO_CPU_TOP,R1
25839 000052BA 920B              8141             MOV.W   #_CB_ERR_INFO_MEM/4,R2          ;
25840                            8142     
25841 000052BC                   8143     ERR_INFO_WKCLR_LOP:
25842 000052BC 2102              8144             MOV.L   R0,@R1                          ;
25843 000052BE 7104              8145             ADD     #4,R1                           ;
25844 000052C0 72FF              8146             ADD     #-1,R2                          ;
25845 000052C2 2228              8147             TST     R2,R2                           ;
25846                            8148             TST_BIT_ON ERR_INFO_WKCLR_LOP           ;
25847 000052C4 8BFA                   M           BF      ERR_INFO_WKCLR_LOP
25848                            8149     
25849                            8150     ;       ------- 2010-10-25---
25850 000052C6 D105              8151             MOV.L   #_CHK_ADD_DATA_LATCH,R1         ;
25851 000052C8 2102              8152             MOV.L   R0,@R1                          ;
25852 000052CA 7104              8153             ADD     #4,R1                           ;
25853 000052CC 2102              8154             MOV.L   R0,@R1                          ;
25854                            8155     
25855                            8156             SUB_END
25856                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25857 000052CE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25858                            8157             M_RTS
25859 000052D0 000B                   M           RTS                             ;RTSの後ろの
25860 000052D2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25861                            8158     
25862                            8159     ;       ***********************************
25863                            8160     ;       ***                             ***
25864                            8161     ;       ***     １つだけ                ***
25865                            8162     ;       ***     自分の情報を相手に送り  ***
25866                            8163     ;       ***     相手の情報を取り込む    ***
25867                            8164     ;       ***     ﾃﾞｰﾀｸﾞﾗﾌを作成          ***
25868                            8165     ;       ***                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   352
PROGRAM NAME =

25869                            8166     ;       ***********************************
25870                                     ***** BEGIN-POOL *****
25871 000052D4 0020                       DATA FOR SOURCE-LINE 8141
25872 000052D6 0000                       ALIGNMENT CODE
25873 000052D8 00000000                   DATA FOR SOURCE-LINE 8140
25874 000052DC 00000000                   DATA FOR SOURCE-LINE 8151
25875                                     ***** END-POOL *****
25876 000052E0                   8167             .ALIGN  4                               ;
25877 000052E0                   8168     _CHG_STEP_INFO_MAKE_STEP_DAT:
25878                            8169             SUB_START
25879 000052E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
25880                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25881                            8170             PUSH_REG1 R0
25882 000052E2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25883                                 M                                           ;REG=>[SP]
25884                                 M                                           ;"-4" FF,FF,FF,FC
25885                            8171             PUSH_REG1 R1
25886 000052E4 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25887                                 M                                           ;REG=>[SP]
25888                                 M                                           ;"-4" FF,FF,FF,FC
25889                            8172             PUSH_REG1 R2
25890 000052E6 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25891                                 M                                           ;REG=>[SP]
25892                                 M                                           ;"-4" FF,FF,FF,FC
25893                            8173             PUSH_REG1 R3
25894 000052E8 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25895                                 M                                           ;REG=>[SP]
25896                                 M                                           ;"-4" FF,FF,FF,FC
25897                            8174             PUSH_REG1 R4
25898 000052EA 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
25899                                 M                                           ;REG=>[SP]
25900                                 M                                           ;"-4" FF,FF,FF,FC
25901                            8175             FAR_JSR #_LOAD_FREQ_PLS,R0
25902 000052EC D015                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25903 000052EE 400B                   M           JSR     @R0                     ;
25904 000052F0 0009                   M           NOP                                     ;
25905 000052F2 D115              8176             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
25906 000052F4 2101              8177             MOV.W   R0,@R1
                                          ;
25907                            8178             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH4_STEP_SV_PLS       ,L
                                          ,R1,R2,R3       ;
25908 000052F6 D115                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
25909 000052F8 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25910 000052FA D315                   M           MOV.L   #_SH4_STEP_SV_PLS,R3    ;DST_ADR
25911 000052FC 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25912                            8179             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4               ,L      ,_SH4_STEP_PV_PLS       ,L
                                          ,R1,R2,R3       ;
25913 000052FE D115                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
25914 00005300 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25915 00005302 D315                   M           MOV.L   #_SH4_STEP_PV_PLS,R3    ;DST_ADR
25916 00005304 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25917                            8180             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH4_STEP_REST_P       ,L
                                          ,R1,R2,R3       ;
25918 00005306 D115                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
25919 00005308 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25920 0000530A D315                   M           MOV.L   #_SH4_STEP_REST_P,R3    ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   353
PROGRAM NAME =

25921 0000530C 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25922                            8181             MEM_MOV_TO_MEM  _LNGTH_TOTAL_OUTPLS             ,L      ,_SH4_TOTAL_PLS ,L,R1,R2,R
                                          3       ;
25923 0000530E D115                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS,R1
25924 00005310 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25925 00005312 D315                   M           MOV.L   #_SH4_TOTAL_PLS,R3      ;DST_ADR
25926 00005314 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25927                            8182     ;;      MEM_MOV_TO_MEM  _IN_POS_GPOINT_POS              ,L      ,_SH4_ADD_PLS           ,L
                                          ,R1,R2,R3       ;
25928                            8183     
25929                            8184             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH4_STEP_FRQ          ,W
                                          ,R1,R2,R3       ;
25930 00005316 D10C                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
25931 00005318 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25932 0000531A D314                   M           MOV.L   #_SH4_STEP_FRQ,R3       ;DST_ADR
25933 0000531C 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25934                            8185             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH4_STEP_TIM          ,W
                                          ,R1,R2,R3       ;
25935 0000531E D114                   M           MOV.L   #_CPU_CTRL_CLK,R1
25936 00005320 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25937 00005322 D314                   M           MOV.L   #_SH4_STEP_TIM,R3       ;DST_ADR
25938 00005324 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25939                            8186             MEM_MOV_TO_MEM  _INT_POS_CTL_STEP               ,W      ,_SH4_NOW_STEP          ,W
                                          ,R1,R2,R3       ;
25940 00005326 D114                   M           MOV.L   #_INT_POS_CTL_STEP,R1
25941 00005328 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25942 0000532A D314                   M           MOV.L   #_SH4_NOW_STEP,R3       ;DST_ADR
25943 0000532C 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25944                            8187     
25945                            8188             FAR_JSR #_DATA_GRF_CNT_DATA_MAKE,R0
25946 0000532E D014                   M           MOV.L   #_DATA_GRF_CNT_DATA_MAKE,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25947 00005330 400B                   M           JSR     @R0                     ;
25948 00005332 0009                   M           NOP                                     ;
25949                            8189             POP_REG1 R4
25950                                 M                                   ; RE"+4" 00,00,00,04
25951 00005334 64F6                   M           MOV.L   @R15+,R4        ;
25952                            8190             POP_REG1 R3
25953                                 M                                   ; RE"+4" 00,00,00,04
25954 00005336 63F6                   M           MOV.L   @R15+,R3        ;
25955                            8191             POP_REG1 R2
25956                                 M                                   ; RE"+4" 00,00,00,04
25957 00005338 62F6                   M           MOV.L   @R15+,R2        ;
25958                            8192             POP_REG1 R1
25959                                 M                                   ; RE"+4" 00,00,00,04
25960 0000533A 61F6                   M           MOV.L   @R15+,R1        ;
25961                            8193             POP_REG1 R0
25962                                 M                                   ; RE"+4" 00,00,00,04
25963 0000533C 60F6                   M           MOV.L   @R15+,R0        ;
25964                            8194             SUB_END
25965                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25966 0000533E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25967                            8195             M_RTS
25968 00005340 000B                   M           RTS                             ;RTSの後ろの
25969 00005342 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25970                            8196     
25971                            8197     ;       ***********************************
25972                            8198     ;       ***     連続の行程切り替わり    ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   354
PROGRAM NAME =

25973                            8199     ;       ***********************************
25974                            8200     ;       行程3->1のときの演算前のﾃﾞｰﾀ を4へ
25975                            8201     ;       ﾓﾆﾀ用
25976                                     ***** BEGIN-POOL *****
25977 00005344 00000000                   DATA FOR SOURCE-LINE 8175
25978 00005348 00000000                   DATA FOR SOURCE-LINE 8176,8184
25979 0000534C 00000000                   DATA FOR SOURCE-LINE 8178
25980 00005350 00000000                   DATA FOR SOURCE-LINE 8178
25981 00005354 00000000                   DATA FOR SOURCE-LINE 8179
25982 00005358 00000000                   DATA FOR SOURCE-LINE 8179
25983 0000535C 00000000                   DATA FOR SOURCE-LINE 8180
25984 00005360 00000000                   DATA FOR SOURCE-LINE 8180
25985 00005364 00000000                   DATA FOR SOURCE-LINE 8181
25986 00005368 00000000                   DATA FOR SOURCE-LINE 8181
25987 0000536C 00000000                   DATA FOR SOURCE-LINE 8184
25988 00005370 00000000                   DATA FOR SOURCE-LINE 8185
25989 00005374 00000000                   DATA FOR SOURCE-LINE 8185
25990 00005378 00000000                   DATA FOR SOURCE-LINE 8186
25991 0000537C 00000000                   DATA FOR SOURCE-LINE 8186
25992 00005380 00000000                   DATA FOR SOURCE-LINE 8188
25993                                     ***** END-POOL *****
25994 00005384                   8202             .ALIGN  4                               ;
25995 00005384                   8203     _CHG_STEP_INFO_MAKE_ESTEP_BEFOR
25996                            8204             SUB_START
25997 00005384 4F22                   M           STS.L   PR,@-R15                ;[必要]
25998                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25999                            8205             PUSH_REG1 R0
26000 00005386 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
26001                                 M                                           ;REG=>[SP]
26002                                 M                                           ;"-4" FF,FF,FF,FC
26003                            8206             PUSH_REG1 R1
26004 00005388 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
26005                                 M                                           ;REG=>[SP]
26006                                 M                                           ;"-4" FF,FF,FF,FC
26007                            8207             PUSH_REG1 R2
26008 0000538A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
26009                                 M                                           ;REG=>[SP]
26010                                 M                                           ;"-4" FF,FF,FF,FC
26011                            8208             PUSH_REG1 R3
26012 0000538C 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
26013                                 M                                           ;REG=>[SP]
26014                                 M                                           ;"-4" FF,FF,FF,FC
26015                            8209             FAR_JSR #_LOAD_FREQ_PLS,R0
26016 0000538E D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26017 00005390 400B                   M           JSR     @R0                     ;
26018 00005392 0009                   M           NOP                                     ;
26019 00005394 D10F              8210             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
26020 00005396 2101              8211             MOV.W   R0,@R1
                                          ;
26021                            8212             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH4_STEP4_SV_PLS      ,L
                                          ,R1,R2,R3       ;
26022 00005398 D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
26023 0000539A 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26024 0000539C D30F                   M           MOV.L   #_SH4_STEP4_SV_PLS,R3   ;DST_ADR
26025 0000539E 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26026                            8213             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4               ,L      ,_SH4_STEP4_PV_PLS      ,L
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   355
PROGRAM NAME =

                                          ,R1,R2,R3;
26027 000053A0 D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
26028 000053A2 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26029 000053A4 D30F                   M           MOV.L   #_SH4_STEP4_PV_PLS,R3   ;DST_ADR
26030 000053A6 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26031                            8214             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH4_STEP4_REST_P      ,L
                                          ,R1,R2,R3;
26032 000053A8 D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
26033 000053AA 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26034 000053AC D30F                   M           MOV.L   #_SH4_STEP4_REST_P,R3   ;DST_ADR
26035 000053AE 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26036                            8215             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH4_STEP4_FRQ ,W,R1,R2,R
                                          3;
26037 000053B0 D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
26038 000053B2 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
26039 000053B4 D30E                   M           MOV.L   #_SH4_STEP4_FRQ,R3      ;DST_ADR
26040 000053B6 2321                   M           MOV.W   R2,@R3  ;DST_ADR
26041                            8216             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH4_STEP4_TIM ,W,R1,R2,R
                                          3;
26042 000053B8 D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
26043 000053BA 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
26044 000053BC D30E                   M           MOV.L   #_SH4_STEP4_TIM,R3      ;DST_ADR
26045 000053BE 2321                   M           MOV.W   R2,@R3  ;DST_ADR
26046                            8217     
26047                            8218             POP_REG1 R3
26048                                 M                                   ; RE"+4" 00,00,00,04
26049 000053C0 63F6                   M           MOV.L   @R15+,R3        ;
26050                            8219             POP_REG1 R2
26051                                 M                                   ; RE"+4" 00,00,00,04
26052 000053C2 62F6                   M           MOV.L   @R15+,R2        ;
26053                            8220             POP_REG1 R1
26054                                 M                                   ; RE"+4" 00,00,00,04
26055 000053C4 61F6                   M           MOV.L   @R15+,R1        ;
26056                            8221             POP_REG1 R0
26057                                 M                                   ; RE"+4" 00,00,00,04
26058 000053C6 60F6                   M           MOV.L   @R15+,R0        ;
26059                            8222             SUB_END
26060                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26061 000053C8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26062                            8223             M_RTS
26063 000053CA 000B                   M           RTS                             ;RTSの後ろの
26064 000053CC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26065                            8224     
26066                            8225     ;       行程3->1のときの演算後のﾃﾞｰﾀ を1へ
26067                                     ***** BEGIN-POOL *****
26068 000053CE 0000                       ALIGNMENT CODE
26069 000053D0 00000000                   DATA FOR SOURCE-LINE 8209
26070 000053D4 00000000                   DATA FOR SOURCE-LINE 8210,8215
26071 000053D8 00000000                   DATA FOR SOURCE-LINE 8212
26072 000053DC 00000000                   DATA FOR SOURCE-LINE 8212
26073 000053E0 00000000                   DATA FOR SOURCE-LINE 8213
26074 000053E4 00000000                   DATA FOR SOURCE-LINE 8213
26075 000053E8 00000000                   DATA FOR SOURCE-LINE 8214
26076 000053EC 00000000                   DATA FOR SOURCE-LINE 8214
26077 000053F0 00000000                   DATA FOR SOURCE-LINE 8215
26078 000053F4 00000000                   DATA FOR SOURCE-LINE 8216
26079 000053F8 00000000                   DATA FOR SOURCE-LINE 8216
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   356
PROGRAM NAME =

26080                                     ***** END-POOL *****
26081 000053FC                   8226             .ALIGN  4                               ;
26082 000053FC                   8227     _CHG_STEP_INFO_MAKE_ESTEP_AFTER
26083                            8228             SUB_START
26084 000053FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
26085                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26086                            8229             PUSH_REG1 R0
26087 000053FE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
26088                                 M                                           ;REG=>[SP]
26089                                 M                                           ;"-4" FF,FF,FF,FC
26090                            8230             PUSH_REG1 R1
26091 00005400 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
26092                                 M                                           ;REG=>[SP]
26093                                 M                                           ;"-4" FF,FF,FF,FC
26094                            8231             PUSH_REG1 R2
26095 00005402 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
26096                                 M                                           ;REG=>[SP]
26097                                 M                                           ;"-4" FF,FF,FF,FC
26098                            8232             PUSH_REG1 R3
26099 00005404 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
26100                                 M                                           ;REG=>[SP]
26101                                 M                                           ;"-4" FF,FF,FF,FC
26102                            8233             FAR_JSR #_LOAD_FREQ_PLS,R0
26103 00005406 D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26104 00005408 400B                   M           JSR     @R0                     ;
26105 0000540A 0009                   M           NOP                                     ;
26106 0000540C D10F              8234             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
26107 0000540E 2101              8235             MOV.W   R0,@R1
                                          ;
26108                            8236             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH4_STEP1_SV_PLS      ,L
                                          ,R1,R2,R3       ;
26109 00005410 D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
26110 00005412 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26111 00005414 D30F                   M           MOV.L   #_SH4_STEP1_SV_PLS,R3   ;DST_ADR
26112 00005416 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26113                            8237             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4       ,L      ,_SH4_STEP1_PV_PLS      ,L,R1,R2,R
                                          3;
26114 00005418 D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
26115 0000541A 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26116 0000541C D30F                   M           MOV.L   #_SH4_STEP1_PV_PLS,R3   ;DST_ADR
26117 0000541E 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26118                            8238             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH4_STEP1_REST_P      ,L
                                          ,R1,R2,R3;
26119 00005420 D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
26120 00005422 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26121 00005424 D30F                   M           MOV.L   #_SH4_STEP1_REST_P,R3   ;DST_ADR
26122 00005426 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26123                            8239             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH4_STEP1_FRQ ,W,R1,R2,R
                                          3;
26124 00005428 D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
26125 0000542A 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
26126 0000542C D30E                   M           MOV.L   #_SH4_STEP1_FRQ,R3      ;DST_ADR
26127 0000542E 2321                   M           MOV.W   R2,@R3  ;DST_ADR
26128                            8240             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH4_STEP1_TIM ,W,R1,R2,R
                                          3;
26129 00005430 D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   357
PROGRAM NAME =

26130 00005432 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
26131 00005434 D30E                   M           MOV.L   #_SH4_STEP1_TIM,R3      ;DST_ADR
26132 00005436 2321                   M           MOV.W   R2,@R3  ;DST_ADR
26133                            8241     
26134                            8242             POP_REG1 R3
26135                                 M                                   ; RE"+4" 00,00,00,04
26136 00005438 63F6                   M           MOV.L   @R15+,R3        ;
26137                            8243             POP_REG1 R2
26138                                 M                                   ; RE"+4" 00,00,00,04
26139 0000543A 62F6                   M           MOV.L   @R15+,R2        ;
26140                            8244             POP_REG1 R1
26141                                 M                                   ; RE"+4" 00,00,00,04
26142 0000543C 61F6                   M           MOV.L   @R15+,R1        ;
26143                            8245             POP_REG1 R0
26144                                 M                                   ; RE"+4" 00,00,00,04
26145 0000543E 60F6                   M           MOV.L   @R15+,R0        ;
26146                            8246             SUB_END
26147                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26148 00005440 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26149                            8247             M_RTS
26150 00005442 000B                   M           RTS                             ;RTSの後ろの
26151 00005444 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26152                            8248     
26153                            8249     
26154                            8250     ;       ***********************************
26155                            8251     ;       ***                             ***
26156                            8252     ;       ***********************************
26157                                     ***** BEGIN-POOL *****
26158 00005446 0000                       ALIGNMENT CODE
26159 00005448 00000000                   DATA FOR SOURCE-LINE 8233
26160 0000544C 00000000                   DATA FOR SOURCE-LINE 8234,8239
26161 00005450 00000000                   DATA FOR SOURCE-LINE 8236
26162 00005454 00000000                   DATA FOR SOURCE-LINE 8236
26163 00005458 00000000                   DATA FOR SOURCE-LINE 8237
26164 0000545C 00000000                   DATA FOR SOURCE-LINE 8237
26165 00005460 00000000                   DATA FOR SOURCE-LINE 8238
26166 00005464 00000000                   DATA FOR SOURCE-LINE 8238
26167 00005468 00000000                   DATA FOR SOURCE-LINE 8239
26168 0000546C 00000000                   DATA FOR SOURCE-LINE 8240
26169 00005470 00000000                   DATA FOR SOURCE-LINE 8240
26170                                     ***** END-POOL *****
26171 00005474                   8253             .ALIGN  4                               ;
26172 00005474                   8254     _CHG_STEP_INFO_MAKE_STEP_END:
26173                            8255             SUB_START
26174 00005474 4F22                   M           STS.L   PR,@-R15                ;[必要]
26175                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26176                            8256             PUSH_REG1 R0
26177 00005476 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
26178                                 M                                           ;REG=>[SP]
26179                                 M                                           ;"-4" FF,FF,FF,FC
26180                            8257             PUSH_REG1 R1
26181 00005478 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
26182                                 M                                           ;REG=>[SP]
26183                                 M                                           ;"-4" FF,FF,FF,FC
26184 0000547A D104              8258             MOV.L   #_INT_POS_CTL_STEP,R1           ;
26185 0000547C 6011              8259             MOV.W   @R1,R0                          ;
26186 0000547E 8802              8260             CMP/EQ  #2,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   358
PROGRAM NAME =

26187 00005480 8B08              8261             BF      CHG_STEP_INFO_MAKSTP_END_010    ;
26188                            8262             FAR_JSR #_CHG_STEP_INFO_MAKE_1STEP_END,R0
26189 00005482 D003                   M           MOV.L   #_CHG_STEP_INFO_MAKE_1STEP_END,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26190 00005484 400B                   M           JSR     @R0                     ;
26191 00005486 0009                   M           NOP                                     ;
26192                            8263             M_BRA   CHG_STEP_INFO_MAKSTP_END_EXT
26193 00005488 A00E                   M           BRA     CHG_STEP_INFO_MAKSTP_END_EXT
26194 0000548A 0009                   M           NOP
26195                            8264     
26196                                     ***** BEGIN-POOL *****
26197 0000548C 00000000                   DATA FOR SOURCE-LINE 8258
26198 00005490 00000000                   DATA FOR SOURCE-LINE 8262
26199                                     ***** END-POOL *****
26200 00005494                   8265     CHG_STEP_INFO_MAKSTP_END_010:
26201 00005494 8803              8266             CMP/EQ  #3,R0                                   ;
26202 00005496 8B07              8267             BF      CHG_STEP_INFO_MAKSTP_END_020            ;
26203                            8268             FAR_JSR #_CHG_STEP_INFO_MAKE_2STEP_END,R0       ;
26204 00005498 D002                   M           MOV.L   #_CHG_STEP_INFO_MAKE_2STEP_END,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26205 0000549A 400B                   M           JSR     @R0                     ;
26206 0000549C 0009                   M           NOP                                     ;
26207                            8269             M_BRA   CHG_STEP_INFO_MAKSTP_END_EXT            ;
26208 0000549E A003                   M           BRA     CHG_STEP_INFO_MAKSTP_END_EXT
26209 000054A0 0009                   M           NOP
26210                                     ***** BEGIN-POOL *****
26211 000054A2 0000                       ALIGNMENT CODE
26212 000054A4 00000000                   DATA FOR SOURCE-LINE 8268
26213                                     ***** END-POOL *****
26214 000054A8                   8270     CHG_STEP_INFO_MAKSTP_END_020:
26215                            8271     
26216 000054A8                   8272     CHG_STEP_INFO_MAKSTP_END_EXT:
26217                            8273             POP_REG1 R1
26218                                 M                                   ; RE"+4" 00,00,00,04
26219 000054A8 61F6                   M           MOV.L   @R15+,R1        ;
26220                            8274             POP_REG1 R0
26221                                 M                                   ; RE"+4" 00,00,00,04
26222 000054AA 60F6                   M           MOV.L   @R15+,R0        ;
26223                            8275             SUB_END
26224                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26225 000054AC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26226                            8276             M_RTS
26227 000054AE 000B                   M           RTS                             ;RTSの後ろの
26228 000054B0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26229                            8277     
26230                            8278     
26231                            8279     ;       === 1->2 1の情報を2へ==
26232 000054B4                   8280             .ALIGN  4                               ;
26233 000054B4                   8281     _CHG_STEP_INFO_MAKE_1STEP_END
26234                            8282             SUB_START
26235 000054B4 4F22                   M           STS.L   PR,@-R15                ;[必要]
26236                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26237                            8283             PUSH_REG1 R0
26238 000054B6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
26239                                 M                                           ;REG=>[SP]
26240                                 M                                           ;"-4" FF,FF,FF,FC
26241                            8284             PUSH_REG1 R1
26242 000054B8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
26243                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   359
PROGRAM NAME =

26244                                 M                                           ;"-4" FF,FF,FF,FC
26245                            8285             PUSH_REG1 R2
26246 000054BA 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
26247                                 M                                           ;REG=>[SP]
26248                                 M                                           ;"-4" FF,FF,FF,FC
26249                            8286             PUSH_REG1 R3
26250 000054BC 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
26251                                 M                                           ;REG=>[SP]
26252                                 M                                           ;"-4" FF,FF,FF,FC
26253                            8287             FAR_JSR #_LOAD_FREQ_PLS,R0
26254 000054BE D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26255 000054C0 400B                   M           JSR     @R0                     ;
26256 000054C2 0009                   M           NOP                                     ;
26257 000054C4 D10F              8288             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
26258 000054C6 2101              8289             MOV.W   R0,@R1
                                          ;
26259                            8290             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH4_STEP2_SV_PLS      ,L
                                          ,R1,R2,R3       ;
26260 000054C8 D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
26261 000054CA 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26262 000054CC D30F                   M           MOV.L   #_SH4_STEP2_SV_PLS,R3   ;DST_ADR
26263 000054CE 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26264                            8291             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4               ,L      ,_SH4_STEP2_PV_PLS      ,L
                                          ,R1,R2,R3       ;
26265 000054D0 D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
26266 000054D2 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26267 000054D4 D30F                   M           MOV.L   #_SH4_STEP2_PV_PLS,R3   ;DST_ADR
26268 000054D6 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26269                            8292             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH4_STEP2_REST_P      ,L
                                          ,R1,R2,R3       ;
26270 000054D8 D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
26271 000054DA 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26272 000054DC D30F                   M           MOV.L   #_SH4_STEP2_REST_P,R3   ;DST_ADR
26273 000054DE 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26274                            8293             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH4_STEP2_FRQ ,W,R1,R2,R
                                          3       ;
26275 000054E0 D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
26276 000054E2 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
26277 000054E4 D30E                   M           MOV.L   #_SH4_STEP2_FRQ,R3      ;DST_ADR
26278 000054E6 2321                   M           MOV.W   R2,@R3  ;DST_ADR
26279                            8294             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH4_STEP2_TIM ,W,R1,R2,R
                                          3       ;
26280 000054E8 D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
26281 000054EA 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
26282 000054EC D30E                   M           MOV.L   #_SH4_STEP2_TIM,R3      ;DST_ADR
26283 000054EE 2321                   M           MOV.W   R2,@R3  ;DST_ADR
26284                            8295             POP_REG1 R3
26285                                 M                                   ; RE"+4" 00,00,00,04
26286 000054F0 63F6                   M           MOV.L   @R15+,R3        ;
26287                            8296             POP_REG1 R2
26288                                 M                                   ; RE"+4" 00,00,00,04
26289 000054F2 62F6                   M           MOV.L   @R15+,R2        ;
26290                            8297             POP_REG1 R1
26291                                 M                                   ; RE"+4" 00,00,00,04
26292 000054F4 61F6                   M           MOV.L   @R15+,R1        ;
26293                            8298             POP_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   360
PROGRAM NAME =

26294                                 M                                   ; RE"+4" 00,00,00,04
26295 000054F6 60F6                   M           MOV.L   @R15+,R0        ;
26296                            8299             SUB_END
26297                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26298 000054F8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26299                            8300             M_RTS
26300 000054FA 000B                   M           RTS                             ;RTSの後ろの
26301 000054FC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26302                            8301     
26303                            8302     ;       === 2->3 3の情報 ==
26304                                     ***** BEGIN-POOL *****
26305 000054FE 0000                       ALIGNMENT CODE
26306 00005500 00000000                   DATA FOR SOURCE-LINE 8287
26307 00005504 00000000                   DATA FOR SOURCE-LINE 8288,8293
26308 00005508 00000000                   DATA FOR SOURCE-LINE 8290
26309 0000550C 00000000                   DATA FOR SOURCE-LINE 8290
26310 00005510 00000000                   DATA FOR SOURCE-LINE 8291
26311 00005514 00000000                   DATA FOR SOURCE-LINE 8291
26312 00005518 00000000                   DATA FOR SOURCE-LINE 8292
26313 0000551C 00000000                   DATA FOR SOURCE-LINE 8292
26314 00005520 00000000                   DATA FOR SOURCE-LINE 8293
26315 00005524 00000000                   DATA FOR SOURCE-LINE 8294
26316 00005528 00000000                   DATA FOR SOURCE-LINE 8294
26317                                     ***** END-POOL *****
26318 0000552C                   8303             .ALIGN  4                               ;
26319 0000552C                   8304     _CHG_STEP_INFO_MAKE_2STEP_END
26320                            8305             SUB_START
26321 0000552C 4F22                   M           STS.L   PR,@-R15                ;[必要]
26322                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26323                            8306             PUSH_REG1 R0
26324 0000552E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
26325                                 M                                           ;REG=>[SP]
26326                                 M                                           ;"-4" FF,FF,FF,FC
26327                            8307             PUSH_REG1 R1
26328 00005530 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
26329                                 M                                           ;REG=>[SP]
26330                                 M                                           ;"-4" FF,FF,FF,FC
26331                            8308             PUSH_REG1 R2
26332 00005532 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
26333                                 M                                           ;REG=>[SP]
26334                                 M                                           ;"-4" FF,FF,FF,FC
26335                            8309             PUSH_REG1 R3
26336 00005534 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
26337                                 M                                           ;REG=>[SP]
26338                                 M                                           ;"-4" FF,FF,FF,FC
26339                            8310             FAR_JSR #_LOAD_FREQ_PLS,R0
26340 00005536 D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26341 00005538 400B                   M           JSR     @R0                     ;
26342 0000553A 0009                   M           NOP                                     ;
26343 0000553C D10F              8311             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
26344 0000553E 2101              8312             MOV.W   R0,@R1
                                          ;
26345                            8313             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH4_STEP3_SV_PLS      ,L
                                          ,R1,R2,R3       ;
26346 00005540 D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
26347 00005542 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   361
PROGRAM NAME =

26348 00005544 D30F                   M           MOV.L   #_SH4_STEP3_SV_PLS,R3   ;DST_ADR
26349 00005546 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26350                            8314             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4       ,L      ,_SH4_STEP3_PV_PLS      ,L,R1,R2,R
                                          3       ;
26351 00005548 D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
26352 0000554A 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26353 0000554C D30F                   M           MOV.L   #_SH4_STEP3_PV_PLS,R3   ;DST_ADR
26354 0000554E 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26355                            8315             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH4_STEP3_REST_P      ,L
                                          ,R1,R2,R3       ;
26356 00005550 D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
26357 00005552 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
26358 00005554 D30F                   M           MOV.L   #_SH4_STEP3_REST_P,R3   ;DST_ADR
26359 00005556 2322                   M           MOV.L   R2,@R3  ;DST_ADR
26360                            8316             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH4_STEP3_FRQ ,W,R1,R2,R
                                          3       ;
26361 00005558 D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
26362 0000555A 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
26363 0000555C D30E                   M           MOV.L   #_SH4_STEP3_FRQ,R3      ;DST_ADR
26364 0000555E 2321                   M           MOV.W   R2,@R3  ;DST_ADR
26365                            8317             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH4_STEP3_TIM ,W,R1,R2,R
                                          3       ;
26366 00005560 D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
26367 00005562 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
26368 00005564 D30E                   M           MOV.L   #_SH4_STEP3_TIM,R3      ;DST_ADR
26369 00005566 2321                   M           MOV.W   R2,@R3  ;DST_ADR
26370                            8318     
26371                            8319             POP_REG1 R3
26372                                 M                                   ; RE"+4" 00,00,00,04
26373 00005568 63F6                   M           MOV.L   @R15+,R3        ;
26374                            8320             POP_REG1 R2
26375                                 M                                   ; RE"+4" 00,00,00,04
26376 0000556A 62F6                   M           MOV.L   @R15+,R2        ;
26377                            8321             POP_REG1 R1
26378                                 M                                   ; RE"+4" 00,00,00,04
26379 0000556C 61F6                   M           MOV.L   @R15+,R1        ;
26380                            8322             POP_REG1 R0
26381                                 M                                   ; RE"+4" 00,00,00,04
26382 0000556E 60F6                   M           MOV.L   @R15+,R0        ;
26383                            8323             SUB_END
26384                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26385 00005570 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26386                            8324             M_RTS
26387 00005572 000B                   M           RTS                             ;RTSの後ろの
26388 00005574 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26389                            8325     
26390                            8326     
26391                            8327     
26392                            8328             .EXPORT _MONI_CHG_PROC1
26393                                     ***** BEGIN-POOL *****
26394 00005576 0000                       ALIGNMENT CODE
26395 00005578 00000000                   DATA FOR SOURCE-LINE 8310
26396 0000557C 00000000                   DATA FOR SOURCE-LINE 8311,8316
26397 00005580 00000000                   DATA FOR SOURCE-LINE 8313
26398 00005584 00000000                   DATA FOR SOURCE-LINE 8313
26399 00005588 00000000                   DATA FOR SOURCE-LINE 8314
26400 0000558C 00000000                   DATA FOR SOURCE-LINE 8314
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   362
PROGRAM NAME =

26401 00005590 00000000                   DATA FOR SOURCE-LINE 8315
26402 00005594 00000000                   DATA FOR SOURCE-LINE 8315
26403 00005598 00000000                   DATA FOR SOURCE-LINE 8316
26404 0000559C 00000000                   DATA FOR SOURCE-LINE 8317
26405 000055A0 00000000                   DATA FOR SOURCE-LINE 8317
26406                                     ***** END-POOL *****
26407 000055A4                   8329             .ALIGN  4                               ;
26408 000055A4                   8330     _MONI_CHG_PROC1:
26409                            8331             SUB_START
26410 000055A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
26411                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26412                            8332     ;;      MNP_MOV_TO_MEM  _SH4_STEP1_REST_P       ,L,_PVP_MONALM_C01,L,R1,R2,H'3FFFFFF
26413                            8333     ;;      MNP_MOV_TO_MEM  _SH4_STEP1_PV_PLS       ,L,_PVP_MONALM_C02,L,R1,R2,H'3FFFFFF
26414                            8334     ;;      MEM_MOV_TO_MEM  _SH4_STEP1_FRQ          ,W,_PVP_MONALM_A01,W,R1,R2,R3;
26415                            8335     ;;      MEM_MOV_TO_MEM  _SH4_STEP1_TIM          ,W,_PVP_MONALM_A02,W,R1,R2,R3;
26416                            8336     
26417                            8337             SUB_END
26418                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26419 000055A6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26420                            8338             M_RTS
26421 000055A8 000B                   M           RTS                             ;RTSの後ろの
26422 000055AA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26423                            8339     
26424                            8340     
26425                            8341     
26426                            8342     ;       ****************************
26427                            8343     ;       ***                     ****
26428                            8344     ;       ****************************
26429                            8345     
26430                            8346             .IMPORT _PVP_MONALM_C01
26431                            8347             .IMPORT _PVP_MONALM_C02
26432                            8348             .IMPORT _PVP_MONALM_C03
26433                            8349             .IMPORT _PVP_MONALM_C04
26434                            8350             .IMPORT _PVP_MONALM_C05
26435                            8351             .IMPORT _PVP_MONALM_C06
26436                            8352             .IMPORT _PVP_MONALM_C07
26437                            8353             .IMPORT _PVP_MONALM_C08
26438                            8354             .IMPORT _PVP_MONALM_A01
26439                            8355             .IMPORT _PVP_MONALM_A02
26440                            8356             .IMPORT _PVP_MONALM_A03
26441                            8357             .IMPORT _PVP_MONALM_A04
26442                            8358             .IMPORT _PVP_MONALM_A05
26443                            8359             .IMPORT _PVP_MONALM_A06
26444                            8360             .IMPORT _PVP_MONALM_A07
26445                            8361             .IMPORT _PVP_MONALM_A08
26446                            8362             .IMPORT _PVP_MONALM_B01
26447                            8363             .IMPORT _PVP_MONALM_B02
26448                            8364             .IMPORT _PVP_MONALM_B03
26449                            8365             .IMPORT _PVP_MONALM_B04
26450                            8366             .IMPORT _PVP_MONALM_B05
26451                            8367             .IMPORT _PVP_MONALM_B06
26452                            8368             .IMPORT _PVP_MONALM_B07
26453                            8369             .IMPORT _PVP_MONALM_B08
26454                            8370     
26455                            8371             .IMPORT _PVP_MONALM_P01
26456                            8372             .IMPORT _PVP_MONALM_P02
26457                            8373             .IMPORT _PVP_MONALM_P03
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   363
PROGRAM NAME =

26458                            8374             .IMPORT _PVP_MONALM_P04
26459                            8375     
26460                            8376     ;       ***********************************
26461                            8377     ;       ***     NO.15 ERR情報           ***
26462                            8378     ;       ***********************************
26463                            8379     ;;;;;;;;;;;;;;;;;;;
26464                            8380     ;;;;;;;;;;;;;;;;;;;     .EXPORT _DBG_DISP_POS_LSI
26465                            8381     ;;;;;;;;;;;;;;;;;;;     .EXPORT _DBG_DISP_POS_LSI2
26466                            8382     ;;;;;;;;;;;;;;;;;;;     .ALIGN  4                               ;
26467                            8383     ;;;;;;;;;;;;;;;;;;;_DBG_DISP_POS_LSI:
26468                            8384     ;;;;;;;;;;;;;;;;;;;     SUB_START
26469                            8385     ;;;;;;;;;;;;;;;;;;;
26470                            8386     ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
26471                            8387     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_LSI_ACS_ERR_INF1,W         ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;SQ222
26472                            8388     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_CALC_ERR_INF1,W            ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;SQ222
26473                            8389     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_RETRY_CNT1,W        ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;ﾘｾｯﾄ失敗
26474                            8390     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_RETRY_CNT1,W        ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;ﾍﾞﾘﾌｧｲ
26475                            8391     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCMP_RETRY_CNT1,W        ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;二重回路のﾘﾄﾗｲ
26476                            8392     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_NG_CNT1,L           ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;ﾘｾｯﾄｺﾏﾝﾄﾞ MISS
26477                            8393     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_NG_CNT2,L           ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;-500ﾊﾟﾙｽ
26478                            8394     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_NG_CNT3,L           ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;+500ﾊﾟﾙｽ
26479                            8395     ;;;;;;;;;;;;;;;;;;;
26480                            8396     ;;;;;;;;;;;;;;;;;;;
26481                            8397     ;;;;;;;;;;;;;;;;;;;;    =========== B01~B08 =======
26482                            8398     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSRD_NG_CNT1,W            ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3       ;
26483                            8399     ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
26484                            8400     ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B02         ,L1=W,DT_REG=R0,WK
                                          REG1=R1 ;
26485                            8401     ;;;;;;;;;;;;;;;;;;;
26486                            8402     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_NG_CNT2,L           ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;ﾘｾｯﾄ失敗　TOTAL
26487                            8403     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_NG_CNT1,L           ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;ﾍﾞﾘﾌｧｲ失敗 TOTAL
26488                            8404     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCMP_NG_CNT1,W           ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;二重回路 TOTAL
26489                            8405     ;;;;;;;;;;;;;;;;;;;
26490                            8406     ;;;;;;;;;;;;;;;;;;;
26491                            8407     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_AC_CNT1,L           ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;起動正常回数
26492                            8408     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_AC_CNT2,L           ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;残り演算正常回数
26493                            8409     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCMP_AC_CNT1,W           ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;回路正常回数
26494                            8410     ;;;;;;;;;;;;;;;;;;;;;   MEM_MOV_TO_MEM  _LSI_PLSSET_AC_CNT1,L           ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;(NO/USE)
26495                            8411     ;;;;;;;;;;;;;;;;;;;
26496                            8412     ;;;;;;;;;;;;;;;;;;;
26497                            8413     ;;;;;;;;;;;;;;;;;;;;    =========== C01~C08 =======
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   364
PROGRAM NAME =

26498                            8414     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_LNGH_ADD_SR,L              ,_PVP_MONALM_C01,L
                                          ,R1,R2,R3;
26499                            8415     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_LNGH_ADD_SR,L              ,_PVP_MONALM_C02,L
                                          ,R1,R2,R3;
26500                            8416     ;;;;;;;;;;;;;;;;;;;
26501                            8417     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_REST_PLS_SR,L              ,_PVP_MONALM_C03,L
                                          ,R1,R2,R3;
26502                            8418     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_REST_PLS_SR,L              ,_PVP_MONALM_C04,L
                                          ,R1,R2,R3;
26503                            8419     ;;;;;;;;;;;;;;;;;;;
26504                            8420     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_REST_PLS_RL,L              ,_PVP_MONALM_C05,L
                                          ,R1,R2,R3;
26505                            8421     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_REST_PLS_RL,L              ,_PVP_MONALM_C06,L
                                          ,R1,R2,R3;
26506                            8422     ;;;;;;;;;;;;;;;;;;;
26507                            8423     ;;;;;;;;;;;;;;;;;;;
26508                            8424     ;;;;;;;;;;;;;;;;;;;;040304
26509                            8425     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_CMPCPUAB_POS_RL,L          ,_PVP_MONALM_C07,L
                                          ,R1,R2,R3       ;残りﾊﾟﾙｽの差,ABS
26510                            8426     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_CMPCPUAB_POSMAX,L          ,_PVP_MONALM_C08,L
                                          ,R1,R2,R3       ;残りﾊﾟﾙｽの差,+側だけ
26511                            8427     ;;;;;;;;;;;;;;;;;;;
26512                            8428     ;;;;;;;;;;;;;;;;;;;
26513                            8429     ;;;;;;;;;;;;;;;;;;;
26514                            8430     ;;;;;;;;;;;;;;;;;;;     SUB_END
26515                            8431     ;;;;;;;;;;;;;;;;;;;     M_RTS
26516                            8432     
26517                            8433     ;;;;;;;;;;;;;;;;;;;;    ***********************************
26518                            8434     ;;;;;;;;;;;;;;;;;;;;    ***     NO.16 ERR情報           ***
26519                            8435     ;;;;;;;;;;;;;;;;;;;;    ***********************************
26520                            8436     ;;;;;;;;;;;;;;;;;;;     .ALIGN  4                               ;
26521                            8437     ;;;;;;;;;;;;;;;;;;;_DBG_DISP_POS_LSI2:
26522                            8438     ;;;;;;;;;;;;;;;;;;;     SUB_START
26523                            8439     ;;;;;;;;;;;;;;;;;;;
26524                            8440     ;;;;;;;;;;;;;;;;;;;;;;  MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_CtrlReg,R1         ;
26525                            8441     ;;;;;;;;;;;;;;;;;;;;;;  MOV.W   @R1,R0                                          ;
26526                            8442     ;;;;;;;;;;;;;;;;;;;;;;  MOV.L   #_POS_CTRL_WORD_DAT,R1                          ;
26527                            8443     ;;;;;;;;;;;;;;;;;;;;;;  MOV.W   R0,@R1                                          ;
26528                            8444     ;;;;;;;;;;;;;;;;;;;
26529                            8445     ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
26530                            8446     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_CALC_ERR_INF1,W            ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;SQ222
26531                            8447     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_CALC_ERR_INF2,W            ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;SQ222(詳細)
26532                            8448     ;;;;;;;;;;;;;;;;;;;
26533                            8449     ;;;;;;;;;;;;;;;;;;;;;;  MEM_MOV_TO_MEM  _POS_CTRL_WORD_DAT,W            ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
26534                            8450     ;;;;;;;;;;;;;;;;;;;
26535                            8451     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_ACC_TOTAL_NG_CNT,W        ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
26536                            8452     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_BAS_TOTAL_NG_CNT,W        ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
26537                            8453     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_TOP_TOTAL_NG_CNT,W        ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
26538                            8454     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_NOW_TOTAL_NG_CNT,W        ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;
26539                            8455     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_LAT_TOTAL_NG_CNT,W        ,_PVP_MONALM_A08,W
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   365
PROGRAM NAME =

                                          ,R1,R2,R3;
26540                            8456     ;;;;;;;;;;;;;;;;;;;
26541                            8457     ;;;;;;;;;;;;;;;;;;;;    =========== B01~B08 =======
26542                            8458     ;;;;;;;;;;;;;;;;;;;
26543                            8459     ;;;;;;;;;;;;;;;;;;;
26544                            8460     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_PLSI_ACCS,W                ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
26545                            8461     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_PLSI_ACCS,W                ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
26546                            8462     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_PLSI_LATE,W                ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
26547                            8463     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_PLSI_LATE,W                ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
26548                            8464     ;;;;;;;;;;;;;;;;;;;
26549                            8465     ;;;;;;;;;;;;;;;;;;;;    =========== C01~C08 =======
26550                            8466     ;;;;;;;;;;;;;;;;;;;
26551                            8467     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_BAS_FRQ_SV,L               ,_PVP_MONALM_C01,L
                                          ,R1,R2,R3;
26552                            8468     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_BAS_FRQ_SV,L               ,_PVP_MONALM_C02,L
                                          ,R1,R2,R3;
26553                            8469     ;;;;;;;;;;;;;;;;;;;
26554                            8470     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_TOP_FRQ_SV,L               ,_PVP_MONALM_C03,L
                                          ,R1,R2,R3;
26555                            8471     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_TOP_FRQ_SV,L               ,_PVP_MONALM_C04,L
                                          ,R1,R2,R3;
26556                            8472     ;;;;;;;;;;;;;;;;;;;
26557                            8473     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_NOW_FRQ_PV,L               ,_PVP_MONALM_C05,L
                                          ,R1,R2,R3;
26558                            8474     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_NOW_FRQ_PV,L               ,_PVP_MONALM_C06,L
                                          ,R1,R2,R3;
26559                            8475     ;;;;;;;;;;;;;;;;;;;
26560                            8476     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _FREQ_SV_SPD,L                  ,_PVP_MONALM_C07,L
                                          ,R1,R2,R3;設定周波数(MEM)
26561                            8477     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _FREQ_PLSI_MAX_FRQ,L            ,_PVP_MONALM_C08,L
                                          ,R1,R2,R3;最大周波数
26562                            8478     ;;;;;;;;;;;;;;;;;;;
26563                            8479     ;;;;;;;;;;;;;;;;;;;
26564                            8480     ;;;;;;;;;;;;;;;;;;;
26565                            8481     ;;;;;;;;;;;;;;;;;;;     SUB_END
26566                            8482     ;;;;;;;;;;;;;;;;;;;     M_RTS
26567                            8483     ;;;;;;;;;;;;;;;;;;;
26568                            8484     ;;;;;;;;;;;;;;;;;;;
26569                            8485     ;;;;;;;;;;;;;;;;;;;
26570                            8486     ;       ***********************************
26571                            8487     ;       ***                             ***
26572                            8488     ;       ***     調査機能                ***
26573                            8489     ;       ***                             ***
26574                            8490     ;       ***********************************
26575                            8491     ;
26576                            8492     ;       === 2004-03-04===
26577                            8493     ;       EMG,EXQ
26578 000055AC                   8494             .ALIGN  4                               ;
26579 000055AC                   8495     _LSI_REST_PLS_CHK_STOP_CLR:
26580                            8496             SUB_START
26581 000055AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
26582                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26583                            8497     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   366
PROGRAM NAME =

26584                            8498     
26585 000055AE 200A              8499             XOR     R0,R0
26586                            8500             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSCMP_RETRY_CNT1  ,L1=W,DT_REG=R0,WKREG1=R1       ;
26587 000055B0 D107                   M           MOV.L   #_LSI_PLSCMP_RETRY_CNT1,R1      ;DST_ADR
26588 000055B2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26589                            8501     
26590                            8502             REG_MOV_TO_MEM  DST_ADR=_SH4_LOT_CNT_A          ,L1=W,DT_REG=R0,WKREG1=R1       ;
                                          上記のﾃﾞｰﾀ書き込み時の回転ロット数
26591 000055B4 D107                   M           MOV.L   #_SH4_LOT_CNT_A,R1      ;DST_ADR
26592 000055B6 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26593                            8503             REG_MOV_TO_MEM  DST_ADR=_SH4_LOT_STEP_A ,L1=W,DT_REG=R0,WKREG1=R1       ;上記のﾃﾞｰ
                                          ﾀ書き込み時のｽﾃｯﾌﾟ数
26594 000055B8 D107                   M           MOV.L   #_SH4_LOT_STEP_A,R1     ;DST_ADR
26595 000055BA 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26596                            8504             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_SR_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!起動時移動量
26597 000055BC D107                   M           MOV.L   #_SH4_REST_SR_HF,R1     ;DST_ADR
26598 000055BE 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26599                            8505             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_RL_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!残りﾊﾟﾙｽ
26600 000055C0 D107                   M           MOV.L   #_SH4_REST_RL_HF,R1     ;DST_ADR
26601 000055C2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26602                            8506     
26603                            8507             REG_MOV_TO_MEM  DST_ADR=_CPUy_RESTPLS_LTFLG     ,L1=W,DT_REG=R0,WKREG1=R1       ;2
                                          004-04-12
26604 000055C4 D107                   M           MOV.L   #_CPUy_RESTPLS_LTFLG,R1 ;DST_ADR
26605 000055C6 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26606                            8508     
26607                            8509             SUB_END
26608                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26609 000055C8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26610                            8510             M_RTS
26611 000055CA 000B                   M           RTS                             ;RTSの後ろの
26612 000055CC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26613                            8511     
26614                            8512     ;       === 2004-03-04===
26615                                     ***** BEGIN-POOL *****
26616 000055CE 0000                       ALIGNMENT CODE
26617 000055D0 00000000                   DATA FOR SOURCE-LINE 8500
26618 000055D4 00000000                   DATA FOR SOURCE-LINE 8502
26619 000055D8 00000000                   DATA FOR SOURCE-LINE 8503
26620 000055DC 00000000                   DATA FOR SOURCE-LINE 8504
26621 000055E0 00000000                   DATA FOR SOURCE-LINE 8505
26622 000055E4 00000000                   DATA FOR SOURCE-LINE 8507
26623                                     ***** END-POOL *****
26624 000055E8                   8513             .ALIGN  4                               ;
26625 000055E8                   8514     _LSI_REST_PLS_CHK_START_CLR:
26626                            8515             SUB_START
26627 000055E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
26628                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26629                            8516     
26630 000055EA 200A              8517             XOR     R0,R0
26631                            8518             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSCMP_AC_CNT1     ,L1=W,DT_REG=R0,WKREG1=R1       ;
                                          回路正常回数
26632 000055EC D12F                   M           MOV.L   #_LSI_PLSCMP_AC_CNT1,R1 ;DST_ADR
26633 000055EE 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26634                            8519             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSSET_AC_CNT2     ,L1=L,DT_REG=R0,WKREG1=R1       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   367
PROGRAM NAME =

                                          残り演算正常回数
26635 000055F0 D12F                   M           MOV.L   #_LSI_PLSSET_AC_CNT2,R1 ;DST_ADR
26636 000055F2 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26637                            8520     
26638                            8521             REG_MOV_TO_MEM  DST_ADR=_LSI_CMPCPUAB_POS_RL    ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          残りﾊﾟﾙｽの差,+/-
26639 000055F4 D12F                   M           MOV.L   #_LSI_CMPCPUAB_POS_RL,R1        ;DST_ADR
26640 000055F6 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26641                            8522             REG_MOV_TO_MEM  DST_ADR=_LSI_CMPCPUAB_POSMAX    ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          残りﾊﾟﾙｽの差 MAX
26642 000055F8 D12F                   M           MOV.L   #_LSI_CMPCPUAB_POSMAX,R1        ;DST_ADR
26643 000055FA 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26644                            8523     
26645                            8524     ;       ==== 上は表示を見やすくするため１サイクルデータにする====
26646                            8525     
26647 000055FC 200A              8526             XOR     R0,R0
26648                            8527             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSCMP_RETRY_CNT1  ,L1=W,DT_REG=R0,WKREG1=R1       ;
26649 000055FE D12F                   M           MOV.L   #_LSI_PLSCMP_RETRY_CNT1,R1      ;DST_ADR
26650 00005600 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26651                            8528     
26652 00005602 200A              8529             XOR     R0,R0
26653                            8530             REG_MOV_TO_MEM  DST_ADR=_SH4_LOT_CNT_A          ,L1=W,DT_REG=R0,WKREG1=R1       ;
                                          上記のﾃﾞｰﾀ書き込み時の回転ロット数
26654 00005604 D12E                   M           MOV.L   #_SH4_LOT_CNT_A,R1      ;DST_ADR
26655 00005606 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26656                            8531             REG_MOV_TO_MEM  DST_ADR=_SH4_LOT_STEP_A ,L1=W,DT_REG=R0,WKREG1=R1       ;上記のﾃﾞｰ
                                          ﾀ書き込み時のｽﾃｯﾌﾟ数
26657 00005608 D12E                   M           MOV.L   #_SH4_LOT_STEP_A,R1     ;DST_ADR
26658 0000560A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26659                            8532             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_SR_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!起動時移動量
26660 0000560C D12E                   M           MOV.L   #_SH4_REST_SR_HF,R1     ;DST_ADR
26661 0000560E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26662                            8533             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_RL_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!残りﾊﾟﾙｽ
26663 00005610 D12E                   M           MOV.L   #_SH4_REST_RL_HF,R1     ;DST_ADR
26664 00005612 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26665                            8534     
26666                            8535             REG_MOV_TO_MEM  DST_ADR=_SH4_LNGH_ADD_SR        ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          安全一行程,一行程 起動時移動量
26667 00005614 D12E                   M           MOV.L   #_SH4_LNGH_ADD_SR,R1    ;DST_ADR
26668 00005616 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26669                            8536             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_PLS_SR        ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          安全一行程,一行程 起動時残ﾊﾟﾙｽ
26670 00005618 D12E                   M           MOV.L   #_SH4_REST_PLS_SR,R1    ;DST_ADR
26671 0000561A 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26672                            8537             REG_MOV_TO_MEM  DST_ADR=_SH4_REST_PLS_RL        ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          安全一行程,一行程 REAL-TIME残ﾊﾟﾙｽ
26673 0000561C D12E                   M           MOV.L   #_SH4_REST_PLS_RL,R1    ;DST_ADR
26674 0000561E 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26675                            8538     
26676 00005620 200A              8539             XOR     R0,R0
26677                            8540             REG_MOV_TO_MEM  DST_ADR=_CMP2_BAS_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26678 00005622 D12E                   M           MOV.L   #_CMP2_BAS_NG_CNT,R1    ;DST_ADR
26679 00005624 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26680                            8541             REG_MOV_TO_MEM  DST_ADR=_CMP2_TOP_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26681 00005626 D12E                   M           MOV.L   #_CMP2_TOP_NG_CNT,R1    ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   368
PROGRAM NAME =

26682 00005628 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26683                            8542             REG_MOV_TO_MEM  DST_ADR=_CMP2_LAT_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26684 0000562A D12E                   M           MOV.L   #_CMP2_LAT_NG_CNT,R1    ;DST_ADR
26685 0000562C 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26686                            8543             REG_MOV_TO_MEM  DST_ADR=_CMP2_ACC_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26687 0000562E D12E                   M           MOV.L   #_CMP2_ACC_NG_CNT,R1    ;DST_ADR
26688 00005630 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26689                            8544             REG_MOV_TO_MEM  DST_ADR=_CMP2_NOW_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26690 00005632 D12E                   M           MOV.L   #_CMP2_NOW_NG_CNT,R1    ;DST_ADR
26691 00005634 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26692                            8545     
26693                            8546     
26694                            8547             FAR_JSR #_CNT_REST_CHK_CLR,R0           ;
26695 00005636 D02E                   M           MOV.L   #_CNT_REST_CHK_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26696 00005638 400B                   M           JSR     @R0                     ;
26697 0000563A 0009                   M           NOP                                     ;
26698                            8548     
26699                            8549     ;       ======= 連続のチェック ======
26700 0000563C 200A              8550             XOR     R0,R0
26701                            8551             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP1_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26702 0000563E D12D                   M           MOV.L   #_SH4_STEP1_SV_PLS,R1   ;DST_ADR
26703 00005640 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26704                            8552             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP2_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26705 00005642 D12D                   M           MOV.L   #_SH4_STEP2_SV_PLS,R1   ;DST_ADR
26706 00005644 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26707                            8553             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP3_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26708 00005646 D12D                   M           MOV.L   #_SH4_STEP3_SV_PLS,R1   ;DST_ADR
26709 00005648 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26710                            8554             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP4_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26711 0000564A D12D                   M           MOV.L   #_SH4_STEP4_SV_PLS,R1   ;DST_ADR
26712 0000564C 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26713                            8555             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP5_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26714 0000564E D12D                   M           MOV.L   #_SH4_STEP5_SV_PLS,R1   ;DST_ADR
26715 00005650 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26716                            8556             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP1_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          1->2の演算前の残り)
26717 00005652 D12D                   M           MOV.L   #_SH4_STEP1_REST_P,R1   ;DST_ADR
26718 00005654 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26719                            8557             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP2_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          2->3)
26720 00005656 D12D                   M           MOV.L   #_SH4_STEP2_REST_P,R1   ;DST_ADR
26721 00005658 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26722                            8558             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP3_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          3->1)
26723 0000565A D12D                   M           MOV.L   #_SH4_STEP3_REST_P,R1   ;DST_ADR
26724 0000565C 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26725                            8559             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP4_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          3->1)
26726 0000565E D12D                   M           MOV.L   #_SH4_STEP4_REST_P,R1   ;DST_ADR
26727 00005660 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26728                            8560             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP5_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          3->1)
26729 00005662 D12D                   M           MOV.L   #_SH4_STEP5_REST_P,R1   ;DST_ADR
26730 00005664 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26731                            8561             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP1_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26732 00005666 D12D                   M           MOV.L   #_SH4_STEP1_PV_PLS,R1   ;DST_ADR
26733 00005668 2102                   M           MOV.L   R0,@R1  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   369
PROGRAM NAME =

26734                            8562             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP2_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26735 0000566A D12D                   M           MOV.L   #_SH4_STEP2_PV_PLS,R1   ;DST_ADR
26736 0000566C 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26737                            8563             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP3_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26738 0000566E D12D                   M           MOV.L   #_SH4_STEP3_PV_PLS,R1   ;DST_ADR
26739 00005670 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26740                            8564             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP4_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26741 00005672 D12D                   M           MOV.L   #_SH4_STEP4_PV_PLS,R1   ;DST_ADR
26742 00005674 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26743                            8565             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP5_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26744 00005676 D12D                   M           MOV.L   #_SH4_STEP5_PV_PLS,R1   ;DST_ADR
26745 00005678 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26746                            8566             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP1_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26747 0000567A D12D                   M           MOV.L   #_SH4_STEP1_FRQ,R1      ;DST_ADR
26748 0000567C 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26749                            8567             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP2_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26750 0000567E D12D                   M           MOV.L   #_SH4_STEP2_FRQ,R1      ;DST_ADR
26751 00005680 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26752                            8568             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP3_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26753 00005682 D12D                   M           MOV.L   #_SH4_STEP3_FRQ,R1      ;DST_ADR
26754 00005684 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26755                            8569             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP4_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26756 00005686 D12D                   M           MOV.L   #_SH4_STEP4_FRQ,R1      ;DST_ADR
26757 00005688 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26758                            8570             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP5_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26759 0000568A D12D                   M           MOV.L   #_SH4_STEP5_FRQ,R1      ;DST_ADR
26760 0000568C 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26761                            8571             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP1_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26762 0000568E D12D                   M           MOV.L   #_SH4_STEP1_TIM,R1      ;DST_ADR
26763 00005690 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26764                            8572             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP2_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26765 00005692 D12D                   M           MOV.L   #_SH4_STEP2_TIM,R1      ;DST_ADR
26766 00005694 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26767                            8573             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP3_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26768 00005696 D12D                   M           MOV.L   #_SH4_STEP3_TIM,R1      ;DST_ADR
26769 00005698 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26770                            8574             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP4_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26771 0000569A D12D                   M           MOV.L   #_SH4_STEP4_TIM,R1      ;DST_ADR
26772 0000569C 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26773                            8575             REG_MOV_TO_MEM  DST_ADR=_SH4_STEP5_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26774 0000569E D12D                   M           MOV.L   #_SH4_STEP5_TIM,R1      ;DST_ADR
26775 000056A0 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26776                            8576     
26777                            8577             REG_MOV_TO_MEM  DST_ADR=_CNT_GRF_POINT          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26778 000056A2 D12D                   M           MOV.L   #_CNT_GRF_POINT,R1      ;DST_ADR
26779 000056A4 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26780                            8578     
26781                            8579             SUB_END
26782                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26783 000056A6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26784                            8580             M_RTS
26785 000056A8 000B                   M           RTS                             ;RTSの後ろの
26786 000056AA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26787                            8581     
26788                            8582     ;       ***************************************************
26789                            8583     ;       ***                                             ***
26790                            8584     ;       ***             連続残りﾊﾟﾙｽ修正                ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   370
PROGRAM NAME =

26791                            8585     ;       ***                                             ***
26792                            8586     ;       ***************************************************
26793                                     ***** BEGIN-POOL *****
26794 000056AC 00000000                   DATA FOR SOURCE-LINE 8518
26795 000056B0 00000000                   DATA FOR SOURCE-LINE 8519
26796 000056B4 00000000                   DATA FOR SOURCE-LINE 8521
26797 000056B8 00000000                   DATA FOR SOURCE-LINE 8522
26798 000056BC 00000000                   DATA FOR SOURCE-LINE 8527
26799 000056C0 00000000                   DATA FOR SOURCE-LINE 8530
26800 000056C4 00000000                   DATA FOR SOURCE-LINE 8531
26801 000056C8 00000000                   DATA FOR SOURCE-LINE 8532
26802 000056CC 00000000                   DATA FOR SOURCE-LINE 8533
26803 000056D0 00000000                   DATA FOR SOURCE-LINE 8535
26804 000056D4 00000000                   DATA FOR SOURCE-LINE 8536
26805 000056D8 00000000                   DATA FOR SOURCE-LINE 8537
26806 000056DC 00000000                   DATA FOR SOURCE-LINE 8540
26807 000056E0 00000000                   DATA FOR SOURCE-LINE 8541
26808 000056E4 00000000                   DATA FOR SOURCE-LINE 8542
26809 000056E8 00000000                   DATA FOR SOURCE-LINE 8543
26810 000056EC 00000000                   DATA FOR SOURCE-LINE 8544
26811 000056F0 00000000                   DATA FOR SOURCE-LINE 8547
26812 000056F4 00000000                   DATA FOR SOURCE-LINE 8551
26813 000056F8 00000000                   DATA FOR SOURCE-LINE 8552
26814 000056FC 00000000                   DATA FOR SOURCE-LINE 8553
26815 00005700 00000000                   DATA FOR SOURCE-LINE 8554
26816 00005704 00000000                   DATA FOR SOURCE-LINE 8555
26817 00005708 00000000                   DATA FOR SOURCE-LINE 8556
26818 0000570C 00000000                   DATA FOR SOURCE-LINE 8557
26819 00005710 00000000                   DATA FOR SOURCE-LINE 8558
26820 00005714 00000000                   DATA FOR SOURCE-LINE 8559
26821 00005718 00000000                   DATA FOR SOURCE-LINE 8560
26822 0000571C 00000000                   DATA FOR SOURCE-LINE 8561
26823 00005720 00000000                   DATA FOR SOURCE-LINE 8562
26824 00005724 00000000                   DATA FOR SOURCE-LINE 8563
26825 00005728 00000000                   DATA FOR SOURCE-LINE 8564
26826 0000572C 00000000                   DATA FOR SOURCE-LINE 8565
26827 00005730 00000000                   DATA FOR SOURCE-LINE 8566
26828 00005734 00000000                   DATA FOR SOURCE-LINE 8567
26829 00005738 00000000                   DATA FOR SOURCE-LINE 8568
26830 0000573C 00000000                   DATA FOR SOURCE-LINE 8569
26831 00005740 00000000                   DATA FOR SOURCE-LINE 8570
26832 00005744 00000000                   DATA FOR SOURCE-LINE 8571
26833 00005748 00000000                   DATA FOR SOURCE-LINE 8572
26834 0000574C 00000000                   DATA FOR SOURCE-LINE 8573
26835 00005750 00000000                   DATA FOR SOURCE-LINE 8574
26836 00005754 00000000                   DATA FOR SOURCE-LINE 8575
26837 00005758 00000000                   DATA FOR SOURCE-LINE 8577
26838                                     ***** END-POOL *****
26839 0000575C                   8587             .ALIGN  4                               ;
26840 0000575C                   8588     _CNT_REST_CHK_CLR:
26841                            8589             SUB_START
26842 0000575C 4F22                   M           STS.L   PR,@-R15                ;[必要]
26843                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26844 0000575E 200A              8590             XOR     R0,R0
26845                            8591             REG_MOV_TO_MEM  DST_ADR=_SH4_CNT_REST_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26846 00005760 D10C                   M           MOV.L   #_SH4_CNT_REST_PLS,R1   ;DST_ADR
26847 00005762 2102                   M           MOV.L   R0,@R1  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   371
PROGRAM NAME =

26848                            8592             REG_MOV_TO_MEM  DST_ADR=_SH4_CNT_REST_HF        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26849 00005764 D10C                   M           MOV.L   #_SH4_CNT_REST_HF,R1    ;DST_ADR
26850 00005766 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26851                            8593     
26852                            8594             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_DAT1      ,L1=L,DT_REG=R0,WKREG1=R1       ;
26853 00005768 D10C                   M           MOV.L   #_CNT_SYNC_HOS_DAT1,R1  ;DST_ADR
26854 0000576A 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26855                            8595             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_DAT2      ,L1=L,DT_REG=R0,WKREG1=R1       ;
26856 0000576C D10C                   M           MOV.L   #_CNT_SYNC_HOS_DAT2,R1  ;DST_ADR
26857 0000576E 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26858                            8596             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_FLAG      ,L1=W,DT_REG=R0,WKREG1=R1       ;
26859 00005770 D10C                   M           MOV.L   #_CNT_SYNC_HOS_FLAG,R1  ;DST_ADR
26860 00005772 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26861                            8597             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_CHK_CNT2      ,L1=W,DT_REG=R0,WKREG1=R1       ;
26862 00005774 D10C                   M           MOV.L   #_CNT_SYNC_CHK_CNT2,R1  ;DST_ADR
26863 00005776 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26864                            8598     
26865                            8599             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_STS_FLG       ,L1=W,DT_REG=R0,WKREG1=R1       ;
26866 00005778 D10C                   M           MOV.L   #_CNT_SYNC_STS_FLG,R1   ;DST_ADR
26867 0000577A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26868                            8600             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_ERR_FLG       ,L1=W,DT_REG=R0,WKREG1=R1       ;
26869 0000577C D10C                   M           MOV.L   #_CNT_SYNC_ERR_FLG,R1   ;DST_ADR
26870 0000577E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26871                            8601             REG_MOV_TO_MEM  DST_ADR=_CNT_PLSOUT_STOP_CNT    ,L1=W,DT_REG=R0,WKREG1=R1       ;
26872 00005780 D10C                   M           MOV.L   #_CNT_PLSOUT_STOP_CNT,R1        ;DST_ADR
26873 00005782 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26874                            8602             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_CNT1      ,L1=W,DT_REG=R0,WKREG1=R1       ;
26875 00005784 D10C                   M           MOV.L   #_CNT_SYNC_HOS_CNT1,R1  ;DST_ADR
26876 00005786 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26877                            8603             REG_MOV_TO_MEM  DST_ADR=_CPUy_RESTPLS_LTFLG     ,L1=W,DT_REG=R0,WKREG1=R1       ;2
                                          004-04-12
26878 00005788 D10C                   M           MOV.L   #_CPUy_RESTPLS_LTFLG,R1 ;DST_ADR
26879 0000578A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26880                            8604     
26881                            8605     
26882                            8606     
26883                            8607             SUB_END
26884                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26885 0000578C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26886                            8608             M_RTS
26887 0000578E 000B                   M           RTS                             ;RTSの後ろの
26888 00005790 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26889                            8609     
26890                            8610     
26891                            8611     
26892                            8612     
26893                            8613             .EXPORT _EXQ_STOP_LEV_POS_CLR           ;
26894                                     ***** BEGIN-POOL *****
26895 00005792 0000                       ALIGNMENT CODE
26896 00005794 00000000                   DATA FOR SOURCE-LINE 8591
26897 00005798 00000000                   DATA FOR SOURCE-LINE 8592
26898 0000579C 00000000                   DATA FOR SOURCE-LINE 8594
26899 000057A0 00000000                   DATA FOR SOURCE-LINE 8595
26900 000057A4 00000000                   DATA FOR SOURCE-LINE 8596
26901 000057A8 00000000                   DATA FOR SOURCE-LINE 8597
26902 000057AC 00000000                   DATA FOR SOURCE-LINE 8599
26903 000057B0 00000000                   DATA FOR SOURCE-LINE 8600
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   372
PROGRAM NAME =

26904 000057B4 00000000                   DATA FOR SOURCE-LINE 8601
26905 000057B8 00000000                   DATA FOR SOURCE-LINE 8602
26906 000057BC 00000000                   DATA FOR SOURCE-LINE 8603
26907                                     ***** END-POOL *****
26908 000057C0                   8614             .ALIGN  4                               ;
26909 000057C0                   8615     _EXQ_STOP_LEV_POS_CLR:
26910                            8616             SUB_START
26911 000057C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
26912                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26913 000057C2 200A              8617             XOR     R0,R0
26914                            8618             REG_MOV_TO_MEM  DST_ADR=_SH4_CNT_REST_HF        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26915 000057C4 D104                   M           MOV.L   #_SH4_CNT_REST_HF,R1    ;DST_ADR
26916 000057C6 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26917                            8619             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_FLAG      ,L1=W,DT_REG=R0,WKREG1=R1       ;
26918 000057C8 D104                   M           MOV.L   #_CNT_SYNC_HOS_FLAG,R1  ;DST_ADR
26919 000057CA 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26920                            8620     
26921                            8621     ;       ===== 2005-04-14-E(4/18) ===
26922                            8622             FAR_JSR #_SGL_CMP_ERR_DT_CLR,R0
26923 000057CC D004                   M           MOV.L   #_SGL_CMP_ERR_DT_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26924 000057CE 400B                   M           JSR     @R0                     ;
26925 000057D0 0009                   M           NOP                                     ;
26926                            8623     
26927                            8624             SUB_END
26928                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26929 000057D2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26930                            8625             M_RTS
26931 000057D4 000B                   M           RTS                             ;RTSの後ろの
26932 000057D6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26933                            8626     
26934                            8627     ;       ***********************************
26935                            8628     ;       ***                             ***
26936                            8629     ;       ***     連続時の補正ﾃﾞｰﾀ        ***
26937                            8630     ;       ***     (CPU-Bのみ)             ***
26938                            8631     ;       ***********************************
26939                                     ***** BEGIN-POOL *****
26940 000057D8 00000000                   DATA FOR SOURCE-LINE 8618
26941 000057DC 00000000                   DATA FOR SOURCE-LINE 8619
26942 000057E0 00000000                   DATA FOR SOURCE-LINE 8622
26943                                     ***** END-POOL *****
26944 000057E4                   8632             .ALIGN  4                               ;
26945 000057E4                   8633     _CNT_HOS_DT_MAK:
26946                            8634             SUB_START
26947 000057E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
26948                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26949                            8635     ;       CCSのみCALL
26950                            8636             SUB_END
26951                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26952 000057E6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26953                            8637             M_RTS
26954 000057E8 000B                   M           RTS                             ;RTSの後ろの
26955 000057EA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26956                            8638     
26957                            8639     
26958                            8640     ;       ***************************
26959                            8641     ;       ***     修正機能        ***
26960                            8642     ;       ***************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   373
PROGRAM NAME =

26961 000057EC                   8643             .ALIGN  4                               ;
26962 000057EC                   8644     _CNT_SYNC_HOS_CALC
26963                            8645             SUB_START
26964 000057EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
26965                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26966                            8646     ;       CCSのみCALL
26967                            8647             SUB_END
26968                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26969 000057EE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26970                            8648             M_RTS
26971 000057F0 000B                   M           RTS                             ;RTSの後ろの
26972 000057F2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26973                            8649     
26974                            8650     
26975                            8651     
26976                            8652     
26977                            8653     ;       ***************************************************
26978                            8654     ;       ***                                             ***
26979                            8655     ;       ***     回転・連続・ALLVﾓｰﾄﾞ時の減速補正        ***
26980                            8656     ;       ***                                             ***
26981                            8657     ;       ***************************************************
26982                            8658     
26983                            8659     ;       ***************************************************
26984                            8660     ;       ***     急停止・異常時                          ***
26985                            8661     ;       ***************************************************
26986                            8662             .EXPORT _GPOSIN_HOS_RESET
26987 000057F4                   8663             .ALIGN  4                               ;
26988 000057F4                   8664     _GPOSIN_HOS_RESET:
26989                            8665             SUB_START
26990 000057F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
26991                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26992                            8666             SUB_END
26993                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26994 000057F6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26995                            8667             M_RTS
26996 000057F8 000B                   M           RTS                             ;RTSの後ろの
26997 000057FA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26998                            8668     
26999                            8669     ;       ***************************************************
27000                            8670     ;       ***     運転開始時                              ***
27001                            8671     ;       ***************************************************
27002 000057FC                   8672             .ALIGN  4                               ;
27003 000057FC                   8673     _GPOSIN_HOS_DRV_INI:
27004                            8674             SUB_START
27005 000057FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
27006                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27007                            8675             SUB_END
27008                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27009 000057FE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27010                            8676             M_RTS
27011 00005800 000B                   M           RTS                             ;RTSの後ろの
27012 00005802 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27013                            8677     
27014                            8678     
27015                            8679     ;       ***********************************
27016                            8680     ;       ***     演算                    ***
27017                            8681     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   374
PROGRAM NAME =

27018                            8682     ;       (1)減速距離+5を基準値とする
27019                            8683     ;       (2)+1/-1以内になるまで補正する
27020                            8684     ;       (3)記憶値から100ﾊﾟﾙｽ以上離れたら再度記憶しなおす
27021 00005804                   8685             .ALIGN  4                               ;
27022 00005804                   8686     _GPOINT_HOS_CALC:
27023                            8687             SUB_START
27024 00005804 4F22                   M           STS.L   PR,@-R15                ;[必要]
27025                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27026                            8688             SUB_END
27027                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27028 00005806 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27029                            8689             M_RTS
27030 00005808 000B                   M           RTS                             ;RTSの後ろの
27031 0000580A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27032                            8690     
27033                            8691     
27034                            8692     
27035                            8693     
27036                            8694     
27037                            8695     
27038                            8696             .EXPORT _DEBUG_SIGNAL_OFF
27039 0000580C                   8697             .ALIGN  4                               ;
27040 0000580C                   8698     _DEBUG_SIGNAL_OFF:
27041                            8699             SUB_START
27042 0000580C 4F22                   M           STS.L   PR,@-R15                ;[必要]
27043                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27044                            8700             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT2                ;VERIFAY ERR(OFFない)
27045                                 M   
27046                                 M           .AIF    0 EQ    0
27047                                 C   ;;      (波形測定時)
27048                                 C           PUSH_REG1 R0
27049 0000580E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
27050                                 M                                           ;REG=>[SP]
27051                                 M                                           ;"-4" FF,FF,FF,FC
27052                                 C           PUSH_REG1 R1
27053 00005810 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
27054                                 M                                           ;REG=>[SP]
27055                                 M                                           ;"-4" FF,FF,FF,FC
27056                                 C           PUSH_REG1 R2
27057 00005812 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
27058                                 M                                           ;REG=>[SP]
27059                                 M                                           ;"-4" FF,FF,FF,FC
27060 00005814 D10B                   C           MOV.L   #_PDTRA,R1                      ;
27061 00005816 6011                   C           MOV.W   @R1,R0                          ;
27062 00005818 9212                   C           MOV.W   #LWORD ~BIT2,R2         ;
27063 0000581A 2029                   C           AND     R2,R0                           ;
27064 0000581C 2101                   C           MOV.W   R0,@R1                          ;
27065                                 C           POP_REG1 R2
27066                                 M                                   ; RE"+4" 00,00,00,04
27067 0000581E 62F6                   M           MOV.L   @R15+,R2        ;
27068                                 C           POP_REG1 R1
27069                                 M                                   ; RE"+4" 00,00,00,04
27070 00005820 61F6                   M           MOV.L   @R15+,R1        ;
27071                                 C           POP_REG1 R0
27072                                 M                                   ; RE"+4" 00,00,00,04
27073 00005822 60F6                   M           MOV.L   @R15+,R0        ;
27074                                 M           .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   375
PROGRAM NAME =

27075                                 M   
27076                            8701             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT6                ;RETRY ERR
27077                                 M   
27078                                 M           .AIF    0 EQ    0
27079                                 C   ;;      (波形測定時)
27080                                 C           PUSH_REG1 R0
27081 00005824 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
27082                                 M                                           ;REG=>[SP]
27083                                 M                                           ;"-4" FF,FF,FF,FC
27084                                 C           PUSH_REG1 R1
27085 00005826 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
27086                                 M                                           ;REG=>[SP]
27087                                 M                                           ;"-4" FF,FF,FF,FC
27088                                 C           PUSH_REG1 R2
27089 00005828 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
27090                                 M                                           ;REG=>[SP]
27091                                 M                                           ;"-4" FF,FF,FF,FC
27092 0000582A D106                   C           MOV.L   #_PDTRA,R1                      ;
27093 0000582C 6011                   C           MOV.W   @R1,R0                          ;
27094 0000582E 9208                   C           MOV.W   #LWORD ~BIT6,R2         ;
27095 00005830 2029                   C           AND     R2,R0                           ;
27096 00005832 2101                   C           MOV.W   R0,@R1                          ;
27097                                 C           POP_REG1 R2
27098                                 M                                   ; RE"+4" 00,00,00,04
27099 00005834 62F6                   M           MOV.L   @R15+,R2        ;
27100                                 C           POP_REG1 R1
27101                                 M                                   ; RE"+4" 00,00,00,04
27102 00005836 61F6                   M           MOV.L   @R15+,R1        ;
27103                                 C           POP_REG1 R0
27104                                 M                                   ; RE"+4" 00,00,00,04
27105 00005838 60F6                   M           MOV.L   @R15+,R0        ;
27106                                 M           .AENDI
27107                                 M   
27108                            8702             SUB_END
27109                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27110 0000583A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27111                            8703             M_RTS
27112 0000583C 000B                   M           RTS                             ;RTSの後ろの
27113 0000583E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27114                            8704     
27115                            8705     ;       ***************************************************************************
27116                            8706     ;       ***                                                                     ***
27117                            8707     ;       ***     工程を自分が切り替えた時点の自分のデータと相手のデータを収集    ***
27118                            8708     ;       ***     モニタ専用                                                      ***
27119                            8709     ;       ***************************************************************************
27120                                     ***** BEGIN-POOL *****
27121 00005840 FFFB                       DATA FOR SOURCE-LINE 8700
27122 00005842 FFBF                       DATA FOR SOURCE-LINE 8701
27123 00005844 00000000                   DATA FOR SOURCE-LINE 8700,8701
27124                                     ***** END-POOL *****
27125          000000C8          8710     _CNT_GRF_MAX            .EQU    200     ;MAX 500
27126                            8711     
27127          00000040          8712     _CNT_GRF_1BLOCK         .EQU    64              ;64byte
27128          00000000          8713     _CGRF_iSTEP_SV_PLS              .EQU    0
27129          00000004          8714     _CGRF_iSTEP_PV_PLS              .EQU    4
27130          00000008          8715     _CGRF_iSTEP_REST                .EQU    8
27131          0000000C          8716     _CGRF_iTOTAL_PLS                .EQU    12
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   376
PROGRAM NAME =

27132          00000010          8717     _CGRF_iADD_PLS                  .EQU    16
27133          00000014          8718     _CGRF_GENSOK_LNG1               .EQU    20
27134          00000018          8719     _CGRF_iSTEP_FRQ                 .EQU    24
27135          0000001A          8720     _CGRF_iSTEP_TIM                 .EQU    26
27136          0000001C          8721     _CGRF_iNOW_STEP                 .EQU    28
27137          0000001E          8722     _CGRF_SYNC_STS                  .EQU    30
27138          00000020          8723     _CGRF_SYNC_ERR                  .EQU    32
27139                            8724     
27140          00000024          8725     _CGRF_ySTEP_SV_PLS              .EQU    36
27141          00000028          8726     _CGRF_ySTEP_PV_PLS              .EQU    40
27142          0000002C          8727     _CGRF_ySTEP_REST                .EQU    44
27143          00000030          8728     _CGRF_yTOTAL_PLS                .EQU    48
27144          00000034          8729     _CGRF_yADD_PLS                  .EQU    52
27145          00000038          8730     _CGRF_ySTEP_FRQ                 .EQU    56
27146          0000003C          8731     _CGRF_ySTEP_TIM                 .EQU    60
27147          0000003E          8732     _CGRF_yNOW_STEP                 .EQU    62
27148                            8733     
27149                            8734     
27150                            8735             .MACRO  MEM_MOV2B_GBR   MEM,GBROFS,WKREG1
27151                            8736             MOV.L   #\MEM,\WKREG1           ;
27152                            8737             MOV.W   @\WKREG1,R0             ;
27153                            8738             MOV.W   R0,@(\GBROFS,GBR)       ;
27154                            8739             .ENDM
27155                            8740     
27156                            8741             .MACRO  MEM_MOV4B_GBR   MEM,GBROFS,WKREG1
27157                            8742             MOV.L   #\MEM,\WKREG1           ;
27158                            8743             MOV.W   @\WKREG1+,R0            ;
27159                            8744             MOV.W   R0,@(\GBROFS,GBR)       ;
27160                            8745             MOV.W   @\WKREG1,R0             ;
27161                            8746             MOV.W   R0,@(\GBROFS+2,GBR)     ;
27162                            8747             .ENDM
27163                            8748     
27164                            8749             .MACRO  GBR_MOV2B_MEM   MEM,GBROFS,WKREG1
27165                            8750             MOV.W   @(\GBROFS,GBR),R0       ;
27166                            8751             MOV.L   #\MEM,\WKREG1           ;
27167                            8752             MOV.W   R0,@\WKREG1             ;
27168                            8753             .ENDM
27169                            8754     
27170                            8755             .MACRO  GBR_MOV4B_MEM   MEM,GBROFS,WKREG1
27171                            8756             MOV.W   @(\GBROFS,GBR),R0       ;
27172                            8757             MOV.L   #\MEM,\WKREG1           ;
27173                            8758             MOV.W   R0,@\WKREG1             ;
27174                            8759             MOV.W   @(\GBROFS+2,GBR),R0     ;
27175                            8760             ADD     #2,\WKREG1              ;
27176                            8761             MOV.W   R0,@\WKREG1             ;
27177                            8762             .ENDM
27178                            8763             .MACRO  GBR_MOV4B_MEM_ALMT      MEM,GBROFS,WKREG1,WKREG2
27179                            8764             MOV.W   @(\GBROFS,GBR),R0       ;
27180                            8765             MOV.W   #H'3FF,\WKREG2          ;
27181                            8766             AND     \WKREG2,R0              ;
27182                            8767     
27183                            8768             MOV.L   #\MEM,\WKREG1           ;
27184                            8769             MOV.W   R0,@\WKREG1             ;
27185                            8770             MOV.W   @(\GBROFS+2,GBR),R0     ;
27186                            8771             ADD     #2,\WKREG1              ;
27187                            8772             MOV.W   R0,@\WKREG1             ;
27188                            8773             .ENDM
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   377
PROGRAM NAME =

27189                            8774     
27190                            8775     ;       ===== EMG にも呼ばれる======
27191                            8776             .EXPORT _DATA_GRF_CNT_DATA_MAKE
27192 00005848                   8777             .ALIGN  4                               ;
27193 00005848                   8778     _DATA_GRF_CNT_DATA_MAKE:
27194                            8779             SUB_START
27195 00005848 4F22                   M           STS.L   PR,@-R15                ;[必要]
27196                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27197                            8780             SUB_END
27198                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27199 0000584A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27200                            8781             M_RTS
27201 0000584C 000B                   M           RTS                             ;RTSの後ろの
27202 0000584E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27203                            8782     
27204                            8783     
27205                            8784             .INCLUDE "ssa_disp.inc"         ;ﾃﾞﾊﾞｯｸﾓﾆﾀ
27206                               1 I1  ;       *******************************************
27207                               2 I1  ;       ***                                     ***
27208                               3 I1  ;       ***                                     ***
27209                               4 I1  ;       ***                                     ***
27210                               5 I1  ;       ***                                     ***
27211                               6 I1  ;       ***                                     ***
27212                               7 I1  ;       ***                                     ***
27213                               8 I1  ;       *******************************************
27214                               9 I1  ;       debug-monitor
27215                              10 I1  ;       ***********************************
27216                              11 I1  ;       ***     表示機能                ***
27217                              12 I1  ;       ***********************************
27218                              13 I1          .EXPORT _MONI_CNT_NOW_INFO_DISP         ;17
27219                              14 I1          .EXPORT _MONI_CNT_HIST_INFO_DISP        ;18
27220                              15 I1  ;       ***********************************
27221                              16 I1  ;       ***     現在値モニタ            ***
27222                              17 I1  ;       ***********************************
27223                              18 I1  ;       ***********************************
27224                              19 I1  ;       ***     NO.17                   ***
27225                              20 I1  ;       ***********************************
27226                              21 I1  
27227                              22 I1  ;       Inout R2 S02 (頁)
27228                              23 I1  ;       Input R3 S03 (詳細)
27229                              24 I1  ;
27230 00005850                     25 I1  _MONI_CNT_NOW_INFO_DISP
27231                              26 I1          SUB_START
27232 00005850 4F22                   M           STS.L   PR,@-R15                ;[必要]
27233                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27234                              27 I1  ;;;;;;;;;;;;;;;;;;;     MOV     R3,R0                           ;
27235                              28 I1  ;;;;;;;;;;;;;;;;;;;     CMP/EQ  #00,R0                          ;
27236                              29 I1  ;;;;;;;;;;;;;;;;;;;     BF      MONI_CNT_NOW_INFO_DSP_010       ;
27237                              30 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP1,R0     ;17-00
27238                              31 I1  ;;;;;;;;;;;;;;;;;;;     M_BRA   MONI_CNT_NOW_INFO_DSP_EXT       ;
27239                              32 I1  ;;;;;;;;;;;;;;;;;;;
27240                              33 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_010                    ;
27241                              34 I1  ;;;;;;;;;;;;;;;;;;;     CMP/EQ  #01,R0                          ;
27242                              35 I1  ;;;;;;;;;;;;;;;;;;;     BF      MONI_CNT_NOW_INFO_DSP_020
27243                              36 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP2,R0     ;17-1
27244                              37 I1  ;;;;;;;;;;;;;;;;;;;     M_BRA   MONI_CNT_NOW_INFO_DSP_EXT       ;
27245                              38 I1  ;;;;;;;;;;;;;;;;;;;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   378
PROGRAM NAME =

27246                              39 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_020                    ;
27247                              40 I1  ;;;;;;;;;;;;;;;;;;;     CMP/EQ  #02,R0                          ;
27248                              41 I1  ;;;;;;;;;;;;;;;;;;;     BF      MONI_CNT_NOW_INFO_DSP_030
27249                              42 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP3,R0     ;17-2
27250                              43 I1  ;;;;;;;;;;;;;;;;;;;     M_BRA   MONI_CNT_NOW_INFO_DSP_EXT       ;
27251                              44 I1  ;;;;;;;;;;;;;;;;;;;
27252                              45 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_030
27253                              46 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP4,R0     ;17-3
27254                              47 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_EXT                    ;
27255                              48 I1  
27256                              49 I1          SUB_END
27257                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27258 00005852 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27259                              50 I1          M_RTS
27260 00005854 000B                   M           RTS                             ;RTSの後ろの
27261 00005856 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27262                              51 I1  
27263                              52 I1  ;       ***********************************
27264                              53 I1  ;       ***                             ***
27265                              54 I1  ;       ***     現在値モニタ            ***
27266                              55 I1  ;       ***     17-0-0-1/2              ***
27267                              56 I1  ;       ***                             ***
27268                              57 I1  ;       ***********************************
27269                              58 I1  ;       ====== 17-0 =====
27270 00005858                     59 I1  _MONI_CNT_NOW_INFO_DSP1
27271                              60 I1          SUB_START
27272 00005858 4F22                   M           STS.L   PR,@-R15                ;[必要]
27273                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27274                              61 I1  ;;;;;;;;;;;;;;;;;;;;;   DATA_STD_SHN_MOV        SRC=_PV_POWER_ON_CNT,L1=W,DST=_PVP_MONALM_
                                          P01,L2=W
27275                              62 I1  ;;;;;;;;;;;;;;;;;;;;;   DATA_STD_SHN_MOV        SRC=_PV_CB_STS_POINT,L1=W,DST=_PVP_MONALM_
                                          P02,L2=W
27276                              63 I1  ;;;;;;;;;;;;;;;;;;;
27277                              64 I1  ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08(同じことを確認) =======
27278                              65 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_FRQ          ,W      ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;
27279                              66 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP2_FRQ          ,W      ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;
27280                              67 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP3_FRQ          ,W      ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
27281                              68 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_FRQ          ,W      ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
27282                              69 I1  ;;;;;;;;;;;;;;;;;;;
27283                              70 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_FRQ          ,W      ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
27284                              71 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP2_FRQ          ,W      ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
27285                              72 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP3_FRQ          ,W      ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;
27286                              73 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_FRQ          ,W      ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;
27287                              74 I1  ;;;;;;;;;;;;;;;;;;;
27288                              75 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_TIM          ,W      ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3;
27289                              76 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP2_TIM          ,W      ,_PVP_MONALM_B02,W
                                          ,R1,R2,R3;
27290                              77 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP3_TIM          ,W      ,_PVP_MONALM_B03,W
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   379
PROGRAM NAME =

                                          ,R1,R2,R3;
27291                              78 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_TIM          ,W      ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;
27292                              79 I1  ;;;;;;;;;;;;;;;;;;;
27293                              80 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_TIM          ,W      ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
27294                              81 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP2_TIM          ,W      ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
27295                              82 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP3_TIM          ,W      ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
27296                              83 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_TIM          ,W      ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
27297                              84 I1  ;;;;;;;;;;;;;;;;;;;
27298                              85 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP1_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C01,L,R1,R2,R3,H'3FFFFFF;
27299                              86 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP2_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C02,L,R1,R2,R3,H'3FFFFFF;
27300                              87 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP3_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C03,L,R1,R2,R3,H'3FFFFFF;
27301                              88 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP4_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C04,L,R1,R2,R3,H'3FFFFFF;
27302                              89 I1  ;;;;;;;;;;;;;;;;;;;
27303                              90 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP1_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C05,L,R1,R2,R3,H'3FFFFFF;
27304                              91 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP2_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C06,L,R1,R2,R3,H'3FFFFFF;
27305                              92 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP3_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C07,L,R1,R2,R3,H'3FFFFFF;
27306                              93 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP4_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C08,L,R1,R2,R3,H'3FFFFFF;
27307                              94 I1  
27308                              95 I1  
27309                              96 I1          SUB_END
27310                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27311 0000585A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27312                              97 I1          M_RTS
27313 0000585C 000B                   M           RTS                             ;RTSの後ろの
27314 0000585E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27315                              98 I1  
27316                              99 I1  ;       ***********************************
27317                             100 I1  ;       ***                             ***
27318                             101 I1  ;       ***     現在値モニタ            ***
27319                             102 I1  ;       ***     17-0-1-1/2              ***
27320                             103 I1  ;       ***                             ***
27321                             104 I1  ;       ***********************************
27322                             105 I1  ;       ====== 17-1 =====
27323 00005860                    106 I1  _MONI_CNT_NOW_INFO_DSP2
27324                             107 I1          SUB_START
27325 00005860 4F22                   M           STS.L   PR,@-R15                ;[必要]
27326                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27327                             108 I1  ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
27328                             109 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_SV_PLS+0     ,W      ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;
27329                             110 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_SV_PLS+2     ,W      ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;
27330                             111 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_SV_PLS+0     ,W      ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   380
PROGRAM NAME =

27331                             112 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_SV_PLS+2     ,W      ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
27332                             113 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_SV_PLS+0     ,W      ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
27333                             114 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_SV_PLS+2     ,W      ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
27334                             115 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_SV_PLS+0     ,W      ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;
27335                             116 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_SV_PLS+2     ,W      ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;
27336                             117 I1  ;;;;;;;;;;;;;;;;;;;
27337                             118 I1  ;;;;;;;;;;;;;;;;;;;
27338                             119 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_A_LOT_CNT3         ,W      ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3;
27339                             120 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_B_LOT_CNT3         ,W      ,_PVP_MONALM_B02,W
                                          ,R1,R2,R3;
27340                             121 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_FLAG      ,W      ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;
27341                             122 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT1      ,W      ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;
27342                             123 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT2      ,W      ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
27343                             124 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT1      ,L      ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
27344                             125 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_CNT_REST_PLS       ,L      ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
27345                             126 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_CNT_REST_PLS       ,L      ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
27346                             127 I1  ;;;;;;;;;;;;;;;;;;;
27347                             128 I1  ;;;;;;;;;;;;;;;;;;;
27348                             129 I1  ;;;;;;;;;;;;;;;;;;;;    ===========================<<<偏差>>>===========
27349                             130 I1  ;;;;;;;;;;;;;;;;;;;
27350                             131 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _HENSA_OVER_MOVE_CNT            ,L      ,_
                                          PVP_MONALM_C01,L,R1,R2,R3,H'3FFFFFF;
27351                             132 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _POSLSI_OUTPUT_TOTAL_PLS+4      ,L      ,_
                                          PVP_MONALM_C02,L,R1,R2,R3,H'3FFFFFF;
27352                             133 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _POSLSI_HENSA_LATCH+4           ,L      ,_
                                          PVP_MONALM_C03,L,R1,R2,R3,H'3FFFFFF;
27353                             134 I1  ;;;;;;;;;;;;;;;;;;;
27354                             135 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SV_CONST_SUB_PV                ,L      ,_
                                          PVP_MONALM_C04,L,R1,R2,R3,H'3FFFFFF;
27355                             136 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SV_REAL_SUB_PV                 ,L      ,_
                                          PVP_MONALM_C05,L,R1,R2,R3,H'3FFFFFF;
27356                             137 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SV_REAL_PLS                    ,L      ,_
                                          PVP_MONALM_C06,L,R1,R2,R3,H'3FFFFFF;
27357                             138 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _LINK_SV_OBJ_ABSPLS+4           ,L      ,_
                                          PVP_MONALM_C07,L,R1,R2,R3,H'3FFFFFF;
27358                             139 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _LINK_PV_ABSPLS+4       ,L      ,_PVP_MONA
                                          LM_C08,L,R1,R2,R3,H'3FFFFFF;
27359                             140 I1  ;;;;;;;;;;;;;;;;;;;
27360                             141 I1  ;;;;;;;;;;;;;;;;;;;
27361                             142 I1          SUB_END
27362                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27363 00005862 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27364                             143 I1          M_RTS
27365 00005864 000B                   M           RTS                             ;RTSの後ろの
27366 00005866 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   381
PROGRAM NAME =

27367                             144 I1  
27368                             145 I1  
27369                             146 I1  ;       ***********************************
27370                             147 I1  ;       ***                             ***
27371                             148 I1  ;       ***     現在値モニタ            ***
27372                             149 I1  ;       ***     17-0-2-1/2              ***
27373                             150 I1  ;       ***                             ***
27374                             151 I1  ;       ***********************************
27375                             152 I1  ;       ====== 17-2 =====
27376 00005868                    153 I1  _MONI_CNT_NOW_INFO_DSP3
27377                             154 I1          SUB_START
27378 00005868 4F22                   M           STS.L   PR,@-R15                ;[必要]
27379                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27380                             155 I1  ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
27381                             156 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_NOW_STEP           ,W      ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;
27382                             157 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_NOW_STEP           ,W      ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;
27383                             158 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _INT_POS_CTL_STEP       ,W      ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
27384                             159 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SV_POS_CTL_STEP        ,W      ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
27385                             160 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_PLSOUT_STOP_CNT    ,W      ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
27386                             161 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_CNT1      ,W      ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
27387                             162 I1  ;;;;;;;;;;;;;;;;;;;
27388                             163 I1  ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
27389                             164 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A07 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27390                             165 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A08 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27391                             166 I1  ;;;;;;;;;;;;;;;;;;;
27392                             167 I1  ;;;;;;;;;;;;;;;;;;;
27393                             168 I1  ;;;;;;;;;;;;;;;;;;;
27394                             169 I1  ;;;;;;;;;;;;;;;;;;;;    ======================================
27395                             170 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_A_LOT_CNT3         ,W      ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3;
27396                             171 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_B_LOT_CNT3         ,W      ,_PVP_MONALM_B02,W
                                          ,R1,R2,R3;
27397                             172 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT1      ,W      ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;
27398                             173 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT2      ,W      ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;
27399                             174 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT1      ,L      ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
27400                             175 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT2      ,L      ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
27401                             176 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_CNT_REST_PLS       ,L      ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
27402                             177 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_CNT_REST_PLS       ,L      ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
27403                             178 I1  ;;;;;;;;;;;;;;;;;;;
27404                             179 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP1_REST_P       ,L      ,_PVP_MONA
                                          LM_C01,L,R1,R2,R3,H'3FFFFFF;
27405                             180 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP2_REST_P       ,L      ,_PVP_MONA
                                          LM_C02,L,R1,R2,R3,H'3FFFFFF;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   382
PROGRAM NAME =

27406                             181 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP3_REST_P       ,L      ,_PVP_MONA
                                          LM_C03,L,R1,R2,R3,H'3FFFFFF;
27407                             182 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP4_REST_P       ,L      ,_PVP_MONA
                                          LM_C04,L,R1,R2,R3,H'3FFFFFF;
27408                             183 I1  ;;;;;;;;;;;;;;;;;;;
27409                             184 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP1_REST_P       ,L      ,_PVP_MONA
                                          LM_C05,L,R1,R2,R3,H'3FFFFFF;
27410                             185 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP2_REST_P       ,L      ,_PVP_MONA
                                          LM_C06,L,R1,R2,R3,H'3FFFFFF;
27411                             186 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP3_REST_P       ,L      ,_PVP_MONA
                                          LM_C07,L,R1,R2,R3,H'3FFFFFF;
27412                             187 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP4_REST_P       ,L      ,_PVP_MONA
                                          LM_C08,L,R1,R2,R3,H'3FFFFFF;
27413                             188 I1  ;;;;;;;;;;;;;;;;;;;
27414                             189 I1  ;;;;;;;;;;;;;;;;;;;
27415                             190 I1  
27416                             191 I1          SUB_END
27417                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27418 0000586A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27419                             192 I1          M_RTS
27420 0000586C 000B                   M           RTS                             ;RTSの後ろの
27421 0000586E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27422                             193 I1  
27423                             194 I1  ;       ***********************************
27424                             195 I1  ;       ***                             ***
27425                             196 I1  ;       ***     現在値モニタ            ***
27426                             197 I1  ;       ***     17-0-3-1/2              ***
27427                             198 I1  ;       ***                             ***
27428                             199 I1  ;       ***********************************
27429          00000000           200 I1  _SH4_4B         .EQU    0
27430          00000004           201 I1  _SH2_4B         .EQU    4
27431          00000000           202 I1  _SH4_8B         .EQU    0
27432          00000008           203 I1  _SH2_8B         .EQU    8
27433                             204 I1  
27434                             205 I1  
27435                             206 I1  ;       ====== 17-3 =====
27436 00005870                    207 I1  _MONI_CNT_NOW_INFO_DSP4
27437                             208 I1          SUB_START
27438 00005870 4F22                   M           STS.L   PR,@-R15                ;[必要]
27439                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27440                             209 I1  
27441                             210 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_REST_SPD_HOSEI_FLG,W,_PVP_MONALM_A01,W,R1,R2,
                                          R3      ;
27442                             211 I1  ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
27443                             212 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A02 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27444                             213 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A03 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27445                             214 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A04 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27446                             215 I1  ;;;;;;;;;;;;;;;;;;;
27447                             216 I1  ;;;;;;;;;;;;;;;;;;;
27448                             217 I1  ;;;;;;;;;;;;;;;;;;;;    -------------------------- HENSAﾃﾞｰﾀ---------
27449                             218 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_MONI_CPUAB_PLSDELT,R1
27450                             219 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @(0,R1),R5
                                          ;
27451                             220 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @(4,R1),R6
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   383
PROGRAM NAME =

                                          ;
27452                             221 I1  ;;;;;;;;;;;;;;;;;;;     MOV     R5,R0
                                          ;
27453                             222 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A05 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;H
27454                             223 I1  ;;;;;;;;;;;;;;;;;;;     SHLR16  R0
                                          ;
27455                             224 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A06 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;L
27456                             225 I1  ;;;;;;;;;;;;;;;;;;;     MOV     R6,R0
27457                             226 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A07 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27458                             227 I1  ;;;;;;;;;;;;;;;;;;;     SHLR16  R0
                                          ;
27459                             228 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A08 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27460                             229 I1  ;;;;;;;;;;;;;;;;;;;
27461                             230 I1  ;;;;;;;;;;;;;;;;;;;
27462                             231 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_LSIFREQ+_SH4_4B,R4
                                          ;CPUA
27463                             232 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0
                                          ;
27464                             233 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B01 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27465                             234 I1  ;;;;;;;;;;;;;;;;;;;
27466                             235 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_LSIFREQ+_SH2_4B,R4
                                          ;CPU
27467                             236 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0
                                          ;
27468                             237 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B02 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27469                             238 I1  ;;;;;;;;;;;;;;;;;;;
27470                             239 I1  ;;;;;;;;;;;;;;;;;;;
27471                             240 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_CAL_REST+_SH4_4B,R4
                                          ;
27472                             241 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0
                                          ;
27473                             242 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B03 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27474                             243 I1  ;;;;;;;;;;;;;;;;;;;
27475                             244 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_CAL_REST+_SH2_4B,R4
                                          ;
27476                             245 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0
                                          ;
27477                             246 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B04 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27478                             247 I1  ;;;;;;;;;;;;;;;;;;;
27479                             248 I1  ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
27480                             249 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B05 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27481                             250 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT2,W,_PVP_MONALM_B06,W,R1,R2,R3;
27482                             251 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT1,L,_PVP_MONALM_B07,W,R1,R2,R3;
27483                             252 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT2,L,_PVP_MONALM_B08,W,R1,R2,R3;
27484                             253 I1  ;;;;;;;;;;;;;;;;;;;
27485                             254 I1  ;;;;;;;;;;;;;;;;;;;
27486                             255 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_SPD+_SH4_4B,R4   ;OK
27487                             256 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   384
PROGRAM NAME =

27488                             257 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C01 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27489                             258 I1  ;;;;;;;;;;;;;;;;;;;
27490                             259 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_SPD+_SH2_4B,R4   ;OK
27491                             260 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
27492                             261 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C02 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27493                             262 I1  ;;;;;;;;;;;;;;;;;;;
27494                             263 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_REST_PLS+_SH4_4B,R4 ;
27495                             264 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
27496                             265 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C03 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27497                             266 I1  ;;;;;;;;;;;;;;;;;;;
27498                             267 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_REST_PLS+_SH2_4B,R4 ;
27499                             268 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
27500                             269 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C04 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27501                             270 I1  ;;;;;;;;;;;;;;;;;;;
27502                             271 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_ABSPLS+_SH4_8B+4,R4              ;20060919
27503                             272 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
27504                             273 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
27505                             274 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
27506                             275 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C05 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27507                             276 I1  ;;;;;;;;;;;;;;;;;;;
27508                             277 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_ABSPLS+_SH2_8B+4,R4              ;20060919
27509                             278 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
27510                             279 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
27511                             280 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
27512                             281 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C06 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27513                             282 I1  ;;;;;;;;;;;;;;;;;;;
27514                             283 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_PV_ABSPLS+_SH4_8B+4,R4              ;
27515                             284 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
27516                             285 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
27517                             286 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
27518                             287 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C07 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27519                             288 I1  ;;;;;;;;;;;;;;;;;;;
27520                             289 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_PV_ABSPLS+_SH2_8B+4,R4              ;
27521                             290 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
27522                             291 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
27523                             292 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
27524                             293 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C08 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27525                             294 I1  ;;;;;;;;;;;;;;;;;;;
27526                             295 I1  
27527                             296 I1          SUB_END
27528                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27529 00005872 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27530                             297 I1          M_RTS
27531 00005874 000B                   M           RTS                             ;RTSの後ろの
27532 00005876 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   385
PROGRAM NAME =

27533                             298 I1  
27534                             299 I1  
27535                             300 I1  
27536                             301 I1  ;       =========== C01~C08 =======
27537                             302 I1  
27538                             303 I1  
27539                             304 I1  
27540                             305 I1  ;       ***********************************
27541                             306 I1  ;       ***     履歴モニタ              ***
27542                             307 I1  ;       ***                             ***
27543                             308 I1  ;       ***     18-(0~199)-0/1-1/2      ***
27544                             309 I1  ;       ***                             ***
27545                             310 I1  ;       ***********************************
27546                             311 I1  ;       R2 頁
27547                             312 I1  ;       R3 詳細 0:自分　1:相手
27548 00005878                    313 I1  _MONI_CNT_HIST_INFO_DISP
27549                             314 I1          SUB_START
27550 00005878 4F22                   M           STS.L   PR,@-R15                ;[必要]
27551                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27552                             315 I1          SUB_END
27553                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27554 0000587A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27555                             316 I1          M_RTS
27556 0000587C 000B                   M           RTS                             ;RTSの後ろの
27557 0000587E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27558                             317 I1  
27559                            8785     
27560                            8786     ;       ***************************
27561                            8787     ;       ***                     ***
27562                            8788     ;       ***************************
27563                            8789             .EXPORT _HENSA_DAT_MONI_MAK
27564 00005880                   8790             .ALIGN  4                               ;
27565 00005880                   8791     _HENSA_DAT_MONI_MAK:
27566                            8792             SUB_START
27567 00005880 4F22                   M           STS.L   PR,@-R15                ;[必要]
27568                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27569                            8793     
27570                            8794     ;       ===== 遅れ分払い出したことにする====
27571 00005882 D30F              8795             MOV.L   #_LINK_SV_OBJ_ABSPLS,R3                                 ;
27572 00005884 6132              8796             MOV.L   @R3,R1                                                  ;
27573 00005886 5231              8797             MOV.L   @(4,R3),R2                                              ;
27574                            8798     
27575 00005888 D00E              8799             MOV.L   #_LINK_PV_ABSPLS,R0                             ;
27576 0000588A 6502              8800             MOV.L   @R0,R5                                                  ;
27577 0000588C 5601              8801             MOV.L   @(4,R0),R6                                              ;
27578                            8802     
27579                            8803             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
27580 0000588E 0008                   M           CLRT
27581 00005890 326A                   M           SUBC    R6,R2
27582 00005892 315A                   M           SUBC    R5,R1
27583                            8804     
27584 00005894 D00C              8805             MOV.L   #_SV_CONST_SUB_PV,R0                                    ;
27585 00005896 4211              8806             CMP/PZ  R2
27586 00005898 8900              8807             BT      HENSA_DAT_MONMK_050                                     ;
27587 0000589A 622B              8808             NEG     R2,R2
27588 0000589C                   8809     HENSA_DAT_MONMK_050:
27589 0000589C 2022              8810             MOV.L   R2,@R0                                                  ;SV(CONST)-PV=
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   386
PROGRAM NAME =

27590                            8811     
27591                            8812     ;       ===== 遅れ分払い出したことにする====
27592 0000589E D308              8813             MOV.L   #_LINK_SV_OBJ_ABSPLS,R3                                 ;
27593 000058A0 6132              8814             MOV.L   @R3,R1                                                  ;
27594 000058A2 5231              8815             MOV.L   @(4,R3),R2                                              ;SV-REST-PLS
27595                            8816     
27596 000058A4 D109              8817             MOV.L   #_POSLSI_CHK_RESTPLS,R1                                 ;
27597 000058A6 6612              8818             MOV.L   @R1,R6                                                  ;
27598 000058A8 255A              8819             XOR     R5,R5                                                   ;
27599                            8820             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
27600 000058AA 0008                   M           CLRT
27601 000058AC 326A                   M           SUBC    R6,R2
27602 000058AE 315A                   M           SUBC    R5,R1
27603 000058B0 4211              8821             CMP/PZ  R2
27604 000058B2 8900              8822             BT      HENSA_DAT_MONMK_100                                     ;
27605 000058B4 622B              8823             NEG     R2,R2
27606 000058B6                   8824     HENSA_DAT_MONMK_100:
27607                            8825     
27608 000058B6 D006              8826             MOV.L   #_SV_REAL_SUB_PV,R0
27609 000058B8 2022              8827             MOV.L   R2,@R0
27610                            8828     
27611                            8829             SUB_END
27612                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27613 000058BA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27614                            8830             M_RTS
27615 000058BC 000B                   M           RTS                             ;RTSの後ろの
27616 000058BE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27617                            8831     
27618                            8832     
27619                            8833     
27620                            8834     ;//     ===================================================
27621                            8835     ;//     ===     対策ソフト部分 2005-04-14-E(4/18)       ===
27622                            8836     ;//     ===================================================
27623                            8837             .EXPORT _SGL_CMP_ERR_DT_CLR
27624                                     ***** BEGIN-POOL *****
27625 000058C0 00000000                   DATA FOR SOURCE-LINE 8795,8813
27626 000058C4 00000000                   DATA FOR SOURCE-LINE 8799
27627 000058C8 00000000                   DATA FOR SOURCE-LINE 8805
27628 000058CC 00000000                   DATA FOR SOURCE-LINE 8817
27629 000058D0 00000000                   DATA FOR SOURCE-LINE 8826
27630                                     ***** END-POOL *****
27631 000058D4                   8838             .ALIGN  4                               ;
27632 000058D4                   8839     _SGL_CMP_ERR_DT_CLR:
27633                            8840             SUB_START
27634 000058D4 4F22                   M           STS.L   PR,@-R15                ;[必要]
27635                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27636 000058D6 200A              8841             XOR     R0,R0
27637                            8842             REG_MOV_TO_MEM  DST_ADR=_CMP_LNGTH_AD_ERR_CNT           ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27638 000058D8 D103                   M           MOV.L   #_CMP_LNGTH_AD_ERR_CNT,R1       ;DST_ADR
27639 000058DA 2101                   M           MOV.W   R0,@R1  ;DST_ADR
27640                            8843             REG_MOV_TO_MEM  DST_ADR=_CMP_RESTP_SR_ERR_CNT           ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27641 000058DC D103                   M           MOV.L   #_CMP_RESTP_SR_ERR_CNT,R1       ;DST_ADR
27642 000058DE 2101                   M           MOV.W   R0,@R1  ;DST_ADR
27643                            8844             SUB_END
27644                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   387
PROGRAM NAME =

27645 000058E0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27646                            8845             M_RTS
27647 000058E2 000B                   M           RTS                             ;RTSの後ろの
27648 000058E4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27649                            8846     
27650                            8847             .INCLUDE        "ssa_cntc.inc"          ;//2004-12-15
27651                                 I1  ***** BEGIN-POOL *****
27652 000058E6 0000                   I1  ALIGNMENT CODE
27653 000058E8 00000000               I1  DATA FOR SOURCE-LINE 8842
27654 000058EC 00000000               I1  DATA FOR SOURCE-LINE 8843
27655                                 I1  ***** END-POOL *****
27656 000058F0                      1 I1  _BANK_CNT_STEP_NEXT_CHK:
27657                               2 I1          SUB_START
27658 000058F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
27659                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27660                               3 I1  ;       ===== 最終工程で最終目標位置を超えたら次の回転数への切り替えを行う
27661 000058F2 DB06                 4 I1          MOV.L   #_INT_POS_CTL_STEP,R11                  ;//内部制御工程1~11
27662 000058F4 60B1                 5 I1          MOV.W   @R11,R0                                 ;
27663 000058F6 70FF                 6 I1          ADD     #-1,R0                                  ;
27664 000058F8 4008                 7 I1          SHLL2   R0
27665 000058FA D105                 8 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1                 ;
27666 000058FC 021E                 9 I1          MOV.L   @(R0,R1),R2                             ;現状の工程の目標工程
27667 000058FE D105                10 I1          MOV.L   #_CPOS_STEP_MAX,R1                      ;
27668 00005900 6311                11 I1          MOV.W   @R1,R3                                  ;
27669 00005902 7301                12 I1          ADD     #1,R3                                   ;設定+1(帰りも1ｽﾃｯﾌﾟ)
27670 00005904 3320                13 I1          CMP/EQ  R2,R3                                   ;
27671 00005906 8907                14 I1          BT      BCNT_STEP_NEXTCHK_100                   ;(最終工程相当)
27672                              15 I1          M_BRA   BCNT_STEP_NEXTCHK_EXT                   ;最終工程を行おうとしていないが残
                                          り量を引くことは有り
27673 00005908 A04F                   M           BRA     BCNT_STEP_NEXTCHK_EXT
27674 0000590A 0009                   M           NOP
27675                              16 I1                                                          ;...不要
27676                              17 I1  ;       ======= 最終工程相当の状態=======
27677                              18 I1  ;       ======= 減速距離と残り距離=====
27678                                 I1  ***** BEGIN-POOL *****
27679 0000590C 00000000               I1  DATA FOR SOURCE-LINE 4
27680 00005910 00000000               I1  DATA FOR SOURCE-LINE 8
27681 00005914 00000000               I1  DATA FOR SOURCE-LINE 10
27682                                 I1  ***** END-POOL *****
27683 00005918                     19 I1  BCNT_STEP_NEXTCHK_100:
27684 00005918 D408                20 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4                                 ;
27685 0000591A 6203                21 I1          MOV     R0,R2                                                   ;
27686 0000591C 4200                22 I1          SHLL    R2                                                      ;
27687 0000591E 342C                23 I1          ADD     R2,R4                                                   ;
27688 00005920 6146                24 I1          MOV.L   @R4+,R1                                                 ;
27689 00005922 6242                25 I1          MOV.L   @R4,R2                                                  ;目標位置(SV_OBJ_A
                                          BSPLS)
27690                              26 I1  
27691 00005924 D406                27 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
27692 00005926 6546                28 I1          MOV.L   @R4+,R5                                                 ;
27693 00005928 6642                29 I1          MOV.L   @R4,R6                                                  ;
27694                              30 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
27695 0000592A 0008                   M           CLRT
27696 0000592C 326A                   M           SUBC    R6,R2
27697 0000592E 315A                   M           SUBC    R5,R1
27698                              31 I1  
27699 00005930 4111                32 I1          CMP/PZ  R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   388
PROGRAM NAME =

27700 00005932 8B0B                33 I1          BF      BCNT_STEP_NEXTCHK_200                   ;"-" 超えたJUMP
27701 00005934 2118                34 I1          TST     R1,R1                                   ;
27702                              35 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_120                ;
27703 00005936 8905                   M           BT      BCNT_STEP_NEXTCHK_120
27704                              36 I1          M_BRA   BCNT_STEP_NEXTCHK_CHK                   ;
27705 00005938 A030                   M           BRA     BCNT_STEP_NEXTCHK_CHK
27706 0000593A 0009                   M           NOP
27707                                 I1  ***** BEGIN-POOL *****
27708 0000593C 00000000               I1  DATA FOR SOURCE-LINE 20
27709 00005940 00000000               I1  DATA FOR SOURCE-LINE 27
27710                                 I1  ***** END-POOL *****
27711 00005944                     37 I1  BCNT_STEP_NEXTCHK_120:
27712 00005944 2228                38 I1          TST     R2,R2                                   ;
27713                              39 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_200                ;
27714 00005946 8901                   M           BT      BCNT_STEP_NEXTCHK_200
27715                              40 I1          M_BRA   BCNT_STEP_NEXTCHK_CHK                   ;
27716 00005948 A028                   M           BRA     BCNT_STEP_NEXTCHK_CHK
27717 0000594A 0009                   M           NOP
27718                              41 I1  
27719                              42 I1  ;       --- 超えた(サイクル変更を行なう)---
27720 0000594C                     43 I1  BCNT_STEP_NEXTCHK_200:
27721                              44 I1  ;(停止指令が出ていれば足さない)
27722 0000594C D108                45 I1          MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
27723 0000594E 6011                46 I1          MOV.W   @R1,R0                                                  ;
27724 00005950 C804                47 I1          TST     #BIT2,R0                                                ;
27725                              48 I1          TST_BIT_ON BCNT_STEP_NEXTCHK_250                                ;待機点停止しない
                                          運転
27726 00005952 8B15                   M           BF      BCNT_STEP_NEXTCHK_250
27727                              49 I1  
27728 00005954 D107                50 I1          MOV.L   #_STOP_LATCH_B,R1                                       ;//BIT0:ｽﾄｯﾌﾟ釦
27729 00005956 6011                51 I1          MOV.W   @R1,R0                                                  ;
27730 00005958 C801                52 I1          TST     #BIT0,R0                                                ;
27731                              53 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_250                                ;
27732 0000595A 8911                   M           BT      BCNT_STEP_NEXTCHK_250
27733                              54 I1  
27734                              55 I1  ;       ----- 停止ｺﾏﾝﾄﾞON(ありえない) -----
27735                              56 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1  ;
27736 0000595C D106                   M           MOV.L   #_STOP_LATCH,R1         ;
27737 0000595E 6011                   M           MOV.W   @R1,R0          ;
27738 00005960 CB01                   M           OR      #BIT0,R0                ;
27739 00005962 2101                   M           MOV.W   R0,@R1          ;
27740                              57 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT0,WKREG=R1   ;
27741 00005964 D105                   M           MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
27742 00005966 6011                   M           MOV.W   @R1,R0          ;
27743 00005968 CB01                   M           OR      #BIT0,R0                ;
27744 0000596A 2101                   M           MOV.W   R0,@R1          ;
27745                              58 I1          M_BRA   BCNT_STEP_NEXTCHK_EXT                                   ;
27746 0000596C A01D                   M           BRA     BCNT_STEP_NEXTCHK_EXT
27747 0000596E 0009                   M           NOP
27748                              59 I1  
27749                              60 I1  
27750                                 I1  ***** BEGIN-POOL *****
27751 00005970 00000000               I1  DATA FOR SOURCE-LINE 45
27752 00005974 00000000               I1  DATA FOR SOURCE-LINE 50
27753 00005978 00000000               I1  DATA FOR SOURCE-LINE 56
27754 0000597C 00000000               I1  DATA FOR SOURCE-LINE 57
27755                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   389
PROGRAM NAME =

27756 00005980                     61 I1  BCNT_STEP_NEXTCHK_250:
27757                              62 I1  
27758 00005980 D104                63 I1          MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
27759 00005982 6011                64 I1          MOV.W   @R1,R0                                                  ;
27760 00005984 C808                65 I1          TST     #BIT3,R0                                                ;
27761                              66 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_300                                ;(停止のない運転時
                                          のみ補正する)
27762 00005986 89FF                   M           BT      BCNT_STEP_NEXTCHK_300
27763                              67 I1  
27764                              68 I1  ;       ========== 減速点補正(タイマが全くない運転) ============
27765                              69 I1  ;;;     FAR_JSR #_GPOINT_HOS_CALC,R0                    ;CPU-A/B()
27766                              70 I1  ;       ==================================
27767                              71 I1  ;;;;;;;;20060919        .AIF    0 EQ    1       ;
27768                              72 I1  ;;;;;;;;        FAR_JSR #_CNT_SYNC_HOS_SPD_TYP,R0               ;
27769                              73 I1  ;;;;;;;;        .AENDI                                  ;
27770                              74 I1  
27771                              75 I1  ;       ========== 新残りﾊﾟﾙｽ補正===============
27772                              76 I1  ;       誤差が1000PLSを超えたら周波数を変える 1HZ
27773                              77 I1  ;       誤差が2000PLSを超えたら周波数を変える 2HZ
27774                              78 I1  ;       誤差が3000PLSを超えたら周波数を変える 4HZ
27775                              79 I1  ;
27776                              80 I1  ;
27777                              81 I1  ;
27778                              82 I1  ;       ====================================
27779 00005988                     83 I1  BCNT_STEP_NEXTCHK_300:
27780                              84 I1  
27781                              85 I1          FAR_JSR #_CNT_VMODE_NEXT_CYCL_START,R0          ;(STOPﾗｯﾁはまずここでﾁｪｯｸされる)
27782 00005988 D003                   M           MOV.L   #_CNT_VMODE_NEXT_CYCL_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27783 0000598A 400B                   M           JSR     @R0                     ;
27784 0000598C 0009                   M           NOP                                     ;
27785                              86 I1  
27786                              87 I1          M_BRA   BCNT_STEP_NEXTCHK_EXT                   ;
27787 0000598E A00C                   M           BRA     BCNT_STEP_NEXTCHK_EXT
27788 00005990 0009                   M           NOP
27789                              88 I1  
27790                              89 I1  
27791                              90 I1  ;       ====(最終工程相当でここにくる)=====
27792                                 I1  ***** BEGIN-POOL *****
27793 00005992 0000                   I1  ALIGNMENT CODE
27794 00005994 00000000               I1  DATA FOR SOURCE-LINE 63
27795 00005998 00000000               I1  DATA FOR SOURCE-LINE 85
27796                                 I1  ***** END-POOL *****
27797 0000599C                     91 I1  BCNT_STEP_NEXTCHK_CHK:
27798 0000599C D104                92 I1          MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
27799 0000599E 6011                93 I1          MOV.W   @R1,R0                          ;
27800 000059A0 2008                94 I1          TST     R0,R0                           ;
27801                              95 I1          TST_BIT_ON BCNT_STEP_NEXTCHK_EXT        ;
27802 000059A2 8B02                   M           BF      BCNT_STEP_NEXTCHK_EXT
27803                              96 I1  ;       === 停止の減算はどこでも良い====
27804                              97 I1  ;       === 停止がある場合は停止で行うから結局は最終工程相当で引く===
27805                              98 I1          FAR_JSR #_CNT_GPOINT_STOP_TYP2,R0       ;連続停止時減速可能かどうかチェック
27806 000059A4 D003                   M           MOV.L   #_CNT_GPOINT_STOP_TYP2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27807 000059A6 400B                   M           JSR     @R0                     ;
27808 000059A8 0009                   M           NOP                                     ;
27809                              99 I1  
27810                             100 I1  
27811 000059AA                    101 I1  BCNT_STEP_NEXTCHK_EXT:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   390
PROGRAM NAME =

27812                             102 I1          SUB_END
27813                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27814 000059AA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27815                             103 I1          M_RTS
27816 000059AC 000B                   M           RTS                             ;RTSの後ろの
27817 000059AE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27818                             104 I1  
27819                             105 I1  
27820                             106 I1  
27821                             107 I1  ;       ***********************************
27822                             108 I1  ;       ***                             ***
27823                             109 I1  ;       ***     工程切り替え            ***
27824                             110 I1  ;       ***     data add                ***
27825                             111 I1  ;       ***                             ***
27826                             112 I1  ;       ***********************************
27827                                 I1  ***** BEGIN-POOL *****
27828 000059B0 00000000               I1  DATA FOR SOURCE-LINE 92
27829 000059B4 00000000               I1  DATA FOR SOURCE-LINE 98
27830                                 I1  ***** END-POOL *****
27831 000059B8                    113 I1  _CNT_VMODE_NEXT_CYCL_START:
27832                             114 I1          SUB_START
27833 000059B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
27834                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27835                             115 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_ESTEP_BEFOR,R0     ;ﾓﾆﾀ用
27836 000059BA D01B                   M           MOV.L   #_CHG_STEP_INFO_MAKE_ESTEP_BEFOR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27837 000059BC 400B                   M           JSR     @R0                     ;
27838 000059BE 0009                   M           NOP                                     ;
27839                             116 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_DAT,R0        ;ﾓﾆﾀ用
27840 000059C0 D01A                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27841 000059C2 400B                   M           JSR     @R0                     ;
27842 000059C4 0009                   M           NOP                                     ;
27843                             117 I1  
27844                             118 I1          FAR_JSR #_CPU_AB_CST_ON_OUT2,R0                 ;次へいくぞ!
27845 000059C6 D01A                   M           MOV.L   #_CPU_AB_CST_ON_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27846 000059C8 400B                   M           JSR     @R0                     ;
27847 000059CA 0009                   M           NOP                                     ;
27848                             119 I1          FAR_JSR #_MOTION_CYCLE_END,R0                   ;
27849 000059CC D019                   M           MOV.L   #_MOTION_CYCLE_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27850 000059CE 400B                   M           JSR     @R0                     ;
27851 000059D0 0009                   M           NOP                                     ;
27852                             120 I1          FAR_JSR #_MOTION_CYCLE_ED2,R0                   ;2003-07-09
27853 000059D2 D019                   M           MOV.L   #_MOTION_CYCLE_ED2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27854 000059D4 400B                   M           JSR     @R0                     ;
27855 000059D6 0009                   M           NOP                                     ;
27856                             121 I1  
27857                             122 I1  
27858                             123 I1          FAR_JSR #_LOT_SIG_FLG_CLR,R0                    ;通常の連続
27859 000059D8 D018                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27860 000059DA 400B                   M           JSR     @R0                     ;
27861 000059DC 0009                   M           NOP                                     ;
27862                             124 I1  
27863                             125 I1  ;       --------- 2020-05-07-----------
27864 000059DE D418               126 I1          MOV.L   #_M_LINK_AREASIG,R4                     ;
27865 000059E0 6041               127 I1          MOV.W   @R4,R0                                          ;
27866 000059E2 C802               128 I1          TST     #(BIT1),R0                                              ;下降からの開始
27867                             129 I1          TST_BIT_OF VMODE_LOT_SIG_ON                     ;
27868 000059E4 8903                   M           BT      VMODE_LOT_SIG_ON
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   391
PROGRAM NAME =

27869 000059E6 D117               130 I1          MOV.L   #_LOT_CHK_FLG,R1                        ;
27870 000059E8 6011               131 I1          MOV.W   @R1,R0                                          ;
27871 000059EA CB07               132 I1          OR      #(BIT2+BIT1+BIT0),R0                    ;(待機点は通過)
27872 000059EC 2101               133 I1          MOV.W   R0,@R1                                          ;
27873 000059EE                    134 I1  VMODE_LOT_SIG_ON:
27874 000059EE D416               135 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB260,R4     ;
27875 000059F0 2401               136 I1          MOV.W   R0,@R4                                          ;
27876                             137 I1  
27877 000059F2 D116               138 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB257,R1             ;257.0,1,2,3(END),4
27878 000059F4 6011               139 I1          MOV.W   @R1,R0
27879 000059F6 7001               140 I1          ADD             #1,R0
27880 000059F8 2101               141 I1          MOV.W   R0,@R1
27881                             142 I1  
27882                             143 I1  ;       -----------------------------------
27883                             144 I1  
27884                             145 I1  
27885                             146 I1  
27886                             147 I1  ;;2016-10-31    FAR_JSR #_DBG_END_CNT3,R0                       ;
27887                             148 I1  
27888 000059FA 200A               149 I1          XOR     R0,R0                                   ;
27889 000059FC D114               150 I1          MOV.L   #_INT_POS_STEP_FLG,R1                   ;//ｽﾃｯﾌﾟ,段取り共通
27890 000059FE 2101               151 I1          MOV.W   R0,@R1                                  ;
27891                             152 I1  
27892                             153 I1          FAR_JSR #_BANK_CHK_NEXT_CYCL_STR1,R0            ;
27893 00005A00 D014                   M           MOV.L   #_BANK_CHK_NEXT_CYCL_STR1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27894 00005A02 400B                   M           JSR     @R0                     ;
27895 00005A04 0009                   M           NOP                                     ;
27896                             154 I1  
27897                             155 I1  ;       ------------------2006-12-18----------------------
27898                             156 I1          FAR_JSR #_OVER_RID_UPDN_LAT_DTMK,R0             ;20060919:
27899 00005A06 D014                   M           MOV.L   #_OVER_RID_UPDN_LAT_DTMK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27900 00005A08 400B                   M           JSR     @R0                     ;
27901 00005A0A 0009                   M           NOP                                     ;
27902                             157 I1  ;       --------------------------------------------------
27903                             158 I1  
27904 00005A0C D113               159 I1          MOV.L   #_SV_POS_CTL_STEP,R1                    ;//1msec 制御上の見かけ
27905 00005A0E 6411               160 I1          MOV.W   @R1,R4                                  ;
27906 00005A10 D213               161 I1          MOV.L   #_INT_POS_CTL_STEP,R2                   ;//内部制御工程1~11
27907 00005A12 2241               162 I1          MOV.W   R4,@R2                                  ;
27908                             163 I1  
27909                             164 I1  
27910                             165 I1  ;;      FAR_JSR #_POS_1STEP_DATA_MAK2,R0                ;_LNGTH,SHIN,SPEED<設定から求める>
27911                             166 I1  
27912                             167 I1  
27913                             168 I1  ;       ==== 最終工程相当でなければ速度を切り替えるだけ===
27914                             169 I1  ;       LINKX-->LINKは
27915                             170 I1  ;       その前の処理で行われているはずなので不要
27916 00005A14 D113               171 I1          MOV.L   #_CPOS_MOD_FLG1,R1                      ;
27917 00005A16 6011               172 I1          MOV.W   @R1,R0                                  ;
27918 00005A18 C808               173 I1          TST     #BIT3,R0                                ;
27919                             174 I1          TST_BIT_ON CNT_VMODE_NEXT_CYCLSTR_050           ;
27920 00005A1A 8B27                   M           BF      CNT_VMODE_NEXT_CYCLSTR_050
27921                             175 I1  
27922                             176 I1  ;       === ﾀｲﾏ停止有り ===ここで移動量は作成しない===
27923                             177 I1          FAR_JSR #_CNT_SPD_SET,R0                        ;(これではステップ上の運転開始とは
                                          いえ自起動まで落ちているから良い)
27924 00005A1C D012                   M           MOV.L   #_CNT_SPD_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   392
PROGRAM NAME =

27925 00005A1E 400B                   M           JSR     @R0                     ;
27926 00005A20 0009                   M           NOP                                     ;
27927                             178 I1          M_BRA   CNT_VMODE_NEXT_CYCLSTR_100
27928 00005A22 A029                   M           BRA     CNT_VMODE_NEXT_CYCLSTR_100
27929 00005A24 0009                   M           NOP
27930                             179 I1  
27931                             180 I1  
27932                                 I1  ***** BEGIN-POOL *****
27933 00005A26 0000                   I1  ALIGNMENT CODE
27934 00005A28 00000000               I1  DATA FOR SOURCE-LINE 115
27935 00005A2C 00000000               I1  DATA FOR SOURCE-LINE 116
27936 00005A30 00000000               I1  DATA FOR SOURCE-LINE 118
27937 00005A34 00000000               I1  DATA FOR SOURCE-LINE 119
27938 00005A38 00000000               I1  DATA FOR SOURCE-LINE 120
27939 00005A3C 00000000               I1  DATA FOR SOURCE-LINE 123
27940 00005A40 00000000               I1  DATA FOR SOURCE-LINE 126
27941 00005A44 00000000               I1  DATA FOR SOURCE-LINE 130
27942 00005A48 00000000               I1  DATA FOR SOURCE-LINE 135
27943 00005A4C 00000000               I1  DATA FOR SOURCE-LINE 138
27944 00005A50 00000000               I1  DATA FOR SOURCE-LINE 150
27945 00005A54 00000000               I1  DATA FOR SOURCE-LINE 153
27946 00005A58 00000000               I1  DATA FOR SOURCE-LINE 156
27947 00005A5C 00000000               I1  DATA FOR SOURCE-LINE 159
27948 00005A60 00000000               I1  DATA FOR SOURCE-LINE 161
27949 00005A64 00000000               I1  DATA FOR SOURCE-LINE 171
27950 00005A68 00000000               I1  DATA FOR SOURCE-LINE 177
27951                                 I1  ***** END-POOL *****
27952 00005A6C                    181 I1  CNT_VMODE_NEXT_CYCLSTR_050:
27953                             182 I1  ;       === ﾀｲﾏ停止全くなし ===ここで移動量を作成===
27954                             183 I1          FAR_JSR #_POS_CNT_BANK_DTMAK2,R0                ;CNT_SPD
27955 00005A6C D014                   M           MOV.L   #_POS_CNT_BANK_DTMAK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27956 00005A6E 400B                   M           JSR     @R0                     ;
27957 00005A70 0009                   M           NOP                                     ;
27958                             184 I1          FAR_JSR #_BANK_CNT_STOP_CHK_TYP1,R0             ;
27959 00005A72 D014                   M           MOV.L   #_BANK_CNT_STOP_CHK_TYP1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27960 00005A74 400B                   M           JSR     @R0                     ;
27961 00005A76 0009                   M           NOP                                     ;
27962                             185 I1  
27963 00005A78                    186 I1  CNT_VMODE_NEXT_CYCLSTR_100:
27964                             187 I1  
27965                             188 I1  
27966                             189 I1  
27967                             190 I1  ;;;だめ FAR_JSR #_POS_CNT_BANK_DTMAK2,R0                ;
27968                             191 I1  
27969                             192 I1  ;       ==== 2004-03-29 ====
27970                             193 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;OK!
27971 00005A78 D013                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27972 00005A7A 400B                   M           JSR     @R0                     ;
27973 00005A7C 0009                   M           NOP                                     ;
27974                             194 I1          FAR_JSR #_MOTION_CYCLE_START,R0         ;
27975 00005A7E D013                   M           MOV.L   #_MOTION_CYCLE_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27976 00005A80 400B                   M           JSR     @R0                     ;
27977 00005A82 0009                   M           NOP                                     ;
27978 00005A84 D112               195 I1          MOV.L   #_CAM_CNT_CHG_FLG,R1    ;       //連続が１ｽﾃｯﾌﾟになった
27979 00005A86 9019               196 I1          MOV.W   #BIT0,R0                ;
27980 00005A88 2101               197 I1          MOV.W   R0,@R1                  ;
27981                             198 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   393
PROGRAM NAME =

27982                             199 I1  
27983                             200 I1  ;       ==================================
27984                             201 I1          FAR_JSR #_CMPCYC_START_CLR,R0
27985 00005A8A D012                   M           MOV.L   #_CMPCYC_START_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27986 00005A8C 400B                   M           JSR     @R0                     ;
27987 00005A8E 0009                   M           NOP                                     ;
27988                             202 I1  ;       ===============================================
27989                             203 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_NEAR_IN_FLG,LG=W,BIT=~BIT0,WKREG=R1 ;//
27990 00005A90 D111                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
27991 00005A92 6011                   M           MOV.W   @R1,R0          ;
27992 00005A94 C9FE                   M           AND     #LOW ~BIT0,R0           ;
27993 00005A96 2101                   M           MOV.W   R0,@R1          ;
27994                             204 I1          FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13
27995 00005A98 D010                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27996 00005A9A 400B                   M           JSR     @R0                     ;
27997 00005A9C 0009                   M           NOP                                     ;
27998                             205 I1  ;       ===============================================
27999                             206 I1          FAR_JSR #_FUL_DATA_INIT,R0
28000 00005A9E D010                   M           MOV.L   #_FUL_DATA_INIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28001 00005AA0 400B                   M           JSR     @R0                     ;
28002 00005AA2 0009                   M           NOP                                     ;
28003                             207 I1  ;       ==================================
28004                             208 I1          FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
28005 00005AA4 D00F                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28006 00005AA6 400B                   M           JSR     @R0                     ;
28007 00005AA8 0009                   M           NOP                                     ;
28008                             209 I1  ;       ================<<<2004-03-25>>>==========
28009                             210 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_ESTEP_AFTER,R0             ;ﾓﾆﾀ用
28010 00005AAA D00F                   M           MOV.L   #_CHG_STEP_INFO_MAKE_ESTEP_AFTER,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28011 00005AAC 400B                   M           JSR     @R0                     ;
28012 00005AAE 0009                   M           NOP                                     ;
28013                             211 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾓﾆﾀ用
28014 00005AB0 D00E                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28015 00005AB2 400B                   M           JSR     @R0                     ;
28016 00005AB4 0009                   M           NOP                                     ;
28017                             212 I1          SUB_END
28018                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28019 00005AB6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28020                             213 I1          M_RTS
28021 00005AB8 000B                   M           RTS                             ;RTSの後ろの
28022 00005ABA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28023                             214 I1  
28024                             215 I1  
28025                             216 I1  ;       *******************************************
28026                             217 I1  ;       ***                                     ***
28027                             218 I1  ;       ***                                     ***
28028                             219 I1  ;       *******************************************
28029                             220 I1  ;       ***********************************
28030                             221 I1  ;       ***                             ***
28031                             222 I1  ;       ***     移動距離のみ+SPEED      ***
28032                             223 I1  ;       ***                             ***
28033                             224 I1  ;       ***********************************
28034                             225 I1  ;       FAR_JSR #_LENGH_ADD_CALC,R0     ;
28035                             226 I1  ;       が
28036                             227 I1  ;       FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
28037                             228 I1  ;       になっているだけ
28038                             229 I1  ;       (回転途中の演算　１回転分)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   394
PROGRAM NAME =

28039                             230 I1  
28040                             231 I1  ;       ===== タイマ停止後起動時===
28041                                 I1  ***** BEGIN-POOL *****
28042 00005ABC 0001                   I1  DATA FOR SOURCE-LINE 196
28043 00005ABE 0000                   I1  ALIGNMENT CODE
28044 00005AC0 00000000               I1  DATA FOR SOURCE-LINE 183
28045 00005AC4 00000000               I1  DATA FOR SOURCE-LINE 184
28046 00005AC8 00000000               I1  DATA FOR SOURCE-LINE 193
28047 00005ACC 00000000               I1  DATA FOR SOURCE-LINE 194
28048 00005AD0 00000000               I1  DATA FOR SOURCE-LINE 195
28049 00005AD4 00000000               I1  DATA FOR SOURCE-LINE 201
28050 00005AD8 00000000               I1  DATA FOR SOURCE-LINE 203
28051 00005ADC 00000000               I1  DATA FOR SOURCE-LINE 204
28052 00005AE0 00000000               I1  DATA FOR SOURCE-LINE 206
28053 00005AE4 00000000               I1  DATA FOR SOURCE-LINE 208
28054 00005AE8 00000000               I1  DATA FOR SOURCE-LINE 210
28055 00005AEC 00000000               I1  DATA FOR SOURCE-LINE 211
28056                                 I1  ***** END-POOL *****
28057 00005AF0                    232 I1  _POS_CNT_BANK_DTMAK3:                           ;上死点ﾀｲﾏ=0で途中で止まる時
28058                             233 I1          SUB_START
28059 00005AF0 4F22                   M           STS.L   PR,@-R15                ;[必要]
28060                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28061                             234 I1  
28062                             235 I1  ;       -------debug break-point set----------
28063                             236 I1          PUSH_REG1 R0
28064 00005AF2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28065                                 M                                           ;REG=>[SP]
28066                                 M                                           ;"-4" FF,FF,FF,FC
28067                             237 I1          PUSH_REG1 R1
28068 00005AF4 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
28069                                 M                                           ;REG=>[SP]
28070                                 M                                           ;"-4" FF,FF,FF,FC
28071 00005AF6 D10C               238 I1          MOV.L   #_di2_cb_ctl2,R1        ;
28072 00005AF8 6011               239 I1          MOV.W   @R1,R0                  ;
28073 00005AFA C880               240 I1          TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
28074                             241 I1          TST_BIT_OF CNTBANK_DBGBRK_100   ;
28075 00005AFC 8904                   M           BT      CNTBANK_DBGBRK_100
28076                             242 I1  
28077 00005AFE 0009               243 I1          NOP
28078 00005B00 0009               244 I1          NOP
28079 00005B02 0009               245 I1          NOP
28080 00005B04 0009               246 I1          NOP
28081 00005B06 0009               247 I1          NOP
28082                             248 I1  
28083                             249 I1  
28084 00005B08                    250 I1  CNTBANK_DBGBRK_100
28085                             251 I1  
28086                             252 I1  
28087                             253 I1          POP_REG1 R1
28088                                 M                                   ; RE"+4" 00,00,00,04
28089 00005B08 61F6                   M           MOV.L   @R15+,R1        ;
28090                             254 I1          POP_REG1 R0
28091                                 M                                   ; RE"+4" 00,00,00,04
28092 00005B0A 60F6                   M           MOV.L   @R15+,R0        ;
28093                             255 I1  
28094                             256 I1  
28095                             257 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   395
PROGRAM NAME =

28096                             258 I1  
28097                             259 I1          FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
28098 00005B0C D007                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28099 00005B0E 400B                   M           JSR     @R0                     ;
28100 00005B10 0009                   M           NOP                                     ;
28101                             260 I1  
28102                             261 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;
28103 00005B12 D007                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28104 00005B14 400B                   M           JSR     @R0                     ;
28105 00005B16 0009                   M           NOP                                     ;
28106                             262 I1  
28107 00005B18 D406               263 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4                 ;//起動時,その他で演算 8byte data
28108 00005B1A 2008               264 I1          TST     R0,R0                                   ;
28109                             265 I1          TST_BIT_OF POS_CNT_BANKDTMAK12_COM              ;最終工程でなければ
28110 00005B1C 8932                   M           BT      POS_CNT_BANKDTMAK12_COM
28111                             266 I1  
28112 00005B1E D406               267 I1          MOV.L   #_CPOS_SDAT1_STPAPOS2,R4                ;//起動時,その他で演算 8byte data
28113 00005B20 9001               268 I1          MOV.W   #1,R0                                   ;
28114                             269 I1          M_BRA   POS_CNT_BANKDTMAK123_COM                ;最終工程相当なら
28115 00005B22 A038                   M           BRA     POS_CNT_BANKDTMAK123_COM
28116 00005B24 0009                   M           NOP
28117                             270 I1  
28118                             271 I1  
28119                                 I1  ***** BEGIN-POOL *****
28120 00005B26 0001                   I1  DATA FOR SOURCE-LINE 268
28121 00005B28 00000000               I1  DATA FOR SOURCE-LINE 238
28122 00005B2C 00000000               I1  DATA FOR SOURCE-LINE 259
28123 00005B30 00000000               I1  DATA FOR SOURCE-LINE 261
28124 00005B34 00000000               I1  DATA FOR SOURCE-LINE 263
28125 00005B38 00000000               I1  DATA FOR SOURCE-LINE 267
28126                                 I1  ***** END-POOL *****
28127 00005B3C                    272 I1  _POS_CNT_BANK_DTMAK2:                                   ;どこにも止まらないとき
28128                             273 I1          SUB_START
28129 00005B3C 4F22                   M           STS.L   PR,@-R15                ;[必要]
28130                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28131                             274 I1          M_BRA   POS_CNT_BANKDTMAK12_COM
28132 00005B3E A021                   M           BRA     POS_CNT_BANKDTMAK12_COM
28133 00005B40 0009                   M           NOP
28134                             275 I1  
28135                             276 I1  ;       ===== 初回の起動時===
28136 00005B42                    277 I1  _POS_CNT_BANK_DTMAK1:
28137                             278 I1          SUB_START
28138 00005B42 4F22                   M           STS.L   PR,@-R15                ;[必要]
28139                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28140                             279 I1  
28141                             280 I1  ;;;;2014-09-14  ----------------------------------------------
28142                             281 I1  ;;;;2014-09-14  MOV.L   #_POS_HOLD_RDY_EXITF2,R1        ;//しょうがない
28143                             282 I1  ;;;;2014-09-14  MOV.W   @R1,R0                          ;
28144                             283 I1  ;;;;2014-09-14  TST     #BIT0,R0                        ;
28145                             284 I1  ;;;;2014-09-14  TST_BIT_OF POSCNT_BANKDT050             ;
28146                             285 I1  ;;;;2014-09-14
28147                             286 I1  ;;;;2014-09-14  MOV.L   #_LINK_RL_OBJ_ABSPLS,R4         ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
28148                             287 I1  ;;;;2014-09-14  MOV.L   @(0,R4),R1                      ;
28149                             288 I1  ;;;;2014-09-14  MOV.L   @(4,R4),R2                      ;
28150                             289 I1  ;;;;2014-09-14  M_BRA   POSCNT_BANKDT075                ;
28151                             290 I1  ;;;;2014-09-14
28152                             291 I1  ;;;;2014-09-14
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   396
PROGRAM NAME =

28153                             292 I1  ;;;;2014-09-14POSCNT_BANKDT050
28154                             293 I1  ;;;;2014-09-14
28155                             294 I1  ;;;;2014-09-14  FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
28156                             295 I1  ;;;;2014-09-14
28157                             296 I1  ;;;;2014-09-14  MOV.L   #_LINK_PV_ABSPLS,R4     ;(ﾌﾙｸﾛｰｽﾞ時は対象を変える)
28158                             297 I1  ;;;;2014-09-14  MOV.L   @R4+,R1                         ;
28159                             298 I1  ;;;;2014-09-14  MOV.L   @R4,R2                          ;
28160                             299 I1  ;;;;2014-09-14
28161                             300 I1  ;;;;2014-09-14POSCNT_BANKDT075
28162                             301 I1  
28163 00005B44 D409               302 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4         ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
28164 00005B46 5140               303 I1          MOV.L   @(0,R4),R1                      ;
28165 00005B48 5241               304 I1          MOV.L   @(4,R4),R2                      ;
28166                             305 I1  
28167 00005B4A D509               306 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
28168 00005B4C 2512               307 I1          MOV.L   R1,@R5                          ;
28169 00005B4E 1521               308 I1          MOV.L   R2,@(4,R5)                      ;
28170 00005B50 D508               309 I1          MOV.L   #_LINKX_SV_OBJ_ABSPLS,R5        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
28171 00005B52 2512               310 I1          MOV.L   R1,@R5                          ;
28172 00005B54 1521               311 I1          MOV.L   R2,@(4,R5)                      ;
28173                             312 I1  
28174 00005B56                    313 I1  POSCNT_BANKDT100
28175                             314 I1  
28176                             315 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;上死点タイマなしで止まる時・止まらない時
28177 00005B56 D008                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28178 00005B58 400B                   M           JSR     @R0                     ;
28179 00005B5A 0009                   M           NOP                                     ;
28180                             316 I1  
28181 00005B5C D407               317 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4         ;
28182 00005B5E 2008               318 I1          TST     R0,R0                           ;
28183                             319 I1          TST_BIT_OF POS_CNT_BANKDTMAK12_COM      ;最終工程でなければ
28184 00005B60 8910                   M           BT      POS_CNT_BANKDTMAK12_COM
28185                             320 I1  
28186 00005B62 D407               321 I1          MOV.L   #_CPOS_SDAT1_STPAPOS2,R4        ;//起動時,その他で演算 8byte data
28187 00005B64 9001               322 I1          MOV.W   #1,R0                           ;
28188                             323 I1          M_BRA   POS_CNT_BANKDTMAK123_COM        ;最終工程相当なら
28189 00005B66 A016                   M           BRA     POS_CNT_BANKDTMAK123_COM
28190 00005B68 0009                   M           NOP
28191                             324 I1  
28192                             325 I1  
28193                             326 I1  
28194                             327 I1  
28195                             328 I1  
28196                             329 I1  
28197                             330 I1  
28198                             331 I1  
28199                             332 I1  
28200                             333 I1  
28201                             334 I1  
28202                             335 I1  
28203                             336 I1  
28204                                 I1  ***** BEGIN-POOL *****
28205 00005B6A 0001                   I1  DATA FOR SOURCE-LINE 322
28206 00005B6C 00000000               I1  DATA FOR SOURCE-LINE 302
28207 00005B70 00000000               I1  DATA FOR SOURCE-LINE 306
28208 00005B74 00000000               I1  DATA FOR SOURCE-LINE 309
28209 00005B78 00000000               I1  DATA FOR SOURCE-LINE 315
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   397
PROGRAM NAME =

28210 00005B7C 00000000               I1  DATA FOR SOURCE-LINE 317
28211 00005B80 00000000               I1  DATA FOR SOURCE-LINE 321
28212                                 I1  ***** END-POOL *****
28213 00005B84                    337 I1  POS_CNT_BANKDTMAK12_COM:
28214                             338 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;
28215 00005B84 D00B                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28216 00005B86 400B                   M           JSR     @R0                     ;
28217 00005B88 0009                   M           NOP                                     ;
28218                             339 I1  
28219 00005B8A D40B               340 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4         ;//起動時,その他で演算 8byte data
28220 00005B8C 2008               341 I1          TST     R0,R0                           ;
28221                             342 I1          TST_BIT_OF POS_CNT_BANKDTMAK12_050      ;
28222 00005B8E 8900                   M           BT      POS_CNT_BANKDTMAK12_050
28223 00005B90 D40A               343 I1          MOV.L   #_CPOS_SDAT1_STPAPOS2,R4        ;//起動時,その他で演算 8byte data
28224 00005B92                    344 I1  POS_CNT_BANKDTMAK12_050:
28225                             345 I1  
28226                             346 I1  
28227                             347 I1  
28228 00005B92 D20B               348 I1          MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
28229 00005B94 6021               349 I1          MOV.W   @R2,R0                          ;
28230 00005B96                    350 I1  POS_CNT_BANKDTMAK123_COM:
28231 00005B96 70FF               351 I1          ADD     #-1,R0                          ;
28232 00005B98 4008               352 I1          SHLL2   R0                              ;
28233 00005B9A 4000               353 I1          SHLL    R0                              ;*2
28234 00005B9C 340C               354 I1          ADD     R0,R4                           ;
28235 00005B9E 6146               355 I1          MOV.L   @R4+,R1                         ;
28236 00005BA0 6242               356 I1          MOV.L   @R4,R2                          ;(目標位置)
28237                             357 I1          FAR_JSR #_POS_CNT_BANK_DTMAK_CM,R0      ;LINKXから計算するADDDATA作成
28238 00005BA2 D008                   M           MOV.L   #_POS_CNT_BANK_DTMAK_CM,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28239 00005BA4 400B                   M           JSR     @R0                     ;
28240 00005BA6 0009                   M           NOP                                     ;
28241                             358 I1          FAR_JSR #_CNT_SPD_SET,R0                ;
28242 00005BA8 D007                   M           MOV.L   #_CNT_SPD_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28243 00005BAA 400B                   M           JSR     @R0                     ;
28244 00005BAC 0009                   M           NOP                                     ;
28245                             359 I1  
28246                             360 I1  
28247                             361 I1  
28248                             362 I1          SUB_END
28249                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28250 00005BAE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28251                             363 I1          M_RTS
28252 00005BB0 000B                   M           RTS                             ;RTSの後ろの
28253 00005BB2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28254                             364 I1  
28255                             365 I1  
28256                             366 I1  
28257                             367 I1  
28258                             368 I1  ;       ***************************************************
28259                             369 I1  ;       ***     速度継続結果の最終ステップ相当か        ***
28260                             370 I1  ;       ***************************************************
28261                             371 I1  ;       ANS R0!=0 最終
28262                                 I1  ***** BEGIN-POOL *****
28263 00005BB4 00000000               I1  DATA FOR SOURCE-LINE 338
28264 00005BB8 00000000               I1  DATA FOR SOURCE-LINE 340
28265 00005BBC 00000000               I1  DATA FOR SOURCE-LINE 343
28266 00005BC0 00000000               I1  DATA FOR SOURCE-LINE 348
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   398
PROGRAM NAME =

28267 00005BC4 00000000               I1  DATA FOR SOURCE-LINE 357
28268 00005BC8 00000000               I1  DATA FOR SOURCE-LINE 358
28269                                 I1  ***** END-POOL *****
28270 00005BCC                    372 I1  _POS_CNT_LAST_STEP_CHK:
28271                             373 I1          SUB_START
28272 00005BCC 4F22                   M           STS.L   PR,@-R15                ;[必要]
28273                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28274                             374 I1          PUSH_REG1 R1
28275 00005BCE 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
28276                                 M                                           ;REG=>[SP]
28277                                 M                                           ;"-4" FF,FF,FF,FC
28278                             375 I1          PUSH_REG1 R2
28279 00005BD0 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
28280                                 M                                           ;REG=>[SP]
28281                                 M                                           ;"-4" FF,FF,FF,FC
28282                             376 I1          PUSH_REG1 R3
28283 00005BD2 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
28284                                 M                                           ;REG=>[SP]
28285                                 M                                           ;"-4" FF,FF,FF,FC
28286                             377 I1  
28287 00005BD4 D209               378 I1          MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
28288 00005BD6 6021               379 I1          MOV.W   @R2,R0                          ;
28289 00005BD8 70FF               380 I1          ADD     #-1,R0                          ;
28290 00005BDA 4008               381 I1          SHLL2   R0
28291 00005BDC D108               382 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1         ;
28292 00005BDE 021E               383 I1          MOV.L   @(R0,R1),R2                     ;現状の工程の目標工程
28293 00005BE0 D108               384 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;
28294 00005BE2 6311               385 I1          MOV.W   @R1,R3                          ;
28295 00005BE4 7301               386 I1          ADD     #1,R3                           ;設定+1(帰りも1ｽﾃｯﾌﾟ)
28296                             387 I1  
28297 00005BE6 200A               388 I1          XOR     R0,R0                           ;
28298 00005BE8 3320               389 I1          CMP/EQ  R2,R3                           ;
28299 00005BEA 8B00               390 I1          BF      POS_CNT_LASTSTEPCHK_END         ;
28300 00005BEC E0FF               391 I1          MOV     #-1,R0                          ;LAST相当
28301 00005BEE                    392 I1  POS_CNT_LASTSTEPCHK_END:                        ;
28302                             393 I1  
28303                             394 I1          POP_REG1 R3
28304                                 M                                   ; RE"+4" 00,00,00,04
28305 00005BEE 63F6                   M           MOV.L   @R15+,R3        ;
28306                             395 I1          POP_REG1 R2
28307                                 M                                   ; RE"+4" 00,00,00,04
28308 00005BF0 62F6                   M           MOV.L   @R15+,R2        ;
28309                             396 I1          POP_REG1 R1
28310                                 M                                   ; RE"+4" 00,00,00,04
28311 00005BF2 61F6                   M           MOV.L   @R15+,R1        ;
28312                             397 I1  
28313                             398 I1          SUB_END
28314                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28315 00005BF4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28316                             399 I1          M_RTS
28317 00005BF6 000B                   M           RTS                             ;RTSの後ろの
28318 00005BF8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28319                             400 I1  
28320                             401 I1  
28321                             402 I1  
28322                             403 I1  ;       ***********************************
28323                             404 I1  ;       ***                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   399
PROGRAM NAME =

28324                             405 I1  ;       ***     移動距離のみ            ***
28325                             406 I1  ;       ***                             ***
28326                             407 I1  ;       ***********************************
28327                             408 I1  ;       FAR_JSR #_LENGH_ADD_CALC,R0     ;
28328                             409 I1  ;       が
28329                             410 I1  ;       FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
28330                             411 I1  ;       になっているだけ
28331                             412 I1  ;       (回転途中の演算　１回転分)
28332                                 I1  ***** BEGIN-POOL *****
28333 00005BFA 0000                   I1  ALIGNMENT CODE
28334 00005BFC 00000000               I1  DATA FOR SOURCE-LINE 378
28335 00005C00 00000000               I1  DATA FOR SOURCE-LINE 382
28336 00005C04 00000000               I1  DATA FOR SOURCE-LINE 384
28337                                 I1  ***** END-POOL *****
28338 00005C08                    413 I1  _CNT_SPD_SET:
28339                             414 I1          SUB_START
28340 00005C08 4F22                   M           STS.L   PR,@-R15                ;[必要]
28341                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28342 00005C0A D207               415 I1          MOV.L   #_INT_POS_CTL_STEP,R2                   ;//内部制御工程1~11
28343 00005C0C 6021               416 I1          MOV.W   @R2,R0                                  ;
28344 00005C0E 70FF               417 I1          ADD     #-1,R0                                  ;
28345 00005C10 4008               418 I1          SHLL2   R0                                      ;
28346 00005C12 D406               419 I1          MOV.L   #_CPOS_SDAT1_SPD,R4                     ;       //SETX-->起動時COPY
28347 00005C14 024E               420 I1          MOV.L   @(R0,R4),R2                             ;
28348 00005C16 D106               421 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                 ;//目標速度
28349 00005C18 2122               422 I1          MOV.L   R2,@R1                                  ;
28350                             423 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SETX,R1             ;
28351 00005C1A D106                   M           MOV.L   #_POS_LSI_TOP_SPEED_SETX,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28352 00005C1C 410B                   M           JSR     @R1                     ;
28353 00005C1E 0009                   M           NOP                                     ;
28354                             424 I1          SUB_END
28355                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28356 00005C20 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28357                             425 I1          M_RTS
28358 00005C22 000B                   M           RTS                             ;RTSの後ろの
28359 00005C24 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28360                             426 I1  
28361                                 I1  ***** BEGIN-POOL *****
28362 00005C26 0000                   I1  ALIGNMENT CODE
28363 00005C28 00000000               I1  DATA FOR SOURCE-LINE 415
28364 00005C2C 00000000               I1  DATA FOR SOURCE-LINE 419
28365 00005C30 00000000               I1  DATA FOR SOURCE-LINE 421
28366 00005C34 00000000               I1  DATA FOR SOURCE-LINE 423
28367                                 I1  ***** END-POOL *****
28368 00005C38                    427 I1  _POS_CNT_BANK_DTMAK_CM:
28369                             428 I1          SUB_START
28370 00005C38 4F22                   M           STS.L   PR,@-R15                ;[必要]
28371                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28372                             429 I1  
28373                             430 I1          FAR_JSR #_BANK_LENGH_ADD_CALC_SV_TYPE,R0        ;LINKXのみ+
28374 00005C3A D007                   M           MOV.L   #_BANK_LENGH_ADD_CALC_SV_TYPE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28375 00005C3C 400B                   M           JSR     @R0                     ;
28376 00005C3E 0009                   M           NOP                                     ;
28377                             431 I1  
28378 00005C40 233A               432 I1          XOR     R3,R3                           ;
28379 00005C42 4111               433 I1          CMP/PZ  R1                              ;+正転?
28380 00005C44 8900               434 I1          BT      POS_CNT_BANKDTMKCM_050          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   400
PROGRAM NAME =

28381 00005C46 E301               435 I1          MOV     #BIT0,R3                        ;
28382 00005C48                    436 I1  POS_CNT_BANKDTMKCM_050
28383 00005C48 D104               437 I1          MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
28384 00005C4A 6011               438 I1          MOV.W   @R1,R0                  ;
28385 00005C4C C9FE               439 I1          AND     #LOW ~BIT0,R0           ;
28386 00005C4E 203B               440 I1          OR      R3,R0                   ;
28387 00005C50 2101               441 I1          MOV.W   R0,@R1                  ;
28388                             442 I1  
28389 00005C52                    443 I1  POS_CNT_BANKDTMKCM_EXT:
28390                             444 I1          SUB_END
28391                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28392 00005C52 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28393                             445 I1          M_RTS
28394 00005C54 000B                   M           RTS                             ;RTSの後ろの
28395 00005C56 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28396                             446 I1  
28397                             447 I1  
28398                             448 I1  
28399                             449 I1  
28400                             450 I1  
28401                             451 I1  
28402                             452 I1  
28403                             453 I1  
28404                             454 I1  ;       ***************************************************
28405                             455 I1  ;       ***                                             ***
28406                             456 I1  ;       ***     BANK2 ﾃﾞｰﾀ作成                          ***
28407                             457 I1  ;       ***     起動時BANK1ﾃﾞｰﾀを作成直後に呼ばれる     ***
28408                             458 I1  ;       ***     MODE関係なしで呼ばれるのでこの中でﾁｬｯｸ  ***
28409                             459 I1  ;       ***                                             ***
28410                             460 I1  ;       ***************************************************
28411                             461 I1  ;
28412                                 I1  ***** BEGIN-POOL *****
28413 00005C58 00000000               I1  DATA FOR SOURCE-LINE 430
28414 00005C5C 00000000               I1  DATA FOR SOURCE-LINE 437
28415                                 I1  ***** END-POOL *****
28416 00005C60                    462 I1  _START_CNT_BANK2_MAK_CHK:
28417                             463 I1          SUB_START
28418 00005C60 4F22                   M           STS.L   PR,@-R15                ;[必要]
28419                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28420 00005C62 D108               464 I1          MOV.L   #_CPOS_BANK_USELFUL,R1          ;
28421 00005C64 6011               465 I1          MOV.W   @R1,R0                          ;
28422 00005C66 C801               466 I1          TST     #BIT0,R0                        ;
28423                             467 I1          TST_BIT_OF START_CNT_BANK2_MAKCHK_END   ;
28424 00005C68 8908                   M           BT      START_CNT_BANK2_MAKCHK_END
28425                             468 I1  
28426 00005C6A D107               469 I1          MOV.L   #_BANK1_CALC_ROT_NUM_ZR,R1      ;
28427 00005C6C 6212               470 I1          MOV.L   @R1,R2                          ;
28428 00005C6E 7201               471 I1          ADD     #1,R2                           ;
28429                             472 I1          FAR_JSR #_BANK2_CPOS_ABS_POS_SET,R0     ;
28430 00005C70 D006                   M           MOV.L   #_BANK2_CPOS_ABS_POS_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28431 00005C72 400B                   M           JSR     @R0                     ;
28432 00005C74 0009                   M           NOP                                     ;
28433                             473 I1  
28434                             474 I1  ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
28435                             475 I1          FAR_JSR #_HLDCAM_BANK2_ABS_POS_SET,R0   ;ssa_dtmk.src 2014-08-30
28436 00005C76 D006                   M           MOV.L   #_HLDCAM_BANK2_ABS_POS_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28437 00005C78 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   401
PROGRAM NAME =

28438 00005C7A 0009                   M           NOP                                     ;
28439                             476 I1  
28440 00005C7C                    477 I1  START_CNT_BANK2_MAKCHK_END:
28441                             478 I1          SUB_END
28442                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28443 00005C7C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28444                             479 I1          M_RTS
28445 00005C7E 000B                   M           RTS                             ;RTSの後ろの
28446 00005C80 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28447                             480 I1  
28448                             481 I1  
28449                             482 I1  ;       ***********************************
28450                             483 I1  ;       ***                             ***
28451                             484 I1  ;       ***     工程切り替え            ***
28452                             485 I1  ;       ***     前の機能もここで行う    ***
28453                             486 I1  ;       ***                             ***
28454                             487 I1  ;       ***********************************
28455                             488 I1  ;       Input R2
28456                                 I1  ***** BEGIN-POOL *****
28457 00005C82 0000                   I1  ALIGNMENT CODE
28458 00005C84 00000000               I1  DATA FOR SOURCE-LINE 464
28459 00005C88 00000000               I1  DATA FOR SOURCE-LINE 469
28460 00005C8C 00000000               I1  DATA FOR SOURCE-LINE 472
28461 00005C90 00000000               I1  DATA FOR SOURCE-LINE 475
28462                                 I1  ***** END-POOL *****
28463 00005C94                    489 I1  _BANK_CHK_NEXT_CYCL_STR1;
28464                             490 I1          SUB_START
28465 00005C94 4F22                   M           STS.L   PR,@-R15                ;[必要]
28466                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28467                             491 I1  
28468 00005C96 D10F               492 I1          MOV.L   #_CPOS_BANK_USELFUL,R1          ;
28469 00005C98 6011               493 I1          MOV.W   @R1,R0                          ;
28470 00005C9A C801               494 I1          TST     #BIT0,R0                        ;
28471                             495 I1          TST_BIT_OF BANKCHKNEXT_CYCL_STR1_020    ;
28472 00005C9C 892A                   M           BT      BANKCHKNEXT_CYCL_STR1_020
28473                             496 I1  
28474 00005C9E 9417               497 I1          MOV.W   #1,R4                           ;
28475 00005CA0 D10D               498 I1          MOV.L   #_SV_POS_CTL_STEP,R1            ;
28476 00005CA2 2141               499 I1          MOV.W   R4,@R1                          ;W
28477                             500 I1  
28478                             501 I1          FAR_JSR #_BANK2_TO_BANK1_MOV,R0         ;
28479 00005CA4 D00D                   M           MOV.L   #_BANK2_TO_BANK1_MOV,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28480 00005CA6 400B                   M           JSR     @R0                     ;
28481 00005CA8 0009                   M           NOP                                     ;
28482 00005CAA D10D               502 I1          MOV.L   #_BANK2_LINK_OBJROT_NUM_ZR,R1   ;//NOW ROTATION 番号
28483 00005CAC 6212               503 I1          MOV.L   @R1,R2                          ;
28484                             504 I1          PUSH_REG1 R2                            ;
28485 00005CAE 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
28486                                 M                                           ;REG=>[SP]
28487                                 M                                           ;"-4" FF,FF,FF,FC
28488                             505 I1          FAR_JSR #_CPOS_ROT_NUM_SET,R1           ;
28489 00005CB0 D10C                   M           MOV.L   #_CPOS_ROT_NUM_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28490 00005CB2 410B                   M           JSR     @R1                     ;
28491 00005CB4 0009                   M           NOP                                     ;
28492                             506 I1          POP_REG1 R2                             ;
28493                                 M                                   ; RE"+4" 00,00,00,04
28494 00005CB6 62F6                   M           MOV.L   @R15+,R2        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   402
PROGRAM NAME =

28495 00005CB8 7201               507 I1          ADD     #1,R2                           ;NEW-ROT
28496                             508 I1          FAR_JSR #_BANK2_CPOS_ABS_POS_SET,R0     ;
28497 00005CBA D00B                   M           MOV.L   #_BANK2_CPOS_ABS_POS_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28498 00005CBC 400B                   M           JSR     @R0                     ;
28499 00005CBE 0009                   M           NOP                                     ;
28500                             509 I1  
28501                             510 I1  ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
28502                             511 I1          FAR_JSR #_HLDCAM_BANK2_ABS_POS_SET,R0   ;ssa_dtmk.src 2014-08-30
28503 00005CC0 D00A                   M           MOV.L   #_HLDCAM_BANK2_ABS_POS_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28504 00005CC2 400B                   M           JSR     @R0                     ;
28505 00005CC4 0009                   M           NOP                                     ;
28506                             512 I1  
28507                             513 I1  ;--------2011-05-11----
28508                             514 I1          FAR_JSR #_CNT_BEF_LOT_SIGCHK,R0         ;ｻﾌﾞﾙｰﾁﾝ 2011-05-11
28509 00005CC6 D00A                   M           MOV.L   #_CNT_BEF_LOT_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28510 00005CC8 400B                   M           JSR     @R0                     ;
28511 00005CCA 0009                   M           NOP                                     ;
28512                             515 I1  
28513                             516 I1  ;--------2011-05-05----
28514                             517 I1  ;;      MOV.L   #_CNT_STOP_CMD_BEF1,R1          ;//減速が長い時のロットカウンタの１回転オ
                                          ーバを防ぐ
28515                             518 I1  ;;      MOV.W   @R1,R0                          ;
28516                             519 I1  ;;      TST     R0,R0                           ;
28517                             520 I1  ;;      TST_BIT_OF BANKCHKNEXT_CYCL_STR1_010    ;
28518                             521 I1  ;;      MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
28519                             522 I1  ;;      MOV.W   @R1,R0                          ;
28520                             523 I1  ;;      OR      #BIT0,R0                        ;
28521                             524 I1  ;;      MOV.W   R0,@R1                          ;
28522                             525 I1  ;;BANKCHKNEXT_CYCL_STR1_010:
28523                             526 I1  
28524                             527 I1          M_BRA   BANKCHKNEXT_CYCL_STR1_100       ;
28525 00005CCC A025                   M           BRA     BANKCHKNEXT_CYCL_STR1_100
28526 00005CCE 0009                   M           NOP
28527                             528 I1  
28528                                 I1  ***** BEGIN-POOL *****
28529 00005CD0 0001                   I1  DATA FOR SOURCE-LINE 497
28530 00005CD2 0000                   I1  ALIGNMENT CODE
28531 00005CD4 00000000               I1  DATA FOR SOURCE-LINE 492
28532 00005CD8 00000000               I1  DATA FOR SOURCE-LINE 498
28533 00005CDC 00000000               I1  DATA FOR SOURCE-LINE 501
28534 00005CE0 00000000               I1  DATA FOR SOURCE-LINE 502
28535 00005CE4 00000000               I1  DATA FOR SOURCE-LINE 505
28536 00005CE8 00000000               I1  DATA FOR SOURCE-LINE 508
28537 00005CEC 00000000               I1  DATA FOR SOURCE-LINE 511
28538 00005CF0 00000000               I1  DATA FOR SOURCE-LINE 514
28539                                 I1  ***** END-POOL *****
28540 00005CF4                    529 I1  BANKCHKNEXT_CYCL_STR1_020:
28541 00005CF4 D10E               530 I1          MOV.L   #_CPOS_CTL_MATH,R1              ;
28542 00005CF6 6011               531 I1          MOV.W   @R1,R0                          ;
28543 00005CF8 C801               532 I1          TST     #_DMATH_CNTROT,R0               ;回転?
28544                             533 I1          TST_BIT_OF BANKCHKNEXT_CYCL_STR1_050
28545 00005CFA 8900                   M           BT      BANKCHKNEXT_CYCL_STR1_050
28546 00005CFC 7201               534 I1          ADD     #1,R2                           ;回転数+1<反転>
28547 00005CFE                    535 I1  BANKCHKNEXT_CYCL_STR1_050:
28548                             536 I1  
28549 00005CFE 9415               537 I1          MOV.W   #1,R4
28550 00005D00 D10C               538 I1          MOV.L   #_SV_POS_CTL_STEP,R1            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   403
PROGRAM NAME =

28551 00005D02 2141               539 I1          MOV.W   R4,@R1                          ;(1だけでいいのか/つくり直す必要があるのか
                                          )
28552                             540 I1          PUSH_REG1 R2
28553 00005D04 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
28554                                 M                                           ;REG=>[SP]
28555                                 M                                           ;"-4" FF,FF,FF,FC
28556                             541 I1          FAR_JSR #_CPOS_ROT_NUM_SET,R1           ;Input R2 回転
28557 00005D06 D10C                   M           MOV.L   #_CPOS_ROT_NUM_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28558 00005D08 410B                   M           JSR     @R1                     ;
28559 00005D0A 0009                   M           NOP                                     ;
28560                             542 I1          POP_REG1 R2
28561                                 M                                   ; RE"+4" 00,00,00,04
28562 00005D0C 62F6                   M           MOV.L   @R15+,R2        ;
28563                             543 I1          FAR_JSR #_CPOS_ABS_POS_SET,R1           ;Input R2 回転
28564 00005D0E D10B                   M           MOV.L   #_CPOS_ABS_POS_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28565 00005D10 410B                   M           JSR     @R1                     ;
28566 00005D12 0009                   M           NOP                                     ;
28567                             544 I1  
28568                             545 I1  ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
28569                             546 I1          FAR_JSR #_HLDCAM_ABS_POS_SET,R0         ;2014-08-30
28570 00005D14 D00A                   M           MOV.L   #_HLDCAM_ABS_POS_SET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28571 00005D16 400B                   M           JSR     @R0                     ;
28572 00005D18 0009                   M           NOP                                     ;
28573                             547 I1  
28574 00005D1A                    548 I1  BANKCHKNEXT_CYCL_STR1_100:
28575                             549 I1  ;       =====2003-07-09 速度============
28576                             550 I1          FAR_JSR #_CPOS_SPD_DTMOV,R0             ;
28577 00005D1A D00A                   M           MOV.L   #_CPOS_SPD_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28578 00005D1C 400B                   M           JSR     @R0                     ;
28579 00005D1E 0009                   M           NOP                                     ;
28580                             551 I1  ;       ===== 2003-07-14 TIME ======
28581                             552 I1          FAR_JSR #_CPOS_TIM_DTMOV,R0             ;
28582 00005D20 D009                   M           MOV.L   #_CPOS_TIM_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28583 00005D22 400B                   M           JSR     @R0                     ;
28584 00005D24 0009                   M           NOP                                     ;
28585                             553 I1  
28586                             554 I1  
28587                             555 I1  
28588                             556 I1          SUB_END
28589                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28590 00005D26 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28591                             557 I1          M_RTS
28592 00005D28 000B                   M           RTS                             ;RTSの後ろの
28593 00005D2A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28594                             558 I1  
28595                             559 I1  ;       ***************************************************
28596                             560 I1  ;       ***                                             ***
28597                             561 I1  ;       ***     2011-05-11                              ***
28598                             562 I1  ;       ***     ロットカウンタUPの1回転前信号           ***
28599                             563 I1  ;       ***     起動時点でこれがONならこの回転で止める  ***
28600                             564 I1  ;       ***                                             ***
28601                             565 I1  ;       ***************************************************
28602                             566 I1  ;
28603                                 I1  ***** BEGIN-POOL *****
28604 00005D2C 0001                   I1  DATA FOR SOURCE-LINE 537
28605 00005D2E 0000                   I1  ALIGNMENT CODE
28606 00005D30 00000000               I1  DATA FOR SOURCE-LINE 530
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   404
PROGRAM NAME =

28607 00005D34 00000000               I1  DATA FOR SOURCE-LINE 538
28608 00005D38 00000000               I1  DATA FOR SOURCE-LINE 541
28609 00005D3C 00000000               I1  DATA FOR SOURCE-LINE 543
28610 00005D40 00000000               I1  DATA FOR SOURCE-LINE 546
28611 00005D44 00000000               I1  DATA FOR SOURCE-LINE 550
28612 00005D48 00000000               I1  DATA FOR SOURCE-LINE 552
28613                                 I1  ***** END-POOL *****
28614 00005D4C                    567 I1          .ALIGN  4                               ;
28615 00005D4C                    568 I1  _CNT_BEF_LOT_SIGCHK:
28616                             569 I1          SUB_START
28617 00005D4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
28618                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28619                             570 I1  
28620 00005D4E D105               571 I1          MOV.L   #_CNT_STOP_CMD_BEF1,R1          ;//減速が長い時のロットカウンタの１回転オ
                                          ーバを防ぐ
28621 00005D50 6011               572 I1          MOV.W   @R1,R0                          ;
28622 00005D52 2008               573 I1          TST     R0,R0                           ;
28623                             574 I1          TST_BIT_OF BANKCHKNEXT_CYCL_STR1_010    ;
28624 00005D54 8903                   M           BT      BANKCHKNEXT_CYCL_STR1_010
28625 00005D56 D104               575 I1          MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
28626 00005D58 6011               576 I1          MOV.W   @R1,R0                          ;
28627 00005D5A CB01               577 I1          OR      #BIT0,R0                        ;
28628 00005D5C 2101               578 I1          MOV.W   R0,@R1                          ;
28629 00005D5E                    579 I1  BANKCHKNEXT_CYCL_STR1_010:
28630                             580 I1  
28631                             581 I1          SUB_END
28632                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28633 00005D5E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28634                             582 I1          M_RTS
28635 00005D60 000B                   M           RTS                             ;RTSの後ろの
28636 00005D62 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28637                             583 I1  
28638                             584 I1  ;       ***************************************************
28639                             585 I1  ;       ***     停止があるタイプ                        ***
28640                             586 I1  ;       ***     停止がないタイプでも１回転部では可能    ***
28641                             587 I1  ;       ***     BIT3=0 BIT2=1                           ***
28642                             588 I1  ;       ***************************************************
28643                                 I1  ***** BEGIN-POOL *****
28644 00005D64 00000000               I1  DATA FOR SOURCE-LINE 571
28645 00005D68 00000000               I1  DATA FOR SOURCE-LINE 575
28646                                 I1  ***** END-POOL *****
28647 00005D6C                    589 I1          .ALIGN  4                               ;
28648 00005D6C                    590 I1  _BANK_CNT_STOP_CHK_TYP1
28649                             591 I1          SUB_START
28650 00005D6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
28651                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28652                             592 I1  
28653 00005D6E D10F               593 I1          MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
28654 00005D70 6011               594 I1          MOV.W   @R1,R0                          ;
28655 00005D72 2008               595 I1          TST     R0,R0                           ;
28656                             596 I1          TST_BIT_ON BANK_CNT_STOPCHK_TYP1_200    ;停止減算完了
28657 00005D74 8B16                   M           BF      BANK_CNT_STOPCHK_TYP1_200
28658                             597 I1  
28659                             598 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;
28660 00005D76 D00E                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28661 00005D78 400B                   M           JSR     @R0                     ;
28662 00005D7A 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   405
PROGRAM NAME =

28663 00005D7C 2008               599 I1          TST     R0,R0                           ;
28664                             600 I1          TST_BIT_OF BANK_CNT_STOPCHK_TYP1_200
28665 00005D7E 8911                   M           BT      BANK_CNT_STOPCHK_TYP1_200
28666                             601 I1  
28667                             602 I1          FAR_JSR #_CNT_SUB_DATA_CALC,R0          ;
28668 00005D80 D00C                   M           MOV.L   #_CNT_SUB_DATA_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28669 00005D82 400B                   M           JSR     @R0                     ;
28670 00005D84 0009                   M           NOP                                     ;
28671                             603 I1  
28672 00005D86 D10C               604 I1          MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
28673 00005D88 6011               605 I1          MOV.W   @R1,R0                          ;
28674 00005D8A C801               606 I1          TST     #BIT0,R0                        ;
28675                             607 I1          TST_BIT_OF BANK_CNT_STOPCHK_TYP1_200;
28676 00005D8C 890A                   M           BT      BANK_CNT_STOPCHK_TYP1_200
28677                             608 I1  
28678                             609 I1  ;       ----- 停止ｺﾏﾝﾄﾞON -----
28679                             610 I1          FAR_JSR #_CNT_STOP_CMD_DATA_SUB1,R0     ;(連続ALL-ではこの処理はない：足しにいく処
                                          理にこない)
28680 00005D8E D00B                   M           MOV.L   #_CNT_STOP_CMD_DATA_SUB1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28681 00005D90 400B                   M           JSR     @R0                     ;
28682 00005D92 0009                   M           NOP                                     ;
28683                             611 I1  
28684                             612 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1  ;
28685 00005D94 D10A                   M           MOV.L   #_STOP_LATCH,R1         ;
28686 00005D96 6011                   M           MOV.W   @R1,R0          ;
28687 00005D98 CB01                   M           OR      #BIT0,R0                ;
28688 00005D9A 2101                   M           MOV.W   R0,@R1          ;
28689                             613 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT1,WKREG=R1   ;
28690 00005D9C D103                   M           MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
28691 00005D9E 6011                   M           MOV.W   @R1,R0          ;
28692 00005DA0 CB02                   M           OR      #BIT1,R0                ;
28693 00005DA2 2101                   M           MOV.W   R0,@R1          ;
28694                             614 I1  
28695                             615 I1  
28696                             616 I1  
28697 00005DA4                    617 I1  BANK_CNT_STOPCHK_TYP1_200
28698                             618 I1  
28699                             619 I1          SUB_END
28700                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28701 00005DA4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28702                             620 I1          M_RTS
28703 00005DA6 000B                   M           RTS                             ;RTSの後ろの
28704 00005DA8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28705                             621 I1  
28706                             622 I1  
28707                             623 I1  ;       *******************************************
28708                             624 I1  ;       ***                                     ***
28709                             625 I1  ;       ***     通常運転状態での停止処理        ***
28710                             626 I1  ;       ***                                     ***
28711                             627 I1  ;       *******************************************
28712                                 I1  ***** BEGIN-POOL *****
28713 00005DAA 0000                   I1  ALIGNMENT CODE
28714 00005DAC 00000000               I1  DATA FOR SOURCE-LINE 593,613
28715 00005DB0 00000000               I1  DATA FOR SOURCE-LINE 598
28716 00005DB4 00000000               I1  DATA FOR SOURCE-LINE 602
28717 00005DB8 00000000               I1  DATA FOR SOURCE-LINE 604
28718 00005DBC 00000000               I1  DATA FOR SOURCE-LINE 610
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   406
PROGRAM NAME =

28719 00005DC0 00000000               I1  DATA FOR SOURCE-LINE 612
28720                                 I1  ***** END-POOL *****
28721          000007D0           628 I1  _PROC_2MS_PLS   .EQU    2000    ;2000pls 500KHZ=500pls
28722                             629 I1  
28723 00005DC4                    630 I1  _CNT_GPOINT_STOP_TYP2:
28724                             631 I1          SUB_START
28725 00005DC4 4F22                   M           STS.L   PR,@-R15                ;[必要]
28726                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28727 00005DC6 D11F               632 I1          MOV.L   #_STOP_LATCH_B,R1                       ;//BIT0:ｽﾄｯﾌﾟ釦
28728 00005DC8 6011               633 I1          MOV.W   @R1,R0                                  ;
28729 00005DCA C801               634 I1          TST     #BIT0,R0                                ;
28730                             635 I1          TST_BIT_OF CNT_GPOINT_STOPTYP2_100              ;
28731 00005DCC 8937                   M           BT      CNT_GPOINT_STOPTYP2_100
28732                             636 I1  
28733                             637 I1          FAR_JSR #_CNT_SUB_DATA_CALC,R0                  ;引きたい量
28734 00005DCE D01E                   M           MOV.L   #_CNT_SUB_DATA_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28735 00005DD0 400B                   M           JSR     @R0                     ;
28736 00005DD2 0009                   M           NOP                                     ;
28737                             638 I1  
28738                             639 I1  ;;2007-03-02    TST     R0,R0                                   ;
28739                             640 I1  ;;2007-03-02    TST_BIT_ON CNT_GPOINT_STOPTYP2_100              ;減算不可JUMP
28740                             641 I1  
28741                             642 I1  ;       -------- 2007-03-02------
28742                             643 I1          FAR_JSR #_CMP_CNT_CTLGENSOK,R0                  ;
28743 00005DD4 D01D                   M           MOV.L   #_CMP_CNT_CTLGENSOK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28744 00005DD6 400B                   M           JSR     @R0                     ;
28745 00005DD8 0009                   M           NOP                                     ;
28746 00005DDA 88FF               644 I1          CMP/EQ  #-1,R0                                  ;
28747 00005DDC 892F               645 I1          BT      CNT_GPOINT_STOPTYP2_100                 ;減算不可JUMP(ERR)
28748                             646 I1  
28749 00005DDE 2008               647 I1          TST     R0,R0                                   ;
28750                             648 I1          TST_BIT_OF CNT_GPOINT_STOPTYP2_050              ;止まれる
28751 00005DE0 8908                   M           BT      CNT_GPOINT_STOPTYP2_050
28752                             649 I1  
28753                             650 I1  ;       ---- 相手CPUはなんていっているの-----
28754                             651 I1          FAR_JSR #_CPU_BA_CST_ON_JG,R0                   ;
28755 00005DE2 D01B                   M           MOV.L   #_CPU_BA_CST_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28756 00005DE4 400B                   M           JSR     @R0                     ;
28757 00005DE6 0009                   M           NOP                                     ;
28758 00005DE8 2008               652 I1          TST     R0,R0                                   ;
28759                             653 I1          TST_BIT_OF CNT_GPOINT_STOPTYP2_100              ;相手は停まるといっていいないJUMP
28760 00005DEA 8928                   M           BT      CNT_GPOINT_STOPTYP2_100
28761                             654 I1  
28762                             655 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT1,WKREG=R1     ;bit-set
28763 00005DEC D119                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
28764 00005DEE 6011                   M           MOV.W   @R1,R0          ;
28765 00005DF0 CB02                   M           OR      #BIT1,R0                ;
28766 00005DF2 2101                   M           MOV.W   R0,@R1          ;
28767                             656 I1  
28768 00005DF4                    657 I1  CNT_GPOINT_STOPTYP2_050:
28769 00005DF4 D418               658 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4                                       ;
28770 00005DF6 6242               659 I1          MOV.L   @R4,R2                                                          ;
28771 00005DF8 632B               660 I1          NEG     R2,R3                                                           ;
28772                             661 I1  
28773                             662 I1          POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R1,DAT_REG=R3           ;
28774                                 M           PUSH_REG1 R1
28775 00005DFA 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   407
PROGRAM NAME =

28776                                 M                                           ;REG=>[SP]
28777                                 M                                           ;"-4" FF,FF,FF,FC
28778                                 M           PUSH_REG1 R3
28779 00005DFC 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
28780                                 M                                           ;REG=>[SP]
28781                                 M                                           ;"-4" FF,FF,FF,FC
28782                                 M           POS_LSI_WORD_DUM_LOD                                    ;
28783                                 M           PUSH_REG1 R0
28784 00005DFE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28785                                 M                                           ;REG=>[SP]
28786                                 M                                           ;"-4" FF,FF,FF,FC
28787 00005E00 D016                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
28788 00005E02 6001                   M           MOV.W   @R0,R0
28789                                 M           POP_REG1 R0
28790                                 M                                   ; RE"+4" 00,00,00,04
28791 00005E04 60F6                   M           MOV.L   @R15+,R0        ;
28792 00005E06 D116                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1                ;
28793 00005E08 2131                   M           MOV.W   R3,@R1                          ;(LOW)
28794 00005E0A 7102                   M           ADD     #2,R1                                   ;
28795 00005E0C 6339                   M           SWAP.W  R3,R3                           ;
28796                                 M           POS_LSI_WORD_DUM_LOD                                    ;
28797                                 M           PUSH_REG1 R0
28798 00005E0E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28799                                 M                                           ;REG=>[SP]
28800                                 M                                           ;"-4" FF,FF,FF,FC
28801 00005E10 D012                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
28802 00005E12 6001                   M           MOV.W   @R0,R0
28803                                 M           POP_REG1 R0
28804                                 M                                   ; RE"+4" 00,00,00,04
28805 00005E14 60F6                   M           MOV.L   @R15+,R0        ;
28806 00005E16 2131                   M           MOV.W   R3,@R1                          ;(HIGH)
28807                                 M           POS_LSI_WORD_DUM_LOD                                    ;
28808                                 M           PUSH_REG1 R0
28809 00005E18 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28810                                 M                                           ;REG=>[SP]
28811                                 M                                           ;"-4" FF,FF,FF,FC
28812 00005E1A D010                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
28813 00005E1C 6001                   M           MOV.W   @R0,R0
28814                                 M           POP_REG1 R0
28815                                 M                                   ; RE"+4" 00,00,00,04
28816 00005E1E 60F6                   M           MOV.L   @R15+,R0        ;
28817                                 M           POP_REG1 R3
28818                                 M                                   ; RE"+4" 00,00,00,04
28819 00005E20 63F6                   M           MOV.L   @R15+,R3        ;
28820                                 M           POP_REG1 R1
28821                                 M                                   ; RE"+4" 00,00,00,04
28822 00005E22 61F6                   M           MOV.L   @R15+,R1        ;
28823                             663 I1  
28824                             664 I1          FAR_JSR #_CNT_STOP_CMD_DATA_SUB1,R0                                     ;LINK_SV_O
                                          BJ_ABSPLS-ESUB
28825 00005E24 D00F                   M           MOV.L   #_CNT_STOP_CMD_DATA_SUB1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28826 00005E26 400B                   M           JSR     @R0                     ;
28827 00005E28 0009                   M           NOP                                     ;
28828                             665 I1          FAR_JSR #_CNT_STOP_CMD_DATA_SUB2,R0                                     ;
28829 00005E2A D00F                   M           MOV.L   #_CNT_STOP_CMD_DATA_SUB2,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28830 00005E2C 400B                   M           JSR     @R0                     ;
28831 00005E2E 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   408
PROGRAM NAME =

28832                             666 I1  
28833                             667 I1  ;;;;    MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1          ;
28834                             668 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT1,WKREG=R1   ;
28835 00005E30 D10E                   M           MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
28836 00005E32 6011                   M           MOV.W   @R1,R0          ;
28837 00005E34 CB02                   M           OR      #BIT1,R0                ;
28838 00005E36 2101                   M           MOV.W   R0,@R1          ;
28839                             669 I1  
28840                             670 I1  ;       ----- 2007-03-02---
28841                             671 I1          FAR_JSR #_STOP_LTH_OUT,R0
28842 00005E38 D00D                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28843 00005E3A 400B                   M           JSR     @R0                     ;
28844 00005E3C 0009                   M           NOP                                     ;
28845                             672 I1  
28846                             673 I1  
28847 00005E3E                    674 I1  CNT_GPOINT_STOPTYP2_100:
28848                             675 I1          SUB_END
28849                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28850 00005E3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28851                             676 I1          M_RTS
28852 00005E40 000B                   M           RTS                             ;RTSの後ろの
28853 00005E42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28854                             677 I1  
28855                             678 I1  
28856                             679 I1  ;;_CNT_GPOINT_STOP_TYP2:
28857                             680 I1  ;;      SUB_START
28858                             681 I1  ;;      MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
28859                             682 I1  ;;      MOV.W   @R1,R0                          ;
28860                             683 I1  ;       TST     #BIT0,R0                        ;
28861                             684 I1  ;;      TST_BIT_OF CNT_GPOINT_STOPTYP2_100      ;
28862                             685 I1  ;;
28863                             686 I1  ;;      FAR_JSR #_CNT_SUB_DATA_CALC,R0          ;引きたい量
28864                             687 I1  ;;
28865                             688 I1  ;;      MOV.L   #_CONT_STOP_END_SUBPLS,R4       ;
28866                             689 I1  ;;      MOV.L   @R4,R2                          ;
28867                             690 I1  ;;      NEG     R2,R3                           ;
28868                             691 I1  ;;
28869                             692 I1  ;;      MOV.W   #_PROC_2MS_PLS,R4               ;
28870                             693 I1  ;;      ADD     R4,R2                           ;
28871                             694 I1  ;;      FAR_JSR #_LOAD_GPOINT_PLS,R0            ;2004-12-19
28872                             695 I1  ;;      MOV     R0,R6                           ;R/W 減速点=R6
28873                             696 I1  ;;      ADD     R6,R2                           ;
28874                             697 I1  ;;
28875                             698 I1  ;;      FAR_JSR #_LOAD_REST_PLS,R0                              ;ANS R0
28876                             699 I1  ;;      SUBPLS+GPOSINT+1000PLS ≦残りﾊﾟﾙｽ                       ;
28877                             700 I1  ;;      CMP/GE  R2,R0                                           ;
28878                             701 I1  ;;      BF      CNT_GPOINT_STOPTYP2_100                         ;減算不可JUMP
28879                             702 I1  ;;
28880                             703 I1  ;;      POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R1,DAT_REG=R3           ;
28881                             704 I1  ;;
28882                             705 I1  ;;      FAR_JSR #_CNT_STOP_CMD_DATA_SUB1,R0                                     ;
28883                             706 I1  ;;      FAR_JSR #_CNT_STOP_CMD_DATA_SUB2,R0                                     ;
28884                             707 I1  ;;
28885                             708 I1  ;;      MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1          ;
28886                             709 I1  ;;      MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT1,WKREG=R1   ;
28887                             710 I1  ;;
28888                             711 I1  ;;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   409
PROGRAM NAME =

28889                             712 I1  ;;CNT_GPOINT_STOPTYP2_100:
28890                             713 I1  ;;
28891                             714 I1  ;;
28892                             715 I1  ;;      SUB_END
28893                             716 I1  ;;      M_RTS
28894                             717 I1  
28895                             718 I1  ;       ***************************
28896                             719 I1  ;       ***     停止演算        ***
28897                             720 I1  ;       ***************************
28898                             721 I1  ;       CASE1:完全連続  --->    止まれる位置：残りパルス≧１回転(SV_OBJ_-最終)＋今の減速点
28899                             722 I1  ;       CASE2:ﾀｲﾏ有り   --->    最終工程相当の動作開始時にﾊﾟﾙｽを足さない(減算処理完了)
28900                             723 I1  ;                               動作中最終工程相当にパルスを減らす(SV-OBJ-最終)
28901                             724 I1  ;(起動時)
28902                                 I1  ***** BEGIN-POOL *****
28903 00005E44 00000000               I1  DATA FOR SOURCE-LINE 632
28904 00005E48 00000000               I1  DATA FOR SOURCE-LINE 637
28905 00005E4C 00000000               I1  DATA FOR SOURCE-LINE 643
28906 00005E50 00000000               I1  DATA FOR SOURCE-LINE 651
28907 00005E54 00000000               I1  DATA FOR SOURCE-LINE 655
28908 00005E58 00000000               I1  DATA FOR SOURCE-LINE 658
28909 00005E5C 00000000               I1  DATA FOR SOURCE-LINE 662,662,662
28910 00005E60 00000000               I1  DATA FOR SOURCE-LINE 662
28911 00005E64 00000000               I1  DATA FOR SOURCE-LINE 664
28912 00005E68 00000000               I1  DATA FOR SOURCE-LINE 665
28913 00005E6C 00000000               I1  DATA FOR SOURCE-LINE 668
28914 00005E70 00000000               I1  DATA FOR SOURCE-LINE 671
28915                                 I1  ***** END-POOL *****
28916 00005E74                    725 I1  _CNT_SUB_DATA_CALC:
28917                             726 I1          SUB_START
28918 00005E74 4F22                   M           STS.L   PR,@-R15                ;[必要]
28919                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28920                             727 I1  
28921 00005E76 D111               728 I1          MOV.L   #_CPOS_STEP_MAX,R1                              ;
28922 00005E78 6011               729 I1          MOV.W   @R1,R0                                          ;+1して-1した計算
28923 00005E7A D411               730 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4                                 ;
28924 00005E7C 4008               731 I1          SHLL2   R0                                                      ;
28925 00005E7E 4000               732 I1          SHLL    R0                                                      ;
28926 00005E80 340C               733 I1          ADD     R0,R4                                                   ;
28927 00005E82 6546               734 I1          MOV.L   @R4+,R5                                                 ;
28928 00005E84 6642               735 I1          MOV.L   @R4,R6                                                  ;目標位置(SV_OBJ_A
                                          BSPLS)
28929                             736 I1  
28930 00005E86 D40F               737 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;
28931 00005E88 6146               738 I1          MOV.L   @R4+,R1                                                 ;
28932 00005E8A 6242               739 I1          MOV.L   @R4,R2                                                  ;
28933                             740 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
28934 00005E8C 0008                   M           CLRT
28935 00005E8E 326A                   M           SUBC    R6,R2
28936 00005E90 315A                   M           SUBC    R5,R1
28937                             741 I1  
28938 00005E92 4111               742 I1          CMP/PZ  R1                              ;
28939 00005E94 8901               743 I1          BT      CNT_SUB_DATACALC_100            ;
28940 00005E96 211A               744 I1          XOR     R1,R1                           ;
28941 00005E98 222A               745 I1          XOR     R2,R2                           ;ERR(-)
28942                             746 I1  
28943 00005E9A                    747 I1  CNT_SUB_DATACALC_100:
28944 00005E9A 2118               748 I1          TST     R1,R1                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   410
PROGRAM NAME =

28945                             749 I1          TST_BIT_ON CNT_SUB_DATACALC_120         ;ERR(over)
28946 00005E9C 8B02                   M           BF      CNT_SUB_DATACALC_120
28947                             750 I1  
28948 00005E9E D10A               751 I1          MOV.L   #H'3FFFFFF,R1                   ;(本当はPLS*2+)
28949 00005EA0 3122               752 I1          CMP/HS  R2,R1                           ;
28950 00005EA2 8905               753 I1          BT      CNT_SUB_DATACALC_150            ;許す
28951 00005EA4                    754 I1  CNT_SUB_DATACALC_120:
28952 00005EA4 211A               755 I1          XOR     R1,R1                           ;
28953 00005EA6 222A               756 I1          XOR     R2,R2                           ;ERR(over)
28954                             757 I1  
28955                             758 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_BANK_CALC_ERR,LG=W,BIT=BIT0,WKREG=R1   ;
28956 00005EA8 D108                   M           MOV.L   #_CNT_BANK_CALC_ERR,R1          ;
28957 00005EAA 6011                   M           MOV.W   @R1,R0          ;
28958 00005EAC CB01                   M           OR      #BIT0,R0                ;
28959 00005EAE 2101                   M           MOV.W   R0,@R1          ;
28960                             759 I1  
28961 00005EB0                    760 I1  CNT_SUB_DATACALC_150:
28962 00005EB0 D407               761 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4       ;
28963 00005EB2 2422               762 I1          MOV.L   R2,@R4                          ;
28964                             763 I1  
28965                             764 I1  ;       (目標)-R2(待機点)
28966                             765 I1          SUB_END
28967                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28968 00005EB4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28969                             766 I1          M_RTS
28970 00005EB6 000B                   M           RTS                             ;RTSの後ろの
28971 00005EB8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28972                             767 I1  
28973                             768 I1  
28974                             769 I1  
28975                             770 I1  
28976                             771 I1  
28977                             772 I1  
28978                             773 I1  
28979                             774 I1  
28980                             775 I1  
28981                             776 I1  
28982                             777 I1  
28983                             778 I1  ;       ***********************************
28984                             779 I1  ;       ***     データの減算1           ***
28985                             780 I1  ;       ***********************************
28986                             781 I1  ;       条件はこの上で見る
28987                                 I1  ***** BEGIN-POOL *****
28988 00005EBA 0000                   I1  ALIGNMENT CODE
28989 00005EBC 00000000               I1  DATA FOR SOURCE-LINE 728
28990 00005EC0 00000000               I1  DATA FOR SOURCE-LINE 730
28991 00005EC4 00000000               I1  DATA FOR SOURCE-LINE 737
28992 00005EC8 03FFFFFF               I1  DATA FOR SOURCE-LINE 751
28993 00005ECC 00000000               I1  DATA FOR SOURCE-LINE 758
28994 00005ED0 00000000               I1  DATA FOR SOURCE-LINE 761
28995                                 I1  ***** END-POOL *****
28996 00005ED4                    782 I1  _CNT_STOP_CMD_DATA_SUB1:
28997                             783 I1          SUB_START
28998 00005ED4 4F22                   M           STS.L   PR,@-R15                ;[必要]
28999                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29000                             784 I1  
29001 00005ED6 D410               785 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   411
PROGRAM NAME =

29002 00005ED8 6642               786 I1          MOV.L   @R4,R6                                                  ;
29003 00005EDA 255A               787 I1          XOR     R5,R5                                                   ;
29004                             788 I1  
29005 00005EDC D40F               789 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;
29006 00005EDE 6142               790 I1          MOV.L   @R4,R1                                                  ;
29007 00005EE0 5241               791 I1          MOV.L   @(4,R4),R2                                              ;
29008                             792 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
29009 00005EE2 0008                   M           CLRT
29010 00005EE4 326A                   M           SUBC    R6,R2
29011 00005EE6 315A                   M           SUBC    R5,R1
29012 00005EE8 2412               793 I1          MOV.L   R1,@R4                                                  ;
29013 00005EEA 1421               794 I1          MOV.L   R2,@(4,R4)                                              ;
29014 00005EEC D40C               795 I1          MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4                                ;
29015 00005EEE 2412               796 I1          MOV.L   R1,@R4                                                  ;
29016 00005EF0 1421               797 I1          MOV.L   R2,@(4,R4)                                              ;
29017                             798 I1  
29018 00005EF2 D40C               799 I1          MOV.L   #_LNGTH_ADD_DATA,R4                                     ;//符号付き
29019 00005EF4 6142               800 I1          MOV.L   @R4,R1                                                  ;
29020 00005EF6 5241               801 I1          MOV.L   @(4,R4),R2                                              ;
29021                             802 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
29022 00005EF8 0008                   M           CLRT
29023 00005EFA 326A                   M           SUBC    R6,R2
29024 00005EFC 315A                   M           SUBC    R5,R1
29025                             803 I1  
29026 00005EFE 4111               804 I1          CMP/PZ  R1
29027 00005F00 8901               805 I1          BT      CNT_STOP_CMD_DATSUB1_100                                ;
29028 00005F02 211A               806 I1          XOR     R1,R1                                                   ;
29029 00005F04 222A               807 I1          XOR     R2,R2                                                   ;
29030 00005F06                    808 I1  CNT_STOP_CMD_DATSUB1_100:                                               ;
29031                             809 I1  
29032 00005F06 2412               810 I1          MOV.L   R1,@R4                                                  ;
29033 00005F08 1421               811 I1          MOV.L   R2,@(4,R4)                                              ;
29034                             812 I1  
29035 00005F0A D407               813 I1          MOV.L   #_LT_LNGTH_ADD_DATA,R4                                  ;//符号付き
29036 00005F0C 2412               814 I1          MOV.L   R1,@R4                                                  ;
29037 00005F0E 1421               815 I1          MOV.L   R2,@(4,R4)                                              ;
29038                             816 I1  
29039                             817 I1  
29040                             818 I1          SUB_END
29041                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29042 00005F10 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29043                             819 I1          M_RTS
29044 00005F12 000B                   M           RTS                             ;RTSの後ろの
29045 00005F14 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29046                             820 I1  
29047                             821 I1  
29048                                 I1  ***** BEGIN-POOL *****
29049 00005F16 0000                   I1  ALIGNMENT CODE
29050 00005F18 00000000               I1  DATA FOR SOURCE-LINE 785
29051 00005F1C 00000000               I1  DATA FOR SOURCE-LINE 789
29052 00005F20 00000000               I1  DATA FOR SOURCE-LINE 795
29053 00005F24 00000000               I1  DATA FOR SOURCE-LINE 799
29054 00005F28 00000000               I1  DATA FOR SOURCE-LINE 813
29055                                 I1  ***** END-POOL *****
29056 00005F2C                    822 I1  _CNT_STOP_CMD_DATA_SUB2:
29057                             823 I1          SUB_START
29058 00005F2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   412
PROGRAM NAME =

29059                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29060 00005F2E D40A               824 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4                               ;
29061 00005F30 6642               825 I1          MOV.L   @R4,R6                                                  ;
29062 00005F32 255A               826 I1          XOR     R5,R5                                                   ;
29063                             827 I1  
29064 00005F34 D409               828 I1          MOV.L   #_LNGTH_TOTAL_OUTPLS,R4                                 ;
29065 00005F36 6142               829 I1          MOV.L   @R4,R1                                                  ;
29066 00005F38 5241               830 I1          MOV.L   @(4,R4),R2                                              ;
29067                             831 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
29068 00005F3A 0008                   M           CLRT
29069 00005F3C 326A                   M           SUBC    R6,R2
29070 00005F3E 315A                   M           SUBC    R5,R1
29071                             832 I1  
29072 00005F40 4111               833 I1          CMP/PZ  R1                                                      ;
29073 00005F42 8901               834 I1          BT      CNT_STOP_CMD_DATSUB2_100                                ;
29074 00005F44 211A               835 I1          XOR     R1,R1
29075 00005F46 222A               836 I1          XOR     R2,R2
29076 00005F48                    837 I1  CNT_STOP_CMD_DATSUB2_100:
29077 00005F48 2412               838 I1          MOV.L   R1,@R4                                                  ;
29078 00005F4A 1421               839 I1          MOV.L   R2,@(4,R4)                                              ;
29079                             840 I1  
29080 00005F4C D404               841 I1          MOV.L   #_LT_LNGTH_TOTAL_OUTPLS,R4                              ;
29081 00005F4E 2412               842 I1          MOV.L   R1,@R4                                                  ;
29082 00005F50 1421               843 I1          MOV.L   R2,@(4,R4)                                              ;
29083                             844 I1  
29084                             845 I1          SUB_END
29085                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29086 00005F52 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29087                             846 I1          M_RTS
29088 00005F54 000B                   M           RTS                             ;RTSの後ろの
29089 00005F56 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29090                             847 I1  
29091                             848 I1  
29092                            8848     
29093                            8849     
29094                            8850     ;       ***********************************
29095                            8851     ;       ***                             ***
29096                            8852     ;       ***     2006-05-09              ***
29097                            8853     ;       ***                             ***
29098                            8854     ;       ***********************************
29099                            8855             .EXPORT _SELF_POS_START_WORK_CLR
29100                                     ***** BEGIN-POOL *****
29101 00005F58 00000000                   DATA FOR SOURCE-LINE 824
29102 00005F5C 00000000                   DATA FOR SOURCE-LINE 828
29103 00005F60 00000000                   DATA FOR SOURCE-LINE 841
29104                                     ***** END-POOL *****
29105 00005F64                   8856             .ALIGN  4                               ;
29106 00005F64                   8857     _SELF_POS_START_WORK_CLR:
29107                            8858             SUB_START
29108 00005F64 4F22                   M           STS.L   PR,@-R15                ;[必要]
29109                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29110                            8859             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
29111 00005F66 D004                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29112 00005F68 400B                   M           JSR     @R0                     ;
29113 00005F6A 0009                   M           NOP                                     ;
29114                            8860             FAR_JSR #_POS_LSI_WORK_STOP2,R0
29115 00005F6C D003                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   413
PROGRAM NAME =

29116 00005F6E 400B                   M           JSR     @R0                     ;
29117 00005F70 0009                   M           NOP                                     ;
29118                            8861             SUB_END
29119                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29120 00005F72 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29121                            8862             M_RTS
29122 00005F74 000B                   M           RTS                             ;RTSの後ろの
29123 00005F76 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29124                            8863     
29125                            8864     ;       ***********************************
29126                            8865     ;       ***                             ***
29127                            8866     ;       ***     2006-07-28              ***
29128                            8867     ;       ***                             ***
29129                            8868     ;       ***********************************
29130                                     ***** BEGIN-POOL *****
29131 00005F78 00000000                   DATA FOR SOURCE-LINE 8859
29132 00005F7C 00000000                   DATA FOR SOURCE-LINE 8860
29133                                     ***** END-POOL *****
29134 00005F80                   8869             .ALIGN  4                               ;
29135 00005F80                   8870     _POS_CALC_MISS0:
29136                            8871             SUB_START
29137 00005F80 4F22                   M           STS.L   PR,@-R15                ;[必要]
29138                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29139                            8872             PUSH_REG1 R0
29140 00005F82 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29141                                 M                                           ;REG=>[SP]
29142                                 M                                           ;"-4" FF,FF,FF,FC
29143                            8873             PUSH_REG1 R1
29144 00005F84 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
29145                                 M                                           ;REG=>[SP]
29146                                 M                                           ;"-4" FF,FF,FF,FC
29147                            8874             MEM1_BIT0_TO_BIT7_ORSET MEM=_CALC_MISS_FLG1,LG=W,BIT=BIT0,WKREG=R1      ;
29148 00005F86 D104                   M           MOV.L   #_CALC_MISS_FLG1,R1             ;
29149 00005F88 6011                   M           MOV.W   @R1,R0          ;
29150 00005F8A CB01                   M           OR      #BIT0,R0                ;
29151 00005F8C 2101                   M           MOV.W   R0,@R1          ;
29152                            8875             POP_REG1 R1
29153                                 M                                   ; RE"+4" 00,00,00,04
29154 00005F8E 61F6                   M           MOV.L   @R15+,R1        ;
29155                            8876             POP_REG1 R0
29156                                 M                                   ; RE"+4" 00,00,00,04
29157 00005F90 60F6                   M           MOV.L   @R15+,R0        ;
29158                            8877             SUB_END
29159                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29160 00005F92 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29161                            8878             M_RTS
29162 00005F94 000B                   M           RTS                             ;RTSの後ろの
29163 00005F96 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29164                            8879     
29165                                     ***** BEGIN-POOL *****
29166 00005F98 00000000                   DATA FOR SOURCE-LINE 8874
29167                                     ***** END-POOL *****
29168 00005F9C                   8880             .ALIGN  4                               ;
29169 00005F9C                   8881     _POS_CALC_MISS1:
29170                            8882             SUB_START
29171 00005F9C 4F22                   M           STS.L   PR,@-R15                ;[必要]
29172                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   414
PROGRAM NAME =

29173                            8883             PUSH_REG1 R0
29174 00005F9E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29175                                 M                                           ;REG=>[SP]
29176                                 M                                           ;"-4" FF,FF,FF,FC
29177                            8884             PUSH_REG1 R1
29178 00005FA0 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
29179                                 M                                           ;REG=>[SP]
29180                                 M                                           ;"-4" FF,FF,FF,FC
29181                            8885             MEM1_BIT0_TO_BIT7_ORSET MEM=_CALC_MISS_FLG1,LG=W,BIT=BIT1,WKREG=R1      ;
29182 00005FA2 D104                   M           MOV.L   #_CALC_MISS_FLG1,R1             ;
29183 00005FA4 6011                   M           MOV.W   @R1,R0          ;
29184 00005FA6 CB02                   M           OR      #BIT1,R0                ;
29185 00005FA8 2101                   M           MOV.W   R0,@R1          ;
29186                            8886             POP_REG1 R1
29187                                 M                                   ; RE"+4" 00,00,00,04
29188 00005FAA 61F6                   M           MOV.L   @R15+,R1        ;
29189                            8887             POP_REG1 R0
29190                                 M                                   ; RE"+4" 00,00,00,04
29191 00005FAC 60F6                   M           MOV.L   @R15+,R0        ;
29192                            8888             SUB_END
29193                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29194 00005FAE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29195                            8889             M_RTS
29196 00005FB0 000B                   M           RTS                             ;RTSの後ろの
29197 00005FB2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29198                            8890     
29199                                     ***** BEGIN-POOL *****
29200 00005FB4 00000000                   DATA FOR SOURCE-LINE 8885
29201                                     ***** END-POOL *****
29202 00005FB8                   8891             .ALIGN  4                               ;
29203 00005FB8                   8892     _POS_CALC_MISS2:
29204                            8893             SUB_START
29205 00005FB8 4F22                   M           STS.L   PR,@-R15                ;[必要]
29206                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29207                            8894             PUSH_REG1 R0
29208 00005FBA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29209                                 M                                           ;REG=>[SP]
29210                                 M                                           ;"-4" FF,FF,FF,FC
29211                            8895             PUSH_REG1 R1
29212 00005FBC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
29213                                 M                                           ;REG=>[SP]
29214                                 M                                           ;"-4" FF,FF,FF,FC
29215                            8896             MEM1_BIT0_TO_BIT7_ORSET MEM=_CALC_MISS_FLG1,LG=W,BIT=BIT2,WKREG=R1      ;
29216 00005FBE D104                   M           MOV.L   #_CALC_MISS_FLG1,R1             ;
29217 00005FC0 6011                   M           MOV.W   @R1,R0          ;
29218 00005FC2 CB04                   M           OR      #BIT2,R0                ;
29219 00005FC4 2101                   M           MOV.W   R0,@R1          ;
29220                            8897             POP_REG1 R1
29221                                 M                                   ; RE"+4" 00,00,00,04
29222 00005FC6 61F6                   M           MOV.L   @R15+,R1        ;
29223                            8898             POP_REG1 R0
29224                                 M                                   ; RE"+4" 00,00,00,04
29225 00005FC8 60F6                   M           MOV.L   @R15+,R0        ;
29226                            8899             SUB_END
29227                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29228 00005FCA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29229                            8900     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   415
PROGRAM NAME =

29230                            8901             M_RTS
29231 00005FCC 000B                   M           RTS                             ;RTSの後ろの
29232 00005FCE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29233                            8902     ;       ===================================================================
29234                            8903     ;       ====                                                            ===
29235                            8904     ;       ====                                                            ===
29236                            8905     ;       ====                                                            ===
29237                            8906     ;       ====            2006-09-19オーバライド周波数対応                ===
29238                            8907     ;       ====                                                            ===
29239                            8908     ;       ====                                                            ===
29240                            8909     ;       ====                                                            ===
29241                            8910     ;       ====    <1>:基本は指令パルスに対しての制御とする                ===
29242                            8911     ;       ====    <2>:位置の切り替えは指令パルスで行なう                  ===
29243                            8912     ;       ====    <3>:減速の補正は行なわない                              ===
29244                            8913     ;       ====    <4>:残りパルスの補正は行なうがとりあえずなし/ありも可能 ===
29245                            8914     ;       ====    <5>:ﾆｱｾﾞﾛは実測                                         ===
29246                            8915     ;       ====                                                            ===
29247                            8916     ;       ====                                                            ===
29248                            8917     ;       ===================================================================
29249                            8918     
29250                            8919     
29251                            8920     
29252                            8921     
29253                            8922     ;       ***************************************************
29254                            8923     ;       ***                                             ***
29255                            8924     ;       ***     SEQからのｵｰﾊﾞﾗｲﾄﾞﾃﾞｰﾀの取り込み         ***
29256                            8925     ;       ***                                             ***
29257                            8926     ;       ***************************************************
29258                                     ***** BEGIN-POOL *****
29259 00005FD0 00000000                   DATA FOR SOURCE-LINE 8896
29260                                     ***** END-POOL *****
29261 00005FD4                   8927             .ALIGN  4                               ;
29262 00005FD4                   8928     _OVER_LIDE_SEQREF:
29263                            8929             SUB_START
29264 00005FD4 4F22                   M           STS.L   PR,@-R15                ;[必要]
29265                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29266                            8930     
29267 00005FD6 D10A              8931             MOV.L   #_CB_SEQ_CB_COM346,R1
                                          ;
29268 00005FD8 6011              8932             MOV.W   @R1,R0
                                          ;
29269 00005FDA 6503              8933             MOV     R0,R5
                                          ;
29270 00005FDC C880              8934             TST     #BIT7,R0
                                          ;
29271                            8935             TST_BIT_ON OVER_LIDE_SQRF100
                                          ;
29272 00005FDE 8B15                   M           BF      OVER_LIDE_SQRF100
29273                            8936     
29274 00005FE0 D108              8937             MOV.L   #_OVER_RIDE_LATE_FLG,R1         ;
29275 00005FE2 6011              8938             MOV.W   @R1,R0                          ;
29276 00005FE4 C802              8939             TST     #BIT1,R0                        ;
29277                            8940             TST_BIT_OF OVER_LIDE_SQRF300            ;
29278 00005FE6 8935                   M           BT      OVER_LIDE_SQRF300
29279                            8941             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_LATE_FLG,LG=W,BIT=~BIT1,WKREG=R1
                                          ;//
29280 00005FE8 D106                   M           MOV.L   #_OVER_RIDE_LATE_FLG,R1         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   416
PROGRAM NAME =

29281 00005FEA 6011                   M           MOV.W   @R1,R0          ;
29282 00005FEC C9FD                   M           AND     #LOW ~BIT1,R0           ;
29283 00005FEE 2101                   M           MOV.W   R0,@R1          ;
29284                            8942             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB230),LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4
                                                  ;
29285 00005FF0 D105                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB230),R1           ;
29286 00005FF2 6011                   M           MOV.W   @R1,R0          ;
29287 00005FF4 9403                   M           MOV.W   #LWORD (~BIT7),R4       ;
29288 00005FF6 2049                   M           AND     R4,R0           ;
29289 00005FF8 2101                   M           MOV.W   R0,@R1          ;
29290                            8943             M_BRA   OVER_LIDE_SQRF300
                                          ;
29291 00005FFA A02B                   M           BRA     OVER_LIDE_SQRF300
29292 00005FFC 0009                   M           NOP
29293                            8944     
29294                            8945     
29295                            8946     ;       --- REQ ON(ON EDGE 取込)--------
29296                                     ***** BEGIN-POOL *****
29297 00005FFE FF7F                       DATA FOR SOURCE-LINE 8942
29298 00006000 00000000                   DATA FOR SOURCE-LINE 8931
29299 00006004 00000000                   DATA FOR SOURCE-LINE 8937,8941
29300 00006008 00000000                   DATA FOR SOURCE-LINE 8942
29301                                     ***** END-POOL *****
29302 0000600C                   8947     OVER_LIDE_SQRF100:
29303 0000600C D114              8948             MOV.L   #_OVER_RIDE_LATE_FLG,R1                                 ;
29304 0000600E 6011              8949             MOV.W   @R1,R0                                                  ;
29305 00006010 C802              8950             TST     #BIT1,R0                                                ;
29306                            8951             TST_BIT_ON OVER_LIDE_SQRF300                                    ;
29307 00006012 8B1F                   M           BF      OVER_LIDE_SQRF300
29308                            8952     
29309 00006014 D113              8953             MOV.L   #_CB_SEQ_CB_COM346,R1                                   ;//20030524
29310 00006016 6011              8954             MOV.W   @R1,R0                                                  ;T-LINK=>OVER-RIDE
29311 00006018 941F              8955             MOV.W   #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R4                ;
29312 0000601A 2049              8956             AND     R4,R0                                                   ;
29313 0000601C D112              8957             MOV.L   #_OVER_RIDE_LATE_REQ,R1                                 ;//1~127% OVER-RID
                                          E無効時100%
29314 0000601E 2101              8958             MOV.W   R0,@R1                                                  ;
29315                            8959     ;       ------------ ANS MAKE ----------------------
29316 00006020 D412              8960             MOV.L   #_OVER_RIDE_LATE_ANS,R4                                         ;//1~127%
                                          OVER-RIDE無効時100%
29317 00006022 2401              8961             MOV.W   R0,@R4                                                          ;
29318 00006024 D312              8962             MOV.L   #_SQ_CBWK_TOP+_WKSQCB230,R3                                     ;
29319 00006026 6231              8963             MOV.W   @R3,R2                                                          ;
29320 00006028 D410              8964             MOV.L   #_OVER_RIDE_LATE_ANS,R4                                         ;//1~127%
                                          OVER-RIDE無効時100%
29321 0000602A 6041              8965             MOV.W   @R4,R0                                                          ;
29322 0000602C CB80              8966             OR      #BIT7,R0                                                        ;ANS+ACK
29323 0000602E 9115              8967             MOV.W   #H'FF00,R1                                                      ;
29324 00006030 2219              8968             AND     R1,R2                                                           ;
29325 00006032 6117              8969             NOT     R1,R1                                                           ;
29326 00006034 2019              8970             AND     R1,R0                                                           ;
29327 00006036 220B              8971             OR      R0,R2                                                           ;
29328 00006038 2321              8972             MOV.W   R2,@R3                                                          ;
29329                            8973     
29330 0000603A D40C              8974             MOV.L   #_OVER_RIDE_LATE_ANS,R4                                         ;//1~127%
                                          OVER-RIDE無効時100%
29331 0000603C 6041              8975             MOV.W   @R4,R0                                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   417
PROGRAM NAME =

29332 0000603E 2008              8976             TST     R0,R0                                                           ;
29333                            8977             TST_BIT_ON OVER_LIDE_SQRF220                                            ;
29334 00006040 8B00                   M           BF      OVER_LIDE_SQRF220
29335 00006042 E001              8978             MOV     #1,R0                                                           ;
29336 00006044                   8979     OVER_LIDE_SQRF220:
29337 00006044 D10B              8980             MOV.L   #_SET_SEQ_SPD_OVRLIDE,R1                                        ;
29338 00006046 2101              8981             MOV.W   R0,@R1                                                          ;
29339 00006048 D10B              8982             MOV.L   #_SET_SEQ_ACC_OVRLIDE,R1                                        ;
29340 0000604A 2101              8983             MOV.W   R0,@R1
29341                            8984     
29342                            8985             MEM1_BIT0_TO_BIT7_ORSET MEM=_OVER_RIDE_LATE_FLG,LG=W,BIT=BIT1,WKREG=R4  ;
29343 0000604C D404                   M           MOV.L   #_OVER_RIDE_LATE_FLG,R4         ;
29344 0000604E 6041                   M           MOV.W   @R4,R0          ;
29345 00006050 CB02                   M           OR      #BIT1,R0                ;
29346 00006052 2401                   M           MOV.W   R0,@R4          ;
29347                            8986     
29348 00006054                   8987     OVER_LIDE_SQRF300:
29349                            8988             SUB_END
29350                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29351 00006054 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29352                            8989             M_RTS
29353 00006056 000B                   M           RTS                             ;RTSの後ろの
29354 00006058 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29355                            8990     
29356                            8991     
29357                            8992     
29358                            8993     
29359                            8994     ;       ***********************************
29360                            8995     ;       ***                             ***
29361                            8996     ;       ***     EMG時初期値にする       ***
29362                            8997     ;       ***                             ***
29363                            8998     ;       ***********************************
29364                                     ***** BEGIN-POOL *****
29365 0000605A 007F                       DATA FOR SOURCE-LINE 8955
29366 0000605C FF00                       DATA FOR SOURCE-LINE 8967
29367 0000605E 0000                       ALIGNMENT CODE
29368 00006060 00000000                   DATA FOR SOURCE-LINE 8948,8985
29369 00006064 00000000                   DATA FOR SOURCE-LINE 8953
29370 00006068 00000000                   DATA FOR SOURCE-LINE 8957
29371 0000606C 00000000                   DATA FOR SOURCE-LINE 8960,8964,8974
29372 00006070 00000000                   DATA FOR SOURCE-LINE 8962
29373 00006074 00000000                   DATA FOR SOURCE-LINE 8980
29374 00006078 00000000                   DATA FOR SOURCE-LINE 8982
29375                                     ***** END-POOL *****
29376 0000607C                   8999             .ALIGN  4                               ;
29377 0000607C                   9000     _OVERLID_DEF_SET:
29378                            9001             SUB_START
29379 0000607C 4F22                   M           STS.L   PR,@-R15                ;[必要]
29380                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29381                            9002             FAR_JSR #_OVERLID_SEQ_DEF_SET,R0
29382 0000607E D006                   M           MOV.L   #_OVERLID_SEQ_DEF_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29383 00006080 400B                   M           JSR     @R0                     ;
29384 00006082 0009                   M           NOP                                     ;
29385                            9003             FAR_JSR #_OVERLID_GMN_DEF_SET,R0
29386 00006084 D005                   M           MOV.L   #_OVERLID_GMN_DEF_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29387 00006086 400B                   M           JSR     @R0                     ;
29388 00006088 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   418
PROGRAM NAME =

29389                            9004             FAR_JSR #_OVERLID_CTL_DEF_SET,R0
29390 0000608A D005                   M           MOV.L   #_OVERLID_CTL_DEF_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29391 0000608C 400B                   M           JSR     @R0                     ;
29392 0000608E 0009                   M           NOP                                     ;
29393                            9005             SUB_END
29394                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29395 00006090 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29396                            9006             M_RTS
29397 00006092 000B                   M           RTS                             ;RTSの後ろの
29398 00006094 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29399                            9007     
29400                                     ***** BEGIN-POOL *****
29401 00006096 0000                       ALIGNMENT CODE
29402 00006098 00000000                   DATA FOR SOURCE-LINE 9002
29403 0000609C 00000000                   DATA FOR SOURCE-LINE 9003
29404 000060A0 00000000                   DATA FOR SOURCE-LINE 9004
29405                                     ***** END-POOL *****
29406 000060A4                   9008             .ALIGN  4                               ;
29407 000060A4                   9009     _OVERLID_SEQ_DEF_SET:
29408                            9010             SUB_START
29409 000060A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
29410                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29411 000060A6 9206              9011             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
29412                            9012             REG_MOV_TO_MEM  DST_ADR=_SET_SEQ_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
29413 000060A8 D103                   M           MOV.L   #_SET_SEQ_SPD_OVRLIDE,R1        ;DST_ADR
29414 000060AA 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29415                            9013             REG_MOV_TO_MEM  DST_ADR=_SET_SEQ_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
29416 000060AC D103                   M           MOV.L   #_SET_SEQ_ACC_OVRLIDE,R1        ;DST_ADR
29417 000060AE 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29418                            9014             SUB_END
29419                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29420 000060B0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29421                            9015             M_RTS
29422 000060B2 000B                   M           RTS                             ;RTSの後ろの
29423 000060B4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29424                            9016     
29425                                     ***** BEGIN-POOL *****
29426 000060B6 0064                       DATA FOR SOURCE-LINE 9011
29427 000060B8 00000000                   DATA FOR SOURCE-LINE 9012
29428 000060BC 00000000                   DATA FOR SOURCE-LINE 9013
29429                                     ***** END-POOL *****
29430 000060C0                   9017             .ALIGN  4                               ;
29431 000060C0                   9018     _OVERLID_GMN_DEF_SET:
29432                            9019             SUB_START
29433 000060C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
29434                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29435 000060C2 9206              9020             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
29436                            9021             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
29437 000060C4 D103                   M           MOV.L   #_SET_GMN_SPD_OVRLIDE,R1        ;DST_ADR
29438 000060C6 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29439                            9022             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
29440 000060C8 D103                   M           MOV.L   #_SET_GMN_ACC_OVRLIDE,R1        ;DST_ADR
29441 000060CA 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29442                            9023             SUB_END
29443                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29444 000060CC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29445                            9024             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   419
PROGRAM NAME =

29446 000060CE 000B                   M           RTS                             ;RTSの後ろの
29447 000060D0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29448                            9025     
29449                                     ***** BEGIN-POOL *****
29450 000060D2 0064                       DATA FOR SOURCE-LINE 9020
29451 000060D4 00000000                   DATA FOR SOURCE-LINE 9021
29452 000060D8 00000000                   DATA FOR SOURCE-LINE 9022
29453                                     ***** END-POOL *****
29454 000060DC                   9026             .ALIGN  4                               ;
29455 000060DC                   9027     _OVERLID_CTL_DEF_SET:
29456                            9028             SUB_START
29457 000060DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
29458                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29459 000060DE 920A              9029             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
29460                            9030             REG_MOV_TO_MEM  DST_ADR=_SET_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
29461 000060E0 D105                   M           MOV.L   #_SET_SPD_OVRLIDE,R1    ;DST_ADR
29462 000060E2 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29463                            9031             REG_MOV_TO_MEM  DST_ADR=_SET_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
29464 000060E4 D105                   M           MOV.L   #_SET_ACC_OVRLIDE,R1    ;DST_ADR
29465 000060E6 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29466                            9032     
29467                            9033             REG_MOV_TO_MEM  DST_ADR=_POSCTL_OVER_SPD_LAT,L1=W,DT_REG=R2,WKREG1=R1
29468 000060E8 D105                   M           MOV.L   #_POSCTL_OVER_SPD_LAT,R1        ;DST_ADR
29469 000060EA 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29470                            9034             REG_MOV_TO_MEM  DST_ADR=_POSCTL_OVER_ACC_LAT,L1=W,DT_REG=R2,WKREG1=R1   ;
29471 000060EC D105                   M           MOV.L   #_POSCTL_OVER_ACC_LAT,R1        ;DST_ADR
29472 000060EE 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29473                            9035             SUB_END
29474                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29475 000060F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29476                            9036             M_RTS
29477 000060F2 000B                   M           RTS                             ;RTSの後ろの
29478 000060F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29479                            9037     
29480                            9038     
29481                            9039     ;       ***********************************
29482                            9040     ;       ***                             ***
29483                            9041     ;       ***     2006-07-28              ***
29484                            9042     ;       ***     画面ｵｰﾊﾞﾗｲﾄﾞ            ***
29485                            9043     ;       ***                             ***
29486                            9044     ;       ***********************************
29487                            9045     ;------2013-02-08 ---
29488                            9046             .IMPORT _SVP_OVERLIDE_COF
29489                            9047     
29490                                     ***** BEGIN-POOL *****
29491 000060F6 0064                       DATA FOR SOURCE-LINE 9029
29492 000060F8 00000000                   DATA FOR SOURCE-LINE 9030
29493 000060FC 00000000                   DATA FOR SOURCE-LINE 9031
29494 00006100 00000000                   DATA FOR SOURCE-LINE 9033
29495 00006104 00000000                   DATA FOR SOURCE-LINE 9034
29496                                     ***** END-POOL *****
29497 00006108                   9048             .ALIGN  4                               ;
29498 00006108                   9049     _GAMEN_OVER_RIDE:
29499                            9050             SUB_START
29500 00006108 4F22                   M           STS.L   PR,@-R15                ;[必要]
29501                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29502                            9051     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   420
PROGRAM NAME =

29503                            9052     ;------2013-02-08 ---
29504 0000610A D108              9053             MOV.L   #_SVP_OVERLIDE_COF,R1           ;
29505 0000610C 6211              9054             MOV.W   @R1,R2                          ;
29506 0000610E D108              9055             MOV.L   #_SET1_OVERLIDE_COF,R1          ;
29507 00006110 2121              9056             MOV.W   R2,@R1                          ;
29508                            9057     ;       ----------------------------
29509                            9058     
29510                            9059     
29511 00006112 D107              9060             MOV.L   #_SET1_OVERLIDE_COF,R1                                          ;
29512 00006114 6211              9061             MOV.W   @R1,R2                                                          ;
29513 00006116 2228              9062             TST     R2,R2                                                           ;
29514                            9063             TST_BIT_ON GAMEN_OVRIDE_100                                             ;
29515 00006118 8B00                   M           BF      GAMEN_OVRIDE_100
29516 0000611A 9206              9064             MOV.W   #1,R2                                                           ;
29517 0000611C                   9065     GAMEN_OVRIDE_100:                                                               ;
29518                            9066             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1   ;
29519 0000611C D105                   M           MOV.L   #_SET_GMN_SPD_OVRLIDE,R1        ;DST_ADR
29520 0000611E 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29521                            9067             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1   ;
29522 00006120 D105                   M           MOV.L   #_SET_GMN_ACC_OVRLIDE,R1        ;DST_ADR
29523 00006122 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29524                            9068             SUB_END
29525                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29526 00006124 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29527                            9069             M_RTS
29528 00006126 000B                   M           RTS                             ;RTSの後ろの
29529 00006128 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29530                            9070     
29531                            9071     ;       ***************************************************
29532                            9072     ;       ***                                             ***
29533                            9073     ;       ***                                             ***
29534                            9074     ;       ***                                             ***
29535                            9075     ;       ***************************************************
29536                                     ***** BEGIN-POOL *****
29537 0000612A 0001                       DATA FOR SOURCE-LINE 9064
29538 0000612C 00000000                   DATA FOR SOURCE-LINE 9053
29539 00006130 00000000                   DATA FOR SOURCE-LINE 9055,9060
29540 00006134 00000000                   DATA FOR SOURCE-LINE 9066
29541 00006138 00000000                   DATA FOR SOURCE-LINE 9067
29542                                     ***** END-POOL *****
29543 0000613C                   9076             .ALIGN  4                               ;
29544 0000613C                   9077     _SET_OVER_RIDE:
29545                            9078             SUB_START
29546 0000613C 4F22                   M           STS.L   PR,@-R15                ;[必要]
29547                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29548 0000613E D10D              9079             MOV.L   #_MODE_SEL,R1                                                   ;
29549 00006140 6011              9080             MOV.W   @R1,R0                                                          ;
29550 00006142 C81E              9081             TST     #_W1CNT+_W1SGL+_W1INC+_W1OPT,R0                                 ;
29551                            9082             TST_BIT_OF SET_OVERID500                                                ;
29552 00006144 8948                   M           BT      SET_OVERID500
29553                            9083     
29554 00006146 D10C              9084             MOV.L   #_OVERLIDE_DT_SEL,R1                                            ;画面ｵｰﾊﾞﾗ
                                          ｲﾄﾞ有効
29555 00006148 6011              9085             MOV.W   @R1,R0                                                          ;
29556 0000614A 8801              9086             CMP/EQ  #1,R0                                                           ;
29557 0000614C 8B20              9087             BF      SET_OVERID200                                                   ;
29558                            9088     ;       ------ 画面ﾃﾞｰﾀ有効--------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   421
PROGRAM NAME =

29559                            9089             MEM_MOV_TO_MEM  _SET_GMN_SPD_OVRLIDE,W,_SET_SPD_OVRLIDE,W,R1,R2,R3      ;
29560 0000614E D10B                   M           MOV.L   #_SET_GMN_SPD_OVRLIDE,R1
29561 00006150 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29562 00006152 D30B                   M           MOV.L   #_SET_SPD_OVRLIDE,R3    ;DST_ADR
29563 00006154 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29564                            9090             MEM_MOV_TO_MEM  _SET_GMN_ACC_OVRLIDE,W,_SET_ACC_OVRLIDE,W,R1,R2,R3      ;
29565 00006156 D10B                   M           MOV.L   #_SET_GMN_ACC_OVRLIDE,R1
29566 00006158 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29567 0000615A D30B                   M           MOV.L   #_SET_ACC_OVRLIDE,R3    ;DST_ADR
29568 0000615C 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29569                            9091             MEM1_BIT0_TO_BIT7_ORSET MEM=_OVER_RIDE_USEFUL,LG=W,BIT=BIT0,WKREG=R4    ;
29570 0000615E D40B                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29571 00006160 6041                   M           MOV.W   @R4,R0          ;
29572 00006162 CB01                   M           OR      #BIT0,R0                ;
29573 00006164 2401                   M           MOV.W   R0,@R4          ;
29574                            9092             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT1,WKREG=R4  ;
29575 00006166 D409                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29576 00006168 6041                   M           MOV.W   @R4,R0          ;
29577 0000616A C9FD                   M           AND     #LOW ~BIT1,R0           ;
29578 0000616C 2401                   M           MOV.W   R0,@R4          ;
29579                            9093             M_BRA   SET_OVERID900
29580 0000616E A040                   M           BRA     SET_OVERID900
29581 00006170 0009                   M           NOP
29582                            9094     
29583                                     ***** BEGIN-POOL *****
29584 00006172 0000                       ALIGNMENT CODE
29585 00006174 00000000                   DATA FOR SOURCE-LINE 9079
29586 00006178 00000000                   DATA FOR SOURCE-LINE 9084
29587 0000617C 00000000                   DATA FOR SOURCE-LINE 9089
29588 00006180 00000000                   DATA FOR SOURCE-LINE 9089
29589 00006184 00000000                   DATA FOR SOURCE-LINE 9090
29590 00006188 00000000                   DATA FOR SOURCE-LINE 9090
29591 0000618C 00000000                   DATA FOR SOURCE-LINE 9091,9092
29592                                     ***** END-POOL *****
29593 00006190                   9095     SET_OVERID200:
29594                            9096             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT0,WKREG=R4  ;
29595 00006190 D40B                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29596 00006192 6041                   M           MOV.W   @R4,R0          ;
29597 00006194 C9FE                   M           AND     #LOW ~BIT0,R0           ;
29598 00006196 2401                   M           MOV.W   R0,@R4          ;
29599                            9097     
29600                            9098     ;       ===========================
29601                            9099     ;       ===     ｼｰｹﾝｽ           ===
29602                            9100     ;       ===========================
29603 00006198 D10A              9101             MOV.L   #_CB_SEQ_CB_COM346,R1                                           ;
29604 0000619A 6311              9102             MOV.W   @R1,R3                                                          ;
29605 0000619C 940F              9103             MOV.W   #BIT15,R4                                                       ;
29606 0000619E 2348              9104             TST     R4,R3                                                           ;
29607                            9105             TST_BIT_OF SET_OVERID500
29608 000061A0 891A                   M           BT      SET_OVERID500
29609                            9106             MEM_MOV_TO_MEM  _SET_SEQ_SPD_OVRLIDE,W,_SET_SPD_OVRLIDE,W,R1,R2,R3      ;
29610 000061A2 D109                   M           MOV.L   #_SET_SEQ_SPD_OVRLIDE,R1
29611 000061A4 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29612 000061A6 D309                   M           MOV.L   #_SET_SPD_OVRLIDE,R3    ;DST_ADR
29613 000061A8 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29614                            9107             MEM_MOV_TO_MEM  _SET_SEQ_ACC_OVRLIDE,W,_SET_ACC_OVRLIDE,W,R1,R2,R3      ;
29615 000061AA D109                   M           MOV.L   #_SET_SEQ_ACC_OVRLIDE,R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   422
PROGRAM NAME =

29616 000061AC 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29617 000061AE D309                   M           MOV.L   #_SET_ACC_OVRLIDE,R3    ;DST_ADR
29618 000061B0 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29619                            9108             MEM1_BIT0_TO_BIT7_ORSET MEM=_OVER_RIDE_USEFUL,LG=W,BIT=BIT1,WKREG=R4    ;
29620 000061B2 D403                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29621 000061B4 6041                   M           MOV.W   @R4,R0          ;
29622 000061B6 CB02                   M           OR      #BIT1,R0                ;
29623 000061B8 2401                   M           MOV.W   R0,@R4          ;
29624                            9109             M_BRA   SET_OVERID900                                                   ;
29625 000061BA A01A                   M           BRA     SET_OVERID900
29626 000061BC 0009                   M           NOP
29627                            9110     
29628                                     ***** BEGIN-POOL *****
29629 000061BE 8000                       DATA FOR SOURCE-LINE 9103
29630 000061C0 00000000                   DATA FOR SOURCE-LINE 9096,9108
29631 000061C4 00000000                   DATA FOR SOURCE-LINE 9101
29632 000061C8 00000000                   DATA FOR SOURCE-LINE 9106
29633 000061CC 00000000                   DATA FOR SOURCE-LINE 9106
29634 000061D0 00000000                   DATA FOR SOURCE-LINE 9107
29635 000061D4 00000000                   DATA FOR SOURCE-LINE 9107
29636                                     ***** END-POOL *****
29637 000061D8                   9111     SET_OVERID500:
29638 000061D8 920E              9112             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
29639                            9113             REG_MOV_TO_MEM  DST_ADR=_SET_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
29640 000061DA D108                   M           MOV.L   #_SET_SPD_OVRLIDE,R1    ;DST_ADR
29641 000061DC 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29642                            9114             REG_MOV_TO_MEM  DST_ADR=_SET_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
29643 000061DE D108                   M           MOV.L   #_SET_ACC_OVRLIDE,R1    ;DST_ADR
29644 000061E0 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29645                            9115             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT1,WKREG=R4  ;
29646 000061E2 D408                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29647 000061E4 6041                   M           MOV.W   @R4,R0          ;
29648 000061E6 C9FD                   M           AND     #LOW ~BIT1,R0           ;
29649 000061E8 2401                   M           MOV.W   R0,@R4          ;
29650                            9116     
29651                            9117             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~(BIT1+BIT0),WKREG=R4   ;
29652 000061EA D406                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29653 000061EC 6041                   M           MOV.W   @R4,R0          ;
29654 000061EE C9FC                   M           AND     #LOW ~(BIT1+BIT0),R0            ;
29655 000061F0 2401                   M           MOV.W   R0,@R4          ;
29656                            9118     
29657 000061F2                   9119     SET_OVERID900:
29658                            9120     
29659                            9121             SUB_END
29660                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29661 000061F2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29662                            9122             M_RTS
29663 000061F4 000B                   M           RTS                             ;RTSの後ろの
29664 000061F6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29665                            9123     
29666                            9124     
29667                            9125     
29668                            9126     
29669                            9127     ;       ***********************************************************
29670                            9128     ;       ***                                                     ***
29671                            9129     ;       ***                                                     ***
29672                            9130     ;       ***                     化石                            ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   423
PROGRAM NAME =

29673                            9131     ;       ***                                                     ***
29674                            9132     ;       ***                                                     ***
29675                            9133     ;       ***********************************************************
29676                            9134     
29677                            9135     
29678                            9136     
29679                            9137     
29680                            9138     
29681                            9139     
29682                            9140     
29683                            9141     
29684                            9142     
29685                            9143     
29686                            9144     
29687                            9145     
29688                            9146     
29689                            9147     
29690                            9148     
29691                            9149     
29692                            9150     ;       ***********************************************************
29693                            9151     ;       ***                                                     ***
29694                            9152     ;       ***                                                     ***
29695                            9153     ;       ***                                                     ***
29696                            9154     ;       ***             その他からのＣＡＬＬ                    ***
29697                            9155     ;       ***                                                     ***
29698                            9156     ;       ***                                                     ***
29699                            9157     ;       ***                                                     ***
29700                            9158     ;       ***********************************************************
29701                            9159     ;       *******************************************
29702                            9160     ;       ***                                     ***
29703                            9161     ;       ***             運転釦ON起動時          ***
29704                            9162     ;       ***                                     ***
29705                            9163     ;       *******************************************
29706                            9164             .EXPORT _OVER_RID_UPDN_LAT_DTMK
29707                                     ***** BEGIN-POOL *****
29708 000061F8 0064                       DATA FOR SOURCE-LINE 9112
29709 000061FA 0000                       ALIGNMENT CODE
29710 000061FC 00000000                   DATA FOR SOURCE-LINE 9113
29711 00006200 00000000                   DATA FOR SOURCE-LINE 9114
29712 00006204 00000000                   DATA FOR SOURCE-LINE 9115,9117
29713                                     ***** END-POOL *****
29714 00006208                   9165             .ALIGN  4                               ;
29715 00006208                   9166     _OVER_RID_UPDN_LAT_DTMK:
29716                            9167             SUB_START
29717 00006208 4F22                   M           STS.L   PR,@-R15                ;[必要]
29718                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29719 0000620A D10B              9168             MOV.L   #_OVER_UPDN_DBGCNT,R1
29720 0000620C 6011              9169             MOV.W   @R1,R0
29721 0000620E 7001              9170             ADD     #1,R0
29722 00006210 2101              9171             MOV.W   R0,@R1                          ;
29723                            9172             FAR_JSR #_SET_OVER_RIDE,R0              ;起動時
29724 00006212 D00A                   M           MOV.L   #_SET_OVER_RIDE,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29725 00006214 400B                   M           JSR     @R0                     ;
29726 00006216 0009                   M           NOP                                     ;
29727                            9173     
29728                            9174             FAR_JSR #_OVERRIDE_CALC_LATE_SEL,R0     ;
29729 00006218 D009                   M           MOV.L   #_OVERRIDE_CALC_LATE_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   424
PROGRAM NAME =

29730 0000621A 400B                   M           JSR     @R0                     ;
29731 0000621C 0009                   M           NOP                                     ;
29732                            9175             FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;
29733 0000621E D009                   M           MOV.L   #_OVERRIDE_CALC_SPED_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29734 00006220 400B                   M           JSR     @R0                     ;
29735 00006222 0009                   M           NOP                                     ;
29736                            9176     
29737                            9177     ;       --------- ﾌﾞﾚｰｷ異常ﾃﾞｰﾀ1　ｵｰﾊﾞﾗｲﾄﾞにも対応しておく----
29738                            9178             FAR_JSR #_ACCBRK1_SV_MAKE,R0            ;
29739 00006224 D008                   M           MOV.L   #_ACCBRK1_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29740 00006226 400B                   M           JSR     @R0                     ;
29741 00006228 0009                   M           NOP                                     ;
29742                            9179             FAR_JSR #_ACCBRK2_SV_MAKE,R0            ;
29743 0000622A D008                   M           MOV.L   #_ACCBRK2_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29744 0000622C 400B                   M           JSR     @R0                     ;
29745 0000622E 0009                   M           NOP                                     ;
29746                            9180     
29747                            9181             SUB_END
29748                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29749 00006230 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29750                            9182             M_RTS
29751 00006232 000B                   M           RTS                             ;RTSの後ろの
29752 00006234 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29753                            9183     
29754                            9184     
29755                            9185     ;       *******************************************
29756                            9186     ;       ***                                     ***
29757                            9187     ;       ***                                     ***
29758                            9188     ;       ***     起動時及び１回転毎              ***
29759                            9189     ;       ***                                     ***
29760                            9190     ;       ***                                     ***
29761                            9191     ;       *******************************************
29762                                     ***** BEGIN-POOL *****
29763 00006236 0000                       ALIGNMENT CODE
29764 00006238 00000000                   DATA FOR SOURCE-LINE 9168
29765 0000623C 00000000                   DATA FOR SOURCE-LINE 9172
29766 00006240 00000000                   DATA FOR SOURCE-LINE 9174
29767 00006244 00000000                   DATA FOR SOURCE-LINE 9175
29768 00006248 00000000                   DATA FOR SOURCE-LINE 9178
29769 0000624C 00000000                   DATA FOR SOURCE-LINE 9179
29770                                     ***** END-POOL *****
29771 00006250                   9192             .ALIGN  4                               ;
29772 00006250                   9193     _OVERRIDE_CALC_LATE_SEL:                                                        ;
29773                            9194             SUB_START                                                               ;
29774 00006250 4F22                   M           STS.L   PR,@-R15                ;[必要]
29775                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29776                            9195     
29777                            9196             MEM_MOV_TO_MEM  _SET_ACC_OVRLIDE,W,_POSCTL_OVER_ACC_LAT,W,R1,R2,R3      ;%
29778 00006252 D106                   M           MOV.L   #_SET_ACC_OVRLIDE,R1
29779 00006254 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29780 00006256 D306                   M           MOV.L   #_POSCTL_OVER_ACC_LAT,R3        ;DST_ADR
29781 00006258 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29782                            9197             FAR_JSR #_ACCLAT1_SV_MAK_OVR,R0                                         ;
29783 0000625A D006                   M           MOV.L   #_ACCLAT1_SV_MAK_OVR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29784 0000625C 400B                   M           JSR     @R0                     ;
29785 0000625E 0009                   M           NOP                                     ;
29786                            9198             FAR_JSR #_ACCBRK1_SV_MAK_OVR,R0                                         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   425
PROGRAM NAME =

29787 00006260 D005                   M           MOV.L   #_ACCBRK1_SV_MAK_OVR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29788 00006262 400B                   M           JSR     @R0                     ;
29789 00006264 0009                   M           NOP                                     ;
29790                            9199     
29791                            9200             SUB_END
29792                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29793 00006266 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29794                            9201             M_RTS
29795 00006268 000B                   M           RTS                             ;RTSの後ろの
29796 0000626A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29797                            9202     
29798                                     ***** BEGIN-POOL *****
29799 0000626C 00000000                   DATA FOR SOURCE-LINE 9196
29800 00006270 00000000                   DATA FOR SOURCE-LINE 9196
29801 00006274 00000000                   DATA FOR SOURCE-LINE 9197
29802 00006278 00000000                   DATA FOR SOURCE-LINE 9198
29803                                     ***** END-POOL *****
29804 0000627C                   9203             .ALIGN  4                               ;
29805 0000627C                   9204     _OVERRIDE_CALC_SPED_SEL:                                                ;
29806                            9205             SUB_START                                                       ;
29807 0000627C 4F22                   M           STS.L   PR,@-R15                ;[必要]
29808                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29809                            9206     
29810                            9207             MEM_MOV_TO_MEM  _SET_SPD_OVRLIDE,W,_POSCTL_OVER_SPD_LAT,W,R1,R2,R3      ;
29811 0000627E D103                   M           MOV.L   #_SET_SPD_OVRLIDE,R1
29812 00006280 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29813 00006282 D303                   M           MOV.L   #_POSCTL_OVER_SPD_LAT,R3        ;DST_ADR
29814 00006284 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29815                            9208     
29816                            9209             SUB_END
29817                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29818 00006286 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29819                            9210             M_RTS
29820 00006288 000B                   M           RTS                             ;RTSの後ろの
29821 0000628A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29822                            9211     
29823                            9212     
29824                            9213     
29825                            9214     
29826                            9215     
29827                            9216     
29828                            9217     
29829                            9218     
29830                            9219     
29831                            9220     
29832                            9221     ;       *******************************************
29833                            9222     ;       ***                                     ***
29834                            9223     ;       ***     Input  R1:時間                  ***
29835                            9224     ;       ***     Output R1:時間×100/OVER        ***
29836                            9225     ;       ***                                     ***
29837                            9226     ;       *******************************************
29838                            9227     ;       ===================
29839                            9228     ;       ==== 2005-01-17 ===
29840                            9229             .EXPORT _OVER_RIDE_ERR_TIMCHG
29841                                     ***** BEGIN-POOL *****
29842 0000628C 00000000                   DATA FOR SOURCE-LINE 9207
29843 00006290 00000000                   DATA FOR SOURCE-LINE 9207
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   426
PROGRAM NAME =

29844                                     ***** END-POOL *****
29845 00006294                   9230             .ALIGN  4                               ;
29846 00006294                   9231     _OVER_RIDE_ERR_TIMCHG:
29847                            9232             SUB_START
29848 00006294 4F22                   M           STS.L   PR,@-R15                ;[必要]
29849                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29850                            9233             PUSH_REG1 R2
29851 00006296 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
29852                                 M                                           ;REG=>[SP]
29853                                 M                                           ;"-4" FF,FF,FF,FC
29854                            9234     
29855 00006298 6213              9235             MOV     R1,R2                                           ;R1-->R2
29856                            9236     
29857 0000629A D107              9237             MOV.L   #_OVER_RIDE_USEFUL,R1                           ;
29858 0000629C 6011              9238             MOV.W   @R1,R0                                          ;
29859 0000629E C801              9239             TST     #BIT0,R0                                        ;
29860                            9240             TST_BIT_OF OVER_RIDE_ERRTIMCHG_100
29861 000062A0 8904                   M           BT      OVER_RIDE_ERRTIMCHG_100
29862                            9241     
29863 000062A2 D006              9242             MOV.L   #_POSCTL_OVER_ACC_LAT,R0                        ;ｵｰﾊﾞﾗｲﾄﾞ%
29864 000062A4 6401              9243             MOV.W   @R0,R4                                          ;
29865                            9244     
29866                            9245     ;       ============ 2005-04-06(距離一定) =========
29867                            9246                                                                     ;
29868                            9247             FAR_JSR #_OVRLIDE_LATE_MULDIV,R0                        ;
29869 000062A6 D006                   M           MOV.L   #_OVRLIDE_LATE_MULDIV,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29870 000062A8 400B                   M           JSR     @R0                     ;
29871 000062AA 0009                   M           NOP                                     ;
29872                            9248                                                                     ;
29873                            9249     ;       ===========================================
29874                            9250     
29875 000062AC                   9251     OVER_RIDE_ERRTIMCHG_100                                         ;
29876 000062AC 6123              9252             MOV     R2,R1                                           ;
29877                            9253     
29878                            9254             POP_REG1 R2                                             ;ANS:R1
29879                                 M                                   ; RE"+4" 00,00,00,04
29880 000062AE 62F6                   M           MOV.L   @R15+,R2        ;
29881                            9255             SUB_END
29882                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29883 000062B0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29884                            9256             M_RTS
29885 000062B2 000B                   M           RTS                             ;RTSの後ろの
29886 000062B4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29887                            9257     
29888                            9258     
29889                            9259     ;       *******************************************
29890                            9260     ;       ***                                     ***
29891                            9261     ;       ***     時間の次元                      ***
29892                            9262     ;       ***     2005-01-17                      ***
29893                            9263     ;       ***     Input R2        ANS R2          ***
29894                            9264     ;       *******************************************
29895                            9265     ;       R0,R2 DESTROY
29896                            9266     ;       ANS:R2:_POS_LSI_ACCLT1
29897                            9267     ;       (R2)data * 100/SV
29898                            9268     ;       BREAK ERR用
29899                                     ***** BEGIN-POOL *****
29900 000062B6 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   427
PROGRAM NAME =

29901 000062B8 00000000                   DATA FOR SOURCE-LINE 9237
29902 000062BC 00000000                   DATA FOR SOURCE-LINE 9242
29903 000062C0 00000000                   DATA FOR SOURCE-LINE 9247
29904                                     ***** END-POOL *****
29905 000062C4                   9269             .ALIGN  4                               ;
29906 000062C4                   9270     _OVER_RID_UPDN_LAT_CALC:
29907                            9271             SUB_START
29908 000062C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
29909                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29910                            9272     
29911                            9273             SUB_END
29912                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29913 000062C6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29914                            9274             M_RTS
29915 000062C8 000B                   M           RTS                             ;RTSの後ろの
29916 000062CA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29917                            9275     
29918                            9276     
29919                            9277     ;       ===================================================================
29920                            9278     ;       ====                                                            ===
29921                            9279     ;       ====                                                            ===
29922                            9280     ;       ====                                                            ===
29923                            9281     ;       ====            2006-09-19オーバライド周波数対応                ===
29924                            9282     ;       ====                                                            ===
29925                            9283     ;       ====                                                            ===
29926                            9284     ;       ====                                                            ===
29927                            9285     ;       ====    <1>:基本は指令パルスに対しての制御とする                ===
29928                            9286     ;       ====    <2>:位置の切り替えは指令パルスで行なう                  ===
29929                            9287     ;       ====    <3>:減速の補正は行なわない                              ===
29930                            9288     ;       ====    <4>:残りパルスの補正は行なうがとりあえずなし/ありも可能 ===
29931                            9289     ;       ====    <5>:ﾆｱｾﾞﾛは実測                                         ===
29932                            9290     ;       ====                                                            ===
29933                            9291     ;       ====                                                            ===
29934                            9292     ;       ===================================================================
29935                            9293     
29936                            9294             .EXPORT _PRESET_PV_ABS_TO_OBJ
29937 000062CC                   9295     _PRESET_PV_ABS_TO_OBJ:
29938                            9296             SUB_START
29939 000062CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
29940                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29941 000062CE D106              9297             MOV.L   #_ERR_FIRST_ST,R1
29942 000062D0 6011              9298             MOV.W   @R1,R0
29943 000062D2 C801              9299             TST     #BIT0,R0
29944                            9300             TST_BIT_ON PRESET_PVABSTOOBJ_100
29945 000062D4 8B0C                   M           BF      PRESET_PVABSTOOBJ_100
29946                            9301     
29947                            9302             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0                                          ;
29948 000062D6 D005                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29949 000062D8 400B                   M           JSR     @R0                     ;
29950 000062DA 0009                   M           NOP                                     ;
29951                            9303             MEM1_BIT0_TO_BIT7_ORSET MEM=_ERR_FIRST_ST,LG=W,BIT=BIT0,WKREG=R1        ;
29952 000062DC D102                   M           MOV.L   #_ERR_FIRST_ST,R1               ;
29953 000062DE 6011                   M           MOV.W   @R1,R0          ;
29954 000062E0 CB01                   M           OR      #BIT0,R0                ;
29955 000062E2 2101                   M           MOV.W   R0,@R1          ;
29956                            9304             M_BRA   PRESET_PVABSTOOBJ_EXT                                           ;
29957 000062E4 A004                   M           BRA     PRESET_PVABSTOOBJ_EXT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   428
PROGRAM NAME =

29958 000062E6 0009                   M           NOP
29959                            9305     
29960                                     ***** BEGIN-POOL *****
29961 000062E8 00000000                   DATA FOR SOURCE-LINE 9297,9303
29962 000062EC 00000000                   DATA FOR SOURCE-LINE 9302
29963                                     ***** END-POOL *****
29964 000062F0                   9306     PRESET_PVABSTOOBJ_100:
29965                            9307             .AIF    0 EQ    0
29966                            9308 C   
29967                            9309             .AELSE
29968                            9310     
29969                            9311             FAR_JSR #_CPUB_GET_CPUA_OBJPOS,R0
29970                            9312     
29971                            9313             .AENDI
29972                            9314     
29973                            9315     
29974 000062F0                   9316     PRESET_PVABSTOOBJ_EXT:
29975                            9317             SUB_END
29976                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29977 000062F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29978                            9318             M_RTS
29979 000062F2 000B                   M           RTS                             ;RTSの後ろの
29980 000062F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29981                            9319     
29982                            9320     
29983                            9321             .EXPORT _PRESET_PV_FLGCLR
29984 000062F6                   9322     _PRESET_PV_FLGCLR
29985                            9323             SUB_START
29986 000062F6 4F22                   M           STS.L   PR,@-R15                ;[必要]
29987                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29988 000062F8 200A              9324             XOR     R0,R0
29989 000062FA D102              9325             MOV.L   #_ERR_FIRST_ST,R1       ;
29990 000062FC 2101              9326             MOV.W   R0,@R1                  ;
29991                            9327     
29992                            9328             SUB_END
29993                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29994 000062FE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29995                            9329             M_RTS
29996 00006300 000B                   M           RTS                             ;RTSの後ろの
29997 00006302 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29998                            9330     
29999                            9331     
30000                            9332     
30001                            9333     
30002                                     ***** BEGIN-POOL *****
30003 00006304 00000000                   DATA FOR SOURCE-LINE 9325
30004                                     ***** END-POOL *****
30005 00006308                   9334     _CPUB_GET_CPUA_OBJPOS
30006                            9335             SUB_START
30007 00006308 4F22                   M           STS.L   PR,@-R15                ;[必要]
30008                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30009                            9336     
30010                            9337     ;;;;;;;;;;2015-04-08 全ﾓｰﾄﾞ対象
30011                            9338     ;;;;;;;;;;      MOV.L   #_MODE_SEL,R1                           ;
30012                            9339     ;;;;;;;;;;      MOV.W   @R1,R0                                  ;
30013                            9340     ;;;;;;;;;;      TST     #_W1CNT+_W1SGL,R0               ;
30014                            9341     ;;;;;;;;;;      TST_BIT_OF CPUB_GET_OBJPOS_EXT                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   429
PROGRAM NAME =

30015                            9342     
30016                            9343     
30017 0000630A D409              9344             MOV.L   #_SH_POSCTL_RL_ABSPLS,R4                ;[CPUAのﾃﾞｰﾀをCPUB側で使用する2014
                                          -11-07]
30018 0000630C 5140              9345             MOV.L   @(0,R4),R1                              ;
30019 0000630E 5241              9346             MOV.L   @(4,R4),R2                              ;
30020                            9347     
30021 00006310 5540              9348             MOV.L   @(0,R4),R5                              ;
30022 00006312 5641              9349             MOV.L   @(4,R4),R6                              ;
30023 00006314 3518              9350             SUB     R1,R5
30024 00006316 3628              9351             SUB     R2,R6                                   ;
30025 00006318 265B              9352             OR      R5,R6                                   ;
30026 0000631A 2668              9353             TST     R6,R6                                   ;
30027                            9354             TST_BIT_OF CPUB_GET_OBJPOS_100                  ;8ﾊﾞｲﾄｱｸｾｽ中の問題
30028 0000631C 8901                   M           BT      CPUB_GET_OBJPOS_100
30029                            9355     
30030 0000631E 5140              9356             MOV.L   @(0,R4),R1                              ;
30031 00006320 5241              9357             MOV.L   @(4,R4),R2                              ;
30032                            9358     
30033                            9359     
30034 00006322                   9360     CPUB_GET_OBJPOS_100
30035 00006322 D404              9361             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
30036 00006324 1410              9362             MOV.L   R1,@(0,R4)
30037 00006326 1421              9363             MOV.L   R2,@(4,R4)
30038                            9364     
30039 00006328                   9365     CPUB_GET_OBJPOS_EXT
30040                            9366     
30041                            9367             SUB_END
30042                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30043 00006328 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30044                            9368             M_RTS
30045 0000632A 000B                   M           RTS                             ;RTSの後ろの
30046 0000632C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30047                            9369     
30048                            9370     
30049                            9371     ;       *******************************************
30050                            9372     ;       ***                                     ***
30051                            9373     ;       ***     2006-09-19                      ***
30052                            9374     ;       ***                                     ***
30053                            9375     ;       ***     起動または異常時の位置あわせ    ***
30054                            9376     ;       ***                                     ***
30055                            9377     ;       *******************************************
30056                                     ***** BEGIN-POOL *****
30057 0000632E 0000                       ALIGNMENT CODE
30058 00006330 00000000                   DATA FOR SOURCE-LINE 9344
30059 00006334 00000000                   DATA FOR SOURCE-LINE 9361
30060                                     ***** END-POOL *****
30061 00006338                   9378             .ALIGN  4                               ;
30062 00006338                   9379     _SET_PV_ABS_TO_OBJ:
30063                            9380             SUB_START
30064 00006338 4F22                   M           STS.L   PR,@-R15                ;[必要]
30065                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30066                            9381             PUSH_REG1 R0                            ;
30067 0000633A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30068                                 M                                           ;REG=>[SP]
30069                                 M                                           ;"-4" FF,FF,FF,FC
30070                            9382             PUSH_REG1 R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   430
PROGRAM NAME =

30071 0000633C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
30072                                 M                                           ;REG=>[SP]
30073                                 M                                           ;"-4" FF,FF,FF,FC
30074                            9383             PUSH_REG1 R2
30075 0000633E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
30076                                 M                                           ;REG=>[SP]
30077                                 M                                           ;"-4" FF,FF,FF,FC
30078                            9384             PUSH_REG1 R4
30079 00006340 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
30080                                 M                                           ;REG=>[SP]
30081                                 M                                           ;"-4" FF,FF,FF,FC
30082                            9385     
30083                            9386     ;       ----------------------------------------------
30084                            9387     ;;;;;;; MOV.L   #_POS_HOLD_RDY_EXITF,R1         ;//しょうがない
30085                            9388     ;;;;;;; MOV.W   @R1,R0                          ;
30086                            9389     ;;;;;;; MOV.L   #_POS_HOLD_RDY_EXITF2,R1        ;//しょうがない
30087                            9390     ;;;;;;; MOV.W   @R1,R2                          ;
30088                            9391     ;;;;;;; OR      R2,R0
30089                            9392     ;;;;;;; TST     #BIT0,R0                        ;
30090                            9393     ;;;;;;; TST_BIT_ON SETPVABSTOOBJ_EXT
30091                            9394     
30092 00006342 D406              9395             MOV.L   #_LINK_PV_ABSPLS,R4             ;
30093 00006344 6146              9396             MOV.L   @R4+,R1                                 ;
30094 00006346 6242              9397             MOV.L   @R4,R2                                  ;
30095 00006348 D405              9398             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
30096 0000634A 1410              9399             MOV.L   R1,@(0,R4)
30097 0000634C 1421              9400             MOV.L   R2,@(4,R4)
30098                            9401     
30099                            9402     ;;;;;;;SETPVABSTOOBJ_EXT:
30100                            9403     
30101                            9404             POP_REG1 R4
30102                                 M                                   ; RE"+4" 00,00,00,04
30103 0000634E 64F6                   M           MOV.L   @R15+,R4        ;
30104                            9405             POP_REG1 R2
30105                                 M                                   ; RE"+4" 00,00,00,04
30106 00006350 62F6                   M           MOV.L   @R15+,R2        ;
30107                            9406             POP_REG1 R1
30108                                 M                                   ; RE"+4" 00,00,00,04
30109 00006352 61F6                   M           MOV.L   @R15+,R1        ;
30110                            9407             POP_REG1 R0
30111                                 M                                   ; RE"+4" 00,00,00,04
30112 00006354 60F6                   M           MOV.L   @R15+,R0        ;
30113                            9408             SUB_END
30114                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30115 00006356 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30116                            9409             M_RTS
30117 00006358 000B                   M           RTS                             ;RTSの後ろの
30118 0000635A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30119                            9410     ;       *******************************************
30120                            9411     ;       ***                                     ***
30121                            9412     ;       ***     2006-09-19                      ***
30122                            9413     ;       ***                                     ***
30123                            9414     ;       ***     ﾊﾟﾙｽ管理                        ***
30124                            9415     ;       ***     (位置決め部分での処理)          ***
30125                            9416     ;       ***                                     ***
30126                            9417     ;       *******************************************
30127                            9418     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   431
PROGRAM NAME =

30128                            9419     ;       ***                                     ***
30129                            9420     ;       ***                                     ***
30130                            9421     ;       ***             演算INI                 ***
30131                            9422     ;       ***                                     ***
30132                            9423     ;       ***                                     ***
30133                            9424     ;       ***                                     ***
30134                            9425     ;       *******************************************
30135                                     ***** BEGIN-POOL *****
30136 0000635C 00000000                   DATA FOR SOURCE-LINE 9395
30137 00006360 00000000                   DATA FOR SOURCE-LINE 9398
30138                                     ***** END-POOL *****
30139 00006364                   9426             .ALIGN  4                               ;
30140 00006364                   9427     _PLS_LSI_CTL_INI:
30141                            9428             SUB_START
30142 00006364 4F22                   M           STS.L   PR,@-R15                ;[必要]
30143                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30144                            9429     
30145                            9430     
30146                            9431     
30147                            9432             SUB_END
30148                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30149 00006366 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30150                            9433             M_RTS
30151 00006368 000B                   M           RTS                             ;RTSの後ろの
30152 0000636A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30153                            9434     
30154                            9435     
30155                            9436     ;       *******************************************
30156                            9437     ;       ***                                     ***
30157                            9438     ;       ***                                     ***
30158                            9439     ;       ***             演算END                 ***
30159                            9440     ;       ***             どうするか？            ***
30160                            9441     ;       ***                                     ***
30161                            9442     ;       ***                                     ***
30162                            9443     ;       *******************************************
30163 0000636C                   9444             .ALIGN  4                               ;
30164 0000636C                   9445     _PLS_LSI_SPEED_OFF:
30165                            9446             SUB_START
30166 0000636C 4F22                   M           STS.L   PR,@-R15                ;[必要]
30167                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30168                            9447     
30169                            9448             FAR_JSR #_PLS_LSI_STOP_END,R0                                           ;
30170 0000636E D003                   M           MOV.L   #_PLS_LSI_STOP_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30171 00006370 400B                   M           JSR     @R0                     ;
30172 00006372 0009                   M           NOP                                     ;
30173                            9449     
30174                            9450             SUB_END
30175                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30176 00006374 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30177                            9451             M_RTS
30178 00006376 000B                   M           RTS                             ;RTSの後ろの
30179 00006378 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30180                            9452     
30181                            9453     ;       ***********************************
30182                            9454     ;       ***                             ***
30183                            9455     ;       ***     SPD * OVER LIMIT-->SPD  ***
30184                            9456     ;       ***                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   432
PROGRAM NAME =

30185                            9457     ;       ***********************************
30186                            9458     ;       input R2 output R2
30187                                     ***** BEGIN-POOL *****
30188 0000637A 0000                       ALIGNMENT CODE
30189 0000637C 00000000                   DATA FOR SOURCE-LINE 9448
30190                                     ***** END-POOL *****
30191 00006380                   9459     _OVER_LIDE_SPD_CALC
30192                            9460             SUB_START
30193 00006380 4F22                   M           STS.L   PR,@-R15                ;[必要]
30194                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30195 00006382 D307              9461             MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
30196 00006384 6131              9462             MOV.W   @R3,R1                                  ;
30197 00006386 940A              9463             MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;100
30198                            9464             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
30199 00006388 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30200 0000638A 400B                   M           JSR     @R0                     ;
30201 0000638C 0009                   M           NOP                                     ;
30202 0000638E D106              9465             MOV.L   #_POSCTL_SV_OFS_SPD,R1                  ;//自起動 PLS/S
30203 00006390 6312              9466             MOV.L   @R1,R3                                  ;
30204 00006392 3233              9467             CMP/GE  R3,R2                                   ;
30205 00006394 8900              9468             BT      OVER_LIDE_SPDCAL100                     ;
30206 00006396 6233              9469             MOV     R3,R2                                   ;
30207 00006398                   9470     OVER_LIDE_SPDCAL100
30208                            9471     
30209                            9472             SUB_END
30210                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30211 00006398 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30212                            9473             M_RTS
30213 0000639A 000B                   M           RTS                             ;RTSの後ろの
30214 0000639C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30215                            9474     
30216                            9475     
30217                            9476     ;       ***********************************************************
30218                            9477     
30219                            9478     
30220                            9479     ;       ***********************************
30221                            9480     ;       ***                             ***
30222                            9481     ;       ***     上限リミット            ***
30223                            9482     ;       ***     2013-02-15              ***
30224                            9483     ;       ***********************************
30225                            9484     ;       input R2[PLS/S] output R2[PLS/S]
30226                            9485     ;
30227                                     ***** BEGIN-POOL *****
30228 0000639E 0064                       DATA FOR SOURCE-LINE 9463
30229 000063A0 00000000                   DATA FOR SOURCE-LINE 9461
30230 000063A4 00000000                   DATA FOR SOURCE-LINE 9464
30231 000063A8 00000000                   DATA FOR SOURCE-LINE 9465
30232                                     ***** END-POOL *****
30233 000063AC                   9486     _SPD_UPLIMT_CALC
30234                            9487             SUB_START
30235 000063AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
30236                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30237 000063AE D106              9488             MOV.L   #_UPLIMIT_START_F,R1    ;//BIT0:寸動からの指令
30238 000063B0 6011              9489             MOV.W   @R1,R0                  ;
30239 000063B2 2008              9490             TST     R0,R0                   ;
30240                            9491             TST_BIT_OF SPD_UPLIMT_CALEND    ;LIMITしない
30241 000063B4 8904                   M           BT      SPD_UPLIMT_CALEND
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   433
PROGRAM NAME =

30242                            9492     
30243 000063B6 D105              9493             MOV.L   #_UPLIMIT_SV_SPD,R1     ;
30244 000063B8 6312              9494             MOV.L   @R1,R3                  ;
30245 000063BA 3323              9495             CMP/GE  R2,R3                   ;R2=< R3
30246 000063BC 8900              9496             BT      SPD_UPLIMT_CALEND       ;
30247 000063BE 6233              9497             MOV     R3,R2                   ;UP LIMIT
30248 000063C0                   9498     SPD_UPLIMT_CALEND                       ;
30249                            9499             SUB_END
30250                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30251 000063C0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30252                            9500             M_RTS
30253 000063C2 000B                   M           RTS                             ;RTSの後ろの
30254 000063C4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30255                            9501     
30256                            9502     ;       ***********************************************************
30257                            9503     ;       ***                                                     ***
30258                            9504     ;       ***     減速すべき距離か（現在の速度で停止可能かどうか）***
30259                            9505     ;       ***     位置決め部演算                                  ***
30260                            9506     ;       ***********************************************************
30261                            9507     ;       Input   R1,R2:残り距離 +/-
30262                            9508     ;               R11
30263                            9509     ;               R12
30264                            9510     ;
30265                            9511     
30266                            9512     
30267                                     ***** BEGIN-POOL *****
30268 000063C6 0000                       ALIGNMENT CODE
30269 000063C8 00000000                   DATA FOR SOURCE-LINE 9488
30270 000063CC 00000000                   DATA FOR SOURCE-LINE 9493
30271                                     ***** END-POOL *****
30272 000063D0                   9513             .ALIGN  4                               ;
30273 000063D0                   9514     _CMP_POSLSI_CTLGENSOK:
30274                            9515             SUB_START
30275 000063D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
30276                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30277                            9516     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
30278 000063D2 D40F              9517             MOV.L   #_POSCTL_SV_PLS,R4                                      ;SV
30279 000063D4 5140              9518             MOV.L   @(0,R4),R1                                              ;
30280 000063D6 5241              9519             MOV.L   @(4,R4),R2                                              ;
30281                            9520     
30282                            9521     ;       ---------------リアルタイム目標位置-----------
30283 000063D8 D40E              9522             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
30284 000063DA 5540              9523             MOV.L   @(0,R4),R5                                              ;
30285 000063DC 5641              9524             MOV.L   @(4,R4),R6                                              ;
30286                            9525             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
30287 000063DE 0008                   M           CLRT
30288 000063E0 326A                   M           SUBC    R6,R2
30289 000063E2 315A                   M           SUBC    R5,R1
30290                            9526     
30291 000063E4 D40C              9527             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
30292 000063E6 6041              9528             MOV.W   @R4,R0                                                  ;
30293 000063E8 C801              9529             TST     #BIT0,R0                                                ;
30294                            9530             TST_BIT_OF CMP_PLSLSI_CTLCAL_200                                        ;正転
30295 000063EA 8905                   M           BT      CMP_PLSLSI_CTLCAL_200
30296                            9531             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
30297 000063EC 6227                   M           NOT     R2,R2                           ;
30298 000063EE 6117                   M           NOT     R1,R1                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   434
PROGRAM NAME =

30299 000063F0 200A                   M           XOR     R0,R0                           ;
30300 000063F2 0018                   M           SETT
30301 000063F4 320E                   M           ADDC    R0,R2                           ;0+1+R2
30302 000063F6 310E                   M           ADDC    R0,R1                           ;
30303 000063F8                   9532     CMP_PLSLSI_CTLCAL_200:                                                  ;
30304                            9533     
30305                            9534     
30306 000063F8 D408              9535             MOV.L   #_POSCTL_RL_SPD,R4                                      ;
30307 000063FA 6942              9536             MOV.L   @R4,R9                                                  ;
30308                            9537     
30309 000063FC D408              9538             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
30310 000063FE 6A42              9539             MOV.L   @R4,R10                                                 ;
30311                            9540     
30312 00006400 D408              9541             MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
30313 00006402 6B42              9542             MOV.L   @R4,R11                                                 ;
30314                            9543     
30315                            9544             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
30316 00006404 D008                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30317 00006406 400B                   M           JSR     @R0                     ;
30318 00006408 0009                   M           NOP                                     ;
30319                            9545     
30320                            9546             SUB_END
30321                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30322 0000640A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30323                            9547             M_RTS
30324 0000640C 000B                   M           RTS                             ;RTSの後ろの
30325 0000640E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30326                            9548     
30327                            9549     
30328                            9550     ;       ***********************************************************
30329                            9551     ;       ***                                                     ***
30330                            9552     ;       ***     減速すべき距離か（現在の速度で停止可能かどうか）***
30331                            9553     ;       ***     連続切り替え条件演算                            ***
30332                            9554     ;       ***********************************************************
30333                            9555     ;       Input   R1,R2:残り距離 +/-
30334                            9556     ;               R11
30335                            9557     ;               R12
30336                            9558     ;
30337                                     ***** BEGIN-POOL *****
30338 00006410 00000000                   DATA FOR SOURCE-LINE 9517
30339 00006414 00000000                   DATA FOR SOURCE-LINE 9522
30340 00006418 00000000                   DATA FOR SOURCE-LINE 9527
30341 0000641C 00000000                   DATA FOR SOURCE-LINE 9535
30342 00006420 00000000                   DATA FOR SOURCE-LINE 9538
30343 00006424 00000000                   DATA FOR SOURCE-LINE 9541
30344 00006428 00000000                   DATA FOR SOURCE-LINE 9544
30345                                     ***** END-POOL *****
30346 0000642C                   9559             .ALIGN  4                               ;
30347 0000642C                   9560     _CMP_CNT_CTLGENSOK:
30348                            9561             SUB_START
30349 0000642C 4F22                   M           STS.L   PR,@-R15                ;[必要]
30350                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30351                            9562     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
30352 0000642E D414              9563             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;LINKX_SV_OBJ_ABSP
                                          LSの場合があるかも
30353 00006430 6146              9564             MOV.L   @R4+,R1                                                 ;
30354 00006432 6242              9565             MOV.L   @R4,R2                                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   435
PROGRAM NAME =

30355                            9566     
30356 00006434 D413              9567             MOV.L   #_CONT_STOP_END_SUBPLS,R4                               ;
30357 00006436 6442              9568             MOV.L   @R4,R4                                                  ;
30358 00006438 233A              9569             XOR     R3,R3                                                   ;3FFF,FFFF以下
30359 0000643A 901F              9570             MOV.W   #_PROC_2MS_PLS,R0                                       ;
30360 0000643C 340C              9571             ADD     R0,R4                                                   ;R3,R4
30361                            9572             SUB8B DT_REGH=R3,DT_REGL=R4,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-DT = 目標'
30362 0000643E 0008                   M           CLRT
30363 00006440 324A                   M           SUBC    R4,R2
30364 00006442 313A                   M           SUBC    R3,R1
30365                            9573     
30366                            9574     ;       ---------------リアルタイム目標位置-----------
30367 00006444 D410              9575             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
30368 00006446 5540              9576             MOV.L   @(0,R4),R5                                              ;
30369 00006448 5641              9577             MOV.L   @(4,R4),R6                                              ;
30370                            9578             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
30371 0000644A 0008                   M           CLRT
30372 0000644C 326A                   M           SUBC    R6,R2
30373 0000644E 315A                   M           SUBC    R5,R1
30374                            9579     
30375 00006450 D40E              9580             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
30376 00006452 6041              9581             MOV.W   @R4,R0                                                  ;
30377 00006454 C801              9582             TST     #BIT0,R0                                                ;
30378                            9583             TST_BIT_OF CMP_CNT_CTLCAL_200                                   ;正転
30379 00006456 8905                   M           BT      CMP_CNT_CTLCAL_200
30380                            9584             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
30381 00006458 6227                   M           NOT     R2,R2                           ;
30382 0000645A 6117                   M           NOT     R1,R1                           ;
30383 0000645C 200A                   M           XOR     R0,R0                           ;
30384 0000645E 0018                   M           SETT
30385 00006460 320E                   M           ADDC    R0,R2                           ;0+1+R2
30386 00006462 310E                   M           ADDC    R0,R1                           ;
30387 00006464                   9585     CMP_CNT_CTLCAL_200:                                                     ;
30388                            9586     
30389 00006464 D40A              9587             MOV.L   #_POSCTL_RL_SPD,R4                                      ;
30390 00006466 6942              9588             MOV.L   @R4,R9                                                  ;
30391                            9589     
30392 00006468 D40A              9590             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
30393 0000646A 6A42              9591             MOV.L   @R4,R10                                                 ;
30394                            9592     
30395 0000646C D40A              9593             MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
30396 0000646E 6B42              9594             MOV.L   @R4,R11                                                 ;
30397                            9595     
30398                            9596             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
30399 00006470 D00A                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30400 00006472 400B                   M           JSR     @R0                     ;
30401 00006474 0009                   M           NOP                                     ;
30402                            9597             SUB_END
30403                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30404 00006476 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30405                            9598             M_RTS
30406 00006478 000B                   M           RTS                             ;RTSの後ろの
30407 0000647A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30408                            9599     
30409                            9600     ;       ***********************************************************
30410                            9601     ;       ***                                                     ***
30411                            9602     ;       ***     減速すべき距離か（現在の速度で停止可能かどうか）***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   436
PROGRAM NAME =

30412                            9603     ;       ***     ブレーキ異常条件演算                            ***
30413                            9604     ;       ***********************************************************
30414                            9605     ;       Input   R1,R2:残り距離 +/-
30415                            9606     ;               R11
30416                            9607     ;               R12
30417                            9608     ;
30418                            9609             .EXPORT _CMP_BRK2_CTLGENSOK
30419                                     ***** BEGIN-POOL *****
30420 0000647C 07D0                       DATA FOR SOURCE-LINE 9570
30421 0000647E 0000                       ALIGNMENT CODE
30422 00006480 00000000                   DATA FOR SOURCE-LINE 9563
30423 00006484 00000000                   DATA FOR SOURCE-LINE 9567
30424 00006488 00000000                   DATA FOR SOURCE-LINE 9575
30425 0000648C 00000000                   DATA FOR SOURCE-LINE 9580
30426 00006490 00000000                   DATA FOR SOURCE-LINE 9587
30427 00006494 00000000                   DATA FOR SOURCE-LINE 9590
30428 00006498 00000000                   DATA FOR SOURCE-LINE 9593
30429 0000649C 00000000                   DATA FOR SOURCE-LINE 9596
30430                                     ***** END-POOL *****
30431 000064A0                   9610             .ALIGN  4                               ;
30432 000064A0                   9611     _CMP_BRK2_CTLGENSOK:
30433                            9612             SUB_START
30434 000064A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
30435                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30436                            9613     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
30437 000064A2 D40F              9614             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;LINKX_SV_OBJ_ABSP
                                          LSの場合があるかも
30438 000064A4 6146              9615             MOV.L   @R4+,R1                                                 ;
30439 000064A6 6242              9616             MOV.L   @R4,R2                                                  ;
30440                            9617     
30441                            9618     
30442                            9619     ;       ---------------実測目標位置-----------
30443 000064A8 D40E              9620             MOV.L   #_LINK_PV_ABSPLS,R4             ;
30444 000064AA 5540              9621             MOV.L   @(0,R4),R5                                              ;
30445 000064AC 5641              9622             MOV.L   @(4,R4),R6                                              ;
30446                            9623             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
30447 000064AE 0008                   M           CLRT
30448 000064B0 326A                   M           SUBC    R6,R2
30449 000064B2 315A                   M           SUBC    R5,R1
30450                            9624     
30451 000064B4 D40C              9625             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
30452 000064B6 6041              9626             MOV.W   @R4,R0                                                  ;
30453 000064B8 C801              9627             TST     #BIT0,R0                                                ;
30454                            9628             TST_BIT_OF CMP_BRK2_CTLCAL_200                                  ;正転
30455 000064BA 8905                   M           BT      CMP_BRK2_CTLCAL_200
30456                            9629             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
30457 000064BC 6227                   M           NOT     R2,R2                           ;
30458 000064BE 6117                   M           NOT     R1,R1                           ;
30459 000064C0 200A                   M           XOR     R0,R0                           ;
30460 000064C2 0018                   M           SETT
30461 000064C4 320E                   M           ADDC    R0,R2                           ;0+1+R2
30462 000064C6 310E                   M           ADDC    R0,R1                           ;
30463 000064C8                   9630     CMP_BRK2_CTLCAL_200:                                                    ;
30464 000064C8 D408              9631             MOV.L   #_ABS_ENC_PLS_SPD,R4                                    ;実測
30465 000064CA 6942              9632             MOV.L   @R4,R9                                                  ;
30466                            9633     
30467 000064CC D408              9634             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   437
PROGRAM NAME =

30468 000064CE 6A42              9635             MOV.L   @R4,R10                                                 ;
30469                            9636     
30470 000064D0 D408              9637             MOV.L   #_BRK2_SV_DN_ACC,R4                                     ;500,000/1000
30471 000064D2 6B42              9638             MOV.L   @R4,R11                                                 ;
30472                            9639     
30473                            9640             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
30474 000064D4 D008                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30475 000064D6 400B                   M           JSR     @R0                     ;
30476 000064D8 0009                   M           NOP                                     ;
30477                            9641             SUB_END
30478                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30479 000064DA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30480                            9642             M_RTS
30481 000064DC 000B                   M           RTS                             ;RTSの後ろの
30482 000064DE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30483                            9643     
30484                            9644     
30485                            9645     
30486                            9646     
30487                            9647     
30488                            9648     
30489                            9649     ;       *******************************************
30490                            9650     ;       ***                                     ***
30491                            9651     ;       ***     一旦停止                        ***
30492                            9652     ;       ***                                     ***
30493                            9653     ;       *******************************************
30494                                     ***** BEGIN-POOL *****
30495 000064E0 00000000                   DATA FOR SOURCE-LINE 9614
30496 000064E4 00000000                   DATA FOR SOURCE-LINE 9620
30497 000064E8 00000000                   DATA FOR SOURCE-LINE 9625
30498 000064EC 00000000                   DATA FOR SOURCE-LINE 9631
30499 000064F0 00000000                   DATA FOR SOURCE-LINE 9634
30500 000064F4 00000000                   DATA FOR SOURCE-LINE 9637
30501 000064F8 00000000                   DATA FOR SOURCE-LINE 9640
30502                                     ***** END-POOL *****
30503 000064FC                   9654             .ALIGN  4                               ;
30504                            9655             .EXPORT _CMP_HOLD_CTLGENSOK
30505 000064FC                   9656     _CMP_HOLD_CTLGENSOK:
30506                            9657             SUB_START
30507 000064FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
30508                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30509                            9658     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
30510                            9659     ;;;input        MOV.L   #_POSCTL_SV_PLS,R4                                      ;SV
30511                            9660     ;;;     MOV.L   @(0,R4),R1                                              ;
30512                            9661     ;;;     MOV.L   @(4,R4),R2                                              ;
30513                            9662     
30514                            9663     ;       ---------------リアルタイム目標位置-----------
30515 000064FE D40E              9664             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
30516 00006500 5540              9665             MOV.L   @(0,R4),R5                                              ;
30517 00006502 5641              9666             MOV.L   @(4,R4),R6                                              ;
30518                            9667             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
30519 00006504 0008                   M           CLRT
30520 00006506 326A                   M           SUBC    R6,R2
30521 00006508 315A                   M           SUBC    R5,R1
30522                            9668     
30523 0000650A D40C              9669             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
30524 0000650C 6041              9670             MOV.W   @R4,R0                                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   438
PROGRAM NAME =

30525 0000650E C801              9671             TST     #BIT0,R0                                                ;
30526                            9672             TST_BIT_OF CMP_HOLD_CTL200                                      ;正転
30527 00006510 8905                   M           BT      CMP_HOLD_CTL200
30528                            9673             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
30529 00006512 6227                   M           NOT     R2,R2                           ;
30530 00006514 6117                   M           NOT     R1,R1                           ;
30531 00006516 200A                   M           XOR     R0,R0                           ;
30532 00006518 0018                   M           SETT
30533 0000651A 320E                   M           ADDC    R0,R2                           ;0+1+R2
30534 0000651C 310E                   M           ADDC    R0,R1                           ;
30535 0000651E                   9674     CMP_HOLD_CTL200:                                                        ;
30536                            9675     
30537 0000651E D408              9676             MOV.L   #_POSCTL_RL_SPD,R4                                      ;
30538 00006520 6942              9677             MOV.L   @R4,R9                                                  ;
30539                            9678     
30540 00006522 D408              9679             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
30541 00006524 6A42              9680             MOV.L   @R4,R10                                                 ;
30542                            9681     
30543                            9682     ;;;;    MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
30544                            9683     ;;;;    MOV.L   @R4,R11                                                 ;
30545                            9684     
30546 00006526 D408              9685             MOV.L   #_POSHLD_SET_DN_ACC,R4                                  ;500,000/1000
30547 00006528 6B42              9686             MOV.L   @R4,R11                                                 ;
30548                            9687     
30549                            9688             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
30550 0000652A D008                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30551 0000652C 400B                   M           JSR     @R0                     ;
30552 0000652E 0009                   M           NOP                                     ;
30553                            9689     
30554                            9690             SUB_END
30555                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30556 00006530 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30557                            9691             M_RTS
30558 00006532 000B                   M           RTS                             ;RTSの後ろの
30559 00006534 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30560                            9692     
30561                            9693     
30562                            9694     
30563                            9695     ;       *******************************************************************
30564                            9696     ;       ***                                                             ***
30565                            9697     ;       ***                                                             ***
30566                            9698     ;       ***                     クラッチ位置決め部                      ***
30567                            9699     ;       ***                                                             ***
30568                            9700     ;       ***                                                             ***
30569                            9701     ;       ***                                                             ***
30570                            9702     ;       *******************************************************************
30571                            9703     
30572                            9704     ;       *******************************************
30573                            9705     ;       ***                                     ***
30574                            9706     ;       ***     PLS/S --> 位置決めLSI           ***
30575                            9707     ;       ***                                     ***
30576                            9708     ;       *******************************************
30577                            9709     ;       _POS_LSI_SPDMAX=FFFF            ;16bit
30578                            9710     ;       _POS_FRQ_SPDMAX=500000          ;500KHZ(500000PLS/S)
30579                            9711     ;       Input R2:設定PLS/S
30580                                     ***** BEGIN-POOL *****
30581 00006536 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   439
PROGRAM NAME =

30582 00006538 00000000                   DATA FOR SOURCE-LINE 9664
30583 0000653C 00000000                   DATA FOR SOURCE-LINE 9669
30584 00006540 00000000                   DATA FOR SOURCE-LINE 9676
30585 00006544 00000000                   DATA FOR SOURCE-LINE 9679
30586 00006548 00000000                   DATA FOR SOURCE-LINE 9685
30587 0000654C 00000000                   DATA FOR SOURCE-LINE 9688
30588                                     ***** END-POOL *****
30589 00006550                   9712             .ALIGN  4                               ;
30590 00006550                   9713     _PLS_LSI_CTL_SPDINI:                                                    ;初回起動時
30591                            9714             SUB_START
30592 00006550 4F22                   M           STS.L   PR,@-R15                ;[必要]
30593                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30594                            9715     
30595 00006552 D114              9716             MOV.L   #_POSCTL_SET_SPD,R1                                             ;速度
30596 00006554 2122              9717             MOV.L   R2,@R1                                                          ;
30597                            9718     
30598                            9719             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3          ;開始は自
                                          動起動
30599 00006556 D114                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
30600 00006558 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
30601 0000655A D314                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
30602 0000655C 2322                   M           MOV.L   R2,@R3  ;DST_ADR
30603 0000655E D112              9720             MOV.L   #_POSCTL_SV_OFS_SPD,R1                                          ;
30604 00006560 6212              9721             MOV.L   @R1,R2                                                          ;
30605                            9722     ;       ------ BASE時のみ変換が必要---------
30606                            9723             FAR_JSR #_PLS_CHG_PLS_TO_LSI,R0                                         ;
30607 00006562 D013                   M           MOV.L   #_PLS_CHG_PLS_TO_LSI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30608 00006564 400B                   M           JSR     @R0                     ;
30609 00006566 0009                   M           NOP                                     ;
30610 00006568 D112              9724             MOV.L   #_FREQ_BAS_SV_SPD,R1                                            ;BASE設定
30611 0000656A 2122              9725             MOV.L   R2,@R1                                                          ;
30612                            9726             POS_LSI_32BIT_DAT_SET ADR=_PLS_BasFreqL,ADR_REG=R6,DAT_REG=R2           ;R2 KEEP
30613                                 M           PUSH_REG1 R6
30614 0000656C 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
30615                                 M                                           ;REG=>[SP]
30616                                 M                                           ;"-4" FF,FF,FF,FC
30617                                 M           PUSH_REG1 R2
30618 0000656E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
30619                                 M                                           ;REG=>[SP]
30620                                 M                                           ;"-4" FF,FF,FF,FC
30621                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30622                                 M           PUSH_REG1 R0
30623 00006570 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30624                                 M                                           ;REG=>[SP]
30625                                 M                                           ;"-4" FF,FF,FF,FC
30626 00006572 D011                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30627 00006574 6001                   M           MOV.W   @R0,R0
30628                                 M           POP_REG1 R0
30629                                 M                                   ; RE"+4" 00,00,00,04
30630 00006576 60F6                   M           MOV.L   @R15+,R0        ;
30631 00006578 D610                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BasFreqL,R6                ;
30632 0000657A 2621                   M           MOV.W   R2,@R6                          ;(LOW)
30633 0000657C 7602                   M           ADD     #2,R6                                   ;
30634 0000657E 6229                   M           SWAP.W  R2,R2                           ;
30635                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30636                                 M           PUSH_REG1 R0
30637 00006580 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   440
PROGRAM NAME =

30638                                 M                                           ;REG=>[SP]
30639                                 M                                           ;"-4" FF,FF,FF,FC
30640 00006582 D00D                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30641 00006584 6001                   M           MOV.W   @R0,R0
30642                                 M           POP_REG1 R0
30643                                 M                                   ; RE"+4" 00,00,00,04
30644 00006586 60F6                   M           MOV.L   @R15+,R0        ;
30645 00006588 2621                   M           MOV.W   R2,@R6                          ;(HIGH)
30646                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30647                                 M           PUSH_REG1 R0
30648 0000658A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30649                                 M                                           ;REG=>[SP]
30650                                 M                                           ;"-4" FF,FF,FF,FC
30651 0000658C D00A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30652 0000658E 6001                   M           MOV.W   @R0,R0
30653                                 M           POP_REG1 R0
30654                                 M                                   ; RE"+4" 00,00,00,04
30655 00006590 60F6                   M           MOV.L   @R15+,R0        ;
30656                                 M           POP_REG1 R2
30657                                 M                                   ; RE"+4" 00,00,00,04
30658 00006592 62F6                   M           MOV.L   @R15+,R2        ;
30659                                 M           POP_REG1 R6
30660                                 M                                   ; RE"+4" 00,00,00,04
30661 00006594 66F6                   M           MOV.L   @R15+,R6        ;
30662                            9727     
30663                            9728     
30664                            9729             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;PLS/S-->
30665 00006596 D00A                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30666 00006598 400B                   M           JSR     @R0                     ;
30667 0000659A 0009                   M           NOP                                     ;
30668                            9730             SUB_END
30669                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30670 0000659C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30671                            9731             M_RTS
30672 0000659E 000B                   M           RTS                             ;RTSの後ろの
30673 000065A0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30674                            9732     
30675                            9733     
30676                                     ***** BEGIN-POOL *****
30677 000065A2 0000                       ALIGNMENT CODE
30678 000065A4 00000000                   DATA FOR SOURCE-LINE 9716
30679 000065A8 00000000                   DATA FOR SOURCE-LINE 9719,9720
30680 000065AC 00000000                   DATA FOR SOURCE-LINE 9719
30681 000065B0 00000000                   DATA FOR SOURCE-LINE 9723
30682 000065B4 00000000                   DATA FOR SOURCE-LINE 9724
30683 000065B8 00000000                   DATA FOR SOURCE-LINE 9726,9726,9726
30684 000065BC 00000000                   DATA FOR SOURCE-LINE 9726
30685 000065C0 00000000                   DATA FOR SOURCE-LINE 9729
30686                                     ***** END-POOL *****
30687 000065C4                   9734             .ALIGN  4                               ;
30688 000065C4                   9735     _PLS_LSI_CTL_SPDCNT:                                                            ;運転中の
                                          速度変動時
30689                            9736             SUB_START
30690 000065C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
30691                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30692 000065C6 D104              9737             MOV.L   #_POSCTL_SET_SPD,R1                                             ;速度
30693 000065C8 2122              9738             MOV.L   R2,@R1                                                          ;SAVE 設定
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   441
PROGRAM NAME =

                                          速度
30694                            9739     
30695                            9740             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;
30696 000065CA D004                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30697 000065CC 400B                   M           JSR     @R0                     ;
30698 000065CE 0009                   M           NOP                                     ;
30699                            9741             SUB_END
30700                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30701 000065D0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30702                            9742             M_RTS
30703 000065D2 000B                   M           RTS                             ;RTSの後ろの
30704 000065D4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30705                            9743     
30706                            9744     
30707                            9745     ;       -------------------------------------------
30708                            9746     ;       ---     input _POSCTL_RL_SPD            ---
30709                            9747     ;       -------------------------------------------
30710                                     ***** BEGIN-POOL *****
30711 000065D6 0000                       ALIGNMENT CODE
30712 000065D8 00000000                   DATA FOR SOURCE-LINE 9737
30713 000065DC 00000000                   DATA FOR SOURCE-LINE 9740
30714                                     ***** END-POOL *****
30715 000065E0                   9748             .ALIGN  4                               ;
30716 000065E0                   9749     _PLS_LSI_CTL_SPDSET
30717                            9750             SUB_START
30718 000065E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
30719                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30720 000065E2 D00F              9751             MOV.L   #_POSCTL_RL_SPD,R0                                      ;内部演算リアルタ
                                          イム速度(PLS/S)
30721 000065E4 6202              9752             MOV.L   @R0,R2                                                  ;
30722                            9753             FAR_JSR #_PLS_CHG_PLS_TO_LSI,R0                                 ;
30723 000065E6 D00F                   M           MOV.L   #_PLS_CHG_PLS_TO_LSI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30724 000065E8 400B                   M           JSR     @R0                     ;
30725 000065EA 0009                   M           NOP                                     ;
30726                            9754     
30727 000065EC D60E              9755             MOV.L   #_FREQ_SV_SPD,R6                                        ;2003-07-01(二重化
                                          対象速度)
30728 000065EE 2622              9756             MOV.L   R2,@R6                                                  ;
30729                            9757             POS_LSI_32BIT_DAT_SET ADR=_PLS_TopFreqL,ADR_REG=R6,DAT_REG=R2   ;
30730                                 M           PUSH_REG1 R6
30731 000065F0 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
30732                                 M                                           ;REG=>[SP]
30733                                 M                                           ;"-4" FF,FF,FF,FC
30734                                 M           PUSH_REG1 R2
30735 000065F2 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
30736                                 M                                           ;REG=>[SP]
30737                                 M                                           ;"-4" FF,FF,FF,FC
30738                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30739                                 M           PUSH_REG1 R0
30740 000065F4 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30741                                 M                                           ;REG=>[SP]
30742                                 M                                           ;"-4" FF,FF,FF,FC
30743 000065F6 D00D                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30744 000065F8 6001                   M           MOV.W   @R0,R0
30745                                 M           POP_REG1 R0
30746                                 M                                   ; RE"+4" 00,00,00,04
30747 000065FA 60F6                   M           MOV.L   @R15+,R0        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   442
PROGRAM NAME =

30748 000065FC D60C                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_TopFreqL,R6                ;
30749 000065FE 2621                   M           MOV.W   R2,@R6                          ;(LOW)
30750 00006600 7602                   M           ADD     #2,R6                                   ;
30751 00006602 6229                   M           SWAP.W  R2,R2                           ;
30752                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30753                                 M           PUSH_REG1 R0
30754 00006604 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30755                                 M                                           ;REG=>[SP]
30756                                 M                                           ;"-4" FF,FF,FF,FC
30757 00006606 D009                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30758 00006608 6001                   M           MOV.W   @R0,R0
30759                                 M           POP_REG1 R0
30760                                 M                                   ; RE"+4" 00,00,00,04
30761 0000660A 60F6                   M           MOV.L   @R15+,R0        ;
30762 0000660C 2621                   M           MOV.W   R2,@R6                          ;(HIGH)
30763                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30764                                 M           PUSH_REG1 R0
30765 0000660E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30766                                 M                                           ;REG=>[SP]
30767                                 M                                           ;"-4" FF,FF,FF,FC
30768 00006610 D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30769 00006612 6001                   M           MOV.W   @R0,R0
30770                                 M           POP_REG1 R0
30771                                 M                                   ; RE"+4" 00,00,00,04
30772 00006614 60F6                   M           MOV.L   @R15+,R0        ;
30773                                 M           POP_REG1 R2
30774                                 M                                   ; RE"+4" 00,00,00,04
30775 00006616 62F6                   M           MOV.L   @R15+,R2        ;
30776                                 M           POP_REG1 R6
30777                                 M                                   ; RE"+4" 00,00,00,04
30778 00006618 66F6                   M           MOV.L   @R15+,R6        ;
30779                            9758             SUB_END
30780                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30781 0000661A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30782                            9759             M_RTS
30783 0000661C 000B                   M           RTS                             ;RTSの後ろの
30784 0000661E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30785                            9760     
30786                            9761     
30787                            9762     ;       ***********************************
30788                            9763     ;       ***                             ***
30789                            9764     ;       ***     停止処理                ***
30790                            9765     ;       ***                             ***
30791                            9766     ;       ***********************************
30792                            9767     ;       (1)自起動速度になったらEMGｺﾏﾝﾄﾞを発行する
30793                            9768     ;       (2)速度=0にして残りパルスを0にする
30794                            9769     ;       とりあえず(1)を行なう。
30795                                     ***** BEGIN-POOL *****
30796 00006620 00000000                   DATA FOR SOURCE-LINE 9751
30797 00006624 00000000                   DATA FOR SOURCE-LINE 9753
30798 00006628 00000000                   DATA FOR SOURCE-LINE 9755
30799 0000662C 00000000                   DATA FOR SOURCE-LINE 9757,9757,9757
30800 00006630 00000000                   DATA FOR SOURCE-LINE 9757
30801                                     ***** END-POOL *****
30802 00006634                   9770             .ALIGN  4                               ;
30803 00006634                   9771     _PLS_LSI_STOP_END:
30804                            9772             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   443
PROGRAM NAME =

30805 00006634 4F22                   M           STS.L   PR,@-R15                ;[必要]
30806                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30807 00006636 D41A              9773             MOV.L   #(BIT11*H'10000),R4                                     ;
30808                            9774             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
30809 00006638 D61A                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
30810 0000663A 6562                   M           MOV.L   @R6,R5                                          ;
30811 0000663C 254B                   M           OR      R4,R5                                           ;
30812 0000663E 2652                   M           MOV.L   R5,@R6                                          ;SAVE
30813                                 M   
30814 00006640 D619                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
30815                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
30816 00006642 6559                   M           SWAP.W  R5,R5                           ;
30817                                 M   
30818 00006644 2651                   M           MOV.W   R5,@R6
30819 00006646 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
30820 00006648 6559                   M           SWAP.W  R5,R5                           ;
30821                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30822                                 M           PUSH_REG1 R0
30823 0000664A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30824                                 M                                           ;REG=>[SP]
30825                                 M                                           ;"-4" FF,FF,FF,FC
30826 0000664C D017                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30827 0000664E 6001                   M           MOV.W   @R0,R0
30828                                 M           POP_REG1 R0
30829                                 M                                   ; RE"+4" 00,00,00,04
30830 00006650 60F6                   M           MOV.L   @R15+,R0        ;
30831 00006652 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
30832                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30833                                 M           PUSH_REG1 R0
30834 00006654 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30835                                 M                                           ;REG=>[SP]
30836                                 M                                           ;"-4" FF,FF,FF,FC
30837 00006656 D015                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30838 00006658 6001                   M           MOV.W   @R0,R0
30839                                 M           POP_REG1 R0
30840                                 M                                   ; RE"+4" 00,00,00,04
30841 0000665A 60F6                   M           MOV.L   @R15+,R0        ;
30842 0000665C 0009              9775             NOP
30843 0000665E 0009              9776             NOP
30844 00006660 0009              9777             NOP
30845                            9778             PUSH_REG1 R4
30846 00006662 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
30847                                 M                                           ;REG=>[SP]
30848                                 M                                           ;"-4" FF,FF,FF,FC
30849 00006664 200A              9779             XOR     R0,R0                                                           ;
30850                            9780             REG_MOV_TO_MEM  DST_ADR=_POSCTL_SV_OFS_SPD,L1=L,DT_REG=R0,WKREG1=R1     ;
30851 00006666 D112                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1  ;DST_ADR
30852 00006668 2102                   M           MOV.L   R0,@R1  ;DST_ADR
30853                            9781             POP_REG1 R4                                                             ;
30854                                 M                                   ; RE"+4" 00,00,00,04
30855 0000666A 64F6                   M           MOV.L   @R15+,R4        ;
30856 0000666C 0009              9782             NOP
30857 0000666E 0009              9783             NOP
30858 00006670 0009              9784             NOP
30859 00006672 D410              9785             MOV.L   #~(BIT11*H'10000),R4            ;
30860                            9786             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   444
PROGRAM NAME =

30861 00006674 D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
30862 00006676 6562                   M           MOV.L   @R6,R5                                          ;
30863 00006678 2549                   M           AND     R4,R5                                           ;
30864 0000667A 2652                   M           MOV.L   R5,@R6                                          ;SAVE
30865                                 M   
30866 0000667C D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
30867                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
30868 0000667E 6559                   M           SWAP.W  R5,R5                           ;
30869                                 M   
30870 00006680 2651                   M           MOV.W   R5,@R6
30871 00006682 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
30872 00006684 6559                   M           SWAP.W  R5,R5                           ;
30873                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30874                                 M           PUSH_REG1 R0
30875 00006686 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30876                                 M                                           ;REG=>[SP]
30877                                 M                                           ;"-4" FF,FF,FF,FC
30878 00006688 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30879 0000668A 6001                   M           MOV.W   @R0,R0
30880                                 M           POP_REG1 R0
30881                                 M                                   ; RE"+4" 00,00,00,04
30882 0000668C 60F6                   M           MOV.L   @R15+,R0        ;
30883 0000668E 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
30884                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30885                                 M           PUSH_REG1 R0
30886 00006690 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30887                                 M                                           ;REG=>[SP]
30888                                 M                                           ;"-4" FF,FF,FF,FC
30889 00006692 D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30890 00006694 6001                   M           MOV.W   @R0,R0
30891                                 M           POP_REG1 R0
30892                                 M                                   ; RE"+4" 00,00,00,04
30893 00006696 60F6                   M           MOV.L   @R15+,R0        ;
30894                            9787     
30895                            9788             SUB_END
30896                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30897 00006698 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30898                            9789             M_RTS
30899 0000669A 000B                   M           RTS                             ;RTSの後ろの
30900 0000669C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30901                            9790     
30902                            9791     
30903                            9792     
30904                            9793     
30905                            9794     
30906                            9795     
30907                            9796     ;       ***************************************************
30908                            9797     ;       ***                                             ***
30909                            9798     ;       ***     Input R2 PLS/SEC-->LSI(0-FFFF)data      ***
30910                            9799     ;       ***                                             ***
30911                            9800     ;       ***************************************************
30912                            9801     ;       Input R2
30913                            9802             .IMPORT _POS_LSI_FRQ_DATA_MAK
30914                            9803     
30915                                     ***** BEGIN-POOL *****
30916 0000669E 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   445
PROGRAM NAME =

30917 000066A0 08000000                   DATA FOR SOURCE-LINE 9773
30918 000066A4 00000000                   DATA FOR SOURCE-LINE 9774,9786
30919 000066A8 00000000                   DATA FOR SOURCE-LINE 9774,9786
30920 000066AC 00000000                   DATA FOR SOURCE-LINE 9774,9774,9786,9786
30921 000066B0 00000000                   DATA FOR SOURCE-LINE 9780
30922 000066B4 F7FFFFFF                   DATA FOR SOURCE-LINE 9785
30923                                     ***** END-POOL *****
30924 000066B8                   9804             .ALIGN  4                               ;
30925 000066B8                   9805     _PLS_CHG_PLS_TO_LSI
30926                            9806             SUB_START
30927 000066B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
30928                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30929                            9807             FAR_JSR #_POS_LSI_FRQ_DATA_MAK,R0                       ;PLS/S → 65535=500KHZ
30930 000066BA D009                   M           MOV.L   #_POS_LSI_FRQ_DATA_MAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30931 000066BC 400B                   M           JSR     @R0                     ;
30932 000066BE 0009                   M           NOP                                     ;
30933                            9808     
30934                            9809     ;       ========== MAX ========
30935 000066C0 D108              9810             MOV.L   #_LSI_SET_SPD_MAXLMT,R1                                 ;(周波数上のﾘﾐｯﾀ)
30936 000066C2 6312              9811             MOV.L   @R1,R3                                                  ;
30937 000066C4 3322              9812             CMP/HS  R2,R3                                                   ;R2 =< R3
30938 000066C6 8900              9813             BT      PLS_CHG_PLSTOLSI_100                                    ;
30939 000066C8 6233              9814             MOV     R3,R2                                                   ;LIMIT
30940 000066CA                   9815     PLS_CHG_PLSTOLSI_100:
30941                            9816     ;============================ とりあえず策　本当はﾃﾞｰﾀﾚﾍﾞﾙでやるべき==========
30942                            9817     ;       === SIT4は未出荷(SIT3:20070914)(COP2:2007-07-20)===
30943 000066CA D107              9818             MOV.L   #_INT_CLS_CTL_FLG,R1            ;
30944 000066CC 6011              9819             MOV.W   @R1,R0                          ;
30945 000066CE C801              9820             TST     #BIT0,R0                        ;
30946                            9821             TST_BIT_OF PLS_CHG_PLSTOLSI_120         ;
30947 000066D0 890E                   M           BT      PLS_CHG_PLSTOLSI_120
30948 000066D2 C840              9822             TST     #BIT6,R0                        ;
30949                            9823             TST_BIT_ON PLS_CHG_PLSTOLSI_120         ;
30950 000066D4 8B0C                   M           BF      PLS_CHG_PLSTOLSI_120
30951 000066D6 D105              9824             MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1      ;//65535=500KHZ
30952 000066D8 6312              9825             MOV.L   @R1,R3                          ;
30953                            9826             M_BRA   PLS_CHG_PLSTOLSI_150            ;
30954 000066DA A017                   M           BRA     PLS_CHG_PLSTOLSI_150
30955 000066DC 0009                   M           NOP
30956                            9827     
30957                                     ***** BEGIN-POOL *****
30958 000066DE 0000                       ALIGNMENT CODE
30959 000066E0 00000000                   DATA FOR SOURCE-LINE 9807
30960 000066E4 00000000                   DATA FOR SOURCE-LINE 9810
30961 000066E8 00000000                   DATA FOR SOURCE-LINE 9818
30962 000066EC 00000000                   DATA FOR SOURCE-LINE 9824
30963                                     ***** END-POOL *****
30964 000066F0                   9828     PLS_CHG_PLSTOLSI_120:
30965                            9829     
30966                            9830     ;       -----------2013-06-12-----
30967 000066F0 D103              9831             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
30968 000066F2 6011              9832             MOV.W   @R1,R0                          ;
30969 000066F4 2008              9833             TST     R0,R0                           ;
30970                            9834             TST_BIT_OF PLS_CHG_PLSTOLSI_130         ;
30971 000066F6 8907                   M           BT      PLS_CHG_PLSTOLSI_130
30972                            9835     
30973                            9836     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   446
PROGRAM NAME =

30974                            9837     
30975 000066F8 D102              9838             MOV.L   #_TEP_MIN_SPD_FRQ,R1            ;
30976 000066FA 6312              9839             MOV.L   @R1,R3                          ;FREQ 500.000/65535= 7.62PLS/S
30977                            9840             M_BRA   PLS_CHG_PLSTOLSI_150            ;
30978 000066FC A006                   M           BRA     PLS_CHG_PLSTOLSI_150
30979 000066FE 0009                   M           NOP
30980                            9841     
30981                                     ***** BEGIN-POOL *****
30982 00006700 00000000                   DATA FOR SOURCE-LINE 9831
30983 00006704 00000000                   DATA FOR SOURCE-LINE 9838
30984                                     ***** END-POOL *****
30985 00006708                   9842     PLS_CHG_PLSTOLSI_130:
30986                            9843     
30987                            9844     
30988                            9845     ;       ========== MIN ========
30989 00006708 D103              9846             MOV.L   #_POS_LSI_SPDBAS,R1             ;65535=500KHZ
30990 0000670A 6312              9847             MOV.L   @R1,R3                          ;
30991 0000670C                   9848     PLS_CHG_PLSTOLSI_150:
30992                            9849     
30993 0000670C 3232              9850             CMP/HS  R3,R2                                                   ;R3 =< R2
30994 0000670E 8900              9851             BT      PLS_CHG_PLSTOLSI_200                                    ;
30995 00006710 6233              9852             MOV     R3,R2                                                   ;LIMIT
30996 00006712                   9853     PLS_CHG_PLSTOLSI_200                                                    ;
30997                            9854             SUB_END
30998                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30999 00006712 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31000                            9855             M_RTS
31001 00006714 000B                   M           RTS                             ;RTSの後ろの
31002 00006716 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31003                            9856     
31004                            9857     ;       *******************************************************************
31005                            9858     ;       ***                                                             ***
31006                            9859     ;       ***                                                             ***
31007                            9860     ;       ***                     データ作成                              ***
31008                            9861     ;       ***                                                             ***
31009                            9862     ;       ***                                                             ***
31010                            9863     ;       ***                                                             ***
31011                            9864     ;       *******************************************************************
31012                            9865     ;       起動時または1CYCLE終了時
31013                            9866     
31014                            9867     
31015                            9868     
31016                            9869     ;       ***********************************
31017                            9870     ;       ***                             ***
31018                            9871     ;       ***     加速度データの作成      ***
31019                            9872     ;       ***     _POSCTL_SV_UP_ACC       ***
31020                            9873     ;       ***                             ***
31021                            9874     ;       ***********************************
31022                            9875     ;       1回転CYCLE
31023                            9876     ;       ｵｰﾊﾞﾗｲﾄﾞなし
31024                            9877             .EXPORT _ACCLAT1_SV_MAK_COM                     ;
31025                            9878     
31026                                     ***** BEGIN-POOL *****
31027 00006718 00000000                   DATA FOR SOURCE-LINE 9846
31028                                     ***** END-POOL *****
31029 0000671C                   9879             .ALIGN  4                               ;
31030 0000671C                   9880     _ACCLAT1_SV_MAK_OVR:                                    ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   447
PROGRAM NAME =

31031                            9881             SUB_START
31032 0000671C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31033                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31034 0000671E D007              9882             MOV.L   #_POSCTL_OVER_ACC_LAT,R0                ;time* 100/(1~127)
31035 00006720 6401              9883             MOV.W   @R0,R4                                  ;1~100
31036                            9884     
31037 00006722 D007              9885             MOV.L   #_SET1_ACCLAT_TIM1,R0                   ;
31038 00006724 6201              9886             MOV.W   @R0,R2                                  ;R2:時間
31039                            9887     
31040                            9888             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
31041 00006726 D007                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31042 00006728 400B                   M           JSR     @R0                     ;
31043 0000672A 0009                   M           NOP                                     ;
31044                            9889     
31045 0000672C D106              9890             MOV.L   #_SET_UP_ACC_LATE,R1                            ;//目標加速度(PLS/S/S)
31046 0000672E 2122              9891             MOV.L   R2,@R1                                          ;
31047 00006730 D106              9892             MOV.L   #_SET_DN_ACC_LATE,R1                            ;//目標加速度(PLS/S/S)
31048 00006732 2122              9893             MOV.L   R2,@R1                                          ;(最終減速専用)
31049                            9894     
31050                            9895             SUB_END
31051                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31052 00006734 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31053                            9896             M_RTS
31054 00006736 000B                   M           RTS                             ;RTSの後ろの
31055 00006738 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31056                            9897     
31057                            9898     ;       -----------------------------------------------------------
31058                            9899     ;       ---     INPUT R2(TIME),R4 OVER-LIDE DATA 1~100,100      ---
31059                            9900     ;       -----------------------------------------------------------
31060                                     ***** BEGIN-POOL *****
31061 0000673A 0000                       ALIGNMENT CODE
31062 0000673C 00000000                   DATA FOR SOURCE-LINE 9882
31063 00006740 00000000                   DATA FOR SOURCE-LINE 9885
31064 00006744 00000000                   DATA FOR SOURCE-LINE 9888
31065 00006748 00000000                   DATA FOR SOURCE-LINE 9890
31066 0000674C 00000000                   DATA FOR SOURCE-LINE 9892
31067                                     ***** END-POOL *****
31068 00006750                   9901             .ALIGN  4                               ;
31069 00006750                   9902     _ACCLAT1_SV_MAK_COM:
31070                            9903             SUB_START
31071 00006750 4F22                   M           STS.L   PR,@-R15                ;[必要]
31072                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31073                            9904     
31074                            9905             FAR_JSR #_OVRLIDE_LATE_MULDIV,R0                ;Input R2,R4 ANS R2
31075 00006752 D008                   M           MOV.L   #_OVRLIDE_LATE_MULDIV,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31076 00006754 400B                   M           JSR     @R0                     ;
31077 00006756 0009                   M           NOP                                     ;
31078 00006758 D107              9906             MOV.L   #_OVER_LIDE_ANS_TIM,R1                  ;TIME *100*100/1*1 = 10000*
31079 0000675A 2122              9907             MOV.L   R2,@R1                                  ;(ﾃﾞﾊﾞｯｸ用)
31080                            9908     ;
31081                            9909     ;       ====時間の次元==>加速度の次元===
31082                            9910     ;;      MOV.L   #_POS_FRQ_SPDMAX,R0                     ;500KHZ(500000PLS/S)
31083                            9911     ;       ------- こっちがわかりよい-------
31084 0000675C 6423              9912             MOV     R2,R4                                   ;
31085 0000675E D007              9913             MOV.L   #_LINK_MAX_SPD_PLS,R0                           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　p
                                          ls/s
31086 00006760 6202              9914             MOV.L   @R0,R2                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   448
PROGRAM NAME =

31087                            9915             FAR_JSR #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0        ;R2/R4
31088 00006762 D007                   M           MOV.L   #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容
                                          をREGへ
31089 00006764 400B                   M           JSR     @R0                     ;
31090 00006766 0009                   M           NOP                                     ;
31091                            9916     
31092 00006768 2228              9917             TST     R2,R2                                           ;
31093                            9918             TST_BIT_ON ACCLAT1_SV_MAKCOM_200                        ;
31094 0000676A 8B00                   M           BF      ACCLAT1_SV_MAKCOM_200
31095 0000676C E201              9919             MOV     #1,R2                                           ;
31096 0000676E                   9920     ACCLAT1_SV_MAKCOM_200:                                          ;
31097                            9921     
31098                            9922             SUB_END
31099                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31100 0000676E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31101                            9923             M_RTS
31102 00006770 000B                   M           RTS                             ;RTSの後ろの
31103 00006772 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31104                            9924     
31105                            9925     
31106                            9926     ;       *******************************************
31107                            9927     ;       ***                                     ***
31108                            9928     ;       ***     OVERLIDE 加速度への演算         ***
31109                            9929     ;       ***                                     ***
31110                            9930     ;       *******************************************
31111                            9931     ;       Input R2(ACC時間),R4(0~100per)/OUTPUT R2,R4
31112                                     ***** BEGIN-POOL *****
31113 00006774 00000000                   DATA FOR SOURCE-LINE 9905
31114 00006778 00000000                   DATA FOR SOURCE-LINE 9906
31115 0000677C 00000000                   DATA FOR SOURCE-LINE 9913
31116 00006780 00000000                   DATA FOR SOURCE-LINE 9915
31117                                     ***** END-POOL *****
31118 00006784                   9932             .ALIGN  4                               ;
31119 00006784                   9933     _OVRLIDE_LATE_MULDIV:
31120                            9934             SUB_START
31121 00006784 4F22                   M           STS.L   PR,@-R15                ;[必要]
31122                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31123                            9935     
31124                            9936     ;       ------- 2010-10-06-- ふりこ
31125                            9937             PUSH_REG1 R2
31126 00006786 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
31127                                 M                                           ;REG=>[SP]
31128                                 M                                           ;"-4" FF,FF,FF,FC
31129                            9938             PUSH_REG1 R4
31130 00006788 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
31131                                 M                                           ;REG=>[SP]
31132                                 M                                           ;"-4" FF,FF,FF,FC
31133                            9939             FAR_JSR #_CHK_DNM_SPEC_MOD1,R0
31134 0000678A D007                   M           MOV.L   #_CHK_DNM_SPEC_MOD1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31135 0000678C 400B                   M           JSR     @R0                     ;
31136 0000678E 0009                   M           NOP                                     ;
31137                            9940             POP_REG1 R4
31138                                 M                                   ; RE"+4" 00,00,00,04
31139 00006790 64F6                   M           MOV.L   @R15+,R4        ;
31140                            9941             POP_REG1 R2
31141                                 M                                   ; RE"+4" 00,00,00,04
31142 00006792 62F6                   M           MOV.L   @R15+,R2        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   449
PROGRAM NAME =

31143                            9942     
31144 00006794 2008              9943             TST     R0,R0
31145                            9944             TST_BIT_ON OVRLIDE_LATMULDIV200         ;ふりこ時時間一定
31146 00006796 8B0B                   M           BF      OVRLIDE_LATMULDIV200
31147                            9945     
31148                            9946     
31149                            9947     
31150 00006798 D004              9948             MOV.L   #_WPAR_ACCTYP_SEL,R0                            ;0:加速距離一定(SIT3ｴｸｾﾃﾞｨ
                                          ) 1:加速時間一定 2:加速度一定
31151 0000679A 6001              9949             MOV.W   @R0,R0                                          ;
31152 0000679C 8800              9950             CMP/EQ  #0,R0                                           ;0:距離一定(LATE*LATE)
31153 0000679E 890B              9951             BT      OVRLIDE_LATMULDIV300                            ;
31154 000067A0 8801              9952             CMP/EQ  #1,R0                                           ;
31155 000067A2 8905              9953             BT      OVRLIDE_LATMULDIV200                            ;加速時間一定JUMP
31156                            9954             M_BRA   OVRLIDE_LATMULDIV550                            ;加速度一定
31157 000067A4 A017                   M           BRA     OVRLIDE_LATMULDIV550
31158 000067A6 0009                   M           NOP
31159                            9955     
31160                            9956     
31161                                     ***** BEGIN-POOL *****
31162 000067A8 00000000                   DATA FOR SOURCE-LINE 9939
31163 000067AC 00000000                   DATA FOR SOURCE-LINE 9948
31164                                     ***** END-POOL *****
31165 000067B0                   9957     OVRLIDE_LATMULDIV200:                                           ;
31166 000067B0 9101              9958             MOV.W   #_OVRLIDE_LATE_MAX,R1                           ;R2(時間)*(100 R1)/(PER R4
                                          )加速時間一定
31167                            9959             M_BRA   OVRLIDE_LATMULDIV400                            ;V=Vmax/Tmax V*0.5 Tmax->T
                                          max/0.5
31168 000067B2 A005                   M           BRA     OVRLIDE_LATMULDIV400
31169 000067B4 0009                   M           NOP
31170                            9960     
31171                                     ***** BEGIN-POOL *****
31172 000067B6 0064                       DATA FOR SOURCE-LINE 9958
31173                                     ***** END-POOL *****
31174 000067B8                   9961     OVRLIDE_LATMULDIV300:                                           ;
31175 000067B8 6043              9962             MOV     R4,R0                                           ;
31176 000067BA 204E              9963             MULU.W  R4,R0                                           ;
31177 000067BC 041A              9964             STS     MACL,R4                                         ;V*V=2*Vmax/Tmax*S
31178 000067BE 910D              9965             MOV.W   #_OVRLIDE_LATE_MAX*_OVRLIDE_LATE_MAX,R1         ;R2(時間)*(100*100 R1)/(PE
                                          R*PER R4)
31179                            9966     
31180 000067C0                   9967     OVRLIDE_LATMULDIV400:                                           ;
31181                            9968     
31182 000067C0 622D              9969             EXTU.W  R2,R2                                           ;R2(TIME)*R1/R4
31183                            9970             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
31184 000067C2 D007                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31185 000067C4 400B                   M           JSR     @R0                     ;
31186 000067C6 0009                   M           NOP                                     ;
31187                            9971     
31188 000067C8 D406              9972             MOV.L   #H'0000FFFF,R4                                  ;
31189 000067CA 3422              9973             CMP/HS  R2,R4                                           ;
31190 000067CC 8900              9974             BT      OVRLIDE_LATMULDIV500                            ;
31191 000067CE 6243              9975             MOV     R4,R2                                           ;
31192 000067D0                   9976     OVRLIDE_LATMULDIV500                                            ;
31193 000067D0 2228              9977             TST     R2,R2                                           ;
31194                            9978             TST_BIT_ON OVRLIDE_LATMULDIV550                         ;
31195 000067D2 8B00                   M           BF      OVRLIDE_LATMULDIV550
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   450
PROGRAM NAME =

31196 000067D4 E201              9979             MOV     #1,R2                                           ;
31197 000067D6                   9980     OVRLIDE_LATMULDIV550:                                           ;
31198                            9981     
31199                            9982             SUB_END
31200                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31201 000067D6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31202                            9983             M_RTS
31203 000067D8 000B                   M           RTS                             ;RTSの後ろの
31204 000067DA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31205                            9984     
31206                            9985     
31207                            9986     ;       ***********************************
31208                            9987     ;       ***                             ***
31209                            9988     ;       ***     BRK1ﾃﾞｰﾀMAKE            ***
31210                            9989     ;       ***                             ***
31211                            9990     ;       ***********************************
31212                                     ***** BEGIN-POOL *****
31213 000067DC 2710                       DATA FOR SOURCE-LINE 9965
31214 000067DE 0000                       ALIGNMENT CODE
31215 000067E0 00000000                   DATA FOR SOURCE-LINE 9970
31216 000067E4 0000FFFF                   DATA FOR SOURCE-LINE 9972
31217                                     ***** END-POOL *****
31218 000067E8                   9991             .ALIGN  4                               ;
31219 000067E8                   9992     _ACCBRK1_SV_MAKE:                                       ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
31220                            9993             SUB_START
31221 000067E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
31222                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31223 000067EA 9409              9994             MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;100%
31224 000067EC D005              9995             MOV.L   #_WPAR_BRK1_ACCTM,R0                    ;//38 msec
31225 000067EE 6201              9996             MOV.W   @R0,R2                                  ;
31226                            9997     
31227                            9998             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
31228 000067F0 D005                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31229 000067F2 400B                   M           JSR     @R0                     ;
31230 000067F4 0009                   M           NOP                                     ;
31231                            9999     
31232 000067F6 D105             10000             MOV.L   #_BRK1_SV_DN_ACC,R1;//目標加速度((PLS/1000)/S/S)
31233 000067F8 2122             10001             MOV.L   R2,@R1                                          ;
31234                           10002             SUB_END
31235                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31236 000067FA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31237                           10003             M_RTS
31238 000067FC 000B                   M           RTS                             ;RTSの後ろの
31239 000067FE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31240                           10004     
31241                                     ***** BEGIN-POOL *****
31242 00006800 0064                       DATA FOR SOURCE-LINE 9994
31243 00006802 0000                       ALIGNMENT CODE
31244 00006804 00000000                   DATA FOR SOURCE-LINE 9995
31245 00006808 00000000                   DATA FOR SOURCE-LINE 9998
31246 0000680C 00000000                   DATA FOR SOURCE-LINE 10000
31247                                     ***** END-POOL *****
31248 00006810                  10005             .ALIGN  4                               ;
31249 00006810                  10006     _ACCBRK1_SV_MAK_OVR:                                    ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
31250                           10007             SUB_START
31251 00006810 4F22                   M           STS.L   PR,@-R15                ;[必要]
31252                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   451
PROGRAM NAME =

31253 00006812 D006             10008             MOV.L   #_POSCTL_OVER_ACC_LAT,R0                ;
31254 00006814 6401             10009             MOV.W   @R0,R4                                  ;1~100
31255                           10010     
31256 00006816 D006             10011             MOV.L   #_WPAR_BRK1_ACCTM,R0                    ;//38 msec
31257 00006818 6201             10012             MOV.W   @R0,R2                                  ;
31258                           10013     
31259                           10014             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
31260 0000681A D006                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31261 0000681C 400B                   M           JSR     @R0                     ;
31262 0000681E 0009                   M           NOP                                     ;
31263                           10015     
31264 00006820 D105             10016             MOV.L   #_BRK1_SV_DN_ACC,R1;//目標加速度((PLS/1000)/S/S)
31265 00006822 2122             10017             MOV.L   R2,@R1                                          ;
31266                           10018             SUB_END
31267                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31268 00006824 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31269                           10019             M_RTS
31270 00006826 000B                   M           RTS                             ;RTSの後ろの
31271 00006828 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31272                           10020     
31273                           10021     
31274                           10022     ;       ***********************************
31275                           10023     ;       ***                             ***
31276                           10024     ;       ***     BRK2ﾃﾞｰﾀMAKE            ***
31277                           10025     ;       ***                             ***
31278                           10026     ;       ***********************************
31279                                     ***** BEGIN-POOL *****
31280 0000682A 0000                       ALIGNMENT CODE
31281 0000682C 00000000                   DATA FOR SOURCE-LINE 10008
31282 00006830 00000000                   DATA FOR SOURCE-LINE 10011
31283 00006834 00000000                   DATA FOR SOURCE-LINE 10014
31284 00006838 00000000                   DATA FOR SOURCE-LINE 10016
31285                                     ***** END-POOL *****
31286 0000683C                  10027             .ALIGN  4                               ;
31287 0000683C                  10028     _ACCBRK2_SV_MAKE:                                       ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
31288                           10029             SUB_START
31289 0000683C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31290                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31291 0000683E 9409             10030             MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;100%
31292 00006840 D005             10031             MOV.L   #_WPAR_BRK2_ACCTM,R0                    ;//38 msec
31293 00006842 6201             10032             MOV.W   @R0,R2                                  ;
31294                           10033     
31295                           10034             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
31296 00006844 D005                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31297 00006846 400B                   M           JSR     @R0                     ;
31298 00006848 0009                   M           NOP                                     ;
31299                           10035     
31300 0000684A D105             10036             MOV.L   #_BRK2_SV_DN_ACC,R1;//目標加速度((PLS/1000)/S/S)
31301 0000684C 2122             10037             MOV.L   R2,@R1                                          ;
31302                           10038     
31303                           10039     
31304                           10040             SUB_END
31305                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31306 0000684E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31307                           10041             M_RTS
31308 00006850 000B                   M           RTS                             ;RTSの後ろの
31309 00006852 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   452
PROGRAM NAME =

31310                           10042     
31311                           10043     ;       S2b     WPAR_BRK1_ACCTM                 ;//37 msec
31312                           10044     ;       S4b     BRK1_SV_DN_ACC;//目標加速度((PLS/1000)/S/S)
31313                           10045     ;       S4b     BRK1_CAL_DN_ACC;//OVER LIDE 含む
31314                           10046     
31315                           10047     
31316                           10048     ;       *******************************************************************
31317                           10049     ;       ***                                                             ***
31318                           10050     ;       ***                                                             ***
31319                           10051     ;       ***                     演算                                    ***
31320                           10052     ;       ***                                                             ***
31321                           10053     ;       ***                                                             ***
31322                           10054     ;       ***                                                             ***
31323                           10055     ;       *******************************************************************
31324                           10056     
31325                           10057     ;       *******************************************
31326                           10058     ;       ***                                     ***
31327                           10059     ;       ***     2006-09-19                      ***
31328                           10060     ;       ***     演算                            ***
31329                           10061     ;       ***     速度LSI設定→PLS/Sにする        ***
31330                           10062     ;       ***                                     ***
31331                           10063     ;       *******************************************
31332                           10064     ;
31333                                     ***** BEGIN-POOL *****
31334 00006854 0064                       DATA FOR SOURCE-LINE 10030
31335 00006856 0000                       ALIGNMENT CODE
31336 00006858 00000000                   DATA FOR SOURCE-LINE 10031
31337 0000685C 00000000                   DATA FOR SOURCE-LINE 10034
31338 00006860 00000000                   DATA FOR SOURCE-LINE 10036
31339                                     ***** END-POOL *****
31340 00006864                  10065             .ALIGN  4                               ;
31341 00006864                  10066     _CHG_LSI_LATE_TO_PLS            ;2006-09-19
31342                           10067             SUB_START
31343 00006864 4F22                   M           STS.L   PR,@-R15                ;[必要]
31344                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31345 00006866 D005             10068             MOV.L   #_POS_FRQ_SPDMAX,R0                             ;500KHZ(500000PLS/S)
31346 00006868 6102             10069             MOV.L   @R0,R1                                          ;
31347 0000686A D005             10070             MOV.L   #_POS_LSI_SPDMAX,R0                             ;FFFF
31348 0000686C 6402             10071             MOV.L   @R0,R4                                          ;
31349 0000686E 6043             10072             MOV     R4,R0                                           ;
31350                           10073     ;;      ADD     #-1,R0                                          ;
31351                           10074     ;;      ADD     R0,R2                                           ;切上
31352                           10075             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
31353 00006870 D004                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31354 00006872 400B                   M           JSR     @R0                     ;
31355 00006874 0009                   M           NOP                                     ;
31356                           10076     
31357                           10077             SUB_END
31358                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31359 00006876 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31360                           10078             M_RTS
31361 00006878 000B                   M           RTS                             ;RTSの後ろの
31362 0000687A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31363                           10079     
31364                           10080     
31365                           10081     
31366                           10082     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   453
PROGRAM NAME =

31367                           10083     ;       ***********************************
31368                           10084     ;       ***                             ***
31369                           10085     ;       ***     起動コマンド            ***
31370                           10086     ;       ***                             ***
31371                           10087     ;       ***********************************
31372                                     ***** BEGIN-POOL *****
31373 0000687C 00000000                   DATA FOR SOURCE-LINE 10068
31374 00006880 00000000                   DATA FOR SOURCE-LINE 10070
31375 00006884 00000000                   DATA FOR SOURCE-LINE 10075
31376                                     ***** END-POOL *****
31377 00006888                  10088             .ALIGN  4                               ;
31378 00006888                  10089     _SPD_CTL_START
31379                           10090             SUB_START
31380 00006888 4F22                   M           STS.L   PR,@-R15                ;[必要]
31381                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31382                           10091     
31383 0000688A 900F             10092             MOV.W   #1,R0                                                           ;
31384                           10093             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1       ;
31385 0000688C D108                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
31386 0000688E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
31387                           10094     
31388 00006890 D108             10095             MOV.L   #_POSCTL_STEP_FLG,R1                                            ;//0(IDLE)
                                           BIT0:起動 BIT6:END
31389 00006892 6011             10096             MOV.W   @R1,R0                                                          ;
31390 00006894 C801             10097             TST     #BIT0,R0                                                        ;
31391                           10098             TST_BIT_OF SPD_CTL_ST100                                                ;
31392 00006896 8903                   M           BT      SPD_CTL_ST100
31393                           10099             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_CALC_ERR,LG=W,BIT=BIT0,WKREG=R1     ;
31394 00006898 D107                   M           MOV.L   #_POSCTL_CALC_ERR,R1            ;
31395 0000689A 6011                   M           MOV.W   @R1,R0          ;
31396 0000689C CB01                   M           OR      #BIT0,R0                ;
31397 0000689E 2101                   M           MOV.W   R0,@R1          ;
31398 000068A0                  10100     SPD_CTL_ST100
31399 000068A0 200A             10101             XOR     R0,R0                   ;
31400                           10102             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_FLG,L1=W,DT_REG=R0,WKREG1=R1
31401 000068A2 D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1    ;DST_ADR
31402 000068A4 2101                   M           MOV.W   R0,@R1  ;DST_ADR
31403                           10103     
31404                           10104             SUB_END
31405                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31406 000068A6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31407                           10105             M_RTS
31408 000068A8 000B                   M           RTS                             ;RTSの後ろの
31409 000068AA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31410                           10106     
31411                           10107     ;       -------------------------------------------
31412                           10108     ;       ---                                     ---
31413                           10109     ;       -------------------------------------------
31414                           10110     ;       ***********************************
31415                           10111     ;       ***                             ***
31416                           10112     ;       ***     EMG停止コマンド         ***
31417                           10113     ;       ***                             ***
31418                           10114     ;       ***********************************
31419                                     ***** BEGIN-POOL *****
31420 000068AC 0001                       DATA FOR SOURCE-LINE 10092
31421 000068AE 0000                       ALIGNMENT CODE
31422 000068B0 00000000                   DATA FOR SOURCE-LINE 10093
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   454
PROGRAM NAME =

31423 000068B4 00000000                   DATA FOR SOURCE-LINE 10095,10102
31424 000068B8 00000000                   DATA FOR SOURCE-LINE 10099
31425                                     ***** END-POOL *****
31426 000068BC                  10115             .ALIGN  4                               ;
31427 000068BC                  10116     _SPD_CTL_EMG_STOP
31428                           10117             SUB_START
31429 000068BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
31430                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31431 000068BE 9004             10118             MOV.W   #3,R0                                                           ;0:EMG
31432                           10119             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1       ;
31433 000068C0 D102                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
31434 000068C2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
31435                           10120             SUB_END
31436                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31437 000068C4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31438                           10121             M_RTS
31439 000068C6 000B                   M           RTS                             ;RTSの後ろの
31440 000068C8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31441                           10122     
31442                           10123     ;       -------------------------------------------
31443                           10124     ;       ---                                     ---
31444                           10125     ;       -------------------------------------------
31445                           10126     ;       ***********************************
31446                           10127     ;       ***                             ***
31447                           10128     ;       ***     SLOW停止コマンド        ***
31448                           10129     ;       ***                             ***
31449                           10130     ;       ***********************************
31450                                     ***** BEGIN-POOL *****
31451 000068CA 0003                       DATA FOR SOURCE-LINE 10118
31452 000068CC 00000000                   DATA FOR SOURCE-LINE 10119
31453                                     ***** END-POOL *****
31454 000068D0                  10131             .ALIGN  4                               ;
31455 000068D0                  10132     _SPD_CTL_SLOW_STOP
31456                           10133             SUB_START
31457 000068D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
31458                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31459 000068D2 9004             10134             MOV.W   #2,R0                                                           ;2:SLOW
31460                           10135             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1       ;
31461 000068D4 D102                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
31462 000068D6 2101                   M           MOV.W   R0,@R1  ;DST_ADR
31463                           10136             SUB_END
31464                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31465 000068D8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31466                           10137             M_RTS
31467 000068DA 000B                   M           RTS                             ;RTSの後ろの
31468 000068DC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31469                           10138     
31470                           10139     
31471                           10140     ;       ***********************************************************
31472                           10141     ;       ***                                                     ***
31473                           10142     ;       ***                                                     ***
31474                           10143     ;       ***                     前回I/F                         ***
31475                           10144     ;       ***                                                     ***
31476                           10145     ;       ***                                                     ***
31477                           10146     ;       ***********************************************************
31478                           10147     ;       *******************************************
31479                           10148     ;       ***     トップ周波数    起動            ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   455
PROGRAM NAME =

31480                           10149     ;       *******************************************
31481                           10150     ;       65535へ正規化または7FFFへ正規化
31482                           10151     ;       Input R2:
31483                                     ***** BEGIN-POOL *****
31484 000068DE 0002                       DATA FOR SOURCE-LINE 10134
31485 000068E0 00000000                   DATA FOR SOURCE-LINE 10135
31486                                     ***** END-POOL *****
31487 000068E4                  10152             .ALIGN  4                               ;
31488 000068E4                  10153     _POS_LSI_TOP_SPEED_SET:
31489                           10154             SUB_START
31490 000068E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
31491                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31492                           10155             FAR_JSR #_PLS_LSI_CTL_SPDINI,R0
31493 000068E6 D003                   M           MOV.L   #_PLS_LSI_CTL_SPDINI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31494 000068E8 400B                   M           JSR     @R0                     ;
31495 000068EA 0009                   M           NOP                                     ;
31496                           10156             SUB_END
31497                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31498 000068EC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31499                           10157             M_RTS
31500 000068EE 000B                   M           RTS                             ;RTSの後ろの
31501 000068F0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31502                           10158     
31503                           10159     ;       *******************************************
31504                           10160     ;       ***     トップ周波数    速度可変        ***
31505                           10161     ;       *******************************************
31506                                     ***** BEGIN-POOL *****
31507 000068F2 0000                       ALIGNMENT CODE
31508 000068F4 00000000                   DATA FOR SOURCE-LINE 10155
31509                                     ***** END-POOL *****
31510 000068F8                  10162             .ALIGN  4                               ;
31511 000068F8                  10163     _POS_LSI_TOP_SPEED_SETX:
31512                           10164             SUB_START
31513 000068F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
31514                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31515                           10165             FAR_JSR #_PLS_LSI_CTL_SPDCNT,R0
31516 000068FA D003                   M           MOV.L   #_PLS_LSI_CTL_SPDCNT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31517 000068FC 400B                   M           JSR     @R0                     ;
31518 000068FE 0009                   M           NOP                                     ;
31519                           10166             SUB_END
31520                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31521 00006900 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31522                           10167             M_RTS
31523 00006902 000B                   M           RTS                             ;RTSの後ろの
31524 00006904 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31525                           10168     
31526                           10169     ;       ***********************************
31527                           10170     ;       ***     ベース周波数            ***
31528                           10171     ;       ***********************************
31529                           10172     ;       (1回だけ)
31530                                     ***** BEGIN-POOL *****
31531 00006906 0000                       ALIGNMENT CODE
31532 00006908 00000000                   DATA FOR SOURCE-LINE 10165
31533                                     ***** END-POOL *****
31534 0000690C                  10173             .ALIGN  4                               ;
31535 0000690C                  10174     _POS_LSI_BAS_SPEED_SET:
31536                           10175             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   456
PROGRAM NAME =

31537 0000690C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31538                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31539                           10176             MEM_MOV_TO_MEM  _SET_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3 ;
31540 0000690E D103                   M           MOV.L   #_SET_SPDBAS_PLS,R1
31541 00006910 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31542 00006912 D303                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
31543 00006914 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31544                           10177             SUB_END
31545                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31546 00006916 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31547                           10178             M_RTS
31548 00006918 000B                   M           RTS                             ;RTSの後ろの
31549 0000691A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31550                           10179     
31551                           10180     ;       *******************************************
31552                           10181     ;       ***     ベース周波数(HAIF-CLOSE)        ***
31553                           10182     ;       *******************************************
31554                           10183             .EXPORT _POS_LSI_CLS_BAS_SPD_SET
31555                                     ***** BEGIN-POOL *****
31556 0000691C 00000000                   DATA FOR SOURCE-LINE 10176
31557 00006920 00000000                   DATA FOR SOURCE-LINE 10176
31558                                     ***** END-POOL *****
31559 00006924                  10184             .ALIGN  4                               ;
31560 00006924                  10185     _POS_LSI_CLS_BAS_SPD_SET:
31561                           10186             SUB_START
31562 00006924 4F22                   M           STS.L   PR,@-R15                ;[必要]
31563                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31564                           10187             MEM_MOV_TO_MEM  _SET_CLS_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3     ;
31565 00006926 D103                   M           MOV.L   #_SET_CLS_SPDBAS_PLS,R1
31566 00006928 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31567 0000692A D303                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
31568 0000692C 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31569                           10188             SUB_END
31570                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31571 0000692E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31572                           10189             M_RTS
31573 00006930 000B                   M           RTS                             ;RTSの後ろの
31574 00006932 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31575                           10190     
31576                           10191     
31577                           10192     
31578                           10193     ;       ***********************************
31579                           10194     ;       ***     ベース周波数            ***
31580                           10195     ;       ***********************************
31581                           10196     ;       2013-06-13
31582                           10197             .EXPORT _POS_LSI_TEP_BAS_SPEED_SET
31583                                     ***** BEGIN-POOL *****
31584 00006934 00000000                   DATA FOR SOURCE-LINE 10187
31585 00006938 00000000                   DATA FOR SOURCE-LINE 10187
31586                                     ***** END-POOL *****
31587 0000693C                  10198             .ALIGN  4                               ;
31588 0000693C                  10199     _POS_LSI_TEP_BAS_SPEED_SET:
31589                           10200             SUB_START
31590 0000693C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31591                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31592                           10201             MEM_MOV_TO_MEM  _TEP_MIN_SPD_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3        ;
31593 0000693E D103                   M           MOV.L   #_TEP_MIN_SPD_PLS,R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   457
PROGRAM NAME =

31594 00006940 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31595 00006942 D303                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
31596 00006944 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31597                           10202             SUB_END
31598                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31599 00006946 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31600                           10203             M_RTS
31601 00006948 000B                   M           RTS                             ;RTSの後ろの
31602 0000694A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31603                           10204     
31604                           10205     
31605                           10206     
31606                           10207     ;
31607                           10208     ;       *******************************************
31608                           10209     ;       ***     トップSPEED=自起動=ｲﾝﾁﾝｸﾞ       ***
31609                           10210     ;       *******************************************
31610                           10211     ;       65535へ正規化または7FFFへ正規化
31611                           10212     ;       Input R2:
31612                           10213             .EXPORT _POS_LSI_CLS_TOP_EQ_BAS_SET1
31613                                     ***** BEGIN-POOL *****
31614 0000694C 00000000                   DATA FOR SOURCE-LINE 10201
31615 00006950 00000000                   DATA FOR SOURCE-LINE 10201
31616                                     ***** END-POOL *****
31617 00006954                  10214             .ALIGN  4                               ;
31618 00006954                  10215     _POS_LSI_CLS_TOP_EQ_BAS_SET1:
31619                           10216             SUB_START
31620 00006954 4F22                   M           STS.L   PR,@-R15                ;[必要]
31621                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31622                           10217             MEM_MOV_TO_MEM  _SET_CLS_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3     ;
31623 00006956 D106                   M           MOV.L   #_SET_CLS_SPDBAS_PLS,R1
31624 00006958 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31625 0000695A D306                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
31626 0000695C 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31627 0000695E D105             10218             MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
31628 00006960 6212             10219             MOV.L   @R1,R2                          ;
31629                           10220             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R0
31630 00006962 D005                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31631 00006964 400B                   M           JSR     @R0                     ;
31632 00006966 0009                   M           NOP                                     ;
31633                           10221             SUB_END
31634                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31635 00006968 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31636                           10222             M_RTS
31637 0000696A 000B                   M           RTS                             ;RTSの後ろの
31638 0000696C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31639                           10223     
31640                           10224             .EXPORT _POS_LSI_CLS_TOP_EQ_BAS_SET2
31641                                     ***** BEGIN-POOL *****
31642 0000696E 0000                       ALIGNMENT CODE
31643 00006970 00000000                   DATA FOR SOURCE-LINE 10217
31644 00006974 00000000                   DATA FOR SOURCE-LINE 10217,10218
31645 00006978 00000000                   DATA FOR SOURCE-LINE 10220
31646                                     ***** END-POOL *****
31647 0000697C                  10225             .ALIGN  4                               ;
31648 0000697C                  10226     _POS_LSI_CLS_TOP_EQ_BAS_SET2:
31649                           10227             SUB_START
31650 0000697C 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   458
PROGRAM NAME =

31651                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31652                           10228             MEM_MOV_TO_MEM  _SET_CLSINC_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3  ;
31653 0000697E D106                   M           MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1
31654 00006980 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31655 00006982 D306                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
31656 00006984 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31657 00006986 D105             10229             MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
31658 00006988 6212             10230             MOV.L   @R1,R2                          ;
31659                           10231             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R0
31660 0000698A D005                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31661 0000698C 400B                   M           JSR     @R0                     ;
31662 0000698E 0009                   M           NOP                                     ;
31663                           10232     
31664                           10233             SUB_END
31665                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31666 00006990 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31667                           10234             M_RTS
31668 00006992 000B                   M           RTS                             ;RTSの後ろの
31669 00006994 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31670                           10235     
31671                           10236     ;       ***********************************
31672                           10237     ;       ***     通常加減速              ***
31673                           10238     ;       ***********************************
31674                           10239     ;       (1回だけ):加速度
31675                                     ***** BEGIN-POOL *****
31676 00006996 0000                       ALIGNMENT CODE
31677 00006998 00000000                   DATA FOR SOURCE-LINE 10228
31678 0000699C 00000000                   DATA FOR SOURCE-LINE 10228,10229
31679 000069A0 00000000                   DATA FOR SOURCE-LINE 10231
31680                                     ***** END-POOL *****
31681 000069A4                  10240             .ALIGN  4                               ;
31682 000069A4                  10241     _POS_LSI_ACC1_SET:
31683                           10242             SUB_START
31684 000069A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
31685                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31686 000069A6 D003             10243             MOV.L   #_POS_LSI_ACCLT1,R0             ;
31687 000069A8 6201             10244             MOV.W   @R0,R2
31688 000069AA D603             10245             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_AccLate1,R6        ;
31689 000069AC 2621             10246             MOV.W   R2,@R6                                          ;
31690                           10247             SUB_END
31691                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31692 000069AE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31693                           10248             M_RTS
31694 000069B0 000B                   M           RTS                             ;RTSの後ろの
31695 000069B2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31696                           10249     
31697                           10250     ;       ***********************************
31698                           10251     ;       ***     急停止加減速            ***
31699                           10252     ;       ***********************************
31700                           10253     ;       (1回だけ):加速度
31701                                     ***** BEGIN-POOL *****
31702 000069B4 00000000                   DATA FOR SOURCE-LINE 10243
31703 000069B8 00000000                   DATA FOR SOURCE-LINE 10245
31704                                     ***** END-POOL *****
31705 000069BC                  10254             .ALIGN  4                               ;
31706 000069BC                  10255     _POS_LSI_ACC2_SET:
31707                           10256             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   459
PROGRAM NAME =

31708 000069BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
31709                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31710 000069BE D003             10257             MOV.L   #_POS_LSI_ACCLT2,R0
31711 000069C0 6201             10258             MOV.W   @R0,R2
31712 000069C2 D603             10259             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_AccLate2,R6        ;
31713 000069C4 2621             10260             MOV.W   R2,@R6                                          ;
31714                           10261             SUB_END
31715                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31716 000069C6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31717                           10262             M_RTS
31718 000069C8 000B                   M           RTS                             ;RTSの後ろの
31719 000069CA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31720                           10263     
31721                           10264     ;       ***********************************
31722                           10265     ;       ***     速度LATE                ***
31723                           10266     ;       ***********************************
31724                           10267     ;       (1回だけ):
31725                                     ***** BEGIN-POOL *****
31726 000069CC 00000000                   DATA FOR SOURCE-LINE 10257
31727 000069D0 00000000                   DATA FOR SOURCE-LINE 10259
31728                                     ***** END-POOL *****
31729 000069D4                  10268             .ALIGN  4                               ;
31730 000069D4                  10269     _POS_LSI_SPDLATE_SET:
31731                           10270             SUB_START
31732 000069D4 4F22                   M           STS.L   PR,@-R15                ;[必要]
31733                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31734 000069D6 D003             10271             MOV.L   #_POS_LSI_SPDLAT,R0                             ;
31735 000069D8 6201             10272             MOV.W   @R0,R2
31736 000069DA D603             10273             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_SpedLate,R6        ;
31737 000069DC 2621             10274             MOV.W   R2,@R6                                          ;
31738                           10275             SUB_END
31739                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31740 000069DE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31741                           10276             M_RTS
31742 000069E0 000B                   M           RTS                             ;RTSの後ろの
31743 000069E2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31744                           10277     
31745                           10278     
31746                           10279     
31747                           10280     
31748                           10281     
31749                           10282     ;       ***********************************
31750                           10283     ;       ***                             ***
31751                           10284     ;       ***     REAL TIME MONITOR       ***
31752                           10285     ;       ***                             ***
31753                           10286     ;       ***********************************
31754                           10287     ;       ============== 20060919 DBG=====================
31755                           10288             .GLOBAL         _SH_POSCTL_SV_SPD       ;.SRES  4*2     ;[+0:SH4 +4:SH2]
31756                           10289             .GLOBAL         _SH_POSCTL_RL_SPD       ;.SRES  4*2     ;[+0:SH4 +4:SH2]
31757                           10290             .GLOBAL         _SH_POSCTL_ACC          ;.SRES  4*2     ;
31758                           10291             .GLOBAL         _SH_POSCTL_OFS          ;.SRES  4*2     ;
31759                           10292             .GLOBAL         _SH_POSCTL_SV_ABSPLS    ;.SRES  8*2     ;
31760                           10293             .GLOBAL         _SH_POSCTL_RL_ABSPLS    ;.SRES  8*2     ;
31761                           10294             .GLOBAL         _SH_POSCTL_PV_ABSPLS    ;.SRES  8*2     ;
31762                           10295             .GLOBAL         _SH_POSCTL_REST_PLS     ;.SRES  4*2     ;
31763                           10296             .GLOBAL         _SH_POSCTL_CAL_REST     ;.SRES  4*2     ;演算(SV-PV)
31764                           10297             .GLOBAL         _SH_POSCTL_HENSA        ;.SRES  4*2     ;演算(SV-PV)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   460
PROGRAM NAME =

31765                           10298             .GLOBAL         _SH_POSCTL_LSIFREQ      ;.SRES  4*2     ;LSI
31766                           10299     
31767                           10300             .AIF    0 EQ    0
31768                                 C   ***** BEGIN-POOL *****
31769 000069E4 00000000               C   DATA FOR SOURCE-LINE 10271
31770 000069E8 00000000               C   DATA FOR SOURCE-LINE 10273
31771                                 C   ***** END-POOL *****
31772          00000000         10301 C   _SH_2B  .EQU    0
31773          00000000         10302 C   _SH_4B  .EQU    0
31774          00000000         10303 C   _SH_8B  .EQU    0
31775                           10304             .AELSE
31776                           10305     _SH_2B  .EQU    2
31777                           10306     _SH_4B  .EQU    4
31778                           10307     _SH_8B  .EQU    8
31779                           10308             .AENDI
31780                           10309     
31781                           10310     
31782                           10311     
31783                           10312     
31784                           10313     
31785 000069EC                  10314             .ALIGN  4                               ;
31786 000069EC                  10315     _MONI_SEINOU_CMP_OUTPUT:
31787                           10316             SUB_START
31788 000069EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
31789                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31790                           10317     
31791                           10318     ;       設定速度
31792                           10319             MEM_MOV_TO_MEM  _POSCTL_SV_SPD,L        ,_SH_POSCTL_SV_SPD+_SH_4B       ,L,R1,R2,R
                                          3       ;[+0:SH4 +4:SH2]
31793 000069EE D12E                   M           MOV.L   #_POSCTL_SV_SPD,R1
31794 000069F0 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31795 000069F2 D32E                   M           MOV.L   #_SH_POSCTL_SV_SPD+_SH_4B,R3    ;DST_ADR
31796 000069F4 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31797                           10320     ;       制御速度
31798                           10321             MEM_MOV_TO_MEM  _POSCTL_RL_SPD,L        ,_SH_POSCTL_RL_SPD+_SH_4B       ,L,R1,R2,R
                                          3       ;[+0:SH4 +4:SH2]
31799 000069F6 D12E                   M           MOV.L   #_POSCTL_RL_SPD,R1
31800 000069F8 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31801 000069FA D32E                   M           MOV.L   #_SH_POSCTL_RL_SPD+_SH_4B,R3    ;DST_ADR
31802 000069FC 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31803                           10322             MEM_MOV_TO_MEM  _POSCTL_SV_UP_ACC,L     ,_SH_POSCTL_ACC+_SH_4B          ,L,R1,R2,R
                                          3       ;
31804 000069FE D12E                   M           MOV.L   #_POSCTL_SV_UP_ACC,R1
31805 00006A00 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31806 00006A02 D32E                   M           MOV.L   #_SH_POSCTL_ACC+_SH_4B,R3       ;DST_ADR
31807 00006A04 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31808                           10323             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L    ,_SH_POSCTL_OFS+_SH_4B          ,L,R1,R2,R
                                          3       ;
31809 00006A06 D12E                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
31810 00006A08 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31811 00006A0A D32E                   M           MOV.L   #_SH_POSCTL_OFS+_SH_4B,R3       ;DST_ADR
31812 00006A0C 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31813                           10324             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS,L   ,_SH_POSCTL_REST_PLS+_SH_4B     ,L,R1,R2,R
                                          3       ;
31814 00006A0E D12E                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
31815 00006A10 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31816 00006A12 D32E                   M           MOV.L   #_SH_POSCTL_REST_PLS+_SH_4B,R3  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   461
PROGRAM NAME =

31817 00006A14 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31818                           10325     
31819                           10326     ;       目標位置
31820 00006A16 D42E             10327             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;LINKX_SV_OBJ_ABSP
                                          LSの場合があるかも
31821 00006A18 6146             10328             MOV.L   @R4+,R1                                                 ;
31822 00006A1A 6242             10329             MOV.L   @R4,R2                                                  ;
31823 00006A1C D42D             10330             MOV.L   #_SH_POSCTL_SV_ABSPLS+_SH_8B,R4                         ;
31824 00006A1E 1410             10331             MOV.L   R1,@(0,R4)
31825 00006A20 1421             10332             MOV.L   R2,@(4,R4)
31826                           10333     
31827                           10334     ;       ﾘｱﾙﾀｲﾑ目標位置
31828 00006A22 D42D             10335             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                                 ;
31829 00006A24 6546             10336             MOV.L   @R4+,R5                                                                 ;
31830 00006A26 6642             10337             MOV.L   @R4,R6                                                                  ;
31831 00006A28 D42C             10338             MOV.L   #_SH_POSCTL_RL_ABSPLS+_SH_8B,R4                                         ;[
                                          CPUB側で使用する2014-11-07]
31832 00006A2A 1450             10339             MOV.L   R5,@(0,R4)                                                              ;
31833 00006A2C 1461             10340             MOV.L   R6,@(4,R4)                                                              ;
31834                           10341             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2                       ;
31835 00006A2E 0008                   M           CLRT
31836 00006A30 326A                   M           SUBC    R6,R2
31837 00006A32 315A                   M           SUBC    R5,R1
31838                           10342             REG_MOV_TO_MEM  DST_ADR=_SH_POSCTL_CAL_REST+_SH_4B,L1=L,DT_REG=R2,WKREG1=R1     ;
31839 00006A34 D12A                   M           MOV.L   #_SH_POSCTL_CAL_REST+_SH_4B,R1  ;DST_ADR
31840 00006A36 2122                   M           MOV.L   R2,@R1  ;DST_ADR
31841                           10343     
31842                           10344     ;       実測位置
31843 00006A38 D42A             10345             MOV.L   #_LINK_PV_ABSPLS,R4                                                     ;
31844 00006A3A 6146             10346             MOV.L   @R4+,R1                                                                 ;
31845 00006A3C 6242             10347             MOV.L   @R4,R2                                                                  ;
31846 00006A3E D42A             10348             MOV.L   #_SH_POSCTL_PV_ABSPLS+_SH_8B,R4                                         ;
31847 00006A40 1410             10349             MOV.L   R1,@(0,R4)                                                              ;
31848 00006A42 1421             10350             MOV.L   R2,@(4,R4)                                                              ;
31849                           10351             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6                       ;
31850 00006A44 0008                   M           CLRT
31851 00006A46 362A                   M           SUBC    R2,R6
31852 00006A48 351A                   M           SUBC    R1,R5
31853                           10352             REG_MOV_TO_MEM  DST_ADR=_SH_POSCTL_HENSA+_SH_4B,L1=L,DT_REG=R6,WKREG1=R1        ;
31854 00006A4A D128                   M           MOV.L   #_SH_POSCTL_HENSA+_SH_4B,R1     ;DST_ADR
31855 00006A4C 2162                   M           MOV.L   R6,@R1  ;DST_ADR
31856                           10353     
31857                           10354             FAR_JSR #_LOAD_NOW_FREQ_PLS,R0                                                  ;
31858 00006A4E D028                   M           MOV.L   #_LOAD_NOW_FREQ_PLS,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31859 00006A50 400B                   M           JSR     @R0                     ;
31860 00006A52 0009                   M           NOP                                     ;
31861                           10355             REG_MOV_TO_MEM  DST_ADR=_SH_POSCTL_LSIFREQ+_SH_4B,L1=L,DT_REG=R0,WKREG1=R1      ;
31862 00006A54 D127                   M           MOV.L   #_SH_POSCTL_LSIFREQ+_SH_4B,R1   ;DST_ADR
31863 00006A56 2102                   M           MOV.L   R0,@R1  ;DST_ADR
31864                           10356     
31865                           10357     
31866                           10358     ;       ------------------- 2007-03-02--------------------
31867                           10359             .GLOBAL         _SH_SQ200_IN            ;
31868                           10360             .GLOBAL         _SH_CNTSTOP_FLG         ;
31869 00006A58 D127             10361             MOV.L   #_di1_cb_ctl1_dt,R1                     ;// ﾚﾍﾞﾙﾃﾞ-ﾀ
31870 00006A5A 6211             10362             MOV.W   @R1,R2                                  ;
31871 00006A5C 9422             10363             MOV.W   #(BIT11+BIT10+BIT9+BIT8),R4             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   462
PROGRAM NAME =

31872 00006A5E 6447             10364             NOT     R4,R4                                   ;
31873 00006A60 2249             10365             AND     R4,R2                                   ;
31874                           10366     
31875 00006A62 D126             10367             MOV.L   #_BTTN_FLG,R1                           ;
31876 00006A64 6011             10368             MOV.W   @R1,R0                                  ;BIT8,9,10,11
31877 00006A66 4018             10369             SHLL8   R0                                      ;BIT8,9,10
31878 00006A68 220B             10370             OR      R0,R2                                   ;
31879 00006A6A 941C             10371             MOV.W   #BIT7,R4                        ;
31880 00006A6C 6447             10372             NOT     R4,R4                                   ;
31881 00006A6E 2249             10373             AND     R4,R2                                   ;
31882                           10374     
31883 00006A70 D123             10375             MOV.L   #_CNT_STOP_CMD,R1                       ;
31884 00006A72 6011             10376             MOV.W   @R1,R0                                  ;
31885 00006A74 2008             10377             TST     R0,R0                                   ;
31886                           10378             TST_BIT_OF MONI_DI_CHK_050                      ;
31887 00006A76 8901                   M           BT      MONI_DI_CHK_050
31888 00006A78 9415             10379             MOV.W   #BIT7,R4                                ;
31889 00006A7A 224B             10380             OR      R4,R2                                   ;
31890 00006A7C                  10381     MONI_DI_CHK_050:
31891                           10382             REG_MOV_TO_MEM  DST_ADR=_SH_SQ200_IN+_SH_2B,L1=W,DT_REG=R2,WKREG1=R1    ;
31892 00006A7C D121                   M           MOV.L   #_SH_SQ200_IN+_SH_2B,R1 ;DST_ADR
31893 00006A7E 2121                   M           MOV.W   R2,@R1  ;DST_ADR
31894                           10383     
31895                           10384     
31896 00006A80 D121             10385             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
31897 00006A82 6011             10386             MOV.W   @R1,R0                          ;IN
31898 00006A84 C901             10387             AND     #BIT0,R0                        ;
31899 00006A86 4000             10388             SHLL    R0
31900 00006A88 6203             10389             MOV     R0,R2                           ;
31901                           10390     
31902 00006A8A D120             10391             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
31903 00006A8C 6011             10392             MOV.W   @R1,R0                          ;LATCH
31904 00006A8E C901             10393             AND     #BIT0,R0                        ;
31905 00006A90 220B             10394             OR      R0,R2                           ;
31906                           10395             REG_MOV_TO_MEM  DST_ADR=_SH_CNTSTOP_FLG+_SH_2B,L1=W,DT_REG=R2,WKREG1=R1 ;
31907 00006A92 D11F                   M           MOV.L   #_SH_CNTSTOP_FLG+_SH_2B,R1      ;DST_ADR
31908 00006A94 2121                   M           MOV.W   R2,@R1  ;DST_ADR
31909                           10396     
31910                           10397             .IMPORT _SH_OUTPLS_DELT
31911 00006A96 D11F             10398             MOV.L   #_OUTPLS_DELT,R1                        ;
31912 00006A98 6211             10399             MOV.W   @R1,R2
31913                           10400             REG_MOV_TO_MEM  DST_ADR=_SH_OUTPLS_DELT+_SH_2B,L1=W,DT_REG=R2,WKREG1=R1 ;
31914 00006A9A D11F                   M           MOV.L   #_SH_OUTPLS_DELT+_SH_2B,R1      ;DST_ADR
31915 00006A9C 2121                   M           MOV.W   R2,@R1  ;DST_ADR
31916                           10401     
31917                           10402             SUB_END
31918                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31919 00006A9E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31920                           10403             M_RTS
31921 00006AA0 000B                   M           RTS                             ;RTSの後ろの
31922 00006AA2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31923                           10404     
31924                           10405     
31925                           10406     
31926                           10407     
31927                           10408     ;       *******************************************
31928                           10409     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   463
PROGRAM NAME =

31929                           10410     ;       ***                                     ***
31930                           10411     ;       ***                                     ***
31931                           10412     ;       *******************************************
31932                                     ***** BEGIN-POOL *****
31933 00006AA4 0F00                       DATA FOR SOURCE-LINE 10363
31934 00006AA6 0080                       DATA FOR SOURCE-LINE 10371,10379
31935 00006AA8 00000000                   DATA FOR SOURCE-LINE 10319
31936 00006AAC 00000000                   DATA FOR SOURCE-LINE 10319
31937 00006AB0 00000000                   DATA FOR SOURCE-LINE 10321
31938 00006AB4 00000000                   DATA FOR SOURCE-LINE 10321
31939 00006AB8 00000000                   DATA FOR SOURCE-LINE 10322
31940 00006ABC 00000000                   DATA FOR SOURCE-LINE 10322
31941 00006AC0 00000000                   DATA FOR SOURCE-LINE 10323
31942 00006AC4 00000000                   DATA FOR SOURCE-LINE 10323
31943 00006AC8 00000000                   DATA FOR SOURCE-LINE 10324
31944 00006ACC 00000000                   DATA FOR SOURCE-LINE 10324
31945 00006AD0 00000000                   DATA FOR SOURCE-LINE 10327
31946 00006AD4 00000000                   DATA FOR SOURCE-LINE 10330
31947 00006AD8 00000000                   DATA FOR SOURCE-LINE 10335
31948 00006ADC 00000000                   DATA FOR SOURCE-LINE 10338
31949 00006AE0 00000000                   DATA FOR SOURCE-LINE 10342
31950 00006AE4 00000000                   DATA FOR SOURCE-LINE 10345
31951 00006AE8 00000000                   DATA FOR SOURCE-LINE 10348
31952 00006AEC 00000000                   DATA FOR SOURCE-LINE 10352
31953 00006AF0 00000000                   DATA FOR SOURCE-LINE 10354
31954 00006AF4 00000000                   DATA FOR SOURCE-LINE 10355
31955 00006AF8 00000000                   DATA FOR SOURCE-LINE 10361
31956 00006AFC 00000000                   DATA FOR SOURCE-LINE 10367
31957 00006B00 00000000                   DATA FOR SOURCE-LINE 10375
31958 00006B04 00000000                   DATA FOR SOURCE-LINE 10382
31959 00006B08 00000000                   DATA FOR SOURCE-LINE 10385
31960 00006B0C 00000000                   DATA FOR SOURCE-LINE 10391
31961 00006B10 00000000                   DATA FOR SOURCE-LINE 10395
31962 00006B14 00000000                   DATA FOR SOURCE-LINE 10398
31963 00006B18 00000000                   DATA FOR SOURCE-LINE 10400
31964                                     ***** END-POOL *****
31965 00006B1C                  10413             .ALIGN  4                               ;
31966 00006B1C                  10414     _RL_POS_DATA_CHK:
31967                           10415             SUB_START
31968 00006B1C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31969                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31970 00006B1E D40B             10416             MOV.L   #_MONI_CPUAB_PLSDELT,R4
31971                           10417             .AIF    0 EQ    0
31972 00006B20 D70B             10418 C           MOV.L   #_SH_POSCTL_RL_ABSPLS+0,R7                      ;自分
31973 00006B22 D90C             10419 C           MOV.L   #_SH_POSCTL_RL_ABSPLS+8,R9                      ;相手
31974                           10420             .AELSE
31975                           10421             MOV.L   #_SH_POSCTL_RL_ABSPLS+0,R9                      ;相手
31976                           10422             MOV.L   #_SH_POSCTL_RL_ABSPLS+8,R7                      ;自分
31977                           10423             .AENDI
31978                           10424     
31979 00006B24                  10425     RL_POSDTCHK_SECOND_RD:
31980 00006B24 5590             10426             MOV.L   @(0,R9),R5                                              ;
31981 00006B26 5691             10427             MOV.L   @(4,R9),R6                                              ;
31982 00006B28 5190             10428             MOV.L   @(0,R9),R1                                              ;
31983 00006B2A 5291             10429             MOV.L   @(4,R9),R2                                              ;
31984 00006B2C 3510             10430             CMP/EQ  R1,R5                                                   ;相手
31985 00006B2E 8BF9             10431             BF      RL_POSDTCHK_SECOND_RD
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   464
PROGRAM NAME =

31986 00006B30 3620             10432             CMP/EQ  R2,R6                                                   ;
31987 00006B32 8BF7             10433             BF      RL_POSDTCHK_SECOND_RD
31988                           10434     
31989 00006B34 5370             10435             MOV.L   @(0,R7),R3                                              ;
31990 00006B36 5471             10436             MOV.L   @(4,R7),R4                                              ;
31991                           10437             SUB8B DT_REGH=R3,DT_REGL=R4,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2(相手-自分)
31992 00006B38 0008                   M           CLRT
31993 00006B3A 324A                   M           SUBC    R4,R2
31994 00006B3C 313A                   M           SUBC    R3,R1
31995                           10438     
31996 00006B3E D003             10439             MOV.L   #_MONI_CPUAB_PLSDELT,R0                                 ;相手-自分
31997 00006B40 1010             10440             MOV.L   R1,@(0,R0)
31998 00006B42 1021             10441             MOV.L   R2,@(4,R0)                                              ;
31999                           10442     
32000                           10443     
32001                           10444     
32002                           10445             SUB_END
32003                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32004 00006B44 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32005                           10446             M_RTS
32006 00006B46 000B                   M           RTS                             ;RTSの後ろの
32007 00006B48 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32008                           10447     
32009                           10448     ;       ***************************************************
32010                           10449     ;       ***                                             ***
32011                           10450     ;       ***             ためし                          ***
32012                           10451     ;       ***                                             ***
32013                           10452     ;       ***************************************************
32014                           10453     ;       Input R2
32015                                     ***** BEGIN-POOL *****
32016 00006B4A 0000                       ALIGNMENT CODE
32017 00006B4C 00000000                   DATA FOR SOURCE-LINE 10416,10439
32018 00006B50 00000000                   DATA FOR SOURCE-LINE 10418
32019 00006B54 00000000                   DATA FOR SOURCE-LINE 10419
32020                                     ***** END-POOL *****
32021 00006B58                  10454             .ALIGN  4                               ;
32022 00006B58                  10455     _CNT_HOSEI_CHK_CALC:
32023                           10456             SUB_START
32024 00006B58 4F22                   M           STS.L   PR,@-R15                ;[必要]
32025                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32026                           10457             .AIF    0 EQ    1                       ;ﾊﾟﾙｽ補正
32027                           10458             MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
32028                           10459             MOV.W   @R1,R0                          ;
32029                           10460             TST     R0,R0                           ;
32030                           10461             TST_BIT_ON CNT_HOSEI_CHKCAL_050         ;
32031                           10462             MOV.L   #_exq_err_flg,R1                ;//異常ﾗｯﾁ
32032                           10463             MOV.W   @R1,R0                          ;
32033                           10464             TST     R0,R0                           ;
32034                           10465             TST_BIT_ON CNT_HOSEI_CHKCAL_050                                 ;
32035                           10466     
32036                           10467             MOV.L   #_MODE_SEL,R1                                           ;
32037                           10468             MOV.W   @R1,R0                                                  ;
32038                           10469             TST     #_W1CNT,R0                                              ;
32039                           10470             TST_BIT_OF CNT_HOSEI_CHKCAL_050                                 ;
32040                           10471     
32041                           10472             MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
32042                           10473             MOV.W   @R1,R0                                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   465
PROGRAM NAME =

32043                           10474             TST     #BIT3,R0                                                ;
32044                           10475             TST_BIT_ON CNT_HOSEI_CHKCAL_100                                 ;VMODE
32045                           10476     CNT_HOSEI_CHKCAL_050:
32046                           10477             FAR_JSR #_CNTREST_HOS_RESET,R0                                  ;
32047                           10478             M_BRA   CNT_HOSEI_SPDSET_EXT                                    ;
32048                           10479     
32049                           10480     CNT_HOSEI_CHKCAL_100:
32050                           10481             MOV.L   #_MONI_CPUAB_PLSDELT,R0
32051                           10482             MOV.L   @(0,R0),R1                      ;(0or1)
32052                           10483             MOV.L   @(4,R0),R2                      ;
32053                           10484             MOV     R2,R3                           ;+/-
32054                           10485             CMP/PZ  R1                              ;+
32055                           10486             BT      CNT_HOSEI_CHKCAL_200            ;相手-自分
32056                           10487             NEG     R2,R2                           ;
32057                           10488     CNT_HOSEI_CHKCAL_200:                           ;
32058                           10489             FAR_JSR #_CNT_SYNC_HOS_SPD_TYP,R0       ;
32059                           10490     
32060                           10491     
32061                           10492     CNT_HOSEI_SPDSET_EXT:
32062                           10493             .AENDI
32063                           10494     
32064                           10495     
32065                           10496             SUB_END
32066                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32067 00006B5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32068                           10497             M_RTS
32069 00006B5C 000B                   M           RTS                             ;RTSの後ろの
32070 00006B5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32071                           10498     
32072                           10499     
32073                           10500     ;       *******************************************
32074                           10501     ;       ***                                     ***
32075                           10502     ;       ***                                     ***
32076                           10503     ;       ***                                     ***
32077                           10504     ;       *******************************************
32078                           10505     ;       HOS1 1000:1000~  1:7HZ
32079                           10506     ;       HOS1 2000:2000~  2:14HZ
32080                           10507     ;       HOS1 3000:3000~  4:28HZ
32081                           10508     ;       HOS1 4000:ERR
32082          00001F40         10509     _SYNC2_ERR_HABPLS1      .EQU    8000    ;16000
32083                           10510     
32084          0000012C         10511     _SYNC2_ERR_HOSHAB1      .EQU    300     ;
32085          00000190         10512     _SYNC2_ERR_HOSHAB2      .EQU    400     ;(100)
32086          000001F4         10513     _SYNC2_ERR_HOSHAB3      .EQU    500     ;(500)
32087          000003E8         10514     _SYNC2_ERR_HOSHAB4      .EQU    1000    ;(500)
32088          000005DC         10515     _SYNC2_ERR_HOSHAB5      .EQU    1500    ;(500)
32089          000007D0         10516     _SYNC2_ERR_HOSHAB6      .EQU    2000    ;(500)
32090          000009C4         10517     _SYNC2_ERR_HOSHAB7      .EQU    2500    ;(500)
32091                           10518     
32092                           10519     
32093          00000001         10520     _SYNC2_HOS_SPD1         .EQU    1       ;
32094          00000004         10521     _SYNC2_HOS_SPD2         .EQU    4       ;
32095          00000008         10522     _SYNC2_HOS_SPD3         .EQU    8       ;
32096          00000020         10523     _SYNC2_HOS_SPD4         .EQU    32      ;
32097          00000040         10524     _SYNC2_HOS_SPD5         .EQU    64      ;
32098          00000080         10525     _SYNC2_HOS_SPD6         .EQU    128     ;
32099          00000100         10526     _SYNC2_HOS_SPD7         .EQU    256     ;2000khz
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   466
PROGRAM NAME =

32100          00000200         10527     _SYNC2_HOS_SPD8         .EQU    512     ;2000khz 2006-10-28
32101                           10528     
32102 00006B60                  10529             .ALIGN  4                               ;
32103 00006B60                  10530     _CNT_SYNC_HOS_SPD_TYP:
32104                           10531             SUB_START
32105 00006B60 4F22                   M           STS.L   PR,@-R15                ;[必要]
32106                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32107                           10532     
32108 00006B62 D105             10533             MOV.L   #_CNT_SYNC_HOS_DAT2,R1          ;相手-自分
32109 00006B64 2132             10534             MOV.L   R3,@R1                          ;(+/-生ﾃﾞｰﾀ)
32110                           10535     
32111 00006B66 9105             10536             MOV.W   #_SYNC2_ERR_HABPLS1,R1          ;
32112 00006B68 3122             10537             CMP/HS  R2,R1                           ;
32113 00006B6A 8909             10538             BT      CNT_SYNCHOS_SPDTYP_080          ;
32114                           10539     
32115                           10540     ;       -------- 2006-10-23--
32116 00006B6C E401             10541             MOV     #BIT0,R4                        ;
32117 00006B6E D503             10542             MOV.L   #_SYNC2_HOS_SPD8,R5             ;MAX
32118                           10543             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
32119 00006B70 A049                   M           BRA     CNT_SYNCHOS_SPDTYP_400
32120 00006B72 0009                   M           NOP
32121                           10544     
32122                           10545     
32123                           10546     ;;;     MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_SYNC_ERR_FLG,LG=W,BIT=(BIT1+BIT0),WKREG=R1     ;S
                                          YNC_ERR
32124                           10547     ;;;
32125                           10548     ;;;     M_BRA   CNT_SYNCHOS_SPDTYP_EXT                                                  ;
32126                           10549     
32127                                     ***** BEGIN-POOL *****
32128 00006B74 1F40                       DATA FOR SOURCE-LINE 10536
32129 00006B76 0000                       ALIGNMENT CODE
32130 00006B78 00000000                   DATA FOR SOURCE-LINE 10533
32131 00006B7C 00000200                   DATA FOR SOURCE-LINE 10542
32132                                     ***** END-POOL *****
32133 00006B80                  10550     CNT_SYNCHOS_SPDTYP_080:
32134                           10551     
32135 00006B80 9105             10552             MOV.W   #_SYNC2_ERR_HOSHAB1,R1          ;
32136 00006B82 3216             10553             CMP/HI  R1,R2                           ;=<data1(1000)
32137 00006B84 8904             10554             BT      CNT_SYNCHOS_SPDTYP_200          ;R1(1000)<R2(PLS) JUMP
32138 00006B86                  10555     CNT_SYNCHOS_SPDTYP_100:
32139                           10556     ;       === 正常補正なし====
32140 00006B86 244A             10557             XOR     R4,R4                           ;FLG_BIT
32141 00006B88 255A             10558             XOR     R5,R5                           ;data
32142                           10559             M_BRA   CNT_SYNCHOS_SPDTYP_450          ;
32143 00006B8A A043                   M           BRA     CNT_SYNCHOS_SPDTYP_450
32144 00006B8C 0009                   M           NOP
32145                           10560     
32146                                     ***** BEGIN-POOL *****
32147 00006B8E 012C                       DATA FOR SOURCE-LINE 10552
32148                                     ***** END-POOL *****
32149 00006B90                  10561     CNT_SYNCHOS_SPDTYP_200:
32150 00006B90 9105             10562             MOV.W   #_SYNC2_ERR_HOSHAB2,R1          ;
32151 00006B92 3216             10563             CMP/HI  R1,R2                           ;=<data2(2000)
32152 00006B94 8905             10564             BT      CNT_SYNCHOS_SPDTYP_250          ;R1(2000)<R2(PLS) JUMP
32153 00006B96 E401             10565             MOV     #BIT0,R4                        ;
32154 00006B98 9502             10566             MOV.W   #_SYNC2_HOS_SPD1,R5
32155                           10567             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   467
PROGRAM NAME =

32156 00006B9A A034                   M           BRA     CNT_SYNCHOS_SPDTYP_400
32157 00006B9C 0009                   M           NOP
32158                           10568     
32159                                     ***** BEGIN-POOL *****
32160 00006B9E 0190                       DATA FOR SOURCE-LINE 10562
32161 00006BA0 0001                       DATA FOR SOURCE-LINE 10566
32162                                     ***** END-POOL *****
32163 00006BA2                  10569     CNT_SYNCHOS_SPDTYP_250:
32164 00006BA2 9105             10570             MOV.W   #_SYNC2_ERR_HOSHAB3,R1          ;
32165 00006BA4 3216             10571             CMP/HI  R1,R2                           ;=<data3(3000)
32166 00006BA6 8905             10572             BT      CNT_SYNCHOS_SPDTYP_300          ;R1(3000)<R2(PLS) JUMP
32167 00006BA8 E401             10573             MOV     #BIT0,R4                        ;
32168 00006BAA 9502             10574             MOV.W   #_SYNC2_HOS_SPD2,R5
32169                           10575             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
32170 00006BAC A02B                   M           BRA     CNT_SYNCHOS_SPDTYP_400
32171 00006BAE 0009                   M           NOP
32172                           10576     
32173                                     ***** BEGIN-POOL *****
32174 00006BB0 01F4                       DATA FOR SOURCE-LINE 10570
32175 00006BB2 0004                       DATA FOR SOURCE-LINE 10574
32176                                     ***** END-POOL *****
32177 00006BB4                  10577     CNT_SYNCHOS_SPDTYP_300:
32178                           10578     
32179 00006BB4 9105             10579             MOV.W   #_SYNC2_ERR_HOSHAB4,R1          ;
32180 00006BB6 3216             10580             CMP/HI  R1,R2                           ;=<data4(3000)
32181 00006BB8 8905             10581             BT      CNT_SYNCHOS_SPDTYP_310          ;R1(3000)<R2(PLS) JUMP
32182 00006BBA E401             10582             MOV     #BIT0,R4                        ;
32183 00006BBC 9502             10583             MOV.W   #_SYNC2_HOS_SPD3,R5
32184                           10584             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
32185 00006BBE A022                   M           BRA     CNT_SYNCHOS_SPDTYP_400
32186 00006BC0 0009                   M           NOP
32187                           10585     
32188                                     ***** BEGIN-POOL *****
32189 00006BC2 03E8                       DATA FOR SOURCE-LINE 10579
32190 00006BC4 0008                       DATA FOR SOURCE-LINE 10583
32191                                     ***** END-POOL *****
32192 00006BC6                  10586     CNT_SYNCHOS_SPDTYP_310:
32193 00006BC6 9105             10587             MOV.W   #_SYNC2_ERR_HOSHAB5,R1          ;
32194 00006BC8 3216             10588             CMP/HI  R1,R2                           ;=<data4(3000)
32195 00006BCA 8905             10589             BT      CNT_SYNCHOS_SPDTYP_320          ;R1(3000)<R2(PLS) JUMP
32196 00006BCC E401             10590             MOV     #BIT0,R4                        ;
32197 00006BCE 9502             10591             MOV.W   #_SYNC2_HOS_SPD4,R5
32198                           10592             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
32199 00006BD0 A019                   M           BRA     CNT_SYNCHOS_SPDTYP_400
32200 00006BD2 0009                   M           NOP
32201                           10593     
32202                                     ***** BEGIN-POOL *****
32203 00006BD4 05DC                       DATA FOR SOURCE-LINE 10587
32204 00006BD6 0020                       DATA FOR SOURCE-LINE 10591
32205                                     ***** END-POOL *****
32206 00006BD8                  10594     CNT_SYNCHOS_SPDTYP_320:
32207 00006BD8 9105             10595             MOV.W   #_SYNC2_ERR_HOSHAB6,R1          ;
32208 00006BDA 3216             10596             CMP/HI  R1,R2                           ;=<data4(3000)
32209 00006BDC 8905             10597             BT      CNT_SYNCHOS_SPDTYP_330          ;R1(3000)<R2(PLS) JUMP
32210 00006BDE E401             10598             MOV     #BIT0,R4                        ;
32211 00006BE0 9502             10599             MOV.W   #_SYNC2_HOS_SPD5,R5
32212                           10600             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   468
PROGRAM NAME =

32213 00006BE2 A010                   M           BRA     CNT_SYNCHOS_SPDTYP_400
32214 00006BE4 0009                   M           NOP
32215                           10601     
32216                                     ***** BEGIN-POOL *****
32217 00006BE6 07D0                       DATA FOR SOURCE-LINE 10595
32218 00006BE8 0040                       DATA FOR SOURCE-LINE 10599
32219                                     ***** END-POOL *****
32220 00006BEA                  10602     CNT_SYNCHOS_SPDTYP_330:
32221 00006BEA 9105             10603             MOV.W   #_SYNC2_ERR_HOSHAB7,R1          ;
32222 00006BEC 3216             10604             CMP/HI  R1,R2                           ;=<data4(3000)
32223 00006BEE 8905             10605             BT      CNT_SYNCHOS_SPDTYP_390          ;R1(3000)<R2(PLS) JUMP
32224 00006BF0 E401             10606             MOV     #BIT0,R4                        ;
32225 00006BF2 9502             10607             MOV.W   #_SYNC2_HOS_SPD6,R5
32226                           10608             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
32227 00006BF4 A007                   M           BRA     CNT_SYNCHOS_SPDTYP_400
32228 00006BF6 0009                   M           NOP
32229                           10609     
32230                                     ***** BEGIN-POOL *****
32231 00006BF8 09C4                       DATA FOR SOURCE-LINE 10603
32232 00006BFA 0080                       DATA FOR SOURCE-LINE 10607
32233                                     ***** END-POOL *****
32234 00006BFC                  10610     CNT_SYNCHOS_SPDTYP_390:
32235 00006BFC E401             10611             MOV     #BIT0,R4                        ;
32236 00006BFE 9501             10612             MOV.W   #_SYNC2_HOS_SPD7,R5
32237                           10613             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
32238 00006C00 A001                   M           BRA     CNT_SYNCHOS_SPDTYP_400
32239 00006C02 0009                   M           NOP
32240                           10614     
32241                                     ***** BEGIN-POOL *****
32242 00006C04 0100                       DATA FOR SOURCE-LINE 10612
32243                                     ***** END-POOL *****
32244 00006C06                  10615     CNT_SYNCHOS_SPDTYP_400:
32245 00006C06 D109             10616             MOV.L   #_CNT_SYNC_CHK_CNT2,R1
32246 00006C08 6011             10617             MOV.W   @R1,R0
32247 00006C0A 7001             10618             ADD     #1,R0
32248 00006C0C 2101             10619             MOV.W   R0,@R1                          ;
32249                           10620     
32250 00006C0E 4311             10621             CMP/PZ  R3                              ;相手-自分= 10 +に溜まっている.速度UP
32251 00006C10 8900             10622             BT      CNT_SYNCHOS_SPDTYP_450          ;          -10 -に溜まっている.速度DN
32252 00006C12 655B             10623             NEG     R5,R5                           ;
32253 00006C14                  10624     CNT_SYNCHOS_SPDTYP_450:                         ;
32254 00006C14 D106             10625             MOV.L   #_CNT_REST_SPD_HOSEI_FLG,R1     ;
32255 00006C16 2141             10626             MOV.W   R4,@R1                          ;
32256 00006C18 D106             10627             MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;
32257 00006C1A 2152             10628             MOV.L   R5,@R1                          ;
32258                           10629     
32259 00006C1C                  10630     CNT_SYNCHOS_SPDTYP_EXT:
32260 00006C1C D105             10631             MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;
32261 00006C1E 6012             10632             MOV.L   @R1,R0                          ;
32262 00006C20 D105             10633             MOV.L   #_CNT_SYNC_HOS_DAT1,R1          ;
32263 00006C22 2102             10634             MOV.L   R0,@R1                          ;
32264                           10635     
32265                           10636             SUB_END
32266                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32267 00006C24 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32268                           10637             M_RTS
32269 00006C26 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   469
PROGRAM NAME =

32270 00006C28 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32271                           10638     
32272                           10639     ;       ***********************************
32273                           10640     ;       ***                             ***
32274                           10641     ;       ***     速度設定                ***
32275                           10642     ;       ***     FFFF(500Kはありえない)  ***
32276                           10643     ;       ***                             ***
32277                           10644     ;       ***********************************
32278                           10645     ;       input R2 speed
32279                                     ***** BEGIN-POOL *****
32280 00006C2A 0000                       ALIGNMENT CODE
32281 00006C2C 00000000                   DATA FOR SOURCE-LINE 10616
32282 00006C30 00000000                   DATA FOR SOURCE-LINE 10625
32283 00006C34 00000000                   DATA FOR SOURCE-LINE 10627,10631
32284 00006C38 00000000                   DATA FOR SOURCE-LINE 10633
32285                                     ***** END-POOL *****
32286 00006C3C                  10646             .ALIGN  4                               ;
32287 00006C3C                  10647     _CNT_REST_HOSEI_SPD_TYP:
32288                           10648             SUB_START
32289 00006C3C 4F22                   M           STS.L   PR,@-R15                ;[必要]
32290                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32291 00006C3E D105             10649             MOV.L   #_CNT_REST_SPD_HOSEI_FLG,R1     ;
32292 00006C40 6011             10650             MOV.W   @R1,R0                          ;
32293 00006C42 C801             10651             TST     #BIT0,R0                        ;
32294                           10652             TST_BIT_OF CNT_REST_HOSEI_SPDTYP_EXT    ;
32295 00006C44 8902                   M           BT      CNT_REST_HOSEI_SPDTYP_EXT
32296 00006C46 D104             10653             MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;
32297 00006C48 6012             10654             MOV.L   @R1,R0                          ;
32298 00006C4A 320C             10655             ADD     R0,R2                           ;
32299 00006C4C                  10656     CNT_REST_HOSEI_SPDTYP_EXT:
32300                           10657             SUB_END
32301                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32302 00006C4C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32303                           10658             M_RTS
32304 00006C4E 000B                   M           RTS                             ;RTSの後ろの
32305 00006C50 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32306                           10659     
32307                           10660             .EXPORT _CNTREST_HOS_RESET
32308                                     ***** BEGIN-POOL *****
32309 00006C52 0000                       ALIGNMENT CODE
32310 00006C54 00000000                   DATA FOR SOURCE-LINE 10649
32311 00006C58 00000000                   DATA FOR SOURCE-LINE 10653
32312                                     ***** END-POOL *****
32313 00006C5C                  10661             .ALIGN  4                               ;
32314 00006C5C                  10662     _CNTREST_HOS_RESET
32315                           10663             SUB_START
32316 00006C5C 4F22                   M           STS.L   PR,@-R15                ;[必要]
32317                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32318 00006C5E 200A             10664             XOR     R0,R0
32319                           10665             REG_MOV_TO_MEM  DST_ADR=_CNT_REST_SPD_HOSEI_FLG ,L1=W,DT_REG=R0,WKREG1=R1       ;
32320 00006C60 D103                   M           MOV.L   #_CNT_REST_SPD_HOSEI_FLG,R1     ;DST_ADR
32321 00006C62 2101                   M           MOV.W   R0,@R1  ;DST_ADR
32322                           10666             REG_MOV_TO_MEM  DST_ADR=_CNT_REST_SPD_HOSEI_DAT ,L1=L,DT_REG=R0,WKREG1=R1       ;
32323 00006C64 D103                   M           MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;DST_ADR
32324 00006C66 2102                   M           MOV.L   R0,@R1  ;DST_ADR
32325                           10667             SUB_END
32326                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   470
PROGRAM NAME =

32327 00006C68 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32328                           10668             M_RTS
32329 00006C6A 000B                   M           RTS                             ;RTSの後ろの
32330 00006C6C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32331                           10669     
32332                           10670     
32333                           10671     
32334                           10672     ;       *******************************************
32335                           10673     ;       ***                                     ***
32336                           10674     ;       ***     2010-10-05                      ***
32337                           10675     ;       ***                                     ***
32338                           10676     ;       ***                                     ***
32339                           10677     ;       *******************************************
32340                                     ***** BEGIN-POOL *****
32341 00006C6E 0000                       ALIGNMENT CODE
32342 00006C70 00000000                   DATA FOR SOURCE-LINE 10665
32343 00006C74 00000000                   DATA FOR SOURCE-LINE 10666
32344                                     ***** END-POOL *****
32345 00006C78                  10678             .ALIGN  4                               ;
32346 00006C78                  10679     _dum_SET_PV_ABS_TO_OBJ:
32347                           10680             SUB_START
32348 00006C78 4F22                   M           STS.L   PR,@-R15                ;[必要]
32349                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32350                           10681             SUB_END
32351                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32352 00006C7A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32353                           10682             M_RTS
32354 00006C7C 000B                   M           RTS                             ;RTSの後ろの
32355 00006C7E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32356                           10683     
32357                           10684     ;       ***************************************************
32358                           10685     ;       ***                                             ***
32359                           10686     ;       ***     反転のタイマ途中からの再起動            ***
32360                           10687     ;       ***     (安全一、寸動、連続寸動一、連続タイマ)  ***
32361                           10688     ;       ***     2012-05-15                              ***
32362                           10689     ;       ***                                             ***
32363                           10690     ;       ***************************************************
32364                           10691     ;       起動時,
32365                           10692     ;
32366 00006C80                  10693             .ALIGN  4                               ;
32367 00006C80                  10694     _DURING_TIM_CNTINUE_CHK
32368                           10695             SUB_START
32369 00006C80 4F22                   M           STS.L   PR,@-R15                ;[必要]
32370                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32371 00006C82 D102             10696             MOV.L   #_DURING_TIM_FX,R1                              ;
32372 00006C84 6011             10697             MOV.W   @R1,R0                                          ;
32373 00006C86                  10698     DURING_TIM_CNTCK_END
32374                           10699             SUB_END
32375                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32376 00006C86 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32377                           10700             M_RTS
32378 00006C88 000B                   M           RTS                             ;RTSの後ろの
32379 00006C8A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32380                           10701     
32381                           10702     
32382                           10703     ;       ------------- 再度0から行うか,途中から行うか,ﾀｲﾌﾟｱｯﾌﾟから行うか
32383                           10704     ;       input R1:設定
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   471
PROGRAM NAME =

32384                           10705     ;
32385                                     ***** BEGIN-POOL *****
32386 00006C8C 00000000                   DATA FOR SOURCE-LINE 10696
32387                                     ***** END-POOL *****
32388 00006C90                  10706     _DURING_TIM_PRESET_CALC
32389                           10707             SUB_START
32390 00006C90 4F22                   M           STS.L   PR,@-R15                ;[必要]
32391                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32392                           10708     
32393 00006C92 D007             10709             MOV.L   #_DURING_TIM_FX,R0                                      ;
32394 00006C94 6001             10710             MOV.W   @R0,R0                                                  ;
32395 00006C96 2008             10711             TST     R0,R0                                                   ;
32396                           10712             TST_BIT_OF DURING_TIM_PRECALC200                                ;通常の処理
32397 00006C98 890F                   M           BT      DURING_TIM_PRECALC200
32398                           10713     
32399 00006C9A 2118             10714             TST     R1,R1                                                   ;
32400                           10715             TST_BIT_OF DURING_TIM_PRECALC200                                ;ﾃﾞｰﾀが0
32401 00006C9C 890D                   M           BT      DURING_TIM_PRECALC200
32402                           10716     
32403 00006C9E D005             10717             MOV.L   #(_PAR_STOPTIM_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R0    ;
32404 00006CA0 6001             10718             MOV.W   @R0,R0                                                  ;
32405 00006CA2 8802             10719             CMP/EQ  #2,R0                                                   ;
32406 00006CA4 8908             10720             BT      DURING_TIM_PRECALC100                                   ;"ｸﾘｱ":ﾀｲﾑｱｯﾌﾟから
                                          はじめる
32407                           10721     
32408 00006CA6 8801             10722             CMP/EQ  #1,R0                                                   ;
32409 00006CA8 8B07             10723             BF      DURING_TIM_PRECALC200                                   ;0:(2,1以外):(設定
                                          をｾｯﾄする)
32410                           10724             M_BRA   DURING_TIM_PRECALCEND                                   ;1:設定しない:継続
32411 00006CAA A008                   M           BRA     DURING_TIM_PRECALCEND
32412 00006CAC 0009                   M           NOP
32413                           10725     
32414                           10726     
32415                                     ***** BEGIN-POOL *****
32416 00006CAE 0000                       ALIGNMENT CODE
32417 00006CB0 00000000                   DATA FOR SOURCE-LINE 10709
32418 00006CB4 00000000                   DATA FOR SOURCE-LINE 10717
32419                                     ***** END-POOL *****
32420 00006CB8                  10727     DURING_TIM_PRECALC100
32421 00006CB8 211A             10728             XOR     R1,R1                                                   ;
32422 00006CBA                  10729     DURING_TIM_PRECALC200
32423 00006CBA D402             10730             MOV.L   #_SDAT_WAIT_PVTIM,R4                                    ;
32424 00006CBC 2412             10731             MOV.L   R1,@R4                                                  ;
32425 00006CBE                  10732     DURING_TIM_PRECALCEND
32426                           10733             SUB_END
32427                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32428 00006CBE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32429                           10734             M_RTS
32430 00006CC0 000B                   M           RTS                             ;RTSの後ろの
32431 00006CC2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32432                           10735     
32433                           10736     
32434                           10737     
32435                           10738     ;       *******************************************
32436                           10739     ;       ***                                     ***
32437                           10740     ;       ***             2013-02-08              ***
32438                           10741     ;       ***             CPUB_CURVSEL[4]         ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   472
PROGRAM NAME =

32439                           10742     ;       *******************************************
32440                           10743     ;;      CPUA=CPUB=TBLCURV時に生かす
32441                           10744             .IMPORT         _PAR_DNMDEND_DLY
32442                           10745     
32443                                     ***** BEGIN-POOL *****
32444 00006CC4 00000000                   DATA FOR SOURCE-LINE 10730
32445                                     ***** END-POOL *****
32446 00006CC8                  10746     _DNMODE_ENDWAIT_TIM_SET                         ;[[[2013-03-24復活]]]
32447                           10747             SUB_START                               ;[[[2013-03-24復活]]]
32448 00006CC8 4F22                   M           STS.L   PR,@-R15                ;[必要]
32449                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32450                           10748     
32451 00006CCA D106             10749             MOV.L   #_SETX_POS_CTL_MATH,R1          ;[[[2013-03-24復活]]]
32452 00006CCC 6011             10750             MOV.W   @R1,R0                          ;[[[2013-03-24復活]]]
32453 00006CCE C804             10751             TST     #_DMATH_DNDRIV,R0               ;[[[2013-03-24復活]]]
32454                           10752             TST_BIT_OF DNMODE_ENDWAIT_TIMST100      ;[[[2013-03-24復活]]]
32455 00006CD0 890E                   M           BT      DNMODE_ENDWAIT_TIMST100
32456                           10753     
32457 00006CD2 D105             10754             MOV.L   #_MODE_SEL,R1                   ;[[[2013-03-24復活]]]
32458 00006CD4 6011             10755             MOV.W   @R1,R0                          ;[[[2013-03-24復活]]]
32459 00006CD6 C808             10756             TST     #_W1CNT,R0                      ;[[[2013-03-24復活]]]
32460                           10757             TST_BIT_OF DNMODE_ENDWAIT_TIMST100      ;[[[2013-03-24復活]]]
32461 00006CD8 890A                   M           BT      DNMODE_ENDWAIT_TIMST100
32462                           10758     
32463 00006CDA D104             10759             MOV.L   #(_PAR_DNMDEND_DLY-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;[[[2013-03-24復活
                                          ]]]
32464 00006CDC 6011             10760             MOV.W   @R1,R0                                                  ;[[[2013-03-24復活
                                          ]]]
32465                           10761             M_BRA   DNMODE_ENDWAIT_TIMST200                                 ;[[[2013-03-24復活
                                          ]]]
32466 00006CDE A008                   M           BRA     DNMODE_ENDWAIT_TIMST200
32467 00006CE0 0009                   M           NOP
32468                           10762     
32469                                     ***** BEGIN-POOL *****
32470 00006CE2 0000                       ALIGNMENT CODE
32471 00006CE4 00000000                   DATA FOR SOURCE-LINE 10749
32472 00006CE8 00000000                   DATA FOR SOURCE-LINE 10754
32473 00006CEC 00000000                   DATA FOR SOURCE-LINE 10759
32474                                     ***** END-POOL *****
32475 00006CF0                  10763     DNMODE_ENDWAIT_TIMST100                                                 ;[[[2013-03-24復活
                                          ]]]
32476 00006CF0 200A             10764             XOR     R0,R0                                                   ;[[[2013-03-24復活
                                          ]]]
32477 00006CF2                  10765     DNMODE_ENDWAIT_TIMST200                                                 ;
32478 00006CF2 D102             10766             MOV.L   #_PVX_DNMOD_DLYTIM,R1                                   ;[[[2013-03-24復活
                                          ]]]
32479 00006CF4 2101             10767             MOV.W   R0,@R1                                                  ;[[[2013-03-24復活
                                          ]]]
32480                           10768                                                                             ;
32481                           10769             SUB_END                                                         ;[[[2013-03-24復活
                                          ]]]
32482                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32483 00006CF6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32484                           10770             M_RTS                                                           ;
32485 00006CF8 000B                   M           RTS                             ;RTSの後ろの
32486 00006CFA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32487                           10771     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   473
PROGRAM NAME =

32488                                     ***** BEGIN-POOL *****
32489 00006CFC 00000000                   DATA FOR SOURCE-LINE 10766
32490                                     ***** END-POOL *****
32491 00006D00                  10772     _DNMODE_ENDWAIT_TIM_CHK                                                 ;[[[2013-03-24復活
                                          ]]]
32492                           10773             SUB_START                                                       ;[[[2013-03-24復活
                                          ]]]
32493 00006D00 4F22                   M           STS.L   PR,@-R15                ;[必要]
32494                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32495 00006D02 D105             10774             MOV.L   #_PVX_DNMOD_DLYTIM,R1                                   ;[[[2013-03-24復活
                                          ]]]
32496 00006D04 6011             10775             MOV.W   @R1,R0                                                  ;[[[2013-03-24復活
                                          ]]]
32497 00006D06 2008             10776             TST     R0,R0                                                   ;[[[2013-03-24復活
                                          ]]]
32498                           10777             TST_BIT_OF DNMODE_ENDWAIT_TIMCK_END                             ;ANS R0=0 [[[2013-
                                          03-24復活]]]
32499 00006D08 8902                   M           BT      DNMODE_ENDWAIT_TIMCK_END
32500                           10778                                                                             ;[[[2013-03-24復活
                                          ]]]
32501 00006D0A 70FF             10779             ADD     #-1,R0                                                  ;[[[2013-03-24復活
                                          ]]]
32502 00006D0C 2101             10780             MOV.W   R0,@R1                                                  ;[[[2013-03-24復活
                                          ]]]
32503 00006D0E E001             10781             MOV.B   #1,R0                                                   ;R0=1 NOT TIM UP[[
                                          [2013-03-24復活]]]
32504                           10782     
32505 00006D10                  10783     DNMODE_ENDWAIT_TIMCK_END                                                ;[[[2013-03-24復活
                                          ]]]
32506                           10784     
32507                           10785             SUB_END                                                         ;[[[2013-03-24復活
                                          ]]]
32508                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32509 00006D10 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32510                           10786             M_RTS                                                           ;[[[2013-03-24復活
                                          ]]]
32511 00006D12 000B                   M           RTS                             ;RTSの後ろの
32512 00006D14 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32513                           10787     
32514                           10788     ;       ***************************************************
32515                           10789     ;       ***                                             ***
32516                           10790     ;       ***             寸動時上限制限をかける          ***
32517                           10791     ;       ***             2013-02-15                      ***
32518                           10792     ;       ***************************************************
32519                                     ***** BEGIN-POOL *****
32520 00006D16 0000                       ALIGNMENT CODE
32521 00006D18 00000000                   DATA FOR SOURCE-LINE 10774
32522                                     ***** END-POOL *****
32523 00006D1C                  10793     _INC_UPLIMT_CALC:
32524                           10794             SUB_START
32525 00006D1C 4F22                   M           STS.L   PR,@-R15                ;[必要]
32526                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32527 00006D1E D10A             10795             MOV.L   #_MODE_SEL,R1                           ;
32528 00006D20 6011             10796             MOV.W   @R1,R0                                  ;
32529 00006D22 C802             10797             TST     #(_W1INC),R0                            ;
32530                           10798             TST_BIT_OF INC_UPLIMT_CAL100                    ;
32531 00006D24 891A                   M           BT      INC_UPLIMT_CAL100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   474
PROGRAM NAME =

32532                           10799     
32533 00006D26 D109             10800             MOV.L   #_CB_SEQ_CB_COM349,R1                   ;
32534 00006D28 6011             10801             MOV.W   @R1,R0                                  ;
32535 00006D2A 940B             10802             MOV.W   #BIT8,R4                                ;
32536 00006D2C 2048             10803             TST     R4,R0                                   ;
32537                           10804             TST_BIT_OF INC_UPLIMT_CAL100                    ;
32538 00006D2E 8915                   M           BT      INC_UPLIMT_CAL100
32539                           10805     
32540 00006D30 D107             10806             MOV.L   #(_PAR_INCSPD_UPLMT-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
32541 00006D32 6211             10807             MOV.W   @R1,R2                                                  ;
32542                           10808             FAR_JSR #_CYCLE_SPD1,R0                                         ;
32543 00006D34 D007                   M           MOV.L   #_CYCLE_SPD1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32544 00006D36 400B                   M           JSR     @R0                     ;
32545 00006D38 0009                   M           NOP                                     ;
32546 00006D3A D107             10809             MOV.L   #_UPLIMIT_SV_SPD,R1                     ;//(上限共通DATA)PLS/S
32547 00006D3C 2122             10810             MOV.L   R2,@R1                                  ;
32548                           10811     
32549 00006D3E 9002             10812             MOV.W   #BIT0,R0                                ;
32550                           10813             M_BRA   INC_UPLIMT_CAL200                       ;
32551 00006D40 A00D                   M           BRA     INC_UPLIMT_CAL200
32552 00006D42 0009                   M           NOP
32553                           10814     
32554                                     ***** BEGIN-POOL *****
32555 00006D44 0100                       DATA FOR SOURCE-LINE 10802
32556 00006D46 0001                       DATA FOR SOURCE-LINE 10812
32557 00006D48 00000000                   DATA FOR SOURCE-LINE 10795
32558 00006D4C 00000000                   DATA FOR SOURCE-LINE 10800
32559 00006D50 00000000                   DATA FOR SOURCE-LINE 10806
32560 00006D54 00000000                   DATA FOR SOURCE-LINE 10808
32561 00006D58 00000000                   DATA FOR SOURCE-LINE 10809
32562                                     ***** END-POOL *****
32563 00006D5C                  10815     INC_UPLIMT_CAL100:
32564 00006D5C 200A             10816             XOR     R0,R0
32565 00006D5E                  10817     INC_UPLIMT_CAL200:
32566 00006D5E D102             10818             MOV.L   #_UPLIMIT_START_F,R1    ;//BIT0:寸動からの指令
32567 00006D60 2101             10819             MOV.W   R0,@R1                  ;
32568 00006D62                  10820     INC_UPLIMT_CALEND:
32569                           10821     
32570                           10822             SUB_END
32571                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32572 00006D62 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32573                           10823             M_RTS
32574 00006D64 000B                   M           RTS                             ;RTSの後ろの
32575 00006D66 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32576                           10824     
32577                           10825     
32578                           10826     ;       *******************************************
32579                           10827     ;       ***                                     ***
32580                           10828     ;       ***     2009-10-07                      ***
32581                           10829     ;       ***     下振子                          ***
32582                           10830     ;       ***     非常停止                        ***
32583                           10831     ;       *******************************************
32584                                     ***** BEGIN-POOL *****
32585 00006D68 00000000                   DATA FOR SOURCE-LINE 10818
32586                                     ***** END-POOL *****
32587 00006D6C                  10832             .ALIGN  4                               ;
32588 00006D6C                  10833     _DNM_DATA_CLR:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   475
PROGRAM NAME =

32589                           10834             SUB_START
32590 00006D6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
32591                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32592                           10835     
32593                           10836              .AIF   1 EQ 1  ;
32594                           10837 C   ;       -------- 2016-10-31 ADD 二重回路対策
32595                           10838              .AENDI
32596                           10839     ;       ---2016-06-13--
32597                           10840             UP_TIME LG=W,MEM_ADR=_DBG_DNM_CLR_CNT,WKREG1=R1,WKREG2=R0
32598 00006D6E D107                   M           MOV.L   #_DBG_DNM_CLR_CNT,R1            ;SORCE ADRESS SET
32599 00006D70 6011                   M           MOV.W   @R1,R0          ;
32600 00006D72 7001                   M           ADD     #1,R0                   ;
32601 00006D74 2008                   M           TST     R0,R0                   ;
32602                                 M           TST_BIT_OF JMP_0100022                  ;ZERO THEN JUMP
32603 00006D76 8900                   M           BT      JMP_0100022
32604 00006D78 2101                   M           MOV.W   R0,@R1          ;STORE
32605 00006D7A                        M   JMP_0100022:                                    ;
32606                           10841     
32607 00006D7A 200A             10842             XOR     R0,R0
32608 00006D7C D104             10843             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//2BYTE 0:往路 1:復路(動作中保証：停止時
                                          に切り替わり)
32609 00006D7E 2101             10844             MOV.W   R0,@R1
32610 00006D80 D104             10845             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//運転釦起動時
32611 00006D82 2101             10846             MOV.W   R0,@R1
32612                           10847             SUB_END
32613                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32614 00006D84 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32615                           10848             M_RTS
32616 00006D86 000B                   M           RTS                             ;RTSの後ろの
32617 00006D88 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32618                           10849     
32619                           10850     ;       *******************************************
32620                           10851     ;       ***                                     ***
32621                           10852     ;       ***     2014-09-17                      ***
32622                           10853     ;       ***     下振子                          ***
32623                           10854     ;       ***     左待機点からの開始              ***
32624                           10855     ;       ***                                     ***
32625                           10856     ;       *******************************************
32626                           10857     ;       初期値は0：右
32627                           10858             .EXPORT _DNM_DATA_REV_SET
32628                                     ***** BEGIN-POOL *****
32629 00006D8A 0000                       ALIGNMENT CODE
32630 00006D8C 00000000                   DATA FOR SOURCE-LINE 10840
32631 00006D90 00000000                   DATA FOR SOURCE-LINE 10843
32632 00006D94 00000000                   DATA FOR SOURCE-LINE 10845
32633                                     ***** END-POOL *****
32634 00006D98                  10859     _DNM_DATA_REV_SET:
32635                           10860             SUB_START
32636 00006D98 4F22                   M           STS.L   PR,@-R15                ;[必要]
32637                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32638 00006D9A E001             10861             MOV.B   #BIT0,R0                        ;
32639 00006D9C D102             10862             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//2BYTE 0:往路 1:復路(動作中保証：停止時
                                          に切り替わり)
32640 00006D9E 2101             10863             MOV.W   R0,@R1
32641                           10864     
32642                           10865     ;;;;;;; MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//運転釦起動時,次のｻｲｸﾙ起動時 SET_FLG=>NO
                                          W_FLG
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   476
PROGRAM NAME =

32643                           10866     ;;;;;;; MOV.W   R0,@R1
32644                           10867     
32645                           10868             SUB_END
32646                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32647 00006DA0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32648                           10869             M_RTS
32649 00006DA2 000B                   M           RTS                             ;RTSの後ろの
32650 00006DA4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32651                           10870     
32652                           10871     
32653                           10872             .EXPORT _DNM_CYCLE_END                  ;2016-04-16
32654                                     ***** BEGIN-POOL *****
32655 00006DA6 0000                       ALIGNMENT CODE
32656 00006DA8 00000000                   DATA FOR SOURCE-LINE 10862
32657                                     ***** END-POOL *****
32658 00006DAC                  10873     _DNM_CYCLE_END:                                 ;
32659                           10874             SUB_START                               ;
32660 00006DAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
32661                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32662                           10875     
32663                           10876              .AIF   1 EQ 1  ;
32664                           10877 C   ;       -------- 2016-10-31 ADD 二重回路対策
32665                           10878              .AENDI
32666                           10879     
32667                           10880     ;       ---2016-06-13--
32668                           10881             UP_TIME LG=W,MEM_ADR=_DBG_DNM_END_CNT,WKREG1=R1,WKREG2=R0
32669 00006DAE D10D                   M           MOV.L   #_DBG_DNM_END_CNT,R1            ;SORCE ADRESS SET
32670 00006DB0 6011                   M           MOV.W   @R1,R0          ;
32671 00006DB2 7001                   M           ADD     #1,R0                   ;
32672 00006DB4 2008                   M           TST     R0,R0                   ;
32673                                 M           TST_BIT_OF JMP_0100023                  ;ZERO THEN JUMP
32674 00006DB6 8900                   M           BT      JMP_0100023
32675 00006DB8 2101                   M           MOV.W   R0,@R1          ;STORE
32676 00006DBA                        M   JMP_0100023:                                    ;
32677                           10882     
32678 00006DBA 222A             10883             XOR     R2,R2                           ;
32679 00006DBC D10A             10884             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
32680 00006DBE 6011             10885             MOV.W   @R1,R0                          ;
32681 00006DC0 C804             10886             TST     #_DMATH_DNDRIV,R0
32682                           10887             TST_BIT_OF DNM_CYCLE_ED_100             ;
32683 00006DC2 8904                   M           BT      DNM_CYCLE_ED_100
32684                           10888     
32685 00006DC4 D109             10889             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//
32686 00006DC6 6011             10890             MOV.W   @R1,R0                          ;
32687 00006DC8 2008             10891             TST     R0,R0                           ;
32688                           10892             TST_BIT_ON DNM_CYCLE_ED_100             ;
32689 00006DCA 8B00                   M           BF      DNM_CYCLE_ED_100
32690 00006DCC E201             10893             MOV     #1,R2                           ;
32691 00006DCE                  10894     DNM_CYCLE_ED_100:                               ;
32692 00006DCE D108             10895             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//
32693 00006DD0 2121             10896             MOV.W   R2,@R1                          ;NEXT-SET
32694                           10897     
32695                           10898     ;       ----------------[2014-11-10 add]---------
32696 00006DD2 D108             10899             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1;     //ふりこの場合の前回までの動作方向(今回動
                                          きべき方向)
32697 00006DD4 2121             10900             MOV.W   R2,@R1                          ;
32698                           10901     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   477
PROGRAM NAME =

32699                           10902             .AIF    0 EQ    0
32700                           10903 C           FAR_JSR #_API_CAM_DRV_DNM_DIR_SET,R0    ;2016-11-16
32701 00006DD6 D008                   M           MOV.L   #_API_CAM_DRV_DNM_DIR_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32702 00006DD8 400B                   M           JSR     @R0                     ;
32703 00006DDA 0009                   M           NOP                                     ;
32704                           10904             .AENDI
32705                           10905     ;       ---------------------------------------------
32706                           10906     
32707                           10907             SUB_END
32708                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32709 00006DDC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32710                           10908             M_RTS
32711 00006DDE 000B                   M           RTS                             ;RTSの後ろの
32712 00006DE0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32713                           10909     
32714                           10910     ;       ***************************************************
32715                           10911     ;       ***                                             ***
32716                           10912     ;       ***     ふりこ　連続の次のサイクル開始          ***
32717                           10913     ;       ***             運転釦起動もここ                ***
32718                           10914     ;       ***************************************************
32719                           10915     ;       ここでオーバライド演算も追加する(2010-10-05)
32720                           10916     ;
32721                                     ***** BEGIN-POOL *****
32722 00006DE2 0000                       ALIGNMENT CODE
32723 00006DE4 00000000                   DATA FOR SOURCE-LINE 10881
32724 00006DE8 00000000                   DATA FOR SOURCE-LINE 10884
32725 00006DEC 00000000                   DATA FOR SOURCE-LINE 10889
32726 00006DF0 00000000                   DATA FOR SOURCE-LINE 10895
32727 00006DF4 00000000                   DATA FOR SOURCE-LINE 10899
32728 00006DF8 00000000                   DATA FOR SOURCE-LINE 10903
32729                                     ***** END-POOL *****
32730 00006DFC                  10917     _DNM_CYCLE_START:                               ;
32731                           10918             SUB_START                               ;
32732 00006DFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
32733                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32734                           10919     
32735                           10920              .AIF   1 EQ 1  ;
32736                           10921 C   ;       -------- 2016-10-31 ADD 二重回路対策
32737                           10922              .AENDI
32738                           10923     ;       ---2016-06-13--
32739                           10924             UP_TIME LG=W,MEM_ADR=_DBG_DNM_STR_CNT,WKREG1=R1,WKREG2=R0
32740 00006DFE D10B                   M           MOV.L   #_DBG_DNM_STR_CNT,R1            ;SORCE ADRESS SET
32741 00006E00 6011                   M           MOV.W   @R1,R0          ;
32742 00006E02 7001                   M           ADD     #1,R0                   ;
32743 00006E04 2008                   M           TST     R0,R0                   ;
32744                                 M           TST_BIT_OF JMP_0100024                  ;ZERO THEN JUMP
32745 00006E06 8900                   M           BT      JMP_0100024
32746 00006E08 2101                   M           MOV.W   R0,@R1          ;STORE
32747 00006E0A                        M   JMP_0100024:                                    ;
32748                           10925     
32749                           10926     
32750 00006E0A 222A             10927             XOR     R2,R2                           ;
32751 00006E0C D108             10928             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
32752 00006E0E 6011             10929             MOV.W   @R1,R0                          ;
32753 00006E10 C804             10930             TST     #_DMATH_DNDRIV,R0               ;
32754                           10931             TST_BIT_OF DNM_CYCLE_STR_100            ;
32755 00006E12 8917                   M           BT      DNM_CYCLE_STR_100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   478
PROGRAM NAME =

32756                           10932     
32757 00006E14 D107             10933             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//
32758 00006E16 6211             10934             MOV.W   @R1,R2                          ;
32759 00006E18 D107             10935             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//
32760 00006E1A 2121             10936             MOV.W   R2,@R1                          ;
32761                           10937     
32762                           10938     ;       ----------------[2014-11-10 add]---------
32763 00006E1C D107             10939             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1      ;//ふりこの場合の前回までの動作方向
32764 00006E1E 2121             10940             MOV.W   R2,@R1                          ;
32765                           10941     
32766                           10942             FAR_JSR #_CPOS_INI1_DTMOV2,R0
32767 00006E20 D007                   M           MOV.L   #_CPOS_INI1_DTMOV2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32768 00006E22 400B                   M           JSR     @R0                     ;
32769 00006E24 0009                   M           NOP                                     ;
32770                           10943             M_BRA   DNM_CYCLE_STR_200               ;
32771 00006E26 A00F                   M           BRA     DNM_CYCLE_STR_200
32772 00006E28 0009                   M           NOP
32773                           10944     
32774                                     ***** BEGIN-POOL *****
32775 00006E2A 0000                       ALIGNMENT CODE
32776 00006E2C 00000000                   DATA FOR SOURCE-LINE 10924
32777 00006E30 00000000                   DATA FOR SOURCE-LINE 10928
32778 00006E34 00000000                   DATA FOR SOURCE-LINE 10933
32779 00006E38 00000000                   DATA FOR SOURCE-LINE 10935
32780 00006E3C 00000000                   DATA FOR SOURCE-LINE 10939
32781 00006E40 00000000                   DATA FOR SOURCE-LINE 10942
32782                                     ***** END-POOL *****
32783 00006E44                  10945     DNM_CYCLE_STR_100:
32784 00006E44 D106             10946             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//
32785 00006E46 2121             10947             MOV.W   R2,@R1                          ;
32786                           10948     
32787 00006E48                  10949     DNM_CYCLE_STR_200:
32788                           10950     
32789                           10951     
32790                           10952     ;---------- (ここには全ての起動がくる)------------
32791                           10953             .AIF    0 EQ    0
32792 00006E48 D106             10954 C           MOV.L   #_MODE_SEL,R1                                   ;2016-11-16
32793 00006E4A 6011             10955 C           MOV.W   @R1,R0                                          ;2016-11-16
32794 00006E4C C83E             10956 C           TST     #_W1CNT+_W1SGL+_W1INC+_W1OPT+_W1DIC,R0          ;2016-11-16(段取寸動も対象
                                          )
32795                           10957 C           TST_BIT_OF DNM_CYCLE_STR_CAM_SET300                     ;2016-11-16
32796 00006E4E 8904                   M           BT      DNM_CYCLE_STR_CAM_SET300
32797                           10958 C   
32798 00006E50 D103             10959 C           MOV.L   #_DNM_DIR_NOW_FLG,R1                    ;//
32799 00006E52 6211             10960 C           MOV.W   @R1,R2                                  ;
32800                           10961 C           FAR_JSR #_API_CAM_DRV_DNM_DIR_SET,R0            ;2016-11-16
32801 00006E54 D004                   M           MOV.L   #_API_CAM_DRV_DNM_DIR_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32802 00006E56 400B                   M           JSR     @R0                     ;
32803 00006E58 0009                   M           NOP                                     ;
32804                           10962 C   
32805 00006E5A                  10963 C   DNM_CYCLE_STR_CAM_SET300
32806                           10964             .AENDI
32807                           10965     ;       ---------------------------------------------
32808                           10966     
32809                           10967     
32810                           10968             SUB_END
32811                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   479
PROGRAM NAME =

32812 00006E5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32813                           10969             M_RTS
32814 00006E5C 000B                   M           RTS                             ;RTSの後ろの
32815 00006E5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32816                           10970     
32817                           10971     ;       ***************************
32818                           10972     ;       ***     1MS-MAINでCALL  ***
32819                           10973     ;       ***************************
32820                           10974             .EXPORT _DNM_MATH_ELSE_DAT_MAKE
32821                           10975     
32822                           10976     
32823                                     ***** BEGIN-POOL *****
32824 00006E60 00000000                   DATA FOR SOURCE-LINE 10946,10959
32825 00006E64 00000000                   DATA FOR SOURCE-LINE 10954
32826 00006E68 00000000                   DATA FOR SOURCE-LINE 10961
32827                                     ***** END-POOL *****
32828 00006E6C                  10977     _DNM_MATH_ELSE_DAT_MAKE:
32829                           10978             SUB_START
32830 00006E6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
32831                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32832 00006E6E D10D             10979             MOV.L   #_INC_ENC360,R1                                 ;
32833 00006E70 6211             10980             MOV.W   @R1,R2
32834                           10981     
32835 00006E72 D10D             10982             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
32836 00006E74 6011             10983             MOV.W   @R1,R0                          ;
32837 00006E76 C804             10984             TST     #_DMATH_DNDRIV,R0               ;
32838                           10985             TST_BIT_OF DNM_MATH_ELSE_DATMK100       ;
32839 00006E78 890E                   M           BT      DNM_MATH_ELSE_DATMK100
32840                           10986     
32841 00006E7A D10C             10987             MOV.L   #_MODE_SEL,R1                                           ;
32842 00006E7C 6011             10988             MOV.W   @R1,R0                                                  ;
32843 00006E7E C81E             10989             TST     #_W1CNT+_W1SGL+_W1INC+_W1OPT,R0                         ;
32844                           10990             TST_BIT_OF DNM_MATH_ELSE_DATMK100                               ;
32845 00006E80 890A                   M           BT      DNM_MATH_ELSE_DATMK100
32846                           10991     
32847 00006E82 D10B             10992             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;
32848 00006E84 6011             10993             MOV.W   @R1,R0                          ;
32849                           10994     
32850                           10995     ;;;;2013-02-15不要      MOV.W   @R1,R3                          ;必ず同じになる
32851                           10996     ;;;;2013-02-15不要      CMP/EQ  R0,R3                           ;
32852                           10997     ;;;;2013-02-15不要      BF      DNM_MATH_ELSE_DATMK050          ;違ったら更新したかったの
                                          かな？
32853                           10998     
32854 00006E86 D10B             10999             MOV.L   #_DNM_DIR_SAM_FLG,R1            ;//2BYTE 0:往路 1:復路(動作中保証：停止時
                                          に切り替わり)
32855 00006E88 2101             11000             MOV.W   R0,@R1                          ;動作・動かしたいデータが同じ
32856                           11001     
32857                           11002     ;;;;2013-02-15不要      DNM_MATH_ELSE_DATMK050:
32858 00006E8A D10A             11003             MOV.L   #_DNM_DIR_SAM_FLG,R1            ;
32859 00006E8C 6011             11004             MOV.W   @R1,R0                          ;
32860 00006E8E 2008             11005             TST     R0,R0                           ;
32861                           11006             TST_BIT_OF DNM_MATH_ELSE_DATMK100       ;180
32862 00006E90 8902                   M           BT      DNM_MATH_ELSE_DATMK100
32863                           11007     
32864                           11008             FAR_JSR #_DIG01_CHG_DN_DATA_MAKE,R0     ;上限が0度　下限が180で左右同じじゃないとｸ
                                          ﾗﾝｸに戻す必要有り
32865 00006E92 D009                   M           MOV.L   #_DIG01_CHG_DN_DATA_MAKE,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   480
PROGRAM NAME =

32866 00006E94 400B                   M           JSR     @R0                     ;
32867 00006E96 0009                   M           NOP                                     ;
32868                           11009     
32869 00006E98                  11010     DNM_MATH_ELSE_DATMK100:
32870 00006E98 D108             11011             MOV.L   #_DNM_CTL_INC3600,R1            ;//CAM、ﾛｯﾄｶｳﾝﾀ、荷重用
32871 00006E9A 2121             11012             MOV.W   R2,@R1                          ;
32872                           11013     
32873                           11014             SUB_END
32874                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32875 00006E9C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32876                           11015             M_RTS
32877 00006E9E 000B                   M           RTS                             ;RTSの後ろの
32878 00006EA0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32879                           11016     
32880                           11017     ;       ***********************************
32881                           11018     ;       ***     2015-04-08              ***
32882                           11019     ;       ***     工程集終了ﾊﾝﾄﾞｼｪｲｸ      ***
32883                           11020     ;       ***********************************
32884                                     ***** BEGIN-POOL *****
32885 00006EA2 0000                       ALIGNMENT CODE
32886 00006EA4 00000000                   DATA FOR SOURCE-LINE 10979
32887 00006EA8 00000000                   DATA FOR SOURCE-LINE 10982
32888 00006EAC 00000000                   DATA FOR SOURCE-LINE 10987
32889 00006EB0 00000000                   DATA FOR SOURCE-LINE 10992
32890 00006EB4 00000000                   DATA FOR SOURCE-LINE 10999,11003
32891 00006EB8 00000000                   DATA FOR SOURCE-LINE 11008
32892 00006EBC 00000000                   DATA FOR SOURCE-LINE 11011
32893                                     ***** END-POOL *****
32894 00006EC0                  11021     _ENDHAND_WAIT_TIMCNT
32895                           11022             SUB_START
32896 00006EC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
32897                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32898                           11023     
32899 00006EC2 D105             11024             MOV.L   #_CMPSTEP_STEP_END,R1           ;
32900 00006EC4 6011             11025             MOV.W   @R1,R0                          ;
32901 00006EC6 2008             11026             TST     R0,R0                           ;
32902                           11027             TST_BIT_ON ENDHAND_WAIT_TIMC100         ;[ﾆｱｾﾞﾛ確認が終わっている]
32903 00006EC8 8B0A                   M           BF      ENDHAND_WAIT_TIMC100
32904 00006ECA 9203             11028             MOV.W   #D'10,R2                        ;10msec
32905 00006ECC D103             11029             MOV.L   #_ENDHAND_TIMOUT_PV,R1          ;
32906 00006ECE 2121             11030             MOV.W   R2,@R1                          ;
32907                           11031             M_BRA   ENDHAND_WAIT_TIMC200
32908 00006ED0 A00C                   M           BRA     ENDHAND_WAIT_TIMC200
32909 00006ED2 0009                   M           NOP
32910                           11032     
32911                                     ***** BEGIN-POOL *****
32912 00006ED4 000A                       DATA FOR SOURCE-LINE 11028
32913 00006ED6 0000                       ALIGNMENT CODE
32914 00006ED8 00000000                   DATA FOR SOURCE-LINE 11024
32915 00006EDC 00000000                   DATA FOR SOURCE-LINE 11029
32916                                     ***** END-POOL *****
32917 00006EE0                  11033     ENDHAND_WAIT_TIMC100
32918                           11034             DN_TIME LG=W,MEM_ADR=_ENDHAND_TIMOUT_PV,WKREG1=R1,WKREG2=R2     ;
32919 00006EE0 D104                   M           MOV.L   #_ENDHAND_TIMOUT_PV,R1          ;SORCE ADRESS SET
32920 00006EE2 6211                   M           MOV.W   @R1,R2          ;
32921 00006EE4 2228                   M           TST     R2,R2                   ;
32922 00006EE6 8901                   M           BT      JMP_0100025                     ;ZERO THEN JUMP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   481
PROGRAM NAME =

32923 00006EE8 4210                   M           DT      R2                              ;
32924 00006EEA 2121                   M           MOV.W   R2,@R1          ;STORE
32925 00006EEC                        M   JMP_0100025:
32926 00006EEC                  11035     ENDHAND_WAIT_TIMC200
32927                           11036             SUB_END
32928                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32929 00006EEC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32930                           11037             M_RTS
32931 00006EEE 000B                   M           RTS                             ;RTSの後ろの
32932 00006EF0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32933                           11038     
32934                           11039     ;       ANS R0!=0 ﾊﾝﾄﾞｼｪｲｸを強制実行
32935                           11040             .EXPORT _API_ENDHAND_SIGCHK
32936                                     ***** BEGIN-POOL *****
32937 00006EF2 0000                       ALIGNMENT CODE
32938 00006EF4 00000000                   DATA FOR SOURCE-LINE 11034
32939                                     ***** END-POOL *****
32940 00006EF8                  11041     _API_ENDHAND_SIGCHK
32941                           11042             SUB_START
32942 00006EF8 4F22                   M           STS.L   PR,@-R15                ;[必要]
32943                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32944 00006EFA D107             11043             MOV.L   #_CMPSTEP_STEP_END,R1   ;
32945 00006EFC 6011             11044             MOV.W   @R1,R0                  ;
32946 00006EFE C804             11045             TST     #BIT2,R0                ;
32947                           11046             TST_BIT_ON API_ENDHANDSIGCHK_EXT
32948 00006F00 8B06                   M           BF      API_ENDHANDSIGCHK_EXT
32949                           11047     
32950 00006F02 C803             11048             TST     #(BIT1+BIT0),R0                 ;
32951                           11049             TST_BIT_OF API_ENDHANDSIGCHK_100        ;
32952 00006F04 8903                   M           BT      API_ENDHANDSIGCHK_100
32953                           11050     
32954 00006F06 D105             11051             MOV.L   #_ENDHAND_TIMOUT_PV,R1          ;
32955 00006F08 6111             11052             MOV.W   @R1,R1                          ;
32956 00006F0A 2118             11053             TST     R1,R1                           ;
32957                           11054             TST_BIT_ON API_ENDHANDSIGCHK_EXT        ;TIME ｱｯﾌﾟ前
32958 00006F0C 8B00                   M           BF      API_ENDHANDSIGCHK_EXT
32959 00006F0E                  11055     API_ENDHANDSIGCHK_100
32960 00006F0E 200A             11056             XOR     R0,R0
32961 00006F10                  11057     API_ENDHANDSIGCHK_EXT
32962                           11058     
32963                           11059             SUB_END
32964                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32965 00006F10 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32966                           11060             M_RTS
32967 00006F12 000B                   M           RTS                             ;RTSの後ろの
32968 00006F14 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32969                           11061     
32970                           11062     ;       *******************************************
32971                           11063     ;       ***                                     ***
32972                           11064     ;       ***                                     ***
32973                           11065     ;       ***                                     ***
32974                           11066     ;       ***     モーション繰り返し              ***
32975                           11067     ;       ***     位置決め部                      ***
32976                           11068     ;       ***                                     ***
32977                           11069     ;       *******************************************
32978                           11070     ;
32979                           11071     ;非常停止,ｻｲｸﾙ終了後の初起動時
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   482
PROGRAM NAME =

32980                           11072     ;非常停止(exqは運転継続だからCLRしない)
32981                           11073     ;ｻｲｸﾙ終了
32982                           11074     ;ﾘﾋﾟｰﾄ終了
32983                           11075     ;[EXQはｸﾘｱしない：運転継続だから]
32984                           11076     ;
32985                           11077     ;BIT0(ﾘﾋﾟｰﾄ戻り中)
32986                           11078     ;BIT1(ﾚﾋﾟｰﾄ戻演算しろ)
32987                           11079     ;BIT2(ﾘﾋﾟｰﾄ戻り→ﾘﾋﾟｰﾄ開始)
32988                           11080     ;
32989                           11081     
32990                                     ***** BEGIN-POOL *****
32991 00006F16 0000                       ALIGNMENT CODE
32992 00006F18 00000000                   DATA FOR SOURCE-LINE 11043
32993 00006F1C 00000000                   DATA FOR SOURCE-LINE 11051
32994                                     ***** END-POOL *****
32995 00006F20                  11082             .ALIGN  4                                       ;
32996 00006F20                  11083     _MOT_REP_CLR                                    ;
32997                           11084             SUB_START
32998 00006F20 4F22                   M           STS.L   PR,@-R15                ;[必要]
32999                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33000 00006F22 200A             11085             XOR     R0,R0                           ;
33001 00006F24 D103             11086             MOV.L   #_MOT_REP_CNT,R1                ;
33002 00006F26 2101             11087             MOV.W   R0,@R1                          ;
33003 00006F28 D103             11088             MOV.L   #_MOT_REP_F,R1                  ;
33004 00006F2A 2101             11089             MOV.W   R0,@R1                          ;
33005                           11090             SUB_END
33006                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33007 00006F2C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33008                           11091             M_RTS
33009 00006F2E 000B                   M           RTS                             ;RTSの後ろの
33010 00006F30 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33011                           11092     
33012                           11093     ;       -----------ｽﾃｯﾌﾟ終了時CHECK-------------
33013                                     ***** BEGIN-POOL *****
33014 00006F32 0000                       ALIGNMENT CODE
33015 00006F34 00000000                   DATA FOR SOURCE-LINE 11086
33016 00006F38 00000000                   DATA FOR SOURCE-LINE 11088
33017                                     ***** END-POOL *****
33018 00006F3C                  11094     _MOT_REP_STEPCHK
33019                           11095             SUB_START
33020 00006F3C 4F22                   M           STS.L   PR,@-R15                ;[必要]
33021                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33022                           11096     
33023 00006F3E D108             11097             MOV.L   #_SET1_MOTREP_USEFUL,R1         ;
33024 00006F40 6011             11098             MOV.W   @R1,R0                          ;
33025 00006F42 2008             11099             TST     R0,R0                           ;
33026                           11100             TST_BIT_OF MOT_REP_STEPCK_EXT           ;
33027 00006F44 8935                   M           BT      MOT_REP_STEPCK_EXT
33028                           11101     
33029 00006F46 D107             11102             MOV.L   #_MOT_REP_F,R1                  ;
33030 00006F48 6011             11103             MOV.W   @R1,R0                          ;
33031 00006F4A C801             11104             TST     #BIT0,R0                        ;ﾘﾋﾟｰﾄ戻り実行中?
33032                           11105             TST_BIT_OF MOT_REP_STEPCK_100           ;NO
33033 00006F4C 890E                   M           BT      MOT_REP_STEPCK_100
33034                           11106     
33035 00006F4E E004             11107             MOV.B   #BIT2,R0                        ;戻り開始工程演算しろ
33036 00006F50 D104             11108             MOV.L   #_MOT_REP_F,R1                  ;BIT2:CLR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   483
PROGRAM NAME =

33037 00006F52 2101             11109             MOV.W   R0,@R1                          ;
33038                           11110     
33039                           11111     
33040                           11112             FAR_JSR #_DEBUG_BRK_POINT1,R0           ;
33041 00006F54 D004                   M           MOV.L   #_DEBUG_BRK_POINT1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33042 00006F56 400B                   M           JSR     @R0                     ;
33043 00006F58 0009                   M           NOP                                     ;
33044                           11113     
33045                           11114             M_BRA   MOT_REP_STEPCK_EXT              ;
33046 00006F5A A02A                   M           BRA     MOT_REP_STEPCK_EXT
33047 00006F5C 0009                   M           NOP
33048                           11115     
33049                           11116     
33050                           11117     
33051                           11118     
33052                                     ***** BEGIN-POOL *****
33053 00006F5E 0000                       ALIGNMENT CODE
33054 00006F60 00000000                   DATA FOR SOURCE-LINE 11097
33055 00006F64 00000000                   DATA FOR SOURCE-LINE 11102,11108
33056 00006F68 00000000                   DATA FOR SOURCE-LINE 11112
33057                                     ***** END-POOL *****
33058 00006F6C                  11119     MOT_REP_STEPCK_100
33059 00006F6C D10A             11120             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
33060 00006F6E 6011             11121             MOV.W   @R1,R0                          ;
33061 00006F70 D10A             11122             MOV.L   #_SET1_MOTREP_STGE,R1           ;//繰り返し終了行程[この工程は停止工程とす
                                          る]
33062 00006F72 6211             11123             MOV.W   @R1,R2                          ;
33063 00006F74 3020             11124             CMP/EQ  R2,R0                           ;
33064 00006F76 8B1C             11125             BF      MOT_REP_STEPCK_EXT              ;終了ｽﾃｯﾌﾟ?
33065                           11126     
33066 00006F78 D109             11127             MOV.L   #_SET1_MOTREP_CNT,R1            ;//繰り返し回数
33067 00006F7A 6311             11128             MOV.W   @R1,R3                          ;
33068 00006F7C 2338             11129             TST     R3,R3                           ;
33069                           11130             TST_BIT_OF MOT_REP_STEPCK_EXT
33070 00006F7E 8918                   M           BT      MOT_REP_STEPCK_EXT
33071                           11131     
33072 00006F80 D408             11132             MOV.L   #_MOT_REP_CNT,R4                ;
33073 00006F82 6241             11133             MOV.W   @R4,R2                          ;
33074 00006F84 3232             11134             CMP/HS  R3,R2                           ;設定<=CNT
33075 00006F86 8911             11135             BT      MOT_REP_STEPCK_200              ;終了
33076 00006F88 7201             11136             ADD     #1,R2                           ;
33077 00006F8A 2421             11137             MOV.W   R2,@R4                          ;
33078                           11138     
33079                           11139     ;       ------- 戻る----------
33080 00006F8C E003             11140             MOV.B   #(BIT1+BIT0),R0                 ;戻り実行中、戻り演算しろ
33081 00006F8E D106             11141             MOV.L   #_MOT_REP_F,R1                  ;
33082 00006F90 2101             11142             MOV.W   R0,@R1                          ;
33083                           11143             M_BRA   MOT_REP_STEPCK_EXT              ;
33084 00006F92 A00E                   M           BRA     MOT_REP_STEPCK_EXT
33085 00006F94 0009                   M           NOP
33086                           11144     
33087                           11145     
33088                                     ***** BEGIN-POOL *****
33089 00006F96 0000                       ALIGNMENT CODE
33090 00006F98 00000000                   DATA FOR SOURCE-LINE 11120
33091 00006F9C 00000000                   DATA FOR SOURCE-LINE 11122
33092 00006FA0 00000000                   DATA FOR SOURCE-LINE 11127
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   484
PROGRAM NAME =

33093 00006FA4 00000000                   DATA FOR SOURCE-LINE 11132
33094 00006FA8 00000000                   DATA FOR SOURCE-LINE 11141
33095                                     ***** END-POOL *****
33096 00006FAC                  11146     MOT_REP_STEPCK_200
33097                           11147             FAR_JSR #_MOT_REP_CLR,R0                ;
33098 00006FAC D002                   M           MOV.L   #_MOT_REP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33099 00006FAE 400B                   M           JSR     @R0                     ;
33100 00006FB0 0009                   M           NOP                                     ;
33101                           11148     
33102 00006FB2                  11149     MOT_REP_STEPCK_EXT
33103                           11150             SUB_END
33104                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33105 00006FB2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33106                           11151             M_RTS
33107 00006FB4 000B                   M           RTS                             ;RTSの後ろの
33108 00006FB6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33109                           11152     
33110                           11153     
33111                                     ***** BEGIN-POOL *****
33112 00006FB8 00000000                   DATA FOR SOURCE-LINE 11147
33113                                     ***** END-POOL *****
33114 00006FBC                  11154     _MOT_REPSTART_CALC:
33115                           11155             SUB_START
33116 00006FBC 4F22                   M           STS.L   PR,@-R15                ;[必要]
33117                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33118                           11156     
33119 00006FBE D108             11157             MOV.L   #_SET1_MOTREP_SPD,R1            ;//一定速度時の速度
33120 00006FC0 6212             11158             MOV.L   @R1,R2                          ;
33121 00006FC2 D108             11159             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
33122 00006FC4 2122             11160             MOV.L   R2,@R1                          ;
33123                           11161     
33124                           11162     
33125                           11163             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
33126 00006FC6 D108                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33127 00006FC8 410B                   M           JSR     @R1                     ;
33128 00006FCA 0009                   M           NOP                                     ;
33129                           11164     
33130 00006FCC D407             11165             MOV.L   #_SET1_MOTREP_STGS,R4           ;//繰り返し終了行程[この工程は停止工程とす
                                          る]
33131 00006FCE 6041             11166             MOV.W   @R4,R0                          ;
33132 00006FD0 8801             11167             CMP/EQ  #1,R0                           ;
33133 00006FD2 8B0F             11168             BF      MOT_REPSTART_CL050              ;
33134 00006FD4 D406             11169             MOV.L   #_CPOS_SDAT1_UP_POS,R4          ;//待機点または各段
33135 00006FD6 6146             11170             MOV.L   @R4+,R1                         ;
33136 00006FD8 6242             11171             MOV.L   @R4,R2                          ;(目標位置)
33137                           11172             M_BRA   MOT_REPSTART_CL100              ;
33138 00006FDA A012                   M           BRA     MOT_REPSTART_CL100
33139 00006FDC 0009                   M           NOP
33140                           11173     
33141                                     ***** BEGIN-POOL *****
33142 00006FDE 0000                       ALIGNMENT CODE
33143 00006FE0 00000000                   DATA FOR SOURCE-LINE 11157
33144 00006FE4 00000000                   DATA FOR SOURCE-LINE 11159
33145 00006FE8 00000000                   DATA FOR SOURCE-LINE 11163
33146 00006FEC 00000000                   DATA FOR SOURCE-LINE 11165
33147 00006FF0 00000000                   DATA FOR SOURCE-LINE 11169
33148                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   485
PROGRAM NAME =

33149 00006FF4                  11174     MOT_REPSTART_CL050:
33150 00006FF4 70FE             11175             ADD     #-2,R0
33151 00006FF6 4008             11176             SHLL2   R0
33152 00006FF8 4000             11177             SHLL    R0
33153 00006FFA D40C             11178             MOV.L   #_CPOS_SDAT1_CHGAPOS,R4         ;8byte
33154 00006FFC 340C             11179             ADD     R0,R4
33155 00006FFE 6146             11180             MOV.L   @R4+,R1                         ;
33156 00007000 6242             11181             MOV.L   @R4,R2                          ;(目標位置)
33157 00007002                  11182     MOT_REPSTART_CL100:
33158                           11183     
33159                           11184     
33160                           11185     ;       --------- 反転用---------------
33161 00007002 D40B             11186             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R4       ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
33162 00007004 2412             11187             MOV.L   R1,@R4                          ;
33163 00007006 1421             11188             MOV.L   R2,@(4,R4)                      ;save
33164                           11189     
33165 00007008 D40A             11190             MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R4     ;//目標−手前
33166 0000700A 2412             11191             MOV.L   R1,@R4                          ;
33167 0000700C 1421             11192             MOV.L   R2,@(4,R4)                      ;save
33168                           11193     
33169                           11194     ;       -------- 通常用-----------------
33170                           11195             FAR_JSR #_LENGH_ADD_CALC,R0             ;
33171 0000700E D00A                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33172 00007010 400B                   M           JSR     @R0                     ;
33173 00007012 0009                   M           NOP                                     ;
33174                           11196     
33175 00007014 233A             11197             XOR     R3,R3                           ;
33176 00007016 4111             11198             CMP/PZ  R1                              ;+正転?
33177 00007018 8900             11199             BT      MOT_REPSTART_CL200              ;
33178 0000701A E301             11200             MOV     #BIT0,R3                        ;
33179 0000701C                  11201     MOT_REPSTART_CL200:
33180 0000701C D107             11202             MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
33181 0000701E 6011             11203             MOV.W   @R1,R0                          ;
33182 00007020 C9FE             11204             AND     #LOW ~BIT0,R0                   ;
33183 00007022 203B             11205             OR      R3,R0                           ;
33184 00007024 2101             11206             MOV.W   R0,@R1                          ;
33185                           11207     ;       ----------------------------------------
33186                           11208     
33187                           11209             SUB_END
33188                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33189 00007026 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33190                           11210             M_RTS
33191 00007028 000B                   M           RTS                             ;RTSの後ろの
33192 0000702A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33193                           11211     
33194                           11212     ;       *******************************************
33195                           11213     ;       ***                                     ***
33196                           11214     ;       ***                                     ***
33197                           11215     ;       ***                                     ***
33198                           11216     ;       ***     制動性能試験                    ***
33199                           11217     ;       ***                                     ***
33200                           11218     ;       ***                                     ***
33201                           11219     ;       *******************************************
33202                                     ***** BEGIN-POOL *****
33203 0000702C 00000000                   DATA FOR SOURCE-LINE 11178
33204 00007030 00000000                   DATA FOR SOURCE-LINE 11186
33205 00007034 00000000                   DATA FOR SOURCE-LINE 11190
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   486
PROGRAM NAME =

33206 00007038 00000000                   DATA FOR SOURCE-LINE 11195
33207 0000703C 00000000                   DATA FOR SOURCE-LINE 11202
33208                                     ***** END-POOL *****
33209 00007040                  11220             .ALIGN  4                                               ;
33210                           11221             .INCLUDE        "ssa_btst.inc"          ;//2010-08-30
33211                               1 I1  ;       ***********************************
33212                               2 I1  ;       ***                             ***
33213                               3 I1  ;       ***     制動制御                ***
33214                               4 I1  ;       ***     位置決め部              ***
33215                               5 I1  ;       ***                             ***
33216                               6 I1  ;       ***********************************
33217                               7 I1  ;       ------- 2010-08-20[制動モード]
33218                               8 I1          .EXPORT _BRKTST_POS_START
33219                               9 I1  
33220 00007040                     10 I1          .ALIGN  4                               ;
33221 00007040                     11 I1  _BRKTST_POS_CTL:
33222                              12 I1          SUB_START
33223 00007040 4F22                   M           STS.L   PR,@-R15                ;[必要]
33224                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33225 00007042 D103                13 I1          MOV.L   #_INT_POS_CTL_FLAG,R1           ;
33226 00007044 6011                14 I1          MOV.W   @R1,R0                          ;
33227 00007046 C808                15 I1          TST     #BIT3,R0                        ;
33228                              16 I1          TST_BIT_OF BRKTST_POSCTL_0020           ;
33229 00007048 8904                   M           BT      BRKTST_POSCTL_0020
33230                              17 I1          M_BRA   BRKTST_POSCTL_0800              ;非常停止中
33231 0000704A A099                   M           BRA     BRKTST_POSCTL_0800
33232 0000704C 0009                   M           NOP
33233                              18 I1  
33234                                 I1  ***** BEGIN-POOL *****
33235 0000704E 0000                   I1  ALIGNMENT CODE
33236 00007050 00000000               I1  DATA FOR SOURCE-LINE 13
33237                                 I1  ***** END-POOL *****
33238 00007054                     19 I1  BRKTST_POSCTL_0020:
33239 00007054 C801                20 I1          TST     #BIT0,R0                        ;
33240                              21 I1          TST_BIT_OF BRKTST_POSCTL_0040           ;
33241 00007056 8901                   M           BT      BRKTST_POSCTL_0040
33242                              22 I1          M_BRA   BRKTST_POSCTL_0200              ;起動中
33243 00007058 A064                   M           BRA     BRKTST_POSCTL_0200
33244 0000705A 0009                   M           NOP
33245                              23 I1  
33246                              24 I1  
33247 0000705C                     25 I1  BRKTST_POSCTL_0040:
33248 0000705C D603                26 I1          MOV.L   #_MNWR_POS_CMD,R6       ;ﾊﾟﾙｽ払出即停止
33249 0000705E 6061                27 I1          MOV.W   @R6,R0                  ;
33250 00007060 C907                28 I1          AND     #(BIT2+BIT1+BIT0),R0    ;
33251 00007062 8801                29 I1          CMP/EQ  #BIT0,R0                ;
33252 00007064 8904                30 I1          BT      BRKTST_POSCTL_0048              ;001
33253                              31 I1          M_BRA   BRKTST_POSCTL_0190              ;EXIT
33254 00007066 A035                   M           BRA     BRKTST_POSCTL_0190
33255 00007068 0009                   M           NOP
33256                              32 I1  ;       ==== 通常の位置決め起動コマンド状態
33257                                 I1  ***** BEGIN-POOL *****
33258 0000706A 0000                   I1  ALIGNMENT CODE
33259 0000706C 00000000               I1  DATA FOR SOURCE-LINE 26
33260                                 I1  ***** END-POOL *****
33261 00007070                     33 I1  BRKTST_POSCTL_0048:
33262                              34 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   487
PROGRAM NAME =

33263 00007070 222A                35 I1          XOR     R2,R2
33264 00007072 D11A                36 I1          MOV.L   #_INT_POS_STEP_FLG,R1   ;
33265 00007074 2121                37 I1          MOV.W   R2,@R1                  ;
33266 00007076 D11A                38 I1          MOV.L   #_INT_DND_CTL_STEP,R1;
33267 00007078 2121                39 I1          MOV.W   R2,@R1
33268 0000707A D11A                40 I1          MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
33269 0000707C 2121                41 I1          MOV.W   R2,@R1                  ;
33270 0000707E D11A                42 I1          MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//連続が１ｽﾃｯﾌﾟになった
33271 00007080 2121                43 I1          MOV.W   R2,@R1                          ;
33272                              44 I1  
33273                              45 I1  ;       ------ ﾓｰｼｮﾝ運転 --------
33274 00007082 D11A                46 I1          MOV.L   #_SV_POS_CTL_STEP,R1    ;//1msec 制御上の見かけ
33275 00007084 6411                47 I1          MOV.W   @R1,R4                  ;
33276 00007086 D21A                48 I1          MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
33277 00007088 2241                49 I1          MOV.W   R4,@R2                  ;
33278                              50 I1  
33279                              51 I1  
33280                              52 I1          FAR_JSR #_POS_LSI_START_INITAL,R0       ;((((((((((((段取・原点起動スキャン)))))))
                                          ))))
33281 0000708A D01A                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33282 0000708C 400B                   M           JSR     @R0                     ;
33283 0000708E 0009                   M           NOP                                     ;
33284                              53 I1          FAR_JSR #_DND_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
33285 00007090 D019                   M           MOV.L   #_DND_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33286 00007092 400B                   M           JSR     @R0                     ;
33287 00007094 0009                   M           NOP                                     ;
33288                              54 I1  
33289                              55 I1  
33290                              56 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0
33291 00007096 D019                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33292 00007098 400B                   M           JSR     @R0                     ;
33293 0000709A 0009                   M           NOP                                     ;
33294                              57 I1          FAR_JSR #_ERR_INFO_DT_IN3,R0            ;2004-01-28ADD,TOTAL(起動開始)
33295 0000709C D018                   M           MOV.L   #_ERR_INFO_DT_IN3,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33296 0000709E 400B                   M           JSR     @R0                     ;
33297 000070A0 0009                   M           NOP                                     ;
33298                              58 I1  
33299                              59 I1          FAR_JSR #_POS_PLSOUT_SET_RETRY,R0       ;(停止時からの起動の場合のみ有効・安一のみ
                                          )
33300 000070A2 D018                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33301 000070A4 400B                   M           JSR     @R0                     ;
33302 000070A6 0009                   M           NOP                                     ;
33303                              60 I1  
33304                              61 I1  ;       == 2004-03 ===
33305                              62 I1          FAR_JSR #_ERR_INFO_DT_CHK2,R0           ; SGL ONLY
33306 000070A8 D017                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33307 000070AA 400B                   M           JSR     @R0                     ;
33308 000070AC 0009                   M           NOP                                     ;
33309 000070AE 9013                63 I1          MOV.W   #D'2,R0                 ;
33310 000070B0 D116                64 I1          MOV.L   #_ERR_INFO_DLY_TIM,R1           ;
33311 000070B2 2101                65 I1          MOV.W   R0,@R1                          ;
33312                              66 I1  
33313                              67 I1          FAR_JSR #_ERR_INFO_DT_IN4,R0            ;
33314 000070B4 D016                   M           MOV.L   #_ERR_INFO_DT_IN4,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33315 000070B6 400B                   M           JSR     @R0                     ;
33316 000070B8 0009                   M           NOP                                     ;
33317                              68 I1          FAR_JSR #_FWD_REV_START,R1              ;起動
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   488
PROGRAM NAME =

33318 000070BA D116                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33319 000070BC 410B                   M           JSR     @R1                     ;
33320 000070BE 0009                   M           NOP                                     ;
33321                              69 I1  
33322                              70 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;
33323 000070C0 D115                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
33324 000070C2 6011                   M           MOV.W   @R1,R0          ;
33325 000070C4 CB01                   M           OR      #BIT0,R0                ;
33326 000070C6 2101                   M           MOV.W   R0,@R1          ;
33327                              71 I1  
33328                              72 I1          FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
33329 000070C8 D014                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33330 000070CA 400B                   M           JSR     @R0                     ;
33331 000070CC 0009                   M           NOP                                     ;
33332                              73 I1  
33333                              74 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0
33334 000070CE D014                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33335 000070D0 400B                   M           JSR     @R0                     ;
33336 000070D2 0009                   M           NOP                                     ;
33337                              75 I1  
33338 000070D4                     76 I1  BRKTST_POSCTL_0190:
33339                              77 I1          M_BRA   BRKTST_POSCTL_0800                      ;
33340 000070D4 A054                   M           BRA     BRKTST_POSCTL_0800
33341 000070D6 0009                   M           NOP
33342                              78 I1  
33343                              79 I1  ;       ===========================================
33344                              80 I1  ;       ===             起動中                  ===
33345                              81 I1  ;       ===========================================
33346                                 I1  ***** BEGIN-POOL *****
33347 000070D8 0002                   I1  DATA FOR SOURCE-LINE 63
33348 000070DA 0000                   I1  ALIGNMENT CODE
33349 000070DC 00000000               I1  DATA FOR SOURCE-LINE 36
33350 000070E0 00000000               I1  DATA FOR SOURCE-LINE 38
33351 000070E4 00000000               I1  DATA FOR SOURCE-LINE 40
33352 000070E8 00000000               I1  DATA FOR SOURCE-LINE 42
33353 000070EC 00000000               I1  DATA FOR SOURCE-LINE 46
33354 000070F0 00000000               I1  DATA FOR SOURCE-LINE 48
33355 000070F4 00000000               I1  DATA FOR SOURCE-LINE 52
33356 000070F8 00000000               I1  DATA FOR SOURCE-LINE 53
33357 000070FC 00000000               I1  DATA FOR SOURCE-LINE 56
33358 00007100 00000000               I1  DATA FOR SOURCE-LINE 57
33359 00007104 00000000               I1  DATA FOR SOURCE-LINE 59
33360 00007108 00000000               I1  DATA FOR SOURCE-LINE 62
33361 0000710C 00000000               I1  DATA FOR SOURCE-LINE 64
33362 00007110 00000000               I1  DATA FOR SOURCE-LINE 67
33363 00007114 00000000               I1  DATA FOR SOURCE-LINE 68
33364 00007118 00000000               I1  DATA FOR SOURCE-LINE 70
33365 0000711C 00000000               I1  DATA FOR SOURCE-LINE 72
33366 00007120 00000000               I1  DATA FOR SOURCE-LINE 74
33367                                 I1  ***** END-POOL *****
33368 00007124                     82 I1  BRKTST_POSCTL_0200:
33369 00007124 D609                83 I1          MOV.L   #_MNWR_POS_CMD,R6                                               ;
33370 00007126 6061                84 I1          MOV.W   @R6,R0                                                          ;
33371 00007128 8801                85 I1          CMP/EQ  #BIT0,R0                                                        ;
33372 0000712A 8919                86 I1          BT      BRKTST_POSCTL_0240                                              ;
33373                              87 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT3,WKREG=R1    ;
33374 0000712C D108                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   489
PROGRAM NAME =

33375 0000712E 6011                   M           MOV.W   @R1,R0          ;
33376 00007130 CB08                   M           OR      #BIT3,R0                ;
33377 00007132 2101                   M           MOV.W   R0,@R1          ;
33378                              88 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
33379 00007134 D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33380 00007136 400B                   M           JSR     @R0                     ;
33381 00007138 0009                   M           NOP                                     ;
33382                              89 I1          FAR_JSR #_POS_LSI_EMG_STOP,R0                                           ;急停止
33383 0000713A D007                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33384 0000713C 400B                   M           JSR     @R0                     ;
33385 0000713E 0009                   M           NOP                                     ;
33386                              90 I1          FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0                                  ;2004-03-0
                                          3
33387 00007140 D006                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33388 00007142 400B                   M           JSR     @R0                     ;
33389 00007144 0009                   M           NOP                                     ;
33390                              91 I1          M_BRA   BRKTST_POSCTL_0800                                                      ;
33391 00007146 A01B                   M           BRA     BRKTST_POSCTL_0800
33392 00007148 0009                   M           NOP
33393                              92 I1  
33394                              93 I1  
33395                                 I1  ***** BEGIN-POOL *****
33396 0000714A 0000                   I1  ALIGNMENT CODE
33397 0000714C 00000000               I1  DATA FOR SOURCE-LINE 83
33398 00007150 00000000               I1  DATA FOR SOURCE-LINE 87
33399 00007154 00000000               I1  DATA FOR SOURCE-LINE 88
33400 00007158 00000000               I1  DATA FOR SOURCE-LINE 89
33401 0000715C 00000000               I1  DATA FOR SOURCE-LINE 90
33402                                 I1  ***** END-POOL *****
33403 00007160                     94 I1  BRKTST_POSCTL_0240:
33404                              95 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
33405 00007160 D009                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33406 00007162 400B                   M           JSR     @R0                     ;
33407 00007164 0009                   M           NOP                                     ;
33408                              96 I1  
33409                              97 I1  ;       === FLAG SET(REST-PLS REFLASH-END)====
33410                              98 I1          eSHi_SET_IM_MOV DST=_SH4_REST_RL_HF,L1=W,WKREG1=R1,WKREG2=R0,IMD=1      ;
33411                                 M           PUSH_REG1 R1            ;
33412 00007166 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
33413                                 M                                           ;REG=>[SP]
33414                                 M                                           ;"-4" FF,FF,FF,FC
33415                                 M           PUSH_REG1 R0            ;
33416 00007168 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
33417                                 M                                           ;REG=>[SP]
33418                                 M                                           ;"-4" FF,FF,FF,FC
33419 0000716A 900C                   M           MOV.W   #1,R0           ;
33420 0000716C D107                   M           MOV.L   #_SH4_REST_RL_HF,R1             ;
33421 0000716E 2101                   M           MOV.W   R0,@R1  ;
33422                                 M           POP_REG1 R0             ;
33423                                 M                                   ; RE"+4" 00,00,00,04
33424 00007170 60F6                   M           MOV.L   @R15+,R0        ;
33425                                 M           POP_REG1 R1             ;
33426                                 M                                   ; RE"+4" 00,00,00,04
33427 00007172 61F6                   M           MOV.L   @R15+,R1        ;
33428                              99 I1  
33429                             100 I1  
33430                             101 I1  ;       === 2004-01-28===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   490
PROGRAM NAME =

33431                             102 I1          FAR_JSR #_ERR_INFO_DT_CHK2,R0           ;0CHEAK(起動中常時) SGL-ONLY
33432 00007174 D006                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33433 00007176 400B                   M           JSR     @R0                     ;
33434 00007178 0009                   M           NOP                                     ;
33435                             103 I1          FAR_JSR #_ERR_INFO_DT_CHK3,R0           ;PLS SGL-OMLY
33436 0000717A D006                   M           MOV.L   #_ERR_INFO_DT_CHK3,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33437 0000717C 400B                   M           JSR     @R0                     ;
33438 0000717E 0009                   M           NOP                                     ;
33439                             104 I1  
33440                             105 I1          .AIF 0  EQ 1    ;2006-09-19
33441                             106             FAR_JSR #_ERR_INFO_DT_CHK_CMP2,R0       ;SGL-ONLY
33442                             107             .AENDI
33443                             108 I1  
33444                             109 I1  
33445 00007180                    110 I1  BRKTST_POSCTL_0800:
33446                             111 I1  
33447                             112 I1          SUB_END
33448                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33449 00007180 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33450                             113 I1          M_RTS
33451 00007182 000B                   M           RTS                             ;RTSの後ろの
33452 00007184 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33453                             114 I1  
33454                             115 I1  ;       *******************************************
33455                             116 I1  ;       ***                                     ***
33456                             117 I1  ;       ***             目標位置作成            ***
33457                             118 I1  ;       ***                                     ***
33458                             119 I1  ;       *******************************************
33459                                 I1  ***** BEGIN-POOL *****
33460 00007186 0001                   I1  DATA FOR SOURCE-LINE 98
33461 00007188 00000000               I1  DATA FOR SOURCE-LINE 95
33462 0000718C 00000000               I1  DATA FOR SOURCE-LINE 98
33463 00007190 00000000               I1  DATA FOR SOURCE-LINE 102
33464 00007194 00000000               I1  DATA FOR SOURCE-LINE 103
33465                                 I1  ***** END-POOL *****
33466 00007198                    120 I1          .ALIGN  4                               ;
33467 00007198                    121 I1  _BRKTST_POS_START:
33468                             122 I1          SUB_START
33469 00007198 4F22                   M           STS.L   PR,@-R15                ;[必要]
33470                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33471                             123 I1  
33472                             124 I1  ;       ----------2014-11-10------------
33473 0000719A 200A               125 I1          XOR     R0,R0
33474 0000719C D12C               126 I1          MOV.L   #_MOVE_MODE_MATH_LATCH,R1       ;//0:(ふりこ以外 または 段取・原点モード)1
                                          :(ふりこでﾓｰｼｮﾝしていた)
33475 0000719E 2101               127 I1          MOV.W   R0,@R1                          ;
33476                             128 I1  ;       ----------------------------------
33477                             129 I1  
33478                             130 I1  
33479                             131 I1  ;       === 目標位置生成=========
33480                             132 I1          FAR_JSR #_BRKTST_OBJ_MAKE,R0
33481 000071A0 D02C                   M           MOV.L   #_BRKTST_OBJ_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33482 000071A2 400B                   M           JSR     @R0                     ;
33483 000071A4 0009                   M           NOP                                     ;
33484                             133 I1  
33485                             134 I1          FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
33486 000071A6 D02C                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   491
PROGRAM NAME =

33487 000071A8 400B                   M           JSR     @R0                     ;
33488 000071AA 0009                   M           NOP                                     ;
33489                             135 I1          FAR_JSR #_SGL_CMP_ERR_DT_CLR,R0
33490 000071AC D02B                   M           MOV.L   #_SGL_CMP_ERR_DT_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33491 000071AE 400B                   M           JSR     @R0                     ;
33492 000071B0 0009                   M           NOP                                     ;
33493                             136 I1  
33494                             137 I1          FAR_JSR #_LSI_REST_PLS_CHK_START_CLR,R0 ;
33495 000071B2 D02B                   M           MOV.L   #_LSI_REST_PLS_CHK_START_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33496 000071B4 400B                   M           JSR     @R0                     ;
33497 000071B6 0009                   M           NOP                                     ;
33498                             138 I1          FAR_JSR #_GPOSIN_HOS_DRV_INI,R0
33499 000071B8 D02A                   M           MOV.L   #_GPOSIN_HOS_DRV_INI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33500 000071BA 400B                   M           JSR     @R0                     ;
33501 000071BC 0009                   M           NOP                                     ;
33502                             139 I1  
33503 000071BE 222A               140 I1          XOR     R2,R2
33504 000071C0 D129               141 I1          MOV.L   #_INT_DND_CTL_STEP,R1;
33505 000071C2 2121               142 I1          MOV.W   R2,@R1
33506 000071C4 D129               143 I1          MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
33507 000071C6 2121               144 I1          MOV.W   R2,@R1
33508                             145 I1  
33509 000071C8 200A               146 I1          XOR     R0,R0                           ;(1ｻｲｸﾙ完了時にOFFしていないとならない信号
                                          なのに)
33510 000071CA D129               147 I1          MOV.L   #_INT_POS_CTL_FLAG,R1           ;
33511 000071CC 2101               148 I1          MOV.W   R0,@R1                          ;
33512                             149 I1  
33513                             150 I1  ;       === 2004-12-20 ===
33514 000071CE D129               151 I1          MOV.L   #_CNT_STOP_CTRL_FLG,R1  ;//BIT0,BIT1:差し引き終了
33515 000071D0 2101               152 I1          MOV.W   R0,@R1                          ;
33516                             153 I1  
33517                             154 I1          FAR_JSR #_CNTREST_HOS_RESET,R1  ;
33518 000071D2 D129                   M           MOV.L   #_CNTREST_HOS_RESET,R1          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33519 000071D4 410B                   M           JSR     @R1                     ;
33520 000071D6 0009                   M           NOP                                     ;
33521                             155 I1  
33522                             156 I1  ;       === 2004-01-26 CCS===
33523 000071D8 200A               157 I1          XOR     R0,R0
33524 000071DA D128               158 I1          MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
33525 000071DC 2101               159 I1          MOV.W   R0,@R1                          ;
33526                             160 I1  
33527                             161 I1  
33528                             162 I1  ;       ====== 一旦停止信号OFF=====
33529                             163 I1          MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
33530 000071DE D128                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
33531 000071E0 6011                   M           MOV.W   @R1,R0          ;
33532 000071E2 9432                   M           MOV.W   #LWORD (~BIT9),R4       ;
33533 000071E4 2049                   M           AND     R4,R0           ;
33534 000071E6 2101                   M           MOV.W   R0,@R1          ;
33535                             164 I1  
33536                             165 I1          FAR_JSR #_CMPCYC_START_CLR,R0           ;
33537 000071E8 D026                   M           MOV.L   #_CMPCYC_START_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33538 000071EA 400B                   M           JSR     @R0                     ;
33539 000071EC 0009                   M           NOP                                     ;
33540                             166 I1          FAR_JSR #_CMPSTP_CNT_STOP_CLR,R0        ;起動時のみ連続停止クリア（後はサイクル完
                                          了時も）
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   492
PROGRAM NAME =

33541 000071EE D026                   M           MOV.L   #_CMPSTP_CNT_STOP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33542 000071F0 400B                   M           JSR     @R0                     ;
33543 000071F2 0009                   M           NOP                                     ;
33544                             167 I1  
33545                             168 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0    ;
33546 000071F4 D025                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33547 000071F6 400B                   M           JSR     @R0                     ;
33548 000071F8 0009                   M           NOP                                     ;
33549                             169 I1  
33550                             170 I1          FAR_JSR #_DAI_MOSTPOS_SMPINI,R0         ;2003-02-03
33551 000071FA D025                   M           MOV.L   #_DAI_MOSTPOS_SMPINI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33552 000071FC 400B                   M           JSR     @R0                     ;
33553 000071FE 0009                   M           NOP                                     ;
33554                             171 I1          FAR_JSR #_KJPHOS_SMPINI,R0              ;2004-07-05
33555 00007200 D024                   M           MOV.L   #_KJPHOS_SMPINI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33556 00007202 400B                   M           JSR     @R0                     ;
33557 00007204 0009                   M           NOP                                     ;
33558                             172 I1  
33559                             173 I1          FAR_JSR #_POS_LSI_WORK_STOP2,R0
33560 00007206 D024                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33561 00007208 400B                   M           JSR     @R0                     ;
33562 0000720A 0009                   M           NOP                                     ;
33563                             174 I1  
33564 0000720C 200A               175 I1          XOR     R0,R0                   ;
33565 0000720E D123               176 I1          MOV.L   #_INT_CYC_DRV_STS,R1    ;
33566 00007210 2101               177 I1          MOV.W   R0,@R1                  ;
33567 00007212 D123               178 I1          MOV.L   #_STOP_LATCH,R1         ;//BIT0:ｽﾄｯﾌﾟ釦
33568 00007214 2101               179 I1          MOV.W   R0,@R1                  ;
33569 00007216 D123               180 I1          MOV.L   #_STOP_LATCH_B,R1       ;//BIT0:ｽﾄｯﾌﾟ釦
33570 00007218 2101               181 I1          MOV.W   R0,@R1                  ;
33571 0000721A D123               182 I1          MOV.L   #_INT_CLS_CTL_FLG,R1    ;//BIT0=1 START 起動時ｸﾘｱ
33572 0000721C 2101               183 I1          MOV.W   R0,@R1                  ;
33573                             184 I1  ;;2016-10-31未使用      MOV.L   #_LOT_CNT_TO_MOD,R1     ;
33574                             185 I1  ;;2016-10-31未使用      MOV.W   R0,@R1                  ;
33575                             186 I1  
33576                             187 I1  
33577                             188 I1  
33578                             189 I1  
33579 0000721E D123               190 I1          MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;2004-05-24
33580 00007220 200A               191 I1          XOR     R0,R0                           ;
33581 00007222 2101               192 I1          MOV.W   R0,@R1                          ;
33582                             193 I1  
33583                             194 I1  
33584 00007224 9012               195 I1          MOV.W   #BIT0,R0                        ;起動
33585 00007226 D122               196 I1          MOV.L   #_MNWR_POS_CMD,R1               ;
33586 00007228 2101               197 I1          MOV.W   R0,@R1                          ;
33587                             198 I1  
33588                             199 I1  ;       --------2009-04-01 起動したらフラグクリア[原点時の]
33589                             200 I1          MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1      ;
                                          原点起動で使用
33590 0000722A D422                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
33591 0000722C 6041                   M           MOV.W   @R4,R0          ;
33592 0000722E 910E                   M           MOV.W   #LWORD (~BIT5),R1       ;
33593 00007230 2019                   M           AND     R1,R0           ;
33594 00007232 2401                   M           MOV.W   R0,@R4          ;
33595                             201 I1          MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
33596 00007234 D420                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   493
PROGRAM NAME =

33597 00007236 6041                   M           MOV.W   @R4,R0          ;
33598 00007238 9109                   M           MOV.W   #LWORD (~BIT5),R1       ;
33599 0000723A 2019                   M           AND     R1,R0           ;
33600 0000723C 2401                   M           MOV.W   R0,@R4          ;
33601                             202 I1  
33602                             203 I1  ;       ------- 起動------------
33603 0000723E 9005               204 I1          MOV.W   #BIT0,R0                ;
33604 00007240 D11E               205 I1          MOV.L   #_BRKTST_STR_FLG,R1     ;
33605 00007242 2101               206 I1          MOV.W   R0,@R1                  ;
33606                             207 I1  
33607                             208 I1          SUB_END
33608                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33609 00007244 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33610                             209 I1          M_RTS
33611 00007246 000B                   M           RTS                             ;RTSの後ろの
33612 00007248 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33613                             210 I1  
33614                             211 I1  
33615                                 I1  ***** BEGIN-POOL *****
33616 0000724A FDFF                   I1  DATA FOR SOURCE-LINE 163
33617 0000724C 0001                   I1  DATA FOR SOURCE-LINE 195,204
33618 0000724E FFDF                   I1  DATA FOR SOURCE-LINE 200,201
33619 00007250 00000000               I1  DATA FOR SOURCE-LINE 126
33620 00007254 00000000               I1  DATA FOR SOURCE-LINE 132
33621 00007258 00000000               I1  DATA FOR SOURCE-LINE 134
33622 0000725C 00000000               I1  DATA FOR SOURCE-LINE 135
33623 00007260 00000000               I1  DATA FOR SOURCE-LINE 137
33624 00007264 00000000               I1  DATA FOR SOURCE-LINE 138
33625 00007268 00000000               I1  DATA FOR SOURCE-LINE 141
33626 0000726C 00000000               I1  DATA FOR SOURCE-LINE 143
33627 00007270 00000000               I1  DATA FOR SOURCE-LINE 147
33628 00007274 00000000               I1  DATA FOR SOURCE-LINE 151
33629 00007278 00000000               I1  DATA FOR SOURCE-LINE 154
33630 0000727C 00000000               I1  DATA FOR SOURCE-LINE 158
33631 00007280 00000000               I1  DATA FOR SOURCE-LINE 163
33632 00007284 00000000               I1  DATA FOR SOURCE-LINE 165
33633 00007288 00000000               I1  DATA FOR SOURCE-LINE 166
33634 0000728C 00000000               I1  DATA FOR SOURCE-LINE 168
33635 00007290 00000000               I1  DATA FOR SOURCE-LINE 170
33636 00007294 00000000               I1  DATA FOR SOURCE-LINE 171
33637 00007298 00000000               I1  DATA FOR SOURCE-LINE 173
33638 0000729C 00000000               I1  DATA FOR SOURCE-LINE 176
33639 000072A0 00000000               I1  DATA FOR SOURCE-LINE 178
33640 000072A4 00000000               I1  DATA FOR SOURCE-LINE 180
33641 000072A8 00000000               I1  DATA FOR SOURCE-LINE 182
33642 000072AC 00000000               I1  DATA FOR SOURCE-LINE 190
33643 000072B0 00000000               I1  DATA FOR SOURCE-LINE 196
33644 000072B4 00000000               I1  DATA FOR SOURCE-LINE 200
33645 000072B8 00000000               I1  DATA FOR SOURCE-LINE 201
33646 000072BC 00000000               I1  DATA FOR SOURCE-LINE 205
33647                                 I1  ***** END-POOL *****
33648 000072C0                    212 I1          .ALIGN  4                               ;
33649 000072C0                    213 I1  _BRKTST_OBJ_MAKE
33650                             214 I1          SUB_START
33651 000072C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
33652                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33653                             215 I1  ;       --------------------------------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   494
PROGRAM NAME =

33654 000072C2 D024               216 I1          MOV.L   #_CTL_ENC360,R0                         ;//360.0度(いまのところ不要)
33655 000072C4 6101               217 I1          MOV.W   @R0,R1                                  ;
33656 000072C6 D424               218 I1          MOV.L   #_STR_ENC3600_DIG,R4                    ;//運転開始時の360.0角度
33657 000072C8 2411               219 I1          MOV.W   R1,@R4                                  ;
33658                             220 I1  
33659                             221 I1  ;       -----------------------------------------
33660 000072CA D424               222 I1          MOV.L   #_LINK_PV_ABSPLS,R4                     ;
33661 000072CC 6146               223 I1          MOV.L   @R4+,R1                                 ;
33662 000072CE 6242               224 I1          MOV.L   @R4,R2                                  ;
33663 000072D0 D423               225 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
33664 000072D2 1410               226 I1          MOV.L   R1,@(0,R4)                              ;
33665 000072D4 1421               227 I1          MOV.L   R2,@(4,R4)                              ;
33666                             228 I1  
33667                             229 I1  ;       ---------- 目標位置設定------
33668 000072D6 D423               230 I1          MOV.L   #_LINK_1ROT_PLS,R4                      ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
33669 000072D8 6642               231 I1          MOV.L   @R4,R6                                  ;
33670 000072DA 255A               232 I1          XOR     R5,R5                                   ;
33671                             233 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R5,R6 +R1,R2=>R1,
                                          R2
33672 000072DC 0008                   M           CLRT
33673 000072DE 326E                   M           ADDC    R6,R2
33674 000072E0 315E                   M           ADDC    R5,R1
33675                             234 I1  
33676 000072E2 D421               235 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
33677 000072E4 2412               236 I1          MOV.L   R1,@R4                          ;
33678 000072E6 1421               237 I1          MOV.L   R2,@(1*4,R4)                    ;目標位置ｾｯﾄ
33679                             238 I1  
33680                             239 I1  
33681                             240 I1  ;       ---------- 方向------
33682 000072E8 200A               241 I1          XOR     R0,R0                           ;BIT0=0:正
33683 000072EA D120               242 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
33684 000072EC 2101               243 I1          MOV.W   R0,@R1
33685                             244 I1  
33686                             245 I1  
33687                             246 I1  ;       ---------- 目標位置設定------
33688                             247 I1  ;;;;;2011-09-14 MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
33689                             248 I1  ;;;;;2011-09-14 MOV.W   @R1,R0
33690                             249 I1  ;;;;;2011-09-14 FAR_JSR #_LINK_P_M_MAX,R4               ;Input R0:BIT0 DIRECT
33691                             250 I1                                                  ;_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止
                                          目標位置(設定ﾊﾞｯｸﾗｯｼなし)
33692                             251 I1  
33693                             252 I1  
33694                             253 I1  
33695                             254 I1  
33696                             255 I1          FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
33697 000072EE D020                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33698 000072F0 400B                   M           JSR     @R0                     ;
33699 000072F2 0009                   M           NOP                                     ;
33700                             256 I1  
33701                             257 I1  ;       ---------- SPEED SET---------------
33702                             258 I1  ;;      MOV.L   #_FREQ_PLSI_MAX_FRQ,R1  ;
33703                             259 I1  ;;;     MOV.L   #_LINK_MAX_SPD_PLS,R1
33704                             260 I1  
33705 000072F4 D11F               261 I1          MOV.L   #_BRKTST_OUTSPD_PLS,R1  ;
33706 000072F6 6212               262 I1          MOV.L   @R1,R2                  ;
33707 000072F8 D11F               263 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1 ;//目標速度
33708 000072FA 2122               264 I1          MOV.L   R2,@R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   495
PROGRAM NAME =

33709                             265 I1  
33710                             266 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SET,R0      ;input R2
33711 000072FC D01F                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33712 000072FE 400B                   M           JSR     @R0                     ;
33713 00007300 0009                   M           NOP                                     ;
33714                             267 I1  
33715                             268 I1  
33716                             269 I1  
33717                             270 I1  
33718                             271 I1  ;       -------------------ｵｰﾊﾞﾗｲﾄﾞﾃﾞｰﾀMAX-----------
33719 00007302 9226               272 I1          MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
33720                             273 I1          REG_MOV_TO_MEM  DST_ADR=_SET_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
33721 00007304 D11E                   M           MOV.L   #_SET_SPD_OVRLIDE,R1    ;DST_ADR
33722 00007306 2121                   M           MOV.W   R2,@R1  ;DST_ADR
33723                             274 I1          REG_MOV_TO_MEM  DST_ADR=_SET_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
33724 00007308 D11E                   M           MOV.L   #_SET_ACC_OVRLIDE,R1    ;DST_ADR
33725 0000730A 2121                   M           MOV.W   R2,@R1  ;DST_ADR
33726                             275 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT1,WKREG=R4  ;
33727 0000730C D41E                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
33728 0000730E 6041                   M           MOV.W   @R4,R0          ;
33729 00007310 C9FD                   M           AND     #LOW ~BIT1,R0           ;
33730 00007312 2401                   M           MOV.W   R0,@R4          ;
33731                             276 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~(BIT1+BIT0),WKREG=R4   ;
33732 00007314 D41C                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
33733 00007316 6041                   M           MOV.W   @R4,R0          ;
33734 00007318 C9FC                   M           AND     #LOW ~(BIT1+BIT0),R0            ;
33735 0000731A 2401                   M           MOV.W   R0,@R4          ;
33736                             277 I1  
33737                             278 I1          FAR_JSR #_OVERRIDE_CALC_LATE_SEL,R0     ;
33738 0000731C D01B                   M           MOV.L   #_OVERRIDE_CALC_LATE_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33739 0000731E 400B                   M           JSR     @R0                     ;
33740 00007320 0009                   M           NOP                                     ;
33741                             279 I1          FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;
33742 00007322 D01B                   M           MOV.L   #_OVERRIDE_CALC_SPED_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33743 00007324 400B                   M           JSR     @R0                     ;
33744 00007326 0009                   M           NOP                                     ;
33745                             280 I1  
33746                             281 I1  ;       --------- ﾌﾞﾚｰｷ異常ﾃﾞｰﾀ1　ｵｰﾊﾞﾗｲﾄﾞにも対応しておく----
33747                             282 I1          FAR_JSR #_ACCBRK1_SV_MAKE,R0            ;
33748 00007328 D01A                   M           MOV.L   #_ACCBRK1_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33749 0000732A 400B                   M           JSR     @R0                     ;
33750 0000732C 0009                   M           NOP                                     ;
33751                             283 I1          FAR_JSR #_ACCBRK2_SV_MAKE,R0            ;
33752 0000732E D01A                   M           MOV.L   #_ACCBRK2_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33753 00007330 400B                   M           JSR     @R0                     ;
33754 00007332 0009                   M           NOP                                     ;
33755                             284 I1  
33756                             285 I1  
33757                             286 I1  ;       ------------------2011-09-14----------停止位置-----
33758 00007334 D40A               287 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
33759 00007336 5140               288 I1          MOV.L   @(0,R4),R1
33760 00007338 5241               289 I1          MOV.L   @(4,R4),R2
33761                             290 I1  
33762 0000733A D418               291 I1          MOV.L   #_WPARX_BRKTST_STPLNG,R4                ;//相対ﾊﾟﾙｽ
33763 0000733C 6642               292 I1          MOV.L   @R4,R6                                  ;
33764 0000733E 255A               293 I1          XOR     R5,R5                                   ;
33765                             294 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R5,R6 +R1,R2=>R1,
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   496
PROGRAM NAME =

                                          R2
33766 00007340 0008                   M           CLRT
33767 00007342 326E                   M           ADDC    R6,R2
33768 00007344 315E                   M           ADDC    R5,R1
33769                             295 I1  
33770 00007346 D416               296 I1          MOV.L   #_BRKTST_STP_ABSPLS,R4                                  ;
33771 00007348 2412               297 I1          MOV.L   R1,@R4                                                  ;
33772 0000734A 1421               298 I1          MOV.L   R2,@(1*4,R4)                                            ;
33773                             299 I1  
33774                             300 I1  
33775                             301 I1          SUB_END
33776                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33777 0000734C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33778                             302 I1          M_RTS
33779 0000734E 000B                   M           RTS                             ;RTSの後ろの
33780 00007350 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33781                             303 I1  
33782                           11222     
33783                           11223     
33784                           11224     ;       *******************************************
33785                           11225     ;       ***                                     ***
33786                           11226     ;       ***                                     ***
33787                           11227     ;       ***                                     ***
33788                           11228     ;       ***     ポジショナ- CPUA                ***
33789                           11229     ;       ***                                     ***
33790                           11230     ;       ***                                     ***
33791                           11231     ;       *******************************************
33792                                     ***** BEGIN-POOL *****
33793 00007352 0064                       DATA FOR SOURCE-LINE 272
33794 00007354 00000000                   DATA FOR SOURCE-LINE 216
33795 00007358 00000000                   DATA FOR SOURCE-LINE 218
33796 0000735C 00000000                   DATA FOR SOURCE-LINE 222
33797 00007360 00000000                   DATA FOR SOURCE-LINE 225,287
33798 00007364 00000000                   DATA FOR SOURCE-LINE 230
33799 00007368 00000000                   DATA FOR SOURCE-LINE 235
33800 0000736C 00000000                   DATA FOR SOURCE-LINE 242
33801 00007370 00000000                   DATA FOR SOURCE-LINE 255
33802 00007374 00000000                   DATA FOR SOURCE-LINE 261
33803 00007378 00000000                   DATA FOR SOURCE-LINE 263
33804 0000737C 00000000                   DATA FOR SOURCE-LINE 266
33805 00007380 00000000                   DATA FOR SOURCE-LINE 273
33806 00007384 00000000                   DATA FOR SOURCE-LINE 274
33807 00007388 00000000                   DATA FOR SOURCE-LINE 275,276
33808 0000738C 00000000                   DATA FOR SOURCE-LINE 278
33809 00007390 00000000                   DATA FOR SOURCE-LINE 279
33810 00007394 00000000                   DATA FOR SOURCE-LINE 282
33811 00007398 00000000                   DATA FOR SOURCE-LINE 283
33812 0000739C 00000000                   DATA FOR SOURCE-LINE 291
33813 000073A0 00000000                   DATA FOR SOURCE-LINE 296
33814                                     ***** END-POOL *****
33815 000073A4                  11232             .ALIGN  4                                       ;
33816                           11233             .INCLUDE        "ssa_cop1pos.inc"               ; //
33817                               1 I1  ;       ***********************************
33818                               2 I1  ;       ***                             ***
33819                               3 I1  ;       ***     ﾎﾟｼﾞｼｮﾅ動作             ***
33820                               4 I1  ;       ***                             ***
33821                               5 I1  ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   497
PROGRAM NAME =

33822                               6 I1  ;       cpuaだけ
33823                               7 I1  ;
33824                               8 I1  ;       @"自動ﾀﾞｲﾊｲﾄｽﾀｰﾄ":手動ﾀﾞｲﾊｲﾄと同一演算にてﾀﾞｲﾊｲﾄ位置を表示する
33825                               9 I1  ;       A位置比較
33826                              10 I1  ;
33827                              11 I1  ;       341.9
33828                              12 I1          .IMPORT         _SVP_ATSLID_OBJ1        ; スライド自動調節設定値（現在動作中）0.00
                                          1mm
33829                              13 I1          .IMPORT         _SVP_ATSLID_DNOBJ1      ; スライド自動調節　下降停止 0~99
33830                              14 I1          .IMPORT         _SVP_ATSLID_UPOBJ1      ; スライド自動調節　上昇停止 "
33831                              15 I1          .IMPORT         _SVP_ATSLID_BAKLNG      ; スライド自動調節　戻り量   "
33832                              16 I1          .IMPORT         _SVP_ATSLID_COEF1       ; スライド自動調節　制御精度 "
33833                              17 I1          .IMPORT         _SVP_SLPOS_DIR          ;位置決め方向 0(上昇)/1(下降)
33834                              18 I1          .IMPORT         _SVP_SL_TENPOS          ;小数点
33835                              19 I1  
33836                              20 I1          .IMPORT         _PVP_ATSLID_OBJ1        ;2021-06-24 CPUDﾃﾞｰﾀﾁｪｯｸ用ANSﾊﾞｯｸ
33837                              21 I1  
33838                              22 I1          .EXPORT _POSITIONER_DAIHAITO
33839 000073A4                     23 I1  _POSITIONER_DAIHAITO
33840                              24 I1          SUB_START
33841 000073A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
33842                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33843                              25 I1  
33844                              26 I1  ;---------- 2021-06-24[H2W-CE3:2020-08-11 SV ANS BAK]----------------
33845 000073A6 D109                27 I1          MOV.L   #_SVP_ATSLID_OBJ1,R1                            ; スライド自動調節設定値（
                                          現在動作中）0.001mm
33846 000073A8 6212                28 I1          MOV.L   @R1,R2                                                          ;0.001mm 6
                                          553.5
33847 000073AA D109                29 I1          MOV.L   #_PVP_ATSLID_OBJ1,R1                            ;
33848 000073AC 2122                30 I1          MOV.L   R2,@R1                                                          ;
33849                              31 I1  ;       ----------------------------------------------
33850                              32 I1  
33851                              33 I1          FAR_JSR #_POSITINER_POS_CMP,R0          ;2021-06-24
33852 000073AE D009                   M           MOV.L   #_POSITINER_POS_CMP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33853 000073B0 400B                   M           JSR     @R0                     ;
33854 000073B2 0009                   M           NOP                                     ;
33855                              34 I1  
33856 000073B4 D508                35 I1          MOV.L   #_POSINER_FLG,R5                ;
33857 000073B6 6051                36 I1          MOV.W   @R5,R0                          ;
33858 000073B8 2008                37 I1          TST     R0,R0                           ;
33859                              38 I1          TST_BIT_ON POSITIONER_DAICTL_100        ;
33860 000073BA 8B2B                   M           BF      POSITIONER_DAICTL_100
33861                              39 I1  
33862 000073BC D107                40 I1          MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341.9
33863 000073BE 6011                41 I1          MOV.W   @R1,R0                          ;
33864 000073C0 9403                42 I1          MOV.W   #BIT9,R4                        ;
33865 000073C2 2048                43 I1          TST     R4,R0                           ;
33866                              44 I1          TST_BIT_ON POSITIONER_DAICTL_020        ;
33867 000073C4 8B0C                   M           BF      POSITIONER_DAICTL_020
33868                              45 I1          M_BRA   POSITIONER_DAICTL_EXT           ;
33869 000073C6 A0E6                   M           BRA     POSITIONER_DAICTL_EXT
33870 000073C8 0009                   M           NOP
33871                              46 I1  
33872                              47 I1  ;       -------------- 起動-----------------
33873                                 I1  ***** BEGIN-POOL *****
33874 000073CA 0200                   I1  DATA FOR SOURCE-LINE 42
33875 000073CC 00000000               I1  DATA FOR SOURCE-LINE 27
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   498
PROGRAM NAME =

33876 000073D0 00000000               I1  DATA FOR SOURCE-LINE 29
33877 000073D4 00000000               I1  DATA FOR SOURCE-LINE 33
33878 000073D8 00000000               I1  DATA FOR SOURCE-LINE 35
33879 000073DC 00000000               I1  DATA FOR SOURCE-LINE 40
33880                                 I1  ***** END-POOL *****
33881 000073E0                     48 I1  POSITIONER_DAICTL_020
33882 000073E0 E001                49 I1          MOV.B   #BIT0,R0                        ;
33883 000073E2 2501                50 I1          MOV.W   R0,@R5                          ;FLG.0=1
33884                              51 I1  
33885                              52 I1  ;       ------------------------------------
33886 000073E4 200A                53 I1          XOR     R0,R0                           ;
33887 000073E6 D107                54 I1          MOV.L   #_POSINER_RETRY_CNT,R1          ;
33888 000073E8 2101                55 I1          MOV.W   R0,@R1                          ;
33889                              56 I1  
33890                              57 I1  
33891 000073EA E002                58 I1          MOV.B   #BIT1,R0                        ;上昇からの+位置決め中
33892 000073EC D106                59 I1          MOV.L   #_SVP_SLPOS_DIR,R1              ;位置決め方向
33893 000073EE 6411                60 I1          MOV.W   @R1,R4                          ;
33894 000073F0 2448                61 I1          TST     R4,R4                           ;
33895                              62 I1          TST_BIT_OF POSITIONER_DAICTL_040        ;
33896 000073F2 8900                   M           BT      POSITIONER_DAICTL_040
33897 000073F4 E042                63 I1          MOV.B   #BIT6+BIT1,R0                   ;下降からの+位置決め中
33898 000073F6                     64 I1  POSITIONER_DAICTL_040:
33899 000073F6 D105                65 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
33900 000073F8 2101                66 I1          MOV.W   R0,@R1                          ;
33901                              67 I1          FAR_JSR #_POSITIONER_DAI_DATA,R0
33902 000073FA D005                   M           MOV.L   #_POSITIONER_DAI_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33903 000073FC 400B                   M           JSR     @R0                     ;
33904 000073FE 0009                   M           NOP                                     ;
33905                              68 I1          M_BRA   POSITIONER_DAICTL_800
33906 00007400 A0BE                   M           BRA     POSITIONER_DAICTL_800
33907 00007402 0009                   M           NOP
33908                              69 I1  
33909                              70 I1  
33910                              71 I1  
33911                              72 I1  ;       ----------------------------------------------
33912                                 I1  ***** BEGIN-POOL *****
33913 00007404 00000000               I1  DATA FOR SOURCE-LINE 54
33914 00007408 00000000               I1  DATA FOR SOURCE-LINE 59
33915 0000740C 00000000               I1  DATA FOR SOURCE-LINE 65
33916 00007410 00000000               I1  DATA FOR SOURCE-LINE 67
33917                                 I1  ***** END-POOL *****
33918 00007414                     73 I1  POSITIONER_DAICTL_100
33919                              74 I1  
33920 00007414 D108                75 I1          MOV.L   #_PVX_DAI_POS1,R1               ;ﾀﾞｲﾊｲﾄ表示値・制御値
33921 00007416 6212                76 I1          MOV.L   @R1,R2                          ;SAVE R2 -->NEXT CALC USED
33922 00007418 D108                77 I1          MOV.L   #_POSINER_PV_POS,R1             ;//目標位置
33923 0000741A 2122                78 I1          MOV.L   R2,@R1                          ;
33924                              79 I1  
33925 0000741C D108                80 I1          MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341.9
33926 0000741E 6211                81 I1          MOV.W   @R1,R2                          ;
33927 00007420 9408                82 I1          MOV.W   #BIT9,R4                        ;
33928 00007422 2248                83 I1          TST     R4,R2                           ;
33929                              84 I1          TST_BIT_ON POSITIONER_DAICTL_200        ;
33930 00007424 8B12                   M           BF      POSITIONER_DAICTL_200
33931                              85 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   499
PROGRAM NAME =

33932                              86 I1  ;       --------------- 指令OFF 終了---------------
33933 00007426 200A                87 I1          XOR     R0,R0                           ;
33934 00007428 D506                88 I1          MOV.L   #_POSINER_FLG,R5                ;
33935 0000742A 2501                89 I1          MOV.W   R0,@R5                          ;
33936 0000742C D106                90 I1          MOV.L   #_POSINER_STS,R1                ;
33937 0000742E 2101                91 I1          MOV.W   R0,@R1                          ;
33938                              92 I1          M_BRA   POSITIONER_DAICTL_800
33939 00007430 A0A6                   M           BRA     POSITIONER_DAICTL_800
33940 00007432 0009                   M           NOP
33941                              93 I1  
33942                              94 I1  ;       -------------- 運転--------------------
33943                                 I1  ***** BEGIN-POOL *****
33944 00007434 0200                   I1  DATA FOR SOURCE-LINE 82
33945 00007436 0000                   I1  ALIGNMENT CODE
33946 00007438 00000000               I1  DATA FOR SOURCE-LINE 75
33947 0000743C 00000000               I1  DATA FOR SOURCE-LINE 77
33948 00007440 00000000               I1  DATA FOR SOURCE-LINE 80
33949 00007444 00000000               I1  DATA FOR SOURCE-LINE 88
33950 00007448 00000000               I1  DATA FOR SOURCE-LINE 90
33951                                 I1  ***** END-POOL *****
33952 0000744C                     95 I1  POSITIONER_DAICTL_200
33953 0000744C D506                96 I1          MOV.L   #_POSINER_FLG,R5                ;
33954 0000744E 6051                97 I1          MOV.W   @R5,R0                          ;
33955 00007450 C802                98 I1          TST     #BIT1,R0                        ;
33956                              99 I1          TST_BIT_ON POSITIONER_DAICTL_300        ;
33957 00007452 8B0D                   M           BF      POSITIONER_DAICTL_300
33958                             100 I1  
33959                             101 I1  ;       ------- 初期演算--------
33960                             102 I1          FAR_JSR #_POSITIONER_DAI_OBJ1MAK,R0                             ;
33961 00007454 D005                   M           MOV.L   #_POSITIONER_DAI_OBJ1MAK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33962 00007456 400B                   M           JSR     @R0                     ;
33963 00007458 0009                   M           NOP                                     ;
33964                             103 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT1,WKREG=R1 ;
33965 0000745A D103                   M           MOV.L   #_POSINER_FLG,R1                ;
33966 0000745C 6011                   M           MOV.W   @R1,R0          ;
33967 0000745E CB02                   M           OR      #BIT1,R0                ;
33968 00007460 2101                   M           MOV.W   R0,@R1          ;
33969                             104 I1          M_BRA   POSITIONER_DAICTL_800
33970 00007462 A08D                   M           BRA     POSITIONER_DAICTL_800
33971 00007464 0009                   M           NOP
33972                             105 I1  
33973                             106 I1  ;       ----------------------------------------
33974                                 I1  ***** BEGIN-POOL *****
33975 00007466 0000                   I1  ALIGNMENT CODE
33976 00007468 00000000               I1  DATA FOR SOURCE-LINE 96,103
33977 0000746C 00000000               I1  DATA FOR SOURCE-LINE 102
33978                                 I1  ***** END-POOL *****
33979 00007470                    107 I1  POSITIONER_DAICTL_300
33980 00007470 C804               108 I1          TST     #BIT2,R0                        ;
33981                             109 I1          TST_BIT_ON POSITIONER_DAICTL_400        ;
33982 00007472 8B15                   M           BF      POSITIONER_DAICTL_400
33983                             110 I1  
33984                             111 I1          FAR_JSR #_POSITIONER_DAI_OBJ1CMP,R0     ;//目標位置+ｵｰﾊﾞ量
33985 00007474 D007                   M           MOV.L   #_POSITIONER_DAI_OBJ1CMP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33986 00007476 400B                   M           JSR     @R0                     ;
33987 00007478 0009                   M           NOP                                     ;
33988                             112 I1          PUSH_REG1 R0                            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   500
PROGRAM NAME =

33989 0000747A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
33990                                 M                                           ;REG=>[SP]
33991                                 M                                           ;"-4" FF,FF,FF,FC
33992                             113 I1          FAR_JSR #_POSITIONER_DAI_OUT,R1         ;input R0
33993 0000747C D106                   M           MOV.L   #_POSITIONER_DAI_OUT,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33994 0000747E 410B                   M           JSR     @R1                     ;
33995 00007480 0009                   M           NOP                                     ;
33996                             114 I1          POP_REG1 R0
33997                                 M                                   ; RE"+4" 00,00,00,04
33998 00007482 60F6                   M           MOV.L   @R15+,R0        ;
33999 00007484 2008               115 I1          TST     R0,R0
34000                             116 I1          TST_BIT_ON POSITIONER_DAICTL_350
34001 00007486 8B03                   M           BF      POSITIONER_DAICTL_350
34002                             117 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT2,WKREG=R1 ;
34003 00007488 D104                   M           MOV.L   #_POSINER_FLG,R1                ;
34004 0000748A 6011                   M           MOV.W   @R1,R0          ;
34005 0000748C CB04                   M           OR      #BIT2,R0                ;
34006 0000748E 2101                   M           MOV.W   R0,@R1          ;
34007 00007490                    118 I1  POSITIONER_DAICTL_350
34008                             119 I1          M_BRA   POSITIONER_DAICTL_800
34009 00007490 A076                   M           BRA     POSITIONER_DAICTL_800
34010 00007492 0009                   M           NOP
34011                             120 I1  
34012                             121 I1  
34013                             122 I1  ;       ----------------------------------------
34014                                 I1  ***** BEGIN-POOL *****
34015 00007494 00000000               I1  DATA FOR SOURCE-LINE 111
34016 00007498 00000000               I1  DATA FOR SOURCE-LINE 113
34017 0000749C 00000000               I1  DATA FOR SOURCE-LINE 117
34018                                 I1  ***** END-POOL *****
34019 000074A0                    123 I1  POSITIONER_DAICTL_400
34020 000074A0 C808               124 I1          TST     #BIT3,R0                        ;
34021                             125 I1          TST_BIT_ON POSITIONER_DAICTL_500        ;
34022 000074A2 8B2B                   M           BF      POSITIONER_DAICTL_500
34023                             126 I1          FAR_JSR #_POSITIONER_DAI_OBJ2CMP,R0     ;//目標位置+ｵｰﾊﾞ量-すべり
34024 000074A4 D00D                   M           MOV.L   #_POSITIONER_DAI_OBJ2CMP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34025 000074A6 400B                   M           JSR     @R0                     ;
34026 000074A8 0009                   M           NOP                                     ;
34027                             127 I1          PUSH_REG1 R0                            ;
34028 000074AA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
34029                                 M                                           ;REG=>[SP]
34030                                 M                                           ;"-4" FF,FF,FF,FC
34031                             128 I1          FAR_JSR #_POSITIONER_DAI_OUT,R1         ;input R0
34032 000074AC D10C                   M           MOV.L   #_POSITIONER_DAI_OUT,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34033 000074AE 410B                   M           JSR     @R1                     ;
34034 000074B0 0009                   M           NOP                                     ;
34035                             129 I1          POP_REG1 R0
34036                                 M                                   ; RE"+4" 00,00,00,04
34037 000074B2 60F6                   M           MOV.L   @R15+,R0        ;
34038 000074B4 2008               130 I1          TST     R0,R0
34039                             131 I1          TST_BIT_ON POSITIONER_DAICTL_450
34040 000074B6 8B0E                   M           BF      POSITIONER_DAICTL_450
34041                             132 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT3,WKREG=R1 ;
34042 000074B8 D10A                   M           MOV.L   #_POSINER_FLG,R1                ;
34043 000074BA 6011                   M           MOV.W   @R1,R0          ;
34044 000074BC CB08                   M           OR      #BIT3,R0                ;
34045 000074BE 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   501
PROGRAM NAME =

34046                             133 I1  
34047                             134 I1  
34048 000074C0 D109               135 I1          MOV.L   #_POSINER_STOPCHK_TIM1,R1;//1000 1秒
34049 000074C2 920A               136 I1          MOV.W   #D'1000,R2              ;
34050 000074C4 2121               137 I1          MOV.W   R2,@R1                  ;
34051 000074C6 D109               138 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R1;//1000 1秒
34052 000074C8 2121               139 I1          MOV.W   R2,@R1                  ;
34053                             140 I1  
34054                             141 I1  
34055 000074CA D109               142 I1          MOV.L   #_POSINER_PV_POS,R1     ;
34056 000074CC 6212               143 I1          MOV.L   @R1,R2                  ;
34057 000074CE D109               144 I1          MOV.L   #_POSINER_OLDPV_POS,R1  ;
34058 000074D0 2122               145 I1          MOV.L   R2,@R1                  ;
34059 000074D2 D109               146 I1          MOV.L   #_POSINER_MOSTPV_POS,R1 ;//指令OFF後のｲﾝﾎﾟｼﾞｼｮﾝにもっとも近い位置
34060 000074D4 2122               147 I1          MOV.L   R2,@R1                  ;
34061                             148 I1  
34062 000074D6                    149 I1  POSITIONER_DAICTL_450
34063                             150 I1          M_BRA   POSITIONER_DAICTL_800
34064 000074D6 A053                   M           BRA     POSITIONER_DAICTL_800
34065 000074D8 0009                   M           NOP
34066                             151 I1  
34067                             152 I1  
34068                             153 I1  ;       -------------- 停止待ち------------------
34069                                 I1  ***** BEGIN-POOL *****
34070 000074DA 03E8                   I1  DATA FOR SOURCE-LINE 136
34071 000074DC 00000000               I1  DATA FOR SOURCE-LINE 126
34072 000074E0 00000000               I1  DATA FOR SOURCE-LINE 128
34073 000074E4 00000000               I1  DATA FOR SOURCE-LINE 132
34074 000074E8 00000000               I1  DATA FOR SOURCE-LINE 135
34075 000074EC 00000000               I1  DATA FOR SOURCE-LINE 138
34076 000074F0 00000000               I1  DATA FOR SOURCE-LINE 142
34077 000074F4 00000000               I1  DATA FOR SOURCE-LINE 144
34078 000074F8 00000000               I1  DATA FOR SOURCE-LINE 146
34079                                 I1  ***** END-POOL *****
34080 000074FC                    154 I1  POSITIONER_DAICTL_500
34081 000074FC C810               155 I1          TST     #BIT4,R0                        ;
34082                             156 I1          TST_BIT_ON POSITIONER_DAICTL_800        ;
34083 000074FE 8B3F                   M           BF      POSITIONER_DAICTL_800
34084                             157 I1  
34085                             158 I1          FAR_JSR #_POSITIONER_DAI_STPCHK,R1      ;
34086 00007500 D10A                   M           MOV.L   #_POSITIONER_DAI_STPCHK,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34087 00007502 410B                   M           JSR     @R1                     ;
34088 00007504 0009                   M           NOP                                     ;
34089 00007506 2008               159 I1          TST     R0,R0                           ;
34090                             160 I1          TST_BIT_OF POSITIONER_DAICTL_590        ;"R0=1 END R0=-1 END(失敗)
34091 00007508 8935                   M           BT      POSITIONER_DAICTL_590
34092                             161 I1  
34093 0000750A 8801               162 I1          CMP/EQ  #1,R0                           ;
34094 0000750C 8B14               163 I1          BF      POSITIONER_DAICTL_530           ;
34095                             164 I1  
34096                             165 I1  ;       正常終了
34097                             166 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT4,WKREG=R1 ;
34098 0000750E D108                   M           MOV.L   #_POSINER_FLG,R1                ;
34099 00007510 6011                   M           MOV.W   @R1,R0          ;
34100 00007512 CB10                   M           OR      #BIT4,R0                ;
34101 00007514 2101                   M           MOV.W   R0,@R1          ;
34102                             167 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   502
PROGRAM NAME =

34103                             168 I1  ;       位置決め完了ON
34104                             169 I1  ;       BIT0(完了),BIT1(位置決め中),BIT2(失敗),BIT3(上昇),BIT4(下降), BIT6:(DIR)
34105                             170 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POSINER_STS,LG=W,BIT=(~(BIT4|BIT3|BIT1)),WKREG=R1 ;
34106 00007516 D107                   M           MOV.L   #_POSINER_STS,R1                ;
34107 00007518 6011                   M           MOV.W   @R1,R0          ;
34108 0000751A C9E5                   M           AND     #LOW (~(BIT4|BIT3|BIT1)),R0             ;
34109 0000751C 2101                   M           MOV.W   R0,@R1          ;
34110                             171 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_STS,LG=W,BIT=BIT0,WKREG=R1 ;
34111 0000751E D105                   M           MOV.L   #_POSINER_STS,R1                ;
34112 00007520 6011                   M           MOV.W   @R1,R0          ;
34113 00007522 CB01                   M           OR      #BIT0,R0                ;
34114 00007524 2101                   M           MOV.W   R0,@R1          ;
34115                             172 I1          M_BRA   POSITIONER_DAICTL_800
34116 00007526 A02B                   M           BRA     POSITIONER_DAICTL_800
34117 00007528 0009                   M           NOP
34118                             173 I1  
34119                             174 I1  
34120                                 I1  ***** BEGIN-POOL *****
34121 0000752A 0000                   I1  ALIGNMENT CODE
34122 0000752C 00000000               I1  DATA FOR SOURCE-LINE 158
34123 00007530 00000000               I1  DATA FOR SOURCE-LINE 166
34124 00007534 00000000               I1  DATA FOR SOURCE-LINE 170,171
34125                                 I1  ***** END-POOL *****
34126 00007538                    175 I1  POSITIONER_DAICTL_530
34127                             176 I1  ;       異常終了
34128 00007538 D10A               177 I1          MOV.L   #_POSINER_RETRY_CNT,R1
34129 0000753A 6211               178 I1          MOV.W   @R1,R2
34130 0000753C 7201               179 I1          ADD     #1,R2
34131 0000753E 2121               180 I1          MOV.W   R2,@R1
34132 00007540 E403               181 I1          MOV.B   #3,R4
34133 00007542 3422               182 I1          CMP/HS  R2,R4                   ;
34134 00007544 8914               183 I1          BT      POSITIONER_DAICTL_550   ;R2=<R4(3) ﾘﾄﾗｲ(通常+ﾘﾄﾗｲ3回=4回までやる)
34135                             184 I1  
34136                             185 I1  ;       異常終了
34137                             186 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT4,WKREG=R1 ;
34138 00007546 D108                   M           MOV.L   #_POSINER_FLG,R1                ;
34139 00007548 6011                   M           MOV.W   @R1,R0          ;
34140 0000754A CB10                   M           OR      #BIT4,R0                ;
34141 0000754C 2101                   M           MOV.W   R0,@R1          ;
34142                             187 I1  ;       異常完了ON
34143                             188 I1  ;       BIT0(完了),BIT1(位置決め中),BIT2(失敗),BIT3(上昇),BIT4(下降), BIT6:(DIR)
34144                             189 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POSINER_STS,LG=W,BIT=(~(BIT4|BIT3|BIT1)),WKREG=R1 ;
34145 0000754E D107                   M           MOV.L   #_POSINER_STS,R1                ;
34146 00007550 6011                   M           MOV.W   @R1,R0          ;
34147 00007552 C9E5                   M           AND     #LOW (~(BIT4|BIT3|BIT1)),R0             ;
34148 00007554 2101                   M           MOV.W   R0,@R1          ;
34149                             190 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_STS,LG=W,BIT=BIT2,WKREG=R1 ;
34150 00007556 D105                   M           MOV.L   #_POSINER_STS,R1                ;
34151 00007558 6011                   M           MOV.W   @R1,R0          ;
34152 0000755A CB04                   M           OR      #BIT2,R0                ;
34153 0000755C 2101                   M           MOV.W   R0,@R1          ;
34154                             191 I1          M_BRA   POSITIONER_DAICTL_800
34155 0000755E A00F                   M           BRA     POSITIONER_DAICTL_800
34156 00007560 0009                   M           NOP
34157                             192 I1  
34158                             193 I1  ;       ----------------ﾘﾄﾗｲ開始-----------
34159                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   503
PROGRAM NAME =

34160 00007562 0000                   I1  ALIGNMENT CODE
34161 00007564 00000000               I1  DATA FOR SOURCE-LINE 177
34162 00007568 00000000               I1  DATA FOR SOURCE-LINE 186
34163 0000756C 00000000               I1  DATA FOR SOURCE-LINE 189,190
34164                                 I1  ***** END-POOL *****
34165 00007570                    194 I1  POSITIONER_DAICTL_550
34166 00007570 E001               195 I1          MOV.B   #BIT0,R0                        ;
34167 00007572 D102               196 I1          MOV.L   #_POSINER_FLG,R1                ;
34168 00007574 2101               197 I1          MOV.W   R0,@R1                          ;初期化
34169                             198 I1  
34170 00007576                    199 I1  POSITIONER_DAICTL_590
34171                             200 I1          M_BRA   POSITIONER_DAICTL_800
34172 00007576 A003                   M           BRA     POSITIONER_DAICTL_800
34173 00007578 0009                   M           NOP
34174                             201 I1  
34175                             202 I1  
34176                             203 I1  
34177                             204 I1  ;       -----------------------------------
34178                                 I1  ***** BEGIN-POOL *****
34179 0000757A 0000                   I1  ALIGNMENT CODE
34180 0000757C 00000000               I1  DATA FOR SOURCE-LINE 196
34181                                 I1  ***** END-POOL *****
34182 00007580                    205 I1  POSITIONER_DAICTL_800
34183                             206 I1  
34184                             207 I1  
34185                             208 I1  
34186                             209 I1  
34187                             210 I1  
34188 00007580 D107               211 I1          MOV.L   #_POSINER_STS,R1                        ;
34189 00007582 6011               212 I1          MOV.W   @R1,R0                                  ;
34190 00007584 D107               213 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;251
34191 00007586 6211               214 I1          MOV.W   @R1,R2                                  ;
34192 00007588 9408               215 I1          MOV.W   #(BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R4     ;
34193 0000758A 2049               216 I1          AND     R4,R0
34194 0000758C 6447               217 I1          NOT     R4,R4
34195 0000758E 2249               218 I1          AND     R4,R2
34196 00007590 220B               219 I1          OR      R0,R2
34197 00007592 D104               220 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;251
34198 00007594 2121               221 I1          MOV.W   R2,@R1                                  ;
34199                             222 I1  
34200                             223 I1  
34201                             224 I1  
34202                             225 I1  
34203                             226 I1  
34204 00007596                    227 I1  POSITIONER_DAICTL_EXT
34205                             228 I1  
34206                             229 I1          SUB_END
34207                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34208 00007596 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34209                             230 I1          M_RTS
34210 00007598 000B                   M           RTS                             ;RTSの後ろの
34211 0000759A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34212                             231 I1  
34213                             232 I1  
34214                             233 I1  ;_SVP_KANDO_A21                         .SRES   4       ;感度
34215                             234 I1  ;_SVP_UPDATA_A21                        .SRES   4       ;上限
34216                             235 I1  ;_SVP_DNDATA_A21                        .SRES   4       ;下限
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   504
PROGRAM NAME =

34217                             236 I1  ;_SVP_GENITI_A21                        .SRES   4       ;現位置
34218                             237 I1  ;_SVP_MODORI_A21                        .SRES   2       ;戻り量
34219                             238 I1  ;_SVP_DNSTOP_A21                        .SRES   2       ;下降停止
34220                             239 I1  ;_SVP_UPSTOP_A21                        .SRES   2       ;上昇停止
34221                             240 I1  ;_SVP_SSEIDO_A21                        .SRES   2       ;制御精度
34222                             241 I1  
34223                             242 I1  
34224                             243 I1  ;_SVP_SLID_POS1         .SRES   4       ;ｽﾗｲﾄﾞ位置　生産
34225                             244 I1  ;_SVP_SLID_POS2         .SRES   4       ;ｽﾗｲﾄﾞ位置　段取1
34226                             245 I1  ;_SVP_SLID_POS3         .SRES   4       ;ｽﾗｲﾄﾞ位置　段取2
34227                             246 I1  ;
34228                             247 I1  ;       ***********************************************************
34229                             248 I1  ;       ***                                                     ***
34230                             249 I1  ;       ***     [上昇から開始]                                  ***
34231                             250 I1  ;       ***     設定+戻り量(現在位置＋戻り量)                   ***
34232                             251 I1  ;       ***     設定+戻り量-下降量(現在位置＋戻り量-下降量)     ***
34233                             252 I1  ;       ***                                                     ***
34234                             253 I1  ;       ***********************************************************
34235                             254 I1  
34236                                 I1  ***** BEGIN-POOL *****
34237 0000759C 003F                   I1  DATA FOR SOURCE-LINE 215
34238 0000759E 0000                   I1  ALIGNMENT CODE
34239 000075A0 00000000               I1  DATA FOR SOURCE-LINE 211
34240 000075A4 00000000               I1  DATA FOR SOURCE-LINE 213,220
34241                                 I1  ***** END-POOL *****
34242 000075A8                    255 I1  _POSITIONER_DAI_OBJ1MAK:
34243                             256 I1          SUB_START
34244 000075A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
34245                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34246                             257 I1  
34247 000075AA D109               258 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置
34248 000075AC 6212               259 I1          MOV.L   @R1,R2                          ;
34249                             260 I1  
34250 000075AE D109               261 I1          MOV.L   #_POSINER_RETRY_CNT,R1          ;
34251 000075B0 6011               262 I1          MOV.W   @R1,R0                          ;
34252 000075B2 2008               263 I1          TST     R0,R0                           ;
34253                             264 I1          TST_BIT_OF POSITIONER_DAIOBJ1MK_100     ;
34254 000075B4 8901                   M           BT      POSITIONER_DAIOBJ1MK_100
34255                             265 I1  
34256 000075B6 D108               266 I1          MOV.L   #_POSINER_PV_POS,R1             ;
34257 000075B8 6212               267 I1          MOV.L   @R1,R2                          ;[R5目標位置]
34258                             268 I1  
34259 000075BA                    269 I1  POSITIONER_DAIOBJ1MK_100:
34260                             270 I1  
34261                             271 I1  ;       in R2
34262                             272 I1  
34263 000075BA D108               273 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
34264 000075BC 6011               274 I1          MOV.W   @R1,R0                          ;
34265 000075BE C840               275 I1          TST     #BIT6,R0                        ;方向
34266                             276 I1          TST_BIT_ON POSITIONER_DAIOBJ1MK_200     ;
34267 000075C0 8B12                   M           BF      POSITIONER_DAIOBJ1MK_200
34268                             277 I1  
34269                             278 I1  ;       ---------- 上昇から開始-----------
34270 000075C2 D107               279 I1          MOV.L   #_SET1_ATSLID_BAKLNG,R1         ;//スライド自動調節　戻り量   "
34271 000075C4 6312               280 I1          MOV.L   @R1,R3                          ;0.001mm(ADD)
34272                             281 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   505
PROGRAM NAME =

34273 000075C6 D107               282 I1          MOV.L   #_SET1_ATSLID_DNOBJ1,R1         ;//スライド自動調節　下降停止 0~99
34274 000075C8 6412               283 I1          MOV.L   @R1,R4                          ;0.001mm
34275                             284 I1          M_BRA   POSITIONER_DAIOBJ1MK_300
34276 000075CA A013                   M           BRA     POSITIONER_DAIOBJ1MK_300
34277 000075CC 0009                   M           NOP
34278                             285 I1  
34279                             286 I1  
34280                                 I1  ***** BEGIN-POOL *****
34281 000075CE 0000                   I1  ALIGNMENT CODE
34282 000075D0 00000000               I1  DATA FOR SOURCE-LINE 258
34283 000075D4 00000000               I1  DATA FOR SOURCE-LINE 261
34284 000075D8 00000000               I1  DATA FOR SOURCE-LINE 266
34285 000075DC 00000000               I1  DATA FOR SOURCE-LINE 273
34286 000075E0 00000000               I1  DATA FOR SOURCE-LINE 279
34287 000075E4 00000000               I1  DATA FOR SOURCE-LINE 282
34288                                 I1  ***** END-POOL *****
34289 000075E8                    287 I1  POSITIONER_DAIOBJ1MK_200:
34290                             288 I1  ;       ------- 下降から開始 -------------
34291 000075E8 D10B               289 I1          MOV.L   #_SET1_ATSLID_BAKLNG,R1         ;//スライド自動調節　戻り量   "
34292 000075EA 6312               290 I1          MOV.L   @R1,R3                          ;0.001mm(ADD)
34293 000075EC 633B               291 I1          NEG     R3,R3
34294                             292 I1  
34295 000075EE D10B               293 I1          MOV.L   #_SET1_ATSLID_UPOBJ1,R1         ;//スライド自動調節　上昇停止 0~99
34296 000075F0 6412               294 I1          MOV.L   @R1,R4                          ;0.001mm
34297 000075F2 644B               295 I1          NEG     R4,R4                           ;
34298                             296 I1  
34299 000075F4                    297 I1  POSITIONER_DAIOBJ1MK_300:
34300                             298 I1  
34301                             299 I1  
34302 000075F4 323C               300 I1          ADD     R3,R2                           ;
34303                             301 I1          FAR_JSR #_POSITIONER_UPDN_LIMIT,R0      ;
34304 000075F6 D00A                   M           MOV.L   #_POSITIONER_UPDN_LIMIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34305 000075F8 400B                   M           JSR     @R0                     ;
34306 000075FA 0009                   M           NOP                                     ;
34307                             302 I1  
34308                             303 I1  
34309                             304 I1  ;       -------------停止位置は一定--------------
34310 000075FC D109               305 I1          MOV.L   #_POSINER_SV_OVRPOS,R1          ;//目標位置+ｵｰﾊﾞ量
34311 000075FE 2122               306 I1          MOV.L   R2,@R1                          ;
34312                             307 I1  
34313                             308 I1  
34314 00007600 D109               309 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置
34315 00007602 6212               310 I1          MOV.L   @R1,R2                          ;
34316                             311 I1  
34317 00007604 324C               312 I1          ADD     R4,R2                           ;目標+β
34318                             313 I1          FAR_JSR #_POSITIONER_UPDN_LIMIT,R0      ;
34319 00007606 D006                   M           MOV.L   #_POSITIONER_UPDN_LIMIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34320 00007608 400B                   M           JSR     @R0                     ;
34321 0000760A 0009                   M           NOP                                     ;
34322 0000760C D107               314 I1          MOV.L   #_POSINER_SV_STPPOS,R1          ;//目標位置+停止量
34323 0000760E 2122               315 I1          MOV.L   R2,@R1                          ;
34324                             316 I1  
34325                             317 I1          SUB_END
34326                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34327 00007610 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34328                             318 I1          M_RTS
34329 00007612 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   506
PROGRAM NAME =

34330 00007614 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34331                             319 I1  
34332                             320 I1  
34333                             321 I1  ;       INPU R2,DESTORY R1,R3,ANS R2
34334                                 I1  ***** BEGIN-POOL *****
34335 00007616 0000                   I1  ALIGNMENT CODE
34336 00007618 00000000               I1  DATA FOR SOURCE-LINE 289
34337 0000761C 00000000               I1  DATA FOR SOURCE-LINE 293
34338 00007620 00000000               I1  DATA FOR SOURCE-LINE 301,313
34339 00007624 00000000               I1  DATA FOR SOURCE-LINE 305
34340 00007628 00000000               I1  DATA FOR SOURCE-LINE 309
34341 0000762C 00000000               I1  DATA FOR SOURCE-LINE 314
34342                                 I1  ***** END-POOL *****
34343 00007630                    322 I1  _POSITIONER_UPDN_LIMIT
34344                             323 I1          SUB_START
34345 00007630 4F22                   M           STS.L   PR,@-R15                ;[必要]
34346                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34347                             324 I1  
34348 00007632 D106               325 I1          MOV.L   #_SET1_RNAPOS_MAXP,R1   ;19機械上限機械 ?0.001mm
34349 00007634 6312               326 I1          MOV.L   @R1,R3                  ;UP
34350 00007636 3323               327 I1          CMP/GE  R2,R3                   ;
34351 00007638 8900               328 I1          BT      POSITIONER_UPDNLMT100   ;R2(SV)=<R3(MAX) OK
34352 0000763A 6233               329 I1          MOV     R3,R2                   ;
34353 0000763C                    330 I1  POSITIONER_UPDNLMT100                   ;
34354                             331 I1  
34355 0000763C D104               332 I1          MOV.L   #_SET1_RNAPOS_MINP,R1   ;1A 機械下限機械
34356 0000763E 6312               333 I1          MOV.L   @R1,R3                  ;DN
34357 00007640 3233               334 I1          CMP/GE  R3,R2                   ;
34358 00007642 8900               335 I1          BT      POSITIONER_UPDNLMT200   ;R3(MIN)=<R2(MAX) OK
34359 00007644 6233               336 I1          MOV     R3,R2                   ;
34360 00007646                    337 I1  POSITIONER_UPDNLMT200                   ;
34361                             338 I1  
34362                             339 I1          SUB_END
34363                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34364 00007646 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34365                             340 I1          M_RTS
34366 00007648 000B                   M           RTS                             ;RTSの後ろの
34367 0000764A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34368                             341 I1  
34369                             342 I1  
34370                             343 I1  
34371                             344 I1  ;       *******************************************
34372                             345 I1  ;       ***                                     ***
34373                             346 I1  ;       ***     設定データを0.001mmにする       ***
34374                             347 I1  ;       ***                                     ***
34375                             348 I1  ;       *******************************************
34376                                 I1  ***** BEGIN-POOL *****
34377 0000764C 00000000               I1  DATA FOR SOURCE-LINE 325
34378 00007650 00000000               I1  DATA FOR SOURCE-LINE 332
34379                                 I1  ***** END-POOL *****
34380 00007654                    349 I1  _POSITIONER_DAI_DATA
34381                             350 I1          SUB_START
34382 00007654 4F22                   M           STS.L   PR,@-R15                ;[必要]
34383                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34384                             351 I1  
34385 00007656 D118               352 I1          MOV.L   #_SVP_SL_TENPOS,R1              ;
34386 00007658 6011               353 I1          MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   507
PROGRAM NAME =

34387 0000765A D118               354 I1          MOV.L   #_SET1_ATDAT_DOTPOS,R1          ;//小数点
34388 0000765C 2101               355 I1          MOV.W   R0,@R1                          ;
34389                             356 I1  
34390 0000765E 9327               357 I1          MOV.W   #D'1,R3                         ;LATE
34391 00007660 8803               358 I1          CMP/EQ  #3,R0
34392 00007662 8906               359 I1          BT      POSITIONER_DAIDAT_100           ;小数点3桁
34393                             360 I1  
34394 00007664 9325               361 I1          MOV.W   #D'10,R3                        ;
34395 00007666 8802               362 I1          CMP/EQ  #2,R0
34396 00007668 8903               363 I1          BT      POSITIONER_DAIDAT_100           ;小数点2桁
34397                             364 I1  
34398 0000766A 9323               365 I1          MOV.W   #D'100,R3                       ;
34399 0000766C 8801               366 I1          CMP/EQ  #1,R0
34400 0000766E 8900               367 I1          BT      POSITIONER_DAIDAT_100           ;小数点1桁
34401                             368 I1  
34402 00007670 9321               369 I1          MOV.W   #D'1000,R3                      ;小数点無し
34403                             370 I1  
34404 00007672                    371 I1  POSITIONER_DAIDAT_100                           ;
34405                             372 I1  
34406                             373 I1  
34407 00007672 D113               374 I1          MOV.L   #_SVP_ATSLID_DNOBJ1,R1          ; スライド自動調節　下降停止 0~99
34408 00007674 6211               375 I1          MOV.W   @R1,R2                          ;
34409 00007676 332D               376 I1          DMULS.L R2,R3                           ;
34410 00007678 021A               377 I1          STS.L   MACL,R2                         ;
34411 0000767A D112               378 I1          MOV.L   #_SET1_ATSLID_DNOBJ1,R1         ;//スライド自動調節　下降停止 0~99
34412 0000767C 2122               379 I1          MOV.L   R2,@R1                          ;0.001mm
34413                             380 I1  
34414 0000767E D112               381 I1          MOV.L   #_SVP_ATSLID_UPOBJ1,R1          ; スライド自動調節　上昇停止 "
34415 00007680 6211               382 I1          MOV.W   @R1,R2                          ;
34416 00007682 332D               383 I1          DMULS.L R2,R3                           ;
34417 00007684 021A               384 I1          STS.L   MACL,R2                         ;
34418 00007686 D111               385 I1          MOV.L   #_SET1_ATSLID_UPOBJ1,R1         ;//スライド自動調節　上昇停止 "
34419 00007688 2122               386 I1          MOV.L   R2,@R1                          ;0.001mm
34420                             387 I1  
34421 0000768A D111               388 I1          MOV.L   #_SVP_ATSLID_BAKLNG,R1          ; スライド自動調節　戻り量   "
34422 0000768C 6211               389 I1          MOV.W   @R1,R2                          ;
34423 0000768E 332D               390 I1          DMULS.L R2,R3                           ;
34424 00007690 021A               391 I1          STS.L   MACL,R2                         ;
34425 00007692 D110               392 I1          MOV.L   #_SET1_ATSLID_BAKLNG,R1         ;//スライド自動調節　戻り量   "
34426 00007694 2122               393 I1          MOV.L   R2,@R1                          ;0.001mm
34427                             394 I1  
34428 00007696 D110               395 I1          MOV.L   #_SVP_ATSLID_COEF1,R1           ; スライド自動調節　制御精度 "
34429 00007698 6211               396 I1          MOV.W   @R1,R2                          ;
34430 0000769A 332D               397 I1          DMULS.L R2,R3                           ;
34431 0000769C 021A               398 I1          STS.L   MACL,R2                         ;
34432 0000769E D10F               399 I1          MOV.L   #_SET1_ATSLID_COEF1,R1          ;
34433 000076A0 2122               400 I1          MOV.L   R2,@R1                          ;0.001mm
34434                             401 I1  
34435                             402 I1  
34436 000076A2 D10F               403 I1          MOV.L   #_SVP_ATSLID_OBJ1,R1            ; スライド自動調節設定値（現在動作中）0.00
                                          1mm
34437 000076A4 6212               404 I1          MOV.L   @R1,R2                          ;0.001mm
34438 000076A6 D10F               405 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置0.001mm
34439 000076A8 2122               406 I1          MOV.L   R2,@R1                          ;
34440                             407 I1  
34441                             408 I1  
34442                             409 I1          SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   508
PROGRAM NAME =

34443                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34444 000076AA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34445                             410 I1          M_RTS
34446 000076AC 000B                   M           RTS                             ;RTSの後ろの
34447 000076AE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34448                             411 I1  
34449                             412 I1  ;       *******************************************
34450                             413 I1  ;       ***                                     ***
34451                             414 I1  ;       ***             戻り位置比較            ***
34452                             415 I1  ;       ***                                     ***
34453                             416 I1  ;       *******************************************
34454                                 I1  ***** BEGIN-POOL *****
34455 000076B0 0001                   I1  DATA FOR SOURCE-LINE 357
34456 000076B2 000A                   I1  DATA FOR SOURCE-LINE 361
34457 000076B4 0064                   I1  DATA FOR SOURCE-LINE 365
34458 000076B6 03E8                   I1  DATA FOR SOURCE-LINE 369
34459 000076B8 00000000               I1  DATA FOR SOURCE-LINE 352
34460 000076BC 00000000               I1  DATA FOR SOURCE-LINE 354
34461 000076C0 00000000               I1  DATA FOR SOURCE-LINE 374
34462 000076C4 00000000               I1  DATA FOR SOURCE-LINE 378
34463 000076C8 00000000               I1  DATA FOR SOURCE-LINE 381
34464 000076CC 00000000               I1  DATA FOR SOURCE-LINE 385
34465 000076D0 00000000               I1  DATA FOR SOURCE-LINE 388
34466 000076D4 00000000               I1  DATA FOR SOURCE-LINE 392
34467 000076D8 00000000               I1  DATA FOR SOURCE-LINE 395
34468 000076DC 00000000               I1  DATA FOR SOURCE-LINE 399
34469 000076E0 00000000               I1  DATA FOR SOURCE-LINE 403
34470 000076E4 00000000               I1  DATA FOR SOURCE-LINE 405
34471                                 I1  ***** END-POOL *****
34472 000076E8                    417 I1  _POSITIONER_DAI_OBJ1CMP:
34473                             418 I1          SUB_START
34474 000076E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
34475                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34476                             419 I1  
34477                             420 I1  
34478 000076EA D106               421 I1          MOV.L   #_POSINER_PV_POS,R1             ;//目標位置
34479 000076EC 6212               422 I1          MOV.L   @R1,R2                          ;
34480                             423 I1  
34481 000076EE D106               424 I1          MOV.L   #_POSINER_SV_OVRPOS,R1          ;//目標位置+ｵｰﾊﾞ量
34482 000076F0 6312               425 I1          MOV.L   @R1,R3                          ;
34483                             426 I1  
34484 000076F2 D106               427 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
34485 000076F4 6011               428 I1          MOV.W   @R1,R0                          ;
34486 000076F6 C840               429 I1          TST     #BIT6,R0                        ;方向
34487                             430 I1          TST_BIT_ON POSITIONER_DAI_OBJ1CP_100    ;
34488 000076F8 8B0A                   M           BF      POSITIONER_DAI_OBJ1CP_100
34489                             431 I1  
34490                             432 I1  ;       上昇
34491 000076FA 3233               433 I1          CMP/GE  R3,R2                           ;SV(R3)=<PV(R2)?
34492 000076FC 8912               434 I1          BT POSITIONER_DAI_OBJ1CP_OVR            ;YES
34493                             435 I1          M_BRA   POSITIONER_DAI_OBJ1CP_WATUP     ;
34494 000076FE A00B                   M           BRA     POSITIONER_DAI_OBJ1CP_WATUP
34495 00007700 0009                   M           NOP
34496                             436 I1  
34497                                 I1  ***** BEGIN-POOL *****
34498 00007702 0000                   I1  ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   509
PROGRAM NAME =

34499 00007704 00000000               I1  DATA FOR SOURCE-LINE 421
34500 00007708 00000000               I1  DATA FOR SOURCE-LINE 424
34501 0000770C 00000000               I1  DATA FOR SOURCE-LINE 427
34502                                 I1  ***** END-POOL *****
34503 00007710                    437 I1  POSITIONER_DAI_OBJ1CP_100:
34504                             438 I1  
34505                             439 I1  ;       下降
34506 00007710 3323               440 I1          CMP/GE  R2,R3                           ;PV(R2)=<SV(R3)?
34507 00007712 8907               441 I1          BT POSITIONER_DAI_OBJ1CP_OVR            ;YES
34508                             442 I1          M_BRA   POSITIONER_DAI_OBJ1CP_WATDN     ;
34509 00007714 A003                   M           BRA     POSITIONER_DAI_OBJ1CP_WATDN
34510 00007716 0009                   M           NOP
34511                             443 I1  
34512                             444 I1  
34513                             445 I1  
34514 00007718                    446 I1  POSITIONER_DAI_OBJ1CP_WATUP:
34515 00007718 E001               447 I1          MOV.B   #1,R0
34516                             448 I1          M_BRA   POSITIONER_DAI_OBJ1CP_END
34517 0000771A A004                   M           BRA     POSITIONER_DAI_OBJ1CP_END
34518 0000771C 0009                   M           NOP
34519                             449 I1  
34520 0000771E                    450 I1  POSITIONER_DAI_OBJ1CP_WATDN:
34521 0000771E E0FF               451 I1          MOV.B   #-1,R0
34522                             452 I1          M_BRA   POSITIONER_DAI_OBJ1CP_END
34523 00007720 A001                   M           BRA     POSITIONER_DAI_OBJ1CP_END
34524 00007722 0009                   M           NOP
34525                             453 I1  
34526 00007724                    454 I1  POSITIONER_DAI_OBJ1CP_OVR:
34527 00007724 200A               455 I1          XOR     R0,R0                           ;
34528 00007726                    456 I1  POSITIONER_DAI_OBJ1CP_END:
34529                             457 I1  
34530                             458 I1          SUB_END
34531                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34532 00007726 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34533                             459 I1          M_RTS
34534 00007728 000B                   M           RTS                             ;RTSの後ろの
34535 0000772A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34536                             460 I1  
34537                             461 I1  
34538                             462 I1  ;       *******************************************
34539                             463 I1  ;       ***                                     ***
34540                             464 I1  ;       ***             指令OFF位置比較         ***
34541                             465 I1  ;       ***                                     ***
34542                             466 I1  ;       *******************************************
34543 0000772C                    467 I1  _POSITIONER_DAI_OBJ2CMP:
34544                             468 I1          SUB_START
34545 0000772C 4F22                   M           STS.L   PR,@-R15                ;[必要]
34546                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34547                             469 I1  
34548                             470 I1  
34549 0000772E D106               471 I1          MOV.L   #_POSINER_PV_POS,R1             ;//目標位置
34550 00007730 6212               472 I1          MOV.L   @R1,R2                          ;
34551                             473 I1  
34552 00007732 D106               474 I1          MOV.L   #_POSINER_SV_STPPOS,R1          ;//目標位置+ｵｰﾊ量-下降量
34553 00007734 6312               475 I1          MOV.L   @R1,R3                          ;
34554                             476 I1  
34555 00007736 D106               477 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   510
PROGRAM NAME =

                                          T3(上昇),BIT4(下降), BIT6:(DIR)
34556 00007738 6011               478 I1          MOV.W   @R1,R0                          ;
34557 0000773A C840               479 I1          TST     #BIT6,R0                        ;方向
34558                             480 I1          TST_BIT_ON POSITIONER_DAI_OBJ2CP_100    ;
34559 0000773C 8B0A                   M           BF      POSITIONER_DAI_OBJ2CP_100
34560                             481 I1  
34561                             482 I1  ;       上昇から開始の下降中
34562 0000773E 3323               483 I1          CMP/GE  R2,R3                           ;PV(R2)=<SV(R3)?
34563 00007740 8912               484 I1          BT POSITIONER_DAI_OBJ2CP_STP            ;YES
34564                             485 I1          M_BRA   POSITIONER_DAI_OBJ2CP_WATDN     ;
34565 00007742 A00E                   M           BRA     POSITIONER_DAI_OBJ2CP_WATDN
34566 00007744 0009                   M           NOP
34567                             486 I1  
34568                                 I1  ***** BEGIN-POOL *****
34569 00007746 0000                   I1  ALIGNMENT CODE
34570 00007748 00000000               I1  DATA FOR SOURCE-LINE 471
34571 0000774C 00000000               I1  DATA FOR SOURCE-LINE 474
34572 00007750 00000000               I1  DATA FOR SOURCE-LINE 477
34573                                 I1  ***** END-POOL *****
34574 00007754                    487 I1  POSITIONER_DAI_OBJ2CP_100:
34575                             488 I1  
34576                             489 I1  ;       下降から開始の上昇中
34577 00007754 3233               490 I1          CMP/GE  R3,R2                           ;SV(R3)=<PV(R2)?
34578 00007756 8907               491 I1          BT POSITIONER_DAI_OBJ2CP_STP            ;YES
34579                             492 I1          M_BRA   POSITIONER_DAI_OBJ2CP_WATUP     ;
34580 00007758 A000                   M           BRA     POSITIONER_DAI_OBJ2CP_WATUP
34581 0000775A 0009                   M           NOP
34582                             493 I1  
34583                             494 I1  
34584                             495 I1  
34585 0000775C                    496 I1  POSITIONER_DAI_OBJ2CP_WATUP:
34586 0000775C E001               497 I1          MOV.B   #1,R0
34587                             498 I1          M_BRA   POSITIONER_DAI_OBJ2CP_END
34588 0000775E A004                   M           BRA     POSITIONER_DAI_OBJ2CP_END
34589 00007760 0009                   M           NOP
34590 00007762                    499 I1  POSITIONER_DAI_OBJ2CP_WATDN:
34591 00007762 E0FF               500 I1          MOV.B   #-1,R0                          ;
34592                             501 I1          M_BRA   POSITIONER_DAI_OBJ2CP_END
34593 00007764 A001                   M           BRA     POSITIONER_DAI_OBJ2CP_END
34594 00007766 0009                   M           NOP
34595                             502 I1  
34596 00007768                    503 I1  POSITIONER_DAI_OBJ2CP_STP:
34597 00007768 200A               504 I1          XOR     R0,R0
34598 0000776A                    505 I1  POSITIONER_DAI_OBJ2CP_END:
34599                             506 I1  
34600                             507 I1          SUB_END
34601                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34602 0000776A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34603                             508 I1          M_RTS
34604 0000776C 000B                   M           RTS                             ;RTSの後ろの
34605 0000776E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34606                             509 I1  
34607                             510 I1  
34608                             511 I1  
34609 00007770                    512 I1  _POSITIONER_DAI_OUT:
34610                             513 I1          SUB_START
34611 00007770 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   511
PROGRAM NAME =

34612                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34613                             514 I1  
34614 00007772 222A               515 I1          XOR     R2,R2           ;停止
34615                             516 I1  
34616 00007774 2008               517 I1          TST     R0,R0
34617                             518 I1          TST_BIT_OF POSITIONER_DAIOUT_100
34618 00007776 8903                   M           BT      POSITIONER_DAIOUT_100
34619                             519 I1  
34620 00007778 E208               520 I1          MOV.B   #BIT3,R2
34621 0000777A 8801               521 I1          CMP/EQ  #1,R0
34622 0000777C 8900               522 I1          BT      POSITIONER_DAIOUT_100
34623                             523 I1  
34624 0000777E E210               524 I1          MOV.B   #BIT4,R2
34625                             525 I1  
34626 00007780                    526 I1  POSITIONER_DAIOUT_100:
34627 00007780 D103               527 I1          MOV.L   #_POSINER_STS,R1
34628 00007782 6011               528 I1          MOV.W   @R1,R0
34629 00007784 C9E7               529 I1          AND     #LOW ~(BIT4+BIT3),R0
34630 00007786 202B               530 I1          OR      R2,R0
34631 00007788 2101               531 I1          MOV.W   R0,@R1                  ;
34632                             532 I1  
34633                             533 I1          SUB_END
34634                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34635 0000778A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34636                             534 I1          M_RTS
34637 0000778C 000B                   M           RTS                             ;RTSの後ろの
34638 0000778E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34639                             535 I1  
34640                             536 I1  ;       *******************************************
34641                             537 I1  ;       ***                                     ***
34642                             538 I1  ;       ***             停止待ち                ***
34643                             539 I1  ;       ***                                     ***
34644                             540 I1  ;       *******************************************
34645                             541 I1  ;       基本は１秒間動作しなくなって、インポジ内にいるか
34646                             542 I1  ;       R0=0(動作中) R0=1(停止　ｲﾝﾎﾟｼﾞOK) R0=-1(停止,ｲﾝﾎﾟｼﾞ異常)
34647                             543 I1  ;       ・動作方向の位置が１秒間更新されなかったとき
34648                             544 I1  ;               MOV.L   #_POSINER_STOPCHK_TIM1,R1;//1000 1秒
34649                             545 I1  ;       ・0.01mmの移動が1秒間無い
34650                                 I1  ***** BEGIN-POOL *****
34651 00007790 00000000               I1  DATA FOR SOURCE-LINE 527
34652                                 I1  ***** END-POOL *****
34653 00007794                    546 I1  _POSITIONER_DAI_STPCHK:
34654                             547 I1          SUB_START
34655 00007794 4F22                   M           STS.L   PR,@-R15                ;[必要]
34656                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34657                             548 I1  
34658 00007796 D106               549 I1          MOV.L   #_POSINER_PV_POS,R1     ;
34659 00007798 6212               550 I1          MOV.L   @R1,R2                  ;
34660                             551 I1  
34661 0000779A D506               552 I1          MOV.L   #_POSINER_MOSTPV_POS,R5 ;//指令OFF後のｲﾝﾎﾟｼﾞｼｮﾝにもっとも近い位置
34662 0000779C 6452               553 I1          MOV.L   @R5,R4                          ;
34663                             554 I1  
34664 0000779E D106               555 I1          MOV.L   #_POSINER_STS,R1                ;
34665 000077A0 6011               556 I1          MOV.W   @R1,R0                          ;
34666 000077A2 C840               557 I1          TST     #BIT6,R0                        ;方向 0:下降(減少)で終了
34667                             558 I1          TST_BIT_ON POSITIONER_DAI_STPCK100      ;
34668 000077A4 8B0A                   M           BF      POSITIONER_DAI_STPCK100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   512
PROGRAM NAME =

34669                             559 I1  
34670 000077A6 3243               560 I1          CMP/GE  R4,R2                           ;最下位置(R4)=<現在位置(R2)
34671 000077A8 8910               561 I1          BT      POSITIONER_DAI_STPCK200         ;OK
34672                             562 I1          M_BRA   POSITIONER_DAI_STPCK150         ;移動した
34673 000077AA A009                   M           BRA     POSITIONER_DAI_STPCK150
34674 000077AC 0009                   M           NOP
34675                             563 I1  
34676                             564 I1  
34677                                 I1  ***** BEGIN-POOL *****
34678 000077AE 0000                   I1  ALIGNMENT CODE
34679 000077B0 00000000               I1  DATA FOR SOURCE-LINE 549
34680 000077B4 00000000               I1  DATA FOR SOURCE-LINE 552
34681 000077B8 00000000               I1  DATA FOR SOURCE-LINE 555
34682                                 I1  ***** END-POOL *****
34683 000077BC                    565 I1  POSITIONER_DAI_STPCK100:
34684 000077BC 3423               566 I1          CMP/GE  R2,R4                           ;現在位置(R2)=<最上位置(R4)
34685 000077BE 8905               567 I1          BT      POSITIONER_DAI_STPCK200         ;OK
34686 000077C0                    568 I1  POSITIONER_DAI_STPCK150:                        ;
34687                             569 I1  
34688 000077C0 2522               570 I1          MOV.L   R2,@R5                          ;最下位置(最上位置)更新:動いた
34689                             571 I1  
34690 000077C2 900F               572 I1          MOV.W   #D'1000,R0
34691 000077C4 D108               573 I1          MOV.L   #_POSINER_STOPCHK_TIM1,R1       ;
34692 000077C6 2101               574 I1          MOV.W   R0,@R1
34693 000077C8 D108               575 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R1       ;
34694 000077CA 2101               576 I1          MOV.W   R0,@R1
34695                             577 I1  
34696                             578 I1  
34697 000077CC                    579 I1  POSITIONER_DAI_STPCK200:
34698 000077CC D406               580 I1          MOV.L   #_POSINER_STOPCHK_TIM1,R4
34699 000077CE 6041               581 I1          MOV.W   @R4,R0
34700 000077D0 2008               582 I1          TST     R0,R0
34701                             583 I1          TST_BIT_OF POSITIONER_DAI_STPCK250              ;
34702 000077D2 890F                   M           BT      POSITIONER_DAI_STPCK250
34703 000077D4 70FF               584 I1          ADD     #-1,R0
34704 000077D6 2401               585 I1          MOV.W   R0,@R4                                  ;
34705 000077D8 2008               586 I1          TST     R0,R0                                   ;
34706                             587 I1          TST_BIT_ON POSITIONER_DAI_STPCK230
34707 000077DA 8B01                   M           BF      POSITIONER_DAI_STPCK230
34708 000077DC D104               588 I1          MOV.L   #_POSINER_OLDPV_POS,R1                  ;
34709 000077DE 2122               589 I1          MOV.L   R2,@R1                                  ;R2(NOW),R3(OLD)
34710 000077E0                    590 I1  POSITIONER_DAI_STPCK230:
34711                             591 I1          M_BRA   POSITIONER_DAI_STPCKWAT                 ;
34712 000077E0 A03A                   M           BRA     POSITIONER_DAI_STPCKWAT
34713 000077E2 0009                   M           NOP
34714                             592 I1  
34715                             593 I1  
34716                                 I1  ***** BEGIN-POOL *****
34717 000077E4 03E8                   I1  DATA FOR SOURCE-LINE 572
34718 000077E6 0000                   I1  ALIGNMENT CODE
34719 000077E8 00000000               I1  DATA FOR SOURCE-LINE 573,580
34720 000077EC 00000000               I1  DATA FOR SOURCE-LINE 575
34721 000077F0 00000000               I1  DATA FOR SOURCE-LINE 588
34722                                 I1  ***** END-POOL *****
34723 000077F4                    594 I1  POSITIONER_DAI_STPCK250:
34724                             595 I1  ;       ---FIRSTﾀｲﾏOK---
34725 000077F4 D513               596 I1          MOV.L   #_POSINER_OLDPV_POS,R5
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   513
PROGRAM NAME =

34726 000077F6 6352               597 I1          MOV.L   @R5,R3                  ;R2(NOW),R3(OLD)
34727 000077F8 3328               598 I1          SUB     R2,R3                   ;
34728 000077FA 4311               599 I1          CMP/PZ  R3                      ;
34729 000077FC 8900               600 I1          BT      POSITIONER_DAI_STPCK280 ;
34730 000077FE 633B               601 I1          NEG     R3,R3                   ;
34731 00007800                    602 I1  POSITIONER_DAI_STPCK280:                ;
34732 00007800 901D               603 I1          MOV.W   #D'10,R0
34733 00007802 3036               604 I1          CMP/HI  R3,R0                   ;R3<R0(10 0.01mm)
34734 00007804 8903               605 I1          BT      POSITIONER_DAI_STPCK300 ;
34735                             606 I1  
34736                             607 I1  ;       ------------- 0.01mm動いた------------
34737 00007806 2522               608 I1          MOV.L   R2,@R5                          ;前回位置更新
34738 00007808 901A               609 I1          MOV.W   #D'1000,R0                      ;
34739 0000780A D10F               610 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R1       ;
34740 0000780C 2101               611 I1          MOV.W   R0,@R1                          ;
34741                             612 I1  
34742 0000780E                    613 I1  POSITIONER_DAI_STPCK300:                        ;
34743                             614 I1  
34744                             615 I1  
34745                             616 I1          DN_TIME LG=W,MEM_ADR=_POSINER_STOPCHK_TIM2,WKREG1=R1,WKREG2=R4  ;10msec 定周期
34746 0000780E D10E                   M           MOV.L   #_POSINER_STOPCHK_TIM2,R1               ;SORCE ADRESS SET
34747 00007810 6411                   M           MOV.W   @R1,R4          ;
34748 00007812 2448                   M           TST     R4,R4                   ;
34749 00007814 8901                   M           BT      JMP_0100026                     ;ZERO THEN JUMP
34750 00007816 4410                   M           DT      R4                              ;
34751 00007818 2141                   M           MOV.W   R4,@R1          ;STORE
34752 0000781A                        M   JMP_0100026:
34753                             617 I1  
34754 0000781A D40B               618 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R4
34755 0000781C 6041               619 I1          MOV.W   @R4,R0
34756 0000781E 2008               620 I1          TST     R0,R0
34757                             621 I1          TST_BIT_ON POSITIONER_DAI_STPCKWAT              ;
34758 00007820 8B1A                   M           BF      POSITIONER_DAI_STPCKWAT
34759                             622 I1  
34760                             623 I1  
34761                             624 I1  ;       停止終了,ｲﾝﾎﾟｼﾞｼｮﾝ
34762 00007822 D10A               625 I1          MOV.L   #_POSINER_PV_POS,R1             ;
34763 00007824 6212               626 I1          MOV.L   @R1,R2                          ;
34764 00007826 D10A               627 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置
34765 00007828 6312               628 I1          MOV.L   @R1,R3                          ;
34766 0000782A 3328               629 I1          SUB     R2,R3                           ;
34767 0000782C 4311               630 I1          CMP/PZ  R3
34768 0000782E 8900               631 I1          BT      POSITIONER_DAI_STPCK320         ;
34769 00007830 633B               632 I1          NEG     R3,R3
34770 00007832                    633 I1  POSITIONER_DAI_STPCK320:                        ;
34771                             634 I1  
34772 00007832 D108               635 I1          MOV.L   #_SET1_ATSLID_COEF1,R1          ;
34773 00007834 6012               636 I1          MOV.L   @R1,R0                          ;0.001mm
34774 00007836 3033               637 I1          CMP/GE  R3,R0                           ;
34775 00007838 8914               638 I1          BT      POSITIONER_DAI_STPCKINP         ;ｲﾝﾎﾟｼﾞｼｮﾝ
34776                             639 I1          M_BRA   POSITIONER_DAI_STPCKERR         ;
34777 0000783A A010                   M           BRA     POSITIONER_DAI_STPCKERR
34778 0000783C 0009                   M           NOP
34779                             640 I1  
34780                             641 I1  
34781                                 I1  ***** BEGIN-POOL *****
34782 0000783E 000A                   I1  DATA FOR SOURCE-LINE 603
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   514
PROGRAM NAME =

34783 00007840 03E8                   I1  DATA FOR SOURCE-LINE 609
34784 00007842 0000                   I1  ALIGNMENT CODE
34785 00007844 00000000               I1  DATA FOR SOURCE-LINE 596
34786 00007848 00000000               I1  DATA FOR SOURCE-LINE 610,616,618
34787 0000784C 00000000               I1  DATA FOR SOURCE-LINE 625
34788 00007850 00000000               I1  DATA FOR SOURCE-LINE 627
34789 00007854 00000000               I1  DATA FOR SOURCE-LINE 635
34790                                 I1  ***** END-POOL *****
34791 00007858                    642 I1  POSITIONER_DAI_STPCKWAT:
34792 00007858 200A               643 I1          XOR     R0,R0
34793                             644 I1          M_BRA   POSITIONER_DAI_STPCKEND         ;
34794 0000785A A004                   M           BRA     POSITIONER_DAI_STPCKEND
34795 0000785C 0009                   M           NOP
34796                             645 I1  
34797 0000785E                    646 I1  POSITIONER_DAI_STPCKERR:                        ;
34798 0000785E E0FF               647 I1          MOV.B   #-1,R0                          ;
34799                             648 I1          M_BRA   POSITIONER_DAI_STPCKEND         ;
34800 00007860 A001                   M           BRA     POSITIONER_DAI_STPCKEND
34801 00007862 0009                   M           NOP
34802                             649 I1  
34803 00007864                    650 I1  POSITIONER_DAI_STPCKINP:                        ;
34804 00007864 E001               651 I1          MOV.B   #1,R0                           ;
34805                             652 I1  
34806 00007866                    653 I1  POSITIONER_DAI_STPCKEND:
34807                             654 I1  
34808                             655 I1          SUB_END
34809                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34810 00007866 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34811                             656 I1          M_RTS
34812 00007868 000B                   M           RTS                             ;RTSの後ろの
34813 0000786A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34814                             657 I1  
34815                             658 I1  
34816                             659 I1  ;       ***************************************
34817                             660 I1  ;       ***                                                                     ***
34818                             661 I1  ;       ***             2021-06-24(2019-11-11)          ***
34819                             662 I1  ;       ***                                                                     ***
34820                             663 I1  ;       ***************************************
34821                             664 I1  
34822                             665 I1          .MACRO  AREA_CHK_BITSET  UP_REG,DN_REG,PV_REG,ANS_REG,BITn,WKREG
34823                             666 I1          CMP/GE  \DN_REG,\PV_REG
                                                  ;PV >= MIN
34824                             667 I1          BF      JMPED\@                                                         ;"T=0"
34825                             668 I1          CMP/GE  \PV_REG,\UP_REG                                 ;
34826                             669 I1          BF      JMPED\@                                                         ;
34827                             670 I1          MOV.W   #\BITn,\WKREG                                   ;
34828                             671 I1          OR              \WKREG,\ANS_REG                                 ;
34829                             672 I1  
34830                             673 I1  JMPED\@:                                                                        ;
34831                             674 I1          .ENDM
34832                             675 I1  
34833                             676 I1          .IMPORT         _SVP_SLID_POS1                  ;ｽﾗｲﾄﾞ位置　生産
34834                             677 I1          .IMPORT         _SVP_SLID_POS2                  ;ｽﾗｲﾄﾞ位置　段取1
34835                             678 I1          .IMPORT         _SVP_SLID_POS3                  ;ｽﾗｲﾄﾞ位置　段取2
34836                             679 I1  
34837 0000786C                    680 I1  _POSITINER_POS_CMP
34838                             681 I1          SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   515
PROGRAM NAME =

34839 0000786C 4F22                   M           STS.L   PR,@-R15                ;[必要]
34840                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34841                             682 I1  
34842 0000786E D127               683 I1          MOV.L   #_SVP_SL_TENPOS,R1              ;
34843 00007870 6011               684 I1          MOV.W   @R1,R0                                  ;
34844 00007872 9341               685 I1          MOV.W   #D'1,R3                                 ;LATE
34845 00007874 8803               686 I1          CMP/EQ  #3,R0
34846 00007876 8906               687 I1          BT      POSITINER_POSCMP_100            ;小数点3桁
34847 00007878 933F               688 I1          MOV.W   #D'10,R3                                ;
34848 0000787A 8802               689 I1          CMP/EQ  #2,R0                                   ;
34849 0000787C 8903               690 I1          BT      POSITINER_POSCMP_100            ;小数点2桁
34850 0000787E 933D               691 I1          MOV.W   #D'100,R3                               ;
34851 00007880 8801               692 I1          CMP/EQ  #1,R0                                   ;
34852 00007882 8900               693 I1          BT      POSITINER_POSCMP_100            ;小数点1桁
34853 00007884 933B               694 I1          MOV.W   #D'1000,R3                              ;小数点無し
34854 00007886                    695 I1  POSITINER_POSCMP_100
34855                             696 I1  
34856                             697 I1  
34857 00007886 D122               698 I1          MOV.L   #_SVP_ATSLID_COEF1,R1           ; スライド自動調節　制御精度 "
34858 00007888 6211               699 I1          MOV.W   @R1,R2                                          ;
34859 0000788A 332D               700 I1          DMULS.L R2,R3                                           ;
34860 0000788C 021A               701 I1          STS.L   MACL,R2                                         ;
34861 0000788E D121               702 I1          MOV.L   #_SET1_ATSLID_COEF2,R1          ;
34862 00007890 2122               703 I1          MOV.L   R2,@R1                                          ;0.001mm
34863                             704 I1  
34864 00007892 6623               705 I1          MOV             R2,R6                                           ;R6:精度(幅)
34865 00007894 277A               706 I1          XOR             R7,R7                                           ;ANS
34866                             707 I1  
34867                             708 I1  ;-----------TEST------------
34868 00007896 9233               709 I1          MOV.W   #D'30000,R2                                     ;30.000
34869                             710 I1  ;;;2021-07-02   MOV.L   #_POSINER_PV_POS,R1                     ;//目標位置
34870                             711 I1  ;;;2021-07-02   MOV.L   @R1,R2                                          ;
34871 00007898 D11F               712 I1          MOV.L   #_PVX_DAI_POS1,R1                       ;ﾀﾞｲﾊｲﾄ表示値・制御値
34872 0000789A 6212               713 I1          MOV.L   @R1,R2                                          ;SAVE R2 -->NEXT CALC USED
34873                             714 I1  
34874                             715 I1  
34875                             716 I1  ;       -------------------------------
34876 0000789C D11F               717 I1          MOV.L   #_SVP_SLID_POS1,R1                      ;ｽﾗｲﾄﾞ位置　生産 0.001mm
34877 0000789E 6312               718 I1          MOV.L   @R1,R3                                          ;
34878 000078A0 6063               719 I1          MOV             R6,R0
34879 000078A2 303C               720 I1          ADD             R3,R0                                           ;R0 +
34880 000078A4 3368               721 I1          SUB             R6,R3                                           ;R3 -
34881                             722 I1          AREA_CHK_BITSET  UP_REG=R0,DN_REG=R3,PV_REG=R2,ANS_REG=R7,BITn=BIT13,WKREG=R4
34882 000078A6 3233                   M           CMP/GE  R3,R2
                                          ;PV >= MIN
34883 000078A8 8B03                   M           BF      JMPED00027                                                              ;"
                                          T=0"
34884 000078AA 3023                   M           CMP/GE  R2,R0                                   ;
34885 000078AC 8B01                   M           BF      JMPED00027                                                              ;
34886 000078AE 9428                   M           MOV.W   #BIT13,R4                                       ;
34887 000078B0 274B                   M           OR              R4,R7                                   ;
34888                                 M   
34889 000078B2                        M   JMPED00027:                                                                     ;
34890                             723 I1  
34891                             724 I1  ;       ----------DEBUG --------------
34892                             725 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
34893                             726 I1  ;;      MOV.W   R0,@R1                                          ;+data ok
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   516
PROGRAM NAME =

34894                             727 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;
34895                             728 I1  ;;      MOV.W   R3,@R1                                          ;-data ok
34896                             729 I1  
34897 000078B2 D11B               730 I1          MOV.L   #_SVP_SLID_POS2,R1              ;.SRES  4       ;ｽﾗｲﾄﾞ位置　段取1
34898 000078B4 6312               731 I1          MOV.L   @R1,R3                                  ;
34899 000078B6 6063               732 I1          MOV             R6,R0
34900 000078B8 303C               733 I1          ADD             R3,R0                                           ;R0 +
34901 000078BA 3368               734 I1          SUB             R6,R3                                           ;R3 -
34902                             735 I1          AREA_CHK_BITSET  UP_REG=R0,DN_REG=R3,PV_REG=R2,ANS_REG=R7,BITn=BIT14,WKREG=R4
34903 000078BC 3233                   M           CMP/GE  R3,R2
                                          ;PV >= MIN
34904 000078BE 8B03                   M           BF      JMPED00028                                                              ;"
                                          T=0"
34905 000078C0 3023                   M           CMP/GE  R2,R0                                   ;
34906 000078C2 8B01                   M           BF      JMPED00028                                                              ;
34907 000078C4 941E                   M           MOV.W   #BIT14,R4                                       ;
34908 000078C6 274B                   M           OR              R4,R7                                   ;
34909                                 M   
34910 000078C8                        M   JMPED00028:                                                                     ;
34911                             736 I1  
34912                             737 I1  ;       ----------DEBUG --------------
34913                             738 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
34914                             739 I1  ;;      MOV.W   R0,@R1                                          ;+data ok
34915                             740 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;
34916                             741 I1  ;;      MOV.W   R3,@R1                                          ;-data ok
34917                             742 I1  
34918 000078C8 D116               743 I1          MOV.L   #_SVP_SLID_POS3,R1              ;.SRES  4       ;ｽﾗｲﾄﾞ位置　段取2
34919 000078CA 6312               744 I1          MOV.L   @R1,R3                                  ;
34920 000078CC 6063               745 I1          MOV             R6,R0
34921 000078CE 303C               746 I1          ADD             R3,R0                                           ;R0 +
34922 000078D0 3368               747 I1          SUB             R6,R3                                           ;R3 -
34923                             748 I1          AREA_CHK_BITSET  UP_REG=R0,DN_REG=R3,PV_REG=R2,ANS_REG=R7,BITn=BIT15,WKREG=R4
34924 000078D2 3233                   M           CMP/GE  R3,R2
                                          ;PV >= MIN
34925 000078D4 8B03                   M           BF      JMPED00029                                                              ;"
                                          T=0"
34926 000078D6 3023                   M           CMP/GE  R2,R0                                   ;
34927 000078D8 8B01                   M           BF      JMPED00029                                                              ;
34928 000078DA 9414                   M           MOV.W   #BIT15,R4                                       ;
34929 000078DC 274B                   M           OR              R4,R7                                   ;
34930                                 M   
34931 000078DE                        M   JMPED00029:                                                                     ;
34932                             749 I1  
34933                             750 I1  ;;;2021-06-24   MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
34934                             751 I1  ;;;2021-06-24   MOV.W   R0,@R1                                          ;+data ok
34935                             752 I1  ;;;2021-06-24   MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;
34936                             753 I1  ;;;2021-06-24   MOV.W   R3,@R1                                          ;-data ok
34937                             754 I1  
34938                             755 I1  
34939 000078DE 6073               756 I1          MOV             R7,R0                                                   ;
34940 000078E0 D111               757 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;251
34941 000078E2 6211               758 I1          MOV.W   @R1,R2                                                  ;
34942 000078E4 9410               759 I1          MOV.W   #(BIT15|BIT14|BIT13),R4         ;
34943 000078E6 2049               760 I1          AND             R4,R0
34944 000078E8 6447               761 I1          NOT             R4,R4
34945 000078EA 2249               762 I1          AND             R4,R2
34946 000078EC 220B               763 I1          OR              R0,R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   517
PROGRAM NAME =

34947 000078EE D10E               764 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;251
34948 000078F0 2121               765 I1          MOV.W   R2,@R1                                          ;ok
34949                             766 I1  
34950                             767 I1  
34951                             768 I1  ;--------------------------------------
34952                             769 I1  ;;      MOV.L   #_SET1_ATSLID_COEF1,R1          ;
34953                             770 I1  ;;      MOV.L   @R1,R2                                          ;
34954                             771 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
34955                             772 I1  ;;      MOV.W   R2,@R1                                          ;
34956                             773 I1  
34957                             774 I1  ;;      MOV.L   #_SET1_ATSLID_COEF2,R1          ;
34958                             775 I1  ;;      MOV.L   @R1,R2                                          ;
34959                             776 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
34960                             777 I1  ;;      MOV.W   R2,@R1                                          ;
34961                             778 I1  
34962                             779 I1          SUB_END
34963                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34964 000078F2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34965                             780 I1          M_RTS
34966 000078F4 000B                   M           RTS                             ;RTSの後ろの
34967 000078F6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34968                           11234     
34969                           11235     
34970                           11236     
34971                           11237     
34972                           11238     
34973                           11239     
34974                           11240     
34975                           11241     
34976                           11242     
34977                           11243     
34978                           11244     
34979                           11245     
34980                           11246     
34981                           11247     
34982                           11248     
34983                           11249     
34984                           11250     
34985                           11251     
34986                           11252     
34987                           11253     
34988                           11254     
34989                           11255     
34990                           11256     ;       ***************************************************
34991                           11257     ;       ***                                             ***
34992                           11258     ;       ***                                             ***
34993                           11259     ;       ***                                             ***
34994                           11260     ;       ***     行程前に加速・減速処理                  ***
34995                           11261     ;       ***     行程後に加速・減速処理                  ***
34996                           11262     ;       ***     各行程での指定                          ***
34997                           11263     ;       ***     2016-04-18                              ***
34998                           11264     ;       ***                                             ***
34999                           11265     ;       ***                                             ***
35000                           11266     ;       ***                                             ***
35001                           11267     ;       ***************************************************
35002                           11268             .EXPORT _ACC_MATHED_SEL_MAIN                    ;ﾒｲﾝｽｷｬﾝ有効/無効程度
35003                           11269             .EXPORT _API_ACC_MATHED_COM_DRV_START1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   518
PROGRAM NAME =

35004                           11270             .EXPORT _API_ACC_MATHED_COM_DRV_STOP            ;
35005                           11271             .EXPORT _ACC_MATHED_SEL_CTRL                    ;1MS(制御ﾒｲﾝ):
35006                           11272                                                             ;_PLS_LSI_CTRLの中でPOSCTL_SET_SPD
35007                           11273                                                             ;(ｵｰﾊﾞﾗｲﾄﾞ前の設定ﾚﾍﾞﾙの変換演算)
35008                           11274             .EXPORT _ACCSEL_CHGSPD_LIMIT_INFO_LOAD          ;
35009                           11275     
35010                           11276             .INCLUDE        "ssa_accupdn_sel.inc"           ;
35011                               1 I1  ;       ***************************************************
35012                               2 I1  ;       ***                                             ***
35013                               3 I1  ;       ***                                             ***
35014                               4 I1  ;       ***                                             ***
35015                               5 I1  ;       ***     行程前に加速・減速処理                  ***
35016                               6 I1  ;       ***     行程後に加速・減速処理                  ***
35017                               7 I1  ;       ***     各行程での指定                          ***
35018                               8 I1  ;       ***     2016-04-18                              ***
35019                               9 I1  ;       ***                                             ***
35020                              10 I1  ;       ***                                             ***
35021                              11 I1  ;       ***                                             ***
35022                              12 I1  ;       ***************************************************
35023                              13 I1          .IMPORT         _PAR_ACCDN_MATH         ;5 2015-11-18 加減速　減速優先[CE2]
35024                              14 I1  ;       *******************************************
35025                              15 I1  ;       ***                                     ***
35026                              16 I1  ;       ***     バックグランドでCALL            ***
35027                              17 I1  ;       ***     条件作成                        ***
35028                              18 I1  ;       ***                                     ***
35029                              19 I1  ;       *******************************************
35030                                 I1  ***** BEGIN-POOL *****
35031 000078F8 0001                   I1  DATA FOR SOURCE-LINE 685
35032 000078FA 000A                   I1  DATA FOR SOURCE-LINE 688
35033 000078FC 0064                   I1  DATA FOR SOURCE-LINE 691
35034 000078FE 03E8                   I1  DATA FOR SOURCE-LINE 694
35035 00007900 7530                   I1  DATA FOR SOURCE-LINE 709
35036 00007902 2000                   I1  DATA FOR SOURCE-LINE 722
35037 00007904 4000                   I1  DATA FOR SOURCE-LINE 735
35038 00007906 8000                   I1  DATA FOR SOURCE-LINE 748
35039 00007908 E000                   I1  DATA FOR SOURCE-LINE 759
35040 0000790A 0000                   I1  ALIGNMENT CODE
35041 0000790C 00000000               I1  DATA FOR SOURCE-LINE 683
35042 00007910 00000000               I1  DATA FOR SOURCE-LINE 698
35043 00007914 00000000               I1  DATA FOR SOURCE-LINE 702
35044 00007918 00000000               I1  DATA FOR SOURCE-LINE 712
35045 0000791C 00000000               I1  DATA FOR SOURCE-LINE 717
35046 00007920 00000000               I1  DATA FOR SOURCE-LINE 730
35047 00007924 00000000               I1  DATA FOR SOURCE-LINE 743
35048 00007928 00000000               I1  DATA FOR SOURCE-LINE 757,764
35049                                 I1  ***** END-POOL *****
35050 0000792C                     20 I1  _ACC_MATHED_SEL_MAIN
35051                              21 I1          SUB_START
35052 0000792C 4F22                   M           STS.L   PR,@-R15                ;[必要]
35053                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35054 0000792E D104                22 I1          MOV.L   #(_PAR_ACCDN_MATH-_CB_SYS_PARAM000+_W_PARAM_TOP),R1
35055 00007930 6011                23 I1          MOV.W   @R1,R0                          ;
35056 00007932 8801                24 I1          CMP/EQ  #1,R0                           ;
35057 00007934 8B08                25 I1          BF      ACC_MATHED_SEL_MN_100           ;
35058                              26 I1  
35059                              27 I1  ;       -----   低速優先        -----
35060                              28 I1          FAR_JSR #_ACCLW_DATA_MAIN,R0            ;[1だ]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   519
PROGRAM NAME =

35061 00007936 D003                   M           MOV.L   #_ACCLW_DATA_MAIN,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35062 00007938 400B                   M           JSR     @R0                     ;
35063 0000793A 0009                   M           NOP                                     ;
35064                              29 I1          M_BRA   ACC_MATHED_SEL_MN_END           ;
35065 0000793C A009                   M           BRA     ACC_MATHED_SEL_MN_END
35066 0000793E 0009                   M           NOP
35067                              30 I1  
35068                              31 I1  
35069                                 I1  ***** BEGIN-POOL *****
35070 00007940 00000000               I1  DATA FOR SOURCE-LINE 22
35071 00007944 00000000               I1  DATA FOR SOURCE-LINE 28
35072                                 I1  ***** END-POOL *****
35073 00007948                     32 I1  ACC_MATHED_SEL_MN_100                           ;
35074 00007948 8802                33 I1          CMP/EQ  #2,R0                           ;
35075 0000794A 8B02                34 I1          BF      ACC_MATHED_SEL_MN_END           ;
35076                              35 I1  
35077                              36 I1  ;       -----   各段指定        -----
35078                              37 I1          FAR_JSR #_ACCST_DATA_MAIN,R0            ;[2だ]
35079 0000794C D002                   M           MOV.L   #_ACCST_DATA_MAIN,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35080 0000794E 400B                   M           JSR     @R0                     ;
35081 00007950 0009                   M           NOP                                     ;
35082                              38 I1  
35083                              39 I1  
35084 00007952                     40 I1  ACC_MATHED_SEL_MN_END                           ;
35085                              41 I1  
35086                              42 I1  
35087                              43 I1          SUB_END
35088                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35089 00007952 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35090                              44 I1          M_RTS
35091 00007954 000B                   M           RTS                             ;RTSの後ろの
35092 00007956 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35093                              45 I1  
35094                              46 I1  
35095                              47 I1  
35096                              48 I1  ;       ***************************************************
35097                              49 I1  ;       ***                                             ***
35098                              50 I1  ;       ***     起動時CALL(運転釦ON,タイマ後,1サイクル) ***
35099                              51 I1  ;       ***                                             ***
35100                              52 I1  ;       ***************************************************
35101                                 I1  ***** BEGIN-POOL *****
35102 00007958 00000000               I1  DATA FOR SOURCE-LINE 37
35103                                 I1  ***** END-POOL *****
35104 0000795C                     53 I1  _API_ACC_MATHED_COM_DRV_START1
35105                              54 I1          SUB_START
35106 0000795C 4F22                   M           STS.L   PR,@-R15                ;[必要]
35107                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35108                              55 I1  
35109 0000795E D104                56 I1          MOV.L   #(_PAR_ACCDN_MATH-_CB_SYS_PARAM000+_W_PARAM_TOP),R1
35110 00007960 6011                57 I1          MOV.W   @R1,R0                          ;
35111 00007962 8801                58 I1          CMP/EQ  #1,R0                           ;
35112 00007964 8B08                59 I1          BF      ACC_MATHED_COM_DRVST1_100       ;
35113                              60 I1  
35114                              61 I1  ;       -----   低速優先        -----
35115                              62 I1          FAR_JSR #_API_ACCLW_DRV_START1,R0       ;
35116 00007966 D003                   M           MOV.L   #_API_ACCLW_DRV_START1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35117 00007968 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   520
PROGRAM NAME =

35118 0000796A 0009                   M           NOP                                     ;
35119                              63 I1  
35120                              64 I1          M_BRA   ACC_MATHED_COM_DRVST1_END       ;
35121 0000796C A009                   M           BRA     ACC_MATHED_COM_DRVST1_END
35122 0000796E 0009                   M           NOP
35123                              65 I1  
35124                              66 I1  
35125                                 I1  ***** BEGIN-POOL *****
35126 00007970 00000000               I1  DATA FOR SOURCE-LINE 56
35127 00007974 00000000               I1  DATA FOR SOURCE-LINE 62
35128                                 I1  ***** END-POOL *****
35129 00007978                     67 I1  ACC_MATHED_COM_DRVST1_100                       ;
35130 00007978 8802                68 I1          CMP/EQ  #2,R0                           ;
35131 0000797A 8B02                69 I1          BF      ACC_MATHED_COM_DRVST1_END       ;
35132                              70 I1  
35133                              71 I1  ;       -----   各段指定        -----
35134                              72 I1          FAR_JSR #_API_ACCST_DRV_START1,R0       ;
35135 0000797C D002                   M           MOV.L   #_API_ACCST_DRV_START1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35136 0000797E 400B                   M           JSR     @R0                     ;
35137 00007980 0009                   M           NOP                                     ;
35138                              73 I1  
35139 00007982                     74 I1  ACC_MATHED_COM_DRVST1_END:      ;
35140                              75 I1  
35141                              76 I1          SUB_END
35142                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35143 00007982 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35144                              77 I1          M_RTS
35145 00007984 000B                   M           RTS                             ;RTSの後ろの
35146 00007986 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35147                              78 I1  
35148                              79 I1  
35149                              80 I1  
35150                              81 I1  
35151                              82 I1  
35152                              83 I1  ;       *******************************************
35153                              84 I1  ;       ***                                     ***
35154                              85 I1  ;       ***     位置決め中断時CALL              ***
35155                              86 I1  ;       ***     位置決め停止タイマ時CALL        ***
35156                              87 I1  ;       ***     異常時CALL                      ***
35157                              88 I1  ;       ***                                     ***
35158                              89 I1  ;       *******************************************
35159                              90 I1  ;//BIT0:起動[API]
35160                              91 I1  ;//BIT6:[減速開始]
35161                              92 I1  ;//BIT7:演算完了[停止行程まで演算不要：もう低速設定がない]:予備
35162                              93 I1  ;//
35163                              94 I1  
35164                                 I1  ***** BEGIN-POOL *****
35165 00007988 00000000               I1  DATA FOR SOURCE-LINE 72
35166                                 I1  ***** END-POOL *****
35167 0000798C                     95 I1  _API_ACC_MATHED_COM_DRV_STOP
35168                              96 I1          SUB_START
35169 0000798C 4F22                   M           STS.L   PR,@-R15                ;[必要]
35170                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35171                              97 I1  ;       (ここは判断がなくてもいいでしょう)
35172                              98 I1  
35173                              99 I1  ;       -----   低速優先        -----
35174                             100 I1  ;       ---     フラグクリア    ---
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   521
PROGRAM NAME =

35175                             101 I1          FAR_JSR #_API_ACCLW_DRV_STOP,R0
35176 0000798E D004                   M           MOV.L   #_API_ACCLW_DRV_STOP,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35177 00007990 400B                   M           JSR     @R0                     ;
35178 00007992 0009                   M           NOP                                     ;
35179                             102 I1  
35180                             103 I1  ;       -----   各段指定        -----
35181                             104 I1  ;       ---     フラグクリア    ---
35182                             105 I1          FAR_JSR #_API_ACCST_DRV_STOP,R0
35183 00007994 D003                   M           MOV.L   #_API_ACCST_DRV_STOP,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35184 00007996 400B                   M           JSR     @R0                     ;
35185 00007998 0009                   M           NOP                                     ;
35186                             106 I1  
35187                             107 I1  
35188                             108 I1          SUB_END
35189                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35190 0000799A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35191                             109 I1          M_RTS
35192 0000799C 000B                   M           RTS                             ;RTSの後ろの
35193 0000799E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35194                             110 I1  
35195                             111 I1  
35196                             112 I1  
35197                             113 I1  ;       *******************************************
35198                             114 I1  ;       ***                                     ***
35199                             115 I1  ;       ***     1msecでCALL     メイン          ***
35200                             116 I1  ;       ***                                     ***
35201                             117 I1  ;       *******************************************
35202                             118 I1  ;       [Input R2]
35203                                 I1  ***** BEGIN-POOL *****
35204 000079A0 00000000               I1  DATA FOR SOURCE-LINE 101
35205 000079A4 00000000               I1  DATA FOR SOURCE-LINE 105
35206                                 I1  ***** END-POOL *****
35207 000079A8                    119 I1  _ACC_MATHED_SEL_CTRL
35208                             120 I1          SUB_START
35209 000079A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
35210                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35211                             121 I1  
35212 000079AA D104               122 I1          MOV.L   #(_PAR_ACCDN_MATH-_CB_SYS_PARAM000+_W_PARAM_TOP),R1
35213 000079AC 6011               123 I1          MOV.W   @R1,R0                          ;
35214 000079AE 8801               124 I1          CMP/EQ  #1,R0                           ;
35215 000079B0 8B08               125 I1          BF      ACC_MATHED_CTLSEL_100           ;
35216                             126 I1  
35217                             127 I1  ;       -----   低速優先        -----
35218                             128 I1          FAR_JSR #_ACCLW_CTRL_CALC,R0            ;2015-11-17 減速選択
35219 000079B2 D003                   M           MOV.L   #_ACCLW_CTRL_CALC,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35220 000079B4 400B                   M           JSR     @R0                     ;
35221 000079B6 0009                   M           NOP                                     ;
35222                             129 I1  
35223                             130 I1          M_BRA   ACC_MATHED_CTLSEL_END           ;
35224 000079B8 A009                   M           BRA     ACC_MATHED_CTLSEL_END
35225 000079BA 0009                   M           NOP
35226                             131 I1  
35227                             132 I1  
35228                                 I1  ***** BEGIN-POOL *****
35229 000079BC 00000000               I1  DATA FOR SOURCE-LINE 122
35230 000079C0 00000000               I1  DATA FOR SOURCE-LINE 128
35231                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   522
PROGRAM NAME =

35232 000079C4                    133 I1  ACC_MATHED_CTLSEL_100                           ;
35233 000079C4 8802               134 I1          CMP/EQ  #2,R0                           ;
35234 000079C6 8B02               135 I1          BF      ACC_MATHED_CTLSEL_END           ;
35235                             136 I1  
35236                             137 I1  ;       -----   各段指定        -----
35237                             138 I1          FAR_JSR #_ACCST_CTRL_CALC,R0            ;[2だ]
35238 000079C8 D002                   M           MOV.L   #_ACCST_CTRL_CALC,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35239 000079CA 400B                   M           JSR     @R0                     ;
35240 000079CC 0009                   M           NOP                                     ;
35241                             139 I1  
35242 000079CE                    140 I1  ACC_MATHED_CTLSEL_END                           ;
35243                             141 I1  
35244                             142 I1  
35245                             143 I1          SUB_END
35246                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35247 000079CE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35248                             144 I1          M_RTS
35249 000079D0 000B                   M           RTS                             ;RTSの後ろの
35250 000079D2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35251                             145 I1  
35252                             146 I1  
35253                             147 I1  
35254                             148 I1  
35255                             149 I1  
35256                             150 I1  
35257                             151 I1  
35258                             152 I1  
35259                             153 I1  
35260                             154 I1  
35261                             155 I1  
35262                             156 I1  
35263                             157 I1  
35264                             158 I1  ;       *******************************************
35265                             159 I1  ;       ***                                     ***
35266                             160 I1  ;       ***                                     ***
35267                             161 I1  ;       ***                                     ***
35268                             162 I1  ;       ***                                     ***
35269                             163 I1  ;       *******************************************
35270                             164 I1  ;       レジスタはR0以外破壊しないこと
35271                             165 I1  ;       R0=0/R0=1(前減速,前加速)-速度チェック１不要
35272                                 I1  ***** BEGIN-POOL *****
35273 000079D4 00000000               I1  DATA FOR SOURCE-LINE 138
35274                                 I1  ***** END-POOL *****
35275 000079D8                    166 I1  _ACCSEL_CHGSPD_LIMIT_INFO_LOAD:
35276                             167 I1          SUB_START
35277 000079D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
35278                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35279                             168 I1  
35280                             169 I1          PUSH_REG1 R1
35281 000079DA 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
35282                                 M                                           ;REG=>[SP]
35283                                 M                                           ;"-4" FF,FF,FF,FC
35284                             170 I1  
35285 000079DC D103               171 I1          MOV.L   #(_PAR_ACCDN_MATH-_CB_SYS_PARAM000+_W_PARAM_TOP),R1
35286 000079DE 6011               172 I1          MOV.W   @R1,R0                          ;
35287 000079E0 8801               173 I1          CMP/EQ  #1,R0                           ;
35288 000079E2 8B05               174 I1          BF      ACCCHGSPD_LMT_INF_LD_100        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   523
PROGRAM NAME =

35289                             175 I1  
35290                             176 I1  ;       -----   低速優先        -----
35291 000079E4 200A               177 I1          XOR     R0,R0
35292                             178 I1          M_BRA   ACCCHGSPD_LMT_INF_LD_END        ;
35293 000079E6 A00E                   M           BRA     ACCCHGSPD_LMT_INF_LD_END
35294 000079E8 0009                   M           NOP
35295                             179 I1  
35296                             180 I1  
35297                                 I1  ***** BEGIN-POOL *****
35298 000079EA 0000                   I1  ALIGNMENT CODE
35299 000079EC 00000000               I1  DATA FOR SOURCE-LINE 171
35300                                 I1  ***** END-POOL *****
35301 000079F0                    181 I1  ACCCHGSPD_LMT_INF_LD_100:
35302 000079F0 8802               182 I1          CMP/EQ  #2,R0                           ;
35303 000079F2 8B07               183 I1          BF      ACCCHGSPD_LMT_INF_LD_200
35304                             184 I1  
35305                             185 I1  ;       -----   各段指定        -----
35306                             186 I1          FAR_JSR #_ACCST_CHGSPD_LIMIT_INFO_LOAD,R0       ;
35307 000079F4 D002                   M           MOV.L   #_ACCST_CHGSPD_LIMIT_INFO_LOAD,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35308 000079F6 400B                   M           JSR     @R0                     ;
35309 000079F8 0009                   M           NOP                                     ;
35310                             187 I1          M_BRA   ACCCHGSPD_LMT_INF_LD_END                ;
35311 000079FA A004                   M           BRA     ACCCHGSPD_LMT_INF_LD_END
35312 000079FC 0009                   M           NOP
35313                             188 I1  
35314                                 I1  ***** BEGIN-POOL *****
35315 000079FE 0000                   I1  ALIGNMENT CODE
35316 00007A00 00000000               I1  DATA FOR SOURCE-LINE 186
35317                                 I1  ***** END-POOL *****
35318 00007A04                    189 I1  ACCCHGSPD_LMT_INF_LD_200                                ;
35319 00007A04 200A               190 I1          XOR     R0,R0
35320 00007A06                    191 I1  ACCCHGSPD_LMT_INF_LD_END                                ;
35321                             192 I1  
35322                             193 I1          POP_REG1 R1
35323                                 M                                   ; RE"+4" 00,00,00,04
35324 00007A06 61F6                   M           MOV.L   @R15+,R1        ;
35325                             194 I1  
35326                             195 I1          SUB_END
35327                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35328 00007A08 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35329                             196 I1          M_RTS
35330 00007A0A 000B                   M           RTS                             ;RTSの後ろの
35331 00007A0C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35332                             197 I1  
35333                           11277     
35334                           11278     ;       *******************************************
35335                           11279     ;       ***                                     ***
35336                           11280     ;       ***                                     ***
35337                           11281     ;       ***                                     ***
35338                           11282     ;       ***     低速減速優先演算                ***
35339                           11283     ;       ***     2015-11-17                      ***
35340                           11284     ;       ***                                     ***
35341                           11285     ;       ***                                     ***
35342                           11286     ;       *******************************************
35343                           11287     ;;;;;;;         2016-04-18 必ず ssa_accupdn_sel.incの中でCALL
35344                           11288     ;;;;;;;         .EXPORT _ACCLW_DATA_MAIN                ;
35345                           11289     ;;;;;;;         .EXPORT _API_ACCLW_DRV_START1           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   524
PROGRAM NAME =

35346                           11290     ;;;;;;;         .EXPORT _API_ACCLW_DRV_STOP             ;
35347                           11291     ;;;;;;;         .EXPORT _ACCLW_CTRL_CALC                ;
35348                           11292     
35349                           11293             .INCLUDE        "ssa_aclw.inc"          ;//低速優先減速演算
35350                               1 I1  ;       ***************************************************
35351                               2 I1  ;       ***                                             ***
35352                               3 I1  ;       ***                                             ***
35353                               4 I1  ;       ***                                             ***
35354                               5 I1  ;       ***             低速優先　内部減速処理          ***
35355                               6 I1  ;       ***             2015-11-17 減速選択             ***
35356                               7 I1  ;       ***                                             ***
35357                               8 I1  ;       ***                                             ***
35358                               9 I1  ;       ***                                             ***
35359                              10 I1  ;       ***************************************************
35360                              11 I1  
35361                              12 I1  ;       *******************************************
35362                              13 I1  ;       ***                                     ***
35363                              14 I1  ;       ***     バックグランドでCALL            ***
35364                              15 I1  ;       ***     条件作成                        ***
35365                              16 I1  ;       ***                                     ***
35366                              17 I1  ;       *******************************************
35367                              18 I1  ;;;;;;;;;2016-04-18     .IMPORT         _PAR_ACCDN_MATH         ;5 2015-11-18 加減速　減速
                                          優先[CE2]
35368                              19 I1  
35369 00007A0E                     20 I1  _ACCLW_DATA_MAIN
35370                              21 I1          SUB_START
35371 00007A0E 4F22                   M           STS.L   PR,@-R15                ;[必要]
35372                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35373                              22 I1  
35374                              23 I1  ;;;;;;;;;2016-04-18
35375                              24 I1  ;;;;;;;;;       ================ USE-CHECK-----------------
35376                              25 I1  ;;;;;;;;;       MOV.L   #(_PAR_ACCDN_MATH-_CB_SYS_PARAM000+_W_PARAM_TOP),R1
35377                              26 I1  ;;;;;;;;;       MOV.W   @R1,R0                          ;
35378                              27 I1  ;;;;;;;;;       CMP/EQ  #1,R0                           ;
35379                              28 I1  ;;;;;;;;;       BF      ACCLW_USECHK_EXT                ;
35380                              29 I1  
35381 00007A10 222A                30 I1          XOR     R2,R2
35382 00007A12 D109                31 I1          MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
35383 00007A14 6011                32 I1          MOV.W   @R1,R0                                  ;
35384 00007A16 C801                33 I1          TST     #_DMATH_CNTROT,R0                       ;回転：
35385                              34 I1          TST_BIT_OF ACCLW_USECHK_100                     ;no use
35386 00007A18 8908                   M           BT      ACCLW_USECHK_100
35387                              35 I1  
35388 00007A1A D108                36 I1          MOV.L   #_MODE_SEL,R1                           ;
35389 00007A1C 6011                37 I1          MOV.W   @R1,R0                                  ;
35390 00007A1E C81E                38 I1          TST     #_W1SGL+_W1CNT+_W1OPT+_W1INC,R0         ;安全、連続、オプション,INC
35391                              39 I1          TST_BIT_OF ACCLW_USECHK_100                     ;no use
35392 00007A20 8904                   M           BT      ACCLW_USECHK_100
35393                              40 I1  
35394                              41 I1  
35395 00007A22 D107                42 I1          MOV.L   #_LINK_1ROT_PLS,R1                      ;
35396 00007A24 6412                43 I1          MOV.L   @R1,R4                                  ;
35397 00007A26 D107                44 I1          MOV.L   #_ACCLW_GEN_MAX_LNG,R1                  ;最大速度時の減速距離
35398 00007A28 2142                45 I1          MOV.L   R4,@R1                                  ;(とりあえず360度分)
35399                              46 I1  
35400                              47 I1  
35401 00007A2A E201                48 I1          MOV.B   #BIT0,R2                                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   525
PROGRAM NAME =

35402                              49 I1  
35403 00007A2C                     50 I1  ACCLW_USECHK_100
35404 00007A2C D106                51 I1          MOV.L   #_ACCLW_USE_CONF,R1                     ;
35405 00007A2E 2121                52 I1          MOV.W   R2,@R1                                  ;
35406                              53 I1  
35407                              54 I1  ;;;;;;;;;ACCLW_USECHK_EXT
35408                              55 I1  
35409                              56 I1          SUB_END
35410                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35411 00007A30 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35412                              57 I1          M_RTS
35413 00007A32 000B                   M           RTS                             ;RTSの後ろの
35414 00007A34 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35415                              58 I1  
35416                              59 I1  ;       ***************************************************
35417                              60 I1  ;       ***                                             ***
35418                              61 I1  ;       ***     起動時CALL(運転釦ON,タイマ後,1サイクル) ***
35419                              62 I1  ;       ***                                             ***
35420                              63 I1  ;       ***************************************************
35421                                 I1  ***** BEGIN-POOL *****
35422 00007A36 0000                   I1  ALIGNMENT CODE
35423 00007A38 00000000               I1  DATA FOR SOURCE-LINE 31
35424 00007A3C 00000000               I1  DATA FOR SOURCE-LINE 36
35425 00007A40 00000000               I1  DATA FOR SOURCE-LINE 42
35426 00007A44 00000000               I1  DATA FOR SOURCE-LINE 44
35427 00007A48 00000000               I1  DATA FOR SOURCE-LINE 51
35428                                 I1  ***** END-POOL *****
35429 00007A4C                     64 I1  _API_ACCLW_DRV_START1
35430                              65 I1          SUB_START
35431 00007A4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
35432                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35433                              66 I1  
35434                              67 I1  
35435                              68 I1          FAR_JSR #_API_ACCLW_DRV_START2,R0       ;
35436 00007A4E D004                   M           MOV.L   #_API_ACCLW_DRV_START2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35437 00007A50 400B                   M           JSR     @R0                     ;
35438 00007A52 0009                   M           NOP                                     ;
35439                              69 I1          FAR_JSR #_API_ACCLW_DRV_WORK_CLR,R0     ;デバック用
35440 00007A54 D003                   M           MOV.L   #_API_ACCLW_DRV_WORK_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35441 00007A56 400B                   M           JSR     @R0                     ;
35442 00007A58 0009                   M           NOP                                     ;
35443                              70 I1  
35444                              71 I1          SUB_END
35445                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35446 00007A5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35447                              72 I1          M_RTS
35448 00007A5C 000B                   M           RTS                             ;RTSの後ろの
35449 00007A5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35450                              73 I1  
35451                              74 I1  ;       ----------- ﾃﾞﾊﾞｯｸ用にｸﾘｱ------------
35452                                 I1  ***** BEGIN-POOL *****
35453 00007A60 00000000               I1  DATA FOR SOURCE-LINE 68
35454 00007A64 00000000               I1  DATA FOR SOURCE-LINE 69
35455                                 I1  ***** END-POOL *****
35456 00007A68                     75 I1  _API_ACCLW_DRV_WORK_CLR
35457                              76 I1          SUB_START
35458 00007A68 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   526
PROGRAM NAME =

35459                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35460 00007A6A 200A                77 I1          XOR     R0,R0
35461 00007A6C D104                78 I1          MOV.L   #_ACCLW_GET_STEP_NO,R1          ;//BIT1=1時の対象行程
35462 00007A6E 2101                79 I1          MOV.W   R0,@R1                          ;
35463 00007A70 D104                80 I1          MOV.L   #_ACCLW_GET_SET_SPD,R1          ;//BIT1=1時の対象速度
35464 00007A72 2102                81 I1          MOV.L   R0,@R1                          ;ｸﾘｱ不要:ﾃﾞﾊﾞｯｸ用
35465 00007A74 D104                82 I1          MOV.L   #_ACCLW_OUT_SET_SPD,R1          ;//出力速度
35466 00007A76 2102                83 I1          MOV.L   R0,@R1                          ;ｸﾘｱ不要:ﾃﾞﾊﾞｯｸ用
35467                              84 I1          SUB_END
35468                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35469 00007A78 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35470                              85 I1          M_RTS
35471 00007A7A 000B                   M           RTS                             ;RTSの後ろの
35472 00007A7C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35473                              86 I1  
35474                              87 I1  ;       ***************************************************
35475                              88 I1  ;       ***                                             ***
35476                              89 I1  ;       ***     起動時CALL(減速完了,次の減速演算)       ***
35477                              90 I1  ;       ***                                             ***
35478                              91 I1  ;       ***************************************************
35479                                 I1  ***** BEGIN-POOL *****
35480 00007A7E 0000                   I1  ALIGNMENT CODE
35481 00007A80 00000000               I1  DATA FOR SOURCE-LINE 78
35482 00007A84 00000000               I1  DATA FOR SOURCE-LINE 80
35483 00007A88 00000000               I1  DATA FOR SOURCE-LINE 82
35484                                 I1  ***** END-POOL *****
35485 00007A8C                     92 I1  _API_ACCLW_DRV_START2
35486                              93 I1          SUB_START
35487 00007A8C 4F22                   M           STS.L   PR,@-R15                ;[必要]
35488                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35489                              94 I1  
35490 00007A8E D105                95 I1          MOV.L   #_ACCLW_USE_CONF,R1                     ;
35491 00007A90 6011                96 I1          MOV.W   @R1,R0                                  ;
35492 00007A92 C801                97 I1          TST     #BIT0,R0                                ;
35493                              98 I1          TST_BIT_OF API_ACCLW_DRVSTR2_EXT                ;
35494 00007A94 8902                   M           BT      API_ACCLW_DRVSTR2_EXT
35495                              99 I1  
35496 00007A96 E001               100 I1          MOV.B   #BIT0,R0                        ;
35497 00007A98 D103               101 I1          MOV.L   #_ACCLW_CALC_FLG,R1             ;
35498 00007A9A 2101               102 I1          MOV.W   R0,@R1                          ;[BIT6,BIT7CLR BIT0=1]
35499                             103 I1  
35500 00007A9C                    104 I1  API_ACCLW_DRVSTR2_EXT
35501                             105 I1  
35502                             106 I1          SUB_END
35503                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35504 00007A9C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35505                             107 I1          M_RTS
35506 00007A9E 000B                   M           RTS                             ;RTSの後ろの
35507 00007AA0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35508                             108 I1  
35509                             109 I1  
35510                             110 I1  
35511                             111 I1  ;       *******************************************
35512                             112 I1  ;       ***                                     ***
35513                             113 I1  ;       ***     位置決め中断時CALL              ***
35514                             114 I1  ;       ***     位置決め停止タイマ時CALL        ***
35515                             115 I1  ;       ***     異常時CALL                      ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   527
PROGRAM NAME =

35516                             116 I1  ;       ***                                     ***
35517                             117 I1  ;       *******************************************
35518                             118 I1  ;//BIT0:起動[API]
35519                             119 I1  ;//BIT6:[減速開始]
35520                             120 I1  ;//BIT7:演算完了[停止行程まで演算不要：もう低速設定がない]:予備
35521                             121 I1  ;//
35522                             122 I1  
35523                                 I1  ***** BEGIN-POOL *****
35524 00007AA2 0000                   I1  ALIGNMENT CODE
35525 00007AA4 00000000               I1  DATA FOR SOURCE-LINE 95
35526 00007AA8 00000000               I1  DATA FOR SOURCE-LINE 101
35527                                 I1  ***** END-POOL *****
35528 00007AAC                    123 I1  _API_ACCLW_DRV_STOP
35529                             124 I1          SUB_START
35530 00007AAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
35531                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35532 00007AAE 200A               125 I1          XOR     R0,R0
35533 00007AB0 D102               126 I1          MOV.L   #_ACCLW_CALC_FLG,R1             ;
35534 00007AB2 2101               127 I1          MOV.W   R0,@R1                          ;
35535                             128 I1          SUB_END
35536                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35537 00007AB4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35538                             129 I1          M_RTS
35539 00007AB6 000B                   M           RTS                             ;RTSの後ろの
35540 00007AB8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35541                             130 I1  
35542                             131 I1  
35543                             132 I1  
35544                             133 I1  ;       *******************************************
35545                             134 I1  ;       ***                                     ***
35546                             135 I1  ;       ***     1msecでCALL     メイン          ***
35547                             136 I1  ;       ***                                     ***
35548                             137 I1  ;       *******************************************
35549                             138 I1  ;       2015-11-17 減速選択
35550                             139 I1  ;       [オーバライド前にCALL]
35551                             140 I1  ;       Input  R2:設定速度
35552                             141 I1  ;       Output R2:設定速度相当
35553                             142 I1  ;       PAR_ACCDN_MATH=1 減速優先演算
35554                             143 I1  ;
35555                                 I1  ***** BEGIN-POOL *****
35556 00007ABA 0000                   I1  ALIGNMENT CODE
35557 00007ABC 00000000               I1  DATA FOR SOURCE-LINE 126
35558                                 I1  ***** END-POOL *****
35559 00007AC0                    144 I1  _ACCLW_CTRL_CALC                        ;2015-11-17 減速選択
35560                             145 I1          SUB_START
35561 00007AC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
35562                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35563                             146 I1  
35564 00007AC2 D107               147 I1          MOV.L   #_ACCLW_SET_SPD,R1                              ;//INPUT モーション演算部
                                          からの速度 (オーバライド前)
35565 00007AC4 2122               148 I1          MOV.L   R2,@R1                                          ;
35566                             149 I1  
35567 00007AC6 940A               150 I1          MOV.W   #D'1000,R4                                      ;
35568                             151 I1          FAR_JSR #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0        ;R2/R4
35569 00007AC8 D006                   M           MOV.L   #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容
                                          をREGへ
35570 00007ACA 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   528
PROGRAM NAME =

35571 00007ACC 0009                   M           NOP                                     ;
35572 00007ACE D106               152 I1          MOV.L   #_ACCLW_REAL_SPD1MS,R1                          ;1ms差分
35573 00007AD0 2122               153 I1          MOV.L   R2,@R1                                          ;
35574                             154 I1  
35575                             155 I1  
35576 00007AD2 D106               156 I1          MOV.L   #_ACCLW_CALC_FLG,R1     ;
35577 00007AD4 6011               157 I1          MOV.W   @R1,R0                  ;
35578 00007AD6 C801               158 I1          TST     #BIT0,R0                ;
35579                             159 I1          TST_BIT_ON ACCLW_CTRLCALC_100   ;[起動中]
35580 00007AD8 8B0A                   M           BF      ACCLW_CTRLCALC_100
35581                             160 I1          M_BRA   ACCLW_CTRLCALC_800
35582 00007ADA A033                   M           BRA     ACCLW_CTRLCALC_800
35583 00007ADC 0009                   M           NOP
35584                             161 I1  
35585                                 I1  ***** BEGIN-POOL *****
35586 00007ADE 03E8                   I1  DATA FOR SOURCE-LINE 150
35587 00007AE0 00000000               I1  DATA FOR SOURCE-LINE 147
35588 00007AE4 00000000               I1  DATA FOR SOURCE-LINE 151
35589 00007AE8 00000000               I1  DATA FOR SOURCE-LINE 152
35590 00007AEC 00000000               I1  DATA FOR SOURCE-LINE 156
35591                                 I1  ***** END-POOL *****
35592 00007AF0                    162 I1  ACCLW_CTRLCALC_100
35593 00007AF0 C880               163 I1          TST     #BIT7,R0                ;
35594                             164 I1          TST_BIT_OF ACCLW_CTRLCALC_120   ;
35595 00007AF2 8901                   M           BT      ACCLW_CTRLCALC_120
35596                             165 I1          M_BRA   ACCLW_CTRLCALC_800      ;演算不要:再起動かかるまで演算しなくていい
35597 00007AF4 A026                   M           BRA     ACCLW_CTRLCALC_800
35598 00007AF6 0009                   M           NOP
35599                             166 I1  
35600 00007AF8                    167 I1  ACCLW_CTRLCALC_120
35601 00007AF8 C840               168 I1          TST     #BIT6,R0                ;
35602                             169 I1          TST_BIT_ON ACCLW_CTRLCALC_200   ;[減速中か? YES]
35603 00007AFA 8B0D                   M           BF      ACCLW_CTRLCALC_200
35604                             170 I1  
35605                             171 I1  
35606                             172 I1  ;       ------- 減速開始条件チェック---------
35607                             173 I1  
35608                             174 I1          FAR_JSR #_ACCLW_GEN_START_CONF_CHECK,R0
35609 00007AFC D004                   M           MOV.L   #_ACCLW_GEN_START_CONF_CHECK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35610 00007AFE 400B                   M           JSR     @R0                     ;
35611 00007B00 0009                   M           NOP                                     ;
35612                             175 I1  
35613 00007B02 D104               176 I1          MOV.L   #_ACCLW_CALC_FLG,R1             ;
35614 00007B04 6011               177 I1          MOV.W   @R1,R0                          ;
35615 00007B06 C840               178 I1          TST     #BIT6,R0                        ;
35616                             179 I1          TST_BIT_ON ACCLW_CTRLCALC_300           ;
35617 00007B08 8B14                   M           BF      ACCLW_CTRLCALC_300
35618                             180 I1          M_BRA   ACCLW_CTRLCALC_800              ;
35619 00007B0A A01B                   M           BRA     ACCLW_CTRLCALC_800
35620 00007B0C 0009                   M           NOP
35621                             181 I1  
35622                             182 I1  
35623                             183 I1  
35624                             184 I1  ;       ------------- 減速中-----------
35625                                 I1  ***** BEGIN-POOL *****
35626 00007B0E 0000                   I1  ALIGNMENT CODE
35627 00007B10 00000000               I1  DATA FOR SOURCE-LINE 174
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   529
PROGRAM NAME =

35628 00007B14 00000000               I1  DATA FOR SOURCE-LINE 176
35629                                 I1  ***** END-POOL *****
35630 00007B18                    185 I1  ACCLW_CTRLCALC_200
35631                             186 I1  ;       ------- 減速終了条件チェック---------
35632                             187 I1          FAR_JSR #_ACCLW_GEN_END_CONF_CHECK,R0
35633 00007B18 D004                   M           MOV.L   #_ACCLW_GEN_END_CONF_CHECK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35634 00007B1A 400B                   M           JSR     @R0                     ;
35635 00007B1C 0009                   M           NOP                                     ;
35636 00007B1E 2008               188 I1          TST     R0,R0                           ;
35637                             189 I1          TST_BIT_ON ACCLW_CTRLCALC_300           ;減速中
35638 00007B20 8B08                   M           BF      ACCLW_CTRLCALC_300
35639                             190 I1  
35640                             191 I1          FAR_JSR #_API_ACCLW_DRV_START2,R0       ;減速完了:次を探す
35641 00007B22 D003                   M           MOV.L   #_API_ACCLW_DRV_START2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35642 00007B24 400B                   M           JSR     @R0                     ;
35643 00007B26 0009                   M           NOP                                     ;
35644                             192 I1          M_BRA   ACCLW_CTRLCALC_800              ;
35645 00007B28 A00C                   M           BRA     ACCLW_CTRLCALC_800
35646 00007B2A 0009                   M           NOP
35647                             193 I1  
35648                                 I1  ***** BEGIN-POOL *****
35649 00007B2C 00000000               I1  DATA FOR SOURCE-LINE 187
35650 00007B30 00000000               I1  DATA FOR SOURCE-LINE 191
35651                                 I1  ***** END-POOL *****
35652 00007B34                    194 I1  ACCLW_CTRLCALC_300
35653                             195 I1          FAR_JSR #_ACCLW_GEN_OUTSPD_CALC,R0      ;
35654 00007B34 D002                   M           MOV.L   #_ACCLW_GEN_OUTSPD_CALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35655 00007B36 400B                   M           JSR     @R0                     ;
35656 00007B38 0009                   M           NOP                                     ;
35657                             196 I1          M_BRA   ACCLW_CTRLCALC_900                              ;
35658 00007B3A A009                   M           BRA     ACCLW_CTRLCALC_900
35659 00007B3C 0009                   M           NOP
35660                             197 I1  
35661                             198 I1  
35662                                 I1  ***** BEGIN-POOL *****
35663 00007B3E 0000                   I1  ALIGNMENT CODE
35664 00007B40 00000000               I1  DATA FOR SOURCE-LINE 195
35665                                 I1  ***** END-POOL *****
35666 00007B44                    199 I1  ACCLW_CTRLCALC_800                              ;
35667 00007B44 D101               200 I1          MOV.L   #_ACCLW_SET_SPD,R1              ;//INPUT モーション演算部からの速度 (オー
                                          バライド前)
35668 00007B46 6212               201 I1          MOV.L   @R1,R2                          ;
35669                             202 I1          M_BRA   ACCLW_CTRLCALC_EXT              ;
35670 00007B48 A004                   M           BRA     ACCLW_CTRLCALC_EXT
35671 00007B4A 0009                   M           NOP
35672                             203 I1  
35673                                 I1  ***** BEGIN-POOL *****
35674 00007B4C 00000000               I1  DATA FOR SOURCE-LINE 200
35675                                 I1  ***** END-POOL *****
35676 00007B50                    204 I1  ACCLW_CTRLCALC_900                              ;
35677 00007B50 D104               205 I1          MOV.L   #_ACCLW_OUT_SET_SPD,R1          ;       //出力速度
35678 00007B52 6212               206 I1          MOV.L   @R1,R2                          ;
35679                             207 I1  
35680 00007B54                    208 I1  ACCLW_CTRLCALC_EXT                              ;
35681                             209 I1  
35682                             210 I1  
35683 00007B54 D104               211 I1          MOV.L   #_ACCLW_CALC_FLG,R1             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   530
PROGRAM NAME =

35684 00007B56 6011               212 I1          MOV.W   @R1,R0                          ;
35685 00007B58 D104               213 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB255,R1     ;255
35686 00007B5A 2101               214 I1          MOV.W   R0,@R1                          ;
35687                             215 I1  
35688                             216 I1          SUB_END
35689                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35690 00007B5C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35691                             217 I1          M_RTS
35692 00007B5E 000B                   M           RTS                             ;RTSの後ろの
35693 00007B60 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35694                             218 I1  
35695                             219 I1  
35696                             220 I1  ;       *******************************************
35697                             221 I1  ;       ***                                     ***
35698                             222 I1  ;       ***     減速終了条件                    ***
35699                             223 I1  ;       ***                                     ***
35700                             224 I1  ;       *******************************************
35701                             225 I1  ;       OUTPUT R0:0:減速終了 1:減速中
35702                             226 I1  ;       INPUT:R2(設定速度:符号無し)
35703                                 I1  ***** BEGIN-POOL *****
35704 00007B62 0000                   I1  ALIGNMENT CODE
35705 00007B64 00000000               I1  DATA FOR SOURCE-LINE 205
35706 00007B68 00000000               I1  DATA FOR SOURCE-LINE 211
35707 00007B6C 00000000               I1  DATA FOR SOURCE-LINE 213
35708                                 I1  ***** END-POOL *****
35709 00007B70                    227 I1  _ACCLW_GEN_END_CONF_CHECK
35710                             228 I1          SUB_START
35711 00007B70 4F22                   M           STS.L   PR,@-R15                ;[必要]
35712                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35713 00007B72 D104               229 I1          MOV.L   #_ACCLW_SET_SPD,R1              ;//INPUT モーション演算部からの速度 (オー
                                          バライド前)
35714 00007B74 6212               230 I1          MOV.L   @R1,R2                          ;
35715 00007B76 D104               231 I1          MOV.L   #_ACCLW_GET_SET_SPD,R1          ;//BIT1=1時の対象速度
35716 00007B78 6312               232 I1          MOV.L   @R1,R3                          ;
35717 00007B7A 3323               233 I1          CMP/GE  R2,R3                           ;R2≦R3(R2=R3)
35718 00007B7C 8906               234 I1          BT      ACCLW_GEN_END_CONFCHK_100       ;
35719 00007B7E E001               235 I1          MOV.B   #BIT0,R0                        ;まだ減速継続
35720                             236 I1          M_BRA   ACCLW_GEN_END_CONFCHK_300       ;
35721 00007B80 A005                   M           BRA     ACCLW_GEN_END_CONFCHK_300
35722 00007B82 0009                   M           NOP
35723                             237 I1  
35724                                 I1  ***** BEGIN-POOL *****
35725 00007B84 00000000               I1  DATA FOR SOURCE-LINE 229
35726 00007B88 00000000               I1  DATA FOR SOURCE-LINE 231
35727                                 I1  ***** END-POOL *****
35728 00007B8C                    238 I1  ACCLW_GEN_END_CONFCHK_100
35729 00007B8C 200A               239 I1          XOR     R0,R0
35730 00007B8E                    240 I1  ACCLW_GEN_END_CONFCHK_300
35731                             241 I1  
35732                             242 I1          SUB_END
35733                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35734 00007B8E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35735                             243 I1          M_RTS
35736 00007B90 000B                   M           RTS                             ;RTSの後ろの
35737 00007B92 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35738                             244 I1  
35739                             245 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   531
PROGRAM NAME =

35740                             246 I1  
35741                             247 I1  
35742                             248 I1  ;       *******************************************
35743                             249 I1  ;       ***                                     ***
35744                             250 I1  ;       ***     出力演算                        ***
35745                             251 I1  ;       ***     通常の減速演算を使用するので    ***
35746                             252 I1  ;       ***     今のところ演算不要              ***
35747                             253 I1  ;       ***                                     ***
35748                             254 I1  ;       *******************************************
35749                             255 I1  ;       出力速度演算
35750 00007B94                    256 I1  _ACCLW_GEN_OUTSPD_CALC
35751                             257 I1          SUB_START
35752 00007B94 4F22                   M           STS.L   PR,@-R15                ;[必要]
35753                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35754 00007B96 D103               258 I1          MOV.L   #_ACCLW_GET_SET_SPD,R1          ;
35755 00007B98 6312               259 I1          MOV.L   @R1,R3                          ;
35756                             260 I1  
35757 00007B9A D103               261 I1          MOV.L   #_ACCLW_OUT_SET_SPD,R1          ;出力速度
35758 00007B9C 2132               262 I1          MOV.L   R3,@R1                          ;
35759                             263 I1  
35760                             264 I1          SUB_END
35761                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35762 00007B9E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35763                             265 I1          M_RTS
35764 00007BA0 000B                   M           RTS                             ;RTSの後ろの
35765 00007BA2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35766                             266 I1  
35767                             267 I1  
35768                             268 I1  ;       ***************************************************
35769                             269 I1  ;       ***                                             ***
35770                             270 I1  ;       ***     判定用に現在速度・現在加速度の算出      ***
35771                             271 I1  ;       ***     [オーバライド後で演算する]              ***
35772                             272 I1  ;       ***                                             ***
35773                             273 I1  ;       ***************************************************
35774                             274 I1  ;       *******************************************
35775                             275 I1  ;       ***                                     ***
35776                             276 I1  ;       ***     現在の行程から減速行程を探す    ***
35777                             277 I1  ;       ***                                     ***
35778                             278 I1  ;       *******************************************
35779                             279 I1  ;       S4b     CPOS_SDAT1_CNTSTEP[100+10];             //SETX-->起動時COPY
35780                             280 I1  ;       S4b     CPOS_SDAT1_INF1[100+10];                //SETX-->起動時COPY
35781                             281 I1  ;       S4b     CPOS_SDAT1_CHGAPOS[2*(100+10)];         //起動時,その他で演算 8byte data
35782                             282 I1  ;       S4b     CPOS_SDAT1_STPAPOS[2*(100+10)];         //起動時,その他で演算 8byte data
35783                             283 I1  ;
35784                             284 I1  
35785                                 I1  ***** BEGIN-POOL *****
35786 00007BA4 00000000               I1  DATA FOR SOURCE-LINE 258
35787 00007BA8 00000000               I1  DATA FOR SOURCE-LINE 261
35788                                 I1  ***** END-POOL *****
35789 00007BAC                    285 I1  _ACCLW_GEN_START_CONF_CHECK
35790                             286 I1          SUB_START
35791 00007BAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
35792                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35793 00007BAE D103               287 I1          MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
35794 00007BB0 6011               288 I1          MOV.W   @R1,R0                          ;
35795                             289 I1  
35796 00007BB2 2008               290 I1          TST     R0,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   532
PROGRAM NAME =

35797                             291 I1          TST_BIT_ON ACCLW_GEN_START_CONFCHK_050  ;
35798 00007BB4 8B04                   M           BF      ACCLW_GEN_START_CONFCHK_050
35799                             292 I1          M_BRA   ACCLW_GEN_START_CONFCHK_EXT     ;
35800 00007BB6 A092                   M           BRA     ACCLW_GEN_START_CONFCHK_EXT
35801 00007BB8 0009                   M           NOP
35802                             293 I1  
35803                                 I1  ***** BEGIN-POOL *****
35804 00007BBA 0000                   I1  ALIGNMENT CODE
35805 00007BBC 00000000               I1  DATA FOR SOURCE-LINE 287
35806                                 I1  ***** END-POOL *****
35807 00007BC0                    294 I1  ACCLW_GEN_START_CONFCHK_050
35808 00007BC0 D103               295 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;
35809 00007BC2 6511               296 I1          MOV.W   @R1,R5                          ;
35810 00007BC4 7501               297 I1          ADD     #1,R5                           ;[MAX:R5]
35811 00007BC6 3053               298 I1          CMP/GE  R5,R0                           ;最終行程
35812 00007BC8 8B04               299 I1          BF      ACCLW_GEN_START_CONFCHK_100     ;
35813                             300 I1          M_BRA   ACCLW_GEN_START_CONFCHK_EXT     ;R5=R0最終行程
35814 00007BCA A088                   M           BRA     ACCLW_GEN_START_CONFCHK_EXT
35815 00007BCC 0009                   M           NOP
35816                             301 I1  
35817                             302 I1  ;       ---------------------------------------
35818                                 I1  ***** BEGIN-POOL *****
35819 00007BCE 0000                   I1  ALIGNMENT CODE
35820 00007BD0 00000000               I1  DATA FOR SOURCE-LINE 295
35821                                 I1  ***** END-POOL *****
35822 00007BD4                    303 I1  ACCLW_GEN_START_CONFCHK_100
35823 00007BD4 6803               304 I1          MOV     R0,R8                           ;行程
35824                             305 I1  
35825 00007BD6 3508               306 I1          SUB     R0,R5                           ;1~98
35826 00007BD8 944C               307 I1          MOV.W   #D'10,R4                        ;先読み10段まで[100段はかわいそう]
35827 00007BDA 3453               308 I1          CMP/GE  R5,R4                           ;R5≦R4
35828 00007BDC 8900               309 I1          BT      ACCLW_GEN_START_CONFCHK_120     ;
35829 00007BDE 6543               310 I1          MOV     R4,R5                           ;
35830 00007BE0                    311 I1  ACCLW_GEN_START_CONFCHK_120
35831                             312 I1  ;       現状の行程〜最大１０段の中で
35832                             313 I1  ;       停止行程または戻り行程終了まで検索を行う.
35833                             314 I1  ;
35834                             315 I1  ;       行程1の場合
35835                             316 I1  ;       INF1:行程1を参照
35836                             317 I1  ;       CHG :行程1を参照
35837                             318 I1  ;       速度:行程2を参照
35838                             319 I1  
35839 00007BE0 70FF               320 I1          ADD     #-1,R0                          ;
35840 00007BE2 4008               321 I1          SHLL2   R0                              ;*4
35841 00007BE4 DD24               322 I1          MOV.L   #_CPOS_SDAT1_SPD,R13            ;4B
35842 00007BE6 3D0C               323 I1          ADD     R0,R13                          ;
35843 00007BE8 7D04               324 I1          ADD     #4,R13                          ;速度は次の段の速度
35844                             325 I1  
35845 00007BEA DE24               326 I1          MOV.L   #_CPOS_SDAT1_INF1,R14           ;4B
35846 00007BEC 3E0C               327 I1          ADD     R0,R14                          ;
35847                             328 I1  
35848 00007BEE 4000               329 I1          SHLL    R0
35849 00007BF0 DC23               330 I1          MOV.L   #_CPOS_SDAT1_CHGAPOS,R12        ;切替位置8B
35850 00007BF2 3C0C               331 I1          ADD     R0,R12                          ;
35851                             332 I1  
35852                             333 I1  
35853 00007BF4                    334 I1  ACCLW_GEN_START_CONFCHK_200LOP:                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   533
PROGRAM NAME =

35854                             335 I1          PUSH_REG1 R5
35855 00007BF4 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
35856                                 M                                           ;REG=>[SP]
35857                                 M                                           ;"-4" FF,FF,FF,FC
35858                             336 I1  
35859 00007BF6 60E2               337 I1          MOV.L   @R14,R0                         ;INF
35860 00007BF8 C801               338 I1          TST     #BIT0,R0                        ;連続か?
35861                             339 I1          TST_BIT_OF ACCLW_GEN_START_CONFCHK_550  ;この行程は停止なので終了
35862 00007BFA 895A                   M           BT      ACCLW_GEN_START_CONFCHK_550
35863                             340 I1  
35864                             341 I1  ;       (------- 方向判別は不要R0.BIT1--------)
35865                             342 I1  ;       --------- 連続-----------
35866 00007BFC D421               343 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
35867 00007BFE 6546               344 I1          MOV.L   @R4+,R5                                                 ;
35868 00007C00 6642               345 I1          MOV.L   @R4,R6                                                  ;ﾘｱﾙﾀｲﾑ目標位置
35869 00007C02 51C0               346 I1          MOV.L   @(0,R12),R1                                             ;
35870 00007C04 52C1               347 I1          MOV.L   @(4,R12),R2                                             ;設定位置
35871                             348 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2-R5,R6
35872 00007C06 0008                   M           CLRT
35873 00007C08 326A                   M           SUBC    R6,R2
35874 00007C0A 315A                   M           SUBC    R5,R1
35875                             349 I1  
35876 00007C0C 4111               350 I1          CMP/PZ  R1                              ;
35877 00007C0E 8905               351 I1          BT      ACCLW_GEN_START_CONFCHK_250     ;
35878                             352 I1          NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0      ;|R1,R2|
35879 00007C10 6227                   M           NOT     R2,R2                           ;
35880 00007C12 6117                   M           NOT     R1,R1                           ;
35881 00007C14 200A                   M           XOR     R0,R0                           ;
35882 00007C16 0018                   M           SETT
35883 00007C18 320E                   M           ADDC    R0,R2                           ;0+1+R2
35884 00007C1A 310E                   M           ADDC    R0,R1                           ;
35885 00007C1C                    353 I1  ACCLW_GEN_START_CONFCHK_250:                    ;
35886                             354 I1  
35887                             355 I1  
35888 00007C1C 2118               356 I1          TST     R1,R1                                   ;
35889                             357 I1          TST_BIT_ON ACCLW_GEN_START_CONFCHK_550          ;まだ距離が十分にある
35890 00007C1E 8B48                   M           BF      ACCLW_GEN_START_CONFCHK_550
35891                             358 I1  
35892 00007C20 D519               359 I1          MOV.L   #_ACCLW_REAL_SPD1MS,R5                  ;
35893 00007C22 6452               360 I1          MOV.L   @R5,R4                                  ;
35894 00007C24 3248               361 I1          SUB     R4,R2                                   ;
35895 00007C26 4215               362 I1          CMP/PL  R2
35896 00007C28 8900               363 I1          BT      ACCLW_GEN_START_CONFCHK_280             ;
35897 00007C2A 9224               364 I1          MOV.W   #1,R2                                   ;
35898 00007C2C                    365 I1  ACCLW_GEN_START_CONFCHK_280:                            ;
35899                             366 I1  
35900 00007C2C D517               367 I1          MOV.L   #_ACCLW_GEN_MAX_LNG,R5                  ;最大速度時の減速距離
35901 00007C2E 6452               368 I1          MOV.L   @R5,R4                                  ;
35902 00007C30 3246               369 I1          CMP/HI  R4,R2                                   ;R4<R2
35903 00007C32 893E               370 I1          BT      ACCLW_GEN_START_CONFCHK_550             ;まだ距離が十分にある
35904                             371 I1  
35905                             372 I1  ;[速度が高い場合評価をやめる]
35906                             373 I1  
35907                             374 I1  ;       現在速度^2≧２α(S−現在速度/1000)+指定段数速度^2
35908                             375 I1          PUSH_REG1 R8    ;行程
35909 00007C34 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
35910                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   534
PROGRAM NAME =

35911                                 M                                           ;"-4" FF,FF,FF,FC
35912                             376 I1          PUSH_REG1 R12   ;POS
35913 00007C36 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
35914                                 M                                           ;REG=>[SP]
35915                                 M                                           ;"-4" FF,FF,FF,FC
35916                             377 I1          PUSH_REG1 R13   ;SPD
35917 00007C38 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
35918                                 M                                           ;REG=>[SP]
35919                                 M                                           ;"-4" FF,FF,FF,FC
35920                             378 I1          PUSH_REG1 R14   ;INF1
35921 00007C3A 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
35922                                 M                                           ;REG=>[SP]
35923                                 M                                           ;"-4" FF,FF,FF,FC
35924 00007C3C D414               379 I1          MOV.L   #_POSCTL_RL_SPD,R4                                      ;
35925 00007C3E 6942               380 I1          MOV.L   @R4,R9                                                  ;
35926                             381 I1  
35927 00007C40 6AD2               382 I1          MOV.L   @R13,R10                                                ;SPD
35928                             383 I1          PUSH_REG1 R1                                                    ;
35929 00007C42 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
35930                                 M                                           ;REG=>[SP]
35931                                 M                                           ;"-4" FF,FF,FF,FC
35932                             384 I1          PUSH_REG1 R2                                                    ;
35933 00007C44 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
35934                                 M                                           ;REG=>[SP]
35935                                 M                                           ;"-4" FF,FF,FF,FC
35936 00007C46 62A3               385 I1          MOV     R10,R2                                                  ;
35937                             386 I1          FAR_JSR #_OVER_LIDE_SPD_CALC,R0                                 ;INPUT R2-OUTPUT R
                                          2
35938 00007C48 D012                   M           MOV.L   #_OVER_LIDE_SPD_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35939 00007C4A 400B                   M           JSR     @R0                     ;
35940 00007C4C 0009                   M           NOP                                     ;
35941 00007C4E 6A23               387 I1          MOV     R2,R10                                                  ;
35942                             388 I1          POP_REG1 R2                                                     ;
35943                                 M                                   ; RE"+4" 00,00,00,04
35944 00007C50 62F6                   M           MOV.L   @R15+,R2        ;
35945                             389 I1          POP_REG1 R1                                                     ;
35946                                 M                                   ; RE"+4" 00,00,00,04
35947 00007C52 61F6                   M           MOV.L   @R15+,R1        ;
35948                             390 I1  
35949 00007C54 D410               391 I1          MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
35950 00007C56 6B42               392 I1          MOV.L   @R4,R11                                                 ;ｵｰﾊﾞﾗｲﾄﾞ後
35951                             393 I1                                                                          ;Input R1,R2 距離
35952                             394 I1                                                                          ;Input R9    現在
                                          速度
35953                             395 I1                                                                          ;Input R10   ｵﾌｾｯﾄ
                                          速度[指定段数速度]
35954                             396 I1                                                                          ;Input R11   減速
                                          距離
35955                             397 I1  
35956 00007C58 200A               398 I1          XOR     R0,R0
35957 00007C5A 3A93               399 I1          CMP/GE  R9,R10                                  ;R9(現在速度)≦R10(設定速度)
35958 00007C5C 8902               400 I1          BT      ACCLW_GEN_START_CONFCHK_400             ;
35959                             401 I1  
35960                             402 I1          FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0             ;
35961 00007C5E D00F                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35962 00007C60 400B                   M           JSR     @R0                     ;
35963 00007C62 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   535
PROGRAM NAME =

35964                             403 I1  
35965 00007C64                    404 I1  ACCLW_GEN_START_CONFCHK_400:                    ;
35966                             405 I1  
35967                             406 I1  
35968                             407 I1          POP_REG1 R14
35969                                 M                                   ; RE"+4" 00,00,00,04
35970 00007C64 6EF6                   M           MOV.L   @R15+,R14        ;
35971                             408 I1          POP_REG1 R13
35972                                 M                                   ; RE"+4" 00,00,00,04
35973 00007C66 6DF6                   M           MOV.L   @R15+,R13        ;
35974                             409 I1          POP_REG1 R12
35975                                 M                                   ; RE"+4" 00,00,00,04
35976 00007C68 6CF6                   M           MOV.L   @R15+,R12        ;
35977                             410 I1          POP_REG1 R8
35978                                 M                                   ; RE"+4" 00,00,00,04
35979 00007C6A 68F6                   M           MOV.L   @R15+,R8        ;
35980                             411 I1  
35981 00007C6C 2008               412 I1          TST     R0,R0
35982                             413 I1          TST_BIT_ON ACCLW_GEN_START_CONFCHK_500                          ;減速すべき
35983 00007C6E 8B17                   M           BF      ACCLW_GEN_START_CONFCHK_500
35984                             414 I1          M_BRA   ACCLW_GEN_START_CONFCHK_580                             ;
35985 00007C70 A028                   M           BRA     ACCLW_GEN_START_CONFCHK_580
35986 00007C72 0009                   M           NOP
35987                             415 I1  
35988                             416 I1  
35989                             417 I1  ;       ---------------- 減速開始する[減速スタートする]、演算はやめる-----------
35990                                 I1  ***** BEGIN-POOL *****
35991 00007C74 000A                   I1  DATA FOR SOURCE-LINE 307
35992 00007C76 0001                   I1  DATA FOR SOURCE-LINE 364
35993 00007C78 00000000               I1  DATA FOR SOURCE-LINE 322
35994 00007C7C 00000000               I1  DATA FOR SOURCE-LINE 326
35995 00007C80 00000000               I1  DATA FOR SOURCE-LINE 330
35996 00007C84 00000000               I1  DATA FOR SOURCE-LINE 343
35997 00007C88 00000000               I1  DATA FOR SOURCE-LINE 359
35998 00007C8C 00000000               I1  DATA FOR SOURCE-LINE 367
35999 00007C90 00000000               I1  DATA FOR SOURCE-LINE 379
36000 00007C94 00000000               I1  DATA FOR SOURCE-LINE 386
36001 00007C98 00000000               I1  DATA FOR SOURCE-LINE 391
36002 00007C9C 00000000               I1  DATA FOR SOURCE-LINE 402
36003                                 I1  ***** END-POOL *****
36004 00007CA0                    418 I1  ACCLW_GEN_START_CONFCHK_500:                                    ;
36005 00007CA0 62D2               419 I1          MOV.L   @R13,R2                                         ;NEW SPEED
36006 00007CA2 D105               420 I1          MOV.L   #_ACCLW_GET_SET_SPD,R1                          ;
36007 00007CA4 2122               421 I1          MOV.L   R2,@R1                                          ;
36008 00007CA6 D105               422 I1          MOV.L   #_ACCLW_GET_STEP_NO,R1                          ;//BIT1=1時の対象行程
36009 00007CA8 2181               423 I1          MOV.W   R8,@R1                                          ;
36010                             424 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACCLW_CALC_FLG,LG=W,BIT=BIT6,WKREG=R1      ;[減速する
                                          から演算はやめるR0=BIT0]
36011 00007CAA D105                   M           MOV.L   #_ACCLW_CALC_FLG,R1             ;
36012 00007CAC 6011                   M           MOV.W   @R1,R0          ;
36013 00007CAE CB40                   M           OR      #BIT6,R0                ;
36014 00007CB0 2101                   M           MOV.W   R0,@R1          ;
36015                             425 I1  
36016                             426 I1  
36017                             427 I1  ;       ---------------- 停止行程なのでやめる----------------
36018 00007CB2                    428 I1  ACCLW_GEN_START_CONFCHK_550:                    ;
36019 00007CB2 E001               429 I1          MOV.B   #BIT0,R0                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   536
PROGRAM NAME =

36020                             430 I1          M_BRA   ACCLW_GEN_START_CONFCHK_600     ;
36021 00007CB4 A007                   M           BRA     ACCLW_GEN_START_CONFCHK_600
36022 00007CB6 0009                   M           NOP
36023                             431 I1  
36024                             432 I1  ;       --------------- 次を演算する-------------------------
36025                                 I1  ***** BEGIN-POOL *****
36026 00007CB8 00000000               I1  DATA FOR SOURCE-LINE 420
36027 00007CBC 00000000               I1  DATA FOR SOURCE-LINE 422
36028 00007CC0 00000000               I1  DATA FOR SOURCE-LINE 424
36029                                 I1  ***** END-POOL *****
36030 00007CC4                    433 I1  ACCLW_GEN_START_CONFCHK_580:                    ;
36031 00007CC4 200A               434 I1          XOR     R0,R0                           ;
36032 00007CC6                    435 I1  ACCLW_GEN_START_CONFCHK_600:                    ;
36033                             436 I1  
36034                             437 I1          POP_REG1 R5
36035                                 M                                   ; RE"+4" 00,00,00,04
36036 00007CC6 65F6                   M           MOV.L   @R15+,R5        ;
36037 00007CC8 75FF               438 I1          ADD     #-1,R5                          ;
36038 00007CCA 2558               439 I1          TST     R5,R5                           ;
36039                             440 I1          TST_BIT_OF ACCLW_GEN_START_CONFCHK_EXT  ;
36040 00007CCC 8907                   M           BT      ACCLW_GEN_START_CONFCHK_EXT
36041 00007CCE 2008               441 I1          TST     R0,R0                           ;
36042                             442 I1          TST_BIT_ON ACCLW_GEN_START_CONFCHK_EXT  ;終わり
36043 00007CD0 8B05                   M           BF      ACCLW_GEN_START_CONFCHK_EXT
36044 00007CD2 7D04               443 I1          ADD     #4,R13                          ;SPD
36045 00007CD4 7E04               444 I1          ADD     #4,R14                          ;INF
36046 00007CD6 7C08               445 I1          ADD     #8,R12                          ;POS
36047 00007CD8 7801               446 I1          ADD     #1,R8                           ;行程[不要だが]
36048                             447 I1          M_BRA   ACCLW_GEN_START_CONFCHK_200LOP  ;
36049 00007CDA AF8B                   M           BRA     ACCLW_GEN_START_CONFCHK_200LOP
36050 00007CDC 0009                   M           NOP
36051                             448 I1  
36052                             449 I1  
36053                             450 I1  
36054 00007CDE                    451 I1  ACCLW_GEN_START_CONFCHK_EXT
36055                             452 I1          SUB_END
36056                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36057 00007CDE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36058                             453 I1          M_RTS
36059 00007CE0 000B                   M           RTS                             ;RTSの後ろの
36060 00007CE2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36061                           11294     
36062                           11295     
36063                           11296     
36064                           11297     ;       *******************************************
36065                           11298     ;       ***                                     ***
36066                           11299     ;       ***                                     ***
36067                           11300     ;       ***                                     ***
36068                           11301     ;       ***     各段指定演算                    ***
36069                           11302     ;       ***                                     ***
36070                           11303     ;       ***                                     ***
36071                           11304     ;       *******************************************
36072                           11305             .INCLUDE        "ssa_accstep.inc"       ;//各段指定加速・減速演算
36073                               1 I1  ;       ***************************************************
36074                               2 I1  ;       ***                                             ***
36075                               3 I1  ;       ***                                             ***
36076                               4 I1  ;       ***                                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   537
PROGRAM NAME =

36077                               5 I1  ;       ***             各段前/後変則指定処理           ***
36078                               6 I1  ;       ***             2016-04-18 前・後選択           ***
36079                               7 I1  ;       ***             (加速でも減速でも)              ***
36080                               8 I1  ;       ***                                             ***
36081                               9 I1  ;       ***                                             ***
36082                              10 I1  ;       ***************************************************
36083                              11 I1  
36084                              12 I1  ;       *******************************************
36085                              13 I1  ;       ***                                     ***
36086                              14 I1  ;       ***     バックグランドでCALL            ***
36087                              15 I1  ;       ***     条件作成                        ***
36088                              16 I1  ;       ***                                     ***
36089                              17 I1  ;       *******************************************
36090                              18 I1  
36091 00007CE4                     19 I1  _ACCST_DATA_MAIN
36092                              20 I1          SUB_START
36093 00007CE4 4F22                   M           STS.L   PR,@-R15                ;[必要]
36094                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36095                              21 I1  
36096                              22 I1  
36097 00007CE6 222A                23 I1          XOR     R2,R2
36098 00007CE8 D108                24 I1          MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
36099 00007CEA 6011                25 I1          MOV.W   @R1,R0                                  ;
36100 00007CEC C801                26 I1          TST     #_DMATH_CNTROT,R0                       ;回転：
36101                              27 I1          TST_BIT_OF ACCST_USECHK_100                     ;no use
36102 00007CEE 8908                   M           BT      ACCST_USECHK_100
36103                              28 I1  
36104 00007CF0 D107                29 I1          MOV.L   #_MODE_SEL,R1                           ;
36105 00007CF2 6011                30 I1          MOV.W   @R1,R0                                  ;
36106 00007CF4 C81E                31 I1          TST     #_W1SGL+_W1CNT+_W1OPT+_W1INC,R0         ;安全、連続、オプション,INC
36107                              32 I1          TST_BIT_OF ACCST_USECHK_100                     ;no use
36108 00007CF6 8904                   M           BT      ACCST_USECHK_100
36109                              33 I1  
36110 00007CF8 D106                34 I1          MOV.L   #_LINK_1ROT_PLS,R1                      ;
36111 00007CFA 6412                35 I1          MOV.L   @R1,R4                                  ;
36112 00007CFC D106                36 I1          MOV.L   #_ACCST_GEN_MAX_LNG,R1                  ;最大速度時の減速距離
36113 00007CFE 2142                37 I1          MOV.L   R4,@R1                                  ;(とりあえず360度分)
36114                              38 I1  
36115 00007D00 E201                39 I1          MOV.B   #BIT0,R2                                ;
36116                              40 I1  
36117 00007D02                     41 I1  ACCST_USECHK_100
36118 00007D02 D106                42 I1          MOV.L   #_ACCST_USE_CONF,R1                     ;
36119 00007D04 2121                43 I1          MOV.W   R2,@R1                                  ;
36120                              44 I1  
36121                              45 I1  
36122                              46 I1  
36123                              47 I1          SUB_END
36124                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36125 00007D06 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36126                              48 I1          M_RTS
36127 00007D08 000B                   M           RTS                             ;RTSの後ろの
36128 00007D0A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36129                              49 I1  
36130                              50 I1  ;       ***************************************************
36131                              51 I1  ;       ***                                             ***
36132                              52 I1  ;       ***     起動時CALL(運転釦ON,タイマ後,1サイクル) ***
36133                              53 I1  ;       ***                                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   538
PROGRAM NAME =

36134                              54 I1  ;       ***************************************************
36135                                 I1  ***** BEGIN-POOL *****
36136 00007D0C 00000000               I1  DATA FOR SOURCE-LINE 24
36137 00007D10 00000000               I1  DATA FOR SOURCE-LINE 29
36138 00007D14 00000000               I1  DATA FOR SOURCE-LINE 34
36139 00007D18 00000000               I1  DATA FOR SOURCE-LINE 36
36140 00007D1C 00000000               I1  DATA FOR SOURCE-LINE 42
36141                                 I1  ***** END-POOL *****
36142 00007D20                     55 I1  _API_ACCST_DRV_START1
36143                              56 I1          SUB_START
36144 00007D20 4F22                   M           STS.L   PR,@-R15                ;[必要]
36145                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36146                              57 I1  
36147                              58 I1  
36148                              59 I1          FAR_JSR #_API_ACCST_DRV_START2,R0       ;
36149 00007D22 D004                   M           MOV.L   #_API_ACCST_DRV_START2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36150 00007D24 400B                   M           JSR     @R0                     ;
36151 00007D26 0009                   M           NOP                                     ;
36152                              60 I1          FAR_JSR #_API_ACCST_DRV_WORK_CLR,R0     ;デバック用
36153 00007D28 D003                   M           MOV.L   #_API_ACCST_DRV_WORK_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36154 00007D2A 400B                   M           JSR     @R0                     ;
36155 00007D2C 0009                   M           NOP                                     ;
36156                              61 I1  
36157                              62 I1          SUB_END
36158                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36159 00007D2E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36160                              63 I1          M_RTS
36161 00007D30 000B                   M           RTS                             ;RTSの後ろの
36162 00007D32 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36163                              64 I1  
36164                              65 I1  ;       ----------- ﾃﾞﾊﾞｯｸ用にｸﾘｱ------------
36165                                 I1  ***** BEGIN-POOL *****
36166 00007D34 00000000               I1  DATA FOR SOURCE-LINE 59
36167 00007D38 00000000               I1  DATA FOR SOURCE-LINE 60
36168                                 I1  ***** END-POOL *****
36169 00007D3C                     66 I1  _API_ACCST_DRV_WORK_CLR
36170                              67 I1          SUB_START
36171 00007D3C 4F22                   M           STS.L   PR,@-R15                ;[必要]
36172                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36173 00007D3E 200A                68 I1          XOR     R0,R0
36174 00007D40 D103                69 I1          MOV.L   #_ACCST_GET_SET_SPD,R1          ;//BIT1=1時の対象速度
36175 00007D42 2102                70 I1          MOV.L   R0,@R1                          ;ｸﾘｱ不要:ﾃﾞﾊﾞｯｸ用
36176 00007D44 D103                71 I1          MOV.L   #_ACCST_OUT_SET_SPD,R1          ;//出力速度
36177 00007D46 2102                72 I1          MOV.L   R0,@R1                          ;ｸﾘｱ不要:ﾃﾞﾊﾞｯｸ用
36178                              73 I1          SUB_END
36179                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36180 00007D48 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36181                              74 I1          M_RTS
36182 00007D4A 000B                   M           RTS                             ;RTSの後ろの
36183 00007D4C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36184                              75 I1  
36185                              76 I1  ;       ***************************************************
36186                              77 I1  ;       ***                                             ***
36187                              78 I1  ;       ***     起動時CALL(減速完了,次の減速演算)       ***
36188                              79 I1  ;       ***                                             ***
36189                              80 I1  ;       ***************************************************
36190                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   539
PROGRAM NAME =

36191 00007D4E 0000                   I1  ALIGNMENT CODE
36192 00007D50 00000000               I1  DATA FOR SOURCE-LINE 69
36193 00007D54 00000000               I1  DATA FOR SOURCE-LINE 71
36194                                 I1  ***** END-POOL *****
36195 00007D58                     81 I1  _API_ACCST_DRV_START2
36196                              82 I1          SUB_START
36197 00007D58 4F22                   M           STS.L   PR,@-R15                ;[必要]
36198                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36199                              83 I1  
36200 00007D5A D105                84 I1          MOV.L   #_ACCST_USE_CONF,R1                     ;
36201 00007D5C 6011                85 I1          MOV.W   @R1,R0                                  ;
36202 00007D5E C801                86 I1          TST     #BIT0,R0                                ;
36203                              87 I1          TST_BIT_OF API_ACCST_DRVSTR2_EXT                ;
36204 00007D60 8902                   M           BT      API_ACCST_DRVSTR2_EXT
36205                              88 I1  
36206 00007D62 E001                89 I1          MOV.B   #BIT0,R0                                ;
36207 00007D64 D103                90 I1          MOV.L   #_ACCST_CALC_FLG,R1                     ;
36208 00007D66 2101                91 I1          MOV.W   R0,@R1                                  ;[BIT6,BIT7CLR BIT0=1]
36209                              92 I1  
36210                              93 I1  
36211 00007D68                     94 I1  API_ACCST_DRVSTR2_EXT
36212                              95 I1  
36213                              96 I1          SUB_END
36214                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36215 00007D68 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36216                              97 I1          M_RTS
36217 00007D6A 000B                   M           RTS                             ;RTSの後ろの
36218 00007D6C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36219                              98 I1  
36220                              99 I1  
36221                             100 I1  
36222                             101 I1  ;       *******************************************
36223                             102 I1  ;       ***                                     ***
36224                             103 I1  ;       ***     位置決め中断時CALL              ***
36225                             104 I1  ;       ***     位置決め停止タイマ時CALL        ***
36226                             105 I1  ;       ***     異常時CALL                      ***
36227                             106 I1  ;       ***                                     ***
36228                             107 I1  ;       *******************************************
36229                             108 I1  ;//BIT0:起動[API]
36230                             109 I1  ;//BIT6:[減速開始]
36231                             110 I1  ;//BIT7:演算完了[停止行程まで演算不要：もう低速設定がない]:予備
36232                             111 I1  
36233                                 I1  ***** BEGIN-POOL *****
36234 00007D6E 0000                   I1  ALIGNMENT CODE
36235 00007D70 00000000               I1  DATA FOR SOURCE-LINE 84
36236 00007D74 00000000               I1  DATA FOR SOURCE-LINE 90
36237                                 I1  ***** END-POOL *****
36238 00007D78                    112 I1  _API_ACCST_DRV_STOP
36239                             113 I1          SUB_START
36240 00007D78 4F22                   M           STS.L   PR,@-R15                ;[必要]
36241                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36242 00007D7A 200A               114 I1          XOR     R0,R0
36243 00007D7C D103               115 I1          MOV.L   #_ACCST_CALC_FLG,R1             ;
36244 00007D7E 2101               116 I1          MOV.W   R0,@R1                          ;
36245                             117 I1  
36246                             118 I1  ;       ---------行程番号-------
36247 00007D80 200A               119 I1          XOR     R0,R0                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   540
PROGRAM NAME =

36248 00007D82 D103               120 I1          MOV.L   #_ACCST_GET_STEP_NO,R1                  ;//BIT1=1時の対象行程
36249 00007D84 2101               121 I1          MOV.W   R0,@R1                                  ;
36250                             122 I1  
36251                             123 I1          SUB_END
36252                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36253 00007D86 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36254                             124 I1          M_RTS
36255 00007D88 000B                   M           RTS                             ;RTSの後ろの
36256 00007D8A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36257                             125 I1  
36258                             126 I1  
36259                             127 I1  
36260                             128 I1  ;       *******************************************
36261                             129 I1  ;       ***                                     ***
36262                             130 I1  ;       ***     1msecでCALL     メイン          ***
36263                             131 I1  ;       ***                                     ***
36264                             132 I1  ;       *******************************************
36265                             133 I1  ;       2015-11-17 減速選択
36266                             134 I1  ;       [オーバライド前にCALL]
36267                             135 I1  ;       Input  R2:設定速度
36268                             136 I1  ;       Output R2:設定速度相当
36269                             137 I1  ;       PAR_ACCDN_MATH=1 減速優先演算
36270                             138 I1  ;
36271                                 I1  ***** BEGIN-POOL *****
36272 00007D8C 00000000               I1  DATA FOR SOURCE-LINE 115
36273 00007D90 00000000               I1  DATA FOR SOURCE-LINE 120
36274                                 I1  ***** END-POOL *****
36275 00007D94                    139 I1  _ACCST_CTRL_CALC                        ;2015-11-17 減速選択
36276                             140 I1          SUB_START
36277 00007D94 4F22                   M           STS.L   PR,@-R15                ;[必要]
36278                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36279                             141 I1  
36280 00007D96 D107               142 I1          MOV.L   #_ACCST_SET_SPD,R1                              ;//INPUT モーション演算部
                                          からの速度 (オーバライド前)
36281 00007D98 2122               143 I1          MOV.L   R2,@R1                                          ;
36282                             144 I1  
36283 00007D9A 940A               145 I1          MOV.W   #D'1000,R4                                      ;
36284                             146 I1          FAR_JSR #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0        ;R2/R4
36285 00007D9C D006                   M           MOV.L   #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容
                                          をREGへ
36286 00007D9E 400B                   M           JSR     @R0                     ;
36287 00007DA0 0009                   M           NOP                                     ;
36288 00007DA2 D106               147 I1          MOV.L   #_ACCST_REAL_SPD1MS,R1                          ;1ms差分
36289 00007DA4 2122               148 I1          MOV.L   R2,@R1                                          ;
36290                             149 I1  
36291 00007DA6 D106               150 I1          MOV.L   #_ACCST_CALC_FLG,R1     ;
36292 00007DA8 6011               151 I1          MOV.W   @R1,R0                  ;
36293 00007DAA C801               152 I1          TST     #BIT0,R0                ;
36294                             153 I1          TST_BIT_ON ACCST_CTRLCALC_100   ;[起動中]
36295 00007DAC 8B0A                   M           BF      ACCST_CTRLCALC_100
36296                             154 I1          M_BRA   ACCST_CTRLCALC_800
36297 00007DAE A041                   M           BRA     ACCST_CTRLCALC_800
36298 00007DB0 0009                   M           NOP
36299                             155 I1  
36300                                 I1  ***** BEGIN-POOL *****
36301 00007DB2 03E8                   I1  DATA FOR SOURCE-LINE 145
36302 00007DB4 00000000               I1  DATA FOR SOURCE-LINE 142
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   541
PROGRAM NAME =

36303 00007DB8 00000000               I1  DATA FOR SOURCE-LINE 146
36304 00007DBC 00000000               I1  DATA FOR SOURCE-LINE 147
36305 00007DC0 00000000               I1  DATA FOR SOURCE-LINE 150
36306                                 I1  ***** END-POOL *****
36307 00007DC4                    156 I1  ACCST_CTRLCALC_100
36308                             157 I1  ;       ---------- 行程変更チェック----------------------------------
36309                             158 I1  ;       [行程変更があれば=ACCST_CALC_FLG=BIT0(BIT6,BIT7をｸﾘｱする)]      ;
36310 00007DC4 D111               159 I1          MOV.L   #_INT_POS_CTL_STEP,R1                                   ;//内部制御工程1~1
                                          1
36311 00007DC6 6311               160 I1          MOV.W   @R1,R3                                                  ;
36312 00007DC8 2338               161 I1          TST     R3,R3                                                   ;
36313                             162 I1          TST_BIT_OF ACCST_CTRLCALC_800                                   ;ありえない(CALC_F
                                          LG=0)
36314 00007DCA 8933                   M           BT      ACCST_CTRLCALC_800
36315                             163 I1  
36316                             164 I1          FAR_JSR #_ACCST_CHGSTEP_GET_MAKE,R0                             ;(停止,最終行程で
                                          はやらない.ACCST_ACC_MATH_SEL=0)
36317 00007DCC D010                   M           MOV.L   #_ACCST_CHGSTEP_GET_MAKE,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36318 00007DCE 400B                   M           JSR     @R0                     ;
36319 00007DD0 0009                   M           NOP                                     ;
36320                             165 I1  
36321                             166 I1  ;       -------------------------------------------------------------
36322 00007DD2 D110               167 I1          MOV.L   #_ACCST_ACC_MATH_SEL,R1                                 ;//1STEP分
36323 00007DD4 6011               168 I1          MOV.W   @R1,R0                                                  ;
36324 00007DD6 C801               169 I1          TST     #BIT0,R0                                                ;
36325                             170 I1          TST_BIT_OF ACCST_CTRLCALC_800                                   ;(後加速,減速の場
                                          合は何もしない)
36326 00007DD8 892C                   M           BT      ACCST_CTRLCALC_800
36327                             171 I1  
36328 00007DDA D10F               172 I1          MOV.L   #_ACCST_CALC_FLG,R1                                     ;
36329 00007DDC 6011               173 I1          MOV.W   @R1,R0                                          ;
36330 00007DDE C880               174 I1          TST     #BIT7,R0                                        ;
36331                             175 I1          TST_BIT_ON ACCST_CTRLCALC_800                           ;演算不要:行程変更が変わる
                                          まで演算しなくていい
36332 00007DE0 8B28                   M           BF      ACCST_CTRLCALC_800
36333                             176 I1  
36334 00007DE2 C840               177 I1          TST     #BIT6,R0                ;
36335                             178 I1          TST_BIT_ON ACCST_CTRLCALC_200   ;[減速or加速中か YES]
36336 00007DE4 8B06                   M           BF      ACCST_CTRLCALC_200
36337                             179 I1  
36338                             180 I1  ;       ------- 減速/加速開始条件チェック---------
36339                             181 I1          FAR_JSR #_ACCST_UPDN_START_CONF_CHECK,R0                ;この行程だけ見ればいい.AC
                                          CST_ACC_MATH_SEL.BIT1=0/1(減速加速)
36340 00007DE6 D00D                   M           MOV.L   #_ACCST_UPDN_START_CONF_CHECK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36341 00007DE8 400B                   M           JSR     @R0                     ;
36342 00007DEA 0009                   M           NOP                                     ;
36343                             182 I1  
36344 00007DEC D10A               183 I1          MOV.L   #_ACCST_CALC_FLG,R1                     ;
36345 00007DEE 6011               184 I1          MOV.W   @R1,R0                                  ;
36346 00007DF0 C840               185 I1          TST     #BIT6,R0                                ;
36347                             186 I1          TST_BIT_OF ACCST_CTRLCALC_800                   ;演算不要
36348 00007DF2 891F                   M           BT      ACCST_CTRLCALC_800
36349                             187 I1  
36350                             188 I1  ;       ------------- 減速中-----------
36351 00007DF4                    189 I1  ACCST_CTRLCALC_200
36352                             190 I1  
36353                             191 I1  ;       ------- 加速・減速終了条件チェック---------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   542
PROGRAM NAME =

36354                             192 I1          FAR_JSR #_ACCST_UPDN_END_CONF_CHECK,R0
36355 00007DF4 D00A                   M           MOV.L   #_ACCST_UPDN_END_CONF_CHECK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36356 00007DF6 400B                   M           JSR     @R0                     ;
36357 00007DF8 0009                   M           NOP                                     ;
36358 00007DFA 2008               193 I1          TST     R0,R0                                                           ;
36359                             194 I1          TST_BIT_ON ACCST_CTRLCALC_300                                           ;減速/加速
                                          演算継続
36360 00007DFC 8B12                   M           BF      ACCST_CTRLCALC_300
36361                             195 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACCST_CALC_FLG,LG=W,BIT=BIT7,WKREG=R1      ;
36362 00007DFE D106                   M           MOV.L   #_ACCST_CALC_FLG,R1             ;
36363 00007E00 6011                   M           MOV.W   @R1,R0          ;
36364 00007E02 CB80                   M           OR      #BIT7,R0                ;
36365 00007E04 2101                   M           MOV.W   R0,@R1          ;
36366                             196 I1          M_BRA   ACCST_CTRLCALC_800                                              ;演算終了:
36367 00007E06 A015                   M           BRA     ACCST_CTRLCALC_800
36368 00007E08 0009                   M           NOP
36369                             197 I1  
36370                                 I1  ***** BEGIN-POOL *****
36371 00007E0A 0000                   I1  ALIGNMENT CODE
36372 00007E0C 00000000               I1  DATA FOR SOURCE-LINE 159
36373 00007E10 00000000               I1  DATA FOR SOURCE-LINE 164
36374 00007E14 00000000               I1  DATA FOR SOURCE-LINE 167
36375 00007E18 00000000               I1  DATA FOR SOURCE-LINE 172,183,195
36376 00007E1C 00000000               I1  DATA FOR SOURCE-LINE 181
36377 00007E20 00000000               I1  DATA FOR SOURCE-LINE 192
36378                                 I1  ***** END-POOL *****
36379 00007E24                    198 I1  ACCST_CTRLCALC_300
36380                             199 I1          FAR_JSR #_ACCST_UPDN_OUTSPD_CALC,R0     ;
36381 00007E24 D002                   M           MOV.L   #_ACCST_UPDN_OUTSPD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36382 00007E26 400B                   M           JSR     @R0                     ;
36383 00007E28 0009                   M           NOP                                     ;
36384                             200 I1          M_BRA   ACCST_CTRLCALC_900              ;
36385 00007E2A A009                   M           BRA     ACCST_CTRLCALC_900
36386 00007E2C 0009                   M           NOP
36387                             201 I1  
36388                             202 I1  ;       ----------- R2を設定値に戻す----------------
36389                                 I1  ***** BEGIN-POOL *****
36390 00007E2E 0000                   I1  ALIGNMENT CODE
36391 00007E30 00000000               I1  DATA FOR SOURCE-LINE 199
36392                                 I1  ***** END-POOL *****
36393 00007E34                    203 I1  ACCST_CTRLCALC_800                              ;
36394 00007E34 D101               204 I1          MOV.L   #_ACCST_SET_SPD,R1              ;//INPUT モーション演算部からの速度 (オー
                                          バライド前)
36395 00007E36 6212               205 I1          MOV.L   @R1,R2                          ;
36396                             206 I1          M_BRA   ACCST_CTRLCALC_EXT              ;
36397 00007E38 A004                   M           BRA     ACCST_CTRLCALC_EXT
36398 00007E3A 0009                   M           NOP
36399                             207 I1  
36400                             208 I1  ;       ---------  演算中なので演算結果を出力する---------
36401                                 I1  ***** BEGIN-POOL *****
36402 00007E3C 00000000               I1  DATA FOR SOURCE-LINE 204
36403                                 I1  ***** END-POOL *****
36404 00007E40                    209 I1  ACCST_CTRLCALC_900                              ;
36405 00007E40 D107               210 I1          MOV.L   #_ACCST_OUT_SET_SPD,R1          ;       //出力速度
36406 00007E42 6212               211 I1          MOV.L   @R1,R2                          ;
36407                             212 I1  
36408 00007E44                    213 I1  ACCST_CTRLCALC_EXT                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   543
PROGRAM NAME =

36409                             214 I1  
36410 00007E44 D107               215 I1          MOV.L   #_ACCST_ACC_MATH_SEL,R1         ;//1STEP分
36411 00007E46 6011               216 I1          MOV.W   @R1,R0                          ;
36412 00007E48 C903               217 I1          AND     #BIT1+BIT0,R0                   ;
36413 00007E4A 4018               218 I1          SHLL8   R0                              ;
36414 00007E4C 6403               219 I1          MOV     R0,R4
36415 00007E4E D106               220 I1          MOV.L   #_ACCST_CALC_FLG,R1             ;
36416 00007E50 6011               221 I1          MOV.W   @R1,R0                          ;BIT0,BIT6,BIT7
36417 00007E52 C9C1               222 I1          AND     #BIT0+BIT6+BIT7,R0              ;
36418 00007E54 204B               223 I1          OR      R4,R0                           ;BIT0,BIT6,BIT7,BIT8,BIT9
36419 00007E56 D105               224 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB255,R1     ;255
36420 00007E58 2101               225 I1          MOV.W   R0,@R1                          ;
36421                             226 I1  
36422                             227 I1  ;       ------- output [R2] --------------
36423                             228 I1  
36424                             229 I1          SUB_END
36425                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36426 00007E5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36427                             230 I1          M_RTS
36428 00007E5C 000B                   M           RTS                             ;RTSの後ろの
36429 00007E5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36430                             231 I1  
36431                             232 I1  
36432                             233 I1  ;       *******************************************
36433                             234 I1  ;       ***                                     ***
36434                             235 I1  ;       ***                                     ***
36435                             236 I1  ;       ***     加速または減速終了条件          ***
36436                             237 I1  ;       ***                                     ***
36437                             238 I1  ;       ***                                     ***
36438                             239 I1  ;       *******************************************
36439                             240 I1  ;       前変則でのみ実行
36440                             241 I1  ;       OUTPUT R0       R0=0:加速,減速終了
36441                             242 I1  ;                       R0=1:加速中,減速中
36442                             243 I1  ;
36443                                 I1  ***** BEGIN-POOL *****
36444 00007E60 00000000               I1  DATA FOR SOURCE-LINE 210
36445 00007E64 00000000               I1  DATA FOR SOURCE-LINE 215
36446 00007E68 00000000               I1  DATA FOR SOURCE-LINE 220
36447 00007E6C 00000000               I1  DATA FOR SOURCE-LINE 224
36448                                 I1  ***** END-POOL *****
36449 00007E70                    244 I1  _ACCST_UPDN_END_CONF_CHECK
36450                             245 I1          SUB_START
36451 00007E70 4F22                   M           STS.L   PR,@-R15                ;[必要]
36452                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36453 00007E72 D104               246 I1          MOV.L   #_ACCST_ACC_MATH_SEL,R1         ;//1STEP分
36454 00007E74 6011               247 I1          MOV.W   @R1,R0                          ;
36455 00007E76 C802               248 I1          TST     #BIT1,R0                        ;
36456                             249 I1          TST_BIT_ON ACCST_UPDN_END_CONFCHK_100   ;BIT1=1減速
36457 00007E78 8B08                   M           BF      ACCST_UPDN_END_CONFCHK_100
36458                             250 I1  
36459                             251 I1          FAR_JSR #_ACCST_UP_END_CONF_CHECK,R0    ;
36460 00007E7A D003                   M           MOV.L   #_ACCST_UP_END_CONF_CHECK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36461 00007E7C 400B                   M           JSR     @R0                     ;
36462 00007E7E 0009                   M           NOP                                     ;
36463                             252 I1          M_BRA   ACCST_UPDN_END_CONFCHK_200      ;
36464 00007E80 A007                   M           BRA     ACCST_UPDN_END_CONFCHK_200
36465 00007E82 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   544
PROGRAM NAME =

36466                             253 I1  
36467                                 I1  ***** BEGIN-POOL *****
36468 00007E84 00000000               I1  DATA FOR SOURCE-LINE 246
36469 00007E88 00000000               I1  DATA FOR SOURCE-LINE 251
36470                                 I1  ***** END-POOL *****
36471 00007E8C                    254 I1  ACCST_UPDN_END_CONFCHK_100
36472                             255 I1          FAR_JSR #_ACCST_DN_END_CONF_CHECK,R0    ;
36473 00007E8C D002                   M           MOV.L   #_ACCST_DN_END_CONF_CHECK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36474 00007E8E 400B                   M           JSR     @R0                     ;
36475 00007E90 0009                   M           NOP                                     ;
36476 00007E92                    256 I1  ACCST_UPDN_END_CONFCHK_200
36477                             257 I1          SUB_END
36478                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36479 00007E92 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36480                             258 I1          M_RTS
36481 00007E94 000B                   M           RTS                             ;RTSの後ろの
36482 00007E96 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36483                             259 I1  
36484                             260 I1  
36485                             261 I1  ;       *******************************************
36486                             262 I1  ;       ***                                     ***
36487                             263 I1  ;       ***     減速終了条件                    ***
36488                             264 I1  ;       ***                                     ***
36489                             265 I1  ;       *******************************************
36490                             266 I1  ;       OUTPUT R0:0:減速終了 1:減速中
36491                             267 I1  ;       INPUT:R2(設定速度:符号無し)
36492                                 I1  ***** BEGIN-POOL *****
36493 00007E98 00000000               I1  DATA FOR SOURCE-LINE 255
36494                                 I1  ***** END-POOL *****
36495 00007E9C                    268 I1  _ACCST_DN_END_CONF_CHECK
36496                             269 I1          SUB_START
36497 00007E9C 4F22                   M           STS.L   PR,@-R15                ;[必要]
36498                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36499 00007E9E D104               270 I1          MOV.L   #_ACCST_SET_SPD,R1              ;//INPUT モーション演算部からの速度 (オー
                                          バライド前)
36500 00007EA0 6212               271 I1          MOV.L   @R1,R2                          ;
36501 00007EA2 D104               272 I1          MOV.L   #_ACCST_GET_SET_SPD,R1          ;対象の設定速度
36502 00007EA4 6312               273 I1          MOV.L   @R1,R3                          ;
36503 00007EA6 3323               274 I1          CMP/GE  R2,R3                           ;R2(ﾓｰｼｮﾝ演算部演算結果)≦R3(設定)(R2=R3)
36504 00007EA8 8906               275 I1          BT      ACCST_DN_END_CONFCHK_100        ;
36505 00007EAA E001               276 I1          MOV.B   #BIT0,R0                        ;まだ減速継続
36506                             277 I1          M_BRA   ACCST_DN_END_CONFCHK_300        ;
36507 00007EAC A005                   M           BRA     ACCST_DN_END_CONFCHK_300
36508 00007EAE 0009                   M           NOP
36509                             278 I1  
36510                                 I1  ***** BEGIN-POOL *****
36511 00007EB0 00000000               I1  DATA FOR SOURCE-LINE 270
36512 00007EB4 00000000               I1  DATA FOR SOURCE-LINE 272
36513                                 I1  ***** END-POOL *****
36514 00007EB8                    279 I1  ACCST_DN_END_CONFCHK_100
36515 00007EB8 200A               280 I1          XOR     R0,R0
36516 00007EBA                    281 I1  ACCST_DN_END_CONFCHK_300
36517                             282 I1  
36518                             283 I1          SUB_END
36519                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36520 00007EBA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36521                             284 I1          M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   545
PROGRAM NAME =

36522 00007EBC 000B                   M           RTS                             ;RTSの後ろの
36523 00007EBE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36524                             285 I1  
36525                             286 I1  ;       *******************************************
36526                             287 I1  ;       ***                                     ***
36527                             288 I1  ;       ***     加速終了条件                    ***
36528                             289 I1  ;       ***                                     ***
36529                             290 I1  ;       *******************************************
36530                             291 I1  ;       OUTPUT R0:0:加速終了 1:加速中
36531                             292 I1  ;       INPUT:R2(設定速度:符号無し)
36532 00007EC0                    293 I1  _ACCST_UP_END_CONF_CHECK
36533                             294 I1          SUB_START
36534 00007EC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
36535                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36536 00007EC2 D104               295 I1          MOV.L   #_ACCST_SET_SPD,R1              ;//INPUT モーション演算部からの速度 (オー
                                          バライド前)
36537 00007EC4 6212               296 I1          MOV.L   @R1,R2                          ;
36538 00007EC6 D104               297 I1          MOV.L   #_ACCST_GET_SET_SPD,R1          ;対象の設定速度
36539 00007EC8 6312               298 I1          MOV.L   @R1,R3                          ;
36540 00007ECA 3233               299 I1          CMP/GE  R3,R2                           ;R3(対象の設定速度)≦R2(モーション演算部の
                                          速度)(R2=R3)
36541 00007ECC 8906               300 I1          BT      ACCST_UP_END_CONFCHK_100        ;
36542 00007ECE E001               301 I1          MOV.B   #BIT0,R0                        ;まだ加速継続
36543                             302 I1          M_BRA   ACCST_UP_END_CONFCHK_300        ;
36544 00007ED0 A005                   M           BRA     ACCST_UP_END_CONFCHK_300
36545 00007ED2 0009                   M           NOP
36546                             303 I1  
36547                                 I1  ***** BEGIN-POOL *****
36548 00007ED4 00000000               I1  DATA FOR SOURCE-LINE 295
36549 00007ED8 00000000               I1  DATA FOR SOURCE-LINE 297
36550                                 I1  ***** END-POOL *****
36551 00007EDC                    304 I1  ACCST_UP_END_CONFCHK_100
36552 00007EDC 200A               305 I1          XOR     R0,R0
36553 00007EDE                    306 I1  ACCST_UP_END_CONFCHK_300
36554                             307 I1  
36555                             308 I1          SUB_END
36556                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36557 00007EDE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36558                             309 I1          M_RTS
36559 00007EE0 000B                   M           RTS                             ;RTSの後ろの
36560 00007EE2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36561                             310 I1  
36562                             311 I1  ;       *******************************************
36563                             312 I1  ;       ***                                     ***
36564                             313 I1  ;       ***     行程切替時                      ***
36565                             314 I1  ;       ***                                     ***
36566                             315 I1  ;       *******************************************
36567                             316 I1  ;       INPUT R3: INT_POS_CTL_STEP 0以外
36568                             317 I1  ;       (停止,最終行程ではやらない.ACCST_ACC_MATH_SEL=0)
36569                             318 I1  ;
36570 00007EE4                    319 I1  _ACCST_CHGSTEP_GET_MAKE
36571                             320 I1          SUB_START
36572 00007EE4 4F22                   M           STS.L   PR,@-R15                ;[必要]
36573                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36574                             321 I1  
36575 00007EE6 D513               322 I1          MOV.L   #_ACCST_GET_STEP_NO,R5                  ;//BIT1=1時の対象行程
36576 00007EE8 6051               323 I1          MOV.W   @R5,R0                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   546
PROGRAM NAME =

36577 00007EEA 2531               324 I1          MOV.W   R3,@R5                                  ;
36578 00007EEC 3030               325 I1          CMP/EQ  R3,R0                                   ;
36579 00007EEE 891D               326 I1          BT      ACCST_CHGSTEP_GETINF_EXT                ;同じ
36580                             327 I1  
36581                             328 I1          PUSH_REG1 R3
36582 00007EF0 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
36583                                 M                                           ;REG=>[SP]
36584                                 M                                           ;"-4" FF,FF,FF,FC
36585                             329 I1          FAR_JSR #_API_ACCST_DRV_START2,R0               ;
36586 00007EF2 D011                   M           MOV.L   #_API_ACCST_DRV_START2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36587 00007EF4 400B                   M           JSR     @R0                     ;
36588 00007EF6 0009                   M           NOP                                     ;
36589                             330 I1          POP_REG1 R3
36590                                 M                                   ; RE"+4" 00,00,00,04
36591 00007EF8 63F6                   M           MOV.L   @R15+,R3        ;
36592                             331 I1  
36593                             332 I1  ;       ---------------------------------------------
36594 00007EFA 266A               333 I1          XOR     R6,R6
36595 00007EFC D10F               334 I1          MOV.L   #_CPOS_STEP_MAX,R1                      ;
36596 00007EFE 6011               335 I1          MOV.W   @R1,R0                                  ;
36597 00007F00 7001               336 I1          ADD     #1,R0                                   ;[MAX:R0]
36598 00007F02 3303               337 I1          CMP/GE  R0,R3                                   ;最終行程
36599 00007F04 8910               338 I1          BT      ACCST_CHGSTEP_GETINF_SET                ;最終行程は固定
36600                             339 I1  
36601 00007F06 DE0E               340 I1          MOV.L   #_CPOS_SDAT1_INF1,R14                   ;4B
36602 00007F08 6433               341 I1          MOV     R3,R4                                   ;
36603 00007F0A 74FF               342 I1          ADD     #-1,R4                                  ;
36604 00007F0C 4408               343 I1          SHLL2   R4                                      ;
36605 00007F0E 3E4C               344 I1          ADD     R4,R14                                  ;
36606 00007F10 60E2               345 I1          MOV.L   @R14,R0                                 ;
36607 00007F12 C801               346 I1          TST     #BIT0,R0                                ;連続か?
36608                             347 I1          TST_BIT_OF ACCST_CHGSTEP_GETINF_SET             ;演算しない
36609 00007F14 8908                   M           BT      ACCST_CHGSTEP_GETINF_SET
36610                             348 I1  
36611                             349 I1  ;       -----------------------------------------------
36612 00007F16 D50B               350 I1          MOV.L   #_SET1_MOT_INF,R5                       ;
36613 00007F18 6433               351 I1          MOV     R3,R4
36614 00007F1A 74FF               352 I1          ADD     #-1,R4                                  ;
36615 00007F1C 4400               353 I1          SHLL    R4                                      ;
36616 00007F1E 354C               354 I1          ADD     R4,R5                                   ;
36617 00007F20 6051               355 I1          MOV.W   @R5,R0                                  ;
36618 00007F22 C802               356 I1          TST     #BIT1,R0                                ;
36619                             357 I1          TST_BIT_ON ACCST_CHGSTEP_GETINF_100             ;BIT1=1[後変則]:通常ソフト(R6=0)
36620 00007F24 8B00                   M           BF      ACCST_CHGSTEP_GETINF_100
36621 00007F26 E601               358 I1          MOV.B   #BIT0,R6                                ;BIT1=0[前変則]:行程切替前変則
36622 00007F28                    359 I1  ACCST_CHGSTEP_GETINF_100                                ;
36623                             360 I1  ;       ---------------------------------------------------
36624                             361 I1  
36625 00007F28                    362 I1  ACCST_CHGSTEP_GETINF_SET
36626 00007F28 D107               363 I1          MOV.L   #_ACCST_ACC_MATH_SEL,R1                 ;//1STEP分
36627 00007F2A 2161               364 I1          MOV.W   R6,@R1                                  ;指定されている行程の終わり方の抽
                                          出
36628                             365 I1                                                          ;BIT0:SET,BIT1=CLR()
36629 00007F2C                    366 I1  ACCST_CHGSTEP_GETINF_EXT
36630                             367 I1  
36631                             368 I1          SUB_END
36632                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   547
PROGRAM NAME =

36633 00007F2C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36634                             369 I1          M_RTS
36635 00007F2E 000B                   M           RTS                             ;RTSの後ろの
36636 00007F30 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36637                             370 I1  
36638                             371 I1  
36639                             372 I1  
36640                             373 I1  
36641                             374 I1  
36642                             375 I1  ;       *******************************************
36643                             376 I1  ;       ***                                     ***
36644                             377 I1  ;       ***     出力演算                        ***
36645                             378 I1  ;       ***     通常の減速演算を使用するので    ***
36646                             379 I1  ;       ***     今のところ演算不要              ***
36647                             380 I1  ;       ***                                     ***
36648                             381 I1  ;       *******************************************
36649                             382 I1  ;       出力速度演算
36650                                 I1  ***** BEGIN-POOL *****
36651 00007F32 0000                   I1  ALIGNMENT CODE
36652 00007F34 00000000               I1  DATA FOR SOURCE-LINE 322
36653 00007F38 00000000               I1  DATA FOR SOURCE-LINE 329
36654 00007F3C 00000000               I1  DATA FOR SOURCE-LINE 334
36655 00007F40 00000000               I1  DATA FOR SOURCE-LINE 340
36656 00007F44 00000000               I1  DATA FOR SOURCE-LINE 350
36657 00007F48 00000000               I1  DATA FOR SOURCE-LINE 363
36658                                 I1  ***** END-POOL *****
36659 00007F4C                    383 I1  _ACCST_UPDN_OUTSPD_CALC
36660                             384 I1          SUB_START
36661 00007F4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
36662                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36663 00007F4E D103               385 I1          MOV.L   #_ACCST_GET_SET_SPD,R1          ;対象の設定速度
36664 00007F50 6312               386 I1          MOV.L   @R1,R3                          ;
36665                             387 I1  
36666 00007F52 D103               388 I1          MOV.L   #_ACCST_OUT_SET_SPD,R1          ;出力速度
36667 00007F54 2132               389 I1          MOV.L   R3,@R1                          ;
36668                             390 I1  
36669                             391 I1          SUB_END
36670                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36671 00007F56 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36672                             392 I1          M_RTS
36673 00007F58 000B                   M           RTS                             ;RTSの後ろの
36674 00007F5A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36675                             393 I1  
36676                             394 I1  
36677                             395 I1  ;       ***************************************************
36678                             396 I1  ;       ***                                             ***
36679                             397 I1  ;       ***     判定用に現在速度・現在加速度の算出      ***
36680                             398 I1  ;       ***     [オーバライド後で演算する]              ***
36681                             399 I1  ;       ***                                             ***
36682                             400 I1  ;       ***************************************************
36683                             401 I1  ;       *******************************************
36684                             402 I1  ;       ***                                     ***
36685                             403 I1  ;       ***     現在の行程から減速行程を探す    ***
36686                             404 I1  ;       ***                                     ***
36687                             405 I1  ;       *******************************************
36688                             406 I1  ;       S4b     CPOS_SDAT1_CNTSTEP[100+10];             //SETX-->起動時COPY
36689                             407 I1  ;       S4b     CPOS_SDAT1_INF1[100+10];                //SETX-->起動時COPY
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   548
PROGRAM NAME =

36690                             408 I1  ;       S4b     CPOS_SDAT1_CHGAPOS[2*(100+10)];         //起動時,その他で演算 8byte data
36691                             409 I1  ;       S4b     CPOS_SDAT1_STPAPOS[2*(100+10)];         //起動時,その他で演算 8byte data
36692                             410 I1  ;
36693                             411 I1  
36694                                 I1  ***** BEGIN-POOL *****
36695 00007F5C 00000000               I1  DATA FOR SOURCE-LINE 385
36696 00007F60 00000000               I1  DATA FOR SOURCE-LINE 388
36697                                 I1  ***** END-POOL *****
36698 00007F64                    412 I1  _ACCST_UPDN_START_CONF_CHECK
36699                             413 I1          SUB_START
36700 00007F64 4F22                   M           STS.L   PR,@-R15                ;[必要]
36701                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36702 00007F66 D103               414 I1          MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
36703 00007F68 6011               415 I1          MOV.W   @R1,R0                          ;
36704 00007F6A 2008               416 I1          TST     R0,R0                           ;
36705                             417 I1          TST_BIT_ON ACCST_UPDN_START_CONFCHK_050 ;
36706 00007F6C 8B04                   M           BF      ACCST_UPDN_START_CONFCHK_050
36707                             418 I1          M_BRA   ACCST_UPDN_START_CONFCHK_EXT    ;
36708 00007F6E A08B                   M           BRA     ACCST_UPDN_START_CONFCHK_EXT
36709 00007F70 0009                   M           NOP
36710                             419 I1  
36711                                 I1  ***** BEGIN-POOL *****
36712 00007F72 0000                   I1  ALIGNMENT CODE
36713 00007F74 00000000               I1  DATA FOR SOURCE-LINE 414
36714                                 I1  ***** END-POOL *****
36715 00007F78                    420 I1  ACCST_UPDN_START_CONFCHK_050
36716 00007F78 D103               421 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;
36717 00007F7A 6511               422 I1          MOV.W   @R1,R5                          ;
36718 00007F7C 7501               423 I1          ADD     #1,R5                           ;[MAX:R5]
36719 00007F7E 3053               424 I1          CMP/GE  R5,R0                           ;最終行程
36720 00007F80 8B04               425 I1          BF      ACCST_UPDN_START_CONFCHK_100    ;
36721                             426 I1          M_BRA   ACCST_UPDN_START_CONFCHK_EXT    ;R5=R0最終行程
36722 00007F82 A081                   M           BRA     ACCST_UPDN_START_CONFCHK_EXT
36723 00007F84 0009                   M           NOP
36724                             427 I1  
36725                             428 I1  ;       ---------------------------------------
36726                                 I1  ***** BEGIN-POOL *****
36727 00007F86 0000                   I1  ALIGNMENT CODE
36728 00007F88 00000000               I1  DATA FOR SOURCE-LINE 421
36729                                 I1  ***** END-POOL *****
36730 00007F8C                    429 I1  ACCST_UPDN_START_CONFCHK_100
36731 00007F8C 6803               430 I1          MOV     R0,R8                           ;行程
36732                             431 I1  
36733                             432 I1  ;       行程1の場合
36734                             433 I1  ;       INF1:行程1を参照
36735                             434 I1  ;       CHG :行程1を参照
36736                             435 I1  ;       速度:行程2を参照
36737                             436 I1  
36738 00007F8E 70FF               437 I1          ADD     #-1,R0                          ;
36739 00007F90 4008               438 I1          SHLL2   R0                              ;*4
36740 00007F92 DD1A               439 I1          MOV.L   #_CPOS_SDAT1_SPD,R13            ;4B
36741 00007F94 3D0C               440 I1          ADD     R0,R13                          ;
36742 00007F96 67D2               441 I1          MOV.L   @R13,R7                         ;現段の設定速度
36743 00007F98 7D04               442 I1          ADD     #4,R13                          ;次段の設定速度(評価対象目標速度)
36744                             443 I1  
36745 00007F9A DE19               444 I1          MOV.L   #_CPOS_SDAT1_INF1,R14           ;4B
36746 00007F9C 3E0C               445 I1          ADD     R0,R14                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   549
PROGRAM NAME =

36747                             446 I1  
36748 00007F9E 4000               447 I1          SHLL    R0
36749 00007FA0 DC18               448 I1          MOV.L   #_CPOS_SDAT1_CHGAPOS,R12        ;切替位置8B
36750 00007FA2 3C0C               449 I1          ADD     R0,R12                          ;
36751                             450 I1  
36752                             451 I1  
36753                             452 I1  
36754 00007FA4 60E2               453 I1          MOV.L   @R14,R0                         ;INF
36755 00007FA6 C801               454 I1          TST     #BIT0,R0                        ;連続か?
36756                             455 I1          TST_BIT_OF ACCST_UPDN_START_CONFCHK_550 ;この行程は停止なので終了
36757 00007FA8 896B                   M           BT      ACCST_UPDN_START_CONFCHK_550
36758                             456 I1  
36759                             457 I1  ;       (------- 方向判別は不要R0.BIT1--------)
36760                             458 I1  ;       --------- 連続-----------
36761 00007FAA D417               459 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
36762 00007FAC 6546               460 I1          MOV.L   @R4+,R5                                                 ;
36763 00007FAE 6642               461 I1          MOV.L   @R4,R6                                                  ;ﾘｱﾙﾀｲﾑ目標位置
36764 00007FB0 51C0               462 I1          MOV.L   @(0,R12),R1                                             ;
36765 00007FB2 52C1               463 I1          MOV.L   @(4,R12),R2                                             ;設定位置
36766                             464 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2-R5,R6
36767 00007FB4 0008                   M           CLRT
36768 00007FB6 326A                   M           SUBC    R6,R2
36769 00007FB8 315A                   M           SUBC    R5,R1
36770                             465 I1  
36771 00007FBA 4111               466 I1          CMP/PZ  R1                              ;
36772 00007FBC 8905               467 I1          BT      ACCST_UPDN_START_CONFCHK_250    ;
36773                             468 I1          NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0      ;|R1,R2|=設定-現在目標位置
36774 00007FBE 6227                   M           NOT     R2,R2                           ;
36775 00007FC0 6117                   M           NOT     R1,R1                           ;
36776 00007FC2 200A                   M           XOR     R0,R0                           ;
36777 00007FC4 0018                   M           SETT
36778 00007FC6 320E                   M           ADDC    R0,R2                           ;0+1+R2
36779 00007FC8 310E                   M           ADDC    R0,R1                           ;
36780 00007FCA                    469 I1  ACCST_UPDN_START_CONFCHK_250:                   ;
36781                             470 I1  
36782                             471 I1  
36783 00007FCA 2118               472 I1          TST     R1,R1                                   ;
36784                             473 I1          TST_BIT_ON ACCST_UPDN_START_CONFCHK_580         ;まだ距離が十分にある
36785 00007FCC 8B5C                   M           BF      ACCST_UPDN_START_CONFCHK_580
36786                             474 I1  
36787 00007FCE D50F               475 I1          MOV.L   #_ACCST_REAL_SPD1MS,R5                  ;
36788 00007FD0 6452               476 I1          MOV.L   @R5,R4                                  ;
36789 00007FD2 3248               477 I1          SUB     R4,R2                                   ;
36790 00007FD4 4215               478 I1          CMP/PL  R2
36791 00007FD6 8900               479 I1          BT      ACCST_UPDN_START_CONFCHK_280            ;
36792 00007FD8 920F               480 I1          MOV.W   #1,R2                                   ;
36793 00007FDA                    481 I1  ACCST_UPDN_START_CONFCHK_280:                           ;R2:残り距離
36794                             482 I1  
36795 00007FDA D50D               483 I1          MOV.L   #_ACCST_GEN_MAX_LNG,R5                  ;最大速度時の減速距離(100->0 0->10
                                          0%に必要な距離)
36796 00007FDC 6452               484 I1          MOV.L   @R5,R4                                  ;
36797 00007FDE 3246               485 I1          CMP/HI  R4,R2                                   ;R4<R2
36798 00007FE0 8952               486 I1          BT      ACCST_UPDN_START_CONFCHK_580            ;まだ距離が十分にある
36799                             487 I1  
36800 00007FE2 60D2               488 I1          MOV.L   @R13,R0                                 ;次の段
36801 00007FE4 3700               489 I1          CMP/EQ  R0,R7                                   ;現行の段
36802 00007FE6 8949               490 I1          BT      ACCST_UPDN_START_CONFCHK_540            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   550
PROGRAM NAME =

36803                             491 I1  
36804 00007FE8 3073               492 I1          CMP/GE  R7,R0                                   ;
36805 00007FEA 8915               493 I1          BT      ACCST_UPDN_START_CONFCHK_300            ;加速
36806                             494 I1  
36807                             495 I1  ;       -------------- 減速 -------------
36808                             496 I1  ;INPUT R13:ターゲット設定 R1,R2:距離
36809                             497 I1          FAR_JSR #_ACCST_DN_START_CONF_CHECK,R0
36810 00007FEC D009                   M           MOV.L   #_ACCST_DN_START_CONF_CHECK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36811 00007FEE 400B                   M           JSR     @R0                     ;
36812 00007FF0 0009                   M           NOP                                     ;
36813 00007FF2 2008               498 I1          TST     R0,R0
36814                             499 I1          TST_BIT_ON ACCST_UPDN_START_CONFCHK_500                         ;減速すべき
36815 00007FF4 8B1A                   M           BF      ACCST_UPDN_START_CONFCHK_500
36816                             500 I1          M_BRA   ACCST_UPDN_START_CONFCHK_580                            ;まだ減速は不要
36817 00007FF6 A047                   M           BRA     ACCST_UPDN_START_CONFCHK_580
36818 00007FF8 0009                   M           NOP
36819                             501 I1  
36820                                 I1  ***** BEGIN-POOL *****
36821 00007FFA 0001                   I1  DATA FOR SOURCE-LINE 480
36822 00007FFC 00000000               I1  DATA FOR SOURCE-LINE 439
36823 00008000 00000000               I1  DATA FOR SOURCE-LINE 444
36824 00008004 00000000               I1  DATA FOR SOURCE-LINE 448
36825 00008008 00000000               I1  DATA FOR SOURCE-LINE 459
36826 0000800C 00000000               I1  DATA FOR SOURCE-LINE 475
36827 00008010 00000000               I1  DATA FOR SOURCE-LINE 483
36828 00008014 00000000               I1  DATA FOR SOURCE-LINE 497
36829                                 I1  ***** END-POOL *****
36830 00008018                    502 I1  ACCST_UPDN_START_CONFCHK_300:                                                   ;
36831                             503 I1  ;       -------------- 加速 ---------------
36832                             504 I1          FAR_JSR #_ACCST_UP_START_CONF_CHECK,R0
36833 00008018 D003                   M           MOV.L   #_ACCST_UP_START_CONF_CHECK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36834 0000801A 400B                   M           JSR     @R0                     ;
36835 0000801C 0009                   M           NOP                                     ;
36836 0000801E 2008               505 I1          TST     R0,R0
36837                             506 I1          TST_BIT_ON ACCST_UPDN_START_CONFCHK_520                         ;加速すべき
36838 00008020 8B18                   M           BF      ACCST_UPDN_START_CONFCHK_520
36839                             507 I1          M_BRA   ACCST_UPDN_START_CONFCHK_580                            ;まだ加速は不要
36840 00008022 A031                   M           BRA     ACCST_UPDN_START_CONFCHK_580
36841 00008024 0009                   M           NOP
36842                             508 I1  
36843                             509 I1  
36844                             510 I1  
36845                             511 I1  ;       ---------------- 減速開始する[減速スタートする]、演算はやめる-----------
36846                                 I1  ***** BEGIN-POOL *****
36847 00008026 0000                   I1  ALIGNMENT CODE
36848 00008028 00000000               I1  DATA FOR SOURCE-LINE 504
36849                                 I1  ***** END-POOL *****
36850 0000802C                    512 I1  ACCST_UPDN_START_CONFCHK_500:                                                           ;
36851 0000802C 62D2               513 I1          MOV.L   @R13,R2                                                                 ;
                                          設定速度NEW SPEED
36852 0000802E D106               514 I1          MOV.L   #_ACCST_GET_SET_SPD,R1                                                  ;
36853 00008030 2122               515 I1          MOV.L   R2,@R1                                                                  ;
36854                             516 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACCST_CALC_FLG,LG=W,BIT=BIT6,WKREG=R1              ;
36855 00008032 D106                   M           MOV.L   #_ACCST_CALC_FLG,R1             ;
36856 00008034 6011                   M           MOV.W   @R1,R0          ;
36857 00008036 CB40                   M           OR      #BIT6,R0                ;
36858 00008038 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   551
PROGRAM NAME =

36859                             517 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACCST_ACC_MATH_SEL,LG=W,BIT=BIT1,WKREG=R1          ;<
                                          <<<<<<<減速 これは上で評価>>>>>>>
36860 0000803A D105                   M           MOV.L   #_ACCST_ACC_MATH_SEL,R1         ;
36861 0000803C 6011                   M           MOV.W   @R1,R0          ;
36862 0000803E CB02                   M           OR      #BIT1,R0                ;
36863 00008040 2101                   M           MOV.W   R0,@R1          ;
36864                             518 I1          M_BRA   ACCST_UPDN_START_CONFCHK_EXT                                            ;
36865 00008042 A021                   M           BRA     ACCST_UPDN_START_CONFCHK_EXT
36866 00008044 0009                   M           NOP
36867                             519 I1  
36868                             520 I1  
36869                             521 I1  ;       ---------------- 加速開始する[加速スタートする]、演算はやめる-----------
36870                                 I1  ***** BEGIN-POOL *****
36871 00008046 0000                   I1  ALIGNMENT CODE
36872 00008048 00000000               I1  DATA FOR SOURCE-LINE 514
36873 0000804C 00000000               I1  DATA FOR SOURCE-LINE 516
36874 00008050 00000000               I1  DATA FOR SOURCE-LINE 517
36875                                 I1  ***** END-POOL *****
36876 00008054                    522 I1  ACCST_UPDN_START_CONFCHK_520:                                                           ;
36877 00008054 62D2               523 I1          MOV.L   @R13,R2                                                                 ;
                                          設定速度NEW SPEED
36878 00008056 D106               524 I1          MOV.L   #_ACCST_GET_SET_SPD,R1                                                  ;
36879 00008058 2122               525 I1          MOV.L   R2,@R1                                                                  ;
36880                             526 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACCST_CALC_FLG,LG=W,BIT=BIT6,WKREG=R1              ;
36881 0000805A D106                   M           MOV.L   #_ACCST_CALC_FLG,R1             ;
36882 0000805C 6011                   M           MOV.W   @R1,R0          ;
36883 0000805E CB40                   M           OR      #BIT6,R0                ;
36884 00008060 2101                   M           MOV.W   R0,@R1          ;
36885                             527 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_ACCST_ACC_MATH_SEL,LG=W,BIT=~BIT1,WKREG=R1        ;
36886 00008062 D105                   M           MOV.L   #_ACCST_ACC_MATH_SEL,R1         ;
36887 00008064 6011                   M           MOV.W   @R1,R0          ;
36888 00008066 C9FD                   M           AND     #LOW ~BIT1,R0           ;
36889 00008068 2101                   M           MOV.W   R0,@R1          ;
36890                             528 I1          M_BRA   ACCST_UPDN_START_CONFCHK_EXT                                            ;
36891 0000806A A00D                   M           BRA     ACCST_UPDN_START_CONFCHK_EXT
36892 0000806C 0009                   M           NOP
36893                             529 I1  
36894                             530 I1  ;       ---------------- 停止行程なのでやめる----------------
36895                                 I1  ***** BEGIN-POOL *****
36896 0000806E 0000                   I1  ALIGNMENT CODE
36897 00008070 00000000               I1  DATA FOR SOURCE-LINE 524
36898 00008074 00000000               I1  DATA FOR SOURCE-LINE 526
36899 00008078 00000000               I1  DATA FOR SOURCE-LINE 527
36900                                 I1  ***** END-POOL *****
36901 0000807C                    531 I1  ACCST_UPDN_START_CONFCHK_540:                   ;
36902 0000807C 0009               532 I1          NOP                                     ;ここははじくべき
36903                             533 I1          M_BRA   ACCST_UPDN_START_CONFCHK_EXT
36904 0000807E A003                   M           BRA     ACCST_UPDN_START_CONFCHK_EXT
36905 00008080 0009                   M           NOP
36906 00008082                    534 I1  ACCST_UPDN_START_CONFCHK_550:                   ;
36907 00008082 0009               535 I1          NOP                                     ;ここははじいているのでこない
36908                             536 I1          M_BRA   ACCST_UPDN_START_CONFCHK_EXT
36909 00008084 A000                   M           BRA     ACCST_UPDN_START_CONFCHK_EXT
36910 00008086 0009                   M           NOP
36911                             537 I1  ;       ----------まだその判定の位置にない------------
36912 00008088                    538 I1  ACCST_UPDN_START_CONFCHK_580:                   ;
36913 00008088                    539 I1  ACCST_UPDN_START_CONFCHK_EXT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   552
PROGRAM NAME =

36914                             540 I1          SUB_END
36915                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36916 00008088 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36917                             541 I1          M_RTS
36918 0000808A 000B                   M           RTS                             ;RTSの後ろの
36919 0000808C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36920                             542 I1  
36921                             543 I1  
36922                             544 I1  
36923                             545 I1  
36924                             546 I1  
36925                             547 I1  
36926                             548 I1  
36927                             549 I1  ;       ***********************************************************
36928                             550 I1  ;       ***                                                     ***
36929                             551 I1  ;       ***     減速すべき設定で減速すべき範囲内でR0 !=0        ***
36930                             552 I1  ;       ***                                                     ***
36931                             553 I1  ;       ***********************************************************
36932                             554 I1  ;       ANS R0!=0 減速すべき位置
36933 0000808E                    555 I1  _ACCST_DN_START_CONF_CHECK
36934                             556 I1          SUB_START
36935 0000808E 4F22                   M           STS.L   PR,@-R15                ;[必要]
36936                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36937                             557 I1  
36938                             558 I1  ;[速度が高い場合評価をやめる]
36939                             559 I1  ;       現在速度^2≧２α(S−現在速度/1000)+指定段数速度^2
36940                             560 I1  
36941                             561 I1  ;;不要  PUSH_REG1 R8    ;行程
36942                             562 I1  ;;不要  PUSH_REG1 R12   ;POS
36943                             563 I1  ;;不要  PUSH_REG1 R13   ;SPD
36944                             564 I1  ;;不要  PUSH_REG1 R14   ;INF1
36945 00008090 D40B               565 I1          MOV.L   #_POSCTL_RL_SPD,R4                                      ;
36946 00008092 6942               566 I1          MOV.L   @R4,R9                                                  ;
36947                             567 I1  
36948 00008094 6AD2               568 I1          MOV.L   @R13,R10                                                ;SPD：次段設定
36949                             569 I1          PUSH_REG1 R1                                                    ;
36950 00008096 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
36951                                 M                                           ;REG=>[SP]
36952                                 M                                           ;"-4" FF,FF,FF,FC
36953                             570 I1          PUSH_REG1 R2                                                    ;
36954 00008098 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
36955                                 M                                           ;REG=>[SP]
36956                                 M                                           ;"-4" FF,FF,FF,FC
36957 0000809A 62A3               571 I1          MOV     R10,R2                                                  ;
36958                             572 I1          FAR_JSR #_OVER_LIDE_SPD_CALC,R0                                 ;INPUT R2-OUTPUT R
                                          2
36959 0000809C D009                   M           MOV.L   #_OVER_LIDE_SPD_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36960 0000809E 400B                   M           JSR     @R0                     ;
36961 000080A0 0009                   M           NOP                                     ;
36962 000080A2 6A23               573 I1          MOV     R2,R10                                                  ;
36963                             574 I1          POP_REG1 R2                                                     ;
36964                                 M                                   ; RE"+4" 00,00,00,04
36965 000080A4 62F6                   M           MOV.L   @R15+,R2        ;
36966                             575 I1          POP_REG1 R1                                                     ;
36967                                 M                                   ; RE"+4" 00,00,00,04
36968 000080A6 61F6                   M           MOV.L   @R15+,R1        ;
36969                             576 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   553
PROGRAM NAME =

36970 000080A8 D407               577 I1          MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
36971 000080AA 6B42               578 I1          MOV.L   @R4,R11                                                 ;ｵｰﾊﾞﾗｲﾄﾞ後
36972                             579 I1                                                                          ;Input R1,R2 距離
36973                             580 I1                                                                          ;Input R9    現在
                                          速度
36974                             581 I1                                                                          ;Input R10   ｵﾌｾｯﾄ
                                          速度[指定段数速度]
36975                             582 I1                                                                          ;Input R11   減速
                                          距離
36976                             583 I1  
36977 000080AC 200A               584 I1          XOR     R0,R0
36978 000080AE 3A93               585 I1          CMP/GE  R9,R10                                                  ;R9(現在速度)≦R10
                                          (設定速度):不要
36979 000080B0 8902               586 I1          BT      ACCST_DN_START_CONFCHK_400                              ;
36980                             587 I1  
36981                             588 I1  ;       ***     Input R1,R2(残り距離)           ***
36982                             589 I1  ;       ***     Input R9:SPEED  DATA            ***
36983                             590 I1  ;       ***     Input R10:OFFSET SPEED          ***
36984                             591 I1  ;       ***     Input R11:ACC_LATE              ***
36985                             592 I1          FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;ANS R0!=0 減速
36986 000080B2 D006                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36987 000080B4 400B                   M           JSR     @R0                     ;
36988 000080B6 0009                   M           NOP                                     ;
36989                             593 I1  
36990 000080B8                    594 I1  ACCST_DN_START_CONFCHK_400:                                             ;
36991                             595 I1  
36992                             596 I1  
36993                             597 I1  ;;不要  POP_REG1 R14
36994                             598 I1  ;;不要  POP_REG1 R13
36995                             599 I1  ;;不要  POP_REG1 R12
36996                             600 I1  ;;不要  POP_REG1 R8
36997                             601 I1  
36998                             602 I1          SUB_END
36999                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37000 000080B8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37001                             603 I1          M_RTS
37002 000080BA 000B                   M           RTS                             ;RTSの後ろの
37003 000080BC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37004                             604 I1  
37005                             605 I1  
37006                             606 I1  ;       ***********************************************************
37007                             607 I1  ;       ***                                                     ***
37008                             608 I1  ;       ***     加速すべき設定で加速すべき範囲内でR0 !=0        ***
37009                             609 I1  ;       ***                                                     ***
37010                             610 I1  ;       ***********************************************************
37011                             611 I1  ;       ANS R0!=0 減速すべき位置
37012                                 I1  ***** BEGIN-POOL *****
37013 000080BE 0000                   I1  ALIGNMENT CODE
37014 000080C0 00000000               I1  DATA FOR SOURCE-LINE 565
37015 000080C4 00000000               I1  DATA FOR SOURCE-LINE 572
37016 000080C8 00000000               I1  DATA FOR SOURCE-LINE 577
37017 000080CC 00000000               I1  DATA FOR SOURCE-LINE 592
37018                                 I1  ***** END-POOL *****
37019 000080D0                    612 I1  _ACCST_UP_START_CONF_CHECK
37020                             613 I1          SUB_START
37021 000080D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
37022                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   554
PROGRAM NAME =

37023                             614 I1  
37024                             615 I1  ;[速度が高い場合評価をやめる]
37025                             616 I1  ;       現在速度^2≧２α(S−現在速度/1000)+指定段数速度^2
37026                             617 I1  
37027                             618 I1  ;;不要  PUSH_REG1 R8    ;行程
37028                             619 I1  ;;不要  PUSH_REG1 R12   ;POS
37029                             620 I1  ;;不要  PUSH_REG1 R13   ;SPD
37030                             621 I1  ;;不要  PUSH_REG1 R14   ;INF1
37031 000080D2 D40D               622 I1          MOV.L   #_POSCTL_RL_SPD,R4                                      ;
37032 000080D4 6942               623 I1          MOV.L   @R4,R9                                                  ;
37033                             624 I1  
37034 000080D6 6AD2               625 I1          MOV.L   @R13,R10                                                ;SPD：次段設定
37035                             626 I1          PUSH_REG1 R1                                                    ;
37036 000080D8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
37037                                 M                                           ;REG=>[SP]
37038                                 M                                           ;"-4" FF,FF,FF,FC
37039                             627 I1          PUSH_REG1 R2                                                    ;
37040 000080DA 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
37041                                 M                                           ;REG=>[SP]
37042                                 M                                           ;"-4" FF,FF,FF,FC
37043 000080DC 62A3               628 I1          MOV     R10,R2                                                  ;
37044                             629 I1          FAR_JSR #_OVER_LIDE_SPD_CALC,R0                                 ;INPUT R2-OUTPUT R
                                          2
37045 000080DE D00B                   M           MOV.L   #_OVER_LIDE_SPD_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37046 000080E0 400B                   M           JSR     @R0                     ;
37047 000080E2 0009                   M           NOP                                     ;
37048 000080E4 6A23               630 I1          MOV     R2,R10                                                  ;
37049                             631 I1          POP_REG1 R2                                                     ;
37050                                 M                                   ; RE"+4" 00,00,00,04
37051 000080E6 62F6                   M           MOV.L   @R15+,R2        ;
37052                             632 I1          POP_REG1 R1                                                     ;
37053                                 M                                   ; RE"+4" 00,00,00,04
37054 000080E8 61F6                   M           MOV.L   @R15+,R1        ;
37055                             633 I1  
37056 000080EA D409               634 I1          MOV.L   #_POSCTL_SV_UP_ACC,R4                                   ;500,000/1000
37057 000080EC 6B42               635 I1          MOV.L   @R4,R11                                                 ;ｵｰﾊﾞﾗｲﾄﾞ後
37058                             636 I1                                                                          ;Input R1,R2 距離
37059                             637 I1                                                                          ;Input R9    現在
                                          速度
37060                             638 I1                                                                          ;Input R10   ｵﾌｾｯﾄ
                                          速度[指定段数速度]
37061                             639 I1                                                                          ;Input R11   減速
                                          距離
37062                             640 I1  
37063 000080EE 200A               641 I1          XOR     R0,R0
37064 000080F0 39A3               642 I1          CMP/GE  R10,R9                                                  ;R10(設定速度)≦R9
                                          (現在速度):不要
37065 000080F2 8905               643 I1          BT      ACCST_UP_START_CONFCHK_400                              ;
37066                             644 I1  
37067                             645 I1  ;       ***     Input R1,R2(残り距離)           ***
37068                             646 I1  ;       ***     Input R9:SPEED  DATA            ***
37069                             647 I1  ;       ***     Input R10:OFFSET SPEED          ***
37070                             648 I1  ;       ***     Input R11:ACC_LATE              ***
37071                             649 I1  
37072 000080F4 60A3               650 I1          MOV     R10,R0
37073 000080F6 6A93               651 I1          MOV     R9,R10
37074 000080F8 6903               652 I1          MOV     R0,R9                                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   555
PROGRAM NAME =

37075                             653 I1          FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;ANS R0!=0 減速
37076 000080FA D006                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37077 000080FC 400B                   M           JSR     @R0                     ;
37078 000080FE 0009                   M           NOP                                     ;
37079                             654 I1  
37080 00008100                    655 I1  ACCST_UP_START_CONFCHK_400:                                             ;
37081                             656 I1  
37082                             657 I1  
37083                             658 I1  ;;不要  POP_REG1 R14
37084                             659 I1  ;;不要  POP_REG1 R13
37085                             660 I1  ;;不要  POP_REG1 R12
37086                             661 I1  ;;不要  POP_REG1 R8
37087                             662 I1  
37088                             663 I1          SUB_END
37089                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37090 00008100 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37091                             664 I1          M_RTS
37092 00008102 000B                   M           RTS                             ;RTSの後ろの
37093 00008104 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37094                             665 I1  
37095                             666 I1  
37096                             667 I1  
37097                             668 I1  
37098                             669 I1  
37099                             670 I1  
37100                             671 I1  ;       *******************************************
37101                             672 I1  ;       ***                                     ***
37102                             673 I1  ;       ***                                     ***
37103                             674 I1  ;       ***                                     ***
37104                             675 I1  ;       ***                                     ***
37105                             676 I1  ;       *******************************************
37106                             677 I1  ;       レジスタはR0以外破壊しないこと
37107                             678 I1  ;       R0=0/R0=1(前減速,前加速)
37108                             679 I1  ;       input R5:行程番号
37109                             680 I1  ;
37110                                 I1  ***** BEGIN-POOL *****
37111 00008106 0000                   I1  ALIGNMENT CODE
37112 00008108 00000000               I1  DATA FOR SOURCE-LINE 622
37113 0000810C 00000000               I1  DATA FOR SOURCE-LINE 629
37114 00008110 00000000               I1  DATA FOR SOURCE-LINE 634
37115 00008114 00000000               I1  DATA FOR SOURCE-LINE 653
37116                                 I1  ***** END-POOL *****
37117 00008118                    681 I1  _ACCST_CHGSPD_LIMIT_INFO_LOAD
37118                             682 I1          SUB_START
37119 00008118 4F22                   M           STS.L   PR,@-R15                ;[必要]
37120                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37121                             683 I1          PUSH_REG1 R1
37122 0000811A 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
37123                                 M                                           ;REG=>[SP]
37124                                 M                                           ;"-4" FF,FF,FF,FC
37125                             684 I1          PUSH_REG1 R2
37126 0000811C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
37127                                 M                                           ;REG=>[SP]
37128                                 M                                           ;"-4" FF,FF,FF,FC
37129                             685 I1  
37130 0000811E D107               686 I1          MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
37131 00008120 6011               687 I1          MOV.W   @R1,R0                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   556
PROGRAM NAME =

37132 00008122 C801               688 I1          TST     #_DMATH_CNTROT,R0                       ;回転：
37133                             689 I1          TST_BIT_OF ACCST_CHGSPD_LMT_INF_LD_200          ;回転ではない
37134 00008124 8910                   M           BT      ACCST_CHGSPD_LMT_INF_LD_200
37135                             690 I1  
37136 00008126 D106               691 I1          MOV.L   #_MOTION_SPD_CHKCNT,R1
37137 00008128 6011               692 I1          MOV.W   @R1,R0                                  ;1段目=0 2段目=4 3段目=8,,,
37138 0000812A D106               693 I1          MOV.L   #_SET1_MOT_INF,R1                       ;評価の前の段が前変速か
37139 0000812C 4000               694 I1          SHLL    R0                                      ;
37140 0000812E 310C               695 I1          ADD     R0,R1                                   ;
37141 00008130 6011               696 I1          MOV.W   @R1,R0                                  ;
37142 00008132 C802               697 I1          TST     #BIT1,R0                                ;
37143                             698 I1          TST_BIT_ON ACCST_CHGSPD_LMT_INF_LD_200          ;ON:後変速
37144 00008134 8B08                   M           BF      ACCST_CHGSPD_LMT_INF_LD_200
37145                             699 I1          M_BRA   ACCST_CHGSPD_LMT_INF_LD_300             ;OFF:前変速
37146 00008136 A00A                   M           BRA     ACCST_CHGSPD_LMT_INF_LD_300
37147 00008138 0009                   M           NOP
37148                             700 I1  
37149                             701 I1  
37150                             702 I1  
37151                             703 I1  ;       --------------- 通常の評価を実施する---------------
37152                                 I1  ***** BEGIN-POOL *****
37153 0000813A 0000                   I1  ALIGNMENT CODE
37154 0000813C 00000000               I1  DATA FOR SOURCE-LINE 686
37155 00008140 00000000               I1  DATA FOR SOURCE-LINE 691
37156 00008144 00000000               I1  DATA FOR SOURCE-LINE 693
37157                                 I1  ***** END-POOL *****
37158 00008148                    704 I1  ACCST_CHGSPD_LMT_INF_LD_200                             ;
37159 00008148 200A               705 I1          XOR     R0,R0
37160                             706 I1          M_BRA   ACCST_CHGSPD_LMT_INF_LD_END             ;
37161 0000814A A001                   M           BRA     ACCST_CHGSPD_LMT_INF_LD_END
37162 0000814C 0009                   M           NOP
37163                             707 I1  
37164                             708 I1  
37165                             709 I1  ;       --------------- 前変則だから評価不要-----------
37166 0000814E                    710 I1  ACCST_CHGSPD_LMT_INF_LD_300                             ;
37167 0000814E E001               711 I1          MOV.B   #1,R0                                   ;
37168 00008150                    712 I1  ACCST_CHGSPD_LMT_INF_LD_END                             ;
37169                             713 I1  
37170                             714 I1          POP_REG1 R2
37171                                 M                                   ; RE"+4" 00,00,00,04
37172 00008150 62F6                   M           MOV.L   @R15+,R2        ;
37173                             715 I1          POP_REG1 R1
37174                                 M                                   ; RE"+4" 00,00,00,04
37175 00008152 61F6                   M           MOV.L   @R15+,R1        ;
37176                             716 I1  
37177                             717 I1  
37178                             718 I1          SUB_END
37179                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37180 00008154 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37181                             719 I1          M_RTS
37182 00008156 000B                   M           RTS                             ;RTSの後ろの
37183 00008158 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37184                             720 I1  
37185                             721 I1  
37186                           11306     
37187                           11307     
37188                           11308     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   557
PROGRAM NAME =

37189                           11309     
37190                           11310     
37191                           11311     
37192                           11312     
37193                           11313     
37194                           11314     
37195                           11315     
37196                           11316     
37197                           11317     
37198                           11318     ;       **********************************************************
37199                           11319     ;       ***                                                     ***
37200                           11320     ;       ***                                                     ***
37201                           11321     ;       ***                                                     ***
37202                           11322     ;       ***                                                     ***
37203                           11323     ;       ***     CPUBの高速化「以下にはプログラム追加しないこと」***
37204                           11324     ;       ***     2013-03-15                                      ***
37205                           11325     ;       ***                                                     ***
37206                           11326     ;       ***     A5007000~A5008FFFまで                           ***
37207                           11327     ;       ***     [PHiRAM]                                        ***
37208                           11328     ;       ***                                                     ***
37209                           11329     ;       ***                                                     ***
37210                           11330     ;       ***********************************************************
37211 0000815C                  11331             .ALIGN  4                                       ;
37212                           11332             .AIF    2 EQ 3          ;
37213                           11333             .SECTION        PHiROM,CODE                     ;
37214                           11334             .AENDI                                          ;
37215                           11335     
37216                           11336     ;
37217                           11337     ;
37218                           11338     ;
37219                           11339     ;
37220                           11340     ;
37221 0000815C                  11341             .ALIGN  4                                               ;
37222                           11342     ;       *******************************************
37223                           11343     ;       ***                                     ***
37224                           11344     ;       ***     2006-09-19                      ***
37225                           11345     ;       ***                                     ***
37226                           11346     ;       ***     ﾊﾟﾙｽ管理                        ***
37227                           11347     ;       ***     (位置決め部分での処理)          ***
37228                           11348     ;       ***                                     ***
37229                           11349     ;       *******************************************
37230                           11350     ;       Input :現在位置(出力ﾊﾟﾙｽ側)    [8byte]
37231                           11351     ;       Input :最終停止位置(出力ﾊﾟﾙｽ上)[8byte]
37232                           11352     ;       Input :設定速度(0.01%単位)     [4byte]
37233                           11353     ;       Input :制御周期 TIME-LATE:1/1000
37234                           11354     ;       Input :加速度(0.001%/s/s)[4byte]
37235                           11355     ;       Input :
37236                           11356     ;       Input :処理状態：起動/減速停止/処理継続
37237                           11357     ;       Output:加速度書換え
37238                           11358     ;
37239                           11359     ;       *******************************************
37240                           11360     ;       ***                                     ***
37241                           11361     ;       ***                                     ***
37242                           11362     ;       ***             主制御                  ***
37243                           11363     ;       ***     (ここは標準・ふりこ共通)        ***
37244                           11364     ;       ***                                     ***
37245                           11365     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   558
PROGRAM NAME =

37246                           11366     ;       *******************************************
37247                           11367     ;_POSCTL_STEP_FLG BIT0 ACTIVE
37248                           11368     ;                 BIT1 減速ｺﾏﾝﾄﾞ
37249                           11369     ;                 BIT2 最終減速ﾗｯﾁ：解除は目標位置変更
37250                           11370     ;                 BIT6:END
37251 0000815C                  11371             .ALIGN  4                               ;
37252 0000815C                  11372     _PLS_LSI_CTRL:
37253                           11373             SUB_START
37254 0000815C 4F22                   M           STS.L   PR,@-R15                ;[必要]
37255                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37256                           11374     
37257                           11375     
37258                           11376     ;       ---------------最終目標位置-----------
37259 0000815E D410             11377             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;LINKX_SV_OBJ_ABSPLSの場合があるか
                                          も
37260 00008160 6146             11378             MOV.L   @R4+,R1                                 ;
37261 00008162 6242             11379             MOV.L   @R4,R2                                  ;
37262 00008164 D40F             11380             MOV.L   #_POSCTL_SV_PLS,R4                      ;SV
37263 00008166 5540             11381             MOV.L   @(0,R4),R5                              ;
37264 00008168 5641             11382             MOV.L   @(4,R4),R6                              ;
37265 0000816A 1410             11383             MOV.L   R1,@(0,R4)                              ;
37266 0000816C 1421             11384             MOV.L   R2,@(4,R4)                              ;
37267                           11385     
37268 0000816E 251A             11386             XOR     R1,R5
37269 00008170 262A             11387             XOR     R2,R6                                   ;
37270 00008172 265B             11388             OR      R5,R6                                   ;
37271 00008174 2668             11389             TST     R6,R6                                   ;
37272                           11390             TST_BIT_OF PLS_LSICTRL_050                      ;
37273 00008176 8903                   M           BT      PLS_LSICTRL_050
37274                           11391             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POSCTL_STEP_FLG,LG=W,BIT=~BIT2,WKREG=R1   ;
37275 00008178 D10B                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
37276 0000817A 6011                   M           MOV.W   @R1,R0          ;
37277 0000817C C9FB                   M           AND     #LOW ~BIT2,R0           ;
37278 0000817E 2101                   M           MOV.W   R0,@R1          ;
37279                           11392     
37280 00008180                  11393     PLS_LSICTRL_050                 ;
37281                           11394     
37282                           11395     
37283                           11396     ;       ---------------リアルタイム目標位置-----------
37284 00008180 D40A             11397             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;
37285 00008182 6146             11398             MOV.L   @R4+,R1                                 ;
37286 00008184 6242             11399             MOV.L   @R4,R2                                  ;
37287 00008186 D40A             11400             MOV.L   #_POSCTL_RL_PLS,R4                      ;RL
37288 00008188 1410             11401             MOV.L   R1,@(0,R4)                              ;
37289 0000818A 1421             11402             MOV.L   R2,@(4,R4)                              ;
37290                           11403     
37291                           11404     
37292                           11405     ;       ==================================================
37293 0000818C D109             11406             MOV.L   #_POS_HLDSTOP1_FLG,R1                   ;
37294 0000818E 6011             11407             MOV.W   @R1,R0                                  ;
37295 00008190 C801             11408             TST     #BIT0,R0                                ;HOLD減速
37296                           11409             TST_BIT_OF PLS_LSICTRL_070                      ;
37297 00008192 8915                   M           BT      PLS_LSICTRL_070
37298                           11410     
37299                           11411     ;       ---------------------------------
37300 00008194 D108             11412             MOV.L   #_POSHLD_SET_DN_ACC,R1                  ;//位置決めキャンセル減速
37301 00008196 6212             11413             MOV.L   @R1,R2                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   559
PROGRAM NAME =

37302 00008198 D108             11414             MOV.L   #_POSCTL_SV_DN_ACC,R1                   ;
37303 0000819A 2122             11415             MOV.L   R2,@R1                                  ;
37304                           11416             M_BRA   PLS_LSICTRL_080                         ;
37305 0000819C A018                   M           BRA     PLS_LSICTRL_080
37306 0000819E 0009                   M           NOP
37307                           11417     
37308                                     ***** BEGIN-POOL *****
37309 000081A0 00000000                   DATA FOR SOURCE-LINE 11377
37310 000081A4 00000000                   DATA FOR SOURCE-LINE 11380
37311 000081A8 00000000                   DATA FOR SOURCE-LINE 11391
37312 000081AC 00000000                   DATA FOR SOURCE-LINE 11397
37313 000081B0 00000000                   DATA FOR SOURCE-LINE 11400
37314 000081B4 00000000                   DATA FOR SOURCE-LINE 11406
37315 000081B8 00000000                   DATA FOR SOURCE-LINE 11412
37316 000081BC 00000000                   DATA FOR SOURCE-LINE 11414
37317                                     ***** END-POOL *****
37318 000081C0                  11418     PLS_LSICTRL_070                                 ;
37319                           11419     ;       --------- ｵｰﾊﾞﾗｲﾄﾞ転送---- -----------
37320                           11420             MEM_MOV_TO_MEM  _SET_UP_ACC_LATE,L,_POSCTL_SV_UP_ACC,L,R1,R2,R3 ;
37321 000081C0 D11B                   M           MOV.L   #_SET_UP_ACC_LATE,R1
37322 000081C2 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
37323 000081C4 D31B                   M           MOV.L   #_POSCTL_SV_UP_ACC,R3   ;DST_ADR
37324 000081C6 2322                   M           MOV.L   R2,@R3  ;DST_ADR
37325                           11421             MEM_MOV_TO_MEM  _SET_DN_ACC_LATE,L,_POSCTL_SV_DN_ACC,L,R1,R2,R3 ;
37326 000081C8 D11B                   M           MOV.L   #_SET_DN_ACC_LATE,R1
37327 000081CA 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
37328 000081CC D31B                   M           MOV.L   #_POSCTL_SV_DN_ACC,R3   ;DST_ADR
37329 000081CE 2322                   M           MOV.L   R2,@R3  ;DST_ADR
37330                           11422     
37331 000081D0                  11423     PLS_LSICTRL_080                                 ;
37332                           11424     
37333                           11425     ;       -------------------------------------------
37334                           11426     ;       ---             2015-11-17              ---
37335                           11427     ;       -------------------------------------------
37336 000081D0 D31B             11428             MOV.L   #_POSCTL_SET_SPD,R3                     ;速度
37337 000081D2 6232             11429             MOV.L   @R3,R2                                  ;
37338                           11430     
37339                           11431     ;       -------- 減速選択--------
37340                           11432             FAR_JSR #_ACC_MATHED_SEL_CTRL,R0        ;2016-04-18 INPUT R2,OUTPUT R2
37341 000081D4 D01B                   M           MOV.L   #_ACC_MATHED_SEL_CTRL,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37342 000081D6 400B                   M           JSR     @R0                     ;
37343 000081D8 0009                   M           NOP                                     ;
37344                           11433     
37345                           11434     ;2016-04-18     FAR_JSR #_ACCLW_CTRL_CALC,R0            ;2015-11-17 減速選択
37346                           11435                                                             ;INPUT R2-OUTPUT R2
37347                           11436     
37348                           11437     ;;;2015-11-17   MOV.L   #_POSCTL_SET_SPD,R3             ;速度
37349                           11438     ;;;2015-11-17   MOV.L   @R3,R2                          ;
37350                           11439     ;       -------------------------------------------
37351                           11440     
37352                           11441             FAR_JSR #_OVER_LIDE_SPD_CALC,R0                 ;INPUT R2-OUTPUT R2
37353 000081DA D01B                   M           MOV.L   #_OVER_LIDE_SPD_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37354 000081DC 400B                   M           JSR     @R0                     ;
37355 000081DE 0009                   M           NOP                                     ;
37356                           11442     
37357                           11443     
37358                           11444     ;       -------------2013-02-15 速度上限制限[ここはふりこも共通]-----------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   560
PROGRAM NAME =

37359                           11445             FAR_JSR #_SPD_UPLIMT_CALC,R0                    ;INPUT R2-OUTPUT R2
37360 000081E0 D01A                   M           MOV.L   #_SPD_UPLIMT_CALC,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37361 000081E2 400B                   M           JSR     @R0                     ;
37362 000081E4 0009                   M           NOP                                     ;
37363                           11446     ;       --------------------------------------------------------------
37364                           11447     
37365                           11448             FAR_JSR #_CNT_REST_HOSEI_SPD_TYP,R0             ;INPUT R2 OUTPUT R2
37366 000081E6 D01A                   M           MOV.L   #_CNT_REST_HOSEI_SPD_TYP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37367 000081E8 400B                   M           JSR     @R0                     ;
37368 000081EA 0009                   M           NOP                                     ;
37369                           11449     
37370                           11450     
37371 000081EC D119             11451             MOV.L   #_POSCTL_SV_SPD,R1                      ;
37372 000081EE 2122             11452             MOV.L   R2,@R1                                  ;
37373                           11453     
37374                           11454     ;       ========== 管理=============
37375 000081F0 D119             11455             MOV.L   #_POSCTL_STEP_FLG,R1                    ;//0(IDLE) BIT0/BIT6 (BIT2,3,4 減
                                          速関連)
37376 000081F2 6011             11456             MOV.W   @R1,R0                                  ;
37377 000081F4 C840             11457             TST     #BIT6,R0                                ;終了?
37378                           11458             TST_BIT_ON PLS_LSICTRL_END                      ;
37379 000081F6 8B48                   M           BF      PLS_LSICTRL_END
37380                           11459     
37381 000081F8 C801             11460             TST     #BIT0,R0                                ;ACTIVE
37382                           11461             TST_BIT_ON PLS_LSICTRL_100                      ;
37383 000081FA 8B09                   M           BF      PLS_LSICTRL_100
37384                           11462     
37385                           11463     ;       --- 停止中---
37386 000081FC D117             11464             MOV.L   #_POSCTL_STEP_CMD,R1                    ;
37387 000081FE 6011             11465             MOV.W   @R1,R0                                  ;
37388 00008200 8801             11466             CMP/EQ  #1,R0                                   ;起動?
37389 00008202 8B42             11467             BF      PLS_LSICTRL_END                         ;NO
37390                           11468     
37391                           11469             FAR_JSR #_PLS_LSI_CTL_INI,R0                    ;起動
37392 00008204 D016                   M           MOV.L   #_PLS_LSI_CTL_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37393 00008206 400B                   M           JSR     @R0                     ;
37394 00008208 0009                   M           NOP                                     ;
37395 0000820A 900F             11470             MOV.W   #BIT0,R0                                ;
37396                           11471             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_FLG,L1=W,DT_REG=R0,WKREG1=R1
37397 0000820C D112                   M           MOV.L   #_POSCTL_STEP_FLG,R1    ;DST_ADR
37398 0000820E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
37399                           11472     
37400 00008210                  11473     PLS_LSICTRL_100:
37401 00008210 D112             11474             MOV.L   #_POSCTL_STEP_CMD,R1                    ;//3:EMG停止(速度=0) 1:起動ｺﾏﾝﾄﾞ 2
                                          :(減速停止)
37402 00008212 6011             11475             MOV.W   @R1,R0                                  ;EMG-STOP
37403 00008214 8803             11476             CMP/EQ  #3,R0                                   ;
37404 00008216 8B27             11477             BF      PLS_LSICTRL_200                         ;
37405                           11478     
37406 00008218 200A             11479             XOR     R0,R0                                   ;
37407                           11480             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_FLG,L1=W,DT_REG=R0,WKREG1=R1
37408 0000821A D10F                   M           MOV.L   #_POSCTL_STEP_FLG,R1    ;DST_ADR
37409 0000821C 2101                   M           MOV.W   R0,@R1  ;DST_ADR
37410                           11481             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1
37411 0000821E D10F                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
37412 00008220 2101                   M           MOV.W   R0,@R1  ;DST_ADR
37413                           11482     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   561
PROGRAM NAME =

37414                           11483             FAR_JSR #_PLS_LSI_SPEED_OFF,R0                  ;
37415 00008222 D010                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37416 00008224 400B                   M           JSR     @R0                     ;
37417 00008226 0009                   M           NOP                                     ;
37418                           11484             M_BRA   PLS_LSICTRL_END                         ;
37419 00008228 A02F                   M           BRA     PLS_LSICTRL_END
37420 0000822A 0009                   M           NOP
37421                           11485     
37422                                     ***** BEGIN-POOL *****
37423 0000822C 0001                       DATA FOR SOURCE-LINE 11470
37424 0000822E 0000                       ALIGNMENT CODE
37425 00008230 00000000                   DATA FOR SOURCE-LINE 11420
37426 00008234 00000000                   DATA FOR SOURCE-LINE 11420
37427 00008238 00000000                   DATA FOR SOURCE-LINE 11421
37428 0000823C 00000000                   DATA FOR SOURCE-LINE 11421
37429 00008240 00000000                   DATA FOR SOURCE-LINE 11428
37430 00008244 00000000                   DATA FOR SOURCE-LINE 11432
37431 00008248 00000000                   DATA FOR SOURCE-LINE 11441
37432 0000824C 00000000                   DATA FOR SOURCE-LINE 11445
37433 00008250 00000000                   DATA FOR SOURCE-LINE 11448
37434 00008254 00000000                   DATA FOR SOURCE-LINE 11451
37435 00008258 00000000                   DATA FOR SOURCE-LINE 11455,11471,11480
37436 0000825C 00000000                   DATA FOR SOURCE-LINE 11464,11474,11481
37437 00008260 00000000                   DATA FOR SOURCE-LINE 11469
37438 00008264 00000000                   DATA FOR SOURCE-LINE 11483
37439                                     ***** END-POOL *****
37440 00008268                  11486     PLS_LSICTRL_200:
37441                           11487     
37442                           11488     ;       ----------- ふりこ加減速と通常加減速を分ける---
37443                           11489     ;;;;2010-09-27 ふりこのため     FAR_JSR #_PLS_LSI_CTL_CALC,R0                   ;
37444                           11490     
37445 00008268 D104             11491             MOV.L   #_DNM_ACC_CALFLG,R1             ;//0/1
37446 0000826A 6011             11492             MOV.W   @R1,R0                          ;
37447 0000826C 8801             11493             CMP/EQ  #1,R0                           ;
37448 0000826E 8B09             11494             BF      PLS_LSICTRL_220                 ;
37449                           11495             FAR_JSR #_DNM_PLS_LSICTL_CALC,R0        ;
37450 00008270 D003                   M           MOV.L   #_DNM_PLS_LSICTL_CALC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37451 00008272 400B                   M           JSR     @R0                     ;
37452 00008274 0009                   M           NOP                                     ;
37453                           11496             M_BRA   PLS_LSICTRL_END                 ;ふりこ加減速
37454 00008276 A008                   M           BRA     PLS_LSICTRL_END
37455 00008278 0009                   M           NOP
37456                           11497     
37457                                     ***** BEGIN-POOL *****
37458 0000827A 0000                       ALIGNMENT CODE
37459 0000827C 00000000                   DATA FOR SOURCE-LINE 11491
37460 00008280 00000000                   DATA FOR SOURCE-LINE 11495
37461                                     ***** END-POOL *****
37462 00008284                  11498     PLS_LSICTRL_220:
37463                           11499             FAR_JSR #_PLS_LSI_CTL_CALC,R0           ;通常減速
37464 00008284 D002                   M           MOV.L   #_PLS_LSI_CTL_CALC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37465 00008286 400B                   M           JSR     @R0                     ;
37466 00008288 0009                   M           NOP                                     ;
37467                           11500     
37468 0000828A                  11501     PLS_LSICTRL_END:
37469                           11502     
37470                           11503     ;       -------- 2013-07-18 DEBUG ----------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   562
PROGRAM NAME =

37471                           11504     ;;;;;;;;;;;;;;;;        MOV.L   #_POSCTL_CALC_ERR,R1                    ;BIT0:起動時
37472                           11505     ;;;;;;;;;;;;;;;;        MOV.W   @R1,R0                                  ;BIT1:減速時
37473                           11506     ;;;;;;;;;;;;;;;;        MOV.L   #_SQ_CBWK_TOP+_WKSQCB239,R1             ;
37474                           11507     ;;;;;;;;;;;;;;;;        MOV.W   R0,@R1                                  ;
37475                           11508     
37476                           11509             SUB_END
37477                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37478 0000828A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37479                           11510             M_RTS
37480 0000828C 000B                   M           RTS                             ;RTSの後ろの
37481 0000828E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37482                           11511     
37483                           11512     ;       *******************************************
37484                           11513     ;       ***                                     ***
37485                           11514     ;       ***                                     ***
37486                           11515     ;       ***             加減速演算              ***
37487                           11516     ;       ***                                     ***
37488                           11517     ;       ***                                     ***
37489                           11518     ;       ***                                     ***
37490                           11519     ;       *******************************************
37491                           11520     
37492                                     ***** BEGIN-POOL *****
37493 00008290 00000000                   DATA FOR SOURCE-LINE 11499
37494                                     ***** END-POOL *****
37495 00008294                  11521             .ALIGN  4                               ;
37496 00008294                  11522     _PLS_LSI_CTL_CALC:
37497                           11523             SUB_START
37498 00008294 4F22                   M           STS.L   PR,@-R15                ;[必要]
37499                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37500                           11524     
37501                           11525     ;       --------- 2010-09-27 残りパルス演算の共通化----
37502                           11526             FAR_JSR #_ACC_REST_INFO_MAKE,R0
37503 00008296 D005                   M           MOV.L   #_ACC_REST_INFO_MAKE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37504 00008298 400B                   M           JSR     @R0                     ;
37505 0000829A 0009                   M           NOP                                     ;
37506                           11527     
37507                           11528     
37508 0000829C D104             11529             MOV.L   #_POSCTL_STEP_FLG,R1                                            ;//0(IDLE)
                                           BIT0/BIT6 END (BIT1 LATCH)
37509 0000829E 6011             11530             MOV.W   @R1,R0                                                          ;
37510 000082A0 C802             11531             TST     #BIT1,R0                                                        ;
37511                           11532             TST_BIT_ON PLS_LSI_CTLCAL_020                                           ;強制減速
                                          停止中(寸動停止)
37512 000082A2 8B07                   M           BF      PLS_LSI_CTLCAL_020
37513 000082A4 C804             11533             TST     #BIT2,R0                                                        ;
37514                           11534             TST_BIT_ON PLS_LSI_CTLCAL_050                                           ;最終減速
                                          状態YES
37515 000082A6 8B11                   M           BF      PLS_LSI_CTLCAL_050
37516                           11535             M_BRA   PLS_LSI_CTLCAL_100                                              ;
37517 000082A8 A012                   M           BRA     PLS_LSI_CTLCAL_100
37518 000082AA 0009                   M           NOP
37519                           11536     
37520                                     ***** BEGIN-POOL *****
37521 000082AC 00000000                   DATA FOR SOURCE-LINE 11526
37522 000082B0 00000000                   DATA FOR SOURCE-LINE 11529
37523                                     ***** END-POOL *****
37524 000082B4                  11537     PLS_LSI_CTLCAL_020
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   563
PROGRAM NAME =

37525                           11538     ;       --- 減速コマンドラッチ---
37526 000082B4 D103             11539             MOV.L   #_POSCTL_SV_OFS_SPD,R1                                          ;//自起動
                                          PLS/S
37527 000082B6 6212             11540             MOV.L   @R1,R2                                                          ;
37528 000082B8 D503             11541             MOV.L   #_POSCTL_RL_SPD,R5                                              ;
37529 000082BA 6352             11542             MOV.L   @R5,R3                                                          ;
37530 000082BC 3326             11543             CMP/HI  R2,R3                                                           ;R2(SV) <
                                          R3(NOW)
37531 000082BE 8905             11544             BT      PLS_LSI_CTLCAL_050                                              ;YES
37532                           11545             M_BRA   PLS_LSI_CTLCAL_800                                              ;(減速停止
                                          )終了処理
37533 000082C0 A076                   M           BRA     PLS_LSI_CTLCAL_800
37534 000082C2 0009                   M           NOP
37535                                     ***** BEGIN-POOL *****
37536 000082C4 00000000                   DATA FOR SOURCE-LINE 11539
37537 000082C8 00000000                   DATA FOR SOURCE-LINE 11541
37538                                     ***** END-POOL *****
37539 000082CC                  11546     PLS_LSI_CTLCAL_050:
37540                           11547             M_BRA   PLS_LSI_CTLCAL_700                                              ;減速処理
37541 000082CC A040                   M           BRA     PLS_LSI_CTLCAL_700
37542 000082CE 0009                   M           NOP
37543                           11548     
37544 000082D0                  11549     PLS_LSI_CTLCAL_100:
37545 000082D0 D104             11550             MOV.L   #_POSCTL_STEP_CMD,R1                                            ;//3:EMG停
                                          止(速度=0) 1:起動ｺﾏﾝﾄﾞ 2:(減速停止)
37546 000082D2 6011             11551             MOV.W   @R1,R0                                                          ;EMG-STOP
37547 000082D4 8802             11552             CMP/EQ  #2,R0                                                           ;減速停止
37548 000082D6 8B09             11553             BF      PLS_LSI_CTLCAL_150                                              ;NO
37549                           11554             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1     ;強制減速
                                          停止指令(寸動停止)
37550 000082D8 D103                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
37551 000082DA 6011                   M           MOV.W   @R1,R0          ;
37552 000082DC CB02                   M           OR      #BIT1,R0                ;
37553 000082DE 2101                   M           MOV.W   R0,@R1          ;
37554                           11555             M_BRA   PLS_LSI_CTLCAL_500                                              ;
37555 000082E0 A01E                   M           BRA     PLS_LSI_CTLCAL_500
37556 000082E2 0009                   M           NOP
37557                           11556     
37558                           11557     ;-------通常制御----
37559                                     ***** BEGIN-POOL *****
37560 000082E4 00000000                   DATA FOR SOURCE-LINE 11550
37561 000082E8 00000000                   DATA FOR SOURCE-LINE 11554
37562                                     ***** END-POOL *****
37563 000082EC                  11558     PLS_LSI_CTLCAL_150:
37564 000082EC D102             11559             MOV.L   #_INT_CLS_CTL_FLG,R1                                            ;
37565 000082EE 6011             11560             MOV.W   @R1,R0                                                          ;
37566 000082F0 C801             11561             TST     #BIT0,R0                                                        ;
37567                           11562             TST_BIT_OF PLS_LSI_CTLCAL_160                                           ;
37568 000082F2 8903                   M           BT      PLS_LSI_CTLCAL_160
37569                           11563     ;       -----------やるべきことが今一不明--------
37570                           11564             M_BRA   PLS_LSI_CTLCAL_EXT                                              ;
37571 000082F4 A07D                   M           BRA     PLS_LSI_CTLCAL_EXT
37572 000082F6 0009                   M           NOP
37573                           11565     
37574                           11566     
37575                                     ***** BEGIN-POOL *****
37576 000082F8 00000000                   DATA FOR SOURCE-LINE 11559
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   564
PROGRAM NAME =

37577                                     ***** END-POOL *****
37578 000082FC                  11567     PLS_LSI_CTLCAL_160:
37579                           11568     
37580                           11569     ;<<<2010-09-21>>>
37581                           11570             FAR_JSR #_CMP_POSLSI_CTLGENSOK,R0                                       ;<<<2010-0
                                          9-21>>>
37582 000082FC D006                   M           MOV.L   #_CMP_POSLSI_CTLGENSOK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37583 000082FE 400B                   M           JSR     @R0                     ;
37584 00008300 0009                   M           NOP                                     ;
37585                           11571     
37586 00008302 2008             11572             TST     R0,R0                                                           ;
37587                           11573             TST_BIT_OF PLS_LSI_CTLCAL_500
37588 00008304 890C                   M           BT      PLS_LSI_CTLCAL_500
37589 00008306 8801             11574             CMP/EQ  #1,R0                                                           ;
37590 00008308 8922             11575             BT      PLS_LSI_CTLCAL_700
37591                           11576     ;       ----- ABNOMAL CALC------                                                ;
37592                           11577             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_CALC_ERR,LG=W,BIT=BIT1,WKREG=R4     ;
37593 0000830A D404                   M           MOV.L   #_POSCTL_CALC_ERR,R4            ;
37594 0000830C 6041                   M           MOV.W   @R4,R0          ;
37595 0000830E CB02                   M           OR      #BIT1,R0                ;
37596 00008310 2401                   M           MOV.W   R0,@R4          ;
37597                           11578             M_BRA   PLS_LSI_CTLCAL_700
37598 00008312 A01D                   M           BRA     PLS_LSI_CTLCAL_700
37599 00008314 0009                   M           NOP
37600                           11579     ;;;;;;  M_BRA   PLS_LSI_CTLCAL_ERR      手動ﾊﾟﾙｻでうまくいかない 2013-06-20
37601                           11580     
37602                           11581     ;       ===== 距離がありそう =====
37603                                     ***** BEGIN-POOL *****
37604 00008316 0000                       ALIGNMENT CODE
37605 00008318 00000000                   DATA FOR SOURCE-LINE 11570
37606 0000831C 00000000                   DATA FOR SOURCE-LINE 11577
37607                                     ***** END-POOL *****
37608 00008320                  11582     PLS_LSI_CTLCAL_500:                                                             ;
37609                           11583     ;<<<2010-09-21>>>
37610                           11584     ;;;;;;2015-03-10        FAR_JSR #_PLS_LSI_SPD_ACC_ADD,R0
                                          ;<<<2010-09-21>>>
37611                           11585     ;;;;;;2015-03-10
37612                           11586     ;;;;;;2015-03-10        TST     R0,R0
                                          ;
37613                           11587     ;;;;;;2015-03-10        TST_BIT_OF PLS_LSI_CTLCAL_EXT
                                          ;書き換えない
37614                           11588     ;;;;;;2015-03-10        FAR_JSR #_PLS_LSI_CTL_SPDSET,R0
                                          ;LSI SET
37615                           11589     ;;;;;;2015-03-10        M_BRA   PLS_LSI_CTLCAL_900
                                          ;
37616                           11590     
37617                           11591     ;       --------- 自起動速度設定の動作も対応[各機種共通事項]-----------
37618                           11592             FAR_JSR #_PLS_LSI_SPD_ACC_ADD,R0                                        ;<<<2010-0
                                          9-21>>>
37619 00008320 D005                   M           MOV.L   #_PLS_LSI_SPD_ACC_ADD,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37620 00008322 400B                   M           JSR     @R0                     ;
37621 00008324 0009                   M           NOP                                     ;
37622 00008326 2008             11593             TST     R0,R0                                                           ;
37623                           11594             TST_BIT_ON PLS_LSI_CTLCAL_580
37624 00008328 8B0A                   M           BF      PLS_LSI_CTLCAL_580
37625                           11595     
37626                           11596     ;       ---払い出し完了ならやめる---------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   565
PROGRAM NAME =

37627                           11597             FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;
37628 0000832A D004                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37629 0000832C 400B                   M           JSR     @R0                     ;
37630 0000832E 0009                   M           NOP                                     ;
37631 00008330 C804             11598             TST     #BIT2,R0                        ;停止?
37632                           11599             TST_BIT_ON PLS_LSI_CTLCAL_800           ;YES:
37633 00008332 8B3D                   M           BF      PLS_LSI_CTLCAL_800
37634                           11600             M_BRA   PLS_LSI_CTLCAL_EXT              ;
37635 00008334 A05D                   M           BRA     PLS_LSI_CTLCAL_EXT
37636 00008336 0009                   M           NOP
37637                           11601     
37638                                     ***** BEGIN-POOL *****
37639 00008338 00000000                   DATA FOR SOURCE-LINE 11592
37640 0000833C 00000000                   DATA FOR SOURCE-LINE 11597
37641                                     ***** END-POOL *****
37642 00008340                  11602     PLS_LSI_CTLCAL_580:
37643                           11603             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;LSI SET
37644 00008340 D002                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37645 00008342 400B                   M           JSR     @R0                     ;
37646 00008344 0009                   M           NOP                                     ;
37647                           11604             M_BRA   PLS_LSI_CTLCAL_900                                              ;
37648 00008346 A045                   M           BRA     PLS_LSI_CTLCAL_900
37649 00008348 0009                   M           NOP
37650                           11605     
37651                           11606     
37652                           11607     
37653                           11608     ;------------最終減速処理(自動・手動ともこの演算を行なう)----------
37654                                     ***** BEGIN-POOL *****
37655 0000834A 0000                       ALIGNMENT CODE
37656 0000834C 00000000                   DATA FOR SOURCE-LINE 11603
37657                                     ***** END-POOL *****
37658 00008350                  11609     PLS_LSI_CTLCAL_700:
37659                           11610             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT2,WKREG=R1     ;減速中
37660 00008350 D111                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
37661 00008352 6011                   M           MOV.W   @R1,R0          ;
37662 00008354 CB04                   M           OR      #BIT2,R0                ;
37663 00008356 2101                   M           MOV.W   R0,@R1          ;
37664                           11611     ;       ---払い出し完了ならやめる---------
37665                           11612             FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;
37666 00008358 D010                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37667 0000835A 400B                   M           JSR     @R0                     ;
37668 0000835C 0009                   M           NOP                                     ;
37669 0000835E C804             11613             TST     #BIT2,R0                        ;停止?
37670                           11614             TST_BIT_ON PLS_LSI_CTLCAL_820           ;YES:ﾌﾗｸﾞ終了
37671 00008360 8B2D                   M           BF      PLS_LSI_CTLCAL_820
37672                           11615     
37673                           11616     ;<<<2010-09-21>>>
37674                           11617     ;       ----ここにきたら目標位置が変わるまで加速はしない------
37675 00008362 D50F             11618             MOV.L   #_POSCTL_RL_SPD,R5              ;
37676 00008364 6252             11619             MOV.L   @R5,R2                          ;
37677 00008366 D40F             11620             MOV.L   #_POSCTL_SV_DN_ACC,R4           ;
37678 00008368 6342             11621             MOV.L   @R4,R3                          ;
37679 0000836A 2338             11622             TST     R3,R3                           ;
37680                           11623             TST_BIT_ON PLS_LSI_CTLCAL_720           ;
37681 0000836C 8B00                   M           BF      PLS_LSI_CTLCAL_720
37682 0000836E E301             11624             MOV     #1,R3                           ;
37683 00008370                  11625     PLS_LSI_CTLCAL_720:                             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   566
PROGRAM NAME =

37684 00008370 3238             11626             SUB     R3,R2                           ;
37685 00008372 4211             11627             CMP/PZ  R2                              ;
37686 00008374 8900             11628             BT      PLS_LSI_CTLCAL_740              ;
37687 00008376 222A             11629             XOR     R2,R2                           ;
37688 00008378                  11630     PLS_LSI_CTLCAL_740:                             ;
37689                           11631     
37690                           11632     
37691                           11633     
37692 00008378 D10B             11634             MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
37693 0000837A 6312             11635             MOV.L   @R1,R3                          ;
37694 0000837C 3236             11636             CMP/HI  R3,R2                           ;
37695 0000837E 8904             11637             BT      PLS_LSI_CTLCAL_760              ;OFS < CALC
37696 00008380 6233             11638             MOV     R3,R2                           ;MNINLINIT
37697                           11639     ;       -------------------
37698 00008382 D105             11640             MOV.L   #_POSCTL_STEP_FLG,R1            ;
37699 00008384 6011             11641             MOV.W   @R1,R0                          ;
37700 00008386 C802             11642             TST     #BIT1,R0                        ;手動減速中
37701                           11643             TST_BIT_ON PLS_LSI_CTLCAL_800           ;
37702 00008388 8B12                   M           BF      PLS_LSI_CTLCAL_800
37703                           11644     
37704 0000838A                  11645     PLS_LSI_CTLCAL_760:                             ;
37705 0000838A 2522             11646             MOV.L   R2,@R5                          ;
37706                           11647             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0         ;LSI SET
37707 0000838C D007                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37708 0000838E 400B                   M           JSR     @R0                     ;
37709 00008390 0009                   M           NOP                                     ;
37710                           11648             M_BRA   PLS_LSI_CTLCAL_900              ;
37711 00008392 A01F                   M           BRA     PLS_LSI_CTLCAL_900
37712 00008394 0009                   M           NOP
37713                           11649     
37714                           11650     ;       -------------終了処理(STEP STOP)----------
37715                                     ***** BEGIN-POOL *****
37716 00008396 0000                       ALIGNMENT CODE
37717 00008398 00000000                   DATA FOR SOURCE-LINE 11610,11640
37718 0000839C 00000000                   DATA FOR SOURCE-LINE 11612
37719 000083A0 00000000                   DATA FOR SOURCE-LINE 11618
37720 000083A4 00000000                   DATA FOR SOURCE-LINE 11620
37721 000083A8 00000000                   DATA FOR SOURCE-LINE 11634
37722 000083AC 00000000                   DATA FOR SOURCE-LINE 11647
37723                                     ***** END-POOL *****
37724 000083B0                  11651     PLS_LSI_CTLCAL_800:
37725                           11652             FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
37726 000083B0 D009                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37727 000083B2 400B                   M           JSR     @R0                     ;
37728 000083B4 0009                   M           NOP                                     ;
37729                           11653             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT5,WKREG=R1     ;DEBUG
37730 000083B6 D109                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
37731 000083B8 6011                   M           MOV.W   @R1,R0          ;
37732 000083BA CB20                   M           OR      #BIT5,R0                ;
37733 000083BC 2101                   M           MOV.W   R0,@R1          ;
37734 000083BE                  11654     PLS_LSI_CTLCAL_820:
37735                           11655             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
37736 000083BE D107                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
37737 000083C0 6011                   M           MOV.W   @R1,R0          ;
37738 000083C2 CB40                   M           OR      #BIT6,R0                ;
37739 000083C4 2101                   M           MOV.W   R0,@R1          ;
37740                           11656             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT3,WKREG=R1     ;DEBUG
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   567
PROGRAM NAME =

37741 000083C6 D105                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
37742 000083C8 6011                   M           MOV.W   @R1,R0          ;
37743 000083CA CB08                   M           OR      #BIT3,R0                ;
37744 000083CC 2101                   M           MOV.W   R0,@R1          ;
37745                           11657     
37746                           11658             .AIF    0 EQ    0
37747                           11659 C   
37748                           11660 C           FAR_JSR #_VIB_PLS_OUT_OF,R0     ;2010-08-23加振動制御
37749 000083CE D004                   M           MOV.L   #_VIB_PLS_OUT_OF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37750 000083D0 400B                   M           JSR     @R0                     ;
37751 000083D2 0009                   M           NOP                                     ;
37752                           11661             .AENDI
37753                           11662     
37754 000083D4                  11663     PLS_LSI_CTLCAL_900:
37755                           11664             M_BRA   PLS_LSI_CTLCAL_EXT                                              ;
37756 000083D4 A00D                   M           BRA     PLS_LSI_CTLCAL_EXT
37757 000083D6 0009                   M           NOP
37758                           11665     
37759                                     ***** BEGIN-POOL *****
37760 000083D8 00000000                   DATA FOR SOURCE-LINE 11652
37761 000083DC 00000000                   DATA FOR SOURCE-LINE 11653,11655,11656
37762 000083E0 00000000                   DATA FOR SOURCE-LINE 11660
37763                                     ***** END-POOL *****
37764 000083E4                  11666     PLS_LSI_CTLCAL_ERR:
37765                           11667             FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
37766 000083E4 D004                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37767 000083E6 400B                   M           JSR     @R0                     ;
37768 000083E8 0009                   M           NOP                                     ;
37769                           11668             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
37770 000083EA D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
37771 000083EC 6011                   M           MOV.W   @R1,R0          ;
37772 000083EE CB40                   M           OR      #BIT6,R0                ;
37773 000083F0 2101                   M           MOV.W   R0,@R1          ;
37774                           11669     
37775 000083F2                  11670     PLS_LSI_CTLCAL_EXT:
37776                           11671     
37777                           11672     
37778                           11673     
37779                           11674     
37780                           11675     
37781                           11676     
37782                           11677             SUB_END
37783                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37784 000083F2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37785                           11678             M_RTS
37786 000083F4 000B                   M           RTS                             ;RTSの後ろの
37787 000083F6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37788                           11679     
37789                           11680     ;       *******************************************
37790                           11681     ;       ***                                     ***
37791                           11682     ;       ***                                     ***
37792                           11683     ;       ***             加速・減速              ***
37793                           11684     ;       ***                                     ***
37794                           11685     ;       ***                                     ***
37795                           11686     ;       ***                                     ***
37796                           11687     ;       *******************************************
37797                           11688     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   568
PROGRAM NAME =

37798                           11689     ;       ANS R0:0ﾃﾞｰﾀ変更なし R0:1ﾃﾞｰﾀ変更有り
37799                           11690     ;
37800                                     ***** BEGIN-POOL *****
37801 000083F8 00000000                   DATA FOR SOURCE-LINE 11667
37802 000083FC 00000000                   DATA FOR SOURCE-LINE 11668
37803                                     ***** END-POOL *****
37804 00008400                  11691             .ALIGN  4                               ;
37805 00008400                  11692     _PLS_LSI_SPD_ACC_ADD:
37806                           11693             SUB_START
37807 00008400 4F22                   M           STS.L   PR,@-R15                ;[必要]
37808                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37809 00008402 200A             11694             XOR     R0,R0                                           ;
37810 00008404 D107             11695             MOV.L   #_POSCTL_SV_SPD,R1                              ;
37811 00008406 6312             11696             MOV.L   @R1,R3                                          ;
37812 00008408 D507             11697             MOV.L   #_POSCTL_RL_SPD,R5                              ;
37813 0000840A 6252             11698             MOV.L   @R5,R2                                          ;
37814 0000840C 3320             11699             CMP/EQ  R2,R3                                           ;
37815 0000840E 8917             11700             BT      PLS_LSI_SPD_ACCADD_END                          ;SV=REAL
37816 00008410 3323             11701             CMP/GE  R2,R3                                           ;R2<R3
37817 00008412 8B0D             11702             BF      PLS_LSI_SPD_ACCADD_200                                  ;NO 減速しろ
37818                           11703     ;       ---加速しろ----
37819 00008414 D405             11704             MOV.L   #_POSCTL_SV_UP_ACC,R4                                   ;500,000/1000
37820 00008416 6142             11705             MOV.L   @R4,R1                                                  ;
37821 00008418 321C             11706             ADD     R1,R2
37822 0000841A 3327             11707             CMP/GT  R2,R3                                                   ;
37823 0000841C 890E             11708             BT      PLS_LSI_SPD_ACCADD_300                                  ;R2<R3(SV) THEN そ
                                          のまま加速
37824 0000841E 6233             11709             MOV     R3,R2                                                   ;SV→REAL
37825                           11710             M_BRA   PLS_LSI_SPD_ACCADD_300                                  ;
37826 00008420 A00C                   M           BRA     PLS_LSI_SPD_ACCADD_300
37827 00008422 0009                   M           NOP
37828                           11711     
37829                                     ***** BEGIN-POOL *****
37830 00008424 00000000                   DATA FOR SOURCE-LINE 11695
37831 00008428 00000000                   DATA FOR SOURCE-LINE 11697
37832 0000842C 00000000                   DATA FOR SOURCE-LINE 11704
37833                                     ***** END-POOL *****
37834 00008430                  11712     PLS_LSI_SPD_ACCADD_200:
37835                           11713     ;       ---減速しろ---
37836 00008430 D405             11714             MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
37837 00008432 6142             11715             MOV.L   @R4,R1                                                  ;
37838 00008434 3218             11716             SUB     R1,R2                                                   ;
37839 00008436 3237             11717             CMP/GT  R3,R2                                                   ;
37840 00008438 8900             11718             BT      PLS_LSI_SPD_ACCADD_300                                  ;R3<R2
37841 0000843A 6233             11719             MOV     R3,R2                                                   ;
37842 0000843C                  11720     PLS_LSI_SPD_ACCADD_300:                                                 ;
37843 0000843C 2522             11721             MOV.L   R2,@R5                                                  ;
37844 0000843E E001             11722             MOV     #1,R0                                                   ;
37845 00008440                  11723     PLS_LSI_SPD_ACCADD_END:
37846                           11724             SUB_END
37847                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37848 00008440 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37849                           11725             M_RTS
37850 00008442 000B                   M           RTS                             ;RTSの後ろの
37851 00008444 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37852                           11726     
37853                           11727     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   569
PROGRAM NAME =

37854                           11728     
37855                           11729     
37856                           11730     ;       *******************************************
37857                           11731     ;       ***                                     ***
37858                           11732     ;       ***     Input R1,R2(残り距離)           ***
37859                           11733     ;       ***     Input R9:SPEED  DATA            ***
37860                           11734     ;       ***     Input R10:OFFSET SPEED          ***
37861                           11735     ;       ***     Input R11:ACC_LATE              ***
37862                           11736     ;       ***                                     ***
37863                           11737     ;       *******************************************
37864                           11738     ;       ANS
37865                           11739     ;       00:KEEP
37866                           11740     ;       01:STOP
37867                           11741     ;       -1:ERR
37868                           11742     ;
37869                                     ***** BEGIN-POOL *****
37870 00008446 0000                       ALIGNMENT CODE
37871 00008448 00000000                   DATA FOR SOURCE-LINE 11714
37872                                     ***** END-POOL *****
37873 0000844C                  11743             .ALIGN  4                               ;
37874 0000844C                  11744     _CMP_SPD_REST_PLSCHKCOM:
37875                           11745             SUB_START
37876 0000844C 4F22                   M           STS.L   PR,@-R15                ;[必要]
37877                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37878 0000844E 4111             11746             CMP/PZ  R1                                              ;
37879 00008450 8901             11747             BT      CMPSPD_RSTPLS_250                               ;NOMAL
37880                           11748     ;       ----- ABNOMAL CALC------                                ;
37881                           11749             M_BRA   CMP_SPD_REST_ERR                                ;
37882 00008452 A024                   M           BRA     CMP_SPD_REST_ERR
37883 00008454 0009                   M           NOP
37884                           11750     
37885 00008456                  11751     CMPSPD_RSTPLS_250:
37886                           11752     
37887 00008456 2118             11753             TST     R1,R1                                           ;
37888                           11754             TST_BIT_OF CMPSPD_RSTPLS_280                            ;
37889 00008458 8901                   M           BT      CMPSPD_RSTPLS_280
37890                           11755             M_BRA   CMP_SPD_REST_MOV                                ;まだまだ残り距離がある(32
                                          bit以上残り距離がある)
37891 0000845A A01D                   M           BRA     CMP_SPD_REST_MOV
37892 0000845C 0009                   M           NOP
37893 0000845E                  11756     CMPSPD_RSTPLS_280:
37894 0000845E D40D             11757             MOV.L   #_GENSOK_LNGTH_MAX,R4                           ;30秒*500KHよりも距離があ
                                          る
37895 00008460 3243             11758             CMP/GE  R4,R2                                           ;
37896 00008462 8919             11759             BT      CMP_SPD_REST_MOV                                ;減速距離がまだまだ大きい(
                                          連続でもありえない)
37897                           11760     ;       ---------------------------------------------------
37898                           11761     
37899                           11762     ;       -------減速距離比較------------
37900                           11763     ;       (R2:距離S)
37901                           11764     ;;      MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
37902                           11765     ;;      MOV.L   @R4,R11                                                 ;
37903                           11766     
37904 00008464 9415             11767             MOV.W   #_ACC_UNIT,R4                                           ;α:(PLS/1000)/s/s
37905 00008466 3B4D             11768             DMULS.L R4,R11                                                  ;α'=α*1000
37906 00008468 031A             11769             STS     MACL,R3                                                 ;
37907 0000846A 333C             11770             ADD     R3,R3                                                   ;2*α*1000
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   570
PROGRAM NAME =

37908                           11771     
37909 0000846C 332D             11772             DMULS.L R2,R3                                                   ;2*α'*S
37910 0000846E 081A             11773             STS     MACL,R8                                                 ;
37911 00008470 070A             11774             STS     MACH,R7                                                 ;R7,R8=2*α*S
37912                           11775     ;;      MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
37913                           11776     ;;      MOV.L   @R4,R10                                                 ;
37914 00008472 3AAD             11777             DMULS.L R10,R10                                                 ;
37915 00008474 021A             11778             STS     MACL,R2                                                 ;
37916 00008476 010A             11779             STS     MACH,R1                                                 ;
37917                           11780             ADD8B DT_REGH=R7,DT_REGL=R8,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2=2*α*S+β*
                                          β
37918 00008478 0008                   M           CLRT
37919 0000847A 328E                   M           ADDC    R8,R2
37920 0000847C 317E                   M           ADDC    R7,R1
37921                           11781     
37922                           11782     ;加速しないならこれでよい。
37923                           11783     ;この状態で演算し、且つ加速した結果でも演算する必要がある。             ;
37924                           11784     ;;      MOV.L   #_POSCTL_RL_SPD,R4                                      ;
37925                           11785     ;;      MOV.L   @R4,R9                                                  ;
37926 0000847E 399D             11786             DMULS.L R9,R9                                                   ;V*V
37927 00008480 061A             11787             STS     MACL,R6                                                 ;
37928 00008482 050A             11788             STS     MACH,R5                                                 ;R5,R6=V*V
37929                           11789     
37930                           11790             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;2*α*S+β*β - V*
                                          V
37931 00008484 0008                   M           CLRT
37932 00008486 326A                   M           SUBC    R6,R2
37933 00008488 315A                   M           SUBC    R5,R1
37934 0000848A 4111             11791             CMP/PZ  R1                                                      ;
37935 0000848C 8904             11792             BT      CMP_SPD_REST_MOV                                        ;
37936                           11793             M_BRA   CMP_SPD_REST_STOP                                       ;
37937 0000848E A009                   M           BRA     CMP_SPD_REST_STOP
37938 00008490 0009                   M           NOP
37939                           11794     
37940                                     ***** BEGIN-POOL *****
37941 00008492 03E8                       DATA FOR SOURCE-LINE 11767
37942 00008494 00E4E1C0                   DATA FOR SOURCE-LINE 11757
37943                                     ***** END-POOL *****
37944 00008498                  11795     CMP_SPD_REST_MOV:
37945 00008498 200A             11796             XOR     R0,R0
37946                           11797             M_BRA   CMP_SPD_REST_END
37947 0000849A A004                   M           BRA     CMP_SPD_REST_END
37948 0000849C 0009                   M           NOP
37949                           11798     
37950                           11799     ;       ====== 減速開始すべき位置======
37951 0000849E                  11800     CMP_SPD_REST_ERR:
37952 0000849E E0FF             11801             MOV     #-1,R0
37953                           11802             M_BRA   CMP_SPD_REST_END        ;
37954 000084A0 A001                   M           BRA     CMP_SPD_REST_END
37955 000084A2 0009                   M           NOP
37956 000084A4                  11803     CMP_SPD_REST_STOP:
37957 000084A4 E001             11804             MOV     #1,R0
37958 000084A6                  11805     CMP_SPD_REST_END:
37959                           11806             SUB_END
37960                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37961 000084A6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37962                           11807             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   571
PROGRAM NAME =

37963 000084A8 000B                   M           RTS                             ;RTSの後ろの
37964 000084AA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37965                           11808     
37966                           11809     
37967                           11810     
37968                           11811     ;       ***************************************************
37969                           11812     ;       ***                                             ***
37970                           11813     ;       ***             残距離作成                      ***
37971                           11814     ;       ***             2010-09-22                      ***
37972                           11815     ;       ***             演算の簡略化                    ***
37973                           11816     ;       ***                                             ***
37974                           11817     ;       ***************************************************
37975 000084AC                  11818             .ALIGN  4                               ;
37976 000084AC                  11819     _ACC_REST_INFO_MAKE
37977                           11820             SUB_START
37978 000084AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
37979                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37980                           11821     ;       ----------- 設定目標位置        ---------
37981 000084AE D411             11822             MOV.L   #_POSCTL_SV_PLS,R4                                      ;SV
37982 000084B0 5140             11823             MOV.L   @(0,R4),R1                                              ;
37983 000084B2 5241             11824             MOV.L   @(4,R4),R2                                              ;
37984                           11825     
37985                           11826     ;       ---------------リアルタイム目標位置-----------
37986 000084B4 D410             11827             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
37987 000084B6 5540             11828             MOV.L   @(0,R4),R5                                              ;
37988 000084B8 5641             11829             MOV.L   @(4,R4),R6                                              ;
37989                           11830             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
37990 000084BA 0008                   M           CLRT
37991 000084BC 326A                   M           SUBC    R6,R2
37992 000084BE 315A                   M           SUBC    R5,R1
37993                           11831     
37994 000084C0 D40E             11832             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
37995 000084C2 6041             11833             MOV.W   @R4,R0                                                  ;
37996 000084C4 C801             11834             TST     #BIT0,R0                                                ;
37997                           11835             TST_BIT_OF ACC_REST_INFMK_100                                   ;正転
37998 000084C6 8905                   M           BT      ACC_REST_INFMK_100
37999                           11836             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
38000 000084C8 6227                   M           NOT     R2,R2                           ;
38001 000084CA 6117                   M           NOT     R1,R1                           ;
38002 000084CC 200A                   M           XOR     R0,R0                           ;
38003 000084CE 0018                   M           SETT
38004 000084D0 320E                   M           ADDC    R0,R2                           ;0+1+R2
38005 000084D2 310E                   M           ADDC    R0,R1                           ;
38006 000084D4                  11837     ACC_REST_INFMK_100                                                      ;正転
38007                           11838     
38008 000084D4 D50A             11839             MOV.L   #_ACC_REST_ABS_PLS,R5   ;
38009 000084D6 2512             11840             MOV.L   R1,@R5                  ;
38010 000084D8 1521             11841             MOV.L   R2,@(4,R5)              ;
38011                           11842     
38012                           11843     
38013 000084DA 200A             11844             XOR     R0,R0
38014 000084DC 2118             11845             TST     R1,R1                                   ;8byteの上位4byteがあるか？
38015                           11846             TST_BIT_ON ACC_REST_INFMK_200                   ;まだ4BYTE以上ある
38016 000084DE 8B03                   M           BF      ACC_REST_INFMK_200
38017                           11847     
38018 000084E0 D408             11848             MOV.L   #_GENSOK_LNGTH_MAX,R4                           ;30秒*500KHよりも距離があ
                                          る
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   572
PROGRAM NAME =

38019 000084E2 3243             11849             CMP/GE  R4,R2                                           ;
38020 000084E4 8900             11850             BT      ACC_REST_INFMK_200                              ;減速距離がまだまだ大きい(
                                          連続でもありえない)
38021                           11851     
38022 000084E6 E0FF             11852             MOV.B   #-1,R0                                          ;4BYTE以下なので減速演算し
                                          てもいい
38023                           11853                                                             ;演算オーバフロー対策
38024                           11854     
38025 000084E8                  11855     ACC_REST_INFMK_200                                                      ;
38026 000084E8 D407             11856             MOV.L   #_ACC_REST_FLG,R4                                       ;
38027 000084EA 2401             11857             MOV.W   R0,@R4                                                  ;0:まだまだ距離が
                                          十分ある
38028                           11858     
38029                           11859             SUB_END
38030                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38031 000084EC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38032                           11860             M_RTS
38033 000084EE 000B                   M           RTS                             ;RTSの後ろの
38034 000084F0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38035                           11861     
38036                           11862     ;       *******************************************
38037                           11863     ;       ***                                     ***
38038                           11864     ;       ***                                     ***
38039                           11865     ;       ***                                     ***
38040                           11866     ;       ***     振り子加速・減速演算            ***
38041                           11867     ;       ***                                     ***
38042                           11868     ;       ***                                     ***
38043                           11869     ;       *******************************************
38044                           11870             .EXPORT _DNM_TBL_CALC
38045                           11871             .EXPORT _DNM_START_ACC_CALC
38046                           11872             .EXPORT _DNM_STEP_ACC_CHANGE
38047                           11873     
38048                           11874             .EXPORT _DNM_SPD_CALC
38049                           11875             .EXPORT _DNM_ACC_CALC
38050                           11876             .IMPORT _DATA_CMP2B_R5R6_REF            ;DTMK
38051                           11877     
38052                           11878     ;       ===================================
38053                           11879     ;       ===  SCURVが有効であれば生かす  ===
38054                           11880     ;       ===================================
38055                           11881     
38056                           11882             .EXPORT _USE_IN_TBL_MOV                 ;
38057                           11883             .INCLUDE        "ssa_acct.inc"          ;//2010-09-21ふりこテーブル演算
38058                               1 I1  ;       ***************************************************
38059                               2 I1  ;       ***                                             ***
38060                               3 I1  ;       ***                                             ***
38061                               4 I1  ;       ***                                             ***
38062                               5 I1  ;       ***             振り子加速度演算                ***
38063                               6 I1  ;       ***                                             ***
38064                               7 I1  ;       ***                                             ***
38065                               8 I1  ;       ***                                             ***
38066                               9 I1  ;       ***************************************************
38067                              10 I1  ;       SSA_POS1.SRCにｲﾝｸﾙｰﾄﾞされる
38068                                 I1  ***** BEGIN-POOL *****
38069 000084F2 0000                   I1  ALIGNMENT CODE
38070 000084F4 00000000               I1  DATA FOR SOURCE-LINE 11822
38071 000084F8 00000000               I1  DATA FOR SOURCE-LINE 11827
38072 000084FC 00000000               I1  DATA FOR SOURCE-LINE 11832
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   573
PROGRAM NAME =

38073 00008500 00000000               I1  DATA FOR SOURCE-LINE 11839
38074 00008504 00E4E1C0               I1  DATA FOR SOURCE-LINE 11848
38075 00008508 00000000               I1  DATA FOR SOURCE-LINE 11856
38076                                 I1  ***** END-POOL *****
38077          00002710            11 I1  _ACC_PER_V_MAX  .EQU    10000   ;10000換算
38078          000003E8            12 I1  _ACC_CALC_TIM   .EQU    1000    ;1/1000msec
38079                              13 I1  ;
38080                              14 I1          .INCLUDE        "ssa_acrm.ext"          ; //
38081                               1 I2  ;//     *******************************************
38082                               2 I2  ;//     ***             振り子加速              ***
38083                               3 I2  ;//     *******************************************
38084                               4 I2  
38085                               5 I2  
38086                               6 I2  
38087                               7 I2          .GLOBAL         _ACC_LAST_SPD           ;最大速度から求まる
38088                               8 I2          .GLOBAL         _ACC_STOP_SPD           ;ステップ速度停止の中で求まる（停止予定の
                                          行程）
38089                               9 I2          .GLOBAL         _ACC_STEP_SPD           ;ステップ
38090                              10 I2  
38091                              11 I2          .GLOBAL         _ACC_LAST_POINT         ;最大速度から求まる
38092                              12 I2          .GLOBAL         _ACC_STOP_POINT         ;ステップ速度停止の中で求まる（停止予定の
                                          行程）
38093                              13 I2          .GLOBAL         _ACC_STEP_POINT         ;ステップ
38094                              14 I2  
38095                              15 I2          .GLOBAL         _ACC_STEP_FLG           ;BIT0:START BIT1:CALC BIT2:LIMIT
38096                              16 I2          .GLOBAL         _ACC_CTRL_STS1          ;
38097                              17 I2          .GLOBAL         _ACC_CTRL_STS2          ;
38098                              18 I2  
38099                              19 I2          .GLOBAL         _ACC_POS_STEP           ;
38100                              20 I2          .GLOBAL         _ACC_STR_STEP           ;
38101                              21 I2  
38102                              22 I2          .GLOBAL         _ACC_STOP_NUMBER        ;停止に使用するデータ番号=停止ステップ
38103                              23 I2          .GLOBAL         _ACC_STEP_NUMBER        ;加減速に使用するデータ番号=動作ステップ
38104                              24 I2          .GLOBAL         _ACC_ANS_ACCDAT         ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
38105                              25 I2  
38106                              26 I2  
38107                              27 I2  
38108                              28 I2  ;       ------------------------------------------
38109                              29 I2          .GLOBAL         _ACCB_ACCLAT_TIM1       ;最大加減速時間 設定
38110                              30 I2  
38111                              31 I2  
38112                              32 I2  ;
38113                              33 I2  ;       ・各段に変速テーブル（加速または減速）と停止テーブルが存在する
38114                              34 I2  ;       ・変速状態（加速中または減速）での停止は、そのテーブルの停止テーブルに従う
38115                              35 I2  ;       ・停止テーブルは常に増加方向:パルスが必要(パルスでサーチする)
38116                              36 I2  ;       ・加速テーブルも常に増加方向:パルスは不要(速度でサーチする)
38117                              37 I2  ;       ・減速テーブルは常に増加方向:パルスは不要(速度でサーチする)
38118                              38 I2  ;
38119                              39 I2  
38120                              40 I2  
38121                              41 I2  
38122                              42 I2          .GLOBAL         _ACC_INF1_STEPSP01      ;000%[前状態],050%[設定]
38123                              43 I2          .GLOBAL         _ACC_INF1_STEPSP02      ;050%[前状態],100%[設定]
38124                              44 I2          .GLOBAL         _ACC_INF1_STEPSP03      ;100%[前状態],100%[設定](この場合は前の状
                                          態の加減速をCOPY)
38125                              45 I2          .GLOBAL         _ACC_INF1_STEPSP04      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   574
PROGRAM NAME =

38126                              46 I2          .GLOBAL         _ACC_INF1_STEPSP05      ;
38127                              47 I2          .GLOBAL         _ACC_INF1_STEPSP06      ;
38128                              48 I2          .GLOBAL         _ACC_INF1_STEPSP07      ;
38129                              49 I2          .GLOBAL         _ACC_INF1_STEPSP08      ;
38130                              50 I2          .GLOBAL         _ACC_INF1_STEPSP09      ;
38131                              51 I2          .GLOBAL         _ACC_INF1_STEPSP10      ;
38132                              52 I2          .GLOBAL         _ACC_INF1_STEPSP11      ;
38133                              53 I2  
38134                              54 I2  
38135                              55 I2                                          ;INFOMAINTION
38136                              56 I2          .GLOBAL         _ACC_INF1_STEP001       ;//(加速:0/減速:1)
38137                              57 I2          .GLOBAL         _ACC_INF1_STEP002       ;//
38138                              58 I2          .GLOBAL         _ACC_INF1_STEP003       ;
38139                              59 I2          .GLOBAL         _ACC_INF1_STEP004       ;
38140                              60 I2          .GLOBAL         _ACC_INF1_STEP005       ;
38141                              61 I2          .GLOBAL         _ACC_INF1_STEP006       ;
38142                              62 I2          .GLOBAL         _ACC_INF1_STEP007       ;
38143                              63 I2          .GLOBAL         _ACC_INF1_STEP008       ;
38144                              64 I2          .GLOBAL         _ACC_INF1_STEP009       ;
38145                              65 I2          .GLOBAL         _ACC_INF1_STEP010       ;
38146                              66 I2          .GLOBAL         _ACC_INF1_STEP011       ;
38147                              67 I2  
38148                              68 I2  
38149                              69 I2  
38150                              70 I2  
38151                              71 I2  ;       ----------------------------------------------
38152                              72 I2  ;;;[2013-05-20 前から未使用];   最大速度時の加減速時間(設定値と同じもの：上下限チェック済
                                          み)
38153                              73 I2  ;;;[2013-05-20 前から未使用]    .GLOBAL         _ACC_BASEDAT_ACCTM      ;加減速時間
38154                              74 I2  ;;;[2013-05-20 前から未使用]
38155                              75 I2  ;;;[2013-05-20 前から未使用];   最大速度時の減速速度
38156                              76 I2  ;;;[2013-05-20 前から未使用]    .GLOBAL         _ACC_BASEDAT_STPVTBL    ;//
38157                              77 I2  ;;;[2013-05-20 前から未使用]
38158                              78 I2  ;;;[2013-05-20 前から未使用];   最大速度時の減速パルス
38159                              79 I2  ;;;[2013-05-20 前から未使用]    .GLOBAL         _ACC_BASEDAT_STPPTBL    ;//
38160                              80 I2  
38161                              81 I2  
38162                              82 I2  ;
38163                              83 I2  ;       ---------------------------------------------------
38164                              84 I2  ;各段可変速用の加減速速度
38165                              85 I2  
38166                              86 I2          .GLOBAL         _ACC_STEP001_VTBL       ;//
38167                              87 I2          .GLOBAL         _ACC_STEP002_VTBL       ;//
38168                              88 I2          .GLOBAL         _ACC_STEP003_VTBL       ;//
38169                              89 I2          .GLOBAL         _ACC_STEP004_VTBL       ;//
38170                              90 I2          .GLOBAL         _ACC_STEP005_VTBL       ;//
38171                              91 I2          .GLOBAL         _ACC_STEP006_VTBL       ;//
38172                              92 I2          .GLOBAL         _ACC_STEP007_VTBL       ;//
38173                              93 I2          .GLOBAL         _ACC_STEP008_VTBL       ;//
38174                              94 I2          .GLOBAL         _ACC_STEP009_VTBL       ;//
38175                              95 I2          .GLOBAL         _ACC_STEP010_VTBL       ;//
38176                              96 I2          .GLOBAL         _ACC_STEP011_VTBL       ;//
38177                              97 I2  
38178                              98 I2  
38179                              99 I2  ;       ---------------------------------------------------
38180                             100 I2  ;各段可変速用の加減速時間
38181                             101 I2  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   575
PROGRAM NAME =

38182                             102 I2          .GLOBAL         _ACC_STEP001_ACTM       ;
38183                             103 I2          .GLOBAL         _ACC_STEP002_ACTM       ;
38184                             104 I2          .GLOBAL         _ACC_STEP003_ACTM       ;
38185                             105 I2          .GLOBAL         _ACC_STEP004_ACTM       ;
38186                             106 I2          .GLOBAL         _ACC_STEP005_ACTM       ;
38187                             107 I2          .GLOBAL         _ACC_STEP006_ACTM       ;
38188                             108 I2          .GLOBAL         _ACC_STEP007_ACTM       ;
38189                             109 I2          .GLOBAL         _ACC_STEP008_ACTM       ;
38190                             110 I2          .GLOBAL         _ACC_STEP009_ACTM       ;
38191                             111 I2          .GLOBAL         _ACC_STEP010_ACTM       ;
38192                             112 I2          .GLOBAL         _ACC_STEP011_ACTM       ;
38193                             113 I2  
38194                             114 I2  ;       ================================================
38195                             115 I2  ;
38196                             116 I2  ;各段停止用の減速速度
38197                             117 I2  ;                                       格段の停止時
38198                             118 I2  
38199                             119 I2          .GLOBAL         _ACC_STOP001_VTBL       ;//
38200                             120 I2          .GLOBAL         _ACC_STOP002_VTBL       ;//
38201                             121 I2          .GLOBAL         _ACC_STOP003_VTBL       ;//
38202                             122 I2          .GLOBAL         _ACC_STOP004_VTBL       ;//
38203                             123 I2          .GLOBAL         _ACC_STOP005_VTBL       ;//
38204                             124 I2          .GLOBAL         _ACC_STOP006_VTBL       ;//
38205                             125 I2          .GLOBAL         _ACC_STOP007_VTBL       ;//
38206                             126 I2          .GLOBAL         _ACC_STOP008_VTBL       ;//
38207                             127 I2          .GLOBAL         _ACC_STOP009_VTBL       ;//
38208                             128 I2          .GLOBAL         _ACC_STOP010_VTBL       ;//
38209                             129 I2          .GLOBAL         _ACC_STOP011_VTBL       ;//
38210                             130 I2  
38211                             131 I2  ;各段停止用の減速パルス
38212                             132 I2  
38213                             133 I2          .GLOBAL         _ACC_STOP001_PTBL       ;//
38214                             134 I2          .GLOBAL         _ACC_STOP002_PTBL       ;//
38215                             135 I2          .GLOBAL         _ACC_STOP003_PTBL       ;//
38216                             136 I2          .GLOBAL         _ACC_STOP004_PTBL       ;//
38217                             137 I2          .GLOBAL         _ACC_STOP005_PTBL       ;//
38218                             138 I2          .GLOBAL         _ACC_STOP006_PTBL       ;//
38219                             139 I2          .GLOBAL         _ACC_STOP007_PTBL       ;//
38220                             140 I2          .GLOBAL         _ACC_STOP008_PTBL       ;//
38221                             141 I2          .GLOBAL         _ACC_STOP009_PTBL       ;//
38222                             142 I2          .GLOBAL         _ACC_STOP010_PTBL       ;//
38223                             143 I2          .GLOBAL         _ACC_STOP011_PTBL       ;//
38224                             144 I2  
38225                             145 I2  
38226                             146 I2          .GLOBAL         _ACC_STOP001_ACTM       ;
38227                             147 I2          .GLOBAL         _ACC_STOP002_ACTM       ;
38228                             148 I2          .GLOBAL         _ACC_STOP003_ACTM       ;
38229                             149 I2          .GLOBAL         _ACC_STOP004_ACTM       ;
38230                             150 I2          .GLOBAL         _ACC_STOP005_ACTM       ;
38231                             151 I2          .GLOBAL         _ACC_STOP006_ACTM       ;
38232                             152 I2          .GLOBAL         _ACC_STOP007_ACTM       ;
38233                             153 I2          .GLOBAL         _ACC_STOP008_ACTM       ;
38234                             154 I2          .GLOBAL         _ACC_STOP009_ACTM       ;
38235                             155 I2          .GLOBAL         _ACC_STOP010_ACTM       ;
38236                             156 I2          .GLOBAL         _ACC_STOP011_ACTM       ;
38237                             157 I2  
38238                             158 I2  ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   576
PROGRAM NAME =

38239                             159 I2  ;       ***                                     ***
38240                             160 I2  ;       ***     加速度パターン入れ替え          ***
38241                             161 I2  ;       ***                                     ***
38242                             162 I2  ;       *******************************************
38243                             163 I2          .GLOBAL         _ACC_IN_TBL_TIM         ;255msec時間 ループ数は256
38244                             164 I2          .GLOBAL         _ACC_IN_TBLUSE          ;
38245                             165 I2  
38246                             166 I2  
38247                             167 I2  ;       -----------------------------------
38248                             168 I2  ;       ---                             ---
38249                             169 I2  ;       ---     ｵｰﾊﾞﾗｲﾄﾞ対策            ---
38250                             170 I2  ;       ---                             ---
38251                             171 I2  ;       -----------------------------------
38252                             172 I2          .GLOBAL         _ACC_REST_ABS_PLSX      ;//比率倍(CPUAのみ使用)
38253                             173 I2          .GLOBAL         _ACC_CALC_SPDX          ;
38254                             174 I2          .GLOBAL         _ACC_CALC_SPD           ;
38255                             175 I2          .GLOBAL         _ACC_POSCTL_SV_SPDX             ;                               ;･
                                          ････
38256                             176 I2          .GLOBAL         _ACC_POSCTL_RL_SPDX             ;
38257                             177 I2          .GLOBAL         _ACC_POSCTL_SV_UP_ACCX          ;
38258                             178 I2          .GLOBAL         _ACC_POSCTL_SV_DN_ACCX          ;
38259                             179 I2  
38260                             180 I2  
38261                             181 I2  ;//     -----------------------------------
38262                             182 I2  ;//     ---     2013-02-05              ---
38263                             183 I2  ;//     -----------------------------------
38264                             184 I2          .GLOBAL _SVX_OBJ_SPD_OLDTOP;
38265                             185 I2          .GLOBAL _SVX_UPAREA_SPD0OLD;
38266                             186 I2  
38267                              15 I1  
38268                              16 I1  
38269                              17 I1  
38270                              18 I1          .IMPORT         _DNM_MAXSPM_ACCLAT_MAK          ;2010-10-05
38271                              19 I1  
38272                              20 I1  
38273                              21 I1  ;//     *******************************************
38274                              22 I1  ;//     ***             振り子加速              ***
38275                              23 I1  ;//     *******************************************
38276                              24 I1  ;       ***************************************************
38277                              25 I1  ;       ***                                             ***
38278                              26 I1  ;       ***             ふりこ加速テーブル              ***
38279                              27 I1  ;       ***             パラメータに入れる              ***
38280                              28 I1  ;       ***                                             ***
38281                              29 I1  ;       ***************************************************
38282                              30 I1          .GLOBAL         _CB_SYS_PARTBL001       ;CODE:ｺｰﾄﾞ存在なければﾃﾞｰﾀなし
38283                              31 I1          .GLOBAL         _CB_SYS_PARTBL002       ;1:加速度ﾃｰﾌﾞﾙ使用NO.[1個より増えた場合用]
38284                              32 I1          .GLOBAL         _CB_SYS_PARTBL003       ;1:最大回転速度/加減速時間ﾃｰﾌﾞﾙ使用[1個よ
                                          り増えた場合用]
38285                              33 I1          .GLOBAL         _CB_SYS_PARTBL004       ;加速度ﾃｰﾌﾞﾙ1　<設定位置１未満
38286                              34 I1          .GLOBAL         _CB_SYS_PARTBL005       ;加速度ﾃｰﾌﾞﾙ2　位置1≦＜位置2
38287                              35 I1  
38288                              36 I1  
38289                              37 I1  ;       ***************************************************
38290                              38 I1  ;       ***                                             ***
38291                              39 I1  ;       ***             mm-最大回転数,加減速時間        ***
38292                              40 I1  ;       ***                                             ***
38293                              41 I1  ;       ***************************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   577
PROGRAM NAME =

38294                              42 I1          .GLOBAL         _CB_SYS_DNMTBL1_CNT             ;
38295                              43 I1          .GLOBAL         _CB_SYS_DNMTBL1_DATA_TOP        ;
38296                              44 I1          .GLOBAL         _CB_SYS_ACCTBL1_CNT             ;
38297                              45 I1          .GLOBAL         _CB_SYS_ACCTBL1_IN_TOP          ;
38298                              46 I1          .GLOBAL         _CB_SYS_ACCTBL2_CNT             ;
38299                              47 I1          .GLOBAL         _CB_SYS_ACCTBL2_IN_TOP          ;
38300                              48 I1          .GLOBAL         _CB_SYS_ACCTBL3_CNT             ;
38301                              49 I1          .GLOBAL         _CB_SYS_ACCTBL3_IN_TOP          ;
38302                              50 I1  
38303                              51 I1          .import         _SYS2_DT_LOAD
38304                              52 I1  
38305                              53 I1  ;       ***************************************************
38306                              54 I1  ;       ***                                             ***
38307                              55 I1  ;       ***             速度テーブル                    ***
38308                              56 I1  ;       ***                                             ***
38309                              57 I1  ;       ***************************************************
38310 0000850C                     58 I1          .ALIGN  4                                               ;
38311                              59 I1  ;;;;;   .INCLUDE        "ssa_atbl.inc"          ;//2010-09-21
38312                              60 I1  
38313                              61 I1          .AIF    0 EQ    0
38314                              62 C   
38315                              63 C           .IMPORT _PDTRB
38316                              64 C           .MACRO  _A_WDT_CLR
38317                              65 C           PUSH_REG1 R10
38318                              66 C           PUSH_REG1 R11
38319                              67 C           PUSH_REG1 R12
38320                              68 C   
38321                              69 C           DI_PUSH_SR_SHn  WK_REG1=R10,WK_REG2=R11
38322                              70 C   
38323                              71 C           MOV.L   #_PDTRB,R10
38324                              72 C           MOV.W   @R10,R11
38325                              73 C           MOV.W   #NBIT2,R12              ;;;;2012-10-18  MOV.W   #NBIT0,R12      ; PORT18
38326                              74 C           AND     R12,R11                 ;
38327                              75 C           MOV.W   R11,@R10                ;
38328                              76 C           MOV.W   #BIT2,R12               ;;;;2012-10-18  MOV.W   #BIT0,R12       ;
38329                              77 C           OR      R12,R11                 ;
38330                              78 C           MOV.W   R11,@R10                ;
38331                              79 C   
38332                              80 C           EI_POP_SR_SHn                   ;
38333                              81 C   
38334                              82 C           POP_REG1 R12
38335                              83 C           POP_REG1 R11
38336                              84 C           POP_REG1 R10
38337                              85 C           .ENDM
38338                              86 C   
38339                              87             .AELSE
38340                              88     ;CPU-Bは5msecでたたいているから不要
38341                              89             .MACRO  _A_WDT_CLR
38342                              90             .ENDM
38343                              91     
38344                              92     
38345                              93             .AENDI
38346                              94 I1  
38347                              95 I1  ;
38348                              96 I1  ;       _DNM_TBL_CALC:  ﾃｰﾌﾞﾙ作成[DTMK]
38349                              97 I1  ;       _DNM_START_ACC_CALC:API 起動 往路/復路CHANGE [POS1]
38350                              98 I1  ;       _DNM_STEP_ACC_CHANGE:API 工程切替 ;[POS1]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   578
PROGRAM NAME =

38351                              99 I1  ;       _DNM_SPD_CALC:速度演算→ACC算出,反映[POS1]
38352                             100 I1  ;
38353                             101 I1  
38354                             102 I1  
38355                             103 I1  ;       ***************************************************
38356                             104 I1  ;       ***                                             ***
38357                             105 I1  ;       ***                                             ***
38358                             106 I1  ;       ***                                             ***
38359                             107 I1  ;       ***                                             ***
38360                             108 I1  ;       ***                                             ***
38361                             109 I1  ;       ***                                             ***
38362                             110 I1  ;       ***             振り子加速度テーブル作成        ***
38363                             111 I1  ;       ***                                             ***
38364                             112 I1  ;       ***                                             ***
38365                             113 I1  ;       ***                                             ***
38366                             114 I1  ;       ***                                             ***
38367                             115 I1  ;       ***                                             ***
38368                             116 I1  ;       ***                                             ***
38369                             117 I1  ;       ***************************************************
38370                             118 I1  ;       dtmkにて演算(WDT-CLR必要)
38371 0000850C                    119 I1          .ALIGN  4                                               ;
38372 0000850C                    120 I1  _DNM_TBL_CALC:
38373                             121 I1          SUB_START
38374 0000850C 4F22                   M           STS.L   PR,@-R15                ;[必要]
38375                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38376                             122 I1  
38377                             123 I1          FAR_JSR #_CHK_DNM_SPEC_MOD1,R0          ;
38378 0000850E D006                   M           MOV.L   #_CHK_DNM_SPEC_MOD1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38379 00008510 400B                   M           JSR     @R0                     ;
38380 00008512 0009                   M           NOP                                     ;
38381 00008514 2008               124 I1          TST     R0,R0
38382                             125 I1          TST_BIT_OF DNM_TBLCAL_200                               ;ふりこでない
38383 00008516 890B                   M           BT      DNM_TBLCAL_200
38384                             126 I1  
38385                             127 I1          FAR_JSR #_DNM_MOTION_DATA_MAK,R0                        ;振り子時
38386 00008518 D004                   M           MOV.L   #_DNM_MOTION_DATA_MAK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38387 0000851A 400B                   M           JSR     @R0                     ;
38388 0000851C 0009                   M           NOP                                     ;
38389 0000851E 9001               128 I1          MOV.W   #1,R0
38390                             129 I1          M_BRA   DNM_TBLCAL_300                                  ;
38391 00008520 A007                   M           BRA     DNM_TBLCAL_300
38392 00008522 0009                   M           NOP
38393                             130 I1  
38394                                 I1  ***** BEGIN-POOL *****
38395 00008524 0001                   I1  DATA FOR SOURCE-LINE 128
38396 00008526 0000                   I1  ALIGNMENT CODE
38397 00008528 00000000               I1  DATA FOR SOURCE-LINE 123
38398 0000852C 00000000               I1  DATA FOR SOURCE-LINE 127
38399                                 I1  ***** END-POOL *****
38400 00008530                    131 I1  DNM_TBLCAL_200:
38401 00008530 200A               132 I1          XOR     R0,R0
38402 00008532                    133 I1  DNM_TBLCAL_300:
38403 00008532 D104               134 I1          MOV.L   #_DNM_ACC_CALFLG,R1                             ;//0/1
38404 00008534 2101               135 I1          MOV.W   R0,@R1                                          ;
38405                             136 I1  
38406                             137 I1  
38407                             138 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   579
PROGRAM NAME =

38408                             139 I1  ;       ============ ﾃﾞﾊﾞｯｸ===========
38409                             140 I1   .AIF   0 EQ    0
38410 00008536 D104               141 C           MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
38411                             142      .AELSE
38412                             143             MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
38413                             144      .AENDI
38414 00008538 6011               145 I1          MOV.W   @R1,R0
38415 0000853A D104               146 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB258,R1     ;258,328
38416 0000853C 2101               147 I1          MOV.W   R0,@R1
38417                             148 I1  
38418                             149 I1          SUB_END
38419                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38420 0000853E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38421                             150 I1          M_RTS
38422 00008540 000B                   M           RTS                             ;RTSの後ろの
38423 00008542 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38424                             151 I1  
38425                             152 I1  
38426                             153 I1  ;       *******************************************
38427                             154 I1  ;       ***                                     ***
38428                             155 I1  ;       ***             各データ作成CALL        ***
38429                             156 I1  ;       ***                                     ***
38430                             157 I1  ;       *******************************************
38431                             158 I1  ;       速度演算結果 * 速度比率/100　･･･速度
38432                             159 I1  ;       ﾃｰﾌﾞﾙの距離を速度比率/100････残距離比較
38433                             160 I1  ;       残り距離*100/速度比率
38434                             161 I1  ;
38435                             162 I1  ;       [起動時に比率を取込む]
38436                             163 I1  ;
38437                             164 I1  ;       --------2015-03-15[ふりこの設定状態]
38438                             165 I1  
38439                             166 I1          .MACRO  DNM_INFO_SET SETCOD
38440                             167 I1  
38441                             168 I1          MOV.W   #\SETCOD,R0
38442                             169 I1   .AIF   0 EQ    0
38443                             170 I1          MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
38444                             171 I1   .AELSE
38445                             172 I1          MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
38446                             173 I1   .AENDI
38447                             174 I1          MOV.W   R0,@R1                          ;
38448                             175 I1  
38449                             176 I1          .ENDM
38450                             177 I1  
38451                             178 I1          .IMPORT _SH4_DNM_CALC_INFO              ;
38452                             179 I1          .IMPORT _SH2_DNM_CALC_INFO              ;
38453                             180 I1  
38454                             181 I1  
38455                                 I1  ***** BEGIN-POOL *****
38456 00008544 00000000               I1  DATA FOR SOURCE-LINE 134
38457 00008548 00000000               I1  DATA FOR SOURCE-LINE 141
38458 0000854C 00000000               I1  DATA FOR SOURCE-LINE 146
38459                                 I1  ***** END-POOL *****
38460 00008550                    182 I1  _DNM_MOTION_DATA_MAK:
38461                             183 I1          SUB_START
38462 00008550 4F22                   M           STS.L   PR,@-R15                ;[必要]
38463                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38464                             184 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   580
PROGRAM NAME =

38465                             185 I1  
38466                             186 I1  
38467 00008552 277A               187 I1          XOR     R7,R7                           ;
38468 00008554 D50E               188 I1          MOV.L   #_SVP_UPAREA_SPD0,R5            ;基準速度(戻速度)
38469 00008556 D60F               189 I1          MOV.L   #_SVX_UPAREA_SPD0OLD,R6         ;
38470                             190 I1          FAR_JSR #_DATA_CMP2B_R5R6_REF,R0        ;
38471 00008558 D00F                   M           MOV.L   #_DATA_CMP2B_R5R6_REF,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38472 0000855A 400B                   M           JSR     @R0                     ;
38473 0000855C 0009                   M           NOP                                     ;
38474                             191 I1  
38475                             192 I1  
38476 0000855E 9315               193 I1          MOV.W   #D'20,R3                        ;
38477 00008560 D50E               194 I1          MOV.L   #_SVPX1_OBJECT_SPD_TOP,R5               ;
38478 00008562 D60F               195 I1          MOV.L   #_SVX_OBJ_SPD_OLDTOP,R6         ;
38479                             196 I1  
38480 00008564                    197 I1  ACC_INFMAK1_DTCHGCHKLOP
38481                             198 I1          FAR_JSR #_DATA_CMP2B_R5R6_REF,R0        ;
38482 00008564 D00C                   M           MOV.L   #_DATA_CMP2B_R5R6_REF,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38483 00008566 400B                   M           JSR     @R0                     ;
38484 00008568 0009                   M           NOP                                     ;
38485 0000856A 73FF               199 I1          ADD     #-1,R3                          ;
38486 0000856C 2338               200 I1          TST     R3,R3                           ;
38487                             201 I1          TST_BIT_ON ACC_INFMAK1_DTCHGCHKLOP      ;
38488 0000856E 8BF9                   M           BF      ACC_INFMAK1_DTCHGCHKLOP
38489 00008570 2778               202 I1          TST     R7,R7                           ;
38490                             203 I1          TST_BIT_ON ACC_INFMAK1_START            ;[速度設定変更有り]
38491 00008572 8B1D                   M           BF      ACC_INFMAK1_START
38492                             204 I1  
38493 00008574 D10B               205 I1          MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
38494 00008576 6011               206 I1          MOV.W   @R1,R0                          ;
38495 00008578 D10B               207 I1          MOV.L   #_exq_err_flg,R1                ;//異常ﾗｯﾁ
38496 0000857A 6211               208 I1          MOV.W   @R1,R2                          ;
38497 0000857C 202B               209 I1          OR      R2,R0                           ;
38498 0000857E 2008               210 I1          TST     R0,R0                           ;
38499                             211 I1          TST_BIT_ON ACC_INFMAK1_START050         ;異常状態での演算
38500 00008580 8B1E                   M           BF      ACC_INFMAK1_START050
38501                             212 I1  
38502                             213 I1          FAR_JSR #_API_SETACC_STS_CLR,R0         ;
38503 00008582 D00A                   M           MOV.L   #_API_SETACC_STS_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38504 00008584 400B                   M           JSR     @R0                     ;
38505 00008586 0009                   M           NOP                                     ;
38506                             214 I1  
38507                             215 I1          M_BRA   ACC_INFMAK1_EXT                 ;
38508 00008588 A029                   M           BRA     ACC_INFMAK1_EXT
38509 0000858A 0009                   M           NOP
38510                             216 I1  
38511                             217 I1  ;       ----------[CPUA/B間で演算完了状態であれば 反映して良い]--------
38512                                 I1  ***** BEGIN-POOL *****
38513 0000858C 0014                   I1  DATA FOR SOURCE-LINE 193
38514 0000858E 0000                   I1  ALIGNMENT CODE
38515 00008590 00000000               I1  DATA FOR SOURCE-LINE 188
38516 00008594 00000000               I1  DATA FOR SOURCE-LINE 189
38517 00008598 00000000               I1  DATA FOR SOURCE-LINE 190,198
38518 0000859C 00000000               I1  DATA FOR SOURCE-LINE 194
38519 000085A0 00000000               I1  DATA FOR SOURCE-LINE 195
38520 000085A4 00000000               I1  DATA FOR SOURCE-LINE 205
38521 000085A8 00000000               I1  DATA FOR SOURCE-LINE 207
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   581
PROGRAM NAME =

38522 000085AC 00000000               I1  DATA FOR SOURCE-LINE 213
38523                                 I1  ***** END-POOL *****
38524 000085B0                    218 I1  ACC_INFMAK1_START
38525                             219 I1          DNM_INFO_SET SETCOD=BIT0;       ;演算中
38526                                 M   
38527 000085B0 9003                   M           MOV.W   #BIT0,R0
38528                                 M    .AIF   0 EQ    0
38529 000085B2 D102                   C           MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
38530                                      .AELSE
38531                                             MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
38532                                      .AENDI
38533 000085B4 2101                   M           MOV.W   R0,@R1                          ;
38534                                 M   
38535                             220 I1          M_BRA   ACC_INFMAK1_START100            ;
38536 000085B6 A006                   M           BRA     ACC_INFMAK1_START100
38537 000085B8 0009                   M           NOP
38538                             221 I1  
38539                                 I1  ***** BEGIN-POOL *****
38540 000085BA 0001                   I1  DATA FOR SOURCE-LINE 219
38541 000085BC 00000000               I1  DATA FOR SOURCE-LINE 219
38542                                 I1  ***** END-POOL *****
38543 000085C0                    222 I1  ACC_INFMAK1_START050:
38544                             223 I1          DNM_INFO_SET SETCOD=BIT1                ;演算中
38545                                 M   
38546 000085C0 9010                   M           MOV.W   #BIT1,R0
38547                                 M    .AIF   0 EQ    0
38548 000085C2 D109                   C           MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
38549                                      .AELSE
38550                                             MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
38551                                      .AENDI
38552 000085C4 2101                   M           MOV.W   R0,@R1                          ;
38553                                 M   
38554                             224 I1  
38555 000085C6                    225 I1  ACC_INFMAK1_START100:
38556                             226 I1  
38557                             227 I1          FAR_JSR #_SYS2_DT_LOAD,R0                       ;
38558 000085C6 D009                   M           MOV.L   #_SYS2_DT_LOAD,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38559 000085C8 400B                   M           JSR     @R0                     ;
38560 000085CA 0009                   M           NOP                                     ;
38561                             228 I1  
38562                             229 I1  
38563                             230 I1          FAR_JSR #_ACC_STEP_INF_MAKE1,R0         ;
38564 000085CC D008                   M           MOV.L   #_ACC_STEP_INF_MAKE1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38565 000085CE 400B                   M           JSR     @R0                     ;
38566 000085D0 0009                   M           NOP                                     ;
38567                             231 I1                                                  ;_ACC_INF1_STEPSP01     ;000%[前状態],050%
                                          [設定]
38568                             232 I1                                                  ;_ACC_INF1_STEP001      ;BIT2=[0=加速/1=減
                                          速]
38569                             233 I1                                                  ;
38570                             234 I1          FAR_JSR #_ACC_TBL_MAKE1,R0              ;
38571 000085D2 D008                   M           MOV.L   #_ACC_TBL_MAKE1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38572 000085D4 400B                   M           JSR     @R0                     ;
38573 000085D6 0009                   M           NOP                                     ;
38574                             235 I1  
38575                             236 I1  
38576                             237 I1          DNM_INFO_SET SETCOD=BIT2                ;演算すべき状態、演算結果を反映して良い状
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   582
PROGRAM NAME =

                                          態
38577                                 M   
38578 000085D8 9005                   M           MOV.W   #BIT2,R0
38579                                 M    .AIF   0 EQ    0
38580 000085DA D103                   C           MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
38581                                      .AELSE
38582                                             MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
38583                                      .AENDI
38584 000085DC 2101                   M           MOV.W   R0,@R1                          ;
38585                                 M   
38586                             238 I1  
38587 000085DE                    239 I1  ACC_INFMAK1_EXT
38588                             240 I1  
38589                             241 I1          SUB_END
38590                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38591 000085DE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38592                             242 I1          M_RTS
38593 000085E0 000B                   M           RTS                             ;RTSの後ろの
38594 000085E2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38595                             243 I1  
38596                             244 I1  ;       ***************************************************
38597                             245 I1  ;       ***                                             ***
38598                             246 I1  ;       *** 自分がBIT2=1で相手がBIT2=1またはBIT3=1      ***
38599                             247 I1  ;       *** なら演算を反映する                          ***
38600                             248 I1  ;       ***                                             ***
38601                             249 I1  ;       ***************************************************
38602                             250 I1  ;
38603                             251 I1  ;
38604                             252 I1          .EXPORT _API_SETACC_INFO_GET
38605                                 I1  ***** BEGIN-POOL *****
38606 000085E4 0002                   I1  DATA FOR SOURCE-LINE 223
38607 000085E6 0004                   I1  DATA FOR SOURCE-LINE 237
38608 000085E8 00000000               I1  DATA FOR SOURCE-LINE 223,237
38609 000085EC 00000000               I1  DATA FOR SOURCE-LINE 227
38610 000085F0 00000000               I1  DATA FOR SOURCE-LINE 230
38611 000085F4 00000000               I1  DATA FOR SOURCE-LINE 234
38612                                 I1  ***** END-POOL *****
38613 000085F8                    253 I1  _API_SETACC_INFO_GET:
38614                             254 I1          SUB_START
38615 000085F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
38616                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38617                             255 I1  
38618                             256 I1  
38619                             257 I1   .AIF   0 EQ    0
38620 000085FA D507               258 C           MOV.L   #_SH4_DNM_CALC_INFO,R5          ;SH4 TO SH2 +SH4演算部
38621 000085FC D607               259 C           MOV.L   #_SH2_DNM_CALC_INFO,R6          ;SH2 TO SH4 +SH2演算部
38622                             260 C   
38623                             261      .AELSE
38624                             262             MOV.L   #_SH2_DNM_CALC_INFO,R5          ;SH2 TO SH4 +SH2演算部
38625                             263             MOV.L   #_SH4_DNM_CALC_INFO,R6          ;SH4 TO SH2 +SH4演算部
38626                             264      .AENDI
38627 000085FE 6051               265 I1          MOV.W   @R5,R0                          ;
38628 00008600 6261               266 I1          MOV.W   @R6,R2
38629 00008602 6423               267 I1          MOV     R2,R4
38630 00008604 240B               268 I1          OR      R0,R4
38631                             269 I1  
38632 00008606 2448               270 I1          TST     R4,R4                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   583
PROGRAM NAME =

38633                             271 I1          TST_BIT_OF API_SETACC_INFOGET_CALOK2    ;演算してもいいよ
38634 00008608 890D                   M           BT      API_SETACC_INFOGET_CALOK2
38635                             272 I1  
38636 0000860A C804               273 I1          TST     #BIT2,R0                        ;自分がON
38637                             274 I1          TST_BIT_OF API_SETACC_INFOGET_CALNG     ;
38638 0000860C 890E                   M           BT      API_SETACC_INFOGET_CALNG
38639                             275 I1  
38640 0000860E E40C               276 I1          MOV.B   #(BIT3+BIT2),R4                 ;
38641 00008610 2248               277 I1          TST     R4,R2                           ;
38642                             278 I1          TST_BIT_ON API_SETACC_INFOGET_CALOK1    ;
38643 00008612 8B05                   M           BF      API_SETACC_INFOGET_CALOK1
38644                             279 I1          M_BRA   API_SETACC_INFOGET_CALNG        ;
38645 00008614 A00A                   M           BRA     API_SETACC_INFOGET_CALNG
38646 00008616 0009                   M           NOP
38647                             280 I1  
38648                             281 I1  
38649                                 I1  ***** BEGIN-POOL *****
38650 00008618 00000000               I1  DATA FOR SOURCE-LINE 258
38651 0000861C 00000000               I1  DATA FOR SOURCE-LINE 259
38652                                 I1  ***** END-POOL *****
38653 00008620                    282 I1  API_SETACC_INFOGET_CALOK1:
38654 00008620 E001               283 I1          MOV.B   #BIT0,R0                        ;演算しろ[完了にしてね！！]
38655                             284 I1          M_BRA   API_SETACC_INFOGET_CALEXT       ;
38656 00008622 A004                   M           BRA     API_SETACC_INFOGET_CALEXT
38657 00008624 0009                   M           NOP
38658                             285 I1  
38659 00008626                    286 I1  API_SETACC_INFOGET_CALOK2:
38660 00008626 E002               287 I1          MOV.B   #BIT1,R0                        ;完了にしないでね
38661                             288 I1          M_BRA   API_SETACC_INFOGET_CALEXT
38662 00008628 A001                   M           BRA     API_SETACC_INFOGET_CALEXT
38663 0000862A 0009                   M           NOP
38664                             289 I1  
38665 0000862C                    290 I1  API_SETACC_INFOGET_CALNG:
38666 0000862C 200A               291 I1          XOR     R0,R0
38667 0000862E                    292 I1  API_SETACC_INFOGET_CALEXT:
38668                             293 I1  
38669                             294 I1          SUB_END
38670                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38671 0000862E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38672                             295 I1          M_RTS
38673 00008630 000B                   M           RTS                             ;RTSの後ろの
38674 00008632 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38675                             296 I1  
38676                             297 I1          .EXPORT _API_SETACC_STS_END             ;
38677                             298 I1  
38678 00008634                    299 I1  _API_SETACC_STS_END:
38679                             300 I1          SUB_START
38680 00008634 4F22                   M           STS.L   PR,@-R15                ;[必要]
38681                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38682                             301 I1  
38683                             302 I1          DNM_INFO_SET SETCOD=BIT3                ;演算終了した状態
38684                                 M   
38685 00008636 9004                   M           MOV.W   #BIT3,R0
38686                                 M    .AIF   0 EQ    0
38687 00008638 D102                   C           MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
38688                                      .AELSE
38689                                             MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   584
PROGRAM NAME =

38690                                      .AENDI
38691 0000863A 2101                   M           MOV.W   R0,@R1                          ;
38692                                 M   
38693                             303 I1  
38694                             304 I1          SUB_END
38695                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38696 0000863C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38697                             305 I1          M_RTS
38698 0000863E 000B                   M           RTS                             ;RTSの後ろの
38699 00008640 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38700                             306 I1  
38701                             307 I1  ;       ----CLRはCPUAはCPUAとCPUBを行う-----------
38702                                 I1  ***** BEGIN-POOL *****
38703 00008642 0008                   I1  DATA FOR SOURCE-LINE 302
38704 00008644 00000000               I1  DATA FOR SOURCE-LINE 302
38705                                 I1  ***** END-POOL *****
38706 00008648                    308 I1  _API_SETACC_STS_CLR:
38707                             309 I1          SUB_START
38708 00008648 4F22                   M           STS.L   PR,@-R15                ;[必要]
38709                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38710                             310 I1   .AIF   0 EQ    0
38711 0000864A D507               311 C           MOV.L   #_SH4_DNM_CALC_INFO,R5          ;SH4 TO SH2 +SH4演算部
38712 0000864C 6051               312 C           MOV.W   @R5,R0                          ;
38713 0000864E D607               313 C           MOV.L   #_SH2_DNM_CALC_INFO,R6          ;SH2 TO SH4 +SH2演算部
38714 00008650 6261               314 C           MOV.W   @R6,R2                          ;
38715                             315 C   ;;;;[本当はこっち]      MOV.B   #BIT3,R4
38716 00008652 E404               316 C           MOV.B   #BIT2,R4                        ;ｽｷｬﾝﾃｽﾄ
38717 00008654 3240               317 C           CMP/EQ  R4,R2                           ;(R2==R0 R0?BIT3　の論理は危険 )
38718 00008656 8B04               318 C           BF      API_SETACC_STSCLR_EXT           ;
38719 00008658 3040               319 C           CMP/EQ  R4,R0                           ;完了？
38720 0000865A 8B02               320 C           BF      API_SETACC_STSCLR_EXT           ;
38721                             321 C   
38722 0000865C 200A               322 C           XOR     R0,R0                           ;IDEL
38723 0000865E 2501               323 C           MOV.W   R0,@R5                          ;
38724 00008660 2601               324 C           MOV.W   R0,@R6                          ;
38725                             325 C   
38726 00008662                    326 C   API_SETACC_STSCLR_EXT:
38727                             327 C   
38728                             328 I1   .AENDI
38729                             329 I1  
38730                             330 I1          SUB_END
38731                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38732 00008662 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38733                             331 I1          M_RTS
38734 00008664 000B                   M           RTS                             ;RTSの後ろの
38735 00008666 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38736                             332 I1  
38737                             333 I1  
38738                             334 I1  
38739                             335 I1  ;       *******************************************
38740                             336 I1  ;       ***                                     ***
38741                             337 I1  ;       ***             ステップINFOMATION      ***
38742                             338 I1  ;       ***                                     ***
38743                             339 I1  ;       *******************************************
38744                             340 I1  
38745                             341 I1  
38746                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   585
PROGRAM NAME =

38747 00008668 00000000               I1  DATA FOR SOURCE-LINE 311
38748 0000866C 00000000               I1  DATA FOR SOURCE-LINE 313
38749                                 I1  ***** END-POOL *****
38750 00008670                    342 I1  _ACC_STEP_INF_MAKE1:
38751                             343 I1          SUB_START
38752 00008670 4F22                   M           STS.L   PR,@-R15                ;[必要]
38753                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38754                             344 I1  
38755                             345 I1  
38756 00008672 DE0F               346 I1          MOV.L   #_SETX_POS_SDAT1_INF1,R14               ;往路情報 long data(BIT1=0正/1逆,
                                          BIT0=0 速度停止)
38757                             347 I1  
38758 00008674 D10F               348 I1          MOV.L   #_SETX_POS_STEP_MAX,R1                  ;//SETXは設定=1~10 戻り分+1してな
                                          い
38759 00008676 6511               349 I1          MOV.W   @R1,R5                                  ;
38760 00008678 7501               350 I1          ADD     #1,R5
38761                             351 I1  
38762                             352 I1  
38763 0000867A D80F               353 I1          MOV.L   #_ACC_INF1_STEP001,R8                   ;BIT2=[0=加速/1=減速]
38764                             354 I1                                                          ;BIT1=[0=正,1=逆]
38765                             355 I1                                                          ;BIT0=[0=停/1=連続]
38766                             356 I1  
38767 0000867C D90F               357 I1          MOV.L   #_ACC_INF1_STEPSP01,R9                  ;000%[前状態],050%[設定]
38768                             358 I1  
38769 0000867E 277A               359 I1          XOR     R7,R7                                   ;(前回速度)
38770 00008680 DA0F               360 I1          MOV.L   #_SVPX1_OBJECT_SPD_TOP,R10              ;
38771                             361 I1  
38772 00008682                    362 I1  ACC_STEPINF_MAK1_100LOP:                                        ;
38773                             363 I1  
38774                             364 I1  
38775 00008682 62A5               365 I1          MOV.W   @R10+,R2                                ;
38776                             366 I1  
38777 00008684 9412               367 I1          MOV.W   #1,R4                                   ;
38778 00008686 3540               368 I1          CMP/EQ  R4,R5                                   ;"残りｽﾃｯﾌﾟ数=1"(戻りﾃﾞｰﾀ)
38779 00008688 8B01               369 I1          BF      ACC_STEPINF_MAK1_120                    ;
38780 0000868A D10E               370 I1          MOV.L   #_SVP_UPAREA_SPD0,R1                    ;0.1%　戻り速度
38781 0000868C 6211               371 I1          MOV.W   @R1,R2                                  ;
38782 0000868E                    372 I1  ACC_STEPINF_MAK1_120:
38783                             373 I1          FAR_JSR #_R2_MUL10_ANS_R2,R1                    ;
38784 0000868E D10E                   M           MOV.L   #_R2_MUL10_ANS_R2,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38785 00008690 410B                   M           JSR     @R1                     ;
38786 00008692 0009                   M           NOP                                     ;
38787                             374 I1  
38788                             375 I1  
38789                             376 I1  ;R7=0,R2=sv
38790                             377 I1  
38791 00008694 60E6               378 I1          MOV.L   @R14+,R0                                ;
38792 00008696 C9FB               379 I1          AND     #LOW ~BIT2,R0                           ;
38793                             380 I1  
38794 00008698 3270               381 I1          CMP/EQ  R7,R2                                   ;R7(OLD)==R2
38795 0000869A 8B17               382 I1          BF      ACC_STEPINF_MAK1_180                    ;NO
38796                             383 I1  
38797                             384 I1  ;       ====== 速度が同じ場合、前の段の加速・減速情報を使用する
38798 0000869C 78FE               385 I1          ADD     #-2,R8                                  ;
38799 0000869E 6185               386 I1          MOV.W   @R8+,R1                                 ;
38800 000086A0 9405               387 I1          MOV.W   #BIT2,R4                                ;
38801 000086A2 2148               388 I1          TST     R4,R1                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   586
PROGRAM NAME =

38802                             389 I1          TST_BIT_OF ACC_STEPINF_MAK1_200                 ;
38803 000086A4 8915                   M           BT      ACC_STEPINF_MAK1_200
38804 000086A6 CB04               390 I1          OR      #BIT2,R0                                ;
38805                             391 I1          M_BRA   ACC_STEPINF_MAK1_200                    ;
38806 000086A8 A013                   M           BRA     ACC_STEPINF_MAK1_200
38807 000086AA 0009                   M           NOP
38808                             392 I1  
38809                             393 I1  
38810                             394 I1  
38811                                 I1  ***** BEGIN-POOL *****
38812 000086AC 0001                   I1  DATA FOR SOURCE-LINE 367
38813 000086AE 0004                   I1  DATA FOR SOURCE-LINE 387
38814 000086B0 00000000               I1  DATA FOR SOURCE-LINE 346
38815 000086B4 00000000               I1  DATA FOR SOURCE-LINE 348
38816 000086B8 00000000               I1  DATA FOR SOURCE-LINE 353
38817 000086BC 00000000               I1  DATA FOR SOURCE-LINE 357
38818 000086C0 00000000               I1  DATA FOR SOURCE-LINE 360
38819 000086C4 00000000               I1  DATA FOR SOURCE-LINE 370
38820 000086C8 00000000               I1  DATA FOR SOURCE-LINE 373
38821                                 I1  ***** END-POOL *****
38822 000086CC                    395 I1  ACC_STEPINF_MAK1_180:                                   ;
38823 000086CC 3273               396 I1          CMP/GE  R7,R2                                   ;R7(OLD)=<R2
38824                             397 I1          TST_BIT_OF ACC_STEPINF_MAK1_200                 ;加速JUMP
38825 000086CE 8900                   M           BT      ACC_STEPINF_MAK1_200
38826 000086D0 CB04               398 I1          OR      #BIT2,R0                                ;
38827 000086D2                    399 I1  ACC_STEPINF_MAK1_200:                                   ;
38828 000086D2 2801               400 I1          MOV.W   R0,@R8                                  ;BIT2,BIT1,BIT0 SAVE
38829 000086D4 7802               401 I1          ADD     #2,R8                                   ;
38830                             402 I1  
38831 000086D6 2971               403 I1          MOV.W   R7,@R9                                  ;OLD
38832 000086D8 7902               404 I1          ADD     #2,R9                                   ;
38833 000086DA 2921               405 I1          MOV.W   R2,@R9                                  ;TARGET
38834 000086DC 7902               406 I1          ADD     #2,R9                                   ;
38835                             407 I1  
38836                             408 I1  
38837 000086DE C801               409 I1          TST     #BIT0,R0                                ;
38838                             410 I1          TST_BIT_ON ACC_STEPINF_MAK1_250                 ;BIT0=0(停止) NO! JUMP
38839 000086E0 8B00                   M           BF      ACC_STEPINF_MAK1_250
38840 000086E2 222A               411 I1          XOR     R2,R2                                   ;
38841 000086E4                    412 I1  ACC_STEPINF_MAK1_250:                                   ;
38842 000086E4 6723               413 I1          MOV     R2,R7                                   ;
38843 000086E6 75FF               414 I1          ADD     #-1,R5                                  ;
38844 000086E8 2558               415 I1          TST     R5,R5                                   ;
38845                             416 I1          TST_BIT_OF ACC_STEPINF_MAK1_300                 ;
38846 000086EA 8901                   M           BT      ACC_STEPINF_MAK1_300
38847                             417 I1          M_BRA   ACC_STEPINF_MAK1_100LOP                 ;
38848 000086EC AFC9                   M           BRA     ACC_STEPINF_MAK1_100LOP
38849 000086EE 0009                   M           NOP
38850                             418 I1  
38851 000086F0                    419 I1  ACC_STEPINF_MAK1_300:                                   ;
38852                             420 I1  
38853                             421 I1          SUB_END
38854                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38855 000086F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38856                             422 I1          M_RTS
38857 000086F2 000B                   M           RTS                             ;RTSの後ろの
38858 000086F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   587
PROGRAM NAME =

38859                             423 I1  
38860                             424 I1  
38861 000086F6                    425 I1  _R2_MUL10_ANS_R2:
38862                             426 I1          SUB_START
38863 000086F6 4F22                   M           STS.L   PR,@-R15                ;[必要]
38864                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38865                             427 I1          PUSH_REG1 R1
38866 000086F8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
38867                                 M                                           ;REG=>[SP]
38868                                 M                                           ;"-4" FF,FF,FF,FC
38869 000086FA 9105               428 I1          MOV.W   #D'10,R1        ;
38870 000086FC 321D               429 I1          DMULS.L R1,R2           ;
38871 000086FE 021A               430 I1          STS     MACL,R2         ;
38872                             431 I1          POP_REG1 R1
38873                                 M                                   ; RE"+4" 00,00,00,04
38874 00008700 61F6                   M           MOV.L   @R15+,R1        ;
38875                             432 I1          SUB_END
38876                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38877 00008702 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38878                             433 I1          M_RTS
38879 00008704 000B                   M           RTS                             ;RTSの後ろの
38880 00008706 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38881                             434 I1  
38882                             435 I1  
38883                             436 I1  ;       ***************************************************
38884                             437 I1  ;       ***                                             ***
38885                             438 I1  ;       ***     振り子加速度テーブル作成                ***
38886                             439 I1  ;       ***                                             ***
38887                             440 I1  ;       ***                                             ***
38888                             441 I1  ;       ***                                             ***
38889                             442 I1  ;       ***************************************************
38890                             443 I1  ;       256個　0番目=0と255番目=10000とすること
38891                             444 I1  ;;_ACC_IN_TBL_TIM       .DATA.W         255             ;255msec時間 ループ数は256
38892                             445 I1  ;;_ACC_IN_TBL_TIM       .DATA.W         50              ;255msec時間 ループ数は256
38893                             446 I1  ;
38894                             447 I1  ;
38895                             448 I1  ;       演算タイミングは
38896                             449 I1  ;                       「速度設定変更時」
38897                             450 I1  ;                       「非常停止時」
38898                             451 I1  ;                       「起動中」
38899                             452 I1  ;
38900                             453 I1  ;
38901                                 I1  ***** BEGIN-POOL *****
38902 00008708 000A                   I1  DATA FOR SOURCE-LINE 428
38903                                 I1  ***** END-POOL *****
38904 0000870A                    454 I1  _ACC_TBL_MAKE1
38905                             455 I1          SUB_START
38906 0000870A 4F22                   M           STS.L   PR,@-R15                ;[必要]
38907                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38908                             456 I1  
38909                             457 I1  
38910                             458 I1  
38911                             459 I1  ;;;;2013-02-05[移動]    FAR_JSR #_USE_IN_TBL_MOV,R0             ;2010-10-20
38912                             460 I1  ;;;;2013-02-05[移動];   ---------<<<<<加減速時間 1~1000>>>>>-----------
38913                             461 I1  ;;;;2013-02-05[移動]    MOV.L   #_TBL_ANS_ACCTIM,R1                             ;2010-10-2
                                          5
38914                             462 I1  ;;;;2013-02-05[移動]    MOV.W   @R1,R2                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   588
PROGRAM NAME =

38915                             463 I1  ;;;;2013-02-05[移動]    TST     R2,R2
38916                             464 I1  ;;;;2013-02-05[移動]    TST_BIT_ON ACC_TBLMAK1_DTCHK050                         ;
38917                             465 I1  ;;;;2013-02-05[移動]    MOV.W   #1,R2                                           ;
38918                             466 I1  ;;;;2013-02-05[移動]ACC_TBLMAK1_DTCHK050                                                ;
38919                             467 I1  ;;;;2013-02-05[移動]    MOV.W   #D'1000,R0                                      ;
38920                             468 I1  ;;;;2013-02-05[移動]    CMP/HS  R2,R0                                           ;
38921                             469 I1  ;;;;2013-02-05[移動]    BT      ACC_TBLMAK1_DTCHK100                            ;
38922                             470 I1  ;;;;2013-02-05[移動]    MOV     R0,R2                                           ;1msec~100
                                          0でﾘﾐｯﾄ
38923                             471 I1  ;;;;2013-02-05[移動]ACC_TBLMAK1_DTCHK100                                                ;
38924                             472 I1  ;;;;2013-02-05[移動]    MOV.L   #_ACCB_ACCLAT_TIM1,R1                           ;
38925                             473 I1  ;;;;2013-02-05[移動]    MOV.W   R2,@R1                                          ;
38926                             474 I1  
38927                             475 I1  
38928                             476 I1  ;;;[2013-05-20 前から未使用];   ----------------------------------------------------------
                                          -
38929                             477 I1  ;;;[2013-05-20 前から未使用];   ---                                                     --
                                          -
38930                             478 I1  ;;;[2013-05-20 前から未使用];   ---     BASE(0%->100%=100%→0% 最終減速)ﾃﾞｰﾀの作成      --
                                          -
38931                             479 I1  ;;;[2013-05-20 前から未使用];   ---                                                     --
                                          -
38932                             480 I1  ;;;[2013-05-20 前から未使用];   ----------------------------------------------------------
                                          -
38933                             481 I1  ;;;[2013-05-20 前から未使用]
38934                             482 I1  ;;;[2013-05-20 前から未使用];   -------------- BASE(0~100.00%の加速時間,速度ﾃｰﾌﾞﾙ作成)----
                                          -----------
38935                             483 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_IN_TBLUSE,R11                             ;
                                          元ﾃｰﾌﾞﾙADR(2byte)
38936                             484 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_IN_TBL_TIM,R1                             ;2
                                          55msec ﾙｰﾌﾟは256回
38937                             485 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R1,R12                                         ;
38938                             486 I1  ;;;[2013-05-20 前から未使用]
38939                             487 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACCB_ACCLAT_TIM1,R1                           ;_
                                          SET1_ACCLAT_TIM1
38940                             488 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R1,R7                                          ;R
                                          7=最大加速時間
38941                             489 I1  ;;;[2013-05-20 前から未使用]
38942                             490 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #0,R8                                           ;R
                                          8:BASE SPEED速度
38943                             491 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #_ACC_PER_V_MAX,R9                              ;R
                                          9:目標速度
38944                             492 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPVTBL,R13                       ;R
                                          13:速度格納用//
38945                             493 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPVTBL,R5                        ;(
                                          このｹｰｽでは不要)前の段の速度-RAM
38946                             494 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_ACCTM,R14                         ;R
                                          14:加減速時間
38947                             495 I1  ;;;[2013-05-20 前から未使用]                                                            ;
38948                             496 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          5:前の段の速度-RAM
38949                             497 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          7:最大加減速時間
38950                             498 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          8:OLD-SPD
38951                             499 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          9:TARGET
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   589
PROGRAM NAME =

38952                             500 I1  ;;;[2013-05-20 前から未使用]    MOV     R7,R10                                          ;2
                                          013-05-20 R10:(前段の加速時間/PLS TABLE用/)
38953                             501 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          11:SRC - SPD TABLE
38954                             502 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          12:SRC - 時間
38955                             503 I1  ;;;[2013-05-20 前から未使用]                                                            ;<
                                          R13:Output - SPD RAM>
38956                             504 I1  ;;;[2013-05-20 前から未使用]                                                            ;<
                                          R14:Output - ACC RAM>
38957                             505 I1  ;;;[2013-05-20 前から未使用]
38958                             506 I1  ;;;[2013-05-20 前から未使用]    PUSH_ALL                                                ;
38959                             507 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_ACC_TBL_MAKSPD1_SUB,R0                        ;
38960                             508 I1  ;;;[2013-05-20 前から未使用]    POP_ALL                                                 ;
38961                             509 I1  ;;;[2013-05-20 前から未使用]
38962                             510 I1  ;;;[2013-05-20 前から未使用];   -------------- BASE(速度ﾃｰﾌﾞﾙ作成→ﾊﾟﾙｽﾃｰﾌﾞﾙ作成)---------
                                          --
38963                             511 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_LINK_MAX_SPD_PLS,R1                           ;
38964                             512 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @R1,R6                                          ;
38965                             513 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPPTBL,R10                       ;
38966                             514 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          6=MAX pls/s
38967                             515 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          13=_ACC_BASEDAT_STPVTBL
38968                             516 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          14=_ACC_BASEDAT_ACCTM
38969                             517 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          10=_ACC_BASEDAT_STPPTBL
38970                             518 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_ACC_TBL_MAKPLS1_SUB,R0                        ;
38971                             519 I1  ;;;[2013-05-20 前から未使用]
38972                             520 I1  ;;;[2013-05-20 前から未使用];   -------- 2013-02-25 ﾃﾞｰﾀﾁｪｯｸ及び金型ﾀｯﾁ用 ----------
38973                             521 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_DNM_MAX_GENSOK_LENGTH,R1                      ;/
                                          /100%時→0時の減速距離
38974                             522 I1  ;;;[2013-05-20 前から未使用]    MOV.L   R7,@R1                                          ;
38975                             523 I1  
38976                             524 I1  
38977                             525 I1                                                                  ;
38978                             526 I1  
38979                             527 I1  ;       -----------------------------------------------------------
38980                             528 I1  ;       ---                                                     ---
38981                             529 I1  ;       ---     1段目Data(old-sv%->sv%)ﾃﾞｰﾀの作成               ---
38982                             530 I1  ;       ---     1段目Data(0%->sv%)ﾃﾞｰﾀの作成[再起動,減速用]     ---
38983                             531 I1  ;       ---                                                     ---
38984                             532 I1  ;       -----------------------------------------------------------
38985 0000870C D00C               533 I1          MOV.L   #_ACC_STEP01_TBL_TOP,R0                         ;
38986 0000870E 401E               534 I1          LDC     R0,GBR                                          ;
38987                             535 I1          FAR_JSR #_ACC_INFO_CHNAGE_TBL_MAK,R0                    ;
38988 00008710 D00C                   M           MOV.L   #_ACC_INFO_CHNAGE_TBL_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38989 00008712 400B                   M           JSR     @R0                     ;
38990 00008714 0009                   M           NOP                                     ;
38991                             536 I1  
38992                             537 I1  ;       -----------------------------------------------------------
38993                             538 I1  ;       ---                                                     ---
38994                             539 I1  ;       ---     2段目Data(old-sv%->sv%)ﾃﾞｰﾀの作成               ---
38995                             540 I1  ;       ---     2段目Data(0%->sv%)ﾃﾞｰﾀの作成[再起動,減速用]     ---
38996                             541 I1  ;       ---                                                     ---
38997                             542 I1  ;       -----------------------------------------------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   590
PROGRAM NAME =

38998 00008716 D10C               543 I1          MOV.L   #_SETX_POS_STEP_MAX,R1                  ;//SETXは設定=1~10 戻り分+1してな
                                          い
38999 00008718 6511               544 I1          MOV.W   @R1,R5                                          ;
39000 0000871A 7501               545 I1          ADD     #1,R5
39001                             546 I1  
39002 0000871C D60B               547 I1          MOV.L   #_ACC_TBL_CAL_IN_TOP,R6                         ;
39003 0000871E 6066               548 I1          MOV.L   @R6+,R0                                         ;1段目分
39004 00008720 75FF               549 I1          ADD     #-1,R5                                          ;
39005                             550 I1  
39006 00008722                    551 I1  ACC_TBLMAK1_200LOP
39007 00008722 6066               552 I1          MOV.L   @R6+,R0                                         ;
39008                             553 I1          PUSH_REG1 R5
39009 00008724 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
39010                                 M                                           ;REG=>[SP]
39011                                 M                                           ;"-4" FF,FF,FF,FC
39012                             554 I1          PUSH_REG1 R6
39013 00008726 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
39014                                 M                                           ;REG=>[SP]
39015                                 M                                           ;"-4" FF,FF,FF,FC
39016                             555 I1  
39017 00008728 401E               556 I1          LDC     R0,GBR                                          ;
39018                             557 I1          FAR_JSR #_ACC_INFO_CHNAGE_TBL_MAK,R0                    ;
39019 0000872A D006                   M           MOV.L   #_ACC_INFO_CHNAGE_TBL_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39020 0000872C 400B                   M           JSR     @R0                     ;
39021 0000872E 0009                   M           NOP                                     ;
39022                             558 I1  
39023                             559 I1          POP_REG1 R6
39024                                 M                                   ; RE"+4" 00,00,00,04
39025 00008730 66F6                   M           MOV.L   @R15+,R6        ;
39026                             560 I1          POP_REG1 R5
39027                                 M                                   ; RE"+4" 00,00,00,04
39028 00008732 65F6                   M           MOV.L   @R15+,R5        ;
39029 00008734 75FF               561 I1          ADD     #-1,R5
39030 00008736 2558               562 I1          TST     R5,R5                                           ;
39031                             563 I1          TST_BIT_ON ACC_TBLMAK1_200LOP                           ;
39032 00008738 8BF3                   M           BF      ACC_TBLMAK1_200LOP
39033                             564 I1  
39034                             565 I1  
39035                             566 I1  
39036                             567 I1          SUB_END
39037                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39038 0000873A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39039                             568 I1          M_RTS
39040 0000873C 000B                   M           RTS                             ;RTSの後ろの
39041 0000873E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39042                             569 I1  
39043                             570 I1  
39044                             571 I1  
39045                             572 I1  
39046                             573 I1  ;       *******************************************
39047                             574 I1  ;       ***                                     ***
39048                             575 I1  ;       ***     加速度パターン選択+転送         ***
39049                             576 I1  ;       ***                                     ***
39050                             577 I1  ;       *******************************************
39051                                 I1  ***** BEGIN-POOL *****
39052 00008740 00000000               I1  DATA FOR SOURCE-LINE 533
39053 00008744 00000000               I1  DATA FOR SOURCE-LINE 535,557
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   591
PROGRAM NAME =

39054 00008748 00000000               I1  DATA FOR SOURCE-LINE 543
39055 0000874C 00000000               I1  DATA FOR SOURCE-LINE 547
39056                                 I1  ***** END-POOL *****
39057 00008750                    578 I1  _USE_IN_TBL_MOV:
39058                             579 I1          SUB_START
39059 00008750 4F22                   M           STS.L   PR,@-R15                ;[必要]
39060                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39061                             580 I1  
39062                             581 I1  
39063                             582 I1  ;       -----------------------------------------------
39064                             583 I1  ;;;;2013-02-05  MOV.L   #_TBL_ANS_ACC_SEL,R1                            ;(0,1),2[TBL2],3[T
                                          BL3]
39065                             584 I1  ;;;;2013-02-05  MOV.W   @R1,R0                                          ;
39066                             585 I1  ;;;;2013-02-05
39067                             586 I1  ;;;;2013-02-05
39068                             587 I1  ;;;;2013-02-05
39069                             588 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL3_CNT,R7                         ;
39070                             589 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL3_IN_TOP,R5                      ;
39071                             590 I1  ;;;;2013-02-05
39072                             591 I1  ;;;;2013-02-05  CMP/EQ  #3,R0                                           ;
39073                             592 I1  ;;;;2013-02-05  BT      USE_IN_TBLMV_100                                ;
39074                             593 I1  ;;;;2013-02-05
39075                             594 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL2_CNT,R7                         ;
39076                             595 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL2_IN_TOP,R5
39077                             596 I1  ;;;;2013-02-05  CMP/EQ  #2,R0                                           ;
39078                             597 I1  ;;;;2013-02-05  BT      USE_IN_TBLMV_100                                ;
39079                             598 I1  ;;;;2013-02-05
39080                             599 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL1_CNT,R7                         ;
39081                             600 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL1_IN_TOP,R5                      ;
39082                             601 I1  ;;;;2013-02-05
39083                             602 I1  ;;;;2013-02-05  USE_IN_TBLMV_100:
39084                             603 I1  
39085 00008752 D707               604 I1          MOV.L   #_CB_SYS_ACCTBL1_CNT,R7                         ;
39086 00008754 D507               605 I1          MOV.L   #_CB_SYS_ACCTBL1_IN_TOP,R5                      ;
39087 00008756 6371               606 I1          MOV.W   @R7,R3                                          ;
39088 00008758 D107               607 I1          MOV.L   #_ACC_IN_TBL_TIM,R1                             ;255msec ﾙｰﾌﾟは256回
39089 0000875A 2131               608 I1          MOV.W   R3,@R1                                          ;
39090 0000875C 7302               609 I1          ADD     #2,R3                                           ;
39091                             610 I1  
39092 0000875E D607               611 I1          MOV.L   #_ACC_IN_TBLUSE,R6                              ;元ﾃｰﾌﾞﾙADR(2byte)
39093                             612 I1  
39094 00008760                    613 I1  USE_IN_TBLMV_100LOP:
39095 00008760 2338               614 I1          TST     R3,R3
39096                             615 I1          TST_BIT_OF USE_IN_TBLMV_500
39097 00008762 890D                   M           BT      USE_IN_TBLMV_500
39098 00008764 6055               616 I1          MOV.W   @R5+,R0
39099 00008766 2601               617 I1          MOV.W   R0,@R6
39100 00008768 7602               618 I1          ADD     #2,R6                           ;
39101 0000876A 73FF               619 I1          ADD     #-1,R3                          ;
39102                             620 I1          M_BRA   USE_IN_TBLMV_100LOP             ;
39103 0000876C AFF8                   M           BRA     USE_IN_TBLMV_100LOP
39104 0000876E 0009                   M           NOP
39105                             621 I1  
39106                                 I1  ***** BEGIN-POOL *****
39107 00008770 00000000               I1  DATA FOR SOURCE-LINE 604
39108 00008774 00000000               I1  DATA FOR SOURCE-LINE 605
39109 00008778 00000000               I1  DATA FOR SOURCE-LINE 607
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   592
PROGRAM NAME =

39110 0000877C 00000000               I1  DATA FOR SOURCE-LINE 611
39111                                 I1  ***** END-POOL *****
39112 00008780                    622 I1  USE_IN_TBLMV_500:
39113                             623 I1  
39114                             624 I1          SUB_END
39115                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39116 00008780 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39117                             625 I1          M_RTS
39118 00008782 000B                   M           RTS                             ;RTSの後ろの
39119 00008784 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39120                             626 I1  
39121                             627 I1  
39122                             628 I1  ;       ***************************************************
39123                             629 I1  ;       ***                                             ***
39124                             630 I1  ;       ***             INFO->TABLE                     ***
39125                             631 I1  ;       ***                                             ***
39126                             632 I1  ;       ***************************************************
39127                             633 I1  ;       Input GBR
39128 00008786                    634 I1  _ACC_INFO_CHNAGE_TBL_MAK:
39129                             635 I1          SUB_START
39130 00008786 4F22                   M           STS.L   PR,@-R15                ;[必要]
39131                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39132 00008788 C600               636 I1          MOV.L   @(AFM_SRC_TBL_TOP-ACC_FORM_TOP,GBR),R0          ;
39133 0000878A 6B03               637 I1          MOV     R0,R11                                          ;ACC_IN_TBL1;元ﾃｰﾌﾞﾙADR(2b
                                          yte)
39134                             638 I1  
39135 0000878C C601               639 I1          MOV.L   @(AFM_SRC_TBL_MEM-ACC_FORM_TOP,GBR),R0          ;
39136 0000878E 6C01               640 I1          MOV.W   @R0,R12                                         ;_ACC_IN_TBL_TIM
39137                             641 I1  
39138 00008790 D144               642 I1          MOV.L   #_ACCB_ACCLAT_TIM1,R1                           ;_SET1_ACCLAT_TIM1
39139 00008792 6711               643 I1          MOV.W   @R1,R7                                          ;R7=最大加速時間
39140                             644 I1  
39141 00008794 C602               645 I1          MOV.L   @(AFM_STEP_INF_SPD-ACC_FORM_TOP,GBR),R0         ;
39142 00008796 6805               646 I1          MOV.W   @R0+,R8                                         ;R8:BASE SPEED速度
39143 00008798 6901               647 I1          MOV.W   @R0,R9                                          ;R9:目標速度
39144                             648 I1  
39145 0000879A C604               649 I1          MOV.L   @(AFM_OLD_CTLVTBL-ACC_FORM_TOP,GBR),R0          ;前段の速度TBL(前段=現段速
                                          度時使用)
39146 0000879C 6503               650 I1          MOV     R0,R5                                           ;
39147 0000879E C606               651 I1          MOV.L   @(AFM_DST_CTLVTBL-ACC_FORM_TOP,GBR),R0          ;今回の速度格納用
39148 000087A0 6D03               652 I1          MOV     R0,R13                                          ;
39149                             653 I1  
39150 000087A2 C607               654 I1          MOV.L   @(AFM_DST_CTLACTM-ACC_FORM_TOP,GBR),R0          ;
39151 000087A4 6E03               655 I1          MOV     R0,R14                                          ;今回の加速時間格納用
39152                             656 I1  
39153 000087A6 C605               657 I1          MOV.L   @(AFM_OLD_CTLACTM-ACC_FORM_TOP,GBR),R0          ;2013-05-20
39154 000087A8 6A01               658 I1          MOV.W   @R0,R10                                         ;注意　前段の加速時間(前段
                                          =現段速度時使用)
39155                             659 I1  
39156                             660 I1  
39157                             661 I1  
39158                             662 I1          PUSH_ALL                                                ;
39159                                 M           PUSH_REG1       R0      ;
39160 000087AA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
39161                                 M                                           ;REG=>[SP]
39162                                 M                                           ;"-4" FF,FF,FF,FC
39163                                 M           PUSH_REG1       R1      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   593
PROGRAM NAME =

39164 000087AC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
39165                                 M                                           ;REG=>[SP]
39166                                 M                                           ;"-4" FF,FF,FF,FC
39167                                 M           PUSH_REG1       R2      ;
39168 000087AE 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
39169                                 M                                           ;REG=>[SP]
39170                                 M                                           ;"-4" FF,FF,FF,FC
39171                                 M           PUSH_REG1       R3      ;
39172 000087B0 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
39173                                 M                                           ;REG=>[SP]
39174                                 M                                           ;"-4" FF,FF,FF,FC
39175                                 M           PUSH_REG1       R4      ;
39176 000087B2 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
39177                                 M                                           ;REG=>[SP]
39178                                 M                                           ;"-4" FF,FF,FF,FC
39179                                 M           PUSH_REG1       R5      ;
39180 000087B4 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
39181                                 M                                           ;REG=>[SP]
39182                                 M                                           ;"-4" FF,FF,FF,FC
39183                                 M           PUSH_REG1       R6      ;
39184 000087B6 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
39185                                 M                                           ;REG=>[SP]
39186                                 M                                           ;"-4" FF,FF,FF,FC
39187                                 M           PUSH_REG1       R7      ;
39188 000087B8 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
39189                                 M                                           ;REG=>[SP]
39190                                 M                                           ;"-4" FF,FF,FF,FC
39191                                 M           PUSH_REG1       R8      ;
39192 000087BA 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
39193                                 M                                           ;REG=>[SP]
39194                                 M                                           ;"-4" FF,FF,FF,FC
39195                                 M           PUSH_REG1       R9      ;
39196 000087BC 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
39197                                 M                                           ;REG=>[SP]
39198                                 M                                           ;"-4" FF,FF,FF,FC
39199                                 M           PUSH_REG1       R10     ;
39200 000087BE 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
39201                                 M                                           ;REG=>[SP]
39202                                 M                                           ;"-4" FF,FF,FF,FC
39203                                 M           PUSH_REG1       R11     ;
39204 000087C0 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
39205                                 M                                           ;REG=>[SP]
39206                                 M                                           ;"-4" FF,FF,FF,FC
39207                                 M           PUSH_REG1       R12     ;
39208 000087C2 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
39209                                 M                                           ;REG=>[SP]
39210                                 M                                           ;"-4" FF,FF,FF,FC
39211                                 M           PUSH_REG1       R13     ;
39212 000087C4 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
39213                                 M                                           ;REG=>[SP]
39214                                 M                                           ;"-4" FF,FF,FF,FC
39215                                 M           PUSH_REG1       R14     ;
39216 000087C6 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
39217                                 M                                           ;REG=>[SP]
39218                                 M                                           ;"-4" FF,FF,FF,FC
39219                                 M           PUSH_MACHL              ;
39220 000087C8 4F02                   M           STS.L   MACH,@-R15
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   594
PROGRAM NAME =

39221 000087CA 4F12                   M           STS.L   MACL,@-R15
39222                                 M           PUSH_SYS_REG    GBR     ;
39223 000087CC 4F13                   M           STC.L   GBR,@-R15
39224                                 M           .AIF    2 EQ 3
39225                                             .AELSE
39226                                 C           PUSH_FPU_ALL            ;2001-07-08
39227                                 M                   PUSH_SYS_FPU            ;2001-07-08 koma add
39228 000087CE 4F52                   M           STS.L   FPUL,@-R15
39229 000087D0 4F62                   M           STS.L   FPSCR,@-R15
39230                                 M                   PUSH_FPU_REG1 FR0       ;
39231 000087D2 FF0B                   M           FMOV.S  FR0,@-R15
39232                                 M                   PUSH_FPU_REG1 FR1       ;
39233 000087D4 FF1B                   M           FMOV.S  FR1,@-R15
39234                                 M                   PUSH_FPU_REG1 FR2       ;
39235 000087D6 FF2B                   M           FMOV.S  FR2,@-R15
39236                                 M                   PUSH_FPU_REG1 FR3       ;
39237 000087D8 FF3B                   M           FMOV.S  FR3,@-R15
39238                                 M                   PUSH_FPU_REG1 FR4       ;
39239 000087DA FF4B                   M           FMOV.S  FR4,@-R15
39240                                 M           .AENDI
39241                             663 I1          FAR_JSR #_ACC_TBL_MAKSPD1_SUB,R0                        ;X%(OLD)->Y%(NEW:ﾀｰｹﾞｯﾄ作
                                          成)ANS R13,R14
39242 000087DC D032                   M           MOV.L   #_ACC_TBL_MAKSPD1_SUB,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39243 000087DE 400B                   M           JSR     @R0                     ;
39244 000087E0 0009                   M           NOP                                     ;
39245                             664 I1          POP_ALL                                                 ;
39246                                 M           .AIF    2 EQ 3
39247                                             .AELSE
39248                                 C           POP_FPU_ALL             ;2001-07-08
39249                                 M                   POP_FPU_REG1 FR4        ;2001-07-08 koma add
39250 000087E2 F4F9                   M           FMOV.S  @R15+,FR4
39251                                 M                   POP_FPU_REG1 FR3        ;
39252 000087E4 F3F9                   M           FMOV.S  @R15+,FR3
39253                                 M                   POP_FPU_REG1 FR2        ;
39254 000087E6 F2F9                   M           FMOV.S  @R15+,FR2
39255                                 M                   POP_FPU_REG1 FR1        ;
39256 000087E8 F1F9                   M           FMOV.S  @R15+,FR1
39257                                 M                   POP_FPU_REG1 FR0        ;
39258 000087EA F0F9                   M           FMOV.S  @R15+,FR0
39259                                 M                   POP_SYS_FPU             ;
39260 000087EC 4F66                   M           LDS.L   @R15+,FPSCR
39261 000087EE 4F56                   M           LDS.L   @R15+,FPUL
39262                                 M           .AENDI
39263                                 M           POP_SYS_REG     GBR     ;
39264 000087F0 4F17                   M           LDC.L   @R15+,GBR
39265                                 M           POP_MACHL               ;
39266 000087F2 4F16                   M           LDS.L   @R15+,MACL
39267 000087F4 4F06                   M           LDS.L   @R15+,MACH
39268                                 M           POP_REG1        R14     ;
39269                                 M                                   ; RE"+4" 00,00,00,04
39270 000087F6 6EF6                   M           MOV.L   @R15+,R14        ;
39271                                 M           POP_REG1        R13     ;
39272                                 M                                   ; RE"+4" 00,00,00,04
39273 000087F8 6DF6                   M           MOV.L   @R15+,R13        ;
39274                                 M           POP_REG1        R12     ;
39275                                 M                                   ; RE"+4" 00,00,00,04
39276 000087FA 6CF6                   M           MOV.L   @R15+,R12        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   595
PROGRAM NAME =

39277                                 M           POP_REG1        R11     ;
39278                                 M                                   ; RE"+4" 00,00,00,04
39279 000087FC 6BF6                   M           MOV.L   @R15+,R11        ;
39280                                 M           POP_REG1        R10     ;
39281                                 M                                   ; RE"+4" 00,00,00,04
39282 000087FE 6AF6                   M           MOV.L   @R15+,R10        ;
39283                                 M           POP_REG1        R9      ;
39284                                 M                                   ; RE"+4" 00,00,00,04
39285 00008800 69F6                   M           MOV.L   @R15+,R9        ;
39286                                 M           POP_REG1        R8      ;
39287                                 M                                   ; RE"+4" 00,00,00,04
39288 00008802 68F6                   M           MOV.L   @R15+,R8        ;
39289                                 M           POP_REG1        R7      ;
39290                                 M                                   ; RE"+4" 00,00,00,04
39291 00008804 67F6                   M           MOV.L   @R15+,R7        ;
39292                                 M           POP_REG1        R6      ;
39293                                 M                                   ; RE"+4" 00,00,00,04
39294 00008806 66F6                   M           MOV.L   @R15+,R6        ;
39295                                 M           POP_REG1        R5      ;
39296                                 M                                   ; RE"+4" 00,00,00,04
39297 00008808 65F6                   M           MOV.L   @R15+,R5        ;
39298                                 M           POP_REG1        R4      ;
39299                                 M                                   ; RE"+4" 00,00,00,04
39300 0000880A 64F6                   M           MOV.L   @R15+,R4        ;
39301                                 M           POP_REG1        R3      ;
39302                                 M                                   ; RE"+4" 00,00,00,04
39303 0000880C 63F6                   M           MOV.L   @R15+,R3        ;
39304                                 M           POP_REG1        R2      ;
39305                                 M                                   ; RE"+4" 00,00,00,04
39306 0000880E 62F6                   M           MOV.L   @R15+,R2        ;
39307                                 M           POP_REG1        R1      ;
39308                                 M                                   ; RE"+4" 00,00,00,04
39309 00008810 61F6                   M           MOV.L   @R15+,R1        ;
39310                                 M           POP_REG1        R0      ;
39311                                 M                                   ; RE"+4" 00,00,00,04
39312 00008812 60F6                   M           MOV.L   @R15+,R0        ;
39313                             665 I1  
39314                             666 I1  
39315                             667 I1  ;       -----------------(停止演算 0->設定% 速度)--------
39316 00008814 288A               668 I1          XOR     R8,R8                                           ;0(R8)--設定(R9)
39317 00008816 C608               669 I1          MOV.L   @(AFM_OLD_STPVTBL-ACC_FORM_TOP,GBR),R0          ;
39318 00008818 6503               670 I1          MOV     R0,R5                                           ;(暴走対策/ありえない)
39319 0000881A C60A               671 I1          MOV.L   @(AFM_DST_STPVTBL-ACC_FORM_TOP,GBR),R0          ;
39320 0000881C 6D03               672 I1          MOV     R0,R13                                          ;
39321 0000881E C60B               673 I1          MOV.L   @(AFM_DST_STPACTM-ACC_FORM_TOP,GBR),R0          ;
39322 00008820 6E03               674 I1          MOV     R0,R14                                          ;
39323                             675 I1  
39324 00008822 C609               676 I1          MOV.L   @(AFM_OLD_STPACTM-ACC_FORM_TOP,GBR),R0          ;2013-05-20
39325 00008824 6A01               677 I1          MOV.W   @R0,R10                                         ;注意　前段の加速時間(前段
                                          =現段速度時使用)
39326                             678 I1  
39327                             679 I1          PUSH_ALL                                                ;
39328                                 M           PUSH_REG1       R0      ;
39329 00008826 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
39330                                 M                                           ;REG=>[SP]
39331                                 M                                           ;"-4" FF,FF,FF,FC
39332                                 M           PUSH_REG1       R1      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   596
PROGRAM NAME =

39333 00008828 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
39334                                 M                                           ;REG=>[SP]
39335                                 M                                           ;"-4" FF,FF,FF,FC
39336                                 M           PUSH_REG1       R2      ;
39337 0000882A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
39338                                 M                                           ;REG=>[SP]
39339                                 M                                           ;"-4" FF,FF,FF,FC
39340                                 M           PUSH_REG1       R3      ;
39341 0000882C 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
39342                                 M                                           ;REG=>[SP]
39343                                 M                                           ;"-4" FF,FF,FF,FC
39344                                 M           PUSH_REG1       R4      ;
39345 0000882E 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
39346                                 M                                           ;REG=>[SP]
39347                                 M                                           ;"-4" FF,FF,FF,FC
39348                                 M           PUSH_REG1       R5      ;
39349 00008830 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
39350                                 M                                           ;REG=>[SP]
39351                                 M                                           ;"-4" FF,FF,FF,FC
39352                                 M           PUSH_REG1       R6      ;
39353 00008832 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
39354                                 M                                           ;REG=>[SP]
39355                                 M                                           ;"-4" FF,FF,FF,FC
39356                                 M           PUSH_REG1       R7      ;
39357 00008834 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
39358                                 M                                           ;REG=>[SP]
39359                                 M                                           ;"-4" FF,FF,FF,FC
39360                                 M           PUSH_REG1       R8      ;
39361 00008836 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
39362                                 M                                           ;REG=>[SP]
39363                                 M                                           ;"-4" FF,FF,FF,FC
39364                                 M           PUSH_REG1       R9      ;
39365 00008838 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
39366                                 M                                           ;REG=>[SP]
39367                                 M                                           ;"-4" FF,FF,FF,FC
39368                                 M           PUSH_REG1       R10     ;
39369 0000883A 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
39370                                 M                                           ;REG=>[SP]
39371                                 M                                           ;"-4" FF,FF,FF,FC
39372                                 M           PUSH_REG1       R11     ;
39373 0000883C 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
39374                                 M                                           ;REG=>[SP]
39375                                 M                                           ;"-4" FF,FF,FF,FC
39376                                 M           PUSH_REG1       R12     ;
39377 0000883E 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
39378                                 M                                           ;REG=>[SP]
39379                                 M                                           ;"-4" FF,FF,FF,FC
39380                                 M           PUSH_REG1       R13     ;
39381 00008840 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
39382                                 M                                           ;REG=>[SP]
39383                                 M                                           ;"-4" FF,FF,FF,FC
39384                                 M           PUSH_REG1       R14     ;
39385 00008842 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
39386                                 M                                           ;REG=>[SP]
39387                                 M                                           ;"-4" FF,FF,FF,FC
39388                                 M           PUSH_MACHL              ;
39389 00008844 4F02                   M           STS.L   MACH,@-R15
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   597
PROGRAM NAME =

39390 00008846 4F12                   M           STS.L   MACL,@-R15
39391                                 M           PUSH_SYS_REG    GBR     ;
39392 00008848 4F13                   M           STC.L   GBR,@-R15
39393                                 M           .AIF    2 EQ 3
39394                                             .AELSE
39395                                 C           PUSH_FPU_ALL            ;2001-07-08
39396                                 M                   PUSH_SYS_FPU            ;2001-07-08 koma add
39397 0000884A 4F52                   M           STS.L   FPUL,@-R15
39398 0000884C 4F62                   M           STS.L   FPSCR,@-R15
39399                                 M                   PUSH_FPU_REG1 FR0       ;
39400 0000884E FF0B                   M           FMOV.S  FR0,@-R15
39401                                 M                   PUSH_FPU_REG1 FR1       ;
39402 00008850 FF1B                   M           FMOV.S  FR1,@-R15
39403                                 M                   PUSH_FPU_REG1 FR2       ;
39404 00008852 FF2B                   M           FMOV.S  FR2,@-R15
39405                                 M                   PUSH_FPU_REG1 FR3       ;
39406 00008854 FF3B                   M           FMOV.S  FR3,@-R15
39407                                 M                   PUSH_FPU_REG1 FR4       ;
39408 00008856 FF4B                   M           FMOV.S  FR4,@-R15
39409                                 M           .AENDI
39410                             680 I1          FAR_JSR #_ACC_TBL_MAKSPD1_SUB,R0                        ;0%->Y%(NEW:ﾀｰｹﾞｯﾄ作成)ANS
                                           R13,R14
39411 00008858 D013                   M           MOV.L   #_ACC_TBL_MAKSPD1_SUB,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39412 0000885A 400B                   M           JSR     @R0                     ;
39413 0000885C 0009                   M           NOP                                     ;
39414                             681 I1          POP_ALL                                                 ;
39415                                 M           .AIF    2 EQ 3
39416                                             .AELSE
39417                                 C           POP_FPU_ALL             ;2001-07-08
39418                                 M                   POP_FPU_REG1 FR4        ;2001-07-08 koma add
39419 0000885E F4F9                   M           FMOV.S  @R15+,FR4
39420                                 M                   POP_FPU_REG1 FR3        ;
39421 00008860 F3F9                   M           FMOV.S  @R15+,FR3
39422                                 M                   POP_FPU_REG1 FR2        ;
39423 00008862 F2F9                   M           FMOV.S  @R15+,FR2
39424                                 M                   POP_FPU_REG1 FR1        ;
39425 00008864 F1F9                   M           FMOV.S  @R15+,FR1
39426                                 M                   POP_FPU_REG1 FR0        ;
39427 00008866 F0F9                   M           FMOV.S  @R15+,FR0
39428                                 M                   POP_SYS_FPU             ;
39429 00008868 4F66                   M           LDS.L   @R15+,FPSCR
39430 0000886A 4F56                   M           LDS.L   @R15+,FPUL
39431                                 M           .AENDI
39432                                 M           POP_SYS_REG     GBR     ;
39433 0000886C 4F17                   M           LDC.L   @R15+,GBR
39434                                 M           POP_MACHL               ;
39435 0000886E 4F16                   M           LDS.L   @R15+,MACL
39436 00008870 4F06                   M           LDS.L   @R15+,MACH
39437                                 M           POP_REG1        R14     ;
39438                                 M                                   ; RE"+4" 00,00,00,04
39439 00008872 6EF6                   M           MOV.L   @R15+,R14        ;
39440                                 M           POP_REG1        R13     ;
39441                                 M                                   ; RE"+4" 00,00,00,04
39442 00008874 6DF6                   M           MOV.L   @R15+,R13        ;
39443                                 M           POP_REG1        R12     ;
39444                                 M                                   ; RE"+4" 00,00,00,04
39445 00008876 6CF6                   M           MOV.L   @R15+,R12        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   598
PROGRAM NAME =

39446                                 M           POP_REG1        R11     ;
39447                                 M                                   ; RE"+4" 00,00,00,04
39448 00008878 6BF6                   M           MOV.L   @R15+,R11        ;
39449                                 M           POP_REG1        R10     ;
39450                                 M                                   ; RE"+4" 00,00,00,04
39451 0000887A 6AF6                   M           MOV.L   @R15+,R10        ;
39452                                 M           POP_REG1        R9      ;
39453                                 M                                   ; RE"+4" 00,00,00,04
39454 0000887C 69F6                   M           MOV.L   @R15+,R9        ;
39455                                 M           POP_REG1        R8      ;
39456                                 M                                   ; RE"+4" 00,00,00,04
39457 0000887E 68F6                   M           MOV.L   @R15+,R8        ;
39458                                 M           POP_REG1        R7      ;
39459                                 M                                   ; RE"+4" 00,00,00,04
39460 00008880 67F6                   M           MOV.L   @R15+,R7        ;
39461                                 M           POP_REG1        R6      ;
39462                                 M                                   ; RE"+4" 00,00,00,04
39463 00008882 66F6                   M           MOV.L   @R15+,R6        ;
39464                                 M           POP_REG1        R5      ;
39465                                 M                                   ; RE"+4" 00,00,00,04
39466 00008884 65F6                   M           MOV.L   @R15+,R5        ;
39467                                 M           POP_REG1        R4      ;
39468                                 M                                   ; RE"+4" 00,00,00,04
39469 00008886 64F6                   M           MOV.L   @R15+,R4        ;
39470                                 M           POP_REG1        R3      ;
39471                                 M                                   ; RE"+4" 00,00,00,04
39472 00008888 63F6                   M           MOV.L   @R15+,R3        ;
39473                                 M           POP_REG1        R2      ;
39474                                 M                                   ; RE"+4" 00,00,00,04
39475 0000888A 62F6                   M           MOV.L   @R15+,R2        ;
39476                                 M           POP_REG1        R1      ;
39477                                 M                                   ; RE"+4" 00,00,00,04
39478 0000888C 61F6                   M           MOV.L   @R15+,R1        ;
39479                                 M           POP_REG1        R0      ;
39480                                 M                                   ; RE"+4" 00,00,00,04
39481 0000888E 60F6                   M           MOV.L   @R15+,R0        ;
39482                             682 I1  
39483                             683 I1  
39484                             684 I1  ;       ---------------(停止演算 0->設定% pls)--------
39485                             685 I1  ;       -------------- (速度ﾃｰﾌﾞﾙ作成→ﾊﾟﾙｽﾃｰﾌﾞﾙ作成)-----------
39486 00008890 D106               686 I1          MOV.L   #_LINK_MAX_SPD_PLS,R1                           ;
39487 00008892 6612               687 I1          MOV.L   @R1,R6                                          ;
39488 00008894 C60C               688 I1          MOV.L   @(AFM_DST_STPPTBL-ACC_FORM_TOP,GBR),R0          ;
39489 00008896 6A03               689 I1          MOV     R0,R10                                          ;
39490                             690 I1                                                                  ;
39491                             691 I1                                                                  ;R6=MAX pls/s
39492                             692 I1                                                                  ;R13=_ACC_****_STPVTBL(ﾃﾞｰ
                                          ﾀ元)
39493                             693 I1                                                                  ;R14=_ACC_****_ACTM(LOOP個
                                          数)
39494                             694 I1                                                                  ;R10=_ACC_****_STPPTBL ANS
39495                             695 I1          FAR_JSR #_ACC_TBL_MAKPLS1_SUB,R0                        ;
39496 00008898 D005                   M           MOV.L   #_ACC_TBL_MAKPLS1_SUB,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39497 0000889A 400B                   M           JSR     @R0                     ;
39498 0000889C 0009                   M           NOP                                     ;
39499                             696 I1  
39500                             697 I1          SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   599
PROGRAM NAME =

39501                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39502 0000889E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39503                             698 I1          M_RTS
39504 000088A0 000B                   M           RTS                             ;RTSの後ろの
39505 000088A2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39506                             699 I1  
39507                             700 I1  
39508                             701 I1  
39509                             702 I1  
39510                                 I1  ***** BEGIN-POOL *****
39511 000088A4 00000000               I1  DATA FOR SOURCE-LINE 642
39512 000088A8 00000000               I1  DATA FOR SOURCE-LINE 663,680
39513 000088AC 00000000               I1  DATA FOR SOURCE-LINE 686
39514 000088B0 00000000               I1  DATA FOR SOURCE-LINE 695
39515                                 I1  ***** END-POOL *****
39516 000088B4                    703 I1          .ALIGN  4                                       ;
39517 000088B4                    704 I1  _ACC_TBL_CAL_IN_TOP
39518 000088B4 00000000           705 I1          .DATA.L _ACC_STEP01_TBL_TOP
39519 000088B8 00000000           706 I1          .DATA.L _ACC_STEP02_TBL_TOP
39520 000088BC 00000000           707 I1          .DATA.L _ACC_STEP03_TBL_TOP
39521 000088C0 00000000           708 I1          .DATA.L _ACC_STEP04_TBL_TOP
39522 000088C4 00000000           709 I1          .DATA.L _ACC_STEP05_TBL_TOP
39523 000088C8 00000000           710 I1          .DATA.L _ACC_STEP06_TBL_TOP
39524 000088CC 00000000           711 I1          .DATA.L _ACC_STEP07_TBL_TOP
39525 000088D0 00000000           712 I1          .DATA.L _ACC_STEP08_TBL_TOP
39526 000088D4 00000000           713 I1          .DATA.L _ACC_STEP09_TBL_TOP
39527 000088D8 00000000           714 I1          .DATA.L _ACC_STEP10_TBL_TOP
39528 000088DC 00000000           715 I1          .DATA.L _ACC_STEP11_TBL_TOP
39529                             716 I1  
39530                             717 I1  
39531                             718 I1  
39532 000088E0                    719 I1          .ALIGN  4                                       ;
39533 000088E0                    720 I1  _ACC_STEP01_TBL_TOP
39534 000088E0                    721 I1  ACC_FORM_TOP
39535 000088E0 00000000           722 I1  AFM_SRC_TBL_TOP         .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
39536 000088E4 00000000           723 I1  AFM_SRC_TBL_MEM         .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39537 000088E8 00000000           724 I1  AFM_STEP_INF_SPD        .DATA.L         _ACC_INF1_STEPSP01      ;[03]000%[前状態],050%[設
                                          定]
39538 000088EC 00000000           725 I1  AFM_STEP_INF_FLG        .DATA.L         _ACC_INF1_STEP001       ;[04]//BIT2=[加速:0/減速:1
                                          ] BIT1=[]   BIT0=0(停止) =1(連続)
39539 000088F0 00000000           726 I1  AFM_OLD_CTLVTBL         .DATA.L         _ACC_STEP001_VTBL       ;[05]前回速度(前段=現段速
                                          度)1段では使用しない
39540 000088F4 00000000           727 I1  AFM_OLD_CTLACTM         .DATA.L         _ACC_STEP001_ACTM       ;[06]前回時間(前段=現段速
                                          度)1段では使用しない
39541 000088F8 00000000           728 I1  AFM_DST_CTLVTBL         .DATA.L         _ACC_STEP001_VTBL       ;[07]
39542 000088FC 00000000           729 I1  AFM_DST_CTLACTM         .DATA.L         _ACC_STEP001_ACTM       ;[08]
39543 00008900 00000000           730 I1  AFM_OLD_STPVTBL         .DATA.L         _ACC_STOP001_VTBL       ;[09]前回速度(前段=現段速
                                          度)1段では使用しない
39544 00008904 00000000           731 I1  AFM_OLD_STPACTM         .DATA.L         _ACC_STOP001_ACTM       ;[10]前回時間(前段=現段速
                                          度)1段では使用しない
39545 00008908 00000000           732 I1  AFM_DST_STPVTBL         .DATA.L         _ACC_STOP001_VTBL       ;[11]
39546 0000890C 00000000           733 I1  AFM_DST_STPACTM         .DATA.L         _ACC_STOP001_ACTM       ;[12]
39547 00008910 00000000           734 I1  AFM_DST_STPPTBL         .DATA.L         _ACC_STOP001_PTBL       ;[13]
39548                             735 I1  
39549                             736 I1  
39550                             737 I1  
39551 00008914                    738 I1  _ACC_STEP02_TBL_TOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   600
PROGRAM NAME =

39552 00008914 00000000           739 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
39553 00008918 00000000           740 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39554 0000891C 00000000           741 I1          .DATA.L         _ACC_INF1_STEPSP02      ;[03]000%[前状態],050%[設定]
39555 00008920 00000000           742 I1          .DATA.L         _ACC_INF1_STEP002       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
39556 00008924 00000000           743 I1          .DATA.L         _ACC_STEP001_VTBL       ;[05]前回速度(前段=現段速度)
39557 00008928 00000000           744 I1          .DATA.L         _ACC_STEP001_ACTM       ;[06]前回時間(前段=現段速度)
39558 0000892C 00000000           745 I1          .DATA.L         _ACC_STEP002_VTBL       ;[07]
39559 00008930 00000000           746 I1          .DATA.L         _ACC_STEP002_ACTM       ;[08]
39560 00008934 00000000           747 I1          .DATA.L         _ACC_STOP001_VTBL       ;[09]前回速度(前段=現段速度)
39561 00008938 00000000           748 I1          .DATA.L         _ACC_STOP001_ACTM       ;[10]前回時間(前段=現段速度)
39562 0000893C 00000000           749 I1          .DATA.L         _ACC_STOP002_VTBL       ;[11]
39563 00008940 00000000           750 I1          .DATA.L         _ACC_STOP002_ACTM       ;[12]
39564 00008944 00000000           751 I1          .DATA.L         _ACC_STOP002_PTBL       ;[13]
39565                             752 I1  
39566 00008948                    753 I1  _ACC_STEP03_TBL_TOP
39567 00008948 00000000           754 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
39568 0000894C 00000000           755 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39569 00008950 00000000           756 I1          .DATA.L         _ACC_INF1_STEPSP03      ;[03]000%[前状態],050%[設定]
39570 00008954 00000000           757 I1          .DATA.L         _ACC_INF1_STEP003       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
39571 00008958 00000000           758 I1          .DATA.L         _ACC_STEP002_VTBL       ;[05]
39572 0000895C 00000000           759 I1          .DATA.L         _ACC_STEP002_ACTM       ;[06]
39573 00008960 00000000           760 I1          .DATA.L         _ACC_STEP003_VTBL       ;[07]
39574 00008964 00000000           761 I1          .DATA.L         _ACC_STEP003_ACTM       ;[08]
39575 00008968 00000000           762 I1          .DATA.L         _ACC_STOP002_VTBL       ;[09]
39576 0000896C 00000000           763 I1          .DATA.L         _ACC_STOP002_ACTM       ;[10]
39577 00008970 00000000           764 I1          .DATA.L         _ACC_STOP003_VTBL       ;[11]
39578 00008974 00000000           765 I1          .DATA.L         _ACC_STOP003_ACTM       ;[12]
39579 00008978 00000000           766 I1          .DATA.L         _ACC_STOP003_PTBL       ;[13]
39580                             767 I1  
39581 0000897C                    768 I1  _ACC_STEP04_TBL_TOP
39582 0000897C 00000000           769 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
39583 00008980 00000000           770 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39584 00008984 00000000           771 I1          .DATA.L         _ACC_INF1_STEPSP04      ;[03]000%[前状態],050%[設定]
39585 00008988 00000000           772 I1          .DATA.L         _ACC_INF1_STEP004       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
39586 0000898C 00000000           773 I1          .DATA.L         _ACC_STEP003_VTBL       ;[05](STEP1では使用しない)
39587 00008990 00000000           774 I1          .DATA.L         _ACC_STEP003_ACTM       ;[06]
39588 00008994 00000000           775 I1          .DATA.L         _ACC_STEP004_VTBL       ;[07]
39589 00008998 00000000           776 I1          .DATA.L         _ACC_STEP004_ACTM       ;[08]
39590 0000899C 00000000           777 I1          .DATA.L         _ACC_STOP003_VTBL       ;[09]
39591 000089A0 00000000           778 I1          .DATA.L         _ACC_STOP003_ACTM       ;[10]
39592 000089A4 00000000           779 I1          .DATA.L         _ACC_STOP004_VTBL       ;[11]
39593 000089A8 00000000           780 I1          .DATA.L         _ACC_STOP004_ACTM       ;[12]
39594 000089AC 00000000           781 I1          .DATA.L         _ACC_STOP004_PTBL       ;[13]
39595                             782 I1  
39596                             783 I1  
39597 000089B0                    784 I1  _ACC_STEP05_TBL_TOP
39598 000089B0 00000000           785 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
39599 000089B4 00000000           786 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39600 000089B8 00000000           787 I1          .DATA.L         _ACC_INF1_STEPSP05      ;[03]000%[前状態],050%[設定]
39601 000089BC 00000000           788 I1          .DATA.L         _ACC_INF1_STEP005       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
39602 000089C0 00000000           789 I1          .DATA.L         _ACC_STEP004_VTBL       ;[05](STEP1では使用しない)
39603 000089C4 00000000           790 I1          .DATA.L         _ACC_STEP004_ACTM       ;[06]
39604 000089C8 00000000           791 I1          .DATA.L         _ACC_STEP005_VTBL       ;[07]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   601
PROGRAM NAME =

39605 000089CC 00000000           792 I1          .DATA.L         _ACC_STEP005_ACTM       ;[08]
39606 000089D0 00000000           793 I1          .DATA.L         _ACC_STOP004_VTBL       ;[09]
39607 000089D4 00000000           794 I1          .DATA.L         _ACC_STOP004_ACTM       ;[10]
39608 000089D8 00000000           795 I1          .DATA.L         _ACC_STOP005_VTBL       ;[11]
39609 000089DC 00000000           796 I1          .DATA.L         _ACC_STOP005_ACTM       ;[12]
39610 000089E0 00000000           797 I1          .DATA.L         _ACC_STOP005_PTBL       ;[13]
39611                             798 I1  
39612 000089E4                    799 I1  _ACC_STEP06_TBL_TOP
39613 000089E4 00000000           800 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
39614 000089E8 00000000           801 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39615 000089EC 00000000           802 I1          .DATA.L         _ACC_INF1_STEPSP06      ;[03]000%[前状態],050%[設定]
39616 000089F0 00000000           803 I1          .DATA.L         _ACC_INF1_STEP006       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
39617 000089F4 00000000           804 I1          .DATA.L         _ACC_STEP005_VTBL       ;[05](STEP1では使用しない)
39618 000089F8 00000000           805 I1          .DATA.L         _ACC_STEP005_ACTM       ;[06]
39619 000089FC 00000000           806 I1          .DATA.L         _ACC_STEP006_VTBL       ;[07]
39620 00008A00 00000000           807 I1          .DATA.L         _ACC_STEP006_ACTM       ;[08]
39621 00008A04 00000000           808 I1          .DATA.L         _ACC_STOP005_VTBL       ;[09]
39622 00008A08 00000000           809 I1          .DATA.L         _ACC_STOP005_ACTM       ;[10]
39623 00008A0C 00000000           810 I1          .DATA.L         _ACC_STOP006_VTBL       ;[11]
39624 00008A10 00000000           811 I1          .DATA.L         _ACC_STOP006_ACTM       ;[12]
39625 00008A14 00000000           812 I1          .DATA.L         _ACC_STOP006_PTBL       ;[13]
39626                             813 I1  
39627 00008A18                    814 I1  _ACC_STEP07_TBL_TOP
39628 00008A18 00000000           815 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
39629 00008A1C 00000000           816 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39630 00008A20 00000000           817 I1          .DATA.L         _ACC_INF1_STEPSP07      ;[03]000%[前状態],050%[設定]
39631 00008A24 00000000           818 I1          .DATA.L         _ACC_INF1_STEP007       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
39632 00008A28 00000000           819 I1          .DATA.L         _ACC_STEP006_VTBL       ;[05](STEP1では使用しない)
39633 00008A2C 00000000           820 I1          .DATA.L         _ACC_STEP006_ACTM       ;[06]
39634 00008A30 00000000           821 I1          .DATA.L         _ACC_STEP007_VTBL       ;[07]
39635 00008A34 00000000           822 I1          .DATA.L         _ACC_STEP007_ACTM       ;[08]
39636 00008A38 00000000           823 I1          .DATA.L         _ACC_STOP006_VTBL       ;[09]
39637 00008A3C 00000000           824 I1          .DATA.L         _ACC_STOP006_ACTM       ;[10]
39638 00008A40 00000000           825 I1          .DATA.L         _ACC_STOP007_VTBL       ;[11]
39639 00008A44 00000000           826 I1          .DATA.L         _ACC_STOP007_ACTM       ;[12]
39640 00008A48 00000000           827 I1          .DATA.L         _ACC_STOP007_PTBL       ;[13]
39641                             828 I1  
39642 00008A4C                    829 I1  _ACC_STEP08_TBL_TOP
39643 00008A4C 00000000           830 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
39644 00008A50 00000000           831 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39645 00008A54 00000000           832 I1          .DATA.L         _ACC_INF1_STEPSP08      ;[03]000%[前状態],050%[設定]
39646 00008A58 00000000           833 I1          .DATA.L         _ACC_INF1_STEP008       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
39647 00008A5C 00000000           834 I1          .DATA.L         _ACC_STEP007_VTBL       ;[05](STEP1では使用しない)
39648 00008A60 00000000           835 I1          .DATA.L         _ACC_STEP007_ACTM       ;[06]
39649 00008A64 00000000           836 I1          .DATA.L         _ACC_STEP008_VTBL       ;[07]
39650 00008A68 00000000           837 I1          .DATA.L         _ACC_STEP008_ACTM       ;[08]
39651 00008A6C 00000000           838 I1          .DATA.L         _ACC_STOP007_VTBL       ;[09]
39652 00008A70 00000000           839 I1          .DATA.L         _ACC_STOP007_ACTM       ;[10]
39653 00008A74 00000000           840 I1          .DATA.L         _ACC_STOP008_VTBL       ;[11]
39654 00008A78 00000000           841 I1          .DATA.L         _ACC_STOP008_ACTM       ;[12]
39655 00008A7C 00000000           842 I1          .DATA.L         _ACC_STOP008_PTBL       ;[13]
39656                             843 I1  
39657 00008A80                    844 I1  _ACC_STEP09_TBL_TOP
39658 00008A80 00000000           845 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   602
PROGRAM NAME =

39659 00008A84 00000000           846 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39660 00008A88 00000000           847 I1          .DATA.L         _ACC_INF1_STEPSP09      ;[03]000%[前状態],050%[設定]
39661 00008A8C 00000000           848 I1          .DATA.L         _ACC_INF1_STEP009       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
39662 00008A90 00000000           849 I1          .DATA.L         _ACC_STEP008_VTBL       ;[05](STEP1では使用しない)
39663 00008A94 00000000           850 I1          .DATA.L         _ACC_STEP008_ACTM       ;[06]
39664 00008A98 00000000           851 I1          .DATA.L         _ACC_STEP009_VTBL       ;[07]
39665 00008A9C 00000000           852 I1          .DATA.L         _ACC_STEP009_ACTM       ;[08]
39666 00008AA0 00000000           853 I1          .DATA.L         _ACC_STOP008_VTBL       ;[09]
39667 00008AA4 00000000           854 I1          .DATA.L         _ACC_STOP008_ACTM       ;[10]
39668 00008AA8 00000000           855 I1          .DATA.L         _ACC_STOP009_VTBL       ;[11]
39669 00008AAC 00000000           856 I1          .DATA.L         _ACC_STOP009_ACTM       ;[12]
39670 00008AB0 00000000           857 I1          .DATA.L         _ACC_STOP009_PTBL       ;[13]
39671                             858 I1  
39672 00008AB4                    859 I1  _ACC_STEP10_TBL_TOP
39673 00008AB4 00000000           860 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
39674 00008AB8 00000000           861 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39675 00008ABC 00000000           862 I1          .DATA.L         _ACC_INF1_STEPSP10      ;[03]000%[前状態],050%[設定]
39676 00008AC0 00000000           863 I1          .DATA.L         _ACC_INF1_STEP010       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
39677 00008AC4 00000000           864 I1          .DATA.L         _ACC_STEP009_VTBL       ;[05](STEP1では使用しない)
39678 00008AC8 00000000           865 I1          .DATA.L         _ACC_STEP009_ACTM       ;[06]
39679 00008ACC 00000000           866 I1          .DATA.L         _ACC_STEP010_VTBL       ;[07]
39680 00008AD0 00000000           867 I1          .DATA.L         _ACC_STEP010_ACTM       ;[08]
39681 00008AD4 00000000           868 I1          .DATA.L         _ACC_STOP009_VTBL       ;[09]
39682 00008AD8 00000000           869 I1          .DATA.L         _ACC_STOP009_ACTM       ;[10]
39683 00008ADC 00000000           870 I1          .DATA.L         _ACC_STOP010_VTBL       ;[11]
39684 00008AE0 00000000           871 I1          .DATA.L         _ACC_STOP010_ACTM       ;[12]
39685 00008AE4 00000000           872 I1          .DATA.L         _ACC_STOP010_PTBL       ;[13]
39686                             873 I1  
39687 00008AE8                    874 I1  _ACC_STEP11_TBL_TOP
39688 00008AE8 00000000           875 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
39689 00008AEC 00000000           876 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
39690 00008AF0 00000000           877 I1          .DATA.L         _ACC_INF1_STEPSP11      ;[03]000%[前状態],050%[設定]
39691 00008AF4 00000000           878 I1          .DATA.L         _ACC_INF1_STEP011       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
39692 00008AF8 00000000           879 I1          .DATA.L         _ACC_STEP010_VTBL       ;[05](STEP1では使用しない)
39693 00008AFC 00000000           880 I1          .DATA.L         _ACC_STEP010_ACTM       ;[06]
39694 00008B00 00000000           881 I1          .DATA.L         _ACC_STEP011_VTBL       ;[07]
39695 00008B04 00000000           882 I1          .DATA.L         _ACC_STEP011_ACTM       ;[08]
39696 00008B08 00000000           883 I1          .DATA.L         _ACC_STOP010_VTBL       ;[09]
39697 00008B0C 00000000           884 I1          .DATA.L         _ACC_STOP010_ACTM       ;[10]
39698 00008B10 00000000           885 I1          .DATA.L         _ACC_STOP011_VTBL       ;[11]
39699 00008B14 00000000           886 I1          .DATA.L         _ACC_STOP011_ACTM       ;[12]
39700 00008B18 00000000           887 I1          .DATA.L         _ACC_STOP011_PTBL       ;[13]
39701                             888 I1  
39702                             889 I1  
39703                             890 I1  
39704                             891 I1  
39705                             892 I1  
39706                             893 I1  
39707                             894 I1  
39708                             895 I1  
39709                             896 I1  
39710                             897 I1  
39711                             898 I1  ;       ***********************************************************
39712                             899 I1  ;       ***                                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   603
PROGRAM NAME =

39713                             900 I1  ;       ***     振り子加速度テーブル作成SUB1                    ***
39714                             901 I1  ;       ***                                                     ***
39715                             902 I1  ;       ***     速度のみを算出する                              ***
39716                             903 I1  ;       ***     ﾃﾞｰﾀ元ﾃｰﾌﾞﾙ→最大加速時間と速度の変化量から     ***
39717                             904 I1  ;       ***     加速時間と速度ﾃｰﾌﾞﾙを求める                     ***
39718                             905 I1  ;       ***     [完成済み]                                      ***
39719                             906 I1  ;       ***                                                     ***
39720                             907 I1  ;       ***********************************************************
39721                             908 I1  ;       input    R5:前段のOUTPUT-TABLE-TOP
39722                             909 I1  ;       Input   R11:BASE-TABLE-TOP         :ﾃｰﾌﾞﾙは1~1000または1~255まで使用する。
39723                             910 I1  ;       Input   R12:BASE-TABLE-時間 1000(ROM),255(ROM),設定(1~1000)加減速時間
39724                             911 I1  ;       Input   R13:OUTPUT-TABLE-TOP       :
39725                             912 I1  ;       Input   R14:OUTPUT-ACC時間　　　　 :加減速時間
39726                             913 I1  ;
39727                             914 I1  ;       Input   R7 :最大加減速時間
39728                             915 I1  ;       Input   R8:BASE  -SPD
39729                             916 I1  ;       Input   R9:TARGET-SPD  BASE=< TARGET SPD
39730                             917 I1  ;               (R10:ﾊﾟﾙｽﾃｰﾌﾞﾙ)
39731                             918 I1  ;       Output ﾃｰﾌﾞﾙに速度を周波数で記述
39732                             919 I1  ;       [1ﾃｰﾌﾞﾙ作成前にWDTを叩く]
39733                             920 I1  ;
39734                             921 I1  ;       ・速度は0.01%で扱う
39735                             922 I1  ;
39736 00008B1C                    923 I1  _ACC_TBL_MAKSPD1_SUB
39737                             924 I1          SUB_START
39738 00008B1C 4F22                   M           STS.L   PR,@-R15                ;[必要]
39739                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39740                             925 I1          _A_WDT_CLR                              ;
39741                                 M           PUSH_REG1 R10
39742 00008B1E 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
39743                                 M                                           ;REG=>[SP]
39744                                 M                                           ;"-4" FF,FF,FF,FC
39745                                 M           PUSH_REG1 R11
39746 00008B20 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
39747                                 M                                           ;REG=>[SP]
39748                                 M                                           ;"-4" FF,FF,FF,FC
39749                                 M           PUSH_REG1 R12
39750 00008B22 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
39751                                 M                                           ;REG=>[SP]
39752                                 M                                           ;"-4" FF,FF,FF,FC
39753                                 M   
39754                                 M           DI_PUSH_SR_SHn  WK_REG1=R10,WK_REG2=R11
39755 00008B24 0A02                   M           STC     SR,R10                  ;
39756 00008B26 9B21                   M           MOV.W   #H'000000F0,R11         ;
39757 00008B28 2ABB                   M           OR      R11,R10         ;INT15
39758 00008B2A 4F03                   M           STC.L   SR,@-R15                        ;PUSH SR
39759 00008B2C 4A0E                   M           LDC     R10,SR                  ;割込禁止（15）
39760                                 M   
39761 00008B2E DA11                   M           MOV.L   #_PDTRB,R10
39762 00008B30 6BA1                   M           MOV.W   @R10,R11
39763 00008B32 9C1C                   M           MOV.W   #NBIT2,R12              ;;;;2012-10-18  MOV.W   #NBIT0,R12      ; PORT18
39764 00008B34 2BC9                   M           AND     R12,R11                 ;
39765 00008B36 2AB1                   M           MOV.W   R11,@R10                ;
39766 00008B38 9C1A                   M           MOV.W   #BIT2,R12               ;;;;2012-10-18  MOV.W   #BIT0,R12       ;
39767 00008B3A 2BCB                   M           OR      R12,R11                 ;
39768 00008B3C 2AB1                   M           MOV.W   R11,@R10                ;
39769                                 M   
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   604
PROGRAM NAME =

39770                                 M           EI_POP_SR_SHn                   ;
39771 00008B3E 4F07                   M           LDC.L   @R15+,SR                        ;POP SR
39772                                 M   
39773                                 M           POP_REG1 R12
39774                                 M                                   ; RE"+4" 00,00,00,04
39775 00008B40 6CF6                   M           MOV.L   @R15+,R12        ;
39776                                 M           POP_REG1 R11
39777                                 M                                   ; RE"+4" 00,00,00,04
39778 00008B42 6BF6                   M           MOV.L   @R15+,R11        ;
39779                                 M           POP_REG1 R10
39780                                 M                                   ; RE"+4" 00,00,00,04
39781 00008B44 6AF6                   M           MOV.L   @R15+,R10        ;
39782                             926 I1  
39783                             927 I1  
39784                             928 I1  
39785 00008B46 3987               929 I1          CMP/GT  R8,R9                           ;R8[前段]<R9[今回]
39786 00008B48 8902               930 I1          BT      ACC_TBLMKSPD1_SB100
39787 00008B4A 6083               931 I1          MOV     R8,R0                           ;
39788 00008B4C 6893               932 I1          MOV     R9,R8                           ;
39789 00008B4E 6903               933 I1          MOV     R0,R9                           ;
39790 00008B50                    934 I1  ACC_TBLMKSPD1_SB100:                            ;
39791 00008B50 3988               935 I1          SUB     R8,R9                           ;R9=R9-R8
39792 00008B52 2998               936 I1          TST     R9,R9                           ;
39793                             937 I1          TST_BIT_ON ACC_TBLMKSPD1_SB200          ;
39794 00008B54 8B10                   M           BF      ACC_TBLMKSPD1_SB200
39795                             938 I1  
39796                             939 I1  ;       ----速度が同じ場合、前段の速度データをＣＯＰＹする---
39797 00008B56 6373               940 I1          MOV     R7,R3                           ;最大時間1000
39798 00008B58 7301               941 I1          ADD     #1,R3                           ;ﾙｰﾌﾟ数は1001個ﾙｰﾌﾟ
39799 00008B5A                    942 I1  ACC_TBLMKSPD1_SB150:                            ;
39800 00008B5A 6055               943 I1          MOV.W   @R5+,R0                         ;前段ﾃｰﾌﾞﾙ速度
39801 00008B5C 2D01               944 I1          MOV.W   R0,@R13                         ;今回ﾃｰﾌﾞﾙ速度
39802 00008B5E 7D02               945 I1          ADD     #2,R13                          ;
39803 00008B60 73FF               946 I1          ADD     #-1,R3                          ;
39804 00008B62 2338               947 I1          TST     R3,R3                           ;(2013-05-15 COPY されていない)
39805                             948 I1          TST_BIT_ON ACC_TBLMKSPD1_SB150          ;
39806 00008B64 8BF9                   M           BF      ACC_TBLMKSPD1_SB150
39807                             949 I1  
39808 00008B66 2EA1               950 I1          MOV.W   R10,@R14                        ;前段の加速時間を今回に使用
39809                             951 I1          M_BRA   ACC_TBLMKSPD1_SB900             ;
39810 00008B68 A041                   M           BRA     ACC_TBLMKSPD1_SB900
39811 00008B6A 0009                   M           NOP
39812                             952 I1  
39813                                 I1  ***** BEGIN-POOL *****
39814 00008B6C 00F0                   I1  DATA FOR SOURCE-LINE 925
39815 00008B6E 00FB                   I1  DATA FOR SOURCE-LINE 925
39816 00008B70 0004                   I1  DATA FOR SOURCE-LINE 925
39817 00008B72 0000                   I1  ALIGNMENT CODE
39818 00008B74 00000000               I1  DATA FOR SOURCE-LINE 925
39819                                 I1  ***** END-POOL *****
39820 00008B78                    953 I1  ACC_TBLMKSPD1_SB200:                            ;
39821 00008B78 6273               954 I1          MOV     R7,R2                           ;最大時間
39822 00008B7A 6193               955 I1          MOV     R9,R1                           ;変化率
39823 00008B7C 9431               956 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
39824                             957 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
39825 00008B7E D019                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39826 00008B80 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   605
PROGRAM NAME =

39827 00008B82 0009                   M           NOP                                     ;
39828 00008B84 6423               958 I1          MOV     R2,R4
39829                             959 I1  
39830 00008B86 2448               960 I1          TST     R4,R4                           ;
39831                             961 I1          TST_BIT_ON ACC_TBLMKSPD1_SB220          ;
39832 00008B88 8B00                   M           BF      ACC_TBLMKSPD1_SB220
39833 00008B8A 7401               962 I1          ADD     #1,R4                           ;
39834 00008B8C                    963 I1  ACC_TBLMKSPD1_SB220:                            ;
39835 00008B8C 2E41               964 I1          MOV.W   R4,@R14                         ;時間
39836                             965 I1  
39837                             966 I1  ;       R8はオフセット速度
39838                             967 I1  ;       R9は変化率
39839                             968 I1  ;       @R14=R4=時間　+すればﾙｰﾌﾟ回数1
39840                             969 I1  
39841 00008B8E 6343               970 I1          MOV     R4,R3                           ;R4:減速時間
39842 00008B90 7301               971 I1          ADD     #1,R3                           ;
39843                             972 I1  
39844 00008B92 222A               973 I1          XOR     R2,R2                           ;Tx
39845                             974 I1  
39846 00008B94                    975 I1  ACC_TBLMKSPD1_SB250LOP:                         ;
39847 00008B94 2338               976 I1          TST     R3,R3                           ;
39848                             977 I1          TST_BIT_OF ACC_TBLMKSPD1_SB500          ;
39849 00008B96 8929                   M           BT      ACC_TBLMKSPD1_SB500
39850                             978 I1          PUSH_REG1 R2
39851 00008B98 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
39852                                 M                                           ;REG=>[SP]
39853                                 M                                           ;"-4" FF,FF,FF,FC
39854                             979 I1  
39855                             980 I1  
39856 00008B9A 61C3               981 I1          MOV     R12,R1                          ;R12 ﾃﾞｰﾀ元側MAX時間
39857                             982 I1  
39858                             983 I1          PUSH_REG1 R4                            ;R4 ﾃﾞｰﾀ格納側MAX時間
39859 00008B9C 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
39860                                 M                                           ;REG=>[SP]
39861                                 M                                           ;"-4" FF,FF,FF,FC
39862                             984 I1  ;R2*R1/R4 =data･･･MOD
39863 00008B9E 312D               985 I1          DMULS.L R2,R1                                           ;
39864 00008BA0 021A               986 I1          STS     MACL,R2                                         ;
39865                             987 I1          FAR_JSR #_FPU_DIVS_32REG2_DIV_32REG4_R2_MOD_R1,R0       ;R2...R1
39866 00008BA2 D011                   M           MOV.L   #_FPU_DIVS_32REG2_DIV_32REG4_R2_MOD_R1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容
                                          をREGへ
39867 00008BA4 400B                   M           JSR     @R0                     ;
39868 00008BA6 0009                   M           NOP                                     ;
39869                             988 I1  
39870 00008BA8 65B3               989 I1          MOV     R11,R5                          ;ﾃﾞｰﾀ元側 TOP
39871 00008BAA 352C               990 I1          ADD     R2,R5                           ;TOP+NUM*2byte
39872 00008BAC 352C               991 I1          ADD     R2,R5                           ;
39873 00008BAE 6655               992 I1          MOV.W   @R5+,R6                         ;Fn[]
39874                             993 I1  
39875 00008BB0 3C26               994 I1          CMP/HI  R2,R12                          ;
39876 00008BB2 8900               995 I1          BT      ACC_TBLMKSPD1_SB300             ;
39877 00008BB4 75FE               996 I1          ADD     #-2,R5                          ;
39878 00008BB6                    997 I1  ACC_TBLMKSPD1_SB300:                            ;
39879 00008BB6 6251               998 I1          MOV.W   @R5,R2                          ;Fn+1
39880 00008BB8 3268               999 I1          SUB     R6,R2                           ;R2=(Fn+1 -Fn )
39881                            1000 I1          POP_REG1 R4                             ;
39882                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   606
PROGRAM NAME =

39883 00008BBA 64F6                   M           MOV.L   @R15+,R4        ;
39884                            1001 I1  
39885                            1002 I1  
39886                            1003 I1          PUSH_REG1 R4                            ;
39887 00008BBC 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
39888                                 M                                           ;REG=>[SP]
39889                                 M                                           ;"-4" FF,FF,FF,FC
39890                            1004 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;[R2](Fn+1 -Fn ) * [R1]MOD/[R4]格納側Tmax
39891 00008BBE D009                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39892 00008BC0 400B                   M           JSR     @R0                     ;
39893 00008BC2 0009                   M           NOP                                     ;
39894 00008BC4 326C              1005 I1          ADD     R6,R2                           ;R2速度
39895                            1006 I1  
39896 00008BC6 6193              1007 I1          MOV     R9,R1                           ;
39897 00008BC8 940B              1008 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
39898                            1009 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;[R2](速度) * [R1]変化率/[R4]100.00
39899 00008BCA D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39900 00008BCC 400B                   M           JSR     @R0                     ;
39901 00008BCE 0009                   M           NOP                                     ;
39902                            1010 I1          POP_REG1 R4                             ;
39903                                 M                                   ; RE"+4" 00,00,00,04
39904 00008BD0 64F6                   M           MOV.L   @R15+,R4        ;
39905                            1011 I1  
39906 00008BD2 328C              1012 I1          ADD     R8,R2                           ;+ｵﾌｾｯﾄ
39907                            1013 I1  
39908 00008BD4 2D21              1014 I1          MOV.W   R2,@R13                         ;速度SAVE
39909                            1015 I1  
39910                            1016 I1          POP_REG1 R2
39911                                 M                                   ; RE"+4" 00,00,00,04
39912 00008BD6 62F6                   M           MOV.L   @R15+,R2        ;
39913 00008BD8 7D02              1017 I1          ADD     #2,R13                          ;
39914 00008BDA 73FF              1018 I1          ADD     #-1,R3                          ;
39915 00008BDC 7201              1019 I1          ADD     #1,R2                           ;
39916                            1020 I1          M_BRA   ACC_TBLMKSPD1_SB250LOP          ;
39917 00008BDE AFD9                   M           BRA     ACC_TBLMKSPD1_SB250LOP
39918 00008BE0 0009                   M           NOP
39919                            1021 I1  
39920                                 I1  ***** BEGIN-POOL *****
39921 00008BE2 2710                   I1  DATA FOR SOURCE-LINE 956,1008
39922 00008BE4 00000000               I1  DATA FOR SOURCE-LINE 957,1004,1009
39923 00008BE8 00000000               I1  DATA FOR SOURCE-LINE 987
39924                                 I1  ***** END-POOL *****
39925 00008BEC                   1022 I1  ACC_TBLMKSPD1_SB500:                            ;
39926 00008BEC 0009              1023 I1          NOP                                     ;
39927                            1024 I1  
39928 00008BEE                   1025 I1  ACC_TBLMKSPD1_SB900:                            ;
39929                            1026 I1          _A_WDT_CLR                              ;
39930                                 M           PUSH_REG1 R10
39931 00008BEE 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
39932                                 M                                           ;REG=>[SP]
39933                                 M                                           ;"-4" FF,FF,FF,FC
39934                                 M           PUSH_REG1 R11
39935 00008BF0 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
39936                                 M                                           ;REG=>[SP]
39937                                 M                                           ;"-4" FF,FF,FF,FC
39938                                 M           PUSH_REG1 R12
39939 00008BF2 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   607
PROGRAM NAME =

39940                                 M                                           ;REG=>[SP]
39941                                 M                                           ;"-4" FF,FF,FF,FC
39942                                 M   
39943                                 M           DI_PUSH_SR_SHn  WK_REG1=R10,WK_REG2=R11
39944 00008BF4 0A02                   M           STC     SR,R10                  ;
39945 00008BF6 9B11                   M           MOV.W   #H'000000F0,R11         ;
39946 00008BF8 2ABB                   M           OR      R11,R10         ;INT15
39947 00008BFA 4F03                   M           STC.L   SR,@-R15                        ;PUSH SR
39948 00008BFC 4A0E                   M           LDC     R10,SR                  ;割込禁止（15）
39949                                 M   
39950 00008BFE DA09                   M           MOV.L   #_PDTRB,R10
39951 00008C00 6BA1                   M           MOV.W   @R10,R11
39952 00008C02 9C0C                   M           MOV.W   #NBIT2,R12              ;;;;2012-10-18  MOV.W   #NBIT0,R12      ; PORT18
39953 00008C04 2BC9                   M           AND     R12,R11                 ;
39954 00008C06 2AB1                   M           MOV.W   R11,@R10                ;
39955 00008C08 9C0A                   M           MOV.W   #BIT2,R12               ;;;;2012-10-18  MOV.W   #BIT0,R12       ;
39956 00008C0A 2BCB                   M           OR      R12,R11                 ;
39957 00008C0C 2AB1                   M           MOV.W   R11,@R10                ;
39958                                 M   
39959                                 M           EI_POP_SR_SHn                   ;
39960 00008C0E 4F07                   M           LDC.L   @R15+,SR                        ;POP SR
39961                                 M   
39962                                 M           POP_REG1 R12
39963                                 M                                   ; RE"+4" 00,00,00,04
39964 00008C10 6CF6                   M           MOV.L   @R15+,R12        ;
39965                                 M           POP_REG1 R11
39966                                 M                                   ; RE"+4" 00,00,00,04
39967 00008C12 6BF6                   M           MOV.L   @R15+,R11        ;
39968                                 M           POP_REG1 R10
39969                                 M                                   ; RE"+4" 00,00,00,04
39970 00008C14 6AF6                   M           MOV.L   @R15+,R10        ;
39971                            1027 I1          SUB_END
39972                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39973 00008C16 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39974                            1028 I1          M_RTS
39975 00008C18 000B                   M           RTS                             ;RTSの後ろの
39976 00008C1A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39977                            1029 I1  
39978                            1030 I1  ;       ***************************************************
39979                            1031 I1  ;       ***                                             ***
39980                            1032 I1  ;       ***     振り子加速度テーブル作成SUB1            ***
39981                            1033 I1  ;       ***                                             ***
39982                            1034 I1  ;       ***     速度テーブルをパルスに変換する          ***
39983                            1035 I1  ;       ***     [完成済み]                              ***
39984                            1036 I1  ;       ***************************************************
39985                            1037 I1  ;       Input   R6:最大周波数　PLS/Sec
39986                            1038 I1  ;       Input   R13:V-TABLE-TOP
39987                            1039 I1  ;       Input   R14:加減速時間-MEM WORD: ﾙｰﾌﾟ数は0番目を含むから+1回
39988                            1040 I1  ;       Input   R10:ﾊﾟﾙｽﾃｰﾌﾞﾙ
39989                            1041 I1  ;
39990                                 I1  ***** BEGIN-POOL *****
39991 00008C1C 00F0                   I1  DATA FOR SOURCE-LINE 1026
39992 00008C1E 00FB                   I1  DATA FOR SOURCE-LINE 1026
39993 00008C20 0004                   I1  DATA FOR SOURCE-LINE 1026
39994 00008C22 0000                   I1  ALIGNMENT CODE
39995 00008C24 00000000               I1  DATA FOR SOURCE-LINE 1026
39996                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   608
PROGRAM NAME =

39997 00008C28                   1042 I1  _ACC_TBL_MAKPLS1_SUB
39998                            1043 I1          SUB_START
39999 00008C28 4F22                   M           STS.L   PR,@-R15                ;[必要]
40000                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40001                            1044 I1          _A_WDT_CLR                                      ;
40002                                 M           PUSH_REG1 R10
40003 00008C2A 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
40004                                 M                                           ;REG=>[SP]
40005                                 M                                           ;"-4" FF,FF,FF,FC
40006                                 M           PUSH_REG1 R11
40007 00008C2C 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
40008                                 M                                           ;REG=>[SP]
40009                                 M                                           ;"-4" FF,FF,FF,FC
40010                                 M           PUSH_REG1 R12
40011 00008C2E 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
40012                                 M                                           ;REG=>[SP]
40013                                 M                                           ;"-4" FF,FF,FF,FC
40014                                 M   
40015                                 M           DI_PUSH_SR_SHn  WK_REG1=R10,WK_REG2=R11
40016 00008C30 0A02                   M           STC     SR,R10                  ;
40017 00008C32 9B22                   M           MOV.W   #H'000000F0,R11         ;
40018 00008C34 2ABB                   M           OR      R11,R10         ;INT15
40019 00008C36 4F03                   M           STC.L   SR,@-R15                        ;PUSH SR
40020 00008C38 4A0E                   M           LDC     R10,SR                  ;割込禁止（15）
40021                                 M   
40022 00008C3A DA11                   M           MOV.L   #_PDTRB,R10
40023 00008C3C 6BA1                   M           MOV.W   @R10,R11
40024 00008C3E 9C1D                   M           MOV.W   #NBIT2,R12              ;;;;2012-10-18  MOV.W   #NBIT0,R12      ; PORT18
40025 00008C40 2BC9                   M           AND     R12,R11                 ;
40026 00008C42 2AB1                   M           MOV.W   R11,@R10                ;
40027 00008C44 9C1B                   M           MOV.W   #BIT2,R12               ;;;;2012-10-18  MOV.W   #BIT0,R12       ;
40028 00008C46 2BCB                   M           OR      R12,R11                 ;
40029 00008C48 2AB1                   M           MOV.W   R11,@R10                ;
40030                                 M   
40031                                 M           EI_POP_SR_SHn                   ;
40032 00008C4A 4F07                   M           LDC.L   @R15+,SR                        ;POP SR
40033                                 M   
40034                                 M           POP_REG1 R12
40035                                 M                                   ; RE"+4" 00,00,00,04
40036 00008C4C 6CF6                   M           MOV.L   @R15+,R12        ;
40037                                 M           POP_REG1 R11
40038                                 M                                   ; RE"+4" 00,00,00,04
40039 00008C4E 6BF6                   M           MOV.L   @R15+,R11        ;
40040                                 M           POP_REG1 R10
40041                                 M                                   ; RE"+4" 00,00,00,04
40042 00008C50 6AF6                   M           MOV.L   @R15+,R10        ;
40043                            1045 I1  
40044 00008C52 65E1              1046 I1          MOV.W   @R14,R5                                         ;時間
40045 00008C54 7501              1047 I1          ADD     #1,R5                                           ;LOOPは+1
40046                            1048 I1  
40047 00008C56 277A              1049 I1          XOR     R7,R7                                           ;積算数 500,000HZ/1000*100
                                          0=4byte
40048 00008C58 6163              1050 I1          MOV     R6,R1                                           ;data(0~10000) *500,000/(1
                                          0000*1/1000(msec)
40049 00008C5A D40A              1051 I1          MOV.L   #_ACC_PER_V_MAX*_ACC_CALC_TIM,R4                ;
40050                            1052 I1  
40051 00008C5C                   1053 I1  ACC_TBLMKPLS1_SBLOP200
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   609
PROGRAM NAME =

40052 00008C5C 2558              1054 I1          TST     R5,R5                           ;
40053                            1055 I1          TST_BIT_OF ACC_TBLMKPLS1_SB_END         ;
40054 00008C5E 8915                   M           BT      ACC_TBLMKPLS1_SB_END
40055 00008C60 62D5              1056 I1          MOV.W   @R13+,R2                        ;V% LOAD
40056                            1057 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;V%*FREQ/100.00% *1/1000=deltV
40057 00008C62 D009                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40058 00008C64 400B                   M           JSR     @R0                     ;
40059 00008C66 0009                   M           NOP                                     ;
40060                            1058 I1                                                  ;R2(10000)*500000 8BYTE
40061                            1059 I1  
40062                            1060 I1  
40063                            1061 I1  
40064                            1062 I1  
40065                            1063 I1  
40066                            1064 I1  
40067                            1065 I1  ;;      ADD     #1,R2                           ;(1ﾊﾟﾙｽはMOD分･･最大1000ﾊﾟﾙｽ程度の+側に誤
                                          差がでる)
40068 00008C68 2228              1066 I1          TST     R2,R2
40069                            1067 I1          TST_BIT_ON ACC_TBLMKPLS1_SBLOP220       ;
40070 00008C6A 8B00                   M           BF      ACC_TBLMKPLS1_SBLOP220
40071 00008C6C 7201              1068 I1          ADD     #1,R2
40072 00008C6E                   1069 I1  ACC_TBLMKPLS1_SBLOP220
40073                            1070 I1  
40074 00008C6E 372C              1071 I1          ADD     R2,R7                           ;S=S+deltV
40075 00008C70 2A72              1072 I1          MOV.L   R7,@R10                         ;
40076 00008C72 7A04              1073 I1          ADD     #4,R10                          ;
40077                            1074 I1  
40078 00008C74 75FF              1075 I1          ADD     #-1,R5
40079                            1076 I1          M_BRA   ACC_TBLMKPLS1_SBLOP200          ;
40080 00008C76 AFF1                   M           BRA     ACC_TBLMKPLS1_SBLOP200
40081 00008C78 0009                   M           NOP
40082                            1077 I1  
40083                            1078 I1  
40084                                 I1  ***** BEGIN-POOL *****
40085 00008C7A 00F0                   I1  DATA FOR SOURCE-LINE 1044
40086 00008C7C 00FB                   I1  DATA FOR SOURCE-LINE 1044
40087 00008C7E 0004                   I1  DATA FOR SOURCE-LINE 1044
40088 00008C80 00000000               I1  DATA FOR SOURCE-LINE 1044
40089 00008C84 00989680               I1  DATA FOR SOURCE-LINE 1051
40090 00008C88 00000000               I1  DATA FOR SOURCE-LINE 1057
40091                                 I1  ***** END-POOL *****
40092 00008C8C                   1079 I1  ACC_TBLMKPLS1_SB_END
40093                            1080 I1  
40094                            1081 I1          SUB_END
40095                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40096 00008C8C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40097                            1082 I1          M_RTS
40098 00008C8E 000B                   M           RTS                             ;RTSの後ろの
40099 00008C90 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40100                            1083 I1  
40101                            1084 I1  
40102                            1085 I1  
40103                            1086 I1  
40104                            1087 I1  
40105                            1088 I1  
40106                            1089 I1  
40107                            1090 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   610
PROGRAM NAME =

40108                            1091 I1  
40109                            1092 I1  ;       ***************************************************
40110                            1093 I1  ;       ***                                             ***
40111                            1094 I1  ;       ***                                             ***
40112                            1095 I1  ;       ***                                             ***
40113                            1096 I1  ;       ***             振り子API                       ***
40114                            1097 I1  ;       ***                                             ***
40115                            1098 I1  ;       ***                                             ***
40116                            1099 I1  ;       ***************************************************
40117                            1100 I1  ;       サイクル開始(往路/復路),停止からの起動,タイマ停止からの起動
40118 00008C92                   1101 I1  _DNM_START_ACC_CALC:
40119                            1102 I1          SUB_START
40120 00008C92 4F22                   M           STS.L   PR,@-R15                ;[必要]
40121                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40122                            1103 I1  
40123 00008C94 200A              1104 I1          XOR     R0,R0
40124 00008C96 D108              1105 I1          MOV.L   #_ACC_STEP_POINT,R1     ;
40125 00008C98 2101              1106 I1          MOV.W   R0,@R1                  ;
40126 00008C9A D108              1107 I1          MOV.L   #_ACC_STEP_FLG,R1       ;
40127 00008C9C 2101              1108 I1          MOV.W   R0,@R1                  ;
40128 00008C9E D108              1109 I1          MOV.L   #_ACC_STR_STEP,R1       ;
40129 00008CA0 2101              1110 I1          MOV.W   R0,@R1                  ;
40130 00008CA2 D108              1111 I1          MOV.L   #_ACC_CTRL_STS1,R1              ;
40131 00008CA4 2101              1112 I1          MOV.W   R0,@R1                  ;
40132                            1113 I1  
40133                            1114 I1  ;       ---- 2010-09-29---
40134 00008CA6 200A              1115 I1          XOR     R0,R0
40135 00008CA8 D107              1116 I1          MOV.L   #_ACC_LAST_POINT,R1     ;
40136 00008CAA 2101              1117 I1          MOV.W   R0,@R1                  ;
40137 00008CAC D107              1118 I1          MOV.L   #_ACC_STOP_POINT,R1     ;
40138 00008CAE 2101              1119 I1          MOV.W   R0,@R1                  ;
40139                            1120 I1  
40140                            1121 I1          SUB_END
40141                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40142 00008CB0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40143                            1122 I1          M_RTS
40144 00008CB2 000B                   M           RTS                             ;RTSの後ろの
40145 00008CB4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40146                            1123 I1  
40147                            1124 I1  ;       工程切替
40148                                 I1  ***** BEGIN-POOL *****
40149 00008CB6 0000                   I1  ALIGNMENT CODE
40150 00008CB8 00000000               I1  DATA FOR SOURCE-LINE 1105
40151 00008CBC 00000000               I1  DATA FOR SOURCE-LINE 1107
40152 00008CC0 00000000               I1  DATA FOR SOURCE-LINE 1109
40153 00008CC4 00000000               I1  DATA FOR SOURCE-LINE 1111
40154 00008CC8 00000000               I1  DATA FOR SOURCE-LINE 1116
40155 00008CCC 00000000               I1  DATA FOR SOURCE-LINE 1118
40156                                 I1  ***** END-POOL *****
40157 00008CD0                   1125 I1  _DNM_STEP_ACC_CHANGE:
40158                            1126 I1          SUB_START
40159 00008CD0 4F22                   M           STS.L   PR,@-R15                ;[必要]
40160                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40161                            1127 I1  
40162 00008CD2 D10F              1128 I1          MOV.L   #_INT_POS_CTL_STEP,R1   ;//内部制御工程1~11
40163 00008CD4 6011              1129 I1          MOV.W   @R1,R0                  ;
40164 00008CD6 2008              1130 I1          TST     R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   611
PROGRAM NAME =

40165                            1131 I1          TST_BIT_OF DNM_STEP_ACC_CHG_100 ;WHY
40166 00008CD8 8916                   M           BT      DNM_STEP_ACC_CHG_100
40167                            1132 I1  
40168 00008CDA D10E              1133 I1          MOV.L   #_ACC_POS_STEP,R1       ;
40169 00008CDC 6211              1134 I1          MOV.W   @R1,R2                  ;
40170 00008CDE 2101              1135 I1          MOV.W   R0,@R1                  ;
40171 00008CE0 3200              1136 I1          CMP/EQ  R0,R2                   ;
40172 00008CE2 8911              1137 I1          BT      DNM_STEP_ACC_CHG_100    ;変更なし
40173 00008CE4 D10C              1138 I1          MOV.L   #_ACC_STR_STEP,R1       ;
40174 00008CE6 2101              1139 I1          MOV.W   R0,@R1                  ;
40175                            1140 I1  
40176 00008CE8 8801              1141 I1          cmp/eq  #1,r0                   ;
40177 00008CEA 8B00              1142 I1          BF      DNM_STEP_ACC_CHGDBG10
40178 00008CEC 0009              1143 I1          NOP
40179 00008CEE                   1144 I1  DNM_STEP_ACC_CHGDBG10:
40180 00008CEE 8802              1145 I1          cmp/eq  #2,r0                   ;
40181 00008CF0 8B00              1146 I1          BF      DNM_STEP_ACC_CHGDBG20   ;
40182 00008CF2 0009              1147 I1          NOP
40183 00008CF4                   1148 I1  DNM_STEP_ACC_CHGDBG20:                  ;
40184                            1149 I1  
40185 00008CF4 200A              1150 I1          XOR     R0,R0
40186 00008CF6 D109              1151 I1          MOV.L   #_ACC_STEP_POINT,R1     ;
40187 00008CF8 2101              1152 I1          MOV.W   R0,@R1
40188 00008CFA D109              1153 I1          MOV.L   #_ACC_STEP_FLG,R1       ;
40189 00008CFC 2101              1154 I1          MOV.W   R0,@R1
40190                            1155 I1  
40191                            1156 I1  
40192                            1157 I1  
40193                            1158 I1  ;       ---- 2010-09-29---
40194 00008CFE 200A              1159 I1          XOR     R0,R0
40195 00008D00 D108              1160 I1          MOV.L   #_ACC_LAST_POINT,R1     ;
40196 00008D02 2101              1161 I1          MOV.W   R0,@R1                  ;
40197 00008D04 D108              1162 I1          MOV.L   #_ACC_STOP_POINT,R1     ;
40198 00008D06 2101              1163 I1          MOV.W   R0,@R1                  ;
40199                            1164 I1  
40200                            1165 I1  
40201                            1166 I1  
40202 00008D08                   1167 I1  DNM_STEP_ACC_CHG_100:
40203                            1168 I1  
40204                            1169 I1          SUB_END
40205                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40206 00008D08 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40207                            1170 I1          M_RTS
40208 00008D0A 000B                   M           RTS                             ;RTSの後ろの
40209 00008D0C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40210                            1171 I1  
40211                            1172 I1  
40212                            1173 I1  ;       ***************************************************
40213                            1174 I1  ;       ***                                             ***
40214                            1175 I1  ;       ***                                             ***
40215                            1176 I1  ;       ***                                             ***
40216                            1177 I1  ;       ***                                             ***
40217                            1178 I1  ;       ***                                             ***
40218                            1179 I1  ;       ***                                             ***
40219                            1180 I1  ;       ***             振り子加速度演算                ***
40220                            1181 I1  ;       ***             (LSIの演算部の代わり)           ***
40221                            1182 I1  ;       ***                                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   612
PROGRAM NAME =

40222                            1183 I1  ;       ***                                             ***
40223                            1184 I1  ;       ***                                             ***
40224                            1185 I1  ;       ***                                             ***
40225                            1186 I1  ;       ***                                             ***
40226                            1187 I1  ;       ***************************************************
40227                            1188 I1  ;       _PLS_LSI_CTRL
40228                            1189 I1  ;               _PLS_LSI_CTL_CALC
40229                            1190 I1  ;                       POSCTL_SV_SPD
40230                                 I1  ***** BEGIN-POOL *****
40231 00008D0E 0000                   I1  ALIGNMENT CODE
40232 00008D10 00000000               I1  DATA FOR SOURCE-LINE 1128
40233 00008D14 00000000               I1  DATA FOR SOURCE-LINE 1133
40234 00008D18 00000000               I1  DATA FOR SOURCE-LINE 1138
40235 00008D1C 00000000               I1  DATA FOR SOURCE-LINE 1151
40236 00008D20 00000000               I1  DATA FOR SOURCE-LINE 1153
40237 00008D24 00000000               I1  DATA FOR SOURCE-LINE 1160
40238 00008D28 00000000               I1  DATA FOR SOURCE-LINE 1162
40239                                 I1  ***** END-POOL *****
40240 00008D2C                   1191 I1  _DNM_SPD_CALC:
40241                            1192 I1          SUB_START
40242 00008D2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
40243                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40244 00008D2E 200A              1193 I1          XOR     R0,R0
40245 00008D30 D123              1194 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
40246 00008D32 2102              1195 I1          MOV.L   R0,@R1                          ;
40247                            1196 I1  
40248                            1197 I1  
40249 00008D34 200A              1198 I1          XOR     R0,R0                           ;
40250 00008D36 D123              1199 I1          MOV.L   #_ACC_CTRL_STS2,R1              ;
40251 00008D38 2101              1200 I1          MOV.W   R0,@R1                          ;
40252                            1201 I1  
40253                            1202 I1          FAR_JSR #_DNM_STEP_ACC_CHANGE,R0        ;
40254 00008D3A D023                   M           MOV.L   #_DNM_STEP_ACC_CHANGE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40255 00008D3C 400B                   M           JSR     @R0                     ;
40256 00008D3E 0009                   M           NOP                                     ;
40257                            1203 I1  
40258                            1204 I1          FAR_JSR #_DNM_ACC_CALC,R0               ;
40259 00008D40 D022                   M           MOV.L   #_DNM_ACC_CALC,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40260 00008D42 400B                   M           JSR     @R0                     ;
40261 00008D44 0009                   M           NOP                                     ;
40262                            1205 I1  
40263                            1206 I1  ;       -------- DEBUG OUT ------------------
40264 00008D46 D122              1207 I1          MOV.L   #_ACC_CTRL_STS1,R1              ;
40265 00008D48 6011              1208 I1          MOV.W   @R1,R0                          ;
40266 00008D4A D11E              1209 I1          MOV.L   #_ACC_CTRL_STS2,R1              ;
40267 00008D4C 6211              1210 I1          MOV.W   @R1,R2                          ;
40268 00008D4E 202B              1211 I1          OR      R2,R0                           ;
40269                            1212 I1  
40270 00008D50 D120              1213 I1          MOV.L   #_ACC_STEP_FLG,R1               ;
40271 00008D52 6311              1214 I1          MOV.W   @R1,R3                          ;
40272 00008D54 4318              1215 I1          SHLL8   R3                              ;
40273 00008D56 203B              1216 I1          OR      R3,R0                           ;
40274                            1217 I1  
40275                            1218 I1  ;;;;;;;;2015-07-22      MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;
40276                            1219 I1  ;;;;;;;;2015-07-22      MOV.W   R0,@R1                          ;
40277                            1220 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   613
PROGRAM NAME =

40278 00008D58 D119              1221 I1          MOV.L   #_ACC_ANS_ACCDAT,R1     ;(加速または減速すべき　加速度):0変化するﾃﾞｰﾀがな
                                          い
40279 00008D5A 6212              1222 I1          MOV.L   @R1,R2                  ;
40280 00008D5C D11E              1223 I1          MOV.L   #_ACC_MONITOR_DAT1,R1   ;リニア
40281 00008D5E 2122              1224 I1          MOV.L   R2,@R1                  ;+/-1
40282                            1225 I1  
40283 00008D60 D11E              1226 I1          MOV.L   #_ACC_LAST_POINT,R1     ;最大速度から求まる
40284 00008D62 6211              1227 I1          MOV.W   @R1,R2                  ;
40285                            1228 I1          FAR_JSR #_R2_MUL10_ANS_R2,R1    ;*10
40286 00008D64 D11E                   M           MOV.L   #_R2_MUL10_ANS_R2,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40287 00008D66 410B                   M           JSR     @R1                     ;
40288 00008D68 0009                   M           NOP                                     ;
40289 00008D6A D11E              1229 I1          MOV.L   #_ACC_MONITOR_DAT2,R1   ;ｴﾝｺｰﾀﾞ角度
40290 00008D6C 2122              1230 I1          MOV.L   R2,@R1                  ;
40291                            1231 I1  
40292 00008D6E D11E              1232 I1          MOV.L   #_ACC_STOP_POINT,R1     ;ステップ速度停止の中で求まる（停止予定の行程）
40293 00008D70 6211              1233 I1          MOV.W   @R1,R2                  ;
40294                            1234 I1          FAR_JSR #_R2_MUL10_ANS_R2,R1    ;*10
40295 00008D72 D11B                   M           MOV.L   #_R2_MUL10_ANS_R2,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40296 00008D74 410B                   M           JSR     @R1                     ;
40297 00008D76 0009                   M           NOP                                     ;
40298 00008D78 D11C              1235 I1          MOV.L   #_ACC_MONITOR_DAT3,R1   ;PG角度
40299 00008D7A 2122              1236 I1          MOV.L   R2,@R1                  ;
40300                            1237 I1  
40301 00008D7C D11C              1238 I1          MOV.L   #_ACC_STEP_POINT,R1     ;ステップ
40302 00008D7E 6211              1239 I1          MOV.W   @R1,R2                  ;
40303 00008D80 D11C              1240 I1          MOV.L   #_ACC_MONITOR_DAT4,R1   ;負荷率
40304 00008D82 2122              1241 I1          MOV.L   R2,@R1                  ;
40305                            1242 I1  
40306                            1243 I1  
40307                            1244 I1  ;DAT5
40308                            1245 I1  
40309                            1246 I1  
40310 00008D84 D11C              1247 I1          MOV.L   #_ACC_LAST_SPD,R1       ;
40311 00008D86 6212              1248 I1          MOV.L   @R1,R2                  ;
40312 00008D88 4201              1249 I1          SHLR    R2
40313 00008D8A 4201              1250 I1          SHLR    R2
40314 00008D8C 4201              1251 I1          SHLR    R2
40315 00008D8E 4201              1252 I1          SHLR    R2
40316 00008D90 4201              1253 I1          SHLR    R2
40317 00008D92 D11A              1254 I1          MOV.L   #_ACC_MONITOR_DAT6,R1   ;左
40318 00008D94 2122              1255 I1          MOV.L   R2,@R1                  ;
40319                            1256 I1  
40320 00008D96 D11A              1257 I1          MOV.L   #_ACC_STOP_SPD,R1       ;
40321 00008D98 6212              1258 I1          MOV.L   @R1,R2                  ;
40322 00008D9A 4201              1259 I1          SHLR    R2
40323 00008D9C 4201              1260 I1          SHLR    R2
40324 00008D9E 4201              1261 I1          SHLR    R2
40325 00008DA0 4201              1262 I1          SHLR    R2
40326 00008DA2 4201              1263 I1          SHLR    R2
40327 00008DA4 D117              1264 I1          MOV.L   #_ACC_MONITOR_DAT7,R1   ;右
40328 00008DA6 2122              1265 I1          MOV.L   R2,@R1                  ;
40329                            1266 I1  
40330 00008DA8 D117              1267 I1          MOV.L   #_ACC_STEP_SPD,R1       ;
40331 00008DAA 6212              1268 I1          MOV.L   @R1,R2                  ;
40332 00008DAC 4201              1269 I1          SHLR    R2
40333 00008DAE 4201              1270 I1          SHLR    R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   614
PROGRAM NAME =

40334 00008DB0 4201              1271 I1          SHLR    R2
40335 00008DB2 4201              1272 I1          SHLR    R2
40336 00008DB4 4201              1273 I1          SHLR    R2
40337 00008DB6 D115              1274 I1          MOV.L   #_ACC_MONITOR_DAT8,R1   ;合計
40338 00008DB8 2122              1275 I1          MOV.L   R2,@R1                  ;
40339                            1276 I1  
40340                            1277 I1  
40341                            1278 I1  
40342                            1279 I1  
40343                            1280 I1          SUB_END
40344                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40345 00008DBA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40346                            1281 I1          M_RTS
40347 00008DBC 000B                   M           RTS                             ;RTSの後ろの
40348 00008DBE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40349                            1282 I1  
40350                            1283 I1  
40351                            1284 I1  
40352                                 I1  ***** BEGIN-POOL *****
40353 00008DC0 00000000               I1  DATA FOR SOURCE-LINE 1194,1221
40354 00008DC4 00000000               I1  DATA FOR SOURCE-LINE 1199,1209
40355 00008DC8 00000000               I1  DATA FOR SOURCE-LINE 1202
40356 00008DCC 00000000               I1  DATA FOR SOURCE-LINE 1204
40357 00008DD0 00000000               I1  DATA FOR SOURCE-LINE 1207
40358 00008DD4 00000000               I1  DATA FOR SOURCE-LINE 1213
40359 00008DD8 00000000               I1  DATA FOR SOURCE-LINE 1223
40360 00008DDC 00000000               I1  DATA FOR SOURCE-LINE 1226
40361 00008DE0 00000000               I1  DATA FOR SOURCE-LINE 1228,1234
40362 00008DE4 00000000               I1  DATA FOR SOURCE-LINE 1229
40363 00008DE8 00000000               I1  DATA FOR SOURCE-LINE 1232
40364 00008DEC 00000000               I1  DATA FOR SOURCE-LINE 1235
40365 00008DF0 00000000               I1  DATA FOR SOURCE-LINE 1238
40366 00008DF4 00000000               I1  DATA FOR SOURCE-LINE 1240
40367 00008DF8 00000000               I1  DATA FOR SOURCE-LINE 1247
40368 00008DFC 00000000               I1  DATA FOR SOURCE-LINE 1254
40369 00008E00 00000000               I1  DATA FOR SOURCE-LINE 1257
40370 00008E04 00000000               I1  DATA FOR SOURCE-LINE 1264
40371 00008E08 00000000               I1  DATA FOR SOURCE-LINE 1267
40372 00008E0C 00000000               I1  DATA FOR SOURCE-LINE 1274
40373                                 I1  ***** END-POOL *****
40374 00008E10                   1285 I1  _DNM_ACC_CALC
40375                            1286 I1          SUB_START
40376 00008E10 4F22                   M           STS.L   PR,@-R15                ;[必要]
40377                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40378                            1287 I1  
40379                            1288 I1          FAR_JSR #_DNM_ACC_OVER_PLS_MAK,R0
40380 00008E12 D024                   M           MOV.L   #_DNM_ACC_OVER_PLS_MAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40381 00008E14 400B                   M           JSR     @R0                     ;
40382 00008E16 0009                   M           NOP                                     ;
40383                            1289 I1  
40384 00008E18 D123              1290 I1          MOV.L   #_ACC_POS_STEP,R1       ;//内部制御工程1~11
40385 00008E1A 6011              1291 I1          MOV.W   @R1,R0                  ;
40386                            1292 I1  ;----------必要か？  2011-03-22
40387 00008E1C 2008              1293 I1          TST     R0,R0
40388                            1294 I1          TST_BIT_ON DNM_ACCCALC_020
40389 00008E1E 8B00                   M           BF      DNM_ACCCALC_020
40390 00008E20 903C              1295 I1          MOV.W   #1,R0                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   615
PROGRAM NAME =

40391 00008E22                   1296 I1  DNM_ACCCALC_020
40392                            1297 I1  
40393                            1298 I1  
40394 00008E22 D122              1299 I1          MOV.L   #_ACC_STOP_NUMBER,R1    ;停止に使用するデータ番号=停止ステップ
40395 00008E24 2101              1300 I1          MOV.W   R0,@R1                  ;
40396                            1301 I1  
40397 00008E26 D122              1302 I1          MOV.L   #_ACC_STEP_NUMBER,R1    ;加減速に使用するデータ番号=動作ステップ
40398 00008E28 2101              1303 I1          MOV.W   R0,@R1                  ;
40399                            1304 I1  
40400 00008E2A 200A              1305 I1          XOR     R0,R0
40401 00008E2C D121              1306 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
40402 00008E2E 2102              1307 I1          MOV.L   R0,@R1                          ;
40403                            1308 I1  
40404                            1309 I1  ;;;     FAR_JSR #_TBLACC_LAST_SP_MAKE,R0        ;最終減速演算：現在速度より高ければこれに
                                          置き換える
40405                            1310 I1  
40406 00008E30 D121              1311 I1          MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
40407 00008E32 6012              1312 I1          MOV.L   @R1,R0                          ;
40408 00008E34 D121              1313 I1          MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求まる
40409 00008E36 2102              1314 I1          MOV.L   R0,@R1                          ;PLS/S
40410                            1315 I1  
40411                            1316 I1  
40412                            1317 I1  
40413                            1318 I1          FAR_JSR #_TBLACC_STOP_SP_MAKE,R0        ;現行ｽﾃｯﾌﾟからの減速演算：最大以下であれば
                                          最大
40414 00008E38 D021                   M           MOV.L   #_TBLACC_STOP_SP_MAKE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40415 00008E3A 400B                   M           JSR     @R0                     ;
40416 00008E3C 0009                   M           NOP                                     ;
40417                            1319 I1  
40418                            1320 I1          FAR_JSR #_TBLACC_STEP_SP_MAKE,R0        ;減速演算２つより低い範囲で加速または減速
                                          する
40419 00008E3E D021                   M           MOV.L   #_TBLACC_STEP_SP_MAKE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40420 00008E40 400B                   M           JSR     @R0                     ;
40421 00008E42 0009                   M           NOP                                     ;
40422                            1321 I1  
40423                            1322 I1  ;       比較結果を加速度で表す
40424                            1323 I1  
40425 00008E44 288A              1324 I1          XOR     R8,R8                           ;FLAG
40426 00008E46 D11D              1325 I1          MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求まる
40427 00008E48 6612              1326 I1          MOV.L   @R1,R6                          ;PLS/S
40428 00008E4A D11F              1327 I1          MOV.L   #_ACC_STOP_SPD,R1               ;停止ステップのデータから求まる
40429 00008E4C 6512              1328 I1          MOV.L   @R1,R5                          ;
40430 00008E4E 3653              1329 I1          CMP/GE  R5,R6                           ;
40431 00008E50 8902              1330 I1          BT      DNM_ACCCALC_100                 ;
40432 00008E52 9423              1331 I1          MOV.W   #BIT0,R4                        ;
40433 00008E54 284B              1332 I1          OR      R4,R8                           ;
40434 00008E56 6563              1333 I1          MOV     R6,R5                           ;R5:LIMIT
40435 00008E58                   1334 I1  DNM_ACCCALC_100
40436                            1335 I1  
40437                            1336 I1  
40438 00008E58 D11C              1337 I1          MOV.L   #_ACC_STEP_SPD,R1               ;これから変化させようと考えている速度
40439 00008E5A 6212              1338 I1          MOV.L   @R1,R2                          ;
40440 00008E5C 3523              1339 I1          CMP/GE  R2,R5                           ;
40441 00008E5E 8902              1340 I1          BT      DNM_ACCCALC_200                 ;
40442                            1341 I1  
40443                            1342 I1  ;       --- limit on----
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   616
PROGRAM NAME =

40444 00008E60 941D              1343 I1          MOV.W   #BIT1,R4                        ;
40445 00008E62 284B              1344 I1          OR      R4,R8                           ;
40446 00008E64 6253              1345 I1          MOV     R5,R2                           ;LIMIT
40447                            1346 I1  
40448 00008E66                   1347 I1  DNM_ACCCALC_200
40449 00008E66 D11A              1348 I1          MOV.L   #_ACC_CALC_SPDX,R1              ;
40450 00008E68 2122              1349 I1          MOV.L   R2,@R1                          ;
40451                            1350 I1  
40452                            1351 I1          FAR_JSR #_DNM_ACC_OVER_SPD_MAK,R0               ;
40453 00008E6A D01A                   M           MOV.L   #_DNM_ACC_OVER_SPD_MAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40454 00008E6C 400B                   M           JSR     @R0                     ;
40455 00008E6E 0009                   M           NOP                                     ;
40456 00008E70 D119              1352 I1          MOV.L   #_ACC_CALC_SPD,R1               ;
40457 00008E72 6212              1353 I1          MOV.L   @R1,R2                          ;
40458                            1354 I1  
40459                            1355 I1  
40460 00008E74 D119              1356 I1          MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
40461 00008E76 6312              1357 I1          MOV.L   @R1,R3                          ;
40462 00008E78 3233              1358 I1          CMP/GE  R3,R2                           ;
40463 00008E7A 8902              1359 I1          BT      DNM_ACCCALC_300                 ;
40464                            1360 I1  
40465                            1361 I1  ;       --- UNDER　LIMIT----
40466 00008E7C 9410              1362 I1          MOV.W   #BIT2,R4                        ;[BIT2はにせもの]
40467 00008E7E 284B              1363 I1          OR      R4,R8                           ;
40468 00008E80 6233              1364 I1          MOV     R3,R2                           ;
40469                            1365 I1  
40470 00008E82                   1366 I1  DNM_ACCCALC_300
40471 00008E82 D117              1367 I1          MOV.L   #_ACC_CTRL_STS1,R1              ;
40472 00008E84 6011              1368 I1          MOV.W   @R1,R0                          ;
40473 00008E86 C9FB              1369 I1          AND     #LOW ~BIT2,R0
40474 00008E88 208B              1370 I1          OR      R8,R0                           ;
40475 00008E8A 2101              1371 I1          MOV.W   R0,@R1                          ;
40476                            1372 I1  
40477 00008E8C D115              1373 I1          MOV.L   #_POSCTL_RL_SPD,R1              ;現在速度
40478 00008E8E 6312              1374 I1          MOV.L   @R1,R3                          ;
40479 00008E90 3238              1375 I1          SUB     R3,R2                           ;
40480 00008E92 D108              1376 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
40481 00008E94 2122              1377 I1          MOV.L   R2,@R1                          ;
40482                            1378 I1  
40483                            1379 I1          SUB_END
40484                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40485 00008E96 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40486                            1380 I1          M_RTS
40487 00008E98 000B                   M           RTS                             ;RTSの後ろの
40488 00008E9A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40489                            1381 I1  
40490                            1382 I1  
40491                            1383 I1  
40492                            1384 I1  
40493                            1385 I1  
40494                            1386 I1  
40495                            1387 I1  ;       *******************************************
40496                            1388 I1  ;       ***                                     ***
40497                            1389 I1  ;       ***     演算上で使用するデータ          ***
40498                            1390 I1  ;       ***                                     ***
40499                            1391 I1  ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   617
PROGRAM NAME =

40500                                 I1  ***** BEGIN-POOL *****
40501 00008E9C 0001                   I1  DATA FOR SOURCE-LINE 1295,1331
40502 00008E9E 0002                   I1  DATA FOR SOURCE-LINE 1343
40503 00008EA0 0004                   I1  DATA FOR SOURCE-LINE 1362
40504 00008EA2 0000                   I1  ALIGNMENT CODE
40505 00008EA4 00000000               I1  DATA FOR SOURCE-LINE 1288
40506 00008EA8 00000000               I1  DATA FOR SOURCE-LINE 1290
40507 00008EAC 00000000               I1  DATA FOR SOURCE-LINE 1299
40508 00008EB0 00000000               I1  DATA FOR SOURCE-LINE 1302
40509 00008EB4 00000000               I1  DATA FOR SOURCE-LINE 1306,1376
40510 00008EB8 00000000               I1  DATA FOR SOURCE-LINE 1311
40511 00008EBC 00000000               I1  DATA FOR SOURCE-LINE 1313,1325
40512 00008EC0 00000000               I1  DATA FOR SOURCE-LINE 1318
40513 00008EC4 00000000               I1  DATA FOR SOURCE-LINE 1320
40514 00008EC8 00000000               I1  DATA FOR SOURCE-LINE 1327
40515 00008ECC 00000000               I1  DATA FOR SOURCE-LINE 1337
40516 00008ED0 00000000               I1  DATA FOR SOURCE-LINE 1348
40517 00008ED4 00000000               I1  DATA FOR SOURCE-LINE 1351
40518 00008ED8 00000000               I1  DATA FOR SOURCE-LINE 1352
40519 00008EDC 00000000               I1  DATA FOR SOURCE-LINE 1356
40520 00008EE0 00000000               I1  DATA FOR SOURCE-LINE 1367
40521 00008EE4 00000000               I1  DATA FOR SOURCE-LINE 1373
40522                                 I1  ***** END-POOL *****
40523 00008EE8                   1392 I1  _DNM_ACC_OVER_PLS_MAK:
40524                            1393 I1          SUB_START
40525 00008EE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
40526                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40527 00008EEA D50A              1394 I1          MOV.L   #_ACC_REST_ABS_PLS,R5   ;//
40528 00008EEC 6156              1395 I1          MOV.L   @R5+,R1                 ;
40529 00008EEE 6252              1396 I1          MOV.L   @R5,R2                  ;
40530                            1397 I1  
40531                            1398 I1  ;       *1/比率
40532 00008EF0 D409              1399 I1          MOV.L   #_ACC_REST_FLG,R4               ;//0:減速ﾁｪｯｸしなくていい(500,000*30sec以
                                          上距離がある)
40533 00008EF2 6041              1400 I1          MOV.W   @R4,R0                          ;
40534 00008EF4 2008              1401 I1          TST     R0,R0                           ;
40535                            1402 I1          TST_BIT_OF DNM_ACC_OVER_PLSMK200        ;
40536 00008EF6 891A                   M           BT      DNM_ACC_OVER_PLSMK200
40537                            1403 I1  
40538 00008EF8 D308              1404 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
40539 00008EFA 6431              1405 I1          MOV.W   @R3,R4                                  ;
40540 00008EFC 9109              1406 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
40541                            1407 I1          FAR_JSR #_MULDIV_R2S32mR1S32dR4S32aR1R2S64,R0   ;
40542 00008EFE D008                   M           MOV.L   #_MULDIV_R2S32mR1S32dR4S32aR1R2S64,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40543 00008F00 400B                   M           JSR     @R0                     ;
40544 00008F02 0009                   M           NOP                                     ;
40545                            1408 I1  
40546 00008F04 2118              1409 I1          TST     R1,R1                                   ;
40547                            1410 I1          TST_BIT_ON DNM_ACC_OVER_PLSMK100                ;まだ4byte以上ある
40548 00008F06 8B0F                   M           BF      DNM_ACC_OVER_PLSMK100
40549                            1411 I1  
40550 00008F08 D406              1412 I1          MOV.L   #_GENSOK_LNGTH_MAX,R4                   ;30秒*500KHよりも距離がある
40551 00008F0A 3243              1413 I1          CMP/GE  R4,R2                                   ;
40552 00008F0C 890C              1414 I1          BT      DNM_ACC_OVER_PLSMK100                   ;
40553                            1415 I1          M_BRA   DNM_ACC_OVER_PLSMK200                   ;
40554 00008F0E A00E                   M           BRA     DNM_ACC_OVER_PLSMK200
40555 00008F10 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   618
PROGRAM NAME =

40556                            1416 I1  
40557                                 I1  ***** BEGIN-POOL *****
40558 00008F12 0064                   I1  DATA FOR SOURCE-LINE 1406
40559 00008F14 00000000               I1  DATA FOR SOURCE-LINE 1394
40560 00008F18 00000000               I1  DATA FOR SOURCE-LINE 1399
40561 00008F1C 00000000               I1  DATA FOR SOURCE-LINE 1404
40562 00008F20 00000000               I1  DATA FOR SOURCE-LINE 1407
40563 00008F24 00E4E1C0               I1  DATA FOR SOURCE-LINE 1412
40564                                 I1  ***** END-POOL *****
40565 00008F28                   1417 I1  DNM_ACC_OVER_PLSMK100
40566 00008F28 902F              1418 I1          MOV.W   #-1,R0
40567 00008F2A D419              1419 I1          MOV.L   #_ACC_REST_FLG,R4               ;//0:減速ﾁｪｯｸしなくていい(500,000*30sec以
                                          上距離がある)
40568 00008F2C 2401              1420 I1          MOV.W   R0,@R4                          ;
40569                            1421 I1  
40570 00008F2E                   1422 I1  DNM_ACC_OVER_PLSMK200:
40571 00008F2E D619              1423 I1          MOV.L   #_ACC_REST_ABS_PLSX,R6  ;//これで演算
40572 00008F30 2612              1424 I1          MOV.L   R1,@R6                  ;
40573 00008F32 1621              1425 I1          MOV.L   R2,@(4,R6)              ;
40574                            1426 I1  
40575                            1427 I1  
40576                            1428 I1  ;       _TBLACC_ACC_ADDCHKの演算に使用している箇所の拡大
40577                            1429 I1  ;       設定速度の拡大 DATA*MAX/比率
40578 00008F34 D118              1430 I1          MOV.L   #_POSCTL_SV_SPD,R1                      ;
40579 00008F36 6212              1431 I1          MOV.L   @R1,R2                                  ;
40580 00008F38 D318              1432 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
40581 00008F3A 6431              1433 I1          MOV.W   @R3,R4                                  ;
40582 00008F3C 9126              1434 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
40583                            1435 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
40584 00008F3E D018                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40585 00008F40 400B                   M           JSR     @R0                     ;
40586 00008F42 0009                   M           NOP                                     ;
40587 00008F44 D117              1436 I1          MOV.L   #_ACC_POSCTL_SV_SPDX,R1                 ;
40588 00008F46 2122              1437 I1          MOV.L   R2,@R1                                  ;
40589                            1438 I1  
40590                            1439 I1  
40591                            1440 I1  
40592                            1441 I1  ;       実速度の拡大 DATA*MAX/比率(ACC_)
40593 00008F48 D117              1442 I1          MOV.L   #_POSCTL_RL_SPD,R1                      ;
40594 00008F4A 6212              1443 I1          MOV.L   @R1,R2                                  ;
40595 00008F4C D313              1444 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
40596 00008F4E 6431              1445 I1          MOV.W   @R3,R4                                  ;
40597 00008F50 911C              1446 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
40598                            1447 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
40599 00008F52 D013                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40600 00008F54 400B                   M           JSR     @R0                     ;
40601 00008F56 0009                   M           NOP                                     ;
40602 00008F58 D114              1448 I1          MOV.L   #_ACC_POSCTL_RL_SPDX,R1                 ;
40603 00008F5A 2122              1449 I1          MOV.L   R2,@R1                                  ;
40604                            1450 I1  
40605                            1451 I1  
40606                            1452 I1  
40607                            1453 I1  ;       加速度の拡大 DATA*MAX/比率
40608 00008F5C D114              1454 I1          MOV.L   #_POSCTL_SV_UP_ACC,R1                   ;
40609 00008F5E 6212              1455 I1          MOV.L   @R1,R2                                  ;
40610 00008F60 D30E              1456 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
40611 00008F62 6431              1457 I1          MOV.W   @R3,R4                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   619
PROGRAM NAME =

40612 00008F64 9112              1458 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
40613                            1459 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
40614 00008F66 D00E                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40615 00008F68 400B                   M           JSR     @R0                     ;
40616 00008F6A 0009                   M           NOP                                     ;
40617 00008F6C D111              1460 I1          MOV.L   #_ACC_POSCTL_SV_UP_ACCX,R1              ;
40618 00008F6E 2122              1461 I1          MOV.L   R2,@R1                                  ;
40619                            1462 I1  
40620                            1463 I1  
40621                            1464 I1  ;       加速度の拡大 DATA*MAX/比率
40622 00008F70 D111              1465 I1          MOV.L   #_POSCTL_SV_DN_ACC,R1                   ;
40623 00008F72 6212              1466 I1          MOV.L   @R1,R2                                  ;
40624 00008F74 D309              1467 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
40625 00008F76 6431              1468 I1          MOV.W   @R3,R4                                  ;
40626 00008F78 9108              1469 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
40627                            1470 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
40628 00008F7A D009                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40629 00008F7C 400B                   M           JSR     @R0                     ;
40630 00008F7E 0009                   M           NOP                                     ;
40631 00008F80 D10E              1471 I1          MOV.L   #_ACC_POSCTL_SV_DN_ACCX,R1              ;
40632 00008F82 2122              1472 I1          MOV.L   R2,@R1                                  ;
40633                            1473 I1  
40634                            1474 I1  
40635                            1475 I1  
40636                            1476 I1  
40637                            1477 I1  
40638                            1478 I1  
40639                            1479 I1          SUB_END
40640                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40641 00008F84 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40642                            1480 I1          M_RTS
40643 00008F86 000B                   M           RTS                             ;RTSの後ろの
40644 00008F88 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40645                            1481 I1  
40646                            1482 I1  
40647                                 I1  ***** BEGIN-POOL *****
40648 00008F8A FFFF                   I1  DATA FOR SOURCE-LINE 1418
40649 00008F8C 0064                   I1  DATA FOR SOURCE-LINE 1434,1446,1458,1469
40650 00008F8E 0000                   I1  ALIGNMENT CODE
40651 00008F90 00000000               I1  DATA FOR SOURCE-LINE 1419
40652 00008F94 00000000               I1  DATA FOR SOURCE-LINE 1423
40653 00008F98 00000000               I1  DATA FOR SOURCE-LINE 1430
40654 00008F9C 00000000               I1  DATA FOR SOURCE-LINE 1432,1444,1456,1467
40655 00008FA0 00000000               I1  DATA FOR SOURCE-LINE 1435,1447,1459,1470
40656 00008FA4 00000000               I1  DATA FOR SOURCE-LINE 1436
40657 00008FA8 00000000               I1  DATA FOR SOURCE-LINE 1442
40658 00008FAC 00000000               I1  DATA FOR SOURCE-LINE 1448
40659 00008FB0 00000000               I1  DATA FOR SOURCE-LINE 1454
40660 00008FB4 00000000               I1  DATA FOR SOURCE-LINE 1460
40661 00008FB8 00000000               I1  DATA FOR SOURCE-LINE 1465
40662 00008FBC 00000000               I1  DATA FOR SOURCE-LINE 1471
40663                                 I1  ***** END-POOL *****
40664 00008FC0                   1483 I1  _DNM_ACC_OVER_SPD_MAK:
40665                            1484 I1          SUB_START
40666 00008FC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
40667                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40668 00008FC2 D107              1485 I1          MOV.L   #_ACC_CALC_SPDX,R1                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   620
PROGRAM NAME =

40669 00008FC4 6212              1486 I1          MOV.L   @R1,R2                                  ;
40670                            1487 I1  
40671                            1488 I1  ;      *比率
40672 00008FC6 D307              1489 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
40673 00008FC8 6131              1490 I1          MOV.W   @R3,R1                                  ;
40674 00008FCA 9407              1491 I1          MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;
40675                            1492 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
40676 00008FCC D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40677 00008FCE 400B                   M           JSR     @R0                     ;
40678 00008FD0 0009                   M           NOP                                     ;
40679                            1493 I1  
40680                            1494 I1  
40681 00008FD2 D106              1495 I1          MOV.L   #_ACC_CALC_SPD,R1               ;
40682 00008FD4 2122              1496 I1          MOV.L   R2,@R1                          ;
40683                            1497 I1          SUB_END
40684                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40685 00008FD6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40686                            1498 I1          M_RTS
40687 00008FD8 000B                   M           RTS                             ;RTSの後ろの
40688 00008FDA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40689                            1499 I1  
40690                            1500 I1  
40691                            1501 I1  
40692                            1502 I1  ;       ***************************************************
40693                            1503 I1  ;       ***                                             ***
40694                            1504 I1  ;       ***             最終減速演算                    ***
40695                            1505 I1  ;       ***             100%->0%                        ***
40696                            1506 I1  ;       ***             距離を使用する                  ***
40697                            1507 I1  ;       ***                                             ***
40698                            1508 I1  ;       ***************************************************
40699                            1509 I1  ;@全工程
40700                            1510 I1  ;;;[2013-05-20 前から未使用]_TBLACC_LAST_SP_MAKE
40701                            1511 I1  ;;;[2013-05-20 前から未使用]    SUB_START
40702                            1512 I1  ;;;[2013-05-20 前から未使用]
40703                            1513 I1  ;;;[2013-05-20 前から未使用];最大速度時の減速速度
40704                            1514 I1  ;;;[2013-05-20 前から未使用];最大速度時の減速パルス
40705                            1515 I1  ;;;[2013-05-20 前から未使用]
40706                            1516 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
40707                            1517 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R1,R6                          ;
40708                            1518 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
40709                            1519 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
40710                            1520 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ
                                          換算値　pls/s
40711                            1521 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @R1,R5                          ;
40712                            1522 I1  ;;;[2013-05-20 前から未使用]
40713                            1523 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_REST_ABS_PLSX,R0          ;
40714                            1524 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @R0,R1                          ;
40715                            1525 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @(4,R0),R2                      ;USED R2
40716                            1526 I1  ;;;[2013-05-20 前から未使用]
40717                            1527 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_POINT_SERCH_PLS1,R0
40718                            1528 I1  ;;;[2013-05-20 前から未使用]
40719                            1529 I1  ;;;[2013-05-20 前から未使用]
40720                            1530 I1  ;;;[2013-05-20 前から未使用];;  MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求ま
                                          る
40721                            1531 I1  ;;;[2013-05-20 前から未使用];;  MOV.L   R2,@R1                          ;PLS/S
40722                            1532 I1  ;;;[2013-05-20 前から未使用]
40723                            1533 I1  ;;;[2013-05-20 前から未使用];;  MOV.L   #_ACC_LAST_POINT,R1             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   621
PROGRAM NAME =

40724                            1534 I1  ;;;[2013-05-20 前から未使用];;  MOV.W   R0,@R1
40725                            1535 I1  ;;;[2013-05-20 前から未使用]
40726                            1536 I1  ;;;[2013-05-20 前から未使用]
40727                            1537 I1  ;;;[2013-05-20 前から未使用]
40728                            1538 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0
40729                            1539 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_LASTSP_MK100          ;
40730                            1540 I1  ;;;[2013-05-20 前から未使用]    NOP
40731                            1541 I1  ;;;[2013-05-20 前から未使用]    M_BRA   TBLACC_LASTSP_MK150
40732                            1542 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK100
40733                            1543 I1  ;;;[2013-05-20 前から未使用]    NOP
40734                            1544 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK150
40735                            1545 I1  ;;;[2013-05-20 前から未使用]
40736                            1546 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_LAST_POINT,R5             ;
40737                            1547 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R5,R3                          ;
40738                            1548 I1  ;;;[2013-05-20 前から未使用]    TST     R3,R3                           ;
40739                            1549 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_LASTSP_MK500          ;
40740                            1550 I1  ;;;[2013-05-20 前から未使用]
40741                            1551 I1  ;;;[2013-05-20 前から未使用]
40742                            1552 I1  ;;;[2013-05-20 前から未使用]    CMP/HS  R3,R0                           ;R3=<R0
40743                            1553 I1  ;;;[2013-05-20 前から未使用]    BF      TBLACC_LASTSP_MK200             ;NO! R0<R3 ok減速
                                          した
40744                            1554 I1  ;;;[2013-05-20 前から未使用]
40745                            1555 I1  ;;;[2013-05-20 前から未使用]    ADD     #-1,R3                          ;
40746                            1556 I1  ;;;[2013-05-20 前から未使用]    MOV     R3,R0                           ;
40747                            1557 I1  ;;;[2013-05-20 前から未使用]
40748                            1558 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK200:
40749                            1559 I1  ;;;[2013-05-20 前から未使用]
40750                            1560 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0                           ;
40751                            1561 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_ON TBLACC_LASTSP_MK400
40752                            1562 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #1,R0                           ;
40753                            1563 I1  ;;;[2013-05-20 前から未使用]
40754                            1564 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK400
40755                            1565 I1  ;;;[2013-05-20 前から未使用]    PUSH_REG1 R0
40756                            1566 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_POINT_GET_SPD1,R1             ;
40757                            1567 I1  ;;;[2013-05-20 前から未使用]    POP_REG1 R0                             ;
40758                            1568 I1  ;;;[2013-05-20 前から未使用]
40759                            1569 I1  ;;;[2013-05-20 前から未使用]
40760                            1570 I1  ;;;[2013-05-20 前から未使用]
40761                            1571 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK500                         ;
40762                            1572 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_LAST_POINT,R5             ;
40763                            1573 I1  ;;;[2013-05-20 前から未使用]    MOV.W   R0,@R5
40764                            1574 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求ま
                                          る
40765                            1575 I1  ;;;[2013-05-20 前から未使用]    MOV.L   R2,@R1                          ;PLS/S
40766                            1576 I1  ;;;[2013-05-20 前から未使用]
40767                            1577 I1  ;;;[2013-05-20 前から未使用];   ----------- 使用しない---
40768                            1578 I1  ;;;[2013-05-20 前から未使用]
40769                            1579 I1  ;;;[2013-05-20 前から未使用]
40770                            1580 I1  ;;;[2013-05-20 前から未使用]    SUB_END
40771                            1581 I1  ;;;[2013-05-20 前から未使用]    M_RTS
40772                            1582 I1  
40773                            1583 I1  
40774                            1584 I1  
40775                            1585 I1  ;       ***************************************************
40776                            1586 I1  ;       ***                                             ***
40777                            1587 I1  ;       ***             停止減速演算                    ***
40778                            1588 I1  ;       ***             x%->0%                          ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   622
PROGRAM NAME =

40779                            1589 I1  ;       ***             距離を使用する                  ***
40780                            1590 I1  ;       ***                                             ***
40781                            1591 I1  ;       ***************************************************
40782                            1592 I1  ;A全工程(全段数に対して存在する)
40783                                 I1  ***** BEGIN-POOL *****
40784 00008FDC 0064                   I1  DATA FOR SOURCE-LINE 1491
40785 00008FDE 0000                   I1  ALIGNMENT CODE
40786 00008FE0 00000000               I1  DATA FOR SOURCE-LINE 1485
40787 00008FE4 00000000               I1  DATA FOR SOURCE-LINE 1489
40788 00008FE8 00000000               I1  DATA FOR SOURCE-LINE 1492
40789 00008FEC 00000000               I1  DATA FOR SOURCE-LINE 1495
40790                                 I1  ***** END-POOL *****
40791 00008FF0                   1593 I1  _TBLACC_STOP_SP_MAKE
40792                            1594 I1          SUB_START
40793 00008FF0 4F22                   M           STS.L   PR,@-R15                ;[必要]
40794                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40795                            1595 I1  
40796 00008FF2 D107              1596 I1          MOV.L   #_ACC_STOP_NUMBER,R1    ;停止に使用するデータ番号=停止ステップ
40797 00008FF4 6511              1597 I1          MOV.W   @R1,R5                  ;
40798                            1598 I1  
40799                            1599 I1          FAR_JSR #_ACC_NUMBER_SELTBL1,R0 ;
40800 00008FF6 D007                   M           MOV.L   #_ACC_NUMBER_SELTBL1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40801 00008FF8 400B                   M           JSR     @R0                     ;
40802 00008FFA 0009                   M           NOP                                     ;
40803                            1600 I1  
40804 00008FFC D106              1601 I1          MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
40805 00008FFE 6512              1602 I1          MOV.L   @R1,R5                          ;
40806                            1603 I1  
40807 00009000 D006              1604 I1          MOV.L   #_ACC_REST_ABS_PLSX,R0          ;
40808 00009002 6102              1605 I1          MOV.L   @R0,R1                          ;
40809 00009004 5201              1606 I1          MOV.L   @(4,R0),R2                      ;USED R2
40810                            1607 I1  
40811                            1608 I1          FAR_JSR #_POINT_SERCH_PLS_HOKAN1,R0     ;
40812 00009006 D006                   M           MOV.L   #_POINT_SERCH_PLS_HOKAN1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40813 00009008 400B                   M           JSR     @R0                     ;
40814 0000900A 0009                   M           NOP                                     ;
40815                            1609 I1          M_BRA   TBLACC_STOPSP_MK500
40816 0000900C A00A                   M           BRA     TBLACC_STOPSP_MK500
40817 0000900E 0009                   M           NOP
40818                            1610 I1  
40819                            1611 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0
40820                            1612 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_STOPSP_MK100          ;
40821                            1613 I1  ;;;[2013-05-20 前から未使用]    NOP
40822                            1614 I1  ;;;[2013-05-20 前から未使用]    M_BRA   TBLACC_STOPSP_MK150
40823                            1615 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK100
40824                            1616 I1  ;;;[2013-05-20 前から未使用]    NOP
40825                            1617 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK150
40826                            1618 I1  ;;;[2013-05-20 前から未使用]
40827                            1619 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_STOP_POINT,R5             ;
40828                            1620 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R5,R3                          ;
40829                            1621 I1  ;;;[2013-05-20 前から未使用]    TST     R3,R3                           ;
40830                            1622 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_STOPSP_MK500          ;
40831                            1623 I1  ;;;[2013-05-20 前から未使用]
40832                            1624 I1  ;;;[2013-05-20 前から未使用]
40833                            1625 I1  ;;;[2013-05-20 前から未使用]    CMP/HS  R3,R0                           ;R3=<R0
40834                            1626 I1  ;;;[2013-05-20 前から未使用]    BF      TBLACC_STOPSP_MK200             ;NO! R0<R3 ok減速
                                          した
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   623
PROGRAM NAME =

40835                            1627 I1  ;;;[2013-05-20 前から未使用]
40836                            1628 I1  ;;;[2013-05-20 前から未使用]    ADD     #-1,R3                          ;
40837                            1629 I1  ;;;[2013-05-20 前から未使用]    MOV     R3,R0                           ;
40838                            1630 I1  ;;;[2013-05-20 前から未使用]
40839                            1631 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK200:
40840                            1632 I1  ;;;[2013-05-20 前から未使用]
40841                            1633 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0                           ;
40842                            1634 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_ON TBLACC_STOPSP_MK400
40843                            1635 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #1,R0                           ;
40844                            1636 I1  ;;;[2013-05-20 前から未使用]
40845                            1637 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK400
40846                            1638 I1  ;;;[2013-05-20 前から未使用]    PUSH_REG1 R0
40847                            1639 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_POINT_GET_SPD1,R1             ;
40848                            1640 I1  ;;;[2013-05-20 前から未使用]    POP_REG1 R0                             ;
40849                            1641 I1  ;;;[2013-05-20 前から未使用]
40850                            1642 I1  ;;;[2013-05-20 前から未使用]
40851                            1643 I1  ;;;[2013-05-20 前から未使用]
40852                                 I1  ***** BEGIN-POOL *****
40853 00009010 00000000               I1  DATA FOR SOURCE-LINE 1596
40854 00009014 00000000               I1  DATA FOR SOURCE-LINE 1599
40855 00009018 00000000               I1  DATA FOR SOURCE-LINE 1601
40856 0000901C 00000000               I1  DATA FOR SOURCE-LINE 1604
40857 00009020 00000000               I1  DATA FOR SOURCE-LINE 1608
40858                                 I1  ***** END-POOL *****
40859 00009024                   1644 I1  TBLACC_STOPSP_MK500                             ;
40860 00009024 D503              1645 I1          MOV.L   #_ACC_STOP_POINT,R5             ;
40861 00009026 2501              1646 I1          MOV.W   R0,@R5
40862 00009028 D103              1647 I1          MOV.L   #_ACC_STOP_SPD,R1               ;最終速度から求まる
40863 0000902A 2122              1648 I1          MOV.L   R2,@R1                          ;PLS/S
40864                            1649 I1  
40865                            1650 I1          SUB_END
40866                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
40867 0000902C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
40868                            1651 I1          M_RTS
40869 0000902E 000B                   M           RTS                             ;RTSの後ろの
40870 00009030 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
40871                            1652 I1  
40872                            1653 I1  ;       ***************************************************
40873                            1654 I1  ;       ***                                             ***
40874                            1655 I1  ;       ***                                             ***
40875                            1656 I1  ;       ***             加速演算                        ***
40876                            1657 I1  ;       ***             減速演算                        ***
40877                            1658 I1  ;       ***                                             ***
40878                            1659 I1  ;       ***                                             ***
40879                            1660 I1  ;       ***************************************************
40880                            1661 I1  
40881                                 I1  ***** BEGIN-POOL *****
40882 00009032 0000                   I1  ALIGNMENT CODE
40883 00009034 00000000               I1  DATA FOR SOURCE-LINE 1645
40884 00009038 00000000               I1  DATA FOR SOURCE-LINE 1647
40885                                 I1  ***** END-POOL *****
40886 0000903C                   1662 I1  _TBLACC_STEP_SP_MAKE
40887                            1663 I1          SUB_START
40888 0000903C 4F22                   M           STS.L   PR,@-R15                ;[必要]
40889                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
40890                            1664 I1  
40891 0000903E D115              1665 I1          MOV.L   #_ACC_STEP_NUMBER,R1            ;加減速に使用するデータ番号=動作ステップ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   624
PROGRAM NAME =

40892 00009040 6511              1666 I1          MOV.W   @R1,R5                          ;
40893                            1667 I1          FAR_JSR #_ACC_NUMBER_SELTBL2,R0         ;
40894 00009042 D015                   M           MOV.L   #_ACC_NUMBER_SELTBL2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40895 00009044 400B                   M           JSR     @R0                     ;
40896 00009046 0009                   M           NOP                                     ;
40897                            1668 I1  
40898                            1669 I1  
40899 00009048 D114              1670 I1          MOV.L   #_ACC_STEP_FLG,R1               ;BIT0:START BIT1:CALC BIT2:LIMIT
40900 0000904A 6011              1671 I1          MOV.W   @R1,R0                          ;
40901 0000904C C804              1672 I1          TST     #BIT2,R0                        ;
40902                            1673 I1          TST_BIT_ON TBLACC_STEP_SPMAK_400        ;
40903 0000904E 8B5F                   M           BF      TBLACC_STEP_SPMAK_400
40904 00009050 C803              1674 I1          TST     #(BIT1+BIT0),R0                 ;
40905                            1675 I1          TST_BIT_ON TBLACC_STEP_SPMAK_200        ;
40906 00009052 8B36                   M           BF      TBLACC_STEP_SPMAK_200
40907                            1676 I1  
40908 00009054 D112              1677 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
40909 00009056 6011              1678 I1          MOV.W   @R1,R0                          ;
40910 00009058 2008              1679 I1          TST     R0,R0                           ;
40911                            1680 I1          TST_BIT_ON TBLACC_STEP_SPMAK_200        ;
40912 0000905A 8B32                   M           BF      TBLACC_STEP_SPMAK_200
40913                            1681 I1  
40914                            1682 I1  ;;;;    MOV.L   #_POSCTL_RL_SPD,R0              ;pls/s
40915 0000905C D011              1683 I1          MOV.L   #_ACC_POSCTL_RL_SPDX,R0         ;
40916 0000905E 6202              1684 I1          MOV.L   @R0,R2                          ;
40917                            1685 I1  
40918                            1686 I1  
40919                            1687 I1  ;       ========= DEBUG
40920 00009060 D10C              1688 I1          MOV.L   #_ACC_STEP_NUMBER,R1            ;加減速に使用するデータ番号=動作ステップ
40921 00009062 6011              1689 I1          MOV.W   @R1,R0                          ;
40922 00009064 8802              1690 I1          CMP/EQ  #2,R0                           ;
40923 00009066 8B02              1691 I1          BF      DEBUG_JMP10                     ;
40924 00009068 0009              1692 I1          NOP
40925 0000906A 0009              1693 I1          NOP
40926 0000906C 0009              1694 I1          NOP
40927 0000906E                   1695 I1  DEBUG_JMP10
40928                            1696 I1  
40929                            1697 I1  ;       -------------加減速直線演算固定させたいだけ2014-09-22
40930 0000906E D10E              1698 I1          MOV.L   #_MOT_REP_F,R1                  ;//BIT0
40931 00009070 6011              1699 I1          MOV.W   @R1,R0                          ;
40932 00009072 C801              1700 I1          TST     #BIT0,R0                        ;
40933                            1701 I1          TST_BIT_ON TBLACC_STEP_SPMAK_CNST050
40934 00009074 8B04                   M           BF      TBLACC_STEP_SPMAK_CNST050
40935                            1702 I1  
40936                            1703 I1          FAR_JSR #_POINT_SERCH_SPD1,R0           ;
40937 00009076 D00D                   M           MOV.L   #_POINT_SERCH_SPD1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40938 00009078 400B                   M           JSR     @R0                     ;
40939 0000907A 0009                   M           NOP                                     ;
40940                            1704 I1  
40941 0000907C 2008              1705 I1          TST     R0,R0                           ;
40942                            1706 I1          TST_BIT_ON TBLACC_STEP_SPMAK_100        ;範囲内でいる JUMP
40943 0000907E 8B1B                   M           BF      TBLACC_STEP_SPMAK_100
40944                            1707 I1  
40945 00009080                   1708 I1  TBLACC_STEP_SPMAK_CNST050:
40946                            1709 I1  
40947                            1710 I1  ;一定加速・一定減速演算
40948                            1711 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACC_CTRL_STS2,LG=W,BIT=BIT4,WKREG=R1       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   625
PROGRAM NAME =

40949 00009080 D10B                   M           MOV.L   #_ACC_CTRL_STS2,R1              ;
40950 00009082 6011                   M           MOV.W   @R1,R0          ;
40951 00009084 CB10                   M           OR      #BIT4,R0                ;
40952 00009086 2101                   M           MOV.W   R0,@R1          ;
40953                            1712 I1          FAR_JSR #_TBLACC_ACC_ADDCHK,R0          ;ANS R2
40954 00009088 D00A                   M           MOV.L   #_TBLACC_ACC_ADDCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
40955 0000908A 400B                   M           JSR     @R0                     ;
40956 0000908C 0009                   M           NOP                                     ;
40957                            1713 I1          M_BRA   TBLACC_STEP_SPMAK_500   ;
40958 0000908E A046                   M           BRA     TBLACC_STEP_SPMAK_500
40959 00009090 0009                   M           NOP
40960                            1714 I1  
40961                            1715 I1  
40962                                 I1  ***** BEGIN-POOL *****
40963 00009092 0000                   I1  ALIGNMENT CODE
40964 00009094 00000000               I1  DATA FOR SOURCE-LINE 1665,1688
40965 00009098 00000000               I1  DATA FOR SOURCE-LINE 1667
40966 0000909C 00000000               I1  DATA FOR SOURCE-LINE 1670
40967 000090A0 00000000               I1  DATA FOR SOURCE-LINE 1677
40968 000090A4 00000000               I1  DATA FOR SOURCE-LINE 1683
40969 000090A8 00000000               I1  DATA FOR SOURCE-LINE 1698
40970 000090AC 00000000               I1  DATA FOR SOURCE-LINE 1703
40971 000090B0 00000000               I1  DATA FOR SOURCE-LINE 1711
40972 000090B4 00000000               I1  DATA FOR SOURCE-LINE 1712
40973                                 I1  ***** END-POOL *****
40974 000090B8                   1716 I1  TBLACC_STEP_SPMAK_100
40975 000090B8 D108              1717 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
40976 000090BA 2101              1718 I1          MOV.W   R0,@R1                          ;
40977                            1719 I1  
40978 000090BC 900C              1720 I1          MOV.W   #BIT0,R0
40979 000090BE D108              1721 I1          MOV.L   #_ACC_STEP_FLG,R1               ;BIT0:START BIT1:CALC BIT2:LIMIT
40980 000090C0 2101              1722 I1          MOV.W   R0,@R1                          ;
40981                            1723 I1  
40982                            1724 I1  
40983 000090C2                   1725 I1  TBLACC_STEP_SPMAK_200
40984 000090C2 6083              1726 I1          MOV     R8,R0                           ;
40985 000090C4 C804              1727 I1          TST     #BIT2,R0                        ;BIT2=0加速
40986                            1728 I1          TST_BIT_OF TBLACC_STEP_SPMAK_250        ;
40987 000090C6 890D                   M           BT      TBLACC_STEP_SPMAK_250
40988                            1729 I1  ;       ---減速--
40989 000090C8 D104              1730 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
40990 000090CA 6011              1731 I1          MOV.W   @R1,R0                          ;
40991 000090CC 8801              1732 I1          CMP/EQ  #1,R0                           ;
40992 000090CE 891F              1733 I1          BT      TBLACC_STEP_SPMAK_400           ;LIMIT
40993 000090D0 70FF              1734 I1          ADD     #-1,R0                          ;
40994 000090D2 2101              1735 I1          MOV.W   R0,@R1                          ;
40995                            1736 I1          M_BRA   TBLACC_STEP_SPMAK_300           ;
40996 000090D4 A00C                   M           BRA     TBLACC_STEP_SPMAK_300
40997 000090D6 0009                   M           NOP
40998                            1737 I1  
40999                                 I1  ***** BEGIN-POOL *****
41000 000090D8 0001                   I1  DATA FOR SOURCE-LINE 1720
41001 000090DA 0000                   I1  ALIGNMENT CODE
41002 000090DC 00000000               I1  DATA FOR SOURCE-LINE 1717,1730
41003 000090E0 00000000               I1  DATA FOR SOURCE-LINE 1721
41004                                 I1  ***** END-POOL *****
41005 000090E4                   1738 I1  TBLACC_STEP_SPMAK_250
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   626
PROGRAM NAME =

41006                            1739 I1  ;       ---加速--
41007 000090E4 D107              1740 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
41008 000090E6 6011              1741 I1          MOV.W   @R1,R0                          ;
41009 000090E8 3062              1742 I1          CMP/HS  R6,R0                           ;
41010 000090EA 8911              1743 I1          BT      TBLACC_STEP_SPMAK_400           ;LIMIT
41011 000090EC 7001              1744 I1          ADD     #1,R0                           ;
41012 000090EE 2101              1745 I1          MOV.W   R0,@R1                          ;
41013 000090F0                   1746 I1  TBLACC_STEP_SPMAK_300
41014                            1747 I1          FAR_JSR #_POINT_GET_SPD1,R1             ;input R0
41015 000090F0 D105                   M           MOV.L   #_POINT_GET_SPD1,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41016 000090F2 410B                   M           JSR     @R1                     ;
41017 000090F4 0009                   M           NOP                                     ;
41018                            1748 I1  
41019 000090F6 9003              1749 I1          MOV.W   #(BIT1+BIT0),R0                 ;
41020 000090F8 D104              1750 I1          MOV.L   #_ACC_STEP_FLG,R1               ;BIT0:START BIT1:CALC BIT2:LIMIT
41021 000090FA 2101              1751 I1          MOV.W   R0,@R1                          ;
41022                            1752 I1          M_BRA   TBLACC_STEP_SPMAK_500           ;
41023 000090FC A00F                   M           BRA     TBLACC_STEP_SPMAK_500
41024 000090FE 0009                   M           NOP
41025                            1753 I1  
41026                            1754 I1  ;       ---------LIMIT-ON  ---------
41027                                 I1  ***** BEGIN-POOL *****
41028 00009100 0003                   I1  DATA FOR SOURCE-LINE 1749
41029 00009102 0000                   I1  ALIGNMENT CODE
41030 00009104 00000000               I1  DATA FOR SOURCE-LINE 1740
41031 00009108 00000000               I1  DATA FOR SOURCE-LINE 1747
41032 0000910C 00000000               I1  DATA FOR SOURCE-LINE 1750
41033                                 I1  ***** END-POOL *****
41034 00009110                   1755 I1  TBLACC_STEP_SPMAK_400
41035                            1756 I1  ;;;不要 MOV.L   #_POSCTL_RL_SPD,R0              ;pls/s
41036                            1757 I1  ;;不要  MOV.L   @R0,R2                          ;
41037                            1758 I1          FAR_JSR #_TBLACC_ACC_ADDCHK,R0          ;ANS R2
41038 00009110 D005                   M           MOV.L   #_TBLACC_ACC_ADDCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41039 00009112 400B                   M           JSR     @R0                     ;
41040 00009114 0009                   M           NOP                                     ;
41041                            1759 I1  
41042                            1760 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACC_STEP_FLG,LG=W,BIT=BIT2,WKREG=R1        ;
41043 00009116 D105                   M           MOV.L   #_ACC_STEP_FLG,R1               ;
41044 00009118 6011                   M           MOV.W   @R1,R0          ;
41045 0000911A CB04                   M           OR      #BIT2,R0                ;
41046 0000911C 2101                   M           MOV.W   R0,@R1          ;
41047                            1761 I1  
41048 0000911E                   1762 I1  TBLACC_STEP_SPMAK_500
41049 0000911E D104              1763 I1          MOV.L   #_ACC_STEP_SPD,R1               ;ステップ
41050 00009120 2122              1764 I1          MOV.L   R2,@R1                          ;
41051                            1765 I1  
41052                            1766 I1          SUB_END
41053                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
41054 00009122 4F26                   M           LDS.L   @R15+,PR                ;[必要]
41055                            1767 I1          M_RTS
41056 00009124 000B                   M           RTS                             ;RTSの後ろの
41057 00009126 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
41058                            1768 I1  
41059                            1769 I1  
41060                            1770 I1  
41061                            1771 I1  ;       *******************************************
41062                            1772 I1  ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   627
PROGRAM NAME =

41063                            1773 I1  ;       ***     各工程時のインフォメーション    ***
41064                            1774 I1  ;       ***                                     ***
41065                            1775 I1  ;       *******************************************
41066                            1776 I1  ;;      MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
41067                            1777 I1  ;;      MOV.W   @R1,R6                          ;
41068                            1778 I1  ;;      MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
41069                            1779 I1  ;;      MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
41070                            1780 I1  ;       MOV.L   @(AFM_STEP_INF_FLG-ACC_FORM_TOP,GBR),R0 ;
41071                            1781 I1  ;       MOV.W   R0,R8                                   ;BIT2=[0=加速/1=減速]
41072                                 I1  ***** BEGIN-POOL *****
41073 00009128 00000000               I1  DATA FOR SOURCE-LINE 1758
41074 0000912C 00000000               I1  DATA FOR SOURCE-LINE 1760
41075 00009130 00000000               I1  DATA FOR SOURCE-LINE 1763
41076                                 I1  ***** END-POOL *****
41077 00009134                   1782 I1  _ACC_NUMBER_SELTBL1:
41078                            1783 I1          SUB_START
41079 00009134 4F22                   M           STS.L   PR,@-R15                ;[必要]
41080                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
41081                            1784 I1  
41082 00009136 75FF              1785 I1          ADD     #-1,R5                                          ;
41083 00009138 4508              1786 I1          SHLL2   R5                                              ;*4byte
41084 0000913A D607              1787 I1          MOV.L   #_ACC_TBL_CAL_IN_TOP,R6                         ;
41085 0000913C 365C              1788 I1          ADD     R5,R6                                           ;
41086 0000913E 6062              1789 I1          MOV.L   @R6,R0
41087 00009140 401E              1790 I1          LDC     R0,GBR
41088                            1791 I1  
41089 00009142 C60B              1792 I1          MOV.L   @(AFM_DST_STPACTM-ACC_FORM_TOP,GBR),R0  ;
41090 00009144 6601              1793 I1          MOV.W   @R0,R6                                  ;
41091 00009146 C60C              1794 I1          MOV.L   @(AFM_DST_STPPTBL-ACC_FORM_TOP,GBR),R0  ;
41092 00009148 6D03              1795 I1          MOV     R0,R13
41093 0000914A C60A              1796 I1          MOV.L   @(AFM_DST_STPVTBL-ACC_FORM_TOP,GBR),R0  ;
41094 0000914C 6B03              1797 I1          MOV     R0,R11                                  ;
41095 0000914E C603              1798 I1          MOV.L   @(AFM_STEP_INF_FLG-ACC_FORM_TOP,GBR),R0 ;
41096 00009150 6801              1799 I1          MOV.W   @R0,R8                                  ;BIT2=[0=加速/1=減速]
41097                            1800 I1  
41098                            1801 I1          SUB_END
41099                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
41100 00009152 4F26                   M           LDS.L   @R15+,PR                ;[必要]
41101                            1802 I1          M_RTS
41102 00009154 000B                   M           RTS                             ;RTSの後ろの
41103 00009156 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
41104                            1803 I1  
41105                                 I1  ***** BEGIN-POOL *****
41106 00009158 00000000               I1  DATA FOR SOURCE-LINE 1787
41107                                 I1  ***** END-POOL *****
41108 0000915C                   1804 I1  _ACC_NUMBER_SELTBL2:
41109                            1805 I1          SUB_START
41110 0000915C 4F22                   M           STS.L   PR,@-R15                ;[必要]
41111                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
41112                            1806 I1  
41113 0000915E 75FF              1807 I1          ADD     #-1,R5                                          ;
41114 00009160 4508              1808 I1          SHLL2   R5                                              ;*4byte
41115 00009162 D607              1809 I1          MOV.L   #_ACC_TBL_CAL_IN_TOP,R6                         ;
41116 00009164 365C              1810 I1          ADD     R5,R6                                           ;
41117 00009166 6062              1811 I1          MOV.L   @R6,R0
41118 00009168 401E              1812 I1          LDC     R0,GBR
41119                            1813 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   628
PROGRAM NAME =

41120 0000916A C607              1814 I1          MOV.L   @(AFM_DST_CTLACTM-ACC_FORM_TOP,GBR),R0  ;
41121 0000916C 6601              1815 I1          MOV.W   @R0,R6                                  ;
41122                            1816 I1  ;;;;;   MOV.L   @(AFM_DST_STPPTBL-ACC_FORM_TOP,GBR),R0  ;
41123                            1817 I1  ;;;;;   MOV     R0,R13
41124 0000916E C606              1818 I1          MOV.L   @(AFM_DST_CTLVTBL-ACC_FORM_TOP,GBR),R0  ;
41125 00009170 6B03              1819 I1          MOV     R0,R11                                  ;
41126 00009172 6D03              1820 I1          MOV     R0,R13                                  ;
41127 00009174 C603              1821 I1          MOV.L   @(AFM_STEP_INF_FLG-ACC_FORM_TOP,GBR),R0 ;
41128 00009176 6801              1822 I1          MOV.W   @R0,R8                                  ;BIT2=[0=加速/1=減速]
41129                            1823 I1  
41130                            1824 I1          SUB_END
41131                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
41132 00009178 4F26                   M           LDS.L   @R15+,PR                ;[必要]
41133                            1825 I1          M_RTS
41134 0000917A 000B                   M           RTS                             ;RTSの後ろの
41135 0000917C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
41136                            1826 I1  
41137                            1827 I1  
41138                            1828 I1  ;AFM_SRC_TBL_TOP                .DATA.L         _ACC_IN_TBLUSE          ;元ﾃｰﾌﾞﾙADR(2byte)
41139                            1829 I1  ;AFM_SRC_TBL_MEM                .DATA.L         _ACC_IN_TBL_TIM         ;255msec WOD
41140                            1830 I1  ;AFM_STEP_INF_SPD       .DATA.L         _ACC_INF1_STEPSP01      ;000%[前状態],050%[設定]
41141                            1831 I1  ;AFM_STEP_INF_FLG       .DATA.L         _ACC_INF1_STEP001       ;//BIT2=[加速:0/減速:1] BI
                                          T1=[]   BIT0=0(停止) =1(連続)
41142                            1832 I1  ;AFM_OLD_CTLVTBL                .DATA.L         _ACC_STEP001_VTBL       ;(STEP1では使用し
                                          ない)
41143                            1833 I1  ;AFM_DST_CTLVTBL                .DATA.L         _ACC_STEP001_VTBL       ;
41144                            1834 I1  ;AFM_DST_CTLACTM                .DATA.L         _ACC_STEP001_ACTM       ;
41145                            1835 I1  ;AFM_OLD_STPVTBL                .DATA.L         _ACC_STOP001_VTBL       ;
41146                            1836 I1  ;AFM_DST_STPVTBL                .DATA.L         _ACC_STOP001_VTBL       ;
41147                            1837 I1  ;AFM_DST_STPACTM                .DATA.L         _ACC_STOP001_ACTM       ;
41148                            1838 I1  ;AFM_DST_STPPTBL                .DATA.L         _ACC_STOP001_PTBL       ;
41149                            1839 I1  
41150                            1840 I1  ;       *******************************************
41151                            1841 I1  ;       ***                                     ***
41152                            1842 I1  ;       ***             サーチ                  ***
41153                            1843 I1  ;       ***             速度型サーチ            ***
41154                            1844 I1  ;       ***                                     ***
41155                            1845 I1  ;       *******************************************
41156                            1846 I1  ;       テーブルは増加方向である
41157                            1847 I1  ;       サーチは加速方向と減速方向がある。
41158                            1848 I1  ;
41159                            1849 I1  ;       Input 現在速度 R2 ()
41160                            1850 I1  ;             TABEL_TOP_ADR R13
41161                            1851 I1  ;             TABEL個数(加減速時間+1)をもらう R6
41162                            1852 I1  ;               ﾃｰﾌﾞﾙ方向
41163                            1853 I1  ;               ｻｰﾁ方向   0:加速(大きくなる点をサーチする) 1:減速（小さくなる限界点をサー
                                          チする）
41164                            1854 I1  ;       Output:ﾎﾟｲﾝﾀ 1~ﾃｰﾌﾞﾙ個数 0(ﾃｰﾌﾞﾙ範囲外),-1(ﾃｰﾌﾞﾙ範囲外)
41165                            1855 I1  ;
41166                            1856 I1  ;       MAX 10回:1023まで
41167                            1857 I1  ;       0~15(16個)   4回   5bit
41168                            1858 I1  ;       0~31(32個)   5回   6
41169                            1859 I1  ;       0~63(64個)   6回   7
41170                            1860 I1  ;       0~127(128個) 7回   8
41171                            1861 I1  ;       0~255(256個) 8回   9
41172                            1862 I1  ;       0~511(512個) 9回   10
41173                            1863 I1  ;       0~1023(1024個)10回 11
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   629
PROGRAM NAME =

41174                            1864 I1  ;
41175                            1865 I1  ;       MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
41176                            1866 I1  ;       MOV.W   @R1,R6                          ;
41177                            1867 I1  ;       MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
41178                            1868 I1  ;       MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
41179                            1869 I1  ;       MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
41180                            1870 I1  ;       MOV.L   @R1,R5                          ;
41181                            1871 I1  ;
41182                            1872 I1  ;
41183                            1873 I1  ;
41184                            1874 I1  ;
41185                            1875 I1  ;
41186                                 I1  ***** BEGIN-POOL *****
41187 0000917E 0000                   I1  ALIGNMENT CODE
41188 00009180 00000000               I1  DATA FOR SOURCE-LINE 1809
41189                                 I1  ***** END-POOL *****
41190 00009184                   1876 I1  _POINT_SERCH_SPD1
41191                            1877 I1          SUB_START
41192 00009184 4F22                   M           STS.L   PR,@-R15                ;[必要]
41193                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
41194                            1878 I1          PUSH_REG1 R2
41195 00009186 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
41196                                 M                                           ;REG=>[SP]
41197                                 M                                           ;"-4" FF,FF,FF,FC
41198                            1879 I1  
41199 00009188 D00A              1880 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
41200 0000918A 6402              1881 I1          MOV.L   @R0,R4                          ;
41201 0000918C 9110              1882 I1          MOV.W   #_ACC_PER_V_MAX,R1              ;
41202                            1883 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
41203 0000918E D00A                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41204 00009190 400B                   M           JSR     @R0                     ;
41205 00009192 0009                   M           NOP                                     ;
41206                            1884 I1  
41207 00009194 6063              1885 I1          MOV     R6,R0                           ;加減速時間
41208 00009196 4000              1886 I1          SHLL    R0                              ;2byte
41209 00009198 01BD              1887 I1          MOV.W   @(R0,R11),R1                    ;(V)
41210 0000919A 3216              1888 I1          CMP/HI  R1,R2                           ;
41211 0000919C 8910              1889 I1          BT      POINT_SERCHSPD1_100             ;最大よりも大きい:範囲外
41212                            1890 I1  
41213 0000919E 61B1              1891 I1          MOV.W   @R11,R1                         ;(V)MIN
41214 000091A0 3126              1892 I1          CMP/HI  R2,R1                           ;
41215 000091A2 890D              1893 I1          BT      POINT_SERCHSPD1_100             ;最小よりも小さい:範囲外
41216                            1894 I1  
41217                            1895 I1          FAR_JSR #_POINT_SERCH_BIG_2B,R0         ;
41218 000091A4 D005                   M           MOV.L   #_POINT_SERCH_BIG_2B,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41219 000091A6 400B                   M           JSR     @R0                     ;
41220 000091A8 0009                   M           NOP                                     ;
41221 000091AA 6093              1896 I1          MOV     R9,R0                           ;
41222                            1897 I1          M_BRA   POINT_SERCHSPD1_END             ;
41223 000091AC A00B                   M           BRA     POINT_SERCHSPD1_END
41224 000091AE 0009                   M           NOP
41225                            1898 I1  
41226                            1899 I1  
41227                            1900 I1  
41228                                 I1  ***** BEGIN-POOL *****
41229 000091B0 2710                   I1  DATA FOR SOURCE-LINE 1882
41230 000091B2 0000                   I1  ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   630
PROGRAM NAME =

41231 000091B4 00000000               I1  DATA FOR SOURCE-LINE 1880
41232 000091B8 00000000               I1  DATA FOR SOURCE-LINE 1883
41233 000091BC 00000000               I1  DATA FOR SOURCE-LINE 1895
41234                                 I1  ***** END-POOL *****
41235 000091C0                   1901 I1  POINT_SERCHSPD1_100:                            ;
41236 000091C0 200A              1902 I1          XOR     R0,R0                           ;範囲外
41237                            1903 I1          M_BRA   POINT_SERCHSPD1_END             ;
41238 000091C2 A000                   M           BRA     POINT_SERCHSPD1_END
41239 000091C4 0009                   M           NOP
41240                            1904 I1  
41241 000091C6                   1905 I1  POINT_SERCHSPD1_END:                            ;
41242                            1906 I1  
41243                            1907 I1          POP_REG1 R2
41244                                 M                                   ; RE"+4" 00,00,00,04
41245 000091C6 62F6                   M           MOV.L   @R15+,R2        ;
41246                            1908 I1          SUB_END
41247                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
41248 000091C8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
41249                            1909 I1          M_RTS
41250 000091CA 000B                   M           RTS                             ;RTSの後ろの
41251 000091CC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
41252                            1910 I1  
41253                            1911 I1  
41254                            1912 I1  ;input R0
41255 000091CE                   1913 I1  _POINT_GET_SPD1
41256                            1914 I1          SUB_START
41257 000091CE 4F22                   M           STS.L   PR,@-R15                ;[必要]
41258                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
41259 000091D0 4000              1915 I1          SHLL    R0                              ;2byte
41260 000091D2 02BD              1916 I1          MOV.W   @(R0,R11),R2                    ;
41261 000091D4 D004              1917 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
41262 000091D6 6102              1918 I1          MOV.L   @R0,R1                          ;
41263 000091D8 9405              1919 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
41264                            1920 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;ANS R2
41265 000091DA D004                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41266 000091DC 400B                   M           JSR     @R0                     ;
41267 000091DE 0009                   M           NOP                                     ;
41268                            1921 I1          SUB_END
41269                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
41270 000091E0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
41271                            1922 I1          M_RTS
41272 000091E2 000B                   M           RTS                             ;RTSの後ろの
41273 000091E4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
41274                            1923 I1  
41275                            1924 I1  
41276                            1925 I1  
41277                            1926 I1  
41278                            1927 I1  
41279                            1928 I1  
41280                            1929 I1  ;       *******************************************
41281                            1930 I1  ;       ***                                     ***
41282                            1931 I1  ;       ***             サーチ                  ***
41283                            1932 I1  ;       ***             位置型サーチ            ***
41284                            1933 I1  ;       ***                                     ***
41285                            1934 I1  ;       *******************************************
41286                            1935 I1  ;       MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
41287                            1936 I1  ;       MOV.W   @R1,R6                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   631
PROGRAM NAME =

41288                            1937 I1  ;       MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
41289                            1938 I1  ;       MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
41290                            1939 I1  ;       MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
41291                            1940 I1  ;       MOV.L   @R1,R5                          ;
41292                            1941 I1  ;
41293                            1942 I1  ;       [減速位置のため]
41294                            1943 I1  ;
41295                                 I1  ***** BEGIN-POOL *****
41296 000091E6 2710                   I1  DATA FOR SOURCE-LINE 1919
41297 000091E8 00000000               I1  DATA FOR SOURCE-LINE 1917
41298 000091EC 00000000               I1  DATA FOR SOURCE-LINE 1920
41299                                 I1  ***** END-POOL *****
41300 000091F0                   1944 I1  _POINT_SERCH_PLS1
41301                            1945 I1          SUB_START
41302 000091F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
41303                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
41304                            1946 I1  
41305 000091F2 D40E              1947 I1          MOV.L   #_ACC_REST_FLG,R4               ;
41306 000091F4 6041              1948 I1          MOV.W   @R4,R0                          ;
41307 000091F6 2008              1949 I1          TST     R0,R0                           ;
41308                            1950 I1          TST_BIT_OF POINT_SERCHPLS1_100          ;R0=0まだまだ残り距離が十分あるから減速演
                                          算不要[いまやってもｵｰﾊﾞﾌﾛする]
41309 000091F8 8920                   M           BT      POINT_SERCHPLS1_100
41310                            1951 I1  
41311 000091FA 6063              1952 I1          MOV     R6,R0                           ;加減速時間
41312 000091FC 4008              1953 I1          SHLL2   R0                              ;4byte
41313 000091FE 01DE              1954 I1          MOV.L   @(R0,R13),R1                    ;(P)
41314 00009200 3216              1955 I1          CMP/HI  R1,R2                           ;SV(最も大きいパルス)<PV
41315 00009202 891B              1956 I1          BT      POINT_SERCHPLS1_100             ;
41316                            1957 I1  
41317                            1958 I1          FAR_JSR #_POINT_SERCH_BIG_4B,R0         ;ANS R9 大きい順に探した超えた最も近い点
41318 00009204 D00A                   M           MOV.L   #_POINT_SERCH_BIG_4B,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41319 00009206 400B                   M           JSR     @R0                     ;
41320 00009208 0009                   M           NOP                                     ;
41321                            1959 I1  ;;;;不要        ADD     #-1,R9                          ;
41322 0000920A 4915              1960 I1          CMP/PL  R9                              ;
41323 0000920C 8900              1961 I1          BT      POINT_SERCHPLS1_050             ;
41324 0000920E 990A              1962 I1          MOV.W   #1,R9                           ;
41325 00009210                   1963 I1  POINT_SERCHPLS1_050:
41326 00009210 6093              1964 I1          MOV     R9,R0                           ;
41327 00009212 4000              1965 I1          SHLL    R0                              ;2byte
41328 00009214 01BD              1966 I1          MOV.W   @(R0,R11),R1                    ;(V)SPEED
41329 00009216 D007              1967 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
41330 00009218 6202              1968 I1          MOV.L   @R0,R2                          ;
41331 0000921A 9405              1969 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
41332                            1970 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;V%*FREQ/100.00% *1/1000=deltV
41333 0000921C D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41334 0000921E 400B                   M           JSR     @R0                     ;
41335 00009220 0009                   M           NOP                                     ;
41336                            1971 I1          M_BRA   POINT_SERCHPLS1_200             ;PLS/sec
41337 00009222 A00F                   M           BRA     POINT_SERCHPLS1_200
41338 00009224 0009                   M           NOP
41339                            1972 I1  
41340                                 I1  ***** BEGIN-POOL *****
41341 00009226 0001                   I1  DATA FOR SOURCE-LINE 1962
41342 00009228 2710                   I1  DATA FOR SOURCE-LINE 1969
41343 0000922A 0000                   I1  ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   632
PROGRAM NAME =

41344 0000922C 00000000               I1  DATA FOR SOURCE-LINE 1947
41345 00009230 00000000               I1  DATA FOR SOURCE-LINE 1958
41346 00009234 00000000               I1  DATA FOR SOURCE-LINE 1967
41347 00009238 00000000               I1  DATA FOR SOURCE-LINE 1970
41348                                 I1  ***** END-POOL *****
41349 0000923C                   1973 I1  POINT_SERCHPLS1_100:
41350 0000923C 6253              1974 I1          MOV     R5,R2
41351 0000923E 200A              1975 I1          XOR     R0,R0
41352                            1976 I1          M_BRA   POINT_SERCHPLS1_END             ;
41353 00009240 A001                   M           BRA     POINT_SERCHPLS1_END
41354 00009242 0009                   M           NOP
41355 00009244                   1977 I1  POINT_SERCHPLS1_200:                            ;
41356 00009244 6093              1978 I1          MOV     R9,R0                           ;POINTER(0以外)
41357 00009246                   1979 I1  POINT_SERCHPLS1_END:
41358                            1980 I1  
41359                            1981 I1          SUB_END
41360                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
41361 00009246 4F26                   M           LDS.L   @R15+,PR                ;[必要]
41362                            1982 I1          M_RTS
41363 00009248 000B                   M           RTS                             ;RTSの後ろの
41364 0000924A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
41365                            1983 I1  
41366                            1984 I1  
41367                            1985 I1  
41368                            1986 I1  ;       *******************************************
41369                            1987 I1  ;       ***                                     ***
41370                            1988 I1  ;       ***             サーチ                  ***
41371                            1989 I1  ;       ***             位置型サーチ            ***
41372                            1990 I1  ;       ***                                     ***
41373                            1991 I1  ;       *******************************************
41374                            1992 I1  ;R5
41375 0000924C                   1993 I1  _POINT_SERCH_PLS_HOKAN1
41376                            1994 I1          SUB_START
41377 0000924C 4F22                   M           STS.L   PR,@-R15                ;[必要]
41378                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
41379                            1995 I1          PUSH_REG1 R6
41380 0000924E 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
41381                                 M                                           ;REG=>[SP]
41382                                 M                                           ;"-4" FF,FF,FF,FC
41383                            1996 I1          PUSH_REG1 R7
41384 00009250 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
41385                                 M                                           ;REG=>[SP]
41386                                 M                                           ;"-4" FF,FF,FF,FC
41387                            1997 I1          PUSH_REG1 R8
41388 00009252 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
41389                                 M                                           ;REG=>[SP]
41390                                 M                                           ;"-4" FF,FF,FF,FC
41391                            1998 I1  
41392 00009254 D416              1999 I1          MOV.L   #_ACC_REST_FLG,R4               ;
41393 00009256 6041              2000 I1          MOV.W   @R4,R0                          ;
41394 00009258 2008              2001 I1          TST     R0,R0                           ;
41395                            2002 I1          TST_BIT_OF POINT_SERCHPLS_HKN1_400      ;R0=0まだまだ残り距離が十分あるから減速演
                                          算不要[いまやってもｵｰﾊﾞﾌﾛする]
41396 0000925A 8933                   M           BT      POINT_SERCHPLS_HKN1_400
41397                            2003 I1  ;-----ｵｰﾊﾞﾌﾛｰはしない-----
41398 0000925C 6063              2004 I1          MOV     R6,R0                           ;加減速時間
41399 0000925E 4008              2005 I1          SHLL2   R0                              ;4byte
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   633
PROGRAM NAME =

41400 00009260 01DE              2006 I1          MOV.L   @(R0,R13),R1                    ;(P)
41401 00009262 3216              2007 I1          CMP/HI  R1,R2                           ;SV(最も大きいパルス)<PV
41402 00009264 892E              2008 I1          BT      POINT_SERCHPLS_HKN1_400         ;
41403                            2009 I1  
41404                            2010 I1          PUSH_REG1 R2                            ;残り距離ﾊﾟﾙｽ
41405 00009266 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
41406                                 M                                           ;REG=>[SP]
41407                                 M                                           ;"-4" FF,FF,FF,FC
41408                            2011 I1  
41409                            2012 I1  
41410                            2013 I1          FAR_JSR #_POINT_SERCH_BIG_4B,R0         ;ANS R9 大きい順に探した超えた最も近い点
41411 00009268 D012                   M           MOV.L   #_POINT_SERCH_BIG_4B,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41412 0000926A 400B                   M           JSR     @R0                     ;
41413 0000926C 0009                   M           NOP                                     ;
41414 0000926E 6893              2014 I1          MOV     R9,R8                           ;
41415                            2015 I1  
41416 00009270 4915              2016 I1          CMP/PL  R9                              ;
41417 00009272 8900              2017 I1          BT      POINT_SERCHPLS_HKN1_050         ;
41418 00009274 991A              2018 I1          MOV.W   #1,R9                           ;
41419 00009276                   2019 I1  POINT_SERCHPLS_HKN1_050:                        ;
41420 00009276 6093              2020 I1          MOV     R9,R0                           ;
41421 00009278 4000              2021 I1          SHLL    R0                              ;2byte
41422 0000927A 03BD              2022 I1          MOV.W   @(R0,R11),R3                    ;(Yn_1)SPEED
41423 0000927C 4000              2023 I1          SHLL    R0
41424 0000927E 05DE              2024 I1          MOV.L   @(R0,R13),R5                    ;(Xn_1)POS
41425                            2025 I1  
41426 00009280 7801              2026 I1          ADD     #1,R8                           ;
41427 00009282 3682              2027 I1          CMP/HS  R8,R6                           ;
41428 00009284 8900              2028 I1          BT      POINT_SERCHPLS_HKN1_100         ;
41429 00009286 6863              2029 I1          MOV     R6,R8                           ;加減速時間
41430 00009288                   2030 I1  POINT_SERCHPLS_HKN1_100:                        ;
41431 00009288 6083              2031 I1          MOV     R8,R0                           ;
41432 0000928A 4000              2032 I1          SHLL    R0                              ;2byte
41433 0000928C 02BD              2033 I1          MOV.W   @(R0,R11),R2                    ;(Yn)SPEED
41434 0000928E 4000              2034 I1          SHLL    R0
41435 00009290 04DE              2035 I1          MOV.L   @(R0,R13),R4                    ;(Xn_1)POS
41436                            2036 I1  
41437                            2037 I1          POP_REG1 R1                             ;残り距離ﾊﾟﾙｽ
41438                                 M                                   ; RE"+4" 00,00,00,04
41439 00009292 61F6                   M           MOV.L   @R15+,R1        ;
41440 00009294 6623              2038 I1          MOV     R2,R6                           ;
41441                            2039 I1  
41442                            2040 I1  ;       R3:Yn_1         R5:Xn_1
41443                            2041 I1  ;       R2:Yn           R4:Xn
41444                            2042 I1  ;       ANS:R2=y        R1:x
41445                            2043 I1  ;       limit R6(Yn)
41446                            2044 I1  
41447                            2045 I1          FAR_JSR #_FPU_POS_HOKAN1,R0             ;V%=算出 R2
41448 00009296 D008                   M           MOV.L   #_FPU_POS_HOKAN1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41449 00009298 400B                   M           JSR     @R0                     ;
41450 0000929A 0009                   M           NOP                                     ;
41451                            2046 I1  
41452 0000929C D007              2047 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
41453 0000929E 6102              2048 I1          MOV.L   @R0,R1                          ;
41454 000092A0 9405              2049 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
41455                            2050 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;V%*FREQ/100.00% *1/1000=deltV
41456 000092A2 D007                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   634
PROGRAM NAME =

41457 000092A4 400B                   M           JSR     @R0                     ;
41458 000092A6 0009                   M           NOP                                     ;
41459                            2051 I1          M_BRA   POINT_SERCHPLS_HKN1_500         ;PLS/sec
41460 000092A8 A010                   M           BRA     POINT_SERCHPLS_HKN1_500
41461 000092AA 0009                   M           NOP
41462                            2052 I1  
41463                                 I1  ***** BEGIN-POOL *****
41464 000092AC 0001                   I1  DATA FOR SOURCE-LINE 2018
41465 000092AE 2710                   I1  DATA FOR SOURCE-LINE 2049
41466 000092B0 00000000               I1  DATA FOR SOURCE-LINE 1999
41467 000092B4 00000000               I1  DATA FOR SOURCE-LINE 2013
41468 000092B8 00000000               I1  DATA FOR SOURCE-LINE 2045
41469 000092BC 00000000               I1  DATA FOR SOURCE-LINE 2047
41470 000092C0 00000000               I1  DATA FOR SOURCE-LINE 2050
41471                                 I1  ***** END-POOL *****
41472 000092C4                   2053 I1  POINT_SERCHPLS_HKN1_400:
41473 000092C4 6253              2054 I1          MOV     R5,R2
41474 000092C6 200A              2055 I1          XOR     R0,R0
41475                            2056 I1          M_BRA   POINT_SERCHPLS_HKN1_END         ;
41476 000092C8 A001                   M           BRA     POINT_SERCHPLS_HKN1_END
41477 000092CA 0009                   M           NOP
41478                            2057 I1  
41479 000092CC                   2058 I1  POINT_SERCHPLS_HKN1_500:                        ;
41480 000092CC 6093              2059 I1          MOV     R9,R0                           ;POINTER(0以外)
41481 000092CE                   2060 I1  POINT_SERCHPLS_HKN1_END:
41482                            2061 I1  
41483                            2062 I1  
41484                            2063 I1          POP_REG1 R8
41485                                 M                                   ; RE"+4" 00,00,00,04
41486 000092CE 68F6                   M           MOV.L   @R15+,R8        ;
41487                            2064 I1          POP_REG1 R7
41488                                 M                                   ; RE"+4" 00,00,00,04
41489 000092D0 67F6                   M           MOV.L   @R15+,R7        ;
41490                            2065 I1          POP_REG1 R6
41491                                 M                                   ; RE"+4" 00,00,00,04
41492 000092D2 66F6                   M           MOV.L   @R15+,R6        ;
41493                            2066 I1  
41494                            2067 I1          SUB_END
41495                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
41496 000092D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
41497                            2068 I1          M_RTS
41498 000092D6 000B                   M           RTS                             ;RTSの後ろの
41499 000092D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
41500                            2069 I1  
41501                            2070 I1  
41502                            2071 I1  
41503                            2072 I1  
41504                            2073 I1  
41505                            2074 I1  ;       *******************************************
41506                            2075 I1  ;       ***                                     ***
41507                            2076 I1  ;       ***             サーチ                  ***
41508                            2077 I1  ;       ***                                     ***
41509                            2078 I1  ;       *******************************************
41510                            2079 I1  ;       テーブルは増加方向である
41511                            2080 I1  ;       サーチは加速方向で行う
41512                            2081 I1  ;
41513                            2082 I1  ;       Input 現在速度 R2 ()     table-V(n) =< R2 =<table-V(n+1) となる　ﾃｰﾌﾞﾙ番号
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   635
PROGRAM NAME =

41514                            2083 I1  ;                                加速時はnをそのまま使用する
41515                            2084 I1  ;                                減速時はn-1を使用
41516                            2085 I1  ;             TABEL_TOP_ADR R13
41517                            2086 I1  ;             TABEL個数-1(加減速時間)をもらう R6
41518                            2087 I1  ;               ﾃｰﾌﾞﾙ方向
41519                            2088 I1  ;               ｻｰﾁ方向   0:加速(大きくなる点をサーチする)
41520                            2089 I1  ;       Output:ﾎﾟｲﾝﾀ 1~ﾃｰﾌﾞﾙ個数 0(ﾃｰﾌﾞﾙ範囲外),-1(ﾃｰﾌﾞﾙ範囲外)
41521                            2090 I1  ;
41522                            2091 I1  ;       MAX 10回:1023まで
41523                            2092 I1  ;       0~15(16個)   4回   5bit
41524                            2093 I1  ;       0~31(32個)   5回   6
41525                            2094 I1  ;       0~63(64個)   6回   7
41526                            2095 I1  ;       0~127(128個) 7回   8
41527                            2096 I1  ;       0~255(256個) 8回   9
41528                            2097 I1  ;       0~511(512個) 9回   10
41529                            2098 I1  ;       0~1023(1024個)10回 11
41530                            2099 I1  
41531                            2100 I1  ;       *******************************************
41532                            2101 I1  ;       ***                                     ***
41533                            2102 I1  ;       ***     2byte ｻｰﾁ                       ***
41534                            2103 I1  ;       ***                                     ***
41535                            2104 I1  ;       *******************************************
41536                            2105 I1  ;       ANS R9
41537                            2106 I1  ;
41538 000092DA                   2107 I1  _POINT_SERCH_BIG_2B
41539                            2108 I1          SUB_START
41540 000092DA 4F22                   M           STS.L   PR,@-R15                ;[必要]
41541                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
41542                            2109 I1          PUSH_REG1 R6
41543 000092DC 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
41544                                 M                                           ;REG=>[SP]
41545                                 M                                           ;"-4" FF,FF,FF,FC
41546                            2110 I1          PUSH_REG1 R7
41547 000092DE 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
41548                                 M                                           ;REG=>[SP]
41549                                 M                                           ;"-4" FF,FF,FF,FC
41550                            2111 I1          PUSH_REG1 R8
41551 000092E0 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
41552                                 M                                           ;REG=>[SP]
41553                                 M                                           ;"-4" FF,FF,FF,FC
41554                            2112 I1          PUSH_REG1 R10
41555 000092E2 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
41556                                 M                                           ;REG=>[SP]
41557                                 M                                           ;"-4" FF,FF,FF,FC
41558                            2113 I1          PUSH_REG1 R11
41559 000092E4 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
41560                                 M                                           ;REG=>[SP]
41561                                 M                                           ;"-4" FF,FF,FF,FC
41562                            2114 I1          PUSH_REG1 R12
41563 000092E6 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
41564                                 M                                           ;REG=>[SP]
41565                                 M                                           ;"-4" FF,FF,FF,FC
41566                            2115 I1          PUSH_REG1 R13
41567 000092E8 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
41568                                 M                                           ;REG=>[SP]
41569                                 M                                           ;"-4" FF,FF,FF,FC
41570                            2116 I1          PUSH_REG1 R14
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   636
PROGRAM NAME =

41571 000092EA 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
41572                                 M                                           ;REG=>[SP]
41573                                 M                                           ;"-4" FF,FF,FF,FC
41574                            2117 I1  
41575 000092EC 6763              2118 I1          MOV     R6,R7                           ;カウンタ個数
41576                            2119 I1  
41577 000092EE 288A              2120 I1          XOR     R8,R8                           ;min
41578 000092F0 6A73              2121 I1          MOV     R7,R10                          ;max
41579 000092F2 4701              2122 I1          SHLR    R7                              ;IF 11bitの場合10回ｻｰﾁする
41580 000092F4 6973              2123 I1          MOV     R7,R9                           ;今回=(MAX=1024+MIN=0)/2=512
41581                            2124 I1                                                  ;R8(MIN=0)=< R9(R10+R8)/2 =< R10(MAX)
41582                            2125 I1  
41583 000092F6 277A              2126 I1          XOR     R7,R7                           ;ﾃﾞﾊﾞｯｸ
41584                            2127 I1  
41585 000092F8 6B83              2128 I1          MOV     R8,R11                          ;MIN
41586 000092FA 6CA3              2129 I1          MOV     R10,R12                         ;MAX
41587                            2130 I1  
41588                            2131 I1  
41589 000092FC                   2132 I1  PINT_SERCH_BIG2B_200LOP
41590                            2133 I1  
41591                            2134 I1  ;======= 2byte/4byteの相違部分=====
41592 000092FC 6093              2135 I1          MOV     R9,R0                           ;ANS R9
41593 000092FE 4000              2136 I1          SHLL    R0                              ;2byte
41594 00009300 01DD              2137 I1          MOV.W   @(R0,R13),R1                    ;2byte SV
41595                            2138 I1  
41596 00009302 3210              2139 I1          CMP/EQ  R1,R2                           ;
41597 00009304 8914              2140 I1          BT      PINT_SERCH_BIG2B_800            ;ﾋﾟｯﾀﾘ賞
41598 00009306 3212              2141 I1          CMP/HS  R1,R2                           ;SV=<PV
41599 00009308 8904              2142 I1          BT      PINT_SERCH_BIG2B_300            ;YES:大きい
41600                            2143 I1  
41601                            2144 I1  ;       R8(MIN)=< [R2] =<R9(MAX/MIN)/2 =<R10(MAX)
41602 0000930A 6A93              2145 I1          MOV     R9,R10                          ;
41603 0000930C 398C              2146 I1          ADD     R8,R9                           ;(R8[MIN]+R10[MAX])
41604 0000930E 4901              2147 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
41605                            2148 I1          M_BRA   PINT_SERCH_BIG2B_500            ;
41606 00009310 A003                   M           BRA     PINT_SERCH_BIG2B_500
41607 00009312 0009                   M           NOP
41608                            2149 I1  
41609                            2150 I1  
41610                            2151 I1  ;       R8(MIN)=< R9(MAX/MIN)/2 =< [R2] =<R10(MAX)
41611 00009314                   2152 I1  PINT_SERCH_BIG2B_300
41612 00009314 6893              2153 I1          MOV     R9,R8                           ;
41613 00009316 39AC              2154 I1          ADD     R10,R9                          ;(R8[MIN]+R10[MAX])
41614 00009318 4901              2155 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
41615                            2156 I1  
41616 0000931A                   2157 I1  PINT_SERCH_BIG2B_500
41617 0000931A 7701              2158 I1          ADD     #1,R7                           ;デバック
41618                            2159 I1  ;(MAX,MINがかわらなくなったら終わりを入れるか?)
41619 0000931C 3B80              2160 I1          CMP/EQ  R8,R11                          ;
41620 0000931E 8B03              2161 I1          BF      PINT_SERCH_BIG2B_600            ;MIN=OLD-MIN NO
41621 00009320 3CA0              2162 I1          CMP/EQ  R10,R12                         ;
41622 00009322 8B01              2163 I1          BF      PINT_SERCH_BIG2B_600            ;MAX=OLD-MAX NO
41623                            2164 I1          M_BRA   PINT_SERCH_BIG4B_900            ;終了でいい(更新されない・・・終了)
41624 00009324 A038                   M           BRA     PINT_SERCH_BIG4B_900
41625 00009326 0009                   M           NOP
41626                            2165 I1  
41627                            2166 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   637
PROGRAM NAME =

41628 00009328                   2167 I1  PINT_SERCH_BIG2B_600
41629 00009328 6B83              2168 I1          MOV     R8,R11                          ;
41630 0000932A 6CA3              2169 I1          MOV     R10,R12                         ;
41631                            2170 I1          M_BRA   PINT_SERCH_BIG2B_200LOP         ;
41632 0000932C AFE6                   M           BRA     PINT_SERCH_BIG2B_200LOP
41633 0000932E 0009                   M           NOP
41634                            2171 I1  
41635                            2172 I1  ;       ----------- ピッタリ賞 R9:ANS--------------
41636 00009330                   2173 I1  PINT_SERCH_BIG2B_800
41637                            2174 I1  ;       ----------- R9:ANS--------------
41638 00009330                   2175 I1  PINT_SERCH_BIG2B_900
41639                            2176 I1  
41640                            2177 I1          POP_REG1 R14
41641                                 M                                   ; RE"+4" 00,00,00,04
41642 00009330 6EF6                   M           MOV.L   @R15+,R14        ;
41643                            2178 I1          POP_REG1 R13
41644                                 M                                   ; RE"+4" 00,00,00,04
41645 00009332 6DF6                   M           MOV.L   @R15+,R13        ;
41646                            2179 I1          POP_REG1 R12
41647                                 M                                   ; RE"+4" 00,00,00,04
41648 00009334 6CF6                   M           MOV.L   @R15+,R12        ;
41649                            2180 I1          POP_REG1 R11
41650                                 M                                   ; RE"+4" 00,00,00,04
41651 00009336 6BF6                   M           MOV.L   @R15+,R11        ;
41652                            2181 I1          POP_REG1 R10
41653                                 M                                   ; RE"+4" 00,00,00,04
41654 00009338 6AF6                   M           MOV.L   @R15+,R10        ;
41655                            2182 I1          POP_REG1 R8
41656                                 M                                   ; RE"+4" 00,00,00,04
41657 0000933A 68F6                   M           MOV.L   @R15+,R8        ;
41658                            2183 I1          POP_REG1 R7
41659                                 M                                   ; RE"+4" 00,00,00,04
41660 0000933C 67F6                   M           MOV.L   @R15+,R7        ;
41661                            2184 I1          POP_REG1 R6
41662                                 M                                   ; RE"+4" 00,00,00,04
41663 0000933E 66F6                   M           MOV.L   @R15+,R6        ;
41664                            2185 I1          SUB_END
41665                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
41666 00009340 4F26                   M           LDS.L   @R15+,PR                ;[必要]
41667                            2186 I1          M_RTS
41668 00009342 000B                   M           RTS                             ;RTSの後ろの
41669 00009344 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
41670                            2187 I1  
41671                            2188 I1  
41672                            2189 I1  
41673                            2190 I1  ;       *******************************************
41674                            2191 I1  ;       ***                                     ***
41675                            2192 I1  ;       ***     4byte ｻｰﾁ                       ***
41676                            2193 I1  ;       ***                                     ***
41677                            2194 I1  ;       *******************************************
41678                            2195 I1  ;       Input 現在ﾊﾟﾙｽ R2 ()     table-V(n) =< R2 =<table-V(n+1) となる　ﾃｰﾌﾞﾙ番号
41679                            2196 I1  ;                                減速時はn-1を使用する
41680                            2197 I1  ;       Input TABEL_TOP_ADR R13
41681                            2198 I1  ;       Input TABEL個数-1(加減速時間)をもらう R6
41682                            2199 I1  ;
41683                            2200 I1  ;       ANS R9 TABLE NO.
41684                            2201 I1  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   638
PROGRAM NAME =

41685 00009346                   2202 I1  _POINT_SERCH_BIG_4B
41686                            2203 I1          SUB_START
41687 00009346 4F22                   M           STS.L   PR,@-R15                ;[必要]
41688                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
41689                            2204 I1          PUSH_REG1 R6
41690 00009348 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
41691                                 M                                           ;REG=>[SP]
41692                                 M                                           ;"-4" FF,FF,FF,FC
41693                            2205 I1          PUSH_REG1 R7
41694 0000934A 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
41695                                 M                                           ;REG=>[SP]
41696                                 M                                           ;"-4" FF,FF,FF,FC
41697                            2206 I1          PUSH_REG1 R8
41698 0000934C 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
41699                                 M                                           ;REG=>[SP]
41700                                 M                                           ;"-4" FF,FF,FF,FC
41701                            2207 I1          PUSH_REG1 R10
41702 0000934E 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
41703                                 M                                           ;REG=>[SP]
41704                                 M                                           ;"-4" FF,FF,FF,FC
41705                            2208 I1          PUSH_REG1 R11
41706 00009350 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
41707                                 M                                           ;REG=>[SP]
41708                                 M                                           ;"-4" FF,FF,FF,FC
41709                            2209 I1          PUSH_REG1 R12
41710 00009352 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
41711                                 M                                           ;REG=>[SP]
41712                                 M                                           ;"-4" FF,FF,FF,FC
41713                            2210 I1          PUSH_REG1 R13
41714 00009354 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
41715                                 M                                           ;REG=>[SP]
41716                                 M                                           ;"-4" FF,FF,FF,FC
41717                            2211 I1          PUSH_REG1 R14
41718 00009356 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
41719                                 M                                           ;REG=>[SP]
41720                                 M                                           ;"-4" FF,FF,FF,FC
41721                            2212 I1  
41722 00009358 6763              2213 I1          MOV     R6,R7                           ;カウンタ個数
41723                            2214 I1  
41724 0000935A 288A              2215 I1          XOR     R8,R8                           ;min
41725 0000935C 6A73              2216 I1          MOV     R7,R10                          ;max
41726 0000935E 4701              2217 I1          SHLR    R7                              ;IF 11bitの場合10回ｻｰﾁする
41727 00009360 6973              2218 I1          MOV     R7,R9                           ;今回=(MAX=1024+MIN=0)/2=512
41728                            2219 I1                                                  ;R8(MIN=0)=< R9(R10+R8)/2 =< R10(MAX)
41729 00009362 277A              2220 I1          XOR     R7,R7                           ;ﾃﾞﾊﾞｯｸ
41730                            2221 I1  
41731 00009364                   2222 I1  PINT_SERCH_BIG4B_200LOP
41732                            2223 I1  
41733                            2224 I1  ;======= 2byte/4byteの相違部分=====
41734 00009364 6093              2225 I1          MOV     R9,R0                           ;ANS R9
41735 00009366 4008              2226 I1          SHLL2   R0                              ;4byte
41736 00009368 01DE              2227 I1          MOV.L   @(R0,R13),R1                    ;4byte SV
41737                            2228 I1  
41738 0000936A 3210              2229 I1          CMP/EQ  R1,R2                           ;
41739 0000936C 8914              2230 I1          BT      PINT_SERCH_BIG4B_800            ;ﾋﾟｯﾀﾘ賞
41740 0000936E 3212              2231 I1          CMP/HS  R1,R2                           ;SV=<PV
41741 00009370 8904              2232 I1          BT      PINT_SERCH_BIG4B_300            ;YES:大きい
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   639
PROGRAM NAME =

41742                            2233 I1  
41743                            2234 I1  ;       R8(MIN)=< [R2] =<R9(MAX/MIN)/2 =<R10(MAX)
41744 00009372 6A93              2235 I1          MOV     R9,R10                          ;
41745 00009374 398C              2236 I1          ADD     R8,R9                           ;(R8[MIN]+R10[MAX])
41746 00009376 4901              2237 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
41747                            2238 I1          M_BRA   PINT_SERCH_BIG4B_500            ;
41748 00009378 A003                   M           BRA     PINT_SERCH_BIG4B_500
41749 0000937A 0009                   M           NOP
41750                            2239 I1  
41751                            2240 I1  
41752                            2241 I1  ;       R8(MIN)=< R9(MAX/MIN)/2 =< [R2] =<R10(MAX)
41753 0000937C                   2242 I1  PINT_SERCH_BIG4B_300
41754 0000937C 6893              2243 I1          MOV     R9,R8                           ;
41755 0000937E 39AC              2244 I1          ADD     R10,R9                          ;(R8[MIN]+R10[MAX])
41756 00009380 4901              2245 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
41757                            2246 I1  
41758 00009382                   2247 I1  PINT_SERCH_BIG4B_500
41759 00009382 7701              2248 I1          ADD     #1,R7                           ;デバック
41760                            2249 I1  
41761                            2250 I1  ;(MAX,MINがかわらなくなったら終わりを入れるか?)
41762 00009384 3B80              2251 I1          CMP/EQ  R8,R11                          ;
41763 00009386 8B03              2252 I1          BF      PINT_SERCH_BIG4B_600            ;MIN=OLD-MIN NO
41764 00009388 3CA0              2253 I1          CMP/EQ  R10,R12                         ;
41765 0000938A 8B01              2254 I1          BF      PINT_SERCH_BIG4B_600            ;MAX=OLD-MAX NO
41766                            2255 I1  
41767                            2256 I1          M_BRA   PINT_SERCH_BIG4B_900            ;終了でいい(更新されない・・・終了)
41768 0000938C A004                   M           BRA     PINT_SERCH_BIG4B_900
41769 0000938E 0009                   M           NOP
41770                            2257 I1  
41771 00009390                   2258 I1  PINT_SERCH_BIG4B_600
41772 00009390 6B83              2259 I1          MOV     R8,R11                          ;
41773 00009392 6CA3              2260 I1          MOV     R10,R12                         ;
41774                            2261 I1          M_BRA   PINT_SERCH_BIG4B_200LOP         ;
41775 00009394 AFE6                   M           BRA     PINT_SERCH_BIG4B_200LOP
41776 00009396 0009                   M           NOP
41777                            2262 I1  
41778                            2263 I1  ;       ----------- ピッタリ賞 R9:ANS--------------
41779 00009398                   2264 I1  PINT_SERCH_BIG4B_800
41780                            2265 I1  ;       ----------- R9:ANS--------------
41781 00009398                   2266 I1  PINT_SERCH_BIG4B_900
41782                            2267 I1  
41783                            2268 I1          POP_REG1 R14
41784                                 M                                   ; RE"+4" 00,00,00,04
41785 00009398 6EF6                   M           MOV.L   @R15+,R14        ;
41786                            2269 I1          POP_REG1 R13
41787                                 M                                   ; RE"+4" 00,00,00,04
41788 0000939A 6DF6                   M           MOV.L   @R15+,R13        ;
41789                            2270 I1          POP_REG1 R12
41790                                 M                                   ; RE"+4" 00,00,00,04
41791 0000939C 6CF6                   M           MOV.L   @R15+,R12        ;
41792                            2271 I1          POP_REG1 R11
41793                                 M                                   ; RE"+4" 00,00,00,04
41794 0000939E 6BF6                   M           MOV.L   @R15+,R11        ;
41795                            2272 I1          POP_REG1 R10
41796                                 M                                   ; RE"+4" 00,00,00,04
41797 000093A0 6AF6                   M           MOV.L   @R15+,R10        ;
41798                            2273 I1          POP_REG1 R8
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   640
PROGRAM NAME =

41799                                 M                                   ; RE"+4" 00,00,00,04
41800 000093A2 68F6                   M           MOV.L   @R15+,R8        ;
41801                            2274 I1          POP_REG1 R7
41802                                 M                                   ; RE"+4" 00,00,00,04
41803 000093A4 67F6                   M           MOV.L   @R15+,R7        ;
41804                            2275 I1          POP_REG1 R6
41805                                 M                                   ; RE"+4" 00,00,00,04
41806 000093A6 66F6                   M           MOV.L   @R15+,R6        ;
41807                            2276 I1          SUB_END
41808                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
41809 000093A8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
41810                            2277 I1          M_RTS
41811 000093AA 000B                   M           RTS                             ;RTSの後ろの
41812 000093AC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
41813                            2278 I1  
41814                            2279 I1  
41815                            2280 I1  
41816                            2281 I1  
41817                            2282 I1  ;       ***************************************************
41818                            2283 I1  ;       ***                                             ***
41819                            2284 I1  ;       ***                                             ***
41820                            2285 I1  ;       ***             直線加速・減速                  ***
41821                            2286 I1  ;       ***                                             ***
41822                            2287 I1  ;       ***                                             ***
41823                            2288 I1  ;       ***                                             ***
41824                            2289 I1  ;       ***************************************************
41825                            2290 I1  ;       ANS R0:0ﾃﾞｰﾀ変更なし R0:1ﾃﾞｰﾀ変更有り
41826                            2291 I1  ;       ANS R2
41827 000093AE                   2292 I1  _TBLACC_ACC_ADDCHK:
41828                            2293 I1          SUB_START
41829 000093AE 4F22                   M           STS.L   PR,@-R15                ;[必要]
41830                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
41831                            2294 I1  
41832                            2295 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACC_CTRL_STS2,LG=W,BIT=BIT5,WKREG=R1       ;
41833 000093B0 D10A                   M           MOV.L   #_ACC_CTRL_STS2,R1              ;
41834 000093B2 6011                   M           MOV.W   @R1,R0          ;
41835 000093B4 CB20                   M           OR      #BIT5,R0                ;
41836 000093B6 2101                   M           MOV.W   R0,@R1          ;
41837                            2296 I1  
41838                            2297 I1  
41839                            2298 I1  
41840 000093B8 200A              2299 I1          XOR     R0,R0                                           ;変化してない　R0=0
41841                            2300 I1  
41842 000093BA D109              2301 I1          MOV.L   #_ACC_POSCTL_SV_SPDX,R1                         ;･････
41843 000093BC 6312              2302 I1          MOV.L   @R1,R3                                          ;
41844 000093BE D509              2303 I1          MOV.L   #_ACC_POSCTL_RL_SPDX,R5                         ;
41845 000093C0 6252              2304 I1          MOV.L   @R5,R2                                          ;
41846 000093C2 3320              2305 I1          CMP/EQ  R2,R3                                           ;
41847 000093C4 8919              2306 I1          BT      TBLACC_ACC_ADD_END                              ;SV=REAL
41848 000093C6 3323              2307 I1          CMP/GE  R2,R3                                           ;R2<R3
41849 000093C8 8B10              2308 I1          BF      TBLACC_ACC_ADD_200                                      ;NO 減速しろ
41850                            2309 I1  ;       ---加速しろ----
41851 000093CA D407              2310 I1          MOV.L   #_ACC_POSCTL_SV_UP_ACCX,R4                              ;500,000/1000
41852 000093CC 6142              2311 I1          MOV.L   @R4,R1                                                  ;
41853 000093CE 321C              2312 I1          ADD     R1,R2                                                   ;
41854 000093D0 3327              2313 I1          CMP/GT  R2,R3                                                   ;
41855 000093D2 8911              2314 I1          BT      TBLACC_ACC_ADD_300                                      ;R2<R3(SV) THEN そ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   641
PROGRAM NAME =

                                          のまま加速
41856 000093D4 6233              2315 I1          MOV     R3,R2                                                   ;SV→REAL
41857                            2316 I1          M_BRA   TBLACC_ACC_ADD_300                                      ;
41858 000093D6 A00F                   M           BRA     TBLACC_ACC_ADD_300
41859 000093D8 0009                   M           NOP
41860                            2317 I1  
41861                                 I1  ***** BEGIN-POOL *****
41862 000093DA 0000                   I1  ALIGNMENT CODE
41863 000093DC 00000000               I1  DATA FOR SOURCE-LINE 2295
41864 000093E0 00000000               I1  DATA FOR SOURCE-LINE 2301
41865 000093E4 00000000               I1  DATA FOR SOURCE-LINE 2303
41866 000093E8 00000000               I1  DATA FOR SOURCE-LINE 2310
41867                                 I1  ***** END-POOL *****
41868 000093EC                   2318 I1  TBLACC_ACC_ADD_200:
41869                            2319 I1  ;       ---減速しろ---
41870 000093EC D404              2320 I1          MOV.L   #_ACC_POSCTL_SV_DN_ACCX,R4                              ;500,000/1000
41871 000093EE 6142              2321 I1          MOV.L   @R4,R1                                                  ;
41872 000093F0 3218              2322 I1          SUB     R1,R2                                                   ;
41873 000093F2 3237              2323 I1          CMP/GT  R3,R2                                                   ;
41874 000093F4 8900              2324 I1          BT      TBLACC_ACC_ADD_300                                      ;R3<R2
41875 000093F6 6233              2325 I1          MOV     R3,R2                                                   ;
41876 000093F8                   2326 I1  TBLACC_ACC_ADD_300:                                                     ;
41877 000093F8 E001              2327 I1          MOV     #1,R0                                                   ;変化した R0=1
41878 000093FA                   2328 I1  TBLACC_ACC_ADD_END:
41879                            2329 I1          SUB_END
41880                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
41881 000093FA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
41882                            2330 I1          M_RTS
41883 000093FC 000B                   M           RTS                             ;RTSの後ろの
41884 000093FE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
41885                            2331 I1  
41886                            2332 I1  
41887                            2333 I1  
41888                            2334 I1  
41889                            2335 I1  
41890                            2336 I1  
41891                            2337 I1  
41892                            2338 I1  
41893                            2339 I1  
41894                            2340 I1  
41895                            2341 I1  
41896                            2342 I1  
41897                            2343 I1  
41898                            2344 I1  
41899                            2345 I1  
41900                            2346 I1  
41901                            2347 I1  
41902                            2348 I1  
41903                            2349 I1  
41904                            2350 I1  
41905                            2351 I1  
41906                            2352 I1  
41907                            2353 I1  
41908                            2354 I1  
41909                            2355 I1  
41910                            2356 I1  
41911                            2357 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   642
PROGRAM NAME =

41912                            2358 I1  
41913                            2359 I1  
41914                            2360 I1  
41915                            2361 I1  
41916                            2362 I1  ;       *******************************************
41917                            2363 I1  ;       ***                                     ***
41918                            2364 I1  ;       ***                                     ***
41919                            2365 I1  ;       ***             演算                    ***
41920                            2366 I1  ;       ***                                     ***
41921                            2367 I1  ;       ***             (等身大結果で扱う)      ***
41922                            2368 I1  ;       ***                                     ***
41923                            2369 I1  ;       *******************************************
41924                                 I1  ***** BEGIN-POOL *****
41925 00009400 00000000               I1  DATA FOR SOURCE-LINE 2320
41926                                 I1  ***** END-POOL *****
41927 00009404                   2370 I1  _DNM_PLS_LSICTL_CALC:
41928                            2371 I1          SUB_START
41929 00009404 4F22                   M           STS.L   PR,@-R15                ;[必要]
41930                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
41931                            2372 I1  
41932                            2373 I1  ;       --------- 2010-09-27 残りパルス演算の共通化----
41933                            2374 I1          FAR_JSR #_ACC_REST_INFO_MAKE,R0
41934 00009406 D009                   M           MOV.L   #_ACC_REST_INFO_MAKE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41935 00009408 400B                   M           JSR     @R0                     ;
41936 0000940A 0009                   M           NOP                                     ;
41937                            2375 I1  
41938 0000940C D108              2376 I1          MOV.L   #_DNM_ACC_CALFLG,R1                     ;//0/1
41939 0000940E 6011              2377 I1          MOV.W   @R1,R0                                  ;
41940 00009410 8801              2378 I1          CMP/EQ  #1,R0                                   ;
41941 00009412 8B02              2379 I1          BF      DNM_PLS_LSICTLCAL_010                   ;
41942                            2380 I1          FAR_JSR #_DNM_SPD_CALC,R0                       ;
41943 00009414 D007                   M           MOV.L   #_DNM_SPD_CALC,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
41944 00009416 400B                   M           JSR     @R0                     ;
41945 00009418 0009                   M           NOP                                     ;
41946 0000941A                   2381 I1  DNM_PLS_LSICTLCAL_010:
41947                            2382 I1  
41948                            2383 I1  
41949 0000941A D107              2384 I1          MOV.L   #_POSCTL_STEP_FLG,R1                                            ;//0(IDLE)
                                           BIT0/BIT6 END (BIT1 LATCH)
41950 0000941C 6011              2385 I1          MOV.W   @R1,R0                                                          ;
41951 0000941E C802              2386 I1          TST     #BIT1,R0                                                        ;
41952                            2387 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_020                                        ;強制減速
                                          停止中(寸動停止)
41953 00009420 8B0C                   M           BF      DNM_PLS_LSICTLCAL_020
41954                            2388 I1  
41955 00009422 C804              2389 I1          TST     #BIT2,R0                                                        ;
41956                            2390 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_050                                        ;最終減速
                                          状態YES
41957 00009424 8B16                   M           BF      DNM_PLS_LSICTLCAL_050
41958                            2391 I1          M_BRA   DNM_PLS_LSICTLCAL_100                                           ;
41959 00009426 A017                   M           BRA     DNM_PLS_LSICTLCAL_100
41960 00009428 0009                   M           NOP
41961                            2392 I1  
41962                                 I1  ***** BEGIN-POOL *****
41963 0000942A 0000                   I1  ALIGNMENT CODE
41964 0000942C 00000000               I1  DATA FOR SOURCE-LINE 2374
41965 00009430 00000000               I1  DATA FOR SOURCE-LINE 2376
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   643
PROGRAM NAME =

41966 00009434 00000000               I1  DATA FOR SOURCE-LINE 2380
41967 00009438 00000000               I1  DATA FOR SOURCE-LINE 2384
41968                                 I1  ***** END-POOL *****
41969 0000943C                   2393 I1  DNM_PLS_LSICTLCAL_020
41970                            2394 I1  ;       --- 減速コマンドラッチ---
41971 0000943C D103              2395 I1          MOV.L   #_POSCTL_SV_OFS_SPD,R1                                          ;//自起動
                                          PLS/S
41972 0000943E 6212              2396 I1          MOV.L   @R1,R2                                                          ;
41973 00009440 D503              2397 I1          MOV.L   #_POSCTL_RL_SPD,R5                                              ;
41974 00009442 6352              2398 I1          MOV.L   @R5,R3                                                          ;
41975 00009444 3326              2399 I1          CMP/HI  R2,R3                                                           ;R2(SV) <
                                          R3(NOW)
41976 00009446 8905              2400 I1          BT      DNM_PLS_LSICTLCAL_050                                           ;YES
41977                            2401 I1          M_BRA   DNM_PLS_LSICTLCAL_800                                           ;(減速停止
                                          )終了処理
41978 00009448 A092                   M           BRA     DNM_PLS_LSICTLCAL_800
41979 0000944A 0009                   M           NOP
41980                                 I1  ***** BEGIN-POOL *****
41981 0000944C 00000000               I1  DATA FOR SOURCE-LINE 2395
41982 00009450 00000000               I1  DATA FOR SOURCE-LINE 2397
41983                                 I1  ***** END-POOL *****
41984 00009454                   2402 I1  DNM_PLS_LSICTLCAL_050:
41985                            2403 I1          M_BRA   DNM_PLS_LSICTLCAL_700                                           ;減速処理
41986 00009454 A04A                   M           BRA     DNM_PLS_LSICTLCAL_700
41987 00009456 0009                   M           NOP
41988                            2404 I1  
41989                            2405 I1  
41990                            2406 I1  
41991                            2407 I1  
41992 00009458                   2408 I1  DNM_PLS_LSICTLCAL_100:
41993 00009458 D104              2409 I1          MOV.L   #_POSCTL_STEP_CMD,R1                                            ;//3:EMG停
                                          止(速度=0) 1:起動ｺﾏﾝﾄﾞ 2:(減速停止)
41994 0000945A 6011              2410 I1          MOV.W   @R1,R0                                                          ;EMG-STOP
41995 0000945C 8802              2411 I1          CMP/EQ  #2,R0                                                           ;減速停止
41996 0000945E 8B09              2412 I1          BF      DNM_PLS_LSICTLCAL_150                                           ;NO
41997                            2413 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1     ;強制減速
                                          停止指令(寸動停止)
41998 00009460 D103                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
41999 00009462 6011                   M           MOV.W   @R1,R0          ;
42000 00009464 CB02                   M           OR      #BIT1,R0                ;
42001 00009466 2101                   M           MOV.W   R0,@R1          ;
42002                            2414 I1          M_BRA   DNM_PLS_LSICTLCAL_500                                           ;
42003 00009468 A032                   M           BRA     DNM_PLS_LSICTLCAL_500
42004 0000946A 0009                   M           NOP
42005                            2415 I1  
42006                            2416 I1  ;-------通常制御----
42007                                 I1  ***** BEGIN-POOL *****
42008 0000946C 00000000               I1  DATA FOR SOURCE-LINE 2409
42009 00009470 00000000               I1  DATA FOR SOURCE-LINE 2413
42010                                 I1  ***** END-POOL *****
42011 00009474                   2417 I1  DNM_PLS_LSICTLCAL_150:
42012 00009474 D102              2418 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                                            ;
42013 00009476 6011              2419 I1          MOV.W   @R1,R0                                                          ;
42014 00009478 C801              2420 I1          TST     #BIT0,R0                                                        ;
42015                            2421 I1          TST_BIT_OF DNM_PLS_LSICTLCAL_160                                                ;
42016 0000947A 8903                   M           BT      DNM_PLS_LSICTLCAL_160
42017                            2422 I1  ;       -----------やるべきことが今一不明--------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   644
PROGRAM NAME =

42018                            2423 I1          M_BRA   DNM_PLS_LSICTLCAL_EXT                                           ;
42019 0000947C A099                   M           BRA     DNM_PLS_LSICTLCAL_EXT
42020 0000947E 0009                   M           NOP
42021                            2424 I1  
42022                            2425 I1  
42023                                 I1  ***** BEGIN-POOL *****
42024 00009480 00000000               I1  DATA FOR SOURCE-LINE 2418
42025                                 I1  ***** END-POOL *****
42026 00009484                   2426 I1  DNM_PLS_LSICTLCAL_160:
42027                            2427 I1  
42028                            2428 I1  ;;;;ふりこ      FAR_JSR #_CMP_POSLSI_CTLGENSOK,R0                                       ;<
                                          <<2010-09-21>>>
42029                            2429 I1  
42030                            2430 I1  ;<<<2010-09-21>>>
42031 00009484 D106              2431 I1          MOV.L   #_DNM_ACC_CALFLG,R1                     ;//0/1
42032 00009486 6011              2432 I1          MOV.W   @R1,R0                                          ;
42033 00009488 8801              2433 I1          CMP/EQ  #1,R0                                           ;
42034 0000948A 8B0F              2434 I1          BF      DNM_PLS_LSICTLCAL_180                           ;
42035 0000948C D105              2435 I1          MOV.L   #_ACC_CTRL_STS1,R1                              ;
42036 0000948E 6011              2436 I1          MOV.W   @R1,R0                                          ;
42037 00009490 C906              2437 I1          AND     #(BIT2+BIT1),R0                                 ;
42038 00009492 8806              2438 I1          CMP/EQ  #(BIT2+BIT1),R0                                 ;
42039 00009494 892A              2439 I1          BT      DNM_PLS_LSICTLCAL_700                           ;
42040                            2440 I1          FAR_JSR #_DNM_AUTO_UP_DN_CALC,R0                        ;
42041 00009496 D004                   M           MOV.L   #_DNM_AUTO_UP_DN_CALC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
42042 00009498 400B                   M           JSR     @R0                     ;
42043 0000949A 0009                   M           NOP                                     ;
42044                            2441 I1          M_BRA   DNM_PLS_LSICTLCAL_510                           ;
42045 0000949C A01B                   M           BRA     DNM_PLS_LSICTLCAL_510
42046 0000949E 0009                   M           NOP
42047                            2442 I1  
42048                            2443 I1  
42049                                 I1  ***** BEGIN-POOL *****
42050 000094A0 00000000               I1  DATA FOR SOURCE-LINE 2431
42051 000094A4 00000000               I1  DATA FOR SOURCE-LINE 2435
42052 000094A8 00000000               I1  DATA FOR SOURCE-LINE 2440
42053                                 I1  ***** END-POOL *****
42054 000094AC                   2444 I1  DNM_PLS_LSICTLCAL_180:
42055                            2445 I1          FAR_JSR #_CMP_POSLSI_CTLGENSOK,R0                                       ;
42056 000094AC D006                   M           MOV.L   #_CMP_POSLSI_CTLGENSOK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
42057 000094AE 400B                   M           JSR     @R0                     ;
42058 000094B0 0009                   M           NOP                                     ;
42059 000094B2                   2446 I1  DNM_PLS_LSICTLCAL_190:
42060                            2447 I1  
42061 000094B2 2008              2448 I1          TST     R0,R0                                                           ;
42062                            2449 I1          TST_BIT_OF DNM_PLS_LSICTLCAL_500
42063 000094B4 890C                   M           BT      DNM_PLS_LSICTLCAL_500
42064 000094B6 8801              2450 I1          CMP/EQ  #1,R0                                                           ;
42065 000094B8 8918              2451 I1          BT      DNM_PLS_LSICTLCAL_700
42066                            2452 I1  ;       ----- ABNOMAL CALC------                                                ;
42067                            2453 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_CALC_ERR,LG=W,BIT=BIT1,WKREG=R4     ;
42068 000094BA D404                   M           MOV.L   #_POSCTL_CALC_ERR,R4            ;
42069 000094BC 6041                   M           MOV.W   @R4,R0          ;
42070 000094BE CB02                   M           OR      #BIT1,R0                ;
42071 000094C0 2401                   M           MOV.W   R0,@R4          ;
42072                            2454 I1          M_BRA   DNM_PLS_LSICTLCAL_ERR
42073 000094C2 A06F                   M           BRA     DNM_PLS_LSICTLCAL_ERR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   645
PROGRAM NAME =

42074 000094C4 0009                   M           NOP
42075                            2455 I1  
42076                            2456 I1  ;       ===== 距離がありそう =====
42077                                 I1  ***** BEGIN-POOL *****
42078 000094C6 0000                   I1  ALIGNMENT CODE
42079 000094C8 00000000               I1  DATA FOR SOURCE-LINE 2445
42080 000094CC 00000000               I1  DATA FOR SOURCE-LINE 2453
42081                                 I1  ***** END-POOL *****
42082 000094D0                   2457 I1  DNM_PLS_LSICTLCAL_500:                                                          ;
42083                            2458 I1  ;<<<2010-09-21>>>
42084                            2459 I1          FAR_JSR #_PLS_LSI_SPD_ACC_ADD,R0                                        ;<<<2010-0
                                          9-21>>>
42085 000094D0 D004                   M           MOV.L   #_PLS_LSI_SPD_ACC_ADD,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
42086 000094D2 400B                   M           JSR     @R0                     ;
42087 000094D4 0009                   M           NOP                                     ;
42088 000094D6                   2460 I1  DNM_PLS_LSICTLCAL_510:                                                          ;
42089                            2461 I1  
42090 000094D6 2008              2462 I1          TST     R0,R0                                                           ;
42091                            2463 I1          TST_BIT_OF DNM_PLS_LSICTLCAL_EXT                                                ;
                                          書き換えない
42092 000094D8 896B                   M           BT      DNM_PLS_LSICTLCAL_EXT
42093                            2464 I1          FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;LSI SET
42094 000094DA D003                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
42095 000094DC 400B                   M           JSR     @R0                     ;
42096 000094DE 0009                   M           NOP                                     ;
42097                            2465 I1          M_BRA   DNM_PLS_LSICTLCAL_900                                           ;
42098 000094E0 A058                   M           BRA     DNM_PLS_LSICTLCAL_900
42099 000094E2 0009                   M           NOP
42100                            2466 I1  
42101                            2467 I1  
42102                            2468 I1  
42103                            2469 I1  ;------------最終減速処理(自動・手動ともこの演算を行なう)----------
42104                                 I1  ***** BEGIN-POOL *****
42105 000094E4 00000000               I1  DATA FOR SOURCE-LINE 2459
42106 000094E8 00000000               I1  DATA FOR SOURCE-LINE 2464
42107                                 I1  ***** END-POOL *****
42108 000094EC                   2470 I1  DNM_PLS_LSICTLCAL_700:
42109                            2471 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT2,WKREG=R1     ;減速中
42110 000094EC D10A                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
42111 000094EE 6011                   M           MOV.W   @R1,R0          ;
42112 000094F0 CB04                   M           OR      #BIT2,R0                ;
42113 000094F2 2101                   M           MOV.W   R0,@R1          ;
42114                            2472 I1  ;       ---払い出し完了ならやめる---------
42115                            2473 I1          FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;
42116 000094F4 D009                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
42117 000094F6 400B                   M           JSR     @R0                     ;
42118 000094F8 0009                   M           NOP                                     ;
42119 000094FA C804              2474 I1          TST     #BIT2,R0                        ;停止?
42120                            2475 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_820        ;YES:ﾌﾗｸﾞ終了
42121 000094FC 8B3F                   M           BF      DNM_PLS_LSICTLCAL_820
42122                            2476 I1  
42123                            2477 I1  ;       ============================================
42124                            2478 I1  ;<<<2010-09-21>>>
42125 000094FE D108              2479 I1          MOV.L   #_DNM_ACC_CALFLG,R1             ;//0/1
42126 00009500 6011              2480 I1          MOV.W   @R1,R0                          ;
42127 00009502 8801              2481 I1          CMP/EQ  #1,R0                           ;
42128 00009504 8B10              2482 I1          BF      DNM_PLS_LSICTLCAL_710           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   646
PROGRAM NAME =

42129                            2483 I1  
42130 00009506 D104              2484 I1          MOV.L   #_POSCTL_STEP_FLG,R1            ;
42131 00009508 6011              2485 I1          MOV.W   @R1,R0                          ;
42132 0000950A C802              2486 I1          TST     #BIT1,R0                        ;
42133                            2487 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_710        ;
42134 0000950C 8B0C                   M           BF      DNM_PLS_LSICTLCAL_710
42135                            2488 I1  
42136                            2489 I1  ;       自動減速
42137                            2490 I1          FAR_JSR #_DNM_AUTO_UP_DN_CALC,R0        ;
42138 0000950E D005                   M           MOV.L   #_DNM_AUTO_UP_DN_CALC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
42139 00009510 400B                   M           JSR     @R0                     ;
42140 00009512 0009                   M           NOP                                     ;
42141                            2491 I1          M_BRA   DNM_PLS_LSICTLCAL_740           ;
42142 00009514 A013                   M           BRA     DNM_PLS_LSICTLCAL_740
42143 00009516 0009                   M           NOP
42144                            2492 I1  
42145                            2493 I1  
42146                                 I1  ***** BEGIN-POOL *****
42147 00009518 00000000               I1  DATA FOR SOURCE-LINE 2471,2484
42148 0000951C 00000000               I1  DATA FOR SOURCE-LINE 2473
42149 00009520 00000000               I1  DATA FOR SOURCE-LINE 2479
42150 00009524 00000000               I1  DATA FOR SOURCE-LINE 2490
42151                                 I1  ***** END-POOL *****
42152 00009528                   2494 I1  DNM_PLS_LSICTLCAL_710:
42153                            2495 I1  ;       ============================================
42154                            2496 I1  
42155                            2497 I1  ;       ----ここにきたら目標位置が変わるまで加速はしない------
42156 00009528 D50C              2498 I1          MOV.L   #_POSCTL_RL_SPD,R5              ;
42157 0000952A 6252              2499 I1          MOV.L   @R5,R2                          ;
42158 0000952C D40C              2500 I1          MOV.L   #_POSCTL_SV_DN_ACC,R4           ;
42159 0000952E 6342              2501 I1          MOV.L   @R4,R3                          ;
42160 00009530 2338              2502 I1          TST     R3,R3                           ;
42161                            2503 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_720                ;
42162 00009532 8B00                   M           BF      DNM_PLS_LSICTLCAL_720
42163 00009534 E301              2504 I1          MOV     #1,R3                           ;
42164 00009536                   2505 I1  DNM_PLS_LSICTLCAL_720:                          ;
42165 00009536 3238              2506 I1          SUB     R3,R2                           ;
42166 00009538 4211              2507 I1          CMP/PZ  R2                              ;
42167 0000953A 8900              2508 I1          BT      DNM_PLS_LSICTLCAL_740           ;
42168 0000953C 222A              2509 I1          XOR     R2,R2                           ;
42169 0000953E                   2510 I1  DNM_PLS_LSICTLCAL_740:                          ;
42170                            2511 I1  
42171                            2512 I1  
42172                            2513 I1  
42173 0000953E D109              2514 I1          MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
42174 00009540 6312              2515 I1          MOV.L   @R1,R3                          ;
42175 00009542 3236              2516 I1          CMP/HI  R3,R2                           ;
42176 00009544 8904              2517 I1          BT      DNM_PLS_LSICTLCAL_760           ;OFS < CALC
42177 00009546 6233              2518 I1          MOV     R3,R2                           ;MNINLINIT
42178                            2519 I1  ;       -------------------
42179 00009548 D107              2520 I1          MOV.L   #_POSCTL_STEP_FLG,R1            ;
42180 0000954A 6011              2521 I1          MOV.W   @R1,R0                          ;
42181 0000954C C802              2522 I1          TST     #BIT1,R0                        ;手動減速中
42182                            2523 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_800        ;手動減速中なら終了
42183 0000954E 8B0F                   M           BF      DNM_PLS_LSICTLCAL_800
42184                            2524 I1  
42185 00009550                   2525 I1  DNM_PLS_LSICTLCAL_760:                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   647
PROGRAM NAME =

42186 00009550 2522              2526 I1          MOV.L   R2,@R5                          ;
42187                            2527 I1          FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;LSI SET
42188 00009552 D006                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
42189 00009554 400B                   M           JSR     @R0                     ;
42190 00009556 0009                   M           NOP                                     ;
42191                            2528 I1          M_BRA   DNM_PLS_LSICTLCAL_900           ;
42192 00009558 A01C                   M           BRA     DNM_PLS_LSICTLCAL_900
42193 0000955A 0009                   M           NOP
42194                            2529 I1  
42195                            2530 I1  ;       -------------終了処理(STEP STOP)----------
42196                                 I1  ***** BEGIN-POOL *****
42197 0000955C 00000000               I1  DATA FOR SOURCE-LINE 2498
42198 00009560 00000000               I1  DATA FOR SOURCE-LINE 2500
42199 00009564 00000000               I1  DATA FOR SOURCE-LINE 2514
42200 00009568 00000000               I1  DATA FOR SOURCE-LINE 2520
42201 0000956C 00000000               I1  DATA FOR SOURCE-LINE 2527
42202                                 I1  ***** END-POOL *****
42203 00009570                   2531 I1  DNM_PLS_LSICTLCAL_800:
42204                            2532 I1          FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
42205 00009570 D009                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
42206 00009572 400B                   M           JSR     @R0                     ;
42207 00009574 0009                   M           NOP                                     ;
42208                            2533 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT5,WKREG=R1     ;DEBUG
42209 00009576 D109                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
42210 00009578 6011                   M           MOV.W   @R1,R0          ;
42211 0000957A CB20                   M           OR      #BIT5,R0                ;
42212 0000957C 2101                   M           MOV.W   R0,@R1          ;
42213 0000957E                   2534 I1  DNM_PLS_LSICTLCAL_820:
42214                            2535 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
42215 0000957E D107                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
42216 00009580 6011                   M           MOV.W   @R1,R0          ;
42217 00009582 CB40                   M           OR      #BIT6,R0                ;
42218 00009584 2101                   M           MOV.W   R0,@R1          ;
42219                            2536 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT3,WKREG=R1     ;DEBUG
42220 00009586 D105                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
42221 00009588 6011                   M           MOV.W   @R1,R0          ;
42222 0000958A CB08                   M           OR      #BIT3,R0                ;
42223 0000958C 2101                   M           MOV.W   R0,@R1          ;
42224                            2537 I1  
42225                            2538 I1          .AIF    0 EQ    0
42226                            2539 C   
42227                            2540 C           FAR_JSR #_VIB_PLS_OUT_OF,R0     ;2010-08-23加振動制御
42228 0000958E D004                   M           MOV.L   #_VIB_PLS_OUT_OF,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
42229 00009590 400B                   M           JSR     @R0                     ;
42230 00009592 0009                   M           NOP                                     ;
42231                            2541 I1          .AENDI
42232                            2542 I1  
42233 00009594                   2543 I1  DNM_PLS_LSICTLCAL_900:
42234                            2544 I1          M_BRA   DNM_PLS_LSICTLCAL_EXT                                           ;
42235 00009594 A00D                   M           BRA     DNM_PLS_LSICTLCAL_EXT
42236 00009596 0009                   M           NOP
42237                            2545 I1  
42238                                 I1  ***** BEGIN-POOL *****
42239 00009598 00000000               I1  DATA FOR SOURCE-LINE 2532
42240 0000959C 00000000               I1  DATA FOR SOURCE-LINE 2533,2535,2536
42241 000095A0 00000000               I1  DATA FOR SOURCE-LINE 2540
42242                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   648
PROGRAM NAME =

42243 000095A4                   2546 I1  DNM_PLS_LSICTLCAL_ERR:
42244                            2547 I1          FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
42245 000095A4 D004                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
42246 000095A6 400B                   M           JSR     @R0                     ;
42247 000095A8 0009                   M           NOP                                     ;
42248                            2548 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
42249 000095AA D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
42250 000095AC 6011                   M           MOV.W   @R1,R0          ;
42251 000095AE CB40                   M           OR      #BIT6,R0                ;
42252 000095B0 2101                   M           MOV.W   R0,@R1          ;
42253                            2549 I1  
42254 000095B2                   2550 I1  DNM_PLS_LSICTLCAL_EXT:
42255                            2551 I1          SUB_END
42256                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
42257 000095B2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
42258                            2552 I1          M_RTS
42259 000095B4 000B                   M           RTS                             ;RTSの後ろの
42260 000095B6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
42261                            2553 I1  
42262                            2554 I1  
42263                            2555 I1  ;
42264                            2556 I1  ;
42265                            2557 I1  ;
42266                            2558 I1  ;
42267                            2559 I1  ;
42268                                 I1  ***** BEGIN-POOL *****
42269 000095B8 00000000               I1  DATA FOR SOURCE-LINE 2547
42270 000095BC 00000000               I1  DATA FOR SOURCE-LINE 2548
42271                                 I1  ***** END-POOL *****
42272 000095C0                   2560 I1  _DNM_AUTO_UP_DN_CALC:
42273                            2561 I1          SUB_START
42274 000095C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
42275                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
42276 000095C2 D104              2562 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;
42277 000095C4 6012              2563 I1          MOV.L   @R1,R0                          ;
42278 000095C6 D504              2564 I1          MOV.L   #_POSCTL_RL_SPD,R5              ;
42279 000095C8 6252              2565 I1          MOV.L   @R5,R2                          ;
42280 000095CA 320C              2566 I1          ADD     R0,R2                           ;
42281 000095CC 2522              2567 I1          MOV.L   R2,@R5                          ;
42282                            2568 I1          SUB_END
42283                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
42284 000095CE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
42285                            2569 I1          M_RTS
42286 000095D0 000B                   M           RTS                             ;RTSの後ろの
42287 000095D2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
42288                            2570 I1  
42289                            2571 I1  
42290                            2572 I1  
42291                            2573 I1  
42292                            2574 I1  ;
42293                           11884     
42294                           11885     
42295                           11886     ;       ***********************************************************
42296                           11887     ;       ***                                                     ***
42297                           11888     ;       ***     CPUBの高速化「以下にはプログラム追加しないこと」***
42298                           11889     ;       ***     2013-03-15                                      ***
42299                           11890     ;       ***********************************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   649
PROGRAM NAME =

42300                           11891     
42301                           11892     
42302                           11893     ;       ***************************************************
42303                           11894     ;       ***                                             ***
42304                           11895     ;       ***             CPUBの高速化終了                ***
42305                           11896     ;       ***             2013-03-15                      ***
42306                           11897     ;       ***                                             ***
42307                           11898     ;       ***************************************************
42308                                     ***** BEGIN-POOL *****
42309 000095D4 00000000                   DATA FOR SOURCE-LINE 2562
42310 000095D8 00000000                   DATA FOR SOURCE-LINE 2564
42311                                     ***** END-POOL *****
42312 000095DC                  11899             .ALIGN  4                                       ;
42313                           11900             .AIF    2 EQ 3          ;
42314                           11901             .SECTION        P,CODE                          ;
42315                           11902             .AENDI                                          ;
42316                           11903     
42317                           11904     
42318                           11905     
42319                           11906             .END
  *****TOTAL ERRORS       0
  *****TOTAL WARNINGS     0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   650

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ACCCHGSPD_LMT_INF_LD_100         P             000079F0  35288 35301*
ACCCHGSPD_LMT_INF_LD_200         P             00007A04  35303 35318*
ACCCHGSPD_LMT_INF_LD_END         P             00007A06  35293 35311 35320*
ACCLAT1_SV_MAKCOM_200            P             0000676E  31094 31096*
ACCLW_CTRLCALC_100               P             00007AF0  35580 35592*
ACCLW_CTRLCALC_120               P             00007AF8  35595 35600*
ACCLW_CTRLCALC_200               P             00007B18  35603 35630*
ACCLW_CTRLCALC_300               P             00007B34  35617 35638 35652*
ACCLW_CTRLCALC_800               P             00007B44  35582 35597 35619 35645 35666*
ACCLW_CTRLCALC_900               P             00007B50  35658 35676*
ACCLW_CTRLCALC_EXT               P             00007B54  35670 35680*
ACCLW_GEN_END_CONFCHK_100        P             00007B8C  35718 35728*
ACCLW_GEN_END_CONFCHK_300        P             00007B8E  35721 35730*
ACCLW_GEN_START_CONFCHK_050      P             00007BC0  35798 35807*
ACCLW_GEN_START_CONFCHK_100      P             00007BD4  35812 35822*
ACCLW_GEN_START_CONFCHK_120      P             00007BE0  35828 35830*
ACCLW_GEN_START_CONFCHK_200LOP   P             00007BF4  35853*36049 
ACCLW_GEN_START_CONFCHK_250      P             00007C1C  35877 35885*
ACCLW_GEN_START_CONFCHK_280      P             00007C2C  35896 35898*
ACCLW_GEN_START_CONFCHK_400      P             00007C64  35958 35965*
ACCLW_GEN_START_CONFCHK_500      P             00007CA0  35983 36004*
ACCLW_GEN_START_CONFCHK_550      P             00007CB2  35862 35890 35903 36018*
ACCLW_GEN_START_CONFCHK_580      P             00007CC4  35985 36030*
ACCLW_GEN_START_CONFCHK_600      P             00007CC6  36021 36032*
ACCLW_GEN_START_CONFCHK_EXT      P             00007CDE  35800 35814 36040 36043 36054*
ACCLW_USECHK_100                 P             00007A2C  35386 35392 35403*
ACCST_CHGSPD_LMT_INF_LD_200      P             00008148  37134 37144 37158*
ACCST_CHGSPD_LMT_INF_LD_300      P             0000814E  37146 37166*
ACCST_CHGSPD_LMT_INF_LD_END      P             00008150  37161 37168*
ACCST_CHGSTEP_GETINF_100         P             00007F28  36620 36622*
ACCST_CHGSTEP_GETINF_EXT         P             00007F2C  36579 36629*
ACCST_CHGSTEP_GETINF_SET         P             00007F28  36599 36609 36625*
ACCST_CTRLCALC_100               P             00007DC4  36295 36307*
ACCST_CTRLCALC_200               P             00007DF4  36336 36351*
ACCST_CTRLCALC_300               P             00007E24  36360 36379*
ACCST_CTRLCALC_800               P             00007E34  36297 36314 36326 36332 36348 36367 36393*
ACCST_CTRLCALC_900               P             00007E40  36385 36404*
ACCST_CTRLCALC_EXT               P             00007E44  36397 36408*
ACCST_DN_END_CONFCHK_100         P             00007EB8  36504 36514*
ACCST_DN_END_CONFCHK_300         P             00007EBA  36507 36516*
ACCST_DN_START_CONFCHK_400       P             000080B8  36979 36990*
ACCST_UPDN_END_CONFCHK_100       P             00007E8C  36457 36471*
ACCST_UPDN_END_CONFCHK_200       P             00007E92  36464 36476*
ACCST_UPDN_START_CONFCHK_050     P             00007F78  36706 36715*
ACCST_UPDN_START_CONFCHK_100     P             00007F8C  36720 36730*
ACCST_UPDN_START_CONFCHK_250     P             00007FCA  36772 36780*
ACCST_UPDN_START_CONFCHK_280     P             00007FDA  36791 36793*
ACCST_UPDN_START_CONFCHK_300     P             00008018  36805 36830*
ACCST_UPDN_START_CONFCHK_500     P             0000802C  36815 36850*
ACCST_UPDN_START_CONFCHK_520     P             00008054  36838 36876*
ACCST_UPDN_START_CONFCHK_540     P             0000807C  36802 36901*
ACCST_UPDN_START_CONFCHK_550     P             00008082  36757 36906*
ACCST_UPDN_START_CONFCHK_580     P             00008088  36785 36798 36817 36840 36912*
ACCST_UPDN_START_CONFCHK_EXT     P             00008088  36708 36722 36865 36891 36904 36909 36913*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   651

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ACCST_UP_END_CONFCHK_100         P             00007EDC  36541 36551*
ACCST_UP_END_CONFCHK_300         P             00007EDE  36544 36553*
ACCST_UP_START_CONFCHK_400       P             00008100  37065 37080*
ACCST_USECHK_100                 P             00007D02  36102 36108 36117*
ACC_FORM_TOP                     P             000088E0  39132 39135 39141 39145 39147 39150 39153 39317 39319 39321 39324 39488 
                                                         39534*41089 41091 41093 41095 41120 41124 41127 
ACC_INFMAK1_DTCHGCHKLOP          P             00008564  38480*38488 
ACC_INFMAK1_EXT                  P             000085DE  38508 38587*
ACC_INFMAK1_START                P             000085B0  38491 38524*
ACC_INFMAK1_START050             P             000085C0  38500 38543*
ACC_INFMAK1_START100             P             000085C6  38536 38555*
ACC_MATHED_COM_DRVST1_100        P             00007978  35112 35129*
ACC_MATHED_COM_DRVST1_END        P             00007982  35121 35131 35139*
ACC_MATHED_CTLSEL_100            P             000079C4  35215 35232*
ACC_MATHED_CTLSEL_END            P             000079CE  35224 35234 35242*
ACC_MATHED_SEL_MN_100            P             00007948  35057 35073*
ACC_MATHED_SEL_MN_END            P             00007952  35065 35075 35084*
ACC_REST_INFMK_100               P             000084D4  37998 38006*
ACC_REST_INFMK_200               P             000084E8  38016 38020 38025*
ACC_STEPINF_MAK1_100LOP          P             00008682  38772*38848 
ACC_STEPINF_MAK1_120             P             0000868E  38779 38782*
ACC_STEPINF_MAK1_180             P             000086CC  38795 38822*
ACC_STEPINF_MAK1_200             P             000086D2  38803 38806 38825 38827*
ACC_STEPINF_MAK1_250             P             000086E4  38839 38841*
ACC_STEPINF_MAK1_300             P             000086F0  38846 38851*
ACC_TBLMAK1_200LOP               P             00008722  39006*39032 
ACC_TBLMKPLS1_SBLOP200           P             00008C5C  40051*40080 
ACC_TBLMKPLS1_SBLOP220           P             00008C6E  40070 40072*
ACC_TBLMKPLS1_SB_END             P             00008C8C  40054 40092*
ACC_TBLMKSPD1_SB100              P             00008B50  39786 39790*
ACC_TBLMKSPD1_SB150              P             00008B5A  39799*39806 
ACC_TBLMKSPD1_SB200              P             00008B78  39794 39820*
ACC_TBLMKSPD1_SB220              P             00008B8C  39832 39834*
ACC_TBLMKSPD1_SB250LOP           P             00008B94  39846*39917 
ACC_TBLMKSPD1_SB300              P             00008BB6  39876 39878*
ACC_TBLMKSPD1_SB500              P             00008BEC  39849 39925*
ACC_TBLMKSPD1_SB900              P             00008BEE  39810 39928*
AFM_DST_CTLACTM                  P             000088FC  39150 39542*41120 
AFM_DST_CTLVTBL                  P             000088F8  39147 39541*41124 
AFM_DST_STPACTM                  P             0000890C  39321 39546*41089 
AFM_DST_STPPTBL                  P             00008910  39488 39547*41091 
AFM_DST_STPVTBL                  P             00008908  39319 39545*41093 
AFM_OLD_CTLACTM                  P             000088F4  39153 39540*
AFM_OLD_CTLVTBL                  P             000088F0  39145 39539*
AFM_OLD_STPACTM                  P             00008904  39324 39544*
AFM_OLD_STPVTBL                  P             00008900  39317 39543*
AFM_SRC_TBL_MEM                  P             000088E4  39135 39536*
AFM_SRC_TBL_TOP                  P             000088E0  39132 39535*
AFM_STEP_INF_FLG                 P             000088EC  39538*41095 41127 
AFM_STEP_INF_SPD                 P             000088E8  39141 39537*
API_ACCLW_DRVSTR2_EXT            P             00007A9C  35494 35500*
API_ACCST_DRVSTR2_EXT            P             00007D68  36204 36211*
API_ENDHANDSIGCHK_100            P             00006F0E  32952 32959*
API_ENDHANDSIGCHK_EXT            P             00006F10  32948 32958 32961*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   652

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

API_SETACC_INFOGET_CALEXT        P             0000862E  38656 38662 38667*
API_SETACC_INFOGET_CALNG         P             0000862C  38638 38645 38665*
API_SETACC_INFOGET_CALOK1        P             00008620  38643 38653*
API_SETACC_INFOGET_CALOK2        P             00008626  38634 38659*
API_SETACC_STSCLR_EXT            P             00008662  38718 38720 38726*
BANKCHKNEXT_CYCL_STR1_010        P             00005D5E  28624 28629*
BANKCHKNEXT_CYCL_STR1_020        P             00005CF4  28472 28540*
BANKCHKNEXT_CYCL_STR1_050        P             00005CFE  28545 28547*
BANKCHKNEXT_CYCL_STR1_100        P             00005D1A  28525 28574*
BANK_CNT_STOPCHK_TYP1_200        P             00005DA4  28657 28665 28676 28697*
BCNT_STEP_NEXTCHK_100            P             00005918  27671 27683*
BCNT_STEP_NEXTCHK_120            P             00005944  27703 27711*
BCNT_STEP_NEXTCHK_200            P             0000594C  27700 27714 27720*
BCNT_STEP_NEXTCHK_250            P             00005980  27726 27732 27756*
BCNT_STEP_NEXTCHK_300            P             00005988  27762 27779*
BCNT_STEP_NEXTCHK_CHK            P             0000599C  27705 27716 27797*
BCNT_STEP_NEXTCHK_EXT            P             000059AA  27673 27746 27787 27802 27811*
BIT0                                      EQU  00000001     15* 2040  2349  2364  6690  6933  6940  7100  7151  7337  7471  7629 
                                                          7825  7915  7984  8059  8279  8765  8772  9116  9123  9186  9193  9344 
                                                          9528  9535  9699  9706  9991 10028 10120 10212 10276 10335 10346 10347 
                                                         10420 10461 10512 10671 11146 11325 11329 11456 11460 11664 11668 11761 
                                                         11765 11829 11952 11976 12011 12036 12096 12115 12197 12214 12230 12244 
                                                         12298 12381 12542 12569 12668 12731 12804 13654 13902 13913 13957 14017 
                                                         14038 14041 14103 14200 14393 14446 14509 14539 14722 14797 14798 14910 
                                                         14911 15069 15070 15073 15291 15308 15415 15452 15564 15736 16029 16036 
                                                         16189 16448 16487 17476 18205 18618 19261 19382 19522 19622 19718 19845 
                                                         19973 20276 20411 20434 20439 20447 20498 20522 20528 20931 21637 21753 
                                                         21812 21863 21917 22056 22059 22291 22404 22417 22773 22848 23074 23322 
                                                         23327 23843 23855 23885 24244 24263 24323 24326 25112 25129 25245 25262 
                                                         25432 25491 25616 25777 25782 27730 27738 27743 27871 27979 27992 28381 
                                                         28385 28422 28470 28627 28674 28687 28729 28958 29150 29311 29572 29597 
                                                         29654 29859 29943 29954 30293 30377 30453 30525 30945 31390 31396 31898 
                                                         31904 32116 32153 32167 32182 32196 32210 32224 32235 32293 32549 32638 
                                                         32950 33031 33080 33178 33182 33239 33250 33251 33325 33371 33584 33603 
                                                         33734 33882 34113 34166 34192 35401 35492 35496 35578 35719 35860 36019 
                                                         36115 36202 36206 36293 36324 36412 36417 36505 36542 36607 36621 36755 
                                                         37295 37381 37395 37566 37996 38527 38654 38837 40432 40904 40932 40978 
                                                         41019 42014 
BIT1                                      EQU  00000002     16* 2041  2350  2365  7465  7471  7629  8259 10126 10276 10346 10753 
                                                         11055 11079 11131 11415 11829 12059 12280 12341 12417 12566 12731 13657 
                                                         13899 13913 13969 13989 14005 14248 14446 14551 14583 14722 14797 14798 
                                                         14910 14911 15069 15070 15402 15485 16224 16384 18205 20416 20452 20503 
                                                         20533 21625 22080 22345 22434 22463 23199 23839 23885 24610 24616 25142 
                                                         25275 25516 27866 27871 28692 28765 28837 29184 29276 29282 29305 29311 
                                                         29345 29577 29622 29648 29654 32950 33080 33250 33729 33734 33891 33897 
                                                         33955 33967 34108 34147 34192 36412 36455 36618 36862 36888 37142 37510 
                                                         37552 37595 37700 38546 38660 40444 40904 41019 41951 42000 42037 42038 
                                                         42070 42132 42181 
BIT10                                     EQU  00000400     25* 2375 18498 18539 22893 22905 31871 
BIT11                                     EQU  00000800     26* 2376 11967 18397 18438 30807 30859 31871 
BIT12                                     EQU  00001000     27* 2381 11967 17953 18036 23831 24337 24372 
BIT13                                     EQU  00002000     28* 2382 10038 12348 24259 24282 34886 34942 
BIT14                                     EQU  00004000     29* 2383 10033 34907 34942 
BIT15                                     EQU  00008000     30* 2384  6954 29605 34928 34942 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   653

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BIT16                                     EQU  00010000     31*
BIT17                                     EQU  00020000     32*
BIT18                                     EQU  00040000     33*
BIT19                                     EQU  00080000     34*
BIT2                                      EQU  00000004     17* 2042  2351  2366  2386 10324 10346 10759 10922 10970 11913 12167 
                                                         12467 12539 12731 13931 14467 14748 15427 15478 15867 17618 17622 18307 
                                                         18359 18682 18772 18846 18950 18959 18993 19261 19326 19382 20800 21612 
                                                         21625 21799 21830 21900 22021 22059 22080 22101 22291 22463 22475 22501 
                                                         24610 25153 25286 25538 27062 27724 27871 29218 29311 32946 33035 33250 
                                                         33980 34005 34152 34192 37277 37513 37631 37662 37669 38578 38636 38640 
                                                         38716 38792 38800 38804 38826 39766 39955 40027 40466 40473 40901 40985 
                                                         41045 41955 42037 42038 42112 42119 
BIT20                                     EQU  00100000     35*
BIT21                                     EQU  00200000     36*
BIT22                                     EQU  00400000     37*
BIT23                                     EQU  00800000     38*
BIT24                                     EQU  01000000     39*
BIT25                                     EQU  02000000     40*
BIT26                                     EQU  04000000     41*
BIT27                                     EQU  08000000     42*
BIT28                                     EQU  10000000     43*
BIT29                                     EQU  20000000     44*
BIT3                                      EQU  00000008     18* 2043  2352  2367  2387  6249  7907  7977  8052  8156  8265 10324 
                                                         10726 10919 10949 12192 12709 12731 13723 14326 18616 24610 25566 27760 
                                                         27918 29311 33227 33376 34020 34044 34108 34147 34192 34620 34629 37743 
                                                         38640 38685 42222 
BIT30                                     EQU  40000000     45*
BIT31                                     EQU  80000000     46*
BIT4                                      EQU  00000010     19* 2353  2368  2388 10324 11933 12726 14400 15851 16467 19466 19622 
                                                         24610 25309 25333 25367 25665 29311 34081 34100 34108 34140 34147 34192 
                                                         34624 34629 40951 
BIT5                                      EQU  00000020     20* 2354  2369  2389  7160  7166  8993  9281  9324  9780  9805 14736 
                                                         14822 15854 16453 20931 22787 22890 24610 29311 33592 33598 34192 37732 
                                                         41835 42211 
BIT6                                      EQU  00000040     21* 2355  2370  2390  7244  8835 10304 10324 10788 10812 10916 10976 
                                                         10999 11002 11817 12993 13878 14319 17227 17476 18955 19402 22013 22190 
                                                         22705 22773 22881 24610 27094 29311 30948 33897 34265 34486 34557 34666 
                                                         35601 35615 36013 36334 36346 36417 36857 36883 37377 37738 37772 42217 
                                                         42251 
BIT7                                      EQU  00000080     22* 2356  2371  2391  8883 13006 13060 13106 13152 24610 28073 29270 
                                                         29287 29322 31879 31888 35593 36330 36364 36417 
BIT8                                      EQU  00000100     23* 2357  2372 24610 31871 32535 
BIT9                                      EQU  00000200     24* 2358  2373  6802 12355 12372 22884 22905 24610 31871 33532 33864 
                                                         33927 
BRKTST_POSCTL_0020               P             00007054  33229 33238*
BRKTST_POSCTL_0040               P             0000705C  33241 33247*
BRKTST_POSCTL_0048               P             00007070  33252 33261*
BRKTST_POSCTL_0190               P             000070D4  33254 33338*
BRKTST_POSCTL_0200               P             00007124  33243 33368*
BRKTST_POSCTL_0240               P             00007160  33372 33403*
BRKTST_POSCTL_0800               P             00007180  33231 33340 33391 33445*
CHG_STEP_INFO_MAKSTP_END_010     P             00005494  26187 26200*
CHG_STEP_INFO_MAKSTP_END_020     P             000054A8  26202 26214*
CHG_STEP_INFO_MAKSTP_END_EXT     P             000054A8  26193 26208 26216*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   654

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

CLSINC1_SEL_020                  P             00004D1C  24515 24529*
CLSINC1_SEL_END                  P             00004D26  24522 24537*
CLSINC2_SEL_020                  P             00004D50  24563 24577*
CLSINC2_SEL_END                  P             00004D5A  24570 24585*
CLSINC_SEL_050LOP                P             00004D7A  24619*24628 
CLSINC_SEL_100                   P             00004D88  24622 24629*
CLSINC_SEL_300                   P             00004DA4  24633 24636 24649*
CLSINC_SEL_DEF                   P             00004DA0  24613 24646*
CLS_POS_LENGTH_ADDATA_050        P             00004738  23076 23084*
CMPSPD_RSTPLS_250                P             00008456  37879 37885*
CMPSPD_RSTPLS_280                P             0000845E  37889 37893*
CMP_BRK2_CTLCAL_200              P             000064C8  30455 30463*
CMP_CNT_CTLCAL_200               P             00006464  30379 30387*
CMP_HOLD_CTL200                  P             0000651E  30527 30535*
CMP_PLSLSI_CTLCAL_200            P             000063F8  30295 30303*
CMP_SPD_REST_END                 P             000084A6  37947 37954 37958*
CMP_SPD_REST_ERR                 P             0000849E  37882 37951*
CMP_SPD_REST_MOV                 P             00008498  37891 37896 37935 37944*
CMP_SPD_REST_STOP                P             000084A4  37937 37956*
CNTBANK_DBGBRK_100               P             00005B08  28075 28084*
CNT_GPOINT_STOPTYP2_050          P             00005DF4  28751 28768*
CNT_GPOINT_STOPTYP2_100          P             00005E3E  28731 28747 28760 28847*
CNT_REST_HOSEI_SPDTYP_EXT        P             00006C4C  32295 32299*
CNT_STOP_CMD_DATSUB1_100         P             00005F06  29027 29030*
CNT_STOP_CMD_DATSUB2_100         P             00005F48  29073 29076*
CNT_SUB_DATACALC_100             P             00005E9A  28939 28943*
CNT_SUB_DATACALC_120             P             00005EA4  28946 28951*
CNT_SUB_DATACALC_150             P             00005EB0  28950 28961*
CNT_SYNCHOS_SPDTYP_080           P             00006B80  32113 32133*
CNT_SYNCHOS_SPDTYP_100           P             00006B86  32138*
CNT_SYNCHOS_SPDTYP_200           P             00006B90  32137 32149*
CNT_SYNCHOS_SPDTYP_250           P             00006BA2  32152 32163*
CNT_SYNCHOS_SPDTYP_300           P             00006BB4  32166 32177*
CNT_SYNCHOS_SPDTYP_310           P             00006BC6  32181 32192*
CNT_SYNCHOS_SPDTYP_320           P             00006BD8  32195 32206*
CNT_SYNCHOS_SPDTYP_330           P             00006BEA  32209 32220*
CNT_SYNCHOS_SPDTYP_390           P             00006BFC  32223 32234*
CNT_SYNCHOS_SPDTYP_400           P             00006C06  32119 32156 32170 32185 32199 32213 32227 32238 32244*
CNT_SYNCHOS_SPDTYP_450           P             00006C14  32143 32251 32253*
CNT_SYNCHOS_SPDTYP_EXT           P             00006C1C  32259*
CNT_VMODE_NEXT_CYCLSTR_050       P             00005A6C  27920 27952*
CNT_VMODE_NEXT_CYCLSTR_100       P             00005A78  27928 27963*
CPUB_GET_OBJPOS_100              P             00006322  30028 30034*
CPUB_GET_OBJPOS_EXT              P             00006328  30039*
DAI_CHK01_100                    P             00003A50  19913 19921*
DAI_CHK01_200                    P             000002B0   7298  7303*
DAI_CHK03_300                    P             00003AB2  19988 20004*
DEBUG_BRK_PNT1_100               P             00001C9C  13062 13071*
DEBUG_BRK_PNT2_100               P             00001CC4  13108 13117*
DEBUG_BRK_PNT3_100               P             00001CEC  13154 13163*
DEBUG_JMP10                      P             0000906E  40923 40927*
DEBUG_SIGINC_100                 P             00001342  11130 11132*
DELT_POS_SPDCG1_020              P             00004058  21431 21433*
DELT_POS_SPDCG1_050              P             0000406A  21440 21448*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   655

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DELT_POS_SPDCG1_100              P             0000406E  21445 21454*
DELT_POS_SPDCG1_150              P             00004116  21579*21585 
DELT_POS_SPDCG1_200              P             00004076  21437 21443 21451 21464*
DELT_POS_SPDCG1_250              P             00004092  21477 21479*
DELT_POS_SPDCG1_300              P             000040AA  21493 21496*
DELT_POS_SPDCG1_350              P             000040AC  21489 21498*
DELT_POS_SPDCG1_380              P             000040B6  21504 21506*
DELT_POS_SPDCG1_430              P             000040E2  21536 21538*
DNDINC_MAKOBJPOS_100             P             00002604  15071 15083*
DNDINC_MAKOBJPOS_120             P             0000260E  15075 15089*
DNDINC_MAKOBJPOS_150             P             00002620  15077 15088 15101*
DNDINC_MAKOBJPOS_200             P             00002624  15093 15105*
DNDINC_SPDSET_100                P             00000880   8837  8843  8845*
DNDINC_STEP_MK100                P             000024FC  14862 14872 14882 14899*
DNDINC_STEP_MK150                P             00002534  14884 14912 14930*
DNDINC_STEP_MK180                P             00002570  14935 14969*
DNDINC_STEP_MK200                P             0000258E  14958 14992*
DNDINC_STEP_MK220                P             000025D8  15029 15040*
DNDINC_STEP_MK300                P             000025DE  14918 15034 15044*
DNDINC_ST_100                    P             00000400   7612  7626*
DNDINC_ST_250                    P             00000448   7658  7675*
DNDINC_ST_290                    P             0000044E   7664  7680*
DNDINC_ST_350                    P             00000460   7636  7695*
DNDINC_ST_380                    P             00000472   7686  7712*
DNDINC_ST_520                    P             0000048C   7631  7729*
DNDINC_ST_550                    P             000004C4   7733  7765*
DNDINC_ST_580                    P             000004D4   7755  7779*
DNDINC_ST_END                    P             000004DA   7619  7718  7784*
DND_1STEP_DATMK1_050             P             00001630  11760 11762*
DND_ALLSTEPCTL_005               P             00001FA0  13823 13837*
DND_ALLSTEPCTL_010               P             00001FBC  13843 13859*
DND_ALLSTEPCTL_020               P             00001FCC  13816 13875*
DND_ALLSTEPCTL_050               P             00001FDC  13880 13888*
DND_ALLSTEPCTL_060               P             00001FF4  13901 13904 13909*
DND_ALLSTEPCTL_100               P             00002010  13915 13926*
DND_ALLSTEPCTL_200               P             0000202C  13933 13949*
DND_ALLSTEPCTL_300               P             00002048  13917 13968*
DND_ALLSTEPCTL_320               P             00002068  13985 13991*
DND_ALLSTEPCTL_400               P             00002074  13971 14002*
DND_ALLSTEPCTL_420               P             00002084  14007 14014*
DND_ALLSTEPCTL_425               P             0000208C  14019 14023*
DND_ALLSTEPCTL_450               P             00002180  14033 14175*
DND_ALLSTEPCTL_500               P             000021CC  14021 14220*
DND_ALLSTEPCTL_580               P             000021F8  14208 14258*
DND_ALLSTEPCTL_600               P             0000226C  14009 14315*
DND_ALLSTEPCTL_900               P             0000228E  13829 13851 13865 13882 13939 13960 13993 14157 14295 14354*
DND_LNKPLS_OBJMK1_END            P             00000772   8515  8535  8556*
DND_LNKPLS_OBJ_CHG050            P             00000732   8505  8509*
DND_LNKPLS_OBJ_DNPOS1            P             00000750   8482  8527*
DND_LNKPLS_OBJ_STOPPOS1          P             00000768   8487  8489  8549*
DND_LNKPLS_OBJ_UPPOS0            P             00000722   8496*
DND_LNKPLS_OBJ_UPPOS1            P             00000722   8479  8484  8495*
DND_LNK_STEP_CHG0_100            P             00000576   7986  7988*
DND_LNK_STEP_CHG0_400            P             00000584   7979  7999*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   656

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DND_LNK_STEP_CHG0_423            P             00000598   8004  8013*
DND_LNK_STEP_CHG0_425            P             0000059A   7991  8007  8016*
DND_LNK_STEP_CHG0_END            P             0000059E   8022*
DND_LNK_STEP_CHG2_300            P             00000624   8158  8168*
DND_LNK_STEP_CHG2_320            P             00000640   8178  8190*
DND_LNK_STEP_CHG2_400            P             00000642   8182  8193*
DND_LNK_STEP_CHG2_END            P             00000646   8160  8174  8198*
DND_LNK_STEP_CHK0_100            P             00000532   7917  7919*
DND_LNK_STEP_CHK0_200            P             00000540   7909  7931*
DND_LNK_STEP_CHK0_400            P             00000550   7936  7944*
DND_LNK_STEP_CHK0_450            P             00000552   7922  7947*
DND_LNK_STEP_CHK0_END            P             00000556   7938  7951*
DND_LNK_STEP_CHK2_100            P             000005D8   8061  8083*
DND_LNK_STEP_CHK2_199            P             000005E6   8071  8074  8092  8094*
DND_LNK_STEP_CHK2_300            P             000005F0   8054  8105*
DND_LNK_STEP_CHK2_400            P             00000600   8110  8118*
DND_LNK_STEP_CHK2_450            P             00000602   8097  8121*
DND_LNK_STEP_CHK2_END            P             00000606   8112  8125*
DND_NEGSTEPCTL_100               P             000022F8  14448 14457*
DND_NEGSTEPCTL_200               P             00002314  14469 14483*
DND_NEGSTEPCTL_250               P             0000234C  14502 14525*
DND_NEGSTEPCTL_300               P             0000236C  14450 14550*
DND_NEGSTEPCTL_320               P             0000238C  14571 14579*
DND_NEGSTEPCTL_400               P             0000239C  14553 14594*
DND_NEGSTEPCTL_420               P             000023B0  14605 14614*
DND_NEGSTEPCTL_580               P             000023C2  14647*
DND_NEGSTEPCTL_900               P             000023E6  14471 14490 14514 14542 14573 14586 14607 14672*
DND_NEG_AREA_JD1_050             P             000006B6   8386  8388*
DND_NEG_AREA_JD1_100             P             000006C6   8395  8398  8402*
DND_NEG_AREA_JD2_100             P             000006F4   8436  8439  8443*
DND_NEG_STOP_SVCK_EXT            P             0000068A   8285*
DND_NEG_STOP_SVCK_OFF            P             00000686   8261  8267  8276  8280*
DND_NEG_STOP_SVCK_ON             P             00000684   8278*
DND_NEG_STOP_SVCK_SET            P             00000686   8281*
DND_ORGIN_SIG_FORON_EXT          P             000022CC  14383 14389 14395 14403*
DND_ORGIN_STEP_050               P             00002108  14040 14102*
DND_ORGIN_STEP_100               P             0000214A  14085 14151*
DND_ROTSTEPCTL_050               P             00002424  14724 14733*
DND_ROTSTEPCTL_080               P             0000243C  14738 14751*
DND_ROTSTEPCTL_200               P             0000244C  14750 14765*
DND_ROTSTEPCTL_400               P             0000244C  14766*
DND_ROTSTEPCTL_420               P             00002460  14777 14786*
DND_ROTSTEPCTL_440               P             00002488  14799 14810*
DND_ROTSTEPCTL_500               P             00002492  14802 14814 14816*
DND_ROTSTEPCTL_900               P             000024A2  14753 14779 14831*
DND_ROTSTEPCTL_EXT               P             000024A4  14726 14833*
DND_SPD_SEQSET_100               P             000008B8   8894  8896*
DND_SPD_SEQSET_END               P             000008C6   8885  8890  8906*
DND_TEPSTEPCTL_020               P             00002764  15404 15413*
DND_TEPSTEPCTL_180               P             00002794  15429 15443 15455*
DND_TEPSTEPCTL_200               P             000027B0  15417 15469*
DND_TEPSTEPCTL_220               P             000027F4  15480 15511*
DND_TEPSTEPCTL_290               P             000027FA  15519*
DND_TEPSTEPCTL_400               P             00002804  15406 15530*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   657

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DND_TEPSTEPCTL_420               P             00002818  15535 15548*
DND_TEPSTEPCTL_800               P             00002840  15555 15578*
DND_TEPSTEPCTL_900               P             00002846  15457 15499 15521 15541 15567 15585*
DND_TEPSTEPCTL_EXT               P             00002848  15587*
DNMODE_ENDWAIT_TIMCK_END         P             00006D10  32499 32505*
DNMODE_ENDWAIT_TIMST100          P             00006CF0  32455 32461 32475*
DNMODE_ENDWAIT_TIMST200          P             00006CF2  32466 32477*
DNM_ACCCALC_020                  P             00008E22  40389 40391*
DNM_ACCCALC_100                  P             00008E58  40431 40435*
DNM_ACCCALC_200                  P             00008E66  40441 40448*
DNM_ACCCALC_300                  P             00008E82  40463 40470*
DNM_ACC_OVER_PLSMK100            P             00008F28  40548 40552 40565*
DNM_ACC_OVER_PLSMK200            P             00008F2E  40536 40554 40570*
DNM_CYCLE_ED_100                 P             00006DCE  32683 32689 32691*
DNM_CYCLE_STR_100                P             00006E44  32755 32783*
DNM_CYCLE_STR_200                P             00006E48  32771 32787*
DNM_CYCLE_STR_CAM_SET300         P             00006E5A  32796 32805*
DNM_MATH_ELSE_DATMK100           P             00006E98  32839 32845 32862 32869*
DNM_PLS_LSICTLCAL_010            P             0000941A  41941 41946*
DNM_PLS_LSICTLCAL_020            P             0000943C  41953 41969*
DNM_PLS_LSICTLCAL_050            P             00009454  41957 41976 41984*
DNM_PLS_LSICTLCAL_100            P             00009458  41959 41992*
DNM_PLS_LSICTLCAL_150            P             00009474  41996 42011*
DNM_PLS_LSICTLCAL_160            P             00009484  42016 42026*
DNM_PLS_LSICTLCAL_180            P             000094AC  42034 42054*
DNM_PLS_LSICTLCAL_190            P             000094B2  42059*
DNM_PLS_LSICTLCAL_500            P             000094D0  42003 42063 42082*
DNM_PLS_LSICTLCAL_510            P             000094D6  42045 42088*
DNM_PLS_LSICTLCAL_700            P             000094EC  41986 42039 42065 42108*
DNM_PLS_LSICTLCAL_710            P             00009528  42128 42134 42152*
DNM_PLS_LSICTLCAL_720            P             00009536  42162 42164*
DNM_PLS_LSICTLCAL_740            P             0000953E  42142 42167 42169*
DNM_PLS_LSICTLCAL_760            P             00009550  42176 42185*
DNM_PLS_LSICTLCAL_800            P             00009570  41978 42183 42203*
DNM_PLS_LSICTLCAL_820            P             0000957E  42121 42213*
DNM_PLS_LSICTLCAL_900            P             00009594  42098 42192 42233*
DNM_PLS_LSICTLCAL_ERR            P             000095A4  42073 42243*
DNM_PLS_LSICTLCAL_EXT            P             000095B2  42019 42092 42235 42254*
DNM_STEP_ACC_CHGDBG10            P             00008CEE  40177 40179*
DNM_STEP_ACC_CHGDBG20            P             00008CF4  40181 40183*
DNM_STEP_ACC_CHG_100             P             00008D08  40166 40172 40202*
DNM_TBLCAL_200                   P             00008530  38383 38400*
DNM_TBLCAL_300                   P             00008532  38391 38402*
DURING_TIM_CNTCK_END             P             00006C86  32373*
DURING_TIM_PRECALC100            P             00006CB8  32406 32420*
DURING_TIM_PRECALC200            P             00006CBA  32397 32401 32409 32422*
DURING_TIM_PRECALCEND            P             00006CBE  32411 32425*
ENDHAND_WAIT_TIMC100             P             00006EE0  32903 32917*
ENDHAND_WAIT_TIMC200             P             00006EEC  32908 32926*
ERR_INFO_BAKUP_ST_END            P             00005282  25773 25786*
ERR_INFO_DTCHK1_EXT              P             00004F9E  25095 25101 25107 25114 25158*
ERR_INFO_DTCHK2_050              P             00005040  25296 25298*
ERR_INFO_DTCHK2_100              P             00005054  25305 25311*
ERR_INFO_DTCHK2_150              P             0000506A  25318 25326*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   658

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ERR_INFO_DTCHK2_200              P             000050B0  25329 25357*
ERR_INFO_DTCHK2_300              P             000050C4  25336 25363 25369*
ERR_INFO_DTCHK2_EXT              P             000050C6  25227 25233 25240 25247 25374*
ERR_INFO_DTCHK3X_100             P             00005208  25618 25627*
ERR_INFO_DTCHK3X_200             P             00005260  25620 25686*
ERR_INFO_DTCHK3X_300             P             00005260  25659 25675 25687*
ERR_INFO_DTCHK3_050              P             00005128  25441 25456*
ERR_INFO_DTCHK3_060              P             00005152  25484 25486*
ERR_INFO_DTCHK3_100              P             0000515C  25469 25497*
ERR_INFO_DTCHK3_200              P             00005176  25506 25519*
ERR_INFO_DTCHK3_220              P             00005184  25528 25530*
ERR_INFO_DTCHK3_300              P             0000519A  25533 25547*
ERR_INFO_DTCHK3_350              P             000051A0  25553*25559 
ERR_INFO_DTCHK3_380              P             000051B6  25562 25568*
ERR_INFO_DTCHK3_EXT              P             000051BC  25415 25421 25427 25434 25445 25578*
ERR_INFO_DTIN1_EXT               P             00004E42  24827 24833 24840*
ERR_INFO_DTIN2_EXT               P             00004E92  24883 24917*
ERR_INFO_DTIN3_EXT               P             00004EE2  24979 24986*
ERR_INFO_DTIN4_EXT               P             00004F1C  25026 25032 25044*
ERR_INFO_WKCLR_LOP               P             000052BC  25841*25847 
ERR_STOP_MOVCK050                P             00003DFC  20802 20804*
FULCLS_LNG_ADD_CAL200            P             000047A0  23166 23171 23173*
FULCLS_LNG_ADD_CAL300            P             000047E8  23201 23223*
FULCLS_LNG_ADD_CAL400            P             000047EA  23211 23233*
FULCLS_LNG_ADD_CAL450            P             000047F2  23236 23238*
FULCLS_MAXOVER_ERRS100           P             00004640  22782 22790*
FULCLS_MAXOVER_ERRSET            P             00004620  22742 22754 22764*
FULCLS_MAXOVER_ERRWAT            P             00004640  22758 22768 22795*
FULCLS_MAXPLSCAL_100             P             000045A8  22642 22644*
FULCLS_MAXPLSCAL_200             P             000045B0  22653*
FULCLS_OVERSG_100                P             00004692  22883 22892 22896*
FUL_BEFOR_CAL100                 P             00001550  11522 11534*
FUL_BEFOR_CAL500                 P             00001556  11514 11524 11541*
FUL_CLS_OBJPLSCK_050             P             00004770  23119 23125 23127*
FUL_PLS_ST120                    P             00004846  23326 23328*
FWD_REV_STR_050                  P             000034EA  18620 18622*
FWD_REV_STR_055                  P             000034F8  18628 18631*
FWD_REV_STSIG_OFSPEC_050         P             0000360C  18845 18881*
GAMEN_OVRIDE_100                 P             0000611C  29515 29517*
GENSOK_SIGMK_050                 P             0000413C  21614 21622*
GENSOK_SIGMK_END                 P             00004154  21639 21643*
GENSOK_SIGMK_OF                  P             00004152  21616 21629 21641*
GENSOK_SIGMK_ON                  P             0000414C  21627 21636*
HENSA_DAT_MONMK_050              P             0000589C  27586 27588*
HENSA_DAT_MONMK_100              P             000058B6  27604 27606*
H_BYTE                                    EQU  00000000     82*
INCENC_SV_HENSA_MK050            P             00003D36  20631 20639*
INCENC_SV_HENSA_MK100            P             00003D3C  20642 20644*
INC_UPLIMT_CAL100                P             00006D5C  32531 32538 32563*
INC_UPLIMT_CAL200                P             00006D5E  32551 32565*
INC_UPLIMT_CALEND                P             00006D62  32568*
INT_POSCTL_0020                  P             00000EEC  10306 10321*
INT_POSCTL_0040                  P             00000EFC  10326 10334*
INT_POSCTL_0045                  P             00000F04  10337 10341*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   659

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

INT_POSCTL_0048                  P             00000F18  10348 10357*
INT_POSCTL_0080                  P             00000F40  10378 10390*
INT_POSCTL_0100                  P             00000F48  10403*
INT_POSCTL_0102                  P             00000F8C  10416 10439*
INT_POSCTL_0102A                 P             00000FC0  10463 10483*
INT_POSCTL_0103                  P             00001010  10514 10534*
INT_POSCTL_0105                  P             00001016  10522 10540*
INT_POSCTL_0110                  P             00001028  10489 10554*
INT_POSCTL_0115                  P             00001034  10471 10547 10566*
INT_POSCTL_0120                  P             0000104C  10448 10583*
INT_POSCTL_0130                  P             00001084  10589 10617*
INT_POSCTL_0140                  P             00001090  10572 10606 10628*
INT_POSCTL_0190                  P             000010DA  10350 10423 10690*
INT_POSCTL_0200                  P             00001118  10339 10712*
INT_POSCTL_0220                  P             00001154  10722 10752*
INT_POSCTL_0240                  P             00001188  10755 10784*
INT_POSCTL_0250                  P             000011C4  10790 10827*
INT_POSCTL_0260                  P             000011E4  10832 10836 10853*
INT_POSCTL_0280                  P             000011EA  10845 10858*
INT_POSCTL_0300                  P             00001224  10328 10915*
INT_POSCTL_0320                  P             00001234  10924 10929*
INT_POSCTL_0500                  P             00001264  10921 10937 10965*
INT_POSCTL_0700                  P             00001284  10308 10918 10996*
INT_POSCTL_0800                  P             00001296  10692 10741 10774 10815 10900 10952 10972 10979 11011*
INT_POSCTL_0900                  P             00001298  10926 11001 11013*
INT_POSCTL_0910                  P             000012B6  10197 10222 11037*
INT_POSCTL_0920                  P             000012FC  11051 11075*
INT_POSCTL_0950                  P             00001306  11059 11082*
INT_POSCTL_CHK00                 P             00000E7C  10195 10207*
INT_POSCTL_CHK10                 P             00000E98  10214 10230*
JMP0100000                       P             000007C0   8655  8675*
JMP0100001                       P             00000944   9002  9025*
JMP0100002                       P             00000B08   9418  9436*
JMP0100003                       P             00000D62   9944  9947*
JMP0100007                       P             0000254C  14943 14946*
JMP0100008                       P             0000255A  14953 14956*
JMP0100009                       P             00002580  14978 14980*
JMP0100010                       P             0000258E  14988 14990*
JMP0100011                       P             000025B8  14998 15019*
JMP0100013                       P             00002A38  15981 15983*
JMP0100014                       P             000040CC  21521 21523*
JMP0100016                       P             00004F7A  25128 25130*
JMP0100017                       P             00004F8C  25141 25143*
JMP0100018                       P             00004F9A  25152 25154*
JMP0100019                       P             00005012  25261 25263*
JMP0100020                       P             00005024  25274 25276*
JMP0100021                       P             00005032  25285 25287*
JMP0200000                       P             000007CC   8659  8661  8664  8678  8680  8682*
JMP0200001                       P             00000950   9006  9008  9011  9028  9030  9032*
JMP0200002                       P             00000B14   9422  9424  9427  9439  9441  9443*
JMP0200003                       P             00000D7A   9954  9958  9961*
JMP0200011                       P             000025C4  15002 15004 15007 15022 15024 15026*
JMP0200014                       P             000040D4  21526 21528*
JMPED00027                       P             000078B2  34883 34885 34889*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   660

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

JMPED00028                       P             000078C8  34904 34906 34910*
JMPED00029                       P             000078DE  34925 34927 34931*
JMP_0100004                      P             0000192A  12388 12391*
JMP_0100005                      P             00002058  13977 13980*
JMP_0100006                      P             0000237C  14561 14564*
JMP_0100012                      P             00002746  15389 15392*
JMP_0100015                      P             000042A4  22002 22005*
JMP_0100022                      P             00006D7A  32603 32605*
JMP_0100023                      P             00006DBA  32674 32676*
JMP_0100024                      P             00006E0A  32745 32747*
JMP_0100025                      P             00006EEC  32922 32925*
JMP_0100026                      P             0000781A  34749 34752*
KAJYU_START_UPCK_EXT             P             00004C70  24319 24325 24332 24341*
KJYU_DATA_INFOSL100              P             00004C28  24218 24224 24247 24278*
KJYU_DATA_INFOSL300              P             00004C34  24265 24286*
KJYU_NEARZERO3CHK_100            P             00004B18  24040 24042*
KJYU_NEARZERO3CHK_200            P             00004B32  24057 24059*
KJYU_NEARZERO3CHK_END            P             00004B68  24067 24082 24089 24095 24101*
KJYU_NEARZERO3CHK_OUT_OFF        P             00004B5A  24047 24086*
KJYU_NEARZERO3CHK_TOUTATU        P             00004B60  24061 24079 24092*
KJYU_NEARZERO3CHK_YES            P             00004B66  24064 24098*
KJYU_NEARZERO3_CK100             P             00004B50  24077*
KJYU_NEARZERO_CK200              P             00004AF6  23957 23961 23963*
KJYU_OUTDIR100                   P             00004B84  24120 24130*
KJYU_OUTDIR200                   P             00004B86  24123 24133*
LINK_DIR_OBJMK3_250              P             00000BDC   9604  9609  9611*
LINK_DIR_OBJMK3_280              P             00000BE8   9618  9620*
LINK_DIR_OBJMK3_300              P             00000C04   9600  9634*
LINK_DIR_OBJMK3_400              P             00000C18   9638  9643  9645*
LINK_DIR_OBJMK3_450              P             00000C24   9653  9655*
LINK_DIR_OBJMK3_500              P             00000C26   9622  9658*
LINK_DIR_OBJMK3_600              P             00000C30   9662  9664*
LINK_DIR_OBJMK3_750              P             00000C58   9698  9700*
LINK_PM_MX50                     P             00000D9E   9993  9997*
LINK_UPPLSDN_DRV050              P             00000CA4   9750  9761*
LINK_UPPLSDN_DRV130              P             00000CD0   9752  9776  9782  9788  9799*
LINK_UPPLSDN_DRV135              P             00000CD6   9804*
LINK_UPPLSDN_DRV140              P             00000CD8   9802  9807*
LINK_UPPLS_A_OBJMK1_100          P             000008FC   8968  8970*
LINK_UPPLS_A_OBJMK1_110          P             00000902   8974  8976*
LINK_UPPLS_A_OBJMK1_145          P             00000956   8995  9037*
LINK_UPPLS_A_OBJMK1_150          P             00000958   9036  9039*
LINK_UPPLS_A_OBJMK1_300          P             00000978   9043  9062*
LINK_UPPLS_A_OBJMK1_400          P             0000098C   9066  9071  9073*
LINK_UPPLS_A_OBJMK1_500          P             0000098E   9047  9052  9055  9075*
LINK_UPPLS_A_OBJMK1_600          P             00000998   9079  9081*
LINK_UPPLS_A_OBJMK1_700          P             000009C0   9115  9117*
LINK_UPPLS_A_OBJMK2_030          P             00000A02   9164  9166*
LINK_UPPLS_A_OBJMK2_050          P             00000A22   9185  9187*
LINK_UPPLS_OBJ_SEL_050           P             00000AAC   9326  9339*
LINK_UPPLS_OBJ_SEL_100A          P             00000AC4   9346  9360*
LINK_UPPLS_OBJ_SEL_110B          P             00000AD4   9331  9351  9372*
LINK_UPPLS_OBJ_SEL_END           P             00000AD6   9365  9375*
LNKPLS_OBJ_DAT_MK1_150           P             000007D4   8686  8688*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   661

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

LNKPLS_OBJ_DAT_MK1_300           P             000007F4   8692  8711*
LNKPLS_OBJ_DAT_MK1_400           P             00000808   8715  8720  8722*
LNKPLS_OBJ_DAT_MK1_500           P             0000080A   8696  8701  8704  8724*
LNKPLS_OBJ_DAT_MK1_600           P             00000814   8728  8730*
LNKPLS_OBJ_DAT_MK1_750           P             0000083C   8764  8766*
LNKPLS_OBJ_DAT_MK2_050           P             00002676  15184 15189 15195*
LNKPLS_OBJ_DAT_MK2_080           P             00002684  15200 15204*
LNKPLS_OBJ_DAT_MK2_100           P             000026A0  15180 15219*
LNKPLS_OBJ_DAT_MK2_150           P             000026AC  15222 15226*
LNKPLS_OBJ_DAT_MK2_200           P             000026B8  15228 15234*
LNKPLS_OBJ_DAT_MK2_280           P             000026C8  15241 15245*
LNKPLS_OBJ_DAT_MK2_300           P             000026C8  15206 15249*
LNKPLS_OBJ_DAT_MK2_600           P             000026D2  15253 15255*
LNKPLS_OBJ_DAT_MK2_750           P             000026FA  15290 15292*
LNKPLS_OBJ_DAT_MK2_800           P             0000270C  15299 15304*
LOAD_RESTPLS_050                 P             00003E54  20907 20909 20918*
LOAD_RESTPLS_END                 P             00003E6A  20911 20936*
LOAD_RESTPLS_LOP                 P             00003E24  20883*20926 
LOD_POS_STSRG00                  P             00003672  18994*19055 
LOD_POS_STS_REGSLOW_END          P             0000365A  18952 18958 18961*
L_BYTE                                    EQU  00000001     81*
MN_POSCTL_ST050                  P             00000016   6682  6688  6692*
MN_POSCTL_START_110              P             00000128   6847  6882*
MN_POSCTL_START_200              P             0000013C   6887  6930*
MN_POSCTL_START_220              P             00000180   6935  6942  6950  6957  7031*
MN_POSCTL_START_500              P             000001AC   6849  7062*
MN_POSCTL_START_540              P             000001E8   7102  7133*
MN_POSCTL_START_600              P             000001F8   7083  7119  7144*
MN_POSCTL_START_800              P             000001FE   6895  6966  7053  7148*
MN_POS_CTLACT_100                P             00000280   7246  7255*
MN_POS_CTLACT_130                P             0000029C   7263  7280*
MN_POS_CTLACT_150                P             000002A2   7272  7287*
MN_POS_CTLACT_800                P             000002CC   7248  7320*
MN_POS_CTLACT_CONTINUE           P             000002F4   7310  7331  7351*
MN_POS_CTLACT_CYCLE_END          P             00000300   7339  7362*
MN_POS_CTLACT_EXIT               P             00000302   7354  7360  7364*
MN_POS_CTLACT_STOP_END           P             000002FA   7341  7357*
MONI_DI_CHK_050                  P             00006A7C  31887 31890*
MOST_DISP_DATSMP_050             P             00003DA4  20720 20722*
MOST_DISP_DATSMP_100             P             00003DB4  20730 20732*
MOST_DISP_DATSMP_150             P             00003DC4  20743 20745*
MOTCYC_ED2_050                   P             00003B1E  20101 20104*
MOTION_CYC_ST200                 P             00003A56  19906 19928*
MOT_REPSTART_CL050               P             00006FF4  33133 33149*
MOT_REPSTART_CL100               P             00007002  33138 33157*
MOT_REPSTART_CL200               P             0000701C  33177 33179*
MOT_REP_STEPCK_100               P             00006F6C  33033 33058*
MOT_REP_STEPCK_200               P             00006FAC  33075 33096*
MOT_REP_STEPCK_EXT               P             00006FB2  33027 33046 33064 33070 33084 33102*
NBIT0                                     EQU  000000FE     49*
NBIT1                                     EQU  000000FD     50*
NBIT10                                    EQU  0000FBFF     60*
NBIT11                                    EQU  0000F7FF     61*
NBIT12                                    EQU  0000EFFF     62*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   662

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

NBIT13                                    EQU  0000DFFF     63*
NBIT14                                    EQU  0000BFFF     64*
NBIT15                                    EQU  00007FFF     65*
NBIT2                                     EQU  000000FB     51*39763 39952 40024 
NBIT3                                     EQU  000000F7     52*
NBIT4                                     EQU  000000EF     53*
NBIT5                                     EQU  000000DF     54*
NBIT6                                     EQU  000000BF     55*
NBIT7                                     EQU  0000007F     56*
NBIT8                                     EQU  0000FEFF     58*
NBIT9                                     EQU  0000FDFF     59*
NEG_TEPA_ARACHK100               P             00002AE8  16126 16142*
NEG_TEPA_ARACHK200               P             00002AEE  16111 16149*
NEG_TEPA_ARACHK300               P             00002AF0  16130 16145 16151*
NEXT_CYCL_STR1_050               P             00001E38  13489 13501 13514 13530 13532*
OBJ_NEAR_CK_030                  P             00000D20   9882  9884*
OBJ_NEAR_CK_050                  P             00000D30   9887  9897*
OBJ_NEAR_CK_EXT                  P             00000D3C   9890  9902  9904*
OPEN_ROT_NEAR1_ZR_CK100          P             00003C56  20421 20457*
OPEN_ROT_NEAR1_ZR_CK20           P             00003C0C  20375 20382 20389 20401*
OPEN_ROT_NEAR1_ZR_CK40           P             00003C10  20391 20404*
OPEN_ROT_NEAR1_ZR_CK50           P             00003C34  20406 20429*
OPEN_ROT_NEAR2_ZR_CK100          P             00003CBA  20508 20538*
OPEN_ROT_NEAR2_ZR_CK50           P             00003CA0  20493 20517*
ORGIN_OBJ_POSCTLST2_EXT          P             00000E46  10122 10129*
ORGIN_OBJ_POS_CTLST1_100         P             00000DF4  10036 10058*
ORGIN_OBJ_POS_CTLST1_150         P             00000E10  10064 10084*
ORGIN_OBJ_POS_CTLST1_200         P             00000E16  10045 10073 10089*
OUTPLS_CNT_CHK010                P             00003B44  20242 20245*
OUTPLS_CNT_CHK020                P             00003B54  20256 20258*
OUTPLS_CNT_CHK050                P             00003B68  20269 20271*
OUTPLS_CNT_CHK100                P             00003B82  20284 20287 20289*
OVERRIDE_CHG050                  P             00000EC2  10270 10278 10285*
OVER_DIGCHK_END                  P             000045FE  22711 22721*
OVER_DIGCHK_ERR                  P             000045D8  22698*
OVER_DIGCHK_NOMAL                P             000045FC  22696 22708 22719*
OVER_LIDE_SPDCAL100              P             00006398  30205 30207*
OVER_LIDE_SQRF100                P             0000600C  29272 29302*
OVER_LIDE_SQRF220                P             00006044  29334 29336*
OVER_LIDE_SQRF300                P             00006054  29278 29291 29307 29348*
OVER_RIDE_ERRTIMCHG_100          P             000062AC  29861 29875*
OVRLIDE_LATMULDIV200             P             000067B0  31146 31155 31165*
OVRLIDE_LATMULDIV300             P             000067B8  31153 31174*
OVRLIDE_LATMULDIV400             P             000067C0  31168 31180*
OVRLIDE_LATMULDIV500             P             000067D0  31190 31192*
OVRLIDE_LATMULDIV550             P             000067D6  31157 31195 31197*
OutputPLS_REGCLR_100             P             000032C0  18078 18093*
OutputPLS_REGCLR_150             P             00003318  18164 18175*
OutputPLS_REGCLR_END             P             00003348  18080 18166 18208*
OutputPLS_REGCLR_ERR             P             00003340  18185 18200*
OutputPLS_REGCLR_LOP             P             0000320A  17948*18192 
P                                P        SCT  00000000   6229*
PINT_SERCH_BIG2B_200LOP          P             000092FC  41589*41632 
PINT_SERCH_BIG2B_300             P             00009314  41599 41611*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   663

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

PINT_SERCH_BIG2B_500             P             0000931A  41606 41616*
PINT_SERCH_BIG2B_600             P             00009328  41620 41622 41628*
PINT_SERCH_BIG2B_800             P             00009330  41597 41636*
PINT_SERCH_BIG2B_900             P             00009330  41638*
PINT_SERCH_BIG4B_200LOP          P             00009364  41731*41775 
PINT_SERCH_BIG4B_300             P             0000937C  41741 41753*
PINT_SERCH_BIG4B_500             P             00009382  41748 41758*
PINT_SERCH_BIG4B_600             P             00009390  41763 41765 41771*
PINT_SERCH_BIG4B_800             P             00009398  41739 41779*
PINT_SERCH_BIG4B_900             P             00009398  41624 41768 41781*
PLS_CHG_PLSTOLSI_100             P             000066CA  30938 30940*
PLS_CHG_PLSTOLSI_120             P             000066F0  30947 30950 30964*
PLS_CHG_PLSTOLSI_130             P             00006708  30971 30985*
PLS_CHG_PLSTOLSI_150             P             0000670C  30954 30978 30991*
PLS_CHG_PLSTOLSI_200             P             00006712  30994 30996*
PLS_LSICTRL_050                  P             00008180  37273 37280*
PLS_LSICTRL_070                  P             000081C0  37297 37318*
PLS_LSICTRL_080                  P             000081D0  37305 37331*
PLS_LSICTRL_100                  P             00008210  37383 37400*
PLS_LSICTRL_200                  P             00008268  37404 37440*
PLS_LSICTRL_220                  P             00008284  37448 37462*
PLS_LSICTRL_END                  P             0000828A  37379 37389 37419 37454 37468*
PLS_LSI_CTLCAL_020               P             000082B4  37512 37524*
PLS_LSI_CTLCAL_050               P             000082CC  37515 37531 37539*
PLS_LSI_CTLCAL_100               P             000082D0  37517 37544*
PLS_LSI_CTLCAL_150               P             000082EC  37548 37563*
PLS_LSI_CTLCAL_160               P             000082FC  37568 37578*
PLS_LSI_CTLCAL_500               P             00008320  37555 37588 37608*
PLS_LSI_CTLCAL_580               P             00008340  37624 37642*
PLS_LSI_CTLCAL_700               P             00008350  37541 37590 37598 37658*
PLS_LSI_CTLCAL_720               P             00008370  37681 37683*
PLS_LSI_CTLCAL_740               P             00008378  37686 37688*
PLS_LSI_CTLCAL_760               P             0000838A  37695 37704*
PLS_LSI_CTLCAL_800               P             000083B0  37533 37633 37702 37724*
PLS_LSI_CTLCAL_820               P             000083BE  37671 37734*
PLS_LSI_CTLCAL_900               P             000083D4  37648 37711 37754*
PLS_LSI_CTLCAL_ERR               P             000083E4  37764*
PLS_LSI_CTLCAL_EXT               P             000083F2  37571 37635 37756 37775*
PLS_LSI_SPD_ACCADD_200           P             00008430  37817 37834*
PLS_LSI_SPD_ACCADD_300           P             0000843C  37823 37826 37840 37842*
PLS_LSI_SPD_ACCADD_END           P             00008440  37815 37845*
POINT_SERCHPLS1_050              P             00009210  41323 41325*
POINT_SERCHPLS1_100              P             0000923C  41309 41315 41349*
POINT_SERCHPLS1_200              P             00009244  41337 41355*
POINT_SERCHPLS1_END              P             00009246  41353 41357*
POINT_SERCHPLS_HKN1_050          P             00009276  41417 41419*
POINT_SERCHPLS_HKN1_100          P             00009288  41428 41430*
POINT_SERCHPLS_HKN1_400          P             000092C4  41396 41402 41472*
POINT_SERCHPLS_HKN1_500          P             000092CC  41460 41479*
POINT_SERCHPLS_HKN1_END          P             000092CE  41476 41481*
POINT_SERCHSPD1_100              P             000091C0  41211 41215 41235*
POINT_SERCHSPD1_END              P             000091C6  41223 41238 41241*
POSCNT_BANKDT100                 P             00005B56  28174*
POSITINER_POSCMP_100             P             00007886  34846 34849 34852 34854*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   664

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POSITIONER_DAICTL_020            P             000073E0  33867 33881*
POSITIONER_DAICTL_040            P             000073F6  33896 33898*
POSITIONER_DAICTL_100            P             00007414  33860 33918*
POSITIONER_DAICTL_200            P             0000744C  33930 33952*
POSITIONER_DAICTL_300            P             00007470  33957 33979*
POSITIONER_DAICTL_350            P             00007490  34001 34007*
POSITIONER_DAICTL_400            P             000074A0  33982 34019*
POSITIONER_DAICTL_450            P             000074D6  34040 34062*
POSITIONER_DAICTL_500            P             000074FC  34022 34080*
POSITIONER_DAICTL_530            P             00007538  34094 34126*
POSITIONER_DAICTL_550            P             00007570  34134 34165*
POSITIONER_DAICTL_590            P             00007576  34091 34170*
POSITIONER_DAICTL_800            P             00007580  33906 33939 33970 34009 34064 34083 34116 34155 34172 34182*
POSITIONER_DAICTL_EXT            P             00007596  33869 34204*
POSITIONER_DAIDAT_100            P             00007672  34392 34396 34400 34404*
POSITIONER_DAIOBJ1MK_100         P             000075BA  34254 34259*
POSITIONER_DAIOBJ1MK_200         P             000075E8  34267 34289*
POSITIONER_DAIOBJ1MK_300         P             000075F4  34276 34299*
POSITIONER_DAIOUT_100            P             00007780  34618 34622 34626*
POSITIONER_DAI_OBJ1CP_100        P             00007710  34488 34503*
POSITIONER_DAI_OBJ1CP_END        P             00007726  34517 34523 34528*
POSITIONER_DAI_OBJ1CP_OVR        P             00007724  34492 34507 34526*
POSITIONER_DAI_OBJ1CP_WATDN      P             0000771E  34509 34520*
POSITIONER_DAI_OBJ1CP_WATUP      P             00007718  34494 34514*
POSITIONER_DAI_OBJ2CP_100        P             00007754  34559 34574*
POSITIONER_DAI_OBJ2CP_END        P             0000776A  34588 34593 34598*
POSITIONER_DAI_OBJ2CP_STP        P             00007768  34563 34578 34596*
POSITIONER_DAI_OBJ2CP_WATDN      P             00007762  34565 34590*
POSITIONER_DAI_OBJ2CP_WATUP      P             0000775C  34580 34585*
POSITIONER_DAI_STPCK100          P             000077BC  34668 34683*
POSITIONER_DAI_STPCK150          P             000077C0  34673 34686*
POSITIONER_DAI_STPCK200          P             000077CC  34671 34685 34697*
POSITIONER_DAI_STPCK230          P             000077E0  34707 34710*
POSITIONER_DAI_STPCK250          P             000077F4  34702 34723*
POSITIONER_DAI_STPCK280          P             00007800  34729 34731*
POSITIONER_DAI_STPCK300          P             0000780E  34734 34742*
POSITIONER_DAI_STPCK320          P             00007832  34768 34770*
POSITIONER_DAI_STPCKEND          P             00007866  34794 34800 34806*
POSITIONER_DAI_STPCKERR          P             0000785E  34777 34797*
POSITIONER_DAI_STPCKINP          P             00007864  34775 34803*
POSITIONER_DAI_STPCKWAT          P             00007858  34712 34758 34791*
POSITIONER_UPDNLMT100            P             0000763C  34351 34353*
POSITIONER_UPDNLMT200            P             00007646  34358 34360*
POS_1STEP_DATA_MKSL100           P             00001D18  13201 13217*
POS_1STEP_DATA_MKSL200           P             00001D1E  13209 13222*
POS_1STEP_DATMK1CL_020           P             000014E0  11417 11437*
POS_1STEP_DATMK1CL_040           P             000014E6  11424 11444*
POS_1STEP_DATMK1CL_050           P             000014F4  11455 11457*
POS_1STEP_DATMK1_050             P             0000144A  11324 11326*
POS_1STEP_DATMK2_050             P             000015DE  11663 11665*
POS_ALLSTEPCTL_020               P             00001668  11819 11828*
POS_ALLSTEPCTL_100               P             00001670  11831 11836*
POS_ALLSTEPCTL_101               P             00001684  11846 11855*
POS_ALLSTEPCTL_105               P             000016A4  11875 11885*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   665

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POS_ALLSTEPCTL_120               P             000016A8  11866 11890*
POS_ALLSTEPCTL_189               P             0000173C  11960 11966 11970 12007*
POS_ALLSTEPCTL_189A              P             00001758  11978 12013 12027*
POS_ALLSTEPCTL_190               P             0000175A  11954 11986 12019 12030*
POS_ALLSTEPCTL_200               P             00001774  11915 12055*
POS_ALLSTEPCTL_210               P             000017AA  12093 12098*
POS_ALLSTEPCTL_211               P             000017C0  12111 12117*
POS_ALLSTEPCTL_220               P             000017E8  12084 12134*
POS_ALLSTEPCTL_225               P             000017FC  12150 12159*
POS_ALLSTEPCTL_230               P             0000181C  11848 11877 12176 12186*
POS_ALLSTEPCTL_280               P             0000187C  12262 12272 12274*
POS_ALLSTEPCTL_285               P             00001886  12282 12284*
POS_ALLSTEPCTL_300               P             000018E4  11833 12340*
POS_ALLSTEPCTL_310               P             0000190C  12351 12368*
POS_ALLSTEPCTL_320               P             00001944  12397 12408*
POS_ALLSTEPCTL_400               P             00001960  12343 12436*
POS_ALLSTEPCTL_415               P             0000198E  12446 12453 12462 12469 12475 12481*
POS_ALLSTEPCTL_420               P             000019C0  12502 12516*
POS_ALLSTEPCTL_428               P             00001A0C  12541 12565*
POS_ALLSTEPCTL_430               P             00001A2C  12568 12590*
POS_ALLSTEPCTL_450               P             00001A68  12602 12629*
POS_ALLSTEPCTL_530               P             00001ABC  12663 12706*
POS_ALLSTEPCTL_550               P             00001AD0  12686 12712 12722*
POS_ALLSTEPCTL_580               P             00001B0E  12551 12618 12779*
POS_ALLSTEPCTL_583               P             00001B7C  12806 12834*
POS_ALLSTEPCTL_585               P             00001B94  12800 12852*
POS_ALLSTEPCTL_590               P             00001B9A  12582 12812 12845 12863*
POS_ALLSTEPCTL_600               P             00001C30  12693 12714 12968*
POS_ALLSTEPCTL_600X              P             00001A9C  12659 12670 12691*
POS_ALLSTEPCTL_900               P             00001C60  11821 11887 12044 12120 12152 12178 12317 12359 12399 12426 12504 12947 
                                                         13010*
POS_ALLSTEPCTL_REP231            P             00001864  12246 12248*
POS_CLS_CPUB_TO_CPUA_100         P             00004718  23046 23048*
POS_CLS_OBJPVPLSMAK100           P             00004986  23633 23639*
POS_CLS_OBJPVPLSMAK300           P             000049D8  23657 23687*
POS_CLS_OBJPVPLSMAK310           P             000049E8  23707 23711*
POS_CLS_OBJPVPLSMAK500           P             000049EC  23671 23719*
POS_CLS_RNA_KJYU_FIRST_NZ_CHK100 P             00004A14  23750 23764*
POS_CLS_RNA_KJYU_FIRST_NZ_CHK120 P             00004A28  23776 23778*
POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND P             00004A2E  23757 23780 23783*
POS_CLS_RNA_KJYU_NZ_CHK100       P             00004A5C  23810 23824*
POS_CLS_RNA_KJYU_NZ_CHK200       P             00004AA0  23845 23875*
POS_CLS_RNA_KJYU_NZ_CHK400       P             00004AAE  23841 23889*
POS_CLS_RNA_KJYU_NZ_CHK490       P             00004ABC  23853 23864 23882 23900*
POS_CLS_RNA_KJYU_NZ_CHK500       P             00004ACC  23835 23915*
POS_CLS_RNA_KJYU_NZ_CHKEND       P             00004AD2  23817 23892 23906 23922*
POS_CLS_START_050                P             0000495A  23587 23589*
POS_CLS_TYP1_NEAR_ZR_CHK_100     P             000046D6  22967 22971*
POS_CLS_TYP1_NEAR_ZR_CHK_200     P             00004700  22992 23008*
POS_CLS_TYP1_NEAR_ZR_CHK_201     P             00004706  22996 23013*
POS_CLS_TYP1_NEAR_ZR_CHK_202     P             00004708  22999 23011 23015*
POS_CLS_TYP1_POSCTL1_000         P             000041FE  21762 21860*
POS_CLS_TYP1_POSCTL1_050         P             00004230  21902 21916*
POS_CLS_TYP1_POSCTL1_100         P             00004298  21865 21995*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   666

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POS_CLS_TYP1_POSCTL1_105         P             00004298  21996*
POS_CLS_TYP1_POSCTL1_107         P             000042C0  22023 22032*
POS_CLS_TYP1_POSCTL1_108         P             000042D4  22031 22043*
POS_CLS_TYP1_POSCTL1_110         P             000042D8  22015 22051*
POS_CLS_TYP1_POSCTL1_112         P             00004300  22058 22076*
POS_CLS_TYP1_POSCTL1_113         P             00004310  22082 22090*
POS_CLS_TYP1_POSCTL1_115         P             0000432C  22103 22112*
POS_CLS_TYP1_POSCTL1_117         P             00004340  22117 22126*
POS_CLS_TYP1_POSCTL1_118         P             000043BC  22156 22223*
POS_CLS_TYP1_POSCTL1_119A        P             000043F4  22241 22269*
POS_CLS_TYP1_POSCTL1_119E        P             000043FA  22258 22274*
POS_CLS_TYP1_POSCTL1_119E_EX     P             00004416  22251 22298*
POS_CLS_TYP1_POSCTL1_200         P             00004434  22084 22314*
POS_CLS_TYP1_POSCTL1_220         P             00004484  22333 22364*
POS_CLS_TYP1_POSCTL1_222         P             0000449C  22384 22393*
POS_CLS_TYP1_POSCTL1_240         P             000044B0  22400 22414*
POS_CLS_TYP1_POSCTL1_250         P             000044B8  22386 22408 22422*
POS_CLS_TYP1_POSCTL1_260         P             000044EC  22406 22419 22452*
POS_CLS_TYP1_POSCTL1_280         P             0000450A  22465 22477 22486*
POS_CLS_TYP1_POSCTL1_ED050       P             0000437E  22146 22179*
POS_CLS_TYP1_POSCTL1_END         P             00004528  21832 21851 22503 22508*
POS_CLS_TYP1_POSCTL1_NOT         P             00004186  21748 21768*
POS_CLS_TYP1_POSCTL1_NOT20       P             0000418C  21755 21777*
POS_CLS_TYP1_POSCTL1_OUT_WAIT    P             00004526  21904 21979 22034 22105 22121 22209 22300 22352 22441 22488 22506*
POS_CLS_TYP1_POSCTL1_OVER98      P             00004374  22067 22171*
POS_CLS_TYP1_POSCTL1_OVER99      P             00004378  22154 22174*
POS_CLS_TYP1_POSCTL1_PC_END      P             00004520  22045 22500*
POS_CNT_BANKDTMAK123_COM         P             00005B96  28115 28189 28230*
POS_CNT_BANKDTMAK12_050          P             00005B92  28222 28224*
POS_CNT_BANKDTMAK12_COM          P             00005B84  28110 28132 28184 28213*
POS_CNT_BANKDTMKCM_050           P             00005C48  28380 28382*
POS_CNT_BANKDTMKCM_EXT           P             00005C52  28389*
POS_CNT_LASTSTEPCHK_END          P             00005BEE  28299 28301*
POS_ENDMYUTTIM_KEEP              P             00000364   7477*
POS_ENDMYUTTIM_STOP              P             0000036A   7461  7467  7473  7483*
POS_ENDWAIT_TIMSET_END           P             00000324   7397  7404  7411*
POS_LSI_EMGSTOP_END              P             000033A2  18309 18325*
POS_LSI_SLWSTOP_END              P             000033D0  18361 18373*
POS_PLSOUT_SETRY100              P             00003738  19170 19186*
POS_PLSOUT_SETRY120              P             0000377E  19244 19252*
POS_PLSOUT_SETRY130              P             000037B4  19255 19281*
POS_PLSOUT_SETRY900              P             0000385C  19268 19299 19302 19305 19426*
POS_PLSOUT_SETRYERR              P             00003830  19356 19378*
POS_PLSOUT_SETRYEXT              P             0000386A  19177 19418 19447*
POS_PLSOUT_SETRYLOP              P             00003756  19218*19363 
POS_PLS_OUTDAT_050               P             000038B4  19518 19525*
POS_PLS_OUTDAT_080               P             000038E0  19539 19552*
POS_PLS_OUTDAT_100               P             000038F2  19558 19566*
POS_PLS_OUTDAT_200               P             000038FC  19569 19571 19573*
POS_PLS_OUTDAT_250               P             00003916  19583 19591*
POS_PLS_OUTDAT_300               P             0000391A  19542 19596*
POS_PLS_OUTDAT_320_ECK10         P             000039A4  19766 19768*
POS_PLS_OUTDAT_320_END           P             000039E8  19770 19810*
POS_PLS_OUTDAT_320_ERR1          P             000039D8  19760 19795*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   667

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POS_PLS_OUTDAT_320_EXT           P             000039F0  19779 19804 19816*
POS_PLS_OUTDAT_400               P             00003A16  19847 19855*
POS_START_ROT_CAL_040            P             00001DC0  13390 13394 13399 13424*
POS_START_ROT_CAL_050            P             00001DC4  13384 13431*
POS_START_ROT_CAL_100            P             00001DE4  13408 13438 13444 13460*
POS_START_ROT_CAL_200            P             00001DF0  13462 13471*
POS_START_ROT_CAL_900            P             00001E00  13426 13448 13467 13473 13477 13485*
POS_START_ROT_CAL_950            P             00001E0C  13465 13496*
POS_START_ROT_CAL_999            P             00001E1C  13450 13479 13509*
PRESET_PVABSTOOBJ_100            P             000062F0  29945 29964*
PRESET_PVABSTOOBJ_EXT            P             000062F0  29957 29974*
RESTART_WAIT_PLS_DATASEL_100     P             00004568  22550 22578*
RESTART_WAIT_PLS_DATASEL_END     P             0000457A  22547 22593*
RESTART_WAIT_PLS_DATASEL_OUT     P             00004578  22566 22591*
REVRSE_KAJYU_AREACK_END          P             00004CF6  24465 24481*
REVRSE_KAJYU_AREACK_LASTSPD      P             00004CF0  24443 24456 24458 24475*
REV_BEFORE_CHGKOUTEICK090        P             000048EC  23433 23444*
REV_BEFORE_CHGKOUTEICK100        P             000048EE  23427 23446*
REV_BEFORE_CHGKOUTEICK200        P             000048FC  23455*
REV_BEFORE_CHGKOUTEICK300        P             00004908  23435 23453 23465*
REV_BEFORE_CHGKOUTEICK400        P             0000490A  23458 23467*
RL_POSDTCHK_SECOND_RD            P             00006B24  31979*31985 31987 
SET_OVERID200                    P             00006190  29557 29593*
SET_OVERID500                    P             000061D8  29552 29608 29637*
SET_OVERID900                    P             000061F2  29580 29625 29657*
SPD_CTL_ST100                    P             000068A0  31392 31398*
SPD_STEP_CHGFWD_090              P             00001EFC  13673 13681 13695*
SPD_STEP_CHGFWD_100              P             00001F00  13659 13701*
SPD_STEP_CHGFWD_200              P             00001F0A  13666 13709*
SPD_STEP_CHGFWD_202              P             00001F0C  13684 13712*
SPD_STEP_CHGFWD_250              P             00001F2C  13717 13734*
SPD_STEP_CHGFWD_EXT              P             00001F56  13656 13697 13708 13726 13773*
SPD_UPLIMT_CALEND                P             000063C0  30241 30246 30248*
START_CNT_BANK2_MAKCHK_END       P             00005C7C  28424 28440*
TBLACC_ACC_ADD_200               P             000093EC  41849 41868*
TBLACC_ACC_ADD_300               P             000093F8  41855 41858 41874 41876*
TBLACC_ACC_ADD_END               P             000093FA  41847 41878*
TBLACC_STEP_SPMAK_100            P             000090B8  40943 40974*
TBLACC_STEP_SPMAK_200            P             000090C2  40906 40912 40983*
TBLACC_STEP_SPMAK_250            P             000090E4  40987 41005*
TBLACC_STEP_SPMAK_300            P             000090F0  40996 41013*
TBLACC_STEP_SPMAK_400            P             00009110  40903 40992 41010 41034*
TBLACC_STEP_SPMAK_500            P             0000911E  40958 41023 41048*
TBLACC_STEP_SPMAK_CNST050        P             00009080  40934 40945*
TBLACC_STOPSP_MK500              P             00009024  40816 40859*
TEPA_ADDLSI_010                  P             00002C10  16451 16466*
TEPA_ADDLSI_020                  P             00002C18  16455 16469 16474*
TEPA_ADDLSI_025                  P             00002C2C  16434 16490*
TEPA_ADDLSI_030                  P             00002C3C  16444 16457 16471 16501*
TEPA_ADDLSI_EXT                  P             00002C84  16492 16507 16518 16530 16561*
TEPA_PLSCNTCHK_050               P             00002BBA  16380 16388*
TEPA_PLSCNTCHK_100               P             00002BC0  16374 16386 16394*
TEPA_STARTCHK_050                P             00002B38  16231 16233*
TEPA_STARTCHK_END                P             00002B5C  16240 16256*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   668

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

TEPA_STARTCHK_NG                 P             00002B3E  16220 16226 16237*
TEPA_STARTCHK_OK                 P             00002B54  16236 16250*
TEP_1STEP_DATMK1_050             P             00002A1C  15948 15962*
TEP_1STEP_DATMK1_070             P             00002A20  15951 15965*
TEP_1STEP_DATMK1_080             P             00002A26  15935 15943 15953 15964 15971*
TEP_1STEP_DATMK1_100             P             00002A5E  16028 16030*
TEP_ADD_PLSMK_020                P             0000298E  15853 15855*
TEP_ADD_PLSMK_030                P             00002996  15849 15860*
TEP_ADD_PLSMK_050                P             000029A2  15869 15871*
TEP_ADD_PLSMK_100                P             000029AC  15875 15877*
TEP_ADD_PLSMK_150                P             000029B2  15880 15882*
TEP_SPD_CALCCOM_100              P             00002D18  16674 16676*
TEP_SPD_CALCCOM_200              P             00002D26  16686 16688*
TEP_SPD_CALCCOM_300              P             00002D30  16696 16698*
TEP_SPD_CALCCOM_400              P             00002D3A  16706 16708*
TEP_SYS_SET080                   P             00002DC6  16828 16830*
TEP_SYS_SET100                   P             00002DD6  16840 16842*
TEP_SYS_SET200                   P             00002DEE  16857 16859*
TYP1_OPEN_PRC_050                P             000041B4  21809 21814*
TYP1_OPEN_PRC_200                P             000041F8  21801 21820 21828 21848*
UPPLS1_OBJMAK_COM_145            P             00000B1A   9413  9448*
UPPLS1_OBJMAK_COM_150            P             00000B1C   9447  9450*
UPPLS1_OBJMAK_COM_300            P             00000B3C   9454  9473*
UPPLS1_OBJMAK_COM_400            P             00000B50   9477  9482  9484*
UPPLS1_OBJMAK_COM_500            P             00000B52   9458  9463  9466  9486*
UPPLS1_OBJMAK_COM_600            P             00000B5C   9490  9492*
UPPLS1_OBJMAK_COM_750            P             00000B84   9527  9529*
USE_IN_TBLMV_100LOP              P             00008760  39094*39103 
USE_IN_TBLMV_500                 P             00008780  39097 39112*
VMODE_LOT_SIG_ON                 P             000059EE  27868 27873*
XBIT0                                     EQU  00000000     68*
XBIT1                                     EQU  00000001     69*
XBIT2                                     EQU  00000002     70*
XBIT3                                     EQU  00000003     71*
XBIT4                                     EQU  00000004     72*
XBIT5                                     EQU  00000005     73*
XBIT6                                     EQU  00000006     74*
XBIT7                                     EQU  00000007     75*
_ABS_ENC_PLS_SPD                          IMPT 00000000   3442 21314 21372 30464 
_ABS_OUT_PLS_SPD                          IMPT 00000000   3452 21263 
_ACCBRK1_SV_MAKE                 P             000067E8  29739 31219*33748 
_ACCBRK1_SV_MAK_OVR              P             00006810  29787 31249*
_ACCBRK2_SV_MAKE                 P             0000683C  29743 31287*33752 
_ACCB_ACCLAT_TIM1                         IMPT 00000000  38109 39138 
_ACCERR_ACC_HENSA                         IMPT 00000000   4459 
_ACCERR_ACC_OBJ                           IMPT 00000000   4458 
_ACCERR_ACC_PV                            IMPT 00000000   4457 
_ACCERR_DLY_PV_TIM                        IMPT 00000000   4468 
_ACCERR_ERR_CNT                           IMPT 00000000   4460 
_ACCESS_ERR1                              IMPT 00000000   3538 25552 
_ACCLAT1_SV_MAK_COM              P        EXPT 00006750  31024 31041 31069*31228 31260 31296 
_ACCLAT1_SV_MAK_OVR              P             0000671C  29783 31030*
_ACCLW_CALC_FLG                           IMPT 00000000   5401 35497 35533 35576 35613 35683 36011 
_ACCLW_CTRL_CALC                 P             00007AC0  35219 35559*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   669

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACCLW_DATA_MAIN                 P             00007A0E  35061 35369*
_ACCLW_GEN_END_CONF_CHECK        P             00007B70  35633 35709*
_ACCLW_GEN_MAX_LNG                        IMPT 00000000   5410 35397 35900 
_ACCLW_GEN_OUTSPD_CALC           P             00007B94  35654 35750*
_ACCLW_GEN_START_CONF_CHECK      P             00007BAC  35609 35789*
_ACCLW_GET_SET_SPD                        IMPT 00000000   5407 35463 35715 35754 36006 
_ACCLW_GET_STEP_NO                        IMPT 00000000   5406 35461 36008 
_ACCLW_OUT_SET_SPD                        IMPT 00000000   5408 35465 35677 35757 
_ACCLW_REAL_SPD1MS                        IMPT 00000000   5396 35572 35892 
_ACCLW_SET_SPD                            IMPT 00000000   5395 35564 35667 35713 
_ACCLW_USE_CONF                           IMPT 00000000   5397 35404 35490 
_ACCSEL_CHGSPD_LIMIT_INFO_LOAD   P        EXPT 000079D8  35008 35275*
_ACCST_ACC_MATH_SEL                       IMPT 00000000   5427 36322 36410 36453 36626 36860 36886 
_ACCST_CALC_FLG                           IMPT 00000000   5422 36207 36243 36291 36328 36344 36362 36415 36855 36881 
_ACCST_CHGSPD_LIMIT_INFO_LOAD    P             00008118  35307 37117*
_ACCST_CHGSTEP_GET_MAKE          P             00007EE4  36317 36570*
_ACCST_CTRL_CALC                 P             00007D94  35238 36275*
_ACCST_DATA_MAIN                 P             00007CE4  35079 36091*
_ACCST_DN_END_CONF_CHECK         P             00007E9C  36473 36495*
_ACCST_DN_START_CONF_CHECK       P             0000808E  36810 36933*
_ACCST_GEN_MAX_LNG                        IMPT 00000000   5433 36112 36795 
_ACCST_GET_SET_SPD                        IMPT 00000000   5431 36174 36501 36538 36663 36852 36878 
_ACCST_GET_STEP_NO                        IMPT 00000000   5426 36248 36575 
_ACCST_OUT_SET_SPD                        IMPT 00000000   5432 36176 36405 36666 
_ACCST_REAL_SPD1MS                        IMPT 00000000   5420 36288 36787 
_ACCST_SET_SPD                            IMPT 00000000   5419 36280 36394 36499 36536 
_ACCST_UPDN_END_CONF_CHECK       P             00007E70  36355 36449*
_ACCST_UPDN_OUTSPD_CALC          P             00007F4C  36381 36659*
_ACCST_UPDN_START_CONF_CHECK     P             00007F64  36340 36698*
_ACCST_UP_END_CONF_CHECK         P             00007EC0  36460 36532*
_ACCST_UP_START_CONF_CHECK       P             000080D0  36833 37019*
_ACCST_USE_CONF                           IMPT 00000000   5421 36118 36200 
_ACC_ANS_ACCDAT                           IMPT 00000000  38104 40245 40278 40401 40480 42276 
_ACC_CALC_SPD                             IMPT 00000000  38254 40456 40681 
_ACC_CALC_SPDX                            IMPT 00000000  38253 40449 40668 
_ACC_CALC_TIM                             EQU  000003E8  38078*40049 
_ACC_CTRL_STS1                            IMPT 00000000  38096 40130 40264 40471 42035 
_ACC_CTRL_STS2                            IMPT 00000000  38097 40250 40266 40949 41833 
_ACC_INF1_STEP001                         IMPT 00000000  38136 38763 39538 
_ACC_INF1_STEP002                         IMPT 00000000  38137 39555 
_ACC_INF1_STEP003                         IMPT 00000000  38138 39570 
_ACC_INF1_STEP004                         IMPT 00000000  38139 39585 
_ACC_INF1_STEP005                         IMPT 00000000  38140 39601 
_ACC_INF1_STEP006                         IMPT 00000000  38141 39616 
_ACC_INF1_STEP007                         IMPT 00000000  38142 39631 
_ACC_INF1_STEP008                         IMPT 00000000  38143 39646 
_ACC_INF1_STEP009                         IMPT 00000000  38144 39661 
_ACC_INF1_STEP010                         IMPT 00000000  38145 39676 
_ACC_INF1_STEP011                         IMPT 00000000  38146 39691 
_ACC_INF1_STEPSP01                        IMPT 00000000  38122 38767 39537 
_ACC_INF1_STEPSP02                        IMPT 00000000  38123 39554 
_ACC_INF1_STEPSP03                        IMPT 00000000  38124 39569 
_ACC_INF1_STEPSP04                        IMPT 00000000  38125 39584 
_ACC_INF1_STEPSP05                        IMPT 00000000  38126 39600 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   670

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACC_INF1_STEPSP06                        IMPT 00000000  38127 39615 
_ACC_INF1_STEPSP07                        IMPT 00000000  38128 39630 
_ACC_INF1_STEPSP08                        IMPT 00000000  38129 39645 
_ACC_INF1_STEPSP09                        IMPT 00000000  38130 39660 
_ACC_INF1_STEPSP10                        IMPT 00000000  38131 39675 
_ACC_INF1_STEPSP11                        IMPT 00000000  38132 39690 
_ACC_INFO_CHNAGE_TBL_MAK         P             00008786  38988 39019 39128*
_ACC_IN_TBLUSE                            IMPT 00000000  38244 39092 39535 39552 39567 39582 39598 39613 39628 39643 39658 39673 
                                                         39688 
_ACC_IN_TBL_TIM                           IMPT 00000000  38243 39088 39536 39553 39568 39583 39599 39614 39629 39644 39659 39674 
                                                         39689 
_ACC_LAST_POINT                           IMPT 00000000  38091 40135 40195 40283 
_ACC_LAST_SPD                             IMPT 00000000  38087 40310 40408 40426 
_ACC_MATHED_SEL_CTRL             P        EXPT 000079A8  35005 35207*37341 
_ACC_MATHED_SEL_MAIN             P        EXPT 0000792C  35002 35050*
_ACC_MONITOR_DAT1                         IMPT 00000000   4271 40280 
_ACC_MONITOR_DAT2                         IMPT 00000000   4272 40289 
_ACC_MONITOR_DAT3                         IMPT 00000000   4273 40298 
_ACC_MONITOR_DAT4                         IMPT 00000000   4274 40303 
_ACC_MONITOR_DAT5                         IMPT 00000000   4275 
_ACC_MONITOR_DAT6                         IMPT 00000000   4276 40317 
_ACC_MONITOR_DAT7                         IMPT 00000000   4277 40327 
_ACC_MONITOR_DAT8                         IMPT 00000000   4278 40337 
_ACC_NUMBER_SELTBL1              P             00009134  40800 41077*
_ACC_NUMBER_SELTBL2              P             0000915C  40894 41108*
_ACC_PER_V_MAX                            EQU  00002710  38077*39823 39897 40049 41201 41263 41331 41454 
_ACC_POSCTL_RL_SPDX                       IMPT 00000000  38256 40602 40915 41844 
_ACC_POSCTL_SV_DN_ACCX                    IMPT 00000000  38258 40631 41870 
_ACC_POSCTL_SV_SPDX                       IMPT 00000000  38255 40587 41842 
_ACC_POSCTL_SV_UP_ACCX                    IMPT 00000000  38257 40617 41851 
_ACC_POS_STEP                             IMPT 00000000  38099 40168 40384 
_ACC_REST_ABS_PLS                         IMPT 00000000   4228 38008 40527 
_ACC_REST_ABS_PLSX                        IMPT 00000000  38252 40571 40807 
_ACC_REST_FLG                             IMPT 00000000   4229 38026 40532 40567 41305 41392 
_ACC_REST_INFO_MAKE              P             000084AC  37503 37976*41934 
_ACC_STEP001_ACTM                         IMPT 00000000  38182 39540 39542 39557 
_ACC_STEP001_VTBL                         IMPT 00000000  38166 39539 39541 39556 
_ACC_STEP002_ACTM                         IMPT 00000000  38183 39559 39572 
_ACC_STEP002_VTBL                         IMPT 00000000  38167 39558 39571 
_ACC_STEP003_ACTM                         IMPT 00000000  38184 39574 39587 
_ACC_STEP003_VTBL                         IMPT 00000000  38168 39573 39586 
_ACC_STEP004_ACTM                         IMPT 00000000  38185 39589 39603 
_ACC_STEP004_VTBL                         IMPT 00000000  38169 39588 39602 
_ACC_STEP005_ACTM                         IMPT 00000000  38186 39605 39618 
_ACC_STEP005_VTBL                         IMPT 00000000  38170 39604 39617 
_ACC_STEP006_ACTM                         IMPT 00000000  38187 39620 39633 
_ACC_STEP006_VTBL                         IMPT 00000000  38171 39619 39632 
_ACC_STEP007_ACTM                         IMPT 00000000  38188 39635 39648 
_ACC_STEP007_VTBL                         IMPT 00000000  38172 39634 39647 
_ACC_STEP008_ACTM                         IMPT 00000000  38189 39650 39663 
_ACC_STEP008_VTBL                         IMPT 00000000  38173 39649 39662 
_ACC_STEP009_ACTM                         IMPT 00000000  38190 39665 39678 
_ACC_STEP009_VTBL                         IMPT 00000000  38174 39664 39677 
_ACC_STEP010_ACTM                         IMPT 00000000  38191 39680 39693 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   671

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACC_STEP010_VTBL                         IMPT 00000000  38175 39679 39692 
_ACC_STEP011_ACTM                         IMPT 00000000  38192 39695 
_ACC_STEP011_VTBL                         IMPT 00000000  38176 39694 
_ACC_STEP01_TBL_TOP              P             000088E0  38985 39518 39533*
_ACC_STEP02_TBL_TOP              P             00008914  39519 39551*
_ACC_STEP03_TBL_TOP              P             00008948  39520 39566*
_ACC_STEP04_TBL_TOP              P             0000897C  39521 39581*
_ACC_STEP05_TBL_TOP              P             000089B0  39522 39597*
_ACC_STEP06_TBL_TOP              P             000089E4  39523 39612*
_ACC_STEP07_TBL_TOP              P             00008A18  39524 39627*
_ACC_STEP08_TBL_TOP              P             00008A4C  39525 39642*
_ACC_STEP09_TBL_TOP              P             00008A80  39526 39657*
_ACC_STEP10_TBL_TOP              P             00008AB4  39527 39672*
_ACC_STEP11_TBL_TOP              P             00008AE8  39528 39687*
_ACC_STEP_FLG                             IMPT 00000000  38095 40126 40188 40270 40899 40979 41020 41043 
_ACC_STEP_INF_MAKE1              P             00008670  38564 38750*
_ACC_STEP_NUMBER                          IMPT 00000000  38103 40397 40891 40920 
_ACC_STEP_POINT                           IMPT 00000000  38093 40124 40186 40301 40908 40975 40989 41007 
_ACC_STEP_SPD                             IMPT 00000000  38089 40330 40438 41049 
_ACC_STOP001_ACTM                         IMPT 00000000  38226 39544 39546 39561 
_ACC_STOP001_PTBL                         IMPT 00000000  38213 39547 
_ACC_STOP001_VTBL                         IMPT 00000000  38199 39543 39545 39560 
_ACC_STOP002_ACTM                         IMPT 00000000  38227 39563 39576 
_ACC_STOP002_PTBL                         IMPT 00000000  38214 39564 
_ACC_STOP002_VTBL                         IMPT 00000000  38200 39562 39575 
_ACC_STOP003_ACTM                         IMPT 00000000  38228 39578 39591 
_ACC_STOP003_PTBL                         IMPT 00000000  38215 39579 
_ACC_STOP003_VTBL                         IMPT 00000000  38201 39577 39590 
_ACC_STOP004_ACTM                         IMPT 00000000  38229 39593 39607 
_ACC_STOP004_PTBL                         IMPT 00000000  38216 39594 
_ACC_STOP004_VTBL                         IMPT 00000000  38202 39592 39606 
_ACC_STOP005_ACTM                         IMPT 00000000  38230 39609 39622 
_ACC_STOP005_PTBL                         IMPT 00000000  38217 39610 
_ACC_STOP005_VTBL                         IMPT 00000000  38203 39608 39621 
_ACC_STOP006_ACTM                         IMPT 00000000  38231 39624 39637 
_ACC_STOP006_PTBL                         IMPT 00000000  38218 39625 
_ACC_STOP006_VTBL                         IMPT 00000000  38204 39623 39636 
_ACC_STOP007_ACTM                         IMPT 00000000  38232 39639 39652 
_ACC_STOP007_PTBL                         IMPT 00000000  38219 39640 
_ACC_STOP007_VTBL                         IMPT 00000000  38205 39638 39651 
_ACC_STOP008_ACTM                         IMPT 00000000  38233 39654 39667 
_ACC_STOP008_PTBL                         IMPT 00000000  38220 39655 
_ACC_STOP008_VTBL                         IMPT 00000000  38206 39653 39666 
_ACC_STOP009_ACTM                         IMPT 00000000  38234 39669 39682 
_ACC_STOP009_PTBL                         IMPT 00000000  38221 39670 
_ACC_STOP009_VTBL                         IMPT 00000000  38207 39668 39681 
_ACC_STOP010_ACTM                         IMPT 00000000  38235 39684 39697 
_ACC_STOP010_PTBL                         IMPT 00000000  38222 39685 
_ACC_STOP010_VTBL                         IMPT 00000000  38208 39683 39696 
_ACC_STOP011_ACTM                         IMPT 00000000  38236 39699 
_ACC_STOP011_PTBL                         IMPT 00000000  38223 39700 
_ACC_STOP011_VTBL                         IMPT 00000000  38209 39698 
_ACC_STOP_NUMBER                          IMPT 00000000  38102 40394 40796 
_ACC_STOP_POINT                           IMPT 00000000  38092 40137 40197 40292 40860 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   672

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACC_STOP_SPD                             IMPT 00000000  38088 40320 40428 40862 
_ACC_STR_STEP                             IMPT 00000000  38100 40128 40173 
_ACC_TBL_CAL_IN_TOP              P             000088B4  39002 39517*41084 41115 
_ACC_TBL_MAKE1                   P             0000870A  38571 38904*
_ACC_TBL_MAKPLS1_SUB             P             00008C28  39496 39997*
_ACC_TBL_MAKSPD1_SUB             P             00008B1C  39242 39411 39736*
_ACC_UNIT                                 EQU  000003E8   6253*37904 
_ADDR56_R12_ANS_R12_LIMIT_MAX_MI*P             00000D48   9168  9927*
_ANTI_OF                                  IMPT 00000000   5653 
_ANTI_ON                                  IMPT 00000000   5652 
_API_ACCLW_DRV_START1            P             00007A4C  35116 35429*
_API_ACCLW_DRV_START2            P             00007A8C  35436 35485*35641 
_API_ACCLW_DRV_STOP              P             00007AAC  35176 35528*
_API_ACCLW_DRV_WORK_CLR          P             00007A68  35440 35456*
_API_ACCST_DRV_START1            P             00007D20  35135 36142*
_API_ACCST_DRV_START2            P             00007D58  36149 36195*36586 
_API_ACCST_DRV_STOP              P             00007D78  35183 36238*
_API_ACCST_DRV_WORK_CLR          P             00007D3C  36153 36169*
_API_ACC_MATHED_COM_DRV_START1   P        EXPT 0000795C   7199 12943 35003 35104*
_API_ACC_MATHED_COM_DRV_STOP     P        EXPT 0000798C  11248 12065 12999 17404 35004 35167*
_API_BREAK_VALV_FLG_OF                    IMPT 00000000   6368 14346 14827 
_API_BREAK_VALV_FLG_ON                    IMPT 00000000   6367 
_API_CAM_DRV_DNM_DIR_SET                  IMPT 00000000   6477 32701 32801 
_API_ENDHAND_SIGCHK              P        EXPT 00006EF8  32935 32940*
_API_IVW_CYC_END                          IMPT 00000000   6360 12985 17361 
_API_IVW_CYC_START                        IMPT 00000000   6359 12637 19938 
_API_SETACC_INFO_GET             P        EXPT 000085F8  38604 38613*
_API_SETACC_STS_CLR              P             00008648  38503 38706*
_API_SETACC_STS_END              P        EXPT 00008634  38676 38678*
_AREACHK_0DIG_TO_180             P             00000CE8   9767  9826*
_AUTO_OF                                  IMPT 00000000   5655 
_AUTO_ON                                  IMPT 00000000   5654 
_BANK1_CALC_ROT_NUM_ZR                    IMPT 00000000   3685 13535 28426 
_BANK1_LK_END_OBJ_ABSPLS                  IMPT 00000000   3678 
_BANK2_CPOS_ABS_POS_SET                   IMPT 00000000   6348 28430 28497 
_BANK2_LINK_OBJROT_NUMPLS_ZR              IMPT 00000000   3683 
_BANK2_LINK_OBJROT_NUM_ZR                 IMPT 00000000   3682 28482 
_BANK2_LK_END_OBJ_ABSPLS                  IMPT 00000000   3679 
_BANK2_TO_BANK1_MOV                       IMPT 00000000   6349 28479 
_BANK_CHK_NEXT_CYCL_STR1         P             00005C94  12760 27893 28463*
_BANK_CNT_STEP_NEXT_CHK          P             000058F0  11982 12015 27656*
_BANK_CNT_STOP_CHK_TYP1          P             00005D6C  12841 27959 28648*
_BANK_LENGH_ADD_CALC_SV_TYPE     P             00002EE0  17106*28374 
_BASE_TIM010MS                            IMPT 00000000   2499 
_BASE_TIM100MS                            IMPT 00000000   2500 
_BBN_MESURE_DLY_POINT                     IMPT 00000000   4444 
_BBN_MESURE_DLY_SSPD                      IMPT 00000000   4443 
_BBN_MESURE_POINT                         IMPT 00000000   4438 
_BBN_MESURE_PPOS_BUF                      IMPT 00000000   4428 
_BBN_MESURE_PSPD                          IMPT 00000000   4430 
_BBN_MESURE_PSPD_BUF                      IMPT 00000000   4429 
_BBN_MESURE_SPOS_BUF                      IMPT 00000000   4424 
_BBN_MESURE_SSPD                          IMPT 00000000   4426 
_BBN_MESURE_SSPD_BUF                      IMPT 00000000   4425 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   673

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BBN_MESURE_SSPD_DLYBUF                   IMPT 00000000   4442 
_BBN_MEUSRE_PV_ACC                        IMPT 00000000   4436 
_BBN_MEUSRE_PV_ACC_SRC                    IMPT 00000000   4433 
_BBN_MEUSRE_SV_ACC                        IMPT 00000000   4435 
_BBN_MEUSRE_SV_ACC_SRC                    IMPT 00000000   4432 
_BBN_SET_TIME                             IMPT 00000000   4439 
_BKTMCL_ACCDAT                            IMPT 00000000   4630 
_BKTMCL_ACCDAT_UNIT                       IMPT 00000000   4631 
_BKTMCL_ACCPOINT                          IMPT 00000000   4633 
_BKTMCL_BBNFLT_TIMPV                      IMPT 00000000   4647 
_BKTMCL_BRKSTP_SPD                        IMPT 00000000   4655 
_BKTMCL_BRKSTR_SPD                        IMPT 00000000   4654 
_BKTMCL_BRKSTX_SPD                        IMPT 00000000   4660 
_BKTMCL_BRKSTX_TIMPV                      IMPT 00000000   4661 
_BKTMCL_BRKSTX_TIMSV                      IMPT 00000000   4662 
_BKTMCL_BRK_TIMPV                         IMPT 00000000   4657 
_BKTMCL_BRX_AREA_IN                       IMPT 00000000   4665 
_BKTMCL_BRX_AREA_INLT                     IMPT 00000000   4666 
_BKTMCL_ENC_DIR                           IMPT 00000000   4638 
_BKTMCL_OLD_PLSPOS                        IMPT 00000000   4637 
_BKTMCL_POINTMAX                          IMPT 00000000   4634 
_BKTMCL_SETX_TMDEF                        IMPT 00000000   4649 
_BKTMCL_SPDBUF                            IMPT 00000000   4629 
_BKTMCL_STOP_SPD                          IMPT 00000000   4653 
_BKTMCL_STOP_TIMPV                        IMPT 00000000   4646 
_BKTMCL_TMDEF_PV                          IMPT 00000000   4648 
_BKTMCL_TMSTEP_FLG                        IMPT 00000000   4642 
_BKTMCL_TMSTEP_STS                        IMPT 00000000   4643 
_BKTMCL_TOTAL_TIMPV                       IMPT 00000000   4645 
_BRK1_CAL_DN_ACC                          IMPT 00000000   3431 
_BRK1_CHKDLY_TM                           IMPT 00000000   3419 
_BRK1_GEN_PV_ACCTM                        IMPT 00000000   3427 
_BRK1_GEN_PV_DLYTM                        IMPT 00000000   3426 
_BRK1_GEN_SV_ACCTM                        IMPT 00000000   3425 
_BRK1_GEN_SV_DLYTM                        IMPT 00000000   3424 
_BRK1_GEN_SV_FRQ1                         IMPT 00000000   3422 
_BRK1_GEN_SV_FRQ2                         IMPT 00000000   3423 
_BRK1_SV_DN_ACC                           IMPT 00000000   3430 31232 31264 
_BRK2_CHKDLY_TM                           IMPT 00000000   3420 
_BRK2_SV_DN_ACC                           IMPT 00000000   3432 30470 31300 
_BRKTST_AREA_SIG                          IMPT 00000000   4169 
_BRKTST_BAKUP_FLG_PV1                     IMPT 00000000   4179 
_BRKTST_BAKUP_FLG_PV2                     IMPT 00000000   4180 
_BRKTST_BAKUP_FLG_SV1                     IMPT 00000000   4177 
_BRKTST_BAKUP_FLG_SV2                     IMPT 00000000   4178 
_BRKTST_CHKSPD_PLS                        IMPT 00000000   4159 
_BRKTST_CLNK_UP_POS_DN                    IMPT 00000000   4172 
_BRKTST_CLNK_UP_POS_UP                    IMPT 00000000   4171 
_BRKTST_INPUT_CMD                         IMPT 00000000   4162 25110 25243 25430 
_BRKTST_LINK_UP_POS_DN                    IMPT 00000000   4174 
_BRKTST_LINK_UP_POS_UP                    IMPT 00000000   4173 
_BRKTST_MOD_FLG                           IMPT 00000000   4157 10210 
_BRKTST_OBJ_MAKE                 P             000072C0  33481 33649*
_BRKTST_OUTSPD_PLS                        IMPT 00000000   4158 33705 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   674

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BRKTST_POS_CTL                  P             00007040  10217 33221*
_BRKTST_POS_START                P        EXPT 00007198  33218 33467*
_BRKTST_STP_ABSPLS                        IMPT 00000000   4166 33770 
_BRKTST_STR_FLG                           IMPT 00000000   4167 33604 
_BRKTST_SW_IN                             IMPT 00000000   4168  9342 
_BRK_CHK_COM                              IMPT 00000000   3416 
_BRK_CHK_FLG                              IMPT 00000000   3417 
_BRK_ERR_CHK_START4                       IMPT 00000000   6342 11893 
_BRK_ERR_WORK_CLR1                        IMPT 00000000   6338 10675 12919 14287 15739 28005 33329 
_BTTN_FLG                                 IMPT 00000000   2567 16222 16382 31875 
_BTTN_ON_TIME                             IMPT 00000000   3708 
_BVLV_CTL_FLG                             IMPT 00000000   4839 
_BVLV_CTL_ON                              IMPT 00000000   4840 
_BVLV_START_IN                            IMPT 00000000   4843 
_CALC_FULCLS_MXPLS                        IMPT 00000000   3188 21962 22654 
_CALC_MEM_1REV_ML_NROT_ML36               IMPT 00000000   2913 
_CALC_MEM_1REV_MUL_NROT                   IMPT 00000000   2912 
_CALC_MISS_FLG1                           IMPT 00000000   3791 29148 29182 29216 
_CALC_PLS_MMIN_H32                        EQU  C0000000   2089* 9951  9960  9994 
_CALC_PLS_MMIN_L32                        EQU  00000001   2090* 9949  9959  9995 
_CALC_PLS_PMAX_H32                        EQU  3FFFFFFF   2085* 9941  9946  9988 
_CALC_PLS_PMAX_L32                        EQU  FFFFFFFF   2086* 9939  9945  9989 
_CALC_ROT_MAX                             EQU  60000000   2081*
_CALPOSANSLNG                             IMPT 00000000   4774 
_CALPOSLNWORK                             IMPT 00000000   4776 
_CALPOSWORK1                              IMPT 00000000   4770 
_CALPOSWORK2                              IMPT 00000000   4771 
_CALSPDANSPER                             IMPT 00000000   4773 
_CALSPDWORK1                              IMPT 00000000   4768 
_CALSPDWORK2                              IMPT 00000000   4769 
_CALSPDWORKANS                            IMPT 00000000   4772 
_CAM_1STEP_END_SIG1              P             00003CC8  12313 20558*
_CAM_1STEP_END_SIG2              P             00003CEC  12526 20584*
_CAM_CNT_CHG_FLG                          IMPT 00000000   3288 10368 11218 12607 12751 13754 27978 33270 
_CAM_CTL_STEP                             IMPT 00000000   2643 
_CAM_DNM_USE_DIR_FLG                      IMPT 00000000   5096 
_CAM_DT_FLG                               EQU  0000000E   2199*
_CAM_INF_D1                               EQU  00000010   2200*
_CAM_INF_D2                               EQU  00000012   2201*
_CAM_NOW_DIG                              IMPT 00000000   3285 
_CAM_OF_DGT                               EQU  0000000C   2198*
_CAM_OF_DIG                               EQU  00000008   2195* 2196 
_CAM_OF_DIR                               EQU  0000000A   2197*
_CAM_OF_STP                               EQU  00000006   2194*
_CAM_OF_TIM                               EQU  00000008   2196*
_CAM_OLD_DIG                              IMPT 00000000   3286 
_CAM_ON_DIG                               EQU  00000002   2192*
_CAM_ON_DIR                               EQU  00000004   2193*
_CAM_ON_STP                               EQU  00000000   2191*
_CAM_OUTPUT_DT                            IMPT 00000000   3279 
_CAM_OUTPUT_SW                            IMPT 00000000   3277 
_CAM_POS_CTL_STEP                         IMPT 00000000   3287 
_CAM_POS_STEP_END_FLG1                    IMPT 00000000   3043 20568 
_CAM_POS_STEP_END_FLG2                    IMPT 00000000   3044 20594 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   675

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CAM_SELECT_SW                            IMPT 00000000   3278 
_CAM_START_FLG                            IMPT 00000000   3280 
_CAM_START_MODE                           IMPT 00000000   3281 
_CAM_STEP_MAX                             IMPT 00000000   3284 
_CAM_STEP_NO                              IMPT 00000000   3282 
_CAM_STEP_NO_OLD                          IMPT 00000000   3283 
_CAM_STRCUT                               EQU  00000014   2190*
_CBSTS_LOAD_FLG                           IMPT 00000000   4579 
_CBSTS_SAVE_CMDWK                         IMPT 00000000   4587 
_CBSTS_SAVE_DAT                           IMPT 00000000   4596 
_CB_BAKUP_CMD1                            EQU  00005678    114*
_CB_BAKUP_CMD2                            EQU  00001234    115*
_CB_BAK_SUM_COD1                          EQU  5AA51234    112*
_CB_BAK_SUM_COD2                          EQU  A55A4321    113*
_CB_ERR_INFO_MEM                          EQU  00000080    138*25839 
_CB_ERR_INFO_PSIZE                        EQU  00000008    139*
_CB_INT_START_OK                          IMPT 00000000   2496 
_CB_IN_HANYO                              IMPT 00000000   4878 
_CB_SEQ_CB_COM340                         IMPT 00000000   3029 12346 
_CB_SEQ_CB_COM345                         IMPT 00000000   3032 
_CB_SEQ_CB_COM345X                        IMPT 00000000   5614 
_CB_SEQ_CB_COM346                         IMPT 00000000   3033 10031 29267 29309 29603 
_CB_SEQ_CB_COM347                         IMPT 00000000   3034 
_CB_SEQ_CB_COM348                         IMPT 00000000   3035 
_CB_SEQ_CB_COM349                         IMPT 00000000   3036  8833  9322 23829 32533 
_CB_SEQ_CB_COM350                         IMPT 00000000   3038 
_CB_SEQ_CB_COM351                         IMPT 00000000   3039 24608 
_CB_SEQ_CB_COM352                         IMPT 00000000   3040 
_CB_SEQ_CB_COM356                         IMPT 00000000   5442  8881 
_CB_SEQ_CB_SEL341                         IMPT 00000000   3030  6952  7823  7913  7982  8057 15865 33862 33925 
_CB_SEQ_CB_SEL342                         IMPT 00000000   3031  7905  7975  8050  8154  8263 
_CB_SEQ_SW_SEL022                         IMPT 00000000   3024 
_CB_SEQ_SW_SEL024                         IMPT 00000000   3025 
_CB_SEQ_SW_SEL028                         IMPT 00000000   3026 12707 
_CB_SEQ_SW_SEL029                         IMPT 00000000   3027 
_CB_SEQ_SW_SEL058                         IMPT 00000000   4928 
_CB_STS_BUF_1BLK                          EQU  00000040    117*  119 
_CB_STS_BUF_BLKMAX                        EQU  00000008    118*  119 
_CB_STS_BUF_MAX                           EQU  00000200    119*
_CB_SYS_ACCTBL1_CNT                       IMPT 00000000  38296 39085 
_CB_SYS_ACCTBL1_IN_TOP                    IMPT 00000000  38297 39086 
_CB_SYS_ACCTBL2_CNT                       IMPT 00000000  38298 
_CB_SYS_ACCTBL2_IN_TOP                    IMPT 00000000  38299 
_CB_SYS_ACCTBL3_CNT                       IMPT 00000000  38300 
_CB_SYS_ACCTBL3_IN_TOP                    IMPT 00000000  38301 
_CB_SYS_DNMTBL1_CNT                       IMPT 00000000  38294 
_CB_SYS_DNMTBL1_DATA_TOP                  IMPT 00000000  38295 
_CB_SYS_PARAM000                          IMPT 00000000   6396  7260  7390  7407  7452 14531 16824 16836 16853 21928 22555 22581 
                                                         22765 23771 24044 24053 24439 24511 24559 24617 32403 32463 32540 35054 
                                                         35109 35212 35285 
_CB_SYS_PARTBL001                         IMPT 00000000  38282 
_CB_SYS_PARTBL002                         IMPT 00000000  38283 
_CB_SYS_PARTBL003                         IMPT 00000000  38284 
_CB_SYS_PARTBL004                         IMPT 00000000  38285 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   676

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CB_SYS_PARTBL005                         IMPT 00000000  38286 
_CB_TIME                                  EQU  0000000A   2004* 2017  2018  2019  2024 
_CB_TRD_BEFORE                            EQU  00000060    127*
_CB_TRD_BUF_DP_MAX                        EQU  00000080    131*
_CB_TRD_BUF_MAX                           EQU  00000800    128*
_CB_TRD_DP_1CNT                           EQU  00000008    130*
_CB_TRD_DP_CH                             EQU  00000004    123*
_CB_TRD_SMP_CNT                           EQU  00000080    126*
_CCS_BTTN_OFF                             IMPT 00000000   3530  6794 33524 
_CGRF_GENSOK_LNG1                         EQU  00000014  27133*
_CGRF_SYNC_ERR                            EQU  00000020  27138*
_CGRF_SYNC_STS                            EQU  0000001E  27137*
_CGRF_iADD_PLS                            EQU  00000010  27132*
_CGRF_iNOW_STEP                           EQU  0000001C  27136*
_CGRF_iSTEP_FRQ                           EQU  00000018  27134*
_CGRF_iSTEP_PV_PLS                        EQU  00000004  27129*
_CGRF_iSTEP_REST                          EQU  00000008  27130*
_CGRF_iSTEP_SV_PLS                        EQU  00000000  27128*
_CGRF_iSTEP_TIM                           EQU  0000001A  27135*
_CGRF_iTOTAL_PLS                          EQU  0000000C  27131*
_CGRF_yADD_PLS                            EQU  00000034  27144*
_CGRF_yNOW_STEP                           EQU  0000003E  27147*
_CGRF_ySTEP_FRQ                           EQU  00000038  27145*
_CGRF_ySTEP_PV_PLS                        EQU  00000028  27141*
_CGRF_ySTEP_REST                          EQU  0000002C  27142*
_CGRF_ySTEP_SV_PLS                        EQU  00000024  27140*
_CGRF_ySTEP_TIM                           EQU  0000003C  27146*
_CGRF_yTOTAL_PLS                          EQU  00000030  27143*
_CHG_LSI_LATE_TO_PLS             P        EXPT 00006864   6455 24531 24579 24651 31341*
_CHG_STEP_INFO_MAKE_1STEP_END    P             000054B4  26189 26233*
_CHG_STEP_INFO_MAKE_2STEP_END    P             0000552C  26204 26319*
_CHG_STEP_INFO_MAKE_ESTEP_AFTER  P             000053FC  26082*28010 
_CHG_STEP_INFO_MAKE_ESTEP_BEFOR  P             00005384  25995*27836 
_CHG_STEP_INFO_MAKE_STEP_DAT     P             000052E0  13763 25877*27840 28014 
_CHG_STEP_INFO_MAKE_STEP_END     P             00005474  13759 26172*
_CHKACCINF0                               IMPT 00000000   4761 
_CHKACCINF1                               IMPT 00000000   4762 
_CHKACCINF2                               IMPT 00000000   4763 
_CHKPOSANSDIG                             IMPT 00000000   4750 
_CHKPOSWORK0                              IMPT 00000000   4757 
_CHKPOSWORK1                              IMPT 00000000   4737 
_CHKPOSWORK2                              IMPT 00000000   4738 
_CHKPOSWORKANS                            IMPT 00000000   4743 
_CHKPOS_Ln1                               IMPT 00000000   4765 
_CHKSPDANSPER                             IMPT 00000000   4742 
_CHKSPDPERWORK0                           IMPT 00000000   4758 
_CHKSPDPERWORK1                           IMPT 00000000   4745 
_CHKSPDPERWORK2                           IMPT 00000000   4746 
_CHKSPDPOSINFO                            IMPT 00000000   4748 
_CHKSPDPOSOFS                             IMPT 00000000   4749 
_CHKSPDWORK0                              IMPT 00000000   4756 
_CHKSPDWORK1                              IMPT 00000000   4735 
_CHKSPDWORK2                              IMPT 00000000   4736 
_CHKSPDWORKANS                            IMPT 00000000   4739 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   677

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CHKSPDWORKTMAX                           IMPT 00000000   4741 
_CHKSPDWORKVMAX                           IMPT 00000000   4740 
_CHK_ADD_DATA_LATCH                       IMPT 00000000   4268 24904 24909 25314 25850 
_CHK_CLK_SIG                              IMPT 00000000   4804 
_CHK_DNM_SPEC_MOD1                        IMPT 00000000   6269 10265 31134 38378 
_CHK_LSI_LOAD_OUT_CNT                     IMPT 00000000   4017 20238 
_CHK_LSI_LOAD_POS_CNT                     IMPT 00000000   4016 
_CHK_OBJECT_TIM_TOP                       IMPT 00000000   5386 
_CHK_SET1_UPAREA_TIM0                     IMPT 00000000   5385 
_CLS_INC_MOST_DOWN_PLS                    IMPT 00000000   2779 20687 20727 
_CLS_KJYU_PLS_CHANGE             P             00004916  23519*23697 
_CLS_POS_LENGTH_ADD_DATA         P             00004722  23068*23333 
_CLS_RNA_MOST_DOWN_POS                    IMPT 00000000   2778 20682 20717 
_CMP2_ACC_NG_CNT                          IMPT 00000000   3597 26687 
_CMP2_ACC_TOTAL_NG_CNT                    IMPT 00000000   3591 
_CMP2_BAS_NG_CNT                          IMPT 00000000   3594 26678 
_CMP2_BAS_TOTAL_NG_CNT                    IMPT 00000000   3588 
_CMP2_LAT_NG_CNT                          IMPT 00000000   3596 26684 
_CMP2_LAT_TOTAL_NG_CNT                    IMPT 00000000   3590 
_CMP2_NOW_NG_CNT                          IMPT 00000000   3598 26690 
_CMP2_NOW_TOTAL_NG_CNT                    IMPT 00000000   3592 
_CMP2_TOP_NG_CNT                          IMPT 00000000   3595 26681 
_CMP2_TOP_TOTAL_NG_CNT                    IMPT 00000000   3589 
_CMPAB_NEAR_END_PROC                      IMPT 00000000   6316 12171 21823 22026 
_CMPAB_STEP_END_PROC                      IMPT 00000000   6317 12497 14600 14772 
_CMPCYC_END_CLR                           IMPT 00000000   6327 
_CMPCYC_START_CLR                         IMPT 00000000   6326  6807 27985 33537 
_CMPEMG_EXQ_FLG_CLR                       IMPT 00000000   6329 
_CMPSTEP_CNT_STOP                         IMPT 00000000   2687 
_CMPSTEP_CTRL_BUSY                        IMPT 00000000   2683 
_CMPSTEP_CTRL_REDY                        IMPT 00000000   2682 
_CMPSTEP_NEAR_ZERO                        IMPT 00000000   2686 
_CMPSTEP_POS_START                        IMPT 00000000   2684 
_CMPSTEP_SFTY_AUTO                        IMPT 00000000   2685 
_CMPSTEP_STEP_END                         IMPT 00000000   2688 12442 32899 32944 
_CMPSTP_CNT_STOP_CLR                      IMPT 00000000   6324  6811 33541 
_CMPSTP_CTRL_BUSY_CLR                     IMPT 00000000   6320 
_CMPSTP_CTRL_REDY_CLR                     IMPT 00000000   6319 
_CMPSTP_NEAR_ZERO_CLR                     IMPT 00000000   6323 12218 
_CMPSTP_POS_START_CLR                     IMPT 00000000   6321 
_CMPSTP_SFTY_AUTO_CLR                     IMPT 00000000   6322 
_CMPSTP_STEP_END_CLR                      IMPT 00000000   6325 12518 14616 14788 
_CMP_BRK2_CTLGENSOK              P        EXPT 000064A0  30418 30432*
_CMP_CNT_CTLGENSOK               P             0000642C  28743 30347*
_CMP_ERR_CHK_STSA                         IMPT 00000000   2896 
_CMP_ERR_CHK_STSB                         IMPT 00000000   2897 
_CMP_ERR_STEP_A                           IMPT 00000000   2902 
_CMP_ERR_STEP_B                           IMPT 00000000   2903 
_CMP_ERR_STSA_INF1                        IMPT 00000000   2898 
_CMP_ERR_STSA_INF2                        IMPT 00000000   2899 
_CMP_ERR_STSA_INF3                        IMPT 00000000   2900 
_CMP_ERR_STSA_INF4                        IMPT 00000000   2901 
_CMP_ERR_STS_REF                 P             00003DE4  20770*
_CMP_ERR_TIM1                             IMPT 00000000   2599 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   678

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CMP_HOLD_CTLGENSOK              P        EXPT 000064FC  30504 30505*
_CMP_LNGTH_AD_ERR_CNT                     IMPT 00000000   3701 27638 
_CMP_POSLSI_CTLGENSOK            P             000063D0  30273*37582 42056 
_CMP_POS_LSI_ACCLT1                       IMPT 00000000   3906 
_CMP_RECOVER_FLG                          IMPT 00000000   4011 28763 
_CMP_RESTP_SR_ERR_CNT                     IMPT 00000000   3702 27641 
_CMP_SPD_REST_PLSCHKCOM          P             0000844C  30316 30399 30474 30550 35961 36986 37076 37874*
_CMP_STEP_ERR_TIM1                        IMPT 00000000   2601 
_CNTREST_HOS_RESET               P        EXPT 00006C5C   6788 32307 32314*33518 
_CNT_BANK_CALC_ERR                        IMPT 00000000   3688 28956 
_CNT_BEF_LOT_SIGCHK              P             00005D4C   7173 28509 28615*
_CNT_GPOINT_STOP_TYP2            P             00005DC4  27806 28723*
_CNT_GRF_1BLOCK                           EQU  00000040  27127*
_CNT_GRF_I_DATA                           IMPT 00000000   5607 
_CNT_GRF_MAX                              EQU  000000C8  27125*
_CNT_GRF_POINT                            IMPT 00000000   5609 26778 
_CNT_GRF_Y_DATA                           IMPT 00000000   5608 
_CNT_HOSEI_CHK_CALC              P             00006B58  11095 32022*
_CNT_HOS_DT_MAK                  P             000057E4  26945*
_CNT_NEAR_TIM_CHK                P             00001D28  13251*
_CNT_PLSOUT_STOP_CNT                      IMPT 00000000   3955 12070 26872 
_CNT_REST_CHK_CLR                P             0000575C  26695 26840*
_CNT_REST_HOSEI_SPD_TYP          P             00006C3C  32287*37366 
_CNT_REST_SPD_HOSEI_DAT                   IMPT 00000000   3694 32256 32260 32296 32323 
_CNT_REST_SPD_HOSEI_FLG                   IMPT 00000000   3695 32254 32291 32320 
_CNT_SPD_SET                     P             00005C08  27924 28242 28338*
_CNT_STOP_CMD                             IMPT 00000000   2522 31883 
_CNT_STOP_CMD_BEF1                        IMPT 00000000   4405 28620 
_CNT_STOP_CMD_DATA_SUB1          P             00005ED4  28680 28825 28996*
_CNT_STOP_CMD_DATA_SUB2          P             00005F2C  28829 29056*
_CNT_STOP_CTRL_FLG                        IMPT 00000000   3675  6784 27741 27798 28653 28690 28835 33514 
_CNT_STOP_DBG_CNT                         IMPT 00000000   5503 
_CNT_STOP_LNGTH                           IMPT 00000000   3681 
_CNT_STOP_WAIT_TIM                        IMPT 00000000   5502 12449 12493 
_CNT_SUB_DATA_CALC               P             00005E74  28668 28734 28916*
_CNT_SYNC_CHK_CNT1                        IMPT 00000000   3970 
_CNT_SYNC_CHK_CNT2                        IMPT 00000000   3971 26862 32245 
_CNT_SYNC_ERR_FLG                         IMPT 00000000   3953 26869 
_CNT_SYNC_HOS_CALC               P             000057EC  26962*
_CNT_SYNC_HOS_CNT1                        IMPT 00000000   3972 26875 
_CNT_SYNC_HOS_DAT1                        IMPT 00000000   3967 26853 32262 
_CNT_SYNC_HOS_DAT2                        IMPT 00000000   3968 26856 32108 
_CNT_SYNC_HOS_FLAG                        IMPT 00000000   3969 26859 26918 
_CNT_SYNC_HOS_SPD_TYP            P             00006B60  32103*
_CNT_SYNC_STS_FLG                         IMPT 00000000   3954 26866 
_CNT_VMODE_NEXT_CYCL_START       P             000059B8  27782 27831*
_CONT_MOD_CNT_PV                          IMPT 00000000   3100 
_CONT_MOD_TIM_PV                          IMPT 00000000   3102 
_CONT_STOP_END_SUBPLS                     IMPT 00000000   3687 28769 28962 29001 29060 30356 
_COP_CB_LD_MONI_SIG                       IMPT 00000000   3348 
_COP_DIG_SIG_FLG                          IMPT 00000000   3347 
_COP_OLD_ENC3600                          IMPT 00000000   3366 
_CPOS_ABS_POS_SET                         IMPT 00000000   6280 13553 28564 
_CPOS_BANK_USELFUL                        IMPT 00000000   3674 10510 11974 12009 12802 28420 28468 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   679

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPOS_CTL_MATH                            IMPT 00000000   2763  6678  7294 10485 11862 12796 13197 13386 13434 13526 13669 15930 
                                                         19908 19983 25103 25235 25423 28541 
_CPOS_DND_DIGTOP                          IMPT 00000000   3783 14938 14948 14972 14982 
_CPOS_DND_PLSTOP                          IMPT 00000000   3784 15090 15102 
_CPOS_DND_STOP_DIRECTOLD                  IMPT 00000000   3782 14876 14907 
_CPOS_DND_STOP_SW                         IMPT 00000000   3780  7627 14720 14795 14864 14900 15067 
_CPOS_DND_STOP_SWOLD                      IMPT 00000000   3781 14866 14902 
_CPOS_FULCLS_MATEHD_SW                    IMPT 00000000   4863 
_CPOS_INI1_DTMOV1                         IMPT 00000000   6277  6756 
_CPOS_INI1_DTMOV2                         IMPT 00000000   6278  7064 32767 
_CPOS_KJYUCLS_OBJ                         IMPT 00000000   4865 24250 
_CPOS_MOD_FLG1                            IMPT 00000000   2762 12465 27722 27758 27916 
_CPOS_ROT_NUM_SET                         IMPT 00000000   6279 13546 28489 28557 
_CPOS_SDAT1_CHGAPOS                       IMPT 00000000   2760 13643 23403 33153 35849 36749 
_CPOS_SDAT1_CHGAPOS2                      IMPT 00000000   3676 
_CPOS_SDAT1_CNTSTEP                       IMPT 00000000   2757 12596 23450 23581 27665 28291 
_CPOS_SDAT1_INF1                          IMPT 00000000   2758 11412 13652 23197 35845 36601 36745 
_CPOS_SDAT1_NUM                           IMPT 00000000   2759 
_CPOS_SDAT1_OFSPOS                        IMPT 00000000   2754 13369 
_CPOS_SDAT1_SPD                           IMPT 00000000   2755 11295 11377 11635 13743 28346 35841 36740 
_CPOS_SDAT1_STPAPOS                       IMPT 00000000   2761 11313 11401 11652 27684 28107 28181 28219 28923 
_CPOS_SDAT1_STPAPOS2                      IMPT 00000000   3677 28112 28186 28223 
_CPOS_SDAT1_TIM                           IMPT 00000000   2756 12237 24159 
_CPOS_SDAT1_UP_OFSPOS                     IMPT 00000000   2782 
_CPOS_SDAT1_UP_POS                        IMPT 00000000   2783 33134 
_CPOS_SPD_DTMOV                           IMPT 00000000   6281 13559 28577 
_CPOS_STEP_MAX                            IMPT 00000000   2764 11518 12268 12598 13713 21758 23629 24220 27667 28293 28921 35808 
                                                         36595 36716 
_CPOS_TIM_DTMOV                           IMPT 00000000   6282 13564 28582 
_CPOS_UPAREA_PLS                          IMPT 00000000   2777 13362 
_CPUABD_WDTOK_FLG                         IMPT 00000000   5111 
_CPUA_PLS_OUTF                            IMPT 00000000  20787 20811 
_CPUBX_MEM1_BUF                           IMPT 00000000   5623 
_CPUBX_MEM1_ENDFLG                        IMPT 00000000   5622 
_CPUBX_MEM1_RCVFLG                        IMPT 00000000   5621 
_CPUBX_MEM1_SNDEVN                        IMPT 00000000   5632 
_CPUBX_MEM1_SNDFLG                        IMPT 00000000   5634 
_CPUBX_MEM1_SNDKND                        IMPT 00000000   5633 
_CPUBX_SEND_MAXCNT                        IMPT 00000000   5629 
_CPUBX_SEND_NOWCNT                        IMPT 00000000   5630 
_CPUBX_SEND_TOPADR                        IMPT 00000000   5628 
_CPUB_GET_CPUA_OBJPOS            P             00006308  30005*
_CPUB_HENSA_FLG_CLR                       IMPT 00000000   6667  6704 22184 22295 22348 22437 
_CPUB_PARAM_ERR_NO                        IMPT 00000000   5205 
_CPUB_PLS_OUTF                            IMPT 00000000  20788 
_CPUC_PARAM_ERR_NO                        IMPT 00000000   5204 
_CPUDX_MEM1_ENDFLG                        IMPT 00000000   5625 
_CPUDX_MEM1_RCVFLG                        IMPT 00000000   5624 
_CPUD_CHK_OLDCNT                          IMPT 00000000   5102 
_CPUD_CHK_TIME                            IMPT 00000000   5103 
_CPUX_PARAM_SEND_FLG                      IMPT 00000000   5194 
_CPUX_PARAM_SEND_NO                       IMPT 00000000   5195 
_CPU_AB_BSY_OF_JG                         IMPT 00000000   5700 
_CPU_AB_BSY_OF_OUT                        IMPT 00000000   5696 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   680

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPU_AB_BSY_ON_OUT                        IMPT 00000000   5698 
_CPU_AB_CED_OF_JG                         IMPT 00000000   5763 
_CPU_AB_CED_OF_OUT                        IMPT 00000000   5759 
_CPU_AB_CED_ON_OUT                        IMPT 00000000   5761 
_CPU_AB_CST_OF_JG                         IMPT 00000000   5752 
_CPU_AB_CST_OF_OUT1                       IMPT 00000000   5746 
_CPU_AB_CST_OF_OUT2                       IMPT 00000000   5747 
_CPU_AB_CST_ON_OUT1                       IMPT 00000000   5749 
_CPU_AB_CST_ON_OUT2                       IMPT 00000000   5750 27845 
_CPU_AB_DRVHLDSTOP_OF_OUT                 IMPT 00000000   5778 
_CPU_AB_DRVHLDSTOP_ON_OUT                 IMPT 00000000   5777 
_CPU_AB_DRVSTOP_OF_OUT                    IMPT 00000000   5718 
_CPU_AB_DRVSTOP_ON_OUT                    IMPT 00000000   5719 
_CPU_AB_NZR_OF_JG                         IMPT 00000000   5738 
_CPU_AB_NZR_OF_OUT                        IMPT 00000000   5734 
_CPU_AB_NZR_ON_OUT                        IMPT 00000000   5736 
_CPU_AB_RDY_OF_JG                         IMPT 00000000   5689 
_CPU_AB_RDY_OF_OUT                        IMPT 00000000   5685 
_CPU_AB_RDY_ON_OUT                        IMPT 00000000   5687 
_CPU_AB_STR_OF_JG                         IMPT 00000000   5711 
_CPU_AB_STR_OF_OUT                        IMPT 00000000   5707 
_CPU_AB_STR_ON_OUT                        IMPT 00000000   5709 
_CPU_BA_BSY_OF_OUT                        IMPT 00000000   5697 
_CPU_BA_BSY_ON_JG                         IMPT 00000000   5699 
_CPU_BA_CED_OF_OUT                        IMPT 00000000   5760 
_CPU_BA_CED_ON_JG                         IMPT 00000000   5762 
_CPU_BA_CST_OF_OUT                        IMPT 00000000   5748 
_CPU_BA_CST_ON_JG                         IMPT 00000000   5751 28755 
_CPU_BA_DRVHLDSTOP_OF_JG                  IMPT 00000000   5780 
_CPU_BA_DRVHLDSTOP_ON_JG                  IMPT 00000000   5779 
_CPU_BA_DRVSTOP_OF_OUT                    IMPT 00000000   5721 
_CPU_BA_DRVSTOP_ON_JG                     IMPT 00000000   5720 
_CPU_BA_NZR_OF_OUT                        IMPT 00000000   5735 
_CPU_BA_NZR_ON_JG                         IMPT 00000000   5737 12088 21804 
_CPU_BA_RDY_OF_OUT                        IMPT 00000000   5686 
_CPU_BA_RDY_ON_JG                         IMPT 00000000   5688 
_CPU_BA_STEP_LOAD                         IMPT 00000000   5770 
_CPU_BA_STR_OF_OUT                        IMPT 00000000   5708 
_CPU_BA_STR_ON_JG                         IMPT 00000000   5710 
_CPU_CTRL_CLK                             IMPT 00000000   6266 25935 26042 26129 26280 26366 
_CPU_SV_HAND_IN                           IMPT 00000000   2524 
_CPU_SV_HAND_IN_ON                        IMPT 00000000   2525 
_CPU_SV_HAND_OUT                          IMPT 00000000   2527 
_CPUy_RESTPLS_LTFLG                       IMPT 00000000   3973 26604 26878 
_CTL_ENC360                               IMPT 00000000   2536  7818 33654 
_CTL_ENC360_OLD                           IMPT 00000000   4057 
_CYCLE_SPD1                               IMPT 00000000   6464 16861 32543 
_CYCLE_SPD_CMP_FLG1                       IMPT 00000000   4315 
_CYCLE_SPD_CMP_PV_DAT                     IMPT 00000000   4316 
_CYCLE_TIME_DAT                           IMPT 00000000   3016 
_CYCLE_TIME_FLG                           IMPT 00000000   3018 
_CYCLE_TIME_PV                            IMPT 00000000   3017 
_CYCLE_TIME_REFLASH_CLR                   IMPT 00000000   6301 
_CYCLE_TIME_REFLASH_END                   IMPT 00000000   6300 19978 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   681

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CYCLE_TIME_REFLASH_START                 IMPT 00000000   6299 19924 
_CYCL_DOWN_POS_REF               P             00003AF8  20022 20064*
_CYCL_DSP_CNT_PV                          IMPT 00000000   3482 20097 
_CYCL_DSP_DISENB                          IMPT 00000000   3481 
_CYCL_START_CNT                           IMPT 00000000   2780 20667 
_CYC_END_POS_FLG_CLR             P        EXPT 000030A0  10796 17223 17442 17443*
_CYC_END_POS_FLG_SET             P             000030B4  10792 17470*
_DAIHAI_CALC_WORK1                        IMPT 00000000   4356 
_DAIHAI_CALC_WORK10                       IMPT 00000000   4365 
_DAIHAI_CALC_WORK11                       IMPT 00000000   4367 
_DAIHAI_CALC_WORK12                       IMPT 00000000   4368 
_DAIHAI_CALC_WORK13X                      IMPT 00000000   4369 
_DAIHAI_CALC_WORK2                        IMPT 00000000   4357 
_DAIHAI_CALC_WORK3                        IMPT 00000000   4358 
_DAIHAI_CALC_WORK4                        IMPT 00000000   4359 
_DAIHAI_CALC_WORK5                        IMPT 00000000   4360 
_DAIHAI_CALC_WORK6                        IMPT 00000000   4361 
_DAIHAI_CALC_WORK7X                       IMPT 00000000   4362 
_DAIHAI_CALC_WORK8                        IMPT 00000000   4363 
_DAIHAI_CALC_WORK9X                       IMPT 00000000   4364 
_DAI_CMP_SMPSTART                         IMPT 00000000   2960 
_DAI_FULL_SCALE_SMPLE                     IMPT 00000000   6311  7300 
_DAI_FULL_SCALE_SMP_END                   IMPT 00000000   6312 19991 
_DAI_FULL_SCALE_SMP_INI                   IMPT 00000000   6310 19917 
_DAI_HOSEI1_FLG                           IMPT 00000000   2950 
_DAI_MOSTPOS_CMPARE                       IMPT 00000000   6308 19995 
_DAI_MOSTPOS_SMPINI                       IMPT 00000000   6306 19894 33551 
_DAI_MOSTPOS_SMPLE                        IMPT 00000000   6307 
_DATA_CMP2B_R5R6_REF                      IMPT 00000000  38050 38471 38482 
_DATA_GRF_CNT_DATA_MAKE          P        EXPT 00005848  25946 27191 27193*
_DAT_MOSTPOS_SIG_CLR                      IMPT 00000000   6305 
_DBG_ATO_DRV_START_FLG                    IMPT 00000000   5132 
_DBG_ATO_DRV_TIME_PV                      IMPT 00000000   5133 
_DBG_ATO_DRV_TIME_PV2                     IMPT 00000000   5135 
_DBG_ATO_DRV_TIME_SV                      IMPT 00000000   5134 
_DBG_ATO_DRV_TIME_SV2                     IMPT 00000000   5136 
_DBG_CNT_GPOSINT                          IMPT 00000000   3612 
_DBG_CNT_STOP_CNT                         IMPT 00000000   3606 
_DBG_CNT_STOP_FLG                         IMPT 00000000   3605 
_DBG_CNT_STOP_SPC                         IMPT 00000000   3607 
_DBG_DNM_CLR_CNT                          IMPT 00000000   5486 32598 
_DBG_DNM_END_CNT                          IMPT 00000000   5485 32669 
_DBG_DNM_STR_CNT                          IMPT 00000000   5484 32740 
_DBG_REVMOD_CTLPLS                        IMPT 00000000   3246 23668 
_DBG_REVMOD_DNPLS                         IMPT 00000000   3248 22976 
_DBG_REVMOD_OBJPLS                        IMPT 00000000   3245 23649 
_DBG_REVMOD_UPPLS                         IMPT 00000000   3247 22974 
_DBG_STEP12_CHG_DIG                       IMPT 00000000   3615 
_DBG_STEP12_CHG_POS                       IMPT 00000000   3619 
_DBG_STEP12_CHG_RSTP                      IMPT 00000000   3627 
_DBG_STEP12_CHG_SPD                       IMPT 00000000   3623 
_DBG_STEP12_CHG_TIM                       IMPT 00000000   3609 
_DBG_STEP23_CHG_DIG                       IMPT 00000000   3616 
_DBG_STEP23_CHG_POS                       IMPT 00000000   3620 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   682

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DBG_STEP23_CHG_RSTP                      IMPT 00000000   3628 
_DBG_STEP23_CHG_SPD                       IMPT 00000000   3624 
_DBG_STEP23_CHG_TIM                       IMPT 00000000   3610 
_DBG_STEPCD_CHG_DIG                       IMPT 00000000   3617 
_DBG_STEPCD_CHG_GPS                       IMPT 00000000   3631 
_DBG_STEPCD_CHG_POS                       IMPT 00000000   3621 
_DBG_STEPCD_CHG_RSTP                      IMPT 00000000   3629 
_DBG_STEPCD_CHG_SPD                       IMPT 00000000   3625 
_DBG_STEPCD_CHG_TIM                       IMPT 00000000   3611 
_DBG_XOR_SIG                              EQU  00080000   6249*18629 
_DEBUG_BRK_POINT1                P             00001C84  13045*33041 
_DEBUG_BRK_POINT2                P             00001CAC  12573 13091*
_DEBUG_BRK_POINT3                P             00001CD4  13137*
_DEBUG_ENC360_STS                         IMPT 00000000   4669 
_DEBUG_ENC360_STS2                        IMPT 00000000   4670 
_DEBUG_MOD_CODE                           IMPT 00000000   5130 
_DEBUG_SIGNAL_OFF                P        EXPT 0000580C  27038 27040*
_DEBUG_SPD_CHG_FLG1                       IMPT 00000000   5521 
_DEBUG_SPD_CHG_FLG2                       IMPT 00000000   5522 
_DEBUG_SPD_OLD_DAT1                       IMPT 00000000   5520 
_DEBUG_STS_CNT1                           IMPT 00000000   5508 
_DEBUG_STS_CNT2                           IMPT 00000000   5509 
_DEF_DAI_POS_PV                           IMPT 00000000   2989 
_DELT_POS_SPD_CHG1               P             00004050  21268 21318 21424*
_DELT_POS_SPD_CLR                P             00004104  21363 21456 21565*
_DG_PS_INF_CHK1                           EQU  00000000   2208*
_DG_PS_INF_CHK2                           EQU  0000003C   2213*
_DG_PS_INF_CONT                           EQU  00000004   2209*
_DG_PS_INF_LATE                           EQU  00000010   2212*
_DG_PS_INF_STLK                           EQU  0000000C   2211*
_DG_PS_INF_UNIT                           EQU  00000008   2210*
_DIG01_CHG_DN_DATA_MAKE                   IMPT 00000000   6458 32865 
_DIG36000_CHG_RENEA1                      IMPT 00000000   6460 
_DIG_AREA_CHK0                            IMPT 00000000   5802  9840 
_DIG_AREA_CHK1                            IMPT 00000000   5803 16107 16123 
_DIG_LNGTH_CALC1                          IMPT 00000000   6288 
_DIR_FLG                                  IMPT 00000000   4069 
_DISP_ENC360                              IMPT 00000000   2540 
_DISP_RE_VIEW_FLG                         IMPT 00000000   3019 19971 
_DISP_SV_DG_DAT                           IMPT 00000000   3332 
_DISP_SV_MM_DAT                           IMPT 00000000   3333 
_DIVS_32REG2_32REG1_R4_32REG2_R2          IMPT 00000000   5785 
_DIVS_64R1R2_32R4_32R2                    IMPT 00000000   5786 
_DIVS_64R1R2_32R4_64R1R2                  IMPT 00000000   5799 
_DIVU_64R1R2_32R4_32R2                    IMPT 00000000   5787 
_DIVU_64R1R2_32R4_64R1R2                  IMPT 00000000   5800 
_DMATH_CNTROT                             EQU  00000001   2040* 7296 10487 11864 12798 13199 13388 13528 13671 15933 19911 19986 
                                                         25105 25238 25425 28543 35384 36100 37132 
_DMATH_DNDRIV                             EQU  00000004   2042* 6680  7296 10062 10487 11864 13199 13436 13671 15933 19911 19986 
                                                         20387 25238 32453 32681 32753 32837 
_DMATH_REVRSE                             EQU  00000002   2041* 7635  7732 13841 
_DMATH_UPDRIV                             EQU  00000008   2043*
_DNDINC_CTRL_STEP                         IMPT 00000000   3779 14793 14858 14914 15030 15041 15084 17240 
_DNDINC_DIRECT_MAKE1             P             000004F0   7700  7770  7814*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   683

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DNDINC_MAKE_OBJPOS              P             000025EC   7708 15062*
_DNDINC_SPD_SET                  P             00000864   7714  7781  8812*15636 
_DNDINC_STEP_MAKE                P             000024B8   7704 14854*
_DNDUPS_CLEEP_SPD_SET            P             000003CC   7577*14057 14118 14186 14236 
_DNDUPS_SPD_SET                  P             000003B4   7045  7557*10093 14253 
_DND_1STEP_DATA_MAK1             P             00001610  10623 11739*14649 33285 
_DND_ALL_STEP_CTRL               P             00001F78  10855 13808*
_DND_AREA_HIS                             EQU  00000014  14853*14937 14971 
_DND_CALC_WORK                            IMPT 00000000   2806 
_DND_LNKPLS_OBJMAK1              P             00000708   7682  7751  8469*14640 
_DND_LNK_STEP_CHECK0             P             0000051C   7660  7747  7898*
_DND_LNK_STEP_CHECK2             P             000005A8   7677  8044*
_DND_NEG_AREA_JUDE1              P             000006A4   8065  8374*
_DND_NEG_AREA_JUDE2              P             000006D8   8085  8420*
_DND_NEG_LNK_STEP_CHANGE0        P             00000560   7968*14636 
_DND_NEG_LNK_STEP_CHANGE2        P             00000610   8147*14505 
_DND_NEG_START_FLG_CLR           P             00000650   7649  7743  8215*17282 
_DND_NEG_STEP_CTRL               P             000022E4  13847 14439*
_DND_NEG_STOP_SVCHK              P             00000664   7645  7739  8249*14494 
_DND_ORGIN_SIG_FORCE_ON          P             000022A8  14333 14376*
_DND_OVERCHK_DIG                          IMPT 00000000   4269 
_DND_POS_START_DAT_INI                    IMPT 00000000   6352  6760 
_DND_ROT_STEP_CTRL               P             00002410  13861 14715*
_DND_SPD_SEQ_SET                 P             0000089C   8828  8873*
_DND_TEP_STEP_CTRL               P             00002738  13825 15379*
_DNMODE_ENDWAIT_TIM_CHK          P             00006D00  12145 32491*
_DNMODE_ENDWAIT_TIM_SET          P             00006CC8  11925 32446*
_DNM_ACC_CALC                    P        EXPT 00008E10  38049 40259 40374*
_DNM_ACC_CALFLG                           IMPT 00000000   4239 37445 38403 41938 42031 42125 
_DNM_ACC_OVER_PLS_MAK            P             00008EE8  40380 40523*
_DNM_ACC_OVER_SPD_MAK            P             00008FC0  40453 40664*
_DNM_AUTO_UP_DN_CALC             P             000095C0  42041 42138 42272*
_DNM_CTL_INC3600                          IMPT 00000000   4107 32870 
_DNM_CYCLE_END                   P        EXPT 00006DAC  10805 12739 32653 32658*
_DNM_CYCLE_START                 P             00006DFC   6751 12745 32730*
_DNM_DATA_CLR                    P             00006D6C  17254 32588*
_DNM_DATA_REV_SET                P        EXPT 00006D98  32627 32634*
_DNM_DEBUG_CNT                            IMPT 00000000   4710 
_DNM_DEBUG_STS1                           IMPT 00000000   4709 11931 12057 12165 12190 12724 12729 20437 
_DNM_DIR_CHG_FLG                          IMPT 00000000   4105 
_DNM_DIR_CHG_TIM                          IMPT 00000000   4106 
_DNM_DIR_FLG_INC_LATCH                    IMPT 00000000   5089 11126 32696 32763 
_DNM_DIR_FLG_OLD                          IMPT 00000000   4145 
_DNM_DIR_NOW_FLG                          IMPT 00000000   4103 13440 32610 32685 32759 32784 32798 32847 
_DNM_DIR_SAM_FLG                          IMPT 00000000   4104 32854 32858 
_DNM_DIR_SET_FLG                          IMPT 00000000   4102 32608 32639 32692 32757 
_DNM_MATH_ELSE_DAT_MAKE          P        EXPT 00006E6C  32820 32828*
_DNM_MAXSPM_ACCLAT_MAK                    IMPT 00000000  38270 
_DNM_MAX_GENSOK_LENGTH                    IMPT 00000000   4781 
_DNM_MOTION_DATA_MAK             P             00008550  38386 38460*
_DNM_PLS_LSICTL_CALC             P             00009404  37450 41927*
_DNM_RESET_AREA                           IMPT 00000000   5044 
_DNM_RST_SPEC_AREASIG                     IMPT 00000000   5476 
_DNM_SET1_OBJECT_DIG_TOP                  IMPT 00000000   4101 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   684

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DNM_SET1_OBJECT_PLS_TOP                  IMPT 00000000   4099 
_DNM_SET1_UPAREA_DIG0                     IMPT 00000000   4100 
_DNM_SET1_UPAREA_PLS0                     IMPT 00000000   4098 
_DNM_SETX_HOLD_CMP1_DEG                   IMPT 00000000   4474 
_DNM_SETX_LINK_UP_POS_DN                  IMPT 00000000   4115 
_DNM_SETX_LINK_UP_POS_UP                  IMPT 00000000   4114 
_DNM_SETX_MOTREP_DIR                      IMPT 00000000   5069 
_DNM_SETX_UPAREA_DIG                      IMPT 00000000   4110 
_DNM_SETX_UPAREA_PLS                      IMPT 00000000   4109  9785 
_DNM_SPD_CALC                    P        EXPT 00008D2C  38048 40240*41943 
_DNM_START_ACC_CALC              P        EXPT 00008C92  10664 12914 38045 40118*
_DNM_STEP_ACC_CHANGE             P        EXPT 00008CD0  38046 40157*40254 
_DNM_TBL_CALC                    P        EXPT 0000850C  38044 38372*
_DNM_WSVX_CLNK_UP_POS                     IMPT 00000000   4111 
_DNM_WSVX_CLNK_UP_POS_DN                  IMPT 00000000   4113 
_DNM_WSVX_CLNK_UP_POS_UP                  IMPT 00000000   4112 
_DPCHK_CPU_ERR_TIM                        IMPT 00000000   5177 
_DPCHK_DI_ERR_TIM                         IMPT 00000000   5186 
_DPCHK_ERR_SIG                            IMPT 00000000   5176 
_DPCHK_WR_COD                             IMPT 00000000   5178 
_DPSQ022                                  EQU  0000002C   2095*
_DPSQ024                                  EQU  00000030   2096*
_DPSQ028                                  EQU  00000038   2097*
_DPSQ029                                  EQU  0000003A   2098*
_DPSQ058                                  EQU  00000074   2099*
_DPSQ287                                  EQU  0000023E   2110*
_DPSQ288                                  EQU  00000240   2111*
_DPSQ340                                  EQU  000002A8   2101*
_DPSQ341                                  EQU  000002AA   2102*
_DPSQ356                                  EQU  000002C8   2103*
_DPSQ358                                  EQU  000002CC   2104*
_DPSQ359                                  EQU  000002CE   2105*
_DPSQ367                                  EQU  000002DE   2106*
_DPSQ368                                  EQU  000002E0   2107*
_DPSQ369                                  EQU  000002E2   2108*
_DRVHOS_CAL_RNA_POS                       IMPT 00000000   2982 
_DRVHOS_DEF_CNT_PV                        IMPT 00000000   2974 
_DRVHOS_DEF_RNA_POS                       IMPT 00000000   2981 
_DRVHOS_IDO_BUF                           IMPT 00000000   2986 
_DRVHOS_IDO_CNT                           IMPT 00000000   2977 
_DRVHOS_IDO_POINT                         IMPT 00000000   2975 
_DRVHOS_IDO_TOTAL                         IMPT 00000000   2985 
_DRVHOS_MOST_DN_RNAPOS                    IMPT 00000000   2983 
_DRVHOS_USE_FLG                           IMPT 00000000   2972 
_DRVHOS_WAIT_CNT_PV                       IMPT 00000000   2973 
_DRVHOS_WORK_BUF                          IMPT 00000000   2987 
_DRV_ACT_FLG                              IMPT 00000000   2673 
_DRV_START_KEEP                           IMPT 00000000   4005 
_DT_100PER_0                              EQU  00000064   2008*
_DT_100PER_1                              EQU  000003E8   2007*
_DUMMY_SUM_CODE                           EQU  5AA53CC3    105*
_DUM_MRTION_SEL1                          IMPT 00000000   3342 
_DUM_MTSTEP_MAXM                          IMPT 00000000   3341 
_DUM_OVERLIDE_COF                         IMPT 00000000   5383 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   685

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DUM_SET1_DIG_TOP                         IMPT 00000000   3340 
_DUM_SET1_SPD_TOP                         IMPT 00000000   5382 
_DUM_SET1_UPAREA_SPD0                     IMPT 00000000   5381 
_DUM_UPAREA_DIG0                          IMPT 00000000   3339 
_DURING_TIM_CNTINUE_CHK          P             00006C80  10411 11841 32367*
_DURING_TIM_FX                            IMPT 00000000   4672 11107 12379 12423 13573 32371 32393 
_DURING_TIM_PRESET_CALC          P             00006C90  12289 32388*
_ELSE_ERR_FLG1                            IMPT 00000000   2595 
_ELSE_ERR_FLG2                            IMPT 00000000   2596 
_EMG_OUT                                  IMPT 00000000   5640 
_EMG_POS_FLG_PROC                P        EXPT 00002F64   6433 17218*
_EMG_SCANCUT_FLG                          IMPT 00000000   4817 
_ENC360_BITERR_CNT                        IMPT 00000000   2560 
_ENC360_BITFLW_CNT                        IMPT 00000000   2559 
_ENC360_BITNML_CNT                        IMPT 00000000   2561 
_ENC360_HEX                               IMPT 00000000   2535 
_ENC360_INDT                              IMPT 00000000   2534 
_ENC360_INOLD                             IMPT 00000000   2533 
_ENC360_LINK_AREASIG                      IMPT 00000000   3654 
_ENC360_OVER_ENC                          IMPT 00000000   3546 
_ENC360_OVER_FLG                          IMPT 00000000   3545 
_ENCPLS_1000MSEC_LAT                      IMPT 00000000   3448 21312 
_ENCPLS_DELT                              IMPT 00000000   3444 21302 21354 
_ENCPLS_POINT_SEL                         IMPT 00000000   3447 21307 21359 
_ENCPLS_SPD_AVL_TOP                       IMPT 00000000   3445 21306 21358 
_ENCPLS_SPD_POINT                         IMPT 00000000   3446 21310 21361 
_ENCPLS_SPD_TOTAL                         IMPT 00000000   3440 21305 21357 
_ENC_PLS_SPD                              IMPT 00000000   3441 21313 21370 
_ENC_PLS_SPD_CALC                P        EXPT 00003FA0  21236 21296*
_ENC_PLS_SPD_CLR                 P             00003FF8  21348*
_ENC_PLS_SPD_DIR                          IMPT 00000000   3443 21311 
_ENC_SYSRST_CMD                           IMPT 00000000   2551 
_ENC_TIMEXT_FLG                           IMPT 00000000   2552 
_ENDHAND_TIMOUT_PV                        IMPT 00000000   5145 32905 32919 32954 
_ENDHAND_WAIT_TIMCNT             P             00006EC0  10187 32894*
_END_CMD_LATCH                            IMPT 00000000   2646 
_EPCHK_COM                                IMPT 00000000   4963 
_EPCHK_DLY_TIM                            IMPT 00000000   4966 
_EPCHK_ERR_TIM                            IMPT 00000000   4967 
_EPCHK_FLG                                IMPT 00000000   4964 
_EPCHK_FORCE_VONCMD                       IMPT 00000000   4970 
_EPCHK_RETRY_CNT                          IMPT 00000000   4968 
_EPCHK_STEP                               IMPT 00000000   4965 
_EPCHK_STOP_DISENB                        IMPT 00000000   5290 
_EPCHK_STS                                IMPT 00000000   4969 
_EQ_DND_MAX                               EQU  00000002   2045*
_EQ_STEP_MAX                              EQU  00000005   2034*
_EQ_STEP_MX2                              EQU  0000000A   2035*
_EQ_STEP_MX3                              EQU  00000062   2036*
_EQ_STOP_START_WAIT_DND                   EQU  00000064  13804*
_EQ_STOP_START_WAIT_ORG                   EQU  000001F4  13803*13950 
_ERRCHK_ENC360                            IMPT 00000000   4621 
_ERR_FIRST_ST                             IMPT 00000000   5032 29941 29952 29989 
_ERR_INFO_A01                             EQU  00000020   2264*25117 25156 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   686

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ERR_INFO_A02                             EQU  00000022   2265*25250 25289 25307 25331 25365 
_ERR_INFO_A03                             EQU  00000024   2266*25489 25514 25536 25564 25663 
_ERR_INFO_A04                             EQU  00000026   2267*
_ERR_INFO_A05                             EQU  00000028   2268*
_ERR_INFO_A06                             EQU  0000002A   2269*
_ERR_INFO_A07                             EQU  0000002C   2270*
_ERR_INFO_A08                             EQU  0000002E   2271*
_ERR_INFO_B01                             EQU  00000030   2272*24789 
_ERR_INFO_B02                             EQU  00000032   2273*24792 
_ERR_INFO_B03                             EQU  00000034   2274*25475 
_ERR_INFO_B04                             EQU  00000036   2275*25481 
_ERR_INFO_B05                             EQU  00000038   2276*25508 
_ERR_INFO_B06                             EQU  0000003A   2277*25541 
_ERR_INFO_B07                             EQU  0000003C   2278*25669 
_ERR_INFO_B08                             EQU  0000003E   2279*
_ERR_INFO_BAKUP_START            P        EXPT 00005268  25760 25765*
_ERR_INFO_C01                             EQU  00000000   2256*24837 
_ERR_INFO_C02                             EQU  00000004   2257*24887 
_ERR_INFO_C03                             EQU  00000008   2258*24892 
_ERR_INFO_C04                             EQU  0000000C   2259*24897 25293 25525 
_ERR_INFO_C05                             EQU  00000010   2260*24983 
_ERR_INFO_C06                             EQU  00000014   2261*25039 25502 
_ERR_INFO_C07                             EQU  00000018   2262*25041 25462 25522 
_ERR_INFO_C08                             EQU  0000001C   2263*25465 
_ERR_INFO_DLY_TIM                         IMPT 00000000   3540 10650 12900 25437 33310 
_ERR_INFO_DT_CHK1                P             00004F3C  10502 25070*
_ERR_INFO_DT_CHK2                P             00004FD4  10646 10887 12896 25200*33306 33432 
_ERR_INFO_DT_CHK3                P             000050E0  10891 25406*33436 
_ERR_INFO_DT_CHK3X               P             000051F4  25573 25609*
_ERR_INFO_DT_IN0                 P             00004E00  10181 24783*
_ERR_INFO_DT_IN1                 P             00004E24  10506 24809*
_ERR_INFO_DT_IN2                 P             00004E5C  10543 12873 24867*
_ERR_INFO_DT_IN2A                P             00004EC4  24948*
_ERR_INFO_DT_IN3                 P             00004ECC  10634 12882 24963*33295 
_ERR_INFO_DT_IN4                 P             00004EF8  10654 12904 25010*33314 
_ERR_INFO_RST_CLR                P        EXPT 00005290  25794 25800*
_ERR_INFO_SAVE_FLG                        IMPT 00000000   3541 25780 25810 
_ERR_INFO_SAVE_LATCH                      IMPT 00000000   3542 24823 24879 24975 25022 25091 25223 25411 25769 25775 25813 
_ERR_INFO_WK_CLR                 P             000052B4  25805 25833*
_ERR_LEV_IN2                              IMPT 00000000   4294 
_ERR_LEV_IN3                              IMPT 00000000   4295 
_ERR_LEV_IN4                              IMPT 00000000   4296 
_ERR_LEV_IN5                              IMPT 00000000   4297 
_ERR_LEV_IN6                              IMPT 00000000   4298 
_ERR_STOP_MOV_CHK                P             00003DEC  11046 20791*
_EXQ_LT_CMPSTEP_STEP_END                  IMPT 00000000   5460 
_EXQ_LT_GET_FLG                           IMPT 00000000   5459 
_EXQ_LT_PROC_CNT1                         IMPT 00000000   5461 
_EXQ_LT_PROC_CNT2                         IMPT 00000000   5462 
_EXQ_LT_PROC_CNT3                         IMPT 00000000   5463 
_EXQ_LT_PROC_CNT4                         IMPT 00000000   5464 
_EXQ_OUT                                  IMPT 00000000   5641 
_EXQ_POS_FLG_PROC                P        EXPT 00002FF0   6434 17265 17312*
_EXQ_STOP_LEV_POS_CLR            P        EXPT 000057C0  26893 26909*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   687

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_EXTDRV_BTTN_ERR_TIM                      IMPT 00000000   4886 
_EXTDRV_BTTN_USE                          IMPT 00000000   4879 
_EXTDRV_UTINUKI_FLG                       IMPT 00000000   4880 
_EXT_BTTN_FLG                             IMPT 00000000   4883 
_FCLS_KJYU_STEPCHG_CLR           P             00004BB0   7187 12304 17375 24178*
_FCLS_NZ_TIM_SET                 P             00004B8C  23860 24150*
_FPU_DIVS_32REG2_32REG1_R4_32REG*         IMPT 00000000   5792 31088 35569 36285 
_FPU_DIVS_32REG2_DIV_32REG4_R2_M*         IMPT 00000000   5793 39866 
_FPU_POS_HOKAN1                           IMPT 00000000   5805 41448 
_FPU_R2_MUL_R1_DIV_R4                     IMPT 00000000   5790  8902 16680 16872 21515 30199 31184 31353 39825 39891 39899 40057 
                                                         40584 40599 40614 40628 40676 41203 41265 41333 41456 
_FPU_R2_MUL_R1_R3_DIV_R4                  IMPT 00000000   5791 
_FPU_TIM_HOKAN1                           IMPT 00000000   5806 
_FRCYCL_OF                                IMPT 00000000   5656 
_FRCYCL_ON                                IMPT 00000000   5657 
_FREQ_BAS_SV_SPD                          IMPT 00000000   3587 30610 
_FREQ_PLSI_MAX_FRQ                        IMPT 00000000   3586 
_FREQ_SV_SPD                              IMPT 00000000   3519 30727 
_FR_CYL_MASK_FLG                          IMPT 00000000   2645  7469 
_FULCLS_ELSE_STS                          IMPT 00000000   4869 24321 24394 
_FULCLS_MATHED                            IMPT 00000000   4859 22237 22779 23653 23746 23806 24186 24287 24316 
_FULCLS_MAXOVER_CLR              P        EXPT 00004654   7180 17368 22815 22816*
_FULCLS_MAXOVER_ERR              P             00004604  22700 22737*
_FULCLS_MAXOVER_ERR_WT           P             0000460A  22481 22745*
_FULCLS_MAXOVER_STEP_INI         P             00004668  21924 22063 22840*
_FULCLS_MAXPLS_CALC              P             00004590  21884 22620*
_FULCLS_OVER_SIG                 P        EXPT 0000467C  22866 22872*
_FULCLS_TIM_SETFLG                        IMPT 00000000   4867 12278 23837 23856 23886 24183 
_FULL_CLS_OBJ_MM                          IMPT 00000000   3081 
_FUL_BEFOR_CALC                  P             00001510  11440 11480*
_FUL_CLS_DLYTM_SV                         IMPT 00000000   4676 21936 
_FUL_CLS_LENGH_ADD_CALC          P             00004780  23150*
_FUL_CLS_MAXOVER_F                        IMPT 00000000   4677 11111 22054 22703 22771 22785 22821 22846 22879 
_FUL_CLS_OBJPLS_CHK              P        EXPT 00004758  23106 23112*23175 23185 23644 23664 
_FUL_CLS_RNADIG                           EQU  00000320   2012*
_FUL_DATA_INIT                   P        EXPT 00004804  12207 23252 23257*28000 
_FUL_PLS_START                   P             00004818  21966 22288 23285*
_FUL_START_FUL_OBJ_SET           P             00001568  11567*
_FWD_REV_START                   P        EXPT 000034D4   6449 10658 12908 14081 14143 14282 14661 15730 18605*23341 33318 
_FWD_REV_STSIG_OFF               P        EXPT 00003594   6439 10729 10762 10939 17244 17321 18299 18351 18610 18768*21780 21893 
                                                         22094 22193 22335 22424 22468 23348 33379 
_FWD_REV_STSIG_OFF_SPEC          P        EXPT 000035D4   6452 11938 13935 14459 14741 15420 15471 18826*
_GAMEN_OVER_RIDE                 P             00006108  10237 29498*
_GENSOK_LNGTH_MAX                         EQU  00E4E1C0   6252*37894 38018 40550 
_GENSOK_SIG_MAK                  P        EXPT 00004128  21601 21603*
_GMN_HANYO_DI1                            IMPT 00000000   5540 
_GMN_HANYO_OUT1_SQ                        IMPT 00000000   5541 
_GMN_OVER_LIDE_FLG                        IMPT 00000000   3885 
_GPOINT_HOS_CALC                 P             00005804  27022*
_GPOSIN_HOS_DRV_INI              P             000057FC   6769 27003*33499 
_GPOSIN_HOS_RESET                P        EXPT 000057F4  26986 26988*
_HENSA_DAT_MONI_MAK              P        EXPT 00005880  27563 27565*
_HENSA_OVER_MOVE_CNT                      IMPT 00000000   3961 
_HENSA_OVER_STOP_CNT                      IMPT 00000000   3962 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   688

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_HENSA_OVR_ENCPOS                         IMPT 00000000   2881 
_HENSA_OVR_OUTPLS                         IMPT 00000000   2880 
_HIGH_DIVS_32REG2_16REG1_R4_16RE*         IMPT 00000000   5788 
_HIGH_S32R2_MUL_S32R1_DIV_S32R4_*         IMPT 00000000   5789 
_HIST_DAT_SEND_COM                        IMPT 00000000   5601 
_HIST_DAT_SEND_DIS                        IMPT 00000000   5600 
_HIST_EVENT_COD                           IMPT 00000000   5602 
_HIST_INFO_DT_IN1                P             00004DC0  10492 24696*
_HIST_KEP_SEND_COM                        IMPT 00000000   5603 
_HLDCAM_ABS_POS_SET                       IMPT 00000000   6284 13579 28570 
_HLDCAM_BANK2_ABS_POS_SET                 IMPT 00000000   6285 28436 28503 
_INCENC_ADD                               EQU  00000000   2067*
_INCENC_LINK_NOWROT_NUMPLS_ZR             IMPT 00000000   2702 
_INCENC_LINK_NOWROT_NUM_ZR                IMPT 00000000   2701 
_INCENC_LINK_NOWROT_OFSPLS                IMPT 00000000   2703 
_INCENC_SV_HENSA_MAKE            P        EXPT 00003D10  20366 20484 20608 20615*
_INCHEN_ADD                               EQU  00000000   2066*
_INCREV_ADD                               EQU  00000000   2071*
_INCRNA_ADD                               EQU  00000000   2068*
_INCSTP_ADD                               EQU  00000000   2069*
_INC_ABS_ORGWORK                          IMPT 00000000   2928 
_INC_ABS_ORGWORK2                         IMPT 00000000   4348 
_INC_ABS_ORGWORK2A                        IMPT 00000000   4349 
_INC_ENC360                               IMPT 00000000   2539  9834 14993 16104 16120 22692 32832 
_INC_ENC_MM_POS                           IMPT 00000000   2723 
_INC_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2704 
_INC_OFS_ORGWORK2A                        IMPT 00000000   4350 
_INC_RESET_STEP                           IMPT 00000000   5084 10380 13401 
_INC_RESET_USE_F                          IMPT 00000000   5085 10374 13380 
_INC_RST_WORK_CLR                         IMPT 00000000   6466 10386 
_INC_STOP_CNT                             IMPT 00000000   3260 
_INC_UPLIMT_CALC                 P             00006D1C   6738 32523*
_INFO_CHK1_COD                            EQU  5AA51234   2206*
_INFO_CHK2_COD                            EQU  4321A55A   2207*
_INPUT_MODE_SW                            IMPT 00000000   2594 
_INP_ERR_FLG                              IMPT 00000000   4612 12113 
_INP_MODE                                 IMPT 00000000   2626 
_INSERT_MOT_SV_CHGF                       IMPT 00000000   5153 
_INT1MS_SCAN_02MS                         IMPT 00000000   4287 
_INT1MS_SCAN_03MS                         IMPT 00000000   4288 
_INT1MS_SCAN_05MS1                        IMPT 00000000   4289 
_INT1MS_SCAN_05MS2                        IMPT 00000000   4290 
_INT1MS_SCAN_10MS                         IMPT 00000000   4291 
_INT_CLS_CTL_FLG                          IMPT 00000000   2847  6836 11120 21861 21918 22011 22060 22078 22188 22292 22343 22432 
                                                         22461 23261 30943 33571 37564 42012 
_INT_CLS_DYL_TIM                          IMPT 00000000   2848 21938 22113 22557 22583 
_INT_CYC_DRV_STS                          IMPT 00000000   2846  6830  7098  7242  7335 10302 10997 17228 17475 33565 
_INT_DND_CTL_STEP                         IMPT 00000000   2842  6774 10124 10362 11222 13897 14003 14198 14246 33266 33504 
_INT_DND_NEG_STEP                         IMPT 00000000   2850  7932  7948  8001  8018  8106  8122  8170  8194  8475 17238 
_INT_DND_STEP_FLG                         IMPT 00000000   2845  6776 10364 11224 13876 13911 13955 13987 14153 14292 14317 14444 
                                                         14537 14581 14665 14734 14820 33268 33506 
_INT_LINK_TOTAL_ABSPLS                    IMPT 00000000   2859 
_INT_POS_CTL_END                 P             000013A0  11008 11206*
_INT_POS_CTL_FLAG                         IMPT 00000000   2843  6780 10322 10418 10669 10724 10757 10810 10947 10974 11211 15734 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   689

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

                                                         33225 33323 33374 33510 
_INT_POS_CTL_STEP                         IMPT 00000000   2840 10394 11215 11291 11373 11516 11631 12234 12266 12546 12592 12766 
                                                         13636 19829 20562 20588 23193 23396 23576 24156 25940 26184 27661 27906 
                                                         28228 28287 28342 33059 33276 35793 36310 36702 40162 
_INT_POS_CTRL                    P        EXPT 00000E54   6430 10175*
_INT_POS_DATA_REF                P        EXPT 00003B28   6431 20197*
_INT_POS_STEP_FLG                         IMPT 00000000   2844 10360 10786 11213 11815 12296 12415 12754 12924 12991 17331 27889 
                                                         33264 
_INT_SFY_INP_DAT                          IMPT 00000000   3647 
_INT_SPD_CHG_FLG                          IMPT 00000000   5514 
_INT_STP_INP_DAT                          IMPT 00000000   3648 
_INT_STP_INP_DAT1                         IMPT 00000000   3649 
_INT_STP_INP_DAT2                         IMPT 00000000   3650 
_INT_STP_INP_DAT3                         IMPT 00000000   3651 
_INT_TEP_RESTART                 P             000028AC  15446 15558 15675*
_INT_TIM_CHG_FLG                          IMPT 00000000   5515 
_IN_PARAM_RNA_CHK                         IMPT 00000000   4044 
_IN_POS_GPOINT_POS                        IMPT 00000000   3946 
_IN_RDY_FLG                               IMPT 00000000   2634 
_IRQ_EMG_CNT                              IMPT 00000000   3641 
_IRQ_EMG_FLG                              IMPT 00000000   3640 
_IRQ_SFY_CNT                              IMPT 00000000   3643 
_IRQ_SFY_FLG                              IMPT 00000000   3642 
_IRQ_STP_CNT                              IMPT 00000000   3645 
_IRQ_STP_FLG                              IMPT 00000000   3644 
_KAJLIV_TTL_IDOBUF                        IMPT 00000000   4202 
_KAJLIV_TTL_POINT                         IMPT 00000000   4201 
_KAJLIV_TTL_TOTAL                         IMPT 00000000   4199 
_KAJYU_ELSE_STS_CLR              P        EXPT 00004C88   7191 17379 24351 24359*
_KAJYU_ELSE_STS_FLG_CLR          P             00004CAC  24365 24389*
_KAJYU_START_UPCHK               P             00004C48  21973 24312*
_KJPHOS_CAL_PRS                           IMPT 00000000   3009 
_KJPHOS_DEF_CNT_PV                        IMPT 00000000   3001 
_KJPHOS_IDO_BUF                           IMPT 00000000   3004 
_KJPHOS_IDO_CNT                           IMPT 00000000   2998 
_KJPHOS_IDO_POINT                         IMPT 00000000   2997 
_KJPHOS_IDO_TOTAL                         IMPT 00000000   3003 
_KJPHOS_SMPINI                            IMPT 00000000   6415 19898 33555 
_KJPHOS_SMPLING_END1                      IMPT 00000000   6416 20000 
_KJPHOS_USE_FLG                           IMPT 00000000   2996 
_KJPHOS_WAIT_CNT_PV                       IMPT 00000000   3000 
_KJYUCLS_KN_HENSA                         IMPT 00000000   4856 23529 23773 23947 24037 24116 24329 
_KJYUCLS_KN_HENSA_PLS                     IMPT 00000000   4857 23533 
_KJYUCLS_OBJ_KN                           IMPT 00000000   4855 23524 24253 
_KJYUU_DEF_DAT_PV                         IMPT 00000000   3007 
_KJYUU_IN_DAT_PV                          IMPT 00000000   3006 
_KJYUU_NEW_DAT_PV                         IMPT 00000000   3008 
_KJYU_CHK_NEARSIG                         IMPT 00000000   4866 23965 
_KJYU_CMP_CMD                             IMPT 00000000   4925 
_KJYU_CMP_SEQHABA                         IMPT 00000000   4931 
_KJYU_CMP_SEQMINS                         IMPT 00000000   4930 
_KJYU_DATA_INFO_SEL              P             00004BCC  21728 24209*
_KJYU_NEARZERO3_CHK              P             00004B0C  22542 24032*24452 
_KJYU_NEARZERO_CHK               P             00004ADC  23767 23848 23918 23942*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   690

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_KJYU_OUT_DIRCT                  P             00004B6E  23902 24111*
_KJ_AREATRD_SIG                           IMPT 00000000   4907 
_KJ_AREATRD_SIG_OLD                       IMPT 00000000   4908 
_KJ_AREA_BT0_OLD                          IMPT 00000000   3765 
_KJ_AREA_SIG                              IMPT 00000000   3764 
_KOMA_ASM_RAM_TOP                         IMPT 00000000   2487 
_LENGH_ADD_CALC                  P        EXPT 00002E5C   6444 11318 11449 11755 14069 14131 14270 17001*33171 
_LENGH_ADD_CALC_SV_TYPE          P        EXPT 00002EA0   6445 11657 17056*
_LINKX_SV_OBJ_ABSPLS                      IMPT 00000000   3680 16014 17014 17070 17110 28170 29014 
_LINK_1000ROT_PLS                         IMPT 00000000   4220 
_LINK_1ROT_PLS                            IMPT 00000000   2774  8697  8716  8963  9048  9067  9459  9478  9605  9639  9898 13364 
                                                         15185 15201 15223 15242 23120 23167 25300 25358 33668 35395 36110 
_LINK_2ROT_PLS                            IMPT 00000000   4217 
_LINK_3ROT_PLS                            IMPT 00000000   4218 
_LINK_4ROT_PLS                            IMPT 00000000   4219 
_LINK_CLANK_PV                            IMPT 00000000   3497  8390  8431 
_LINK_DIR_OBJMAK3                P             00000BAC   9566*10041 
_LINK_MAX_SPD_PLS                         IMPT 00000000   3049  8898 31085 39486 40406 40804 41199 41261 41329 41452 
_LINK_NOWROT_NUMPLS_ZR                    IMPT 00000000   2697 
_LINK_NOWROT_NUM_ZR                       IMPT 00000000   2696 13357 13486 13497 13510 
_LINK_NOWROT_OFSPLS                       IMPT 00000000   2698 
_LINK_NOWROT_OFSPLS_P                     IMPT 00000000   2699  8646  8982  9403  9590 13360 15169 
_LINK_OBJROT_NUMPLS_ZR                    IMPT 00000000   2768 
_LINK_OBJROT_NUM_ZR                       IMPT 00000000   2767  7134 12756 
_LINK_POS_OFFSET1                         IMPT 00000000   2861 
_LINK_POS_OFFSET2                         IMPT 00000000   2862 
_LINK_PV_ABSPLS                           IMPT 00000000   2860 20622 24721 24890 25644 25913 26027 26114 26265 26351 27575 30092 
                                                         30443 31843 33660 
_LINK_P_M_MAX                    P             00000D90   7776  9983*
_LINK_RL_OBJ_ABSPLS                       IMPT 00000000   2821  8732  9084  9176  9495  9667 11585 13648 15258 15618 17023 20321 
                                                         23418 27691 28163 30035 30095 31828 33663 33758 35866 36761 37284 
_LINK_SV_OBJ_ABSPLS                       IMPT 00000000   2829  8748  9100  9157  9172  9511  9682  9998 11576 11751 14065 14127 
                                                         14266 15274 15621 15972 16011 17005 17060 17119 20619 23155 24713 24835 
                                                         24885 25633 25908 26022 26109 26260 26346 27571 27592 28167 28930 29005 
                                                         30352 30437 31820 33676 37259 
_LINK_SV_OBJ_SPDPLS                       IMPT 00000000   2830  7563  7583  8848 10595 11297 11379 11637 11743 13745 14259 15710 
                                                         16762 16787 28348 33121 33707 
_LINK_UPPLS_A_OBJMAK1            P             000008E0   7041  8946*14114 
_LINK_UPPLS_A_OBJMAK2            P             000009E8   9148*14053 14182 
_LINK_UPPLS_A_OBJMAK3            P             00000A54   9222*10086 14231 
_LINK_UPPLS_DNDRIV               P             00000C84   9733*10069 
_LINK_UPPLS_OBJ_SELECT1          P             00000A90   9241  9316* 9745 
_LNGTH_ADD_DATA                           IMPT 00000000   2855 11227 16018 17030 17082 17132 17168 19117 23241 24895 24902 24907 
                                                         25121 25254 29018 
_LNGTH_TOTAL_OUTPLS                       IMPT 00000000   2856 11231 17165 19124 19200 19220 19346 19532 23085 24981 25134 25267 
                                                         25923 29064 
_LNKPLS_OBJ_DAT_MAK1             P             00000780   8511  8531  8553  8618*
_LNKPLS_OBJ_DAT_MAK2             P             00002640  15109 15137*
_LOAD_ACCS1_LATE                 P        EXPT 00003EBC  20841 21038*
_LOAD_BASE_FREQ_PLS              P        EXPT 00003EA0  20842 21005*
_LOAD_FREQ_PLS                   P        EXPT 00003E84  20836 20970*25902 26016 26103 26254 26340 
_LOAD_GPOINT_PLS                 P        EXPT 00003F00  20838 21139*
_LOAD_NOW_FREQ_PLS               P        EXPT 00003EE4  20837 21102*31858 
_LOAD_REST_PLS                   P        EXPT 00003E18  16522 17950 18072 18103 18159 18835 19284 19508 19598 19734 20835 20861*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   691

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

                                                         25036 25459 25629 
_LOAD_SPD_LATE                   P        EXPT 00003ED0  20840 21068*
_LOD_POS_STS_REG                 P        EXPT 00003628   6450 14464 14745 15424 15475 18304 18356 18902*20796 21609 
_LOD_POS_STS_REG_IN              P             0000366C  18912 18947 18984*37628 37666 42116 
_LOD_POS_STS_REG_POR             P        EXPT 00003640   6451 11910 13928 18936*21796 21897 22018 22098 22472 
_LOD_POS_STS_REG_SLOW            P             00003640  10967 18937*
_LONG_BIT_TBL0                            IMPT 00000000   6373 20565 20591 
_LOT_CHK_DBG_CNT1                         IMPT 00000000   3484 
_LOT_CHK_DBG_CNT2                         IMPT 00000000   3485 
_LOT_CHK_FLG                              IMPT 00000000   2666 27869 
_LOT_CNT_FLG                              IMPT 00000000   2664 
_LOT_SIG_FLG_CLR                          IMPT 00000000   6333 12648 12978 27859 
_LOT_SIG_SET                              IMPT 00000000   6297 
_LSA1_FILETR_TIM                          IMPT 00000000   3746 
_LSA2_FILETR_TIM                          IMPT 00000000   3747 
_LSA_CHK_DELAY_TM                         IMPT 00000000   3752 
_LSA_ENC_DIG                              IMPT 00000000   3739 
_LSA_ENC_MOV_LNG1A                        IMPT 00000000   3740 
_LSA_ENC_MOV_LNG1B                        IMPT 00000000   3741 
_LSA_ENC_MOV_LNG2                         IMPT 00000000   3742 
_LSA_ERR_SIG                              IMPT 00000000   3751 
_LSA_SIG_DT                               IMPT 00000000   3743 
_LSA_SIG_DT2                              IMPT 00000000   4068 
_LSA_SIG_OLD_DT                           IMPT 00000000   3744 
_LSA_SIG_OLD_WRK                          IMPT 00000000   3745 
_LSI_BUF_PLS_BitComdL                     IMPT 00000000   3603 17619 17624 17955 18038 18399 18440 18500 18541 18635 18684 18774 
                                                         18848 30809 30861 
_LSI_CHK_DBG_CNT1                         IMPT 00000000   4476 
_LSI_CHK_DBG_CNT2                         IMPT 00000000   4477 
_LSI_CHK_DBG_CNT3                         IMPT 00000000   4478 
_LSI_CHK_DBG_CNT4                         IMPT 00000000   4479 
_LSI_CMPCPUAB_POSMAX                      IMPT 00000000   3582 26642 
_LSI_CMPCPUAB_POS_RL                      IMPT 00000000   3581 26639 
_LSI_CMP_ERR_MAX                          EQU  0000000A   6245*
_LSI_G_HOS_SPD                            EQU  0000000F   6248*
_LSI_LOAD_32BIT_DATA             P             00003F1C  20887 20894 20901 20982 21016 21114 21150 21175*
_LSI_LOAD_PLS                             IMPT 00000000   5214 
_LSI_PLSCLR_AC_CNT1                       IMPT 00000000   3571 17942 
_LSI_PLSCLR_NG_CNT1                       IMPT 00000000   3572 18097 
_LSI_PLSCLR_NG_CNT2                       IMPT 00000000   3573 18187 
_LSI_PLSCLR_RETRY_CNT1                    IMPT 00000000   3554 17938 18177 18181 
_LSI_PLSCMP_AC_CNT1                       IMPT 00000000   3567 26632 
_LSI_PLSCMP_NG_CNT1                       IMPT 00000000   3565 
_LSI_PLSCMP_RETRY_CNT1                    IMPT 00000000   3564 26587 26649 
_LSI_PLSRD_NG_CNT1                        IMPT 00000000   3568 20919 
_LSI_PLSSET_AC_CNT1                       IMPT 00000000   3574 
_LSI_PLSSET_AC_CNT2                       IMPT 00000000   3575 19812 26635 
_LSI_PLSSET_NG_CNT1                       IMPT 00000000   3576 19358 
_LSI_PLSSET_NG_CNT2                       IMPT 00000000   3577 19773 
_LSI_PLSSET_NG_CNT3                       IMPT 00000000   3578 19798 
_LSI_PLSSET_RETRY_CNT1                    IMPT 00000000   3555 19188 19350 
_LSI_REST_PLS_CHK_START_CLR      P             000055E8   6765 26625*33495 
_LSI_REST_PLS_CHK_STOP_CLR       P             000055AC  10737 10770 12075 17346 26579*33387 
_LSI_RETRY_ERR_MAX                        EQU  00000003   6244*18183 19352 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   692

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LSI_SET_SPD_MAXLMT                       IMPT 00000000   3665 30935 
_LSI_SET_SPD_MINLMT                       IMPT 00000000   3666 
_LSI_SET_SPD_SV                           IMPT 00000000   3664 
_LT_INT_LINK_RL_OBJ_ABSPLS                IMPT 00000000   3515 24722 
_LT_LINK_SV_OBJ_ABSPLS                    IMPT 00000000   3514 24714 
_LT_LNGTH_ADD_DATA                        IMPT 00000000   3516 16022 17035 17086 17136 29035 
_LT_LNGTH_TOTAL_OUTPLS                    IMPT 00000000   3517 19135 29080 
_MAIN_CLK                                 IMPT 00000000   4803 
_MAIN_SPD_CHG_FLG                         IMPT 00000000   5516 
_MAIN_START_OK                            IMPT 00000000   2497 
_MAIN_TIM_CHG_FLG                         IMPT 00000000   5517 
_MCN_DBG_COD11                            EQU  00000063   2241*
_MCN_DBG_COD21                            EQU  00000059   2243*
_MCN_DBG_COD22                            EQU  00000058   2244*
_MCN_DBG_COD23                            EQU  00000058   2245*
_MCN_DBG_COD31                            EQU  0000004F   2247*
_MCN_DBG_COD32                            EQU  0000004E   2248*
_MCN_DBG_COD33                            EQU  0000004D   2249*
_MCN_FUJI_DBG1                            EQU  000004D2   2251*
_MISS_KEN_CAM_IN                          IMPT 00000000   5557 
_MISS_KEN_CAM_OF_EDG                      IMPT 00000000   5558 
_MISS_KEN_CNT_STOP_SQ                     IMPT 00000000   5560 
_MISS_KEN_DI                              IMPT 00000000   5553 
_MISS_KEN_DI_REC_ON                       IMPT 00000000   5554 
_MISS_KEN_EMG_STOP_SQ                     IMPT 00000000   5561 
_MISS_KEN_INIT_FLG                        IMPT 00000000   5550 
_MISS_KEN_INIT_TIM                        IMPT 00000000   5551 
_MNWR_POS_CMD                             IMPT 00000000   2790  7152  7322 10344 10718 10933 17231 17317 33248 33369 33585 
_MN_DNDINC_START                 P             000003E4   6891  7604*
_MN_POS_CTRL_ACT                 P        EXPT 0000026C   6437  7237*
_MN_POS_CTRL_START               P        EXPT 00000000   6436  6670*
_MN_TEP_START                    P             00002854   7615 15605*
_MODE_SEL                                 IMPT 00000000   2627  6684  6843  7393  7457 10444 10828 11962 12258 12458 12655 13812 
                                                         14385 19165 19902 20371 24829 25028 25097 25229 25417 29548 32457 32527 
                                                         32792 32841 35388 36104 
_MONI_CHG_PROC1                  P        EXPT 000055A4  26392 26408*
_MONI_CNT_HIST_INFO_DISP         P        EXPT 00005878  27219 27548*
_MONI_CNT_NOW_INFO_DISP          P        EXPT 00005850  27218 27230*
_MONI_CNT_NOW_INFO_DSP1          P             00005858  27270*
_MONI_CNT_NOW_INFO_DSP2          P             00005860  27323*
_MONI_CNT_NOW_INFO_DSP3          P             00005868  27376*
_MONI_CNT_NOW_INFO_DSP4          P             00005870  27436*
_MONI_CPUAB_PLSDELT                       IMPT 00000000   3921 31970 31996 
_MONI_DISP_MOD                            IMPT 00000000   5605 
_MONI_RDY_STEP                            IMPT 00000000   5025 
_MONI_RESET_STEP                          IMPT 00000000   5024 
_MONI_SEINOU_CMP_OUTPUT          P             000069EC  11086 31786*
_MONI_SELF_STS1                           IMPT 00000000   5026 
_MONI_SELF_STS2                           IMPT 00000000   5027 
_MOST_DISP_DAT_INI               P             00003D50  19931 20663*
_MOST_DISP_DAT_SMP               P             00003D94   7306 20710*
_MOTION_CHK_START_FLG                     IMPT 00000000   5331 
_MOTION_CYCLE_ED2                P             00003B10  12644 12974 20091*27853 
_MOTION_CYCLE_END                P             00003A88  12631 12970 19965*27849 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   693

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_MOTION_CYCLE_START              P             00003A2C   6820 12771 19881*27975 
_MOTION_SPD_CHKCNT                        IMPT 00000000   5448 37136 
_MOT_REPSTART_CALC               P             00006FBC  10467 12578 33114*
_MOT_REP_CLR                     P             00006F20  17276 20036 32996*33098 
_MOT_REP_CNT                              IMPT 00000000   5071 33001 33072 
_MOT_REP_F                                IMPT 00000000   5070 10459 12242 12537 21751 33003 33029 33036 33081 40930 
_MOT_REP_STEPCHK                 P             00006F3C  12533 33018*
_MOVE_MODE_MATH_LATCH                     IMPT 00000000   5088  6693 33474 
_MOV_DATA_ERR_FLG1                        IMPT 00000000   2600 
_MOV_ERR_FLG1                             IMPT 00000000   2597 
_MRTION_SEL                               IMPT 00000000   2632 
_MULDIV_R1R2S64mR3S32dR4S32aR1R2*         IMPT 00000000   5796 
_MULDIV_R2S32mR1S32dR4S32aR1R2S6*         IMPT 00000000   5795 40542 
_MUL_R1R2S64mR3S32aR1R2S64                IMPT 00000000   5797 
_MYUTING_MOD_STOPSEL                      IMPT 00000000   4729 
_M_LINK_AREASIG                           IMPT 00000000   2706 27864 
_M_LINK_RL_OBJ_ABSPLS                     IMPT 00000000   2814 
_NEAR_IN_FLG                              IMPT 00000000   2689 12080 12094 12212 20432 20520 21810 21816 27990 
_NEAR_ZERO_IN_CHK                P             00001D38  13273*
_NEG_CTL_OBJ_POS_PUSH                     IMPT 00000000   4328 11420 11505 11572 33161 
_NEG_CTRL_BEFOR_OBJ_PLS                   IMPT 00000000   4326 11509 23409 33165 
_NEG_CTRL_BEFOR_SLW_PLS                   IMPT 00000000   4327 
_NEG_DND_STOP_POS_END_F                   IMPT 00000000   5569  8221 14486 14510 
_NEG_DND_STOP_USE_F                       IMPT 00000000   5568  7654  8282 14498 
_NEG_EXITTIM                              IMPT 00000000   4698 21930 22750 
_NEG_TEPA_AREA_CHK               P             00002A9C  15938 16091*
_NEW_POSLSI_RESTPLS                       IMPT 00000000   3583 19737 25918 26032 26119 26270 26356 31814 
_NEW_TEP_CNT                              IMPT 00000000   3811 16321 16364 
_NEXT_CYCL_START1                P             00001E2C   7137 13522*
_NEXT_CYCL_START2                P             00001D50   7106 13348*
_NOW_INC_DIG_MAK                          IMPT 00000000   6303  8634  8953  9235  9583  9739 13354 15163 15625 33697 
_NOW_MOTREP_DIR                           IMPT 00000000   5072 
_NZ_TIM_CHK1                              IMPT 00000000   6345 12101 
_NZ_TIM_OUT_PV1                           IMPT 00000000   3399 
_NZ_TIM_OUT_PV2                           IMPT 00000000   3400 12107 
_NZ_TIM_OUT_SV1                           IMPT 00000000   3397 
_NZ_TIM_OUT_SV2                           IMPT 00000000   3398 
_OBJDIG_CLANK                             IMPT 00000000   4701 
_OBJ_ENC360                               IMPT 00000000   2541 
_OBJ_NEAR_CHK1                   P             00000D10   9613  9648  9873*
_OBJ_POS_DIG_MAK                          IMPT 00000000  22611 22631 
_OLD_RNAORG_POS1                          IMPT 00000000   2528 
_OPEN_ROT_NEAR1_ZERO_CHK         P             00003BD8  11904 20361*
_OPEN_ROT_NEAR2_ZERO_CHK         P             00003C68  20479*21790 
_ORGIN2_STEP_FLG                          IMPT 00000000   4337 
_ORGIN_END_FLG1                           IMPT 00000000   3071  6931 
_ORGIN_MOD2_CHKTIM                        IMPT 00000000   3835 
_ORGIN_MOD2_SEL                           IMPT 00000000   3834  6946 
_ORGIN_MOD2_START_FLG                     IMPT 00000000   3836 
_ORGIN_MODE_END                           IMPT 00000000   6294 14223 
_ORGIN_MODE_INI                           IMPT 00000000   6292 14195 
_ORGIN_MODE_SMP                           IMPT 00000000   6293 13906 
_ORGIN_OBJ_POS_CTRL_ST1          P             00000DC0   6960 10023*
_ORGIN_OBJ_POS_CTRL_ST2          P             00000E34  10114*13891 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   694

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ORGPOS_LATCH1_INC_OFFSET_PLS             IMPT 00000000   4393 
_ORGPOS_LATCH1_RNA_ABS_DAT                IMPT 00000000   4394 
_ORGPOS_SERCH_RNA_ABS_DAT                 IMPT 00000000   4395 
_ORG_DND_NOMAL_FLG1                       IMPT 00000000   2604 
_ORG_DRV_CNT_PV                           IMPT 00000000   3471 14029 14147 
_ORG_ELSE_NOMAL_FLG1                      IMPT 00000000   2603  6938 
_ORG_END_SIG_CLR                          IMPT 00000000   6314  7049 10097 
_ORG_FIRST_OBJPLS                         IMPT 00000000   3062  8960 
_ORG_PRESET_TIM                           IMPT 00000000   2612 
_ORG_RDY_CTL_FLG                          IMPT 00000000   3472 14036 14324 
_ORG_SECOND_OBJPLS                        IMPT 00000000   3063  9160 
_ORIGIN_POS_CHK_INI2                      IMPT 00000000   6418 14340 
_ORIGN_180ARA_FLG                         IMPT 00000000   4029  7158  8991  9279  9778 33590 
_ORIGN_OBJ_CTL_FLG                        IMPT 00000000   3667  7032 10027 10118 14391 33579 
_OUTPLS_1000MSEC_LAT                      IMPT 00000000   3458 21261 
_OUTPLS_DELT                              IMPT 00000000   3454 20292 21246 31911 
_OUTPLS_DIV                               IMPT 00000000   2864 
_OUTPLS_MOD                               IMPT 00000000   2863 11241 17171 25147 25280 
_OUTPLS_POINT_SEL                         IMPT 00000000   3457 21256 
_OUTPLS_SPD_AVL_TOP                       IMPT 00000000   3455 21255 
_OUTPLS_SPD_POINT                         IMPT 00000000   3456 21259 
_OUTPLS_SPD_TOTAL                         IMPT 00000000   3450 21254 
_OUT_PLS_SPD                              IMPT 00000000   3451 21262 
_OUT_PLS_SPD_CALC                P        EXPT 00003F48  21235 21242*
_OUT_PLS_SPD_DIR                          IMPT 00000000   3453 21260 
_OUT_UP_DN_TOTAL_CNT             P        EXPT 00003B30  20212 20214*
_OVER1_JGDIG                              EQU  00000032   2050*
_OVERH_CALC_USE                           IMPT 00000000   4695 
_OVERH_CYC_END                            IMPT 00000000   6363 20029 
_OVERH_MODE_SEL                           IMPT 00000000   4693 
_OVERLIDE_DT_SEL                          IMPT 00000000   3883 29554 
_OVERLID_CTL_DEF_SET             P             000060DC  29390 29455*
_OVERLID_DEF_SET                 P        EXPT 0000607C   6456 29377*
_OVERLID_GMN_DEF_SET             P             000060C0  29386 29431*
_OVERLID_SEQ_DEF_SET             P             000060A4  29382 29407*
_OVERRIDE_CALC_LATE_SEL          P             00006250  29729 29772*33738 
_OVERRIDE_CALC_SPED_SEL          P             0000627C  10281 29733 29805*33742 
_OVER_DIG_CHK                    P             000045CC  22149 22374 22688*
_OVER_LIDE_ANS_TIM                        IMPT 00000000   3910 31078 
_OVER_LIDE_SEQREF                P             00005FD4  10241 29262*
_OVER_LIDE_SPD_CALC              P             00006380  30191*35938 36959 37045 37353 
_OVER_RIDE_ERR_TIMCHG            P        EXPT 00006294  29840 29846*
_OVER_RIDE_LATE_ANS                       IMPT 00000000   3873 29316 29320 29330 
_OVER_RIDE_LATE_FLG                       IMPT 00000000   3871 29274 29280 29303 29343 
_OVER_RIDE_LATE_REQ                       IMPT 00000000   3872 29313 
_OVER_RIDE_USEFUL                         IMPT 00000000   3905 10274 29570 29575 29595 29620 29646 29652 29857 33727 33732 
_OVER_RID_UPDN_LAT_CALC          P             000062C4  29906*
_OVER_RID_UPDN_LAT_DTMK          P        EXPT 00006208  12792 27899 29706 29715*
_OVER_UPDN_DBGCNT                         IMPT 00000000   3907 29719 
_OVRLIDE_LATE_MAX                         EQU  00000064   2282*29411 29435 29459 29638 30197 31166 31178 31178 31223 31291 33719 
                                                         40540 40582 40597 40612 40626 40674 
_OVRLIDE_LATE_MULDIV             P             00006784  29869 31075 31119*
_OutputPLS_REG_CLR               P             000031C8  17196 17850*19264 19343 
_PAR_ACCDN_MATH                           IMPT 00000000  35023 35054 35109 35212 35285 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   695

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PAR_DNMDEND_DLY                          IMPT 00000000  32441 32463 
_PAR_INCSPD_UPLMT                         IMPT 00000000   6397 32540 
_PAR_INSERT_SMPTM                         IMPT 00000000   6395 
_PAR_KAJYU_ARASPD                         IMPT 00000000  21666 24511 
_PAR_KAJYU_CHGARA                         IMPT 00000000  21667 24053 24439 
_PAR_KAJYU_CTIM1                          IMPT 00000000  21671 22555 
_PAR_KAJYU_CTIM2                          IMPT 00000000  21672 22581 
_PAR_KAJYU_FIRST                          IMPT 00000000  21674 23771 
_PAR_KAJYU_HLDSPD                         IMPT 00000000  21665 24559 
_PAR_KAJYU_STPARA                         IMPT 00000000  21673 24044 
_PAR_MYUBRK_TIM1                          IMPT 00000000   6471  7407 
_PAR_MYUBRK_TIM2                          IMPT 00000000   6472  7390 
_PAR_MYU_BRK_SEL                          IMPT 00000000   6473  7260 
_PAR_NEGCTL_SPDS1                         IMPT 00000000  21669 24617 
_PAR_NEGERR_ENB                           IMPT 00000000  21662 22765 
_PAR_NEG_EXITTIM                          IMPT 00000000  21663 21928 
_PAR_ORGDRV_CNT                           IMPT 00000000   6393 
_PAR_ORGDRV_MOD                           IMPT 00000000   6392 
_PAR_SELF_WAIT_TM                         IMPT 00000000   6474  7452 
_PAR_START_WAIT_DND                       IMPT 00000000  13944 14531 
_PAR_STOPTIM_SEL                          IMPT 00000000   6398 32403 
_PAR_TEP_BEFPLS                           IMPT 00000000  15363 16824 
_PAR_TEP_MINSPD                           IMPT 00000000  15364 16853 
_PAR_TEP_WATTIM                           IMPT 00000000  15362 16836 
_PAR_WTSEL_USE                            IMPT 00000000   6225  8502 13396 14380 
_PDTRA                                    IMPT 00000000   6616 19324 19400 19464 19620 19716 27060 27092 
_PDTRB                                    IMPT 00000000  38315 39761 39950 40022 
_PLSI_CH1                                 EQU  00000000   6508*17596 17629 17960 18012 18043 18126 18404 18445 18505 18546 18642 
                                                         18689 18779 18853 19005 19034 19086 19657 20234 20243 20885 20892 20899 
                                                         20980 21014 21048 21077 21112 21148 28792 30631 30748 30814 30866 31688 
                                                         31712 31736 
_PLSI_CH2                                 EQU  00000030   6509*
_PLSI_CH_COM                              EQU  00000000   6535*21206 
_PLSOUTEND_FLG                            IMPT 00000000   5237 
_PLSOUTEND_PVPLS                          IMPT 00000000   5235 
_PLSOUTEND_SHIN                           IMPT 00000000   5236 
_PLSOUT_STEP_END_TIMSET          P             00001D40  13284*
_PLS_AccLate1                             EQU  0000001C   6525*21048 31688 
_PLS_AccLate2                             EQU  0000001E   6526*31712 
_PLS_BasFreqL                             EQU  0000000C   6517*21014 30631 
_PLS_BitComdL                             EQU  00000000   6511*17629 17960 18043 18404 18445 18505 18546 18642 18689 18779 18853 
                                                         30814 30866 
_PLS_BitInfoL                             EQU  00000004   6513*19005 19034 
_PLS_CHG_PLS_TO_LSI              P             000066B8  30607 30723 30925*
_PLS_CtrlReg                              EQU  0000002A   6532*17596 
_PLS_ERR_HABPLS1                          EQU  000007D0   6233*25302 25360 25637 
_PLS_GNpointL                             EQU  00000018   6523*21148 
_PLS_LSI_CTL_CALC                P             00008294  37464 37496*
_PLS_LSI_CTL_INI                 P             00006364  30140*37392 
_PLS_LSI_CTL_SPDCNT              P             000065C4  30688*31516 
_PLS_LSI_CTL_SPDINI              P             00006550  30590*31493 
_PLS_LSI_CTL_SPDSET              P             000065E0  30665 30696 30716*37644 37707 42094 42188 
_PLS_LSI_CTRL                    P             0000815C  11101 37252*
_PLS_LSI_SPD_ACC_ADD             P             00008400  37619 37805*42085 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   696

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PLS_LSI_SPEED_OFF               P             0000636C  30164*37415 37726 37766 42205 42245 
_PLS_LSI_STOP_END                P             00006634  30170 30803*
_PLS_LTCHReg                              EQU  0000007E   6536*21206 
_PLS_NowFreqL                             EQU  00000010   6519*21112 
_PLS_NowPos1L                             EQU  00000024   6529*19086 
_PLS_NowPos2                              EQU  00000028   6531*
_PLS_OUTPUT_FLG                           IMPT 00000000   3390 20806 
_PLS_OUTPUT_MAX                           EQU  00FFFFFF   6507*19515 
_PLS_OUT_END_STS                          IMPT 00000000   4786 
_PLS_OutPposL                             EQU  00000014   6521*18012 18126 19657 20885 20892 20899 28792 
_PLS_OutcntPS                             EQU  00000022   6528*20234 20243 
_PLS_SpedLate                             EQU  00000020   6527*21077 31736 
_PLS_TopFreqL                             EQU  00000008   6515*20980 30748 
_POINT_GET_SPD1                  P             000091CE  41015 41255*
_POINT_SERCH_BIG_2B              P             000092DA  41218 41538*
_POINT_SERCH_BIG_4B              P             00009346  41318 41411 41685*
_POINT_SERCH_PLS1                P             000091F0  41300*
_POINT_SERCH_PLS_HOKAN1          P             0000924C  40812 41375*
_POINT_SERCH_SPD1                P             00009184  40937 41190*
_PON_ERR_WAIT_TIM                         IMPT 00000000   5167 
_POSCANSEL_CMD                            IMPT 00000000   5475 
_POSCHG_LINK_ABSPLS_ROTNUMBER             IMPT 00000000   8922 
_POSCHG_LINK_ABSPLS_ROTNUM_OFSPL*         IMPT 00000000  23144 23161 
_POSCHG_LINK_DIG_TO_LINK_PLS              IMPT 00000000  22610 22647 
_POSCHG_LINK_ROTNUM_PLS                   IMPT 00000000   8923 
_POSCTL_CALC_ERR                          IMPT 00000000   3858 17271 17386 31394 37593 42068 
_POSCTL_OVER_ACC_LAT                      IMPT 00000000   3914 29471 29780 29863 31034 31253 
_POSCTL_OVER_SPD_LAT                      IMPT 00000000   3913 29468 29813 30195 40538 40580 40595 40610 40624 40672 
_POSCTL_RL_PLS                            IMPT 00000000   3845 11589 30283 30367 30515 37287 37986 
_POSCTL_RL_SPD                            IMPT 00000000   3849 17694 17737 17782 17823 30306 30389 30537 30601 30720 31799 35924 
                                                         36945 37031 37528 37675 37812 40477 40593 41973 42156 42278 
_POSCTL_SET_SPD                           IMPT 00000000   3847 30595 30692 37336 
_POSCTL_STEP_CMD                          IMPT 00000000   3856 31385 31433 31461 37386 37401 37411 37545 41993 
_POSCTL_STEP_FLG                          IMPT 00000000   3857 11158 18953 21623 31388 31401 37275 37375 37397 37408 37508 37550 
                                                         37660 37698 37730 37736 37741 37770 41949 41998 42110 42130 42179 42209 
                                                         42215 42220 42249 
_POSCTL_SV_DN_ACC                         IMPT 00000000   3852 30312 30395 35949 36970 37302 37328 37677 37836 40622 42158 
_POSCTL_SV_OFS_SPD                        IMPT 00000000   3854 17692 17735 17780 17821 30202 30309 30392 30467 30540 30599 30603 
                                                         30851 31542 31567 31595 31625 31627 31655 31657 31809 37526 37692 40460 
                                                         41971 42173 
_POSCTL_SV_PLS                            IMPT 00000000   3844 11580 30278 37262 37981 
_POSCTL_SV_SPD                            IMPT 00000000   3848 31793 37371 37810 40578 
_POSCTL_SV_UP_ACC                         IMPT 00000000   3851 31804 37056 37323 37819 40608 
_POSHLD1_CHKLST_FLG                       IMPT 00000000   5019 
_POSHLD1_GENSKPOSWK                       IMPT 00000000   4998 
_POSHLD1_GENSK_STEP                       IMPT 00000000   4999 
_POSHLD1_SDAT1_HOLDPOS                    IMPT 00000000   5001 
_POSHLD1_SDAT2_HOLDPOS                    IMPT 00000000   5002 
_POSHLD1_STOPLATCH                        IMPT 00000000   5007 
_POSHLD1_STOPSPDWK                        IMPT 00000000   4996 
_POSHLD1_STOP_STEP                        IMPT 00000000   4995 
_POSHLD1_STOP_STEPWK                      IMPT 00000000   4994 
_POSHLD_SET_DN_ACC                        IMPT 00000000   5006 30546 37300 
_POSINER_FLG                              IMPT 00000000   4947 33856 33934 33953 33965 34003 34042 34098 34138 34167 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   697

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POSINER_MOSTPV_POS                       IMPT 00000000   4943 34059 34661 
_POSINER_OLDPV_POS                        IMPT 00000000   4942 34057 34708 34725 
_POSINER_PV_POS                           IMPT 00000000   4941 33922 34055 34256 34478 34549 34658 34762 
_POSINER_RETRY_CNT                        IMPT 00000000   4949 33887 34128 34250 
_POSINER_STOPCHK_TIM1                     IMPT 00000000   4950 34048 34691 34698 
_POSINER_STOPCHK_TIM2                     IMPT 00000000   4951 34051 34693 34739 34746 34754 
_POSINER_STS                              IMPT 00000000   4948 33899 33936 34106 34111 34145 34150 34188 34263 34484 34555 34627 
                                                         34664 
_POSINER_SV_OVRPOS                        IMPT 00000000   4945 34310 34481 
_POSINER_SV_POS                           IMPT 00000000   4944 34247 34314 34438 34764 
_POSINER_SV_STPPOS                        IMPT 00000000   4946 34322 34552 
_POSITINER_POS_CMP               P             0000786C  33852 34837*
_POSITIONER_DAIHAITO             P        EXPT 000073A4  33838 33839*
_POSITIONER_DAI_DATA             P             00007654  33902 34380*
_POSITIONER_DAI_OBJ1CMP          P             000076E8  33985 34472*
_POSITIONER_DAI_OBJ1MAK          P             000075A8  33961 34242*
_POSITIONER_DAI_OBJ2CMP          P             0000772C  34024 34543*
_POSITIONER_DAI_OUT              P             00007770  33993 34032 34609*
_POSITIONER_DAI_STPCHK           P             00007794  34086 34653*
_POSITIONER_UPDN_LIMIT           P             00007630  34304 34319 34343*
_POSLSI_CHK_CNT                           IMPT 00000000   2873 20261 
_POSLSI_CHK_DLT                           IMPT 00000000   2874 20272 
_POSLSI_CHK_RESTPLS                       IMPT 00000000   2867 19512 27596 
_POSLSI_CHK_STS                           IMPT 00000000   2875 13721 19520 
_POSLSI_CMP_DATA                          IMPT 00000000   2857 11235 17200 
_POSLSI_DELT_POS                          IMPT 00000000   2858 11238 
_POSLSI_DRIV_SHIN                         IMPT 00000000   2866  8770  9121  9191  9533  9704 11144 11327 11458 11666 11763 15306 
                                                         16034 18614 19843 20274 22402 22415 23072 23320 25614 28383 30291 30375 
                                                         30451 30523 33180 37994 
_POSLSI_DRV_FRQ                           IMPT 00000000   3584 25905 25930 26019 26037 26106 26124 26257 26275 26343 26361 
_POSLSI_HENSA_LATCH                       IMPT 00000000   2871 
_POSLSI_OUTPUT_TOTAL_PLS                  IMPT 00000000   2869 20304 
_POS_1STEP_DATA_MAK1             P             00001410  10517 11282*
_POS_1STEP_DATA_MAK1CL           P             0000147C  10561 11363*13205 
_POS_1STEP_DATA_MAK2             P             000015A4  11621*12808 13219 
_POS_1STEP_DATA_MAK_SEL          P             00001CFC  12855 13192*
_POS_ALLSTEP_STOP_SPD_CHK        P             00001D30  13262*
_POS_ALL_STEP_CTRL               P             00001654  10840 11794*
_POS_CALC_ERR_FLG1                        IMPT 00000000   3557 11015 17339 19259 
_POS_CALC_ERR_FLG2                        IMPT 00000000   3558 11020 17342 
_POS_CALC_ERR_INF1                        IMPT 00000000   3561 11017 
_POS_CALC_ERR_INF2                        IMPT 00000000   3562 11022 
_POS_CALC_MISS0                  P             00005F80  15191 15230 15301 29135*
_POS_CALC_MISS1                  P             00005F9C  29169*
_POS_CALC_MISS2                  P             00005FB8  29203*
_POS_CLS_OBJPLS_PVPLS_MAKE       P             0000496C  22135 22321 23310 23620*
_POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK P             000049F8  22325 23741*
_POS_CLS_RNA_KJYU_NZ_CHEAK       P             00004A40  22139 23801*
_POS_CLS_START_CONF              P             00004940  21716 22131 22317 23306 23572*
_POS_CLS_TYP1_NEAR_ZERO_CHEAK    P             000046B8  22953*23753 23813 
_POS_CLS_TYP1_POS_CTL1           P             0000415A  11870 21702*
_POS_CMP_1STEP_START_INI                  IMPT 00000000   6330  6815 10680 12929 14668 15743 33334 33546 
_POS_CNT_BANK_DTMAK1             P             00005B42  10536 28136*
_POS_CNT_BANK_DTMAK2             P             00005B3C  27955 28127*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   698

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POS_CNT_BANK_DTMAK3             P             00005AF0  12837 28057*
_POS_CNT_BANK_DTMAK_CM           P             00005C38  28238 28368*
_POS_CNT_LAST_STEP_CHK           P             00005BCC  28103 28177 28215 28270*28660 
_POS_CTRL_SQ_STS                          IMPT 00000000   2837 12034 12195 12228 20409 20414 20445 20450 20496 20501 20526 20531 
_POS_DRV_DIRECT                           IMPT 00000000   2831  7773  7827  8767  9118  9188  9530  9701 14874 14905 14931 15106 
                                                         15293 16031 16446 33683 
_POS_ENDMYUT_TIM_SET             P             00000344   7283  7447*
_POS_ENDWAIT_TIM_SET             P             00000308   7268  7383*
_POS_END_MYUTIG_KEEPTIM                   IMPT 00000000   5256  7486  7520 
_POS_END_MYUTIG_STOPTIM                   IMPT 00000000   5255  7484  7517 
_POS_END_MYUTIG_TIMER_CLR        P             00000390   7512*17397 
_POS_END_WAIT_TIM                         IMPT 00000000   5246  7327  7412  7523 
_POS_FRQ_SPDMAX                           IMPT 00000000   3055 16869 31345 
_POS_GEN_BEFORE_LNG                       EQU  000003E8  21659*
_POS_GPOINT_POS                           IMPT 00000000   3947 
_POS_HLDSTOP1_CHKTIM                      IMPT 00000000   4978 
_POS_HLDSTOP1_FLG                         IMPT 00000000   4979 37293 
_POS_HLDSTOP1_SIG1TIM                     IMPT 00000000   4980 
_POS_HLDSTOP1_SIG2TIM                     IMPT 00000000   4981 
_POS_HOLDABS_CALCF                        IMPT 00000000   5018 
_POS_HOLD_CMD                             IMPT 00000000   5013 
_POS_HOLD_FLG                             IMPT 00000000   5014 
_POS_HOLD_FLG_STR2CLR                     IMPT 00000000   6425 10568 
_POS_HOLD_RDY_EXITF                       IMPT 00000000   5015 
_POS_HOLD_RDY_EXITF2                      IMPT 00000000   5016 
_POS_HOLD_RESTARTCMD                      IMPT 00000000   5012 
_POS_LATE1                                EQU  000003E8  21658*
_POS_LATE_CALC_MAX                        EQU  000003E8  21660*
_POS_LENGTH_ADD_DATA             P        EXPT 000036E0   6447 10630 12878 14073 14135 14274 14653 15722 16548 19113*27971 33291 
_POS_LSI_ABSPLS                           IMPT 00000000   2919 
_POS_LSI_ACC1_SET                P             000069A4  31682*
_POS_LSI_ACC2_SET                P             000069BC  31706*
_POS_LSI_ACCLT1                           IMPT 00000000   3059 31686 
_POS_LSI_ACCLT2                           IMPT 00000000   3060 31710 
_POS_LSI_ACS_ERR_FLG1                     IMPT 00000000   3556 11025 17336 18203 19380 20929 
_POS_LSI_ACS_ERR_INF1                     IMPT 00000000   3560 11027 
_POS_LSI_BAS_SPEED_SET           P             0000690C  17688 17731 31535*
_POS_LSI_CLSINC_SPDBAS                    IMPT 00000000   3077 24647 
_POS_LSI_CLS_BAS_SPD_SET         P        EXPT 00006924  17776 31554 31560*
_POS_LSI_CLS_SPDBAS                       IMPT 00000000   3076 
_POS_LSI_CLS_TOP_EQ_BAS_SET1     P        EXPT 00006954  31612 31618*
_POS_LSI_CLS_TOP_EQ_BAS_SET2     P        EXPT 0000697C  21956 22278 31640 31648*
_POS_LSI_CNT_LOAD_R1reg          P        EXPT 000036CC  19075 19082*
_POS_LSI_CTL_NOWPLS                       IMPT 00000000   2923 
_POS_LSI_DATA_INITAL             P        EXPT 00003118  17510 17679*
_POS_LSI_EMG_STOP                P             00003384  10733 10943 17248 17325 18293*33383 
_POS_LSI_EMG_STOP_CMD            P             000033E4  18317 18393*
_POS_LSI_FRQ_DATA_MAK                     IMPT 00000000  30913 30930 
_POS_LSI_HARD_INITAL             P        EXPT 000030C8  17509 17591*
_POS_LSI_OFFSET1                          IMPT 00000000   2921 
_POS_LSI_OFFSET2                          IMPT 00000000   2922 
_POS_LSI_OLDCNT                           IMPT 00000000   2925 
_POS_LSI_SLOW_STOP               P        EXPT 000033B8   6440 10766 18345*22339 22428 
_POS_LSI_SLOW_STOP_CMD           P             0000345C  18494*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   699

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POS_LSI_SPDBAS                           IMPT 00000000   3058 30989 
_POS_LSI_SPDLAT                           IMPT 00000000   3057 31734 
_POS_LSI_SPDLATE_SET             P             000069D4  17684 31730*
_POS_LSI_SPDMAX                           IMPT 00000000   3056 16867 31347 
_POS_LSI_START_INITAL            P        EXPT 00003144   6442 10497 10619 12782 17722*33281 
_POS_LSI_START_INITAL_TEP        P             0000319C  10592 15706 17811*
_POS_LSI_START_INITL2            P             00003170  10557 17768*
_POS_LSI_TEP_BAS_SPEED_SET       P        EXPT 0000693C  17817 31582 31588*
_POS_LSI_TOP_SPEED_SET           P        EXPT 000068E4   6443 10598 11306 11388 11645 11747 14061 14122 14190 14240 14262 15713 
                                                         31488*31630 31660 33126 33711 
_POS_LSI_TOP_SPEED_SETX          P             000068F8  13748 16791 28351 31511*
_POS_LSI_TOTAL_PLS                        IMPT 00000000   2918 
_POS_LSI_WORK_STOP2              P             00002F48   6825 17191*22199 23294 29115 33560 
_POS_LSI_WORK_STOP_CLR           P             00002F20  17159*17746 17788 17826 18434 18535 22203 23299 29111 
_POS_OVER_RUN_CHK1                        IMPT 00000000   6336 11033 
_POS_PLSOUT_SET_RETRY            P             00003718  10640 12890 15726 19161*33300 
_POS_PLS_OUTPUT_DATA             P        EXPT 00003894   6448 10860 14077 14139 14278 14657 16552 19173 19232 19501*23337 33405 
_PRD_DAI_CMP_ENB                          IMPT 00000000   3509 
_PRD_DAI_POS0                             IMPT 00000000   3507 
_PRD_DAI_POS1                             IMPT 00000000   3508 
_PRD_KJP_CMP_ENB                          IMPT 00000000   3995 
_PRESET_PV_ABS_TO_OBJ            P        EXPT 000062CC   6728 29936 29937*
_PRESET_PV_FLGCLR                P        EXPT 000062F6  17390 29983 29984*
_PROC_2MS_PLS                             EQU  000007D0  28721*30359 
_PS_DG_INF_CHK1                           EQU  00000000   2215*
_PS_DG_INF_CHK2                           EQU  0000003C   2220*
_PS_DG_INF_CONT                           EQU  00000004   2216*
_PS_DG_INF_LATE                           EQU  00000010   2219*
_PS_DG_INF_STLK                           EQU  0000000C   2218*
_PS_DG_INF_UNIT                           EQU  00000008   2217*
_PS_TIME                                  EQU  00000002   2005*
_PVCK_STOP_SMPTIM                         IMPT 00000000   3258 
_PVC_BRK_ENC_SPD                          IMPT 00000000   3462 21316 21376 
_PVC_BRK_OUT_SPD                          IMPT 00000000   3463 21265 
_PVPAB_KAJLIV_TTL                         IMPT 00000000   6422 
_PVPX1_CKLMT_AGLTOP                       IMPT 00000000   5333 
_PVPX1_CKLMT_SPDTOP                       IMPT 00000000   5334 
_PVP_ATSLID_OBJ1                          IMPT 00000000  33836 33847 
_PVP_CB_A_VER                             IMPT 00000000   6411 17641 17652 17972 17983 17995 18019 18030 18055 18066 18121 18135 
                                                         18146 18416 18427 18457 18468 18517 18528 18558 18569 18654 18665 18675 
                                                         18701 18712 18722 18791 18802 18865 18876 19000 19013 19029 19041 19652 
                                                         19666 19677 21196 21216 28787 28801 28812 30626 30640 30651 30743 30757 
                                                         30768 30826 30837 30878 30889 
_PVP_CPUA_TEPPLS                          IMPT 00000000  16301 16314 16357 
_PVP_CPUB_TEPPLS                          IMPT 00000000  16302 
_PVP_MONALM_A01                           IMPT 00000000  26438 
_PVP_MONALM_A02                           IMPT 00000000  26439 
_PVP_MONALM_A03                           IMPT 00000000  26440 
_PVP_MONALM_A04                           IMPT 00000000  26441 
_PVP_MONALM_A05                           IMPT 00000000  26442 
_PVP_MONALM_A06                           IMPT 00000000  26443 
_PVP_MONALM_A07                           IMPT 00000000  26444 
_PVP_MONALM_A08                           IMPT 00000000  26445 
_PVP_MONALM_B01                           IMPT 00000000  26446 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   700

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PVP_MONALM_B02                           IMPT 00000000  26447 
_PVP_MONALM_B03                           IMPT 00000000  26448 
_PVP_MONALM_B04                           IMPT 00000000  26449 
_PVP_MONALM_B05                           IMPT 00000000  26450 
_PVP_MONALM_B06                           IMPT 00000000  26451 
_PVP_MONALM_B07                           IMPT 00000000  26452 
_PVP_MONALM_B08                           IMPT 00000000  26453 
_PVP_MONALM_C01                           IMPT 00000000  26430 
_PVP_MONALM_C02                           IMPT 00000000  26431 
_PVP_MONALM_C03                           IMPT 00000000  26432 
_PVP_MONALM_C04                           IMPT 00000000  26433 
_PVP_MONALM_C05                           IMPT 00000000  26434 
_PVP_MONALM_C06                           IMPT 00000000  26435 
_PVP_MONALM_C07                           IMPT 00000000  26436 
_PVP_MONALM_C08                           IMPT 00000000  26437 
_PVP_MONALM_P01                           IMPT 00000000  26455 
_PVP_MONALM_P02                           IMPT 00000000  26456 
_PVP_MONALM_P03                           IMPT 00000000  26457 
_PVP_MONALM_P04                           IMPT 00000000  26458 
_PVX_AMPERR_TIM1                          IMPT 00000000   3195 
_PVX_AMPERR_TIM2                          IMPT 00000000   3196 
_PVX_AMPERR_TIM3                          IMPT 00000000   3197 
_PVX_CKAGL_OVBIT                          IMPT 00000000   4753 
_PVX_CKSPD_OVBIT                          IMPT 00000000   4734 
_PVX_DAI_POS0                             IMPT 00000000   2939 
_PVX_DAI_POS1                             IMPT 00000000   2940 33920 34871 
_PVX_DNMOD_DLYTIM                         IMPT 00000000   4718 32478 32495 
_PVX_DYHITO_POS                           IMPT 00000000   2947 
_PVX_IAMP_VLT                             IMPT 00000000   3198 
_PVX_INPPOS_TIM1                          IMPT 00000000   3171 
_PVX_MOTINS_AG2                           IMPT 00000000   4538 
_PVX_MOTINS_AG2X                          IMPT 00000000   4539 
_PVX_MOTINS_AG3                           IMPT 00000000   4544 
_PVX_MOTINS_AG3X                          IMPT 00000000   4545 
_PVX_MOTINS_AGL                           IMPT 00000000   4541 
_PVX_MOTINS_AGLX                          IMPT 00000000   4542 
_PVX_MOTINS_DAN                           IMPT 00000000   4549 
_PVX_MOTINS_DANAFT                        IMPT 00000000   4550 
_PVX_MOTINS_DANBEF                        IMPT 00000000   4548 
_PVX_MOTINS_INF                           IMPT 00000000   4552 
_PVX_MOTINS_POS                           IMPT 00000000   4535 
_PVX_MOTINS_PS2                           IMPT 00000000   4534 
_PVX_MOTINS_PS3                           IMPT 00000000   4536 
_PVX_RNA_STLORK                           IMPT 00000000   2941 
_PV_ENC_SPD_PER                           IMPT 00000000   3460 21315 21374 
_PV_OUT_SPD_PER                           IMPT 00000000   3461 21264 
_PV_POWER_ON_CNT                          IMPT 00000000   6265 24787 
_R2_MUL10_ANS_R2                 P             000086F6  38784 38861*40286 40295 
_RDY_OF                                   IMPT 00000000   5651 
_RDY_ON                                   IMPT 00000000   5650 
_RDY_SFTY_LOCK                            IMPT 00000000   3731 
_RDY_SFTY_WAIT_TIM                        IMPT 00000000   3732 
_REP_CAMOBJ_DIG                           IMPT 00000000   5073 
_RESET_END_OUT                            IMPT 00000000   5643 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   701

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_RESET_OUT                                IMPT 00000000   5642 
_RESET_ROTNUMPLS_ZR                       IMPT 00000000   2731 
_RESET_ROTNUM_ZR                          IMPT 00000000   2730 
_RESTART_WAIT_PLS_DATA_SELECT    P             0000452E  22246 22535*
_REVCHK_DRIV_SHIN                         IMPT 00000000   4619 
_REVCHK_MASK_PVTIM                        IMPT 00000000   4620 
_REVMOD_REVDN_DIG                         IMPT 00000000   4622 
_REVRSE_BASINC_SPDCALC           P        EXPT 00004D68  21676 21952 22271 24518 24566 24602*
_REVRSE_KAJYU1_BASINCSET         P             00004D00  24461 24506*
_REVRSE_KAJYU2_BASINCSET         P             00004D34  24477 24554*
_REVRSE_KAJYU_AREACHK_BASSET     P             00004CC0  22254 24435*
_REV_BEFORE_CHGKOUTEICHK         P             00004894  13676 23379*
_REV_CALC_WORK0                           IMPT 00000000   3249 
_REV_CALC_WORK1                           IMPT 00000000   3250 
_REV_CALC_WORK2                           IMPT 00000000   3251 
_REV_ERR_FLG                              IMPT 00000000   5277 
_REV_ERR_LT_PGPOS                         IMPT 00000000   5280 
_REV_ERR_LT_SVPOS                         IMPT 00000000   5281 
_REV_ERR_WAIT_TIMPV                       IMPT 00000000   4618 
_REV_LATCH_ENCPOS                         IMPT 00000000   2889 
_REV_LATCH_OUTPLS                         IMPT 00000000   2888 
_REV_LATCH_RNAPOS                         IMPT 00000000   2890 
_RL_POS_DATA_CHK                 P             00006B1C  11090 31966*
_RM1_CHK_OLDSTS                           IMPT 00000000   5105 
_RM1_CHK_TIME                             IMPT 00000000   5106 
_RM2_CHK_OLDSTS                           IMPT 00000000   5108 
_RM2_CHK_TIME                             IMPT 00000000   5109 
_RNAREV_ADD                               EQU  00000000   2072*
_RNASTP_ADD                               EQU  00000000   2070*
_RNA_ABS_DRVHOS_DT                        IMPT 00000000   2980 
_RNA_ABS_MAXPOS                           IMPT 00000000   2959 
_RNA_ABS_MD2_C1                           IMPT 00000000   4352 
_RNA_ABS_MD2_C1A                          IMPT 00000000   4353 
_RNA_ABS_MD2_C2                           IMPT 00000000   4354 
_RNA_ABS_MD_DT0                           IMPT 00000000   2943 
_RNA_ABS_MD_DT1                           IMPT 00000000   2944 
_RNA_ABS_MEMORG                           IMPT 00000000   2936 
_RNA_ABS_MINPOS                           IMPT 00000000   2958 
_RNA_ABS_ORGWORK                          IMPT 00000000   2927 
_RNA_ABS_ORGWORK2                         IMPT 00000000   4346 
_RNA_ABS_ORGWORK2A                        IMPT 00000000   4347 
_RNA_ABS_POS                              IMPT 00000000   2935 20673 20738 
_RNA_ABS_WKMAXPOS                         IMPT 00000000   2957 
_RNA_ABS_WKMINPOS                         IMPT 00000000   2956 
_RNA_BBN_MESURE_POINT                     IMPT 00000000   4493 
_RNA_BBN_MESURE_SPOS_BUF                  IMPT 00000000   4486 
_RNA_BBN_MESURE_SSPD                      IMPT 00000000   4488 
_RNA_BBN_MESURE_SSPD_BUF                  IMPT 00000000   4487 
_RNA_BBN_MEUSRE_ACC                       IMPT 00000000   4490 
_RNA_BBN_MEUSRE_ACC_SRC                   IMPT 00000000   4489 
_RNA_BBN_SET_TIME                         IMPT 00000000   4492 
_RNA_CMD_RD_CNT                           IMPT 00000000   2554 
_RNA_CMD_SND_CNT                          IMPT 00000000   2553 
_RNA_COM_ERR_CNT                          IMPT 00000000   2546 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   702

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_RNA_COM_NML_CNT                          IMPT 00000000   2547 
_RNA_CTL_POS0                             IMPT 00000000   2945 
_RNA_CTL_POS1                             IMPT 00000000   2946 20680 20715 
_RNA_ENC360                               IMPT 00000000   2538 
_RNA_HOS_DELT                             IMPT 00000000   2948 
_RNA_INSERT_CHKFLG                        IMPT 00000000   4505 
_RNA_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2722 20685 20725 23182 23660 
_RNA_OLD_STEP                             IMPT 00000000   4508 
_RNA_POS_OFFSET1                          IMPT 00000000   2933 
_RNA_POS_OFFSET2                          IMPT 00000000   2934 
_RNA_PROTOCOL_SEL                         IMPT 00000000   4045 
_RNA_PROTOCOL_X                           IMPT 00000000   4048 
_RNA_RESET_FLG                            IMPT 00000000   2549 
_RNA_RESET_TIM                            IMPT 00000000   2550 
_RNA_STLORK                               IMPT 00000000   2938 
_RNA_STLORK_HALF                          IMPT 00000000   4344 
_RNA_STOP_CNT                             IMPT 00000000   3259 
_RNA_TECH_POINT                           IMPT 00000000   4504 
_RNA_TECH_POSBUF                          IMPT 00000000   4503 
_ROOT_MAIN_INP                            IMPT 00000000   5611 
_ROOT_MAIN_OUT                            IMPT 00000000   5612 
_RST_DLY_TM                               EQU  000000C8   2024*
_RST_ERR_CHK_ERR                          IMPT 00000000   2894 
_RST_ERR_CHK_FLG                          IMPT 00000000   2892 14205 
_SAME_TIM                                 IMPT 00000000   2674 
_SCAN_DBG_CNT                             IMPT 00000000   4822 
_SCAN_SMP_SIG                             IMPT 00000000   4809 
_SCAN_TIM_IDOBUF                          IMPT 00000000   4800 
_SCAN_TIM_IN                              IMPT 00000000   4805 
_SCAN_TIM_POINT                           IMPT 00000000   4801 
_SCAN_TIM_TOTAL                           IMPT 00000000   4799 
_SDATCLS_OBJMM                            IMPT 00000000   3083 
_SDATCLS_OBJPLS                           IMPT 00000000   3082 23635 
_SDATCLS_OBJ_NEAR_UPDNPLS                 IMPT 00000000   3084 22962 
_SDATCLS_TRG_STEP                         IMPT 00000000   3086 22957 23583 23625 24214 
_SDATCLS_UPOBJ_PLS                        IMPT 00000000   3085 23628 
_SDAT_WAIT_PVTIM                          IMPT 00000000   2776 12385 12393 13951 13974 13981 14533 14558 14567 21999 23878 24162 
                                                         32423 
_SELF_AD_LATCH                            IMPT 00000000   3720 
_SELF_BRK_LOCK                            IMPT 00000000   3716 
_SELF_CHK_MATHED                          IMPT 00000000   3715 
_SELF_CHK_SEL                             IMPT 00000000   2621 
_SELF_COM                                 IMPT 00000000   2619 
_SELF_FIRST_END_FLG                       IMPT 00000000   3713 
_SELF_FLG                                 IMPT 00000000   2617 
_SELF_LOCK_FLG                            IMPT 00000000   4000 
_SELF_MOV_LENGTH                          IMPT 00000000   3723 
_SELF_MOV_SPEED                           IMPT 00000000   3724 
_SELF_POS_START_WORK_CLR         P        EXPT 00005F64  29099 29106*
_SELF_SECOND_ACT_FLG                      IMPT 00000000   3718 
_SELF_SECOND_STEP                         IMPT 00000000   3719 
_SELF_START_POS_LATCH                     IMPT 00000000   3722 
_SELF_START_WAIT_TM                       IMPT 00000000   2620 
_SELF_TIMING_SIG                          IMPT 00000000   3714 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   703

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SEQ_DP_TOP                               IMPT 00000000  23827 
_SET1_ACCLAT_TIM1                         IMPT 00000000   3158 31037 
_SET1_AMP100P_VLT                         IMPT 00000000   3192 
_SET1_ARACHK_LNG1                         IMPT 00000000   3173 
_SET1_ATDAT_DOTPOS                        IMPT 00000000   4959 34387 
_SET1_ATSLID_BAKLNG                       IMPT 00000000   4954 34270 34291 34425 
_SET1_ATSLID_COEF1                        IMPT 00000000   4957 34432 34772 
_SET1_ATSLID_COEF2                        IMPT 00000000   4958 34861 
_SET1_ATSLID_DNOBJ1                       IMPT 00000000   4955 34273 34411 
_SET1_ATSLID_UPOBJ1                       IMPT 00000000   4956 34295 34418 
_SET1_BREAK_DIG                           IMPT 00000000   3495 
_SET1_BREAK_TIM1                          IMPT 00000000   3493 
_SET1_CNT_CNT                             IMPT 00000000   3101 
_SET1_CNT_TIM                             IMPT 00000000   3099 
_SET1_DAIHAI_LNG1                         IMPT 00000000   3184 
_SET1_DAIHAI_LNG2                         IMPT 00000000   3185 
_SET1_DAIHAI_LNG3                         IMPT 00000000   3186 
_SET1_DAIHAI_ORG0                         IMPT 00000000   3203 
_SET1_DAIORG0_CMP1DN                      IMPT 00000000   3205 
_SET1_DAIORG0_CMP1UP                      IMPT 00000000   3204 
_SET1_DAIORG0_CMP2DN                      IMPT 00000000   3207 
_SET1_DAIORG0_CMP2UP                      IMPT 00000000   3206 
_SET1_DAIORG0_CMP3DN                      IMPT 00000000   3209 
_SET1_DAIORG0_CMP3UP                      IMPT 00000000   3208 
_SET1_DAIORG0_CMP4DN                      IMPT 00000000   3211 
_SET1_DAIORG0_CMP4UP                      IMPT 00000000   3210 
_SET1_DNAREA_INPX                         IMPT 00000000   3161 
_SET1_DNAREA_INPXPLS                      IMPT 00000000   3165 
_SET1_DNAREA_JUDG                         IMPT 00000000   3135 
_SET1_DNDINC_SPD1                         IMPT 00000000   3144  8878 16691 16734 
_SET1_DND_DIGTOP                          IMPT 00000000   3774 
_SET1_DND_PLSTOP                          IMPT 00000000   3775  8550 
_SET1_DND_STOPDIG_UP                      IMPT 00000000   3773 
_SET1_DND_STOP_SW                         IMPT 00000000   3772  8257 
_SET1_DND_UPPLS                           IMPT 00000000   3776 
_SET1_EJECAM_OFR                          IMPT 00000000   5062 
_SET1_EJECAM_ONR                          IMPT 00000000   5061 
_SET1_ENC360_HOS1                         IMPT 00000000   3175 
_SET1_FULCLS_MXPLS                        IMPT 00000000   3187 
_SET1_INCDIR_SEL1                         IMPT 00000000   3116 
_SET1_INCENC_ELNG                         IMPT 00000000   3178 
_SET1_INCHEN_ELNG                         IMPT 00000000   3177 
_SET1_INCPLS_1REV                         IMPT 00000000   3113 
_SET1_INCPLS_HOSM                         IMPT 00000000   3118 
_SET1_INCPLS_HOSN                         IMPT 00000000   3117 
_SET1_INCPOS_KP01                         IMPT 00000000   3156 22229 22560 
_SET1_INCREV_ELNG                         IMPT 00000000   3182 
_SET1_INCRNA_ELNG                         IMPT 00000000   3179 
_SET1_INCSTP_ELNG                         IMPT 00000000   3180 
_SET1_INPPOS_TIM1                         IMPT 00000000   3170 
_SET1_INTLIM_AGL                          IMPT 00000000   4984 
_SET1_INTLIM_PLS                          IMPT 00000000   4986 
_SET1_KAJAREA_ENO                         IMPT 00000000   4895 
_SET1_KAJAREA_SEL                         IMPT 00000000   4909 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   704

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_KAJAREA_SNO                         IMPT 00000000   4894 
_SET1_KATTCH_EAG                          IMPT 00000000   4917 
_SET1_KATTCH_SAG                          IMPT 00000000   4916 
_SET1_KATTCH_SPD                          IMPT 00000000   4562 
_SET1_KJEND_DIG1                          IMPT 00000000   3763 
_SET1_KJEND_DIG2                          IMPT 00000000   4898 
_SET1_KJEND_STEP1                         IMPT 00000000   3762 
_SET1_KJSTR_DIG1                          IMPT 00000000   3761 
_SET1_KJSTR_DIG2                          IMPT 00000000   4897 
_SET1_KJSTR_STEP1                         IMPT 00000000   3760 
_SET1_LSAABN_AGL1                         IMPT 00000000   3749 
_SET1_LSAABN_AGL2                         IMPT 00000000   3750 
_SET1_MAX_KJYU                            IMPT 00000000   4205 
_SET1_MISCAM_OFR                          IMPT 00000000   5064 
_SET1_MISCAM_ONR                          IMPT 00000000   5063 
_SET1_MOTMAX_FREQ                         IMPT 00000000   3130 
_SET1_MOTREP_CNT                          IMPT 00000000   5054 33066 
_SET1_MOTREP_SPD                          IMPT 00000000   5053 33119 
_SET1_MOTREP_STGE                         IMPT 00000000   5052 33061 
_SET1_MOTREP_STGS                         IMPT 00000000   5051 12544 33130 
_SET1_MOTREP_USEFUL                       IMPT 00000000   5050 33023 
_SET1_MOTRPM_MAXM                         IMPT 00000000   3120 
_SET1_MOT_INF                             IMPT 00000000   5447 24241 36612 37138 
_SET1_MRTION_SEL1                         IMPT 00000000   3213 
_SET1_MTSTEP_MAXM                         IMPT 00000000   3214 
_SET1_NEG_OFS_LNG                         IMPT 00000000   3191 
_SET1_OBJARA_INPX                         IMPT 00000000   3162 
_SET1_OBJARA_INPXPLS                      IMPT 00000000   3166  9878 15197 15237 20402 20487 
_SET1_OBJARA_INPXPSX                      IMPT 00000000   3168 20378 
_SET1_OBJECT_DIG_TOP                      IMPT 00000000   3239 
_SET1_OBJECT_PLS_TOP                      IMPT 00000000   3224 
_SET1_OBJECT_POS_TOP                      IMPT 00000000   3219 
_SET1_OBJECT_SPD_TOP                      IMPT 00000000   3227 
_SET1_OBJECT_TIM_TOP                      IMPT 00000000   3231 
_SET1_OBJ_CAM_DIG_TOP                     IMPT 00000000   3273 
_SET1_OVERLIDE_COF                        IMPT 00000000   3884 29506 29511 
_SET1_PLSAHI_PLS                          IMPT 00000000   3800 15870 
_SET1_PLSALO_PLS                          IMPT 00000000   3799 15864 
_SET1_RCAMON_POS_TOP                      IMPT 00000000   3275 
_SET1_RCAMON_TIM_TOP                      IMPT 00000000   3276 
_SET1_REVDAT_SPD1                         IMPT 00000000   3147 
_SET1_REVDAT_SPD2                         IMPT 00000000   3150 
_SET1_REVDAT_SPD3                         IMPT 00000000   3151 
_SET1_RNADIR_SEL1                         IMPT 00000000   3115 
_SET1_RNAORG_POS1                         IMPT 00000000   3131 
_SET1_RNAPOS_KP01                         IMPT 00000000   3157 22586 
_SET1_RNAPOS_MAXP                         IMPT 00000000   3132 34348 
_SET1_RNAPOS_MINP                         IMPT 00000000   3133 34355 
_SET1_RNAREV_ELNG                         IMPT 00000000   3183 
_SET1_RNASTP_ELNG                         IMPT 00000000   3181 
_SET1_ROTCAM_OFR                          IMPT 00000000   5060 
_SET1_ROTCAM_ONR                          IMPT 00000000   5059 
_SET1_RPARAM_TOP1                         IMPT 00000000   3109 
_SET1_SSCURV_TIM1                         IMPT 00000000   3159 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   705

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_STDINC_SPD1                         IMPT 00000000   3146 
_SET1_TEPCTL_SPD1                         IMPT 00000000   3807 
_SET1_TEPLAT_DAT1                         IMPT 00000000   3153 
_SET1_TEPLAT_DAT2                         IMPT 00000000   3154 
_SET1_UPAREA_DIG0                         IMPT 00000000   3238 
_SET1_UPAREA_DIG1                         IMPT 00000000   3174  9831 16102 
_SET1_UPAREA_INPX                         IMPT 00000000   3160 
_SET1_UPAREA_INPXPLS                      IMPT 00000000   3164 
_SET1_UPAREA_JUDG                         IMPT 00000000   3134 
_SET1_UPAREA_PLS0                         IMPT 00000000   3222 
_SET1_UPAREA_PLS1                         IMPT 00000000   3223  8497  8958 
_SET1_UPAREA_POS0                         IMPT 00000000   3218 
_SET1_UPAREA_POS1                         IMPT 00000000   3054 
_SET1_UPAREA_SPD0                         IMPT 00000000   3226 
_SET1_UPAREA_SPD1                         IMPT 00000000   3145  7561 
_SET1_UPAREA_TIM0                         IMPT 00000000   3230 
_SET1_UPCLEEP_SPD                         IMPT 00000000   3148  7581 
_SET1_VIB_KJYU_TTL                        IMPT 00000000   4204 
_SET2_INTLIM_AGL                          IMPT 00000000   4985 
_SET2_INTLIM_PLS                          IMPT 00000000   4987 
_SET360_UPAREA_DIG1                       IMPT 00000000   4060 
_SET360_UPAREA_PLS1                       IMPT 00000000   4061 
_SETC_KJEND_DIG1                          IMPT 00000000   4143 
_SETC_KJEND_DIG2                          IMPT 00000000   4905 
_SETC_KJSTR_DIG1                          IMPT 00000000   4142 
_SETC_KJSTR_DIG2                          IMPT 00000000   4904 
_SETD_DEGSPD_MAX                          IMPT 00000000   3311 
_SETD_LINK_MAX_SPD_PLS                    IMPT 00000000   4253 21511 
_SETD_MOTRPM_MAXM                         IMPT 00000000   4254 
_SETXY_LINK_UP_POS_DN                     IMPT 00000000   4124 
_SETXY_LINK_UP_POS_UP                     IMPT 00000000   4123 
_SETXY_UPAREA_DIG                         IMPT 00000000   4119 
_SETXY_UPAREA_PLS                         IMPT 00000000   4118 
_SETX_ACCERR_DLY1                         IMPT 00000000   4461 
_SETX_ACCERR_ERR3DAT                      IMPT 00000000   4456 
_SETX_ACCERR_SEL                          IMPT 00000000   4466 
_SETX_BANK_USELFUL                        IMPT 00000000   3673 
_SETX_BREAK_DIG2                          IMPT 00000000   4189 
_SETX_BREAK_TIM2                          IMPT 00000000   4190 
_SETX_DAIPOS_MAXP                         IMPT 00000000   3140 
_SETX_DAIPOS_MINP                         IMPT 00000000   3141 
_SETX_DNAREA_JG_LNK                       IMPT 00000000   3136 16114 
_SETX_DNAREA_JG_PLS                       IMPT 00000000   3137  8528 
_SETX_FULCLS_AREA_DIG                     IMPT 00000000   3079 
_SETX_FULCLS_AREA_PLS                     IMPT 00000000   3080 23116 
_SETX_FULCLS_MATEHD_SW                    IMPT 00000000   4862 
_SETX_HOLD_CMP1_DEG                       IMPT 00000000   4473 
_SETX_INCPLS_HOSM                         IMPT 00000000   3119 
_SETX_KJEND_DIG1                          IMPT 00000000   4138 
_SETX_KJEND_DIG2                          IMPT 00000000   4901 
_SETX_KJSTR_DIG1                          IMPT 00000000   4137 
_SETX_KJSTR_DIG2                          IMPT 00000000   4900 
_SETX_KJYUCLS_OBJ                         IMPT 00000000   4864 
_SETX_KJYU_INCPOS_KP01                    IMPT 00000000   5157 22231 22285 22562 22588 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   706

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SETX_LINK_UP_POS_DN                      IMPT 00000000   2717 
_SETX_LINK_UP_POS_UP                      IMPT 00000000   2716 
_SETX_MAX_ACC_LATE                        IMPT 00000000   4450 
_SETX_MOTREP_DIR                          IMPT 00000000   5068 
_SETX_OUTPLS_HOSA                         IMPT 00000000   3127 
_SETX_OUTPLS_HOSB                         IMPT 00000000   3128 
_SETX_OVERH_AMP                           IMPT 00000000   4692 
_SETX_OVERH_LNGTH                         IMPT 00000000   4691 
_SETX_POS_CTL_MATH                        IMPT 00000000   2750  7633  7730 10060 13839 20384 32451 32679 32751 32835 35382 36098 
                                                         37130 
_SETX_POS_MOD_FLG1                        IMPT 00000000   2749 
_SETX_POS_SDAT1_CNTSTEP                   IMPT 00000000   2741 
_SETX_POS_SDAT1_INF1                      IMPT 00000000   2742 38756 
_SETX_POS_SDAT1_OFSPOS                    IMPT 00000000   2738 
_SETX_POS_SDAT1_SPD                       IMPT 00000000   2739 
_SETX_POS_SDAT1_TIM                       IMPT 00000000   2740 
_SETX_POS_SDAT2_INF1                      IMPT 00000000   2748 
_SETX_POS_SDAT2_OFSPOS                    IMPT 00000000   2744 
_SETX_POS_STEP_MAX                        IMPT 00000000   2751 38758 38998 
_SETX_RNA_ACC_BEFTIM                      IMPT 00000000   4506 
_SETX_RNA_ACC_CHKPOS                      IMPT 00000000   4507 
_SETX_SDAT1_INTLIMOFS                     IMPT 00000000   4988 
_SETX_SDAT2_INTLIMOFS                     IMPT 00000000   4989 
_SETX_UPAREA_DIG                          IMPT 00000000   3052 
_SETX_UPAREA_PLS                          IMPT 00000000   3050  8507  9361  9588 
_SETX_UPAREA_RNA                          IMPT 00000000   3051 
_SETX_UPDN_CHK_DN_DIG                     IMPT 00000000   3067 16097 16116 
_SETX_UPDN_CHK_DN_PLS                     IMPT 00000000   3069  8649  8985  9406 
_SETX_UPDN_CHK_UP_DIG                     IMPT 00000000   3066 
_SETX_UPDN_CHK_UP_PLS                     IMPT 00000000   3068 
_SETX_UPERR_ERRCMPDAT                     IMPT 00000000   4472 
_SETY_INCPLS_HOSM0001                     IMPT 00000000   3125 
_SETY_INCPLS_HOSM001                      IMPT 00000000   3124 
_SETY_INCPLS_HOSM01X                      IMPT 00000000   3123 
_SETY_INCPLS_HOSM1XX                      IMPT 00000000   3122 
_SETY_KJEND_DIG1                          IMPT 00000000   4140 
_SETY_KJEND_DIG2                          IMPT 00000000   4903 
_SETY_KJSTR_DIG1                          IMPT 00000000   4139 
_SETY_KJSTR_DIG2                          IMPT 00000000   4902 
_SETY_SDAT1_INTLIMOFS                     IMPT 00000000   4991 
_SETY_SDAT2_INTLIMOFS                     IMPT 00000000   4992 
_SET_ACC_OVRLIDE                          IMPT 00000000   3895 29464 29567 29617 29643 29778 33724 
_SET_CLSINC_SPDBAS_PLS                    IMPT 00000000   3863 24535 24583 24654 30951 31653 
_SET_CLS_SPDBAS_PLS                       IMPT 00000000   3861 31565 31623 
_SET_DN_ACC_LATE                          IMPT 00000000   3912 31047 37326 
_SET_GMN_ACC_OVRLIDE                      IMPT 00000000   3887 29440 29522 29565 
_SET_GMN_SPD_OVRLIDE                      IMPT 00000000   3886 29437 29519 29560 
_SET_NZ_TIM_DAT                           IMPT 00000000   6344 12039 12223 27995 
_SET_OVER_RIDE                   P             0000613C  10245 29544*29724 
_SET_PV_ABS_TO_OBJ               P        EXPT 00006338   6454 29948 30062*
_SET_SEQ_ACC_OVRLIDE                      IMPT 00000000   3875 29339 29416 29615 
_SET_SEQ_SPD_OVRLIDE                      IMPT 00000000   3874 29337 29413 29610 
_SET_SPDBAS_PLS                           IMPT 00000000   3862 31540 
_SET_SPD_OVRLIDE                          IMPT 00000000   3894 29461 29562 29612 29640 29811 33721 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   707

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET_UP_ACC_LATE                          IMPT 00000000   3911 31045 37321 
_SET_UP_TIM                               IMPT 00000000   2675 
_SFTYCHK_CLANK_DEG                        IMPT 00000000   5223 
_SFTYCHK_LINK_PLS                         IMPT 00000000   5224 
_SFTYCHK_RNA_POS                          IMPT 00000000   3391 
_SFTY_CTL_IN_DAT                          IMPT 00000000   2569 
_SFTY_IN_DAT                              IMPT 00000000   2568 
_SFTY_LOCK_DLYTM                          IMPT 00000000   3994 
_SGL_CMPERR_CNTMAX                        EQU  00000014   6232*
_SGL_CMP_ERR_DT_CLR              P        EXPT 000058D4   6745 26923 27623 27632*33490 
_SH2_4B                                   EQU  00000004  27430*
_SH2_8B                                   EQU  00000008  27432*
_SH2_ADD_PLS                              IMPT 00000000   5971 
_SH2_BAS_FRQ_SV                           IMPT 00000000   5931 
_SH2_CNT_REST_HF                          IMPT 00000000   5942 
_SH2_CNT_REST_PLS                         IMPT 00000000   5926 
_SH2_DNM_CALC_INFO                        IMPT 00000000  38452 38621 38713 
_SH2_GPOINT_LNG                           IMPT 00000000   6413 
_SH2_GPOINT_LNGDSP                        IMPT 00000000   5979 
_SH2_GPOINT_SPDDSP                        IMPT 00000000   5980 
_SH2_HD_CNT_STOP                          IMPT 00000000   6387 12679 
_SH2_HD_CTRL_BUSY                         IMPT 00000000   6379 
_SH2_HD_CTRL_REDY                         IMPT 00000000   6377 
_SH2_HD_NEAR_ZERO                         IMPT 00000000   6385 
_SH2_HD_POS_START                         IMPT 00000000   6381 
_SH2_HD_SFTY_AUTO                         IMPT 00000000   6383 
_SH2_HD_STEP_END                          IMPT 00000000   6389 
_SH2_LNGH_ADD_SR                          IMPT 00000000   5927 
_SH2_LOT_CNT_A                            IMPT 00000000   5938 
_SH2_LOT_STEP_A                           IMPT 00000000   5939 
_SH2_NOW_FRQ_PV                           IMPT 00000000   5933 
_SH2_NOW_STEP                             IMPT 00000000   5977 
_SH2_PLSI_ACCS                            IMPT 00000000   5935 
_SH2_PLSI_LATE                            IMPT 00000000   5936 
_SH2_REST_PLS_RL                          IMPT 00000000   5929 
_SH2_REST_PLS_SR                          IMPT 00000000   5928 
_SH2_REST_RL_HF                           IMPT 00000000   5941 
_SH2_REST_SR_HF                           IMPT 00000000   5940 
_SH2_STEP1_FRQ                            IMPT 00000000   5959 
_SH2_STEP1_PV_PLS                         IMPT 00000000   5954 
_SH2_STEP1_REST_P                         IMPT 00000000   5949 
_SH2_STEP1_SV_PLS                         IMPT 00000000   5944 
_SH2_STEP1_TIM                            IMPT 00000000   5964 
_SH2_STEP2_FRQ                            IMPT 00000000   5960 
_SH2_STEP2_PV_PLS                         IMPT 00000000   5955 
_SH2_STEP2_REST_P                         IMPT 00000000   5950 
_SH2_STEP2_SV_PLS                         IMPT 00000000   5945 
_SH2_STEP2_TIM                            IMPT 00000000   5965 
_SH2_STEP3_FRQ                            IMPT 00000000   5961 
_SH2_STEP3_PV_PLS                         IMPT 00000000   5956 
_SH2_STEP3_REST_P                         IMPT 00000000   5951 
_SH2_STEP3_SV_PLS                         IMPT 00000000   5946 
_SH2_STEP3_TIM                            IMPT 00000000   5966 
_SH2_STEP4_FRQ                            IMPT 00000000   5962 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   708

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH2_STEP4_PV_PLS                         IMPT 00000000   5957 
_SH2_STEP4_REST_P                         IMPT 00000000   5952 
_SH2_STEP4_SV_PLS                         IMPT 00000000   5947 
_SH2_STEP4_TIM                            IMPT 00000000   5967 
_SH2_STEP5_FRQ                            IMPT 00000000   5963 
_SH2_STEP5_PV_PLS                         IMPT 00000000   5958 
_SH2_STEP5_REST_P                         IMPT 00000000   5953 
_SH2_STEP5_SV_PLS                         IMPT 00000000   5948 
_SH2_STEP5_TIM                            IMPT 00000000   5968 
_SH2_STEP_FRQ                             IMPT 00000000   5975 
_SH2_STEP_PV_PLS                          IMPT 00000000   5973 
_SH2_STEP_REST_P                          IMPT 00000000   5974 
_SH2_STEP_SV_PLS                          IMPT 00000000   5972 
_SH2_STEP_TIM                             IMPT 00000000   5976 
_SH2_TOP_FRQ_SV                           IMPT 00000000   5932 
_SH2_TOTAL_PLS                            IMPT 00000000   5970 
_SH4_4B                                   EQU  00000000  27429*
_SH4_8B                                   EQU  00000000  27431*
_SH4_ADD_PLS                              IMPT 00000000   5914 
_SH4_BAS_FRQ_SV                           IMPT 00000000   5876 
_SH4_CNT_REST_HF                          IMPT 00000000   5886 26849 26915 
_SH4_CNT_REST_PLS                         IMPT 00000000   5872 26846 
_SH4_DNM_CALC_INFO                        IMPT 00000000  38410 38451 38529 38548 38580 38620 38687 38711 
_SH4_GPOINT_LNG                           IMPT 00000000   6412 
_SH4_GPOINT_LNGDSP                        IMPT 00000000   5922 
_SH4_GPOINT_SPDDSP                        IMPT 00000000   5923 
_SH4_HD_CNT_STOP                          IMPT 00000000   6386 
_SH4_HD_CTRL_BUSY                         IMPT 00000000   6378 
_SH4_HD_CTRL_REDY                         IMPT 00000000   6376 
_SH4_HD_NEAR_ZERO                         IMPT 00000000   6384 
_SH4_HD_POS_START                         IMPT 00000000   6380 
_SH4_HD_SFTY_AUTO                         IMPT 00000000   6382 
_SH4_HD_STEP_END                          IMPT 00000000   6388 
_SH4_LNGH_ADD_SR                          IMPT 00000000   5873 19202 26667 
_SH4_LOT_CNT_A                            IMPT 00000000   5882 19211 26591 26654 
_SH4_LOT_STEP_A                           IMPT 00000000   5883 19831 26594 26657 
_SH4_NOW_FRQ_PV                           IMPT 00000000   5878 
_SH4_NOW_STEP                             IMPT 00000000   5920 25942 
_SH4_PLSI_ACCS                            IMPT 00000000   5880 
_SH4_PLSI_LATE                            IMPT 00000000   5881 
_SH4_REST_PLS_RL                          IMPT 00000000   5875 19745 26673 
_SH4_REST_PLS_SR                          IMPT 00000000   5874 19292 26670 
_SH4_REST_RL_HF                           IMPT 00000000   5885 10875 26600 26663 33420 
_SH4_REST_SR_HF                           IMPT 00000000   5884 19438 26597 26660 
_SH4_STEP1_FRQ                            IMPT 00000000   5903 26126 26747 
_SH4_STEP1_PV_PLS                         IMPT 00000000   5898 26116 26732 
_SH4_STEP1_REST_P                         IMPT 00000000   5893 26121 26717 
_SH4_STEP1_SV_PLS                         IMPT 00000000   5888 26111 26702 
_SH4_STEP1_TIM                            IMPT 00000000   5908 26131 26762 
_SH4_STEP2_FRQ                            IMPT 00000000   5904 26277 26750 
_SH4_STEP2_PV_PLS                         IMPT 00000000   5899 26267 26735 
_SH4_STEP2_REST_P                         IMPT 00000000   5894 26272 26720 
_SH4_STEP2_SV_PLS                         IMPT 00000000   5889 26262 26705 
_SH4_STEP2_TIM                            IMPT 00000000   5909 26282 26765 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   709

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH4_STEP3_FRQ                            IMPT 00000000   5905 26363 26753 
_SH4_STEP3_PV_PLS                         IMPT 00000000   5900 26353 26738 
_SH4_STEP3_REST_P                         IMPT 00000000   5895 26358 26723 
_SH4_STEP3_SV_PLS                         IMPT 00000000   5890 26348 26708 
_SH4_STEP3_TIM                            IMPT 00000000   5910 26368 26768 
_SH4_STEP4_FRQ                            IMPT 00000000   5906 26039 26756 
_SH4_STEP4_PV_PLS                         IMPT 00000000   5901 26029 26741 
_SH4_STEP4_REST_P                         IMPT 00000000   5896 26034 26726 
_SH4_STEP4_SV_PLS                         IMPT 00000000   5891 26024 26711 
_SH4_STEP4_TIM                            IMPT 00000000   5911 26044 26771 
_SH4_STEP5_FRQ                            IMPT 00000000   5907 26759 
_SH4_STEP5_PV_PLS                         IMPT 00000000   5902 26744 
_SH4_STEP5_REST_P                         IMPT 00000000   5897 26729 
_SH4_STEP5_SV_PLS                         IMPT 00000000   5892 26714 
_SH4_STEP5_TIM                            IMPT 00000000   5912 26774 
_SH4_STEP_FRQ                             IMPT 00000000   5918 25932 
_SH4_STEP_PV_PLS                          IMPT 00000000   5916 25915 
_SH4_STEP_REST_P                          IMPT 00000000   5917 25920 
_SH4_STEP_SV_PLS                          IMPT 00000000   5915 25910 
_SH4_STEP_TIM                             IMPT 00000000   5919 25937 
_SH4_TOP_FRQ_SV                           IMPT 00000000   5877 
_SH4_TOTAL_PLS                            IMPT 00000000   5913 25925 
_SHOT_MOST_DOWN_POS                       IMPT 00000000   4023 20072 
_SHOT_MOST_DOWN_POSWK                     IMPT 00000000   4024 20070 20675 20740 
_SH_2B                                    EQU  00000000  31772*31892 31907 31914 
_SH_4B                                    EQU  00000000  31773*31795 31801 31806 31811 31816 31839 31854 31862 
_SH_8B                                    EQU  00000000  31774*31823 31831 31846 
_SH_CNTSTOP_FLG                           IMPT 00000000  31868 31907 
_SH_OUTPLS_DELT                           IMPT 00000000  31910 31914 
_SH_POSCTL_ACC                            IMPT 00000000  31757 31806 
_SH_POSCTL_CAL_REST                       IMPT 00000000  31763 31839 
_SH_POSCTL_HENSA                          IMPT 00000000  31764 31854 
_SH_POSCTL_LSIFREQ                        IMPT 00000000  31765 31862 
_SH_POSCTL_OFS                            IMPT 00000000  31758 31811 
_SH_POSCTL_PV_ABSPLS                      IMPT 00000000  31761 31846 
_SH_POSCTL_REST_PLS                       IMPT 00000000  31762 31816 
_SH_POSCTL_RL_ABSPLS                      IMPT 00000000  30017 31760 31831 31972 31973 
_SH_POSCTL_RL_SPD                         IMPT 00000000  31756 31801 
_SH_POSCTL_SV_ABSPLS                      IMPT 00000000  31759 31823 
_SH_POSCTL_SV_SPD                         IMPT 00000000  31755 31795 
_SH_SQ200_IN                              IMPT 00000000  31867 31892 
_SINKAKU_INF                              IMPT 00000000   3292 
_SINKAKU_ROTCAM_ENBSEL                    IMPT 00000000   3294 
_SINKAKU_ROTCAM_ENBSEL_WK                 IMPT 00000000   3293 
_SINKAKU_USESEL_OF_INF                    IMPT 00000000   3296 
_SINKAKU_USESEL_ON_INF                    IMPT 00000000   3295 
_SINWK_CALC_SCAN                          IMPT 00000000   3304 
_SIN_RCAMOF_SW1                           IMPT 00000000   3320 
_SIN_RCAMON_SW1                           IMPT 00000000   3319 
_SIN_RCAM_OF_DIG                          IMPT 00000000   3299 
_SIN_RCAM_OF_ERR1                         IMPT 00000000   3323 
_SIN_RCAM_ON_DIG                          IMPT 00000000   3298 
_SIN_RCAM_ON_ERR1                         IMPT 00000000   3322 
_SLIDALM_CHK_FLG                          IMPT 00000000   4381 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   710

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SLIDALM_CHK_POS                          IMPT 00000000   4383 
_SLIDALM_CHK_TIM                          IMPT 00000000   4382 
_SLIDALM_POS_MINAS                        IMPT 00000000   4385 
_SLIDALM_POS_PULAS                        IMPT 00000000   4384 
_SPD_CTL_EMG_STOP                P             000068BC  18313 31427*
_SPD_CTL_SLOW_STOP               P             000068D0  18365 31455*
_SPD_CTL_START                   P             00006888  18729 31378*
_SPD_PER_MAX                              EQU  00002710   2006*21513 21518 
_SPD_STEP_CHG_FWD                P             00001E98  11944 13632*21773 
_SPD_UPLIMT_CALC                 P             000063AC  30233*37360 
_SPLCHK_FLG                               IMPT 00000000   5038 
_SPLCHK_TIM                               IMPT 00000000   5039 
_SPL_ERR_INIT_WAIT_TIM                    IMPT 00000000   5118 
_SQ_CBWK_TOP                              IMPT 00000000   6374  6800  7164 11053 11077 11116 11153 11160 12353 12370 13004 14398 
                                                         22903 24257 24280 24335 24370 27874 27877 29285 29318 33530 33596 34190 
                                                         34197 34940 34947 35685 36419 38415 
_SQ_OVERH_CMP                             IMPT 00000000   4694 
_SQ_RNA_ALMRST_OLD                        IMPT 00000000   4043 
_START_ACK_COD                            EQU  00004321    213*
_START_CNT_BANK2_MAK_CHK         P             00005C60   7110  7141 28416*
_START_FLG_AFTER_EMG                      IMPT 00000000   3373 10452 
_START_REQ_COD                            EQU  00009876    212*
_STEP_CMPERR_TIMX1                        IMPT 00000000   5495 
_STOPCHK_INC_POS                          IMPT 00000000   3257 
_STOPCHK_RNA_POS                          IMPT 00000000   3256 
_STOPPING_STOP_POS                        IMPT 00000000   2653 
_STOPPING_STOP_TIM                        IMPT 00000000   2655 
_STOPPING_TIM_FLG                         IMPT 00000000   2654 
_STOPPING_TIM_PV1                         IMPT 00000000   2656 
_STOPPING_TIM_PV2                         IMPT 00000000   2657 
_STOPPING_TIM_STOP_INI                    IMPT 00000000   6334 
_STOPPING_VLVOFF_POS                      IMPT 00000000   2652 
_STOP_360ENC_DIG                          IMPT 00000000   4076 
_STOP_ERR_LATCH                           IMPT 00000000   3494 
_STOP_LATCH                               IMPT 00000000   2635  6832 11950 12666 27736 28685 31902 33567 
_STOP_LATCH_B                             IMPT 00000000   2636  6834 12471 27728 28625 28672 28727 31896 33569 
_STOP_LATCH_CHK_TIM                       IMPT 00000000   2886 
_STOP_LATCH_ENCPOS                        IMPT 00000000   2884 
_STOP_LATCH_OUTPLS                        IMPT 00000000   2883 
_STOP_LATCH_RNAPOS                        IMPT 00000000   2885 
_STOP_LTH_OUT                             IMPT 00000000   6332 12477 28842 
_STR_ENC3600_DIG                          IMPT 00000000   2803  7820 33656 
_STR_ENC3600_DIG_LNG                      IMPT 00000000   2804 
_SVCHK_SCAN                               IMPT 00000000   4713 
_SVPX1_FED_DEG                            IMPT 00000000   5317 
_SVPX1_FED_POS                            IMPT 00000000   5318 
_SVPX1_MOT_INF                            IMPT 00000000   5316 
_SVPX1_OBJECT_DIG_TOP                     IMPT 00000000   5312 
_SVPX1_OBJECT_POS_TOP                     IMPT 00000000   5311 
_SVPX1_OBJECT_PRS_TOP                     IMPT 00000000   5315 
_SVPX1_OBJECT_SPD_TOP                     IMPT 00000000   5313 38477 38770 
_SVPX1_OBJECT_TIM_TOP                     IMPT 00000000   5314 
_SVPX_UPAREA_DIG1                         IMPT 00000000   3242 
_SVP_ATSLID_BAKLNG                        IMPT 00000000  33831 34421 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   711

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SVP_ATSLID_COEF1                         IMPT 00000000  33832 34428 34857 
_SVP_ATSLID_DNOBJ1                        IMPT 00000000  33829 34407 
_SVP_ATSLID_OBJ1                          IMPT 00000000  33828 33845 34436 
_SVP_ATSLID_UPOBJ1                        IMPT 00000000  33830 34414 
_SVP_DNAREA_JUDG                          IMPT 00000000   8243  8272 
_SVP_DND_STOPDIG1                         IMPT 00000000   8242  8269  8382  8428 
_SVP_KAJOBJ_HAB                           IMPT 00000000  23735 23950 24049 
_SVP_MACINE_SEL1                          IMPT 00000000   6268 18624 
_SVP_ORGLDN_DEG                           IMPT 00000000  23504 
_SVP_ORGLUP_DEG                           IMPT 00000000  23503 
_SVP_ORGRDN_DEG                           IMPT 00000000  23502 
_SVP_ORGRUP_DEG                           IMPT 00000000  23501 
_SVP_OVERLIDE_COF                         IMPT 00000000  29488 29504 
_SVP_SLID_POS1                            IMPT 00000000  34833 34876 
_SVP_SLID_POS2                            IMPT 00000000  34834 34897 
_SVP_SLID_POS3                            IMPT 00000000  34835 34918 
_SVP_SLPOS_DIR                            IMPT 00000000  33833 33892 
_SVP_SL_TENPOS                            IMPT 00000000  33834 34385 34842 
_SVP_UPAREA_SPD0                          IMPT 00000000   6461 38468 38780 
_SVX_DNM_MAXSPM                           IMPT 00000000   4262 
_SVX_OBJ_SPD_OLDTOP                       IMPT 00000000  38264 38478 
_SVX_OVER_ERR_DIG                         IMPT 00000000   3548 
_SVX_OVER_JGSTR_DIG                       IMPT 00000000   3549 
_SVX_UPAREA_SPD0OLD                       IMPT 00000000  38265 38469 
_SV_CHG_FLG1                              IMPT 00000000   3335 
_SV_CHG_FLG2                              IMPT 00000000   3336 
_SV_CONST_SUB_PV                          IMPT 00000000   3963 27584 
_SV_DAT_ERR1                              IMPT 00000000   3337 
_SV_OBJ360                                IMPT 00000000   3520 22636 
_SV_POS_CTL_STEP                          IMPT 00000000   2836  7078 10382 10392 12548 12613 12764 13539 13738 17448 27904 28475 
                                                         28550 33274 
_SV_REAL_PLS                              IMPT 00000000   3964 
_SV_REAL_SUB_PV                           IMPT 00000000   3965 27608 
_SW_DEV_MASK_FLG                          IMPT 00000000   2644 
_SYNC2_ERR_HABPLS1                        EQU  00001F40  32082*32111 
_SYNC2_ERR_HOSHAB1                        EQU  0000012C  32084*32135 
_SYNC2_ERR_HOSHAB2                        EQU  00000190  32085*32150 
_SYNC2_ERR_HOSHAB3                        EQU  000001F4  32086*32164 
_SYNC2_ERR_HOSHAB4                        EQU  000003E8  32087*32179 
_SYNC2_ERR_HOSHAB5                        EQU  000005DC  32088*32193 
_SYNC2_ERR_HOSHAB6                        EQU  000007D0  32089*32207 
_SYNC2_ERR_HOSHAB7                        EQU  000009C4  32090*32221 
_SYNC2_HOS_SPD1                           EQU  00000001  32093*32154 
_SYNC2_HOS_SPD2                           EQU  00000004  32094*32168 
_SYNC2_HOS_SPD3                           EQU  00000008  32095*32183 
_SYNC2_HOS_SPD4                           EQU  00000020  32096*32197 
_SYNC2_HOS_SPD5                           EQU  00000040  32097*32211 
_SYNC2_HOS_SPD6                           EQU  00000080  32098*32225 
_SYNC2_HOS_SPD7                           EQU  00000100  32099*32236 
_SYNC2_HOS_SPD8                           EQU  00000200  32100*32117 
_SYNC_ERR_HABPLS1                         EQU  00001770   6236*
_SYNC_ERR_HOSHAB                          EQU  000007D0   6237*
_SYNC_ERR_HOSHAB_M                        EQU  00000064   6238*
_SYNC_GEN_HOS_ADD                         EQU  00000001   6242*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   712

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SYNC_GEN_HOS_ERR                         EQU  00000064   6240*
_SYNC_GEN_HOS_HAB                         EQU  00000001   6241*
_SYS2_DT_LOAD                             IMPT 00000000  38303 38558 
_SYS_100STEP_DNM_SEL                      IMPT 00000000   5309 
_SYS_100STEP_USE                          IMPT 00000000   5308 
_SYS_BSAME_TIM                            EQU  000001F4   2017*
_SYS_SETUP_TIM                            EQU  000007D0   2018*
_SYS_STEP_MAX                             IMPT 00000000   5306 
_SYS_STOPPING_TIM                         EQU  00000032   2019*
_TABLE_ERR_FLG                            IMPT 00000000   2501 
_TBLACC_ACC_ADDCHK               P             000093AE  40954 41038 41827*
_TBLACC_STEP_SP_MAKE             P             0000903C  40419 40886*
_TBLACC_STOP_SP_MAKE             P             00008FF0  40414 40791*
_TBL_ANS_ACCTIM                           IMPT 00000000   4258 
_TBL_ANS_ACC_SEL                          IMPT 00000000   4260 
_TBL_ANS_MAXSPM                           IMPT 00000000   4259 
_TBL_USE_POS0                             IMPT 00000000   4257 
_TECH2_KJYU_DIG                           IMPT 00000000   4525 
_TECH2_KJYU_LNG                           IMPT 00000000   4523 
_TECH2_KJYU_LT1KN                         IMPT 00000000   4516 
_TECH2_KJYU_LT1PLS                        IMPT 00000000   4517 
_TECH2_KJYU_LT1PLS_OFS                    IMPT 00000000   4518 
_TECH2_KJYU_LT2KN                         IMPT 00000000   4519 
_TECH2_KJYU_LT2PLS                        IMPT 00000000   4520 
_TECH2_KJYU_LT2PLS_OFS                    IMPT 00000000   4521 
_TECH2_KJYU_PLS                           IMPT 00000000   4524 
_TECH2_KJYU_PLSX                          IMPT 00000000   4522 
_TECH2_KN_FLG                             IMPT 00000000   4526 
_TECH_USED_F                              IMPT 00000000   4563 
_TECH_WK_DIG1                             IMPT 00000000   4556 
_TECH_WK_DIG2                             IMPT 00000000   4557 
_TECH_WK_DIG3                             IMPT 00000000   4558 
_TECH_WK_DIG4                             IMPT 00000000   4559 
_TECH_WK_PLS1                             IMPT 00000000   4555 
_TEPA_ADD_LSI                    P             00002BDC  15515 16419*
_TEPA_PLSCNT_CHK                 P        EXPT 00002B94  15360 16351*
_TEPA_PLSCNT_CLR                 P        EXPT 00002B68  15359 16308*
_TEPA_PLS_ZERO_TIM                        IMPT 00000000   4419 16216 16376 16391 
_TEPA_START_CHK                  P        EXPT 00002B1C  15358 16211*
_TEP_1STEP_DATA_MAK1             P             000029EC  10602 15717 15925*16544 
_TEP_ADDCHK_SVPLS                         IMPT 00000000   3821 16526 16831 
_TEP_ADD_PLS_MAK                 P             0000297C  15396 15629 15839*
_TEP_CHG_SPD1                             IMPT 00000000   3825 16616 16640 16710 16736 16759 
_TEP_CHG_SPD2                             IMPT 00000000   3826 16618 16642 16738 16784 
_TEP_CNTSMP_TIM                           IMPT 00000000   4792 15386 15642 16503 
_TEP_DND_SPD_PLS                          IMPT 00000000   4791 
_TEP_DNPOS_HIS                            EQU  00000064  16089*16118 
_TEP_DTMAK                       P        EXPT 00002DB8  16811 16818*
_TEP_FLG_CLR                     P        EXPT 00002AF6  15357 16168*
_TEP_FLG_START                   P             00002B08  16185*16252 
_TEP_INPLS_FLG                            IMPT 00000000   3816 15682 15806 15856 16042 16438 
_TEP_IN_ADD                               IMPT 00000000   3810 15845 15885 16228 16325 16368 
_TEP_MIN_SPD_FRQ                          IMPT 00000000   3823 16875 30975 
_TEP_MIN_SPD_PLS                          IMPT 00000000   3822 16702 16864 31593 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   713

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_TEP_MODE_DRV                             IMPT 00000000   3812  7608 10585 13819 16173 16190 30967 
_TEP_POS_ADD_CNT                          IMPT 00000000   3808 15439 15551 15801 15892 15945 15966 15976 16328 16514 16557 16671 
_TEP_REVPLS_LT_CLR               P             00002E48  15433 15488 15687 15813 16958*
_TEP_REVPLS_LT_FLG                        IMPT 00000000   4793 16430 16485 16963 
_TEP_SPD_CALC1                   P             00002CB4  15694 16605*
_TEP_SPD_CALC2                   P             00002CE0  16535 16635*
_TEP_SPD_CALC3                   P             00002D5C  16476 16730*
_TEP_SPD_CALC_COM                P             00002D0C  16612 16648 16666*
_TEP_SPD_SET                     P             00002D7C  15698 16754*
_TEP_SPD_SET_CHG                 P             00002D94  16480 16539 16776*
_TEP_START_INIT1                 P             0000294C  15580 15610 15747 15791*
_TEP_STEP_FLG                             IMPT 00000000   3813 15400 15450 15483 15562 15797 
_TEP_STEP_SVSMPTM                         IMPT 00000000   3820 16510 16645 16849 
_TEP_STEP_SVWTTM1                         IMPT 00000000   3819 15494 16609 16843 16846 
_TEP_STEP_WTTM                            IMPT 00000000   3814 15496 15531 15644 
_TIM_1MSEC                                EQU  0000000A   2003* 2017  2018  2019  2024 
_TIM_CNT010MS_DT                          EQU  0000000A   2342*
_TIM_CNT100MS_DT                          EQU  00000064   2343*
_TIM_SEC                                  EQU  00002710   2002*
_TMP_SCI_DEBUG                            IMPT 00000000   5374 
_TRD_CLR_CMD                              IMPT 00000000   5588 
_TRD_DP_MOV_CNT                           IMPT 00000000   5594 
_TRD_DP_MOV_FLG                           IMPT 00000000   5593 
_TRD_EVENT_COD                            IMPT 00000000   5583 
_TRD_EVENT_LATCH                          IMPT 00000000   5585 
_TRD_LATE_PV                              IMPT 00000000   5590 
_TRD_LATE_SV                              IMPT 00000000   5589 
_TRD_POINT_END                            IMPT 00000000   5587 
_TRD_POINT_EVENT                          IMPT 00000000   5586 
_TRD_SIG_SET                              IMPT 00000000  20008 20010 
_TRD_SMP_DAT1                             IMPT 00000000   5574 
_TRD_SMP_DAT2                             IMPT 00000000   5575 
_TRD_SMP_DAT3                             IMPT 00000000   5576 
_TRD_SMP_DAT4                             IMPT 00000000   5577 
_TRD_SMP_DAT5                             IMPT 00000000   5578 
_TRD_SMP_DAT6                             IMPT 00000000   5579 
_TRD_SMP_DAT7                             IMPT 00000000   5580 
_TRD_SMP_DAT8                             IMPT 00000000   5581 
_TRD_SMP_FLG                              IMPT 00000000   5591 
_TRD_SMP_POINT                            IMPT 00000000   5582 
_UP360_CHK_LIST                           IMPT 00000000   4058 
_UP360_JGDIG                              EQU  00000028   2049*
_UPDN_DIRJG_DIG                           EQU  00000708   2011* 9837 
_UPHOLD_SPDERR_OK_FLG                     IMPT 00000000   5268 
_UPLIMIT_START_F                          IMPT 00000000   4724 17260 30237 32566 
_UPLIMIT_SV_SPD                           IMPT 00000000   4723 30243 32546 
_UPMAK2_MOD_USE_SW                        IMPT 00000000   4684 
_UPMSK2_DRVSEL                            IMPT 00000000   4686 
_UPMSK2_MATH                              IMPT 00000000   4685 
_UPMSK2_MOD                               IMPT 00000000   4682 
_UPMSK2_MOD_IN_SW                         IMPT 00000000   4683 
_UPMSK2_MOD_IN_SWOLD                      IMPT 00000000   4687 
_UPPLS1_OBJMAK_COMMON            P             00000ADC   9284  9398* 9810 
_UP_ACCERR_START_INI                      IMPT 00000000   6420 10686 12935 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   714

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_UP_HOLD_DIG                              IMPT 00000000   2641 
_UP_HOLD_FLG                              IMPT 00000000   2642  7463 
_UP_HOLD_STEP                             IMPT 00000000   2638 
_UP_HOLD_STEP1                            IMPT 00000000   2639 
_UP_HOLD_STEP2                            IMPT 00000000   2640 
_USE_IN_TBL_MOV                  P        EXPT 00008750  38056 39057*
_VALV_OFF_DIG_CLANK                       IMPT 00000000   3496 
_VALV_ON_FLG                              IMPT 00000000   4070 
_VIB_DLY_TIM                              IMPT 00000000   4212 
_VIB_GET_SET_TIM                          IMPT 00000000   4209 
_VIB_PLS_OUT_OF                           IMPT 00000000   6357 17353 37749 42228 
_VIB_PLS_OUT_ON                           IMPT 00000000   6356 18737 
_VIB_PV_UP_TIM                            IMPT 00000000   4211 
_VIB_STEP_COM                             IMPT 00000000   4208 
_VIB_STEP_FLG                             IMPT 00000000   4207 
_VIB_USE_SET_TIM                          IMPT 00000000   4210 
_VON1_OF                                  IMPT 00000000   5645 
_VON1_ON                                  IMPT 00000000   5644 
_VON2_OF                                  IMPT 00000000   5647 
_VON2_ON                                  IMPT 00000000   5646 
_VON3_OF                                  IMPT 00000000   5649 
_VON3_ON                                  IMPT 00000000   5648 
_VUPCHECK_EQU                             EQU  11AB3739     98*
_W1CNT                                    EQU  00000008   2367* 6686  6845  7395 11964 12260 12460 12657 19904 20373 29550 32459 
                                                         32794 32843 35390 36106 
_W1DIC                                    EQU  00000020   2369*10446 10830 32794 
_W1DUP                                    EQU  00000040   2370* 6885 10446 10834 13814 14387 
_W1END                                    EQU  00000080   2371*
_W1INC                                    EQU  00000002   2365* 6686  6845 12657 12661 19904 29550 32529 32794 32843 35390 36106 
_W1LNC                                    EQU  00000400   2375*
_W1LNO                                    EQU  00000800   2376*
_W1OFF                                    EQU  00000001   2364*
_W1OPT                                    EQU  00000010   2368* 6686  6845  7395 19904 29550 32794 32843 35390 36106 
_W1REV                                    EQU  00004000   2383*
_W1RNC                                    EQU  00000100   2372*
_W1RNO                                    EQU  00000200   2373*
_W1RST                                    EQU  00008000   2384*
_W1SGL                                    EQU  00000004   2366* 6686  6845  7395  7459 19167 19904 24831 25030 25099 25231 25419 
                                                         29550 32794 32843 35390 36106 
_W1SNC                                    EQU  00001000   2381*
_W1SNO                                    EQU  00002000   2382*
_W2LS1                                    EQU  00000004   2386*
_W2LS2                                    EQU  00000008   2387*
_W2SUP                                    EQU  00000080   2391*
_W2WT1                                    EQU  00000010   2388*
_W2WT2                                    EQU  00000020   2389*
_W2WT3                                    EQU  00000040   2390*
_W4_PVP_KAJLIV_TTL                        IMPT 00000000   5122 
_W4_PV_CTL_KJYU_TTL_P                     IMPT 00000000   4853 23526 
_W4_PV_FLT_KJYU_TTL                       IMPT 00000000   4851 
_W4_PV_FLT_KJYU_TTL_P                     IMPT 00000000   4852 
_WAIT_TIM_CNT                    P             00001D48  13295*
_WFSYS_OPT_CNT_SEL                        IMPT 00000000   3527 11957 
_WKSQCB200                                EQU  00000000   2115*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   715

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WKSQCB201                                EQU  00000002   2116*
_WKSQCB202                                EQU  00000004   2117*
_WKSQCB203                                EQU  00000006   2118*
_WKSQCB204                                EQU  00000008   2119*
_WKSQCB205                                EQU  0000000A   2120*
_WKSQCB206                                EQU  0000000C   2121* 6800 11053 11077 12353 12370 13004 14398 33530 
_WKSQCB207                                EQU  0000000E   2122* 7164 33596 
_WKSQCB208                                EQU  00000010   2123*
_WKSQCB209                                EQU  00000012   2124*
_WKSQCB210                                EQU  00000014   2125*
_WKSQCB211                                EQU  00000016   2126*
_WKSQCB212                                EQU  00000018   2127*
_WKSQCB213                                EQU  0000001A   2128*
_WKSQCB214                                EQU  0000001C   2129*
_WKSQCB215                                EQU  0000001E   2130*
_WKSQCB216                                EQU  00000020   2131*
_WKSQCB217                                EQU  00000022   2132*
_WKSQCB218                                EQU  00000024   2133*
_WKSQCB219                                EQU  00000026   2134*
_WKSQCB220                                EQU  00000028   2135*
_WKSQCB221                                EQU  0000002A   2136*
_WKSQCB222                                EQU  0000002C   2137*
_WKSQCB223                                EQU  0000002E   2138*
_WKSQCB224                                EQU  00000030   2139*22903 24335 24370 
_WKSQCB225                                EQU  00000032   2140*
_WKSQCB226                                EQU  00000034   2141*
_WKSQCB227                                EQU  00000036   2142*24257 24280 
_WKSQCB228                                EQU  00000038   2143*
_WKSQCB229                                EQU  0000003A   2144*
_WKSQCB230                                EQU  0000003C   2145*29285 29318 
_WKSQCB231                                EQU  0000003E   2146*11116 
_WKSQCB232                                EQU  00000040   2147*11153 
_WKSQCB233                                EQU  00000042   2148*11160 
_WKSQCB234                                EQU  00000044   2149*
_WKSQCB235                                EQU  00000046   2150*
_WKSQCB236                                EQU  00000048   2151*
_WKSQCB237                                EQU  0000004A   2152*
_WKSQCB238                                EQU  0000004C   2153*
_WKSQCB239                                EQU  0000004E   2154*
_WKSQCB240                                EQU  00000050   2155*
_WKSQCB241                                EQU  00000052   2156*
_WKSQCB242                                EQU  00000054   2157*
_WKSQCB243                                EQU  00000056   2158*
_WKSQCB244                                EQU  00000058   2159*
_WKSQCB245                                EQU  0000005A   2160*
_WKSQCB246                                EQU  0000005C   2161*
_WKSQCB247                                EQU  0000005E   2162*
_WKSQCB248                                EQU  00000060   2163*
_WKSQCB249                                EQU  00000062   2164*
_WKSQCB250                                EQU  00000064   2165*
_WKSQCB251                                EQU  00000066   2166*34190 34197 34940 34947 
_WKSQCB252                                EQU  00000068   2167*
_WKSQCB253                                EQU  0000006A   2168*
_WKSQCB254                                EQU  0000006C   2169*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   716

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WKSQCB255                                EQU  0000006E   2170*35685 36419 
_WKSQCB256                                EQU  00000070   2171*
_WKSQCB257                                EQU  00000072   2172*27877 
_WKSQCB258                                EQU  00000074   2173*38415 
_WKSQCB259                                EQU  00000076   2174*
_WKSQCB260                                EQU  00000078   2175*27874 
_WKSQCB261                                EQU  0000007A   2176*
_WKSQCB262                                EQU  0000007C   2177*
_WKSQCB263                                EQU  0000007E   2178*
_WKSQCB264                                EQU  00000080   2179*
_WKSQCB265                                EQU  00000082   2180*
_WKSQCB266                                EQU  00000084   2181*
_WKSQCB267                                EQU  00000086   2182*
_WKSQCB268                                EQU  00000088   2183*
_WKSQCB269                                EQU  0000008A   2184*
_WK_ERR_INFO_CPU_TOP                      IMPT 00000000   3539 24789 24792 24837 24887 24892 24897 24983 25039 25041 25117 25156 
                                                         25250 25289 25293 25307 25331 25365 25462 25465 25475 25481 25489 25502 
                                                         25508 25514 25522 25525 25536 25541 25564 25663 25669 25838 
_WK_OBJECT_TIM_TOP                        IMPT 00000000   3233 
_WK_PVP_MOT_STS                           IMPT 00000000   5335 
_WK_SIN_RCAMOF_SW1                        IMPT 00000000   3317 
_WK_SIN_RCAMON_SW1                        IMPT 00000000   3316 
_WK_SIN_RCAM_OF_DIG                       IMPT 00000000   3302 
_WK_SIN_RCAM_OF_KOUTEI                    IMPT 00000000   3309 
_WK_SIN_RCAM_OF_SPD                       IMPT 00000000   3310 
_WK_SIN_RCAM_ON_DIG                       IMPT 00000000   3301 
_WK_SIN_RCAM_ON_KOUTEI                    IMPT 00000000   3307 
_WK_SIN_RCAM_ON_SPD                       IMPT 00000000   3308 
_WK_SIN_RCAM_SQOF1                        IMPT 00000000   3314 
_WK_SIN_RCAM_SQON1                        IMPT 00000000   3313 
_WOANT                                    EQU  00000010   2353*
_WOATO                                    EQU  00000040   2355* 7401 
_WOFCY                                    EQU  00000080   2356*
_WOQST                                    EQU  00000001   2349*
_WORCY                                    EQU  00000100   2357*
_WORDY                                    EQU  00000020   2354*
_WORD_BIT_TBL1                            IMPT 00000000  24202 
_WORST                                    EQU  00000200   2358*
_WOVN1                                    EQU  00000002   2350*
_WOVN2                                    EQU  00000004   2351*
_WOVN3                                    EQU  00000008   2352*
_WPARX_BRKTST_DNDLMT                      IMPT 00000000   4605  8839 
_WPARX_BRKTST_ORGDEGX                     IMPT 00000000   4413 
_WPARX_BRKTST_ORGPLS                      IMPT 00000000   4414  9348 
_WPARX_BRKTST_STPDEGX                     IMPT 00000000   4163 
_WPARX_BRKTST_STPLNG                      IMPT 00000000   4165 33762 
_WPARX_BRKTST_STPPLS                      IMPT 00000000   4164 
_WPARX_COP_DNDRV1_SDG1                    IMPT 00000000   4130 
_WPARX_COP_DNDRV1_SDG2                    IMPT 00000000   4131 
_WPARX_COP_DNDRV1_ZDG1                    IMPT 00000000   4128 
_WPARX_COP_DNDRV1_ZDG2                    IMPT 00000000   4129 
_WPARX_COP_DNDRV2_SDG1                    IMPT 00000000   4134 
_WPARX_COP_DNDRV2_SDG2                    IMPT 00000000   4135 
_WPARX_COP_DNDRV2_ZDG1                    IMPT 00000000   4132 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   717

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WPARX_COP_DNDRV2_ZDG2                    IMPT 00000000   4133 
_WPARX_ELSE_ORGDEGX                       IMPT 00000000   4706 
_WPARX_ELSE_ORGPLS                        IMPT 00000000   4705  9328 
_WPAR_360STP_HAB                          IMPT 00000000   4055 
_WPAR_ACCTYP_SEL                          IMPT 00000000   3981 31150 
_WPAR_ACC_MATHED                          IMPT 00000000   4225 
_WPAR_ANAIN_SEL                           IMPT 00000000   3979 
_WPAR_BKTMCL_ACCCK                        IMPT 00000000   4652 
_WPAR_BRK1_ACCTM                          IMPT 00000000   3410 31224 31256 
_WPAR_BRK1_DLYTM                          IMPT 00000000   3409 
_WPAR_BRK2_ACCTM                          IMPT 00000000   3411 31292 
_WPAR_BRKTCHK_SPD                         IMPT 00000000   4153 
_WPAR_BRKTOUT_SPD                         IMPT 00000000   4152 
_WPAR_BRKTST_ORGDEG                       IMPT 00000000   4412 
_WPAR_BRK_SEL_SPD                         IMPT 00000000   3408 21533 
_WPAR_CMP_ERR_TIM1                        IMPT 00000000   4306 
_WPAR_CMP_ERR_TIM2                        IMPT 00000000   4307 
_WPAR_COP_CNTROT_SDG1                     IMPT 00000000   3352 
_WPAR_COP_CNTROT_SDG2                     IMPT 00000000   3353 
_WPAR_COP_CNTROT_ZDG1                     IMPT 00000000   3350 
_WPAR_COP_CNTROT_ZDG2                     IMPT 00000000   3351 
_WPAR_COP_DISP_SPM1                       IMPT 00000000   4317 
_WPAR_COP_REVRSE_SDG1                     IMPT 00000000   3357 
_WPAR_COP_REVRSE_SDG2                     IMPT 00000000   3358 
_WPAR_COP_REVRSE_ZDG1                     IMPT 00000000   3355 
_WPAR_COP_REVRSE_ZDG2                     IMPT 00000000   3356 
_WPAR_COP_SDG1                            IMPT 00000000   3362 
_WPAR_COP_SDG2                            IMPT 00000000   3363 
_WPAR_COP_ZDG1                            IMPT 00000000   3360 
_WPAR_COP_ZDG2                            IMPT 00000000   3361 
_WPAR_CUPCHK_SEL                          IMPT 00000000   4054 
_WPAR_DAIHAI_SEL                          IMPT 00000000   4371 
_WPAR_DRVHOS_AVLCNT                       IMPT 00000000   2969 
_WPAR_DRVHOS_DIG1                         IMPT 00000000   2966 
_WPAR_DRVHOS_DIG2                         IMPT 00000000   2967 
_WPAR_DRVHOS_NO_USE                       IMPT 00000000   2970 
_WPAR_DRVHOS_SEL1                         IMPT 00000000   2965 
_WPAR_DRVHOS_WAITCNT                      IMPT 00000000   2968 
_WPAR_ILNGERR_DIG                         IMPT 00000000   3414 
_WPAR_ILNGERR_LNG                         IMPT 00000000   3413 
_WPAR_INCOVER_LNG                         IMPT 00000000   3379 
_WPAR_INCOVER_LNG1                        IMPT 00000000   3380 
_WPAR_INCOVER_LNG2                        IMPT 00000000   3381 
_WPAR_INCREV_EDYTM                        IMPT 00000000   3382 
_WPAR_INCSTP_EDYTM                        IMPT 00000000   3386 
_WPAR_INCSTP_EDYTM1                       IMPT 00000000   3384 
_WPAR_INCSTP_EDYTM2                       IMPT 00000000   3385 
_WPAR_KJYU_STOPTBL                        IMPT 00000000   4200 
_WPAR_LSA_FILTIM                          IMPT 00000000   3748 
_WPAR_MCNRNA_SEL                          IMPT 00000000   4053 
_WPAR_ORGDRV_MD2                          IMPT 00000000   4336 
_WPAR_ORGMOD2_TIM                         IMPT 00000000   3833 
_WPAR_ORGPOS_LNG1                         IMPT 00000000   4396 
_WPAR_OVRLIDE_GMN                         IMPT 00000000   3882 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   718

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WPAR_RNA_SFTY_LNG1                       IMPT 00000000   3388 
_WPAR_SFYOPT_USEL                         IMPT 00000000   4154 
_WPAR_SLDALM_LNG                          IMPT 00000000   4378 
_WPAR_SLDALM_TIM                          IMPT 00000000   4379 
_WPAR_STOPING_TIM                         IMPT 00000000   4223 
_WPAR_ZERO_SPD                            IMPT 00000000   3407 21501 
_WPVX_KAJLIV_TTL                          IMPT 00000000   4203 
_WPV_ABS_AD_DATA                          IMPT 00000000   3987 
_WPV_AD_DATA                              IMPT 00000000   3986 
_WPV_CB_STS_DAT_TOP                       IMPT 00000000   5571 
_WPV_CB_STS_POINT                         IMPT 00000000   5596 
_WPV_CB_TRD_DAT_TOP                       IMPT 00000000   5572 
_WPV_CB_TRD_POINT                         IMPT 00000000   5597 
_WPV_POWER_MONI                           IMPT 00000000   3988 
_WPV_POWER_ON_CNT                         IMPT 00000000   5598 
_WPV_SCAN_MAX01                           IMPT 00000000   4811 
_WPV_SCAN_MAX10                           IMPT 00000000   4810 
_WPV_SCAN_TIM_AVL                         IMPT 00000000   4807 
_WPV_SCAN_TIM_REAL                        IMPT 00000000   4806 
_WR_CB_SYS_CHKCOD1                        EQU  00001234   2226*
_WR_CB_SYS_CHKCOD2                        EQU  00004321   2227*
_WR_CB_SYS_CHKCOD3                        EQU  00005678   2228*
_WR_CB_SYS_CHKCOD4                        EQU  00008765   2229*
_WSVXY_CLNK_UP_POS                        IMPT 00000000   4120 
_WSVXY_CLNK_UP_POS_DN                     IMPT 00000000   4122 
_WSVXY_CLNK_UP_POS_UP                     IMPT 00000000   4121 
_WSVX_CLNK_UP_POS                         IMPT 00000000   2713 
_WSVX_CLNK_UP_POS_DN                      IMPT 00000000   2715 
_WSVX_CLNK_UP_POS_UP                      IMPT 00000000   2714 
_WXPV_ERR_DISP                            IMPT 00000000   3658 
_W_PARAM_TOP                              IMPT 00000000   4571  7260  7390  7407  7452 14531 16824 16836 16853 21928 22555 22581 
                                                         22765 23771 24044 24053 24439 24511 24559 24617 32403 32463 32540 35054 
                                                         35109 35212 35285 
_X_PROTCOL_TMP_ANS                        IMPT 00000000   5371 
_X_PROTCOL_TMP_EVENTCNT                   IMPT 00000000   5366 
_X_PROTCOL_TMP_FLG                        IMPT 00000000   5359 
_X_PROTCOL_TMP_LNG_PVTM                   IMPT 00000000   5364 
_X_PROTCOL_TMP_LNG_SVTM                   IMPT 00000000   5363 
_X_PROTCOL_TMP_PV1                        IMPT 00000000   5372 
_X_PROTCOL_TMP_PV2                        IMPT 00000000   5360 
_X_PROTCOL_TMP_PVLNG                      IMPT 00000000   5362 
_X_PROTCOL_TMP_REQ                        IMPT 00000000   5370 
_X_PROTCOL_TMP_SVLNG                      IMPT 00000000   5361 
_X_PROTCOL_TMP_TIME_PV                    IMPT 00000000   5367 
_X_R2_MUL_R1_DIV_R4                       IMPT 00000000   5807 
_ZERO_INCENC                              EQU  00000000   2058*
_ZERO_INCHEN                              EQU  00000000   2057*
_ZERO_INCREV                              EQU  00000000   2062*
_ZERO_INCRNA                              EQU  00000001   2059*
_ZERO_INCSTP                              EQU  00000000   2060*
_ZERO_RNAREV                              EQU  00000001   2063*
_ZERO_RNASTP                              EQU  00000001   2061*
_cbsys_tbl_err                            IMPT 00000000   4245 
_di1_cb_ctl1                              IMPT 00000000   2506 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   719

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_di1_cb_ctl1_dt                           IMPT 00000000   2514 31869 
_di1_cb_ctl1_of                           IMPT 00000000   2516 
_di1_cb_ctl1_on                           IMPT 00000000   2515 
_di2_cb_ctl2                              IMPT 00000000   2507 13058 13104 13150 28071 
_di2_cb_ctl2_dt                           IMPT 00000000   2518 
_di2_cb_ctl2_of                           IMPT 00000000   2520 
_di2_cb_ctl2_on                           IMPT 00000000   2519 
_di3_cb_inp1                              IMPT 00000000   2508 
_di3_cb_inp1_dt                           IMPT 00000000   2512 
_di4_cb_inp2                              IMPT 00000000   2509 
_dq1_cb_out1                              IMPT 00000000   2510  7399 
_dum_SET_PV_ABS_TO_OBJ           P             00006C78   8623  9153  9229  9578 11287 11369 11627 12787 14048 14109 14178 14227 
                                                         15158 28098 32346*33486 
_emg_err_flg                              IMPT 00000000   2590 10191 38493 
_emg_lev_flg                              IMPT 00000000   2589 
_exq_err_flg                              IMPT 00000000   2593 38495 
_exq_lev_flg                              IMPT 00000000   2591 
_pass_err_flg1                            IMPT 00000000   2587 
_pass_err_flg2                            IMPT 00000000   2588 
_poslsi1_top                              IMPT 00000000   6505 17596 17629 17960 18012 18043 18126 18404 18445 18505 18546 18642 
                                                         18689 18779 18853 19005 19034 19086 19657 20234 20243 20885 20892 20899 
                                                         20980 21014 21048 21077 21112 21148 21206 28792 30631 30748 30814 30866 
                                                         31688 31712 31736 
_reset_dly_tim                            IMPT 00000000   2611 
_reset_flg                                IMPT 00000000   2610 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:02:07                                                  PAGE   720

*** SECTION DATA LIST

SECTION                          ATTRIBUTE    SIZE             START

P                                REL-CODE    0000095DC        
