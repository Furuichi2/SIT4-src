*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE     1
PROGRAM NAME =

    1                               1     ;       ***************************************************
    2                               2     ;       ***                                             ***
    3                               3     ;       ***                                             ***
    4                               4     ;       ***     ET1-SOFT(設定転送,ﾄﾚﾝﾄﾞ転送,mem,dp)     ***
    5                               5     ;       ***                                             ***
    6                               6     ;       ***                                             ***
    7                               7     ;       ***************************************************
 2046                              16     
 2047                              17     ;
 2048                              18             .INCLUDE        "dp_et1.ext"            ; //
 2049                               1 I1  ;       *******************************************************************
 2050                               2 I1  ;       ***                                                             ***
 2051                               3 I1  ;       ***                                                             ***
 2052                               4 I1  ;       ***                                                             ***
 2053                               5 I1  ;       ***                                                             ***
 2054                               6 I1  ;       ***                                                             ***
 2055                               7 I1  ;       ***                                                             ***
 2056                               8 I1  ;       *******************************************************************
 2057                               9 I1  ;       このファイルはsh2またはsh4のアセンブラソースにインクルードされ
 2058                              10 I1  ;       その中で、実アドレスを割り付ける
 2059                              11 I1  ;       このではdpramのオフセットアドレスを定義する
 2060                              12 I1  ;       このファイルのextern宣言として
 2061                              13 I1  
 2062                              14 I1  
 2063                              15 I1  ;       ===========================================
 2064                              16 I1  ;       ===             ET1 SV DATA             ===
 2065                              17 I1  ;       ===========================================
 2066                              18 I1  ;       --------------------------------------------------
 2067                              19 I1          .GLOBAL         _ET_CPUB_SND_INI_ET1    ;INITAL CODE REQ
 2068                              20 I1          .GLOBAL         _ET_CPUB_RCV_INI_ET1    ;INITAL CODE ACK
 2069                              21 I1  ;;;;    .GLOBAL         _ET_CPUB_SND_REQ_ET1    ;H'12345678(req)
 2070                              22 I1  ;;;;    .GLOBAL         _ET_CPUB_RCV_ACK_ET1    ;H'87654321(ack)
 2071                              23 I1  ;       ---------------------------------------------------
 2072                              24 I1  ;;;;    .GLOBAL         _ET_CPUB_SND_REQ_ADR    ;TOPADRESS (192K+32K 256Kbyte)
 2073                              25 I1  ;;;;    .GLOBAL         _ET_CPUB_SND_REQ_CNT    ;1~128個
 2074                              26 I1  ;;;;    .GLOBAL         _ET_CPUB_SND_DAT        ;(256byte MAX)
 2075                              27 I1  ;;;;    .GLOBAL         _ET_CPUB_SND_END        ;
 2076                              28 I1  
 2077                              29 I1  ;       ===========================================
 2078                              30 I1  ;       ===             ET1 TOREND DATA         ===
 2079                              31 I1  ;       ===========================================
 2080                              32 I1  ;       --------------------------------------------------
 2081                              33 I1          .GLOBAL         _ET_CPUA_SND_INI_ET1    ;INITAL CODE REQ
 2082                              34 I1          .GLOBAL         _ET_CPUA_RCV_INI_ET1    ;INITAL CODE ACK
 2083                              35 I1          .GLOBAL         _ET_CPUA_SND_REQ_ET1    ;H'12345678(req)
 2084                              36 I1          .GLOBAL         _ET_CPUA_RCV_ACK_ET1    ;H'87654321(ack)
 2085                              37 I1  ;       ---------------------------------------------------
 2086                              38 I1          .GLOBAL         _ET_CPUA_SND_REQ_ADR    ;TOPADRESS (192K+32K 256Kbyte)
 2087                              39 I1          .GLOBAL         _ET_CPUA_SND_REQ_CNT    ;1~128個
 2088                              40 I1          .GLOBAL         _ET_CPUA_SND_DAT        ;(256byte MAX)
 2089                              41 I1          .GLOBAL         _ET_CPUA_SND_END        ;
 2090                              42 I1  
 2091                              43 I1  ;       ===========================================
 2092                              44 I1  ;       ===             ET1 loder DATA          ===
 2093                              45 I1  ;       ===========================================
 2094                              46 I1  ;       2006-12-01
 2095                              47 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE     2
PROGRAM NAME =

 2096                              48 I1          .GLOBAL         _ET_LDCMND_AREA         ;LdCmnd set area
 2097                              49 I1          .GLOBAL         _ET_LDCMND_REQ          ;LdCmnd Request Flag
 2098                              50 I1          .GLOBAL         _ET_LDCMND_RES          ;LdCmnd Response Flag
 2099                              51 I1          .GLOBAL         _ET1_VER                ;ET1 VERSION            V05
 2100                              52 I1  
 2101                              53 I1  ;       ===== HMI V05j 2007/12/07 =====
 2102                              54 I1          .GLOBAL         _ET1_IPS_ENT            ;IPｱﾄﾞﾚｽ確定
 2103                              55 I1          .GLOBAL         _ET1_IPS_ADR0           ;IPｱﾄﾞﾚｽ
 2104                              56 I1          .GLOBAL         _ET1_IPS_ADR1           ;IPｱﾄﾞﾚｽ
 2105                              57 I1          .GLOBAL         _ET1_IPS_ADR2           ;IPｱﾄﾞﾚｽ
 2106                              58 I1          .GLOBAL         _ET1_IPS_ADR3           ;IPｱﾄﾞﾚｽ
 2107                              59 I1          .GLOBAL         _ET1_SUB_NET0           ;ｻﾌﾞﾈｯﾄﾏｽｸ
 2108                              60 I1          .GLOBAL         _ET1_SUB_NET1           ;ｻﾌﾞﾈｯﾄﾏｽｸ
 2109                              61 I1          .GLOBAL         _ET1_SUB_NET2           ;ｻﾌﾞﾈｯﾄﾏｽｸ
 2110                              62 I1          .GLOBAL         _ET1_SUB_NET3           ;ｻﾌﾞﾈｯﾄﾏｽｸ
 2111                              63 I1          .GLOBAL         _ET1_DEF_GAT0           ;ﾃﾞﾌｫﾙﾄｹﾞｰﾄｳｪｲ
 2112                              64 I1          .GLOBAL         _ET1_DEF_GAT1           ;ﾃﾞﾌｫﾙﾄｹﾞｰﾄｳｪｲ
 2113                              65 I1          .GLOBAL         _ET1_DEF_GAT2           ;ﾃﾞﾌｫﾙﾄｹﾞｰﾄｳｪｲ
 2114                              66 I1          .GLOBAL         _ET1_DEF_GAT3           ;ﾃﾞﾌｫﾙﾄｹﾞｰﾄｳｪｲ
 2115                              67 I1          .GLOBAL         _ET1_IPM_ADR0           ;IPｱﾄﾞﾚｽ(ﾓﾆﾀ)
 2116                              68 I1          .GLOBAL         _ET1_IPM_ADR1           ;IPｱﾄﾞﾚｽ(ﾓﾆﾀ)
 2117                              69 I1          .GLOBAL         _ET1_IPM_ADR2           ;IPｱﾄﾞﾚｽ(ﾓﾆﾀ)
 2118                              70 I1          .GLOBAL         _ET1_IPM_ADR3           ;IPｱﾄﾞﾚｽ(ﾓﾆﾀ)
 2119                              71 I1  
 2120                              72 I1  ;       ===========================================
 2121                              73 I1  ;       ===     ET1==>CPUA(読出 32BYTE) ｽﾃｰﾀｽRD ===
 2122                              74 I1  ;       ===     2008-10-20                      ===
 2123                              75 I1  ;       ===========================================
 2124                              76 I1          .GLOBAL         _ET_CPUA_RD_REQ         ;CPUA-->ET1 READ REQ
 2125                              77 I1          .GLOBAL         _ET_CPUA_RD_ACK         ;ET1-->CPUA data SET ACK
 2126                              78 I1          .GLOBAL         _ET_CPUA_RD_CNT         ;読出個数
 2127                              79 I1          .GLOBAL         _ET_CPUA_RD_ADR         ;読出ｱﾄﾞﾚｽ
 2128                              80 I1          .GLOBAL         _ET_CPUA_RD_BUF         ;32byte(16w)
 2129                              81 I1  ;       ===========================================
 2130                              82 I1  ;       ===     CPUA==>書込2(32byte)    ｽﾃｰﾀｽWR ===
 2131                              83 I1  ;       ===     2008-10-20                      ===
 2132                              84 I1  ;       ===========================================
 2133                              85 I1          .GLOBAL         _ET_CPUA_WR2_ADR        ;STS WR LINE
 2134                              86 I1          .GLOBAL         _ET_CPUA_WR2_BUF        ;32byte(16w)
 2135                              87 I1          .GLOBAL         _ET_CPUA_WR2_REQ        ;
 2136                              88 I1          .GLOBAL         _ET_CPUA_WR2_ACK        ;
 2137                              89 I1          .GLOBAL         _ET_CPUA_WR2_CNT        ;
 2138                              90 I1  
 2139                              91 I1  
 2140                              92 I1  ;;;     ===========================================
 2141                              93 I1  ;;;     ===     2009-06-19 komtrax(ET2)対応     ===
 2142                              94 I1  ;;;     ===========================================
 2143                              95 I1  ;;;     .GLOBAL         _ET2_SEQ_IDT01          ;FA2,3 seq-->et2
 2144                              96 I1  ;;;     .GLOBAL         _ET2_SEQ_IDT02          ;FA4,5 seq-->et2
 2145                              97 I1  ;;;     .GLOBAL         _ET2_SEQ_QDT01          ;FA6,7 et2-->seq
 2146                              98 I1  ;;;     .GLOBAL         _ET2_SEQ_QDT02          ;FA8,9 et2-->seq
 2147                              99 I1  ;;;;    ============== 使用付加(2009-06-19)　後はﾊﾞﾝｸだけ============
 2148                             100 I1  ;       ===========================================
 2149                             101 I1  ;       ===     2009-07-24 komtrax(ET2)対応     ===
 2150                             102 I1  ;       ===========================================
 2151                             103 I1  ;       ------------(KOMTRAX空間に対して SIT_MEM)
 2152                             104 I1          .GLOBAL         _ET2_SITM_ADR           ;FA2,3 SIT4->ET1  R/W ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE     3
PROGRAM NAME =

 2153                             105 I1          .GLOBAL         _ET2_SITM_REQ           ;FA4   SIT4->ET1  HND=BIT7 R/W=BIT6(BIT5~B
                                          IT0は空間)
 2154                             106 I1          .GLOBAL         _ET2_SITM_ACK           ;FA5   SIT4<-ET1
 2155                             107 I1          .GLOBAL         _ET2_SITM_WRDT          ;FA6,7 SIT4->ET1  WR data
 2156                             108 I1          .GLOBAL         _ET2_SITM_RDDT          ;FA8,9(SIT4<-ET1) RD data
 2157                             109 I1          .GLOBAL         _ET2_SEQ_IDT01          ;FAA,B seq(SQ149)-->et2
 2158                             110 I1          .GLOBAL         _ET2_SEQ_QDT01          ;FAC,D et2-->seq(SQ86)
 2159                             111 I1  ;;;;    ============== 使用不可(2009-07-24)　後はﾊﾞﾝｸだけ============
 2160                             112 I1  
 2161                             113 I1  
 2162                              19             .import         _MEM_ARI                        ;1BYTE(H'840 statu "A5")
 2163                              20             .import         _MEM_BNK_ADR1                   ;1BYTE(H'900 d0=0/d0=1 bank)
 2164                              21     
 2165                              22     
 2166                              23     
 2167                              24     
 2168                              25     ;;_ET2_DEBUG_TRG        .DEFINE         "1"             ; ﾃﾞﾊﾞｯｸ
 2169                              26     _ET2_DEBUG_TRG  .DEFINE         "0"             ;出荷
 2170                              27     
 2171                              28     
 2172                              29     
 2173                              30     ;       ===========================================
 2174                              31     ;       ===             ET1 TOREND DATA         ===
 2175                              32     ;       ===========================================
 2176                              33             .IMPORT         _CPUA_SND_INI_ET1       ;INITAL CODE REQ
 2177                              34             .IMPORT         _CPUA_RCV_INI_ET1       ;INITAL CODE ACK
 2178                              35             .IMPORT         _CPUA_SND_REQ_ET1       ;H'12345678(req)
 2179                              36             .IMPORT         _CPUA_RCV_ACK_ET1       ;H'87654321(ack)
 2180                              37             .IMPORT         _CPUA_SND_REQ_ADR       ;TOPADRESS (192K+32K 256Kbyte)
 2181                              38             .IMPORT         _CPUA_SND_REQ_CNT       ;1~128個
 2182                              39             .IMPORT         _CPUA_SND_DAT           ;(256byte MAX)
 2183                              40             .IMPORT         _CPUA_SND_END           ;
 2184                              41     
 2185                              42     
 2186                              43             .EXPORT _ET1_CPU_MAIN_MOV
 2187                              44             .EXPORT _ET1_CPU_HIGH_MOV
 2188                              45     
 2189                              46     ;       --------KOMTRAXのためのEXTERN
 2190                              47             .IMPORT         _SEQ_024_SV             ;DPRAM(島村参照使用設定)2009-*-*   24.6
 2191                              48             .IMPORT         _SEQ_DP_TOP             ;高速アクセス用
 2192                              49     
 2193                              50     ;       ------2011-01-14 処理軽減のため10msec作成---
 2194          00000001            51     __TM_LATE01MS   .EQU    1               ;
 2195          0000000A            52     __TM_LATE10MS   .EQU    10              ;
 2196                              53     
 2197                              54     ;       ***************************************************
 2198                              55     ;       ***                                             ***
 2199                              56     ;       ***                                             ***
 2200                              57     ;       ***     ET1-SOFT(設定転送,ﾄﾚﾝﾄﾞ転送)            ***
 2201                              58     ;       ***     (high:TREND)                            ***
 2202                              59     ;       ***                                             ***
 2203                              60     ;       ***                                             ***
 2204                              61     ;       ***************************************************
 2205 00000000                     62             .SECTION        Bfram, DATA                     ; B4007000H
 2206 00000000                     63             .SECTION        P,CODE                  ;
 2207 00000000                     64             .ALIGN  4                                       ;
 2208 00000000                     65     _ET1_CPU_HIGH_MOV
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE     4
PROGRAM NAME =

 2209                              66             SUB_START
 2210 00000000 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2211                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2212 00000002 D10A                67             MOV.L   #_ET1_INITAL_FLG,R1                     ;
 2213 00000004 6011                68             MOV.W   @R1,R0                                  ;
 2214 00000006 C840                69             TST     #BIT6,R0                                ;
 2215                              70             TST_BIT_OF ET1_CPU_HIGHMV_END                   ;
 2216 00000008 890C                   M           BT      ET1_CPU_HIGHMV_END
 2217                              71     
 2218                              72     ;       ---------- ET1/CPUA ﾃﾞｰﾀ転送--------------
 2219                              73             FAR_JSR #_ET1_CPUA_DT_MOVE,R0
 2220 0000000A D009                   M           MOV.L   #_ET1_CPUA_DT_MOVE,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2221 0000000C 400B                   M           JSR     @R0                     ;
 2222 0000000E 0009                   M           NOP                                     ;
 2223                              74     
 2224 00000010 D108                75             MOV.L   #_SEQ_024_SV,R1                 ;
 2225 00000012 6011                76             MOV.W   @R1,R0                          ;
 2226 00000014 C840                77             TST     #BIT6,R0                        ;24.6(仕様設定135)
 2227                              78             TST_BIT_OF ET1_CPU_HIGHMV_END           ;
 2228 00000016 8905                   M           BT      ET1_CPU_HIGHMV_END
 2229                              79     
 2230                              80     ;       ---------- 2009-07-27(KOMTRAX)-----------------
 2231                              81     ;       ---------- ｼｰｹﾝｽ出力(CPUB-->SEQ)---------------
 2232                              82     ;       ---------- ｼｰｹﾝｽﾚﾌﾚｯｼｭ (KOMTRAX-->CPUB-->SEQ)--
 2233                              83     ;       ---------- ｼｰｹﾝｽﾚﾌﾚｯｼｭ (KOMTRAX<--CPUB--SEQ)---
 2234                              84     ;       ---------- ｲﾍﾞﾝﾄﾒｯｾｰｼﾞ転送---------------------
 2235                              85     
 2236                              86             FAR_JSR #_KOMTRAX_DATA_CTRL,R0
 2237 00000018 D007                   M           MOV.L   #_KOMTRAX_DATA_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2238 0000001A 400B                   M           JSR     @R0                     ;
 2239 0000001C 0009                   M           NOP                                     ;
 2240                              87     
 2241                              88     
 2242                              89             FAR_JSR #_KOMTRAX_TIMCNT,R0             ;1mSEC
 2243 0000001E D007                   M           MOV.L   #_KOMTRAX_TIMCNT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2244 00000020 400B                   M           JSR     @R0                     ;
 2245 00000022 0009                   M           NOP                                     ;
 2246                              90     
 2247 00000024                     91     ET1_CPU_HIGHMV_END
 2248                              92             SUB_END
 2249                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2250 00000024 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2251                              93             M_RTS
 2252 00000026 000B                   M           RTS                             ;RTSの後ろの
 2253 00000028 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2254                              94     
 2255                              95     ;       ***************************************************
 2256                              96     ;       ***                                             ***
 2257                              97     ;       ***                                             ***
 2258                              98     ;       ***     ET1-SOFT(設定転送,ﾄﾚﾝﾄﾞ転送)            ***
 2259                              99     ;       ***     (MAIN:SV)                               ***
 2260                             100     ;       ***                                             ***
 2261                             101     ;       ***************************************************
 2262                                     ***** BEGIN-POOL *****
 2263 0000002A 0000                       ALIGNMENT CODE
 2264 0000002C 00000000                   DATA FOR SOURCE-LINE 67
 2265 00000030 00000000                   DATA FOR SOURCE-LINE 73
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE     5
PROGRAM NAME =

 2266 00000034 00000000                   DATA FOR SOURCE-LINE 75
 2267 00000038 00000000                   DATA FOR SOURCE-LINE 86
 2268 0000003C 00000000                   DATA FOR SOURCE-LINE 89
 2269                                     ***** END-POOL *****
 2270 00000040                    102     _ET1_CPU_MAIN_MOV
 2271                             103             SUB_START
 2272 00000040 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2273                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2274                             104     
 2275 00000042 D104               105             MOV.L   #_ET1_INITAL_FLG,R1                     ;
 2276 00000044 6011               106             MOV.W   @R1,R0                                  ;
 2277 00000046 C840               107             TST     #BIT6,R0                                ;
 2278                             108             TST_BIT_ON ET1_CPU_MNMV_100                     ;
 2279 00000048 8B08                   M           BF      ET1_CPU_MNMV_100
 2280                             109             FAR_JSR #_ET1_INITAL_CHK,R0                     ;
 2281 0000004A D003                   M           MOV.L   #_ET1_INITAL_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2282 0000004C 400B                   M           JSR     @R0                     ;
 2283 0000004E 0009                   M           NOP                                     ;
 2284                             110     
 2285                             111             M_BRA   ET1_CPU_MNMV_END                        ;
 2286 00000050 A04E                   M           BRA     ET1_CPU_MNMV_END
 2287 00000052 0009                   M           NOP
 2288                                     ***** BEGIN-POOL *****
 2289 00000054 00000000                   DATA FOR SOURCE-LINE 105
 2290 00000058 00000000                   DATA FOR SOURCE-LINE 109
 2291                                     ***** END-POOL *****
 2292 0000005C                    112     ET1_CPU_MNMV_100:
 2293                             113             FAR_JSR #_ET1_INIEND_MOVE,R0                    ;
 2294 0000005C D008                   M           MOV.L   #_ET1_INIEND_MOVE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2295 0000005E 400B                   M           JSR     @R0                     ;
 2296 00000060 0009                   M           NOP                                     ;
 2297                             114     
 2298 00000062 D108               115             MOV.L   #_SEQ_024_SV,R1                 ;
 2299 00000064 6011               116             MOV.W   @R1,R0                          ;
 2300 00000066 C840               117             TST     #BIT6,R0                        ;24.6(仕様設定135)
 2301                             118             TST_BIT_OF ET1_CPU_MNMV_END             ;komtrax無効 then jump
 2302 00000068 8942                   M           BT      ET1_CPU_MNMV_END
 2303                             119     
 2304 0000006A D507               120             MOV.L   #_KMT_DLYSCAN_TIM,R5            ;
 2305 0000006C 6051               121             MOV.W   @R5,R0                          ;
 2306 0000006E 9405               122             MOV.W   #D'10,R4                        ;
 2307 00000070 3042               123             CMP/HS  R4,R0                           ;
 2308 00000072 890B               124             BT      ET1_CPU_MNMV_200                ;10 < R0
 2309 00000074 7001               125             ADD     #1,R0                           ;
 2310 00000076 2501               126             MOV.W   R0,@R5                          ;
 2311                             127             M_BRA   ET1_CPU_MNMV_END                ;10SCANは何もしない(ﾒｲﾝのｲﾆｼｬﾙ処理のため)
 2312 00000078 A03A                   M           BRA     ET1_CPU_MNMV_END
 2313 0000007A 0009                   M           NOP
 2314                             128     
 2315                                     ***** BEGIN-POOL *****
 2316 0000007C 000A                       DATA FOR SOURCE-LINE 122
 2317 0000007E 0000                       ALIGNMENT CODE
 2318 00000080 00000000                   DATA FOR SOURCE-LINE 113
 2319 00000084 00000000                   DATA FOR SOURCE-LINE 115
 2320 00000088 00000000                   DATA FOR SOURCE-LINE 120
 2321                                     ***** END-POOL *****
 2322 0000008C                    129     ET1_CPU_MNMV_200:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE     6
PROGRAM NAME =

 2323                             130             FAR_JSR #_KOMTRAX_EVENT_MAIN,R0         ;WR 8CHAR * 6　異常ｲﾍﾞﾝﾄの変更あり・なし
 2324 0000008C D00D                   M           MOV.L   #_KOMTRAX_EVENT_MAIN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2325 0000008E 400B                   M           JSR     @R0                     ;
 2326 00000090 0009                   M           NOP                                     ;
 2327                             131     
 2328                             132             FAR_JSR #_KOMTRAX_HAND_WRITE,R0         ;WDTなど書き込み要求
 2329 00000092 D00D                   M           MOV.L   #_KOMTRAX_HAND_WRITE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2330 00000094 400B                   M           JSR     @R0                     ;
 2331 00000096 0009                   M           NOP                                     ;
 2332                             133     
 2333                             134             FAR_JSR #_KOMTRAX_STATUS_READ,R0        ;WDTのｱﾝｻｰﾊﾞｯｸなどのｽﾃｰﾀｽ読み出し要求
 2334 00000098 D00C                   M           MOV.L   #_KOMTRAX_STATUS_READ,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2335 0000009A 400B                   M           JSR     @R0                     ;
 2336 0000009C 0009                   M           NOP                                     ;
 2337                             135     
 2338                             136             FAR_JSR #_KOMTRAX_STAUS_MAKE,R0         ;
 2339 0000009E D00C                   M           MOV.L   #_KOMTRAX_STAUS_MAKE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2340 000000A0 400B                   M           JSR     @R0                     ;
 2341 000000A2 0009                   M           NOP                                     ;
 2342                             137     
 2343                             138             FAR_JSR #_KOMTRAX_PVDAT_MAKE,R0         ;
 2344 000000A4 D00B                   M           MOV.L   #_KOMTRAX_PVDAT_MAKE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2345 000000A6 400B                   M           JSR     @R0                     ;
 2346 000000A8 0009                   M           NOP                                     ;
 2347                             139     
 2348                             140             FAR_JSR #_KOMTRAX_PVDAT_WRITE,R0        ;実測転送要求
 2349 000000AA D00B                   M           MOV.L   #_KOMTRAX_PVDAT_WRITE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2350 000000AC 400B                   M           JSR     @R0                     ;
 2351 000000AE 0009                   M           NOP                                     ;
 2352                             141     
 2353                             142     
 2354                             143     ;       --------- 2011-01-14 TYP011型判定-----------
 2355 000000B0 D10A               144             MOV.L   #_KMT_TYP_011,R1                ;
 2356 000000B2 6011               145             MOV.W   @R1,R0                          ;
 2357 000000B4 8801               146             CMP/EQ  #1,R0                           ;
 2358 000000B6 8915               147             BT      ET1_CPU_MNMV_500                ;TYPE011機能有効? YES JUMP
 2359                             148     
 2360                             149             FAR_JSR #_KMT_TYPE_011_CHK,R0
 2361 000000B8 D009                   M           MOV.L   #_KMT_TYPE_011_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2362 000000BA 400B                   M           JSR     @R0                     ;
 2363 000000BC 0009                   M           NOP                                     ;
 2364                             150             M_BRA   ET1_CPU_MNMV_END
 2365 000000BE A017                   M           BRA     ET1_CPU_MNMV_END
 2366 000000C0 0009                   M           NOP
 2367                             151     
 2368                                     ***** BEGIN-POOL *****
 2369 000000C2 0000                       ALIGNMENT CODE
 2370 000000C4 00000000                   DATA FOR SOURCE-LINE 130
 2371 000000C8 00000000                   DATA FOR SOURCE-LINE 132
 2372 000000CC 00000000                   DATA FOR SOURCE-LINE 134
 2373 000000D0 00000000                   DATA FOR SOURCE-LINE 136
 2374 000000D4 00000000                   DATA FOR SOURCE-LINE 138
 2375 000000D8 00000000                   DATA FOR SOURCE-LINE 140
 2376 000000DC 00000000                   DATA FOR SOURCE-LINE 144
 2377 000000E0 00000000                   DATA FOR SOURCE-LINE 149
 2378                                     ***** END-POOL *****
 2379 000000E4                    152     ET1_CPU_MNMV_500:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE     7
PROGRAM NAME =

 2380                             153     
 2381                             154     
 2382                             155             FAR_JSR #_KOMTRAX_HINBAN_MAIN,R0                ;
 2383 000000E4 D004                   M           MOV.L   #_KOMTRAX_HINBAN_MAIN,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2384 000000E6 400B                   M           JSR     @R0                     ;
 2385 000000E8 0009                   M           NOP                                     ;
 2386                             156     
 2387                             157             FAR_JSR #_KOMTRAX_SYOUMO_MAIN,R0                ;
 2388 000000EA D004                   M           MOV.L   #_KOMTRAX_SYOUMO_MAIN,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2389 000000EC 400B                   M           JSR     @R0                     ;
 2390 000000EE 0009                   M           NOP                                     ;
 2391                             158     
 2392                             159     
 2393 000000F0                    160     ET1_CPU_MNMV_END:
 2394                             161     
 2395                             162     
 2396                             163             SUB_END
 2397                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2398 000000F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2399                             164             M_RTS
 2400 000000F2 000B                   M           RTS                             ;RTSの後ろの
 2401 000000F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2402                             165     
 2403                             166     
 2404                             167     ;       ***************************************************
 2405                             168     ;       ***                                             ***
 2406                             169     ;       ***                                             ***
 2407                             170     ;       ***     INITAL                                  ***
 2408                             171     ;       ***     (MAIN)                                  ***
 2409                             172     ;       ***                                             ***
 2410                             173     ;       ***************************************************
 2411                                     ***** BEGIN-POOL *****
 2412 000000F6 0000                       ALIGNMENT CODE
 2413 000000F8 00000000                   DATA FOR SOURCE-LINE 155
 2414 000000FC 00000000                   DATA FOR SOURCE-LINE 157
 2415                                     ***** END-POOL *****
 2416 00000100                    174     _ET1_INITAL_CHK:
 2417                             175             SUB_START
 2418 00000100 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2419                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2420 00000102 D10A               176             MOV.L   #_ET1_INITAL_FLG,R1             ;
 2421 00000104 6011               177             MOV.W   @R1,R0                          ;
 2422 00000106 C840               178             TST     #BIT6,R0                        ;
 2423                             179             TST_BIT_ON ET1_INIT_CHK_END             ;
 2424 00000108 8B0D                   M           BF      ET1_INIT_CHK_END
 2425                             180     ;;;;;[mc]       MOV.L   #_MEM_ARI,R1                    ;
 2426                             181     ;;;;;[mc]       MOV.B   @R1,R0                          ;
 2427                             182     ;;;;;[mc]       EXTU.B  R0,R0                           ;
 2428                             183     ;;;;;[mc]       MOV.W   #H'00A5,R1                      ;
 2429                             184     ;;;;;[mc]       .AIF    0       EQ 1                    ;@
 2430                             185     ;;;;;[mc]       MOV.W   #H'00A5,R0                                      ;@カード有りに見せ
                                          る
 2431                             186     ;;;;;[mc]       .AENDI                                                  ;@
 2432                             187     ;;;;;[mc]       CMP/EQ  R1,R0                                           ;
 2433                             188     ;;;;;[mc]       BF      ET1_INIT_CHK_END                                ;未接続
 2434                             189     ;;;;;[mc]
 2435                             190     ;;;;;[mc]       FAR_JSR #_ET1_BANK_SEL0_OUT,R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE     8
PROGRAM NAME =

 2436                             191     ;;;;;[mc]
 2437                             192     
 2438 0000010A D109               193             MOV.L   #_ET_CPUB_RCV_INI_ET1,R1                        ;
 2439 0000010C 6012               194             MOV.L   @R1,R0                                          ;
 2440 0000010E D409               195             MOV.L   #_ET1_INIT_ACK,R4                               ;
 2441 00000110 3040               196             CMP/EQ  R4,R0                                           ;
 2442 00000112 8B08               197             BF      ET1_INIT_CHK_END                                ;未完了
 2443                             198     
 2444 00000114 D108               199             MOV.L   #_ET_CPUA_RCV_INI_ET1,R1                ;
 2445 00000116 6012               200             MOV.L   @R1,R0                                  ;
 2446                             201     
 2447                             202     ;;;;;[mc]       .AIF    0       EQ 1                    ;@
 2448                             203     ;;;;;[mc]       MOV.L   #_ET1_INIT_ACK,R0                               ;@INITAL ENDに見せ
                                          る
 2449                             204     ;;;;;[mc]       .AENDI                                                  ;@
 2450                             205     
 2451 00000118 D406               206             MOV.L   #_ET1_INIT_ACK,R4                       ;
 2452 0000011A 3040               207             CMP/EQ  R4,R0                                   ;
 2453 0000011C 8B03               208             BF      ET1_INIT_CHK_END                        ;未完了
 2454                             209     
 2455                             210             MEM1_BIT0_TO_BIT7_ORSET MEM=_ET1_INITAL_FLG,LG=W,BIT=BIT6,WKREG=R1      ;bit-set
 2456 0000011E D103                   M           MOV.L   #_ET1_INITAL_FLG,R1             ;
 2457 00000120 6011                   M           MOV.W   @R1,R0          ;
 2458 00000122 CB40                   M           OR      #BIT6,R0                ;
 2459 00000124 2101                   M           MOV.W   R0,@R1          ;
 2460                             211     
 2461 00000126                    212     ET1_INIT_CHK_END:
 2462                             213             SUB_END
 2463                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2464 00000126 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2465                             214             M_RTS
 2466 00000128 000B                   M           RTS                             ;RTSの後ろの
 2467 0000012A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2468                             215     
 2469                             216     ;       ***********************************
 2470                             217     ;       ***                             ***
 2471                             218     ;       ***     INITAL-CODE             ***
 2472                             219     ;       ***                             ***
 2473                             220     ;       ***********************************
 2474                                     ***** BEGIN-POOL *****
 2475 0000012C 00000000                   DATA FOR SOURCE-LINE 176,210
 2476 00000130 00000000                   DATA FOR SOURCE-LINE 193
 2477 00000134 56789ABC                   DATA FOR SOURCE-LINE 195,206
 2478 00000138 00000000                   DATA FOR SOURCE-LINE 199
 2479                                     ***** END-POOL *****
 2480 0000013C                    221     _ET1_INIEND_MOVE:
 2481                             222             SUB_START
 2482 0000013C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2483                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2484                             223     ;;;;;[mc]       FAR_JSR #_ET1_BANK_SEL0_OUT,R1  ;
 2485                             224     
 2486 0000013E D007               225             MOV.L   #_ET1_INIT_REQ,R0
 2487                             226             REG_MOV_TO_MEM  DST_ADR=_ET_CPUB_SND_INI_ET1,L1=L,DT_REG=R0,WKREG1=R1
 2488 00000140 D107                   M           MOV.L   #_ET_CPUB_SND_INI_ET1,R1        ;DST_ADR
 2489 00000142 2102                   M           MOV.L   R0,@R1  ;DST_ADR
 2490                             227     
 2491                             228     ;       ==== CPUA<=>ET1 ====
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE     9
PROGRAM NAME =

 2492                             229             MEM_MOV_TO_MEM  SRC_ADR=_CPUA_SND_INI_ET1,L1=L,DST_ADR=_ET_CPUA_SND_INI_ET1,L2=L,W
                                          KREG1=R1,WKREG2=R2,WKREG3=R3
 2493 00000144 D107                   M           MOV.L   #_CPUA_SND_INI_ET1,R1
 2494 00000146 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2495 00000148 D307                   M           MOV.L   #_ET_CPUA_SND_INI_ET1,R3        ;DST_ADR
 2496 0000014A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2497                             230             MEM_MOV_TO_MEM  SRC_ADR=_ET_CPUA_RCV_INI_ET1,L1=L,DST_ADR=_CPUA_RCV_INI_ET1,L2=L,W
                                          KREG1=R1,WKREG2=R2,WKREG3=R3
 2498 0000014C D107                   M           MOV.L   #_ET_CPUA_RCV_INI_ET1,R1
 2499 0000014E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2500 00000150 D307                   M           MOV.L   #_CPUA_RCV_INI_ET1,R3   ;DST_ADR
 2501 00000152 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2502                             231     
 2503                             232             SUB_END
 2504                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2505 00000154 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2506                             233             M_RTS
 2507 00000156 000B                   M           RTS                             ;RTSの後ろの
 2508 00000158 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2509                             234     
 2510                             235     ;       ***********************************
 2511                             236     ;       ***                             ***
 2512                             237     ;       ***     Input R2                ***
 2513                             238     ;       ***                             ***
 2514                             239     ;       ***********************************
 2515                             240     ;;;;;[mc]_ET1_BANK_SEL0_OUT:
 2516                             241     ;;;;;[mc]       SUB_START
 2517                             242     ;;;;;[mc]
 2518                             243     ;;;;;[mc]       XOR     R2,R2
 2519                             244     ;;;;;[mc]       MOV.L   #_ET1_BANK_SEL,R1                       ;
 2520                             245     ;;;;;[mc]       MOV.W   R2,@R1                                  ;
 2521                             246     ;;;;;[mc]
 2522                             247     ;;;;;[mc]       MOV.L   #_MEM_BNK_ADR1,R1               ;1BYTE(H'900 d0=0/d0=1 bank)
 2523                             248     ;;;;;[mc]       MOV.B   R2,@R1                          ;BANK OUT
 2524                             249     ;;;;;[mc]
 2525                             250     ;;;;;[mc]       SUB_END
 2526                             251     ;;;;;[mc]       M_RTS
 2527                             252     
 2528                             253     ;       ***********************************
 2529                             254     ;       ***                             ***
 2530                             255     ;       ***     CPUA-->ET1              ***
 2531                             256     ;       ***             DATA,TRIG       ***
 2532                             257     ;       ***     ET1-->CPUA              ***
 2533                             258     ;       ***                             ***
 2534                             259     ;       ***********************************
 2535                                     ***** BEGIN-POOL *****
 2536 0000015A 0000                       ALIGNMENT CODE
 2537 0000015C 12345678                   DATA FOR SOURCE-LINE 225
 2538 00000160 00000000                   DATA FOR SOURCE-LINE 226
 2539 00000164 00000000                   DATA FOR SOURCE-LINE 229
 2540 00000168 00000000                   DATA FOR SOURCE-LINE 229
 2541 0000016C 00000000                   DATA FOR SOURCE-LINE 230
 2542 00000170 00000000                   DATA FOR SOURCE-LINE 230
 2543                                     ***** END-POOL *****
 2544 00000174                    260     _ET1_CPUA_DT_MOVE:
 2545                             261             SUB_START
 2546 00000174 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    10
PROGRAM NAME =

 2547                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2548                             262     
 2549 00000176 D10A               263             MOV.L   #_CPUA_SND_REQ_ET1,R1           ;
 2550 00000178 6212               264             MOV.L   @R1,R2                          ;
 2551 0000017A D10A               265             MOV.L   #_CPUA_REQ_OLD,R1               ;
 2552 0000017C 6012               266             MOV.L   @R1,R0                          ;
 2553 0000017E 2122               267             MOV.L   R2,@R1                          ;
 2554 00000180 202A               268             XOR     R2,R0                           ;
 2555 00000182 2008               269             TST     R0,R0                           ;
 2556                             270             TST_BIT_OF ET1_CPUA_DT_MV100            ;ﾄﾘｶﾞ変化なし
 2557 00000184 8920                   M           BT      ET1_CPUA_DT_MV100
 2558                             271     
 2559                             272      MEM_WORD_BLOCK_MOV1 SRC_ADR=_CPUA_SND_DAT,DST_ADR=_ET_CPUA_SND_DAT,CNT_DAT=_ET1_CPUAB_BUF
                                          _MAX/2,DT_REG=R2,CNT_REG=R3
 2560 00000186 DA08                   M           MOV.L   #_CPUA_SND_DAT,R10                      ;
 2561 00000188 DB08                   M           MOV.L   #_ET_CPUA_SND_DAT,R11                   ;
 2562 0000018A 9307                   M           MOV.W   #_ET1_CPUAB_BUF_MAX/2,R3                ;
 2563                                 M           BLOCK_MOV1      W,2,R10,R11,R2,R3
 2564 0000018C                        M   JMP000000:                                      ;
 2565 0000018C 2338                   M           TST     R3,R3   ;
 2566                                 M           TST_BIT_OF JMP100000            ;
 2567 0000018E 890F                   M           BT      JMP100000
 2568 00000190 62A5                   M           MOV.W   @R10+,R2        ;
 2569 00000192 2B21                   M           MOV.W   R2,@R11 ;
 2570 00000194 7B02                   M           ADD     #2,R11  ;
 2571 00000196 73FF                   M           ADD     #H'FF,R3                ;
 2572                                 M           M_BRA   JMP000000                       ;
 2573 00000198 AFF8                   M           BRA     JMP000000
 2574 0000019A 0009                   M           NOP
 2575                                 M   ***** BEGIN-POOL *****
 2576 0000019C 0080                   M   DATA FOR SOURCE-LINE 272
 2577 0000019E 0000                   M   ALIGNMENT CODE
 2578 000001A0 00000000               M   DATA FOR SOURCE-LINE 263
 2579 000001A4 00000000               M   DATA FOR SOURCE-LINE 265
 2580 000001A8 00000000               M   DATA FOR SOURCE-LINE 272
 2581 000001AC 00000000               M   DATA FOR SOURCE-LINE 272
 2582                                 M   ***** END-POOL *****
 2583 000001B0                        M   JMP100000:                                      ;
 2584                             273      MEM_MOV_TO_MEM SRC_ADR=_CPUA_SND_REQ_CNT,L1=L,DST_ADR=_ET_CPUA_SND_REQ_CNT,L2=L,WKREG1=R1
                                          ,WKREG2=R2,WKREG3=R3
 2585 000001B0 D109                   M           MOV.L   #_CPUA_SND_REQ_CNT,R1
 2586 000001B2 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2587 000001B4 D309                   M           MOV.L   #_ET_CPUA_SND_REQ_CNT,R3        ;DST_ADR
 2588 000001B6 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2589                             274     
 2590                             275     
 2591                             276     ;;;;_ET1_CPUAB_BUF_MAX=256
 2592                             277     ;;;     MOV.L   #_CPUA_SND_DAT,R10                      ;SRC_TOP
 2593                             278     ;;;     MOV.L   #_ET_CPUA_SND_DAT,R11                   ;DST_TOP
 2594                             279     ;;;     MOV.L   #_CPUA_SND_REQ_CNT,R1                   ;CNT
 2595                             280     ;;;     MOV.W   @R1,R3                                  ;
 2596                             281     ;;;     PUSH_REG1 R3                                    ;
 2597                             282     ;;;     SHLR    R3                                      ;1/2
 2598                             283     ;;;     BLOCK_MOV1      W,2,R10,R11,R2,R3               ;
 2599                             284     ;;;     POP_REG1 R3
 2600                             285     ;;;     MOV.L   #_ET_CPUA_SND_REQ_CNT,R1                ;
 2601                             286     ;;      MOV.W   R3,@R1                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    11
PROGRAM NAME =

 2602                             287     
 2603                             288      MEM_MOV_TO_MEM SRC_ADR=_CPUA_SND_REQ_ADR,L1=L,DST_ADR=_ET_CPUA_SND_REQ_ADR,L2=L,WKREG1=R1
                                          ,WKREG2=R2,WKREG3=R3
 2604 000001B8 D109                   M           MOV.L   #_CPUA_SND_REQ_ADR,R1
 2605 000001BA 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2606 000001BC D309                   M           MOV.L   #_ET_CPUA_SND_REQ_ADR,R3        ;DST_ADR
 2607 000001BE 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2608                             289     
 2609                             290     ;;;-2014-09-30不具合の元?
 2610                             291     ;;;     MEM_MOV_TO_MEM  SRC_ADR=_CPUA_SND_REQ_ET1,L1=L,DST_ADR=_ET_CPUA_SND_REQ_ET1,L2=L,W
                                          KREG1=R1,WKREG2=R2,WKREG3=R3
 2611                             292             MEM_MOV_TO_MEM  SRC_ADR=_CPUA_REQ_OLD,L1=L,DST_ADR=_ET_CPUA_SND_REQ_ET1,L2=L,WKREG
                                          1=R1,WKREG2=R2,WKREG3=R3
 2612 000001C0 D109                   M           MOV.L   #_CPUA_REQ_OLD,R1
 2613 000001C2 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2614 000001C4 D309                   M           MOV.L   #_ET_CPUA_SND_REQ_ET1,R3        ;DST_ADR
 2615 000001C6 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2616                             293     
 2617                             294     
 2618                             295     
 2619                             296     
 2620                             297     
 2621 000001C8                    298     ET1_CPUA_DT_MV100:
 2622                             299     
 2623                             300     ;       ------------- ET1 --> CPUA ---------------
 2624                             301      MEM_MOV_TO_MEM SRC_ADR=_ET_CPUA_RCV_ACK_ET1,L1=L,DST_ADR=_CPUA_RCV_ACK_ET1,L2=L,WKREG1=R1
                                          ,WKREG2=R2,WKREG3=R3
 2625 000001C8 D109                   M           MOV.L   #_ET_CPUA_RCV_ACK_ET1,R1
 2626 000001CA 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2627 000001CC D309                   M           MOV.L   #_CPUA_RCV_ACK_ET1,R3   ;DST_ADR
 2628 000001CE 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2629                             302     
 2630                             303             SUB_END
 2631                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2632 000001D0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2633                             304             M_RTS
 2634 000001D2 000B                   M           RTS                             ;RTSの後ろの
 2635 000001D4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2636                             305     
 2637                             306     
 2638                             307     ;       ***********************************
 2639                             308     ;       ***                             ***
 2640                             309     ;       ***     CPUB-->ET1              ***
 2641                             310     ;       ***             DATA,TRIG       ***
 2642                             311     ;       ***                             ***
 2643                             312     ;       ***********************************
 2644                             313     ;       128byte単位で7FFFまで転送する
 2645                             314     ;;;;;;;;;2006-12-01     _CPUB_ET1_BLK           .EQU    128             ;128byte()
 2646                             315     ;;;;;;;;;2006-12-01     _CPUB_ET1_ADRMAX        .EQU    H'7000          ;0~6FFF
 2647                             316     
 2648                             317     ;;;;;;;;;2006-12-01     _ET1_SV_DATA_SEND:
 2649                             318     ;;;;;;;;;2006-12-01             SUB_START
 2650                             319     ;;;;;;;;;2006-12-01             MOV.L   #_CPU_REQ_DAT_FLG,R1                    ;
 2651                             320     ;;;;;;;;;2006-12-01             MOV.W   @R1,R0                                  ;
 2652                             321     ;;;;;;;;;2006-12-01             TST     R0,R0                                   ;
 2653                             322     ;;;;;;;;;2006-12-01             TST_BIT_ON ET1_SV_DATASEND_100                  ;
 2654                             323     ;;;;;;;;;2006-12-01             M_BRA   ET1_SV_DATASEND_EXT                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    12
PROGRAM NAME =

 2655                             324     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_100:
 2656                             325     ;;;;;;;;;2006-12-01             TST     #BIT1,R0                                ;
 2657                             326     ;;;;;;;;;2006-12-01             TST_BIT_ON ET1_SV_DATASEND_150                  ;
 2658                             327     ;;;;;;;;;2006-12-01
 2659                             328     ;;;;;;;;;2006-12-01             MEM1_BIT0_TO_BIT7_ORSET MEM=_CPU_REQ_DAT_FLG,LG=W,BIT=BIT1
                                          ,WKREG=R1       ;bit-set
 2660                             329     ;;;;;;;;;2006-12-01             XOR     R0,R0
 2661                             330     ;;;;;;;;;2006-12-01             REG_MOV_TO_MEM  DST_ADR=_CPU_REQ_DAT_CNT,L1=L,DT_REG=R0,WK
                                          REG1=R1
 2662                             331     ;;;;;;;;;2006-12-01             M_BRA   ET1_SV_DATASEND_EXT                     ;
 2663                             332     
 2664                             333     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_150:
 2665                             334     ;;;;;;;;;2006-12-01             MOV.L   #_ET_CPUB_SND_REQ_ET1,R8                ;
 2666                             335     ;;;;;;;;;2006-12-01             MOV.L   #_ET_CPUB_RCV_ACK_ET1,R9                ;
 2667                             336     ;;;;;;;;;2006-12-01             MOV.L   @R8,R0                                  ;
 2668                             337     ;;;;;;;;;2006-12-01             MOV.L   @R9,R1                                  ;
 2669                             338     ;;;;;;;;;2006-12-01             CMP/EQ  R1,R0                                   ;
 2670                             339     ;;;;;;;;;2006-12-01             BF      ET1_SV_DATASEND_EXT                     ;EQではな
                                          い.WAIT
 2671                             340     ;;;;;;;;;2006-12-01     ;       -----------------------------------------------
 2672                             341     ;;;;;;;;;2006-12-01             MOV.L   #_CPU_REQ_DAT_CNT,R5                    ;
 2673                             342     ;;;;;;;;;2006-12-01             MOV.L   @R5,R2                                  ;0~6FFF/12
                                          8byte
 2674                             343     ;;;;;;;;;2006-12-01             MOV.L   #(_CPUB_ET1_ADRMAX/_CPUB_ET1_BLK),R3    ;
 2675                             344     ;;;;;;;;;2006-12-01             CMP/HI  R2,R3                                   ;R2 < R3
 2676                             345     ;;;;;;;;;2006-12-01             BT      ET1_SV_DATASEND_200                     ;
 2677                             346     ;;;;;;;;;2006-12-01             XOR     R2,R2                                   ;
 2678                             347     ;;;;;;;;;2006-12-01             MOV.L   R2,@R5                                  ;
 2679                             348     ;;;;;;;;;2006-12-01             M_BRA   ET1_SV_DATASEND_900                     ;
 2680                             349     ;;;;;;;;;2006-12-01
 2681                             350     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_200:                                    ;Input R2
 2682                             351     ;;;;;;;;;2006-12-01             MOV.L   #(STARTOF Bfram),R5                     ;
 2683                             352     ;;;;;;;;;2006-12-01             MOV.W   #_CPUB_ET1_BLK,R3                       ;
 2684                             353     ;;;;;;;;;2006-12-01             DMULS.L R2,R3                                   ;CNT*128by
                                          te
 2685                             354     ;;;;;;;;;2006-12-01             STS.L   MACL,R6                                 ;
 2686                             355     ;;;;;;;;;2006-12-01
 2687                             356     ;;;;;;;;;2006-12-01             SHLR    R3
 2688                             357     ;;;;;;;;;2006-12-01             MOV.L   #_ET_CPUB_SND_REQ_CNT,R1                ;
 2689                             358     ;;;;;;;;;2006-12-01             MOV.L   R3,@R1                                  ;128byte/2
                                          =64word
 2690                             359     ;;;;;;;;;2006-12-01             MOV.L   #_ET_CPUB_SND_REQ_ADR,R1                ;
 2691                             360     ;;;;;;;;;2006-12-01             MOV.L   R6,@R1                                  ;ADRESS
 2692                             361     ;;;;;;;;;2006-12-01             ADD     R6,R5                                   ;
 2693                             362     ;;;;;;;;;2006-12-01             MOV.L   #_ET_CPUB_SND_DAT,R7                    ;
 2694                             363     ;;;;;;;;;2006-12-01
 2695                             364     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_LOP:
 2696                             365     ;;;;;;;;;2006-12-01             TST     R3,R3                                   ;
 2697                             366     ;;;;;;;;;2006-12-01             TST_BIT_OF ET1_SV_DATASEND_800
 2698                             367     ;;;;;;;;;2006-12-01             MOV.W   @R5+,R1                                 ;
 2699                             368     ;;;;;;;;;2006-12-01             MOV.W   R1,@R7
 2700                             369     ;;;;;;;;;2006-12-01             ADD     #2,R7
 2701                             370     ;;;;;;;;;2006-12-01             ADD     #-1,R3
 2702                             371     ;;;;;;;;;2006-12-01             M_BRA   ET1_SV_DATASEND_LOP
 2703                             372     ;;;;;;;;;2006-12-01
 2704                             373     ;;;;;;;;;2006-12-01     ;       -------------(HAND)---------------------------------
 2705                             374     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_800:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    13
PROGRAM NAME =

 2706                             375     ;;;;;;;;;2006-12-01             XOR     R1,R1
 2707                             376     ;;;;;;;;;2006-12-01             MOV.L   @R8,R0                                  ;
 2708                             377     ;;;;;;;;;2006-12-01             TST     R0,R0                                   ;
 2709                             378     ;;;;;;;;;2006-12-01             TST_BIT_ON ET1_SV_DATASEND_820                  ;
 2710                             379     ;;;;;;;;;2006-12-01             MOV.L   #_ET1_DATA_COD,R1                       ;
 2711                             380     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_820:                                    ;
 2712                             381     ;;;;;;;;;2006-12-01             MOV.L   R1,@R8                                  ;NEW REQ
 2713                             382     ;;;;;;;;;2006-12-01
 2714                             383     ;;;;;;;;;2006-12-01             MOV.L   #_CPU_REQ_DAT_CNT,R1                    ;
 2715                             384     ;;;;;;;;;2006-12-01             MOV.L   @R1,R0                                  ;
 2716                             385     ;;;;;;;;;2006-12-01             ADD     #1,R0                                   ;
 2717                             386     ;;;;;;;;;2006-12-01             MOV.L   R0,@R1                                  ;
 2718                             387     ;;;;;;;;;2006-12-01             M_BRA   ET1_SV_DATASEND_EXT
 2719                             388     ;;;;;;;;;2006-12-01
 2720                             389     ;;;;;;;;;2006-12-01     ;       -------------(END)---------------------------------
 2721                             390     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_900:
 2722                             391     ;;;;;;;;;2006-12-01             XOR     R0,R0
                                                  ;
 2723                             392     ;;;;;;;;;2006-12-01             REG_MOV_TO_MEM  DST_ADR=_CPU_REQ_DAT_FLG,L1=W,DT_REG=R0,WK
                                          REG1=R1 ;
 2724                             393     ;;;;;;;;;2006-12-01             XOR     R0,R0
                                                  ;
 2725                             394     ;;;;;;;;;2006-12-01             REG_MOV_TO_MEM  DST_ADR=_CPU_REQ_DAT_CNT,L1=L,DT_REG=R0,WK
                                          REG1=R1 ;
 2726                             395     ;;;;;;;;;2006-12-01
                                                  ;
 2727                             396     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_EXT:
 2728                             397     ;;;;;;;;;2006-12-01             SUB_END
 2729                             398     ;;;;;;;;;2006-12-01             M_RTS
 2730                             399     
 2731                             400     
 2732                             401     ;       *******************************************
 2733                             402     ;       ***                                     ***
 2734                             403     ;       ***             KOMTRAX機能時有効       ***
 2735                             404     ;       ***                                     ***
 2736                             405     ;       *******************************************
 2737                             406     ;       ----------ｲﾍﾞﾝﾄｺｰﾄﾞ→CMD送信------------
 2738                             407             .IMPORT         _IROCK_OUT_NO           ;2byte*8 [8]....MSG-NO  [FFFF 0~319 POWER-
                                          ON=0注意]
 2739                             408             .IMPORT         _IROCK_CHAR             ;1byte [8][8]...MSG-data
 2740                             409     
 2741                             410             .IMPORT         _FRAM_CB_ICHAR          ;H'6000 256byte
 2742                             411     
 2743                             412     ;       ---------- 2009-07-27(KOMTRAX)-----------
 2744                             413     ;       ---------- ｼｰｹﾝｽ出力(CPUB-->SEQ)
 2745                             414     ;       ---------- ｼｰｹﾝｽﾚﾌﾚｯｼｭ (KOMTRAX-->CPUB-->SEQ)
 2746                             415     ;       ---------- ｼｰｹﾝｽﾚﾌﾚｯｼｭ (KOMTRAX<--CPUB--SEQ)
 2747                             416     ;       ---------- ｲﾍﾞﾝﾄﾒｯｾｰｼﾞ転送
 2748                             417     
 2749                                     ***** BEGIN-POOL *****
 2750 000001D6 0000                       ALIGNMENT CODE
 2751 000001D8 00000000                   DATA FOR SOURCE-LINE 273
 2752 000001DC 00000000                   DATA FOR SOURCE-LINE 273
 2753 000001E0 00000000                   DATA FOR SOURCE-LINE 288
 2754 000001E4 00000000                   DATA FOR SOURCE-LINE 288
 2755 000001E8 00000000                   DATA FOR SOURCE-LINE 292
 2756 000001EC 00000000                   DATA FOR SOURCE-LINE 292
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    14
PROGRAM NAME =

 2757 000001F0 00000000                   DATA FOR SOURCE-LINE 301
 2758 000001F4 00000000                   DATA FOR SOURCE-LINE 301
 2759                                     ***** END-POOL *****
 2760          000000E2           418     _SQ113          .EQU    113*2           ;SEQ--->CPUB指令　2011-01-14 113.9
 2761          0000012A           419     _SQ149          .EQU    149*2           ;SEQ--->CPUB-->KOMTRAX
 2762          000000AC           420     _SQ086          .EQU    86*2            ;KOMTRAX-->CPUB-->SEQ()
 2763          000000AE           421     _SQ087          .EQU    87*2            ;CPUB-->SEQ(BIT3=ｲﾍﾞﾝﾄ,BIT2=1ｻｲｸﾙ)
 2764          00000001           422     __KMTCMD_WR     .EQU    BIT0            ;
 2765          00000002           423     __KMTCMD_RD     .EQU    BIT1            ;
 2766                             424     
 2767                             425     ;       ----------- SITM MEM-MAP------
 2768                             426     
 2769                             427     ;       ========== SIT==>KOMTRAX ====
 2770          00000000           428     __SITM_HANDWR   .EQU    0*2             ;
 2771          00000002           429     __SITM_HANDCNT  .EQU    1*2             ;2byte
 2772                             430     
 2773          00000004           431     __SITM_CHRTOP1  .EQU    2*2             ;byte adress
 2774          00000008           432     __SITM_CHRCNT   .EQU    8               ;8byte
 2775                             433     
 2776          0000000C           434     __SITM_AIDAT1   .EQU    6*2             ;
 2777          00000008           435     __SITM_AIDTCNT  .EQU    2*4             ;2byte*4CH
 2778                             436     
 2779          00000014           437     __SITM_MENTCNT  .EQU    10*2            ;4byte
 2780          00000004           438     __SITM_MCNTCNT  .EQU    4               ;
 2781                             439     
 2782                             440     ;       -------------- KOMTRAX==>SIT====
 2783          00000064           441     __SITM_OUT_TOP  .EQU    50*2            ;
 2784          00000020           442     __SITM_OUTCNT   .EQU    16*2            ;16word/MAX(50W)
 2785                             443     
 2786          00000064           444     __SITM_HANDRD   .EQU    __SITM_OUT_TOP+0*2      ;0
 2787                             445                                                     ;1　1:DO指令なので別I/Oで送信される
 2788          00000068           446     __SITM_TRSSTS1  .EQU    __SITM_OUT_TOP+2*2      ;2
 2789          0000006A           447     __SITM_ERRSTS1  .EQU    __SITM_OUT_TOP+3*2      ;3
 2790          0000006C           448     __SITM_WARSTS1  .EQU    __SITM_OUT_TOP+4*2      ;4
 2791          0000006E           449     __SITM_TRSSTS2  .EQU    __SITM_OUT_TOP+5*2      ;5
 2792          00000070           450     __SITM_KMTTYPE  .EQU    __SITM_OUT_TOP+6*2      ;6:5A01が011型KOMTRAX対応 2011-01-14
 2793                             451     
 2794                             452     
 2795                             453     ;-------__SITM_KMTTYPEのﾃﾞｰﾀの中身 2011-01-14
 2796          00005A01           454     __SIT_VER_TYP2_COD      .EQU    H'5A01                  ;SIT4へﾒﾓﾘ拡張されたｿﾌﾄであること
                                          を通知する
 2797                             455     
 2798                             456     ;       ---------　EVENT　信号---------
 2799          00000032           457     __EVENT_SIG_ONTIMSV     .EQU    500/__TM_LATE10MS       ;300msec ｲﾍﾞﾝﾄのための信号(送信処
                                          理100msec,)
 2800          00000032           458     __EVENT_SIG_OFTIMSV     .EQU    500/__TM_LATE10MS       ;300msec ｲﾍﾞﾝﾄのための信号(送信処
                                          理100msec,)
 2801                             459     
 2802                             460     ;       ----------------- 1CYCLE
 2803          00000014           461     __CYCLE_SIG_TIMSV       .EQU    20      ;20msec　15~25msec　50msec:1秒で20回転　1200spmま
                                          で可能
 2804                             462     
 2805                             463     
 2806                             464     
 2807                             465     ;       -----------2011-01-14-------
 2808          000000C8           466     __SITM_SYOUMO_TOP       .EQU    100*2   ;
 2809          00000040           467     __SITM_SYOUMO_CNT       .EQU    32*2    ;64byte
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    15
PROGRAM NAME =

 2810                             468     
 2811          00000108           469     __SITM_HINBAN_TOP       .EQU    132*2   ;
 2812          000000A0           470     __SITM_HINBAN_CNT       .EQU    80*2    ;160byte
 2813                             471     
 2814                             472     
 2815          00000064           473     __HINBAN_SIG_ONTIMSV    .EQU    1000/__TM_LATE10MS      ;1000msec保証   ;200/__TM_LATE10MS
                                                  ;150msec保証
 2816          00000064           474     __HINBAN_SIG_OFTIMSV    .EQU    1000/__TM_LATE10MS      ;1000msec保証   ;200/__TM_LATE10MS
                                                  ;150msec保証
 2817                             475     
 2818          00000014           476     __SYOUMO_SIG_ONTIMSV    .EQU    200/__TM_LATE10MS       ;150msec保証
 2819          00000014           477     __SYOUMO_SIG_OFTIMSV    .EQU    200/__TM_LATE10MS       ;150msec保証
 2820                             478     
 2821                             479     
 2822          00000006           480     _HINBAN_BUF_MAX         .EQU    6               ;ｶｳﾝﾀMAX
 2823                             481     
 2824                             482     ;       ***********************************
 2825                             483     ;       ***                             ***
 2826                             484     ;       ***     高速処理 1ms~5mse       ***
 2827                             485     ;       ***                             ***
 2828                             486     ;       ***********************************
 2829                             487     ;
 2830                             488     ;
 2831 000001F8                    489             .ALIGN  4                                       ;
 2832 000001F8                    490     _KOMTRAX_DATA_CTRL
 2833                             491             SUB_START
 2834 000001F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2835                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2836                             492     
 2837                             493             FAR_JSR #_KMT_1CYCLE_SIGCHK,R0                  ;1CYCLE 信号////OK
 2838 000001FA D006                   M           MOV.L   #_KMT_1CYCLE_SIGCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2839 000001FC 400B                   M           JSR     @R0                     ;
 2840 000001FE 0009                   M           NOP                                     ;
 2841                             494     
 2842                             495     ;       --------------------------------
 2843                             496             FAR_JSR #_KMT_SEQ_REF1,R0                       ;DI/DO///////OK
 2844 00000200 D005                   M           MOV.L   #_KMT_SEQ_REF1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2845 00000202 400B                   M           JSR     @R0                     ;
 2846 00000204 0009                   M           NOP                                     ;
 2847                             497     
 2848                             498     ;;;;;;  2011-01-14 ﾒｲﾝｽｷｬﾝへ　処理軽減
 2849                             499     ;;;;;;  ----------ｲﾍﾞﾝﾄｺｰﾄﾞ→CMD送信------------
 2850                             500     ;;;;;;  FAR_JSR #_KMT_EVENT_INT_STEP,R0                 ;ﾒｲﾝｽｷｬﾝでもいい
 2851                             501     
 2852                             502     ;       ------------------ CMD制御---------------------
 2853                             503     ;       ---------ｺﾏﾝﾄﾞ/ﾃﾞｰﾀを受け取ってwrする/readも可能-----------------------
 2854                             504             FAR_JSR #_KMT_CMD_TRS,R0                        ;SIT => COMMAD,DATA => KMT
 2855 00000206 D005                   M           MOV.L   #_KMT_CMD_TRS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2856 00000208 400B                   M           JSR     @R0                     ;
 2857 0000020A 0009                   M           NOP                                     ;
 2858                             505                                                             ;SIT <= RESOPONSE   <= KMT
 2859                             506     
 2860                             507     
 2861                             508             SUB_END
 2862                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2863 0000020C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2864                             509             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    16
PROGRAM NAME =

 2865 0000020E 000B                   M           RTS                             ;RTSの後ろの
 2866 00000210 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2867                             510     
 2868                             511     
 2869                             512     
 2870                                     ***** BEGIN-POOL *****
 2871 00000212 0000                       ALIGNMENT CODE
 2872 00000214 00000000                   DATA FOR SOURCE-LINE 493
 2873 00000218 00000000                   DATA FOR SOURCE-LINE 496
 2874 0000021C 00000000                   DATA FOR SOURCE-LINE 504
 2875                                     ***** END-POOL *****
 2876 00000220                    513     _KOMTRAX_TIMCNT:
 2877                             514             SUB_START
 2878 00000220 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2879                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2880                             515     
 2881                             516     ;;;2011-01-14   DN_TIME LG=W,MEM_ADR=_KMT_HANDWDT_TIM,WKREG1=R1,WKREG2=R2       ;
 2882                             517     
 2883                             518     
 2884                             519     ;       ------------ 2011-01-14 10MSEC 作成 ---------------
 2885 00000222 D104               520             MOV.L   #_KMT_PROC_10MS,R1                              ;10msecﾀｲﾏ作成
 2886 00000224 6011               521             MOV.W   @R1,R0                                          ;
 2887 00000226 2008               522             TST     R0,R0                                           ;
 2888                             523             TST_BIT_OF KOMTRAX_TIMCT10_100                          ;
 2889 00000228 8906                   M           BT      KOMTRAX_TIMCT10_100
 2890 0000022A 70FF               524             ADD     #-1,R0                                          ;
 2891 0000022C 2101               525             MOV.W   R0,@R1                                          ;
 2892                             526             M_BRA   KOMTRAX_TIMCT10_200                             ;
 2893 0000022E A008                   M           BRA     KOMTRAX_TIMCT10_200
 2894 00000230 0009                   M           NOP
 2895                                     ***** BEGIN-POOL *****
 2896 00000232 0000                       ALIGNMENT CODE
 2897 00000234 00000000                   DATA FOR SOURCE-LINE 520
 2898                                     ***** END-POOL *****
 2899 00000238                    527     KOMTRAX_TIMCT10_100:
 2900 00000238 9006               528             MOV.W   #D'10-1,R0                                      ;
 2901 0000023A 2101               529             MOV.W   R0,@R1                                          ;
 2902                             530     
 2903                             531             FAR_JSR #_KMT_10MSEC_TIM,R0                                     ;2011-01-14
 2904 0000023C D003                   M           MOV.L   #_KMT_10MSEC_TIM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2905 0000023E 400B                   M           JSR     @R0                     ;
 2906 00000240 0009                   M           NOP                                     ;
 2907                             532     
 2908 00000242                    533     KOMTRAX_TIMCT10_200:
 2909                             534     
 2910                             535             SUB_END
 2911                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2912 00000242 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2913                             536             M_RTS
 2914 00000244 000B                   M           RTS                             ;RTSの後ろの
 2915 00000246 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2916                             537     
 2917                             538     ;       *******************************************
 2918                             539     ;       ***                                     ***
 2919                             540     ;       ***     処理軽減のため10msecタイマ使用  ***
 2920                             541     ;       ***                                     ***
 2921                             542     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    17
PROGRAM NAME =

 2922                             543     ;       ----------2011-01-14----
 2923                                     ***** BEGIN-POOL *****
 2924 00000248 0009                       DATA FOR SOURCE-LINE 528
 2925 0000024A 0000                       ALIGNMENT CODE
 2926 0000024C 00000000                   DATA FOR SOURCE-LINE 531
 2927                                     ***** END-POOL *****
 2928 00000250                    544     _KMT_10MSEC_TIM:
 2929                             545             SUB_START
 2930 00000250 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2931                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2932                             546     
 2933                             547             DN_TIME LG=W,MEM_ADR=_KMT_HINBAN_SIGTIM,WKREG1=R1,WKREG2=R2
 2934 00000252 D10D                   M           MOV.L   #_KMT_HINBAN_SIGTIM,R1          ;SORCE ADRESS SET
 2935 00000254 6211                   M           MOV.W   @R1,R2          ;
 2936 00000256 2228                   M           TST     R2,R2                   ;
 2937 00000258 8901                   M           BT      JMP_0100001                     ;ZERO THEN JUMP
 2938 0000025A 4210                   M           DT      R2                              ;
 2939 0000025C 2121                   M           MOV.W   R2,@R1          ;STORE
 2940 0000025E                        M   JMP_0100001:
 2941                             548             DN_TIME LG=W,MEM_ADR=_KMT_SYOUMO_SIGTIM,WKREG1=R1,WKREG2=R2
 2942 0000025E D10B                   M           MOV.L   #_KMT_SYOUMO_SIGTIM,R1          ;SORCE ADRESS SET
 2943 00000260 6211                   M           MOV.W   @R1,R2          ;
 2944 00000262 2228                   M           TST     R2,R2                   ;
 2945 00000264 8901                   M           BT      JMP_0100002                     ;ZERO THEN JUMP
 2946 00000266 4210                   M           DT      R2                              ;
 2947 00000268 2121                   M           MOV.W   R2,@R1          ;STORE
 2948 0000026A                        M   JMP_0100002:
 2949                             549     
 2950                             550             DN_TIME LG=W,MEM_ADR=_KMT_HANDWDT_TIM,WKREG1=R1,WKREG2=R2       ;1msec->10msecへ 2
                                          011-01-14
 2951 0000026A D109                   M           MOV.L   #_KMT_HANDWDT_TIM,R1            ;SORCE ADRESS SET
 2952 0000026C 6211                   M           MOV.W   @R1,R2          ;
 2953 0000026E 2228                   M           TST     R2,R2                   ;
 2954 00000270 8901                   M           BT      JMP_0100003                     ;ZERO THEN JUMP
 2955 00000272 4210                   M           DT      R2                              ;
 2956 00000274 2121                   M           MOV.W   R2,@R1          ;STORE
 2957 00000276                        M   JMP_0100003:
 2958                             551             DN_TIME LG=W,MEM_ADR=_KMT_EVENT_SIGTIM,WKREG1=R1,WKREG2=R2      ;1msec->10msecへ 2
                                          011-01-14
 2959 00000276 D107                   M           MOV.L   #_KMT_EVENT_SIGTIM,R1           ;SORCE ADRESS SET
 2960 00000278 6211                   M           MOV.W   @R1,R2          ;
 2961 0000027A 2228                   M           TST     R2,R2                   ;
 2962 0000027C 8901                   M           BT      JMP_0100004                     ;ZERO THEN JUMP
 2963 0000027E 4210                   M           DT      R2                              ;
 2964 00000280 2121                   M           MOV.W   R2,@R1          ;STORE
 2965 00000282                        M   JMP_0100004:
 2966                             552     
 2967                             553     
 2968                             554             SUB_END
 2969                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2970 00000282 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2971                             555             M_RTS
 2972 00000284 000B                   M           RTS                             ;RTSの後ろの
 2973 00000286 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2974                             556     
 2975                             557     
 2976                             558     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    18
PROGRAM NAME =

 2977                             559     ;       ***                                     ***
 2978                             560     ;       ***             1CYCLE 信号             ***
 2979                             561     ;       ***             割込                    ***
 2980                             562     ;       *******************************************
 2981                             563             .IMPORT _CPUATOD_1CYCL_SIG              ;BIT0=0/BIT0=1 ｾｯﾄCPUA CLR CPUD
 2982                             564     
 2983                                     ***** BEGIN-POOL *****
 2984 00000288 00000000                   DATA FOR SOURCE-LINE 547
 2985 0000028C 00000000                   DATA FOR SOURCE-LINE 548
 2986 00000290 00000000                   DATA FOR SOURCE-LINE 550
 2987 00000294 00000000                   DATA FOR SOURCE-LINE 551
 2988                                     ***** END-POOL *****
 2989 00000298                    565     _KMT_1CYCLE_SET                                 ;(CPUBのｸﾗｯﾁからCALL)
 2990                             566             SUB_START
 2991 00000298 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2992                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2993 0000029A 9009               567             MOV.W   #__CYCLE_SIG_TIMSV,R0
 2994 0000029C D105               568             MOV.L   #_KMT_1CYCL_SIGTIM,R1           ;
 2995 0000029E 2101               569             MOV.W   R0,@R1                          ;
 2996                             570             MEM1_BIT0_F_ORSET MEM=_KMT_STS_SQ087,LG=W,BIT=(BIT2),WKRG1=R1,WKRG2=R2
 2997 000002A0 D105                   M           MOV.L   #_KMT_STS_SQ087,R1              ;
 2998 000002A2 6011                   M           MOV.W   @R1,R0          ;
 2999 000002A4 9205                   M           MOV.W   #(BIT2),R2              ;
 3000 000002A6 202B                   M           OR      R2,R0           ;
 3001 000002A8 2101                   M           MOV.W   R0,@R1          ;
 3002                             571             SUB_END
 3003                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3004 000002AA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3005                             572             M_RTS
 3006 000002AC 000B                   M           RTS                             ;RTSの後ろの
 3007 000002AE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3008                             573     
 3009                             574     
 3010                                     ***** BEGIN-POOL *****
 3011 000002B0 0014                       DATA FOR SOURCE-LINE 567
 3012 000002B2 0004                       DATA FOR SOURCE-LINE 570
 3013 000002B4 00000000                   DATA FOR SOURCE-LINE 568
 3014 000002B8 00000000                   DATA FOR SOURCE-LINE 570
 3015                                     ***** END-POOL *****
 3016 000002BC                    575     _KMT_1CYCLE_SIGCHK
 3017                             576             SUB_START
 3018 000002BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3019                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3020                             577     
 3021                             578     ;       --------- 2014-09-29 1ｻｲｸﾙ信号をCPUAからもらう----------
 3022 000002BE D10A               579             MOV.L   #_CPUATOD_1CYCL_SIG,R1          ;BIT0=0/BIT0=1 1ｻｲｸﾙ
 3023 000002C0 6011               580             MOV.W   @R1,R0                          ;
 3024 000002C2 C801               581             TST     #BIT0,R0                        ;
 3025                             582             TST_BIT_OF KMT_1CYCLSIGCHK_050          ;1CYCLE ON
 3026 000002C4 8904                   M           BT      KMT_1CYCLSIGCHK_050
 3027 000002C6 200A               583             XOR     R0,R0                           ;
 3028 000002C8 2101               584             MOV.W   R0,@R1                          ;CLR
 3029                             585     
 3030                             586             FAR_JSR #_KMT_1CYCLE_SET,R0             ;
 3031 000002CA D008                   M           MOV.L   #_KMT_1CYCLE_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3032 000002CC 400B                   M           JSR     @R0                     ;
 3033 000002CE 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    19
PROGRAM NAME =

 3034                             587     
 3035 000002D0                    588     KMT_1CYCLSIGCHK_050
 3036                             589     
 3037                             590     
 3038                             591     ;       -----------------------------------------
 3039 000002D0 D107               592             MOV.L   #_KMT_STS_SQ087,R1              ;ok
 3040 000002D2 6011               593             MOV.W   @R1,R0                          ;
 3041 000002D4 C804               594             TST     #BIT2,R0
 3042                             595             TST_BIT_OF KMT_1CYCLSIGCHK_END
 3043 000002D6 8914                   M           BT      KMT_1CYCLSIGCHK_END
 3044                             596     
 3045 000002D8 D106               597             MOV.L   #_KMT_1CYCL_SIGTIM,R1           ;
 3046 000002DA 6011               598             MOV.W   @R1,R0                          ;
 3047 000002DC 2008               599             TST     R0,R0
 3048                             600             TST_BIT_OF KMT_1CYCLSIGCHK_100          ;
 3049 000002DE 890B                   M           BT      KMT_1CYCLSIGCHK_100
 3050 000002E0 70FF               601             ADD     #-1,R0
 3051 000002E2 2101               602             MOV.W   R0,@R1                          ;
 3052                             603             M_BRA   KMT_1CYCLSIGCHK_END             ;
 3053 000002E4 A00D                   M           BRA     KMT_1CYCLSIGCHK_END
 3054 000002E6 0009                   M           NOP
 3055                             604     
 3056                                     ***** BEGIN-POOL *****
 3057 000002E8 00000000                   DATA FOR SOURCE-LINE 579
 3058 000002EC 00000000                   DATA FOR SOURCE-LINE 586
 3059 000002F0 00000000                   DATA FOR SOURCE-LINE 592
 3060 000002F4 00000000                   DATA FOR SOURCE-LINE 597
 3061                                     ***** END-POOL *****
 3062 000002F8                    605     KMT_1CYCLSIGCHK_100
 3063                             606             MEM1_BIT0_F_ADCLR MEM=_KMT_STS_SQ087,LG=W,BIT=~(BIT2),WKRG1=R1,WKRG2=R4 ;
 3064 000002F8 D104                   M           MOV.L   #_KMT_STS_SQ087,R1              ;
 3065 000002FA 6011                   M           MOV.W   @R1,R0          ;
 3066 000002FC 9404                   M           MOV.W   #LWORD ~(BIT2),R4       ;
 3067 000002FE 2049                   M           AND     R4,R0           ;
 3068 00000300 2101                   M           MOV.W   R0,@R1          ;
 3069                             607     
 3070 00000302                    608     KMT_1CYCLSIGCHK_END
 3071                             609             SUB_END
 3072                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3073 00000302 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3074                             610             M_RTS
 3075 00000304 000B                   M           RTS                             ;RTSの後ろの
 3076 00000306 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3077                             611     
 3078                             612     
 3079                             613     ;       *******************************************
 3080                             614     ;       ***                                     ***
 3081                             615     ;       ***             ｼｰｹﾝｽ1WORD転送処理      ***
 3082                             616     ;       ***             (read/write)            ***
 3083                             617     ;       ***             割り込み                ***
 3084                             618     ;       *******************************************
 3085                                     ***** BEGIN-POOL *****
 3086 00000308 FFFB                       DATA FOR SOURCE-LINE 606
 3087 0000030A 0000                       ALIGNMENT CODE
 3088 0000030C 00000000                   DATA FOR SOURCE-LINE 606
 3089                                     ***** END-POOL *****
 3090 00000310                    619             .ALIGN  4                                       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    20
PROGRAM NAME =

 3091 00000310                    620     _KMT_SEQ_REF1:
 3092                             621             SUB_START
 3093 00000310 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3094                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3095                             622     
 3096                             623     
 3097                             624     ;       ----- SEQ149 -->DPRAM
 3098                             625             MEM_MOV_TO_MEM  SRC_ADR=_SEQ_DP_TOP+_SQ149,L1=W,DST_ADR=_ET2_SEQ_IDT01,L2=W,WKREG1
                                          =R0,WKREG2=R1,WKREG3=R2 ;
 3099 00000312 D00C                   M           MOV.L   #_SEQ_DP_TOP+_SQ149,R0
 3100 00000314 6101                   M           MOV.W   @R0,R1  ;WK1=SRC_ADR WK2=data
 3101 00000316 D20C                   M           MOV.L   #_ET2_SEQ_IDT01,R2      ;DST_ADR
 3102 00000318 2211                   M           MOV.W   R1,@R2  ;DST_ADR
 3103                             626     
 3104                             627     ;       ----- DPRAM -->SEQ 86
 3105                             628             MEM_MOV_TO_MEM  SRC_ADR=_ET2_SEQ_QDT01,L1=W,DST_ADR=_SEQ_DP_TOP+_SQ086,L2=W,WKREG1
                                          =R0,WKREG2=R1,WKREG3=R2 ;
 3106 0000031A D00C                   M           MOV.L   #_ET2_SEQ_QDT01,R0
 3107 0000031C 6101                   M           MOV.W   @R0,R1  ;WK1=SRC_ADR WK2=data
 3108 0000031E D20C                   M           MOV.L   #_SEQ_DP_TOP+_SQ086,R2  ;DST_ADR
 3109 00000320 2211                   M           MOV.W   R1,@R2  ;DST_ADR
 3110                             629     
 3111                             630     ;       ------- MAINSQ87WORK+INT87-->SIT4 CPUA(SEQ).DPへ
 3112 00000322 D10C               631             MOV.L   #_KMT_STS1MN_SQ87,R1    ;
 3113 00000324 6011               632             MOV.W   @R1,R0                  ;MAINで作成したSQ87とINTをあわせて出力
 3114 00000326 D30C               633             MOV.L   #_KMT_STS_SQ087,R3      ;
 3115 00000328 6231               634             MOV.W   @R3,R2
 3116 0000032A 9409               635             MOV.W   #H'FFF8,R4              ;R4=MAIN SCAN BIT
 3117 0000032C 2049               636             AND     R4,R0                   ;MAIN BIT3,BIT4,5,6,BIT7~BIT15
 3118 0000032E 6447               637             NOT     R4,R4                   ;
 3119 00000330 2249               638             AND     R4,R2                   ;INT BIT0~BIT6
 3120 00000332 220B               639             OR      R0,R2                   ;
 3121 00000334 2321               640             MOV.W   R2,@R3                  ;SQ087 WORKへ
 3122 00000336 D109               641             MOV.L   #_SEQ_DP_TOP+_SQ087,R1  ;
 3123 00000338 2121               642             MOV.W   R2,@R1                  ;SEQ.DP
 3124                             643     
 3125                             644     ;;;     MEM_MOV_TO_MEM  SRC_ADR=_KMT_STS_SQ087,L1=W,DST_ADR=_SEQ_DP_TOP+_SQ087,L2=W,WKREG1
                                          =R0,WKREG2=R1,WKREG3=R2
 3126                             645     
 3127                             646             SUB_END
 3128                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3129 0000033A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3130                             647             M_RTS
 3131 0000033C 000B                   M           RTS                             ;RTSの後ろの
 3132 0000033E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3133                             648     
 3134                             649     
 3135                             650     
 3136                             651     ;       ***************************************************
 3137                             652     ;       ***                                             ***
 3138                             653     ;       ***     MAIN LOOP                               ***
 3139                             654     ;       ***     KOMTRAXに表示すべきﾃﾞｰﾀをINTに送信する  ***
 3140                             655     ;       ***                                             ***
 3141                             656     ;       ***************************************************
 3142                             657     ;
 3143                                     ***** BEGIN-POOL *****
 3144 00000340 FFF8                       DATA FOR SOURCE-LINE 635
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    21
PROGRAM NAME =

 3145 00000342 0000                       ALIGNMENT CODE
 3146 00000344 00000000                   DATA FOR SOURCE-LINE 625
 3147 00000348 00000000                   DATA FOR SOURCE-LINE 625
 3148 0000034C 00000000                   DATA FOR SOURCE-LINE 628
 3149 00000350 00000000                   DATA FOR SOURCE-LINE 628
 3150 00000354 00000000                   DATA FOR SOURCE-LINE 631
 3151 00000358 00000000                   DATA FOR SOURCE-LINE 633
 3152 0000035C 00000000                   DATA FOR SOURCE-LINE 641
 3153                                     ***** END-POOL *****
 3154 00000360                    658             .ALIGN  4                                       ;
 3155 00000360                    659     _KOMTRAX_EVENT_MAIN
 3156                             660             SUB_START
 3157 00000360 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3158                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3159                             661     
 3160                             662             FAR_JSR #_ICHAR_DATA_CHK,R0                     ;作成
 3161 00000362 D004                   M           MOV.L   #_ICHAR_DATA_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3162 00000364 400B                   M           JSR     @R0                     ;
 3163 00000366 0009                   M           NOP                                     ;
 3164                             663     
 3165                             664     ;処理軽減のため1msecからﾒｲﾝへ2011-01-14
 3166                             665     
 3167                             666             FAR_JSR #_KMT_EVENT_INT_STEP,R0                 ;転送処理
 3168 00000368 D003                   M           MOV.L   #_KMT_EVENT_INT_STEP,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3169 0000036A 400B                   M           JSR     @R0                     ;
 3170 0000036C 0009                   M           NOP                                     ;
 3171                             667     
 3172                             668             SUB_END
 3173                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3174 0000036E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3175                             669             M_RTS
 3176 00000370 000B                   M           RTS                             ;RTSの後ろの
 3177 00000372 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3178                             670     
 3179                             671     ;       ***************************************************
 3180                             672     ;       ***                                             ***
 3181                             673     ;       ***     ｷｬﾗｸﾀに変化があったら送信ｲﾍﾞﾝﾄを出力    ***
 3182                             674     ;       ***                                             ***
 3183                             675     ;       ***************************************************
 3184                             676     ;       キャラクタが変化して、そのキャラクタが2文字が"",""でなければ有効なﾃﾞｰﾀ
 3185                             677     ;[1]基本的にメインのデータをCOPYする
 3186                             678     ;       変化があった際に
 3187                             679     ;       最新値が"20"未満のデータまたは"20"20"なら送信しない
 3188                             680     ;       =>なし状態
 3189                             681     ;・ERRなし状態
 3190                             682     ;"CHAR[0][8]をチェックだけをチェックする"
 3191                             683     ;・ERR有りでCHAR[0][8]が送信完了したら
 3192                             684     ;
 3193                             685     ;CHAR[1][8]をﾁｪｯｸする
 3194                             686     ;
 3195                             687     ;_IROCK_OUT_NO          ;2byte*8 [8]....MSG-NO  [FFFF 0~319 POWER-ON=0注意]
 3196                             688     
 3197                                     ***** BEGIN-POOL *****
 3198 00000374 00000000                   DATA FOR SOURCE-LINE 662
 3199 00000378 00000000                   DATA FOR SOURCE-LINE 666
 3200                                     ***** END-POOL *****
 3201 0000037C                    689     _ICHAR_DATA_CHK:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    22
PROGRAM NAME =

 3202                             690             SUB_START
 3203 0000037C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3204                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3205                             691     
 3206 0000037E D103               692             MOV.L   #_KMT_EVENT_CHGF,R1             ;
 3207 00000380 6011               693             MOV.W   @R1,R0                          ;MAIN=>INT
 3208 00000382 2008               694             TST     R0,R0                           ;
 3209                             695             TST_BIT_OF ICHAR_DATCHK_020             ;
 3210 00000384 8904                   M           BT      ICHAR_DATCHK_020
 3211                             696             M_BRA   ICHAR_DATCHK_999                ;送信ｲﾍﾞﾝﾄ中
 3212 00000386 A072                   M           BRA     ICHAR_DATCHK_999
 3213 00000388 0009                   M           NOP
 3214                             697     
 3215                                     ***** BEGIN-POOL *****
 3216 0000038A 0000                       ALIGNMENT CODE
 3217 0000038C 00000000                   DATA FOR SOURCE-LINE 692
 3218                                     ***** END-POOL *****
 3219 00000390                    698     ICHAR_DATCHK_020:
 3220                             699     
 3221 00000390 200A               700             XOR     R0,R0
 3222 00000392 D50A               701             MOV.L   #_KMT_CHK_CHRNO,R5              ;0/1
 3223 00000394 6155               702             MOV.W   @R5+,R1                         ;1
 3224 00000396 201B               703             OR      R1,R0                           ;
 3225 00000398 6155               704             MOV.W   @R5+,R1                         ;2
 3226 0000039A 201B               705             OR      R1,R0                           ;
 3227 0000039C 6155               706             MOV.W   @R5+,R1                         ;3
 3228 0000039E 201B               707             OR      R1,R0                           ;
 3229 000003A0 6155               708             MOV.W   @R5+,R1                         ;4
 3230 000003A2 201B               709             OR      R1,R0                           ;
 3231 000003A4 6155               710             MOV.W   @R5+,R1                         ;5
 3232 000003A6 201B               711             OR      R1,R0                           ;
 3233 000003A8 6155               712             MOV.W   @R5+,R1                         ;6
 3234 000003AA 201B               713             OR      R1,R0                           ;
 3235 000003AC 6155               714             MOV.W   @R5+,R1                         ;7
 3236 000003AE 201B               715             OR      R1,R0                           ;
 3237 000003B0 6155               716             MOV.W   @R5+,R1                         ;8
 3238 000003B2 201B               717             OR      R1,R0                           ;
 3239 000003B4 2008               718             TST     R0,R0                           ;
 3240                             719             TST_BIT_OF ICHAR_DATCHK_050             ;
 3241 000003B6 8903                   M           BT      ICHAR_DATCHK_050
 3242                             720             M_BRA   ICHAR_DATCHK_300                ;ﾃﾞｰﾀ有り更新を止める
 3243 000003B8 A024                   M           BRA     ICHAR_DATCHK_300
 3244 000003BA 0009                   M           NOP
 3245                             721     
 3246                                     ***** BEGIN-POOL *****
 3247 000003BC 00000000                   DATA FOR SOURCE-LINE 701
 3248                                     ***** END-POOL *****
 3249 000003C0                    722     ICHAR_DATCHK_050:
 3250                             723     
 3251                             724     
 3252                             725     
 3253                             726     
 3254                             727     
 3255                             728     
 3256 000003C0 9A2B               729             MOV.W   #D'8,R10                        ;
 3257 000003C2 D517               730             MOV.L   #_IROCK_OUT_NO,R5               ;2byte*8 [8]....MSG-NO  [FFFF 0~319 POWER-
                                          ON=0注意]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    23
PROGRAM NAME =

 3258 000003C4 D617               731             MOV.L   #_KMT_OLD_CHRNO,R6              ;
 3259 000003C6 D718               732             MOV.L   #_KMT_CHK_CHRNO,R7              ;0/1
 3260 000003C8 9428               733             MOV.W   #H'FFFF,R4                      ;
 3261                             734     
 3262                             735     
 3263 000003CA                    736     ICHAR_DATCHK_070LOP:
 3264 000003CA 233A               737             XOR     R3,R3                           ;
 3265 000003CC 6155               738             MOV.W   @R5+,R1                         ;NEW
 3266 000003CE 6261               739             MOV.W   @R6,R2                          ;
 3267 000003D0 2611               740             MOV.W   R1,@R6                          ;
 3268 000003D2 3140               741             CMP/EQ  R4,R1                           ;
 3269 000003D4 8907               742             BT      ICHAR_DATCHK_100                ;R3=0 有効なデータなし
 3270                             743     
 3271 000003D6 3120               744             CMP/EQ  R2,R1                           ;R2=R1
 3272 000003D8 8905               745             BT      ICHAR_DATCHK_100                ;変化なし(通常はFFFF→CODEなので変化有り)
 3273                             746                                                     ;前回の表示グループに同じコードがあるか？
 3274                             747                                                     ;あれば詰めた結果なので更新しない
 3275                             748     
 3276                             749             FAR_JSR #_CHAR_BUF8_SERCH,R0            ;INPUT R1 ANS R0=0(同じものがない)
 3277 000003DA D014                   M           MOV.L   #_CHAR_BUF8_SERCH,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3278 000003DC 400B                   M           JSR     @R0                     ;
 3279 000003DE 0009                   M           NOP                                     ;
 3280 000003E0 2008               750             TST     R0,R0                           ;
 3281                             751             TST_BIT_ON ICHAR_DATCHK_100             ;今までの８個に同じものがある詰まっただけ
 3282 000003E2 8B00                   M           BF      ICHAR_DATCHK_100
 3283                             752     
 3284 000003E4 931B               753             MOV.W   #1,R3                           ;
 3285                             754     
 3286 000003E6                    755     ICHAR_DATCHK_100:                               ;
 3287 000003E6 2731               756             MOV.W   R3,@R7                          ;
 3288 000003E8 7602               757             ADD     #2,R6
 3289 000003EA 7702               758             ADD     #2,R7
 3290 000003EC 7AFF               759             ADD     #-1,R10
 3291 000003EE 2AA8               760             TST     R10,R10
 3292                             761             TST_BIT_ON ICHAR_DATCHK_070LOP          ;
 3293 000003F0 8BEB                   M           BF      ICHAR_DATCHK_070LOP
 3294                             762     
 3295                             763     
 3296 000003F2 9412               764             MOV.W   #D'8,R4
 3297 000003F4 D50B               765             MOV.L   #_KMT_OLD_CHRNO,R5              ;
 3298 000003F6 D60E               766             MOV.L   #_KMT_USE_CHRNO,R6              ;
 3299 000003F8                    767     ICHAR_DATCHK_200:
 3300 000003F8 6055               768             MOV.W   @R5+,R0                         ;COPY OLD(NEW)==>USE
 3301 000003FA 2601               769             MOV.W   R0,@R6
 3302 000003FC 7602               770             ADD     #2,R6
 3303 000003FE 74FF               771             ADD     #-1,R4                          ;
 3304 00000400 2448               772             TST     R4,R4                           ;
 3305                             773             TST_BIT_ON ICHAR_DATCHK_200             ;
 3306 00000402 8BF9                   M           BF      ICHAR_DATCHK_200
 3307                             774     
 3308                             775     
 3309                             776     ;       ============ﾃﾞｰﾀ有/なし=======
 3310 00000404                    777     ICHAR_DATCHK_300:
 3311 00000404 200A               778             XOR     R0,R0                           ;
 3312 00000406 D508               779             MOV.L   #_KMT_CHK_CHRNO,R5              ;0/1
 3313 00000408                    780     ICHAR_DATCHK_300LOP:
 3314 00000408 6151               781             MOV.W   @R5,R1                          ;0/1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    24
PROGRAM NAME =

 3315 0000040A 2118               782             TST     R1,R1                           ;
 3316                             783             TST_BIT_ON ICHAR_DATCHK_400             ;送信ﾃﾞｰﾀ有り
 3317 0000040C 8B12                   M           BF      ICHAR_DATCHK_400
 3318 0000040E 7502               784             ADD     #2,R5                           ;
 3319 00000410 7001               785             ADD     #1,R0                           ;
 3320 00000412 8808               786             CMP/EQ  #8,R0                           ;
 3321 00000414 8BF8               787             BF      ICHAR_DATCHK_300LOP
 3322                             788             M_BRA   ICHAR_DATCHK_500                ;送信すべきデータなし
 3323 00000416 A029                   M           BRA     ICHAR_DATCHK_500
 3324 00000418 0009                   M           NOP
 3325                             789     
 3326                             790     
 3327                                     ***** BEGIN-POOL *****
 3328 0000041A 0008                       DATA FOR SOURCE-LINE 729,764
 3329 0000041C FFFF                       DATA FOR SOURCE-LINE 733
 3330 0000041E 0001                       DATA FOR SOURCE-LINE 753
 3331 00000420 00000000                   DATA FOR SOURCE-LINE 730
 3332 00000424 00000000                   DATA FOR SOURCE-LINE 731,765
 3333 00000428 00000000                   DATA FOR SOURCE-LINE 732,779
 3334 0000042C 00000000                   DATA FOR SOURCE-LINE 749
 3335 00000430 00000000                   DATA FOR SOURCE-LINE 766
 3336                                     ***** END-POOL *****
 3337 00000434                    791     ICHAR_DATCHK_400:
 3338 00000434 211A               792             XOR     R1,R1                           ;
 3339 00000436 2511               793             MOV.W   R1,@R5                          ;ﾃﾞｰﾀなしにする
 3340                             794     
 3341 00000438 D50F               795             MOV.L   #_IROCK_CHAR,R5                 ;
 3342 0000043A 4000               796             SHLL    R0                              ;
 3343 0000043C 4008               797             SHLL2   R0                              ;8byte
 3344 0000043E 350C               798             ADD     R0,R5                           ;
 3345                             799     
 3346 00000440 D70E               800             MOV.L   #_KMT_EVENT_CHAR,R7             ;
 3347                             801     
 3348 00000442 6055               802             MOV.W   @R5+,R0                         ;8byte(4WORD)
 3349 00000444 2008               803             TST     R0,R0                           ;
 3350                             804             TST_BIT_OF ICHAR_DATCHK_500             ;0000はﾃﾞｰﾀなし
 3351 00000446 8911                   M           BT      ICHAR_DATCHK_500
 3352 00000448 9114               805             MOV.W   #H'2020,R1                      ;
 3353 0000044A 3010               806             CMP/EQ  R1,R0                           ;
 3354 0000044C 890E               807             BT      ICHAR_DATCHK_500                ;2020" "" "はﾃﾞｰﾀなし
 3355                             808     
 3356 0000044E 2701               809             MOV.W   R0,@R7                          ;
 3357 00000450 7702               810             ADD     #2,R7
 3358 00000452 6055               811             MOV.W   @R5+,R0
 3359 00000454 2701               812             MOV.W   R0,@R7
 3360 00000456 7702               813             ADD     #2,R7
 3361 00000458 6055               814             MOV.W   @R5+,R0
 3362 0000045A 2701               815             MOV.W   R0,@R7
 3363 0000045C 7702               816             ADD     #2,R7
 3364 0000045E 6055               817             MOV.W   @R5+,R0
 3365 00000460 2701               818             MOV.W   R0,@R7
 3366 00000462 7702               819             ADD     #2,R7
 3367                             820             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_EVENT_CHGF,LG=W,BIT=BIT0,WKREG=R1      ;bit-set
 3368 00000464 D106                   M           MOV.L   #_KMT_EVENT_CHGF,R1             ;
 3369 00000466 6011                   M           MOV.W   @R1,R0          ;
 3370 00000468 CB01                   M           OR      #BIT0,R0                ;
 3371 0000046A 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    25
PROGRAM NAME =

 3372                             821     
 3373 0000046C                    822     ICHAR_DATCHK_500:
 3374 0000046C 0009               823             NOP
 3375 0000046E                    824     ICHAR_DATCHK_999
 3376                             825     
 3377                             826             SUB_END
 3378                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3379 0000046E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3380                             827             M_RTS
 3381 00000470 000B                   M           RTS                             ;RTSの後ろの
 3382 00000472 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3383                             828     
 3384                             829     
 3385                             830     ;       *******************************************
 3386                             831     ;       ***                                     ***
 3387                             832     ;       ***                                     ***
 3388                             833     ;       ***                                     ***
 3389                             834     ;       *******************************************
 3390                             835     ;       INPUT R1
 3391                             836     ;       OUTPUT R0=0(同じものがない)
 3392                             837     ;
 3393                                     ***** BEGIN-POOL *****
 3394 00000474 2020                       DATA FOR SOURCE-LINE 805
 3395 00000476 0000                       ALIGNMENT CODE
 3396 00000478 00000000                   DATA FOR SOURCE-LINE 795
 3397 0000047C 00000000                   DATA FOR SOURCE-LINE 800
 3398 00000480 00000000                   DATA FOR SOURCE-LINE 820
 3399                                     ***** END-POOL *****
 3400 00000484                    838     _CHAR_BUF8_SERCH:
 3401                             839             SUB_START
 3402 00000484 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3403                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3404                             840             PUSH_REG1 R3
 3405 00000486 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
 3406                                 M                                           ;REG=>[SP]
 3407                                 M                                           ;"-4" FF,FF,FF,FC
 3408                             841     
 3409 00000488 D30D               842             MOV.L   #_KMT_USE_CHRNO,R3              ;
 3410                             843     
 3411 0000048A 6035               844             MOV.W   @R3+,R0                         ;1
 3412 0000048C 3010               845             CMP/EQ  R1,R0                           ;
 3413 0000048E 8919               846             BT      CHAR_BUF8SER_200                ;
 3414                             847     
 3415 00000490 6035               848             MOV.W   @R3+,R0                         ;2
 3416 00000492 3010               849             CMP/EQ  R1,R0                           ;
 3417 00000494 8916               850             BT      CHAR_BUF8SER_200                ;
 3418                             851     
 3419 00000496 6035               852             MOV.W   @R3+,R0                         ;3
 3420 00000498 3010               853             CMP/EQ  R1,R0                           ;
 3421 0000049A 8913               854             BT      CHAR_BUF8SER_200                ;
 3422                             855     
 3423 0000049C 6035               856             MOV.W   @R3+,R0                         ;4
 3424 0000049E 3010               857             CMP/EQ  R1,R0                           ;
 3425 000004A0 8910               858             BT      CHAR_BUF8SER_200                ;
 3426                             859     
 3427 000004A2 6035               860             MOV.W   @R3+,R0                         ;5
 3428 000004A4 3010               861             CMP/EQ  R1,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    26
PROGRAM NAME =

 3429 000004A6 890D               862             BT      CHAR_BUF8SER_200                ;
 3430                             863     
 3431 000004A8 6035               864             MOV.W   @R3+,R0                         ;6
 3432 000004AA 3010               865             CMP/EQ  R1,R0                           ;
 3433 000004AC 890A               866             BT      CHAR_BUF8SER_200                ;
 3434                             867     
 3435 000004AE 6035               868             MOV.W   @R3+,R0                         ;7
 3436 000004B0 3010               869             CMP/EQ  R1,R0                           ;
 3437 000004B2 8907               870             BT      CHAR_BUF8SER_200                ;
 3438                             871     
 3439 000004B4 6035               872             MOV.W   @R3+,R0                         ;8
 3440 000004B6 3010               873             CMP/EQ  R1,R0                           ;
 3441 000004B8 8904               874             BT      CHAR_BUF8SER_200                ;
 3442                             875     
 3443 000004BA 200A               876             XOR     R0,R0                           ;同じものがない
 3444                             877             M_BRA   CHAR_BUF8SER_END
 3445 000004BC A003                   M           BRA     CHAR_BUF8SER_END
 3446 000004BE 0009                   M           NOP
 3447                             878     
 3448                             879     
 3449                                     ***** BEGIN-POOL *****
 3450 000004C0 00000000                   DATA FOR SOURCE-LINE 842
 3451                                     ***** END-POOL *****
 3452 000004C4                    880     CHAR_BUF8SER_200:
 3453 000004C4 9003               881             MOV.W   #-1,R0                          ;同じものがある
 3454 000004C6                    882     CHAR_BUF8SER_END:
 3455                             883             POP_REG1 R3
 3456                                 M                                   ; RE"+4" 00,00,00,04
 3457 000004C6 63F6                   M           MOV.L   @R15+,R3        ;
 3458                             884             SUB_END
 3459                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3460 000004C8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3461                             885             M_RTS
 3462 000004CA 000B                   M           RTS                             ;RTSの後ろの
 3463 000004CC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3464                             886     
 3465                             887     
 3466                             888     
 3467                             889     
 3468                             890     
 3469                             891     ;       *******************************************
 3470                             892     ;       ***                                     ***
 3471                             893     ;       ***             EVENT割込転送処理       ***
 3472                             894     ;       ***             (write)                 ***
 3473                             895     ;       *******************************************
 3474                                     ***** BEGIN-POOL *****
 3475 000004CE FFFF                       DATA FOR SOURCE-LINE 881
 3476                                     ***** END-POOL *****
 3477 000004D0                    896             .ALIGN  4                                       ;
 3478 000004D0                    897     _KMT_EVENT_INT_STEP
 3479                             898             SUB_START
 3480 000004D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3481                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3482                             899     
 3483                             900     ;;;     10msecへ
 3484                             901     ;;;     ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 3485                             902     ;;;     MOV.L   #_KMT_EVENT_SIGTIM,R1                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    27
PROGRAM NAME =

 3486                             903     ;;;     MOV.W   @R1,R0                                  ;
 3487                             904     ;;;     TST     R0,R0                                   ;
 3488                             905     ;;;     TST_BIT_OF KMT_EVET_STP050                      ;
 3489                             906     ;;;     ADD     #-1,R0                                  ;
 3490                             907     ;;;     MOV.W   R0,@R1                                  ;
 3491                             908     ;;;KMT_EVET_STP050:
 3492                             909     ;       ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 3493                             910     
 3494                             911     
 3495 000004D2 D116               912             MOV.L   #_KMT_EVENT_FLG,R1                      ;
 3496 000004D4 6011               913             MOV.W   @R1,R0                                  ;BIT1=1 EVENT終了待ち
 3497 000004D6 C80E               914             TST     #(BIT3+BIT2+BIT1),R0                            ;BIT2=1 ｼｰｹﾝｽへ出力
 3498                             915             TST_BIT_ON KMT_EVET_STP300                      ;
 3499 000004D8 8B38                   M           BF      KMT_EVET_STP300
 3500                             916     
 3501 000004DA D515               917             MOV.L   #_KMT_EVENT_CHGF,R5                     ;
 3502 000004DC 6051               918             MOV.W   @R5,R0                                  ;MAIN==>INT
 3503 000004DE 2008               919             TST     R0,R0                                   ;
 3504                             920             TST_BIT_OF KMT_EVET_STPEXT                      ;
 3505 000004E0 8977                   M           BT      KMT_EVET_STPEXT
 3506                             921     
 3507 000004E2 200A               922             XOR     R0,R0                                   ;
 3508 000004E4 2501               923             MOV.W   R0,@R5                                  ;MAIN ｺﾏﾝﾄﾞｸﾘｱ
 3509                             924     
 3510 000004E6 200A               925             XOR     R0,R0
 3511 000004E8 D112               926             MOV.L   #_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R1                 ;0
                                          :固定 (SIT_MEMを対象)
 3512 000004EA 2101               927             MOV.W   R0,@R1                                  ;
 3513                             928     
 3514 000004EC 901B               929             MOV.W   #__SITM_CHRTOP1/2,R0                    ;byte adr/2
 3515 000004EE D112               930             MOV.L   #_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R1                 ;
 3516 000004F0 2101               931             MOV.W   R0,@R1                                  ;
 3517                             932     
 3518 000004F2 9019               933             MOV.W   #__SITM_CHRCNT/2,R0                     ;8byte=4word
 3519 000004F4 D111               934             MOV.L   #_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R1                    ;M
                                          AX 1~256 word
 3520 000004F6 2101               935             MOV.W   R0,@R1
 3521                             936     
 3522 000004F8 D511               937             MOV.L   #_KMT_EVENT_CHAR,R5                     ;8文字*8:64文字
 3523 000004FA D612               938             MOV.L   #_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R6                    ;
 3524 000004FC 6055               939             MOV.W   @R5+,R0                                 ;
 3525 000004FE 2601               940             MOV.W   R0,@R6                                  ;2文字
 3526 00000500 7602               941             ADD     #2,R6                                   ;
 3527 00000502 6055               942             MOV.W   @R5+,R0                                 ;
 3528 00000504 2601               943             MOV.W   R0,@R6                                  ;4文字
 3529 00000506 7602               944             ADD     #2,R6                                   ;
 3530 00000508 6055               945             MOV.W   @R5+,R0                                 ;
 3531 0000050A 2601               946             MOV.W   R0,@R6                                  ;6文字
 3532 0000050C 7602               947             ADD     #2,R6                                   ;
 3533 0000050E 6055               948             MOV.W   @R5+,R0                                 ;
 3534 00000510 2601               949             MOV.W   R0,@R6                                  ;8文字
 3535 00000512 7602               950             ADD     #2,R6                                   ;
 3536                             951     
 3537 00000514 9009               952             MOV.W   #__KMTCMD_WR,R0
 3538 00000516 D10C               953             MOV.L   #_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R1                    ;
 3539 00000518 2101               954             MOV.W   R0,@R1                                  ;WRITE
 3540                             955     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    28
PROGRAM NAME =

 3541                             956             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_EVENT_FLG,LG=W,BIT=BIT1,WKREG=R1       ;bit-set
 3542 0000051A D104                   M           MOV.L   #_KMT_EVENT_FLG,R1              ;
 3543 0000051C 6011                   M           MOV.W   @R1,R0          ;
 3544 0000051E CB02                   M           OR      #BIT1,R0                ;
 3545 00000520 2101                   M           MOV.W   R0,@R1          ;
 3546                             957             M_BRA   KMT_EVET_STPEXT
 3547 00000522 A056                   M           BRA     KMT_EVET_STPEXT
 3548 00000524 0009                   M           NOP
 3549                             958     
 3550                                     ***** BEGIN-POOL *****
 3551 00000526 0002                       DATA FOR SOURCE-LINE 929
 3552 00000528 0004                       DATA FOR SOURCE-LINE 933
 3553 0000052A 0001                       DATA FOR SOURCE-LINE 952
 3554 0000052C 00000000                   DATA FOR SOURCE-LINE 912,956
 3555 00000530 00000000                   DATA FOR SOURCE-LINE 917
 3556 00000534 00000000                   DATA FOR SOURCE-LINE 926
 3557 00000538 00000000                   DATA FOR SOURCE-LINE 930
 3558 0000053C 00000000                   DATA FOR SOURCE-LINE 934
 3559 00000540 00000000                   DATA FOR SOURCE-LINE 937
 3560 00000544 00000000                   DATA FOR SOURCE-LINE 938
 3561 00000548 00000000                   DATA FOR SOURCE-LINE 953
 3562                                     ***** END-POOL *****
 3563 0000054C                    959     KMT_EVET_STP300
 3564 0000054C D10C               960             MOV.L   #_KMT_EVENT_FLG,R1                                      ;
 3565 0000054E 6011               961             MOV.W   @R1,R0                                                  ;BIT1=1 EVENT終了
                                          待ち
 3566 00000550 C808               962             TST     #BIT3,R0                                                ;OFF保証
 3567                             963             TST_BIT_ON KMT_EVET_STP500                                              ;
 3568 00000552 8B37                   M           BF      KMT_EVET_STP500
 3569                             964     
 3570 00000554 C804               965             TST     #BIT2,R0
 3571                             966             TST_BIT_ON KMT_EVET_STP400                                              ;ON保証
 3572 00000556 8B1B                   M           BF      KMT_EVET_STP400
 3573                             967     
 3574 00000558 D10A               968             MOV.L   #_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R1
                                                          ;
 3575 0000055A 6011               969             MOV.W   @R1,R0                                                          ;
 3576 0000055C 2008               970             TST     R0,R0                                                           ;
 3577                             971             TST_BIT_ON KMT_EVET_STPEXT                                              ;ｺﾏﾝﾄﾞ処理
                                          中
 3578 0000055E 8B38                   M           BF      KMT_EVET_STPEXT
 3579                             972     
 3580                             973             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_EVENT_FLG,LG=W,BIT=BIT2,WKREG=R1       ;bit-set
 3581 00000560 D107                   M           MOV.L   #_KMT_EVENT_FLG,R1              ;
 3582 00000562 6011                   M           MOV.W   @R1,R0          ;
 3583 00000564 CB04                   M           OR      #BIT2,R0                ;
 3584 00000566 2101                   M           MOV.W   R0,@R1          ;
 3585                             974     
 3586                             975             MEM1_BIT0_F_ORSET MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(BIT3),WKRG1=R1,WKRG2=R2
 3587 00000568 D107                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 3588 0000056A 6011                   M           MOV.W   @R1,R0          ;
 3589 0000056C 9206                   M           MOV.W   #(BIT3),R2              ;
 3590 0000056E 202B                   M           OR      R2,R0           ;
 3591 00000570 2101                   M           MOV.W   R0,@R1          ;
 3592                             976     
 3593 00000572 9004               977             MOV.W   #__EVENT_SIG_ONTIMSV,R0                 ;
 3594 00000574 D105               978             MOV.L   #_KMT_EVENT_SIGTIM,R1                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    29
PROGRAM NAME =

 3595 00000576 2101               979             MOV.W   R0,@R1                                  ;
 3596                             980             M_BRA   KMT_EVET_STPEXT                         ;ON保証ﾀｲﾏ
 3597 00000578 A02B                   M           BRA     KMT_EVET_STPEXT
 3598 0000057A 0009                   M           NOP
 3599                             981     
 3600                                     ***** BEGIN-POOL *****
 3601 0000057C 0008                       DATA FOR SOURCE-LINE 975
 3602 0000057E 0032                       DATA FOR SOURCE-LINE 977
 3603 00000580 00000000                   DATA FOR SOURCE-LINE 960,973
 3604 00000584 00000000                   DATA FOR SOURCE-LINE 968
 3605 00000588 00000000                   DATA FOR SOURCE-LINE 975
 3606 0000058C 00000000                   DATA FOR SOURCE-LINE 978
 3607                                     ***** END-POOL *****
 3608 00000590                    982     KMT_EVET_STP400
 3609                             983     
 3610 00000590 D109               984             MOV.L   #_KMT_EVENT_SIGTIM,R1                           ;
 3611 00000592 6011               985             MOV.W   @R1,R0                                          ;
 3612 00000594 2008               986             TST     R0,R0                                                   ;
 3613                             987             TST_BIT_ON KMT_EVET_STPEXT                                      ;
 3614 00000596 8B1C                   M           BF      KMT_EVET_STPEXT
 3615                             988     
 3616                             989             MEM1_BIT0_F_ADCLR MEM=_KMT_STS1MN_SQ87,LG=W,BIT=~(BIT3),WKRG1=R1,WKRG2=R4       ;
 3617 00000598 D108                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 3618 0000059A 6011                   M           MOV.W   @R1,R0          ;
 3619 0000059C 940A                   M           MOV.W   #LWORD ~(BIT3),R4       ;
 3620 0000059E 2049                   M           AND     R4,R0           ;
 3621 000005A0 2101                   M           MOV.W   R0,@R1          ;
 3622                             990             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_EVENT_FLG,LG=W,BIT=BIT3,WKREG=R1       ;bit-set
 3623 000005A2 D107                   M           MOV.L   #_KMT_EVENT_FLG,R1              ;
 3624 000005A4 6011                   M           MOV.W   @R1,R0          ;
 3625 000005A6 CB08                   M           OR      #BIT3,R0                ;
 3626 000005A8 2101                   M           MOV.W   R0,@R1          ;
 3627                             991     
 3628                             992     
 3629 000005AA 9004               993             MOV.W   #__EVENT_SIG_OFTIMSV,R0                 ;
 3630 000005AC D102               994             MOV.L   #_KMT_EVENT_SIGTIM,R1                   ;
 3631 000005AE 2101               995             MOV.W   R0,@R1                                  ;
 3632                             996             M_BRA   KMT_EVET_STPEXT                         ;OFF保証ﾀｲﾏ
 3633 000005B0 A00F                   M           BRA     KMT_EVET_STPEXT
 3634 000005B2 0009                   M           NOP
 3635                             997     
 3636                                     ***** BEGIN-POOL *****
 3637 000005B4 FFF7                       DATA FOR SOURCE-LINE 989
 3638 000005B6 0032                       DATA FOR SOURCE-LINE 993
 3639 000005B8 00000000                   DATA FOR SOURCE-LINE 984,994
 3640 000005BC 00000000                   DATA FOR SOURCE-LINE 989
 3641 000005C0 00000000                   DATA FOR SOURCE-LINE 990
 3642                                     ***** END-POOL *****
 3643 000005C4                    998     KMT_EVET_STP500:
 3644                             999     
 3645 000005C4 D104              1000             MOV.L   #_KMT_EVENT_SIGTIM,R1                           ;
 3646 000005C6 6011              1001             MOV.W   @R1,R0                                          ;
 3647 000005C8 2008              1002             TST     R0,R0                                           ;
 3648                            1003             TST_BIT_ON KMT_EVET_STPEXT                              ;
 3649 000005CA 8B02                   M           BF      KMT_EVET_STPEXT
 3650                            1004     
 3651 000005CC 200A              1005             XOR     R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    30
PROGRAM NAME =

 3652 000005CE D103              1006             MOV.L   #_KMT_EVENT_FLG,R1                                              ;
 3653 000005D0 2101              1007             MOV.W   R0,@R1                                                          ;
 3654                            1008     
 3655                            1009     
 3656 000005D2                   1010     KMT_EVET_STPEXT
 3657                            1011             SUB_END
 3658                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3659 000005D2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3660                            1012             M_RTS
 3661 000005D4 000B                   M           RTS                             ;RTSの後ろの
 3662 000005D6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3663                            1013     
 3664                            1014     
 3665                            1015     ;       *******************************************
 3666                            1016     ;       ***                                     ***
 3667                            1017     ;       ***             ﾊﾝﾄﾞｼｪｲｸWR              ***
 3668                            1018     ;       ***                                     ***
 3669                            1019     ;       *******************************************
 3670                                     ***** BEGIN-POOL *****
 3671 000005D8 00000000                   DATA FOR SOURCE-LINE 1000
 3672 000005DC 00000000                   DATA FOR SOURCE-LINE 1006
 3673                                     ***** END-POOL *****
 3674 000005E0                   1020     _KOMTRAX_HAND_WRITE:
 3675                            1021             SUB_START
 3676 000005E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3677                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3678                            1022     
 3679                            1023     
 3680 000005E2 D111              1024             MOV.L   #_KMT_HANDWR_FLG,R1                             ;
 3681 000005E4 6011              1025             MOV.W   @R1,R0                                          ;BIT1=1
 3682 000005E6 C802              1026             TST     #(BIT1),R0                                      ;
 3683                            1027             TST_BIT_ON KMT_HANDWR_STP300                            ;
 3684 000005E8 8B2C                   M           BF      KMT_HANDWR_STP300
 3685                            1028     
 3686                            1029     ;       ---------- WDT ﾁｪｯｸ部分------------------
 3687                            1030             FAR_JSR #_KMT_HAND_WDTCHK,R0
 3688 000005EA D010                   M           MOV.L   #_KMT_HAND_WDTCHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3689 000005EC 400B                   M           JSR     @R0                     ;
 3690 000005EE 0009                   M           NOP                                     ;
 3691 000005F0 2008              1031             TST     R0,R0
 3692                            1032             TST_BIT_OF KMT_HANDWR_STPEXT                                            ;
 3693 000005F2 8931                   M           BT      KMT_HANDWR_STPEXT
 3694                            1033     
 3695                            1034     ;       -------------------------------------
 3696 000005F4 200A              1035             XOR     R0,R0
 3697 000005F6 D10E              1036             MOV.L   #(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1               ;0
                                          :固定 (SIT_MEMを対象)
 3698 000005F8 2101              1037             MOV.W   R0,@R1                                                          ;
 3699                            1038     
 3700 000005FA 9012              1039             MOV.W   #__SITM_HANDWR/2,R0                                             ;byte adr/
                                          2
 3701 000005FC D10D              1040             MOV.L   #(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1               ;
 3702 000005FE 2101              1041             MOV.W   R0,@R1                                                          ;
 3703                            1042     
 3704 00000600 9010              1043             MOV.W   #__SITM_HANDCNT/2,R0                                            ;2Byte=1WO
                                          RD
 3705 00000602 D10D              1044             MOV.L   #(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;MAX 1~256
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    31
PROGRAM NAME =

                                           word
 3706 00000604 2101              1045             MOV.W   R0,@R1
 3707                            1046     
 3708 00000606 D10D              1047             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;
 3709 00000608 6011              1048             MOV.W   @R1,R0                                                          ;
 3710 0000060A 7001              1049             ADD     #1,R0                                                           ;
 3711 0000060C D10B              1050             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;
 3712 0000060E 2101              1051             MOV.W   R0,@R1                                                          ;
 3713                            1052     
 3714 00000610 9008              1053             MOV.W   #__KMTCMD_WR,R0                                                         ;W
                                          RITE
 3715 00000612 D10B              1054             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;
 3716 00000614 2101              1055             MOV.W   R0,@R1                                                          ;
 3717                            1056     
 3718                            1057             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_HANDWR_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
 3719 00000616 D104                   M           MOV.L   #_KMT_HANDWR_FLG,R1             ;
 3720 00000618 6011                   M           MOV.W   @R1,R0          ;
 3721 0000061A CB02                   M           OR      #BIT1,R0                ;
 3722 0000061C 2101                   M           MOV.W   R0,@R1          ;
 3723                            1058             M_BRA   KMT_HANDWR_STPEXT
 3724 0000061E A01B                   M           BRA     KMT_HANDWR_STPEXT
 3725 00000620 0009                   M           NOP
 3726                            1059     
 3727                                     ***** BEGIN-POOL *****
 3728 00000622 0000                       DATA FOR SOURCE-LINE 1039
 3729 00000624 0001                       DATA FOR SOURCE-LINE 1043,1053
 3730 00000626 0000                       ALIGNMENT CODE
 3731 00000628 00000000                   DATA FOR SOURCE-LINE 1024,1057
 3732 0000062C 00000000                   DATA FOR SOURCE-LINE 1030
 3733 00000630 00000000                   DATA FOR SOURCE-LINE 1036
 3734 00000634 00000000                   DATA FOR SOURCE-LINE 1040
 3735 00000638 00000000                   DATA FOR SOURCE-LINE 1044
 3736 0000063C 00000000                   DATA FOR SOURCE-LINE 1047,1050
 3737 00000640 00000000                   DATA FOR SOURCE-LINE 1054
 3738                                     ***** END-POOL *****
 3739 00000644                   1060     KMT_HANDWR_STP300
 3740                            1061     
 3741                            1062     ;       ---------- WDT ﾁｪｯｸ部分------------------
 3742                            1063             FAR_JSR #_KMT_HAND_WDTCHK,R0                                            ;
 3743 00000644 D006                   M           MOV.L   #_KMT_HAND_WDTCHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3744 00000646 400B                   M           JSR     @R0                     ;
 3745 00000648 0009                   M           NOP                                     ;
 3746                            1064     
 3747 0000064A D106              1065             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;
 3748 0000064C 6011              1066             MOV.W   @R1,R0                                                          ;
 3749 0000064E 2008              1067             TST     R0,R0                                                           ;
 3750                            1068             TST_BIT_ON KMT_HANDWR_STPEXT                                            ;ｺﾏﾝﾄﾞ処理
                                          中
 3751 00000650 8B02                   M           BF      KMT_HANDWR_STPEXT
 3752                            1069     
 3753 00000652 200A              1070             XOR     R0,R0
 3754 00000654 D104              1071             MOV.L   #_KMT_HANDWR_FLG,R1                                             ;
 3755 00000656 2101              1072             MOV.W   R0,@R1                                                          ;
 3756                            1073     
 3757                            1074     
 3758 00000658                   1075     KMT_HANDWR_STPEXT
 3759                            1076     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    32
PROGRAM NAME =

 3760                            1077             SUB_END
 3761                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3762 00000658 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3763                            1078             M_RTS
 3764 0000065A 000B                   M           RTS                             ;RTSの後ろの
 3765 0000065C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3766                            1079     
 3767                            1080     ;       ***************************************************
 3768                            1081     ;       ***                                             ***
 3769                            1082     ;       ***             WDT CHKECK                      ***
 3770                            1083     ;       ***                                             ***
 3771                            1084     ;       ***************************************************
 3772                            1085     ;       100msec毎にﾁｪｯｸ
 3773                                     ***** BEGIN-POOL *****
 3774 0000065E 0000                       ALIGNMENT CODE
 3775 00000660 00000000                   DATA FOR SOURCE-LINE 1063
 3776 00000664 00000000                   DATA FOR SOURCE-LINE 1065
 3777 00000668 00000000                   DATA FOR SOURCE-LINE 1071
 3778                                     ***** END-POOL *****
 3779          0000000B          1086     __WDT_TIM_SET_DAT       .EQU    (100/__TM_LATE10MS)+1   ;2011-01-14
 3780          00000064          1087     __WDT_UP_ERR_CNT        .EQU    100                     ;2011-01-14 100ﾒｲﾝｽｷｬﾝ*100msec=MIN
                                          =10秒 MAX=30秒
 3781                            1088     
 3782 0000066C                   1089     _KMT_HAND_WDTCHK:
 3783                            1090             SUB_START
 3784 0000066C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3785                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3786                            1091     
 3787                            1092     ;;;     MOV.L   #_KMT_STS1_SET,R1                                               ;READ確定ﾃ
                                          ﾞｰﾀあるか？
 3788                            1093     ;;;     MOV.W   @R1,R0                                                          ;
 3789                            1094     ;;;     MOV.W   #BIT0,R4
 3790                            1095     ;;;     TST     R4,R0                                                           ;
 3791                            1096     ;;;     TST_BIT_OF KMT_HANDWDTCHK_WAIT                                          ;
 3792                            1097     ;;;     NOT     R4,R4                                                           ;READの確
                                          定ﾃﾞｰﾀあるか?
 3793                            1098     ;;;     AND     R4,R0                                                           ;
 3794                            1099     ;;;     MOV.W   R0,@R1                                                          ;
 3795                            1100     
 3796 0000066E D503              1101             MOV.L   #_KMT_HANDWDT_TIM,R5                            ;
 3797 00000670 6051              1102             MOV.W   @R5,R0                                          ;
 3798 00000672 2008              1103             TST     R0,R0
 3799                            1104             TST_BIT_OF KMT_HANDWDTCHK_030                           ;
 3800 00000674 8904                   M           BT      KMT_HANDWDTCHK_030
 3801                            1105             M_BRA   KMT_HANDWDTCHK_WAIT                             ;
 3802 00000676 A039                   M           BRA     KMT_HANDWDTCHK_WAIT
 3803 00000678 0009                   M           NOP
 3804                            1106     
 3805                                     ***** BEGIN-POOL *****
 3806 0000067A 0000                       ALIGNMENT CODE
 3807 0000067C 00000000                   DATA FOR SOURCE-LINE 1101
 3808                                     ***** END-POOL *****
 3809 00000680                   1107     KMT_HANDWDTCHK_030                                              ;
 3810                            1108     ;;;;2011-01-14  MOV.W   #D'100+1,R0                             ;100msec
 3811 00000680 900F              1109             MOV.W   #__WDT_TIM_SET_DAT,R0                           ;10*10msec=100msec 2011-01
                                          -14
 3812 00000682 2501              1110             MOV.W   R0,@R5                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    33
PROGRAM NAME =

 3813 00000684                   1111     KMT_HANDWDTCHK_050                                              ;
 3814                            1112     
 3815 00000684 D108              1113             MOV.L   #(__SITM_HANDRD-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1               ;
 3816 00000686 6011              1114             MOV.W   @R1,R0                                                          ;
 3817 00000688 D108              1115             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;
 3818 0000068A 6211              1116             MOV.W   @R1,R2                                                          ;
 3819 0000068C 3200              1117             CMP/EQ  R0,R2                                                           ;
 3820 0000068E 891B              1118             BT      KMT_HANDWDTCHK_200                                              ;
 3821                            1119     
 3822 00000690 D507              1120             MOV.L   #_KMT_HANDWDT_CNT,R5                                                    ;
 3823 00000692 6051              1121             MOV.W   @R5,R0                                                                  ;
 3824                            1122     ;;2011-01-14    MOV.W   #D'100,R4                                                       ;1
                                          00m*100scan=10秒
 3825 00000694 9406              1123             MOV.W   #__WDT_UP_ERR_CNT,R4                                                    ;1
                                          00m*100scan=10秒 2011-01-14
 3826 00000696 3042              1124             CMP/HS  R4,R0                                                                   ;
 3827 00000698 890C              1125             BT      KMT_HANDWDTCHK_100                                                      ;O
                                          VER
 3828 0000069A 7001              1126             ADD     #1,R0                                                                   ;
 3829 0000069C 2501              1127             MOV.W   R0,@R5                                                                  ;
 3830                            1128             M_BRA   KMT_HANDWDTCHK_WAIT                                                     ;
 3831 0000069E A025                   M           BRA     KMT_HANDWDTCHK_WAIT
 3832 000006A0 0009                   M           NOP
 3833                            1129     
 3834                                     ***** BEGIN-POOL *****
 3835 000006A2 000B                       DATA FOR SOURCE-LINE 1109
 3836 000006A4 0064                       DATA FOR SOURCE-LINE 1123
 3837 000006A6 0000                       ALIGNMENT CODE
 3838 000006A8 00000000                   DATA FOR SOURCE-LINE 1113
 3839 000006AC 00000000                   DATA FOR SOURCE-LINE 1115
 3840 000006B0 00000000                   DATA FOR SOURCE-LINE 1120
 3841                                     ***** END-POOL *****
 3842 000006B4                   1130     KMT_HANDWDTCHK_100                                                                      ;
 3843                            1131             MEM1_BIT0_F_ORSET MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(BIT7),WKRG1=R1,WKRG2=R4        ;
 3844 000006B4 D103                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 3845 000006B6 6011                   M           MOV.W   @R1,R0          ;
 3846 000006B8 9403                   M           MOV.W   #(BIT7),R4              ;
 3847 000006BA 204B                   M           OR      R4,R0           ;
 3848 000006BC 2101                   M           MOV.W   R0,@R1          ;
 3849                            1132             M_BRA   KMT_HANDWDTCHK_WAIT                                                     ;
 3850 000006BE A015                   M           BRA     KMT_HANDWDTCHK_WAIT
 3851 000006C0 0009                   M           NOP
 3852                            1133                                                                                             ;
 3853                                     ***** BEGIN-POOL *****
 3854 000006C2 0080                       DATA FOR SOURCE-LINE 1131
 3855 000006C4 00000000                   DATA FOR SOURCE-LINE 1131
 3856                                     ***** END-POOL *****
 3857 000006C8                   1134     KMT_HANDWDTCHK_200                                                                      ;
 3858                            1135     
 3859 000006C8 200A              1136             XOR     R0,R0                                                                   ;
 3860 000006CA D106              1137             MOV.L   #_KMT_HANDWDT_CNT,R1                                                    ;
 3861 000006CC 2101              1138             MOV.W   R0,@R1                                                                  ;
 3862                            1139     
 3863                            1140             MEM1_BIT0_F_ADCLR MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4       ;
 3864 000006CE D106                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 3865 000006D0 6011                   M           MOV.W   @R1,R0          ;
 3866 000006D2 9404                   M           MOV.W   #LWORD (~BIT7),R4       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    34
PROGRAM NAME =

 3867 000006D4 2049                   M           AND     R4,R0           ;
 3868 000006D6 2101                   M           MOV.W   R0,@R1          ;
 3869                            1141     
 3870 000006D8 9002              1142             MOV.W   #1,R0                           ;
 3871                            1143             M_BRA   KMT_HANDWDTCHK_END              ;ok
 3872 000006DA A008                   M           BRA     KMT_HANDWDTCHK_END
 3873 000006DC 0009                   M           NOP
 3874                            1144     
 3875                            1145     
 3876                                     ***** BEGIN-POOL *****
 3877 000006DE FF7F                       DATA FOR SOURCE-LINE 1140
 3878 000006E0 0001                       DATA FOR SOURCE-LINE 1142
 3879 000006E2 0000                       ALIGNMENT CODE
 3880 000006E4 00000000                   DATA FOR SOURCE-LINE 1137
 3881 000006E8 00000000                   DATA FOR SOURCE-LINE 1140
 3882                                     ***** END-POOL *****
 3883 000006EC                   1146     KMT_HANDWDTCHK_WAIT:
 3884 000006EC 200A              1147             XOR     R0,R0
 3885 000006EE                   1148     KMT_HANDWDTCHK_END:
 3886                            1149             SUB_END
 3887                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3888 000006EE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3889                            1150             M_RTS
 3890 000006F0 000B                   M           RTS                             ;RTSの後ろの
 3891 000006F2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3892                            1151     
 3893                            1152     
 3894                            1153     ;       *******************************************
 3895                            1154     ;       ***                                     ***
 3896                            1155     ;       ***             ｽﾃｰﾀｽREAD[KMT->SIT4]    ***
 3897                            1156     ;       ***             MAIN                    ***
 3898                            1157     ;       *******************************************
 3899 000006F4                   1158     _KOMTRAX_STATUS_READ:
 3900                            1159             SUB_START
 3901 000006F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3902                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3903                            1160     
 3904 000006F6 D10C              1161             MOV.L   #_KMT_STS1RD_FLG,R1                     ;
 3905 000006F8 6011              1162             MOV.W   @R1,R0                                  ;BIT1=1
 3906 000006FA C802              1163             TST     #(BIT1),R0                              ;
 3907                            1164             TST_BIT_ON KMT_STATUS_RD300                     ;
 3908 000006FC 8B1E                   M           BF      KMT_STATUS_RD300
 3909                            1165     
 3910 000006FE 200A              1166             XOR     R0,R0
 3911 00000700 D10A              1167             MOV.L   #(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R1       ;0:固定 (S
                                          IT_MEMを対象)
 3912 00000702 2101              1168             MOV.W   R0,@R1                                                          ;
 3913                            1169     
 3914 00000704 900D              1170             MOV.W   #__SITM_OUT_TOP/2,R0                                            ;byte adr/
                                          2
 3915 00000706 D10A              1171             MOV.L   #(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R1       ;
 3916 00000708 2101              1172             MOV.W   R0,@R1                                                          ;
 3917                            1173     
 3918 0000070A 900B              1174             MOV.W   #__SITM_OUTCNT/2,R0                                             ;32Byte=16
                                          WORD
 3919 0000070C D109              1175             MOV.L   #(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R1          ;AREA-MAX
                                          は50 word
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    35
PROGRAM NAME =

 3920 0000070E 2101              1176             MOV.W   R0,@R1
 3921                            1177     
 3922                            1178     
 3923 00000710 9009              1179             MOV.W   #__KMTCMD_RD,R0                                                 ;READ
 3924 00000712 D109              1180             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R1          ;
 3925 00000714 2101              1181             MOV.W   R0,@R1                                                          ;
 3926                            1182     
 3927                            1183             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_STS1RD_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
 3928 00000716 D104                   M           MOV.L   #_KMT_STS1RD_FLG,R1             ;
 3929 00000718 6011                   M           MOV.W   @R1,R0          ;
 3930 0000071A CB02                   M           OR      #BIT1,R0                ;
 3931 0000071C 2101                   M           MOV.W   R0,@R1          ;
 3932                            1184             M_BRA   KMT_STATUS_RDEXT
 3933 0000071E A020                   M           BRA     KMT_STATUS_RDEXT
 3934 00000720 0009                   M           NOP
 3935                            1185     
 3936                                     ***** BEGIN-POOL *****
 3937 00000722 0032                       DATA FOR SOURCE-LINE 1170
 3938 00000724 0010                       DATA FOR SOURCE-LINE 1174
 3939 00000726 0002                       DATA FOR SOURCE-LINE 1179
 3940 00000728 00000000                   DATA FOR SOURCE-LINE 1161,1183
 3941 0000072C 00000000                   DATA FOR SOURCE-LINE 1167
 3942 00000730 00000000                   DATA FOR SOURCE-LINE 1171
 3943 00000734 00000000                   DATA FOR SOURCE-LINE 1175
 3944 00000738 00000000                   DATA FOR SOURCE-LINE 1180
 3945                                     ***** END-POOL *****
 3946 0000073C                   1186     KMT_STATUS_RD300
 3947                            1187     
 3948 0000073C D10B              1188             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R1          ;
 3949 0000073E 6011              1189             MOV.W   @R1,R0                                                          ;
 3950 00000740 2008              1190             TST     R0,R0                                                           ;
 3951                            1191             TST_BIT_ON KMT_STATUS_RDEXT                                             ;ｺﾏﾝﾄﾞ処理
                                          中
 3952 00000742 8B0E                   M           BF      KMT_STATUS_RDEXT
 3953                            1192     
 3954                            1193     
 3955                            1194     
 3956 00000744 9410              1195             MOV.W   #__SITM_OUTCNT/2,R4                                             ;32Byte=16
                                          WORD
 3957 00000746 D50A              1196             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R5          ;
 3958 00000748 D60A              1197             MOV.L   #_KMT_STS1_AREA,R6                                              ;50word
 3959                            1198     
 3960 0000074A                   1199     KMT_STATUS_RD400LOP:
 3961 0000074A 6255              1200             MOV.W   @R5+,R2                         ;確定ﾃﾞｰﾀのCOPY
 3962 0000074C 2621              1201             MOV.W   R2,@R6                          ;
 3963 0000074E 7602              1202             ADD     #2,R6                           ;
 3964 00000750 74FF              1203             ADD     #-1,R4                          ;
 3965 00000752 2448              1204             TST     R4,R4                           ;
 3966                            1205             TST_BIT_ON KMT_STATUS_RD400LOP          ;
 3967 00000754 8BF9                   M           BF      KMT_STATUS_RD400LOP
 3968                            1206     
 3969 00000756 200A              1207             XOR     R0,R0
 3970 00000758 D107              1208             MOV.L   #_KMT_STS1RD_FLG,R1             ;
 3971 0000075A 2101              1209             MOV.W   R0,@R1                          ;
 3972                            1210     
 3973 0000075C D107              1211             MOV.L   #_KMT_STS1_SET,R1               ;
 3974 0000075E 9004              1212             MOV.W   #H'00FF,R0                      ;MAIN-->他のｿﾌﾄ用
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    36
PROGRAM NAME =

 3975 00000760 2101              1213             MOV.W   R0,@R1                          ;
 3976                            1214     
 3977                            1215     
 3978 00000762                   1216     KMT_STATUS_RDEXT
 3979                            1217     
 3980                            1218             SUB_END
 3981                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3982 00000762 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3983                            1219             M_RTS
 3984 00000764 000B                   M           RTS                             ;RTSの後ろの
 3985 00000766 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3986                            1220     
 3987                            1221     ;       *******************************************
 3988                            1222     ;       ***                                     ***
 3989                            1223     ;       ***             SEQ作成                 ***
 3990                            1224     ;       ***                                     ***
 3991                            1225     ;       *******************************************
 3992                                     ***** BEGIN-POOL *****
 3993 00000768 0010                       DATA FOR SOURCE-LINE 1195
 3994 0000076A 00FF                       DATA FOR SOURCE-LINE 1212
 3995 0000076C 00000000                   DATA FOR SOURCE-LINE 1188
 3996 00000770 00000000                   DATA FOR SOURCE-LINE 1196
 3997 00000774 00000000                   DATA FOR SOURCE-LINE 1197
 3998 00000778 00000000                   DATA FOR SOURCE-LINE 1208
 3999 0000077C 00000000                   DATA FOR SOURCE-LINE 1211
 4000                                     ***** END-POOL *****
 4001 00000780                   1226     _KOMTRAX_STAUS_MAKE
 4002                            1227             SUB_START
 4003 00000780 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4004                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4005                            1228     
 4006 00000782 D126              1229             MOV.L   #_KMT_STS1_SET,R1               ;
 4007 00000784 6011              1230             MOV.W   @R1,R0                          ;
 4008 00000786 943F              1231             MOV.W   #BIT1,R4
 4009 00000788 2048              1232             TST     R4,R0                           ;
 4010                            1233             TST_BIT_OF KMT_STAUSMAKE_EXT            ;確定ﾃﾞｰﾀなし
 4011 0000078A 8932                   M           BT      KMT_STAUSMAKE_EXT
 4012 0000078C 6447              1234             NOT     R4,R4
 4013 0000078E 2049              1235             AND     R4,R0                           ;
 4014 00000790 2101              1236             MOV.W   R0,@R1                          ;CLR
 4015                            1237     
 4016                            1238     
 4017 00000792 233A              1239             XOR     R3,R3
 4018                            1240     
 4019 00000794 D122              1241             MOV.L   #(__SITM_TRSSTS1-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1              ;
 4020 00000796 6011              1242             MOV.W   @R1,R0                                                          ;
 4021                            1243     
 4022 00000798 244A              1244             XOR     R4,R4
 4023 0000079A C810              1245             TST     #BIT4,R0                                                        ;ｱﾝﾃﾅﾏｰｸ圏
                                          内?1:圏内
 4024                            1246             TST_BIT_OF KMT_STAUSMAK_100     ;
 4025 0000079C 8901                   M           BT      KMT_STAUSMAK_100
 4026 0000079E 9434              1247             MOV.W   #BIT14,R4               ;
 4027 000007A0 234B              1248             OR      R4,R3                   ;
 4028 000007A2                   1249     KMT_STAUSMAK_100                        ;
 4029                            1250     
 4030 000007A2 244A              1251             XOR     R4,R4                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    37
PROGRAM NAME =

 4031 000007A4 C80C              1252             TST     #(BIT3+BIT2),R0         ;BIT3=ｱﾝﾃﾅ3 BIT2=ｱﾝﾃﾅ2
 4032                            1253             TST_BIT_OF KMT_STAUSMAK_120     ;ｱﾝﾃﾅﾏｰｸ2?  3>2>1>圏外
 4033 000007A6 8901                   M           BT      KMT_STAUSMAK_120
 4034 000007A8 9430              1254             MOV.W   #BIT13,R4               ;
 4035 000007AA 234B              1255             OR      R4,R3                   ;
 4036 000007AC                   1256     KMT_STAUSMAK_120                        ;
 4037                            1257     
 4038                            1258     
 4039                            1259     
 4040 000007AC D11D              1260             MOV.L   #(__SITM_ERRSTS1-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1              ;
 4041 000007AE 6011              1261             MOV.W   @R1,R0                                                          ;
 4042                            1262     
 4043 000007B0 244A              1263             XOR     R4,R4
 4044 000007B2 C820              1264             TST     #BIT5,R0                ;ﾊﾞｯﾃﾘ異常
 4045                            1265             TST_BIT_OF KMT_STAUSMAK_200     ;
 4046 000007B4 8901                   M           BT      KMT_STAUSMAK_200
 4047 000007B6 942A              1266             MOV.W   #BIT9,R4                ;
 4048 000007B8 234B              1267             OR      R4,R3                   ;
 4049 000007BA                   1268     KMT_STAUSMAK_200                        ;
 4050                            1269     
 4051 000007BA 244A              1270             XOR     R4,R4                   ;
 4052 000007BC 9128              1271             MOV.W   #LWORD ~BIT5,R1         ;ﾊﾞｯﾃﾘ異常以外
 4053 000007BE 2018              1272             TST     R1,R0                   ;
 4054                            1273             TST_BIT_OF KMT_STAUSMAK_220     ;
 4055 000007C0 8901                   M           BT      KMT_STAUSMAK_220
 4056 000007C2 9426              1274             MOV.W   #BIT8,R4                ;
 4057 000007C4 234B              1275             OR      R4,R3                   ;
 4058 000007C6                   1276     KMT_STAUSMAK_220                        ;
 4059                            1277     
 4060                            1278     
 4061 000007C6 D118              1279             MOV.L   #(__SITM_WARSTS1-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1              ;
 4062 000007C8 6011              1280             MOV.W   @R1,R0                                                          ;
 4063 000007CA 244A              1281             XOR     R4,R4
 4064 000007CC 2008              1282             TST     R0,R0                   ;
 4065                            1283             TST_BIT_OF KMT_STAUSMAK_300     ;
 4066 000007CE 8901                   M           BT      KMT_STAUSMAK_300
 4067 000007D0 9420              1284             MOV.W   #BIT10,R4               ;
 4068 000007D2 234B              1285             OR      R4,R3                   ;
 4069 000007D4                   1286     KMT_STAUSMAK_300                        ;
 4070                            1287     
 4071 000007D4 D115              1288             MOV.L   #(__SITM_TRSSTS2-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1              ;
 4072 000007D6 6011              1289             MOV.W   @R1,R0                                                          ;
 4073 000007D8 244A              1290             XOR     R4,R4
 4074 000007DA C804              1291             TST     #BIT2,R0                ;
 4075                            1292             TST_BIT_OF KMT_STAUSMAK_400     ;
 4076 000007DC 8901                   M           BT      KMT_STAUSMAK_400
 4077 000007DE 941A              1293             MOV.W   #BIT15,R4               ;初期設定ﾓｰﾄﾞ
 4078 000007E0 234B              1294             OR      R4,R3                   ;
 4079 000007E2                   1295     KMT_STAUSMAK_400                        ;
 4080                            1296     
 4081                            1297     
 4082 000007E2 D113              1298             MOV.L   #_KMT_STS1MN_SQ87,R1    ;
 4083 000007E4 6011              1299             MOV.W   @R1,R0
 4084 000007E6 9417              1300             MOV.W   #BIT15+BIT14+BIT13+BIT10+BIT9+BIT8,R4
 4085 000007E8 2349              1301             AND     R4,R3                                   ;
 4086 000007EA 6447              1302             NOT     R4,R4                                   ;
 4087 000007EC 2049              1303             AND     R4,R0                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    38
PROGRAM NAME =

 4088 000007EE 203B              1304             OR      R3,R0                                           ;
 4089 000007F0 2101              1305             MOV.W   R0,@R1                                          ;
 4090                            1306     
 4091 000007F2                   1307     KMT_STAUSMAKE_EXT
 4092                            1308     
 4093                            1309     ;       ============ ﾌﾞﾛｯｸ転送(MONITOR)============
 4094 000007F2 D510              1310             MOV.L   #_KMT_STS1_AREA,R5
 4095 000007F4 D610              1311             MOV.L   #_FRAM_CB_ICHAR,R6
 4096 000007F6 9410              1312             MOV.W   #D'50,R4
 4097                            1313             BLOCK_MOV1 LG=W,AD_DT=2,SRC_REG=R5,DST_REG=R6,DATA_REG=R2,CNT_REG=R4
 4098 000007F8                        M   JMP000005:                                      ;
 4099 000007F8 2448                   M           TST     R4,R4   ;
 4100                                 M           TST_BIT_OF JMP100005            ;
 4101 000007FA 891F                   M           BT      JMP100005
 4102 000007FC 6255                   M           MOV.W   @R5+,R2 ;
 4103 000007FE 2621                   M           MOV.W   R2,@R6  ;
 4104 00000800 7602                   M           ADD     #2,R6   ;
 4105 00000802 74FF                   M           ADD     #H'FF,R4                ;
 4106                                 M           M_BRA   JMP000005                       ;
 4107 00000804 AFF8                   M           BRA     JMP000005
 4108 00000806 0009                   M           NOP
 4109                                 M   ***** BEGIN-POOL *****
 4110 00000808 0002                   M   DATA FOR SOURCE-LINE 1231
 4111 0000080A 4000                   M   DATA FOR SOURCE-LINE 1247
 4112 0000080C 2000                   M   DATA FOR SOURCE-LINE 1254
 4113 0000080E 0200                   M   DATA FOR SOURCE-LINE 1266
 4114 00000810 FFDF                   M   DATA FOR SOURCE-LINE 1271
 4115 00000812 0100                   M   DATA FOR SOURCE-LINE 1274
 4116 00000814 0400                   M   DATA FOR SOURCE-LINE 1284
 4117 00000816 8000                   M   DATA FOR SOURCE-LINE 1293
 4118 00000818 E700                   M   DATA FOR SOURCE-LINE 1300
 4119 0000081A 0032                   M   DATA FOR SOURCE-LINE 1312
 4120 0000081C 00000000               M   DATA FOR SOURCE-LINE 1229
 4121 00000820 00000000               M   DATA FOR SOURCE-LINE 1241
 4122 00000824 00000000               M   DATA FOR SOURCE-LINE 1260
 4123 00000828 00000000               M   DATA FOR SOURCE-LINE 1279
 4124 0000082C 00000000               M   DATA FOR SOURCE-LINE 1288
 4125 00000830 00000000               M   DATA FOR SOURCE-LINE 1298
 4126 00000834 00000000               M   DATA FOR SOURCE-LINE 1310
 4127 00000838 00000000               M   DATA FOR SOURCE-LINE 1311
 4128                                 M   ***** END-POOL *****
 4129 0000083C                        M   JMP100005:                                      ;
 4130                            1314     
 4131                            1315             SUB_END
 4132                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4133 0000083C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4134                            1316             M_RTS
 4135 0000083E 000B                   M           RTS                             ;RTSの後ろの
 4136 00000840 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4137                            1317     
 4138                            1318     ;       *******************************************
 4139                            1319     ;       ***                                     ***
 4140                            1320     ;       ***             実測作成                ***
 4141                            1321     ;       ***                                     ***
 4142                            1322     ;       *******************************************
 4143                            1323             .IMPORT _PVP_POWER_MONI ;
 4144                            1324             .IMPORT _PVP_MENTE_CNT  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    39
PROGRAM NAME =

 4145                            1325     
 4146 00000842                   1326     _KOMTRAX_PVDAT_MAKE
 4147                            1327             SUB_START
 4148 00000842 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4149                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4150                            1328     
 4151 00000844 D106              1329             MOV.L   #_PVP_POWER_MONI,R1
 4152 00000846 6011              1330             MOV.W   @R1,R0
 4153 00000848 D106              1331             MOV.L   #_KMT_COM1_AREA+__SITM_AIDAT1,R1        ;
 4154 0000084A 2101              1332             MOV.W   R0,@R1
 4155                            1333     
 4156 0000084C D106              1334             MOV.L   #_PVP_MENTE_CNT,R1                      ;
 4157 0000084E 6012              1335             MOV.L   @R1,R0
 4158                            1336     
 4159 00000850 D106              1337             MOV.L   #_KMT_COM1_AREA+__SITM_MENTCNT+2,R1     ;
 4160 00000852 2101              1338             MOV.W   R0,@R1                                  ;
 4161 00000854 D106              1339             MOV.L   #_KMT_COM1_AREA+__SITM_MENTCNT+0,R1     ;
 4162 00000856 6009              1340             SWAP.W  R0,R0
 4163 00000858 2101              1341             MOV.W   R0,@R1                                  ;
 4164                            1342     
 4165                            1343     
 4166                            1344             SUB_END
 4167                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4168 0000085A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4169                            1345             M_RTS
 4170 0000085C 000B                   M           RTS                             ;RTSの後ろの
 4171 0000085E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4172                            1346     
 4173                            1347     
 4174                            1348     ;       *******************************************
 4175                            1349     ;       ***                                     ***
 4176                            1350     ;       ***             実測転送                ***
 4177                            1351     ;       ***                                     ***
 4178                            1352     ;       *******************************************
 4179                                     ***** BEGIN-POOL *****
 4180 00000860 00000000                   DATA FOR SOURCE-LINE 1329
 4181 00000864 00000000                   DATA FOR SOURCE-LINE 1331
 4182 00000868 00000000                   DATA FOR SOURCE-LINE 1334
 4183 0000086C 00000000                   DATA FOR SOURCE-LINE 1337
 4184 00000870 00000000                   DATA FOR SOURCE-LINE 1339
 4185                                     ***** END-POOL *****
 4186 00000874                   1353     _KOMTRAX_PVDAT_WRITE:
 4187                            1354             SUB_START
 4188 00000874 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4189                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4190                            1355     
 4191                            1356     
 4192 00000876 D10F              1357             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R1          ;
 4193 00000878 6011              1358             MOV.W   @R1,R0                                                          ;
 4194 0000087A 2008              1359             TST     R0,R0                                                           ;
 4195                            1360             TST_BIT_ON KMT_PVDTWR_EXT                                               ;ｺﾏﾝﾄﾞ処理
                                          中
 4196 0000087C 8B14                   M           BF      KMT_PVDTWR_EXT
 4197                            1361     
 4198 0000087E 200A              1362             XOR     R0,R0
 4199 00000880 D10D              1363             MOV.L   #(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R1               ;0
                                          :固定 (SIT_MEMを対象)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    40
PROGRAM NAME =

 4200 00000882 2101              1364             MOV.W   R0,@R1                                                          ;
 4201                            1365     
 4202 00000884 9013              1366             MOV.W   #__SITM_AIDAT1/2,R0                                             ;byte adr/
                                          2
 4203 00000886 D10D              1367             MOV.L   #(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R1               ;
 4204 00000888 2101              1368             MOV.W   R0,@R1                                                          ;
 4205                            1369     
 4206 0000088A 9010              1370             MOV.W   #(__SITM_AIDTCNT+__SITM_MCNTCNT)/2,R0                           ;
 4207 0000088C D10C              1371             MOV.L   #(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R1          ;MAX 1~256
                                           word
 4208 0000088E 2101              1372             MOV.W   R0,@R1
 4209                            1373     
 4210 00000890 940D              1374             MOV.W   #(__SITM_AIDTCNT+__SITM_MCNTCNT)/2,R4                           ;AI+MENTE
 4211 00000892 D50C              1375             MOV.L   #_KMT_COM1_AREA+__SITM_AIDAT1,R5                                ;
 4212 00000894 D60C              1376             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R6          ;
 4213 00000896                   1377     KMT_PVDATWR100LOP
 4214 00000896 6055              1378             MOV.W   @R5+,R0
 4215 00000898 2601              1379             MOV.W   R0,@R6
 4216 0000089A 7602              1380             ADD     #2,R6                                           ;
 4217 0000089C 74FF              1381             ADD     #-1,R4                                          ;
 4218 0000089E 2448              1382             TST     R4,R4                                           ;
 4219                            1383             TST_BIT_ON KMT_PVDATWR100LOP                            ;
 4220 000008A0 8BF9                   M           BF      KMT_PVDATWR100LOP
 4221                            1384     
 4222                            1385     
 4223 000008A2 9005              1386             MOV.W   #__KMTCMD_WR,R0                                                         ;W
                                          RITE
 4224 000008A4 D103              1387             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R1          ;
 4225 000008A6 2101              1388             MOV.W   R0,@R1                                                          ;
 4226                            1389     
 4227                            1390     
 4228 000008A8                   1391     KMT_PVDTWR_EXT
 4229                            1392     
 4230                            1393             SUB_END
 4231                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4232 000008A8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4233                            1394             M_RTS
 4234 000008AA 000B                   M           RTS                             ;RTSの後ろの
 4235 000008AC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4236                            1395     
 4237                            1396     
 4238                            1397     
 4239                            1398     
 4240                            1399     ;       *******************************************
 4241                            1400     ;       ***                                     ***
 4242                            1401     ;       ***             転送処理                ***
 4243                            1402     ;       ***             1word * N 転送処理      ***
 4244                            1403     ;       ***             (read/write)            ***
 4245                            1404     ;       ***                                     ***
 4246                            1405     ;       *******************************************
 4247                            1406     ;
 4248                            1407     ;
 4249                            1408     ;       相手ﾀｽｸ WR 2ﾀｽｸ ｲﾍﾞﾝﾄWR
 4250                            1409     ;                                       ﾊﾝﾄﾞｼｪｲｸWR
 4251                            1410     ;
 4252                            1411     ;                   RD 1ﾀｽｸ 0番地から16word
 4253                            1412     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    41
PROGRAM NAME =

 4254                            1413     ;
 4255                                     ***** BEGIN-POOL *****
 4256 000008AE 0006                       DATA FOR SOURCE-LINE 1366,1370,1374
 4257 000008B0 0001                       DATA FOR SOURCE-LINE 1386
 4258 000008B2 0000                       ALIGNMENT CODE
 4259 000008B4 00000000                   DATA FOR SOURCE-LINE 1357,1387
 4260 000008B8 00000000                   DATA FOR SOURCE-LINE 1363
 4261 000008BC 00000000                   DATA FOR SOURCE-LINE 1367
 4262 000008C0 00000000                   DATA FOR SOURCE-LINE 1371
 4263 000008C4 00000000                   DATA FOR SOURCE-LINE 1375
 4264 000008C8 00000000                   DATA FOR SOURCE-LINE 1376
 4265                                     ***** END-POOL *****
 4266 000008CC                   1414             .ALIGN  4                                       ;
 4267 000008CC                   1415     _KMT_CMD_TRS:
 4268                            1416             SUB_START
 4269 000008CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4270                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4271                            1417     
 4272 000008CE D10E              1418             MOV.L   #_KMT_TRS_CMD,R1                ;0:ILDE 1:WRITE 2:READ
 4273 000008D0 6011              1419             MOV.W   @R1,R0                          ;
 4274 000008D2 8801              1420             CMP/EQ  #__KMTCMD_WR,R0                 ;
 4275 000008D4 8964              1421             BT      KMT_CMDTRS_200                  ;WRITE中
 4276                            1422     
 4277 000008D6 8802              1423             CMP/EQ  #__KMTCMD_RD,R0                 ;
 4278 000008D8 896A              1424             BT      KMT_CMDTRS_300                  ;READ中
 4279                            1425     
 4280                            1426     
 4281                            1427     ;       ----- IDLE (CMD CHECK)複数ﾀｽｸの場合ｽｷｬﾝ毎にﾀｽｸｻｰﾁ------
 4282 000008DA D10C              1428             MOV.L   #_KMT_TRS_SCAN,R1               ;
 4283 000008DC 6011              1429             MOV.W   @R1,R0                          ;
 4284 000008DE 7001              1430             ADD     #1,R0                                   ;
 4285 000008E0 C907              1431             AND     #H'07,R0                                ;0,1,2,3,4,5,6,7
 4286 000008E2 2101              1432             MOV.W   R0,@R1                          ;4SCAN<ｺﾏﾝﾄﾞを4個まで受け付ける>
 4287                            1433     
 4288 000008E4 8800              1434             CMP/EQ  #0,R0                           ;
 4289 000008E6 8913              1435             BT      KMT_CMD_EVET_000                ;
 4290 000008E8 8804              1436             CMP/EQ  #4,R0                           ;
 4291 000008EA 8911              1437             BT      KMT_CMD_EVET_000                ;
 4292                            1438     
 4293 000008EC 8801              1439             CMP/EQ  #1,R0                           ;
 4294 000008EE 8919              1440             BT      KMT_CMD_HAND_000                ;
 4295                            1441     
 4296                            1442     ;       ------2011-01-14--移動---
 4297 000008F0 8805              1443             CMP/EQ  #5,R0                           ;
 4298 000008F2 892B              1444             BT      KMT_CMD_PVWR_000                ;3SCANと7ｽｷｬﾝ目での実行を5ｽｷｬﾝ目のみにする
 4299                            1445     
 4300 000008F4 8802              1446             CMP/EQ  #2,R0                           ;
 4301 000008F6 891F              1447             BT      KMT_CMD_STSR_000                ;
 4302 000008F8 8806              1448             CMP/EQ  #6,R0                           ;
 4303 000008FA 891D              1449             BT      KMT_CMD_STSR_000                ;
 4304                            1450     
 4305                            1451     ;---------- 2011-01-14 ---------
 4306                            1452     ;;;     CMP/EQ  #3,R0                           ;
 4307                            1453     ;;;     BT      KMT_CMD_PVWR_000                ;
 4308                            1454     ;;;     CMP/EQ  #7,R0                           ;
 4309                            1455     ;;;     BT      KMT_CMD_PVWR_000                ;
 4310                            1456     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    42
PROGRAM NAME =

 4311                            1457     
 4312 000008FC 8803              1458             CMP/EQ  #3,R0                           ;
 4313 000008FE 893F              1459             BT      KMT_CMD_SYOUMO_000              ;消耗品
 4314 00000900 8807              1460             CMP/EQ  #7,R0                           ;
 4315 00000902 892D              1461             BT      KMT_CMD_HINBAN_000              ;品番
 4316                            1462             M_BRA   KMT_CMDTRS_END                  ;
 4317 00000904 A058                   M           BRA     KMT_CMDTRS_END
 4318 00000906 0009                   M           NOP
 4319                            1463     
 4320                            1464     
 4321                            1465     ;       =============ｲﾍﾞﾝﾄｺｰﾄﾞ送信==================
 4322                                     ***** BEGIN-POOL *****
 4323 00000908 00000000                   DATA FOR SOURCE-LINE 1418
 4324 0000090C 00000000                   DATA FOR SOURCE-LINE 1428
 4325                                     ***** END-POOL *****
 4326 00000910                   1466     KMT_CMD_EVET_000
 4327                            1467     ;       ------ 送信ﾀｽｸ 8byte----
 4328 00000910 D802              1468             MOV.L   #_KMT_TRSSV1_TOP,R8             ;
 4329                            1469             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4330 00000912 D003                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4331 00000914 400B                   M           JSR     @R0                     ;
 4332 00000916 0009                   M           NOP                                     ;
 4333                            1470             M_BRA   KMT_CMDTRS_END                  ;
 4334 00000918 A04E                   M           BRA     KMT_CMDTRS_END
 4335 0000091A 0009                   M           NOP
 4336                            1471     
 4337                            1472     ;       =============ﾊﾝﾄﾞｼｪｲｸ送信===================
 4338                                     ***** BEGIN-POOL *****
 4339 0000091C 00000000                   DATA FOR SOURCE-LINE 1468
 4340 00000920 00000000                   DATA FOR SOURCE-LINE 1469
 4341                                     ***** END-POOL *****
 4342 00000924                   1473     KMT_CMD_HAND_000
 4343                            1474     ;       ------ 送信ﾀｽｸ 2BYTE----
 4344 00000924 D802              1475             MOV.L   #_KMT_TRSSV2_TOP,R8             ;
 4345                            1476             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4346 00000926 D003                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4347 00000928 400B                   M           JSR     @R0                     ;
 4348 0000092A 0009                   M           NOP                                     ;
 4349                            1477             M_BRA   KMT_CMDTRS_END                  ;
 4350 0000092C A044                   M           BRA     KMT_CMDTRS_END
 4351 0000092E 0009                   M           NOP
 4352                            1478     
 4353                            1479     ;       =============ｽﾃｰﾀｽREAD  ===================
 4354                                     ***** BEGIN-POOL *****
 4355 00000930 00000000                   DATA FOR SOURCE-LINE 1475
 4356 00000934 00000000                   DATA FOR SOURCE-LINE 1476
 4357                                     ***** END-POOL *****
 4358 00000938                   1480     KMT_CMD_STSR_000
 4359                            1481     ;       ------ 受信ﾀｽｸ 16BYTE----
 4360 00000938 D802              1482             MOV.L   #_KMT_TRSSV3_TOP,R8             ;
 4361                            1483             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4362 0000093A D003                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4363 0000093C 400B                   M           JSR     @R0                     ;
 4364 0000093E 0009                   M           NOP                                     ;
 4365                            1484             M_BRA   KMT_CMDTRS_END                  ;
 4366 00000940 A03A                   M           BRA     KMT_CMDTRS_END
 4367 00000942 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    43
PROGRAM NAME =

 4368                            1485     
 4369                            1486     
 4370                            1487     ;       =============実測値送信===================
 4371                                     ***** BEGIN-POOL *****
 4372 00000944 00000000                   DATA FOR SOURCE-LINE 1482
 4373 00000948 00000000                   DATA FOR SOURCE-LINE 1483
 4374                                     ***** END-POOL *****
 4375 0000094C                   1488     KMT_CMD_PVWR_000
 4376                            1489     ;       ------ 送信ﾀｽｸ 16BYTE----
 4377 0000094C D802              1490             MOV.L   #_KMT_TRSSV4_TOP,R8             ;
 4378                            1491             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4379 0000094E D003                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4380 00000950 400B                   M           JSR     @R0                     ;
 4381 00000952 0009                   M           NOP                                     ;
 4382                            1492             M_BRA   KMT_CMDTRS_END                  ;
 4383 00000954 A030                   M           BRA     KMT_CMDTRS_END
 4384 00000956 0009                   M           NOP
 4385                            1493     
 4386                            1494     
 4387                            1495     ;       ===== 追加2011-01-14 品番 =====
 4388                                     ***** BEGIN-POOL *****
 4389 00000958 00000000                   DATA FOR SOURCE-LINE 1490
 4390 0000095C 00000000                   DATA FOR SOURCE-LINE 1491
 4391                                     ***** END-POOL *****
 4392 00000960                   1496     KMT_CMD_HINBAN_000
 4393 00000960 D104              1497             MOV.L   #_KMT_TYP_011,R1                ;
 4394 00000962 6011              1498             MOV.W   @R1,R0                          ;
 4395 00000964 2008              1499             TST     R0,R0                           ;
 4396                            1500             TST_BIT_OF KMT_CMDTRS_END               ;
 4397 00000966 8927                   M           BT      KMT_CMDTRS_END
 4398                            1501     
 4399                            1502     ;       ------ 送信ﾀｽｸ 80BYTE----
 4400 00000968 D803              1503             MOV.L   #_KMT_TRSSV5_TOP,R8             ;
 4401                            1504             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4402 0000096A D004                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4403 0000096C 400B                   M           JSR     @R0                     ;
 4404 0000096E 0009                   M           NOP                                     ;
 4405                            1505             M_BRA   KMT_CMDTRS_END                  ;
 4406 00000970 A022                   M           BRA     KMT_CMDTRS_END
 4407 00000972 0009                   M           NOP
 4408                            1506     
 4409                            1507     
 4410                            1508     ;       ===== 追加2011-01-14 消耗品 ====
 4411                                     ***** BEGIN-POOL *****
 4412 00000974 00000000                   DATA FOR SOURCE-LINE 1497
 4413 00000978 00000000                   DATA FOR SOURCE-LINE 1503
 4414 0000097C 00000000                   DATA FOR SOURCE-LINE 1504
 4415                                     ***** END-POOL *****
 4416 00000980                   1509     KMT_CMD_SYOUMO_000
 4417 00000980 D104              1510             MOV.L   #_KMT_TYP_011,R1                ;
 4418 00000982 6011              1511             MOV.W   @R1,R0                          ;
 4419 00000984 2008              1512             TST     R0,R0                           ;
 4420                            1513             TST_BIT_OF KMT_CMDTRS_END               ;
 4421 00000986 8917                   M           BT      KMT_CMDTRS_END
 4422                            1514     
 4423                            1515     ;       ------ 送信ﾀｽｸ 64BYTE----
 4424 00000988 D803              1516             MOV.L   #_KMT_TRSSV6_TOP,R8             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    44
PROGRAM NAME =

 4425                            1517             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4426 0000098A D004                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4427 0000098C 400B                   M           JSR     @R0                     ;
 4428 0000098E 0009                   M           NOP                                     ;
 4429                            1518             M_BRA   KMT_CMDTRS_END                  ;
 4430 00000990 A012                   M           BRA     KMT_CMDTRS_END
 4431 00000992 0009                   M           NOP
 4432                            1519     
 4433                            1520     
 4434                            1521     
 4435                            1522     ;       -----------------------------------
 4436                            1523     ;       ---     WR/RD共通処理           ---
 4437                            1524     ;       -----------------------------------
 4438                            1525     ;       --------WR処理中-----
 4439                                     ***** BEGIN-POOL *****
 4440 00000994 00000000                   DATA FOR SOURCE-LINE 1510
 4441 00000998 00000000                   DATA FOR SOURCE-LINE 1516
 4442 0000099C 00000000                   DATA FOR SOURCE-LINE 1517
 4443                                     ***** END-POOL *****
 4444 000009A0                   1526     KMT_CMDTRS_200
 4445                            1527             FAR_JSR #_KMT_TRS_STP_WR,R0             ;CMD CLR
 4446 000009A0 D002                   M           MOV.L   #_KMT_TRS_STP_WR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4447 000009A2 400B                   M           JSR     @R0                     ;
 4448 000009A4 0009                   M           NOP                                     ;
 4449                            1528             M_BRA   KMT_CMDTRS_400                  ;
 4450 000009A6 A006                   M           BRA     KMT_CMDTRS_400
 4451 000009A8 0009                   M           NOP
 4452                            1529     
 4453                            1530     ;       --------RD処理中-----
 4454                                     ***** BEGIN-POOL *****
 4455 000009AA 0000                       ALIGNMENT CODE
 4456 000009AC 00000000                   DATA FOR SOURCE-LINE 1527
 4457                                     ***** END-POOL *****
 4458 000009B0                   1531     KMT_CMDTRS_300
 4459                            1532             FAR_JSR #_KMT_TRS_STP_RD,R0             ;
 4460 000009B0 D003                   M           MOV.L   #_KMT_TRS_STP_RD,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4461 000009B2 400B                   M           JSR     @R0                     ;
 4462 000009B4 0009                   M           NOP                                     ;
 4463                            1533     
 4464 000009B6                   1534     KMT_CMDTRS_400:
 4465 000009B6 0009              1535             NOP
 4466                            1536     
 4467 000009B8                   1537     KMT_CMDTRS_END
 4468                            1538             SUB_END
 4469                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4470 000009B8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4471                            1539             M_RTS
 4472 000009BA 000B                   M           RTS                             ;RTSの後ろの
 4473 000009BC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4474                            1540     
 4475                            1541     
 4476                            1542     
 4477                            1543     ;       ***********************************
 4478                            1544     ;       ***                             ***
 4479                            1545     ;       ***     CMD START CHECK         ***
 4480                            1546     ;       ***                             ***
 4481                            1547     ;       ***     Input R8(STRUCT)        ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    45
PROGRAM NAME =

 4482                            1548     ;       ***                             ***
 4483                            1549     ;       ***********************************
 4484                            1550     ;       MOV.L   #_KMT_TRSSV1_TOP,R8             ;
 4485                            1551     ;       -------- 2009-07-27(API1)-------
 4486                            1552     ;_KMT_TRSSV1_FORM:                                      ;配列
 4487                            1553     ;_KMT_TRSSV1_TOP:                                       ;配列
 4488                            1554     ;_KMT_TRSSV1_CMD                .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 4489                            1555     ;_KMT_TRSSV1_MEMKND     .SRES   2                       ;0:固定 (SIT_MEMを対象)
 4490                            1556     ;_KMT_TRSSV1_OBJADR     .SRES   2                       ;TOP_ADR()
 4491                            1557     ;_KMT_TRSSV1_CNT                .SRES   2                       ;MAX 1~256 word
 4492                            1558     ;_KMT_TRSSV1_DAT                .SRES   2*256                   ;MAX 256word
 4493                            1559     
 4494                            1560     ;_KMT_TRSLT_TOPADR      .SRES   4                       ;ｽﾄﾗｸﾁｬ
 4495                            1561     ;_KMT_TRSLT_CMD         .SRES   2                       ;=ADR(_KMT_TRSSV1_CMD)
 4496                            1562     ;_KMT_TRSLT_MEMKND      .SRES   2                       ;0:固定 (SIT_MEMを対象)
 4497                            1563     ;_KMT_TRSLT_OBJADR      .SRES   2                       ;TOP_ADR
 4498                            1564     ;_KMT_TRSLT_CNT         .SRES   2                       ;MAX 1~256 word
 4499                            1565     ;_KMT_TRSLT_DAT         .SRES   2*256                   ;MAX 256word
 4500                            1566     
 4501                                     ***** BEGIN-POOL *****
 4502 000009BE 0000                       ALIGNMENT CODE
 4503 000009C0 00000000                   DATA FOR SOURCE-LINE 1532
 4504                                     ***** END-POOL *****
 4505 000009C4                   1567     _KMT_CMDTRS_CHK:
 4506                            1568             SUB_START
 4507 000009C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4508                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4509 000009C6 8580              1569             MOV.W   @(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM,R8),R0       ;
 4510 000009C8 2008              1570             TST     R0,R0                                           ;
 4511                            1571             TST_BIT_OF KMT_CMDTRSCHK_EXT                            ;No cmd:EXIT
 4512 000009CA 8911                   M           BT      KMT_CMDTRSCHK_EXT
 4513                            1572     
 4514                            1573     ;       ========== DATA 転送==========
 4515 000009CC C903              1574             AND     #(__KMTCMD_WR+__KMTCMD_RD),R0                   ;1or2
 4516 000009CE D10A              1575             MOV.L   #_KMT_TRS_CMD,R1                                ;
 4517 000009D0 2101              1576             MOV.W   R0,@R1                                          ;CMD SAVE
 4518                            1577     
 4519 000009D2 D10A              1578             MOV.L   #_KMT_TRSLT_TOPADR,R1                           ;STRCUT
 4520 000009D4 2182              1579             MOV.L   R8,@R1                                          ;save
 4521                            1580     
 4522 000009D6 8581              1581             MOV.W   @(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM,R8),R0    ;R0=0:CONST
 4523 000009D8 D109              1582             MOV.L   #_KMT_TRSLT_MEMKND,R1                           ;ﾒﾓﾘ種別
 4524 000009DA 2101              1583             MOV.W   R0,@R1                                          ;
 4525                            1584     
 4526 000009DC 8582              1585             MOV.W   @(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM,R8),R0    ;
 4527 000009DE D109              1586             MOV.L   #_KMT_TRSLT_OBJADR,R1                           ;ﾒﾓﾘ種別に対するｵﾌｾｯﾄｱﾄﾞﾚｽ
                                          word.adr
 4528 000009E0 2101              1587             MOV.W   R0,@R1                                          ;
 4529                            1588     
 4530 000009E2 8583              1589             MOV.W   @(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM,R8),R0       ;
 4531 000009E4 600C              1590             EXTU.B  R0,R0                                           ;1~255word
 4532 000009E6 D108              1591             MOV.L   #_KMT_TRSLT_CNT,R1                              ;
 4533 000009E8 2101              1592             MOV.W   R0,@R1                                          ;(word 個数)
 4534                            1593     
 4535                            1594     
 4536                            1595             FAR_JSR #_KMT_CMD_INIT,R0                               ;DPRAM SIG=OFF
 4537 000009EA D008                   M           MOV.L   #_KMT_CMD_INIT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    46
PROGRAM NAME =

 4538 000009EC 400B                   M           JSR     @R0                     ;
 4539 000009EE 0009                   M           NOP                                     ;
 4540                            1596     
 4541                            1597     
 4542                            1598     
 4543 000009F0                   1599     KMT_CMDTRSCHK_EXT:
 4544                            1600             SUB_END
 4545                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4546 000009F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4547                            1601             M_RTS
 4548 000009F2 000B                   M           RTS                             ;RTSの後ろの
 4549 000009F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4550                            1602     
 4551                            1603     ;       ***************************
 4552                            1604     ;       ***                     ***
 4553                            1605     ;       ***     START INITAL    ***
 4554                            1606     ;       ***                     ***
 4555                            1607     ;       ***************************
 4556                                     ***** BEGIN-POOL *****
 4557 000009F6 0000                       ALIGNMENT CODE
 4558 000009F8 00000000                   DATA FOR SOURCE-LINE 1575
 4559 000009FC 00000000                   DATA FOR SOURCE-LINE 1578
 4560 00000A00 00000000                   DATA FOR SOURCE-LINE 1582
 4561 00000A04 00000000                   DATA FOR SOURCE-LINE 1586
 4562 00000A08 00000000                   DATA FOR SOURCE-LINE 1591
 4563 00000A0C 00000000                   DATA FOR SOURCE-LINE 1595
 4564                                     ***** END-POOL *****
 4565 00000A10                   1608     _KMT_CMD_INIT:
 4566                            1609             SUB_START
 4567 00000A10 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4568                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4569                            1610     
 4570                            1611     
 4571                            1612     ;       ========== ﾒﾓﾘ転送===============
 4572 00000A12 D107              1613             MOV.L   #_KMT_TRSLT_CNT,R1                              ;
 4573 00000A14 6011              1614             MOV.W   @R1,R0                                          ;(word 個数)
 4574                            1615     ;       ===============書込/読み出しの場合は意味無し（どっちでも共通で行う）=======
 4575 00000A16 D107              1616             MOV.L   #_KMT_TRSLT_TOPADR,R1                           ;STRCUT
 4576 00000A18 6212              1617             MOV.L   @R1,R2                                          ;save
 4577 00000A1A D507              1618             MOV.L   #_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM,R5            ;
 4578 00000A1C 352C              1619             ADD     R2,R5                                           ;data top
 4579 00000A1E D607              1620             MOV.L   #_KMT_TRSLT_DAT,R6                              ;MAX 255word
 4580                            1621     
 4581 00000A20                   1622     KMT_CMDINIT_100_LOP:
 4582 00000A20 2008              1623             TST     R0,R0
 4583                            1624             TST_BIT_OF KMT_CMDINIT_200                              ;
 4584 00000A22 890D                   M           BT      KMT_CMDINIT_200
 4585 00000A24 6155              1625             MOV.W   @R5+,R1                                         ;
 4586 00000A26 2611              1626             MOV.W   R1,@R6                                          ;
 4587 00000A28 7602              1627             ADD     #2,R6                                           ;
 4588 00000A2A 70FF              1628             ADD     #-1,R0                                          ;
 4589                            1629             M_BRA   KMT_CMDINIT_100_LOP                             ;
 4590 00000A2C AFF8                   M           BRA     KMT_CMDINIT_100_LOP
 4591 00000A2E 0009                   M           NOP
 4592                            1630     
 4593                                     ***** BEGIN-POOL *****
 4594 00000A30 00000000                   DATA FOR SOURCE-LINE 1613
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    47
PROGRAM NAME =

 4595 00000A34 00000000                   DATA FOR SOURCE-LINE 1616
 4596 00000A38 00000008                   DATA FOR SOURCE-LINE 1618
 4597 00000A3C 00000000                   DATA FOR SOURCE-LINE 1620
 4598                                     ***** END-POOL *****
 4599 00000A40                   1631     KMT_CMDINIT_200:
 4600                            1632     
 4601                            1633     
 4602 00000A40 200A              1634             XOR     R0,R0                           ;
 4603 00000A42 D10B              1635             MOV.L   #_KMT_TRSPV_CNT,R1              ;(WR/RDｶｳﾝﾀ　0)
 4604 00000A44 2101              1636             MOV.W   R0,@R1                          ;
 4605                            1637     
 4606 00000A46 D10B              1638             MOV.L   #_KMT_TRS_CMD,R1                ;
 4607 00000A48 6011              1639             MOV.W   @R1,R0                          ;CMD
 4608                            1640     
 4609 00000A4A 930F              1641             MOV.W   #BIT6,R3                        ;R3=BIT6 WR
 4610 00000A4C 8801              1642             CMP/EQ  #1,R0                           ;WRITE
 4611 00000A4E 8900              1643             BT      KMT_CMDINI_300                  ;
 4612 00000A50 233A              1644             XOR     R3,R3                           ;R3=0 READ
 4613 00000A52                   1645     KMT_CMDINI_300:
 4614                            1646     
 4615 00000A52 D109              1647             MOV.L   #_KMT_TRSLT_MEMKND,R1           ;MEM-KIND=**00,0000
 4616 00000A54 6011              1648             MOV.W   @R1,R0                          ;
 4617 00000A56 940A              1649             MOV.W   #LWORD ~(BIT7+BIT6),R4                  ;
 4618 00000A58 2049              1650             AND     R4,R0                           ;BIT6/BIT7=0
 4619 00000A5A 203B              1651             OR      R3,R0                           ;
 4620 00000A5C D107              1652             MOV.L   #_KMT_REQ_SIG,R1                ;BIT6=0(rd) =1:WR
 4621 00000A5E 2101              1653             MOV.W   R0,@R1                          ;
 4622                            1654     
 4623                            1655             FAR_JSR #_KMT_REQSIG_OUT,R0             ;00=>REQ SIGNAL
 4624 00000A60 D007                   M           MOV.L   #_KMT_REQSIG_OUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4625 00000A62 400B                   M           JSR     @R0                     ;
 4626 00000A64 0009                   M           NOP                                     ;
 4627                            1656                                                     ;0100,0000
 4628                            1657             SUB_END
 4629                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4630 00000A66 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4631                            1658             M_RTS
 4632 00000A68 000B                   M           RTS                             ;RTSの後ろの
 4633 00000A6A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4634                            1659     
 4635                            1660     ;       --------- WORK==> DPRAM REQ SIG=====
 4636                            1661             .IMPORT _ET2_WORD_SITM_REQ              ;CPUD/B間はﾜｰﾄﾞで行う ET2_SITM_REQ
 4637                            1662             .IMPORT _ET2_WORD_SITM_ACK              ;CPUD/B間はﾜｰﾄﾞで行う ET2_SITM_ACK
 4638                            1663     
 4639                                     ***** BEGIN-POOL *****
 4640 00000A6C 0040                       DATA FOR SOURCE-LINE 1641
 4641 00000A6E FF3F                       DATA FOR SOURCE-LINE 1649
 4642 00000A70 00000000                   DATA FOR SOURCE-LINE 1635
 4643 00000A74 00000000                   DATA FOR SOURCE-LINE 1638
 4644 00000A78 00000000                   DATA FOR SOURCE-LINE 1647
 4645 00000A7C 00000000                   DATA FOR SOURCE-LINE 1652
 4646 00000A80 00000000                   DATA FOR SOURCE-LINE 1655
 4647                                     ***** END-POOL *****
 4648 00000A84                   1664     _KMT_REQSIG_OUT:
 4649                            1665             SUB_START
 4650 00000A84 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4651                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    48
PROGRAM NAME =

 4652                            1666     
 4653                            1667     
 4654 00000A86 D104              1668             MOV.L   #_KMT_REQ_SIG,R1                ;
 4655 00000A88 6011              1669             MOV.W   @R1,R0                          ;
 4656 00000A8A 600C              1670             EXTU.B  R0,R0                           ;
 4657 00000A8C D103              1671             MOV.L   #_ET2_WORD_SITM_REQ,R1          ;CPUD/B間はﾜｰﾄﾞで行う ET2_SITM_REQ
 4658 00000A8E 2101              1672             MOV.W   R0,@R1                          ;
 4659                            1673     
 4660                            1674     ;;;[MC2014-09-30]       MOV.L   #_ET2_SITM_REQ,R1               ;
 4661                            1675     ;;;[MC2014-09-30]       MOV.B   R0,@R1                          ;byte
 4662                            1676     
 4663                            1677             SUB_END
 4664                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4665 00000A90 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4666                            1678             M_RTS
 4667 00000A92 000B                   M           RTS                             ;RTSの後ろの
 4668 00000A94 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4669                            1679     
 4670                            1680     ;       ----------- DPRAM ACK -----
 4671                                     ***** BEGIN-POOL *****
 4672 00000A96 0000                       ALIGNMENT CODE
 4673 00000A98 00000000                   DATA FOR SOURCE-LINE 1668
 4674 00000A9C 00000000                   DATA FOR SOURCE-LINE 1671
 4675                                     ***** END-POOL *****
 4676 00000AA0                   1681     _KMT_ACKSIG_IN
 4677                            1682             SUB_START
 4678 00000AA0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4679                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4680                            1683     ;;;;[MC2014-09-29]      MOV.L   #_ET2_SITM_ACK,R1               ;
 4681                            1684     ;;;;[MC2014-09-29]      MOV.B   @R1,R0                          ;
 4682                            1685     ;;;;[MC2014-09-29]      EXTU.B  R0,R0                           ;
 4683                            1686     
 4684                            1687     
 4685 00000AA2 D103              1688             MOV.L   #_ET2_WORD_SITM_ACK,R1          ;ACKだけでもﾜｰﾄﾞｱｸｾｽしかでいない
 4686 00000AA4 6011              1689             MOV.W   @R1,R0                          ;WORD
 4687 00000AA6 600C              1690             EXTU.B  R0,R0                           ;
 4688                            1691     
 4689                            1692             .AIF    0       EQ 1    ;@
 4690                            1693             MOV.L   #_KMT_REQ_SIG,R1                ;
 4691                            1694             MOV.W   @R1,R0                          ;
 4692                            1695             .AENDI
 4693                            1696     
 4694                            1697             SUB_END
 4695                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4696 00000AA8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4697                            1698             M_RTS
 4698 00000AAA 000B                   M           RTS                             ;RTSの後ろの
 4699 00000AAC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4700                            1699     
 4701                            1700     
 4702                            1701     
 4703                            1702     
 4704                            1703     ;       *******************************************
 4705                            1704     ;       ***                                     ***
 4706                            1705     ;       ***     WR STEP                         ***
 4707                            1706     ;       ***     data SET+ HAND-ON/OFF           ***
 4708                            1707     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    49
PROGRAM NAME =

 4709                            1708     ;       *******************************************
 4710                                     ***** BEGIN-POOL *****
 4711 00000AAE 0000                       ALIGNMENT CODE
 4712 00000AB0 00000000                   DATA FOR SOURCE-LINE 1688
 4713                                     ***** END-POOL *****
 4714 00000AB4                   1709     _KMT_TRS_STP_WR:
 4715                            1710             SUB_START
 4716 00000AB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4717                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4718                            1711     
 4719                            1712             FAR_JSR #_KMT_ACKSIG_IN,R0              ;ANS R0
 4720 00000AB6 D009                   M           MOV.L   #_KMT_ACKSIG_IN,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4721 00000AB8 400B                   M           JSR     @R0                     ;
 4722 00000ABA 0009                   M           NOP                                     ;
 4723 00000ABC D108              1713             MOV.L   #_KMT_REQ_SIG,R1                ;
 4724 00000ABE 6211              1714             MOV.W   @R1,R2                          ;
 4725 00000AC0 3020              1715             CMP/EQ  R2,R0                           ;REQ=ACK?
 4726 00000AC2 8B42              1716             BF      KMT_TRS_STPWR_EXT               ;
 4727                            1717     
 4728 00000AC4 C880              1718             TST     #BIT7,R0                        ;
 4729                            1719             TST_BIT_OF KMT_TRS_STPWR_100            ;SIG=0 YES JUMP
 4730 00000AC6 890F                   M           BT      KMT_TRS_STPWR_100
 4731                            1720     
 4732                            1721             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_KMT_REQ_SIG,LG=W,BIT=~BIT7,WKREG=R1 ;//
 4733 00000AC8 D105                   M           MOV.L   #_KMT_REQ_SIG,R1                ;
 4734 00000ACA 6011                   M           MOV.W   @R1,R0          ;
 4735 00000ACC C97F                   M           AND     #LOW ~BIT7,R0           ;
 4736 00000ACE 2101                   M           MOV.W   R0,@R1          ;
 4737                            1722             FAR_JSR #_KMT_REQSIG_OUT,R0             ;
 4738 00000AD0 D004                   M           MOV.L   #_KMT_REQSIG_OUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4739 00000AD2 400B                   M           JSR     @R0                     ;
 4740 00000AD4 0009                   M           NOP                                     ;
 4741                            1723             M_BRA   KMT_TRS_STPWR_EXT               ;
 4742 00000AD6 A038                   M           BRA     KMT_TRS_STPWR_EXT
 4743 00000AD8 0009                   M           NOP
 4744                            1724     
 4745                                     ***** BEGIN-POOL *****
 4746 00000ADA 0000                       ALIGNMENT CODE
 4747 00000ADC 00000000                   DATA FOR SOURCE-LINE 1712
 4748 00000AE0 00000000                   DATA FOR SOURCE-LINE 1713,1721
 4749 00000AE4 00000000                   DATA FOR SOURCE-LINE 1722
 4750                                     ***** END-POOL *****
 4751 00000AE8                   1725     KMT_TRS_STPWR_100:
 4752 00000AE8 D10E              1726             MOV.L   #_KMT_TRSPV_CNT,R1              ;(WR/RDｶｳﾝﾀ　0)
 4753 00000AEA 6011              1727             MOV.W   @R1,R0                          ;
 4754 00000AEC D10E              1728             MOV.L   #_KMT_TRSLT_CNT,R1              ;(SV)
 4755 00000AEE 6211              1729             MOV.W   @R1,R2                          ;
 4756 00000AF0 3206              1730             CMP/HI  R0,R2                           ;R0 < R2
 4757 00000AF2 8B27              1731             BF      KMT_TRS_STPWR_200               ;NO R2 =< R0 (ｶｳﾝﾀ終了　JUMP) 0=0をOK
 4758                            1732     
 4759 00000AF4 4000              1733             SHLL    R0
 4760 00000AF6 D10D              1734             MOV.L   #_KMT_TRSLT_DAT,R1              ;
 4761 00000AF8 310C              1735             ADD     R0,R1                           ;DAT+CNT*2
 4762 00000AFA 6411              1736             MOV.W   @R1,R4                          ;data load
 4763 00000AFC D10C              1737             MOV.L   #_ET2_SITM_WRDT,R1              ;
 4764 00000AFE 2141              1738             MOV.W   R4,@R1                          ;dpram data set
 4765                            1739     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    50
PROGRAM NAME =

 4766                            1740     
 4767 00000B00 D108              1741             MOV.L   #_KMT_TRSPV_CNT,R1              ;
 4768 00000B02 6311              1742             MOV.W   @R1,R3                          ;
 4769 00000B04 D40B              1743             MOV.L   #_KMT_TRSLT_OBJADR,R4           ;ﾒﾓﾘ種別に対するｵﾌｾｯﾄｱﾄﾞﾚｽword.adr
 4770 00000B06 6241              1744             MOV.W   @R4,R2                          ;
 4771 00000B08 323C              1745             ADD     R3,R2                           ;
 4772 00000B0A D40B              1746             MOV.L   #_ET2_SITM_ADR,R4               ;WORD ADR
 4773 00000B0C 2421              1747             MOV.W   R2,@R4                          ;
 4774 00000B0E 7301              1748             ADD     #1,R3                           ;CNT+1
 4775 00000B10 2131              1749             MOV.W   R3,@R1                          ;
 4776                            1750     
 4777                            1751     ;       --------- HAND SYEIKU ON -------
 4778                            1752             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_REQ_SIG,LG=W,BIT=BIT7,WKREG=R1 ;bit-set
 4779 00000B12 D10A                   M           MOV.L   #_KMT_REQ_SIG,R1                ;
 4780 00000B14 6011                   M           MOV.W   @R1,R0          ;
 4781 00000B16 CB80                   M           OR      #BIT7,R0                ;
 4782 00000B18 2101                   M           MOV.W   R0,@R1          ;
 4783                            1753             FAR_JSR #_KMT_REQSIG_OUT,R0                                     ;
 4784 00000B1A D009                   M           MOV.L   #_KMT_REQSIG_OUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4785 00000B1C 400B                   M           JSR     @R0                     ;
 4786 00000B1E 0009                   M           NOP                                     ;
 4787                            1754     
 4788                            1755             M_BRA   KMT_TRS_STPWR_EXT               ;
 4789 00000B20 A013                   M           BRA     KMT_TRS_STPWR_EXT
 4790 00000B22 0009                   M           NOP
 4791                            1756     
 4792                                     ***** BEGIN-POOL *****
 4793 00000B24 00000000                   DATA FOR SOURCE-LINE 1726,1741
 4794 00000B28 00000000                   DATA FOR SOURCE-LINE 1728
 4795 00000B2C 00000000                   DATA FOR SOURCE-LINE 1734
 4796 00000B30 00000000                   DATA FOR SOURCE-LINE 1737
 4797 00000B34 00000000                   DATA FOR SOURCE-LINE 1743
 4798 00000B38 00000000                   DATA FOR SOURCE-LINE 1746
 4799 00000B3C 00000000                   DATA FOR SOURCE-LINE 1752
 4800 00000B40 00000000                   DATA FOR SOURCE-LINE 1753
 4801                                     ***** END-POOL *****
 4802 00000B44                   1757     KMT_TRS_STPWR_200:
 4803                            1758             FAR_JSR #_KMT_TRSCMD_ENDCLR,R0
 4804 00000B44 D002                   M           MOV.L   #_KMT_TRSCMD_ENDCLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4805 00000B46 400B                   M           JSR     @R0                     ;
 4806 00000B48 0009                   M           NOP                                     ;
 4807                            1759     
 4808                            1760     
 4809 00000B4A                   1761     KMT_TRS_STPWR_EXT:
 4810                            1762             SUB_END
 4811                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4812 00000B4A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4813                            1763             M_RTS
 4814 00000B4C 000B                   M           RTS                             ;RTSの後ろの
 4815 00000B4E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4816                            1764     
 4817                            1765     
 4818                            1766     
 4819                            1767     ;       ***************************
 4820                            1768     ;       ***                     ***
 4821                            1769     ;       ***     RD STEP         ***
 4822                            1770     ;       ***                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    51
PROGRAM NAME =

 4823                            1771     ;       ***************************
 4824                            1772     ;       OFFｴｯｼﾞで取込
 4825                            1773     ;       ACK     ON      OFF
 4826                            1774     ;       REQ ON      OFF
 4827                            1775     ;            data取込
 4828                            1776     ;
 4829                            1777     
 4830                                     ***** BEGIN-POOL *****
 4831 00000B50 00000000                   DATA FOR SOURCE-LINE 1758
 4832                                     ***** END-POOL *****
 4833 00000B54                   1778     _KMT_TRS_STP_RD:
 4834                            1779             SUB_START
 4835 00000B54 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4836                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4837                            1780     
 4838                            1781             FAR_JSR #_KMT_ACKSIG_IN,R0                      ;ANS R0
 4839 00000B56 D00F                   M           MOV.L   #_KMT_ACKSIG_IN,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4840 00000B58 400B                   M           JSR     @R0                     ;
 4841 00000B5A 0009                   M           NOP                                     ;
 4842 00000B5C D10E              1782             MOV.L   #_KMT_REQ_SIG,R1                        ;
 4843 00000B5E 6211              1783             MOV.W   @R1,R2                                  ;
 4844 00000B60 3020              1784             CMP/EQ  R2,R0                                   ;REQ=ACK?
 4845 00000B62 8B60              1785             BF      KMT_TRS_STPRD_EXT                       ;
 4846                            1786     
 4847 00000B64 C880              1787             TST     #BIT7,R0                                ;
 4848                            1788             TST_BIT_OF KMT_TRS_STPRD_100                    ;SIG=0 YES JUMP
 4849 00000B66 8921                   M           BT      KMT_TRS_STPRD_100
 4850                            1789     
 4851 00000B68 D10C              1790             MOV.L   #_ET2_SITM_RDDT,R1                      ;
 4852 00000B6A 6411              1791             MOV.W   @R1,R4                                  ;dpram data load
 4853                            1792     
 4854 00000B6C D10C              1793             MOV.L   #_KMT_TRSPV_CNT,R1                      ;CNT*2
 4855 00000B6E 6011              1794             MOV.W   @R1,R0                                  ;
 4856 00000B70 4000              1795             SHLL    R0
 4857 00000B72 D10C              1796             MOV.L   #_KMT_TRSLT_DAT,R1                      ;
 4858 00000B74 310C              1797             ADD     R0,R1                                   ;DAT+CNT*2
 4859 00000B76 2141              1798             MOV.W   R4,@R1                                  ;data save
 4860                            1799     
 4861 00000B78 D109              1800             MOV.L   #_KMT_TRSPV_CNT,R1                      ;
 4862 00000B7A 6211              1801             MOV.W   @R1,R2                                  ;
 4863 00000B7C 7201              1802             ADD     #1,R2                                   ;CNT+1
 4864 00000B7E 2121              1803             MOV.W   R2,@R1                                  ;
 4865                            1804     
 4866                            1805             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_KMT_REQ_SIG,LG=W,BIT=~BIT7,WKREG=R1       ;//
 4867 00000B80 D105                   M           MOV.L   #_KMT_REQ_SIG,R1                ;
 4868 00000B82 6011                   M           MOV.W   @R1,R0          ;
 4869 00000B84 C97F                   M           AND     #LOW ~BIT7,R0           ;
 4870 00000B86 2101                   M           MOV.W   R0,@R1          ;
 4871                            1806             FAR_JSR #_KMT_REQSIG_OUT,R0                                             ;
 4872 00000B88 D007                   M           MOV.L   #_KMT_REQSIG_OUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4873 00000B8A 400B                   M           JSR     @R0                     ;
 4874 00000B8C 0009                   M           NOP                                     ;
 4875                            1807             M_BRA   KMT_TRS_STPRD_EXT                                               ;
 4876 00000B8E A04A                   M           BRA     KMT_TRS_STPRD_EXT
 4877 00000B90 0009                   M           NOP
 4878                            1808     
 4879                            1809     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    52
PROGRAM NAME =

 4880                                     ***** BEGIN-POOL *****
 4881 00000B92 0000                       ALIGNMENT CODE
 4882 00000B94 00000000                   DATA FOR SOURCE-LINE 1781
 4883 00000B98 00000000                   DATA FOR SOURCE-LINE 1782,1805
 4884 00000B9C 00000000                   DATA FOR SOURCE-LINE 1790
 4885 00000BA0 00000000                   DATA FOR SOURCE-LINE 1793,1800
 4886 00000BA4 00000000                   DATA FOR SOURCE-LINE 1796
 4887 00000BA8 00000000                   DATA FOR SOURCE-LINE 1806
 4888                                     ***** END-POOL *****
 4889 00000BAC                   1810     KMT_TRS_STPRD_100:
 4890 00000BAC D10A              1811             MOV.L   #_KMT_TRSPV_CNT,R1              ;(WR/RDｶｳﾝﾀ　0)
 4891 00000BAE 6011              1812             MOV.W   @R1,R0                          ;
 4892 00000BB0 D10A              1813             MOV.L   #_KMT_TRSLT_CNT,R1              ;(SV)
 4893 00000BB2 6211              1814             MOV.W   @R1,R2                          ;
 4894 00000BB4 3206              1815             CMP/HI  R0,R2                           ;R0 < R2
 4895 00000BB6 8B1B              1816             BF      KMT_TRS_STPRD_200               ;NO R2 =< R0 (ｶｳﾝﾀ終了　JUMP) 0=0をOK
 4896                            1817     ;R0 < R2
 4897 00000BB8 D107              1818             MOV.L   #_KMT_TRSPV_CNT,R1              ;
 4898 00000BBA 6311              1819             MOV.W   @R1,R3                          ;
 4899 00000BBC D408              1820             MOV.L   #_KMT_TRSLT_OBJADR,R4           ;ﾒﾓﾘ種別に対するｵﾌｾｯﾄｱﾄﾞﾚｽword.adr
 4900 00000BBE 6241              1821             MOV.W   @R4,R2                          ;
 4901 00000BC0 323C              1822             ADD     R3,R2                           ;
 4902 00000BC2 D408              1823             MOV.L   #_ET2_SITM_ADR,R4               ;WORD ADR
 4903 00000BC4 2421              1824             MOV.W   R2,@R4                          ;
 4904                            1825     
 4905                            1826     
 4906                            1827     ;       --------- HAND SYEIKU ON -------
 4907                            1828             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_REQ_SIG,LG=W,BIT=BIT7,WKREG=R1 ;bit-set
 4908 00000BC6 D108                   M           MOV.L   #_KMT_REQ_SIG,R1                ;
 4909 00000BC8 6011                   M           MOV.W   @R1,R0          ;
 4910 00000BCA CB80                   M           OR      #BIT7,R0                ;
 4911 00000BCC 2101                   M           MOV.W   R0,@R1          ;
 4912                            1829             FAR_JSR #_KMT_REQSIG_OUT,R0                                     ;
 4913 00000BCE D007                   M           MOV.L   #_KMT_REQSIG_OUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4914 00000BD0 400B                   M           JSR     @R0                     ;
 4915 00000BD2 0009                   M           NOP                                     ;
 4916                            1830             M_BRA   KMT_TRS_STPRD_EXT               ;
 4917 00000BD4 A027                   M           BRA     KMT_TRS_STPRD_EXT
 4918 00000BD6 0009                   M           NOP
 4919                            1831     
 4920                                     ***** BEGIN-POOL *****
 4921 00000BD8 00000000                   DATA FOR SOURCE-LINE 1811,1818
 4922 00000BDC 00000000                   DATA FOR SOURCE-LINE 1813
 4923 00000BE0 00000000                   DATA FOR SOURCE-LINE 1820
 4924 00000BE4 00000000                   DATA FOR SOURCE-LINE 1823
 4925 00000BE8 00000000                   DATA FOR SOURCE-LINE 1828
 4926 00000BEC 00000000                   DATA FOR SOURCE-LINE 1829
 4927                                     ***** END-POOL *****
 4928 00000BF0                   1832     KMT_TRS_STPRD_200:
 4929                            1833     
 4930 00000BF0 D507              1834             MOV.L   #_KMT_TRSLT_DAT,R5                      ;SRC
 4931                            1835     
 4932 00000BF2 D108              1836             MOV.L   #_KMT_TRSLT_TOPADR,R1                   ;STRCUT
 4933 00000BF4 6812              1837             MOV.L   @R1,R8                                  ;save
 4934 00000BF6 D608              1838             MOV.L   #_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM,R6    ;DST
 4935 00000BF8 368C              1839             ADD     R8,R6                                   ;data top
 4936                            1840     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    53
PROGRAM NAME =

 4937 00000BFA D108              1841             MOV.L   #_KMT_TRSLT_CNT,R1                      ;MAX 1~256 word
 4938 00000BFC 6411              1842             MOV.W   @R1,R4                                  ;
 4939                            1843     
 4940 00000BFE                   1844     KMT_TRS_STPRD_250LOP:
 4941 00000BFE 2448              1845             TST     R4,R4                                   ;
 4942                            1846             TST_BIT_OF KMT_TRS_STPRD_300                    ;
 4943 00000C00 890E                   M           BT      KMT_TRS_STPRD_300
 4944 00000C02 6055              1847             MOV.W   @R5+,R0
 4945 00000C04 2601              1848             MOV.W   R0,@R6
 4946 00000C06 7602              1849             ADD     #2,R6
 4947 00000C08 74FF              1850             ADD     #-1,R4
 4948                            1851             M_BRA   KMT_TRS_STPRD_250LOP
 4949 00000C0A AFF8                   M           BRA     KMT_TRS_STPRD_250LOP
 4950 00000C0C 0009                   M           NOP
 4951                            1852     
 4952                                     ***** BEGIN-POOL *****
 4953 00000C0E 0000                       ALIGNMENT CODE
 4954 00000C10 00000000                   DATA FOR SOURCE-LINE 1834
 4955 00000C14 00000000                   DATA FOR SOURCE-LINE 1836
 4956 00000C18 00000008                   DATA FOR SOURCE-LINE 1838
 4957 00000C1C 00000000                   DATA FOR SOURCE-LINE 1841
 4958                                     ***** END-POOL *****
 4959 00000C20                   1853     KMT_TRS_STPRD_300:
 4960                            1854     
 4961                            1855     
 4962                            1856             FAR_JSR #_KMT_TRSCMD_ENDCLR,R0
 4963 00000C20 D002                   M           MOV.L   #_KMT_TRSCMD_ENDCLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4964 00000C22 400B                   M           JSR     @R0                     ;
 4965 00000C24 0009                   M           NOP                                     ;
 4966                            1857     
 4967                            1858     
 4968 00000C26                   1859     KMT_TRS_STPRD_EXT:
 4969                            1860             SUB_END
 4970                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4971 00000C26 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4972                            1861             M_RTS
 4973 00000C28 000B                   M           RTS                             ;RTSの後ろの
 4974 00000C2A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4975                            1862     
 4976                            1863     
 4977                            1864     ;       ***********************************
 4978                            1865     ;       ***                             ***
 4979                            1866     ;       ***      STEP/END CLR           ***
 4980                            1867     ;       ***      CMD CLR                ***
 4981                            1868     ;       ***********************************
 4982                                     ***** BEGIN-POOL *****
 4983 00000C2C 00000000                   DATA FOR SOURCE-LINE 1856
 4984                                     ***** END-POOL *****
 4985 00000C30                   1869     _KMT_TRSCMD_ENDCLR
 4986                            1870             SUB_START
 4987 00000C30 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4988                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4989 00000C32 200A              1871             XOR     R0,R0                           ;
 4990 00000C34 D103              1872             MOV.L   #_KMT_TRS_CMD,R1                ;0:ILDE 1:WRITE 2:READ
 4991 00000C36 2101              1873             MOV.W   R0,@R1                          ;CMD CLR
 4992                            1874     
 4993 00000C38 D103              1875             MOV.L   #_KMT_TRSLT_TOPADR,R1                           ;STRCUT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    54
PROGRAM NAME =

 4994 00000C3A 6812              1876             MOV.L   @R1,R8                                          ;save
 4995 00000C3C 8180              1877             MOV.W   R0,@(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM,R8)       ;
 4996                            1878     
 4997                            1879     
 4998                            1880             SUB_END
 4999                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5000 00000C3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5001                            1881             M_RTS
 5002 00000C40 000B                   M           RTS                             ;RTSの後ろの
 5003 00000C42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5004                            1882     
 5005                            1883     
 5006                            1884     
 5007                            1885     ;       ***********************************
 5008                            1886     ;       ***                             ***
 5009                            1887     ;       ***                             ***
 5010                            1888     ;       ***     TYPE011型判定           ***
 5011                            1889     ;       ***     2011-01-14              ***
 5012                            1890     ;       ***********************************
 5013                            1891     ;
 5014                                     ***** BEGIN-POOL *****
 5015 00000C44 00000000                   DATA FOR SOURCE-LINE 1872
 5016 00000C48 00000000                   DATA FOR SOURCE-LINE 1875
 5017                                     ***** END-POOL *****
 5018 00000C4C                   1892             .ALIGN  4                                       ;
 5019 00000C4C                   1893     _KMT_TYPE_011_CHK:
 5020                            1894             SUB_START
 5021 00000C4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5022                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5023                            1895     
 5024 00000C4E D109              1896             MOV.L   #(__SITM_KMTTYPE-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1      ;
 5025 00000C50 6011              1897             MOV.W   @R1,R0                                                  ;
 5026                            1898     
 5027                            1899             .AIF    0       EQ 1                            ;@
 5028                            1900             MOV.W   #__SIT_VER_TYP2_COD,R0                                  ;@TYP011に見える
 5029                            1901             .AENDI                                                          ;@
 5030                            1902     
 5031 00000C52 940C              1903             MOV.W   #__SIT_VER_TYP2_COD,R4                                  ;
 5032 00000C54 3040              1904             CMP/EQ  R4,R0                                                   ;
 5033 00000C56 8B07              1905             BF      KMT_TYPE011CHK_END                                      ;
 5034                            1906     
 5035 00000C58 D107              1907             MOV.L   #_SEQ_DP_TOP+_SQ113,R1                                  ;
 5036 00000C5A 6011              1908             MOV.W   @R1,R0                                                  ;
 5037 00000C5C 9408              1909             MOV.W   #BIT9,R4                                                ;113.9=1
 5038 00000C5E 2048              1910             TST     R4,R0                                                   ;
 5039                            1911             TST_BIT_OF KMT_TYPE011CHK_END                                   ;011型機能有効
 5040 00000C60 8902                   M           BT      KMT_TYPE011CHK_END
 5041                            1912     
 5042 00000C62 9006              1913             MOV.W   #1,R0                                           ;
 5043 00000C64 D105              1914             MOV.L   #_KMT_TYP_011,R1                                ;TYPE011型機能有効
 5044 00000C66 2101              1915             MOV.W   R0,@R1                                          ;
 5045                            1916     
 5046 00000C68                   1917     KMT_TYPE011CHK_END:
 5047                            1918     
 5048                            1919             SUB_END
 5049                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5050 00000C68 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    55
PROGRAM NAME =

 5051                            1920             M_RTS
 5052 00000C6A 000B                   M           RTS                             ;RTSの後ろの
 5053 00000C6C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5054                            1921     
 5055                            1922     
 5056                            1923     
 5057                            1924     ;       ***************************************************
 5058                            1925     ;       ***                                             ***
 5059                            1926     ;       ***             品番データ作成、転送            ***
 5060                            1927     ;       ***             (write)                         ***
 5061                            1928     ;       ***************************************************
 5062                                     ***** BEGIN-POOL *****
 5063 00000C6E 5A01                       DATA FOR SOURCE-LINE 1903
 5064 00000C70 0200                       DATA FOR SOURCE-LINE 1909
 5065 00000C72 0001                       DATA FOR SOURCE-LINE 1913
 5066 00000C74 00000000                   DATA FOR SOURCE-LINE 1896
 5067 00000C78 00000000                   DATA FOR SOURCE-LINE 1907
 5068 00000C7C 00000000                   DATA FOR SOURCE-LINE 1914
 5069                                     ***** END-POOL *****
 5070 00000C80                   1929             .ALIGN  4                                       ;
 5071 00000C80                   1930     _KOMTRAX_HINBAN_MAIN
 5072                            1931             SUB_START
 5073 00000C80 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5074                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5075                            1932     
 5076                            1933             FAR_JSR #_KMT_HINBAN_MAKE,R0            ;
 5077 00000C82 D004                   M           MOV.L   #_KMT_HINBAN_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5078 00000C84 400B                   M           JSR     @R0                     ;
 5079 00000C86 0009                   M           NOP                                     ;
 5080                            1934     
 5081                            1935             FAR_JSR #_KMT_HINBAN_STEP,R0            ;
 5082 00000C88 D003                   M           MOV.L   #_KMT_HINBAN_STEP,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5083 00000C8A 400B                   M           JSR     @R0                     ;
 5084 00000C8C 0009                   M           NOP                                     ;
 5085                            1936     
 5086                            1937             SUB_END
 5087                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5088 00000C8E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5089                            1938             M_RTS
 5090 00000C90 000B                   M           RTS                             ;RTSの後ろの
 5091 00000C92 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5092                            1939     
 5093                            1940     
 5094                            1941     ;       *******************************************
 5095                            1942     ;       ***                                     ***
 5096                            1943     ;       ***             品番データ作成          ***
 5097                            1944     ;       ***             (write)                 ***
 5098                            1945     ;       *******************************************
 5099                            1946     ;_KMT_HINBAN_TRG_FLG    .SRES   2*5                     ;保留が発生した場合の処理
 5100                            1947     ;+0:現在
 5101                            1948     ;+1:次回
 5102                            1949     ;+2:次々回
 5103                            1950     ;+3:次次々回
 5104                            1951     ;+4:次次次々回
 5105                            1952     ;_KMT_HINBAN_BUFNUM     .SRES   2                       ;BUF使用数　0,1,2,3,4
 5106                            1953     
 5107                            1954             .GLOBAL         _SV0_WORK_STP_FLG       ;2byte作業終了 　0/0以外
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    56
PROGRAM NAME =

 5108                            1955             .GLOBAL         _SV0SP_WORKER_COD       ;2byte作業者ｺｰﾄﾞBIN
 5109                            1956             .GLOBAL         _SV0SP_ORDER_COD        ;4byte注文ｺｰﾄﾞBIN->ASC
 5110                            1957             .GLOBAL         _SV0SP_PLAN_CNT         ;4byte計画数BIN
 5111                            1958             .GLOBAL         _SV0SP_BAD_CNT          ;4byte不良数BIN
 5112                            1959             .GLOBAL         _SV0SP_KATA_NO          ;2byte型番号未使用予定
 5113                            1960             .GLOBAL         _SV0SP_KATA_NAME        ;2byte*7=14byte
 5114                            1961             .GLOBAL         _SV0SP_KATA_MEMO        ;2byte*7=14byte
 5115                            1962     
 5116                            1963             .GLOBAL         _SV0_WORK_STR_FLG       ;2byte作業開始 　0/0以外
 5117                            1964             .GLOBAL         _SV0SR_WORKER_COD       ;2byte作業者ｺｰﾄﾞBIN
 5118                            1965             .GLOBAL         _SV0SR_ORDER_COD        ;4byte注文ｺｰﾄﾞBIN->ASC
 5119                            1966             .GLOBAL         _SV0SR_PLAN_CNT         ;4byte計画数BIN
 5120                            1967             .GLOBAL         _SV0SR_BAD_CNT          ;4byte不良数BIN
 5121                            1968             .GLOBAL         _SV0SR_KATA_NO          ;2byte型番号未使用予定
 5122                            1969             .GLOBAL         _SV0SR_KATA_NAME        ;2byte*7=14byte
 5123                            1970             .GLOBAL         _SV0SR_KATA_MEMO        ;2byte*7=14byte
 5124                            1971     
 5125                                     ***** BEGIN-POOL *****
 5126 00000C94 00000000                   DATA FOR SOURCE-LINE 1933
 5127 00000C98 00000000                   DATA FOR SOURCE-LINE 1935
 5128                                     ***** END-POOL *****
 5129          00000000          1972     _EQ_ORDER_COD   .EQU    0       ;4byte注文ｺｰﾄﾞBIN->ASC
 5130          00000008          1973     _EQ_KATA_NAME   .EQU    4*2     ;2byte*7=14byte
 5131          0000001C          1974     _EQ_KATA_MEMO   .EQU    14*2    ;2byte*7=14byte
 5132          00000030          1975     _EQ_WORKER_COD  .EQU    24*2    ;2byte作業者ｺｰﾄﾞBIN
 5133          00000032          1976     _EQ_PLAN_CNT    .EQU    25*2    ;4byte計画数BIN
 5134          0000003A          1977     _EQ_BAD_CNT     .EQU    29*2    ;4byte不良数BIN
 5135                            1978     
 5136                            1979     
 5137 00000C9C                   1980             .ALIGN  4                                       ;
 5138 00000C9C                   1981     _KMT_HINBAN_MAKE:
 5139                            1982             SUB_START
 5140 00000C9C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5141                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5142                            1983     
 5143                            1984     ;       ---------------------------------------------------
 5144                            1985     ;       ---             保留データの作成                ---
 5145                            1986     ;       ---             "KMT_HINBAN_REQ_MAKE"           ---
 5146                            1987     ;       ---------------------------------------------------
 5147                            1988     
 5148 00000C9E D405              1989             MOV.L   #_SV0_WORK_STR_FLG,R4           ;
 5149 00000CA0 6141              1990             MOV.W   @R4,R1
 5150 00000CA2 D405              1991             MOV.L   #_SV0_WORK_STP_FLG,R4           ;
 5151 00000CA4 6241              1992             MOV.W   @R4,R2
 5152 00000CA6 2228              1993             TST     R2,R2                           ;終了あり
 5153                            1994             TST_BIT_ON KMT_HINBAN_RQMK_050
 5154 00000CA8 8B08                   M           BF      KMT_HINBAN_RQMK_050
 5155 00000CAA 2118              1995             TST     R1,R1                           ;
 5156                            1996             TST_BIT_ON KMT_HINBAN_RQMK_100          ;
 5157 00000CAC 8B1E                   M           BF      KMT_HINBAN_RQMK_100
 5158                            1997     ;       ------- 新たなｲﾍﾞﾝﾄはない----
 5159                            1998             M_BRA   KMT_HINBAN_RQMK_900
 5160 00000CAE A057                   M           BRA     KMT_HINBAN_RQMK_900
 5161 00000CB0 0009                   M           NOP
 5162                            1999     
 5163                            2000     ;       ------- 終了ｲﾍﾞﾝﾄあり
 5164                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    57
PROGRAM NAME =

 5165 00000CB2 0000                       ALIGNMENT CODE
 5166 00000CB4 00000000                   DATA FOR SOURCE-LINE 1989
 5167 00000CB8 00000000                   DATA FOR SOURCE-LINE 1991
 5168                                     ***** END-POOL *****
 5169 00000CBC                   2001     KMT_HINBAN_RQMK_050
 5170 00000CBC 2118              2002             TST     R1,R1                           ;
 5171                            2003             TST_BIT_ON KMT_HINBAN_RQMK_200          ;開始ｲﾍﾞﾝﾄもあり
 5172 00000CBE 8B2B                   M           BF      KMT_HINBAN_RQMK_200
 5173                            2004     ;       ----- 終了ｲﾍﾞﾝﾄのみ発生----
 5174                            2005             FAR_JSR #_KMT_HINBAN_BUF_MAK1,R0        ;output R6,R7
 5175 00000CC0 D007                   M           MOV.L   #_KMT_HINBAN_BUF_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5176 00000CC2 400B                   M           JSR     @R0                     ;
 5177 00000CC4 0009                   M           NOP                                     ;
 5178 00000CC6 9009              2006             MOV.W   #BIT1,R0                        ;
 5179 00000CC8 2701              2007             MOV.W   R0,@R7                          ;
 5180                            2008             FAR_JSR #_HINBAN_STOP_DATA_MOV,R0       ;input R6
 5181 00000CCA D006                   M           MOV.L   #_HINBAN_STOP_DATA_MOV,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5182 00000CCC 400B                   M           JSR     @R0                     ;
 5183 00000CCE 0009                   M           NOP                                     ;
 5184 00000CD0 D405              2009             MOV.L   #_KMT_HINBAN_TRG_NUM,R4         ;0個[保留なし],1個,2個,3個,4個,5個,6個full
 5185 00000CD2 6041              2010             MOV.W   @R4,R0                          ;
 5186 00000CD4 7001              2011             ADD     #1,R0                           ;
 5187 00000CD6 2401              2012             MOV.W   R0,@R4                          ;
 5188                            2013             M_BRA   KMT_HINBAN_RQMK_900
 5189 00000CD8 A042                   M           BRA     KMT_HINBAN_RQMK_900
 5190 00000CDA 0009                   M           NOP
 5191                            2014     
 5192                                     ***** BEGIN-POOL *****
 5193 00000CDC 0002                       DATA FOR SOURCE-LINE 2006
 5194 00000CDE 0000                       ALIGNMENT CODE
 5195 00000CE0 00000000                   DATA FOR SOURCE-LINE 2005
 5196 00000CE4 00000000                   DATA FOR SOURCE-LINE 2008
 5197 00000CE8 00000000                   DATA FOR SOURCE-LINE 2009
 5198                                     ***** END-POOL *****
 5199 00000CEC                   2015     KMT_HINBAN_RQMK_100:
 5200                            2016     ;       ----- 開始ｲﾍﾞﾝﾄのみ発生----
 5201                            2017             FAR_JSR #_KMT_HINBAN_BUF_MAK1,R0                ;output R6,R7
 5202 00000CEC D007                   M           MOV.L   #_KMT_HINBAN_BUF_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5203 00000CEE 400B                   M           JSR     @R0                     ;
 5204 00000CF0 0009                   M           NOP                                     ;
 5205 00000CF2 9009              2018             MOV.W   #BIT0,R0                                ;
 5206 00000CF4 2701              2019             MOV.W   R0,@R7                                  ;
 5207                            2020             FAR_JSR #_HINBAN_START_DATA_MOV,R0              ;input R6
 5208 00000CF6 D006                   M           MOV.L   #_HINBAN_START_DATA_MOV,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5209 00000CF8 400B                   M           JSR     @R0                     ;
 5210 00000CFA 0009                   M           NOP                                     ;
 5211 00000CFC D405              2021             MOV.L   #_KMT_HINBAN_TRG_NUM,R4                 ;0個[保留なし],1個,2個,3個,4個,5個
                                          full
 5212 00000CFE 6041              2022             MOV.W   @R4,R0                                  ;
 5213 00000D00 7001              2023             ADD     #1,R0                                   ;
 5214 00000D02 2401              2024             MOV.W   R0,@R4                                  ;
 5215                            2025             M_BRA   KMT_HINBAN_RQMK_900                     ;
 5216 00000D04 A02C                   M           BRA     KMT_HINBAN_RQMK_900
 5217 00000D06 0009                   M           NOP
 5218                            2026     
 5219                            2027     
 5220                            2028     ;       ----- 終了ｲﾍﾞﾝﾄと開始ｲﾍﾞﾝﾄが同時に発生----
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    58
PROGRAM NAME =

 5221                                     ***** BEGIN-POOL *****
 5222 00000D08 0001                       DATA FOR SOURCE-LINE 2018
 5223 00000D0A 0000                       ALIGNMENT CODE
 5224 00000D0C 00000000                   DATA FOR SOURCE-LINE 2017
 5225 00000D10 00000000                   DATA FOR SOURCE-LINE 2020
 5226 00000D14 00000000                   DATA FOR SOURCE-LINE 2021
 5227                                     ***** END-POOL *****
 5228 00000D18                   2029     KMT_HINBAN_RQMK_200:
 5229                            2030             FAR_JSR #_KMT_HINBAN_BUF_MAK1,R0        ;output R6,R7
 5230 00000D18 D00D                   M           MOV.L   #_KMT_HINBAN_BUF_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5231 00000D1A 400B                   M           JSR     @R0                     ;
 5232 00000D1C 0009                   M           NOP                                     ;
 5233 00000D1E 9015              2031             MOV.W   #BIT1,R0                        ;
 5234 00000D20 2701              2032             MOV.W   R0,@R7                          ;
 5235                            2033             FAR_JSR #_HINBAN_STOP_DATA_MOV,R0       ;input R6
 5236 00000D22 D00C                   M           MOV.L   #_HINBAN_STOP_DATA_MOV,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5237 00000D24 400B                   M           JSR     @R0                     ;
 5238 00000D26 0009                   M           NOP                                     ;
 5239 00000D28 D40B              2034             MOV.L   #_KMT_HINBAN_TRG_NUM,R4         ;0個[保留なし],1個,2個,3個,4個,5個full
 5240 00000D2A 6041              2035             MOV.W   @R4,R0                          ;
 5241 00000D2C 7001              2036             ADD     #1,R0                           ;
 5242 00000D2E 2401              2037             MOV.W   R0,@R4                          ;
 5243                            2038     
 5244                            2039             FAR_JSR #_KMT_HINBAN_BUF_MAK1,R0        ;output R6,R7
 5245 00000D30 D007                   M           MOV.L   #_KMT_HINBAN_BUF_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5246 00000D32 400B                   M           JSR     @R0                     ;
 5247 00000D34 0009                   M           NOP                                     ;
 5248 00000D36 900A              2040             MOV.W   #BIT0,R0                        ;
 5249 00000D38 2701              2041             MOV.W   R0,@R7                          ;
 5250                            2042             FAR_JSR #_HINBAN_START_DATA_MOV,R0              ;input R6
 5251 00000D3A D008                   M           MOV.L   #_HINBAN_START_DATA_MOV,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5252 00000D3C 400B                   M           JSR     @R0                     ;
 5253 00000D3E 0009                   M           NOP                                     ;
 5254 00000D40 D405              2043             MOV.L   #_KMT_HINBAN_TRG_NUM,R4                 ;0個[保留なし],1個,2個,3個,4個,5個
                                          full
 5255 00000D42 6041              2044             MOV.W   @R4,R0                                  ;
 5256 00000D44 7001              2045             ADD     #1,R0                                   ;
 5257 00000D46 2401              2046             MOV.W   R0,@R4                                  ;
 5258                            2047             M_BRA   KMT_HINBAN_RQMK_900
 5259 00000D48 A00A                   M           BRA     KMT_HINBAN_RQMK_900
 5260 00000D4A 0009                   M           NOP
 5261                            2048     
 5262                            2049     
 5263                                     ***** BEGIN-POOL *****
 5264 00000D4C 0002                       DATA FOR SOURCE-LINE 2031
 5265 00000D4E 0001                       DATA FOR SOURCE-LINE 2040
 5266 00000D50 00000000                   DATA FOR SOURCE-LINE 2030,2039
 5267 00000D54 00000000                   DATA FOR SOURCE-LINE 2033
 5268 00000D58 00000000                   DATA FOR SOURCE-LINE 2034,2043
 5269 00000D5C 00000000                   DATA FOR SOURCE-LINE 2042
 5270                                     ***** END-POOL *****
 5271 00000D60                   2050     KMT_HINBAN_RQMK_900
 5272                            2051             M_BRA   KMT_HINBAN_RQMK_999     ;
 5273 00000D60 A000                   M           BRA     KMT_HINBAN_RQMK_999
 5274 00000D62 0009                   M           NOP
 5275                            2052     
 5276 00000D64                   2053     KMT_HINBAN_RQMK_999
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    59
PROGRAM NAME =

 5277                            2054     
 5278                            2055     ;       ---------------------------------------------------
 5279                            2056     ;       ---             送信データの作成                ---
 5280                            2057     ;       ---             "KMT_HINBAN_DAT_MAKE"           ---
 5281                            2058     ;       ---------------------------------------------------
 5282 00000D64 D507              2059             MOV.L   #_KMT_HINBAN_CHGF,R5                    ;
 5283 00000D66 6051              2060             MOV.W   @R5,R0                                  ;BIT0orBIT1-->送信部 送信部でｸﾘｱさ
                                          れる
 5284 00000D68 2008              2061             TST     R0,R0                                   ;
 5285                            2062             TST_BIT_ON KMT_HINBAN_DTMK_900                  ;送信部処理中　EXIT
 5286 00000D6A 8B07                   M           BF      KMT_HINBAN_DTMK_900
 5287                            2063     
 5288 00000D6C D406              2064             MOV.L   #_KMT_HINBAN_TRG_NUM,R4                 ;0個[ﾃﾞｰﾀなし],1個,2個,3個,4個,5個
                                          ,6個full
 5289 00000D6E 6041              2065             MOV.W   @R4,R0                                  ;
 5290 00000D70 2008              2066             TST     R0,R0
 5291                            2067             TST_BIT_OF KMT_HINBAN_DTMK_900                  ;送信ﾃﾞｰﾀない
 5292 00000D72 8903                   M           BT      KMT_HINBAN_DTMK_900
 5293                            2068     
 5294                            2069     ;;      ADD     #-1,R0                                  ;
 5295                            2070     ;;      MOV.W   R0,@R4                                  ;
 5296                            2071     ;;      MOV     R0,R7                                   ;LOOP
 5297                            2072     ;;
 5298                            2073     ;;      MOV.L   #_KMT_HMI_HINBAN_BUF+__SITM_HINBAN_CNT,R5       ;
 5299                            2074     ;;      MOV.L   #_KMT_HMI_HINBAN_BUF,R6                         ;
 5300                            2075     ;;
 5301                            2076     ;;      MOV.L   #_KMT_HINBAN_TRG_FLG+1*2,R10                    ;
 5302                            2077     ;;      MOV.L   #_KMT_HINBAN_TRG_FLG,R11                        ;
 5303                            2078     ;;
 5304                            2079     ;;
 5305                            2080     ;;KMT_HINBAN_DTMK_100_LOP
 5306                            2081     ;;      TST     R7,R7                                           ;
 5307                            2082     ;;      TST_BIT_OF KMT_HINBAN_DTMK_200                          ;転送終わり[BUFF1が送信対
                                          象だから]
 5308                            2083     ;;
 5309                            2084     ;;      MOV.W   @R10+,R0                                        ;FLG
 5310                            2085     ;;      MOV.W   R0,@R11                                         ;
 5311                            2086     ;;      ADD     #2,R11                                          ;
 5312                            2087     ;;
 5313                            2088     ;;      MOV.W   #__SITM_HINBAN_CNT/2,R3                         ;80word
 5314                            2089     ;;KMT_HINBAN_DTMK_120_LOP
 5315                            2090     ;;      MOV.W   @R5+,R0                                         ;
 5316                            2091     ;;      MOV.W   R0,@R6                                          ;
 5317                            2092     ;;      ADD     #2,R6                                           ;
 5318                            2093     ;;      ADD     #-1,R3                                          ;
 5319                            2094     ;;      TST     R3,R3                                           ;
 5320                            2095     ;;      TST_BIT_ON KMT_HINBAN_DTMK_120_LOP                      ;
 5321                            2096     ;;      ADD     #-1,R7                                          ;
 5322                            2097     ;;      M_BRA   KMT_HINBAN_DTMK_100_LOP                         ;
 5323                            2098     
 5324                            2099     ;;KMT_HINBAN_DTMK_200
 5325                            2100     
 5326 00000D74 D105              2101             MOV.L   #_KMT_HINBAN_TRG_FLG,R1                 ;保留が発生した場合の処理
 5327 00000D76 6011              2102             MOV.W   @R1,R0                                  ;
 5328 00000D78 D502              2103             MOV.L   #_KMT_HINBAN_CHGF,R5                    ;
 5329 00000D7A 2501              2104             MOV.W   R0,@R5                                  ;BIT0orBIT1-->送信部 送信部でｸﾘｱさ
                                          れる
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    60
PROGRAM NAME =

 5330                            2105     
 5331                            2106     
 5332 00000D7C                   2107     KMT_HINBAN_DTMK_900
 5333                            2108     
 5334                            2109             SUB_END
 5335                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5336 00000D7C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5337                            2110             M_RTS
 5338 00000D7E 000B                   M           RTS                             ;RTSの後ろの
 5339 00000D80 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5340                            2111     
 5341                            2112     
 5342                            2113     ;       ***************************
 5343                            2114     ;       ***     buff_TOP_MAKE   ***
 5344                            2115     ;       ***************************
 5345                            2116     ;       OUTPUT R6
 5346                            2117     ;       Output R7
 5347                                     ***** BEGIN-POOL *****
 5348 00000D82 0000                       ALIGNMENT CODE
 5349 00000D84 00000000                   DATA FOR SOURCE-LINE 2059,2103
 5350 00000D88 00000000                   DATA FOR SOURCE-LINE 2064
 5351 00000D8C 00000000                   DATA FOR SOURCE-LINE 2101
 5352                                     ***** END-POOL *****
 5353 00000D90                   2118     _KMT_HINBAN_BUF_MAK1:
 5354                            2119             SUB_START
 5355 00000D90 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5356                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5357                            2120     
 5358 00000D92 D509              2121             MOV.L   #_KMT_HINBAN_TRG_NUM,R5                 ;0個[保留なし],1個,2個,3個,4個,5個
                                          full
 5359 00000D94 6051              2122             MOV.W   @R5,R0                                  ;
 5360 00000D96 8806              2123             CMP/EQ  #_HINBAN_BUF_MAX,R0                     ;
 5361 00000D98 8B01              2124             BF      KMT_HINBAN_BUFMK1_100                   ;
 5362 00000D9A 70FE              2125             ADD     #-2,R0                                  ;2つ前に戻す[ﾊﾞﾌｧも]
 5363 00000D9C 2501              2126             MOV.W   R0,@R5                                  ;開始→終了→.....ならば２つ前と一
                                          致するはず
 5364                            2127                                                             ;ﾊﾞﾌｧ6-->4
 5365                            2128                                                             ;ﾊﾞﾌｧ5-->3
 5366                            2129                                                             ;保留しておく
 5367 00000D9E                   2130     KMT_HINBAN_BUFMK1_100:
 5368 00000D9E 9409              2131             MOV.W   #__SITM_HINBAN_CNT,R4                   ;160byte
 5369 00000DA0 340D              2132             DMULS.L R0,R4                                   ;
 5370 00000DA2 021A              2133             STS.L   MACL,R2                                 ;
 5371                            2134     
 5372 00000DA4 D605              2135             MOV.L   #_KMT_HMI_HINBAN_BUF,R6                 ;
 5373 00000DA6 362C              2136             ADD     R2,R6                                   ;
 5374                            2137     
 5375 00000DA8 D705              2138             MOV.L   #_KMT_HINBAN_TRG_FLG,R7                 ;
 5376 00000DAA 4000              2139             SHLL    R0
 5377 00000DAC 370C              2140             ADD     R0,R7                                   ;
 5378                            2141     
 5379                            2142     
 5380                            2143             SUB_END
 5381                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5382 00000DAE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5383                            2144             M_RTS
 5384 00000DB0 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    61
PROGRAM NAME =

 5385 00000DB2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5386                            2145     ;
 5387                            2146     ;
 5388                            2147     ;       input R6:DST MEM
 5389                            2148     ;
 5390                                     ***** BEGIN-POOL *****
 5391 00000DB4 00A0                       DATA FOR SOURCE-LINE 2131
 5392 00000DB6 0000                       ALIGNMENT CODE
 5393 00000DB8 00000000                   DATA FOR SOURCE-LINE 2121
 5394 00000DBC 00000000                   DATA FOR SOURCE-LINE 2135
 5395 00000DC0 00000000                   DATA FOR SOURCE-LINE 2138
 5396                                     ***** END-POOL *****
 5397 00000DC4                   2149     _HINBAN_START_DATA_MOV:
 5398                            2150             SUB_START
 5399 00000DC4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5400                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5401 00000DC6 D704              2151             MOV.L   #_SV0_WORK_STR_FLG,R7   ;2byte作業終了 　0/0以外
 5402 00000DC8 D804              2152             MOV.L   #_SV0SR_WORKER_COD,R8   ;2byte作業者ｺｰﾄﾞBIN
 5403 00000DCA D905              2153             MOV.L   #_SV0SR_ORDER_COD,R9    ;4byte注文ｺｰﾄﾞBIN->ASC
 5404 00000DCC DA05              2154             MOV.L   #_SV0SR_PLAN_CNT,R10    ;4byte計画数BIN
 5405 00000DCE DB06              2155             MOV.L   #_SV0SR_BAD_CNT,R11     ;4byte不良数BIN
 5406 00000DD0 DC06              2156             MOV.L   #_SV0SR_KATA_NAME,R12   ;2byte*7=14byte
 5407 00000DD2 DD07              2157             MOV.L   #_SV0SR_KATA_MEMO,R13   ;2byte*7=14byte
 5408                            2158             M_BRA   HINBAN_COM_DATMOV
 5409 00000DD4 A026                   M           BRA     HINBAN_COM_DATMOV
 5410 00000DD6 0009                   M           NOP
 5411                            2159     
 5412                            2160     
 5413                                     ***** BEGIN-POOL *****
 5414 00000DD8 00000000                   DATA FOR SOURCE-LINE 2151
 5415 00000DDC 00000000                   DATA FOR SOURCE-LINE 2152
 5416 00000DE0 00000000                   DATA FOR SOURCE-LINE 2153
 5417 00000DE4 00000000                   DATA FOR SOURCE-LINE 2154
 5418 00000DE8 00000000                   DATA FOR SOURCE-LINE 2155
 5419 00000DEC 00000000                   DATA FOR SOURCE-LINE 2156
 5420 00000DF0 00000000                   DATA FOR SOURCE-LINE 2157
 5421                                     ***** END-POOL *****
 5422 00000DF4                   2161     _HINBAN_STOP_DATA_MOV:
 5423                            2162             SUB_START
 5424 00000DF4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5425                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5426 00000DF6 D704              2163             MOV.L   #_SV0_WORK_STP_FLG,R7   ;2byte作業終了 　0/0以外
 5427 00000DF8 D804              2164             MOV.L   #_SV0SP_WORKER_COD,R8   ;2byte作業者ｺｰﾄﾞBIN
 5428 00000DFA D905              2165             MOV.L   #_SV0SP_ORDER_COD,R9    ;4byte注文ｺｰﾄﾞBIN->ASC
 5429 00000DFC DA05              2166             MOV.L   #_SV0SP_PLAN_CNT,R10    ;4byte計画数BIN
 5430 00000DFE DB06              2167             MOV.L   #_SV0SP_BAD_CNT,R11     ;4byte不良数BIN
 5431 00000E00 DC06              2168             MOV.L   #_SV0SP_KATA_NAME,R12   ;2byte*7=14byte
 5432 00000E02 DD07              2169             MOV.L   #_SV0SP_KATA_MEMO,R13   ;2byte*7=14byte
 5433                            2170             M_BRA   HINBAN_COM_DATMOV
 5434 00000E04 A00E                   M           BRA     HINBAN_COM_DATMOV
 5435 00000E06 0009                   M           NOP
 5436                            2171     
 5437                                     ***** BEGIN-POOL *****
 5438 00000E08 00000000                   DATA FOR SOURCE-LINE 2163
 5439 00000E0C 00000000                   DATA FOR SOURCE-LINE 2164
 5440 00000E10 00000000                   DATA FOR SOURCE-LINE 2165
 5441 00000E14 00000000                   DATA FOR SOURCE-LINE 2166
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    62
PROGRAM NAME =

 5442 00000E18 00000000                   DATA FOR SOURCE-LINE 2167
 5443 00000E1C 00000000                   DATA FOR SOURCE-LINE 2168
 5444 00000E20 00000000                   DATA FOR SOURCE-LINE 2169
 5445                                     ***** END-POOL *****
 5446 00000E24                   2172     HINBAN_COM_DATMOV:
 5447                            2173     
 5448 00000E24 461E              2174             LDC     R6,GBR                                  ;
 5449                            2175     
 5450                            2176     ;       -------- 作業ｺｰﾄﾞ 2byte------------
 5451 00000E26 6085              2177             MOV.W   @R8+,R0                         ;
 5452 00000E28 C118              2178             MOV.W   R0,@(_EQ_WORKER_COD,GBR)        ;
 5453                            2179     
 5454                            2180     ;       --------注文ｺｰﾄﾞ 4byte------------
 5455 00000E2A 6296              2181             MOV.L   @R9+,R2                                 ;
 5456                            2182             FAR_JSR #_BCD4B_ASCII,R0                        ;
 5457 00000E2C D01D                   M           MOV.L   #_BCD4B_ASCII,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5458 00000E2E 400B                   M           JSR     @R0                     ;
 5459 00000E30 0009                   M           NOP                                     ;
 5460                            2183                                                             ;R1,R2,R3,R4 8byte
 5461 00000E32 6013              2184             MOV     R1,R0                                   ;
 5462 00000E34 C100              2185             MOV.W   R0,@(_EQ_ORDER_COD+0*2,GBR)             ;
 5463 00000E36 6023              2186             MOV     R2,R0                                   ;
 5464 00000E38 C101              2187             MOV.W   R0,@(_EQ_ORDER_COD+1*2,GBR)             ;
 5465 00000E3A 6033              2188             MOV     R3,R0                                   ;
 5466 00000E3C C102              2189             MOV.W   R0,@(_EQ_ORDER_COD+2*2,GBR)             ;
 5467 00000E3E 6043              2190             MOV     R4,R0                                   ;
 5468 00000E40 C103              2191             MOV.W   R0,@(_EQ_ORDER_COD+3*2,GBR)             ;
 5469                            2192     
 5470                            2193     ;       --------計画数 4byte------------
 5471 00000E42 60A5              2194             MOV.W   @R10+,R0                                ;
 5472 00000E44 C119              2195             MOV.W   R0,@(_EQ_PLAN_CNT+0*2,GBR)              ;
 5473 00000E46 60A5              2196             MOV.W   @R10+,R0                                ;
 5474 00000E48 C11A              2197             MOV.W   R0,@(_EQ_PLAN_CNT+1*2,GBR)              ;
 5475                            2198     
 5476                            2199     
 5477                            2200     ;       --------不良数 4byte------------
 5478 00000E4A 60B5              2201             MOV.W   @R11+,R0                                ;
 5479 00000E4C C11D              2202             MOV.W   R0,@(_EQ_BAD_CNT+0*2,GBR)               ;
 5480 00000E4E 60B5              2203             MOV.W   @R11+,R0                                ;
 5481 00000E50 C11E              2204             MOV.W   R0,@(_EQ_BAD_CNT+1*2,GBR)               ;
 5482                            2205     
 5483                            2206     ;       --------型名称 14/20byte------------
 5484 00000E52 60C5              2207             MOV.W   @R12+,R0                                ;
 5485 00000E54 C104              2208             MOV.W   R0,@(_EQ_KATA_NAME+0*2,GBR)             ;01
 5486 00000E56 60C5              2209             MOV.W   @R12+,R0                                ;
 5487 00000E58 C105              2210             MOV.W   R0,@(_EQ_KATA_NAME+1*2,GBR)             ;23
 5488 00000E5A 60C5              2211             MOV.W   @R12+,R0                                ;
 5489 00000E5C C106              2212             MOV.W   R0,@(_EQ_KATA_NAME+2*2,GBR)             ;4
 5490 00000E5E 60C5              2213             MOV.W   @R12+,R0                                ;
 5491 00000E60 C107              2214             MOV.W   R0,@(_EQ_KATA_NAME+3*2,GBR)             ;6
 5492 00000E62 60C5              2215             MOV.W   @R12+,R0                                ;
 5493 00000E64 C108              2216             MOV.W   R0,@(_EQ_KATA_NAME+4*2,GBR)             ;8
 5494 00000E66 60C5              2217             MOV.W   @R12+,R0                                ;
 5495 00000E68 C109              2218             MOV.W   R0,@(_EQ_KATA_NAME+5*2,GBR)             ;10
 5496 00000E6A 60C5              2219             MOV.W   @R12+,R0                                ;
 5497 00000E6C C10A              2220             MOV.W   R0,@(_EQ_KATA_NAME+6*2,GBR)             ;12
 5498                            2221     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    63
PROGRAM NAME =

 5499 00000E6E 200A              2222             XOR     R0,R0
 5500 00000E70 C10B              2223             MOV.W   R0,@(_EQ_KATA_NAME+7*2,GBR)             ;
 5501 00000E72 C10C              2224             MOV.W   R0,@(_EQ_KATA_NAME+8*2,GBR)             ;
 5502 00000E74 C10D              2225             MOV.W   R0,@(_EQ_KATA_NAME+9*2,GBR)             ;
 5503                            2226     
 5504                            2227     ;       --------メモ 14/20byte------------
 5505 00000E76 60D5              2228             MOV.W   @R13+,R0                                ;
 5506 00000E78 C10E              2229             MOV.W   R0,@(_EQ_KATA_MEMO+0*2,GBR)             ;0
 5507 00000E7A 60D5              2230             MOV.W   @R13+,R0                                ;
 5508 00000E7C C10F              2231             MOV.W   R0,@(_EQ_KATA_MEMO+1*2,GBR)             ;2
 5509 00000E7E 60D5              2232             MOV.W   @R13+,R0                                ;
 5510 00000E80 C110              2233             MOV.W   R0,@(_EQ_KATA_MEMO+2*2,GBR)             ;4
 5511 00000E82 60D5              2234             MOV.W   @R13+,R0                                ;
 5512 00000E84 C111              2235             MOV.W   R0,@(_EQ_KATA_MEMO+3*2,GBR)             ;6
 5513 00000E86 60D5              2236             MOV.W   @R13+,R0                                ;
 5514 00000E88 C112              2237             MOV.W   R0,@(_EQ_KATA_MEMO+4*2,GBR)             ;8
 5515 00000E8A 60D5              2238             MOV.W   @R13+,R0                                ;
 5516 00000E8C C113              2239             MOV.W   R0,@(_EQ_KATA_MEMO+5*2,GBR)             ;10
 5517 00000E8E 60D5              2240             MOV.W   @R13+,R0                                ;
 5518 00000E90 C114              2241             MOV.W   R0,@(_EQ_KATA_MEMO+6*2,GBR)             ;12,13
 5519                            2242     
 5520 00000E92 200A              2243             XOR     R0,R0
 5521 00000E94 C115              2244             MOV.W   R0,@(_EQ_KATA_MEMO+7*2,GBR)             ;14,15
 5522 00000E96 C116              2245             MOV.W   R0,@(_EQ_KATA_MEMO+8*2,GBR)             ;16
 5523 00000E98 C117              2246             MOV.W   R0,@(_EQ_KATA_MEMO+9*2,GBR)             ;18,19
 5524                            2247     
 5525                            2248     
 5526                            2249     ;       ----MAIN CPUB INTERFACE FLG----------
 5527 00000E9A 200A              2250             XOR     R0,R0
 5528 00000E9C 2701              2251             MOV.W   R0,@R7                  ;FLG=0-CLR
 5529                            2252     
 5530                            2253             SUB_END
 5531                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5532 00000E9E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5533                            2254             M_RTS
 5534 00000EA0 000B                   M           RTS                             ;RTSの後ろの
 5535 00000EA2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5536                            2255     
 5537                            2256     ;       *******************************************
 5538                            2257     ;       ***                                     ***
 5539                            2258     ;       ***     input R2                        ***
 5540                            2259     ;       ***     output R1,R2,R3,R4              ***
 5541                            2260     ;       ***                                     ***
 5542                            2261     ;       *******************************************
 5543                            2262     ;       +data =>ascii
 5544                            2263     ;       0~9の数値だけ
 5545                            2264     ;
 5546                            2265     ;
 5547                                     ***** BEGIN-POOL *****
 5548 00000EA4 00000000                   DATA FOR SOURCE-LINE 2182
 5549                                     ***** END-POOL *****
 5550          00000030          2266     __ASCII_0       .EQU    H'30            ;
 5551                            2267     ;
 5552 00000EA8                   2268     _BCD4B_ASCII:
 5553                            2269             SUB_START
 5554 00000EA8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5555                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    64
PROGRAM NAME =

 5556                            2270             PUSH_REG1 R5
 5557 00000EAA 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
 5558                                 M                                           ;REG=>[SP]
 5559                                 M                                           ;"-4" FF,FF,FF,FC
 5560                            2271     
 5561                            2272     ;HHH,HHL,HLH,HLL,LHH,LHL,LLH,LLL
 5562                            2273     ;
 5563                            2274     ;
 5564                            2275     ;
 5565 00000EAC 6523              2276             MOV     R2,R5                   ;
 5566                            2277     
 5567                            2278     ;       ------------------------
 5568 00000EAE 6053              2279             MOV     R5,R0                   ;
 5569 00000EB0 C90F              2280             AND     #H'0F,R0                ;BIT3~BIT0
 5570 00000EB2 7030              2281             ADD     #__ASCII_0,R0           ;
 5571 00000EB4 6403              2282             MOV     R0,R4                   ;1byte
 5572 00000EB6 6053              2283             MOV     R5,R0                   ;
 5573 00000EB8 4009              2284             SHLR2   R0                      ;
 5574 00000EBA 4009              2285             SHLR2   R0                      ;
 5575 00000EBC C90F              2286             AND     #H'0F,R0                ;BIT7~BIT4
 5576 00000EBE 7030              2287             ADD     #__ASCII_0,R0           ;
 5577 00000EC0 4018              2288             SHLL8   R0                      ;
 5578 00000EC2 240B              2289             OR      R0,R4                   ;2byte
 5579                            2290     
 5580                            2291     ;       ------------------------
 5581 00000EC4 4519              2292             SHLR8   R5                      ;
 5582 00000EC6 6053              2293             MOV     R5,R0                   ;
 5583 00000EC8 C90F              2294             AND     #H'0F,R0                ;BIT11~BIT8
 5584 00000ECA 7030              2295             ADD     #__ASCII_0,R0           ;
 5585 00000ECC 6303              2296             MOV     R0,R3                   ;3byte
 5586 00000ECE 6053              2297             MOV     R5,R0                   ;
 5587 00000ED0 4009              2298             SHLR2   R0                      ;
 5588 00000ED2 4009              2299             SHLR2   R0                      ;
 5589 00000ED4 C90F              2300             AND     #H'0F,R0                ;BIT15~BIT12
 5590 00000ED6 7030              2301             ADD     #__ASCII_0,R0           ;
 5591 00000ED8 4018              2302             SHLL8   R0                      ;
 5592 00000EDA 230B              2303             OR      R0,R3                   ;4byte
 5593                            2304     
 5594                            2305     ;       ------------------------
 5595 00000EDC 4519              2306             SHLR8   R5                      ;
 5596 00000EDE 6053              2307             MOV     R5,R0                   ;
 5597 00000EE0 C90F              2308             AND     #H'0F,R0                ;BIT19~BIT16
 5598 00000EE2 7030              2309             ADD     #__ASCII_0,R0           ;
 5599 00000EE4 6203              2310             MOV     R0,R2                   ;5byte
 5600 00000EE6 6053              2311             MOV     R5,R0                   ;
 5601 00000EE8 4009              2312             SHLR2   R0                      ;
 5602 00000EEA 4009              2313             SHLR2   R0                      ;
 5603 00000EEC C90F              2314             AND     #H'0F,R0                ;BIT23~BIT20
 5604 00000EEE 7030              2315             ADD     #__ASCII_0,R0           ;
 5605 00000EF0 4018              2316             SHLL8   R0                      ;
 5606 00000EF2 220B              2317             OR      R0,R2                   ;6byte
 5607                            2318     
 5608                            2319     ;       ------------------------
 5609 00000EF4 4519              2320             SHLR8   R5                      ;
 5610 00000EF6 6053              2321             MOV     R5,R0                   ;
 5611 00000EF8 C90F              2322             AND     #H'0F,R0                ;BIT27~BIT24
 5612 00000EFA 7030              2323             ADD     #__ASCII_0,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    65
PROGRAM NAME =

 5613 00000EFC 6103              2324             MOV     R0,R1                   ;7byte
 5614 00000EFE 6053              2325             MOV     R5,R0                   ;
 5615 00000F00 4009              2326             SHLR2   R0                      ;
 5616 00000F02 4009              2327             SHLR2   R0                      ;
 5617 00000F04 C90F              2328             AND     #H'0F,R0                ;BIT30~BIT28
 5618 00000F06 7030              2329             ADD     #__ASCII_0,R0           ;
 5619 00000F08 4018              2330             SHLL8   R0                      ;
 5620 00000F0A 210B              2331             OR      R0,R1                   ;8byte
 5621                            2332     
 5622                            2333             POP_REG1 R5
 5623                                 M                                   ; RE"+4" 00,00,00,04
 5624 00000F0C 65F6                   M           MOV.L   @R15+,R5        ;
 5625                            2334             SUB_END
 5626                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5627 00000F0E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5628                            2335             M_RTS
 5629 00000F10 000B                   M           RTS                             ;RTSの後ろの
 5630 00000F12 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5631                            2336     
 5632                            2337     ;       *******************************************
 5633                            2338     ;       ***                                     ***
 5634                            2339     ;       ***             品番転送処理            ***
 5635                            2340     ;       ***             (write)                 ***
 5636                            2341     ;       *******************************************
 5637                            2342     ;       input   _KMT_HINBAN_CHGF=bit0,bit1
 5638                            2343     ;       output  _KMT_HINBAN_CHGF=0
 5639 00000F14                   2344             .ALIGN  4                                       ;
 5640                            2345     
 5641 00000F14                   2346     _KMT_HINBAN_STEP
 5642                            2347             SUB_START
 5643 00000F14 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5644                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5645                            2348     
 5646                            2349     ;       ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 5647                            2350     ;;      MOV.L   #_KMT_HINBAN_SIGTIM,R1                  ;
 5648                            2351     ;;      MOV.W   @R1,R0                                  ;
 5649                            2352     ;;      TST     R0,R0                                   ;
 5650                            2353     ;;      TST_BIT_OF KMT_HINBAN_STP050                    ;
 5651                            2354     ;;      ADD     #-1,R0                                  ;
 5652                            2355     ;;      MOV.W   R0,@R1                                  ;
 5653                            2356     ;;KMT_HINBAN_STP050:
 5654                            2357     ;       ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 5655                            2358     
 5656 00000F16 D105              2359             MOV.L   #_KMT_HINBAN_FLG,R1                     ;
 5657 00000F18 6011              2360             MOV.W   @R1,R0                                  ;BIT1=1 EVENT終了待ち
 5658 00000F1A C80E              2361             TST     #(BIT3+BIT2+BIT1),R0                    ;BIT2=1 ｼｰｹﾝｽへ出力
 5659                            2362             TST_BIT_ON KMT_HINBAN_STP300                    ;
 5660 00000F1C 8B44                   M           BF      KMT_HINBAN_STP300
 5661                            2363     
 5662 00000F1E D504              2364             MOV.L   #_KMT_HINBAN_CHGF,R5                    ;
 5663 00000F20 6051              2365             MOV.W   @R5,R0                                  ;MAIN==>INT
 5664 00000F22 2008              2366             TST     R0,R0                                   ;
 5665                            2367             TST_BIT_ON KMT_HINBAN_STP020                    ;
 5666 00000F24 8B06                   M           BF      KMT_HINBAN_STP020
 5667                            2368             M_BRA   KMT_HINBAN_STPEXT                       ;
 5668 00000F26 A092                   M           BRA     KMT_HINBAN_STPEXT
 5669 00000F28 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    66
PROGRAM NAME =

 5670                            2369     
 5671                                     ***** BEGIN-POOL *****
 5672 00000F2A 0000                       ALIGNMENT CODE
 5673 00000F2C 00000000                   DATA FOR SOURCE-LINE 2359
 5674 00000F30 00000000                   DATA FOR SOURCE-LINE 2364
 5675                                     ***** END-POOL *****
 5676 00000F34                   2370     KMT_HINBAN_STP020:
 5677                            2371     
 5678 00000F34 D10C              2372             MOV.L   #_KMT_HINBAN_SEL,R1                     ;BIT0=1開始・BIT1=1終了
 5679 00000F36 2101              2373             MOV.W   R0,@R1                                  ;
 5680                            2374     
 5681 00000F38 200A              2375             XOR     R0,R0                                   ;
 5682 00000F3A 2501              2376             MOV.W   R0,@R5                                  ;MAIN ｺﾏﾝﾄﾞｸﾘｱ
 5683                            2377     
 5684 00000F3C 200A              2378             XOR     R0,R0
 5685 00000F3E D10B              2379             MOV.L   #(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R1
                                          ;0:固定 (SIT_MEMを対象)
 5686 00000F40 2101              2380             MOV.W   R0,@R1                                  ;
 5687                            2381     
 5688 00000F42 900F              2382             MOV.W   #__SITM_HINBAN_TOP/2,R0                                         ;ADR+132*2
                                          byte adr/2=132
 5689 00000F44 D10A              2383             MOV.L   #(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R1       ;
 5690 00000F46 2101              2384             MOV.W   R0,@R1                                  ;
 5691                            2385     
 5692 00000F48 900D              2386             MOV.W   #__SITM_HINBAN_CNT/2,R0                 ;160byte/2=80word
 5693 00000F4A D10A              2387             MOV.L   #(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R1                  ;M
                                          AX 1~256 word
 5694 00000F4C 2101              2388             MOV.W   R0,@R1
 5695                            2389     
 5696 00000F4E D50A              2390             MOV.L   #_KMT_HMI_HINBAN_BUF,R5                                                 ;8
                                          0word
 5697 00000F50 D60A              2391             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R6                  ;
 5698 00000F52 9308              2392             MOV.W   #__SITM_HINBAN_CNT/2,R3                                                 ;
 5699                            2393             BLOCK_MOV1 LG=W,AD_DT=2,SRC_REG=R5,DST_REG=R6,DATA_REG=R0,CNT_REG=R3            ;
 5700 00000F54                        M   JMP000006:                                      ;
 5701 00000F54 2338                   M           TST     R3,R3   ;
 5702                                 M           TST_BIT_OF JMP100006            ;
 5703 00000F56 8913                   M           BT      JMP100006
 5704 00000F58 6055                   M           MOV.W   @R5+,R0 ;
 5705 00000F5A 2601                   M           MOV.W   R0,@R6  ;
 5706 00000F5C 7602                   M           ADD     #2,R6   ;
 5707 00000F5E 73FF                   M           ADD     #H'FF,R3                ;
 5708                                 M           M_BRA   JMP000006                       ;
 5709 00000F60 AFF8                   M           BRA     JMP000006
 5710 00000F62 0009                   M           NOP
 5711                                 M   ***** BEGIN-POOL *****
 5712 00000F64 0084                   M   DATA FOR SOURCE-LINE 2382
 5713 00000F66 0050                   M   DATA FOR SOURCE-LINE 2386,2392
 5714 00000F68 00000000               M   DATA FOR SOURCE-LINE 2372
 5715 00000F6C 00000000               M   DATA FOR SOURCE-LINE 2379
 5716 00000F70 00000000               M   DATA FOR SOURCE-LINE 2383
 5717 00000F74 00000000               M   DATA FOR SOURCE-LINE 2387
 5718 00000F78 00000000               M   DATA FOR SOURCE-LINE 2390
 5719 00000F7C 00000000               M   DATA FOR SOURCE-LINE 2391
 5720                                 M   ***** END-POOL *****
 5721 00000F80                        M   JMP100006:                                      ;
 5722                            2394     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    67
PROGRAM NAME =

 5723                            2395     
 5724 00000F80 900A              2396             MOV.W   #__KMTCMD_WR,R0
 5725 00000F82 D106              2397             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R1                  ;
 5726 00000F84 2101              2398             MOV.W   R0,@R1                                                                  ;W
                                          RITE
 5727                            2399     
 5728                            2400             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_HINBAN_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
 5729 00000F86 D106                   M           MOV.L   #_KMT_HINBAN_FLG,R1             ;
 5730 00000F88 6011                   M           MOV.W   @R1,R0          ;
 5731 00000F8A CB02                   M           OR      #BIT1,R0                ;
 5732 00000F8C 2101                   M           MOV.W   R0,@R1          ;
 5733                            2401     
 5734                            2402     
 5735                            2403     ;-----------------------------aaaa----------------------------------------
 5736                            2404             FAR_JSR #_HINBAN_DATA_SFT,R0
 5737 00000F8E D005                   M           MOV.L   #_HINBAN_DATA_SFT,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5738 00000F90 400B                   M           JSR     @R0                     ;
 5739 00000F92 0009                   M           NOP                                     ;
 5740                            2405             M_BRA   KMT_HINBAN_STPEXT
 5741 00000F94 A05B                   M           BRA     KMT_HINBAN_STPEXT
 5742 00000F96 0009                   M           NOP
 5743                            2406     
 5744                                     ***** BEGIN-POOL *****
 5745 00000F98 0001                       DATA FOR SOURCE-LINE 2396
 5746 00000F9A 0000                       ALIGNMENT CODE
 5747 00000F9C 00000000                   DATA FOR SOURCE-LINE 2397
 5748 00000FA0 00000000                   DATA FOR SOURCE-LINE 2400
 5749 00000FA4 00000000                   DATA FOR SOURCE-LINE 2404
 5750                                     ***** END-POOL *****
 5751 00000FA8                   2407     KMT_HINBAN_STP300
 5752 00000FA8 D10C              2408             MOV.L   #_KMT_HINBAN_FLG,R1                                             ;
 5753 00000FAA 6011              2409             MOV.W   @R1,R0                                                          ;BIT1=1 EV
                                          ENT終了待ち
 5754 00000FAC C808              2410             TST     #BIT3,R0                                                        ;OFF保証
 5755                            2411             TST_BIT_ON KMT_HINBAN_STP500                                            ;
 5756 00000FAE 8B47                   M           BF      KMT_HINBAN_STP500
 5757                            2412     
 5758 00000FB0 C804              2413             TST     #BIT2,R0
 5759                            2414             TST_BIT_ON KMT_HINBAN_STP400                                            ;ON保証
 5760 00000FB2 8B2B                   M           BF      KMT_HINBAN_STP400
 5761                            2415     
 5762 00000FB4 D10A              2416             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R1          ;
 5763 00000FB6 6011              2417             MOV.W   @R1,R0                                                          ;
 5764 00000FB8 2008              2418             TST     R0,R0                                                           ;
 5765                            2419             TST_BIT_ON KMT_HINBAN_STPEXT                                            ;ｺﾏﾝﾄﾞ処理
                                          中
 5766 00000FBA 8B48                   M           BF      KMT_HINBAN_STPEXT
 5767                            2420     
 5768                            2421             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_HINBAN_FLG,LG=W,BIT=BIT2,WKREG=R1      ;bit-set
 5769 00000FBC D107                   M           MOV.L   #_KMT_HINBAN_FLG,R1             ;
 5770 00000FBE 6011                   M           MOV.W   @R1,R0          ;
 5771 00000FC0 CB04                   M           OR      #BIT2,R0                ;
 5772 00000FC2 2101                   M           MOV.W   R0,@R1          ;
 5773                            2422     
 5774 00000FC4 D107              2423             MOV.L   #_KMT_HINBAN_SEL,R1                     ;BIT0=1開始・BIT1=1終了
 5775 00000FC6 6011              2424             MOV.W   @R1,R0                                  ;
 5776 00000FC8 C801              2425             TST     #BIT0,R0                                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    68
PROGRAM NAME =

 5777                            2426             TST_BIT_OF KMT_HINBAN_STP320
 5778 00000FCA 890F                   M           BT      KMT_HINBAN_STP320
 5779                            2427     ;       ------ 開始イベント---
 5780                            2428             MEM1_BIT0_F_ORSET MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R2        ;
                                          開始イベント
 5781 00000FCC D106                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 5782 00000FCE 6011                   M           MOV.W   @R1,R0          ;
 5783 00000FD0 9203                   M           MOV.W   #(BIT4),R2              ;
 5784 00000FD2 202B                   M           OR      R2,R0           ;
 5785 00000FD4 2101                   M           MOV.W   R0,@R1          ;
 5786                            2429             M_BRA   KMT_HINBAN_STP340                                               ;
 5787 00000FD6 A00E                   M           BRA     KMT_HINBAN_STP340
 5788 00000FD8 0009                   M           NOP
 5789                                     ***** BEGIN-POOL *****
 5790 00000FDA 0010                       DATA FOR SOURCE-LINE 2428
 5791 00000FDC 00000000                   DATA FOR SOURCE-LINE 2408,2421
 5792 00000FE0 00000000                   DATA FOR SOURCE-LINE 2416
 5793 00000FE4 00000000                   DATA FOR SOURCE-LINE 2423
 5794 00000FE8 00000000                   DATA FOR SOURCE-LINE 2428
 5795                                     ***** END-POOL *****
 5796 00000FEC                   2430     KMT_HINBAN_STP320
 5797                            2431             MEM1_BIT0_F_ORSET MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(BIT5),WKRG1=R1,WKRG2=R2        ;
                                          終了イベント
 5798 00000FEC D105                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 5799 00000FEE 6011                   M           MOV.W   @R1,R0          ;
 5800 00000FF0 9206                   M           MOV.W   #(BIT5),R2              ;
 5801 00000FF2 202B                   M           OR      R2,R0           ;
 5802 00000FF4 2101                   M           MOV.W   R0,@R1          ;
 5803 00000FF6                   2432     KMT_HINBAN_STP340
 5804                            2433     
 5805 00000FF6 9004              2434             MOV.W   #__HINBAN_SIG_ONTIMSV,R0                        ;
 5806 00000FF8 D103              2435             MOV.L   #_KMT_HINBAN_SIGTIM,R1                          ;
 5807 00000FFA 2101              2436             MOV.W   R0,@R1                                          ;
 5808                            2437             M_BRA   KMT_HINBAN_STPEXT                               ;ON保証ﾀｲﾏ
 5809 00000FFC A027                   M           BRA     KMT_HINBAN_STPEXT
 5810 00000FFE 0009                   M           NOP
 5811                            2438     
 5812                                     ***** BEGIN-POOL *****
 5813 00001000 0020                       DATA FOR SOURCE-LINE 2431
 5814 00001002 0064                       DATA FOR SOURCE-LINE 2434
 5815 00001004 00000000                   DATA FOR SOURCE-LINE 2431
 5816 00001008 00000000                   DATA FOR SOURCE-LINE 2435
 5817                                     ***** END-POOL *****
 5818 0000100C                   2439     KMT_HINBAN_STP400
 5819                            2440     
 5820 0000100C D109              2441             MOV.L   #_KMT_HINBAN_SIGTIM,R1                          ;
 5821 0000100E 6011              2442             MOV.W   @R1,R0                                          ;
 5822 00001010 2008              2443             TST     R0,R0                                                   ;
 5823                            2444             TST_BIT_ON KMT_HINBAN_STPEXT                                    ;
 5824 00001012 8B1C                   M           BF      KMT_HINBAN_STPEXT
 5825                            2445     
 5826                            2446             MEM1_BIT0_F_ADCLR MEM=_KMT_STS1MN_SQ87,LG=W,BIT=~(BIT5+BIT4),WKRG1=R1,WKRG2=R4  ;
                                          開始または終了
 5827 00001014 D108                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 5828 00001016 6011                   M           MOV.W   @R1,R0          ;
 5829 00001018 940A                   M           MOV.W   #LWORD ~(BIT5+BIT4),R4  ;
 5830 0000101A 2049                   M           AND     R4,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    69
PROGRAM NAME =

 5831 0000101C 2101                   M           MOV.W   R0,@R1          ;
 5832                            2447             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_HINBAN_FLG,LG=W,BIT=BIT3,WKREG=R1      ;bit-set
 5833 0000101E D107                   M           MOV.L   #_KMT_HINBAN_FLG,R1             ;
 5834 00001020 6011                   M           MOV.W   @R1,R0          ;
 5835 00001022 CB08                   M           OR      #BIT3,R0                ;
 5836 00001024 2101                   M           MOV.W   R0,@R1          ;
 5837                            2448     
 5838                            2449     
 5839 00001026 9004              2450             MOV.W   #__HINBAN_SIG_OFTIMSV,R0                        ;
 5840 00001028 D102              2451             MOV.L   #_KMT_HINBAN_SIGTIM,R1                          ;
 5841 0000102A 2101              2452             MOV.W   R0,@R1
 5842                            2453             M_BRA   KMT_HINBAN_STPEXT                               ;OFF保証ﾀｲﾏ
 5843 0000102C A00F                   M           BRA     KMT_HINBAN_STPEXT
 5844 0000102E 0009                   M           NOP
 5845                            2454     
 5846                                     ***** BEGIN-POOL *****
 5847 00001030 FFCF                       DATA FOR SOURCE-LINE 2446
 5848 00001032 0064                       DATA FOR SOURCE-LINE 2450
 5849 00001034 00000000                   DATA FOR SOURCE-LINE 2441,2451
 5850 00001038 00000000                   DATA FOR SOURCE-LINE 2446
 5851 0000103C 00000000                   DATA FOR SOURCE-LINE 2447
 5852                                     ***** END-POOL *****
 5853 00001040                   2455     KMT_HINBAN_STP500:
 5854                            2456     
 5855 00001040 D104              2457             MOV.L   #_KMT_HINBAN_SIGTIM,R1                          ;
 5856 00001042 6011              2458             MOV.W   @R1,R0                                          ;
 5857 00001044 2008              2459             TST     R0,R0                                           ;
 5858                            2460             TST_BIT_ON KMT_HINBAN_STPEXT                            ;
 5859 00001046 8B02                   M           BF      KMT_HINBAN_STPEXT
 5860                            2461     
 5861 00001048 200A              2462             XOR     R0,R0
 5862 0000104A D103              2463             MOV.L   #_KMT_HINBAN_FLG,R1                             ;
 5863 0000104C 2101              2464             MOV.W   R0,@R1                                          ;
 5864                            2465     
 5865                            2466     
 5866 0000104E                   2467     KMT_HINBAN_STPEXT
 5867                            2468             SUB_END
 5868                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5869 0000104E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5870                            2469             M_RTS
 5871 00001050 000B                   M           RTS                             ;RTSの後ろの
 5872 00001052 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5873                            2470     
 5874                            2471     
 5875                            2472     ;       *******************************************
 5876                            2473     ;       ***                                     ***
 5877                            2474     ;       ***                                     ***
 5878                            2475     ;       ***                                     ***
 5879                            2476     ;       *******************************************
 5880                                     ***** BEGIN-POOL *****
 5881 00001054 00000000                   DATA FOR SOURCE-LINE 2457
 5882 00001058 00000000                   DATA FOR SOURCE-LINE 2463
 5883                                     ***** END-POOL *****
 5884 0000105C                   2477     _HINBAN_DATA_SFT:
 5885                            2478             SUB_START
 5886 0000105C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5887                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    70
PROGRAM NAME =

 5888 0000105E D40D              2479             MOV.L   #_KMT_HINBAN_TRG_NUM,R4                 ;0個[ﾃﾞｰﾀなし],1個,2個,3個,4個,5個
                                          ,6個full
 5889 00001060 6041              2480             MOV.W   @R4,R0                                  ;
 5890 00001062 2008              2481             TST     R0,R0
 5891                            2482             TST_BIT_OF KMT_HINBAN_DTSFT_900                 ;送信ﾃﾞｰﾀない
 5892 00001064 8921                   M           BT      KMT_HINBAN_DTSFT_900
 5893                            2483     
 5894 00001066 70FF              2484             ADD     #-1,R0                                  ;
 5895 00001068 2401              2485             MOV.W   R0,@R4                                  ;
 5896 0000106A 6703              2486             MOV     R0,R7                                   ;LOOP
 5897                            2487     
 5898 0000106C D50A              2488             MOV.L   #_KMT_HMI_HINBAN_BUF+__SITM_HINBAN_CNT,R5       ;
 5899 0000106E D60B              2489             MOV.L   #_KMT_HMI_HINBAN_BUF,R6                         ;
 5900                            2490     
 5901 00001070 DA0B              2491             MOV.L   #_KMT_HINBAN_TRG_FLG+1*2,R10                    ;
 5902 00001072 DB0C              2492             MOV.L   #_KMT_HINBAN_TRG_FLG,R11                        ;
 5903                            2493     
 5904 00001074                   2494     KMT_HINBAN_DTSFT_100_LOP
 5905 00001074 2778              2495             TST     R7,R7                                           ;
 5906                            2496             TST_BIT_OF KMT_HINBAN_DTSFT_200                         ;転送終わり[BUFF1が送信対
                                          象だから]
 5907 00001076 8917                   M           BT      KMT_HINBAN_DTSFT_200
 5908                            2497     
 5909 00001078 60A5              2498             MOV.W   @R10+,R0                                        ;FLG
 5910 0000107A 2B01              2499             MOV.W   R0,@R11                                         ;
 5911 0000107C 7B02              2500             ADD     #2,R11                                          ;
 5912                            2501     
 5913 0000107E 9308              2502             MOV.W   #__SITM_HINBAN_CNT/2,R3                         ;80word
 5914 00001080                   2503     KMT_HINBAN_DTSFT_120_LOP
 5915 00001080 6055              2504             MOV.W   @R5+,R0                                         ;
 5916 00001082 2601              2505             MOV.W   R0,@R6                                          ;
 5917 00001084 7602              2506             ADD     #2,R6                                           ;
 5918 00001086 73FF              2507             ADD     #-1,R3                                          ;
 5919 00001088 2338              2508             TST     R3,R3                                           ;
 5920                            2509             TST_BIT_ON KMT_HINBAN_DTSFT_120_LOP                     ;
 5921 0000108A 8BF9                   M           BF      KMT_HINBAN_DTSFT_120_LOP
 5922 0000108C 77FF              2510             ADD     #-1,R7                                          ;
 5923                            2511             M_BRA   KMT_HINBAN_DTSFT_100_LOP                        ;
 5924 0000108E AFF1                   M           BRA     KMT_HINBAN_DTSFT_100_LOP
 5925 00001090 0009                   M           NOP
 5926                            2512     
 5927                                     ***** BEGIN-POOL *****
 5928 00001092 0050                       DATA FOR SOURCE-LINE 2502
 5929 00001094 00000000                   DATA FOR SOURCE-LINE 2479
 5930 00001098 00000000                   DATA FOR SOURCE-LINE 2488
 5931 0000109C 00000000                   DATA FOR SOURCE-LINE 2489
 5932 000010A0 00000000                   DATA FOR SOURCE-LINE 2491
 5933 000010A4 00000000                   DATA FOR SOURCE-LINE 2492
 5934                                     ***** END-POOL *****
 5935 000010A8                   2513     KMT_HINBAN_DTSFT_200
 5936 000010A8 0009              2514             NOP
 5937 000010AA                   2515     KMT_HINBAN_DTSFT_900:
 5938                            2516     
 5939                            2517     
 5940                            2518             SUB_END
 5941                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5942 000010AA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    71
PROGRAM NAME =

 5943                            2519             M_RTS
 5944 000010AC 000B                   M           RTS                             ;RTSの後ろの
 5945 000010AE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5946                            2520     
 5947                            2521     
 5948                            2522     ;       ***************************************************
 5949                            2523     ;       ***                                             ***
 5950                            2524     ;       ***             消耗品データ作成、転送          ***
 5951                            2525     ;       ***             (write)                         ***
 5952                            2526     ;       ***************************************************
 5953 000010B0                   2527     _KOMTRAX_SYOUMO_MAIN
 5954                            2528             SUB_START
 5955 000010B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5956                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5957                            2529     
 5958                            2530             FAR_JSR #_KMT_SYOUMO_MAKE,R0            ;
 5959 000010B2 D004                   M           MOV.L   #_KMT_SYOUMO_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5960 000010B4 400B                   M           JSR     @R0                     ;
 5961 000010B6 0009                   M           NOP                                     ;
 5962                            2531     
 5963                            2532             FAR_JSR #_KMT_SYOUMO_STEP,R0            ;
 5964 000010B8 D003                   M           MOV.L   #_KMT_SYOUMO_STEP,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5965 000010BA 400B                   M           JSR     @R0                     ;
 5966 000010BC 0009                   M           NOP                                     ;
 5967                            2533     
 5968                            2534             SUB_END
 5969                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5970 000010BE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5971                            2535             M_RTS
 5972 000010C0 000B                   M           RTS                             ;RTSの後ろの
 5973 000010C2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5974                            2536     
 5975                            2537     
 5976                            2538     ;       *******************************************
 5977                            2539     ;       ***                                     ***
 5978                            2540     ;       ***             消耗品データ作成        ***
 5979                            2541     ;       ***             (write)                 ***
 5980                            2542     ;       *******************************************
 5981                                     ***** BEGIN-POOL *****
 5982 000010C4 00000000                   DATA FOR SOURCE-LINE 2530
 5983 000010C8 00000000                   DATA FOR SOURCE-LINE 2532
 5984                                     ***** END-POOL *****
 5985 000010CC                   2543     _KMT_SYOUMO_MAKE:
 5986                            2544             SUB_START
 5987 000010CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5988                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5989                            2545     
 5990 000010CE 200A              2546             XOR     R0,R0
 5991 000010D0 D502              2547             MOV.L   #_KMT_SYOUMO_CHGF,R5            ;
 5992 000010D2 2501              2548             MOV.W   R0,@R5                          ;MAIN==>INT
 5993                            2549     
 5994                            2550     
 5995                            2551             SUB_END
 5996                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5997 000010D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5998                            2552             M_RTS
 5999 000010D6 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    72
PROGRAM NAME =

 6000 000010D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 6001                            2553     
 6002                            2554     
 6003                            2555     ;       *******************************************
 6004                            2556     ;       ***                                     ***
 6005                            2557     ;       ***             消耗転送処理            ***
 6006                            2558     ;       ***             (write)                 ***
 6007                            2559     ;       *******************************************
 6008                                     ***** BEGIN-POOL *****
 6009 000010DA 0000                       ALIGNMENT CODE
 6010 000010DC 00000000                   DATA FOR SOURCE-LINE 2547
 6011                                     ***** END-POOL *****
 6012 000010E0                   2560             .ALIGN  4                                       ;
 6013                            2561     
 6014 000010E0                   2562     _KMT_SYOUMO_STEP
 6015                            2563             SUB_START
 6016 000010E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6017                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6018                            2564     
 6019                            2565     ;       ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 6020                            2566     ;;      MOV.L   #_KMT_SYOUMO_SIGTIM,R1                  ;
 6021                            2567     ;;      MOV.W   @R1,R0                                  ;
 6022                            2568     ;;      TST     R0,R0                                   ;
 6023                            2569     ;;      TST_BIT_OF KMT_SYOUMO_STP050                    ;
 6024                            2570     ;;      ADD     #-1,R0                                  ;
 6025                            2571     ;;      MOV.W   R0,@R1                                  ;
 6026                            2572     ;;KMT_SYOUMO_STP050:
 6027                            2573     ;       ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 6028                            2574     
 6029 000010E2 D110              2575             MOV.L   #_KMT_SYOUMO_FLG,R1                     ;
 6030 000010E4 6011              2576             MOV.W   @R1,R0                                  ;BIT1=1 EVENT終了待ち
 6031 000010E6 C80E              2577             TST     #(BIT3+BIT2+BIT1),R0                    ;BIT2=1 ｼｰｹﾝｽへ出力
 6032                            2578             TST_BIT_ON KMT_SYOUMO_STP300                    ;
 6033 000010E8 8B38                   M           BF      KMT_SYOUMO_STP300
 6034                            2579     
 6035 000010EA D50F              2580             MOV.L   #_KMT_SYOUMO_CHGF,R5                    ;
 6036 000010EC 6051              2581             MOV.W   @R5,R0                                  ;MAIN==>INT
 6037 000010EE 2008              2582             TST     R0,R0                                   ;
 6038                            2583             TST_BIT_OF KMT_SYOUMO_STPEXT                    ;
 6039 000010F0 8977                   M           BT      KMT_SYOUMO_STPEXT
 6040                            2584     
 6041 000010F2 200A              2585             XOR     R0,R0                                   ;
 6042 000010F4 2501              2586             MOV.W   R0,@R5                                  ;MAIN ｺﾏﾝﾄﾞｸﾘｱ
 6043                            2587     
 6044 000010F6 200A              2588             XOR     R0,R0
 6045 000010F8 D10C              2589             MOV.L   #(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R1
                                          ;0:固定 (SIT_MEMを対象)
 6046 000010FA 2101              2590             MOV.W   R0,@R1                                  ;
 6047                            2591     
 6048 000010FC 900F              2592             MOV.W   #__SITM_SYOUMO_TOP/2,R0                                         ;ADR+132*2
                                          byte adr/2=132
 6049 000010FE D10C              2593             MOV.L   #(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R1       ;
 6050 00001100 2101              2594             MOV.W   R0,@R1                                  ;
 6051                            2595     
 6052 00001102 900D              2596             MOV.W   #__SITM_SYOUMO_CNT/2,R0                 ;160byte/2=80word
 6053 00001104 D10B              2597             MOV.L   #(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R1                  ;M
                                          AX 1~256 word
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    73
PROGRAM NAME =

 6054 00001106 2101              2598             MOV.W   R0,@R1
 6055                            2599     
 6056 00001108 D50B              2600             MOV.L   #_KMT_HMI_SYOUMO_DAT,R5                                                 ;8
                                          0word
 6057 0000110A D60C              2601             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R6                  ;
 6058 0000110C 9308              2602             MOV.W   #__SITM_SYOUMO_CNT/2,R3                                                 ;
 6059                            2603             BLOCK_MOV1 LG=W,AD_DT=2,SRC_REG=R5,DST_REG=R6,DATA_REG=R0,CNT_REG=R3            ;
 6060 0000110E                        M   JMP000007:                                      ;
 6061 0000110E 2338                   M           TST     R3,R3   ;
 6062                                 M           TST_BIT_OF JMP100007            ;
 6063 00001110 8916                   M           BT      JMP100007
 6064 00001112 6055                   M           MOV.W   @R5+,R0 ;
 6065 00001114 2601                   M           MOV.W   R0,@R6  ;
 6066 00001116 7602                   M           ADD     #2,R6   ;
 6067 00001118 73FF                   M           ADD     #H'FF,R3                ;
 6068                                 M           M_BRA   JMP000007                       ;
 6069 0000111A AFF8                   M           BRA     JMP000007
 6070 0000111C 0009                   M           NOP
 6071                                 M   ***** BEGIN-POOL *****
 6072 0000111E 0064                   M   DATA FOR SOURCE-LINE 2592
 6073 00001120 0020                   M   DATA FOR SOURCE-LINE 2596,2602
 6074 00001122 0000                   M   ALIGNMENT CODE
 6075 00001124 00000000               M   DATA FOR SOURCE-LINE 2575
 6076 00001128 00000000               M   DATA FOR SOURCE-LINE 2580
 6077 0000112C 00000000               M   DATA FOR SOURCE-LINE 2589
 6078 00001130 00000000               M   DATA FOR SOURCE-LINE 2593
 6079 00001134 00000000               M   DATA FOR SOURCE-LINE 2597
 6080 00001138 00000000               M   DATA FOR SOURCE-LINE 2600
 6081 0000113C 00000000               M   DATA FOR SOURCE-LINE 2601
 6082                                 M   ***** END-POOL *****
 6083 00001140                        M   JMP100007:                                      ;
 6084                            2604     
 6085                            2605     
 6086 00001140 9007              2606             MOV.W   #__KMTCMD_WR,R0
 6087 00001142 D104              2607             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R1                  ;
 6088 00001144 2101              2608             MOV.W   R0,@R1                                                                  ;W
                                          RITE
 6089                            2609     
 6090                            2610             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_SYOUMO_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
 6091 00001146 D104                   M           MOV.L   #_KMT_SYOUMO_FLG,R1             ;
 6092 00001148 6011                   M           MOV.W   @R1,R0          ;
 6093 0000114A CB02                   M           OR      #BIT1,R0                ;
 6094 0000114C 2101                   M           MOV.W   R0,@R1          ;
 6095                            2611             M_BRA   KMT_SYOUMO_STPEXT
 6096 0000114E A048                   M           BRA     KMT_SYOUMO_STPEXT
 6097 00001150 0009                   M           NOP
 6098                            2612     
 6099                                     ***** BEGIN-POOL *****
 6100 00001152 0001                       DATA FOR SOURCE-LINE 2606
 6101 00001154 00000000                   DATA FOR SOURCE-LINE 2607
 6102 00001158 00000000                   DATA FOR SOURCE-LINE 2610
 6103                                     ***** END-POOL *****
 6104 0000115C                   2613     KMT_SYOUMO_STP300
 6105 0000115C D10C              2614             MOV.L   #_KMT_SYOUMO_FLG,R1                                             ;
 6106 0000115E 6011              2615             MOV.W   @R1,R0                                                          ;BIT1=1 EV
                                          ENT終了待ち
 6107 00001160 C808              2616             TST     #BIT3,R0                                                        ;OFF保証
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    74
PROGRAM NAME =

 6108                            2617             TST_BIT_ON KMT_SYOUMO_STP500                                            ;
 6109 00001162 8B37                   M           BF      KMT_SYOUMO_STP500
 6110                            2618     
 6111 00001164 C804              2619             TST     #BIT2,R0
 6112                            2620             TST_BIT_ON KMT_SYOUMO_STP400                                            ;ON保証
 6113 00001166 8B1B                   M           BF      KMT_SYOUMO_STP400
 6114                            2621     
 6115 00001168 D10A              2622             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R1          ;
 6116 0000116A 6011              2623             MOV.W   @R1,R0                                                          ;
 6117 0000116C 2008              2624             TST     R0,R0                                                           ;
 6118                            2625             TST_BIT_ON KMT_SYOUMO_STPEXT                                            ;ｺﾏﾝﾄﾞ処理
                                          中
 6119 0000116E 8B38                   M           BF      KMT_SYOUMO_STPEXT
 6120                            2626     
 6121                            2627             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_SYOUMO_FLG,LG=W,BIT=BIT2,WKREG=R1      ;bit-set
 6122 00001170 D107                   M           MOV.L   #_KMT_SYOUMO_FLG,R1             ;
 6123 00001172 6011                   M           MOV.W   @R1,R0          ;
 6124 00001174 CB04                   M           OR      #BIT2,R0                ;
 6125 00001176 2101                   M           MOV.W   R0,@R1          ;
 6126                            2628     
 6127                            2629             MEM1_BIT0_F_ORSET MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(BIT6),WKRG1=R1,WKRG2=R2        ;
 6128 00001178 D107                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 6129 0000117A 6011                   M           MOV.W   @R1,R0          ;
 6130 0000117C 9206                   M           MOV.W   #(BIT6),R2              ;
 6131 0000117E 202B                   M           OR      R2,R0           ;
 6132 00001180 2101                   M           MOV.W   R0,@R1          ;
 6133                            2630     
 6134 00001182 9004              2631             MOV.W   #__SYOUMO_SIG_ONTIMSV,R0                        ;
 6135 00001184 D105              2632             MOV.L   #_KMT_SYOUMO_SIGTIM,R1                          ;
 6136 00001186 2101              2633             MOV.W   R0,@R1                                          ;
 6137                            2634             M_BRA   KMT_SYOUMO_STPEXT                               ;ON保証ﾀｲﾏ
 6138 00001188 A02B                   M           BRA     KMT_SYOUMO_STPEXT
 6139 0000118A 0009                   M           NOP
 6140                            2635     
 6141                                     ***** BEGIN-POOL *****
 6142 0000118C 0040                       DATA FOR SOURCE-LINE 2629
 6143 0000118E 0014                       DATA FOR SOURCE-LINE 2631
 6144 00001190 00000000                   DATA FOR SOURCE-LINE 2614,2627
 6145 00001194 00000000                   DATA FOR SOURCE-LINE 2622
 6146 00001198 00000000                   DATA FOR SOURCE-LINE 2629
 6147 0000119C 00000000                   DATA FOR SOURCE-LINE 2632
 6148                                     ***** END-POOL *****
 6149 000011A0                   2636     KMT_SYOUMO_STP400
 6150                            2637     
 6151 000011A0 D109              2638             MOV.L   #_KMT_SYOUMO_SIGTIM,R1                          ;
 6152 000011A2 6011              2639             MOV.W   @R1,R0                                          ;
 6153 000011A4 2008              2640             TST     R0,R0                                                   ;
 6154                            2641             TST_BIT_ON KMT_SYOUMO_STPEXT                                    ;
 6155 000011A6 8B1C                   M           BF      KMT_SYOUMO_STPEXT
 6156                            2642     
 6157                            2643             MEM1_BIT0_F_ADCLR MEM=_KMT_STS1MN_SQ87,LG=W,BIT=~(BIT6),WKRG1=R1,WKRG2=R4       ;
 6158 000011A8 D108                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 6159 000011AA 6011                   M           MOV.W   @R1,R0          ;
 6160 000011AC 940A                   M           MOV.W   #LWORD ~(BIT6),R4       ;
 6161 000011AE 2049                   M           AND     R4,R0           ;
 6162 000011B0 2101                   M           MOV.W   R0,@R1          ;
 6163                            2644             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_SYOUMO_FLG,LG=W,BIT=BIT3,WKREG=R1      ;bit-set
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    75
PROGRAM NAME =

 6164 000011B2 D107                   M           MOV.L   #_KMT_SYOUMO_FLG,R1             ;
 6165 000011B4 6011                   M           MOV.W   @R1,R0          ;
 6166 000011B6 CB08                   M           OR      #BIT3,R0                ;
 6167 000011B8 2101                   M           MOV.W   R0,@R1          ;
 6168                            2645     
 6169                            2646     
 6170 000011BA 9004              2647             MOV.W   #__SYOUMO_SIG_OFTIMSV,R0                        ;
 6171 000011BC D102              2648             MOV.L   #_KMT_SYOUMO_SIGTIM,R1                          ;
 6172 000011BE 2101              2649             MOV.W   R0,@R1
 6173                            2650             M_BRA   KMT_SYOUMO_STPEXT                               ;OFF保証ﾀｲﾏ
 6174 000011C0 A00F                   M           BRA     KMT_SYOUMO_STPEXT
 6175 000011C2 0009                   M           NOP
 6176                            2651     
 6177                                     ***** BEGIN-POOL *****
 6178 000011C4 FFBF                       DATA FOR SOURCE-LINE 2643
 6179 000011C6 0014                       DATA FOR SOURCE-LINE 2647
 6180 000011C8 00000000                   DATA FOR SOURCE-LINE 2638,2648
 6181 000011CC 00000000                   DATA FOR SOURCE-LINE 2643
 6182 000011D0 00000000                   DATA FOR SOURCE-LINE 2644
 6183                                     ***** END-POOL *****
 6184 000011D4                   2652     KMT_SYOUMO_STP500:
 6185                            2653     
 6186 000011D4 D104              2654             MOV.L   #_KMT_SYOUMO_SIGTIM,R1                          ;
 6187 000011D6 6011              2655             MOV.W   @R1,R0                                          ;
 6188 000011D8 2008              2656             TST     R0,R0                                           ;
 6189                            2657             TST_BIT_ON KMT_SYOUMO_STPEXT                            ;
 6190 000011DA 8B02                   M           BF      KMT_SYOUMO_STPEXT
 6191                            2658     
 6192 000011DC 200A              2659             XOR     R0,R0
 6193 000011DE D103              2660             MOV.L   #_KMT_SYOUMO_FLG,R1                             ;
 6194 000011E0 2101              2661             MOV.W   R0,@R1                                          ;
 6195                            2662     
 6196                            2663     
 6197 000011E2                   2664     KMT_SYOUMO_STPEXT
 6198                            2665             SUB_END
 6199                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 6200 000011E2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 6201                            2666             M_RTS
 6202 000011E4 000B                   M           RTS                             ;RTSの後ろの
 6203 000011E6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 6204                            2667     
 6205                            2668     
 6206                            2669     ;       *******************************************
 6207                            2670     ;       ***                                     ***
 6208                            2671     ;       ***             BIN->BCD                ***
 6209                            2672     ;       ***                                     ***
 6210                            2673     ;       *******************************************
 6211                                     ***** BEGIN-POOL *****
 6212 000011E8 00000000                   DATA FOR SOURCE-LINE 2654
 6213 000011EC 00000000                   DATA FOR SOURCE-LINE 2660
 6214                                     ***** END-POOL *****
 6215 000011F0                   2674             .ALIGN  4                                       ;
 6216                            2675     
 6217                            2676     
 6218                            2677     
 6219                            2678     
 6220                            2679     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    76
PROGRAM NAME =

 6221 000011F0                   2680             .ALIGN  4                                       ;
 6222 000011F0                   2681     _HEX4B_BCD8B:
 6223                            2682             SUB_START
 6224 000011F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6225                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6226                            2683             SUB_END
 6227                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 6228 000011F2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 6229                            2684             M_RTS
 6230 000011F4 000B                   M           RTS                             ;RTSの後ろの
 6231 000011F6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 6232                            2685     
 6233                            2686     
 6234                            2687     ;       ***************************************************
 6235                            2688     ;       ***                                             ***
 6236                            2689     ;       ***                                             ***
 6237                            2690     ;       ***             wkram定義                       ***
 6238                            2691     ;       ***                                             ***
 6239                            2692     ;       ***                                             ***
 6240                            2693     ;       ***************************************************
 6241 00000000                   2694             .SECTION        Bwkram1,DATA                    ;
 6242                            2695     
 6243                            2696             .EXPORT         _ET1_INITAL_FLG                 ; SHIMA
 6244                            2697     
 6245 00000000                   2698             .ALIGN  4                                       ;
 6246 00000000 00000004          2699     _CPU_REQ_DAT_CNT        .SRES   4                       ;
 6247 00000004 00000002          2700     _ET1_INITAL_FLG         .SRES   2                       ;
 6248 00000006 00000002          2701     _ET1_BANK_SEL           .SRES   2                       ;現在選択バック
 6249 00000008 00000002          2702     _ET1_BANK_ACS           .SRES   2                       ;ﾊﾞﾝｸｱｸｾｽ中
 6250 0000000A 00000002          2703     _CPU_REQ_DAT_FLG        .SRES   2                       ;
 6251                            2704     
 6252 0000000C                   2705             .ALIGN  4                                       ;
 6253 0000000C 00000004          2706     _CPUA_REQ_OLD           .SRES   4                       ;
 6254                            2707     
 6255                            2708     ;       -------------------------------------------
 6256                            2709     ;       ---                                     ---
 6257                            2710     ;       ---     2009-07-27 KOMTRAX              ---
 6258                            2711     ;       ---                                     ---
 6259                            2712     ;       ---                                     ---
 6260                            2713     ;       -------------------------------------------
 6261                            2714     ;       -------- 2009-07-27(PROCESS)---------------
 6262 00000010                   2715             .ALIGN  4                                       ;
 6263 00000010 00000002          2716     _KMT_TRS_CMD            .SRES   2                       ;=ADR(_KMT_TRSSV1_CMD)
 6264 00000012 00000002          2717     _KMT_TRSPV_CNT          .SRES   2                       ;書込/読出ﾃﾞｰﾀ数
 6265 00000014 00000002          2718     _KMT_TRS_SCAN           .SRES   2                       ;16ﾌﾟﾛｾｽまで起動可能なように監視
 6266 00000016 00000002          2719     _KMT_REQ_SIG            .SRES   2                       ;
 6267                            2720     
 6268                            2721     ;       -------- ﾌﾟﾛｾｽのﾗｯﾁﾃﾞｰﾀ -------
 6269 00000018                   2722             .ALIGN  4                                       ;
 6270 00000018 00000004          2723     _KMT_TRSLT_TOPADR       .SRES   4                       ;ｽﾄﾗｸﾁｬ
 6271 0000001C 00000002          2724     _KMT_TRSLT_MEMKND       .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6272 0000001E 00000002          2725     _KMT_TRSLT_OBJADR       .SRES   2                       ;TOP_ADR
 6273 00000020 00000002          2726     _KMT_TRSLT_CNT          .SRES   2                       ;MAX 1~256 word
 6274 00000022 00000200          2727     _KMT_TRSLT_DAT          .SRES   2*256                   ;MAX 256word
 6275                            2728     
 6276                            2729     ;       --------------------------------
 6277                            2730     ;       ----    EVENT SOFT->TRANS SOFT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    77
PROGRAM NAME =

 6278                            2731     ;       -------- 2009-07-27(API1)-------
 6279 00000224                   2732             .ALIGN  4                                                       ;
 6280 00000224                   2733     _KMT_TRSSV1_FORM:                                       ;配列
 6281 00000224                   2734     _KMT_TRSSV1_TOP:                                        ;配列
 6282 00000224 00000002          2735     _KMT_TRSSV1_CMD         .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6283 00000226 00000002          2736     _KMT_TRSSV1_MEMKND      .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6284 00000228 00000002          2737     _KMT_TRSSV1_OBJADR      .SRES   2                       ;TOP_ADR()
 6285 0000022A 00000002          2738     _KMT_TRSSV1_CNT         .SRES   2                       ;MAX 1~256 word
 6286 0000022C 00000010          2739     _KMT_TRSSV1_DAT         .SRES   2*8                     ;MAX 256word "8CHAR MAX16CHAR"
 6287                            2740     
 6288                            2741     
 6289                            2742     ;       ============= HAND WRITE ==========
 6290 0000023C 0000000C          2743     _KMT_TRSSV2_TOP:        .SRES   2*4+2*2                 ;配列(1word MAX 2word)
 6291                            2744     ;_KMT_TRSSV2_CMD        .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6292                            2745     ;_KMT_TRSSV2_MEMKND     .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6293                            2746     ;_KMT_TRSSV2_OBJADR     .SRES   2                       ;TOP_ADR()
 6294                            2747     ;_KMT_TRSSV2_CNT        .SRES   2                       ;MAX 1~256 word
 6295                            2748     ;_KMT_TRSSV2_DAT        .SRES   2                       ;MAX 256word
 6296                            2749     
 6297                            2750     ;       ============== STATUS READ
 6298 00000248 0000006C          2751     _KMT_TRSSV3_TOP:        .SRES   2*4+2*50                ;配列32word(MAX64word)
 6299                            2752     ;;_KMT_TRSSV3_CMD       .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6300                            2753     ;;_KMT_TRSSV3_MEMKND    .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6301                            2754     ;;_KMT_TRSSV3_OBJADR    .SRES   2                       ;TOP_ADR()
 6302                            2755     ;;_KMT_TRSSV3_CNT       .SRES   2                       ;MAX 1~256 word
 6303                            2756     ;;_KMT_TRSSV3_DAT       .SRES   2*256           ;MAX 256word
 6304                            2757     
 6305                            2758     ;       ============== 実測WR======
 6306 000002B4 00000088          2759     _KMT_TRSSV4_TOP:        .SRES   2*4+2*64                ;配列32word(MAX50word)
 6307                            2760     ;;_KMT_TRSSV3_CMD       .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6308                            2761     ;;_KMT_TRSSV3_MEMKND    .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6309                            2762     ;;_KMT_TRSSV3_OBJADR    .SRES   2                       ;TOP_ADR()
 6310                            2763     ;;_KMT_TRSSV3_CNT       .SRES   2                       ;MAX 1~256 word
 6311                            2764     ;;_KMT_TRSSV3_DAT       .SRES   2*256           ;MAX 256word
 6312                            2765     
 6313                            2766     
 6314                            2767     ;       ============== K011品番======
 6315 0000033C 000000A8          2768     _KMT_TRSSV5_TOP:        .SRES   2*4+2*80                ;80WORD
 6316                            2769     ;;_KMT_TRSSV5_CMD       .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6317                            2770     ;;_KMT_TRSSV5_MEMKND    .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6318                            2771     ;;_KMT_TRSSV5_OBJADR    .SRES   2                       ;TOP_ADR()
 6319                            2772     ;;_KMT_TRSSV5_CNT       .SRES   2                       ;MAX 1~256 word
 6320                            2773     ;;_KMT_TRSSV5_DAT       .SRES   2*256                   ;MAX 256word
 6321                            2774     
 6322                            2775     ;       ============== K011消耗品======
 6323 000003E4 00000088          2776     _KMT_TRSSV6_TOP:        .SRES   2*4+2*64                ;32WORD
 6324                            2777     ;;_KMT_TRSSV6_CMD       .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6325                            2778     ;;_KMT_TRSSV6_MEMKND    .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6326                            2779     ;;_KMT_TRSSV6_OBJADR    .SRES   2                       ;TOP_ADR()
 6327                            2780     ;;_KMT_TRSSV6_CNT       .SRES   2                       ;MAX 1~256 word
 6328                            2781     ;;_KMT_TRSSV6_DAT       .SRES   2*256                   ;MAX 256word
 6329                            2782     
 6330                            2783     
 6331                            2784     ;       -------- 異常ｲﾍﾞﾝﾄ側ｿﾌﾄ[1msec]-------
 6332 0000046C 00000002          2785     _KMT_EVENT_FLG          .SRES   2                       ;ｲﾍﾞﾝﾄのｽﾃｯﾌﾟ管理BIT1,2,3 ??なぜBI
                                          T0使わなかった?
 6333 0000046E 00000008          2786     _KMT_EVENT_CHAR         .SRES   8                       ;8文字*8:64文字
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    78
PROGRAM NAME =

 6334 00000476 00000002          2787     _KMT_EVENT_SIGTIM       .SRES   2                       ;
 6335                            2788     
 6336                            2789     ;       -------- 異常ｲﾍﾞﾝﾄ側ｿﾌﾄ[MAINsec]-------
 6337 00000478 00000002          2790     _KMT_EVENT_CHGF         .SRES   2                       ;ｷｬﾗｸﾀﾃﾞｰﾀ
 6338 0000047A 00000002          2791     _KMT_DLYSCAN_TIM        .SRES   2                       ;
 6339 0000047C 00000010          2792     _KMT_OLD_CHRNO          .SRES   2*8                     ;FFFF->dataの時のみ
 6340 0000048C 00000010          2793     _KMT_USE_CHRNO          .SRES   2*8                     ;
 6341 0000049C 00000010          2794     _KMT_CHK_CHRNO          .SRES   2*8                     ;
 6342                            2795     
 6343                            2796     ;       -------- [1msec]-------
 6344 000004AC 00000002          2797     _KMT_STS_SQ087          .SRES   2                       ;
 6345 000004AE 00000002          2798     _KMT_1CYCL_SIGTIM       .SRES   2                       ;
 6346                            2799     
 6347                            2800     
 6348                            2801     ;       -------- MAIN ﾊﾝﾄﾞｼｪｲｸ-------------
 6349 000004B0 00000002          2802     _KMT_HANDWR_FLG         .SRES   2                       ;HANDｼｪｲｸWR
 6350 000004B2 00000002          2803     _KMT_HANDWDT_CNT        .SRES   2                       ;
 6351 000004B4 00000002          2804     _KMT_HANDWDT_TIM        .SRES   2                       ;
 6352                            2805     
 6353                            2806     ;       -------- MAIN ｽﾃｰﾀｽ-------------
 6354 000004B6 00000002          2807     _KMT_STS1RD_FLG         .SRES   2                       ;ｽﾃｰﾀｽREAD　50WMAX
 6355                            2808     
 6356 000004B8 00000002          2809     _KMT_STS1_SET           .SRES   2                       ;BIT0~BIT7(確定ﾃﾞｰﾀあり)
 6357 000004BA 00000064          2810     _KMT_STS1_AREA          .SRES   2*50                    ;MAX50word(16WORD)
 6358 0000051E 00000002          2811     _KMT_STS1MN_SQ87        .SRES   2                       ;
 6359                            2812     
 6360 00000520 00000064          2813     _KMT_COM1_AREA          .SRES   2*50                    ;
 6361                            2814     
 6362                            2815     ;       --------------------------------------------
 6363                            2816     ;       -----------2011-01-14-----------------------
 6364                            2817     ;       --------------------------------------------
 6365 00000584 00000002          2818     _KMT_TYP_011            .SRES   2                       ;0:010型/:011型機能
 6366 00000586 00000002          2819     _KMT_PROC_10MS          .SRES   2                       ;10msecﾀｲﾏ作成
 6367                            2820     
 6368                            2821     ;       -------- 品番処理-------------
 6369 00000588 00000002          2822     _KMT_HINBAN_SIGTIM      .SRES   2       ;150msec信号作成用
 6370 0000058A 00000002          2823     _KMT_HINBAN_FLG         .SRES   2       ;150msec信号作成用
 6371 0000058C 00000002          2824     _KMT_HINBAN_SEL         .SRES   2       ;BIT0=1:開始(87.4)　BIT1=1:終了(87.4)
 6372                            2825     
 6373                            2826     ;       --
 6374 0000058E 00000002          2827     _KMT_HINBAN_CHGF        .SRES   2       ;BIT0=1開始ｲﾍﾞﾝﾄ BIT1:終了ｲﾍﾞﾝﾄ
 6375                            2828     
 6376                            2829     ;       ----ﾄﾘｶﾞの順番は開始→終了→開始・・・・または終了→開始→終了の順番にする
 6377                            2830     ;       異なる場合は最後のイベントが発生するようにデータを並び替える
 6378                            2831     ;       バッファ０のみ前回の状態を見ない
 6379                            2832     ;
 6380 00000590 00000002          2833     _KMT_HINBAN_TRG_NUM     .SRES   2                       ;0個[保留なし],1個,2個,3個,4個
 6381 00000592 0000000C          2834     _KMT_HINBAN_TRG_FLG     .SRES   2*_HINBAN_BUF_MAX               ;保留が発生した場合の処理
 6382                            2835                                                             ;0:ﾃﾞｰﾀ存在なし BIT0=1[開始],BIT1=
                                          1[終了]
 6383                            2836                                                             ;+0:現在
 6384                            2837                                                             ;+1:次回
 6385                            2838                                                             ;+2:次々回
 6386                            2839                                                             ;+3:次次々回
 6387                            2840                                                             ;+4:次次次々回
 6388                            2841                                                             ;
 6389                            2842     ;       -------- 4byteﾃﾞｰﾀでも2byteｱｸｾｽしかしない------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    79
PROGRAM NAME =

 6390                            2843     
 6391                            2844     
 6392                            2845     ;       -------- 消耗処理-------------
 6393 0000059E 00000002          2846     _KMT_SYOUMO_SIGTIM      .SRES   2       ;150msec信号作成用
 6394 000005A0 00000002          2847     _KMT_SYOUMO_FLG         .SRES   2       ;150msec信号作成用
 6395 000005A2 00000002          2848     _KMT_SYOUMO_CHGF        .SRES   2       ;BIT0=1開始ｲﾍﾞﾝﾄ BIT1:終了ｲﾍﾞﾝﾄ
 6396                            2849     
 6397                            2850     ;       -------------------------------------------
 6398                            2851     ;       ---     確定して送るだけの状態のデータ  ---
 6399                            2852     ;       ---     2011-01-14                      ---
 6400                            2853     ;       -------------------------------------------
 6401                            2854     ;       -------- 4byteﾃﾞｰﾀでも2byteｱｸｾｽしかしない------------
 6402 000005A4 00000040          2855     _KMT_HMI_SYOUMO_DAT     .SRES   __SITM_SYOUMO_CNT       ;64byte
 6403 000005E4 000003C0          2856     _KMT_HMI_HINBAN_BUF     .SRES   __SITM_HINBAN_CNT*_HINBAN_BUF_MAX       ;6BUFF
 6404                            2857     
 6405                            2858     ;
 6406                            2859     ;;;;    .SECTION        P,CODE                  ;
 6407                            2860     ;;;;    .ALIGN  4                                       ;
 6408                            2861     
 6409                            2862             .END
  *****TOTAL ERRORS       0
  *****TOTAL WARNINGS     0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    80

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BIT0                                      EQU  00000001     15* 2764  3024  3370  5205  5248  5776 
BIT1                                      EQU  00000002     16* 2765  3497  3544  3682  3721  3906  3930  4008  5178  5233  5658 
                                                          5731  6031  6093 
BIT10                                     EQU  00000400     25* 4067  4084 
BIT11                                     EQU  00000800     26*
BIT12                                     EQU  00001000     27*
BIT13                                     EQU  00002000     28* 4034  4084 
BIT14                                     EQU  00004000     29* 4026  4084 
BIT15                                     EQU  00008000     30* 4077  4084 
BIT16                                     EQU  00010000     31*
BIT17                                     EQU  00020000     32*
BIT18                                     EQU  00040000     33*
BIT19                                     EQU  00080000     34*
BIT2                                      EQU  00000004     17* 2999  3041  3066  3497  3570  3583  4031  4074  5658  5758  5771 
                                                          6031  6111  6124 
BIT20                                     EQU  00100000     35*
BIT21                                     EQU  00200000     36*
BIT22                                     EQU  00400000     37*
BIT23                                     EQU  00800000     38*
BIT24                                     EQU  01000000     39*
BIT25                                     EQU  02000000     40*
BIT26                                     EQU  04000000     41*
BIT27                                     EQU  08000000     42*
BIT28                                     EQU  10000000     43*
BIT29                                     EQU  20000000     44*
BIT3                                      EQU  00000008     18* 3497  3566  3589  3619  3625  4031  5658  5754  5835  6031  6107 
                                                          6166 
BIT30                                     EQU  40000000     45*
BIT31                                     EQU  80000000     46*
BIT4                                      EQU  00000010     19* 4023  5783  5829 
BIT5                                      EQU  00000020     20* 4044  4052  5800  5829 
BIT6                                      EQU  00000040     21* 2214  2226  2277  2300  2422  2458  4609  4617  6130  6160 
BIT7                                      EQU  00000080     22* 3846  3866  4617  4728  4735  4781  4847  4869  4910 
BIT8                                      EQU  00000100     23* 4056  4084 
BIT9                                      EQU  00000200     24* 4047  4084  5037 
Bfram                            Bfram    SCT  00000000   2205*
Bwkram1                          Bwkram1  SCT  00000000   6241*
CHAR_BUF8SER_200                 P             000004C4   3413  3417  3421  3425  3429  3433  3437  3441  3452*
CHAR_BUF8SER_END                 P             000004C6   3445  3454*
ET1_CPUA_DT_MV100                P             000001C8   2557  2621*
ET1_CPU_HIGHMV_END               P             00000024   2216  2228  2247*
ET1_CPU_MNMV_100                 P             0000005C   2279  2292*
ET1_CPU_MNMV_200                 P             0000008C   2308  2322*
ET1_CPU_MNMV_500                 P             000000E4   2358  2379*
ET1_CPU_MNMV_END                 P             000000F0   2286  2302  2312  2365  2393*
ET1_INIT_CHK_END                 P             00000126   2424  2442  2453  2461*
HINBAN_COM_DATMOV                P             00000E24   5409  5434  5446*
H_BYTE                                    EQU  00000000     82*
ICHAR_DATCHK_020                 P             00000390   3210  3219*
ICHAR_DATCHK_050                 P             000003C0   3241  3249*
ICHAR_DATCHK_070LOP              P             000003CA   3263* 3293 
ICHAR_DATCHK_100                 P             000003E6   3269  3272  3282  3286*
ICHAR_DATCHK_200                 P             000003F8   3299* 3306 
ICHAR_DATCHK_300                 P             00000404   3243  3310*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    81

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ICHAR_DATCHK_300LOP              P             00000408   3313* 3321 
ICHAR_DATCHK_400                 P             00000434   3317  3337*
ICHAR_DATCHK_500                 P             0000046C   3323  3351  3354  3373*
ICHAR_DATCHK_999                 P             0000046E   3212  3375*
JMP000000                        P             0000018C   2564* 2573 
JMP000005                        P             000007F8   4098* 4107 
JMP000006                        P             00000F54   5700* 5709 
JMP000007                        P             0000110E   6060* 6069 
JMP100000                        P             000001B0   2567  2583*
JMP100005                        P             0000083C   4101  4129*
JMP100006                        P             00000F80   5703  5721*
JMP100007                        P             00001140   6063  6083*
JMP_0100001                      P             0000025E   2937  2940*
JMP_0100002                      P             0000026A   2945  2948*
JMP_0100003                      P             00000276   2954  2957*
JMP_0100004                      P             00000282   2962  2965*
KMT_1CYCLSIGCHK_050              P             000002D0   3026  3035*
KMT_1CYCLSIGCHK_100              P             000002F8   3049  3062*
KMT_1CYCLSIGCHK_END              P             00000302   3043  3053  3070*
KMT_CMDINIT_100_LOP              P             00000A20   4581* 4590 
KMT_CMDINIT_200                  P             00000A40   4584  4599*
KMT_CMDINI_300                   P             00000A52   4611  4613*
KMT_CMDTRSCHK_EXT                P             000009F0   4512  4543*
KMT_CMDTRS_200                   P             000009A0   4275  4444*
KMT_CMDTRS_300                   P             000009B0   4278  4458*
KMT_CMDTRS_400                   P             000009B6   4450  4464*
KMT_CMDTRS_END                   P             000009B8   4317  4334  4350  4366  4383  4397  4406  4421  4430  4467*
KMT_CMD_EVET_000                 P             00000910   4289  4291  4326*
KMT_CMD_HAND_000                 P             00000924   4294  4342*
KMT_CMD_HINBAN_000               P             00000960   4315  4392*
KMT_CMD_PVWR_000                 P             0000094C   4298  4375*
KMT_CMD_STSR_000                 P             00000938   4301  4303  4358*
KMT_CMD_SYOUMO_000               P             00000980   4313  4416*
KMT_EVET_STP300                  P             0000054C   3499  3563*
KMT_EVET_STP400                  P             00000590   3572  3608*
KMT_EVET_STP500                  P             000005C4   3568  3643*
KMT_EVET_STPEXT                  P             000005D2   3505  3547  3578  3597  3614  3633  3649  3656*
KMT_HANDWDTCHK_030               P             00000680   3800  3809*
KMT_HANDWDTCHK_050               P             00000684   3813*
KMT_HANDWDTCHK_100               P             000006B4   3827  3842*
KMT_HANDWDTCHK_200               P             000006C8   3820  3857*
KMT_HANDWDTCHK_END               P             000006EE   3872  3885*
KMT_HANDWDTCHK_WAIT              P             000006EC   3802  3831  3850  3883*
KMT_HANDWR_STP300                P             00000644   3684  3739*
KMT_HANDWR_STPEXT                P             00000658   3693  3724  3751  3758*
KMT_HINBAN_BUFMK1_100            P             00000D9E   5361  5367*
KMT_HINBAN_DTMK_900              P             00000D7C   5286  5292  5332*
KMT_HINBAN_DTSFT_100_LOP         P             00001074   5904* 5924 
KMT_HINBAN_DTSFT_120_LOP         P             00001080   5914* 5921 
KMT_HINBAN_DTSFT_200             P             000010A8   5907  5935*
KMT_HINBAN_DTSFT_900             P             000010AA   5892  5937*
KMT_HINBAN_RQMK_050              P             00000CBC   5154  5169*
KMT_HINBAN_RQMK_100              P             00000CEC   5157  5199*
KMT_HINBAN_RQMK_200              P             00000D18   5172  5228*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    82

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

KMT_HINBAN_RQMK_900              P             00000D60   5160  5189  5216  5259  5271*
KMT_HINBAN_RQMK_999              P             00000D64   5273  5276*
KMT_HINBAN_STP020                P             00000F34   5666  5676*
KMT_HINBAN_STP300                P             00000FA8   5660  5751*
KMT_HINBAN_STP320                P             00000FEC   5778  5796*
KMT_HINBAN_STP340                P             00000FF6   5787  5803*
KMT_HINBAN_STP400                P             0000100C   5760  5818*
KMT_HINBAN_STP500                P             00001040   5756  5853*
KMT_HINBAN_STPEXT                P             0000104E   5668  5741  5766  5809  5824  5843  5859  5866*
KMT_PVDATWR100LOP                P             00000896   4213* 4220 
KMT_PVDTWR_EXT                   P             000008A8   4196  4228*
KMT_STATUS_RD300                 P             0000073C   3908  3946*
KMT_STATUS_RD400LOP              P             0000074A   3960* 3967 
KMT_STATUS_RDEXT                 P             00000762   3933  3952  3978*
KMT_STAUSMAKE_EXT                P             000007F2   4011  4091*
KMT_STAUSMAK_100                 P             000007A2   4025  4028*
KMT_STAUSMAK_120                 P             000007AC   4033  4036*
KMT_STAUSMAK_200                 P             000007BA   4046  4049*
KMT_STAUSMAK_220                 P             000007C6   4055  4058*
KMT_STAUSMAK_300                 P             000007D4   4066  4069*
KMT_STAUSMAK_400                 P             000007E2   4076  4079*
KMT_SYOUMO_STP300                P             0000115C   6033  6104*
KMT_SYOUMO_STP400                P             000011A0   6113  6149*
KMT_SYOUMO_STP500                P             000011D4   6109  6184*
KMT_SYOUMO_STPEXT                P             000011E2   6039  6096  6119  6138  6155  6174  6190  6197*
KMT_TRS_STPRD_100                P             00000BAC   4849  4889*
KMT_TRS_STPRD_200                P             00000BF0   4895  4928*
KMT_TRS_STPRD_250LOP             P             00000BFE   4940* 4949 
KMT_TRS_STPRD_300                P             00000C20   4943  4959*
KMT_TRS_STPRD_EXT                P             00000C26   4845  4876  4917  4968*
KMT_TRS_STPWR_100                P             00000AE8   4730  4751*
KMT_TRS_STPWR_200                P             00000B44   4757  4802*
KMT_TRS_STPWR_EXT                P             00000B4A   4726  4742  4789  4809*
KMT_TYPE011CHK_END               P             00000C68   5033  5040  5046*
KOMTRAX_TIMCT10_100              P             00000238   2889  2899*
KOMTRAX_TIMCT10_200              P             00000242   2893  2908*
L_BYTE                                    EQU  00000001     81*
NBIT0                                     EQU  000000FE     49*
NBIT1                                     EQU  000000FD     50*
NBIT10                                    EQU  0000FBFF     60*
NBIT11                                    EQU  0000F7FF     61*
NBIT12                                    EQU  0000EFFF     62*
NBIT13                                    EQU  0000DFFF     63*
NBIT14                                    EQU  0000BFFF     64*
NBIT15                                    EQU  00007FFF     65*
NBIT2                                     EQU  000000FB     51*
NBIT3                                     EQU  000000F7     52*
NBIT4                                     EQU  000000EF     53*
NBIT5                                     EQU  000000DF     54*
NBIT6                                     EQU  000000BF     55*
NBIT7                                     EQU  0000007F     56*
NBIT8                                     EQU  0000FEFF     58*
NBIT9                                     EQU  0000FDFF     59*
P                                P        SCT  00000000   2206*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    83

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

XBIT0                                     EQU  00000000     68*
XBIT1                                     EQU  00000001     69*
XBIT2                                     EQU  00000002     70*
XBIT3                                     EQU  00000003     71*
XBIT4                                     EQU  00000004     72*
XBIT5                                     EQU  00000005     73*
XBIT6                                     EQU  00000006     74*
XBIT7                                     EQU  00000007     75*
_BCD4B_ASCII                     P             00000EA8   5457  5552*
_CB_BAKUP_CMD1                            EQU  00005678    114*
_CB_BAKUP_CMD2                            EQU  00001234    115*
_CB_BAK_SUM_COD1                          EQU  5AA51234    112*
_CB_BAK_SUM_COD2                          EQU  A55A4321    113*
_CB_ERR_INFO_MEM                          EQU  00000080    138*
_CB_ERR_INFO_PSIZE                        EQU  00000008    139*
_CB_STS_BUF_1BLK                          EQU  00000040    117*  119 
_CB_STS_BUF_BLKMAX                        EQU  00000008    118*  119 
_CB_STS_BUF_MAX                           EQU  00000200    119*
_CB_TRD_BEFORE                            EQU  00000060    127*
_CB_TRD_BUF_DP_MAX                        EQU  00000080    131*
_CB_TRD_BUF_MAX                           EQU  00000800    128*
_CB_TRD_DP_1CNT                           EQU  00000008    130*
_CB_TRD_DP_CH                             EQU  00000004    123*
_CB_TRD_SMP_CNT                           EQU  00000080    126*
_CHAR_BUF8_SERCH                 P             00000484   3277  3400*
_CPUATOD_1CYCL_SIG                        IMPT 00000000   2981  3022 
_CPUA_RCV_ACK_ET1                         IMPT 00000000   2179  2627 
_CPUA_RCV_INI_ET1                         IMPT 00000000   2177  2500 
_CPUA_REQ_OLD                    Bwkram1       0000000C   2551  2612  6253*
_CPUA_SND_DAT                             IMPT 00000000   2182  2560 
_CPUA_SND_END                             IMPT 00000000   2183 
_CPUA_SND_INI_ET1                         IMPT 00000000   2176  2493 
_CPUA_SND_REQ_ADR                         IMPT 00000000   2180  2604 
_CPUA_SND_REQ_CNT                         IMPT 00000000   2181  2585 
_CPUA_SND_REQ_ET1                         IMPT 00000000   2178  2549 
_CPU_REQ_DAT_CNT                 Bwkram1       00000000   6246*
_CPU_REQ_DAT_FLG                 Bwkram1       0000000A   6250*
_DUMMY_SUM_CODE                           EQU  5AA53CC3    105*
_EQ_BAD_CNT                               EQU  0000003A   5134* 5479  5481 
_EQ_KATA_MEMO                             EQU  0000001C   5131* 5506  5508  5510  5512  5514  5516  5518  5521  5522  5523 
_EQ_KATA_NAME                             EQU  00000008   5130* 5485  5487  5489  5491  5493  5495  5497  5500  5501  5502 
_EQ_ORDER_COD                             EQU  00000000   5129* 5462  5464  5466  5468 
_EQ_PLAN_CNT                              EQU  00000032   5133* 5472  5474 
_EQ_WORKER_COD                            EQU  00000030   5132* 5452 
_ET1_BANK_ACS                    Bwkram1       00000008   6249*
_ET1_BANK_SEL                    Bwkram1       00000006   6248*
_ET1_CPUAB_BUF_MAX                        EQU  00000100   2030* 2562 
_ET1_CPUA_ADR_MAX                         EQU  00060000   2033*
_ET1_CPUA_DT_MOVE                P             00000174   2220  2544*
_ET1_CPUB_ADR_MAX                         EQU  00008000   2031*
_ET1_CPU_HIGH_MOV                P        EXPT 00000000   2187  2208*
_ET1_CPU_MAIN_MOV                P        EXPT 00000040   2186  2270*
_ET1_DATA_COD                             EQU  5A3CC3A5   2037*
_ET1_DEF_GAT0                             IMPT 00000000   2111 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    84

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ET1_DEF_GAT1                             IMPT 00000000   2112 
_ET1_DEF_GAT2                             IMPT 00000000   2113 
_ET1_DEF_GAT3                             IMPT 00000000   2114 
_ET1_INIEND_MOVE                 P             0000013C   2294  2480*
_ET1_INITAL_CHK                  P             00000100   2281  2416*
_ET1_INITAL_FLG                  Bwkram1  EXPT 00000004   2212  2275  2420  2456  6243  6247*
_ET1_INIT_ACK                             EQU  56789ABC   2036* 2440  2451 
_ET1_INIT_REQ                             EQU  12345678   2035* 2486 
_ET1_IPM_ADR0                             IMPT 00000000   2115 
_ET1_IPM_ADR1                             IMPT 00000000   2116 
_ET1_IPM_ADR2                             IMPT 00000000   2117 
_ET1_IPM_ADR3                             IMPT 00000000   2118 
_ET1_IPS_ADR0                             IMPT 00000000   2103 
_ET1_IPS_ADR1                             IMPT 00000000   2104 
_ET1_IPS_ADR2                             IMPT 00000000   2105 
_ET1_IPS_ADR3                             IMPT 00000000   2106 
_ET1_IPS_ENT                              IMPT 00000000   2102 
_ET1_RDWR2_BUFMAX                         EQU  00000020   2041*
_ET1_SUB_NET0                             IMPT 00000000   2107 
_ET1_SUB_NET1                             IMPT 00000000   2108 
_ET1_SUB_NET2                             IMPT 00000000   2109 
_ET1_SUB_NET3                             IMPT 00000000   2110 
_ET1_VER                                  IMPT 00000000   2099 
_ET1_WD_HAND_COD                          EQU  00001234   2042*
_ET2_SEQ_IDT01                            IMPT 00000000   2157  3101 
_ET2_SEQ_QDT01                            IMPT 00000000   2158  3106 
_ET2_SITM_ACK                             IMPT 00000000   2154 
_ET2_SITM_ADR                             IMPT 00000000   2152  4772  4902 
_ET2_SITM_RDDT                            IMPT 00000000   2156  4851 
_ET2_SITM_REQ                             IMPT 00000000   2153 
_ET2_SITM_WRDT                            IMPT 00000000   2155  4763 
_ET2_WORD_SITM_ACK                        IMPT 00000000   4637  4685 
_ET2_WORD_SITM_REQ                        IMPT 00000000   4636  4657 
_ET_CPUA_RCV_ACK_ET1                      IMPT 00000000   2084  2625 
_ET_CPUA_RCV_INI_ET1                      IMPT 00000000   2082  2444  2498 
_ET_CPUA_RD_ACK                           IMPT 00000000   2125 
_ET_CPUA_RD_ADR                           IMPT 00000000   2127 
_ET_CPUA_RD_BUF                           IMPT 00000000   2128 
_ET_CPUA_RD_CNT                           IMPT 00000000   2126 
_ET_CPUA_RD_REQ                           IMPT 00000000   2124 
_ET_CPUA_SND_DAT                          IMPT 00000000   2088  2561 
_ET_CPUA_SND_END                          IMPT 00000000   2089 
_ET_CPUA_SND_INI_ET1                      IMPT 00000000   2081  2495 
_ET_CPUA_SND_REQ_ADR                      IMPT 00000000   2086  2606 
_ET_CPUA_SND_REQ_CNT                      IMPT 00000000   2087  2587 
_ET_CPUA_SND_REQ_ET1                      IMPT 00000000   2083  2614 
_ET_CPUA_WR2_ACK                          IMPT 00000000   2136 
_ET_CPUA_WR2_ADR                          IMPT 00000000   2133 
_ET_CPUA_WR2_BUF                          IMPT 00000000   2134 
_ET_CPUA_WR2_CNT                          IMPT 00000000   2137 
_ET_CPUA_WR2_REQ                          IMPT 00000000   2135 
_ET_CPUB_RCV_INI_ET1                      IMPT 00000000   2068  2438 
_ET_CPUB_SND_INI_ET1                      IMPT 00000000   2067  2488 
_ET_LDCMND_AREA                           IMPT 00000000   2096 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    85

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ET_LDCMND_REQ                            IMPT 00000000   2097 
_ET_LDCMND_RES                            IMPT 00000000   2098 
_FRAM_CB_ICHAR                            IMPT 00000000   2741  4095 
_HEX4B_BCD8B                     P             000011F0   6222*
_HINBAN_BUF_MAX                           EQU  00000006   2822* 5360  6381  6403 
_HINBAN_DATA_SFT                 P             0000105C   5737  5884*
_HINBAN_START_DATA_MOV           P             00000DC4   5208  5251  5397*
_HINBAN_STOP_DATA_MOV            P             00000DF4   5181  5236  5422*
_ICHAR_DATA_CHK                  P             0000037C   3161  3201*
_IROCK_CHAR                               IMPT 00000000   2739  3341 
_IROCK_OUT_NO                             IMPT 00000000   2738  3257 
_KMT_10MSEC_TIM                  P             00000250   2904  2928*
_KMT_1CYCLE_SET                  P             00000298   2989* 3031 
_KMT_1CYCLE_SIGCHK               P             000002BC   2838  3016*
_KMT_1CYCL_SIGTIM                Bwkram1       000004AE   2994  3045  6345*
_KMT_ACKSIG_IN                   P             00000AA0   4676* 4720  4839 
_KMT_CHK_CHRNO                   Bwkram1       0000049C   3222  3259  3312  6341*
_KMT_CMDTRS_CHK                  P             000009C4   4330  4346  4362  4379  4402  4426  4505*
_KMT_CMD_INIT                    P             00000A10   4537  4565*
_KMT_CMD_TRS                     P             000008CC   2855  4267*
_KMT_COM1_AREA                   Bwkram1       00000520   4153  4159  4161  4211  6360*
_KMT_DLYSCAN_TIM                 Bwkram1       0000047A   2304  6338*
_KMT_EVENT_CHAR                  Bwkram1       0000046E   3346  3522  6333*
_KMT_EVENT_CHGF                  Bwkram1       00000478   3206  3368  3501  6337*
_KMT_EVENT_FLG                   Bwkram1       0000046C   3495  3542  3564  3581  3623  3652  6332*
_KMT_EVENT_INT_STEP              P             000004D0   3168  3478*
_KMT_EVENT_SIGTIM                Bwkram1       00000476   2959  3594  3610  3630  3645  6334*
_KMT_HANDWDT_CNT                 Bwkram1       000004B2   3822  3860  6350*
_KMT_HANDWDT_TIM                 Bwkram1       000004B4   2951  3796  6351*
_KMT_HANDWR_FLG                  Bwkram1       000004B0   3680  3719  3754  6349*
_KMT_HAND_WDTCHK                 P             0000066C   3688  3743  3782*
_KMT_HINBAN_BUF_MAK1             P             00000D90   5175  5202  5230  5245  5353*
_KMT_HINBAN_CHGF                 Bwkram1       0000058E   5282  5328  5662  6374*
_KMT_HINBAN_FLG                  Bwkram1       0000058A   5656  5729  5752  5769  5833  5862  6370*
_KMT_HINBAN_MAKE                 P             00000C9C   5077  5138*
_KMT_HINBAN_SEL                  Bwkram1       0000058C   5678  5774  6371*
_KMT_HINBAN_SIGTIM               Bwkram1       00000588   2934  5806  5820  5840  5855  6369*
_KMT_HINBAN_STEP                 P             00000F14   5082  5641*
_KMT_HINBAN_TRG_FLG              Bwkram1       00000592   5326  5375  5901  5902  6381*
_KMT_HINBAN_TRG_NUM              Bwkram1       00000590   5184  5211  5239  5254  5288  5358  5888  6380*
_KMT_HMI_HINBAN_BUF              Bwkram1       000005E4   5372  5696  5898  5899  6403*
_KMT_HMI_SYOUMO_DAT              Bwkram1       000005A4   6056  6402*
_KMT_OLD_CHRNO                   Bwkram1       0000047C   3258  3297  6339*
_KMT_PROC_10MS                   Bwkram1       00000586   2885  6366*
_KMT_REQSIG_OUT                  P             00000A84   4624  4648* 4738  4784  4872  4913 
_KMT_REQ_SIG                     Bwkram1       00000016   4620  4654  4723  4733  4779  4842  4867  4908  6266*
_KMT_SEQ_REF1                    P             00000310   2844  3091*
_KMT_STS1MN_SQ87                 Bwkram1       0000051E   3112  3587  3617  3844  3864  4082  5781  5798  5827  6128  6158  6358*
_KMT_STS1RD_FLG                  Bwkram1       000004B6   3904  3928  3970  6354*
_KMT_STS1_AREA                   Bwkram1       000004BA   3815  3958  4019  4040  4061  4071  4094  5024  6357*
_KMT_STS1_SET                    Bwkram1       000004B8   3973  4006  6356*
_KMT_STS_SQ087                   Bwkram1       000004AC   2997  3039  3064  3114  6344*
_KMT_SYOUMO_CHGF                 Bwkram1       000005A2   5991  6035  6395*
_KMT_SYOUMO_FLG                  Bwkram1       000005A0   6029  6091  6105  6122  6164  6193  6394*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    86

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_KMT_SYOUMO_MAKE                 P             000010CC   5959  5985*
_KMT_SYOUMO_SIGTIM               Bwkram1       0000059E   2942  6135  6151  6171  6186  6393*
_KMT_SYOUMO_STEP                 P             000010E0   5964  6014*
_KMT_TRSCMD_ENDCLR               P             00000C30   4804  4963  4985*
_KMT_TRSLT_CNT                   Bwkram1       00000020   4532  4572  4754  4892  4937  6273*
_KMT_TRSLT_DAT                   Bwkram1       00000022   4579  4760  4857  4930  6274*
_KMT_TRSLT_MEMKND                Bwkram1       0000001C   4523  4615  6271*
_KMT_TRSLT_OBJADR                Bwkram1       0000001E   4527  4769  4899  6272*
_KMT_TRSLT_TOPADR                Bwkram1       00000018   4519  4575  4932  4993  6270*
_KMT_TRSPV_CNT                   Bwkram1       00000012   4603  4752  4767  4854  4861  4890  4897  6264*
_KMT_TRSSV1_CMD                  Bwkram1       00000224   3538  3574  3715  3747  3924  3948  4192  4224  4509  4995  5725  5762 
                                                          6087  6115  6282*
_KMT_TRSSV1_CNT                  Bwkram1       0000022A   3519  3705  3919  4207  4530  5693  6053  6285*
_KMT_TRSSV1_DAT                  Bwkram1       0000022C   3523  3708  3711  3817  3957  4212  4577  4934  5697  6057  6286*
_KMT_TRSSV1_FORM                 Bwkram1       00000224   3511  3515  3519  3523  3538  3574  3697  3701  3705  3708  3711  3715 
                                                          3747  3817  3911  3915  3919  3924  3948  3957  4192  4199  4203  4207 
                                                          4212  4224  4509  4522  4526  4530  4577  4934  4995  5685  5689  5693 
                                                          5697  5725  5762  6045  6049  6053  6057  6087  6115  6280*
_KMT_TRSSV1_MEMKND               Bwkram1       00000226   3511  3697  3911  4199  4522  5685  6045  6283*
_KMT_TRSSV1_OBJADR               Bwkram1       00000228   3515  3701  3915  4203  4526  5689  6049  6284*
_KMT_TRSSV1_TOP                  Bwkram1       00000224   3511  3515  3519  3523  3538  3574  4328  6281*
_KMT_TRSSV2_TOP                  Bwkram1       0000023C   3697  3701  3705  3708  3711  3715  3747  3817  4344  6290*
_KMT_TRSSV3_TOP                  Bwkram1       00000248   3911  3915  3919  3924  3948  3957  4360  6298*
_KMT_TRSSV4_TOP                  Bwkram1       000002B4   4192  4199  4203  4207  4212  4224  4377  6306*
_KMT_TRSSV5_TOP                  Bwkram1       0000033C   4400  5685  5689  5693  5697  5725  5762  6315*
_KMT_TRSSV6_TOP                  Bwkram1       000003E4   4424  6045  6049  6053  6057  6087  6115  6323*
_KMT_TRS_CMD                     Bwkram1       00000010   4272  4516  4606  4990  6263*
_KMT_TRS_SCAN                    Bwkram1       00000014   4282  6265*
_KMT_TRS_STP_RD                  P             00000B54   4460  4833*
_KMT_TRS_STP_WR                  P             00000AB4   4446  4714*
_KMT_TYPE_011_CHK                P             00000C4C   2361  5019*
_KMT_TYP_011                     Bwkram1       00000584   2355  4393  4417  5043  6365*
_KMT_USE_CHRNO                   Bwkram1       0000048C   3298  3409  6340*
_KOMTRAX_DATA_CTRL               P             000001F8   2237  2832*
_KOMTRAX_EVENT_MAIN              P             00000360   2324  3155*
_KOMTRAX_HAND_WRITE              P             000005E0   2329  3674*
_KOMTRAX_HINBAN_MAIN             P             00000C80   2383  5071*
_KOMTRAX_PVDAT_MAKE              P             00000842   2344  4146*
_KOMTRAX_PVDAT_WRITE             P             00000874   2349  4186*
_KOMTRAX_STATUS_READ             P             000006F4   2334  3899*
_KOMTRAX_STAUS_MAKE              P             00000780   2339  4001*
_KOMTRAX_SYOUMO_MAIN             P             000010B0   2388  5953*
_KOMTRAX_TIMCNT                  P             00000220   2243  2876*
_MEM_ARI                                  IMPT 00000000   2162 
_MEM_BNK_ADR1                             IMPT 00000000   2163 
_PVP_MENTE_CNT                            IMPT 00000000   4144  4156 
_PVP_POWER_MONI                           IMPT 00000000   4143  4151 
_SEQ_024_SV                               IMPT 00000000   2190  2224  2298 
_SEQ_DP_TOP                               IMPT 00000000   2191  3099  3108  3122  5035 
_SQ086                                    EQU  000000AC   2762* 3108 
_SQ087                                    EQU  000000AE   2763* 3122 
_SQ113                                    EQU  000000E2   2760* 5035 
_SQ149                                    EQU  0000012A   2761* 3099 
_START_ACK_COD                            EQU  00004321    213*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    87

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_START_REQ_COD                            EQU  00009876    212*
_SV0SP_BAD_CNT                            IMPT 00000000   5111  5430 
_SV0SP_KATA_MEMO                          IMPT 00000000   5114  5432 
_SV0SP_KATA_NAME                          IMPT 00000000   5113  5431 
_SV0SP_KATA_NO                            IMPT 00000000   5112 
_SV0SP_ORDER_COD                          IMPT 00000000   5109  5428 
_SV0SP_PLAN_CNT                           IMPT 00000000   5110  5429 
_SV0SP_WORKER_COD                         IMPT 00000000   5108  5427 
_SV0SR_BAD_CNT                            IMPT 00000000   5120  5405 
_SV0SR_KATA_MEMO                          IMPT 00000000   5123  5407 
_SV0SR_KATA_NAME                          IMPT 00000000   5122  5406 
_SV0SR_KATA_NO                            IMPT 00000000   5121 
_SV0SR_ORDER_COD                          IMPT 00000000   5118  5403 
_SV0SR_PLAN_CNT                           IMPT 00000000   5119  5404 
_SV0SR_WORKER_COD                         IMPT 00000000   5117  5402 
_SV0_WORK_STP_FLG                         IMPT 00000000   5107  5150  5426 
_SV0_WORK_STR_FLG                         IMPT 00000000   5116  5148  5401 
_VUPCHECK_EQU                             EQU  11AB3739     98*
__ASCII_0                                 EQU  00000030   5550* 5570  5576  5584  5590  5598  5604  5612  5618 
__CYCLE_SIG_TIMSV                         EQU  00000014   2803* 2993 
__EVENT_SIG_OFTIMSV                       EQU  00000032   2800* 3629 
__EVENT_SIG_ONTIMSV                       EQU  00000032   2799* 3593 
__HINBAN_SIG_OFTIMSV                      EQU  00000064   2816* 5839 
__HINBAN_SIG_ONTIMSV                      EQU  00000064   2815* 5805 
__KMTCMD_RD                               EQU  00000002   2765* 3923  4277  4515 
__KMTCMD_WR                               EQU  00000001   2764* 3537  3714  4223  4274  4515  5724  6086 
__SITM_AIDAT1                             EQU  0000000C   2776* 4153  4202  4211 
__SITM_AIDTCNT                            EQU  00000008   2777* 4206  4210 
__SITM_CHRCNT                             EQU  00000008   2774* 3518 
__SITM_CHRTOP1                            EQU  00000004   2773* 3514 
__SITM_ERRSTS1                            EQU  0000006A   2789* 4040 
__SITM_HANDCNT                            EQU  00000002   2771* 3704 
__SITM_HANDRD                             EQU  00000064   2786* 3815 
__SITM_HANDWR                             EQU  00000000   2770* 3700 
__SITM_HINBAN_CNT                         EQU  000000A0   2812* 5368  5692  5698  5898  5913  6403 
__SITM_HINBAN_TOP                         EQU  00000108   2811* 5688 
__SITM_KMTTYPE                            EQU  00000070   2792* 5024 
__SITM_MCNTCNT                            EQU  00000004   2780* 4206  4210 
__SITM_MENTCNT                            EQU  00000014   2779* 4159  4161 
__SITM_OUTCNT                             EQU  00000020   2784* 3918  3956 
__SITM_OUT_TOP                            EQU  00000064   2783* 2786  2788  2789  2790  2791  2792  3815  3914  4019  4040  4061 
                                                          4071  5024 
__SITM_SYOUMO_CNT                         EQU  00000040   2809* 6052  6058  6402 
__SITM_SYOUMO_TOP                         EQU  000000C8   2808* 6048 
__SITM_TRSSTS1                            EQU  00000068   2788* 4019 
__SITM_TRSSTS2                            EQU  0000006E   2791* 4071 
__SITM_WARSTS1                            EQU  0000006C   2790* 4061 
__SIT_VER_TYP2_COD                        EQU  00005A01   2796* 5031 
__SYOUMO_SIG_OFTIMSV                      EQU  00000014   2819* 6170 
__SYOUMO_SIG_ONTIMSV                      EQU  00000014   2818* 6134 
__TM_LATE01MS                             EQU  00000001   2194*
__TM_LATE10MS                             EQU  0000000A   2195* 2799  2800  2815  2816  2818  2819  3779 
__WDT_TIM_SET_DAT                         EQU  0000000B   3779* 3811 
__WDT_UP_ERR_CNT                          EQU  00000064   3780* 3825 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    07/04/21 20:26:38                                                  PAGE    88

*** SECTION DATA LIST

SECTION                          ATTRIBUTE    SIZE             START

Bfram                            REL-DATA    000000000        
P                                REL-CODE    0000011F8        
Bwkram1                          REL-DATA    0000009A4        
