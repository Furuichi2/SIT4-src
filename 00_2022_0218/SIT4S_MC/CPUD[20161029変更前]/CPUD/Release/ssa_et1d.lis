*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE     1
PROGRAM NAME =

    1                               1     ;       ***************************************************
    2                               2     ;       ***                                             ***
    3                               3     ;       ***                                             ***
    4                               4     ;       ***     ET1-SOFT(設定転送,ﾄﾚﾝﾄﾞ転送,mem,dp)     ***
    5                               5     ;       ***                                             ***
    6                               6     ;       ***                                             ***
    7                               7     ;       ***************************************************
 1991                              16     
 1992                              17     ;
 1993                              18             .INCLUDE        "dp_et1.ext"            ; //
 1994                               1 I1  ;       *******************************************************************
 1995                               2 I1  ;       ***                                                             ***
 1996                               3 I1  ;       ***                                                             ***
 1997                               4 I1  ;       ***                                                             ***
 1998                               5 I1  ;       ***                                                             ***
 1999                               6 I1  ;       ***                                                             ***
 2000                               7 I1  ;       ***                                                             ***
 2001                               8 I1  ;       *******************************************************************
 2002                               9 I1  ;       このファイルはsh2またはsh4のアセンブラソースにインクルードされ
 2003                              10 I1  ;       その中で、実アドレスを割り付ける
 2004                              11 I1  ;       このではdpramのオフセットアドレスを定義する
 2005                              12 I1  ;       このファイルのextern宣言として
 2006                              13 I1  
 2007                              14 I1  
 2008                              15 I1  ;       ===========================================
 2009                              16 I1  ;       ===             ET1 SV DATA             ===
 2010                              17 I1  ;       ===========================================
 2011                              18 I1  ;       --------------------------------------------------
 2012                              19 I1          .GLOBAL         _ET_CPUB_SND_INI_ET1    ;INITAL CODE REQ
 2013                              20 I1          .GLOBAL         _ET_CPUB_RCV_INI_ET1    ;INITAL CODE ACK
 2014                              21 I1  ;;;;    .GLOBAL         _ET_CPUB_SND_REQ_ET1    ;H'12345678(req)
 2015                              22 I1  ;;;;    .GLOBAL         _ET_CPUB_RCV_ACK_ET1    ;H'87654321(ack)
 2016                              23 I1  ;       ---------------------------------------------------
 2017                              24 I1  ;;;;    .GLOBAL         _ET_CPUB_SND_REQ_ADR    ;TOPADRESS (192K+32K 256Kbyte)
 2018                              25 I1  ;;;;    .GLOBAL         _ET_CPUB_SND_REQ_CNT    ;1~128個
 2019                              26 I1  ;;;;    .GLOBAL         _ET_CPUB_SND_DAT        ;(256byte MAX)
 2020                              27 I1  ;;;;    .GLOBAL         _ET_CPUB_SND_END        ;
 2021                              28 I1  
 2022                              29 I1  ;       ===========================================
 2023                              30 I1  ;       ===             ET1 TOREND DATA         ===
 2024                              31 I1  ;       ===========================================
 2025                              32 I1  ;       --------------------------------------------------
 2026                              33 I1          .GLOBAL         _ET_CPUA_SND_INI_ET1    ;INITAL CODE REQ
 2027                              34 I1          .GLOBAL         _ET_CPUA_RCV_INI_ET1    ;INITAL CODE ACK
 2028                              35 I1          .GLOBAL         _ET_CPUA_SND_REQ_ET1    ;H'12345678(req)
 2029                              36 I1          .GLOBAL         _ET_CPUA_RCV_ACK_ET1    ;H'87654321(ack)
 2030                              37 I1  ;       ---------------------------------------------------
 2031                              38 I1          .GLOBAL         _ET_CPUA_SND_REQ_ADR    ;TOPADRESS (192K+32K 256Kbyte)
 2032                              39 I1          .GLOBAL         _ET_CPUA_SND_REQ_CNT    ;1~128個
 2033                              40 I1          .GLOBAL         _ET_CPUA_SND_DAT        ;(256byte MAX)
 2034                              41 I1          .GLOBAL         _ET_CPUA_SND_END        ;
 2035                              42 I1  
 2036                              43 I1  ;       ===========================================
 2037                              44 I1  ;       ===             ET1 loder DATA          ===
 2038                              45 I1  ;       ===========================================
 2039                              46 I1  ;       2006-12-01
 2040                              47 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE     2
PROGRAM NAME =

 2041                              48 I1          .GLOBAL         _ET_LDCMND_AREA         ;LdCmnd set area
 2042                              49 I1          .GLOBAL         _ET_LDCMND_REQ          ;LdCmnd Request Flag
 2043                              50 I1          .GLOBAL         _ET_LDCMND_RES          ;LdCmnd Response Flag
 2044                              51 I1          .GLOBAL         _ET1_VER                ;ET1 VERSION            V05
 2045                              52 I1  
 2046                              53 I1  ;       ===== HMI V05j 2007/12/07 =====
 2047                              54 I1          .GLOBAL         _ET1_IPS_ENT            ;IPｱﾄﾞﾚｽ確定
 2048                              55 I1          .GLOBAL         _ET1_IPS_ADR0           ;IPｱﾄﾞﾚｽ
 2049                              56 I1          .GLOBAL         _ET1_IPS_ADR1           ;IPｱﾄﾞﾚｽ
 2050                              57 I1          .GLOBAL         _ET1_IPS_ADR2           ;IPｱﾄﾞﾚｽ
 2051                              58 I1          .GLOBAL         _ET1_IPS_ADR3           ;IPｱﾄﾞﾚｽ
 2052                              59 I1          .GLOBAL         _ET1_SUB_NET0           ;ｻﾌﾞﾈｯﾄﾏｽｸ
 2053                              60 I1          .GLOBAL         _ET1_SUB_NET1           ;ｻﾌﾞﾈｯﾄﾏｽｸ
 2054                              61 I1          .GLOBAL         _ET1_SUB_NET2           ;ｻﾌﾞﾈｯﾄﾏｽｸ
 2055                              62 I1          .GLOBAL         _ET1_SUB_NET3           ;ｻﾌﾞﾈｯﾄﾏｽｸ
 2056                              63 I1          .GLOBAL         _ET1_DEF_GAT0           ;ﾃﾞﾌｫﾙﾄｹﾞｰﾄｳｪｲ
 2057                              64 I1          .GLOBAL         _ET1_DEF_GAT1           ;ﾃﾞﾌｫﾙﾄｹﾞｰﾄｳｪｲ
 2058                              65 I1          .GLOBAL         _ET1_DEF_GAT2           ;ﾃﾞﾌｫﾙﾄｹﾞｰﾄｳｪｲ
 2059                              66 I1          .GLOBAL         _ET1_DEF_GAT3           ;ﾃﾞﾌｫﾙﾄｹﾞｰﾄｳｪｲ
 2060                              67 I1          .GLOBAL         _ET1_IPM_ADR0           ;IPｱﾄﾞﾚｽ(ﾓﾆﾀ)
 2061                              68 I1          .GLOBAL         _ET1_IPM_ADR1           ;IPｱﾄﾞﾚｽ(ﾓﾆﾀ)
 2062                              69 I1          .GLOBAL         _ET1_IPM_ADR2           ;IPｱﾄﾞﾚｽ(ﾓﾆﾀ)
 2063                              70 I1          .GLOBAL         _ET1_IPM_ADR3           ;IPｱﾄﾞﾚｽ(ﾓﾆﾀ)
 2064                              71 I1  
 2065                              72 I1  ;       ===========================================
 2066                              73 I1  ;       ===     ET1==>CPUA(読出 32BYTE) ｽﾃｰﾀｽRD ===
 2067                              74 I1  ;       ===     2008-10-20                      ===
 2068                              75 I1  ;       ===========================================
 2069                              76 I1          .GLOBAL         _ET_CPUA_RD_REQ         ;CPUA-->ET1 READ REQ
 2070                              77 I1          .GLOBAL         _ET_CPUA_RD_ACK         ;ET1-->CPUA data SET ACK
 2071                              78 I1          .GLOBAL         _ET_CPUA_RD_CNT         ;読出個数
 2072                              79 I1          .GLOBAL         _ET_CPUA_RD_ADR         ;読出ｱﾄﾞﾚｽ
 2073                              80 I1          .GLOBAL         _ET_CPUA_RD_BUF         ;32byte(16w)
 2074                              81 I1  ;       ===========================================
 2075                              82 I1  ;       ===     CPUA==>書込2(32byte)    ｽﾃｰﾀｽWR ===
 2076                              83 I1  ;       ===     2008-10-20                      ===
 2077                              84 I1  ;       ===========================================
 2078                              85 I1          .GLOBAL         _ET_CPUA_WR2_ADR        ;STS WR LINE
 2079                              86 I1          .GLOBAL         _ET_CPUA_WR2_BUF        ;32byte(16w)
 2080                              87 I1          .GLOBAL         _ET_CPUA_WR2_REQ        ;
 2081                              88 I1          .GLOBAL         _ET_CPUA_WR2_ACK        ;
 2082                              89 I1          .GLOBAL         _ET_CPUA_WR2_CNT        ;
 2083                              90 I1  
 2084                              91 I1  
 2085                              92 I1  ;;;     ===========================================
 2086                              93 I1  ;;;     ===     2009-06-19 komtrax(ET2)対応     ===
 2087                              94 I1  ;;;     ===========================================
 2088                              95 I1  ;;;     .GLOBAL         _ET2_SEQ_IDT01          ;FA2,3 seq-->et2
 2089                              96 I1  ;;;     .GLOBAL         _ET2_SEQ_IDT02          ;FA4,5 seq-->et2
 2090                              97 I1  ;;;     .GLOBAL         _ET2_SEQ_QDT01          ;FA6,7 et2-->seq
 2091                              98 I1  ;;;     .GLOBAL         _ET2_SEQ_QDT02          ;FA8,9 et2-->seq
 2092                              99 I1  ;;;;    ============== 使用付加(2009-06-19)　後はﾊﾞﾝｸだけ============
 2093                             100 I1  ;       ===========================================
 2094                             101 I1  ;       ===     2009-07-24 komtrax(ET2)対応     ===
 2095                             102 I1  ;       ===========================================
 2096                             103 I1  ;       ------------(KOMTRAX空間に対して SIT_MEM)
 2097                             104 I1          .GLOBAL         _ET2_SITM_ADR           ;FA2,3 SIT4->ET1  R/W ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE     3
PROGRAM NAME =

 2098                             105 I1          .GLOBAL         _ET2_SITM_REQ           ;FA4   SIT4->ET1  HND=BIT7 R/W=BIT6(BIT5~B
                                          IT0は空間)
 2099                             106 I1          .GLOBAL         _ET2_SITM_ACK           ;FA5   SIT4<-ET1
 2100                             107 I1          .GLOBAL         _ET2_SITM_WRDT          ;FA6,7 SIT4->ET1  WR data
 2101                             108 I1          .GLOBAL         _ET2_SITM_RDDT          ;FA8,9(SIT4<-ET1) RD data
 2102                             109 I1          .GLOBAL         _ET2_SEQ_IDT01          ;FAA,B seq(SQ149)-->et2
 2103                             110 I1          .GLOBAL         _ET2_SEQ_QDT01          ;FAC,D et2-->seq(SQ86)
 2104                             111 I1  ;;;;    ============== 使用不可(2009-07-24)　後はﾊﾞﾝｸだけ============
 2105                             112 I1  
 2106                             113 I1  
 2107                              19             .import         _MEM_ARI                        ;1BYTE(H'840 statu "A5")
 2108                              20             .import         _MEM_BNK_ADR1                   ;1BYTE(H'900 d0=0/d0=1 bank)
 2109                              21     
 2110                              22     
 2111                              23     
 2112                              24     
 2113                              25     ;;_ET2_DEBUG_TRG        .DEFINE         "1"             ; ﾃﾞﾊﾞｯｸ
 2114                              26     _ET2_DEBUG_TRG  .DEFINE         "0"             ;出荷
 2115                              27     
 2116                              28     
 2117                              29     
 2118                              30     ;       ===========================================
 2119                              31     ;       ===             ET1 TOREND DATA         ===
 2120                              32     ;       ===========================================
 2121                              33             .IMPORT         _CPUA_SND_INI_ET1       ;INITAL CODE REQ
 2122                              34             .IMPORT         _CPUA_RCV_INI_ET1       ;INITAL CODE ACK
 2123                              35             .IMPORT         _CPUA_SND_REQ_ET1       ;H'12345678(req)
 2124                              36             .IMPORT         _CPUA_RCV_ACK_ET1       ;H'87654321(ack)
 2125                              37             .IMPORT         _CPUA_SND_REQ_ADR       ;TOPADRESS (192K+32K 256Kbyte)
 2126                              38             .IMPORT         _CPUA_SND_REQ_CNT       ;1~128個
 2127                              39             .IMPORT         _CPUA_SND_DAT           ;(256byte MAX)
 2128                              40             .IMPORT         _CPUA_SND_END           ;
 2129                              41     
 2130                              42     
 2131                              43             .EXPORT _ET1_CPU_MAIN_MOV
 2132                              44             .EXPORT _ET1_CPU_HIGH_MOV
 2133                              45     
 2134                              46     ;       --------KOMTRAXのためのEXTERN
 2135                              47             .IMPORT         _SEQ_024_SV             ;DPRAM(島村参照使用設定)2009-*-*   24.6
 2136                              48             .IMPORT         _SEQ_DP_TOP             ;高速アクセス用
 2137                              49     
 2138                              50     ;       ------2011-01-14 処理軽減のため10msec作成---
 2139          00000001            51     __TM_LATE01MS   .EQU    1               ;
 2140          0000000A            52     __TM_LATE10MS   .EQU    10              ;
 2141                              53     
 2142                              54     ;       ***************************************************
 2143                              55     ;       ***                                             ***
 2144                              56     ;       ***                                             ***
 2145                              57     ;       ***     ET1-SOFT(設定転送,ﾄﾚﾝﾄﾞ転送)            ***
 2146                              58     ;       ***     (high:TREND)                            ***
 2147                              59     ;       ***                                             ***
 2148                              60     ;       ***                                             ***
 2149                              61     ;       ***************************************************
 2150 00000000                     62             .SECTION        Bfram, DATA                     ; B4007000H
 2151 00000000                     63             .SECTION        P,CODE                  ;
 2152 00000000                     64             .ALIGN  4                                       ;
 2153 00000000                     65     _ET1_CPU_HIGH_MOV
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE     4
PROGRAM NAME =

 2154                              66             SUB_START
 2155 00000000 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2156                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2157 00000002 D10A                67             MOV.L   #_ET1_INITAL_FLG,R1                     ;
 2158 00000004 6011                68             MOV.W   @R1,R0                                  ;
 2159 00000006 C840                69             TST     #BIT6,R0                                ;
 2160                              70             TST_BIT_OF ET1_CPU_HIGHMV_END                   ;
 2161 00000008 890C                   M           BT      ET1_CPU_HIGHMV_END
 2162                              71     
 2163                              72     ;       ---------- ET1/CPUA ﾃﾞｰﾀ転送--------------
 2164                              73             FAR_JSR #_ET1_CPUA_DT_MOVE,R0
 2165 0000000A D009                   M           MOV.L   #_ET1_CPUA_DT_MOVE,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2166 0000000C 400B                   M           JSR     @R0                     ;
 2167 0000000E 0009                   M           NOP                                     ;
 2168                              74     
 2169 00000010 D108                75             MOV.L   #_SEQ_024_SV,R1                 ;
 2170 00000012 6011                76             MOV.W   @R1,R0                          ;
 2171 00000014 C840                77             TST     #BIT6,R0                        ;24.6(仕様設定135)
 2172                              78             TST_BIT_OF ET1_CPU_HIGHMV_END           ;
 2173 00000016 8905                   M           BT      ET1_CPU_HIGHMV_END
 2174                              79     
 2175                              80     ;       ---------- 2009-07-27(KOMTRAX)-----------------
 2176                              81     ;       ---------- ｼｰｹﾝｽ出力(CPUB-->SEQ)---------------
 2177                              82     ;       ---------- ｼｰｹﾝｽﾚﾌﾚｯｼｭ (KOMTRAX-->CPUB-->SEQ)--
 2178                              83     ;       ---------- ｼｰｹﾝｽﾚﾌﾚｯｼｭ (KOMTRAX<--CPUB--SEQ)---
 2179                              84     ;       ---------- ｲﾍﾞﾝﾄﾒｯｾｰｼﾞ転送---------------------
 2180                              85     
 2181                              86             FAR_JSR #_KOMTRAX_DATA_CTRL,R0
 2182 00000018 D007                   M           MOV.L   #_KOMTRAX_DATA_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2183 0000001A 400B                   M           JSR     @R0                     ;
 2184 0000001C 0009                   M           NOP                                     ;
 2185                              87     
 2186                              88     
 2187                              89             FAR_JSR #_KOMTRAX_TIMCNT,R0             ;1mSEC
 2188 0000001E D007                   M           MOV.L   #_KOMTRAX_TIMCNT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2189 00000020 400B                   M           JSR     @R0                     ;
 2190 00000022 0009                   M           NOP                                     ;
 2191                              90     
 2192 00000024                     91     ET1_CPU_HIGHMV_END
 2193                              92             SUB_END
 2194                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2195 00000024 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2196                              93             M_RTS
 2197 00000026 000B                   M           RTS                             ;RTSの後ろの
 2198 00000028 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2199                              94     
 2200                              95     ;       ***************************************************
 2201                              96     ;       ***                                             ***
 2202                              97     ;       ***                                             ***
 2203                              98     ;       ***     ET1-SOFT(設定転送,ﾄﾚﾝﾄﾞ転送)            ***
 2204                              99     ;       ***     (MAIN:SV)                               ***
 2205                             100     ;       ***                                             ***
 2206                             101     ;       ***************************************************
 2207                                     ***** BEGIN-POOL *****
 2208 0000002A 0000                       ALIGNMENT CODE
 2209 0000002C 00000000                   DATA FOR SOURCE-LINE 67
 2210 00000030 00000000                   DATA FOR SOURCE-LINE 73
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE     5
PROGRAM NAME =

 2211 00000034 00000000                   DATA FOR SOURCE-LINE 75
 2212 00000038 00000000                   DATA FOR SOURCE-LINE 86
 2213 0000003C 00000000                   DATA FOR SOURCE-LINE 89
 2214                                     ***** END-POOL *****
 2215 00000040                    102     _ET1_CPU_MAIN_MOV
 2216                             103             SUB_START
 2217 00000040 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2218                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2219                             104     
 2220 00000042 D104               105             MOV.L   #_ET1_INITAL_FLG,R1                     ;
 2221 00000044 6011               106             MOV.W   @R1,R0                                  ;
 2222 00000046 C840               107             TST     #BIT6,R0                                ;
 2223                             108             TST_BIT_ON ET1_CPU_MNMV_100                     ;
 2224 00000048 8B08                   M           BF      ET1_CPU_MNMV_100
 2225                             109             FAR_JSR #_ET1_INITAL_CHK,R0                     ;
 2226 0000004A D003                   M           MOV.L   #_ET1_INITAL_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2227 0000004C 400B                   M           JSR     @R0                     ;
 2228 0000004E 0009                   M           NOP                                     ;
 2229                             110     
 2230                             111             M_BRA   ET1_CPU_MNMV_END                        ;
 2231 00000050 A04E                   M           BRA     ET1_CPU_MNMV_END
 2232 00000052 0009                   M           NOP
 2233                                     ***** BEGIN-POOL *****
 2234 00000054 00000000                   DATA FOR SOURCE-LINE 105
 2235 00000058 00000000                   DATA FOR SOURCE-LINE 109
 2236                                     ***** END-POOL *****
 2237 0000005C                    112     ET1_CPU_MNMV_100:
 2238                             113             FAR_JSR #_ET1_INIEND_MOVE,R0                    ;
 2239 0000005C D008                   M           MOV.L   #_ET1_INIEND_MOVE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2240 0000005E 400B                   M           JSR     @R0                     ;
 2241 00000060 0009                   M           NOP                                     ;
 2242                             114     
 2243 00000062 D108               115             MOV.L   #_SEQ_024_SV,R1                 ;
 2244 00000064 6011               116             MOV.W   @R1,R0                          ;
 2245 00000066 C840               117             TST     #BIT6,R0                        ;24.6(仕様設定135)
 2246                             118             TST_BIT_OF ET1_CPU_MNMV_END             ;komtrax無効 then jump
 2247 00000068 8942                   M           BT      ET1_CPU_MNMV_END
 2248                             119     
 2249 0000006A D507               120             MOV.L   #_KMT_DLYSCAN_TIM,R5            ;
 2250 0000006C 6051               121             MOV.W   @R5,R0                          ;
 2251 0000006E 9405               122             MOV.W   #D'10,R4                        ;
 2252 00000070 3042               123             CMP/HS  R4,R0                           ;
 2253 00000072 890B               124             BT      ET1_CPU_MNMV_200                ;10 < R0
 2254 00000074 7001               125             ADD     #1,R0                           ;
 2255 00000076 2501               126             MOV.W   R0,@R5                          ;
 2256                             127             M_BRA   ET1_CPU_MNMV_END                ;10SCANは何もしない(ﾒｲﾝのｲﾆｼｬﾙ処理のため)
 2257 00000078 A03A                   M           BRA     ET1_CPU_MNMV_END
 2258 0000007A 0009                   M           NOP
 2259                             128     
 2260                                     ***** BEGIN-POOL *****
 2261 0000007C 000A                       DATA FOR SOURCE-LINE 122
 2262 0000007E 0000                       ALIGNMENT CODE
 2263 00000080 00000000                   DATA FOR SOURCE-LINE 113
 2264 00000084 00000000                   DATA FOR SOURCE-LINE 115
 2265 00000088 00000000                   DATA FOR SOURCE-LINE 120
 2266                                     ***** END-POOL *****
 2267 0000008C                    129     ET1_CPU_MNMV_200:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE     6
PROGRAM NAME =

 2268                             130             FAR_JSR #_KOMTRAX_EVENT_MAIN,R0         ;WR 8CHAR * 6　異常ｲﾍﾞﾝﾄの変更あり・なし
 2269 0000008C D00D                   M           MOV.L   #_KOMTRAX_EVENT_MAIN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2270 0000008E 400B                   M           JSR     @R0                     ;
 2271 00000090 0009                   M           NOP                                     ;
 2272                             131     
 2273                             132             FAR_JSR #_KOMTRAX_HAND_WRITE,R0         ;WDTなど書き込み要求
 2274 00000092 D00D                   M           MOV.L   #_KOMTRAX_HAND_WRITE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2275 00000094 400B                   M           JSR     @R0                     ;
 2276 00000096 0009                   M           NOP                                     ;
 2277                             133     
 2278                             134             FAR_JSR #_KOMTRAX_STATUS_READ,R0        ;WDTのｱﾝｻｰﾊﾞｯｸなどのｽﾃｰﾀｽ読み出し要求
 2279 00000098 D00C                   M           MOV.L   #_KOMTRAX_STATUS_READ,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2280 0000009A 400B                   M           JSR     @R0                     ;
 2281 0000009C 0009                   M           NOP                                     ;
 2282                             135     
 2283                             136             FAR_JSR #_KOMTRAX_STAUS_MAKE,R0         ;
 2284 0000009E D00C                   M           MOV.L   #_KOMTRAX_STAUS_MAKE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2285 000000A0 400B                   M           JSR     @R0                     ;
 2286 000000A2 0009                   M           NOP                                     ;
 2287                             137     
 2288                             138             FAR_JSR #_KOMTRAX_PVDAT_MAKE,R0         ;
 2289 000000A4 D00B                   M           MOV.L   #_KOMTRAX_PVDAT_MAKE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2290 000000A6 400B                   M           JSR     @R0                     ;
 2291 000000A8 0009                   M           NOP                                     ;
 2292                             139     
 2293                             140             FAR_JSR #_KOMTRAX_PVDAT_WRITE,R0        ;実測転送要求
 2294 000000AA D00B                   M           MOV.L   #_KOMTRAX_PVDAT_WRITE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2295 000000AC 400B                   M           JSR     @R0                     ;
 2296 000000AE 0009                   M           NOP                                     ;
 2297                             141     
 2298                             142     
 2299                             143     ;       --------- 2011-01-14 TYP011型判定-----------
 2300 000000B0 D10A               144             MOV.L   #_KMT_TYP_011,R1                ;
 2301 000000B2 6011               145             MOV.W   @R1,R0                          ;
 2302 000000B4 8801               146             CMP/EQ  #1,R0                           ;
 2303 000000B6 8915               147             BT      ET1_CPU_MNMV_500                ;TYPE011機能有効? YES JUMP
 2304                             148     
 2305                             149             FAR_JSR #_KMT_TYPE_011_CHK,R0
 2306 000000B8 D009                   M           MOV.L   #_KMT_TYPE_011_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2307 000000BA 400B                   M           JSR     @R0                     ;
 2308 000000BC 0009                   M           NOP                                     ;
 2309                             150             M_BRA   ET1_CPU_MNMV_END
 2310 000000BE A017                   M           BRA     ET1_CPU_MNMV_END
 2311 000000C0 0009                   M           NOP
 2312                             151     
 2313                                     ***** BEGIN-POOL *****
 2314 000000C2 0000                       ALIGNMENT CODE
 2315 000000C4 00000000                   DATA FOR SOURCE-LINE 130
 2316 000000C8 00000000                   DATA FOR SOURCE-LINE 132
 2317 000000CC 00000000                   DATA FOR SOURCE-LINE 134
 2318 000000D0 00000000                   DATA FOR SOURCE-LINE 136
 2319 000000D4 00000000                   DATA FOR SOURCE-LINE 138
 2320 000000D8 00000000                   DATA FOR SOURCE-LINE 140
 2321 000000DC 00000000                   DATA FOR SOURCE-LINE 144
 2322 000000E0 00000000                   DATA FOR SOURCE-LINE 149
 2323                                     ***** END-POOL *****
 2324 000000E4                    152     ET1_CPU_MNMV_500:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE     7
PROGRAM NAME =

 2325                             153     
 2326                             154     
 2327                             155             FAR_JSR #_KOMTRAX_HINBAN_MAIN,R0                ;
 2328 000000E4 D004                   M           MOV.L   #_KOMTRAX_HINBAN_MAIN,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2329 000000E6 400B                   M           JSR     @R0                     ;
 2330 000000E8 0009                   M           NOP                                     ;
 2331                             156     
 2332                             157             FAR_JSR #_KOMTRAX_SYOUMO_MAIN,R0                ;
 2333 000000EA D004                   M           MOV.L   #_KOMTRAX_SYOUMO_MAIN,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2334 000000EC 400B                   M           JSR     @R0                     ;
 2335 000000EE 0009                   M           NOP                                     ;
 2336                             158     
 2337                             159     
 2338 000000F0                    160     ET1_CPU_MNMV_END:
 2339                             161     
 2340                             162     
 2341                             163             SUB_END
 2342                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2343 000000F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2344                             164             M_RTS
 2345 000000F2 000B                   M           RTS                             ;RTSの後ろの
 2346 000000F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2347                             165     
 2348                             166     
 2349                             167     ;       ***************************************************
 2350                             168     ;       ***                                             ***
 2351                             169     ;       ***                                             ***
 2352                             170     ;       ***     INITAL                                  ***
 2353                             171     ;       ***     (MAIN)                                  ***
 2354                             172     ;       ***                                             ***
 2355                             173     ;       ***************************************************
 2356                                     ***** BEGIN-POOL *****
 2357 000000F6 0000                       ALIGNMENT CODE
 2358 000000F8 00000000                   DATA FOR SOURCE-LINE 155
 2359 000000FC 00000000                   DATA FOR SOURCE-LINE 157
 2360                                     ***** END-POOL *****
 2361 00000100                    174     _ET1_INITAL_CHK:
 2362                             175             SUB_START
 2363 00000100 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2364                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2365 00000102 D10A               176             MOV.L   #_ET1_INITAL_FLG,R1             ;
 2366 00000104 6011               177             MOV.W   @R1,R0                          ;
 2367 00000106 C840               178             TST     #BIT6,R0                        ;
 2368                             179             TST_BIT_ON ET1_INIT_CHK_END             ;
 2369 00000108 8B0D                   M           BF      ET1_INIT_CHK_END
 2370                             180     ;;;;;[mc]       MOV.L   #_MEM_ARI,R1                    ;
 2371                             181     ;;;;;[mc]       MOV.B   @R1,R0                          ;
 2372                             182     ;;;;;[mc]       EXTU.B  R0,R0                           ;
 2373                             183     ;;;;;[mc]       MOV.W   #H'00A5,R1                      ;
 2374                             184     ;;;;;[mc]       .AIF    0       EQ 1                    ;@
 2375                             185     ;;;;;[mc]       MOV.W   #H'00A5,R0                                      ;@カード有りに見せ
                                          る
 2376                             186     ;;;;;[mc]       .AENDI                                                  ;@
 2377                             187     ;;;;;[mc]       CMP/EQ  R1,R0                                           ;
 2378                             188     ;;;;;[mc]       BF      ET1_INIT_CHK_END                                ;未接続
 2379                             189     ;;;;;[mc]
 2380                             190     ;;;;;[mc]       FAR_JSR #_ET1_BANK_SEL0_OUT,R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE     8
PROGRAM NAME =

 2381                             191     ;;;;;[mc]
 2382                             192     
 2383 0000010A D109               193             MOV.L   #_ET_CPUB_RCV_INI_ET1,R1                        ;
 2384 0000010C 6012               194             MOV.L   @R1,R0                                          ;
 2385 0000010E D409               195             MOV.L   #_ET1_INIT_ACK,R4                               ;
 2386 00000110 3040               196             CMP/EQ  R4,R0                                           ;
 2387 00000112 8B08               197             BF      ET1_INIT_CHK_END                                ;未完了
 2388                             198     
 2389 00000114 D108               199             MOV.L   #_ET_CPUA_RCV_INI_ET1,R1                ;
 2390 00000116 6012               200             MOV.L   @R1,R0                                  ;
 2391                             201     
 2392                             202     ;;;;;[mc]       .AIF    0       EQ 1                    ;@
 2393                             203     ;;;;;[mc]       MOV.L   #_ET1_INIT_ACK,R0                               ;@INITAL ENDに見せ
                                          る
 2394                             204     ;;;;;[mc]       .AENDI                                                  ;@
 2395                             205     
 2396 00000118 D406               206             MOV.L   #_ET1_INIT_ACK,R4                       ;
 2397 0000011A 3040               207             CMP/EQ  R4,R0                                   ;
 2398 0000011C 8B03               208             BF      ET1_INIT_CHK_END                        ;未完了
 2399                             209     
 2400                             210             MEM1_BIT0_TO_BIT7_ORSET MEM=_ET1_INITAL_FLG,LG=W,BIT=BIT6,WKREG=R1      ;bit-set
 2401 0000011E D103                   M           MOV.L   #_ET1_INITAL_FLG,R1             ;
 2402 00000120 6011                   M           MOV.W   @R1,R0          ;
 2403 00000122 CB40                   M           OR      #BIT6,R0                ;
 2404 00000124 2101                   M           MOV.W   R0,@R1          ;
 2405                             211     
 2406 00000126                    212     ET1_INIT_CHK_END:
 2407                             213             SUB_END
 2408                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2409 00000126 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2410                             214             M_RTS
 2411 00000128 000B                   M           RTS                             ;RTSの後ろの
 2412 0000012A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2413                             215     
 2414                             216     ;       ***********************************
 2415                             217     ;       ***                             ***
 2416                             218     ;       ***     INITAL-CODE             ***
 2417                             219     ;       ***                             ***
 2418                             220     ;       ***********************************
 2419                                     ***** BEGIN-POOL *****
 2420 0000012C 00000000                   DATA FOR SOURCE-LINE 176,210
 2421 00000130 00000000                   DATA FOR SOURCE-LINE 193
 2422 00000134 56789ABC                   DATA FOR SOURCE-LINE 195,206
 2423 00000138 00000000                   DATA FOR SOURCE-LINE 199
 2424                                     ***** END-POOL *****
 2425 0000013C                    221     _ET1_INIEND_MOVE:
 2426                             222             SUB_START
 2427 0000013C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2428                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2429                             223     ;;;;;[mc]       FAR_JSR #_ET1_BANK_SEL0_OUT,R1  ;
 2430                             224     
 2431 0000013E D007               225             MOV.L   #_ET1_INIT_REQ,R0
 2432                             226             REG_MOV_TO_MEM  DST_ADR=_ET_CPUB_SND_INI_ET1,L1=L,DT_REG=R0,WKREG1=R1
 2433 00000140 D107                   M           MOV.L   #_ET_CPUB_SND_INI_ET1,R1        ;DST_ADR
 2434 00000142 2102                   M           MOV.L   R0,@R1  ;DST_ADR
 2435                             227     
 2436                             228     ;       ==== CPUA<=>ET1 ====
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE     9
PROGRAM NAME =

 2437                             229             MEM_MOV_TO_MEM  SRC_ADR=_CPUA_SND_INI_ET1,L1=L,DST_ADR=_ET_CPUA_SND_INI_ET1,L2=L,W
                                          KREG1=R1,WKREG2=R2,WKREG3=R3
 2438 00000144 D107                   M           MOV.L   #_CPUA_SND_INI_ET1,R1
 2439 00000146 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2440 00000148 D307                   M           MOV.L   #_ET_CPUA_SND_INI_ET1,R3        ;DST_ADR
 2441 0000014A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2442                             230             MEM_MOV_TO_MEM  SRC_ADR=_ET_CPUA_RCV_INI_ET1,L1=L,DST_ADR=_CPUA_RCV_INI_ET1,L2=L,W
                                          KREG1=R1,WKREG2=R2,WKREG3=R3
 2443 0000014C D107                   M           MOV.L   #_ET_CPUA_RCV_INI_ET1,R1
 2444 0000014E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2445 00000150 D307                   M           MOV.L   #_CPUA_RCV_INI_ET1,R3   ;DST_ADR
 2446 00000152 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2447                             231     
 2448                             232             SUB_END
 2449                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2450 00000154 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2451                             233             M_RTS
 2452 00000156 000B                   M           RTS                             ;RTSの後ろの
 2453 00000158 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2454                             234     
 2455                             235     ;       ***********************************
 2456                             236     ;       ***                             ***
 2457                             237     ;       ***     Input R2                ***
 2458                             238     ;       ***                             ***
 2459                             239     ;       ***********************************
 2460                             240     ;;;;;[mc]_ET1_BANK_SEL0_OUT:
 2461                             241     ;;;;;[mc]       SUB_START
 2462                             242     ;;;;;[mc]
 2463                             243     ;;;;;[mc]       XOR     R2,R2
 2464                             244     ;;;;;[mc]       MOV.L   #_ET1_BANK_SEL,R1                       ;
 2465                             245     ;;;;;[mc]       MOV.W   R2,@R1                                  ;
 2466                             246     ;;;;;[mc]
 2467                             247     ;;;;;[mc]       MOV.L   #_MEM_BNK_ADR1,R1               ;1BYTE(H'900 d0=0/d0=1 bank)
 2468                             248     ;;;;;[mc]       MOV.B   R2,@R1                          ;BANK OUT
 2469                             249     ;;;;;[mc]
 2470                             250     ;;;;;[mc]       SUB_END
 2471                             251     ;;;;;[mc]       M_RTS
 2472                             252     
 2473                             253     ;       ***********************************
 2474                             254     ;       ***                             ***
 2475                             255     ;       ***     CPUA-->ET1              ***
 2476                             256     ;       ***             DATA,TRIG       ***
 2477                             257     ;       ***     ET1-->CPUA              ***
 2478                             258     ;       ***                             ***
 2479                             259     ;       ***********************************
 2480                                     ***** BEGIN-POOL *****
 2481 0000015A 0000                       ALIGNMENT CODE
 2482 0000015C 12345678                   DATA FOR SOURCE-LINE 225
 2483 00000160 00000000                   DATA FOR SOURCE-LINE 226
 2484 00000164 00000000                   DATA FOR SOURCE-LINE 229
 2485 00000168 00000000                   DATA FOR SOURCE-LINE 229
 2486 0000016C 00000000                   DATA FOR SOURCE-LINE 230
 2487 00000170 00000000                   DATA FOR SOURCE-LINE 230
 2488                                     ***** END-POOL *****
 2489 00000174                    260     _ET1_CPUA_DT_MOVE:
 2490                             261             SUB_START
 2491 00000174 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    10
PROGRAM NAME =

 2492                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2493                             262     
 2494 00000176 D10A               263             MOV.L   #_CPUA_SND_REQ_ET1,R1           ;
 2495 00000178 6212               264             MOV.L   @R1,R2                          ;
 2496 0000017A D10A               265             MOV.L   #_CPUA_REQ_OLD,R1               ;
 2497 0000017C 6012               266             MOV.L   @R1,R0                          ;
 2498 0000017E 2122               267             MOV.L   R2,@R1                          ;
 2499 00000180 202A               268             XOR     R2,R0                           ;
 2500 00000182 2008               269             TST     R0,R0                           ;
 2501                             270             TST_BIT_OF ET1_CPUA_DT_MV100            ;ﾄﾘｶﾞ変化なし
 2502 00000184 8920                   M           BT      ET1_CPUA_DT_MV100
 2503                             271     
 2504                             272      MEM_WORD_BLOCK_MOV1 SRC_ADR=_CPUA_SND_DAT,DST_ADR=_ET_CPUA_SND_DAT,CNT_DAT=_ET1_CPUAB_BUF
                                          _MAX/2,DT_REG=R2,CNT_REG=R3
 2505 00000186 DA08                   M           MOV.L   #_CPUA_SND_DAT,R10                      ;
 2506 00000188 DB08                   M           MOV.L   #_ET_CPUA_SND_DAT,R11                   ;
 2507 0000018A 9307                   M           MOV.W   #_ET1_CPUAB_BUF_MAX/2,R3                ;
 2508                                 M           BLOCK_MOV1      W,2,R10,R11,R2,R3
 2509 0000018C                        M   JMP000000:                                      ;
 2510 0000018C 2338                   M           TST     R3,R3   ;
 2511                                 M           TST_BIT_OF JMP100000            ;
 2512 0000018E 890F                   M           BT      JMP100000
 2513 00000190 62A5                   M           MOV.W   @R10+,R2        ;
 2514 00000192 2B21                   M           MOV.W   R2,@R11 ;
 2515 00000194 7B02                   M           ADD     #2,R11  ;
 2516 00000196 73FF                   M           ADD     #H'FF,R3                ;
 2517                                 M           M_BRA   JMP000000                       ;
 2518 00000198 AFF8                   M           BRA     JMP000000
 2519 0000019A 0009                   M           NOP
 2520                                 M   ***** BEGIN-POOL *****
 2521 0000019C 0080                   M   DATA FOR SOURCE-LINE 272
 2522 0000019E 0000                   M   ALIGNMENT CODE
 2523 000001A0 00000000               M   DATA FOR SOURCE-LINE 263
 2524 000001A4 00000000               M   DATA FOR SOURCE-LINE 265
 2525 000001A8 00000000               M   DATA FOR SOURCE-LINE 272
 2526 000001AC 00000000               M   DATA FOR SOURCE-LINE 272
 2527                                 M   ***** END-POOL *****
 2528 000001B0                        M   JMP100000:                                      ;
 2529                             273      MEM_MOV_TO_MEM SRC_ADR=_CPUA_SND_REQ_CNT,L1=L,DST_ADR=_ET_CPUA_SND_REQ_CNT,L2=L,WKREG1=R1
                                          ,WKREG2=R2,WKREG3=R3
 2530 000001B0 D109                   M           MOV.L   #_CPUA_SND_REQ_CNT,R1
 2531 000001B2 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2532 000001B4 D309                   M           MOV.L   #_ET_CPUA_SND_REQ_CNT,R3        ;DST_ADR
 2533 000001B6 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2534                             274     
 2535                             275     
 2536                             276     ;;;;_ET1_CPUAB_BUF_MAX=256
 2537                             277     ;;;     MOV.L   #_CPUA_SND_DAT,R10                      ;SRC_TOP
 2538                             278     ;;;     MOV.L   #_ET_CPUA_SND_DAT,R11                   ;DST_TOP
 2539                             279     ;;;     MOV.L   #_CPUA_SND_REQ_CNT,R1                   ;CNT
 2540                             280     ;;;     MOV.W   @R1,R3                                  ;
 2541                             281     ;;;     PUSH_REG1 R3                                    ;
 2542                             282     ;;;     SHLR    R3                                      ;1/2
 2543                             283     ;;;     BLOCK_MOV1      W,2,R10,R11,R2,R3               ;
 2544                             284     ;;;     POP_REG1 R3
 2545                             285     ;;;     MOV.L   #_ET_CPUA_SND_REQ_CNT,R1                ;
 2546                             286     ;;      MOV.W   R3,@R1                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    11
PROGRAM NAME =

 2547                             287     
 2548                             288      MEM_MOV_TO_MEM SRC_ADR=_CPUA_SND_REQ_ADR,L1=L,DST_ADR=_ET_CPUA_SND_REQ_ADR,L2=L,WKREG1=R1
                                          ,WKREG2=R2,WKREG3=R3
 2549 000001B8 D109                   M           MOV.L   #_CPUA_SND_REQ_ADR,R1
 2550 000001BA 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2551 000001BC D309                   M           MOV.L   #_ET_CPUA_SND_REQ_ADR,R3        ;DST_ADR
 2552 000001BE 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2553                             289     
 2554                             290     ;;;-2014-09-30不具合の元?
 2555                             291     ;;;     MEM_MOV_TO_MEM  SRC_ADR=_CPUA_SND_REQ_ET1,L1=L,DST_ADR=_ET_CPUA_SND_REQ_ET1,L2=L,W
                                          KREG1=R1,WKREG2=R2,WKREG3=R3
 2556                             292             MEM_MOV_TO_MEM  SRC_ADR=_CPUA_REQ_OLD,L1=L,DST_ADR=_ET_CPUA_SND_REQ_ET1,L2=L,WKREG
                                          1=R1,WKREG2=R2,WKREG3=R3
 2557 000001C0 D109                   M           MOV.L   #_CPUA_REQ_OLD,R1
 2558 000001C2 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2559 000001C4 D309                   M           MOV.L   #_ET_CPUA_SND_REQ_ET1,R3        ;DST_ADR
 2560 000001C6 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2561                             293     
 2562                             294     
 2563                             295     
 2564                             296     
 2565                             297     
 2566 000001C8                    298     ET1_CPUA_DT_MV100:
 2567                             299     
 2568                             300     ;       ------------- ET1 --> CPUA ---------------
 2569                             301      MEM_MOV_TO_MEM SRC_ADR=_ET_CPUA_RCV_ACK_ET1,L1=L,DST_ADR=_CPUA_RCV_ACK_ET1,L2=L,WKREG1=R1
                                          ,WKREG2=R2,WKREG3=R3
 2570 000001C8 D109                   M           MOV.L   #_ET_CPUA_RCV_ACK_ET1,R1
 2571 000001CA 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2572 000001CC D309                   M           MOV.L   #_CPUA_RCV_ACK_ET1,R3   ;DST_ADR
 2573 000001CE 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2574                             302     
 2575                             303             SUB_END
 2576                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2577 000001D0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2578                             304             M_RTS
 2579 000001D2 000B                   M           RTS                             ;RTSの後ろの
 2580 000001D4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2581                             305     
 2582                             306     
 2583                             307     ;       ***********************************
 2584                             308     ;       ***                             ***
 2585                             309     ;       ***     CPUB-->ET1              ***
 2586                             310     ;       ***             DATA,TRIG       ***
 2587                             311     ;       ***                             ***
 2588                             312     ;       ***********************************
 2589                             313     ;       128byte単位で7FFFまで転送する
 2590                             314     ;;;;;;;;;2006-12-01     _CPUB_ET1_BLK           .EQU    128             ;128byte()
 2591                             315     ;;;;;;;;;2006-12-01     _CPUB_ET1_ADRMAX        .EQU    H'7000          ;0~6FFF
 2592                             316     
 2593                             317     ;;;;;;;;;2006-12-01     _ET1_SV_DATA_SEND:
 2594                             318     ;;;;;;;;;2006-12-01             SUB_START
 2595                             319     ;;;;;;;;;2006-12-01             MOV.L   #_CPU_REQ_DAT_FLG,R1                    ;
 2596                             320     ;;;;;;;;;2006-12-01             MOV.W   @R1,R0                                  ;
 2597                             321     ;;;;;;;;;2006-12-01             TST     R0,R0                                   ;
 2598                             322     ;;;;;;;;;2006-12-01             TST_BIT_ON ET1_SV_DATASEND_100                  ;
 2599                             323     ;;;;;;;;;2006-12-01             M_BRA   ET1_SV_DATASEND_EXT                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    12
PROGRAM NAME =

 2600                             324     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_100:
 2601                             325     ;;;;;;;;;2006-12-01             TST     #BIT1,R0                                ;
 2602                             326     ;;;;;;;;;2006-12-01             TST_BIT_ON ET1_SV_DATASEND_150                  ;
 2603                             327     ;;;;;;;;;2006-12-01
 2604                             328     ;;;;;;;;;2006-12-01             MEM1_BIT0_TO_BIT7_ORSET MEM=_CPU_REQ_DAT_FLG,LG=W,BIT=BIT1
                                          ,WKREG=R1       ;bit-set
 2605                             329     ;;;;;;;;;2006-12-01             XOR     R0,R0
 2606                             330     ;;;;;;;;;2006-12-01             REG_MOV_TO_MEM  DST_ADR=_CPU_REQ_DAT_CNT,L1=L,DT_REG=R0,WK
                                          REG1=R1
 2607                             331     ;;;;;;;;;2006-12-01             M_BRA   ET1_SV_DATASEND_EXT                     ;
 2608                             332     
 2609                             333     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_150:
 2610                             334     ;;;;;;;;;2006-12-01             MOV.L   #_ET_CPUB_SND_REQ_ET1,R8                ;
 2611                             335     ;;;;;;;;;2006-12-01             MOV.L   #_ET_CPUB_RCV_ACK_ET1,R9                ;
 2612                             336     ;;;;;;;;;2006-12-01             MOV.L   @R8,R0                                  ;
 2613                             337     ;;;;;;;;;2006-12-01             MOV.L   @R9,R1                                  ;
 2614                             338     ;;;;;;;;;2006-12-01             CMP/EQ  R1,R0                                   ;
 2615                             339     ;;;;;;;;;2006-12-01             BF      ET1_SV_DATASEND_EXT                     ;EQではな
                                          い.WAIT
 2616                             340     ;;;;;;;;;2006-12-01     ;       -----------------------------------------------
 2617                             341     ;;;;;;;;;2006-12-01             MOV.L   #_CPU_REQ_DAT_CNT,R5                    ;
 2618                             342     ;;;;;;;;;2006-12-01             MOV.L   @R5,R2                                  ;0~6FFF/12
                                          8byte
 2619                             343     ;;;;;;;;;2006-12-01             MOV.L   #(_CPUB_ET1_ADRMAX/_CPUB_ET1_BLK),R3    ;
 2620                             344     ;;;;;;;;;2006-12-01             CMP/HI  R2,R3                                   ;R2 < R3
 2621                             345     ;;;;;;;;;2006-12-01             BT      ET1_SV_DATASEND_200                     ;
 2622                             346     ;;;;;;;;;2006-12-01             XOR     R2,R2                                   ;
 2623                             347     ;;;;;;;;;2006-12-01             MOV.L   R2,@R5                                  ;
 2624                             348     ;;;;;;;;;2006-12-01             M_BRA   ET1_SV_DATASEND_900                     ;
 2625                             349     ;;;;;;;;;2006-12-01
 2626                             350     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_200:                                    ;Input R2
 2627                             351     ;;;;;;;;;2006-12-01             MOV.L   #(STARTOF Bfram),R5                     ;
 2628                             352     ;;;;;;;;;2006-12-01             MOV.W   #_CPUB_ET1_BLK,R3                       ;
 2629                             353     ;;;;;;;;;2006-12-01             DMULS.L R2,R3                                   ;CNT*128by
                                          te
 2630                             354     ;;;;;;;;;2006-12-01             STS.L   MACL,R6                                 ;
 2631                             355     ;;;;;;;;;2006-12-01
 2632                             356     ;;;;;;;;;2006-12-01             SHLR    R3
 2633                             357     ;;;;;;;;;2006-12-01             MOV.L   #_ET_CPUB_SND_REQ_CNT,R1                ;
 2634                             358     ;;;;;;;;;2006-12-01             MOV.L   R3,@R1                                  ;128byte/2
                                          =64word
 2635                             359     ;;;;;;;;;2006-12-01             MOV.L   #_ET_CPUB_SND_REQ_ADR,R1                ;
 2636                             360     ;;;;;;;;;2006-12-01             MOV.L   R6,@R1                                  ;ADRESS
 2637                             361     ;;;;;;;;;2006-12-01             ADD     R6,R5                                   ;
 2638                             362     ;;;;;;;;;2006-12-01             MOV.L   #_ET_CPUB_SND_DAT,R7                    ;
 2639                             363     ;;;;;;;;;2006-12-01
 2640                             364     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_LOP:
 2641                             365     ;;;;;;;;;2006-12-01             TST     R3,R3                                   ;
 2642                             366     ;;;;;;;;;2006-12-01             TST_BIT_OF ET1_SV_DATASEND_800
 2643                             367     ;;;;;;;;;2006-12-01             MOV.W   @R5+,R1                                 ;
 2644                             368     ;;;;;;;;;2006-12-01             MOV.W   R1,@R7
 2645                             369     ;;;;;;;;;2006-12-01             ADD     #2,R7
 2646                             370     ;;;;;;;;;2006-12-01             ADD     #-1,R3
 2647                             371     ;;;;;;;;;2006-12-01             M_BRA   ET1_SV_DATASEND_LOP
 2648                             372     ;;;;;;;;;2006-12-01
 2649                             373     ;;;;;;;;;2006-12-01     ;       -------------(HAND)---------------------------------
 2650                             374     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_800:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    13
PROGRAM NAME =

 2651                             375     ;;;;;;;;;2006-12-01             XOR     R1,R1
 2652                             376     ;;;;;;;;;2006-12-01             MOV.L   @R8,R0                                  ;
 2653                             377     ;;;;;;;;;2006-12-01             TST     R0,R0                                   ;
 2654                             378     ;;;;;;;;;2006-12-01             TST_BIT_ON ET1_SV_DATASEND_820                  ;
 2655                             379     ;;;;;;;;;2006-12-01             MOV.L   #_ET1_DATA_COD,R1                       ;
 2656                             380     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_820:                                    ;
 2657                             381     ;;;;;;;;;2006-12-01             MOV.L   R1,@R8                                  ;NEW REQ
 2658                             382     ;;;;;;;;;2006-12-01
 2659                             383     ;;;;;;;;;2006-12-01             MOV.L   #_CPU_REQ_DAT_CNT,R1                    ;
 2660                             384     ;;;;;;;;;2006-12-01             MOV.L   @R1,R0                                  ;
 2661                             385     ;;;;;;;;;2006-12-01             ADD     #1,R0                                   ;
 2662                             386     ;;;;;;;;;2006-12-01             MOV.L   R0,@R1                                  ;
 2663                             387     ;;;;;;;;;2006-12-01             M_BRA   ET1_SV_DATASEND_EXT
 2664                             388     ;;;;;;;;;2006-12-01
 2665                             389     ;;;;;;;;;2006-12-01     ;       -------------(END)---------------------------------
 2666                             390     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_900:
 2667                             391     ;;;;;;;;;2006-12-01             XOR     R0,R0
                                                  ;
 2668                             392     ;;;;;;;;;2006-12-01             REG_MOV_TO_MEM  DST_ADR=_CPU_REQ_DAT_FLG,L1=W,DT_REG=R0,WK
                                          REG1=R1 ;
 2669                             393     ;;;;;;;;;2006-12-01             XOR     R0,R0
                                                  ;
 2670                             394     ;;;;;;;;;2006-12-01             REG_MOV_TO_MEM  DST_ADR=_CPU_REQ_DAT_CNT,L1=L,DT_REG=R0,WK
                                          REG1=R1 ;
 2671                             395     ;;;;;;;;;2006-12-01
                                                  ;
 2672                             396     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_EXT:
 2673                             397     ;;;;;;;;;2006-12-01             SUB_END
 2674                             398     ;;;;;;;;;2006-12-01             M_RTS
 2675                             399     
 2676                             400     
 2677                             401     ;       *******************************************
 2678                             402     ;       ***                                     ***
 2679                             403     ;       ***             KOMTRAX機能時有効       ***
 2680                             404     ;       ***                                     ***
 2681                             405     ;       *******************************************
 2682                             406     ;       ----------ｲﾍﾞﾝﾄｺｰﾄﾞ→CMD送信------------
 2683                             407             .IMPORT         _IROCK_OUT_NO           ;2byte*8 [8]....MSG-NO  [FFFF 0~319 POWER-
                                          ON=0注意]
 2684                             408             .IMPORT         _IROCK_CHAR             ;1byte [8][8]...MSG-data
 2685                             409     
 2686                             410             .IMPORT         _FRAM_CB_ICHAR          ;H'6000 256byte
 2687                             411     
 2688                             412     ;       ---------- 2009-07-27(KOMTRAX)-----------
 2689                             413     ;       ---------- ｼｰｹﾝｽ出力(CPUB-->SEQ)
 2690                             414     ;       ---------- ｼｰｹﾝｽﾚﾌﾚｯｼｭ (KOMTRAX-->CPUB-->SEQ)
 2691                             415     ;       ---------- ｼｰｹﾝｽﾚﾌﾚｯｼｭ (KOMTRAX<--CPUB--SEQ)
 2692                             416     ;       ---------- ｲﾍﾞﾝﾄﾒｯｾｰｼﾞ転送
 2693                             417     
 2694                                     ***** BEGIN-POOL *****
 2695 000001D6 0000                       ALIGNMENT CODE
 2696 000001D8 00000000                   DATA FOR SOURCE-LINE 273
 2697 000001DC 00000000                   DATA FOR SOURCE-LINE 273
 2698 000001E0 00000000                   DATA FOR SOURCE-LINE 288
 2699 000001E4 00000000                   DATA FOR SOURCE-LINE 288
 2700 000001E8 00000000                   DATA FOR SOURCE-LINE 292
 2701 000001EC 00000000                   DATA FOR SOURCE-LINE 292
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    14
PROGRAM NAME =

 2702 000001F0 00000000                   DATA FOR SOURCE-LINE 301
 2703 000001F4 00000000                   DATA FOR SOURCE-LINE 301
 2704                                     ***** END-POOL *****
 2705          000000E2           418     _SQ113          .EQU    113*2           ;SEQ--->CPUB指令　2011-01-14 113.9
 2706          0000012A           419     _SQ149          .EQU    149*2           ;SEQ--->CPUB-->KOMTRAX
 2707          000000AC           420     _SQ086          .EQU    86*2            ;KOMTRAX-->CPUB-->SEQ()
 2708          000000AE           421     _SQ087          .EQU    87*2            ;CPUB-->SEQ(BIT3=ｲﾍﾞﾝﾄ,BIT2=1ｻｲｸﾙ)
 2709          00000001           422     __KMTCMD_WR     .EQU    BIT0            ;
 2710          00000002           423     __KMTCMD_RD     .EQU    BIT1            ;
 2711                             424     
 2712                             425     ;       ----------- SITM MEM-MAP------
 2713                             426     
 2714                             427     ;       ========== SIT==>KOMTRAX ====
 2715          00000000           428     __SITM_HANDWR   .EQU    0*2             ;
 2716          00000002           429     __SITM_HANDCNT  .EQU    1*2             ;2byte
 2717                             430     
 2718          00000004           431     __SITM_CHRTOP1  .EQU    2*2             ;byte adress
 2719          00000008           432     __SITM_CHRCNT   .EQU    8               ;8byte
 2720                             433     
 2721          0000000C           434     __SITM_AIDAT1   .EQU    6*2             ;
 2722          00000008           435     __SITM_AIDTCNT  .EQU    2*4             ;2byte*4CH
 2723                             436     
 2724          00000014           437     __SITM_MENTCNT  .EQU    10*2            ;4byte
 2725          00000004           438     __SITM_MCNTCNT  .EQU    4               ;
 2726                             439     
 2727                             440     ;       -------------- KOMTRAX==>SIT====
 2728          00000064           441     __SITM_OUT_TOP  .EQU    50*2            ;
 2729          00000020           442     __SITM_OUTCNT   .EQU    16*2            ;16word/MAX(50W)
 2730                             443     
 2731          00000064           444     __SITM_HANDRD   .EQU    __SITM_OUT_TOP+0*2      ;0
 2732                             445                                                     ;1　1:DO指令なので別I/Oで送信される
 2733          00000068           446     __SITM_TRSSTS1  .EQU    __SITM_OUT_TOP+2*2      ;2
 2734          0000006A           447     __SITM_ERRSTS1  .EQU    __SITM_OUT_TOP+3*2      ;3
 2735          0000006C           448     __SITM_WARSTS1  .EQU    __SITM_OUT_TOP+4*2      ;4
 2736          0000006E           449     __SITM_TRSSTS2  .EQU    __SITM_OUT_TOP+5*2      ;5
 2737          00000070           450     __SITM_KMTTYPE  .EQU    __SITM_OUT_TOP+6*2      ;6:5A01が011型KOMTRAX対応 2011-01-14
 2738                             451     
 2739                             452     
 2740                             453     ;-------__SITM_KMTTYPEのﾃﾞｰﾀの中身 2011-01-14
 2741          00005A01           454     __SIT_VER_TYP2_COD      .EQU    H'5A01                  ;SIT4へﾒﾓﾘ拡張されたｿﾌﾄであること
                                          を通知する
 2742                             455     
 2743                             456     ;       ---------　EVENT　信号---------
 2744          00000032           457     __EVENT_SIG_ONTIMSV     .EQU    500/__TM_LATE10MS       ;300msec ｲﾍﾞﾝﾄのための信号(送信処
                                          理100msec,)
 2745          00000032           458     __EVENT_SIG_OFTIMSV     .EQU    500/__TM_LATE10MS       ;300msec ｲﾍﾞﾝﾄのための信号(送信処
                                          理100msec,)
 2746                             459     
 2747                             460     ;       ----------------- 1CYCLE
 2748          00000014           461     __CYCLE_SIG_TIMSV       .EQU    20      ;20msec　15~25msec　50msec:1秒で20回転　1200spmま
                                          で可能
 2749                             462     
 2750                             463     
 2751                             464     
 2752                             465     ;       -----------2011-01-14-------
 2753          000000C8           466     __SITM_SYOUMO_TOP       .EQU    100*2   ;
 2754          00000040           467     __SITM_SYOUMO_CNT       .EQU    32*2    ;64byte
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    15
PROGRAM NAME =

 2755                             468     
 2756          00000108           469     __SITM_HINBAN_TOP       .EQU    132*2   ;
 2757          000000A0           470     __SITM_HINBAN_CNT       .EQU    80*2    ;160byte
 2758                             471     
 2759                             472     
 2760          00000064           473     __HINBAN_SIG_ONTIMSV    .EQU    1000/__TM_LATE10MS      ;1000msec保証   ;200/__TM_LATE10MS
                                                  ;150msec保証
 2761          00000064           474     __HINBAN_SIG_OFTIMSV    .EQU    1000/__TM_LATE10MS      ;1000msec保証   ;200/__TM_LATE10MS
                                                  ;150msec保証
 2762                             475     
 2763          00000014           476     __SYOUMO_SIG_ONTIMSV    .EQU    200/__TM_LATE10MS       ;150msec保証
 2764          00000014           477     __SYOUMO_SIG_OFTIMSV    .EQU    200/__TM_LATE10MS       ;150msec保証
 2765                             478     
 2766                             479     
 2767          00000006           480     _HINBAN_BUF_MAX         .EQU    6               ;ｶｳﾝﾀMAX
 2768                             481     
 2769                             482     ;       ***********************************
 2770                             483     ;       ***                             ***
 2771                             484     ;       ***     高速処理 1ms~5mse       ***
 2772                             485     ;       ***                             ***
 2773                             486     ;       ***********************************
 2774                             487     ;
 2775                             488     ;
 2776 000001F8                    489             .ALIGN  4                                       ;
 2777 000001F8                    490     _KOMTRAX_DATA_CTRL
 2778                             491             SUB_START
 2779 000001F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2780                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2781                             492     
 2782                             493             FAR_JSR #_KMT_1CYCLE_SIGCHK,R0                  ;1CYCLE 信号////OK
 2783 000001FA D006                   M           MOV.L   #_KMT_1CYCLE_SIGCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2784 000001FC 400B                   M           JSR     @R0                     ;
 2785 000001FE 0009                   M           NOP                                     ;
 2786                             494     
 2787                             495     ;       --------------------------------
 2788                             496             FAR_JSR #_KMT_SEQ_REF1,R0                       ;DI/DO///////OK
 2789 00000200 D005                   M           MOV.L   #_KMT_SEQ_REF1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2790 00000202 400B                   M           JSR     @R0                     ;
 2791 00000204 0009                   M           NOP                                     ;
 2792                             497     
 2793                             498     ;;;;;;  2011-01-14 ﾒｲﾝｽｷｬﾝへ　処理軽減
 2794                             499     ;;;;;;  ----------ｲﾍﾞﾝﾄｺｰﾄﾞ→CMD送信------------
 2795                             500     ;;;;;;  FAR_JSR #_KMT_EVENT_INT_STEP,R0                 ;ﾒｲﾝｽｷｬﾝでもいい
 2796                             501     
 2797                             502     ;       ------------------ CMD制御---------------------
 2798                             503     ;       ---------ｺﾏﾝﾄﾞ/ﾃﾞｰﾀを受け取ってwrする/readも可能-----------------------
 2799                             504             FAR_JSR #_KMT_CMD_TRS,R0                        ;SIT => COMMAD,DATA => KMT
 2800 00000206 D005                   M           MOV.L   #_KMT_CMD_TRS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2801 00000208 400B                   M           JSR     @R0                     ;
 2802 0000020A 0009                   M           NOP                                     ;
 2803                             505                                                             ;SIT <= RESOPONSE   <= KMT
 2804                             506     
 2805                             507     
 2806                             508             SUB_END
 2807                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2808 0000020C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2809                             509             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    16
PROGRAM NAME =

 2810 0000020E 000B                   M           RTS                             ;RTSの後ろの
 2811 00000210 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2812                             510     
 2813                             511     
 2814                             512     
 2815                                     ***** BEGIN-POOL *****
 2816 00000212 0000                       ALIGNMENT CODE
 2817 00000214 00000000                   DATA FOR SOURCE-LINE 493
 2818 00000218 00000000                   DATA FOR SOURCE-LINE 496
 2819 0000021C 00000000                   DATA FOR SOURCE-LINE 504
 2820                                     ***** END-POOL *****
 2821 00000220                    513     _KOMTRAX_TIMCNT:
 2822                             514             SUB_START
 2823 00000220 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2824                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2825                             515     
 2826                             516     ;;;2011-01-14   DN_TIME LG=W,MEM_ADR=_KMT_HANDWDT_TIM,WKREG1=R1,WKREG2=R2       ;
 2827                             517     
 2828                             518     
 2829                             519     ;       ------------ 2011-01-14 10MSEC 作成 ---------------
 2830 00000222 D104               520             MOV.L   #_KMT_PROC_10MS,R1                              ;10msecﾀｲﾏ作成
 2831 00000224 6011               521             MOV.W   @R1,R0                                          ;
 2832 00000226 2008               522             TST     R0,R0                                           ;
 2833                             523             TST_BIT_OF KOMTRAX_TIMCT10_100                          ;
 2834 00000228 8906                   M           BT      KOMTRAX_TIMCT10_100
 2835 0000022A 70FF               524             ADD     #-1,R0                                          ;
 2836 0000022C 2101               525             MOV.W   R0,@R1                                          ;
 2837                             526             M_BRA   KOMTRAX_TIMCT10_200                             ;
 2838 0000022E A008                   M           BRA     KOMTRAX_TIMCT10_200
 2839 00000230 0009                   M           NOP
 2840                                     ***** BEGIN-POOL *****
 2841 00000232 0000                       ALIGNMENT CODE
 2842 00000234 00000000                   DATA FOR SOURCE-LINE 520
 2843                                     ***** END-POOL *****
 2844 00000238                    527     KOMTRAX_TIMCT10_100:
 2845 00000238 9006               528             MOV.W   #D'10-1,R0                                      ;
 2846 0000023A 2101               529             MOV.W   R0,@R1                                          ;
 2847                             530     
 2848                             531             FAR_JSR #_KMT_10MSEC_TIM,R0                                     ;2011-01-14
 2849 0000023C D003                   M           MOV.L   #_KMT_10MSEC_TIM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2850 0000023E 400B                   M           JSR     @R0                     ;
 2851 00000240 0009                   M           NOP                                     ;
 2852                             532     
 2853 00000242                    533     KOMTRAX_TIMCT10_200:
 2854                             534     
 2855                             535             SUB_END
 2856                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2857 00000242 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2858                             536             M_RTS
 2859 00000244 000B                   M           RTS                             ;RTSの後ろの
 2860 00000246 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2861                             537     
 2862                             538     ;       *******************************************
 2863                             539     ;       ***                                     ***
 2864                             540     ;       ***     処理軽減のため10msecタイマ使用  ***
 2865                             541     ;       ***                                     ***
 2866                             542     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    17
PROGRAM NAME =

 2867                             543     ;       ----------2011-01-14----
 2868                                     ***** BEGIN-POOL *****
 2869 00000248 0009                       DATA FOR SOURCE-LINE 528
 2870 0000024A 0000                       ALIGNMENT CODE
 2871 0000024C 00000000                   DATA FOR SOURCE-LINE 531
 2872                                     ***** END-POOL *****
 2873 00000250                    544     _KMT_10MSEC_TIM:
 2874                             545             SUB_START
 2875 00000250 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2876                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2877                             546     
 2878                             547             DN_TIME LG=W,MEM_ADR=_KMT_HINBAN_SIGTIM,WKREG1=R1,WKREG2=R2
 2879 00000252 D10D                   M           MOV.L   #_KMT_HINBAN_SIGTIM,R1          ;SORCE ADRESS SET
 2880 00000254 6211                   M           MOV.W   @R1,R2          ;
 2881 00000256 2228                   M           TST     R2,R2                   ;
 2882 00000258 8901                   M           BT      JMP_0100001                     ;ZERO THEN JUMP
 2883 0000025A 4210                   M           DT      R2                              ;
 2884 0000025C 2121                   M           MOV.W   R2,@R1          ;STORE
 2885 0000025E                        M   JMP_0100001:
 2886                             548             DN_TIME LG=W,MEM_ADR=_KMT_SYOUMO_SIGTIM,WKREG1=R1,WKREG2=R2
 2887 0000025E D10B                   M           MOV.L   #_KMT_SYOUMO_SIGTIM,R1          ;SORCE ADRESS SET
 2888 00000260 6211                   M           MOV.W   @R1,R2          ;
 2889 00000262 2228                   M           TST     R2,R2                   ;
 2890 00000264 8901                   M           BT      JMP_0100002                     ;ZERO THEN JUMP
 2891 00000266 4210                   M           DT      R2                              ;
 2892 00000268 2121                   M           MOV.W   R2,@R1          ;STORE
 2893 0000026A                        M   JMP_0100002:
 2894                             549     
 2895                             550             DN_TIME LG=W,MEM_ADR=_KMT_HANDWDT_TIM,WKREG1=R1,WKREG2=R2       ;1msec->10msecへ 2
                                          011-01-14
 2896 0000026A D109                   M           MOV.L   #_KMT_HANDWDT_TIM,R1            ;SORCE ADRESS SET
 2897 0000026C 6211                   M           MOV.W   @R1,R2          ;
 2898 0000026E 2228                   M           TST     R2,R2                   ;
 2899 00000270 8901                   M           BT      JMP_0100003                     ;ZERO THEN JUMP
 2900 00000272 4210                   M           DT      R2                              ;
 2901 00000274 2121                   M           MOV.W   R2,@R1          ;STORE
 2902 00000276                        M   JMP_0100003:
 2903                             551             DN_TIME LG=W,MEM_ADR=_KMT_EVENT_SIGTIM,WKREG1=R1,WKREG2=R2      ;1msec->10msecへ 2
                                          011-01-14
 2904 00000276 D107                   M           MOV.L   #_KMT_EVENT_SIGTIM,R1           ;SORCE ADRESS SET
 2905 00000278 6211                   M           MOV.W   @R1,R2          ;
 2906 0000027A 2228                   M           TST     R2,R2                   ;
 2907 0000027C 8901                   M           BT      JMP_0100004                     ;ZERO THEN JUMP
 2908 0000027E 4210                   M           DT      R2                              ;
 2909 00000280 2121                   M           MOV.W   R2,@R1          ;STORE
 2910 00000282                        M   JMP_0100004:
 2911                             552     
 2912                             553     
 2913                             554             SUB_END
 2914                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2915 00000282 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2916                             555             M_RTS
 2917 00000284 000B                   M           RTS                             ;RTSの後ろの
 2918 00000286 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2919                             556     
 2920                             557     
 2921                             558     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    18
PROGRAM NAME =

 2922                             559     ;       ***                                     ***
 2923                             560     ;       ***             1CYCLE 信号             ***
 2924                             561     ;       ***             割込                    ***
 2925                             562     ;       *******************************************
 2926                             563             .IMPORT _CPUATOD_1CYCL_SIG              ;BIT0=0/BIT0=1 ｾｯﾄCPUA CLR CPUD
 2927                             564     
 2928                                     ***** BEGIN-POOL *****
 2929 00000288 00000000                   DATA FOR SOURCE-LINE 547
 2930 0000028C 00000000                   DATA FOR SOURCE-LINE 548
 2931 00000290 00000000                   DATA FOR SOURCE-LINE 550
 2932 00000294 00000000                   DATA FOR SOURCE-LINE 551
 2933                                     ***** END-POOL *****
 2934 00000298                    565     _KMT_1CYCLE_SET                                 ;(CPUBのｸﾗｯﾁからCALL)
 2935                             566             SUB_START
 2936 00000298 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2937                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2938 0000029A 9009               567             MOV.W   #__CYCLE_SIG_TIMSV,R0
 2939 0000029C D105               568             MOV.L   #_KMT_1CYCL_SIGTIM,R1           ;
 2940 0000029E 2101               569             MOV.W   R0,@R1                          ;
 2941                             570             MEM1_BIT0_F_ORSET MEM=_KMT_STS_SQ087,LG=W,BIT=(BIT2),WKRG1=R1,WKRG2=R2
 2942 000002A0 D105                   M           MOV.L   #_KMT_STS_SQ087,R1              ;
 2943 000002A2 6011                   M           MOV.W   @R1,R0          ;
 2944 000002A4 9205                   M           MOV.W   #(BIT2),R2              ;
 2945 000002A6 202B                   M           OR      R2,R0           ;
 2946 000002A8 2101                   M           MOV.W   R0,@R1          ;
 2947                             571             SUB_END
 2948                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2949 000002AA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2950                             572             M_RTS
 2951 000002AC 000B                   M           RTS                             ;RTSの後ろの
 2952 000002AE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2953                             573     
 2954                             574     
 2955                                     ***** BEGIN-POOL *****
 2956 000002B0 0014                       DATA FOR SOURCE-LINE 567
 2957 000002B2 0004                       DATA FOR SOURCE-LINE 570
 2958 000002B4 00000000                   DATA FOR SOURCE-LINE 568
 2959 000002B8 00000000                   DATA FOR SOURCE-LINE 570
 2960                                     ***** END-POOL *****
 2961 000002BC                    575     _KMT_1CYCLE_SIGCHK
 2962                             576             SUB_START
 2963 000002BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2964                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2965                             577     
 2966                             578     ;       --------- 2014-09-29 1ｻｲｸﾙ信号をCPUAからもらう----------
 2967 000002BE D10A               579             MOV.L   #_CPUATOD_1CYCL_SIG,R1          ;BIT0=0/BIT0=1 1ｻｲｸﾙ
 2968 000002C0 6011               580             MOV.W   @R1,R0                          ;
 2969 000002C2 C801               581             TST     #BIT0,R0                        ;
 2970                             582             TST_BIT_OF KMT_1CYCLSIGCHK_050          ;1CYCLE ON
 2971 000002C4 8904                   M           BT      KMT_1CYCLSIGCHK_050
 2972 000002C6 200A               583             XOR     R0,R0                           ;
 2973 000002C8 2101               584             MOV.W   R0,@R1                          ;CLR
 2974                             585     
 2975                             586             FAR_JSR #_KMT_1CYCLE_SET,R0             ;
 2976 000002CA D008                   M           MOV.L   #_KMT_1CYCLE_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2977 000002CC 400B                   M           JSR     @R0                     ;
 2978 000002CE 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    19
PROGRAM NAME =

 2979                             587     
 2980 000002D0                    588     KMT_1CYCLSIGCHK_050
 2981                             589     
 2982                             590     
 2983                             591     ;       -----------------------------------------
 2984 000002D0 D107               592             MOV.L   #_KMT_STS_SQ087,R1              ;ok
 2985 000002D2 6011               593             MOV.W   @R1,R0                          ;
 2986 000002D4 C804               594             TST     #BIT2,R0
 2987                             595             TST_BIT_OF KMT_1CYCLSIGCHK_END
 2988 000002D6 8914                   M           BT      KMT_1CYCLSIGCHK_END
 2989                             596     
 2990 000002D8 D106               597             MOV.L   #_KMT_1CYCL_SIGTIM,R1           ;
 2991 000002DA 6011               598             MOV.W   @R1,R0                          ;
 2992 000002DC 2008               599             TST     R0,R0
 2993                             600             TST_BIT_OF KMT_1CYCLSIGCHK_100          ;
 2994 000002DE 890B                   M           BT      KMT_1CYCLSIGCHK_100
 2995 000002E0 70FF               601             ADD     #-1,R0
 2996 000002E2 2101               602             MOV.W   R0,@R1                          ;
 2997                             603             M_BRA   KMT_1CYCLSIGCHK_END             ;
 2998 000002E4 A00D                   M           BRA     KMT_1CYCLSIGCHK_END
 2999 000002E6 0009                   M           NOP
 3000                             604     
 3001                                     ***** BEGIN-POOL *****
 3002 000002E8 00000000                   DATA FOR SOURCE-LINE 579
 3003 000002EC 00000000                   DATA FOR SOURCE-LINE 586
 3004 000002F0 00000000                   DATA FOR SOURCE-LINE 592
 3005 000002F4 00000000                   DATA FOR SOURCE-LINE 597
 3006                                     ***** END-POOL *****
 3007 000002F8                    605     KMT_1CYCLSIGCHK_100
 3008                             606             MEM1_BIT0_F_ADCLR MEM=_KMT_STS_SQ087,LG=W,BIT=~(BIT2),WKRG1=R1,WKRG2=R4 ;
 3009 000002F8 D104                   M           MOV.L   #_KMT_STS_SQ087,R1              ;
 3010 000002FA 6011                   M           MOV.W   @R1,R0          ;
 3011 000002FC 9404                   M           MOV.W   #LWORD ~(BIT2),R4       ;
 3012 000002FE 2049                   M           AND     R4,R0           ;
 3013 00000300 2101                   M           MOV.W   R0,@R1          ;
 3014                             607     
 3015 00000302                    608     KMT_1CYCLSIGCHK_END
 3016                             609             SUB_END
 3017                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3018 00000302 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3019                             610             M_RTS
 3020 00000304 000B                   M           RTS                             ;RTSの後ろの
 3021 00000306 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3022                             611     
 3023                             612     
 3024                             613     ;       *******************************************
 3025                             614     ;       ***                                     ***
 3026                             615     ;       ***             ｼｰｹﾝｽ1WORD転送処理      ***
 3027                             616     ;       ***             (read/write)            ***
 3028                             617     ;       ***             割り込み                ***
 3029                             618     ;       *******************************************
 3030                                     ***** BEGIN-POOL *****
 3031 00000308 FFFB                       DATA FOR SOURCE-LINE 606
 3032 0000030A 0000                       ALIGNMENT CODE
 3033 0000030C 00000000                   DATA FOR SOURCE-LINE 606
 3034                                     ***** END-POOL *****
 3035 00000310                    619             .ALIGN  4                                       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    20
PROGRAM NAME =

 3036 00000310                    620     _KMT_SEQ_REF1:
 3037                             621             SUB_START
 3038 00000310 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3039                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3040                             622     
 3041                             623     
 3042                             624     ;       ----- SEQ149 -->DPRAM
 3043                             625             MEM_MOV_TO_MEM  SRC_ADR=_SEQ_DP_TOP+_SQ149,L1=W,DST_ADR=_ET2_SEQ_IDT01,L2=W,WKREG1
                                          =R0,WKREG2=R1,WKREG3=R2 ;
 3044 00000312 D00C                   M           MOV.L   #_SEQ_DP_TOP+_SQ149,R0
 3045 00000314 6101                   M           MOV.W   @R0,R1  ;WK1=SRC_ADR WK2=data
 3046 00000316 D20C                   M           MOV.L   #_ET2_SEQ_IDT01,R2      ;DST_ADR
 3047 00000318 2211                   M           MOV.W   R1,@R2  ;DST_ADR
 3048                             626     
 3049                             627     ;       ----- DPRAM -->SEQ 86
 3050                             628             MEM_MOV_TO_MEM  SRC_ADR=_ET2_SEQ_QDT01,L1=W,DST_ADR=_SEQ_DP_TOP+_SQ086,L2=W,WKREG1
                                          =R0,WKREG2=R1,WKREG3=R2 ;
 3051 0000031A D00C                   M           MOV.L   #_ET2_SEQ_QDT01,R0
 3052 0000031C 6101                   M           MOV.W   @R0,R1  ;WK1=SRC_ADR WK2=data
 3053 0000031E D20C                   M           MOV.L   #_SEQ_DP_TOP+_SQ086,R2  ;DST_ADR
 3054 00000320 2211                   M           MOV.W   R1,@R2  ;DST_ADR
 3055                             629     
 3056                             630     ;       ------- MAINSQ87WORK+INT87-->SIT4 CPUA(SEQ).DPへ
 3057 00000322 D10C               631             MOV.L   #_KMT_STS1MN_SQ87,R1    ;
 3058 00000324 6011               632             MOV.W   @R1,R0                  ;MAINで作成したSQ87とINTをあわせて出力
 3059 00000326 D30C               633             MOV.L   #_KMT_STS_SQ087,R3      ;
 3060 00000328 6231               634             MOV.W   @R3,R2
 3061 0000032A 9409               635             MOV.W   #H'FFF8,R4              ;R4=MAIN SCAN BIT
 3062 0000032C 2049               636             AND     R4,R0                   ;MAIN BIT3,BIT4,5,6,BIT7~BIT15
 3063 0000032E 6447               637             NOT     R4,R4                   ;
 3064 00000330 2249               638             AND     R4,R2                   ;INT BIT0~BIT6
 3065 00000332 220B               639             OR      R0,R2                   ;
 3066 00000334 2321               640             MOV.W   R2,@R3                  ;SQ087 WORKへ
 3067 00000336 D109               641             MOV.L   #_SEQ_DP_TOP+_SQ087,R1  ;
 3068 00000338 2121               642             MOV.W   R2,@R1                  ;SEQ.DP
 3069                             643     
 3070                             644     ;;;     MEM_MOV_TO_MEM  SRC_ADR=_KMT_STS_SQ087,L1=W,DST_ADR=_SEQ_DP_TOP+_SQ087,L2=W,WKREG1
                                          =R0,WKREG2=R1,WKREG3=R2
 3071                             645     
 3072                             646             SUB_END
 3073                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3074 0000033A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3075                             647             M_RTS
 3076 0000033C 000B                   M           RTS                             ;RTSの後ろの
 3077 0000033E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3078                             648     
 3079                             649     
 3080                             650     
 3081                             651     ;       ***************************************************
 3082                             652     ;       ***                                             ***
 3083                             653     ;       ***     MAIN LOOP                               ***
 3084                             654     ;       ***     KOMTRAXに表示すべきﾃﾞｰﾀをINTに送信する  ***
 3085                             655     ;       ***                                             ***
 3086                             656     ;       ***************************************************
 3087                             657     ;
 3088                                     ***** BEGIN-POOL *****
 3089 00000340 FFF8                       DATA FOR SOURCE-LINE 635
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    21
PROGRAM NAME =

 3090 00000342 0000                       ALIGNMENT CODE
 3091 00000344 00000000                   DATA FOR SOURCE-LINE 625
 3092 00000348 00000000                   DATA FOR SOURCE-LINE 625
 3093 0000034C 00000000                   DATA FOR SOURCE-LINE 628
 3094 00000350 00000000                   DATA FOR SOURCE-LINE 628
 3095 00000354 00000000                   DATA FOR SOURCE-LINE 631
 3096 00000358 00000000                   DATA FOR SOURCE-LINE 633
 3097 0000035C 00000000                   DATA FOR SOURCE-LINE 641
 3098                                     ***** END-POOL *****
 3099 00000360                    658             .ALIGN  4                                       ;
 3100 00000360                    659     _KOMTRAX_EVENT_MAIN
 3101                             660             SUB_START
 3102 00000360 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3103                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3104                             661     
 3105                             662             FAR_JSR #_ICHAR_DATA_CHK,R0                     ;作成
 3106 00000362 D004                   M           MOV.L   #_ICHAR_DATA_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3107 00000364 400B                   M           JSR     @R0                     ;
 3108 00000366 0009                   M           NOP                                     ;
 3109                             663     
 3110                             664     ;処理軽減のため1msecからﾒｲﾝへ2011-01-14
 3111                             665     
 3112                             666             FAR_JSR #_KMT_EVENT_INT_STEP,R0                 ;転送処理
 3113 00000368 D003                   M           MOV.L   #_KMT_EVENT_INT_STEP,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3114 0000036A 400B                   M           JSR     @R0                     ;
 3115 0000036C 0009                   M           NOP                                     ;
 3116                             667     
 3117                             668             SUB_END
 3118                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3119 0000036E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3120                             669             M_RTS
 3121 00000370 000B                   M           RTS                             ;RTSの後ろの
 3122 00000372 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3123                             670     
 3124                             671     ;       ***************************************************
 3125                             672     ;       ***                                             ***
 3126                             673     ;       ***     ｷｬﾗｸﾀに変化があったら送信ｲﾍﾞﾝﾄを出力    ***
 3127                             674     ;       ***                                             ***
 3128                             675     ;       ***************************************************
 3129                             676     ;       キャラクタが変化して、そのキャラクタが2文字が"",""でなければ有効なﾃﾞｰﾀ
 3130                             677     ;[1]基本的にメインのデータをCOPYする
 3131                             678     ;       変化があった際に
 3132                             679     ;       最新値が"20"未満のデータまたは"20"20"なら送信しない
 3133                             680     ;       =>なし状態
 3134                             681     ;・ERRなし状態
 3135                             682     ;"CHAR[0][8]をチェックだけをチェックする"
 3136                             683     ;・ERR有りでCHAR[0][8]が送信完了したら
 3137                             684     ;
 3138                             685     ;CHAR[1][8]をﾁｪｯｸする
 3139                             686     ;
 3140                             687     ;_IROCK_OUT_NO          ;2byte*8 [8]....MSG-NO  [FFFF 0~319 POWER-ON=0注意]
 3141                             688     
 3142                                     ***** BEGIN-POOL *****
 3143 00000374 00000000                   DATA FOR SOURCE-LINE 662
 3144 00000378 00000000                   DATA FOR SOURCE-LINE 666
 3145                                     ***** END-POOL *****
 3146 0000037C                    689     _ICHAR_DATA_CHK:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    22
PROGRAM NAME =

 3147                             690             SUB_START
 3148 0000037C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3149                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3150                             691     
 3151 0000037E D103               692             MOV.L   #_KMT_EVENT_CHGF,R1             ;
 3152 00000380 6011               693             MOV.W   @R1,R0                          ;MAIN=>INT
 3153 00000382 2008               694             TST     R0,R0                           ;
 3154                             695             TST_BIT_OF ICHAR_DATCHK_020             ;
 3155 00000384 8904                   M           BT      ICHAR_DATCHK_020
 3156                             696             M_BRA   ICHAR_DATCHK_999                ;送信ｲﾍﾞﾝﾄ中
 3157 00000386 A072                   M           BRA     ICHAR_DATCHK_999
 3158 00000388 0009                   M           NOP
 3159                             697     
 3160                                     ***** BEGIN-POOL *****
 3161 0000038A 0000                       ALIGNMENT CODE
 3162 0000038C 00000000                   DATA FOR SOURCE-LINE 692
 3163                                     ***** END-POOL *****
 3164 00000390                    698     ICHAR_DATCHK_020:
 3165                             699     
 3166 00000390 200A               700             XOR     R0,R0
 3167 00000392 D50A               701             MOV.L   #_KMT_CHK_CHRNO,R5              ;0/1
 3168 00000394 6155               702             MOV.W   @R5+,R1                         ;1
 3169 00000396 201B               703             OR      R1,R0                           ;
 3170 00000398 6155               704             MOV.W   @R5+,R1                         ;2
 3171 0000039A 201B               705             OR      R1,R0                           ;
 3172 0000039C 6155               706             MOV.W   @R5+,R1                         ;3
 3173 0000039E 201B               707             OR      R1,R0                           ;
 3174 000003A0 6155               708             MOV.W   @R5+,R1                         ;4
 3175 000003A2 201B               709             OR      R1,R0                           ;
 3176 000003A4 6155               710             MOV.W   @R5+,R1                         ;5
 3177 000003A6 201B               711             OR      R1,R0                           ;
 3178 000003A8 6155               712             MOV.W   @R5+,R1                         ;6
 3179 000003AA 201B               713             OR      R1,R0                           ;
 3180 000003AC 6155               714             MOV.W   @R5+,R1                         ;7
 3181 000003AE 201B               715             OR      R1,R0                           ;
 3182 000003B0 6155               716             MOV.W   @R5+,R1                         ;8
 3183 000003B2 201B               717             OR      R1,R0                           ;
 3184 000003B4 2008               718             TST     R0,R0                           ;
 3185                             719             TST_BIT_OF ICHAR_DATCHK_050             ;
 3186 000003B6 8903                   M           BT      ICHAR_DATCHK_050
 3187                             720             M_BRA   ICHAR_DATCHK_300                ;ﾃﾞｰﾀ有り更新を止める
 3188 000003B8 A024                   M           BRA     ICHAR_DATCHK_300
 3189 000003BA 0009                   M           NOP
 3190                             721     
 3191                                     ***** BEGIN-POOL *****
 3192 000003BC 00000000                   DATA FOR SOURCE-LINE 701
 3193                                     ***** END-POOL *****
 3194 000003C0                    722     ICHAR_DATCHK_050:
 3195                             723     
 3196                             724     
 3197                             725     
 3198                             726     
 3199                             727     
 3200                             728     
 3201 000003C0 9A2B               729             MOV.W   #D'8,R10                        ;
 3202 000003C2 D517               730             MOV.L   #_IROCK_OUT_NO,R5               ;2byte*8 [8]....MSG-NO  [FFFF 0~319 POWER-
                                          ON=0注意]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    23
PROGRAM NAME =

 3203 000003C4 D617               731             MOV.L   #_KMT_OLD_CHRNO,R6              ;
 3204 000003C6 D718               732             MOV.L   #_KMT_CHK_CHRNO,R7              ;0/1
 3205 000003C8 9428               733             MOV.W   #H'FFFF,R4                      ;
 3206                             734     
 3207                             735     
 3208 000003CA                    736     ICHAR_DATCHK_070LOP:
 3209 000003CA 233A               737             XOR     R3,R3                           ;
 3210 000003CC 6155               738             MOV.W   @R5+,R1                         ;NEW
 3211 000003CE 6261               739             MOV.W   @R6,R2                          ;
 3212 000003D0 2611               740             MOV.W   R1,@R6                          ;
 3213 000003D2 3140               741             CMP/EQ  R4,R1                           ;
 3214 000003D4 8907               742             BT      ICHAR_DATCHK_100                ;R3=0 有効なデータなし
 3215                             743     
 3216 000003D6 3120               744             CMP/EQ  R2,R1                           ;R2=R1
 3217 000003D8 8905               745             BT      ICHAR_DATCHK_100                ;変化なし(通常はFFFF→CODEなので変化有り)
 3218                             746                                                     ;前回の表示グループに同じコードがあるか？
 3219                             747                                                     ;あれば詰めた結果なので更新しない
 3220                             748     
 3221                             749             FAR_JSR #_CHAR_BUF8_SERCH,R0            ;INPUT R1 ANS R0=0(同じものがない)
 3222 000003DA D014                   M           MOV.L   #_CHAR_BUF8_SERCH,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3223 000003DC 400B                   M           JSR     @R0                     ;
 3224 000003DE 0009                   M           NOP                                     ;
 3225 000003E0 2008               750             TST     R0,R0                           ;
 3226                             751             TST_BIT_ON ICHAR_DATCHK_100             ;今までの８個に同じものがある詰まっただけ
 3227 000003E2 8B00                   M           BF      ICHAR_DATCHK_100
 3228                             752     
 3229 000003E4 931B               753             MOV.W   #1,R3                           ;
 3230                             754     
 3231 000003E6                    755     ICHAR_DATCHK_100:                               ;
 3232 000003E6 2731               756             MOV.W   R3,@R7                          ;
 3233 000003E8 7602               757             ADD     #2,R6
 3234 000003EA 7702               758             ADD     #2,R7
 3235 000003EC 7AFF               759             ADD     #-1,R10
 3236 000003EE 2AA8               760             TST     R10,R10
 3237                             761             TST_BIT_ON ICHAR_DATCHK_070LOP          ;
 3238 000003F0 8BEB                   M           BF      ICHAR_DATCHK_070LOP
 3239                             762     
 3240                             763     
 3241 000003F2 9412               764             MOV.W   #D'8,R4
 3242 000003F4 D50B               765             MOV.L   #_KMT_OLD_CHRNO,R5              ;
 3243 000003F6 D60E               766             MOV.L   #_KMT_USE_CHRNO,R6              ;
 3244 000003F8                    767     ICHAR_DATCHK_200:
 3245 000003F8 6055               768             MOV.W   @R5+,R0                         ;COPY OLD(NEW)==>USE
 3246 000003FA 2601               769             MOV.W   R0,@R6
 3247 000003FC 7602               770             ADD     #2,R6
 3248 000003FE 74FF               771             ADD     #-1,R4                          ;
 3249 00000400 2448               772             TST     R4,R4                           ;
 3250                             773             TST_BIT_ON ICHAR_DATCHK_200             ;
 3251 00000402 8BF9                   M           BF      ICHAR_DATCHK_200
 3252                             774     
 3253                             775     
 3254                             776     ;       ============ﾃﾞｰﾀ有/なし=======
 3255 00000404                    777     ICHAR_DATCHK_300:
 3256 00000404 200A               778             XOR     R0,R0                           ;
 3257 00000406 D508               779             MOV.L   #_KMT_CHK_CHRNO,R5              ;0/1
 3258 00000408                    780     ICHAR_DATCHK_300LOP:
 3259 00000408 6151               781             MOV.W   @R5,R1                          ;0/1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    24
PROGRAM NAME =

 3260 0000040A 2118               782             TST     R1,R1                           ;
 3261                             783             TST_BIT_ON ICHAR_DATCHK_400             ;送信ﾃﾞｰﾀ有り
 3262 0000040C 8B12                   M           BF      ICHAR_DATCHK_400
 3263 0000040E 7502               784             ADD     #2,R5                           ;
 3264 00000410 7001               785             ADD     #1,R0                           ;
 3265 00000412 8808               786             CMP/EQ  #8,R0                           ;
 3266 00000414 8BF8               787             BF      ICHAR_DATCHK_300LOP
 3267                             788             M_BRA   ICHAR_DATCHK_500                ;送信すべきデータなし
 3268 00000416 A029                   M           BRA     ICHAR_DATCHK_500
 3269 00000418 0009                   M           NOP
 3270                             789     
 3271                             790     
 3272                                     ***** BEGIN-POOL *****
 3273 0000041A 0008                       DATA FOR SOURCE-LINE 729,764
 3274 0000041C FFFF                       DATA FOR SOURCE-LINE 733
 3275 0000041E 0001                       DATA FOR SOURCE-LINE 753
 3276 00000420 00000000                   DATA FOR SOURCE-LINE 730
 3277 00000424 00000000                   DATA FOR SOURCE-LINE 731,765
 3278 00000428 00000000                   DATA FOR SOURCE-LINE 732,779
 3279 0000042C 00000000                   DATA FOR SOURCE-LINE 749
 3280 00000430 00000000                   DATA FOR SOURCE-LINE 766
 3281                                     ***** END-POOL *****
 3282 00000434                    791     ICHAR_DATCHK_400:
 3283 00000434 211A               792             XOR     R1,R1                           ;
 3284 00000436 2511               793             MOV.W   R1,@R5                          ;ﾃﾞｰﾀなしにする
 3285                             794     
 3286 00000438 D50F               795             MOV.L   #_IROCK_CHAR,R5                 ;
 3287 0000043A 4000               796             SHLL    R0                              ;
 3288 0000043C 4008               797             SHLL2   R0                              ;8byte
 3289 0000043E 350C               798             ADD     R0,R5                           ;
 3290                             799     
 3291 00000440 D70E               800             MOV.L   #_KMT_EVENT_CHAR,R7             ;
 3292                             801     
 3293 00000442 6055               802             MOV.W   @R5+,R0                         ;8byte(4WORD)
 3294 00000444 2008               803             TST     R0,R0                           ;
 3295                             804             TST_BIT_OF ICHAR_DATCHK_500             ;0000はﾃﾞｰﾀなし
 3296 00000446 8911                   M           BT      ICHAR_DATCHK_500
 3297 00000448 9114               805             MOV.W   #H'2020,R1                      ;
 3298 0000044A 3010               806             CMP/EQ  R1,R0                           ;
 3299 0000044C 890E               807             BT      ICHAR_DATCHK_500                ;2020" "" "はﾃﾞｰﾀなし
 3300                             808     
 3301 0000044E 2701               809             MOV.W   R0,@R7                          ;
 3302 00000450 7702               810             ADD     #2,R7
 3303 00000452 6055               811             MOV.W   @R5+,R0
 3304 00000454 2701               812             MOV.W   R0,@R7
 3305 00000456 7702               813             ADD     #2,R7
 3306 00000458 6055               814             MOV.W   @R5+,R0
 3307 0000045A 2701               815             MOV.W   R0,@R7
 3308 0000045C 7702               816             ADD     #2,R7
 3309 0000045E 6055               817             MOV.W   @R5+,R0
 3310 00000460 2701               818             MOV.W   R0,@R7
 3311 00000462 7702               819             ADD     #2,R7
 3312                             820             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_EVENT_CHGF,LG=W,BIT=BIT0,WKREG=R1      ;bit-set
 3313 00000464 D106                   M           MOV.L   #_KMT_EVENT_CHGF,R1             ;
 3314 00000466 6011                   M           MOV.W   @R1,R0          ;
 3315 00000468 CB01                   M           OR      #BIT0,R0                ;
 3316 0000046A 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    25
PROGRAM NAME =

 3317                             821     
 3318 0000046C                    822     ICHAR_DATCHK_500:
 3319 0000046C 0009               823             NOP
 3320 0000046E                    824     ICHAR_DATCHK_999
 3321                             825     
 3322                             826             SUB_END
 3323                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3324 0000046E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3325                             827             M_RTS
 3326 00000470 000B                   M           RTS                             ;RTSの後ろの
 3327 00000472 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3328                             828     
 3329                             829     
 3330                             830     ;       *******************************************
 3331                             831     ;       ***                                     ***
 3332                             832     ;       ***                                     ***
 3333                             833     ;       ***                                     ***
 3334                             834     ;       *******************************************
 3335                             835     ;       INPUT R1
 3336                             836     ;       OUTPUT R0=0(同じものがない)
 3337                             837     ;
 3338                                     ***** BEGIN-POOL *****
 3339 00000474 2020                       DATA FOR SOURCE-LINE 805
 3340 00000476 0000                       ALIGNMENT CODE
 3341 00000478 00000000                   DATA FOR SOURCE-LINE 795
 3342 0000047C 00000000                   DATA FOR SOURCE-LINE 800
 3343 00000480 00000000                   DATA FOR SOURCE-LINE 820
 3344                                     ***** END-POOL *****
 3345 00000484                    838     _CHAR_BUF8_SERCH:
 3346                             839             SUB_START
 3347 00000484 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3348                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3349                             840             PUSH_REG1 R3
 3350 00000486 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
 3351                                 M                                           ;REG=>[SP]
 3352                                 M                                           ;"-4" FF,FF,FF,FC
 3353                             841     
 3354 00000488 D30D               842             MOV.L   #_KMT_USE_CHRNO,R3              ;
 3355                             843     
 3356 0000048A 6035               844             MOV.W   @R3+,R0                         ;1
 3357 0000048C 3010               845             CMP/EQ  R1,R0                           ;
 3358 0000048E 8919               846             BT      CHAR_BUF8SER_200                ;
 3359                             847     
 3360 00000490 6035               848             MOV.W   @R3+,R0                         ;2
 3361 00000492 3010               849             CMP/EQ  R1,R0                           ;
 3362 00000494 8916               850             BT      CHAR_BUF8SER_200                ;
 3363                             851     
 3364 00000496 6035               852             MOV.W   @R3+,R0                         ;3
 3365 00000498 3010               853             CMP/EQ  R1,R0                           ;
 3366 0000049A 8913               854             BT      CHAR_BUF8SER_200                ;
 3367                             855     
 3368 0000049C 6035               856             MOV.W   @R3+,R0                         ;4
 3369 0000049E 3010               857             CMP/EQ  R1,R0                           ;
 3370 000004A0 8910               858             BT      CHAR_BUF8SER_200                ;
 3371                             859     
 3372 000004A2 6035               860             MOV.W   @R3+,R0                         ;5
 3373 000004A4 3010               861             CMP/EQ  R1,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    26
PROGRAM NAME =

 3374 000004A6 890D               862             BT      CHAR_BUF8SER_200                ;
 3375                             863     
 3376 000004A8 6035               864             MOV.W   @R3+,R0                         ;6
 3377 000004AA 3010               865             CMP/EQ  R1,R0                           ;
 3378 000004AC 890A               866             BT      CHAR_BUF8SER_200                ;
 3379                             867     
 3380 000004AE 6035               868             MOV.W   @R3+,R0                         ;7
 3381 000004B0 3010               869             CMP/EQ  R1,R0                           ;
 3382 000004B2 8907               870             BT      CHAR_BUF8SER_200                ;
 3383                             871     
 3384 000004B4 6035               872             MOV.W   @R3+,R0                         ;8
 3385 000004B6 3010               873             CMP/EQ  R1,R0                           ;
 3386 000004B8 8904               874             BT      CHAR_BUF8SER_200                ;
 3387                             875     
 3388 000004BA 200A               876             XOR     R0,R0                           ;同じものがない
 3389                             877             M_BRA   CHAR_BUF8SER_END
 3390 000004BC A003                   M           BRA     CHAR_BUF8SER_END
 3391 000004BE 0009                   M           NOP
 3392                             878     
 3393                             879     
 3394                                     ***** BEGIN-POOL *****
 3395 000004C0 00000000                   DATA FOR SOURCE-LINE 842
 3396                                     ***** END-POOL *****
 3397 000004C4                    880     CHAR_BUF8SER_200:
 3398 000004C4 9003               881             MOV.W   #-1,R0                          ;同じものがある
 3399 000004C6                    882     CHAR_BUF8SER_END:
 3400                             883             POP_REG1 R3
 3401                                 M                                   ; RE"+4" 00,00,00,04
 3402 000004C6 63F6                   M           MOV.L   @R15+,R3        ;
 3403                             884             SUB_END
 3404                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3405 000004C8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3406                             885             M_RTS
 3407 000004CA 000B                   M           RTS                             ;RTSの後ろの
 3408 000004CC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3409                             886     
 3410                             887     
 3411                             888     
 3412                             889     
 3413                             890     
 3414                             891     ;       *******************************************
 3415                             892     ;       ***                                     ***
 3416                             893     ;       ***             EVENT割込転送処理       ***
 3417                             894     ;       ***             (write)                 ***
 3418                             895     ;       *******************************************
 3419                                     ***** BEGIN-POOL *****
 3420 000004CE FFFF                       DATA FOR SOURCE-LINE 881
 3421                                     ***** END-POOL *****
 3422 000004D0                    896             .ALIGN  4                                       ;
 3423 000004D0                    897     _KMT_EVENT_INT_STEP
 3424                             898             SUB_START
 3425 000004D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3426                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3427                             899     
 3428                             900     ;;;     10msecへ
 3429                             901     ;;;     ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 3430                             902     ;;;     MOV.L   #_KMT_EVENT_SIGTIM,R1                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    27
PROGRAM NAME =

 3431                             903     ;;;     MOV.W   @R1,R0                                  ;
 3432                             904     ;;;     TST     R0,R0                                   ;
 3433                             905     ;;;     TST_BIT_OF KMT_EVET_STP050                      ;
 3434                             906     ;;;     ADD     #-1,R0                                  ;
 3435                             907     ;;;     MOV.W   R0,@R1                                  ;
 3436                             908     ;;;KMT_EVET_STP050:
 3437                             909     ;       ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 3438                             910     
 3439                             911     
 3440 000004D2 D116               912             MOV.L   #_KMT_EVENT_FLG,R1                      ;
 3441 000004D4 6011               913             MOV.W   @R1,R0                                  ;BIT1=1 EVENT終了待ち
 3442 000004D6 C80E               914             TST     #(BIT3+BIT2+BIT1),R0                            ;BIT2=1 ｼｰｹﾝｽへ出力
 3443                             915             TST_BIT_ON KMT_EVET_STP300                      ;
 3444 000004D8 8B38                   M           BF      KMT_EVET_STP300
 3445                             916     
 3446 000004DA D515               917             MOV.L   #_KMT_EVENT_CHGF,R5                     ;
 3447 000004DC 6051               918             MOV.W   @R5,R0                                  ;MAIN==>INT
 3448 000004DE 2008               919             TST     R0,R0                                   ;
 3449                             920             TST_BIT_OF KMT_EVET_STPEXT                      ;
 3450 000004E0 8977                   M           BT      KMT_EVET_STPEXT
 3451                             921     
 3452 000004E2 200A               922             XOR     R0,R0                                   ;
 3453 000004E4 2501               923             MOV.W   R0,@R5                                  ;MAIN ｺﾏﾝﾄﾞｸﾘｱ
 3454                             924     
 3455 000004E6 200A               925             XOR     R0,R0
 3456 000004E8 D112               926             MOV.L   #_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R1                 ;0
                                          :固定 (SIT_MEMを対象)
 3457 000004EA 2101               927             MOV.W   R0,@R1                                  ;
 3458                             928     
 3459 000004EC 901B               929             MOV.W   #__SITM_CHRTOP1/2,R0                    ;byte adr/2
 3460 000004EE D112               930             MOV.L   #_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R1                 ;
 3461 000004F0 2101               931             MOV.W   R0,@R1                                  ;
 3462                             932     
 3463 000004F2 9019               933             MOV.W   #__SITM_CHRCNT/2,R0                     ;8byte=4word
 3464 000004F4 D111               934             MOV.L   #_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R1                    ;M
                                          AX 1~256 word
 3465 000004F6 2101               935             MOV.W   R0,@R1
 3466                             936     
 3467 000004F8 D511               937             MOV.L   #_KMT_EVENT_CHAR,R5                     ;8文字*8:64文字
 3468 000004FA D612               938             MOV.L   #_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R6                    ;
 3469 000004FC 6055               939             MOV.W   @R5+,R0                                 ;
 3470 000004FE 2601               940             MOV.W   R0,@R6                                  ;2文字
 3471 00000500 7602               941             ADD     #2,R6                                   ;
 3472 00000502 6055               942             MOV.W   @R5+,R0                                 ;
 3473 00000504 2601               943             MOV.W   R0,@R6                                  ;4文字
 3474 00000506 7602               944             ADD     #2,R6                                   ;
 3475 00000508 6055               945             MOV.W   @R5+,R0                                 ;
 3476 0000050A 2601               946             MOV.W   R0,@R6                                  ;6文字
 3477 0000050C 7602               947             ADD     #2,R6                                   ;
 3478 0000050E 6055               948             MOV.W   @R5+,R0                                 ;
 3479 00000510 2601               949             MOV.W   R0,@R6                                  ;8文字
 3480 00000512 7602               950             ADD     #2,R6                                   ;
 3481                             951     
 3482 00000514 9009               952             MOV.W   #__KMTCMD_WR,R0
 3483 00000516 D10C               953             MOV.L   #_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R1                    ;
 3484 00000518 2101               954             MOV.W   R0,@R1                                  ;WRITE
 3485                             955     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    28
PROGRAM NAME =

 3486                             956             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_EVENT_FLG,LG=W,BIT=BIT1,WKREG=R1       ;bit-set
 3487 0000051A D104                   M           MOV.L   #_KMT_EVENT_FLG,R1              ;
 3488 0000051C 6011                   M           MOV.W   @R1,R0          ;
 3489 0000051E CB02                   M           OR      #BIT1,R0                ;
 3490 00000520 2101                   M           MOV.W   R0,@R1          ;
 3491                             957             M_BRA   KMT_EVET_STPEXT
 3492 00000522 A056                   M           BRA     KMT_EVET_STPEXT
 3493 00000524 0009                   M           NOP
 3494                             958     
 3495                                     ***** BEGIN-POOL *****
 3496 00000526 0002                       DATA FOR SOURCE-LINE 929
 3497 00000528 0004                       DATA FOR SOURCE-LINE 933
 3498 0000052A 0001                       DATA FOR SOURCE-LINE 952
 3499 0000052C 00000000                   DATA FOR SOURCE-LINE 912,956
 3500 00000530 00000000                   DATA FOR SOURCE-LINE 917
 3501 00000534 00000000                   DATA FOR SOURCE-LINE 926
 3502 00000538 00000000                   DATA FOR SOURCE-LINE 930
 3503 0000053C 00000000                   DATA FOR SOURCE-LINE 934
 3504 00000540 00000000                   DATA FOR SOURCE-LINE 937
 3505 00000544 00000000                   DATA FOR SOURCE-LINE 938
 3506 00000548 00000000                   DATA FOR SOURCE-LINE 953
 3507                                     ***** END-POOL *****
 3508 0000054C                    959     KMT_EVET_STP300
 3509 0000054C D10C               960             MOV.L   #_KMT_EVENT_FLG,R1                                      ;
 3510 0000054E 6011               961             MOV.W   @R1,R0                                                  ;BIT1=1 EVENT終了
                                          待ち
 3511 00000550 C808               962             TST     #BIT3,R0                                                ;OFF保証
 3512                             963             TST_BIT_ON KMT_EVET_STP500                                              ;
 3513 00000552 8B37                   M           BF      KMT_EVET_STP500
 3514                             964     
 3515 00000554 C804               965             TST     #BIT2,R0
 3516                             966             TST_BIT_ON KMT_EVET_STP400                                              ;ON保証
 3517 00000556 8B1B                   M           BF      KMT_EVET_STP400
 3518                             967     
 3519 00000558 D10A               968             MOV.L   #_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R1
                                                          ;
 3520 0000055A 6011               969             MOV.W   @R1,R0                                                          ;
 3521 0000055C 2008               970             TST     R0,R0                                                           ;
 3522                             971             TST_BIT_ON KMT_EVET_STPEXT                                              ;ｺﾏﾝﾄﾞ処理
                                          中
 3523 0000055E 8B38                   M           BF      KMT_EVET_STPEXT
 3524                             972     
 3525                             973             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_EVENT_FLG,LG=W,BIT=BIT2,WKREG=R1       ;bit-set
 3526 00000560 D107                   M           MOV.L   #_KMT_EVENT_FLG,R1              ;
 3527 00000562 6011                   M           MOV.W   @R1,R0          ;
 3528 00000564 CB04                   M           OR      #BIT2,R0                ;
 3529 00000566 2101                   M           MOV.W   R0,@R1          ;
 3530                             974     
 3531                             975             MEM1_BIT0_F_ORSET MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(BIT3),WKRG1=R1,WKRG2=R2
 3532 00000568 D107                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 3533 0000056A 6011                   M           MOV.W   @R1,R0          ;
 3534 0000056C 9206                   M           MOV.W   #(BIT3),R2              ;
 3535 0000056E 202B                   M           OR      R2,R0           ;
 3536 00000570 2101                   M           MOV.W   R0,@R1          ;
 3537                             976     
 3538 00000572 9004               977             MOV.W   #__EVENT_SIG_ONTIMSV,R0                 ;
 3539 00000574 D105               978             MOV.L   #_KMT_EVENT_SIGTIM,R1                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    29
PROGRAM NAME =

 3540 00000576 2101               979             MOV.W   R0,@R1                                  ;
 3541                             980             M_BRA   KMT_EVET_STPEXT                         ;ON保証ﾀｲﾏ
 3542 00000578 A02B                   M           BRA     KMT_EVET_STPEXT
 3543 0000057A 0009                   M           NOP
 3544                             981     
 3545                                     ***** BEGIN-POOL *****
 3546 0000057C 0008                       DATA FOR SOURCE-LINE 975
 3547 0000057E 0032                       DATA FOR SOURCE-LINE 977
 3548 00000580 00000000                   DATA FOR SOURCE-LINE 960,973
 3549 00000584 00000000                   DATA FOR SOURCE-LINE 968
 3550 00000588 00000000                   DATA FOR SOURCE-LINE 975
 3551 0000058C 00000000                   DATA FOR SOURCE-LINE 978
 3552                                     ***** END-POOL *****
 3553 00000590                    982     KMT_EVET_STP400
 3554                             983     
 3555 00000590 D109               984             MOV.L   #_KMT_EVENT_SIGTIM,R1                           ;
 3556 00000592 6011               985             MOV.W   @R1,R0                                          ;
 3557 00000594 2008               986             TST     R0,R0                                                   ;
 3558                             987             TST_BIT_ON KMT_EVET_STPEXT                                      ;
 3559 00000596 8B1C                   M           BF      KMT_EVET_STPEXT
 3560                             988     
 3561                             989             MEM1_BIT0_F_ADCLR MEM=_KMT_STS1MN_SQ87,LG=W,BIT=~(BIT3),WKRG1=R1,WKRG2=R4       ;
 3562 00000598 D108                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 3563 0000059A 6011                   M           MOV.W   @R1,R0          ;
 3564 0000059C 940A                   M           MOV.W   #LWORD ~(BIT3),R4       ;
 3565 0000059E 2049                   M           AND     R4,R0           ;
 3566 000005A0 2101                   M           MOV.W   R0,@R1          ;
 3567                             990             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_EVENT_FLG,LG=W,BIT=BIT3,WKREG=R1       ;bit-set
 3568 000005A2 D107                   M           MOV.L   #_KMT_EVENT_FLG,R1              ;
 3569 000005A4 6011                   M           MOV.W   @R1,R0          ;
 3570 000005A6 CB08                   M           OR      #BIT3,R0                ;
 3571 000005A8 2101                   M           MOV.W   R0,@R1          ;
 3572                             991     
 3573                             992     
 3574 000005AA 9004               993             MOV.W   #__EVENT_SIG_OFTIMSV,R0                 ;
 3575 000005AC D102               994             MOV.L   #_KMT_EVENT_SIGTIM,R1                   ;
 3576 000005AE 2101               995             MOV.W   R0,@R1                                  ;
 3577                             996             M_BRA   KMT_EVET_STPEXT                         ;OFF保証ﾀｲﾏ
 3578 000005B0 A00F                   M           BRA     KMT_EVET_STPEXT
 3579 000005B2 0009                   M           NOP
 3580                             997     
 3581                                     ***** BEGIN-POOL *****
 3582 000005B4 FFF7                       DATA FOR SOURCE-LINE 989
 3583 000005B6 0032                       DATA FOR SOURCE-LINE 993
 3584 000005B8 00000000                   DATA FOR SOURCE-LINE 984,994
 3585 000005BC 00000000                   DATA FOR SOURCE-LINE 989
 3586 000005C0 00000000                   DATA FOR SOURCE-LINE 990
 3587                                     ***** END-POOL *****
 3588 000005C4                    998     KMT_EVET_STP500:
 3589                             999     
 3590 000005C4 D104              1000             MOV.L   #_KMT_EVENT_SIGTIM,R1                           ;
 3591 000005C6 6011              1001             MOV.W   @R1,R0                                          ;
 3592 000005C8 2008              1002             TST     R0,R0                                           ;
 3593                            1003             TST_BIT_ON KMT_EVET_STPEXT                              ;
 3594 000005CA 8B02                   M           BF      KMT_EVET_STPEXT
 3595                            1004     
 3596 000005CC 200A              1005             XOR     R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    30
PROGRAM NAME =

 3597 000005CE D103              1006             MOV.L   #_KMT_EVENT_FLG,R1                                              ;
 3598 000005D0 2101              1007             MOV.W   R0,@R1                                                          ;
 3599                            1008     
 3600                            1009     
 3601 000005D2                   1010     KMT_EVET_STPEXT
 3602                            1011             SUB_END
 3603                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3604 000005D2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3605                            1012             M_RTS
 3606 000005D4 000B                   M           RTS                             ;RTSの後ろの
 3607 000005D6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3608                            1013     
 3609                            1014     
 3610                            1015     ;       *******************************************
 3611                            1016     ;       ***                                     ***
 3612                            1017     ;       ***             ﾊﾝﾄﾞｼｪｲｸWR              ***
 3613                            1018     ;       ***                                     ***
 3614                            1019     ;       *******************************************
 3615                                     ***** BEGIN-POOL *****
 3616 000005D8 00000000                   DATA FOR SOURCE-LINE 1000
 3617 000005DC 00000000                   DATA FOR SOURCE-LINE 1006
 3618                                     ***** END-POOL *****
 3619 000005E0                   1020     _KOMTRAX_HAND_WRITE:
 3620                            1021             SUB_START
 3621 000005E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3622                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3623                            1022     
 3624                            1023     
 3625 000005E2 D111              1024             MOV.L   #_KMT_HANDWR_FLG,R1                             ;
 3626 000005E4 6011              1025             MOV.W   @R1,R0                                          ;BIT1=1
 3627 000005E6 C802              1026             TST     #(BIT1),R0                                      ;
 3628                            1027             TST_BIT_ON KMT_HANDWR_STP300                            ;
 3629 000005E8 8B2C                   M           BF      KMT_HANDWR_STP300
 3630                            1028     
 3631                            1029     ;       ---------- WDT ﾁｪｯｸ部分------------------
 3632                            1030             FAR_JSR #_KMT_HAND_WDTCHK,R0
 3633 000005EA D010                   M           MOV.L   #_KMT_HAND_WDTCHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3634 000005EC 400B                   M           JSR     @R0                     ;
 3635 000005EE 0009                   M           NOP                                     ;
 3636 000005F0 2008              1031             TST     R0,R0
 3637                            1032             TST_BIT_OF KMT_HANDWR_STPEXT                                            ;
 3638 000005F2 8931                   M           BT      KMT_HANDWR_STPEXT
 3639                            1033     
 3640                            1034     ;       -------------------------------------
 3641 000005F4 200A              1035             XOR     R0,R0
 3642 000005F6 D10E              1036             MOV.L   #(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1               ;0
                                          :固定 (SIT_MEMを対象)
 3643 000005F8 2101              1037             MOV.W   R0,@R1                                                          ;
 3644                            1038     
 3645 000005FA 9012              1039             MOV.W   #__SITM_HANDWR/2,R0                                             ;byte adr/
                                          2
 3646 000005FC D10D              1040             MOV.L   #(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1               ;
 3647 000005FE 2101              1041             MOV.W   R0,@R1                                                          ;
 3648                            1042     
 3649 00000600 9010              1043             MOV.W   #__SITM_HANDCNT/2,R0                                            ;2Byte=1WO
                                          RD
 3650 00000602 D10D              1044             MOV.L   #(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;MAX 1~256
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    31
PROGRAM NAME =

                                           word
 3651 00000604 2101              1045             MOV.W   R0,@R1
 3652                            1046     
 3653 00000606 D10D              1047             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;
 3654 00000608 6011              1048             MOV.W   @R1,R0                                                          ;
 3655 0000060A 7001              1049             ADD     #1,R0                                                           ;
 3656 0000060C D10B              1050             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;
 3657 0000060E 2101              1051             MOV.W   R0,@R1                                                          ;
 3658                            1052     
 3659 00000610 9008              1053             MOV.W   #__KMTCMD_WR,R0                                                         ;W
                                          RITE
 3660 00000612 D10B              1054             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;
 3661 00000614 2101              1055             MOV.W   R0,@R1                                                          ;
 3662                            1056     
 3663                            1057             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_HANDWR_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
 3664 00000616 D104                   M           MOV.L   #_KMT_HANDWR_FLG,R1             ;
 3665 00000618 6011                   M           MOV.W   @R1,R0          ;
 3666 0000061A CB02                   M           OR      #BIT1,R0                ;
 3667 0000061C 2101                   M           MOV.W   R0,@R1          ;
 3668                            1058             M_BRA   KMT_HANDWR_STPEXT
 3669 0000061E A01B                   M           BRA     KMT_HANDWR_STPEXT
 3670 00000620 0009                   M           NOP
 3671                            1059     
 3672                                     ***** BEGIN-POOL *****
 3673 00000622 0000                       DATA FOR SOURCE-LINE 1039
 3674 00000624 0001                       DATA FOR SOURCE-LINE 1043,1053
 3675 00000626 0000                       ALIGNMENT CODE
 3676 00000628 00000000                   DATA FOR SOURCE-LINE 1024,1057
 3677 0000062C 00000000                   DATA FOR SOURCE-LINE 1030
 3678 00000630 00000000                   DATA FOR SOURCE-LINE 1036
 3679 00000634 00000000                   DATA FOR SOURCE-LINE 1040
 3680 00000638 00000000                   DATA FOR SOURCE-LINE 1044
 3681 0000063C 00000000                   DATA FOR SOURCE-LINE 1047,1050
 3682 00000640 00000000                   DATA FOR SOURCE-LINE 1054
 3683                                     ***** END-POOL *****
 3684 00000644                   1060     KMT_HANDWR_STP300
 3685                            1061     
 3686                            1062     ;       ---------- WDT ﾁｪｯｸ部分------------------
 3687                            1063             FAR_JSR #_KMT_HAND_WDTCHK,R0                                            ;
 3688 00000644 D006                   M           MOV.L   #_KMT_HAND_WDTCHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3689 00000646 400B                   M           JSR     @R0                     ;
 3690 00000648 0009                   M           NOP                                     ;
 3691                            1064     
 3692 0000064A D106              1065             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;
 3693 0000064C 6011              1066             MOV.W   @R1,R0                                                          ;
 3694 0000064E 2008              1067             TST     R0,R0                                                           ;
 3695                            1068             TST_BIT_ON KMT_HANDWR_STPEXT                                            ;ｺﾏﾝﾄﾞ処理
                                          中
 3696 00000650 8B02                   M           BF      KMT_HANDWR_STPEXT
 3697                            1069     
 3698 00000652 200A              1070             XOR     R0,R0
 3699 00000654 D104              1071             MOV.L   #_KMT_HANDWR_FLG,R1                                             ;
 3700 00000656 2101              1072             MOV.W   R0,@R1                                                          ;
 3701                            1073     
 3702                            1074     
 3703 00000658                   1075     KMT_HANDWR_STPEXT
 3704                            1076     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    32
PROGRAM NAME =

 3705                            1077             SUB_END
 3706                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3707 00000658 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3708                            1078             M_RTS
 3709 0000065A 000B                   M           RTS                             ;RTSの後ろの
 3710 0000065C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3711                            1079     
 3712                            1080     ;       ***************************************************
 3713                            1081     ;       ***                                             ***
 3714                            1082     ;       ***             WDT CHKECK                      ***
 3715                            1083     ;       ***                                             ***
 3716                            1084     ;       ***************************************************
 3717                            1085     ;       100msec毎にﾁｪｯｸ
 3718                                     ***** BEGIN-POOL *****
 3719 0000065E 0000                       ALIGNMENT CODE
 3720 00000660 00000000                   DATA FOR SOURCE-LINE 1063
 3721 00000664 00000000                   DATA FOR SOURCE-LINE 1065
 3722 00000668 00000000                   DATA FOR SOURCE-LINE 1071
 3723                                     ***** END-POOL *****
 3724          0000000B          1086     __WDT_TIM_SET_DAT       .EQU    (100/__TM_LATE10MS)+1   ;2011-01-14
 3725          00000064          1087     __WDT_UP_ERR_CNT        .EQU    100                     ;2011-01-14 100ﾒｲﾝｽｷｬﾝ*100msec=MIN
                                          =10秒 MAX=30秒
 3726                            1088     
 3727 0000066C                   1089     _KMT_HAND_WDTCHK:
 3728                            1090             SUB_START
 3729 0000066C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3730                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3731                            1091     
 3732                            1092     ;;;     MOV.L   #_KMT_STS1_SET,R1                                               ;READ確定ﾃ
                                          ﾞｰﾀあるか？
 3733                            1093     ;;;     MOV.W   @R1,R0                                                          ;
 3734                            1094     ;;;     MOV.W   #BIT0,R4
 3735                            1095     ;;;     TST     R4,R0                                                           ;
 3736                            1096     ;;;     TST_BIT_OF KMT_HANDWDTCHK_WAIT                                          ;
 3737                            1097     ;;;     NOT     R4,R4                                                           ;READの確
                                          定ﾃﾞｰﾀあるか?
 3738                            1098     ;;;     AND     R4,R0                                                           ;
 3739                            1099     ;;;     MOV.W   R0,@R1                                                          ;
 3740                            1100     
 3741 0000066E D503              1101             MOV.L   #_KMT_HANDWDT_TIM,R5                            ;
 3742 00000670 6051              1102             MOV.W   @R5,R0                                          ;
 3743 00000672 2008              1103             TST     R0,R0
 3744                            1104             TST_BIT_OF KMT_HANDWDTCHK_030                           ;
 3745 00000674 8904                   M           BT      KMT_HANDWDTCHK_030
 3746                            1105             M_BRA   KMT_HANDWDTCHK_WAIT                             ;
 3747 00000676 A039                   M           BRA     KMT_HANDWDTCHK_WAIT
 3748 00000678 0009                   M           NOP
 3749                            1106     
 3750                                     ***** BEGIN-POOL *****
 3751 0000067A 0000                       ALIGNMENT CODE
 3752 0000067C 00000000                   DATA FOR SOURCE-LINE 1101
 3753                                     ***** END-POOL *****
 3754 00000680                   1107     KMT_HANDWDTCHK_030                                              ;
 3755                            1108     ;;;;2011-01-14  MOV.W   #D'100+1,R0                             ;100msec
 3756 00000680 900F              1109             MOV.W   #__WDT_TIM_SET_DAT,R0                           ;10*10msec=100msec 2011-01
                                          -14
 3757 00000682 2501              1110             MOV.W   R0,@R5                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    33
PROGRAM NAME =

 3758 00000684                   1111     KMT_HANDWDTCHK_050                                              ;
 3759                            1112     
 3760 00000684 D108              1113             MOV.L   #(__SITM_HANDRD-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1               ;
 3761 00000686 6011              1114             MOV.W   @R1,R0                                                          ;
 3762 00000688 D108              1115             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;
 3763 0000068A 6211              1116             MOV.W   @R1,R2                                                          ;
 3764 0000068C 3200              1117             CMP/EQ  R0,R2                                                           ;
 3765 0000068E 891B              1118             BT      KMT_HANDWDTCHK_200                                              ;
 3766                            1119     
 3767 00000690 D507              1120             MOV.L   #_KMT_HANDWDT_CNT,R5                                                    ;
 3768 00000692 6051              1121             MOV.W   @R5,R0                                                                  ;
 3769                            1122     ;;2011-01-14    MOV.W   #D'100,R4                                                       ;1
                                          00m*100scan=10秒
 3770 00000694 9406              1123             MOV.W   #__WDT_UP_ERR_CNT,R4                                                    ;1
                                          00m*100scan=10秒 2011-01-14
 3771 00000696 3042              1124             CMP/HS  R4,R0                                                                   ;
 3772 00000698 890C              1125             BT      KMT_HANDWDTCHK_100                                                      ;O
                                          VER
 3773 0000069A 7001              1126             ADD     #1,R0                                                                   ;
 3774 0000069C 2501              1127             MOV.W   R0,@R5                                                                  ;
 3775                            1128             M_BRA   KMT_HANDWDTCHK_WAIT                                                     ;
 3776 0000069E A025                   M           BRA     KMT_HANDWDTCHK_WAIT
 3777 000006A0 0009                   M           NOP
 3778                            1129     
 3779                                     ***** BEGIN-POOL *****
 3780 000006A2 000B                       DATA FOR SOURCE-LINE 1109
 3781 000006A4 0064                       DATA FOR SOURCE-LINE 1123
 3782 000006A6 0000                       ALIGNMENT CODE
 3783 000006A8 00000000                   DATA FOR SOURCE-LINE 1113
 3784 000006AC 00000000                   DATA FOR SOURCE-LINE 1115
 3785 000006B0 00000000                   DATA FOR SOURCE-LINE 1120
 3786                                     ***** END-POOL *****
 3787 000006B4                   1130     KMT_HANDWDTCHK_100                                                                      ;
 3788                            1131             MEM1_BIT0_F_ORSET MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(BIT7),WKRG1=R1,WKRG2=R4        ;
 3789 000006B4 D103                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 3790 000006B6 6011                   M           MOV.W   @R1,R0          ;
 3791 000006B8 9403                   M           MOV.W   #(BIT7),R4              ;
 3792 000006BA 204B                   M           OR      R4,R0           ;
 3793 000006BC 2101                   M           MOV.W   R0,@R1          ;
 3794                            1132             M_BRA   KMT_HANDWDTCHK_WAIT                                                     ;
 3795 000006BE A015                   M           BRA     KMT_HANDWDTCHK_WAIT
 3796 000006C0 0009                   M           NOP
 3797                            1133                                                                                             ;
 3798                                     ***** BEGIN-POOL *****
 3799 000006C2 0080                       DATA FOR SOURCE-LINE 1131
 3800 000006C4 00000000                   DATA FOR SOURCE-LINE 1131
 3801                                     ***** END-POOL *****
 3802 000006C8                   1134     KMT_HANDWDTCHK_200                                                                      ;
 3803                            1135     
 3804 000006C8 200A              1136             XOR     R0,R0                                                                   ;
 3805 000006CA D106              1137             MOV.L   #_KMT_HANDWDT_CNT,R1                                                    ;
 3806 000006CC 2101              1138             MOV.W   R0,@R1                                                                  ;
 3807                            1139     
 3808                            1140             MEM1_BIT0_F_ADCLR MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4       ;
 3809 000006CE D106                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 3810 000006D0 6011                   M           MOV.W   @R1,R0          ;
 3811 000006D2 9404                   M           MOV.W   #LWORD (~BIT7),R4       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    34
PROGRAM NAME =

 3812 000006D4 2049                   M           AND     R4,R0           ;
 3813 000006D6 2101                   M           MOV.W   R0,@R1          ;
 3814                            1141     
 3815 000006D8 9002              1142             MOV.W   #1,R0                           ;
 3816                            1143             M_BRA   KMT_HANDWDTCHK_END              ;ok
 3817 000006DA A008                   M           BRA     KMT_HANDWDTCHK_END
 3818 000006DC 0009                   M           NOP
 3819                            1144     
 3820                            1145     
 3821                                     ***** BEGIN-POOL *****
 3822 000006DE FF7F                       DATA FOR SOURCE-LINE 1140
 3823 000006E0 0001                       DATA FOR SOURCE-LINE 1142
 3824 000006E2 0000                       ALIGNMENT CODE
 3825 000006E4 00000000                   DATA FOR SOURCE-LINE 1137
 3826 000006E8 00000000                   DATA FOR SOURCE-LINE 1140
 3827                                     ***** END-POOL *****
 3828 000006EC                   1146     KMT_HANDWDTCHK_WAIT:
 3829 000006EC 200A              1147             XOR     R0,R0
 3830 000006EE                   1148     KMT_HANDWDTCHK_END:
 3831                            1149             SUB_END
 3832                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3833 000006EE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3834                            1150             M_RTS
 3835 000006F0 000B                   M           RTS                             ;RTSの後ろの
 3836 000006F2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3837                            1151     
 3838                            1152     
 3839                            1153     ;       *******************************************
 3840                            1154     ;       ***                                     ***
 3841                            1155     ;       ***             ｽﾃｰﾀｽREAD[KMT->SIT4]    ***
 3842                            1156     ;       ***             MAIN                    ***
 3843                            1157     ;       *******************************************
 3844 000006F4                   1158     _KOMTRAX_STATUS_READ:
 3845                            1159             SUB_START
 3846 000006F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3847                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3848                            1160     
 3849 000006F6 D10C              1161             MOV.L   #_KMT_STS1RD_FLG,R1                     ;
 3850 000006F8 6011              1162             MOV.W   @R1,R0                                  ;BIT1=1
 3851 000006FA C802              1163             TST     #(BIT1),R0                              ;
 3852                            1164             TST_BIT_ON KMT_STATUS_RD300                     ;
 3853 000006FC 8B1E                   M           BF      KMT_STATUS_RD300
 3854                            1165     
 3855 000006FE 200A              1166             XOR     R0,R0
 3856 00000700 D10A              1167             MOV.L   #(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R1       ;0:固定 (S
                                          IT_MEMを対象)
 3857 00000702 2101              1168             MOV.W   R0,@R1                                                          ;
 3858                            1169     
 3859 00000704 900D              1170             MOV.W   #__SITM_OUT_TOP/2,R0                                            ;byte adr/
                                          2
 3860 00000706 D10A              1171             MOV.L   #(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R1       ;
 3861 00000708 2101              1172             MOV.W   R0,@R1                                                          ;
 3862                            1173     
 3863 0000070A 900B              1174             MOV.W   #__SITM_OUTCNT/2,R0                                             ;32Byte=16
                                          WORD
 3864 0000070C D109              1175             MOV.L   #(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R1          ;AREA-MAX
                                          は50 word
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    35
PROGRAM NAME =

 3865 0000070E 2101              1176             MOV.W   R0,@R1
 3866                            1177     
 3867                            1178     
 3868 00000710 9009              1179             MOV.W   #__KMTCMD_RD,R0                                                 ;READ
 3869 00000712 D109              1180             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R1          ;
 3870 00000714 2101              1181             MOV.W   R0,@R1                                                          ;
 3871                            1182     
 3872                            1183             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_STS1RD_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
 3873 00000716 D104                   M           MOV.L   #_KMT_STS1RD_FLG,R1             ;
 3874 00000718 6011                   M           MOV.W   @R1,R0          ;
 3875 0000071A CB02                   M           OR      #BIT1,R0                ;
 3876 0000071C 2101                   M           MOV.W   R0,@R1          ;
 3877                            1184             M_BRA   KMT_STATUS_RDEXT
 3878 0000071E A020                   M           BRA     KMT_STATUS_RDEXT
 3879 00000720 0009                   M           NOP
 3880                            1185     
 3881                                     ***** BEGIN-POOL *****
 3882 00000722 0032                       DATA FOR SOURCE-LINE 1170
 3883 00000724 0010                       DATA FOR SOURCE-LINE 1174
 3884 00000726 0002                       DATA FOR SOURCE-LINE 1179
 3885 00000728 00000000                   DATA FOR SOURCE-LINE 1161,1183
 3886 0000072C 00000000                   DATA FOR SOURCE-LINE 1167
 3887 00000730 00000000                   DATA FOR SOURCE-LINE 1171
 3888 00000734 00000000                   DATA FOR SOURCE-LINE 1175
 3889 00000738 00000000                   DATA FOR SOURCE-LINE 1180
 3890                                     ***** END-POOL *****
 3891 0000073C                   1186     KMT_STATUS_RD300
 3892                            1187     
 3893 0000073C D10B              1188             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R1          ;
 3894 0000073E 6011              1189             MOV.W   @R1,R0                                                          ;
 3895 00000740 2008              1190             TST     R0,R0                                                           ;
 3896                            1191             TST_BIT_ON KMT_STATUS_RDEXT                                             ;ｺﾏﾝﾄﾞ処理
                                          中
 3897 00000742 8B0E                   M           BF      KMT_STATUS_RDEXT
 3898                            1192     
 3899                            1193     
 3900                            1194     
 3901 00000744 9410              1195             MOV.W   #__SITM_OUTCNT/2,R4                                             ;32Byte=16
                                          WORD
 3902 00000746 D50A              1196             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R5          ;
 3903 00000748 D60A              1197             MOV.L   #_KMT_STS1_AREA,R6                                              ;50word
 3904                            1198     
 3905 0000074A                   1199     KMT_STATUS_RD400LOP:
 3906 0000074A 6255              1200             MOV.W   @R5+,R2                         ;確定ﾃﾞｰﾀのCOPY
 3907 0000074C 2621              1201             MOV.W   R2,@R6                          ;
 3908 0000074E 7602              1202             ADD     #2,R6                           ;
 3909 00000750 74FF              1203             ADD     #-1,R4                          ;
 3910 00000752 2448              1204             TST     R4,R4                           ;
 3911                            1205             TST_BIT_ON KMT_STATUS_RD400LOP          ;
 3912 00000754 8BF9                   M           BF      KMT_STATUS_RD400LOP
 3913                            1206     
 3914 00000756 200A              1207             XOR     R0,R0
 3915 00000758 D107              1208             MOV.L   #_KMT_STS1RD_FLG,R1             ;
 3916 0000075A 2101              1209             MOV.W   R0,@R1                          ;
 3917                            1210     
 3918 0000075C D107              1211             MOV.L   #_KMT_STS1_SET,R1               ;
 3919 0000075E 9004              1212             MOV.W   #H'00FF,R0                      ;MAIN-->他のｿﾌﾄ用
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    36
PROGRAM NAME =

 3920 00000760 2101              1213             MOV.W   R0,@R1                          ;
 3921                            1214     
 3922                            1215     
 3923 00000762                   1216     KMT_STATUS_RDEXT
 3924                            1217     
 3925                            1218             SUB_END
 3926                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3927 00000762 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3928                            1219             M_RTS
 3929 00000764 000B                   M           RTS                             ;RTSの後ろの
 3930 00000766 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3931                            1220     
 3932                            1221     ;       *******************************************
 3933                            1222     ;       ***                                     ***
 3934                            1223     ;       ***             SEQ作成                 ***
 3935                            1224     ;       ***                                     ***
 3936                            1225     ;       *******************************************
 3937                                     ***** BEGIN-POOL *****
 3938 00000768 0010                       DATA FOR SOURCE-LINE 1195
 3939 0000076A 00FF                       DATA FOR SOURCE-LINE 1212
 3940 0000076C 00000000                   DATA FOR SOURCE-LINE 1188
 3941 00000770 00000000                   DATA FOR SOURCE-LINE 1196
 3942 00000774 00000000                   DATA FOR SOURCE-LINE 1197
 3943 00000778 00000000                   DATA FOR SOURCE-LINE 1208
 3944 0000077C 00000000                   DATA FOR SOURCE-LINE 1211
 3945                                     ***** END-POOL *****
 3946 00000780                   1226     _KOMTRAX_STAUS_MAKE
 3947                            1227             SUB_START
 3948 00000780 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3949                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3950                            1228     
 3951 00000782 D126              1229             MOV.L   #_KMT_STS1_SET,R1               ;
 3952 00000784 6011              1230             MOV.W   @R1,R0                          ;
 3953 00000786 943F              1231             MOV.W   #BIT1,R4
 3954 00000788 2048              1232             TST     R4,R0                           ;
 3955                            1233             TST_BIT_OF KMT_STAUSMAKE_EXT            ;確定ﾃﾞｰﾀなし
 3956 0000078A 8932                   M           BT      KMT_STAUSMAKE_EXT
 3957 0000078C 6447              1234             NOT     R4,R4
 3958 0000078E 2049              1235             AND     R4,R0                           ;
 3959 00000790 2101              1236             MOV.W   R0,@R1                          ;CLR
 3960                            1237     
 3961                            1238     
 3962 00000792 233A              1239             XOR     R3,R3
 3963                            1240     
 3964 00000794 D122              1241             MOV.L   #(__SITM_TRSSTS1-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1              ;
 3965 00000796 6011              1242             MOV.W   @R1,R0                                                          ;
 3966                            1243     
 3967 00000798 244A              1244             XOR     R4,R4
 3968 0000079A C810              1245             TST     #BIT4,R0                                                        ;ｱﾝﾃﾅﾏｰｸ圏
                                          内?1:圏内
 3969                            1246             TST_BIT_OF KMT_STAUSMAK_100     ;
 3970 0000079C 8901                   M           BT      KMT_STAUSMAK_100
 3971 0000079E 9434              1247             MOV.W   #BIT14,R4               ;
 3972 000007A0 234B              1248             OR      R4,R3                   ;
 3973 000007A2                   1249     KMT_STAUSMAK_100                        ;
 3974                            1250     
 3975 000007A2 244A              1251             XOR     R4,R4                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    37
PROGRAM NAME =

 3976 000007A4 C80C              1252             TST     #(BIT3+BIT2),R0         ;BIT3=ｱﾝﾃﾅ3 BIT2=ｱﾝﾃﾅ2
 3977                            1253             TST_BIT_OF KMT_STAUSMAK_120     ;ｱﾝﾃﾅﾏｰｸ2?  3>2>1>圏外
 3978 000007A6 8901                   M           BT      KMT_STAUSMAK_120
 3979 000007A8 9430              1254             MOV.W   #BIT13,R4               ;
 3980 000007AA 234B              1255             OR      R4,R3                   ;
 3981 000007AC                   1256     KMT_STAUSMAK_120                        ;
 3982                            1257     
 3983                            1258     
 3984                            1259     
 3985 000007AC D11D              1260             MOV.L   #(__SITM_ERRSTS1-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1              ;
 3986 000007AE 6011              1261             MOV.W   @R1,R0                                                          ;
 3987                            1262     
 3988 000007B0 244A              1263             XOR     R4,R4
 3989 000007B2 C820              1264             TST     #BIT5,R0                ;ﾊﾞｯﾃﾘ異常
 3990                            1265             TST_BIT_OF KMT_STAUSMAK_200     ;
 3991 000007B4 8901                   M           BT      KMT_STAUSMAK_200
 3992 000007B6 942A              1266             MOV.W   #BIT9,R4                ;
 3993 000007B8 234B              1267             OR      R4,R3                   ;
 3994 000007BA                   1268     KMT_STAUSMAK_200                        ;
 3995                            1269     
 3996 000007BA 244A              1270             XOR     R4,R4                   ;
 3997 000007BC 9128              1271             MOV.W   #LWORD ~BIT5,R1         ;ﾊﾞｯﾃﾘ異常以外
 3998 000007BE 2018              1272             TST     R1,R0                   ;
 3999                            1273             TST_BIT_OF KMT_STAUSMAK_220     ;
 4000 000007C0 8901                   M           BT      KMT_STAUSMAK_220
 4001 000007C2 9426              1274             MOV.W   #BIT8,R4                ;
 4002 000007C4 234B              1275             OR      R4,R3                   ;
 4003 000007C6                   1276     KMT_STAUSMAK_220                        ;
 4004                            1277     
 4005                            1278     
 4006 000007C6 D118              1279             MOV.L   #(__SITM_WARSTS1-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1              ;
 4007 000007C8 6011              1280             MOV.W   @R1,R0                                                          ;
 4008 000007CA 244A              1281             XOR     R4,R4
 4009 000007CC 2008              1282             TST     R0,R0                   ;
 4010                            1283             TST_BIT_OF KMT_STAUSMAK_300     ;
 4011 000007CE 8901                   M           BT      KMT_STAUSMAK_300
 4012 000007D0 9420              1284             MOV.W   #BIT10,R4               ;
 4013 000007D2 234B              1285             OR      R4,R3                   ;
 4014 000007D4                   1286     KMT_STAUSMAK_300                        ;
 4015                            1287     
 4016 000007D4 D115              1288             MOV.L   #(__SITM_TRSSTS2-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1              ;
 4017 000007D6 6011              1289             MOV.W   @R1,R0                                                          ;
 4018 000007D8 244A              1290             XOR     R4,R4
 4019 000007DA C804              1291             TST     #BIT2,R0                ;
 4020                            1292             TST_BIT_OF KMT_STAUSMAK_400     ;
 4021 000007DC 8901                   M           BT      KMT_STAUSMAK_400
 4022 000007DE 941A              1293             MOV.W   #BIT15,R4               ;初期設定ﾓｰﾄﾞ
 4023 000007E0 234B              1294             OR      R4,R3                   ;
 4024 000007E2                   1295     KMT_STAUSMAK_400                        ;
 4025                            1296     
 4026                            1297     
 4027 000007E2 D113              1298             MOV.L   #_KMT_STS1MN_SQ87,R1    ;
 4028 000007E4 6011              1299             MOV.W   @R1,R0
 4029 000007E6 9417              1300             MOV.W   #BIT15+BIT14+BIT13+BIT10+BIT9+BIT8,R4
 4030 000007E8 2349              1301             AND     R4,R3                                   ;
 4031 000007EA 6447              1302             NOT     R4,R4                                   ;
 4032 000007EC 2049              1303             AND     R4,R0                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    38
PROGRAM NAME =

 4033 000007EE 203B              1304             OR      R3,R0                                           ;
 4034 000007F0 2101              1305             MOV.W   R0,@R1                                          ;
 4035                            1306     
 4036 000007F2                   1307     KMT_STAUSMAKE_EXT
 4037                            1308     
 4038                            1309     ;       ============ ﾌﾞﾛｯｸ転送(MONITOR)============
 4039 000007F2 D510              1310             MOV.L   #_KMT_STS1_AREA,R5
 4040 000007F4 D610              1311             MOV.L   #_FRAM_CB_ICHAR,R6
 4041 000007F6 9410              1312             MOV.W   #D'50,R4
 4042                            1313             BLOCK_MOV1 LG=W,AD_DT=2,SRC_REG=R5,DST_REG=R6,DATA_REG=R2,CNT_REG=R4
 4043 000007F8                        M   JMP000005:                                      ;
 4044 000007F8 2448                   M           TST     R4,R4   ;
 4045                                 M           TST_BIT_OF JMP100005            ;
 4046 000007FA 891F                   M           BT      JMP100005
 4047 000007FC 6255                   M           MOV.W   @R5+,R2 ;
 4048 000007FE 2621                   M           MOV.W   R2,@R6  ;
 4049 00000800 7602                   M           ADD     #2,R6   ;
 4050 00000802 74FF                   M           ADD     #H'FF,R4                ;
 4051                                 M           M_BRA   JMP000005                       ;
 4052 00000804 AFF8                   M           BRA     JMP000005
 4053 00000806 0009                   M           NOP
 4054                                 M   ***** BEGIN-POOL *****
 4055 00000808 0002                   M   DATA FOR SOURCE-LINE 1231
 4056 0000080A 4000                   M   DATA FOR SOURCE-LINE 1247
 4057 0000080C 2000                   M   DATA FOR SOURCE-LINE 1254
 4058 0000080E 0200                   M   DATA FOR SOURCE-LINE 1266
 4059 00000810 FFDF                   M   DATA FOR SOURCE-LINE 1271
 4060 00000812 0100                   M   DATA FOR SOURCE-LINE 1274
 4061 00000814 0400                   M   DATA FOR SOURCE-LINE 1284
 4062 00000816 8000                   M   DATA FOR SOURCE-LINE 1293
 4063 00000818 E700                   M   DATA FOR SOURCE-LINE 1300
 4064 0000081A 0032                   M   DATA FOR SOURCE-LINE 1312
 4065 0000081C 00000000               M   DATA FOR SOURCE-LINE 1229
 4066 00000820 00000000               M   DATA FOR SOURCE-LINE 1241
 4067 00000824 00000000               M   DATA FOR SOURCE-LINE 1260
 4068 00000828 00000000               M   DATA FOR SOURCE-LINE 1279
 4069 0000082C 00000000               M   DATA FOR SOURCE-LINE 1288
 4070 00000830 00000000               M   DATA FOR SOURCE-LINE 1298
 4071 00000834 00000000               M   DATA FOR SOURCE-LINE 1310
 4072 00000838 00000000               M   DATA FOR SOURCE-LINE 1311
 4073                                 M   ***** END-POOL *****
 4074 0000083C                        M   JMP100005:                                      ;
 4075                            1314     
 4076                            1315             SUB_END
 4077                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4078 0000083C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4079                            1316             M_RTS
 4080 0000083E 000B                   M           RTS                             ;RTSの後ろの
 4081 00000840 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4082                            1317     
 4083                            1318     ;       *******************************************
 4084                            1319     ;       ***                                     ***
 4085                            1320     ;       ***             実測作成                ***
 4086                            1321     ;       ***                                     ***
 4087                            1322     ;       *******************************************
 4088                            1323             .IMPORT _PVP_POWER_MONI ;
 4089                            1324             .IMPORT _PVP_MENTE_CNT  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    39
PROGRAM NAME =

 4090                            1325     
 4091 00000842                   1326     _KOMTRAX_PVDAT_MAKE
 4092                            1327             SUB_START
 4093 00000842 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4094                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4095                            1328     
 4096 00000844 D106              1329             MOV.L   #_PVP_POWER_MONI,R1
 4097 00000846 6011              1330             MOV.W   @R1,R0
 4098 00000848 D106              1331             MOV.L   #_KMT_COM1_AREA+__SITM_AIDAT1,R1        ;
 4099 0000084A 2101              1332             MOV.W   R0,@R1
 4100                            1333     
 4101 0000084C D106              1334             MOV.L   #_PVP_MENTE_CNT,R1                      ;
 4102 0000084E 6012              1335             MOV.L   @R1,R0
 4103                            1336     
 4104 00000850 D106              1337             MOV.L   #_KMT_COM1_AREA+__SITM_MENTCNT+2,R1     ;
 4105 00000852 2101              1338             MOV.W   R0,@R1                                  ;
 4106 00000854 D106              1339             MOV.L   #_KMT_COM1_AREA+__SITM_MENTCNT+0,R1     ;
 4107 00000856 6009              1340             SWAP.W  R0,R0
 4108 00000858 2101              1341             MOV.W   R0,@R1                                  ;
 4109                            1342     
 4110                            1343     
 4111                            1344             SUB_END
 4112                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4113 0000085A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4114                            1345             M_RTS
 4115 0000085C 000B                   M           RTS                             ;RTSの後ろの
 4116 0000085E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4117                            1346     
 4118                            1347     
 4119                            1348     ;       *******************************************
 4120                            1349     ;       ***                                     ***
 4121                            1350     ;       ***             実測転送                ***
 4122                            1351     ;       ***                                     ***
 4123                            1352     ;       *******************************************
 4124                                     ***** BEGIN-POOL *****
 4125 00000860 00000000                   DATA FOR SOURCE-LINE 1329
 4126 00000864 00000000                   DATA FOR SOURCE-LINE 1331
 4127 00000868 00000000                   DATA FOR SOURCE-LINE 1334
 4128 0000086C 00000000                   DATA FOR SOURCE-LINE 1337
 4129 00000870 00000000                   DATA FOR SOURCE-LINE 1339
 4130                                     ***** END-POOL *****
 4131 00000874                   1353     _KOMTRAX_PVDAT_WRITE:
 4132                            1354             SUB_START
 4133 00000874 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4134                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4135                            1355     
 4136                            1356     
 4137 00000876 D10F              1357             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R1          ;
 4138 00000878 6011              1358             MOV.W   @R1,R0                                                          ;
 4139 0000087A 2008              1359             TST     R0,R0                                                           ;
 4140                            1360             TST_BIT_ON KMT_PVDTWR_EXT                                               ;ｺﾏﾝﾄﾞ処理
                                          中
 4141 0000087C 8B14                   M           BF      KMT_PVDTWR_EXT
 4142                            1361     
 4143 0000087E 200A              1362             XOR     R0,R0
 4144 00000880 D10D              1363             MOV.L   #(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R1               ;0
                                          :固定 (SIT_MEMを対象)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    40
PROGRAM NAME =

 4145 00000882 2101              1364             MOV.W   R0,@R1                                                          ;
 4146                            1365     
 4147 00000884 9013              1366             MOV.W   #__SITM_AIDAT1/2,R0                                             ;byte adr/
                                          2
 4148 00000886 D10D              1367             MOV.L   #(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R1               ;
 4149 00000888 2101              1368             MOV.W   R0,@R1                                                          ;
 4150                            1369     
 4151 0000088A 9010              1370             MOV.W   #(__SITM_AIDTCNT+__SITM_MCNTCNT)/2,R0                           ;
 4152 0000088C D10C              1371             MOV.L   #(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R1          ;MAX 1~256
                                           word
 4153 0000088E 2101              1372             MOV.W   R0,@R1
 4154                            1373     
 4155 00000890 940D              1374             MOV.W   #(__SITM_AIDTCNT+__SITM_MCNTCNT)/2,R4                           ;AI+MENTE
 4156 00000892 D50C              1375             MOV.L   #_KMT_COM1_AREA+__SITM_AIDAT1,R5                                ;
 4157 00000894 D60C              1376             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R6          ;
 4158 00000896                   1377     KMT_PVDATWR100LOP
 4159 00000896 6055              1378             MOV.W   @R5+,R0
 4160 00000898 2601              1379             MOV.W   R0,@R6
 4161 0000089A 7602              1380             ADD     #2,R6                                           ;
 4162 0000089C 74FF              1381             ADD     #-1,R4                                          ;
 4163 0000089E 2448              1382             TST     R4,R4                                           ;
 4164                            1383             TST_BIT_ON KMT_PVDATWR100LOP                            ;
 4165 000008A0 8BF9                   M           BF      KMT_PVDATWR100LOP
 4166                            1384     
 4167                            1385     
 4168 000008A2 9005              1386             MOV.W   #__KMTCMD_WR,R0                                                         ;W
                                          RITE
 4169 000008A4 D103              1387             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R1          ;
 4170 000008A6 2101              1388             MOV.W   R0,@R1                                                          ;
 4171                            1389     
 4172                            1390     
 4173 000008A8                   1391     KMT_PVDTWR_EXT
 4174                            1392     
 4175                            1393             SUB_END
 4176                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4177 000008A8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4178                            1394             M_RTS
 4179 000008AA 000B                   M           RTS                             ;RTSの後ろの
 4180 000008AC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4181                            1395     
 4182                            1396     
 4183                            1397     
 4184                            1398     
 4185                            1399     ;       *******************************************
 4186                            1400     ;       ***                                     ***
 4187                            1401     ;       ***             転送処理                ***
 4188                            1402     ;       ***             1word * N 転送処理      ***
 4189                            1403     ;       ***             (read/write)            ***
 4190                            1404     ;       ***                                     ***
 4191                            1405     ;       *******************************************
 4192                            1406     ;
 4193                            1407     ;
 4194                            1408     ;       相手ﾀｽｸ WR 2ﾀｽｸ ｲﾍﾞﾝﾄWR
 4195                            1409     ;                                       ﾊﾝﾄﾞｼｪｲｸWR
 4196                            1410     ;
 4197                            1411     ;                   RD 1ﾀｽｸ 0番地から16word
 4198                            1412     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    41
PROGRAM NAME =

 4199                            1413     ;
 4200                                     ***** BEGIN-POOL *****
 4201 000008AE 0006                       DATA FOR SOURCE-LINE 1366,1370,1374
 4202 000008B0 0001                       DATA FOR SOURCE-LINE 1386
 4203 000008B2 0000                       ALIGNMENT CODE
 4204 000008B4 00000000                   DATA FOR SOURCE-LINE 1357,1387
 4205 000008B8 00000000                   DATA FOR SOURCE-LINE 1363
 4206 000008BC 00000000                   DATA FOR SOURCE-LINE 1367
 4207 000008C0 00000000                   DATA FOR SOURCE-LINE 1371
 4208 000008C4 00000000                   DATA FOR SOURCE-LINE 1375
 4209 000008C8 00000000                   DATA FOR SOURCE-LINE 1376
 4210                                     ***** END-POOL *****
 4211 000008CC                   1414             .ALIGN  4                                       ;
 4212 000008CC                   1415     _KMT_CMD_TRS:
 4213                            1416             SUB_START
 4214 000008CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4215                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4216                            1417     
 4217 000008CE D10E              1418             MOV.L   #_KMT_TRS_CMD,R1                ;0:ILDE 1:WRITE 2:READ
 4218 000008D0 6011              1419             MOV.W   @R1,R0                          ;
 4219 000008D2 8801              1420             CMP/EQ  #__KMTCMD_WR,R0                 ;
 4220 000008D4 8964              1421             BT      KMT_CMDTRS_200                  ;WRITE中
 4221                            1422     
 4222 000008D6 8802              1423             CMP/EQ  #__KMTCMD_RD,R0                 ;
 4223 000008D8 896A              1424             BT      KMT_CMDTRS_300                  ;READ中
 4224                            1425     
 4225                            1426     
 4226                            1427     ;       ----- IDLE (CMD CHECK)複数ﾀｽｸの場合ｽｷｬﾝ毎にﾀｽｸｻｰﾁ------
 4227 000008DA D10C              1428             MOV.L   #_KMT_TRS_SCAN,R1               ;
 4228 000008DC 6011              1429             MOV.W   @R1,R0                          ;
 4229 000008DE 7001              1430             ADD     #1,R0                                   ;
 4230 000008E0 C907              1431             AND     #H'07,R0                                ;0,1,2,3,4,5,6,7
 4231 000008E2 2101              1432             MOV.W   R0,@R1                          ;4SCAN<ｺﾏﾝﾄﾞを4個まで受け付ける>
 4232                            1433     
 4233 000008E4 8800              1434             CMP/EQ  #0,R0                           ;
 4234 000008E6 8913              1435             BT      KMT_CMD_EVET_000                ;
 4235 000008E8 8804              1436             CMP/EQ  #4,R0                           ;
 4236 000008EA 8911              1437             BT      KMT_CMD_EVET_000                ;
 4237                            1438     
 4238 000008EC 8801              1439             CMP/EQ  #1,R0                           ;
 4239 000008EE 8919              1440             BT      KMT_CMD_HAND_000                ;
 4240                            1441     
 4241                            1442     ;       ------2011-01-14--移動---
 4242 000008F0 8805              1443             CMP/EQ  #5,R0                           ;
 4243 000008F2 892B              1444             BT      KMT_CMD_PVWR_000                ;3SCANと7ｽｷｬﾝ目での実行を5ｽｷｬﾝ目のみにする
 4244                            1445     
 4245 000008F4 8802              1446             CMP/EQ  #2,R0                           ;
 4246 000008F6 891F              1447             BT      KMT_CMD_STSR_000                ;
 4247 000008F8 8806              1448             CMP/EQ  #6,R0                           ;
 4248 000008FA 891D              1449             BT      KMT_CMD_STSR_000                ;
 4249                            1450     
 4250                            1451     ;---------- 2011-01-14 ---------
 4251                            1452     ;;;     CMP/EQ  #3,R0                           ;
 4252                            1453     ;;;     BT      KMT_CMD_PVWR_000                ;
 4253                            1454     ;;;     CMP/EQ  #7,R0                           ;
 4254                            1455     ;;;     BT      KMT_CMD_PVWR_000                ;
 4255                            1456     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    42
PROGRAM NAME =

 4256                            1457     
 4257 000008FC 8803              1458             CMP/EQ  #3,R0                           ;
 4258 000008FE 893F              1459             BT      KMT_CMD_SYOUMO_000              ;消耗品
 4259 00000900 8807              1460             CMP/EQ  #7,R0                           ;
 4260 00000902 892D              1461             BT      KMT_CMD_HINBAN_000              ;品番
 4261                            1462             M_BRA   KMT_CMDTRS_END                  ;
 4262 00000904 A058                   M           BRA     KMT_CMDTRS_END
 4263 00000906 0009                   M           NOP
 4264                            1463     
 4265                            1464     
 4266                            1465     ;       =============ｲﾍﾞﾝﾄｺｰﾄﾞ送信==================
 4267                                     ***** BEGIN-POOL *****
 4268 00000908 00000000                   DATA FOR SOURCE-LINE 1418
 4269 0000090C 00000000                   DATA FOR SOURCE-LINE 1428
 4270                                     ***** END-POOL *****
 4271 00000910                   1466     KMT_CMD_EVET_000
 4272                            1467     ;       ------ 送信ﾀｽｸ 8byte----
 4273 00000910 D802              1468             MOV.L   #_KMT_TRSSV1_TOP,R8             ;
 4274                            1469             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4275 00000912 D003                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4276 00000914 400B                   M           JSR     @R0                     ;
 4277 00000916 0009                   M           NOP                                     ;
 4278                            1470             M_BRA   KMT_CMDTRS_END                  ;
 4279 00000918 A04E                   M           BRA     KMT_CMDTRS_END
 4280 0000091A 0009                   M           NOP
 4281                            1471     
 4282                            1472     ;       =============ﾊﾝﾄﾞｼｪｲｸ送信===================
 4283                                     ***** BEGIN-POOL *****
 4284 0000091C 00000000                   DATA FOR SOURCE-LINE 1468
 4285 00000920 00000000                   DATA FOR SOURCE-LINE 1469
 4286                                     ***** END-POOL *****
 4287 00000924                   1473     KMT_CMD_HAND_000
 4288                            1474     ;       ------ 送信ﾀｽｸ 2BYTE----
 4289 00000924 D802              1475             MOV.L   #_KMT_TRSSV2_TOP,R8             ;
 4290                            1476             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4291 00000926 D003                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4292 00000928 400B                   M           JSR     @R0                     ;
 4293 0000092A 0009                   M           NOP                                     ;
 4294                            1477             M_BRA   KMT_CMDTRS_END                  ;
 4295 0000092C A044                   M           BRA     KMT_CMDTRS_END
 4296 0000092E 0009                   M           NOP
 4297                            1478     
 4298                            1479     ;       =============ｽﾃｰﾀｽREAD  ===================
 4299                                     ***** BEGIN-POOL *****
 4300 00000930 00000000                   DATA FOR SOURCE-LINE 1475
 4301 00000934 00000000                   DATA FOR SOURCE-LINE 1476
 4302                                     ***** END-POOL *****
 4303 00000938                   1480     KMT_CMD_STSR_000
 4304                            1481     ;       ------ 受信ﾀｽｸ 16BYTE----
 4305 00000938 D802              1482             MOV.L   #_KMT_TRSSV3_TOP,R8             ;
 4306                            1483             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4307 0000093A D003                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4308 0000093C 400B                   M           JSR     @R0                     ;
 4309 0000093E 0009                   M           NOP                                     ;
 4310                            1484             M_BRA   KMT_CMDTRS_END                  ;
 4311 00000940 A03A                   M           BRA     KMT_CMDTRS_END
 4312 00000942 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    43
PROGRAM NAME =

 4313                            1485     
 4314                            1486     
 4315                            1487     ;       =============実測値送信===================
 4316                                     ***** BEGIN-POOL *****
 4317 00000944 00000000                   DATA FOR SOURCE-LINE 1482
 4318 00000948 00000000                   DATA FOR SOURCE-LINE 1483
 4319                                     ***** END-POOL *****
 4320 0000094C                   1488     KMT_CMD_PVWR_000
 4321                            1489     ;       ------ 送信ﾀｽｸ 16BYTE----
 4322 0000094C D802              1490             MOV.L   #_KMT_TRSSV4_TOP,R8             ;
 4323                            1491             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4324 0000094E D003                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4325 00000950 400B                   M           JSR     @R0                     ;
 4326 00000952 0009                   M           NOP                                     ;
 4327                            1492             M_BRA   KMT_CMDTRS_END                  ;
 4328 00000954 A030                   M           BRA     KMT_CMDTRS_END
 4329 00000956 0009                   M           NOP
 4330                            1493     
 4331                            1494     
 4332                            1495     ;       ===== 追加2011-01-14 品番 =====
 4333                                     ***** BEGIN-POOL *****
 4334 00000958 00000000                   DATA FOR SOURCE-LINE 1490
 4335 0000095C 00000000                   DATA FOR SOURCE-LINE 1491
 4336                                     ***** END-POOL *****
 4337 00000960                   1496     KMT_CMD_HINBAN_000
 4338 00000960 D104              1497             MOV.L   #_KMT_TYP_011,R1                ;
 4339 00000962 6011              1498             MOV.W   @R1,R0                          ;
 4340 00000964 2008              1499             TST     R0,R0                           ;
 4341                            1500             TST_BIT_OF KMT_CMDTRS_END               ;
 4342 00000966 8927                   M           BT      KMT_CMDTRS_END
 4343                            1501     
 4344                            1502     ;       ------ 送信ﾀｽｸ 80BYTE----
 4345 00000968 D803              1503             MOV.L   #_KMT_TRSSV5_TOP,R8             ;
 4346                            1504             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4347 0000096A D004                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4348 0000096C 400B                   M           JSR     @R0                     ;
 4349 0000096E 0009                   M           NOP                                     ;
 4350                            1505             M_BRA   KMT_CMDTRS_END                  ;
 4351 00000970 A022                   M           BRA     KMT_CMDTRS_END
 4352 00000972 0009                   M           NOP
 4353                            1506     
 4354                            1507     
 4355                            1508     ;       ===== 追加2011-01-14 消耗品 ====
 4356                                     ***** BEGIN-POOL *****
 4357 00000974 00000000                   DATA FOR SOURCE-LINE 1497
 4358 00000978 00000000                   DATA FOR SOURCE-LINE 1503
 4359 0000097C 00000000                   DATA FOR SOURCE-LINE 1504
 4360                                     ***** END-POOL *****
 4361 00000980                   1509     KMT_CMD_SYOUMO_000
 4362 00000980 D104              1510             MOV.L   #_KMT_TYP_011,R1                ;
 4363 00000982 6011              1511             MOV.W   @R1,R0                          ;
 4364 00000984 2008              1512             TST     R0,R0                           ;
 4365                            1513             TST_BIT_OF KMT_CMDTRS_END               ;
 4366 00000986 8917                   M           BT      KMT_CMDTRS_END
 4367                            1514     
 4368                            1515     ;       ------ 送信ﾀｽｸ 64BYTE----
 4369 00000988 D803              1516             MOV.L   #_KMT_TRSSV6_TOP,R8             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    44
PROGRAM NAME =

 4370                            1517             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4371 0000098A D004                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4372 0000098C 400B                   M           JSR     @R0                     ;
 4373 0000098E 0009                   M           NOP                                     ;
 4374                            1518             M_BRA   KMT_CMDTRS_END                  ;
 4375 00000990 A012                   M           BRA     KMT_CMDTRS_END
 4376 00000992 0009                   M           NOP
 4377                            1519     
 4378                            1520     
 4379                            1521     
 4380                            1522     ;       -----------------------------------
 4381                            1523     ;       ---     WR/RD共通処理           ---
 4382                            1524     ;       -----------------------------------
 4383                            1525     ;       --------WR処理中-----
 4384                                     ***** BEGIN-POOL *****
 4385 00000994 00000000                   DATA FOR SOURCE-LINE 1510
 4386 00000998 00000000                   DATA FOR SOURCE-LINE 1516
 4387 0000099C 00000000                   DATA FOR SOURCE-LINE 1517
 4388                                     ***** END-POOL *****
 4389 000009A0                   1526     KMT_CMDTRS_200
 4390                            1527             FAR_JSR #_KMT_TRS_STP_WR,R0             ;CMD CLR
 4391 000009A0 D002                   M           MOV.L   #_KMT_TRS_STP_WR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4392 000009A2 400B                   M           JSR     @R0                     ;
 4393 000009A4 0009                   M           NOP                                     ;
 4394                            1528             M_BRA   KMT_CMDTRS_400                  ;
 4395 000009A6 A006                   M           BRA     KMT_CMDTRS_400
 4396 000009A8 0009                   M           NOP
 4397                            1529     
 4398                            1530     ;       --------RD処理中-----
 4399                                     ***** BEGIN-POOL *****
 4400 000009AA 0000                       ALIGNMENT CODE
 4401 000009AC 00000000                   DATA FOR SOURCE-LINE 1527
 4402                                     ***** END-POOL *****
 4403 000009B0                   1531     KMT_CMDTRS_300
 4404                            1532             FAR_JSR #_KMT_TRS_STP_RD,R0             ;
 4405 000009B0 D003                   M           MOV.L   #_KMT_TRS_STP_RD,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4406 000009B2 400B                   M           JSR     @R0                     ;
 4407 000009B4 0009                   M           NOP                                     ;
 4408                            1533     
 4409 000009B6                   1534     KMT_CMDTRS_400:
 4410 000009B6 0009              1535             NOP
 4411                            1536     
 4412 000009B8                   1537     KMT_CMDTRS_END
 4413                            1538             SUB_END
 4414                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4415 000009B8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4416                            1539             M_RTS
 4417 000009BA 000B                   M           RTS                             ;RTSの後ろの
 4418 000009BC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4419                            1540     
 4420                            1541     
 4421                            1542     
 4422                            1543     ;       ***********************************
 4423                            1544     ;       ***                             ***
 4424                            1545     ;       ***     CMD START CHECK         ***
 4425                            1546     ;       ***                             ***
 4426                            1547     ;       ***     Input R8(STRUCT)        ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    45
PROGRAM NAME =

 4427                            1548     ;       ***                             ***
 4428                            1549     ;       ***********************************
 4429                            1550     ;       MOV.L   #_KMT_TRSSV1_TOP,R8             ;
 4430                            1551     ;       -------- 2009-07-27(API1)-------
 4431                            1552     ;_KMT_TRSSV1_FORM:                                      ;配列
 4432                            1553     ;_KMT_TRSSV1_TOP:                                       ;配列
 4433                            1554     ;_KMT_TRSSV1_CMD                .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 4434                            1555     ;_KMT_TRSSV1_MEMKND     .SRES   2                       ;0:固定 (SIT_MEMを対象)
 4435                            1556     ;_KMT_TRSSV1_OBJADR     .SRES   2                       ;TOP_ADR()
 4436                            1557     ;_KMT_TRSSV1_CNT                .SRES   2                       ;MAX 1~256 word
 4437                            1558     ;_KMT_TRSSV1_DAT                .SRES   2*256                   ;MAX 256word
 4438                            1559     
 4439                            1560     ;_KMT_TRSLT_TOPADR      .SRES   4                       ;ｽﾄﾗｸﾁｬ
 4440                            1561     ;_KMT_TRSLT_CMD         .SRES   2                       ;=ADR(_KMT_TRSSV1_CMD)
 4441                            1562     ;_KMT_TRSLT_MEMKND      .SRES   2                       ;0:固定 (SIT_MEMを対象)
 4442                            1563     ;_KMT_TRSLT_OBJADR      .SRES   2                       ;TOP_ADR
 4443                            1564     ;_KMT_TRSLT_CNT         .SRES   2                       ;MAX 1~256 word
 4444                            1565     ;_KMT_TRSLT_DAT         .SRES   2*256                   ;MAX 256word
 4445                            1566     
 4446                                     ***** BEGIN-POOL *****
 4447 000009BE 0000                       ALIGNMENT CODE
 4448 000009C0 00000000                   DATA FOR SOURCE-LINE 1532
 4449                                     ***** END-POOL *****
 4450 000009C4                   1567     _KMT_CMDTRS_CHK:
 4451                            1568             SUB_START
 4452 000009C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4453                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4454 000009C6 8580              1569             MOV.W   @(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM,R8),R0       ;
 4455 000009C8 2008              1570             TST     R0,R0                                           ;
 4456                            1571             TST_BIT_OF KMT_CMDTRSCHK_EXT                            ;No cmd:EXIT
 4457 000009CA 8911                   M           BT      KMT_CMDTRSCHK_EXT
 4458                            1572     
 4459                            1573     ;       ========== DATA 転送==========
 4460 000009CC C903              1574             AND     #(__KMTCMD_WR+__KMTCMD_RD),R0                   ;1or2
 4461 000009CE D10A              1575             MOV.L   #_KMT_TRS_CMD,R1                                ;
 4462 000009D0 2101              1576             MOV.W   R0,@R1                                          ;CMD SAVE
 4463                            1577     
 4464 000009D2 D10A              1578             MOV.L   #_KMT_TRSLT_TOPADR,R1                           ;STRCUT
 4465 000009D4 2182              1579             MOV.L   R8,@R1                                          ;save
 4466                            1580     
 4467 000009D6 8581              1581             MOV.W   @(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM,R8),R0    ;R0=0:CONST
 4468 000009D8 D109              1582             MOV.L   #_KMT_TRSLT_MEMKND,R1                           ;ﾒﾓﾘ種別
 4469 000009DA 2101              1583             MOV.W   R0,@R1                                          ;
 4470                            1584     
 4471 000009DC 8582              1585             MOV.W   @(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM,R8),R0    ;
 4472 000009DE D109              1586             MOV.L   #_KMT_TRSLT_OBJADR,R1                           ;ﾒﾓﾘ種別に対するｵﾌｾｯﾄｱﾄﾞﾚｽ
                                          word.adr
 4473 000009E0 2101              1587             MOV.W   R0,@R1                                          ;
 4474                            1588     
 4475 000009E2 8583              1589             MOV.W   @(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM,R8),R0       ;
 4476 000009E4 600C              1590             EXTU.B  R0,R0                                           ;1~255word
 4477 000009E6 D108              1591             MOV.L   #_KMT_TRSLT_CNT,R1                              ;
 4478 000009E8 2101              1592             MOV.W   R0,@R1                                          ;(word 個数)
 4479                            1593     
 4480                            1594     
 4481                            1595             FAR_JSR #_KMT_CMD_INIT,R0                               ;DPRAM SIG=OFF
 4482 000009EA D008                   M           MOV.L   #_KMT_CMD_INIT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    46
PROGRAM NAME =

 4483 000009EC 400B                   M           JSR     @R0                     ;
 4484 000009EE 0009                   M           NOP                                     ;
 4485                            1596     
 4486                            1597     
 4487                            1598     
 4488 000009F0                   1599     KMT_CMDTRSCHK_EXT:
 4489                            1600             SUB_END
 4490                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4491 000009F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4492                            1601             M_RTS
 4493 000009F2 000B                   M           RTS                             ;RTSの後ろの
 4494 000009F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4495                            1602     
 4496                            1603     ;       ***************************
 4497                            1604     ;       ***                     ***
 4498                            1605     ;       ***     START INITAL    ***
 4499                            1606     ;       ***                     ***
 4500                            1607     ;       ***************************
 4501                                     ***** BEGIN-POOL *****
 4502 000009F6 0000                       ALIGNMENT CODE
 4503 000009F8 00000000                   DATA FOR SOURCE-LINE 1575
 4504 000009FC 00000000                   DATA FOR SOURCE-LINE 1578
 4505 00000A00 00000000                   DATA FOR SOURCE-LINE 1582
 4506 00000A04 00000000                   DATA FOR SOURCE-LINE 1586
 4507 00000A08 00000000                   DATA FOR SOURCE-LINE 1591
 4508 00000A0C 00000000                   DATA FOR SOURCE-LINE 1595
 4509                                     ***** END-POOL *****
 4510 00000A10                   1608     _KMT_CMD_INIT:
 4511                            1609             SUB_START
 4512 00000A10 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4513                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4514                            1610     
 4515                            1611     
 4516                            1612     ;       ========== ﾒﾓﾘ転送===============
 4517 00000A12 D107              1613             MOV.L   #_KMT_TRSLT_CNT,R1                              ;
 4518 00000A14 6011              1614             MOV.W   @R1,R0                                          ;(word 個数)
 4519                            1615     ;       ===============書込/読み出しの場合は意味無し（どっちでも共通で行う）=======
 4520 00000A16 D107              1616             MOV.L   #_KMT_TRSLT_TOPADR,R1                           ;STRCUT
 4521 00000A18 6212              1617             MOV.L   @R1,R2                                          ;save
 4522 00000A1A D507              1618             MOV.L   #_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM,R5            ;
 4523 00000A1C 352C              1619             ADD     R2,R5                                           ;data top
 4524 00000A1E D607              1620             MOV.L   #_KMT_TRSLT_DAT,R6                              ;MAX 255word
 4525                            1621     
 4526 00000A20                   1622     KMT_CMDINIT_100_LOP:
 4527 00000A20 2008              1623             TST     R0,R0
 4528                            1624             TST_BIT_OF KMT_CMDINIT_200                              ;
 4529 00000A22 890D                   M           BT      KMT_CMDINIT_200
 4530 00000A24 6155              1625             MOV.W   @R5+,R1                                         ;
 4531 00000A26 2611              1626             MOV.W   R1,@R6                                          ;
 4532 00000A28 7602              1627             ADD     #2,R6                                           ;
 4533 00000A2A 70FF              1628             ADD     #-1,R0                                          ;
 4534                            1629             M_BRA   KMT_CMDINIT_100_LOP                             ;
 4535 00000A2C AFF8                   M           BRA     KMT_CMDINIT_100_LOP
 4536 00000A2E 0009                   M           NOP
 4537                            1630     
 4538                                     ***** BEGIN-POOL *****
 4539 00000A30 00000000                   DATA FOR SOURCE-LINE 1613
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    47
PROGRAM NAME =

 4540 00000A34 00000000                   DATA FOR SOURCE-LINE 1616
 4541 00000A38 00000008                   DATA FOR SOURCE-LINE 1618
 4542 00000A3C 00000000                   DATA FOR SOURCE-LINE 1620
 4543                                     ***** END-POOL *****
 4544 00000A40                   1631     KMT_CMDINIT_200:
 4545                            1632     
 4546                            1633     
 4547 00000A40 200A              1634             XOR     R0,R0                           ;
 4548 00000A42 D10B              1635             MOV.L   #_KMT_TRSPV_CNT,R1              ;(WR/RDｶｳﾝﾀ　0)
 4549 00000A44 2101              1636             MOV.W   R0,@R1                          ;
 4550                            1637     
 4551 00000A46 D10B              1638             MOV.L   #_KMT_TRS_CMD,R1                ;
 4552 00000A48 6011              1639             MOV.W   @R1,R0                          ;CMD
 4553                            1640     
 4554 00000A4A 930F              1641             MOV.W   #BIT6,R3                        ;R3=BIT6 WR
 4555 00000A4C 8801              1642             CMP/EQ  #1,R0                           ;WRITE
 4556 00000A4E 8900              1643             BT      KMT_CMDINI_300                  ;
 4557 00000A50 233A              1644             XOR     R3,R3                           ;R3=0 READ
 4558 00000A52                   1645     KMT_CMDINI_300:
 4559                            1646     
 4560 00000A52 D109              1647             MOV.L   #_KMT_TRSLT_MEMKND,R1           ;MEM-KIND=**00,0000
 4561 00000A54 6011              1648             MOV.W   @R1,R0                          ;
 4562 00000A56 940A              1649             MOV.W   #LWORD ~(BIT7+BIT6),R4                  ;
 4563 00000A58 2049              1650             AND     R4,R0                           ;BIT6/BIT7=0
 4564 00000A5A 203B              1651             OR      R3,R0                           ;
 4565 00000A5C D107              1652             MOV.L   #_KMT_REQ_SIG,R1                ;BIT6=0(rd) =1:WR
 4566 00000A5E 2101              1653             MOV.W   R0,@R1                          ;
 4567                            1654     
 4568                            1655             FAR_JSR #_KMT_REQSIG_OUT,R0             ;00=>REQ SIGNAL
 4569 00000A60 D007                   M           MOV.L   #_KMT_REQSIG_OUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4570 00000A62 400B                   M           JSR     @R0                     ;
 4571 00000A64 0009                   M           NOP                                     ;
 4572                            1656                                                     ;0100,0000
 4573                            1657             SUB_END
 4574                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4575 00000A66 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4576                            1658             M_RTS
 4577 00000A68 000B                   M           RTS                             ;RTSの後ろの
 4578 00000A6A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4579                            1659     
 4580                            1660     ;       --------- WORK==> DPRAM REQ SIG=====
 4581                            1661             .IMPORT _ET2_WORD_SITM_REQ              ;CPUD/B間はﾜｰﾄﾞで行う ET2_SITM_REQ
 4582                            1662             .IMPORT _ET2_WORD_SITM_ACK              ;CPUD/B間はﾜｰﾄﾞで行う ET2_SITM_ACK
 4583                            1663     
 4584                                     ***** BEGIN-POOL *****
 4585 00000A6C 0040                       DATA FOR SOURCE-LINE 1641
 4586 00000A6E FF3F                       DATA FOR SOURCE-LINE 1649
 4587 00000A70 00000000                   DATA FOR SOURCE-LINE 1635
 4588 00000A74 00000000                   DATA FOR SOURCE-LINE 1638
 4589 00000A78 00000000                   DATA FOR SOURCE-LINE 1647
 4590 00000A7C 00000000                   DATA FOR SOURCE-LINE 1652
 4591 00000A80 00000000                   DATA FOR SOURCE-LINE 1655
 4592                                     ***** END-POOL *****
 4593 00000A84                   1664     _KMT_REQSIG_OUT:
 4594                            1665             SUB_START
 4595 00000A84 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4596                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    48
PROGRAM NAME =

 4597                            1666     
 4598                            1667     
 4599 00000A86 D104              1668             MOV.L   #_KMT_REQ_SIG,R1                ;
 4600 00000A88 6011              1669             MOV.W   @R1,R0                          ;
 4601 00000A8A 600C              1670             EXTU.B  R0,R0                           ;
 4602 00000A8C D103              1671             MOV.L   #_ET2_WORD_SITM_REQ,R1          ;CPUD/B間はﾜｰﾄﾞで行う ET2_SITM_REQ
 4603 00000A8E 2101              1672             MOV.W   R0,@R1                          ;
 4604                            1673     
 4605                            1674     ;;;[MC2014-09-30]       MOV.L   #_ET2_SITM_REQ,R1               ;
 4606                            1675     ;;;[MC2014-09-30]       MOV.B   R0,@R1                          ;byte
 4607                            1676     
 4608                            1677             SUB_END
 4609                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4610 00000A90 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4611                            1678             M_RTS
 4612 00000A92 000B                   M           RTS                             ;RTSの後ろの
 4613 00000A94 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4614                            1679     
 4615                            1680     ;       ----------- DPRAM ACK -----
 4616                                     ***** BEGIN-POOL *****
 4617 00000A96 0000                       ALIGNMENT CODE
 4618 00000A98 00000000                   DATA FOR SOURCE-LINE 1668
 4619 00000A9C 00000000                   DATA FOR SOURCE-LINE 1671
 4620                                     ***** END-POOL *****
 4621 00000AA0                   1681     _KMT_ACKSIG_IN
 4622                            1682             SUB_START
 4623 00000AA0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4624                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4625                            1683     ;;;;[MC2014-09-29]      MOV.L   #_ET2_SITM_ACK,R1               ;
 4626                            1684     ;;;;[MC2014-09-29]      MOV.B   @R1,R0                          ;
 4627                            1685     ;;;;[MC2014-09-29]      EXTU.B  R0,R0                           ;
 4628                            1686     
 4629                            1687     
 4630 00000AA2 D103              1688             MOV.L   #_ET2_WORD_SITM_ACK,R1          ;ACKだけでもﾜｰﾄﾞｱｸｾｽしかでいない
 4631 00000AA4 6011              1689             MOV.W   @R1,R0                          ;WORD
 4632 00000AA6 600C              1690             EXTU.B  R0,R0                           ;
 4633                            1691     
 4634                            1692             .AIF    0       EQ 1    ;@
 4635                            1693             MOV.L   #_KMT_REQ_SIG,R1                ;
 4636                            1694             MOV.W   @R1,R0                          ;
 4637                            1695             .AENDI
 4638                            1696     
 4639                            1697             SUB_END
 4640                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4641 00000AA8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4642                            1698             M_RTS
 4643 00000AAA 000B                   M           RTS                             ;RTSの後ろの
 4644 00000AAC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4645                            1699     
 4646                            1700     
 4647                            1701     
 4648                            1702     
 4649                            1703     ;       *******************************************
 4650                            1704     ;       ***                                     ***
 4651                            1705     ;       ***     WR STEP                         ***
 4652                            1706     ;       ***     data SET+ HAND-ON/OFF           ***
 4653                            1707     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    49
PROGRAM NAME =

 4654                            1708     ;       *******************************************
 4655                                     ***** BEGIN-POOL *****
 4656 00000AAE 0000                       ALIGNMENT CODE
 4657 00000AB0 00000000                   DATA FOR SOURCE-LINE 1688
 4658                                     ***** END-POOL *****
 4659 00000AB4                   1709     _KMT_TRS_STP_WR:
 4660                            1710             SUB_START
 4661 00000AB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4662                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4663                            1711     
 4664                            1712             FAR_JSR #_KMT_ACKSIG_IN,R0              ;ANS R0
 4665 00000AB6 D009                   M           MOV.L   #_KMT_ACKSIG_IN,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4666 00000AB8 400B                   M           JSR     @R0                     ;
 4667 00000ABA 0009                   M           NOP                                     ;
 4668 00000ABC D108              1713             MOV.L   #_KMT_REQ_SIG,R1                ;
 4669 00000ABE 6211              1714             MOV.W   @R1,R2                          ;
 4670 00000AC0 3020              1715             CMP/EQ  R2,R0                           ;REQ=ACK?
 4671 00000AC2 8B42              1716             BF      KMT_TRS_STPWR_EXT               ;
 4672                            1717     
 4673 00000AC4 C880              1718             TST     #BIT7,R0                        ;
 4674                            1719             TST_BIT_OF KMT_TRS_STPWR_100            ;SIG=0 YES JUMP
 4675 00000AC6 890F                   M           BT      KMT_TRS_STPWR_100
 4676                            1720     
 4677                            1721             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_KMT_REQ_SIG,LG=W,BIT=~BIT7,WKREG=R1 ;//
 4678 00000AC8 D105                   M           MOV.L   #_KMT_REQ_SIG,R1                ;
 4679 00000ACA 6011                   M           MOV.W   @R1,R0          ;
 4680 00000ACC C97F                   M           AND     #LOW ~BIT7,R0           ;
 4681 00000ACE 2101                   M           MOV.W   R0,@R1          ;
 4682                            1722             FAR_JSR #_KMT_REQSIG_OUT,R0             ;
 4683 00000AD0 D004                   M           MOV.L   #_KMT_REQSIG_OUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4684 00000AD2 400B                   M           JSR     @R0                     ;
 4685 00000AD4 0009                   M           NOP                                     ;
 4686                            1723             M_BRA   KMT_TRS_STPWR_EXT               ;
 4687 00000AD6 A038                   M           BRA     KMT_TRS_STPWR_EXT
 4688 00000AD8 0009                   M           NOP
 4689                            1724     
 4690                                     ***** BEGIN-POOL *****
 4691 00000ADA 0000                       ALIGNMENT CODE
 4692 00000ADC 00000000                   DATA FOR SOURCE-LINE 1712
 4693 00000AE0 00000000                   DATA FOR SOURCE-LINE 1713,1721
 4694 00000AE4 00000000                   DATA FOR SOURCE-LINE 1722
 4695                                     ***** END-POOL *****
 4696 00000AE8                   1725     KMT_TRS_STPWR_100:
 4697 00000AE8 D10E              1726             MOV.L   #_KMT_TRSPV_CNT,R1              ;(WR/RDｶｳﾝﾀ　0)
 4698 00000AEA 6011              1727             MOV.W   @R1,R0                          ;
 4699 00000AEC D10E              1728             MOV.L   #_KMT_TRSLT_CNT,R1              ;(SV)
 4700 00000AEE 6211              1729             MOV.W   @R1,R2                          ;
 4701 00000AF0 3206              1730             CMP/HI  R0,R2                           ;R0 < R2
 4702 00000AF2 8B27              1731             BF      KMT_TRS_STPWR_200               ;NO R2 =< R0 (ｶｳﾝﾀ終了　JUMP) 0=0をOK
 4703                            1732     
 4704 00000AF4 4000              1733             SHLL    R0
 4705 00000AF6 D10D              1734             MOV.L   #_KMT_TRSLT_DAT,R1              ;
 4706 00000AF8 310C              1735             ADD     R0,R1                           ;DAT+CNT*2
 4707 00000AFA 6411              1736             MOV.W   @R1,R4                          ;data load
 4708 00000AFC D10C              1737             MOV.L   #_ET2_SITM_WRDT,R1              ;
 4709 00000AFE 2141              1738             MOV.W   R4,@R1                          ;dpram data set
 4710                            1739     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    50
PROGRAM NAME =

 4711                            1740     
 4712 00000B00 D108              1741             MOV.L   #_KMT_TRSPV_CNT,R1              ;
 4713 00000B02 6311              1742             MOV.W   @R1,R3                          ;
 4714 00000B04 D40B              1743             MOV.L   #_KMT_TRSLT_OBJADR,R4           ;ﾒﾓﾘ種別に対するｵﾌｾｯﾄｱﾄﾞﾚｽword.adr
 4715 00000B06 6241              1744             MOV.W   @R4,R2                          ;
 4716 00000B08 323C              1745             ADD     R3,R2                           ;
 4717 00000B0A D40B              1746             MOV.L   #_ET2_SITM_ADR,R4               ;WORD ADR
 4718 00000B0C 2421              1747             MOV.W   R2,@R4                          ;
 4719 00000B0E 7301              1748             ADD     #1,R3                           ;CNT+1
 4720 00000B10 2131              1749             MOV.W   R3,@R1                          ;
 4721                            1750     
 4722                            1751     ;       --------- HAND SYEIKU ON -------
 4723                            1752             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_REQ_SIG,LG=W,BIT=BIT7,WKREG=R1 ;bit-set
 4724 00000B12 D10A                   M           MOV.L   #_KMT_REQ_SIG,R1                ;
 4725 00000B14 6011                   M           MOV.W   @R1,R0          ;
 4726 00000B16 CB80                   M           OR      #BIT7,R0                ;
 4727 00000B18 2101                   M           MOV.W   R0,@R1          ;
 4728                            1753             FAR_JSR #_KMT_REQSIG_OUT,R0                                     ;
 4729 00000B1A D009                   M           MOV.L   #_KMT_REQSIG_OUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4730 00000B1C 400B                   M           JSR     @R0                     ;
 4731 00000B1E 0009                   M           NOP                                     ;
 4732                            1754     
 4733                            1755             M_BRA   KMT_TRS_STPWR_EXT               ;
 4734 00000B20 A013                   M           BRA     KMT_TRS_STPWR_EXT
 4735 00000B22 0009                   M           NOP
 4736                            1756     
 4737                                     ***** BEGIN-POOL *****
 4738 00000B24 00000000                   DATA FOR SOURCE-LINE 1726,1741
 4739 00000B28 00000000                   DATA FOR SOURCE-LINE 1728
 4740 00000B2C 00000000                   DATA FOR SOURCE-LINE 1734
 4741 00000B30 00000000                   DATA FOR SOURCE-LINE 1737
 4742 00000B34 00000000                   DATA FOR SOURCE-LINE 1743
 4743 00000B38 00000000                   DATA FOR SOURCE-LINE 1746
 4744 00000B3C 00000000                   DATA FOR SOURCE-LINE 1752
 4745 00000B40 00000000                   DATA FOR SOURCE-LINE 1753
 4746                                     ***** END-POOL *****
 4747 00000B44                   1757     KMT_TRS_STPWR_200:
 4748                            1758             FAR_JSR #_KMT_TRSCMD_ENDCLR,R0
 4749 00000B44 D002                   M           MOV.L   #_KMT_TRSCMD_ENDCLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4750 00000B46 400B                   M           JSR     @R0                     ;
 4751 00000B48 0009                   M           NOP                                     ;
 4752                            1759     
 4753                            1760     
 4754 00000B4A                   1761     KMT_TRS_STPWR_EXT:
 4755                            1762             SUB_END
 4756                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4757 00000B4A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4758                            1763             M_RTS
 4759 00000B4C 000B                   M           RTS                             ;RTSの後ろの
 4760 00000B4E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4761                            1764     
 4762                            1765     
 4763                            1766     
 4764                            1767     ;       ***************************
 4765                            1768     ;       ***                     ***
 4766                            1769     ;       ***     RD STEP         ***
 4767                            1770     ;       ***                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    51
PROGRAM NAME =

 4768                            1771     ;       ***************************
 4769                            1772     ;       OFFｴｯｼﾞで取込
 4770                            1773     ;       ACK     ON      OFF
 4771                            1774     ;       REQ ON      OFF
 4772                            1775     ;            data取込
 4773                            1776     ;
 4774                            1777     
 4775                                     ***** BEGIN-POOL *****
 4776 00000B50 00000000                   DATA FOR SOURCE-LINE 1758
 4777                                     ***** END-POOL *****
 4778 00000B54                   1778     _KMT_TRS_STP_RD:
 4779                            1779             SUB_START
 4780 00000B54 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4781                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4782                            1780     
 4783                            1781             FAR_JSR #_KMT_ACKSIG_IN,R0                      ;ANS R0
 4784 00000B56 D00F                   M           MOV.L   #_KMT_ACKSIG_IN,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4785 00000B58 400B                   M           JSR     @R0                     ;
 4786 00000B5A 0009                   M           NOP                                     ;
 4787 00000B5C D10E              1782             MOV.L   #_KMT_REQ_SIG,R1                        ;
 4788 00000B5E 6211              1783             MOV.W   @R1,R2                                  ;
 4789 00000B60 3020              1784             CMP/EQ  R2,R0                                   ;REQ=ACK?
 4790 00000B62 8B60              1785             BF      KMT_TRS_STPRD_EXT                       ;
 4791                            1786     
 4792 00000B64 C880              1787             TST     #BIT7,R0                                ;
 4793                            1788             TST_BIT_OF KMT_TRS_STPRD_100                    ;SIG=0 YES JUMP
 4794 00000B66 8921                   M           BT      KMT_TRS_STPRD_100
 4795                            1789     
 4796 00000B68 D10C              1790             MOV.L   #_ET2_SITM_RDDT,R1                      ;
 4797 00000B6A 6411              1791             MOV.W   @R1,R4                                  ;dpram data load
 4798                            1792     
 4799 00000B6C D10C              1793             MOV.L   #_KMT_TRSPV_CNT,R1                      ;CNT*2
 4800 00000B6E 6011              1794             MOV.W   @R1,R0                                  ;
 4801 00000B70 4000              1795             SHLL    R0
 4802 00000B72 D10C              1796             MOV.L   #_KMT_TRSLT_DAT,R1                      ;
 4803 00000B74 310C              1797             ADD     R0,R1                                   ;DAT+CNT*2
 4804 00000B76 2141              1798             MOV.W   R4,@R1                                  ;data save
 4805                            1799     
 4806 00000B78 D109              1800             MOV.L   #_KMT_TRSPV_CNT,R1                      ;
 4807 00000B7A 6211              1801             MOV.W   @R1,R2                                  ;
 4808 00000B7C 7201              1802             ADD     #1,R2                                   ;CNT+1
 4809 00000B7E 2121              1803             MOV.W   R2,@R1                                  ;
 4810                            1804     
 4811                            1805             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_KMT_REQ_SIG,LG=W,BIT=~BIT7,WKREG=R1       ;//
 4812 00000B80 D105                   M           MOV.L   #_KMT_REQ_SIG,R1                ;
 4813 00000B82 6011                   M           MOV.W   @R1,R0          ;
 4814 00000B84 C97F                   M           AND     #LOW ~BIT7,R0           ;
 4815 00000B86 2101                   M           MOV.W   R0,@R1          ;
 4816                            1806             FAR_JSR #_KMT_REQSIG_OUT,R0                                             ;
 4817 00000B88 D007                   M           MOV.L   #_KMT_REQSIG_OUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4818 00000B8A 400B                   M           JSR     @R0                     ;
 4819 00000B8C 0009                   M           NOP                                     ;
 4820                            1807             M_BRA   KMT_TRS_STPRD_EXT                                               ;
 4821 00000B8E A04A                   M           BRA     KMT_TRS_STPRD_EXT
 4822 00000B90 0009                   M           NOP
 4823                            1808     
 4824                            1809     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    52
PROGRAM NAME =

 4825                                     ***** BEGIN-POOL *****
 4826 00000B92 0000                       ALIGNMENT CODE
 4827 00000B94 00000000                   DATA FOR SOURCE-LINE 1781
 4828 00000B98 00000000                   DATA FOR SOURCE-LINE 1782,1805
 4829 00000B9C 00000000                   DATA FOR SOURCE-LINE 1790
 4830 00000BA0 00000000                   DATA FOR SOURCE-LINE 1793,1800
 4831 00000BA4 00000000                   DATA FOR SOURCE-LINE 1796
 4832 00000BA8 00000000                   DATA FOR SOURCE-LINE 1806
 4833                                     ***** END-POOL *****
 4834 00000BAC                   1810     KMT_TRS_STPRD_100:
 4835 00000BAC D10A              1811             MOV.L   #_KMT_TRSPV_CNT,R1              ;(WR/RDｶｳﾝﾀ　0)
 4836 00000BAE 6011              1812             MOV.W   @R1,R0                          ;
 4837 00000BB0 D10A              1813             MOV.L   #_KMT_TRSLT_CNT,R1              ;(SV)
 4838 00000BB2 6211              1814             MOV.W   @R1,R2                          ;
 4839 00000BB4 3206              1815             CMP/HI  R0,R2                           ;R0 < R2
 4840 00000BB6 8B1B              1816             BF      KMT_TRS_STPRD_200               ;NO R2 =< R0 (ｶｳﾝﾀ終了　JUMP) 0=0をOK
 4841                            1817     ;R0 < R2
 4842 00000BB8 D107              1818             MOV.L   #_KMT_TRSPV_CNT,R1              ;
 4843 00000BBA 6311              1819             MOV.W   @R1,R3                          ;
 4844 00000BBC D408              1820             MOV.L   #_KMT_TRSLT_OBJADR,R4           ;ﾒﾓﾘ種別に対するｵﾌｾｯﾄｱﾄﾞﾚｽword.adr
 4845 00000BBE 6241              1821             MOV.W   @R4,R2                          ;
 4846 00000BC0 323C              1822             ADD     R3,R2                           ;
 4847 00000BC2 D408              1823             MOV.L   #_ET2_SITM_ADR,R4               ;WORD ADR
 4848 00000BC4 2421              1824             MOV.W   R2,@R4                          ;
 4849                            1825     
 4850                            1826     
 4851                            1827     ;       --------- HAND SYEIKU ON -------
 4852                            1828             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_REQ_SIG,LG=W,BIT=BIT7,WKREG=R1 ;bit-set
 4853 00000BC6 D108                   M           MOV.L   #_KMT_REQ_SIG,R1                ;
 4854 00000BC8 6011                   M           MOV.W   @R1,R0          ;
 4855 00000BCA CB80                   M           OR      #BIT7,R0                ;
 4856 00000BCC 2101                   M           MOV.W   R0,@R1          ;
 4857                            1829             FAR_JSR #_KMT_REQSIG_OUT,R0                                     ;
 4858 00000BCE D007                   M           MOV.L   #_KMT_REQSIG_OUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4859 00000BD0 400B                   M           JSR     @R0                     ;
 4860 00000BD2 0009                   M           NOP                                     ;
 4861                            1830             M_BRA   KMT_TRS_STPRD_EXT               ;
 4862 00000BD4 A027                   M           BRA     KMT_TRS_STPRD_EXT
 4863 00000BD6 0009                   M           NOP
 4864                            1831     
 4865                                     ***** BEGIN-POOL *****
 4866 00000BD8 00000000                   DATA FOR SOURCE-LINE 1811,1818
 4867 00000BDC 00000000                   DATA FOR SOURCE-LINE 1813
 4868 00000BE0 00000000                   DATA FOR SOURCE-LINE 1820
 4869 00000BE4 00000000                   DATA FOR SOURCE-LINE 1823
 4870 00000BE8 00000000                   DATA FOR SOURCE-LINE 1828
 4871 00000BEC 00000000                   DATA FOR SOURCE-LINE 1829
 4872                                     ***** END-POOL *****
 4873 00000BF0                   1832     KMT_TRS_STPRD_200:
 4874                            1833     
 4875 00000BF0 D507              1834             MOV.L   #_KMT_TRSLT_DAT,R5                      ;SRC
 4876                            1835     
 4877 00000BF2 D108              1836             MOV.L   #_KMT_TRSLT_TOPADR,R1                   ;STRCUT
 4878 00000BF4 6812              1837             MOV.L   @R1,R8                                  ;save
 4879 00000BF6 D608              1838             MOV.L   #_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM,R6    ;DST
 4880 00000BF8 368C              1839             ADD     R8,R6                                   ;data top
 4881                            1840     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    53
PROGRAM NAME =

 4882 00000BFA D108              1841             MOV.L   #_KMT_TRSLT_CNT,R1                      ;MAX 1~256 word
 4883 00000BFC 6411              1842             MOV.W   @R1,R4                                  ;
 4884                            1843     
 4885 00000BFE                   1844     KMT_TRS_STPRD_250LOP:
 4886 00000BFE 2448              1845             TST     R4,R4                                   ;
 4887                            1846             TST_BIT_OF KMT_TRS_STPRD_300                    ;
 4888 00000C00 890E                   M           BT      KMT_TRS_STPRD_300
 4889 00000C02 6055              1847             MOV.W   @R5+,R0
 4890 00000C04 2601              1848             MOV.W   R0,@R6
 4891 00000C06 7602              1849             ADD     #2,R6
 4892 00000C08 74FF              1850             ADD     #-1,R4
 4893                            1851             M_BRA   KMT_TRS_STPRD_250LOP
 4894 00000C0A AFF8                   M           BRA     KMT_TRS_STPRD_250LOP
 4895 00000C0C 0009                   M           NOP
 4896                            1852     
 4897                                     ***** BEGIN-POOL *****
 4898 00000C0E 0000                       ALIGNMENT CODE
 4899 00000C10 00000000                   DATA FOR SOURCE-LINE 1834
 4900 00000C14 00000000                   DATA FOR SOURCE-LINE 1836
 4901 00000C18 00000008                   DATA FOR SOURCE-LINE 1838
 4902 00000C1C 00000000                   DATA FOR SOURCE-LINE 1841
 4903                                     ***** END-POOL *****
 4904 00000C20                   1853     KMT_TRS_STPRD_300:
 4905                            1854     
 4906                            1855     
 4907                            1856             FAR_JSR #_KMT_TRSCMD_ENDCLR,R0
 4908 00000C20 D002                   M           MOV.L   #_KMT_TRSCMD_ENDCLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4909 00000C22 400B                   M           JSR     @R0                     ;
 4910 00000C24 0009                   M           NOP                                     ;
 4911                            1857     
 4912                            1858     
 4913 00000C26                   1859     KMT_TRS_STPRD_EXT:
 4914                            1860             SUB_END
 4915                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4916 00000C26 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4917                            1861             M_RTS
 4918 00000C28 000B                   M           RTS                             ;RTSの後ろの
 4919 00000C2A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4920                            1862     
 4921                            1863     
 4922                            1864     ;       ***********************************
 4923                            1865     ;       ***                             ***
 4924                            1866     ;       ***      STEP/END CLR           ***
 4925                            1867     ;       ***      CMD CLR                ***
 4926                            1868     ;       ***********************************
 4927                                     ***** BEGIN-POOL *****
 4928 00000C2C 00000000                   DATA FOR SOURCE-LINE 1856
 4929                                     ***** END-POOL *****
 4930 00000C30                   1869     _KMT_TRSCMD_ENDCLR
 4931                            1870             SUB_START
 4932 00000C30 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4933                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4934 00000C32 200A              1871             XOR     R0,R0                           ;
 4935 00000C34 D103              1872             MOV.L   #_KMT_TRS_CMD,R1                ;0:ILDE 1:WRITE 2:READ
 4936 00000C36 2101              1873             MOV.W   R0,@R1                          ;CMD CLR
 4937                            1874     
 4938 00000C38 D103              1875             MOV.L   #_KMT_TRSLT_TOPADR,R1                           ;STRCUT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    54
PROGRAM NAME =

 4939 00000C3A 6812              1876             MOV.L   @R1,R8                                          ;save
 4940 00000C3C 8180              1877             MOV.W   R0,@(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM,R8)       ;
 4941                            1878     
 4942                            1879     
 4943                            1880             SUB_END
 4944                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4945 00000C3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4946                            1881             M_RTS
 4947 00000C40 000B                   M           RTS                             ;RTSの後ろの
 4948 00000C42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4949                            1882     
 4950                            1883     
 4951                            1884     
 4952                            1885     ;       ***********************************
 4953                            1886     ;       ***                             ***
 4954                            1887     ;       ***                             ***
 4955                            1888     ;       ***     TYPE011型判定           ***
 4956                            1889     ;       ***     2011-01-14              ***
 4957                            1890     ;       ***********************************
 4958                            1891     ;
 4959                                     ***** BEGIN-POOL *****
 4960 00000C44 00000000                   DATA FOR SOURCE-LINE 1872
 4961 00000C48 00000000                   DATA FOR SOURCE-LINE 1875
 4962                                     ***** END-POOL *****
 4963 00000C4C                   1892             .ALIGN  4                                       ;
 4964 00000C4C                   1893     _KMT_TYPE_011_CHK:
 4965                            1894             SUB_START
 4966 00000C4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4967                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4968                            1895     
 4969 00000C4E D109              1896             MOV.L   #(__SITM_KMTTYPE-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1      ;
 4970 00000C50 6011              1897             MOV.W   @R1,R0                                                  ;
 4971                            1898     
 4972                            1899             .AIF    0       EQ 1                            ;@
 4973                            1900             MOV.W   #__SIT_VER_TYP2_COD,R0                                  ;@TYP011に見える
 4974                            1901             .AENDI                                                          ;@
 4975                            1902     
 4976 00000C52 940C              1903             MOV.W   #__SIT_VER_TYP2_COD,R4                                  ;
 4977 00000C54 3040              1904             CMP/EQ  R4,R0                                                   ;
 4978 00000C56 8B07              1905             BF      KMT_TYPE011CHK_END                                      ;
 4979                            1906     
 4980 00000C58 D107              1907             MOV.L   #_SEQ_DP_TOP+_SQ113,R1                                  ;
 4981 00000C5A 6011              1908             MOV.W   @R1,R0                                                  ;
 4982 00000C5C 9408              1909             MOV.W   #BIT9,R4                                                ;113.9=1
 4983 00000C5E 2048              1910             TST     R4,R0                                                   ;
 4984                            1911             TST_BIT_OF KMT_TYPE011CHK_END                                   ;011型機能有効
 4985 00000C60 8902                   M           BT      KMT_TYPE011CHK_END
 4986                            1912     
 4987 00000C62 9006              1913             MOV.W   #1,R0                                           ;
 4988 00000C64 D105              1914             MOV.L   #_KMT_TYP_011,R1                                ;TYPE011型機能有効
 4989 00000C66 2101              1915             MOV.W   R0,@R1                                          ;
 4990                            1916     
 4991 00000C68                   1917     KMT_TYPE011CHK_END:
 4992                            1918     
 4993                            1919             SUB_END
 4994                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4995 00000C68 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    55
PROGRAM NAME =

 4996                            1920             M_RTS
 4997 00000C6A 000B                   M           RTS                             ;RTSの後ろの
 4998 00000C6C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4999                            1921     
 5000                            1922     
 5001                            1923     
 5002                            1924     ;       ***************************************************
 5003                            1925     ;       ***                                             ***
 5004                            1926     ;       ***             品番データ作成、転送            ***
 5005                            1927     ;       ***             (write)                         ***
 5006                            1928     ;       ***************************************************
 5007                                     ***** BEGIN-POOL *****
 5008 00000C6E 5A01                       DATA FOR SOURCE-LINE 1903
 5009 00000C70 0200                       DATA FOR SOURCE-LINE 1909
 5010 00000C72 0001                       DATA FOR SOURCE-LINE 1913
 5011 00000C74 00000000                   DATA FOR SOURCE-LINE 1896
 5012 00000C78 00000000                   DATA FOR SOURCE-LINE 1907
 5013 00000C7C 00000000                   DATA FOR SOURCE-LINE 1914
 5014                                     ***** END-POOL *****
 5015 00000C80                   1929             .ALIGN  4                                       ;
 5016 00000C80                   1930     _KOMTRAX_HINBAN_MAIN
 5017                            1931             SUB_START
 5018 00000C80 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5019                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5020                            1932     
 5021                            1933             FAR_JSR #_KMT_HINBAN_MAKE,R0            ;
 5022 00000C82 D004                   M           MOV.L   #_KMT_HINBAN_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5023 00000C84 400B                   M           JSR     @R0                     ;
 5024 00000C86 0009                   M           NOP                                     ;
 5025                            1934     
 5026                            1935             FAR_JSR #_KMT_HINBAN_STEP,R0            ;
 5027 00000C88 D003                   M           MOV.L   #_KMT_HINBAN_STEP,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5028 00000C8A 400B                   M           JSR     @R0                     ;
 5029 00000C8C 0009                   M           NOP                                     ;
 5030                            1936     
 5031                            1937             SUB_END
 5032                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5033 00000C8E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5034                            1938             M_RTS
 5035 00000C90 000B                   M           RTS                             ;RTSの後ろの
 5036 00000C92 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5037                            1939     
 5038                            1940     
 5039                            1941     ;       *******************************************
 5040                            1942     ;       ***                                     ***
 5041                            1943     ;       ***             品番データ作成          ***
 5042                            1944     ;       ***             (write)                 ***
 5043                            1945     ;       *******************************************
 5044                            1946     ;_KMT_HINBAN_TRG_FLG    .SRES   2*5                     ;保留が発生した場合の処理
 5045                            1947     ;+0:現在
 5046                            1948     ;+1:次回
 5047                            1949     ;+2:次々回
 5048                            1950     ;+3:次次々回
 5049                            1951     ;+4:次次次々回
 5050                            1952     ;_KMT_HINBAN_BUFNUM     .SRES   2                       ;BUF使用数　0,1,2,3,4
 5051                            1953     
 5052                            1954             .GLOBAL         _SV0_WORK_STP_FLG       ;2byte作業終了 　0/0以外
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    56
PROGRAM NAME =

 5053                            1955             .GLOBAL         _SV0SP_WORKER_COD       ;2byte作業者ｺｰﾄﾞBIN
 5054                            1956             .GLOBAL         _SV0SP_ORDER_COD        ;4byte注文ｺｰﾄﾞBIN->ASC
 5055                            1957             .GLOBAL         _SV0SP_PLAN_CNT         ;4byte計画数BIN
 5056                            1958             .GLOBAL         _SV0SP_BAD_CNT          ;4byte不良数BIN
 5057                            1959             .GLOBAL         _SV0SP_KATA_NO          ;2byte型番号未使用予定
 5058                            1960             .GLOBAL         _SV0SP_KATA_NAME        ;2byte*7=14byte
 5059                            1961             .GLOBAL         _SV0SP_KATA_MEMO        ;2byte*7=14byte
 5060                            1962     
 5061                            1963             .GLOBAL         _SV0_WORK_STR_FLG       ;2byte作業開始 　0/0以外
 5062                            1964             .GLOBAL         _SV0SR_WORKER_COD       ;2byte作業者ｺｰﾄﾞBIN
 5063                            1965             .GLOBAL         _SV0SR_ORDER_COD        ;4byte注文ｺｰﾄﾞBIN->ASC
 5064                            1966             .GLOBAL         _SV0SR_PLAN_CNT         ;4byte計画数BIN
 5065                            1967             .GLOBAL         _SV0SR_BAD_CNT          ;4byte不良数BIN
 5066                            1968             .GLOBAL         _SV0SR_KATA_NO          ;2byte型番号未使用予定
 5067                            1969             .GLOBAL         _SV0SR_KATA_NAME        ;2byte*7=14byte
 5068                            1970             .GLOBAL         _SV0SR_KATA_MEMO        ;2byte*7=14byte
 5069                            1971     
 5070                                     ***** BEGIN-POOL *****
 5071 00000C94 00000000                   DATA FOR SOURCE-LINE 1933
 5072 00000C98 00000000                   DATA FOR SOURCE-LINE 1935
 5073                                     ***** END-POOL *****
 5074          00000000          1972     _EQ_ORDER_COD   .EQU    0       ;4byte注文ｺｰﾄﾞBIN->ASC
 5075          00000008          1973     _EQ_KATA_NAME   .EQU    4*2     ;2byte*7=14byte
 5076          0000001C          1974     _EQ_KATA_MEMO   .EQU    14*2    ;2byte*7=14byte
 5077          00000030          1975     _EQ_WORKER_COD  .EQU    24*2    ;2byte作業者ｺｰﾄﾞBIN
 5078          00000032          1976     _EQ_PLAN_CNT    .EQU    25*2    ;4byte計画数BIN
 5079          0000003A          1977     _EQ_BAD_CNT     .EQU    29*2    ;4byte不良数BIN
 5080                            1978     
 5081                            1979     
 5082 00000C9C                   1980             .ALIGN  4                                       ;
 5083 00000C9C                   1981     _KMT_HINBAN_MAKE:
 5084                            1982             SUB_START
 5085 00000C9C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5086                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5087                            1983     
 5088                            1984     ;       ---------------------------------------------------
 5089                            1985     ;       ---             保留データの作成                ---
 5090                            1986     ;       ---             "KMT_HINBAN_REQ_MAKE"           ---
 5091                            1987     ;       ---------------------------------------------------
 5092                            1988     
 5093 00000C9E D405              1989             MOV.L   #_SV0_WORK_STR_FLG,R4           ;
 5094 00000CA0 6141              1990             MOV.W   @R4,R1
 5095 00000CA2 D405              1991             MOV.L   #_SV0_WORK_STP_FLG,R4           ;
 5096 00000CA4 6241              1992             MOV.W   @R4,R2
 5097 00000CA6 2228              1993             TST     R2,R2                           ;終了あり
 5098                            1994             TST_BIT_ON KMT_HINBAN_RQMK_050
 5099 00000CA8 8B08                   M           BF      KMT_HINBAN_RQMK_050
 5100 00000CAA 2118              1995             TST     R1,R1                           ;
 5101                            1996             TST_BIT_ON KMT_HINBAN_RQMK_100          ;
 5102 00000CAC 8B1E                   M           BF      KMT_HINBAN_RQMK_100
 5103                            1997     ;       ------- 新たなｲﾍﾞﾝﾄはない----
 5104                            1998             M_BRA   KMT_HINBAN_RQMK_900
 5105 00000CAE A057                   M           BRA     KMT_HINBAN_RQMK_900
 5106 00000CB0 0009                   M           NOP
 5107                            1999     
 5108                            2000     ;       ------- 終了ｲﾍﾞﾝﾄあり
 5109                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    57
PROGRAM NAME =

 5110 00000CB2 0000                       ALIGNMENT CODE
 5111 00000CB4 00000000                   DATA FOR SOURCE-LINE 1989
 5112 00000CB8 00000000                   DATA FOR SOURCE-LINE 1991
 5113                                     ***** END-POOL *****
 5114 00000CBC                   2001     KMT_HINBAN_RQMK_050
 5115 00000CBC 2118              2002             TST     R1,R1                           ;
 5116                            2003             TST_BIT_ON KMT_HINBAN_RQMK_200          ;開始ｲﾍﾞﾝﾄもあり
 5117 00000CBE 8B2B                   M           BF      KMT_HINBAN_RQMK_200
 5118                            2004     ;       ----- 終了ｲﾍﾞﾝﾄのみ発生----
 5119                            2005             FAR_JSR #_KMT_HINBAN_BUF_MAK1,R0        ;output R6,R7
 5120 00000CC0 D007                   M           MOV.L   #_KMT_HINBAN_BUF_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5121 00000CC2 400B                   M           JSR     @R0                     ;
 5122 00000CC4 0009                   M           NOP                                     ;
 5123 00000CC6 9009              2006             MOV.W   #BIT1,R0                        ;
 5124 00000CC8 2701              2007             MOV.W   R0,@R7                          ;
 5125                            2008             FAR_JSR #_HINBAN_STOP_DATA_MOV,R0       ;input R6
 5126 00000CCA D006                   M           MOV.L   #_HINBAN_STOP_DATA_MOV,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5127 00000CCC 400B                   M           JSR     @R0                     ;
 5128 00000CCE 0009                   M           NOP                                     ;
 5129 00000CD0 D405              2009             MOV.L   #_KMT_HINBAN_TRG_NUM,R4         ;0個[保留なし],1個,2個,3個,4個,5個,6個full
 5130 00000CD2 6041              2010             MOV.W   @R4,R0                          ;
 5131 00000CD4 7001              2011             ADD     #1,R0                           ;
 5132 00000CD6 2401              2012             MOV.W   R0,@R4                          ;
 5133                            2013             M_BRA   KMT_HINBAN_RQMK_900
 5134 00000CD8 A042                   M           BRA     KMT_HINBAN_RQMK_900
 5135 00000CDA 0009                   M           NOP
 5136                            2014     
 5137                                     ***** BEGIN-POOL *****
 5138 00000CDC 0002                       DATA FOR SOURCE-LINE 2006
 5139 00000CDE 0000                       ALIGNMENT CODE
 5140 00000CE0 00000000                   DATA FOR SOURCE-LINE 2005
 5141 00000CE4 00000000                   DATA FOR SOURCE-LINE 2008
 5142 00000CE8 00000000                   DATA FOR SOURCE-LINE 2009
 5143                                     ***** END-POOL *****
 5144 00000CEC                   2015     KMT_HINBAN_RQMK_100:
 5145                            2016     ;       ----- 開始ｲﾍﾞﾝﾄのみ発生----
 5146                            2017             FAR_JSR #_KMT_HINBAN_BUF_MAK1,R0                ;output R6,R7
 5147 00000CEC D007                   M           MOV.L   #_KMT_HINBAN_BUF_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5148 00000CEE 400B                   M           JSR     @R0                     ;
 5149 00000CF0 0009                   M           NOP                                     ;
 5150 00000CF2 9009              2018             MOV.W   #BIT0,R0                                ;
 5151 00000CF4 2701              2019             MOV.W   R0,@R7                                  ;
 5152                            2020             FAR_JSR #_HINBAN_START_DATA_MOV,R0              ;input R6
 5153 00000CF6 D006                   M           MOV.L   #_HINBAN_START_DATA_MOV,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5154 00000CF8 400B                   M           JSR     @R0                     ;
 5155 00000CFA 0009                   M           NOP                                     ;
 5156 00000CFC D405              2021             MOV.L   #_KMT_HINBAN_TRG_NUM,R4                 ;0個[保留なし],1個,2個,3個,4個,5個
                                          full
 5157 00000CFE 6041              2022             MOV.W   @R4,R0                                  ;
 5158 00000D00 7001              2023             ADD     #1,R0                                   ;
 5159 00000D02 2401              2024             MOV.W   R0,@R4                                  ;
 5160                            2025             M_BRA   KMT_HINBAN_RQMK_900                     ;
 5161 00000D04 A02C                   M           BRA     KMT_HINBAN_RQMK_900
 5162 00000D06 0009                   M           NOP
 5163                            2026     
 5164                            2027     
 5165                            2028     ;       ----- 終了ｲﾍﾞﾝﾄと開始ｲﾍﾞﾝﾄが同時に発生----
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    58
PROGRAM NAME =

 5166                                     ***** BEGIN-POOL *****
 5167 00000D08 0001                       DATA FOR SOURCE-LINE 2018
 5168 00000D0A 0000                       ALIGNMENT CODE
 5169 00000D0C 00000000                   DATA FOR SOURCE-LINE 2017
 5170 00000D10 00000000                   DATA FOR SOURCE-LINE 2020
 5171 00000D14 00000000                   DATA FOR SOURCE-LINE 2021
 5172                                     ***** END-POOL *****
 5173 00000D18                   2029     KMT_HINBAN_RQMK_200:
 5174                            2030             FAR_JSR #_KMT_HINBAN_BUF_MAK1,R0        ;output R6,R7
 5175 00000D18 D00D                   M           MOV.L   #_KMT_HINBAN_BUF_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5176 00000D1A 400B                   M           JSR     @R0                     ;
 5177 00000D1C 0009                   M           NOP                                     ;
 5178 00000D1E 9015              2031             MOV.W   #BIT1,R0                        ;
 5179 00000D20 2701              2032             MOV.W   R0,@R7                          ;
 5180                            2033             FAR_JSR #_HINBAN_STOP_DATA_MOV,R0       ;input R6
 5181 00000D22 D00C                   M           MOV.L   #_HINBAN_STOP_DATA_MOV,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5182 00000D24 400B                   M           JSR     @R0                     ;
 5183 00000D26 0009                   M           NOP                                     ;
 5184 00000D28 D40B              2034             MOV.L   #_KMT_HINBAN_TRG_NUM,R4         ;0個[保留なし],1個,2個,3個,4個,5個full
 5185 00000D2A 6041              2035             MOV.W   @R4,R0                          ;
 5186 00000D2C 7001              2036             ADD     #1,R0                           ;
 5187 00000D2E 2401              2037             MOV.W   R0,@R4                          ;
 5188                            2038     
 5189                            2039             FAR_JSR #_KMT_HINBAN_BUF_MAK1,R0        ;output R6,R7
 5190 00000D30 D007                   M           MOV.L   #_KMT_HINBAN_BUF_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5191 00000D32 400B                   M           JSR     @R0                     ;
 5192 00000D34 0009                   M           NOP                                     ;
 5193 00000D36 900A              2040             MOV.W   #BIT0,R0                        ;
 5194 00000D38 2701              2041             MOV.W   R0,@R7                          ;
 5195                            2042             FAR_JSR #_HINBAN_START_DATA_MOV,R0              ;input R6
 5196 00000D3A D008                   M           MOV.L   #_HINBAN_START_DATA_MOV,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5197 00000D3C 400B                   M           JSR     @R0                     ;
 5198 00000D3E 0009                   M           NOP                                     ;
 5199 00000D40 D405              2043             MOV.L   #_KMT_HINBAN_TRG_NUM,R4                 ;0個[保留なし],1個,2個,3個,4個,5個
                                          full
 5200 00000D42 6041              2044             MOV.W   @R4,R0                                  ;
 5201 00000D44 7001              2045             ADD     #1,R0                                   ;
 5202 00000D46 2401              2046             MOV.W   R0,@R4                                  ;
 5203                            2047             M_BRA   KMT_HINBAN_RQMK_900
 5204 00000D48 A00A                   M           BRA     KMT_HINBAN_RQMK_900
 5205 00000D4A 0009                   M           NOP
 5206                            2048     
 5207                            2049     
 5208                                     ***** BEGIN-POOL *****
 5209 00000D4C 0002                       DATA FOR SOURCE-LINE 2031
 5210 00000D4E 0001                       DATA FOR SOURCE-LINE 2040
 5211 00000D50 00000000                   DATA FOR SOURCE-LINE 2030,2039
 5212 00000D54 00000000                   DATA FOR SOURCE-LINE 2033
 5213 00000D58 00000000                   DATA FOR SOURCE-LINE 2034,2043
 5214 00000D5C 00000000                   DATA FOR SOURCE-LINE 2042
 5215                                     ***** END-POOL *****
 5216 00000D60                   2050     KMT_HINBAN_RQMK_900
 5217                            2051             M_BRA   KMT_HINBAN_RQMK_999     ;
 5218 00000D60 A000                   M           BRA     KMT_HINBAN_RQMK_999
 5219 00000D62 0009                   M           NOP
 5220                            2052     
 5221 00000D64                   2053     KMT_HINBAN_RQMK_999
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    59
PROGRAM NAME =

 5222                            2054     
 5223                            2055     ;       ---------------------------------------------------
 5224                            2056     ;       ---             送信データの作成                ---
 5225                            2057     ;       ---             "KMT_HINBAN_DAT_MAKE"           ---
 5226                            2058     ;       ---------------------------------------------------
 5227 00000D64 D507              2059             MOV.L   #_KMT_HINBAN_CHGF,R5                    ;
 5228 00000D66 6051              2060             MOV.W   @R5,R0                                  ;BIT0orBIT1-->送信部 送信部でｸﾘｱさ
                                          れる
 5229 00000D68 2008              2061             TST     R0,R0                                   ;
 5230                            2062             TST_BIT_ON KMT_HINBAN_DTMK_900                  ;送信部処理中　EXIT
 5231 00000D6A 8B07                   M           BF      KMT_HINBAN_DTMK_900
 5232                            2063     
 5233 00000D6C D406              2064             MOV.L   #_KMT_HINBAN_TRG_NUM,R4                 ;0個[ﾃﾞｰﾀなし],1個,2個,3個,4個,5個
                                          ,6個full
 5234 00000D6E 6041              2065             MOV.W   @R4,R0                                  ;
 5235 00000D70 2008              2066             TST     R0,R0
 5236                            2067             TST_BIT_OF KMT_HINBAN_DTMK_900                  ;送信ﾃﾞｰﾀない
 5237 00000D72 8903                   M           BT      KMT_HINBAN_DTMK_900
 5238                            2068     
 5239                            2069     ;;      ADD     #-1,R0                                  ;
 5240                            2070     ;;      MOV.W   R0,@R4                                  ;
 5241                            2071     ;;      MOV     R0,R7                                   ;LOOP
 5242                            2072     ;;
 5243                            2073     ;;      MOV.L   #_KMT_HMI_HINBAN_BUF+__SITM_HINBAN_CNT,R5       ;
 5244                            2074     ;;      MOV.L   #_KMT_HMI_HINBAN_BUF,R6                         ;
 5245                            2075     ;;
 5246                            2076     ;;      MOV.L   #_KMT_HINBAN_TRG_FLG+1*2,R10                    ;
 5247                            2077     ;;      MOV.L   #_KMT_HINBAN_TRG_FLG,R11                        ;
 5248                            2078     ;;
 5249                            2079     ;;
 5250                            2080     ;;KMT_HINBAN_DTMK_100_LOP
 5251                            2081     ;;      TST     R7,R7                                           ;
 5252                            2082     ;;      TST_BIT_OF KMT_HINBAN_DTMK_200                          ;転送終わり[BUFF1が送信対
                                          象だから]
 5253                            2083     ;;
 5254                            2084     ;;      MOV.W   @R10+,R0                                        ;FLG
 5255                            2085     ;;      MOV.W   R0,@R11                                         ;
 5256                            2086     ;;      ADD     #2,R11                                          ;
 5257                            2087     ;;
 5258                            2088     ;;      MOV.W   #__SITM_HINBAN_CNT/2,R3                         ;80word
 5259                            2089     ;;KMT_HINBAN_DTMK_120_LOP
 5260                            2090     ;;      MOV.W   @R5+,R0                                         ;
 5261                            2091     ;;      MOV.W   R0,@R6                                          ;
 5262                            2092     ;;      ADD     #2,R6                                           ;
 5263                            2093     ;;      ADD     #-1,R3                                          ;
 5264                            2094     ;;      TST     R3,R3                                           ;
 5265                            2095     ;;      TST_BIT_ON KMT_HINBAN_DTMK_120_LOP                      ;
 5266                            2096     ;;      ADD     #-1,R7                                          ;
 5267                            2097     ;;      M_BRA   KMT_HINBAN_DTMK_100_LOP                         ;
 5268                            2098     
 5269                            2099     ;;KMT_HINBAN_DTMK_200
 5270                            2100     
 5271 00000D74 D105              2101             MOV.L   #_KMT_HINBAN_TRG_FLG,R1                 ;保留が発生した場合の処理
 5272 00000D76 6011              2102             MOV.W   @R1,R0                                  ;
 5273 00000D78 D502              2103             MOV.L   #_KMT_HINBAN_CHGF,R5                    ;
 5274 00000D7A 2501              2104             MOV.W   R0,@R5                                  ;BIT0orBIT1-->送信部 送信部でｸﾘｱさ
                                          れる
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    60
PROGRAM NAME =

 5275                            2105     
 5276                            2106     
 5277 00000D7C                   2107     KMT_HINBAN_DTMK_900
 5278                            2108     
 5279                            2109             SUB_END
 5280                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5281 00000D7C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5282                            2110             M_RTS
 5283 00000D7E 000B                   M           RTS                             ;RTSの後ろの
 5284 00000D80 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5285                            2111     
 5286                            2112     
 5287                            2113     ;       ***************************
 5288                            2114     ;       ***     buff_TOP_MAKE   ***
 5289                            2115     ;       ***************************
 5290                            2116     ;       OUTPUT R6
 5291                            2117     ;       Output R7
 5292                                     ***** BEGIN-POOL *****
 5293 00000D82 0000                       ALIGNMENT CODE
 5294 00000D84 00000000                   DATA FOR SOURCE-LINE 2059,2103
 5295 00000D88 00000000                   DATA FOR SOURCE-LINE 2064
 5296 00000D8C 00000000                   DATA FOR SOURCE-LINE 2101
 5297                                     ***** END-POOL *****
 5298 00000D90                   2118     _KMT_HINBAN_BUF_MAK1:
 5299                            2119             SUB_START
 5300 00000D90 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5301                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5302                            2120     
 5303 00000D92 D509              2121             MOV.L   #_KMT_HINBAN_TRG_NUM,R5                 ;0個[保留なし],1個,2個,3個,4個,5個
                                          full
 5304 00000D94 6051              2122             MOV.W   @R5,R0                                  ;
 5305 00000D96 8806              2123             CMP/EQ  #_HINBAN_BUF_MAX,R0                     ;
 5306 00000D98 8B01              2124             BF      KMT_HINBAN_BUFMK1_100                   ;
 5307 00000D9A 70FE              2125             ADD     #-2,R0                                  ;2つ前に戻す[ﾊﾞﾌｧも]
 5308 00000D9C 2501              2126             MOV.W   R0,@R5                                  ;開始→終了→.....ならば２つ前と一
                                          致するはず
 5309                            2127                                                             ;ﾊﾞﾌｧ6-->4
 5310                            2128                                                             ;ﾊﾞﾌｧ5-->3
 5311                            2129                                                             ;保留しておく
 5312 00000D9E                   2130     KMT_HINBAN_BUFMK1_100:
 5313 00000D9E 9409              2131             MOV.W   #__SITM_HINBAN_CNT,R4                   ;160byte
 5314 00000DA0 340D              2132             DMULS.L R0,R4                                   ;
 5315 00000DA2 021A              2133             STS.L   MACL,R2                                 ;
 5316                            2134     
 5317 00000DA4 D605              2135             MOV.L   #_KMT_HMI_HINBAN_BUF,R6                 ;
 5318 00000DA6 362C              2136             ADD     R2,R6                                   ;
 5319                            2137     
 5320 00000DA8 D705              2138             MOV.L   #_KMT_HINBAN_TRG_FLG,R7                 ;
 5321 00000DAA 4000              2139             SHLL    R0
 5322 00000DAC 370C              2140             ADD     R0,R7                                   ;
 5323                            2141     
 5324                            2142     
 5325                            2143             SUB_END
 5326                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5327 00000DAE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5328                            2144             M_RTS
 5329 00000DB0 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    61
PROGRAM NAME =

 5330 00000DB2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5331                            2145     ;
 5332                            2146     ;
 5333                            2147     ;       input R6:DST MEM
 5334                            2148     ;
 5335                                     ***** BEGIN-POOL *****
 5336 00000DB4 00A0                       DATA FOR SOURCE-LINE 2131
 5337 00000DB6 0000                       ALIGNMENT CODE
 5338 00000DB8 00000000                   DATA FOR SOURCE-LINE 2121
 5339 00000DBC 00000000                   DATA FOR SOURCE-LINE 2135
 5340 00000DC0 00000000                   DATA FOR SOURCE-LINE 2138
 5341                                     ***** END-POOL *****
 5342 00000DC4                   2149     _HINBAN_START_DATA_MOV:
 5343                            2150             SUB_START
 5344 00000DC4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5345                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5346 00000DC6 D704              2151             MOV.L   #_SV0_WORK_STR_FLG,R7   ;2byte作業終了 　0/0以外
 5347 00000DC8 D804              2152             MOV.L   #_SV0SR_WORKER_COD,R8   ;2byte作業者ｺｰﾄﾞBIN
 5348 00000DCA D905              2153             MOV.L   #_SV0SR_ORDER_COD,R9    ;4byte注文ｺｰﾄﾞBIN->ASC
 5349 00000DCC DA05              2154             MOV.L   #_SV0SR_PLAN_CNT,R10    ;4byte計画数BIN
 5350 00000DCE DB06              2155             MOV.L   #_SV0SR_BAD_CNT,R11     ;4byte不良数BIN
 5351 00000DD0 DC06              2156             MOV.L   #_SV0SR_KATA_NAME,R12   ;2byte*7=14byte
 5352 00000DD2 DD07              2157             MOV.L   #_SV0SR_KATA_MEMO,R13   ;2byte*7=14byte
 5353                            2158             M_BRA   HINBAN_COM_DATMOV
 5354 00000DD4 A026                   M           BRA     HINBAN_COM_DATMOV
 5355 00000DD6 0009                   M           NOP
 5356                            2159     
 5357                            2160     
 5358                                     ***** BEGIN-POOL *****
 5359 00000DD8 00000000                   DATA FOR SOURCE-LINE 2151
 5360 00000DDC 00000000                   DATA FOR SOURCE-LINE 2152
 5361 00000DE0 00000000                   DATA FOR SOURCE-LINE 2153
 5362 00000DE4 00000000                   DATA FOR SOURCE-LINE 2154
 5363 00000DE8 00000000                   DATA FOR SOURCE-LINE 2155
 5364 00000DEC 00000000                   DATA FOR SOURCE-LINE 2156
 5365 00000DF0 00000000                   DATA FOR SOURCE-LINE 2157
 5366                                     ***** END-POOL *****
 5367 00000DF4                   2161     _HINBAN_STOP_DATA_MOV:
 5368                            2162             SUB_START
 5369 00000DF4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5370                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5371 00000DF6 D704              2163             MOV.L   #_SV0_WORK_STP_FLG,R7   ;2byte作業終了 　0/0以外
 5372 00000DF8 D804              2164             MOV.L   #_SV0SP_WORKER_COD,R8   ;2byte作業者ｺｰﾄﾞBIN
 5373 00000DFA D905              2165             MOV.L   #_SV0SP_ORDER_COD,R9    ;4byte注文ｺｰﾄﾞBIN->ASC
 5374 00000DFC DA05              2166             MOV.L   #_SV0SP_PLAN_CNT,R10    ;4byte計画数BIN
 5375 00000DFE DB06              2167             MOV.L   #_SV0SP_BAD_CNT,R11     ;4byte不良数BIN
 5376 00000E00 DC06              2168             MOV.L   #_SV0SP_KATA_NAME,R12   ;2byte*7=14byte
 5377 00000E02 DD07              2169             MOV.L   #_SV0SP_KATA_MEMO,R13   ;2byte*7=14byte
 5378                            2170             M_BRA   HINBAN_COM_DATMOV
 5379 00000E04 A00E                   M           BRA     HINBAN_COM_DATMOV
 5380 00000E06 0009                   M           NOP
 5381                            2171     
 5382                                     ***** BEGIN-POOL *****
 5383 00000E08 00000000                   DATA FOR SOURCE-LINE 2163
 5384 00000E0C 00000000                   DATA FOR SOURCE-LINE 2164
 5385 00000E10 00000000                   DATA FOR SOURCE-LINE 2165
 5386 00000E14 00000000                   DATA FOR SOURCE-LINE 2166
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    62
PROGRAM NAME =

 5387 00000E18 00000000                   DATA FOR SOURCE-LINE 2167
 5388 00000E1C 00000000                   DATA FOR SOURCE-LINE 2168
 5389 00000E20 00000000                   DATA FOR SOURCE-LINE 2169
 5390                                     ***** END-POOL *****
 5391 00000E24                   2172     HINBAN_COM_DATMOV:
 5392                            2173     
 5393 00000E24 461E              2174             LDC     R6,GBR                                  ;
 5394                            2175     
 5395                            2176     ;       -------- 作業ｺｰﾄﾞ 2byte------------
 5396 00000E26 6085              2177             MOV.W   @R8+,R0                         ;
 5397 00000E28 C118              2178             MOV.W   R0,@(_EQ_WORKER_COD,GBR)        ;
 5398                            2179     
 5399                            2180     ;       --------注文ｺｰﾄﾞ 4byte------------
 5400 00000E2A 6296              2181             MOV.L   @R9+,R2                                 ;
 5401                            2182             FAR_JSR #_BCD4B_ASCII,R0                        ;
 5402 00000E2C D01D                   M           MOV.L   #_BCD4B_ASCII,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5403 00000E2E 400B                   M           JSR     @R0                     ;
 5404 00000E30 0009                   M           NOP                                     ;
 5405                            2183                                                             ;R1,R2,R3,R4 8byte
 5406 00000E32 6013              2184             MOV     R1,R0                                   ;
 5407 00000E34 C100              2185             MOV.W   R0,@(_EQ_ORDER_COD+0*2,GBR)             ;
 5408 00000E36 6023              2186             MOV     R2,R0                                   ;
 5409 00000E38 C101              2187             MOV.W   R0,@(_EQ_ORDER_COD+1*2,GBR)             ;
 5410 00000E3A 6033              2188             MOV     R3,R0                                   ;
 5411 00000E3C C102              2189             MOV.W   R0,@(_EQ_ORDER_COD+2*2,GBR)             ;
 5412 00000E3E 6043              2190             MOV     R4,R0                                   ;
 5413 00000E40 C103              2191             MOV.W   R0,@(_EQ_ORDER_COD+3*2,GBR)             ;
 5414                            2192     
 5415                            2193     ;       --------計画数 4byte------------
 5416 00000E42 60A5              2194             MOV.W   @R10+,R0                                ;
 5417 00000E44 C119              2195             MOV.W   R0,@(_EQ_PLAN_CNT+0*2,GBR)              ;
 5418 00000E46 60A5              2196             MOV.W   @R10+,R0                                ;
 5419 00000E48 C11A              2197             MOV.W   R0,@(_EQ_PLAN_CNT+1*2,GBR)              ;
 5420                            2198     
 5421                            2199     
 5422                            2200     ;       --------不良数 4byte------------
 5423 00000E4A 60B5              2201             MOV.W   @R11+,R0                                ;
 5424 00000E4C C11D              2202             MOV.W   R0,@(_EQ_BAD_CNT+0*2,GBR)               ;
 5425 00000E4E 60B5              2203             MOV.W   @R11+,R0                                ;
 5426 00000E50 C11E              2204             MOV.W   R0,@(_EQ_BAD_CNT+1*2,GBR)               ;
 5427                            2205     
 5428                            2206     ;       --------型名称 14/20byte------------
 5429 00000E52 60C5              2207             MOV.W   @R12+,R0                                ;
 5430 00000E54 C104              2208             MOV.W   R0,@(_EQ_KATA_NAME+0*2,GBR)             ;01
 5431 00000E56 60C5              2209             MOV.W   @R12+,R0                                ;
 5432 00000E58 C105              2210             MOV.W   R0,@(_EQ_KATA_NAME+1*2,GBR)             ;23
 5433 00000E5A 60C5              2211             MOV.W   @R12+,R0                                ;
 5434 00000E5C C106              2212             MOV.W   R0,@(_EQ_KATA_NAME+2*2,GBR)             ;4
 5435 00000E5E 60C5              2213             MOV.W   @R12+,R0                                ;
 5436 00000E60 C107              2214             MOV.W   R0,@(_EQ_KATA_NAME+3*2,GBR)             ;6
 5437 00000E62 60C5              2215             MOV.W   @R12+,R0                                ;
 5438 00000E64 C108              2216             MOV.W   R0,@(_EQ_KATA_NAME+4*2,GBR)             ;8
 5439 00000E66 60C5              2217             MOV.W   @R12+,R0                                ;
 5440 00000E68 C109              2218             MOV.W   R0,@(_EQ_KATA_NAME+5*2,GBR)             ;10
 5441 00000E6A 60C5              2219             MOV.W   @R12+,R0                                ;
 5442 00000E6C C10A              2220             MOV.W   R0,@(_EQ_KATA_NAME+6*2,GBR)             ;12
 5443                            2221     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    63
PROGRAM NAME =

 5444 00000E6E 200A              2222             XOR     R0,R0
 5445 00000E70 C10B              2223             MOV.W   R0,@(_EQ_KATA_NAME+7*2,GBR)             ;
 5446 00000E72 C10C              2224             MOV.W   R0,@(_EQ_KATA_NAME+8*2,GBR)             ;
 5447 00000E74 C10D              2225             MOV.W   R0,@(_EQ_KATA_NAME+9*2,GBR)             ;
 5448                            2226     
 5449                            2227     ;       --------メモ 14/20byte------------
 5450 00000E76 60D5              2228             MOV.W   @R13+,R0                                ;
 5451 00000E78 C10E              2229             MOV.W   R0,@(_EQ_KATA_MEMO+0*2,GBR)             ;0
 5452 00000E7A 60D5              2230             MOV.W   @R13+,R0                                ;
 5453 00000E7C C10F              2231             MOV.W   R0,@(_EQ_KATA_MEMO+1*2,GBR)             ;2
 5454 00000E7E 60D5              2232             MOV.W   @R13+,R0                                ;
 5455 00000E80 C110              2233             MOV.W   R0,@(_EQ_KATA_MEMO+2*2,GBR)             ;4
 5456 00000E82 60D5              2234             MOV.W   @R13+,R0                                ;
 5457 00000E84 C111              2235             MOV.W   R0,@(_EQ_KATA_MEMO+3*2,GBR)             ;6
 5458 00000E86 60D5              2236             MOV.W   @R13+,R0                                ;
 5459 00000E88 C112              2237             MOV.W   R0,@(_EQ_KATA_MEMO+4*2,GBR)             ;8
 5460 00000E8A 60D5              2238             MOV.W   @R13+,R0                                ;
 5461 00000E8C C113              2239             MOV.W   R0,@(_EQ_KATA_MEMO+5*2,GBR)             ;10
 5462 00000E8E 60D5              2240             MOV.W   @R13+,R0                                ;
 5463 00000E90 C114              2241             MOV.W   R0,@(_EQ_KATA_MEMO+6*2,GBR)             ;12,13
 5464                            2242     
 5465 00000E92 200A              2243             XOR     R0,R0
 5466 00000E94 C115              2244             MOV.W   R0,@(_EQ_KATA_MEMO+7*2,GBR)             ;14,15
 5467 00000E96 C116              2245             MOV.W   R0,@(_EQ_KATA_MEMO+8*2,GBR)             ;16
 5468 00000E98 C117              2246             MOV.W   R0,@(_EQ_KATA_MEMO+9*2,GBR)             ;18,19
 5469                            2247     
 5470                            2248     
 5471                            2249     ;       ----MAIN CPUB INTERFACE FLG----------
 5472 00000E9A 200A              2250             XOR     R0,R0
 5473 00000E9C 2701              2251             MOV.W   R0,@R7                  ;FLG=0-CLR
 5474                            2252     
 5475                            2253             SUB_END
 5476                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5477 00000E9E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5478                            2254             M_RTS
 5479 00000EA0 000B                   M           RTS                             ;RTSの後ろの
 5480 00000EA2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5481                            2255     
 5482                            2256     ;       *******************************************
 5483                            2257     ;       ***                                     ***
 5484                            2258     ;       ***     input R2                        ***
 5485                            2259     ;       ***     output R1,R2,R3,R4              ***
 5486                            2260     ;       ***                                     ***
 5487                            2261     ;       *******************************************
 5488                            2262     ;       +data =>ascii
 5489                            2263     ;       0~9の数値だけ
 5490                            2264     ;
 5491                            2265     ;
 5492                                     ***** BEGIN-POOL *****
 5493 00000EA4 00000000                   DATA FOR SOURCE-LINE 2182
 5494                                     ***** END-POOL *****
 5495          00000030          2266     __ASCII_0       .EQU    H'30            ;
 5496                            2267     ;
 5497 00000EA8                   2268     _BCD4B_ASCII:
 5498                            2269             SUB_START
 5499 00000EA8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5500                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    64
PROGRAM NAME =

 5501                            2270             PUSH_REG1 R5
 5502 00000EAA 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
 5503                                 M                                           ;REG=>[SP]
 5504                                 M                                           ;"-4" FF,FF,FF,FC
 5505                            2271     
 5506                            2272     ;HHH,HHL,HLH,HLL,LHH,LHL,LLH,LLL
 5507                            2273     ;
 5508                            2274     ;
 5509                            2275     ;
 5510 00000EAC 6523              2276             MOV     R2,R5                   ;
 5511                            2277     
 5512                            2278     ;       ------------------------
 5513 00000EAE 6053              2279             MOV     R5,R0                   ;
 5514 00000EB0 C90F              2280             AND     #H'0F,R0                ;BIT3~BIT0
 5515 00000EB2 7030              2281             ADD     #__ASCII_0,R0           ;
 5516 00000EB4 6403              2282             MOV     R0,R4                   ;1byte
 5517 00000EB6 6053              2283             MOV     R5,R0                   ;
 5518 00000EB8 4009              2284             SHLR2   R0                      ;
 5519 00000EBA 4009              2285             SHLR2   R0                      ;
 5520 00000EBC C90F              2286             AND     #H'0F,R0                ;BIT7~BIT4
 5521 00000EBE 7030              2287             ADD     #__ASCII_0,R0           ;
 5522 00000EC0 4018              2288             SHLL8   R0                      ;
 5523 00000EC2 240B              2289             OR      R0,R4                   ;2byte
 5524                            2290     
 5525                            2291     ;       ------------------------
 5526 00000EC4 4519              2292             SHLR8   R5                      ;
 5527 00000EC6 6053              2293             MOV     R5,R0                   ;
 5528 00000EC8 C90F              2294             AND     #H'0F,R0                ;BIT11~BIT8
 5529 00000ECA 7030              2295             ADD     #__ASCII_0,R0           ;
 5530 00000ECC 6303              2296             MOV     R0,R3                   ;3byte
 5531 00000ECE 6053              2297             MOV     R5,R0                   ;
 5532 00000ED0 4009              2298             SHLR2   R0                      ;
 5533 00000ED2 4009              2299             SHLR2   R0                      ;
 5534 00000ED4 C90F              2300             AND     #H'0F,R0                ;BIT15~BIT12
 5535 00000ED6 7030              2301             ADD     #__ASCII_0,R0           ;
 5536 00000ED8 4018              2302             SHLL8   R0                      ;
 5537 00000EDA 230B              2303             OR      R0,R3                   ;4byte
 5538                            2304     
 5539                            2305     ;       ------------------------
 5540 00000EDC 4519              2306             SHLR8   R5                      ;
 5541 00000EDE 6053              2307             MOV     R5,R0                   ;
 5542 00000EE0 C90F              2308             AND     #H'0F,R0                ;BIT19~BIT16
 5543 00000EE2 7030              2309             ADD     #__ASCII_0,R0           ;
 5544 00000EE4 6203              2310             MOV     R0,R2                   ;5byte
 5545 00000EE6 6053              2311             MOV     R5,R0                   ;
 5546 00000EE8 4009              2312             SHLR2   R0                      ;
 5547 00000EEA 4009              2313             SHLR2   R0                      ;
 5548 00000EEC C90F              2314             AND     #H'0F,R0                ;BIT23~BIT20
 5549 00000EEE 7030              2315             ADD     #__ASCII_0,R0           ;
 5550 00000EF0 4018              2316             SHLL8   R0                      ;
 5551 00000EF2 220B              2317             OR      R0,R2                   ;6byte
 5552                            2318     
 5553                            2319     ;       ------------------------
 5554 00000EF4 4519              2320             SHLR8   R5                      ;
 5555 00000EF6 6053              2321             MOV     R5,R0                   ;
 5556 00000EF8 C90F              2322             AND     #H'0F,R0                ;BIT27~BIT24
 5557 00000EFA 7030              2323             ADD     #__ASCII_0,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    65
PROGRAM NAME =

 5558 00000EFC 6103              2324             MOV     R0,R1                   ;7byte
 5559 00000EFE 6053              2325             MOV     R5,R0                   ;
 5560 00000F00 4009              2326             SHLR2   R0                      ;
 5561 00000F02 4009              2327             SHLR2   R0                      ;
 5562 00000F04 C90F              2328             AND     #H'0F,R0                ;BIT30~BIT28
 5563 00000F06 7030              2329             ADD     #__ASCII_0,R0           ;
 5564 00000F08 4018              2330             SHLL8   R0                      ;
 5565 00000F0A 210B              2331             OR      R0,R1                   ;8byte
 5566                            2332     
 5567                            2333             POP_REG1 R5
 5568                                 M                                   ; RE"+4" 00,00,00,04
 5569 00000F0C 65F6                   M           MOV.L   @R15+,R5        ;
 5570                            2334             SUB_END
 5571                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5572 00000F0E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5573                            2335             M_RTS
 5574 00000F10 000B                   M           RTS                             ;RTSの後ろの
 5575 00000F12 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5576                            2336     
 5577                            2337     ;       *******************************************
 5578                            2338     ;       ***                                     ***
 5579                            2339     ;       ***             品番転送処理            ***
 5580                            2340     ;       ***             (write)                 ***
 5581                            2341     ;       *******************************************
 5582                            2342     ;       input   _KMT_HINBAN_CHGF=bit0,bit1
 5583                            2343     ;       output  _KMT_HINBAN_CHGF=0
 5584 00000F14                   2344             .ALIGN  4                                       ;
 5585                            2345     
 5586 00000F14                   2346     _KMT_HINBAN_STEP
 5587                            2347             SUB_START
 5588 00000F14 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5589                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5590                            2348     
 5591                            2349     ;       ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 5592                            2350     ;;      MOV.L   #_KMT_HINBAN_SIGTIM,R1                  ;
 5593                            2351     ;;      MOV.W   @R1,R0                                  ;
 5594                            2352     ;;      TST     R0,R0                                   ;
 5595                            2353     ;;      TST_BIT_OF KMT_HINBAN_STP050                    ;
 5596                            2354     ;;      ADD     #-1,R0                                  ;
 5597                            2355     ;;      MOV.W   R0,@R1                                  ;
 5598                            2356     ;;KMT_HINBAN_STP050:
 5599                            2357     ;       ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 5600                            2358     
 5601 00000F16 D105              2359             MOV.L   #_KMT_HINBAN_FLG,R1                     ;
 5602 00000F18 6011              2360             MOV.W   @R1,R0                                  ;BIT1=1 EVENT終了待ち
 5603 00000F1A C80E              2361             TST     #(BIT3+BIT2+BIT1),R0                    ;BIT2=1 ｼｰｹﾝｽへ出力
 5604                            2362             TST_BIT_ON KMT_HINBAN_STP300                    ;
 5605 00000F1C 8B44                   M           BF      KMT_HINBAN_STP300
 5606                            2363     
 5607 00000F1E D504              2364             MOV.L   #_KMT_HINBAN_CHGF,R5                    ;
 5608 00000F20 6051              2365             MOV.W   @R5,R0                                  ;MAIN==>INT
 5609 00000F22 2008              2366             TST     R0,R0                                   ;
 5610                            2367             TST_BIT_ON KMT_HINBAN_STP020                    ;
 5611 00000F24 8B06                   M           BF      KMT_HINBAN_STP020
 5612                            2368             M_BRA   KMT_HINBAN_STPEXT                       ;
 5613 00000F26 A092                   M           BRA     KMT_HINBAN_STPEXT
 5614 00000F28 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    66
PROGRAM NAME =

 5615                            2369     
 5616                                     ***** BEGIN-POOL *****
 5617 00000F2A 0000                       ALIGNMENT CODE
 5618 00000F2C 00000000                   DATA FOR SOURCE-LINE 2359
 5619 00000F30 00000000                   DATA FOR SOURCE-LINE 2364
 5620                                     ***** END-POOL *****
 5621 00000F34                   2370     KMT_HINBAN_STP020:
 5622                            2371     
 5623 00000F34 D10C              2372             MOV.L   #_KMT_HINBAN_SEL,R1                     ;BIT0=1開始・BIT1=1終了
 5624 00000F36 2101              2373             MOV.W   R0,@R1                                  ;
 5625                            2374     
 5626 00000F38 200A              2375             XOR     R0,R0                                   ;
 5627 00000F3A 2501              2376             MOV.W   R0,@R5                                  ;MAIN ｺﾏﾝﾄﾞｸﾘｱ
 5628                            2377     
 5629 00000F3C 200A              2378             XOR     R0,R0
 5630 00000F3E D10B              2379             MOV.L   #(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R1
                                          ;0:固定 (SIT_MEMを対象)
 5631 00000F40 2101              2380             MOV.W   R0,@R1                                  ;
 5632                            2381     
 5633 00000F42 900F              2382             MOV.W   #__SITM_HINBAN_TOP/2,R0                                         ;ADR+132*2
                                          byte adr/2=132
 5634 00000F44 D10A              2383             MOV.L   #(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R1       ;
 5635 00000F46 2101              2384             MOV.W   R0,@R1                                  ;
 5636                            2385     
 5637 00000F48 900D              2386             MOV.W   #__SITM_HINBAN_CNT/2,R0                 ;160byte/2=80word
 5638 00000F4A D10A              2387             MOV.L   #(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R1                  ;M
                                          AX 1~256 word
 5639 00000F4C 2101              2388             MOV.W   R0,@R1
 5640                            2389     
 5641 00000F4E D50A              2390             MOV.L   #_KMT_HMI_HINBAN_BUF,R5                                                 ;8
                                          0word
 5642 00000F50 D60A              2391             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R6                  ;
 5643 00000F52 9308              2392             MOV.W   #__SITM_HINBAN_CNT/2,R3                                                 ;
 5644                            2393             BLOCK_MOV1 LG=W,AD_DT=2,SRC_REG=R5,DST_REG=R6,DATA_REG=R0,CNT_REG=R3            ;
 5645 00000F54                        M   JMP000006:                                      ;
 5646 00000F54 2338                   M           TST     R3,R3   ;
 5647                                 M           TST_BIT_OF JMP100006            ;
 5648 00000F56 8913                   M           BT      JMP100006
 5649 00000F58 6055                   M           MOV.W   @R5+,R0 ;
 5650 00000F5A 2601                   M           MOV.W   R0,@R6  ;
 5651 00000F5C 7602                   M           ADD     #2,R6   ;
 5652 00000F5E 73FF                   M           ADD     #H'FF,R3                ;
 5653                                 M           M_BRA   JMP000006                       ;
 5654 00000F60 AFF8                   M           BRA     JMP000006
 5655 00000F62 0009                   M           NOP
 5656                                 M   ***** BEGIN-POOL *****
 5657 00000F64 0084                   M   DATA FOR SOURCE-LINE 2382
 5658 00000F66 0050                   M   DATA FOR SOURCE-LINE 2386,2392
 5659 00000F68 00000000               M   DATA FOR SOURCE-LINE 2372
 5660 00000F6C 00000000               M   DATA FOR SOURCE-LINE 2379
 5661 00000F70 00000000               M   DATA FOR SOURCE-LINE 2383
 5662 00000F74 00000000               M   DATA FOR SOURCE-LINE 2387
 5663 00000F78 00000000               M   DATA FOR SOURCE-LINE 2390
 5664 00000F7C 00000000               M   DATA FOR SOURCE-LINE 2391
 5665                                 M   ***** END-POOL *****
 5666 00000F80                        M   JMP100006:                                      ;
 5667                            2394     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    67
PROGRAM NAME =

 5668                            2395     
 5669 00000F80 900A              2396             MOV.W   #__KMTCMD_WR,R0
 5670 00000F82 D106              2397             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R1                  ;
 5671 00000F84 2101              2398             MOV.W   R0,@R1                                                                  ;W
                                          RITE
 5672                            2399     
 5673                            2400             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_HINBAN_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
 5674 00000F86 D106                   M           MOV.L   #_KMT_HINBAN_FLG,R1             ;
 5675 00000F88 6011                   M           MOV.W   @R1,R0          ;
 5676 00000F8A CB02                   M           OR      #BIT1,R0                ;
 5677 00000F8C 2101                   M           MOV.W   R0,@R1          ;
 5678                            2401     
 5679                            2402     
 5680                            2403     ;-----------------------------aaaa----------------------------------------
 5681                            2404             FAR_JSR #_HINBAN_DATA_SFT,R0
 5682 00000F8E D005                   M           MOV.L   #_HINBAN_DATA_SFT,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5683 00000F90 400B                   M           JSR     @R0                     ;
 5684 00000F92 0009                   M           NOP                                     ;
 5685                            2405             M_BRA   KMT_HINBAN_STPEXT
 5686 00000F94 A05B                   M           BRA     KMT_HINBAN_STPEXT
 5687 00000F96 0009                   M           NOP
 5688                            2406     
 5689                                     ***** BEGIN-POOL *****
 5690 00000F98 0001                       DATA FOR SOURCE-LINE 2396
 5691 00000F9A 0000                       ALIGNMENT CODE
 5692 00000F9C 00000000                   DATA FOR SOURCE-LINE 2397
 5693 00000FA0 00000000                   DATA FOR SOURCE-LINE 2400
 5694 00000FA4 00000000                   DATA FOR SOURCE-LINE 2404
 5695                                     ***** END-POOL *****
 5696 00000FA8                   2407     KMT_HINBAN_STP300
 5697 00000FA8 D10C              2408             MOV.L   #_KMT_HINBAN_FLG,R1                                             ;
 5698 00000FAA 6011              2409             MOV.W   @R1,R0                                                          ;BIT1=1 EV
                                          ENT終了待ち
 5699 00000FAC C808              2410             TST     #BIT3,R0                                                        ;OFF保証
 5700                            2411             TST_BIT_ON KMT_HINBAN_STP500                                            ;
 5701 00000FAE 8B47                   M           BF      KMT_HINBAN_STP500
 5702                            2412     
 5703 00000FB0 C804              2413             TST     #BIT2,R0
 5704                            2414             TST_BIT_ON KMT_HINBAN_STP400                                            ;ON保証
 5705 00000FB2 8B2B                   M           BF      KMT_HINBAN_STP400
 5706                            2415     
 5707 00000FB4 D10A              2416             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R1          ;
 5708 00000FB6 6011              2417             MOV.W   @R1,R0                                                          ;
 5709 00000FB8 2008              2418             TST     R0,R0                                                           ;
 5710                            2419             TST_BIT_ON KMT_HINBAN_STPEXT                                            ;ｺﾏﾝﾄﾞ処理
                                          中
 5711 00000FBA 8B48                   M           BF      KMT_HINBAN_STPEXT
 5712                            2420     
 5713                            2421             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_HINBAN_FLG,LG=W,BIT=BIT2,WKREG=R1      ;bit-set
 5714 00000FBC D107                   M           MOV.L   #_KMT_HINBAN_FLG,R1             ;
 5715 00000FBE 6011                   M           MOV.W   @R1,R0          ;
 5716 00000FC0 CB04                   M           OR      #BIT2,R0                ;
 5717 00000FC2 2101                   M           MOV.W   R0,@R1          ;
 5718                            2422     
 5719 00000FC4 D107              2423             MOV.L   #_KMT_HINBAN_SEL,R1                     ;BIT0=1開始・BIT1=1終了
 5720 00000FC6 6011              2424             MOV.W   @R1,R0                                  ;
 5721 00000FC8 C801              2425             TST     #BIT0,R0                                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    68
PROGRAM NAME =

 5722                            2426             TST_BIT_OF KMT_HINBAN_STP320
 5723 00000FCA 890F                   M           BT      KMT_HINBAN_STP320
 5724                            2427     ;       ------ 開始イベント---
 5725                            2428             MEM1_BIT0_F_ORSET MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R2        ;
                                          開始イベント
 5726 00000FCC D106                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 5727 00000FCE 6011                   M           MOV.W   @R1,R0          ;
 5728 00000FD0 9203                   M           MOV.W   #(BIT4),R2              ;
 5729 00000FD2 202B                   M           OR      R2,R0           ;
 5730 00000FD4 2101                   M           MOV.W   R0,@R1          ;
 5731                            2429             M_BRA   KMT_HINBAN_STP340                                               ;
 5732 00000FD6 A00E                   M           BRA     KMT_HINBAN_STP340
 5733 00000FD8 0009                   M           NOP
 5734                                     ***** BEGIN-POOL *****
 5735 00000FDA 0010                       DATA FOR SOURCE-LINE 2428
 5736 00000FDC 00000000                   DATA FOR SOURCE-LINE 2408,2421
 5737 00000FE0 00000000                   DATA FOR SOURCE-LINE 2416
 5738 00000FE4 00000000                   DATA FOR SOURCE-LINE 2423
 5739 00000FE8 00000000                   DATA FOR SOURCE-LINE 2428
 5740                                     ***** END-POOL *****
 5741 00000FEC                   2430     KMT_HINBAN_STP320
 5742                            2431             MEM1_BIT0_F_ORSET MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(BIT5),WKRG1=R1,WKRG2=R2        ;
                                          終了イベント
 5743 00000FEC D105                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 5744 00000FEE 6011                   M           MOV.W   @R1,R0          ;
 5745 00000FF0 9206                   M           MOV.W   #(BIT5),R2              ;
 5746 00000FF2 202B                   M           OR      R2,R0           ;
 5747 00000FF4 2101                   M           MOV.W   R0,@R1          ;
 5748 00000FF6                   2432     KMT_HINBAN_STP340
 5749                            2433     
 5750 00000FF6 9004              2434             MOV.W   #__HINBAN_SIG_ONTIMSV,R0                        ;
 5751 00000FF8 D103              2435             MOV.L   #_KMT_HINBAN_SIGTIM,R1                          ;
 5752 00000FFA 2101              2436             MOV.W   R0,@R1                                          ;
 5753                            2437             M_BRA   KMT_HINBAN_STPEXT                               ;ON保証ﾀｲﾏ
 5754 00000FFC A027                   M           BRA     KMT_HINBAN_STPEXT
 5755 00000FFE 0009                   M           NOP
 5756                            2438     
 5757                                     ***** BEGIN-POOL *****
 5758 00001000 0020                       DATA FOR SOURCE-LINE 2431
 5759 00001002 0064                       DATA FOR SOURCE-LINE 2434
 5760 00001004 00000000                   DATA FOR SOURCE-LINE 2431
 5761 00001008 00000000                   DATA FOR SOURCE-LINE 2435
 5762                                     ***** END-POOL *****
 5763 0000100C                   2439     KMT_HINBAN_STP400
 5764                            2440     
 5765 0000100C D109              2441             MOV.L   #_KMT_HINBAN_SIGTIM,R1                          ;
 5766 0000100E 6011              2442             MOV.W   @R1,R0                                          ;
 5767 00001010 2008              2443             TST     R0,R0                                                   ;
 5768                            2444             TST_BIT_ON KMT_HINBAN_STPEXT                                    ;
 5769 00001012 8B1C                   M           BF      KMT_HINBAN_STPEXT
 5770                            2445     
 5771                            2446             MEM1_BIT0_F_ADCLR MEM=_KMT_STS1MN_SQ87,LG=W,BIT=~(BIT5+BIT4),WKRG1=R1,WKRG2=R4  ;
                                          開始または終了
 5772 00001014 D108                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 5773 00001016 6011                   M           MOV.W   @R1,R0          ;
 5774 00001018 940A                   M           MOV.W   #LWORD ~(BIT5+BIT4),R4  ;
 5775 0000101A 2049                   M           AND     R4,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    69
PROGRAM NAME =

 5776 0000101C 2101                   M           MOV.W   R0,@R1          ;
 5777                            2447             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_HINBAN_FLG,LG=W,BIT=BIT3,WKREG=R1      ;bit-set
 5778 0000101E D107                   M           MOV.L   #_KMT_HINBAN_FLG,R1             ;
 5779 00001020 6011                   M           MOV.W   @R1,R0          ;
 5780 00001022 CB08                   M           OR      #BIT3,R0                ;
 5781 00001024 2101                   M           MOV.W   R0,@R1          ;
 5782                            2448     
 5783                            2449     
 5784 00001026 9004              2450             MOV.W   #__HINBAN_SIG_OFTIMSV,R0                        ;
 5785 00001028 D102              2451             MOV.L   #_KMT_HINBAN_SIGTIM,R1                          ;
 5786 0000102A 2101              2452             MOV.W   R0,@R1
 5787                            2453             M_BRA   KMT_HINBAN_STPEXT                               ;OFF保証ﾀｲﾏ
 5788 0000102C A00F                   M           BRA     KMT_HINBAN_STPEXT
 5789 0000102E 0009                   M           NOP
 5790                            2454     
 5791                                     ***** BEGIN-POOL *****
 5792 00001030 FFCF                       DATA FOR SOURCE-LINE 2446
 5793 00001032 0064                       DATA FOR SOURCE-LINE 2450
 5794 00001034 00000000                   DATA FOR SOURCE-LINE 2441,2451
 5795 00001038 00000000                   DATA FOR SOURCE-LINE 2446
 5796 0000103C 00000000                   DATA FOR SOURCE-LINE 2447
 5797                                     ***** END-POOL *****
 5798 00001040                   2455     KMT_HINBAN_STP500:
 5799                            2456     
 5800 00001040 D104              2457             MOV.L   #_KMT_HINBAN_SIGTIM,R1                          ;
 5801 00001042 6011              2458             MOV.W   @R1,R0                                          ;
 5802 00001044 2008              2459             TST     R0,R0                                           ;
 5803                            2460             TST_BIT_ON KMT_HINBAN_STPEXT                            ;
 5804 00001046 8B02                   M           BF      KMT_HINBAN_STPEXT
 5805                            2461     
 5806 00001048 200A              2462             XOR     R0,R0
 5807 0000104A D103              2463             MOV.L   #_KMT_HINBAN_FLG,R1                             ;
 5808 0000104C 2101              2464             MOV.W   R0,@R1                                          ;
 5809                            2465     
 5810                            2466     
 5811 0000104E                   2467     KMT_HINBAN_STPEXT
 5812                            2468             SUB_END
 5813                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5814 0000104E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5815                            2469             M_RTS
 5816 00001050 000B                   M           RTS                             ;RTSの後ろの
 5817 00001052 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5818                            2470     
 5819                            2471     
 5820                            2472     ;       *******************************************
 5821                            2473     ;       ***                                     ***
 5822                            2474     ;       ***                                     ***
 5823                            2475     ;       ***                                     ***
 5824                            2476     ;       *******************************************
 5825                                     ***** BEGIN-POOL *****
 5826 00001054 00000000                   DATA FOR SOURCE-LINE 2457
 5827 00001058 00000000                   DATA FOR SOURCE-LINE 2463
 5828                                     ***** END-POOL *****
 5829 0000105C                   2477     _HINBAN_DATA_SFT:
 5830                            2478             SUB_START
 5831 0000105C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5832                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    70
PROGRAM NAME =

 5833 0000105E D40D              2479             MOV.L   #_KMT_HINBAN_TRG_NUM,R4                 ;0個[ﾃﾞｰﾀなし],1個,2個,3個,4個,5個
                                          ,6個full
 5834 00001060 6041              2480             MOV.W   @R4,R0                                  ;
 5835 00001062 2008              2481             TST     R0,R0
 5836                            2482             TST_BIT_OF KMT_HINBAN_DTSFT_900                 ;送信ﾃﾞｰﾀない
 5837 00001064 8921                   M           BT      KMT_HINBAN_DTSFT_900
 5838                            2483     
 5839 00001066 70FF              2484             ADD     #-1,R0                                  ;
 5840 00001068 2401              2485             MOV.W   R0,@R4                                  ;
 5841 0000106A 6703              2486             MOV     R0,R7                                   ;LOOP
 5842                            2487     
 5843 0000106C D50A              2488             MOV.L   #_KMT_HMI_HINBAN_BUF+__SITM_HINBAN_CNT,R5       ;
 5844 0000106E D60B              2489             MOV.L   #_KMT_HMI_HINBAN_BUF,R6                         ;
 5845                            2490     
 5846 00001070 DA0B              2491             MOV.L   #_KMT_HINBAN_TRG_FLG+1*2,R10                    ;
 5847 00001072 DB0C              2492             MOV.L   #_KMT_HINBAN_TRG_FLG,R11                        ;
 5848                            2493     
 5849 00001074                   2494     KMT_HINBAN_DTSFT_100_LOP
 5850 00001074 2778              2495             TST     R7,R7                                           ;
 5851                            2496             TST_BIT_OF KMT_HINBAN_DTSFT_200                         ;転送終わり[BUFF1が送信対
                                          象だから]
 5852 00001076 8917                   M           BT      KMT_HINBAN_DTSFT_200
 5853                            2497     
 5854 00001078 60A5              2498             MOV.W   @R10+,R0                                        ;FLG
 5855 0000107A 2B01              2499             MOV.W   R0,@R11                                         ;
 5856 0000107C 7B02              2500             ADD     #2,R11                                          ;
 5857                            2501     
 5858 0000107E 9308              2502             MOV.W   #__SITM_HINBAN_CNT/2,R3                         ;80word
 5859 00001080                   2503     KMT_HINBAN_DTSFT_120_LOP
 5860 00001080 6055              2504             MOV.W   @R5+,R0                                         ;
 5861 00001082 2601              2505             MOV.W   R0,@R6                                          ;
 5862 00001084 7602              2506             ADD     #2,R6                                           ;
 5863 00001086 73FF              2507             ADD     #-1,R3                                          ;
 5864 00001088 2338              2508             TST     R3,R3                                           ;
 5865                            2509             TST_BIT_ON KMT_HINBAN_DTSFT_120_LOP                     ;
 5866 0000108A 8BF9                   M           BF      KMT_HINBAN_DTSFT_120_LOP
 5867 0000108C 77FF              2510             ADD     #-1,R7                                          ;
 5868                            2511             M_BRA   KMT_HINBAN_DTSFT_100_LOP                        ;
 5869 0000108E AFF1                   M           BRA     KMT_HINBAN_DTSFT_100_LOP
 5870 00001090 0009                   M           NOP
 5871                            2512     
 5872                                     ***** BEGIN-POOL *****
 5873 00001092 0050                       DATA FOR SOURCE-LINE 2502
 5874 00001094 00000000                   DATA FOR SOURCE-LINE 2479
 5875 00001098 00000000                   DATA FOR SOURCE-LINE 2488
 5876 0000109C 00000000                   DATA FOR SOURCE-LINE 2489
 5877 000010A0 00000000                   DATA FOR SOURCE-LINE 2491
 5878 000010A4 00000000                   DATA FOR SOURCE-LINE 2492
 5879                                     ***** END-POOL *****
 5880 000010A8                   2513     KMT_HINBAN_DTSFT_200
 5881 000010A8 0009              2514             NOP
 5882 000010AA                   2515     KMT_HINBAN_DTSFT_900:
 5883                            2516     
 5884                            2517     
 5885                            2518             SUB_END
 5886                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5887 000010AA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    71
PROGRAM NAME =

 5888                            2519             M_RTS
 5889 000010AC 000B                   M           RTS                             ;RTSの後ろの
 5890 000010AE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5891                            2520     
 5892                            2521     
 5893                            2522     ;       ***************************************************
 5894                            2523     ;       ***                                             ***
 5895                            2524     ;       ***             消耗品データ作成、転送          ***
 5896                            2525     ;       ***             (write)                         ***
 5897                            2526     ;       ***************************************************
 5898 000010B0                   2527     _KOMTRAX_SYOUMO_MAIN
 5899                            2528             SUB_START
 5900 000010B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5901                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5902                            2529     
 5903                            2530             FAR_JSR #_KMT_SYOUMO_MAKE,R0            ;
 5904 000010B2 D004                   M           MOV.L   #_KMT_SYOUMO_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5905 000010B4 400B                   M           JSR     @R0                     ;
 5906 000010B6 0009                   M           NOP                                     ;
 5907                            2531     
 5908                            2532             FAR_JSR #_KMT_SYOUMO_STEP,R0            ;
 5909 000010B8 D003                   M           MOV.L   #_KMT_SYOUMO_STEP,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5910 000010BA 400B                   M           JSR     @R0                     ;
 5911 000010BC 0009                   M           NOP                                     ;
 5912                            2533     
 5913                            2534             SUB_END
 5914                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5915 000010BE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5916                            2535             M_RTS
 5917 000010C0 000B                   M           RTS                             ;RTSの後ろの
 5918 000010C2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5919                            2536     
 5920                            2537     
 5921                            2538     ;       *******************************************
 5922                            2539     ;       ***                                     ***
 5923                            2540     ;       ***             消耗品データ作成        ***
 5924                            2541     ;       ***             (write)                 ***
 5925                            2542     ;       *******************************************
 5926                                     ***** BEGIN-POOL *****
 5927 000010C4 00000000                   DATA FOR SOURCE-LINE 2530
 5928 000010C8 00000000                   DATA FOR SOURCE-LINE 2532
 5929                                     ***** END-POOL *****
 5930 000010CC                   2543     _KMT_SYOUMO_MAKE:
 5931                            2544             SUB_START
 5932 000010CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5933                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5934                            2545     
 5935 000010CE 200A              2546             XOR     R0,R0
 5936 000010D0 D502              2547             MOV.L   #_KMT_SYOUMO_CHGF,R5            ;
 5937 000010D2 2501              2548             MOV.W   R0,@R5                          ;MAIN==>INT
 5938                            2549     
 5939                            2550     
 5940                            2551             SUB_END
 5941                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5942 000010D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5943                            2552             M_RTS
 5944 000010D6 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    72
PROGRAM NAME =

 5945 000010D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5946                            2553     
 5947                            2554     
 5948                            2555     ;       *******************************************
 5949                            2556     ;       ***                                     ***
 5950                            2557     ;       ***             消耗転送処理            ***
 5951                            2558     ;       ***             (write)                 ***
 5952                            2559     ;       *******************************************
 5953                                     ***** BEGIN-POOL *****
 5954 000010DA 0000                       ALIGNMENT CODE
 5955 000010DC 00000000                   DATA FOR SOURCE-LINE 2547
 5956                                     ***** END-POOL *****
 5957 000010E0                   2560             .ALIGN  4                                       ;
 5958                            2561     
 5959 000010E0                   2562     _KMT_SYOUMO_STEP
 5960                            2563             SUB_START
 5961 000010E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5962                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5963                            2564     
 5964                            2565     ;       ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 5965                            2566     ;;      MOV.L   #_KMT_SYOUMO_SIGTIM,R1                  ;
 5966                            2567     ;;      MOV.W   @R1,R0                                  ;
 5967                            2568     ;;      TST     R0,R0                                   ;
 5968                            2569     ;;      TST_BIT_OF KMT_SYOUMO_STP050                    ;
 5969                            2570     ;;      ADD     #-1,R0                                  ;
 5970                            2571     ;;      MOV.W   R0,@R1                                  ;
 5971                            2572     ;;KMT_SYOUMO_STP050:
 5972                            2573     ;       ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 5973                            2574     
 5974 000010E2 D110              2575             MOV.L   #_KMT_SYOUMO_FLG,R1                     ;
 5975 000010E4 6011              2576             MOV.W   @R1,R0                                  ;BIT1=1 EVENT終了待ち
 5976 000010E6 C80E              2577             TST     #(BIT3+BIT2+BIT1),R0                    ;BIT2=1 ｼｰｹﾝｽへ出力
 5977                            2578             TST_BIT_ON KMT_SYOUMO_STP300                    ;
 5978 000010E8 8B38                   M           BF      KMT_SYOUMO_STP300
 5979                            2579     
 5980 000010EA D50F              2580             MOV.L   #_KMT_SYOUMO_CHGF,R5                    ;
 5981 000010EC 6051              2581             MOV.W   @R5,R0                                  ;MAIN==>INT
 5982 000010EE 2008              2582             TST     R0,R0                                   ;
 5983                            2583             TST_BIT_OF KMT_SYOUMO_STPEXT                    ;
 5984 000010F0 8977                   M           BT      KMT_SYOUMO_STPEXT
 5985                            2584     
 5986 000010F2 200A              2585             XOR     R0,R0                                   ;
 5987 000010F4 2501              2586             MOV.W   R0,@R5                                  ;MAIN ｺﾏﾝﾄﾞｸﾘｱ
 5988                            2587     
 5989 000010F6 200A              2588             XOR     R0,R0
 5990 000010F8 D10C              2589             MOV.L   #(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R1
                                          ;0:固定 (SIT_MEMを対象)
 5991 000010FA 2101              2590             MOV.W   R0,@R1                                  ;
 5992                            2591     
 5993 000010FC 900F              2592             MOV.W   #__SITM_SYOUMO_TOP/2,R0                                         ;ADR+132*2
                                          byte adr/2=132
 5994 000010FE D10C              2593             MOV.L   #(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R1       ;
 5995 00001100 2101              2594             MOV.W   R0,@R1                                  ;
 5996                            2595     
 5997 00001102 900D              2596             MOV.W   #__SITM_SYOUMO_CNT/2,R0                 ;160byte/2=80word
 5998 00001104 D10B              2597             MOV.L   #(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R1                  ;M
                                          AX 1~256 word
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    73
PROGRAM NAME =

 5999 00001106 2101              2598             MOV.W   R0,@R1
 6000                            2599     
 6001 00001108 D50B              2600             MOV.L   #_KMT_HMI_SYOUMO_DAT,R5                                                 ;8
                                          0word
 6002 0000110A D60C              2601             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R6                  ;
 6003 0000110C 9308              2602             MOV.W   #__SITM_SYOUMO_CNT/2,R3                                                 ;
 6004                            2603             BLOCK_MOV1 LG=W,AD_DT=2,SRC_REG=R5,DST_REG=R6,DATA_REG=R0,CNT_REG=R3            ;
 6005 0000110E                        M   JMP000007:                                      ;
 6006 0000110E 2338                   M           TST     R3,R3   ;
 6007                                 M           TST_BIT_OF JMP100007            ;
 6008 00001110 8916                   M           BT      JMP100007
 6009 00001112 6055                   M           MOV.W   @R5+,R0 ;
 6010 00001114 2601                   M           MOV.W   R0,@R6  ;
 6011 00001116 7602                   M           ADD     #2,R6   ;
 6012 00001118 73FF                   M           ADD     #H'FF,R3                ;
 6013                                 M           M_BRA   JMP000007                       ;
 6014 0000111A AFF8                   M           BRA     JMP000007
 6015 0000111C 0009                   M           NOP
 6016                                 M   ***** BEGIN-POOL *****
 6017 0000111E 0064                   M   DATA FOR SOURCE-LINE 2592
 6018 00001120 0020                   M   DATA FOR SOURCE-LINE 2596,2602
 6019 00001122 0000                   M   ALIGNMENT CODE
 6020 00001124 00000000               M   DATA FOR SOURCE-LINE 2575
 6021 00001128 00000000               M   DATA FOR SOURCE-LINE 2580
 6022 0000112C 00000000               M   DATA FOR SOURCE-LINE 2589
 6023 00001130 00000000               M   DATA FOR SOURCE-LINE 2593
 6024 00001134 00000000               M   DATA FOR SOURCE-LINE 2597
 6025 00001138 00000000               M   DATA FOR SOURCE-LINE 2600
 6026 0000113C 00000000               M   DATA FOR SOURCE-LINE 2601
 6027                                 M   ***** END-POOL *****
 6028 00001140                        M   JMP100007:                                      ;
 6029                            2604     
 6030                            2605     
 6031 00001140 9007              2606             MOV.W   #__KMTCMD_WR,R0
 6032 00001142 D104              2607             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R1                  ;
 6033 00001144 2101              2608             MOV.W   R0,@R1                                                                  ;W
                                          RITE
 6034                            2609     
 6035                            2610             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_SYOUMO_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
 6036 00001146 D104                   M           MOV.L   #_KMT_SYOUMO_FLG,R1             ;
 6037 00001148 6011                   M           MOV.W   @R1,R0          ;
 6038 0000114A CB02                   M           OR      #BIT1,R0                ;
 6039 0000114C 2101                   M           MOV.W   R0,@R1          ;
 6040                            2611             M_BRA   KMT_SYOUMO_STPEXT
 6041 0000114E A048                   M           BRA     KMT_SYOUMO_STPEXT
 6042 00001150 0009                   M           NOP
 6043                            2612     
 6044                                     ***** BEGIN-POOL *****
 6045 00001152 0001                       DATA FOR SOURCE-LINE 2606
 6046 00001154 00000000                   DATA FOR SOURCE-LINE 2607
 6047 00001158 00000000                   DATA FOR SOURCE-LINE 2610
 6048                                     ***** END-POOL *****
 6049 0000115C                   2613     KMT_SYOUMO_STP300
 6050 0000115C D10C              2614             MOV.L   #_KMT_SYOUMO_FLG,R1                                             ;
 6051 0000115E 6011              2615             MOV.W   @R1,R0                                                          ;BIT1=1 EV
                                          ENT終了待ち
 6052 00001160 C808              2616             TST     #BIT3,R0                                                        ;OFF保証
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    74
PROGRAM NAME =

 6053                            2617             TST_BIT_ON KMT_SYOUMO_STP500                                            ;
 6054 00001162 8B37                   M           BF      KMT_SYOUMO_STP500
 6055                            2618     
 6056 00001164 C804              2619             TST     #BIT2,R0
 6057                            2620             TST_BIT_ON KMT_SYOUMO_STP400                                            ;ON保証
 6058 00001166 8B1B                   M           BF      KMT_SYOUMO_STP400
 6059                            2621     
 6060 00001168 D10A              2622             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R1          ;
 6061 0000116A 6011              2623             MOV.W   @R1,R0                                                          ;
 6062 0000116C 2008              2624             TST     R0,R0                                                           ;
 6063                            2625             TST_BIT_ON KMT_SYOUMO_STPEXT                                            ;ｺﾏﾝﾄﾞ処理
                                          中
 6064 0000116E 8B38                   M           BF      KMT_SYOUMO_STPEXT
 6065                            2626     
 6066                            2627             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_SYOUMO_FLG,LG=W,BIT=BIT2,WKREG=R1      ;bit-set
 6067 00001170 D107                   M           MOV.L   #_KMT_SYOUMO_FLG,R1             ;
 6068 00001172 6011                   M           MOV.W   @R1,R0          ;
 6069 00001174 CB04                   M           OR      #BIT2,R0                ;
 6070 00001176 2101                   M           MOV.W   R0,@R1          ;
 6071                            2628     
 6072                            2629             MEM1_BIT0_F_ORSET MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(BIT6),WKRG1=R1,WKRG2=R2        ;
 6073 00001178 D107                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 6074 0000117A 6011                   M           MOV.W   @R1,R0          ;
 6075 0000117C 9206                   M           MOV.W   #(BIT6),R2              ;
 6076 0000117E 202B                   M           OR      R2,R0           ;
 6077 00001180 2101                   M           MOV.W   R0,@R1          ;
 6078                            2630     
 6079 00001182 9004              2631             MOV.W   #__SYOUMO_SIG_ONTIMSV,R0                        ;
 6080 00001184 D105              2632             MOV.L   #_KMT_SYOUMO_SIGTIM,R1                          ;
 6081 00001186 2101              2633             MOV.W   R0,@R1                                          ;
 6082                            2634             M_BRA   KMT_SYOUMO_STPEXT                               ;ON保証ﾀｲﾏ
 6083 00001188 A02B                   M           BRA     KMT_SYOUMO_STPEXT
 6084 0000118A 0009                   M           NOP
 6085                            2635     
 6086                                     ***** BEGIN-POOL *****
 6087 0000118C 0040                       DATA FOR SOURCE-LINE 2629
 6088 0000118E 0014                       DATA FOR SOURCE-LINE 2631
 6089 00001190 00000000                   DATA FOR SOURCE-LINE 2614,2627
 6090 00001194 00000000                   DATA FOR SOURCE-LINE 2622
 6091 00001198 00000000                   DATA FOR SOURCE-LINE 2629
 6092 0000119C 00000000                   DATA FOR SOURCE-LINE 2632
 6093                                     ***** END-POOL *****
 6094 000011A0                   2636     KMT_SYOUMO_STP400
 6095                            2637     
 6096 000011A0 D109              2638             MOV.L   #_KMT_SYOUMO_SIGTIM,R1                          ;
 6097 000011A2 6011              2639             MOV.W   @R1,R0                                          ;
 6098 000011A4 2008              2640             TST     R0,R0                                                   ;
 6099                            2641             TST_BIT_ON KMT_SYOUMO_STPEXT                                    ;
 6100 000011A6 8B1C                   M           BF      KMT_SYOUMO_STPEXT
 6101                            2642     
 6102                            2643             MEM1_BIT0_F_ADCLR MEM=_KMT_STS1MN_SQ87,LG=W,BIT=~(BIT6),WKRG1=R1,WKRG2=R4       ;
 6103 000011A8 D108                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 6104 000011AA 6011                   M           MOV.W   @R1,R0          ;
 6105 000011AC 940A                   M           MOV.W   #LWORD ~(BIT6),R4       ;
 6106 000011AE 2049                   M           AND     R4,R0           ;
 6107 000011B0 2101                   M           MOV.W   R0,@R1          ;
 6108                            2644             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_SYOUMO_FLG,LG=W,BIT=BIT3,WKREG=R1      ;bit-set
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    75
PROGRAM NAME =

 6109 000011B2 D107                   M           MOV.L   #_KMT_SYOUMO_FLG,R1             ;
 6110 000011B4 6011                   M           MOV.W   @R1,R0          ;
 6111 000011B6 CB08                   M           OR      #BIT3,R0                ;
 6112 000011B8 2101                   M           MOV.W   R0,@R1          ;
 6113                            2645     
 6114                            2646     
 6115 000011BA 9004              2647             MOV.W   #__SYOUMO_SIG_OFTIMSV,R0                        ;
 6116 000011BC D102              2648             MOV.L   #_KMT_SYOUMO_SIGTIM,R1                          ;
 6117 000011BE 2101              2649             MOV.W   R0,@R1
 6118                            2650             M_BRA   KMT_SYOUMO_STPEXT                               ;OFF保証ﾀｲﾏ
 6119 000011C0 A00F                   M           BRA     KMT_SYOUMO_STPEXT
 6120 000011C2 0009                   M           NOP
 6121                            2651     
 6122                                     ***** BEGIN-POOL *****
 6123 000011C4 FFBF                       DATA FOR SOURCE-LINE 2643
 6124 000011C6 0014                       DATA FOR SOURCE-LINE 2647
 6125 000011C8 00000000                   DATA FOR SOURCE-LINE 2638,2648
 6126 000011CC 00000000                   DATA FOR SOURCE-LINE 2643
 6127 000011D0 00000000                   DATA FOR SOURCE-LINE 2644
 6128                                     ***** END-POOL *****
 6129 000011D4                   2652     KMT_SYOUMO_STP500:
 6130                            2653     
 6131 000011D4 D104              2654             MOV.L   #_KMT_SYOUMO_SIGTIM,R1                          ;
 6132 000011D6 6011              2655             MOV.W   @R1,R0                                          ;
 6133 000011D8 2008              2656             TST     R0,R0                                           ;
 6134                            2657             TST_BIT_ON KMT_SYOUMO_STPEXT                            ;
 6135 000011DA 8B02                   M           BF      KMT_SYOUMO_STPEXT
 6136                            2658     
 6137 000011DC 200A              2659             XOR     R0,R0
 6138 000011DE D103              2660             MOV.L   #_KMT_SYOUMO_FLG,R1                             ;
 6139 000011E0 2101              2661             MOV.W   R0,@R1                                          ;
 6140                            2662     
 6141                            2663     
 6142 000011E2                   2664     KMT_SYOUMO_STPEXT
 6143                            2665             SUB_END
 6144                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 6145 000011E2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 6146                            2666             M_RTS
 6147 000011E4 000B                   M           RTS                             ;RTSの後ろの
 6148 000011E6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 6149                            2667     
 6150                            2668     
 6151                            2669     ;       *******************************************
 6152                            2670     ;       ***                                     ***
 6153                            2671     ;       ***             BIN->BCD                ***
 6154                            2672     ;       ***                                     ***
 6155                            2673     ;       *******************************************
 6156                                     ***** BEGIN-POOL *****
 6157 000011E8 00000000                   DATA FOR SOURCE-LINE 2654
 6158 000011EC 00000000                   DATA FOR SOURCE-LINE 2660
 6159                                     ***** END-POOL *****
 6160 000011F0                   2674             .ALIGN  4                                       ;
 6161                            2675     
 6162                            2676     
 6163                            2677     
 6164                            2678     
 6165                            2679     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    76
PROGRAM NAME =

 6166 000011F0                   2680             .ALIGN  4                                       ;
 6167 000011F0                   2681     _HEX4B_BCD8B:
 6168                            2682             SUB_START
 6169 000011F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6170                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6171                            2683             SUB_END
 6172                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 6173 000011F2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 6174                            2684             M_RTS
 6175 000011F4 000B                   M           RTS                             ;RTSの後ろの
 6176 000011F6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 6177                            2685     
 6178                            2686     
 6179                            2687     ;       ***************************************************
 6180                            2688     ;       ***                                             ***
 6181                            2689     ;       ***                                             ***
 6182                            2690     ;       ***             wkram定義                       ***
 6183                            2691     ;       ***                                             ***
 6184                            2692     ;       ***                                             ***
 6185                            2693     ;       ***************************************************
 6186 00000000                   2694             .SECTION        Bwkram1,DATA                    ;
 6187                            2695     
 6188                            2696             .EXPORT         _ET1_INITAL_FLG                 ; SHIMA
 6189                            2697     
 6190 00000000                   2698             .ALIGN  4                                       ;
 6191 00000000 00000004          2699     _CPU_REQ_DAT_CNT        .SRES   4                       ;
 6192 00000004 00000002          2700     _ET1_INITAL_FLG         .SRES   2                       ;
 6193 00000006 00000002          2701     _ET1_BANK_SEL           .SRES   2                       ;現在選択バック
 6194 00000008 00000002          2702     _ET1_BANK_ACS           .SRES   2                       ;ﾊﾞﾝｸｱｸｾｽ中
 6195 0000000A 00000002          2703     _CPU_REQ_DAT_FLG        .SRES   2                       ;
 6196                            2704     
 6197 0000000C                   2705             .ALIGN  4                                       ;
 6198 0000000C 00000004          2706     _CPUA_REQ_OLD           .SRES   4                       ;
 6199                            2707     
 6200                            2708     ;       -------------------------------------------
 6201                            2709     ;       ---                                     ---
 6202                            2710     ;       ---     2009-07-27 KOMTRAX              ---
 6203                            2711     ;       ---                                     ---
 6204                            2712     ;       ---                                     ---
 6205                            2713     ;       -------------------------------------------
 6206                            2714     ;       -------- 2009-07-27(PROCESS)---------------
 6207 00000010                   2715             .ALIGN  4                                       ;
 6208 00000010 00000002          2716     _KMT_TRS_CMD            .SRES   2                       ;=ADR(_KMT_TRSSV1_CMD)
 6209 00000012 00000002          2717     _KMT_TRSPV_CNT          .SRES   2                       ;書込/読出ﾃﾞｰﾀ数
 6210 00000014 00000002          2718     _KMT_TRS_SCAN           .SRES   2                       ;16ﾌﾟﾛｾｽまで起動可能なように監視
 6211 00000016 00000002          2719     _KMT_REQ_SIG            .SRES   2                       ;
 6212                            2720     
 6213                            2721     ;       -------- ﾌﾟﾛｾｽのﾗｯﾁﾃﾞｰﾀ -------
 6214 00000018                   2722             .ALIGN  4                                       ;
 6215 00000018 00000004          2723     _KMT_TRSLT_TOPADR       .SRES   4                       ;ｽﾄﾗｸﾁｬ
 6216 0000001C 00000002          2724     _KMT_TRSLT_MEMKND       .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6217 0000001E 00000002          2725     _KMT_TRSLT_OBJADR       .SRES   2                       ;TOP_ADR
 6218 00000020 00000002          2726     _KMT_TRSLT_CNT          .SRES   2                       ;MAX 1~256 word
 6219 00000022 00000200          2727     _KMT_TRSLT_DAT          .SRES   2*256                   ;MAX 256word
 6220                            2728     
 6221                            2729     ;       --------------------------------
 6222                            2730     ;       ----    EVENT SOFT->TRANS SOFT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    77
PROGRAM NAME =

 6223                            2731     ;       -------- 2009-07-27(API1)-------
 6224 00000224                   2732             .ALIGN  4                                                       ;
 6225 00000224                   2733     _KMT_TRSSV1_FORM:                                       ;配列
 6226 00000224                   2734     _KMT_TRSSV1_TOP:                                        ;配列
 6227 00000224 00000002          2735     _KMT_TRSSV1_CMD         .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6228 00000226 00000002          2736     _KMT_TRSSV1_MEMKND      .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6229 00000228 00000002          2737     _KMT_TRSSV1_OBJADR      .SRES   2                       ;TOP_ADR()
 6230 0000022A 00000002          2738     _KMT_TRSSV1_CNT         .SRES   2                       ;MAX 1~256 word
 6231 0000022C 00000010          2739     _KMT_TRSSV1_DAT         .SRES   2*8                     ;MAX 256word "8CHAR MAX16CHAR"
 6232                            2740     
 6233                            2741     
 6234                            2742     ;       ============= HAND WRITE ==========
 6235 0000023C 0000000C          2743     _KMT_TRSSV2_TOP:        .SRES   2*4+2*2                 ;配列(1word MAX 2word)
 6236                            2744     ;_KMT_TRSSV2_CMD        .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6237                            2745     ;_KMT_TRSSV2_MEMKND     .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6238                            2746     ;_KMT_TRSSV2_OBJADR     .SRES   2                       ;TOP_ADR()
 6239                            2747     ;_KMT_TRSSV2_CNT        .SRES   2                       ;MAX 1~256 word
 6240                            2748     ;_KMT_TRSSV2_DAT        .SRES   2                       ;MAX 256word
 6241                            2749     
 6242                            2750     ;       ============== STATUS READ
 6243 00000248 0000006C          2751     _KMT_TRSSV3_TOP:        .SRES   2*4+2*50                ;配列32word(MAX64word)
 6244                            2752     ;;_KMT_TRSSV3_CMD       .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6245                            2753     ;;_KMT_TRSSV3_MEMKND    .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6246                            2754     ;;_KMT_TRSSV3_OBJADR    .SRES   2                       ;TOP_ADR()
 6247                            2755     ;;_KMT_TRSSV3_CNT       .SRES   2                       ;MAX 1~256 word
 6248                            2756     ;;_KMT_TRSSV3_DAT       .SRES   2*256           ;MAX 256word
 6249                            2757     
 6250                            2758     ;       ============== 実測WR======
 6251 000002B4 00000088          2759     _KMT_TRSSV4_TOP:        .SRES   2*4+2*64                ;配列32word(MAX50word)
 6252                            2760     ;;_KMT_TRSSV3_CMD       .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6253                            2761     ;;_KMT_TRSSV3_MEMKND    .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6254                            2762     ;;_KMT_TRSSV3_OBJADR    .SRES   2                       ;TOP_ADR()
 6255                            2763     ;;_KMT_TRSSV3_CNT       .SRES   2                       ;MAX 1~256 word
 6256                            2764     ;;_KMT_TRSSV3_DAT       .SRES   2*256           ;MAX 256word
 6257                            2765     
 6258                            2766     
 6259                            2767     ;       ============== K011品番======
 6260 0000033C 000000A8          2768     _KMT_TRSSV5_TOP:        .SRES   2*4+2*80                ;80WORD
 6261                            2769     ;;_KMT_TRSSV5_CMD       .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6262                            2770     ;;_KMT_TRSSV5_MEMKND    .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6263                            2771     ;;_KMT_TRSSV5_OBJADR    .SRES   2                       ;TOP_ADR()
 6264                            2772     ;;_KMT_TRSSV5_CNT       .SRES   2                       ;MAX 1~256 word
 6265                            2773     ;;_KMT_TRSSV5_DAT       .SRES   2*256                   ;MAX 256word
 6266                            2774     
 6267                            2775     ;       ============== K011消耗品======
 6268 000003E4 00000088          2776     _KMT_TRSSV6_TOP:        .SRES   2*4+2*64                ;32WORD
 6269                            2777     ;;_KMT_TRSSV6_CMD       .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6270                            2778     ;;_KMT_TRSSV6_MEMKND    .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6271                            2779     ;;_KMT_TRSSV6_OBJADR    .SRES   2                       ;TOP_ADR()
 6272                            2780     ;;_KMT_TRSSV6_CNT       .SRES   2                       ;MAX 1~256 word
 6273                            2781     ;;_KMT_TRSSV6_DAT       .SRES   2*256                   ;MAX 256word
 6274                            2782     
 6275                            2783     
 6276                            2784     ;       -------- 異常ｲﾍﾞﾝﾄ側ｿﾌﾄ[1msec]-------
 6277 0000046C 00000002          2785     _KMT_EVENT_FLG          .SRES   2                       ;ｲﾍﾞﾝﾄのｽﾃｯﾌﾟ管理BIT1,2,3 ??なぜBI
                                          T0使わなかった?
 6278 0000046E 00000008          2786     _KMT_EVENT_CHAR         .SRES   8                       ;8文字*8:64文字
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    78
PROGRAM NAME =

 6279 00000476 00000002          2787     _KMT_EVENT_SIGTIM       .SRES   2                       ;
 6280                            2788     
 6281                            2789     ;       -------- 異常ｲﾍﾞﾝﾄ側ｿﾌﾄ[MAINsec]-------
 6282 00000478 00000002          2790     _KMT_EVENT_CHGF         .SRES   2                       ;ｷｬﾗｸﾀﾃﾞｰﾀ
 6283 0000047A 00000002          2791     _KMT_DLYSCAN_TIM        .SRES   2                       ;
 6284 0000047C 00000010          2792     _KMT_OLD_CHRNO          .SRES   2*8                     ;FFFF->dataの時のみ
 6285 0000048C 00000010          2793     _KMT_USE_CHRNO          .SRES   2*8                     ;
 6286 0000049C 00000010          2794     _KMT_CHK_CHRNO          .SRES   2*8                     ;
 6287                            2795     
 6288                            2796     ;       -------- [1msec]-------
 6289 000004AC 00000002          2797     _KMT_STS_SQ087          .SRES   2                       ;
 6290 000004AE 00000002          2798     _KMT_1CYCL_SIGTIM       .SRES   2                       ;
 6291                            2799     
 6292                            2800     
 6293                            2801     ;       -------- MAIN ﾊﾝﾄﾞｼｪｲｸ-------------
 6294 000004B0 00000002          2802     _KMT_HANDWR_FLG         .SRES   2                       ;HANDｼｪｲｸWR
 6295 000004B2 00000002          2803     _KMT_HANDWDT_CNT        .SRES   2                       ;
 6296 000004B4 00000002          2804     _KMT_HANDWDT_TIM        .SRES   2                       ;
 6297                            2805     
 6298                            2806     ;       -------- MAIN ｽﾃｰﾀｽ-------------
 6299 000004B6 00000002          2807     _KMT_STS1RD_FLG         .SRES   2                       ;ｽﾃｰﾀｽREAD　50WMAX
 6300                            2808     
 6301 000004B8 00000002          2809     _KMT_STS1_SET           .SRES   2                       ;BIT0~BIT7(確定ﾃﾞｰﾀあり)
 6302 000004BA 00000064          2810     _KMT_STS1_AREA          .SRES   2*50                    ;MAX50word(16WORD)
 6303 0000051E 00000002          2811     _KMT_STS1MN_SQ87        .SRES   2                       ;
 6304                            2812     
 6305 00000520 00000064          2813     _KMT_COM1_AREA          .SRES   2*50                    ;
 6306                            2814     
 6307                            2815     ;       --------------------------------------------
 6308                            2816     ;       -----------2011-01-14-----------------------
 6309                            2817     ;       --------------------------------------------
 6310 00000584 00000002          2818     _KMT_TYP_011            .SRES   2                       ;0:010型/:011型機能
 6311 00000586 00000002          2819     _KMT_PROC_10MS          .SRES   2                       ;10msecﾀｲﾏ作成
 6312                            2820     
 6313                            2821     ;       -------- 品番処理-------------
 6314 00000588 00000002          2822     _KMT_HINBAN_SIGTIM      .SRES   2       ;150msec信号作成用
 6315 0000058A 00000002          2823     _KMT_HINBAN_FLG         .SRES   2       ;150msec信号作成用
 6316 0000058C 00000002          2824     _KMT_HINBAN_SEL         .SRES   2       ;BIT0=1:開始(87.4)　BIT1=1:終了(87.4)
 6317                            2825     
 6318                            2826     ;       --
 6319 0000058E 00000002          2827     _KMT_HINBAN_CHGF        .SRES   2       ;BIT0=1開始ｲﾍﾞﾝﾄ BIT1:終了ｲﾍﾞﾝﾄ
 6320                            2828     
 6321                            2829     ;       ----ﾄﾘｶﾞの順番は開始→終了→開始・・・・または終了→開始→終了の順番にする
 6322                            2830     ;       異なる場合は最後のイベントが発生するようにデータを並び替える
 6323                            2831     ;       バッファ０のみ前回の状態を見ない
 6324                            2832     ;
 6325 00000590 00000002          2833     _KMT_HINBAN_TRG_NUM     .SRES   2                       ;0個[保留なし],1個,2個,3個,4個
 6326 00000592 0000000C          2834     _KMT_HINBAN_TRG_FLG     .SRES   2*_HINBAN_BUF_MAX               ;保留が発生した場合の処理
 6327                            2835                                                             ;0:ﾃﾞｰﾀ存在なし BIT0=1[開始],BIT1=
                                          1[終了]
 6328                            2836                                                             ;+0:現在
 6329                            2837                                                             ;+1:次回
 6330                            2838                                                             ;+2:次々回
 6331                            2839                                                             ;+3:次次々回
 6332                            2840                                                             ;+4:次次次々回
 6333                            2841                                                             ;
 6334                            2842     ;       -------- 4byteﾃﾞｰﾀでも2byteｱｸｾｽしかしない------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    79
PROGRAM NAME =

 6335                            2843     
 6336                            2844     
 6337                            2845     ;       -------- 消耗処理-------------
 6338 0000059E 00000002          2846     _KMT_SYOUMO_SIGTIM      .SRES   2       ;150msec信号作成用
 6339 000005A0 00000002          2847     _KMT_SYOUMO_FLG         .SRES   2       ;150msec信号作成用
 6340 000005A2 00000002          2848     _KMT_SYOUMO_CHGF        .SRES   2       ;BIT0=1開始ｲﾍﾞﾝﾄ BIT1:終了ｲﾍﾞﾝﾄ
 6341                            2849     
 6342                            2850     ;       -------------------------------------------
 6343                            2851     ;       ---     確定して送るだけの状態のデータ  ---
 6344                            2852     ;       ---     2011-01-14                      ---
 6345                            2853     ;       -------------------------------------------
 6346                            2854     ;       -------- 4byteﾃﾞｰﾀでも2byteｱｸｾｽしかしない------------
 6347 000005A4 00000040          2855     _KMT_HMI_SYOUMO_DAT     .SRES   __SITM_SYOUMO_CNT       ;64byte
 6348 000005E4 000003C0          2856     _KMT_HMI_HINBAN_BUF     .SRES   __SITM_HINBAN_CNT*_HINBAN_BUF_MAX       ;6BUFF
 6349                            2857     
 6350                            2858     ;
 6351                            2859     ;;;;    .SECTION        P,CODE                  ;
 6352                            2860     ;;;;    .ALIGN  4                                       ;
 6353                            2861     
 6354                            2862             .END
  *****TOTAL ERRORS       0
  *****TOTAL WARNINGS     0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    80

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BIT0                                      EQU  00000001     15* 2709  2969  3315  5150  5193  5721 
BIT1                                      EQU  00000002     16* 2710  3442  3489  3627  3666  3851  3875  3953  5123  5178  5603 
                                                          5676  5976  6038 
BIT10                                     EQU  00000400     25* 4012  4029 
BIT11                                     EQU  00000800     26*
BIT12                                     EQU  00001000     27*
BIT13                                     EQU  00002000     28* 3979  4029 
BIT14                                     EQU  00004000     29* 3971  4029 
BIT15                                     EQU  00008000     30* 4022  4029 
BIT16                                     EQU  00010000     31*
BIT17                                     EQU  00020000     32*
BIT18                                     EQU  00040000     33*
BIT19                                     EQU  00080000     34*
BIT2                                      EQU  00000004     17* 2944  2986  3011  3442  3515  3528  3976  4019  5603  5703  5716 
                                                          5976  6056  6069 
BIT20                                     EQU  00100000     35*
BIT21                                     EQU  00200000     36*
BIT22                                     EQU  00400000     37*
BIT23                                     EQU  00800000     38*
BIT24                                     EQU  01000000     39*
BIT25                                     EQU  02000000     40*
BIT26                                     EQU  04000000     41*
BIT27                                     EQU  08000000     42*
BIT28                                     EQU  10000000     43*
BIT29                                     EQU  20000000     44*
BIT3                                      EQU  00000008     18* 3442  3511  3534  3564  3570  3976  5603  5699  5780  5976  6052 
                                                          6111 
BIT30                                     EQU  40000000     45*
BIT31                                     EQU  80000000     46*
BIT4                                      EQU  00000010     19* 3968  5728  5774 
BIT5                                      EQU  00000020     20* 3989  3997  5745  5774 
BIT6                                      EQU  00000040     21* 2159  2171  2222  2245  2367  2403  4554  4562  6075  6105 
BIT7                                      EQU  00000080     22* 3791  3811  4562  4673  4680  4726  4792  4814  4855 
BIT8                                      EQU  00000100     23* 4001  4029 
BIT9                                      EQU  00000200     24* 3992  4029  4982 
Bfram                            Bfram    SCT  00000000   2150*
Bwkram1                          Bwkram1  SCT  00000000   6186*
CHAR_BUF8SER_200                 P             000004C4   3358  3362  3366  3370  3374  3378  3382  3386  3397*
CHAR_BUF8SER_END                 P             000004C6   3390  3399*
ET1_CPUA_DT_MV100                P             000001C8   2502  2566*
ET1_CPU_HIGHMV_END               P             00000024   2161  2173  2192*
ET1_CPU_MNMV_100                 P             0000005C   2224  2237*
ET1_CPU_MNMV_200                 P             0000008C   2253  2267*
ET1_CPU_MNMV_500                 P             000000E4   2303  2324*
ET1_CPU_MNMV_END                 P             000000F0   2231  2247  2257  2310  2338*
ET1_INIT_CHK_END                 P             00000126   2369  2387  2398  2406*
HINBAN_COM_DATMOV                P             00000E24   5354  5379  5391*
H_BYTE                                    EQU  00000000     82*
ICHAR_DATCHK_020                 P             00000390   3155  3164*
ICHAR_DATCHK_050                 P             000003C0   3186  3194*
ICHAR_DATCHK_070LOP              P             000003CA   3208* 3238 
ICHAR_DATCHK_100                 P             000003E6   3214  3217  3227  3231*
ICHAR_DATCHK_200                 P             000003F8   3244* 3251 
ICHAR_DATCHK_300                 P             00000404   3188  3255*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    81

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ICHAR_DATCHK_300LOP              P             00000408   3258* 3266 
ICHAR_DATCHK_400                 P             00000434   3262  3282*
ICHAR_DATCHK_500                 P             0000046C   3268  3296  3299  3318*
ICHAR_DATCHK_999                 P             0000046E   3157  3320*
JMP000000                        P             0000018C   2509* 2518 
JMP000005                        P             000007F8   4043* 4052 
JMP000006                        P             00000F54   5645* 5654 
JMP000007                        P             0000110E   6005* 6014 
JMP100000                        P             000001B0   2512  2528*
JMP100005                        P             0000083C   4046  4074*
JMP100006                        P             00000F80   5648  5666*
JMP100007                        P             00001140   6008  6028*
JMP_0100001                      P             0000025E   2882  2885*
JMP_0100002                      P             0000026A   2890  2893*
JMP_0100003                      P             00000276   2899  2902*
JMP_0100004                      P             00000282   2907  2910*
KMT_1CYCLSIGCHK_050              P             000002D0   2971  2980*
KMT_1CYCLSIGCHK_100              P             000002F8   2994  3007*
KMT_1CYCLSIGCHK_END              P             00000302   2988  2998  3015*
KMT_CMDINIT_100_LOP              P             00000A20   4526* 4535 
KMT_CMDINIT_200                  P             00000A40   4529  4544*
KMT_CMDINI_300                   P             00000A52   4556  4558*
KMT_CMDTRSCHK_EXT                P             000009F0   4457  4488*
KMT_CMDTRS_200                   P             000009A0   4220  4389*
KMT_CMDTRS_300                   P             000009B0   4223  4403*
KMT_CMDTRS_400                   P             000009B6   4395  4409*
KMT_CMDTRS_END                   P             000009B8   4262  4279  4295  4311  4328  4342  4351  4366  4375  4412*
KMT_CMD_EVET_000                 P             00000910   4234  4236  4271*
KMT_CMD_HAND_000                 P             00000924   4239  4287*
KMT_CMD_HINBAN_000               P             00000960   4260  4337*
KMT_CMD_PVWR_000                 P             0000094C   4243  4320*
KMT_CMD_STSR_000                 P             00000938   4246  4248  4303*
KMT_CMD_SYOUMO_000               P             00000980   4258  4361*
KMT_EVET_STP300                  P             0000054C   3444  3508*
KMT_EVET_STP400                  P             00000590   3517  3553*
KMT_EVET_STP500                  P             000005C4   3513  3588*
KMT_EVET_STPEXT                  P             000005D2   3450  3492  3523  3542  3559  3578  3594  3601*
KMT_HANDWDTCHK_030               P             00000680   3745  3754*
KMT_HANDWDTCHK_050               P             00000684   3758*
KMT_HANDWDTCHK_100               P             000006B4   3772  3787*
KMT_HANDWDTCHK_200               P             000006C8   3765  3802*
KMT_HANDWDTCHK_END               P             000006EE   3817  3830*
KMT_HANDWDTCHK_WAIT              P             000006EC   3747  3776  3795  3828*
KMT_HANDWR_STP300                P             00000644   3629  3684*
KMT_HANDWR_STPEXT                P             00000658   3638  3669  3696  3703*
KMT_HINBAN_BUFMK1_100            P             00000D9E   5306  5312*
KMT_HINBAN_DTMK_900              P             00000D7C   5231  5237  5277*
KMT_HINBAN_DTSFT_100_LOP         P             00001074   5849* 5869 
KMT_HINBAN_DTSFT_120_LOP         P             00001080   5859* 5866 
KMT_HINBAN_DTSFT_200             P             000010A8   5852  5880*
KMT_HINBAN_DTSFT_900             P             000010AA   5837  5882*
KMT_HINBAN_RQMK_050              P             00000CBC   5099  5114*
KMT_HINBAN_RQMK_100              P             00000CEC   5102  5144*
KMT_HINBAN_RQMK_200              P             00000D18   5117  5173*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    82

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

KMT_HINBAN_RQMK_900              P             00000D60   5105  5134  5161  5204  5216*
KMT_HINBAN_RQMK_999              P             00000D64   5218  5221*
KMT_HINBAN_STP020                P             00000F34   5611  5621*
KMT_HINBAN_STP300                P             00000FA8   5605  5696*
KMT_HINBAN_STP320                P             00000FEC   5723  5741*
KMT_HINBAN_STP340                P             00000FF6   5732  5748*
KMT_HINBAN_STP400                P             0000100C   5705  5763*
KMT_HINBAN_STP500                P             00001040   5701  5798*
KMT_HINBAN_STPEXT                P             0000104E   5613  5686  5711  5754  5769  5788  5804  5811*
KMT_PVDATWR100LOP                P             00000896   4158* 4165 
KMT_PVDTWR_EXT                   P             000008A8   4141  4173*
KMT_STATUS_RD300                 P             0000073C   3853  3891*
KMT_STATUS_RD400LOP              P             0000074A   3905* 3912 
KMT_STATUS_RDEXT                 P             00000762   3878  3897  3923*
KMT_STAUSMAKE_EXT                P             000007F2   3956  4036*
KMT_STAUSMAK_100                 P             000007A2   3970  3973*
KMT_STAUSMAK_120                 P             000007AC   3978  3981*
KMT_STAUSMAK_200                 P             000007BA   3991  3994*
KMT_STAUSMAK_220                 P             000007C6   4000  4003*
KMT_STAUSMAK_300                 P             000007D4   4011  4014*
KMT_STAUSMAK_400                 P             000007E2   4021  4024*
KMT_SYOUMO_STP300                P             0000115C   5978  6049*
KMT_SYOUMO_STP400                P             000011A0   6058  6094*
KMT_SYOUMO_STP500                P             000011D4   6054  6129*
KMT_SYOUMO_STPEXT                P             000011E2   5984  6041  6064  6083  6100  6119  6135  6142*
KMT_TRS_STPRD_100                P             00000BAC   4794  4834*
KMT_TRS_STPRD_200                P             00000BF0   4840  4873*
KMT_TRS_STPRD_250LOP             P             00000BFE   4885* 4894 
KMT_TRS_STPRD_300                P             00000C20   4888  4904*
KMT_TRS_STPRD_EXT                P             00000C26   4790  4821  4862  4913*
KMT_TRS_STPWR_100                P             00000AE8   4675  4696*
KMT_TRS_STPWR_200                P             00000B44   4702  4747*
KMT_TRS_STPWR_EXT                P             00000B4A   4671  4687  4734  4754*
KMT_TYPE011CHK_END               P             00000C68   4978  4985  4991*
KOMTRAX_TIMCT10_100              P             00000238   2834  2844*
KOMTRAX_TIMCT10_200              P             00000242   2838  2853*
L_BYTE                                    EQU  00000001     81*
NBIT0                                     EQU  000000FE     49*
NBIT1                                     EQU  000000FD     50*
NBIT10                                    EQU  0000FBFF     60*
NBIT11                                    EQU  0000F7FF     61*
NBIT12                                    EQU  0000EFFF     62*
NBIT13                                    EQU  0000DFFF     63*
NBIT14                                    EQU  0000BFFF     64*
NBIT15                                    EQU  00007FFF     65*
NBIT2                                     EQU  000000FB     51*
NBIT3                                     EQU  000000F7     52*
NBIT4                                     EQU  000000EF     53*
NBIT5                                     EQU  000000DF     54*
NBIT6                                     EQU  000000BF     55*
NBIT7                                     EQU  0000007F     56*
NBIT8                                     EQU  0000FEFF     58*
NBIT9                                     EQU  0000FDFF     59*
P                                P        SCT  00000000   2151*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    83

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

XBIT0                                     EQU  00000000     68*
XBIT1                                     EQU  00000001     69*
XBIT2                                     EQU  00000002     70*
XBIT3                                     EQU  00000003     71*
XBIT4                                     EQU  00000004     72*
XBIT5                                     EQU  00000005     73*
XBIT6                                     EQU  00000006     74*
XBIT7                                     EQU  00000007     75*
_BCD4B_ASCII                     P             00000EA8   5402  5497*
_CB_BAKUP_CMD1                            EQU  00005678    114*
_CB_BAKUP_CMD2                            EQU  00001234    115*
_CB_BAK_SUM_COD1                          EQU  5AA51234    112*
_CB_BAK_SUM_COD2                          EQU  A55A4321    113*
_CB_ERR_INFO_MEM                          EQU  00000040    137*
_CB_STS_BUF_1BLK                          EQU  00000040    117*  119 
_CB_STS_BUF_BLKMAX                        EQU  00000008    118*  119 
_CB_STS_BUF_MAX                           EQU  00000200    119*
_CB_TRD_BEFORE                            EQU  00000060    127*
_CB_TRD_BUF_DP_MAX                        EQU  00000080    131*
_CB_TRD_BUF_MAX                           EQU  00000800    128*
_CB_TRD_DP_1CNT                           EQU  00000008    130*
_CB_TRD_DP_CH                             EQU  00000004    123*
_CB_TRD_SMP_CNT                           EQU  00000080    126*
_CHAR_BUF8_SERCH                 P             00000484   3222  3345*
_CPUATOD_1CYCL_SIG                        IMPT 00000000   2926  2967 
_CPUA_RCV_ACK_ET1                         IMPT 00000000   2124  2572 
_CPUA_RCV_INI_ET1                         IMPT 00000000   2122  2445 
_CPUA_REQ_OLD                    Bwkram1       0000000C   2496  2557  6198*
_CPUA_SND_DAT                             IMPT 00000000   2127  2505 
_CPUA_SND_END                             IMPT 00000000   2128 
_CPUA_SND_INI_ET1                         IMPT 00000000   2121  2438 
_CPUA_SND_REQ_ADR                         IMPT 00000000   2125  2549 
_CPUA_SND_REQ_CNT                         IMPT 00000000   2126  2530 
_CPUA_SND_REQ_ET1                         IMPT 00000000   2123  2494 
_CPU_REQ_DAT_CNT                 Bwkram1       00000000   6191*
_CPU_REQ_DAT_FLG                 Bwkram1       0000000A   6195*
_DUMMY_SUM_CODE                           EQU  5AA53CC3    105*
_EQ_BAD_CNT                               EQU  0000003A   5079* 5424  5426 
_EQ_KATA_MEMO                             EQU  0000001C   5076* 5451  5453  5455  5457  5459  5461  5463  5466  5467  5468 
_EQ_KATA_NAME                             EQU  00000008   5075* 5430  5432  5434  5436  5438  5440  5442  5445  5446  5447 
_EQ_ORDER_COD                             EQU  00000000   5074* 5407  5409  5411  5413 
_EQ_PLAN_CNT                              EQU  00000032   5078* 5417  5419 
_EQ_WORKER_COD                            EQU  00000030   5077* 5397 
_ET1_BANK_ACS                    Bwkram1       00000008   6194*
_ET1_BANK_SEL                    Bwkram1       00000006   6193*
_ET1_CPUAB_BUF_MAX                        EQU  00000100   1975* 2507 
_ET1_CPUA_ADR_MAX                         EQU  00060000   1978*
_ET1_CPUA_DT_MOVE                P             00000174   2165  2489*
_ET1_CPUB_ADR_MAX                         EQU  00008000   1976*
_ET1_CPU_HIGH_MOV                P        EXPT 00000000   2132  2153*
_ET1_CPU_MAIN_MOV                P        EXPT 00000040   2131  2215*
_ET1_DATA_COD                             EQU  5A3CC3A5   1982*
_ET1_DEF_GAT0                             IMPT 00000000   2056 
_ET1_DEF_GAT1                             IMPT 00000000   2057 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    84

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ET1_DEF_GAT2                             IMPT 00000000   2058 
_ET1_DEF_GAT3                             IMPT 00000000   2059 
_ET1_INIEND_MOVE                 P             0000013C   2239  2425*
_ET1_INITAL_CHK                  P             00000100   2226  2361*
_ET1_INITAL_FLG                  Bwkram1  EXPT 00000004   2157  2220  2365  2401  6188  6192*
_ET1_INIT_ACK                             EQU  56789ABC   1981* 2385  2396 
_ET1_INIT_REQ                             EQU  12345678   1980* 2431 
_ET1_IPM_ADR0                             IMPT 00000000   2060 
_ET1_IPM_ADR1                             IMPT 00000000   2061 
_ET1_IPM_ADR2                             IMPT 00000000   2062 
_ET1_IPM_ADR3                             IMPT 00000000   2063 
_ET1_IPS_ADR0                             IMPT 00000000   2048 
_ET1_IPS_ADR1                             IMPT 00000000   2049 
_ET1_IPS_ADR2                             IMPT 00000000   2050 
_ET1_IPS_ADR3                             IMPT 00000000   2051 
_ET1_IPS_ENT                              IMPT 00000000   2047 
_ET1_RDWR2_BUFMAX                         EQU  00000020   1986*
_ET1_SUB_NET0                             IMPT 00000000   2052 
_ET1_SUB_NET1                             IMPT 00000000   2053 
_ET1_SUB_NET2                             IMPT 00000000   2054 
_ET1_SUB_NET3                             IMPT 00000000   2055 
_ET1_VER                                  IMPT 00000000   2044 
_ET1_WD_HAND_COD                          EQU  00001234   1987*
_ET2_SEQ_IDT01                            IMPT 00000000   2102  3046 
_ET2_SEQ_QDT01                            IMPT 00000000   2103  3051 
_ET2_SITM_ACK                             IMPT 00000000   2099 
_ET2_SITM_ADR                             IMPT 00000000   2097  4717  4847 
_ET2_SITM_RDDT                            IMPT 00000000   2101  4796 
_ET2_SITM_REQ                             IMPT 00000000   2098 
_ET2_SITM_WRDT                            IMPT 00000000   2100  4708 
_ET2_WORD_SITM_ACK                        IMPT 00000000   4582  4630 
_ET2_WORD_SITM_REQ                        IMPT 00000000   4581  4602 
_ET_CPUA_RCV_ACK_ET1                      IMPT 00000000   2029  2570 
_ET_CPUA_RCV_INI_ET1                      IMPT 00000000   2027  2389  2443 
_ET_CPUA_RD_ACK                           IMPT 00000000   2070 
_ET_CPUA_RD_ADR                           IMPT 00000000   2072 
_ET_CPUA_RD_BUF                           IMPT 00000000   2073 
_ET_CPUA_RD_CNT                           IMPT 00000000   2071 
_ET_CPUA_RD_REQ                           IMPT 00000000   2069 
_ET_CPUA_SND_DAT                          IMPT 00000000   2033  2506 
_ET_CPUA_SND_END                          IMPT 00000000   2034 
_ET_CPUA_SND_INI_ET1                      IMPT 00000000   2026  2440 
_ET_CPUA_SND_REQ_ADR                      IMPT 00000000   2031  2551 
_ET_CPUA_SND_REQ_CNT                      IMPT 00000000   2032  2532 
_ET_CPUA_SND_REQ_ET1                      IMPT 00000000   2028  2559 
_ET_CPUA_WR2_ACK                          IMPT 00000000   2081 
_ET_CPUA_WR2_ADR                          IMPT 00000000   2078 
_ET_CPUA_WR2_BUF                          IMPT 00000000   2079 
_ET_CPUA_WR2_CNT                          IMPT 00000000   2082 
_ET_CPUA_WR2_REQ                          IMPT 00000000   2080 
_ET_CPUB_RCV_INI_ET1                      IMPT 00000000   2013  2383 
_ET_CPUB_SND_INI_ET1                      IMPT 00000000   2012  2433 
_ET_LDCMND_AREA                           IMPT 00000000   2041 
_ET_LDCMND_REQ                            IMPT 00000000   2042 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    85

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ET_LDCMND_RES                            IMPT 00000000   2043 
_FRAM_CB_ICHAR                            IMPT 00000000   2686  4040 
_HEX4B_BCD8B                     P             000011F0   6167*
_HINBAN_BUF_MAX                           EQU  00000006   2767* 5305  6326  6348 
_HINBAN_DATA_SFT                 P             0000105C   5682  5829*
_HINBAN_START_DATA_MOV           P             00000DC4   5153  5196  5342*
_HINBAN_STOP_DATA_MOV            P             00000DF4   5126  5181  5367*
_ICHAR_DATA_CHK                  P             0000037C   3106  3146*
_IROCK_CHAR                               IMPT 00000000   2684  3286 
_IROCK_OUT_NO                             IMPT 00000000   2683  3202 
_KMT_10MSEC_TIM                  P             00000250   2849  2873*
_KMT_1CYCLE_SET                  P             00000298   2934* 2976 
_KMT_1CYCLE_SIGCHK               P             000002BC   2783  2961*
_KMT_1CYCL_SIGTIM                Bwkram1       000004AE   2939  2990  6290*
_KMT_ACKSIG_IN                   P             00000AA0   4621* 4665  4784 
_KMT_CHK_CHRNO                   Bwkram1       0000049C   3167  3204  3257  6286*
_KMT_CMDTRS_CHK                  P             000009C4   4275  4291  4307  4324  4347  4371  4450*
_KMT_CMD_INIT                    P             00000A10   4482  4510*
_KMT_CMD_TRS                     P             000008CC   2800  4212*
_KMT_COM1_AREA                   Bwkram1       00000520   4098  4104  4106  4156  6305*
_KMT_DLYSCAN_TIM                 Bwkram1       0000047A   2249  6283*
_KMT_EVENT_CHAR                  Bwkram1       0000046E   3291  3467  6278*
_KMT_EVENT_CHGF                  Bwkram1       00000478   3151  3313  3446  6282*
_KMT_EVENT_FLG                   Bwkram1       0000046C   3440  3487  3509  3526  3568  3597  6277*
_KMT_EVENT_INT_STEP              P             000004D0   3113  3423*
_KMT_EVENT_SIGTIM                Bwkram1       00000476   2904  3539  3555  3575  3590  6279*
_KMT_HANDWDT_CNT                 Bwkram1       000004B2   3767  3805  6295*
_KMT_HANDWDT_TIM                 Bwkram1       000004B4   2896  3741  6296*
_KMT_HANDWR_FLG                  Bwkram1       000004B0   3625  3664  3699  6294*
_KMT_HAND_WDTCHK                 P             0000066C   3633  3688  3727*
_KMT_HINBAN_BUF_MAK1             P             00000D90   5120  5147  5175  5190  5298*
_KMT_HINBAN_CHGF                 Bwkram1       0000058E   5227  5273  5607  6319*
_KMT_HINBAN_FLG                  Bwkram1       0000058A   5601  5674  5697  5714  5778  5807  6315*
_KMT_HINBAN_MAKE                 P             00000C9C   5022  5083*
_KMT_HINBAN_SEL                  Bwkram1       0000058C   5623  5719  6316*
_KMT_HINBAN_SIGTIM               Bwkram1       00000588   2879  5751  5765  5785  5800  6314*
_KMT_HINBAN_STEP                 P             00000F14   5027  5586*
_KMT_HINBAN_TRG_FLG              Bwkram1       00000592   5271  5320  5846  5847  6326*
_KMT_HINBAN_TRG_NUM              Bwkram1       00000590   5129  5156  5184  5199  5233  5303  5833  6325*
_KMT_HMI_HINBAN_BUF              Bwkram1       000005E4   5317  5641  5843  5844  6348*
_KMT_HMI_SYOUMO_DAT              Bwkram1       000005A4   6001  6347*
_KMT_OLD_CHRNO                   Bwkram1       0000047C   3203  3242  6284*
_KMT_PROC_10MS                   Bwkram1       00000586   2830  6311*
_KMT_REQSIG_OUT                  P             00000A84   4569  4593* 4683  4729  4817  4858 
_KMT_REQ_SIG                     Bwkram1       00000016   4565  4599  4668  4678  4724  4787  4812  4853  6211*
_KMT_SEQ_REF1                    P             00000310   2789  3036*
_KMT_STS1MN_SQ87                 Bwkram1       0000051E   3057  3532  3562  3789  3809  4027  5726  5743  5772  6073  6103  6303*
_KMT_STS1RD_FLG                  Bwkram1       000004B6   3849  3873  3915  6299*
_KMT_STS1_AREA                   Bwkram1       000004BA   3760  3903  3964  3985  4006  4016  4039  4969  6302*
_KMT_STS1_SET                    Bwkram1       000004B8   3918  3951  6301*
_KMT_STS_SQ087                   Bwkram1       000004AC   2942  2984  3009  3059  6289*
_KMT_SYOUMO_CHGF                 Bwkram1       000005A2   5936  5980  6340*
_KMT_SYOUMO_FLG                  Bwkram1       000005A0   5974  6036  6050  6067  6109  6138  6339*
_KMT_SYOUMO_MAKE                 P             000010CC   5904  5930*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    86

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_KMT_SYOUMO_SIGTIM               Bwkram1       0000059E   2887  6080  6096  6116  6131  6338*
_KMT_SYOUMO_STEP                 P             000010E0   5909  5959*
_KMT_TRSCMD_ENDCLR               P             00000C30   4749  4908  4930*
_KMT_TRSLT_CNT                   Bwkram1       00000020   4477  4517  4699  4837  4882  6218*
_KMT_TRSLT_DAT                   Bwkram1       00000022   4524  4705  4802  4875  6219*
_KMT_TRSLT_MEMKND                Bwkram1       0000001C   4468  4560  6216*
_KMT_TRSLT_OBJADR                Bwkram1       0000001E   4472  4714  4844  6217*
_KMT_TRSLT_TOPADR                Bwkram1       00000018   4464  4520  4877  4938  6215*
_KMT_TRSPV_CNT                   Bwkram1       00000012   4548  4697  4712  4799  4806  4835  4842  6209*
_KMT_TRSSV1_CMD                  Bwkram1       00000224   3483  3519  3660  3692  3869  3893  4137  4169  4454  4940  5670  5707 
                                                          6032  6060  6227*
_KMT_TRSSV1_CNT                  Bwkram1       0000022A   3464  3650  3864  4152  4475  5638  5998  6230*
_KMT_TRSSV1_DAT                  Bwkram1       0000022C   3468  3653  3656  3762  3902  4157  4522  4879  5642  6002  6231*
_KMT_TRSSV1_FORM                 Bwkram1       00000224   3456  3460  3464  3468  3483  3519  3642  3646  3650  3653  3656  3660 
                                                          3692  3762  3856  3860  3864  3869  3893  3902  4137  4144  4148  4152 
                                                          4157  4169  4454  4467  4471  4475  4522  4879  4940  5630  5634  5638 
                                                          5642  5670  5707  5990  5994  5998  6002  6032  6060  6225*
_KMT_TRSSV1_MEMKND               Bwkram1       00000226   3456  3642  3856  4144  4467  5630  5990  6228*
_KMT_TRSSV1_OBJADR               Bwkram1       00000228   3460  3646  3860  4148  4471  5634  5994  6229*
_KMT_TRSSV1_TOP                  Bwkram1       00000224   3456  3460  3464  3468  3483  3519  4273  6226*
_KMT_TRSSV2_TOP                  Bwkram1       0000023C   3642  3646  3650  3653  3656  3660  3692  3762  4289  6235*
_KMT_TRSSV3_TOP                  Bwkram1       00000248   3856  3860  3864  3869  3893  3902  4305  6243*
_KMT_TRSSV4_TOP                  Bwkram1       000002B4   4137  4144  4148  4152  4157  4169  4322  6251*
_KMT_TRSSV5_TOP                  Bwkram1       0000033C   4345  5630  5634  5638  5642  5670  5707  6260*
_KMT_TRSSV6_TOP                  Bwkram1       000003E4   4369  5990  5994  5998  6002  6032  6060  6268*
_KMT_TRS_CMD                     Bwkram1       00000010   4217  4461  4551  4935  6208*
_KMT_TRS_SCAN                    Bwkram1       00000014   4227  6210*
_KMT_TRS_STP_RD                  P             00000B54   4405  4778*
_KMT_TRS_STP_WR                  P             00000AB4   4391  4659*
_KMT_TYPE_011_CHK                P             00000C4C   2306  4964*
_KMT_TYP_011                     Bwkram1       00000584   2300  4338  4362  4988  6310*
_KMT_USE_CHRNO                   Bwkram1       0000048C   3243  3354  6285*
_KOMTRAX_DATA_CTRL               P             000001F8   2182  2777*
_KOMTRAX_EVENT_MAIN              P             00000360   2269  3100*
_KOMTRAX_HAND_WRITE              P             000005E0   2274  3619*
_KOMTRAX_HINBAN_MAIN             P             00000C80   2328  5016*
_KOMTRAX_PVDAT_MAKE              P             00000842   2289  4091*
_KOMTRAX_PVDAT_WRITE             P             00000874   2294  4131*
_KOMTRAX_STATUS_READ             P             000006F4   2279  3844*
_KOMTRAX_STAUS_MAKE              P             00000780   2284  3946*
_KOMTRAX_SYOUMO_MAIN             P             000010B0   2333  5898*
_KOMTRAX_TIMCNT                  P             00000220   2188  2821*
_MEM_ARI                                  IMPT 00000000   2107 
_MEM_BNK_ADR1                             IMPT 00000000   2108 
_PVP_MENTE_CNT                            IMPT 00000000   4089  4101 
_PVP_POWER_MONI                           IMPT 00000000   4088  4096 
_SEQ_024_SV                               IMPT 00000000   2135  2169  2243 
_SEQ_DP_TOP                               IMPT 00000000   2136  3044  3053  3067  4980 
_SQ086                                    EQU  000000AC   2707* 3053 
_SQ087                                    EQU  000000AE   2708* 3067 
_SQ113                                    EQU  000000E2   2705* 4980 
_SQ149                                    EQU  0000012A   2706* 3044 
_START_ACK_COD                            EQU  00004321    211*
_START_REQ_COD                            EQU  00009876    210*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    87

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SV0SP_BAD_CNT                            IMPT 00000000   5056  5375 
_SV0SP_KATA_MEMO                          IMPT 00000000   5059  5377 
_SV0SP_KATA_NAME                          IMPT 00000000   5058  5376 
_SV0SP_KATA_NO                            IMPT 00000000   5057 
_SV0SP_ORDER_COD                          IMPT 00000000   5054  5373 
_SV0SP_PLAN_CNT                           IMPT 00000000   5055  5374 
_SV0SP_WORKER_COD                         IMPT 00000000   5053  5372 
_SV0SR_BAD_CNT                            IMPT 00000000   5065  5350 
_SV0SR_KATA_MEMO                          IMPT 00000000   5068  5352 
_SV0SR_KATA_NAME                          IMPT 00000000   5067  5351 
_SV0SR_KATA_NO                            IMPT 00000000   5066 
_SV0SR_ORDER_COD                          IMPT 00000000   5063  5348 
_SV0SR_PLAN_CNT                           IMPT 00000000   5064  5349 
_SV0SR_WORKER_COD                         IMPT 00000000   5062  5347 
_SV0_WORK_STP_FLG                         IMPT 00000000   5052  5095  5371 
_SV0_WORK_STR_FLG                         IMPT 00000000   5061  5093  5346 
_VUPCHECK_EQU                             EQU  11AB3739     98*
__ASCII_0                                 EQU  00000030   5495* 5515  5521  5529  5535  5543  5549  5557  5563 
__CYCLE_SIG_TIMSV                         EQU  00000014   2748* 2938 
__EVENT_SIG_OFTIMSV                       EQU  00000032   2745* 3574 
__EVENT_SIG_ONTIMSV                       EQU  00000032   2744* 3538 
__HINBAN_SIG_OFTIMSV                      EQU  00000064   2761* 5784 
__HINBAN_SIG_ONTIMSV                      EQU  00000064   2760* 5750 
__KMTCMD_RD                               EQU  00000002   2710* 3868  4222  4460 
__KMTCMD_WR                               EQU  00000001   2709* 3482  3659  4168  4219  4460  5669  6031 
__SITM_AIDAT1                             EQU  0000000C   2721* 4098  4147  4156 
__SITM_AIDTCNT                            EQU  00000008   2722* 4151  4155 
__SITM_CHRCNT                             EQU  00000008   2719* 3463 
__SITM_CHRTOP1                            EQU  00000004   2718* 3459 
__SITM_ERRSTS1                            EQU  0000006A   2734* 3985 
__SITM_HANDCNT                            EQU  00000002   2716* 3649 
__SITM_HANDRD                             EQU  00000064   2731* 3760 
__SITM_HANDWR                             EQU  00000000   2715* 3645 
__SITM_HINBAN_CNT                         EQU  000000A0   2757* 5313  5637  5643  5843  5858  6348 
__SITM_HINBAN_TOP                         EQU  00000108   2756* 5633 
__SITM_KMTTYPE                            EQU  00000070   2737* 4969 
__SITM_MCNTCNT                            EQU  00000004   2725* 4151  4155 
__SITM_MENTCNT                            EQU  00000014   2724* 4104  4106 
__SITM_OUTCNT                             EQU  00000020   2729* 3863  3901 
__SITM_OUT_TOP                            EQU  00000064   2728* 2731  2733  2734  2735  2736  2737  3760  3859  3964  3985  4006 
                                                          4016  4969 
__SITM_SYOUMO_CNT                         EQU  00000040   2754* 5997  6003  6347 
__SITM_SYOUMO_TOP                         EQU  000000C8   2753* 5993 
__SITM_TRSSTS1                            EQU  00000068   2733* 3964 
__SITM_TRSSTS2                            EQU  0000006E   2736* 4016 
__SITM_WARSTS1                            EQU  0000006C   2735* 4006 
__SIT_VER_TYP2_COD                        EQU  00005A01   2741* 4976 
__SYOUMO_SIG_OFTIMSV                      EQU  00000014   2764* 6115 
__SYOUMO_SIG_ONTIMSV                      EQU  00000014   2763* 6079 
__TM_LATE01MS                             EQU  00000001   2139*
__TM_LATE10MS                             EQU  0000000A   2140* 2744  2745  2760  2761  2763  2764  3724 
__WDT_TIM_SET_DAT                         EQU  0000000B   3724* 3756 
__WDT_UP_ERR_CNT                          EQU  00000064   3725* 3770 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/15/15 05:47:35                                                  PAGE    88

*** SECTION DATA LIST

SECTION                          ATTRIBUTE    SIZE             START

Bfram                            REL-DATA    000000000        
P                                REL-CODE    0000011F8        
Bwkram1                          REL-DATA    0000009A4        
