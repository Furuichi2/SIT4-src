*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE     1
PROGRAM NAME =

    1                               1     ;       ***************************************************
    2                               2     ;       ***                                             ***
    3                               3     ;       ***                                             ***
    4                               4     ;       ***     ET1-SOFT(設定転送,ﾄﾚﾝﾄﾞ転送,mem,dp)     ***
    5                               5     ;       ***                                             ***
    6                               6     ;       ***                                             ***
    7                               7     ;       ***************************************************
 1985                              16     
 1986                              17     ;
 1987                              18             .INCLUDE        "dp_et1.ext"            ; //
 1988                               1 I1  ;       *******************************************************************
 1989                               2 I1  ;       ***                                                             ***
 1990                               3 I1  ;       ***                                                             ***
 1991                               4 I1  ;       ***                                                             ***
 1992                               5 I1  ;       ***                                                             ***
 1993                               6 I1  ;       ***                                                             ***
 1994                               7 I1  ;       ***                                                             ***
 1995                               8 I1  ;       *******************************************************************
 1996                               9 I1  ;       このファイルはsh2またはsh4のアセンブラソースにインクルードされ
 1997                              10 I1  ;       その中で、実アドレスを割り付ける
 1998                              11 I1  ;       このではdpramのオフセットアドレスを定義する
 1999                              12 I1  ;       このファイルのextern宣言として
 2000                              13 I1  
 2001                              14 I1  
 2002                              15 I1  ;       ===========================================
 2003                              16 I1  ;       ===             ET1 SV DATA             ===
 2004                              17 I1  ;       ===========================================
 2005                              18 I1  ;       --------------------------------------------------
 2006                              19 I1          .GLOBAL         _ET_CPUB_SND_INI_ET1    ;INITAL CODE REQ
 2007                              20 I1          .GLOBAL         _ET_CPUB_RCV_INI_ET1    ;INITAL CODE ACK
 2008                              21 I1  ;;;;    .GLOBAL         _ET_CPUB_SND_REQ_ET1    ;H'12345678(req)
 2009                              22 I1  ;;;;    .GLOBAL         _ET_CPUB_RCV_ACK_ET1    ;H'87654321(ack)
 2010                              23 I1  ;       ---------------------------------------------------
 2011                              24 I1  ;;;;    .GLOBAL         _ET_CPUB_SND_REQ_ADR    ;TOPADRESS (192K+32K 256Kbyte)
 2012                              25 I1  ;;;;    .GLOBAL         _ET_CPUB_SND_REQ_CNT    ;1~128個
 2013                              26 I1  ;;;;    .GLOBAL         _ET_CPUB_SND_DAT        ;(256byte MAX)
 2014                              27 I1  ;;;;    .GLOBAL         _ET_CPUB_SND_END        ;
 2015                              28 I1  
 2016                              29 I1  ;       ===========================================
 2017                              30 I1  ;       ===             ET1 TOREND DATA         ===
 2018                              31 I1  ;       ===========================================
 2019                              32 I1  ;       --------------------------------------------------
 2020                              33 I1          .GLOBAL         _ET_CPUA_SND_INI_ET1    ;INITAL CODE REQ
 2021                              34 I1          .GLOBAL         _ET_CPUA_RCV_INI_ET1    ;INITAL CODE ACK
 2022                              35 I1          .GLOBAL         _ET_CPUA_SND_REQ_ET1    ;H'12345678(req)
 2023                              36 I1          .GLOBAL         _ET_CPUA_RCV_ACK_ET1    ;H'87654321(ack)
 2024                              37 I1  ;       ---------------------------------------------------
 2025                              38 I1          .GLOBAL         _ET_CPUA_SND_REQ_ADR    ;TOPADRESS (192K+32K 256Kbyte)
 2026                              39 I1          .GLOBAL         _ET_CPUA_SND_REQ_CNT    ;1~128個
 2027                              40 I1          .GLOBAL         _ET_CPUA_SND_DAT        ;(256byte MAX)
 2028                              41 I1          .GLOBAL         _ET_CPUA_SND_END        ;
 2029                              42 I1  
 2030                              43 I1  ;       ===========================================
 2031                              44 I1  ;       ===             ET1 loder DATA          ===
 2032                              45 I1  ;       ===========================================
 2033                              46 I1  ;       2006-12-01
 2034                              47 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE     2
PROGRAM NAME =

 2035                              48 I1          .GLOBAL         _ET_LDCMND_AREA         ;LdCmnd set area
 2036                              49 I1          .GLOBAL         _ET_LDCMND_REQ          ;LdCmnd Request Flag
 2037                              50 I1          .GLOBAL         _ET_LDCMND_RES          ;LdCmnd Response Flag
 2038                              51 I1          .GLOBAL         _ET1_VER                ;ET1 VERSION            V05
 2039                              52 I1  
 2040                              53 I1  ;       ===== HMI V05j 2007/12/07 =====
 2041                              54 I1          .GLOBAL         _ET1_IPS_ENT            ;IPｱﾄﾞﾚｽ確定
 2042                              55 I1          .GLOBAL         _ET1_IPS_ADR0           ;IPｱﾄﾞﾚｽ
 2043                              56 I1          .GLOBAL         _ET1_IPS_ADR1           ;IPｱﾄﾞﾚｽ
 2044                              57 I1          .GLOBAL         _ET1_IPS_ADR2           ;IPｱﾄﾞﾚｽ
 2045                              58 I1          .GLOBAL         _ET1_IPS_ADR3           ;IPｱﾄﾞﾚｽ
 2046                              59 I1          .GLOBAL         _ET1_SUB_NET0           ;ｻﾌﾞﾈｯﾄﾏｽｸ
 2047                              60 I1          .GLOBAL         _ET1_SUB_NET1           ;ｻﾌﾞﾈｯﾄﾏｽｸ
 2048                              61 I1          .GLOBAL         _ET1_SUB_NET2           ;ｻﾌﾞﾈｯﾄﾏｽｸ
 2049                              62 I1          .GLOBAL         _ET1_SUB_NET3           ;ｻﾌﾞﾈｯﾄﾏｽｸ
 2050                              63 I1          .GLOBAL         _ET1_DEF_GAT0           ;ﾃﾞﾌｫﾙﾄｹﾞｰﾄｳｪｲ
 2051                              64 I1          .GLOBAL         _ET1_DEF_GAT1           ;ﾃﾞﾌｫﾙﾄｹﾞｰﾄｳｪｲ
 2052                              65 I1          .GLOBAL         _ET1_DEF_GAT2           ;ﾃﾞﾌｫﾙﾄｹﾞｰﾄｳｪｲ
 2053                              66 I1          .GLOBAL         _ET1_DEF_GAT3           ;ﾃﾞﾌｫﾙﾄｹﾞｰﾄｳｪｲ
 2054                              67 I1          .GLOBAL         _ET1_IPM_ADR0           ;IPｱﾄﾞﾚｽ(ﾓﾆﾀ)
 2055                              68 I1          .GLOBAL         _ET1_IPM_ADR1           ;IPｱﾄﾞﾚｽ(ﾓﾆﾀ)
 2056                              69 I1          .GLOBAL         _ET1_IPM_ADR2           ;IPｱﾄﾞﾚｽ(ﾓﾆﾀ)
 2057                              70 I1          .GLOBAL         _ET1_IPM_ADR3           ;IPｱﾄﾞﾚｽ(ﾓﾆﾀ)
 2058                              71 I1  
 2059                              72 I1  ;       ===========================================
 2060                              73 I1  ;       ===     ET1==>CPUA(読出 32BYTE) ｽﾃｰﾀｽRD ===
 2061                              74 I1  ;       ===     2008-10-20                      ===
 2062                              75 I1  ;       ===========================================
 2063                              76 I1          .GLOBAL         _ET_CPUA_RD_REQ         ;CPUA-->ET1 READ REQ
 2064                              77 I1          .GLOBAL         _ET_CPUA_RD_ACK         ;ET1-->CPUA data SET ACK
 2065                              78 I1          .GLOBAL         _ET_CPUA_RD_CNT         ;読出個数
 2066                              79 I1          .GLOBAL         _ET_CPUA_RD_ADR         ;読出ｱﾄﾞﾚｽ
 2067                              80 I1          .GLOBAL         _ET_CPUA_RD_BUF         ;32byte(16w)
 2068                              81 I1  ;       ===========================================
 2069                              82 I1  ;       ===     CPUA==>書込2(32byte)    ｽﾃｰﾀｽWR ===
 2070                              83 I1  ;       ===     2008-10-20                      ===
 2071                              84 I1  ;       ===========================================
 2072                              85 I1          .GLOBAL         _ET_CPUA_WR2_ADR        ;STS WR LINE
 2073                              86 I1          .GLOBAL         _ET_CPUA_WR2_BUF        ;32byte(16w)
 2074                              87 I1          .GLOBAL         _ET_CPUA_WR2_REQ        ;
 2075                              88 I1          .GLOBAL         _ET_CPUA_WR2_ACK        ;
 2076                              89 I1          .GLOBAL         _ET_CPUA_WR2_CNT        ;
 2077                              90 I1  
 2078                              91 I1  
 2079                              92 I1  ;;;     ===========================================
 2080                              93 I1  ;;;     ===     2009-06-19 komtrax(ET2)対応     ===
 2081                              94 I1  ;;;     ===========================================
 2082                              95 I1  ;;;     .GLOBAL         _ET2_SEQ_IDT01          ;FA2,3 seq-->et2
 2083                              96 I1  ;;;     .GLOBAL         _ET2_SEQ_IDT02          ;FA4,5 seq-->et2
 2084                              97 I1  ;;;     .GLOBAL         _ET2_SEQ_QDT01          ;FA6,7 et2-->seq
 2085                              98 I1  ;;;     .GLOBAL         _ET2_SEQ_QDT02          ;FA8,9 et2-->seq
 2086                              99 I1  ;;;;    ============== 使用付加(2009-06-19)　後はﾊﾞﾝｸだけ============
 2087                             100 I1  ;       ===========================================
 2088                             101 I1  ;       ===     2009-07-24 komtrax(ET2)対応     ===
 2089                             102 I1  ;       ===========================================
 2090                             103 I1  ;       ------------(KOMTRAX空間に対して SIT_MEM)
 2091                             104 I1          .GLOBAL         _ET2_SITM_ADR           ;FA2,3 SIT4->ET1  R/W ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE     3
PROGRAM NAME =

 2092                             105 I1          .GLOBAL         _ET2_SITM_REQ           ;FA4   SIT4->ET1  HND=BIT7 R/W=BIT6(BIT5~B
                                          IT0は空間)
 2093                             106 I1          .GLOBAL         _ET2_SITM_ACK           ;FA5   SIT4<-ET1
 2094                             107 I1          .GLOBAL         _ET2_SITM_WRDT          ;FA6,7 SIT4->ET1  WR data
 2095                             108 I1          .GLOBAL         _ET2_SITM_RDDT          ;FA8,9(SIT4<-ET1) RD data
 2096                             109 I1          .GLOBAL         _ET2_SEQ_IDT01          ;FAA,B seq(SQ149)-->et2
 2097                             110 I1          .GLOBAL         _ET2_SEQ_QDT01          ;FAC,D et2-->seq(SQ86)
 2098                             111 I1  ;;;;    ============== 使用不可(2009-07-24)　後はﾊﾞﾝｸだけ============
 2099                             112 I1  
 2100                             113 I1  
 2101                              19             .import         _MEM_ARI                        ;1BYTE(H'840 statu "A5")
 2102                              20             .import         _MEM_BNK_ADR1                   ;1BYTE(H'900 d0=0/d0=1 bank)
 2103                              21     
 2104                              22     
 2105                              23     
 2106                              24     
 2107                              25     ;;_ET2_DEBUG_TRG        .DEFINE         "1"             ; ﾃﾞﾊﾞｯｸ
 2108                              26     _ET2_DEBUG_TRG  .DEFINE         "0"             ;出荷
 2109                              27     
 2110                              28     
 2111                              29     
 2112                              30     ;       ===========================================
 2113                              31     ;       ===             ET1 TOREND DATA         ===
 2114                              32     ;       ===========================================
 2115                              33             .IMPORT         _CPUA_SND_INI_ET1       ;INITAL CODE REQ
 2116                              34             .IMPORT         _CPUA_RCV_INI_ET1       ;INITAL CODE ACK
 2117                              35             .IMPORT         _CPUA_SND_REQ_ET1       ;H'12345678(req)
 2118                              36             .IMPORT         _CPUA_RCV_ACK_ET1       ;H'87654321(ack)
 2119                              37             .IMPORT         _CPUA_SND_REQ_ADR       ;TOPADRESS (192K+32K 256Kbyte)
 2120                              38             .IMPORT         _CPUA_SND_REQ_CNT       ;1~128個
 2121                              39             .IMPORT         _CPUA_SND_DAT           ;(256byte MAX)
 2122                              40             .IMPORT         _CPUA_SND_END           ;
 2123                              41     
 2124                              42     
 2125                              43             .EXPORT _ET1_CPU_MAIN_MOV
 2126                              44             .EXPORT _ET1_CPU_HIGH_MOV
 2127                              45     
 2128                              46     ;       --------KOMTRAXのためのEXTERN
 2129                              47             .IMPORT         _SEQ_024_SV             ;DPRAM(島村参照使用設定)2009-*-*   24.6
 2130                              48             .IMPORT         _SEQ_DP_TOP             ;高速アクセス用
 2131                              49     
 2132                              50     ;       ------2011-01-14 処理軽減のため10msec作成---
 2133          00000001            51     __TM_LATE01MS   .EQU    1               ;
 2134          0000000A            52     __TM_LATE10MS   .EQU    10              ;
 2135                              53     
 2136                              54     ;       ***************************************************
 2137                              55     ;       ***                                             ***
 2138                              56     ;       ***                                             ***
 2139                              57     ;       ***     ET1-SOFT(設定転送,ﾄﾚﾝﾄﾞ転送)            ***
 2140                              58     ;       ***     (high:TREND)                            ***
 2141                              59     ;       ***                                             ***
 2142                              60     ;       ***                                             ***
 2143                              61     ;       ***************************************************
 2144 00000000                     62             .SECTION        Bfram, DATA                     ; B4007000H
 2145 00000000                     63             .SECTION        P,CODE                  ;
 2146 00000000                     64             .ALIGN  4                                       ;
 2147 00000000                     65     _ET1_CPU_HIGH_MOV
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE     4
PROGRAM NAME =

 2148                              66             SUB_START
 2149 00000000 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2150                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2151 00000002 D10A                67             MOV.L   #_ET1_INITAL_FLG,R1                     ;
 2152 00000004 6011                68             MOV.W   @R1,R0                                  ;
 2153 00000006 C840                69             TST     #BIT6,R0                                ;
 2154                              70             TST_BIT_OF ET1_CPU_HIGHMV_END                   ;
 2155 00000008 890C                   M           BT      ET1_CPU_HIGHMV_END
 2156                              71     
 2157                              72     ;       ---------- ET1/CPUA ﾃﾞｰﾀ転送--------------
 2158                              73             FAR_JSR #_ET1_CPUA_DT_MOVE,R0
 2159 0000000A D009                   M           MOV.L   #_ET1_CPUA_DT_MOVE,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2160 0000000C 400B                   M           JSR     @R0                     ;
 2161 0000000E 0009                   M           NOP                                     ;
 2162                              74     
 2163 00000010 D108                75             MOV.L   #_SEQ_024_SV,R1                 ;
 2164 00000012 6011                76             MOV.W   @R1,R0                          ;
 2165 00000014 C840                77             TST     #BIT6,R0                        ;24.6(仕様設定135)
 2166                              78             TST_BIT_OF ET1_CPU_HIGHMV_END           ;
 2167 00000016 8905                   M           BT      ET1_CPU_HIGHMV_END
 2168                              79     
 2169                              80     ;       ---------- 2009-07-27(KOMTRAX)-----------------
 2170                              81     ;       ---------- ｼｰｹﾝｽ出力(CPUB-->SEQ)---------------
 2171                              82     ;       ---------- ｼｰｹﾝｽﾚﾌﾚｯｼｭ (KOMTRAX-->CPUB-->SEQ)--
 2172                              83     ;       ---------- ｼｰｹﾝｽﾚﾌﾚｯｼｭ (KOMTRAX<--CPUB--SEQ)---
 2173                              84     ;       ---------- ｲﾍﾞﾝﾄﾒｯｾｰｼﾞ転送---------------------
 2174                              85     
 2175                              86             FAR_JSR #_KOMTRAX_DATA_CTRL,R0
 2176 00000018 D007                   M           MOV.L   #_KOMTRAX_DATA_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2177 0000001A 400B                   M           JSR     @R0                     ;
 2178 0000001C 0009                   M           NOP                                     ;
 2179                              87     
 2180                              88     
 2181                              89             FAR_JSR #_KOMTRAX_TIMCNT,R0             ;1mSEC
 2182 0000001E D007                   M           MOV.L   #_KOMTRAX_TIMCNT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2183 00000020 400B                   M           JSR     @R0                     ;
 2184 00000022 0009                   M           NOP                                     ;
 2185                              90     
 2186 00000024                     91     ET1_CPU_HIGHMV_END
 2187                              92             SUB_END
 2188                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2189 00000024 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2190                              93             M_RTS
 2191 00000026 000B                   M           RTS                             ;RTSの後ろの
 2192 00000028 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2193                              94     
 2194                              95     ;       ***************************************************
 2195                              96     ;       ***                                             ***
 2196                              97     ;       ***                                             ***
 2197                              98     ;       ***     ET1-SOFT(設定転送,ﾄﾚﾝﾄﾞ転送)            ***
 2198                              99     ;       ***     (MAIN:SV)                               ***
 2199                             100     ;       ***                                             ***
 2200                             101     ;       ***************************************************
 2201                                     ***** BEGIN-POOL *****
 2202 0000002A 0000                       ALIGNMENT CODE
 2203 0000002C 00000000                   DATA FOR SOURCE-LINE 67
 2204 00000030 00000000                   DATA FOR SOURCE-LINE 73
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE     5
PROGRAM NAME =

 2205 00000034 00000000                   DATA FOR SOURCE-LINE 75
 2206 00000038 00000000                   DATA FOR SOURCE-LINE 86
 2207 0000003C 00000000                   DATA FOR SOURCE-LINE 89
 2208                                     ***** END-POOL *****
 2209 00000040                    102     _ET1_CPU_MAIN_MOV
 2210                             103             SUB_START
 2211 00000040 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2212                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2213                             104     
 2214 00000042 D104               105             MOV.L   #_ET1_INITAL_FLG,R1                     ;
 2215 00000044 6011               106             MOV.W   @R1,R0                                  ;
 2216 00000046 C840               107             TST     #BIT6,R0                                ;
 2217                             108             TST_BIT_ON ET1_CPU_MNMV_100                     ;
 2218 00000048 8B08                   M           BF      ET1_CPU_MNMV_100
 2219                             109             FAR_JSR #_ET1_INITAL_CHK,R0                     ;
 2220 0000004A D003                   M           MOV.L   #_ET1_INITAL_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2221 0000004C 400B                   M           JSR     @R0                     ;
 2222 0000004E 0009                   M           NOP                                     ;
 2223                             110     
 2224                             111             M_BRA   ET1_CPU_MNMV_END                        ;
 2225 00000050 A04E                   M           BRA     ET1_CPU_MNMV_END
 2226 00000052 0009                   M           NOP
 2227                                     ***** BEGIN-POOL *****
 2228 00000054 00000000                   DATA FOR SOURCE-LINE 105
 2229 00000058 00000000                   DATA FOR SOURCE-LINE 109
 2230                                     ***** END-POOL *****
 2231 0000005C                    112     ET1_CPU_MNMV_100:
 2232                             113             FAR_JSR #_ET1_INIEND_MOVE,R0                    ;
 2233 0000005C D008                   M           MOV.L   #_ET1_INIEND_MOVE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2234 0000005E 400B                   M           JSR     @R0                     ;
 2235 00000060 0009                   M           NOP                                     ;
 2236                             114     
 2237 00000062 D108               115             MOV.L   #_SEQ_024_SV,R1                 ;
 2238 00000064 6011               116             MOV.W   @R1,R0                          ;
 2239 00000066 C840               117             TST     #BIT6,R0                        ;24.6(仕様設定135)
 2240                             118             TST_BIT_OF ET1_CPU_MNMV_END             ;komtrax無効 then jump
 2241 00000068 8942                   M           BT      ET1_CPU_MNMV_END
 2242                             119     
 2243 0000006A D507               120             MOV.L   #_KMT_DLYSCAN_TIM,R5            ;
 2244 0000006C 6051               121             MOV.W   @R5,R0                          ;
 2245 0000006E 9405               122             MOV.W   #D'10,R4                        ;
 2246 00000070 3042               123             CMP/HS  R4,R0                           ;
 2247 00000072 890B               124             BT      ET1_CPU_MNMV_200                ;10 < R0
 2248 00000074 7001               125             ADD     #1,R0                           ;
 2249 00000076 2501               126             MOV.W   R0,@R5                          ;
 2250                             127             M_BRA   ET1_CPU_MNMV_END                ;10SCANは何もしない(ﾒｲﾝのｲﾆｼｬﾙ処理のため)
 2251 00000078 A03A                   M           BRA     ET1_CPU_MNMV_END
 2252 0000007A 0009                   M           NOP
 2253                             128     
 2254                                     ***** BEGIN-POOL *****
 2255 0000007C 000A                       DATA FOR SOURCE-LINE 122
 2256 0000007E 0000                       ALIGNMENT CODE
 2257 00000080 00000000                   DATA FOR SOURCE-LINE 113
 2258 00000084 00000000                   DATA FOR SOURCE-LINE 115
 2259 00000088 00000000                   DATA FOR SOURCE-LINE 120
 2260                                     ***** END-POOL *****
 2261 0000008C                    129     ET1_CPU_MNMV_200:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE     6
PROGRAM NAME =

 2262                             130             FAR_JSR #_KOMTRAX_EVENT_MAIN,R0         ;WR 8CHAR * 6　異常ｲﾍﾞﾝﾄの変更あり・なし
 2263 0000008C D00D                   M           MOV.L   #_KOMTRAX_EVENT_MAIN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2264 0000008E 400B                   M           JSR     @R0                     ;
 2265 00000090 0009                   M           NOP                                     ;
 2266                             131     
 2267                             132             FAR_JSR #_KOMTRAX_HAND_WRITE,R0         ;WDTなど書き込み要求
 2268 00000092 D00D                   M           MOV.L   #_KOMTRAX_HAND_WRITE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2269 00000094 400B                   M           JSR     @R0                     ;
 2270 00000096 0009                   M           NOP                                     ;
 2271                             133     
 2272                             134             FAR_JSR #_KOMTRAX_STATUS_READ,R0        ;WDTのｱﾝｻｰﾊﾞｯｸなどのｽﾃｰﾀｽ読み出し要求
 2273 00000098 D00C                   M           MOV.L   #_KOMTRAX_STATUS_READ,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2274 0000009A 400B                   M           JSR     @R0                     ;
 2275 0000009C 0009                   M           NOP                                     ;
 2276                             135     
 2277                             136             FAR_JSR #_KOMTRAX_STAUS_MAKE,R0         ;
 2278 0000009E D00C                   M           MOV.L   #_KOMTRAX_STAUS_MAKE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2279 000000A0 400B                   M           JSR     @R0                     ;
 2280 000000A2 0009                   M           NOP                                     ;
 2281                             137     
 2282                             138             FAR_JSR #_KOMTRAX_PVDAT_MAKE,R0         ;
 2283 000000A4 D00B                   M           MOV.L   #_KOMTRAX_PVDAT_MAKE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2284 000000A6 400B                   M           JSR     @R0                     ;
 2285 000000A8 0009                   M           NOP                                     ;
 2286                             139     
 2287                             140             FAR_JSR #_KOMTRAX_PVDAT_WRITE,R0        ;実測転送要求
 2288 000000AA D00B                   M           MOV.L   #_KOMTRAX_PVDAT_WRITE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2289 000000AC 400B                   M           JSR     @R0                     ;
 2290 000000AE 0009                   M           NOP                                     ;
 2291                             141     
 2292                             142     
 2293                             143     ;       --------- 2011-01-14 TYP011型判定-----------
 2294 000000B0 D10A               144             MOV.L   #_KMT_TYP_011,R1                ;
 2295 000000B2 6011               145             MOV.W   @R1,R0                          ;
 2296 000000B4 8801               146             CMP/EQ  #1,R0                           ;
 2297 000000B6 8915               147             BT      ET1_CPU_MNMV_500                ;TYPE011機能有効? YES JUMP
 2298                             148     
 2299                             149             FAR_JSR #_KMT_TYPE_011_CHK,R0
 2300 000000B8 D009                   M           MOV.L   #_KMT_TYPE_011_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2301 000000BA 400B                   M           JSR     @R0                     ;
 2302 000000BC 0009                   M           NOP                                     ;
 2303                             150             M_BRA   ET1_CPU_MNMV_END
 2304 000000BE A017                   M           BRA     ET1_CPU_MNMV_END
 2305 000000C0 0009                   M           NOP
 2306                             151     
 2307                                     ***** BEGIN-POOL *****
 2308 000000C2 0000                       ALIGNMENT CODE
 2309 000000C4 00000000                   DATA FOR SOURCE-LINE 130
 2310 000000C8 00000000                   DATA FOR SOURCE-LINE 132
 2311 000000CC 00000000                   DATA FOR SOURCE-LINE 134
 2312 000000D0 00000000                   DATA FOR SOURCE-LINE 136
 2313 000000D4 00000000                   DATA FOR SOURCE-LINE 138
 2314 000000D8 00000000                   DATA FOR SOURCE-LINE 140
 2315 000000DC 00000000                   DATA FOR SOURCE-LINE 144
 2316 000000E0 00000000                   DATA FOR SOURCE-LINE 149
 2317                                     ***** END-POOL *****
 2318 000000E4                    152     ET1_CPU_MNMV_500:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE     7
PROGRAM NAME =

 2319                             153     
 2320                             154     
 2321                             155             FAR_JSR #_KOMTRAX_HINBAN_MAIN,R0                ;
 2322 000000E4 D004                   M           MOV.L   #_KOMTRAX_HINBAN_MAIN,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2323 000000E6 400B                   M           JSR     @R0                     ;
 2324 000000E8 0009                   M           NOP                                     ;
 2325                             156     
 2326                             157             FAR_JSR #_KOMTRAX_SYOUMO_MAIN,R0                ;
 2327 000000EA D004                   M           MOV.L   #_KOMTRAX_SYOUMO_MAIN,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2328 000000EC 400B                   M           JSR     @R0                     ;
 2329 000000EE 0009                   M           NOP                                     ;
 2330                             158     
 2331                             159     
 2332 000000F0                    160     ET1_CPU_MNMV_END:
 2333                             161     
 2334                             162     
 2335                             163             SUB_END
 2336                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2337 000000F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2338                             164             M_RTS
 2339 000000F2 000B                   M           RTS                             ;RTSの後ろの
 2340 000000F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2341                             165     
 2342                             166     
 2343                             167     ;       ***************************************************
 2344                             168     ;       ***                                             ***
 2345                             169     ;       ***                                             ***
 2346                             170     ;       ***     INITAL                                  ***
 2347                             171     ;       ***     (MAIN)                                  ***
 2348                             172     ;       ***                                             ***
 2349                             173     ;       ***************************************************
 2350                                     ***** BEGIN-POOL *****
 2351 000000F6 0000                       ALIGNMENT CODE
 2352 000000F8 00000000                   DATA FOR SOURCE-LINE 155
 2353 000000FC 00000000                   DATA FOR SOURCE-LINE 157
 2354                                     ***** END-POOL *****
 2355 00000100                    174     _ET1_INITAL_CHK:
 2356                             175             SUB_START
 2357 00000100 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2358                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2359 00000102 D10A               176             MOV.L   #_ET1_INITAL_FLG,R1             ;
 2360 00000104 6011               177             MOV.W   @R1,R0                          ;
 2361 00000106 C840               178             TST     #BIT6,R0                        ;
 2362                             179             TST_BIT_ON ET1_INIT_CHK_END             ;
 2363 00000108 8B0D                   M           BF      ET1_INIT_CHK_END
 2364                             180     ;;;;;[mc]       MOV.L   #_MEM_ARI,R1                    ;
 2365                             181     ;;;;;[mc]       MOV.B   @R1,R0                          ;
 2366                             182     ;;;;;[mc]       EXTU.B  R0,R0                           ;
 2367                             183     ;;;;;[mc]       MOV.W   #H'00A5,R1                      ;
 2368                             184     ;;;;;[mc]       .AIF    0       EQ 1                    ;@
 2369                             185     ;;;;;[mc]       MOV.W   #H'00A5,R0                                      ;@カード有りに見せ
                                          る
 2370                             186     ;;;;;[mc]       .AENDI                                                  ;@
 2371                             187     ;;;;;[mc]       CMP/EQ  R1,R0                                           ;
 2372                             188     ;;;;;[mc]       BF      ET1_INIT_CHK_END                                ;未接続
 2373                             189     ;;;;;[mc]
 2374                             190     ;;;;;[mc]       FAR_JSR #_ET1_BANK_SEL0_OUT,R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE     8
PROGRAM NAME =

 2375                             191     ;;;;;[mc]
 2376                             192     
 2377 0000010A D109               193             MOV.L   #_ET_CPUB_RCV_INI_ET1,R1                        ;
 2378 0000010C 6012               194             MOV.L   @R1,R0                                          ;
 2379 0000010E D409               195             MOV.L   #_ET1_INIT_ACK,R4                               ;
 2380 00000110 3040               196             CMP/EQ  R4,R0                                           ;
 2381 00000112 8B08               197             BF      ET1_INIT_CHK_END                                ;未完了
 2382                             198     
 2383 00000114 D108               199             MOV.L   #_ET_CPUA_RCV_INI_ET1,R1                ;
 2384 00000116 6012               200             MOV.L   @R1,R0                                  ;
 2385                             201     
 2386                             202     ;;;;;[mc]       .AIF    0       EQ 1                    ;@
 2387                             203     ;;;;;[mc]       MOV.L   #_ET1_INIT_ACK,R0                               ;@INITAL ENDに見せ
                                          る
 2388                             204     ;;;;;[mc]       .AENDI                                                  ;@
 2389                             205     
 2390 00000118 D406               206             MOV.L   #_ET1_INIT_ACK,R4                       ;
 2391 0000011A 3040               207             CMP/EQ  R4,R0                                   ;
 2392 0000011C 8B03               208             BF      ET1_INIT_CHK_END                        ;未完了
 2393                             209     
 2394                             210             MEM1_BIT0_TO_BIT7_ORSET MEM=_ET1_INITAL_FLG,LG=W,BIT=BIT6,WKREG=R1      ;bit-set
 2395 0000011E D103                   M           MOV.L   #_ET1_INITAL_FLG,R1             ;
 2396 00000120 6011                   M           MOV.W   @R1,R0          ;
 2397 00000122 CB40                   M           OR      #BIT6,R0                ;
 2398 00000124 2101                   M           MOV.W   R0,@R1          ;
 2399                             211     
 2400 00000126                    212     ET1_INIT_CHK_END:
 2401                             213             SUB_END
 2402                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2403 00000126 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2404                             214             M_RTS
 2405 00000128 000B                   M           RTS                             ;RTSの後ろの
 2406 0000012A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2407                             215     
 2408                             216     ;       ***********************************
 2409                             217     ;       ***                             ***
 2410                             218     ;       ***     INITAL-CODE             ***
 2411                             219     ;       ***                             ***
 2412                             220     ;       ***********************************
 2413                                     ***** BEGIN-POOL *****
 2414 0000012C 00000000                   DATA FOR SOURCE-LINE 176,210
 2415 00000130 00000000                   DATA FOR SOURCE-LINE 193
 2416 00000134 56789ABC                   DATA FOR SOURCE-LINE 195,206
 2417 00000138 00000000                   DATA FOR SOURCE-LINE 199
 2418                                     ***** END-POOL *****
 2419 0000013C                    221     _ET1_INIEND_MOVE:
 2420                             222             SUB_START
 2421 0000013C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2422                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2423                             223     ;;;;;[mc]       FAR_JSR #_ET1_BANK_SEL0_OUT,R1  ;
 2424                             224     
 2425 0000013E D007               225             MOV.L   #_ET1_INIT_REQ,R0
 2426                             226             REG_MOV_TO_MEM  DST_ADR=_ET_CPUB_SND_INI_ET1,L1=L,DT_REG=R0,WKREG1=R1
 2427 00000140 D107                   M           MOV.L   #_ET_CPUB_SND_INI_ET1,R1        ;DST_ADR
 2428 00000142 2102                   M           MOV.L   R0,@R1  ;DST_ADR
 2429                             227     
 2430                             228     ;       ==== CPUA<=>ET1 ====
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE     9
PROGRAM NAME =

 2431                             229             MEM_MOV_TO_MEM  SRC_ADR=_CPUA_SND_INI_ET1,L1=L,DST_ADR=_ET_CPUA_SND_INI_ET1,L2=L,W
                                          KREG1=R1,WKREG2=R2,WKREG3=R3
 2432 00000144 D107                   M           MOV.L   #_CPUA_SND_INI_ET1,R1
 2433 00000146 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2434 00000148 D307                   M           MOV.L   #_ET_CPUA_SND_INI_ET1,R3        ;DST_ADR
 2435 0000014A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2436                             230             MEM_MOV_TO_MEM  SRC_ADR=_ET_CPUA_RCV_INI_ET1,L1=L,DST_ADR=_CPUA_RCV_INI_ET1,L2=L,W
                                          KREG1=R1,WKREG2=R2,WKREG3=R3
 2437 0000014C D107                   M           MOV.L   #_ET_CPUA_RCV_INI_ET1,R1
 2438 0000014E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2439 00000150 D307                   M           MOV.L   #_CPUA_RCV_INI_ET1,R3   ;DST_ADR
 2440 00000152 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2441                             231     
 2442                             232             SUB_END
 2443                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2444 00000154 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2445                             233             M_RTS
 2446 00000156 000B                   M           RTS                             ;RTSの後ろの
 2447 00000158 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2448                             234     
 2449                             235     ;       ***********************************
 2450                             236     ;       ***                             ***
 2451                             237     ;       ***     Input R2                ***
 2452                             238     ;       ***                             ***
 2453                             239     ;       ***********************************
 2454                             240     ;;;;;[mc]_ET1_BANK_SEL0_OUT:
 2455                             241     ;;;;;[mc]       SUB_START
 2456                             242     ;;;;;[mc]
 2457                             243     ;;;;;[mc]       XOR     R2,R2
 2458                             244     ;;;;;[mc]       MOV.L   #_ET1_BANK_SEL,R1                       ;
 2459                             245     ;;;;;[mc]       MOV.W   R2,@R1                                  ;
 2460                             246     ;;;;;[mc]
 2461                             247     ;;;;;[mc]       MOV.L   #_MEM_BNK_ADR1,R1               ;1BYTE(H'900 d0=0/d0=1 bank)
 2462                             248     ;;;;;[mc]       MOV.B   R2,@R1                          ;BANK OUT
 2463                             249     ;;;;;[mc]
 2464                             250     ;;;;;[mc]       SUB_END
 2465                             251     ;;;;;[mc]       M_RTS
 2466                             252     
 2467                             253     ;       ***********************************
 2468                             254     ;       ***                             ***
 2469                             255     ;       ***     CPUA-->ET1              ***
 2470                             256     ;       ***             DATA,TRIG       ***
 2471                             257     ;       ***     ET1-->CPUA              ***
 2472                             258     ;       ***                             ***
 2473                             259     ;       ***********************************
 2474                                     ***** BEGIN-POOL *****
 2475 0000015A 0000                       ALIGNMENT CODE
 2476 0000015C 12345678                   DATA FOR SOURCE-LINE 225
 2477 00000160 00000000                   DATA FOR SOURCE-LINE 226
 2478 00000164 00000000                   DATA FOR SOURCE-LINE 229
 2479 00000168 00000000                   DATA FOR SOURCE-LINE 229
 2480 0000016C 00000000                   DATA FOR SOURCE-LINE 230
 2481 00000170 00000000                   DATA FOR SOURCE-LINE 230
 2482                                     ***** END-POOL *****
 2483 00000174                    260     _ET1_CPUA_DT_MOVE:
 2484                             261             SUB_START
 2485 00000174 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    10
PROGRAM NAME =

 2486                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2487                             262     
 2488 00000176 D10A               263             MOV.L   #_CPUA_SND_REQ_ET1,R1           ;
 2489 00000178 6212               264             MOV.L   @R1,R2                          ;
 2490 0000017A D10A               265             MOV.L   #_CPUA_REQ_OLD,R1               ;
 2491 0000017C 6012               266             MOV.L   @R1,R0                          ;
 2492 0000017E 2122               267             MOV.L   R2,@R1                          ;
 2493 00000180 202A               268             XOR     R2,R0                           ;
 2494 00000182 2008               269             TST     R0,R0                           ;
 2495                             270             TST_BIT_OF ET1_CPUA_DT_MV100            ;ﾄﾘｶﾞ変化なし
 2496 00000184 8920                   M           BT      ET1_CPUA_DT_MV100
 2497                             271     
 2498                             272      MEM_WORD_BLOCK_MOV1 SRC_ADR=_CPUA_SND_DAT,DST_ADR=_ET_CPUA_SND_DAT,CNT_DAT=_ET1_CPUAB_BUF
                                          _MAX/2,DT_REG=R2,CNT_REG=R3
 2499 00000186 DA08                   M           MOV.L   #_CPUA_SND_DAT,R10                      ;
 2500 00000188 DB08                   M           MOV.L   #_ET_CPUA_SND_DAT,R11                   ;
 2501 0000018A 9307                   M           MOV.W   #_ET1_CPUAB_BUF_MAX/2,R3                ;
 2502                                 M           BLOCK_MOV1      W,2,R10,R11,R2,R3
 2503 0000018C                        M   JMP000000:                                      ;
 2504 0000018C 2338                   M           TST     R3,R3   ;
 2505                                 M           TST_BIT_OF JMP100000            ;
 2506 0000018E 890F                   M           BT      JMP100000
 2507 00000190 62A5                   M           MOV.W   @R10+,R2        ;
 2508 00000192 2B21                   M           MOV.W   R2,@R11 ;
 2509 00000194 7B02                   M           ADD     #2,R11  ;
 2510 00000196 73FF                   M           ADD     #H'FF,R3                ;
 2511                                 M           M_BRA   JMP000000                       ;
 2512 00000198 AFF8                   M           BRA     JMP000000
 2513 0000019A 0009                   M           NOP
 2514                                 M   ***** BEGIN-POOL *****
 2515 0000019C 0080                   M   DATA FOR SOURCE-LINE 272
 2516 0000019E 0000                   M   ALIGNMENT CODE
 2517 000001A0 00000000               M   DATA FOR SOURCE-LINE 263
 2518 000001A4 00000000               M   DATA FOR SOURCE-LINE 265
 2519 000001A8 00000000               M   DATA FOR SOURCE-LINE 272
 2520 000001AC 00000000               M   DATA FOR SOURCE-LINE 272
 2521                                 M   ***** END-POOL *****
 2522 000001B0                        M   JMP100000:                                      ;
 2523                             273      MEM_MOV_TO_MEM SRC_ADR=_CPUA_SND_REQ_CNT,L1=L,DST_ADR=_ET_CPUA_SND_REQ_CNT,L2=L,WKREG1=R1
                                          ,WKREG2=R2,WKREG3=R3
 2524 000001B0 D109                   M           MOV.L   #_CPUA_SND_REQ_CNT,R1
 2525 000001B2 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2526 000001B4 D309                   M           MOV.L   #_ET_CPUA_SND_REQ_CNT,R3        ;DST_ADR
 2527 000001B6 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2528                             274     
 2529                             275     
 2530                             276     ;;;;_ET1_CPUAB_BUF_MAX=256
 2531                             277     ;;;     MOV.L   #_CPUA_SND_DAT,R10                      ;SRC_TOP
 2532                             278     ;;;     MOV.L   #_ET_CPUA_SND_DAT,R11                   ;DST_TOP
 2533                             279     ;;;     MOV.L   #_CPUA_SND_REQ_CNT,R1                   ;CNT
 2534                             280     ;;;     MOV.W   @R1,R3                                  ;
 2535                             281     ;;;     PUSH_REG1 R3                                    ;
 2536                             282     ;;;     SHLR    R3                                      ;1/2
 2537                             283     ;;;     BLOCK_MOV1      W,2,R10,R11,R2,R3               ;
 2538                             284     ;;;     POP_REG1 R3
 2539                             285     ;;;     MOV.L   #_ET_CPUA_SND_REQ_CNT,R1                ;
 2540                             286     ;;      MOV.W   R3,@R1                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    11
PROGRAM NAME =

 2541                             287     
 2542                             288      MEM_MOV_TO_MEM SRC_ADR=_CPUA_SND_REQ_ADR,L1=L,DST_ADR=_ET_CPUA_SND_REQ_ADR,L2=L,WKREG1=R1
                                          ,WKREG2=R2,WKREG3=R3
 2543 000001B8 D109                   M           MOV.L   #_CPUA_SND_REQ_ADR,R1
 2544 000001BA 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2545 000001BC D309                   M           MOV.L   #_ET_CPUA_SND_REQ_ADR,R3        ;DST_ADR
 2546 000001BE 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2547                             289     
 2548                             290     ;;;-2014-09-30不具合の元?
 2549                             291     ;;;     MEM_MOV_TO_MEM  SRC_ADR=_CPUA_SND_REQ_ET1,L1=L,DST_ADR=_ET_CPUA_SND_REQ_ET1,L2=L,W
                                          KREG1=R1,WKREG2=R2,WKREG3=R3
 2550                             292             MEM_MOV_TO_MEM  SRC_ADR=_CPUA_REQ_OLD,L1=L,DST_ADR=_ET_CPUA_SND_REQ_ET1,L2=L,WKREG
                                          1=R1,WKREG2=R2,WKREG3=R3
 2551 000001C0 D109                   M           MOV.L   #_CPUA_REQ_OLD,R1
 2552 000001C2 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2553 000001C4 D309                   M           MOV.L   #_ET_CPUA_SND_REQ_ET1,R3        ;DST_ADR
 2554 000001C6 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2555                             293     
 2556                             294     
 2557                             295     
 2558                             296     
 2559                             297     
 2560 000001C8                    298     ET1_CPUA_DT_MV100:
 2561                             299     
 2562                             300     ;       ------------- ET1 --> CPUA ---------------
 2563                             301      MEM_MOV_TO_MEM SRC_ADR=_ET_CPUA_RCV_ACK_ET1,L1=L,DST_ADR=_CPUA_RCV_ACK_ET1,L2=L,WKREG1=R1
                                          ,WKREG2=R2,WKREG3=R3
 2564 000001C8 D109                   M           MOV.L   #_ET_CPUA_RCV_ACK_ET1,R1
 2565 000001CA 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
 2566 000001CC D309                   M           MOV.L   #_CPUA_RCV_ACK_ET1,R3   ;DST_ADR
 2567 000001CE 2322                   M           MOV.L   R2,@R3  ;DST_ADR
 2568                             302     
 2569                             303             SUB_END
 2570                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2571 000001D0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2572                             304             M_RTS
 2573 000001D2 000B                   M           RTS                             ;RTSの後ろの
 2574 000001D4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2575                             305     
 2576                             306     
 2577                             307     ;       ***********************************
 2578                             308     ;       ***                             ***
 2579                             309     ;       ***     CPUB-->ET1              ***
 2580                             310     ;       ***             DATA,TRIG       ***
 2581                             311     ;       ***                             ***
 2582                             312     ;       ***********************************
 2583                             313     ;       128byte単位で7FFFまで転送する
 2584                             314     ;;;;;;;;;2006-12-01     _CPUB_ET1_BLK           .EQU    128             ;128byte()
 2585                             315     ;;;;;;;;;2006-12-01     _CPUB_ET1_ADRMAX        .EQU    H'7000          ;0~6FFF
 2586                             316     
 2587                             317     ;;;;;;;;;2006-12-01     _ET1_SV_DATA_SEND:
 2588                             318     ;;;;;;;;;2006-12-01             SUB_START
 2589                             319     ;;;;;;;;;2006-12-01             MOV.L   #_CPU_REQ_DAT_FLG,R1                    ;
 2590                             320     ;;;;;;;;;2006-12-01             MOV.W   @R1,R0                                  ;
 2591                             321     ;;;;;;;;;2006-12-01             TST     R0,R0                                   ;
 2592                             322     ;;;;;;;;;2006-12-01             TST_BIT_ON ET1_SV_DATASEND_100                  ;
 2593                             323     ;;;;;;;;;2006-12-01             M_BRA   ET1_SV_DATASEND_EXT                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    12
PROGRAM NAME =

 2594                             324     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_100:
 2595                             325     ;;;;;;;;;2006-12-01             TST     #BIT1,R0                                ;
 2596                             326     ;;;;;;;;;2006-12-01             TST_BIT_ON ET1_SV_DATASEND_150                  ;
 2597                             327     ;;;;;;;;;2006-12-01
 2598                             328     ;;;;;;;;;2006-12-01             MEM1_BIT0_TO_BIT7_ORSET MEM=_CPU_REQ_DAT_FLG,LG=W,BIT=BIT1
                                          ,WKREG=R1       ;bit-set
 2599                             329     ;;;;;;;;;2006-12-01             XOR     R0,R0
 2600                             330     ;;;;;;;;;2006-12-01             REG_MOV_TO_MEM  DST_ADR=_CPU_REQ_DAT_CNT,L1=L,DT_REG=R0,WK
                                          REG1=R1
 2601                             331     ;;;;;;;;;2006-12-01             M_BRA   ET1_SV_DATASEND_EXT                     ;
 2602                             332     
 2603                             333     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_150:
 2604                             334     ;;;;;;;;;2006-12-01             MOV.L   #_ET_CPUB_SND_REQ_ET1,R8                ;
 2605                             335     ;;;;;;;;;2006-12-01             MOV.L   #_ET_CPUB_RCV_ACK_ET1,R9                ;
 2606                             336     ;;;;;;;;;2006-12-01             MOV.L   @R8,R0                                  ;
 2607                             337     ;;;;;;;;;2006-12-01             MOV.L   @R9,R1                                  ;
 2608                             338     ;;;;;;;;;2006-12-01             CMP/EQ  R1,R0                                   ;
 2609                             339     ;;;;;;;;;2006-12-01             BF      ET1_SV_DATASEND_EXT                     ;EQではな
                                          い.WAIT
 2610                             340     ;;;;;;;;;2006-12-01     ;       -----------------------------------------------
 2611                             341     ;;;;;;;;;2006-12-01             MOV.L   #_CPU_REQ_DAT_CNT,R5                    ;
 2612                             342     ;;;;;;;;;2006-12-01             MOV.L   @R5,R2                                  ;0~6FFF/12
                                          8byte
 2613                             343     ;;;;;;;;;2006-12-01             MOV.L   #(_CPUB_ET1_ADRMAX/_CPUB_ET1_BLK),R3    ;
 2614                             344     ;;;;;;;;;2006-12-01             CMP/HI  R2,R3                                   ;R2 < R3
 2615                             345     ;;;;;;;;;2006-12-01             BT      ET1_SV_DATASEND_200                     ;
 2616                             346     ;;;;;;;;;2006-12-01             XOR     R2,R2                                   ;
 2617                             347     ;;;;;;;;;2006-12-01             MOV.L   R2,@R5                                  ;
 2618                             348     ;;;;;;;;;2006-12-01             M_BRA   ET1_SV_DATASEND_900                     ;
 2619                             349     ;;;;;;;;;2006-12-01
 2620                             350     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_200:                                    ;Input R2
 2621                             351     ;;;;;;;;;2006-12-01             MOV.L   #(STARTOF Bfram),R5                     ;
 2622                             352     ;;;;;;;;;2006-12-01             MOV.W   #_CPUB_ET1_BLK,R3                       ;
 2623                             353     ;;;;;;;;;2006-12-01             DMULS.L R2,R3                                   ;CNT*128by
                                          te
 2624                             354     ;;;;;;;;;2006-12-01             STS.L   MACL,R6                                 ;
 2625                             355     ;;;;;;;;;2006-12-01
 2626                             356     ;;;;;;;;;2006-12-01             SHLR    R3
 2627                             357     ;;;;;;;;;2006-12-01             MOV.L   #_ET_CPUB_SND_REQ_CNT,R1                ;
 2628                             358     ;;;;;;;;;2006-12-01             MOV.L   R3,@R1                                  ;128byte/2
                                          =64word
 2629                             359     ;;;;;;;;;2006-12-01             MOV.L   #_ET_CPUB_SND_REQ_ADR,R1                ;
 2630                             360     ;;;;;;;;;2006-12-01             MOV.L   R6,@R1                                  ;ADRESS
 2631                             361     ;;;;;;;;;2006-12-01             ADD     R6,R5                                   ;
 2632                             362     ;;;;;;;;;2006-12-01             MOV.L   #_ET_CPUB_SND_DAT,R7                    ;
 2633                             363     ;;;;;;;;;2006-12-01
 2634                             364     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_LOP:
 2635                             365     ;;;;;;;;;2006-12-01             TST     R3,R3                                   ;
 2636                             366     ;;;;;;;;;2006-12-01             TST_BIT_OF ET1_SV_DATASEND_800
 2637                             367     ;;;;;;;;;2006-12-01             MOV.W   @R5+,R1                                 ;
 2638                             368     ;;;;;;;;;2006-12-01             MOV.W   R1,@R7
 2639                             369     ;;;;;;;;;2006-12-01             ADD     #2,R7
 2640                             370     ;;;;;;;;;2006-12-01             ADD     #-1,R3
 2641                             371     ;;;;;;;;;2006-12-01             M_BRA   ET1_SV_DATASEND_LOP
 2642                             372     ;;;;;;;;;2006-12-01
 2643                             373     ;;;;;;;;;2006-12-01     ;       -------------(HAND)---------------------------------
 2644                             374     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_800:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    13
PROGRAM NAME =

 2645                             375     ;;;;;;;;;2006-12-01             XOR     R1,R1
 2646                             376     ;;;;;;;;;2006-12-01             MOV.L   @R8,R0                                  ;
 2647                             377     ;;;;;;;;;2006-12-01             TST     R0,R0                                   ;
 2648                             378     ;;;;;;;;;2006-12-01             TST_BIT_ON ET1_SV_DATASEND_820                  ;
 2649                             379     ;;;;;;;;;2006-12-01             MOV.L   #_ET1_DATA_COD,R1                       ;
 2650                             380     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_820:                                    ;
 2651                             381     ;;;;;;;;;2006-12-01             MOV.L   R1,@R8                                  ;NEW REQ
 2652                             382     ;;;;;;;;;2006-12-01
 2653                             383     ;;;;;;;;;2006-12-01             MOV.L   #_CPU_REQ_DAT_CNT,R1                    ;
 2654                             384     ;;;;;;;;;2006-12-01             MOV.L   @R1,R0                                  ;
 2655                             385     ;;;;;;;;;2006-12-01             ADD     #1,R0                                   ;
 2656                             386     ;;;;;;;;;2006-12-01             MOV.L   R0,@R1                                  ;
 2657                             387     ;;;;;;;;;2006-12-01             M_BRA   ET1_SV_DATASEND_EXT
 2658                             388     ;;;;;;;;;2006-12-01
 2659                             389     ;;;;;;;;;2006-12-01     ;       -------------(END)---------------------------------
 2660                             390     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_900:
 2661                             391     ;;;;;;;;;2006-12-01             XOR     R0,R0
                                                  ;
 2662                             392     ;;;;;;;;;2006-12-01             REG_MOV_TO_MEM  DST_ADR=_CPU_REQ_DAT_FLG,L1=W,DT_REG=R0,WK
                                          REG1=R1 ;
 2663                             393     ;;;;;;;;;2006-12-01             XOR     R0,R0
                                                  ;
 2664                             394     ;;;;;;;;;2006-12-01             REG_MOV_TO_MEM  DST_ADR=_CPU_REQ_DAT_CNT,L1=L,DT_REG=R0,WK
                                          REG1=R1 ;
 2665                             395     ;;;;;;;;;2006-12-01
                                                  ;
 2666                             396     ;;;;;;;;;2006-12-01     ET1_SV_DATASEND_EXT:
 2667                             397     ;;;;;;;;;2006-12-01             SUB_END
 2668                             398     ;;;;;;;;;2006-12-01             M_RTS
 2669                             399     
 2670                             400     
 2671                             401     ;       *******************************************
 2672                             402     ;       ***                                     ***
 2673                             403     ;       ***             KOMTRAX機能時有効       ***
 2674                             404     ;       ***                                     ***
 2675                             405     ;       *******************************************
 2676                             406     ;       ----------ｲﾍﾞﾝﾄｺｰﾄﾞ→CMD送信------------
 2677                             407             .IMPORT         _IROCK_OUT_NO           ;2byte*8 [8]....MSG-NO  [FFFF 0~319 POWER-
                                          ON=0注意]
 2678                             408             .IMPORT         _IROCK_CHAR             ;1byte [8][8]...MSG-data
 2679                             409     
 2680                             410             .IMPORT         _FRAM_CB_ICHAR          ;H'6000 256byte
 2681                             411     
 2682                             412     ;       ---------- 2009-07-27(KOMTRAX)-----------
 2683                             413     ;       ---------- ｼｰｹﾝｽ出力(CPUB-->SEQ)
 2684                             414     ;       ---------- ｼｰｹﾝｽﾚﾌﾚｯｼｭ (KOMTRAX-->CPUB-->SEQ)
 2685                             415     ;       ---------- ｼｰｹﾝｽﾚﾌﾚｯｼｭ (KOMTRAX<--CPUB--SEQ)
 2686                             416     ;       ---------- ｲﾍﾞﾝﾄﾒｯｾｰｼﾞ転送
 2687                             417     
 2688                                     ***** BEGIN-POOL *****
 2689 000001D6 0000                       ALIGNMENT CODE
 2690 000001D8 00000000                   DATA FOR SOURCE-LINE 273
 2691 000001DC 00000000                   DATA FOR SOURCE-LINE 273
 2692 000001E0 00000000                   DATA FOR SOURCE-LINE 288
 2693 000001E4 00000000                   DATA FOR SOURCE-LINE 288
 2694 000001E8 00000000                   DATA FOR SOURCE-LINE 292
 2695 000001EC 00000000                   DATA FOR SOURCE-LINE 292
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    14
PROGRAM NAME =

 2696 000001F0 00000000                   DATA FOR SOURCE-LINE 301
 2697 000001F4 00000000                   DATA FOR SOURCE-LINE 301
 2698                                     ***** END-POOL *****
 2699          000000E2           418     _SQ113          .EQU    113*2           ;SEQ--->CPUB指令　2011-01-14 113.9
 2700          0000012A           419     _SQ149          .EQU    149*2           ;SEQ--->CPUB-->KOMTRAX
 2701          000000AC           420     _SQ086          .EQU    86*2            ;KOMTRAX-->CPUB-->SEQ()
 2702          000000AE           421     _SQ087          .EQU    87*2            ;CPUB-->SEQ(BIT3=ｲﾍﾞﾝﾄ,BIT2=1ｻｲｸﾙ)
 2703          00000001           422     __KMTCMD_WR     .EQU    BIT0            ;
 2704          00000002           423     __KMTCMD_RD     .EQU    BIT1            ;
 2705                             424     
 2706                             425     ;       ----------- SITM MEM-MAP------
 2707                             426     
 2708                             427     ;       ========== SIT==>KOMTRAX ====
 2709          00000000           428     __SITM_HANDWR   .EQU    0*2             ;
 2710          00000002           429     __SITM_HANDCNT  .EQU    1*2             ;2byte
 2711                             430     
 2712          00000004           431     __SITM_CHRTOP1  .EQU    2*2             ;byte adress
 2713          00000008           432     __SITM_CHRCNT   .EQU    8               ;8byte
 2714                             433     
 2715          0000000C           434     __SITM_AIDAT1   .EQU    6*2             ;
 2716          00000008           435     __SITM_AIDTCNT  .EQU    2*4             ;2byte*4CH
 2717                             436     
 2718          00000014           437     __SITM_MENTCNT  .EQU    10*2            ;4byte
 2719          00000004           438     __SITM_MCNTCNT  .EQU    4               ;
 2720                             439     
 2721                             440     ;       -------------- KOMTRAX==>SIT====
 2722          00000064           441     __SITM_OUT_TOP  .EQU    50*2            ;
 2723          00000020           442     __SITM_OUTCNT   .EQU    16*2            ;16word/MAX(50W)
 2724                             443     
 2725          00000064           444     __SITM_HANDRD   .EQU    __SITM_OUT_TOP+0*2      ;0
 2726                             445                                                     ;1　1:DO指令なので別I/Oで送信される
 2727          00000068           446     __SITM_TRSSTS1  .EQU    __SITM_OUT_TOP+2*2      ;2
 2728          0000006A           447     __SITM_ERRSTS1  .EQU    __SITM_OUT_TOP+3*2      ;3
 2729          0000006C           448     __SITM_WARSTS1  .EQU    __SITM_OUT_TOP+4*2      ;4
 2730          0000006E           449     __SITM_TRSSTS2  .EQU    __SITM_OUT_TOP+5*2      ;5
 2731          00000070           450     __SITM_KMTTYPE  .EQU    __SITM_OUT_TOP+6*2      ;6:5A01が011型KOMTRAX対応 2011-01-14
 2732                             451     
 2733                             452     
 2734                             453     ;-------__SITM_KMTTYPEのﾃﾞｰﾀの中身 2011-01-14
 2735          00005A01           454     __SIT_VER_TYP2_COD      .EQU    H'5A01                  ;SIT4へﾒﾓﾘ拡張されたｿﾌﾄであること
                                          を通知する
 2736                             455     
 2737                             456     ;       ---------　EVENT　信号---------
 2738          00000032           457     __EVENT_SIG_ONTIMSV     .EQU    500/__TM_LATE10MS       ;300msec ｲﾍﾞﾝﾄのための信号(送信処
                                          理100msec,)
 2739          00000032           458     __EVENT_SIG_OFTIMSV     .EQU    500/__TM_LATE10MS       ;300msec ｲﾍﾞﾝﾄのための信号(送信処
                                          理100msec,)
 2740                             459     
 2741                             460     ;       ----------------- 1CYCLE
 2742          00000014           461     __CYCLE_SIG_TIMSV       .EQU    20      ;20msec　15~25msec　50msec:1秒で20回転　1200spmま
                                          で可能
 2743                             462     
 2744                             463     
 2745                             464     
 2746                             465     ;       -----------2011-01-14-------
 2747          000000C8           466     __SITM_SYOUMO_TOP       .EQU    100*2   ;
 2748          00000040           467     __SITM_SYOUMO_CNT       .EQU    32*2    ;64byte
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    15
PROGRAM NAME =

 2749                             468     
 2750          00000108           469     __SITM_HINBAN_TOP       .EQU    132*2   ;
 2751          000000A0           470     __SITM_HINBAN_CNT       .EQU    80*2    ;160byte
 2752                             471     
 2753                             472     
 2754          00000064           473     __HINBAN_SIG_ONTIMSV    .EQU    1000/__TM_LATE10MS      ;1000msec保証   ;200/__TM_LATE10MS
                                                  ;150msec保証
 2755          00000064           474     __HINBAN_SIG_OFTIMSV    .EQU    1000/__TM_LATE10MS      ;1000msec保証   ;200/__TM_LATE10MS
                                                  ;150msec保証
 2756                             475     
 2757          00000014           476     __SYOUMO_SIG_ONTIMSV    .EQU    200/__TM_LATE10MS       ;150msec保証
 2758          00000014           477     __SYOUMO_SIG_OFTIMSV    .EQU    200/__TM_LATE10MS       ;150msec保証
 2759                             478     
 2760                             479     
 2761          00000006           480     _HINBAN_BUF_MAX         .EQU    6               ;ｶｳﾝﾀMAX
 2762                             481     
 2763                             482     ;       ***********************************
 2764                             483     ;       ***                             ***
 2765                             484     ;       ***     高速処理 1ms~5mse       ***
 2766                             485     ;       ***                             ***
 2767                             486     ;       ***********************************
 2768                             487     ;
 2769                             488     ;
 2770 000001F8                    489             .ALIGN  4                                       ;
 2771 000001F8                    490     _KOMTRAX_DATA_CTRL
 2772                             491             SUB_START
 2773 000001F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2774                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2775                             492     
 2776                             493             FAR_JSR #_KMT_1CYCLE_SIGCHK,R0                  ;1CYCLE 信号////OK
 2777 000001FA D006                   M           MOV.L   #_KMT_1CYCLE_SIGCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2778 000001FC 400B                   M           JSR     @R0                     ;
 2779 000001FE 0009                   M           NOP                                     ;
 2780                             494     
 2781                             495     ;       --------------------------------
 2782                             496             FAR_JSR #_KMT_SEQ_REF1,R0                       ;DI/DO///////OK
 2783 00000200 D005                   M           MOV.L   #_KMT_SEQ_REF1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2784 00000202 400B                   M           JSR     @R0                     ;
 2785 00000204 0009                   M           NOP                                     ;
 2786                             497     
 2787                             498     ;;;;;;  2011-01-14 ﾒｲﾝｽｷｬﾝへ　処理軽減
 2788                             499     ;;;;;;  ----------ｲﾍﾞﾝﾄｺｰﾄﾞ→CMD送信------------
 2789                             500     ;;;;;;  FAR_JSR #_KMT_EVENT_INT_STEP,R0                 ;ﾒｲﾝｽｷｬﾝでもいい
 2790                             501     
 2791                             502     ;       ------------------ CMD制御---------------------
 2792                             503     ;       ---------ｺﾏﾝﾄﾞ/ﾃﾞｰﾀを受け取ってwrする/readも可能-----------------------
 2793                             504             FAR_JSR #_KMT_CMD_TRS,R0                        ;SIT => COMMAD,DATA => KMT
 2794 00000206 D005                   M           MOV.L   #_KMT_CMD_TRS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2795 00000208 400B                   M           JSR     @R0                     ;
 2796 0000020A 0009                   M           NOP                                     ;
 2797                             505                                                             ;SIT <= RESOPONSE   <= KMT
 2798                             506     
 2799                             507     
 2800                             508             SUB_END
 2801                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2802 0000020C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2803                             509             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    16
PROGRAM NAME =

 2804 0000020E 000B                   M           RTS                             ;RTSの後ろの
 2805 00000210 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2806                             510     
 2807                             511     
 2808                             512     
 2809                                     ***** BEGIN-POOL *****
 2810 00000212 0000                       ALIGNMENT CODE
 2811 00000214 00000000                   DATA FOR SOURCE-LINE 493
 2812 00000218 00000000                   DATA FOR SOURCE-LINE 496
 2813 0000021C 00000000                   DATA FOR SOURCE-LINE 504
 2814                                     ***** END-POOL *****
 2815 00000220                    513     _KOMTRAX_TIMCNT:
 2816                             514             SUB_START
 2817 00000220 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2818                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2819                             515     
 2820                             516     ;;;2011-01-14   DN_TIME LG=W,MEM_ADR=_KMT_HANDWDT_TIM,WKREG1=R1,WKREG2=R2       ;
 2821                             517     
 2822                             518     
 2823                             519     ;       ------------ 2011-01-14 10MSEC 作成 ---------------
 2824 00000222 D104               520             MOV.L   #_KMT_PROC_10MS,R1                              ;10msecﾀｲﾏ作成
 2825 00000224 6011               521             MOV.W   @R1,R0                                          ;
 2826 00000226 2008               522             TST     R0,R0                                           ;
 2827                             523             TST_BIT_OF KOMTRAX_TIMCT10_100                          ;
 2828 00000228 8906                   M           BT      KOMTRAX_TIMCT10_100
 2829 0000022A 70FF               524             ADD     #-1,R0                                          ;
 2830 0000022C 2101               525             MOV.W   R0,@R1                                          ;
 2831                             526             M_BRA   KOMTRAX_TIMCT10_200                             ;
 2832 0000022E A008                   M           BRA     KOMTRAX_TIMCT10_200
 2833 00000230 0009                   M           NOP
 2834                                     ***** BEGIN-POOL *****
 2835 00000232 0000                       ALIGNMENT CODE
 2836 00000234 00000000                   DATA FOR SOURCE-LINE 520
 2837                                     ***** END-POOL *****
 2838 00000238                    527     KOMTRAX_TIMCT10_100:
 2839 00000238 9006               528             MOV.W   #D'10-1,R0                                      ;
 2840 0000023A 2101               529             MOV.W   R0,@R1                                          ;
 2841                             530     
 2842                             531             FAR_JSR #_KMT_10MSEC_TIM,R0                                     ;2011-01-14
 2843 0000023C D003                   M           MOV.L   #_KMT_10MSEC_TIM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2844 0000023E 400B                   M           JSR     @R0                     ;
 2845 00000240 0009                   M           NOP                                     ;
 2846                             532     
 2847 00000242                    533     KOMTRAX_TIMCT10_200:
 2848                             534     
 2849                             535             SUB_END
 2850                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2851 00000242 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2852                             536             M_RTS
 2853 00000244 000B                   M           RTS                             ;RTSの後ろの
 2854 00000246 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2855                             537     
 2856                             538     ;       *******************************************
 2857                             539     ;       ***                                     ***
 2858                             540     ;       ***     処理軽減のため10msecタイマ使用  ***
 2859                             541     ;       ***                                     ***
 2860                             542     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    17
PROGRAM NAME =

 2861                             543     ;       ----------2011-01-14----
 2862                                     ***** BEGIN-POOL *****
 2863 00000248 0009                       DATA FOR SOURCE-LINE 528
 2864 0000024A 0000                       ALIGNMENT CODE
 2865 0000024C 00000000                   DATA FOR SOURCE-LINE 531
 2866                                     ***** END-POOL *****
 2867 00000250                    544     _KMT_10MSEC_TIM:
 2868                             545             SUB_START
 2869 00000250 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2870                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2871                             546     
 2872                             547             DN_TIME LG=W,MEM_ADR=_KMT_HINBAN_SIGTIM,WKREG1=R1,WKREG2=R2
 2873 00000252 D10D                   M           MOV.L   #_KMT_HINBAN_SIGTIM,R1          ;SORCE ADRESS SET
 2874 00000254 6211                   M           MOV.W   @R1,R2          ;
 2875 00000256 2228                   M           TST     R2,R2                   ;
 2876 00000258 8901                   M           BT      JMP_0100001                     ;ZERO THEN JUMP
 2877 0000025A 4210                   M           DT      R2                              ;
 2878 0000025C 2121                   M           MOV.W   R2,@R1          ;STORE
 2879 0000025E                        M   JMP_0100001:
 2880                             548             DN_TIME LG=W,MEM_ADR=_KMT_SYOUMO_SIGTIM,WKREG1=R1,WKREG2=R2
 2881 0000025E D10B                   M           MOV.L   #_KMT_SYOUMO_SIGTIM,R1          ;SORCE ADRESS SET
 2882 00000260 6211                   M           MOV.W   @R1,R2          ;
 2883 00000262 2228                   M           TST     R2,R2                   ;
 2884 00000264 8901                   M           BT      JMP_0100002                     ;ZERO THEN JUMP
 2885 00000266 4210                   M           DT      R2                              ;
 2886 00000268 2121                   M           MOV.W   R2,@R1          ;STORE
 2887 0000026A                        M   JMP_0100002:
 2888                             549     
 2889                             550             DN_TIME LG=W,MEM_ADR=_KMT_HANDWDT_TIM,WKREG1=R1,WKREG2=R2       ;1msec->10msecへ 2
                                          011-01-14
 2890 0000026A D109                   M           MOV.L   #_KMT_HANDWDT_TIM,R1            ;SORCE ADRESS SET
 2891 0000026C 6211                   M           MOV.W   @R1,R2          ;
 2892 0000026E 2228                   M           TST     R2,R2                   ;
 2893 00000270 8901                   M           BT      JMP_0100003                     ;ZERO THEN JUMP
 2894 00000272 4210                   M           DT      R2                              ;
 2895 00000274 2121                   M           MOV.W   R2,@R1          ;STORE
 2896 00000276                        M   JMP_0100003:
 2897                             551             DN_TIME LG=W,MEM_ADR=_KMT_EVENT_SIGTIM,WKREG1=R1,WKREG2=R2      ;1msec->10msecへ 2
                                          011-01-14
 2898 00000276 D107                   M           MOV.L   #_KMT_EVENT_SIGTIM,R1           ;SORCE ADRESS SET
 2899 00000278 6211                   M           MOV.W   @R1,R2          ;
 2900 0000027A 2228                   M           TST     R2,R2                   ;
 2901 0000027C 8901                   M           BT      JMP_0100004                     ;ZERO THEN JUMP
 2902 0000027E 4210                   M           DT      R2                              ;
 2903 00000280 2121                   M           MOV.W   R2,@R1          ;STORE
 2904 00000282                        M   JMP_0100004:
 2905                             552     
 2906                             553     
 2907                             554             SUB_END
 2908                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2909 00000282 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2910                             555             M_RTS
 2911 00000284 000B                   M           RTS                             ;RTSの後ろの
 2912 00000286 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2913                             556     
 2914                             557     
 2915                             558     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    18
PROGRAM NAME =

 2916                             559     ;       ***                                     ***
 2917                             560     ;       ***             1CYCLE 信号             ***
 2918                             561     ;       ***             割込                    ***
 2919                             562     ;       *******************************************
 2920                             563             .IMPORT _CPUATOD_1CYCL_SIG              ;BIT0=0/BIT0=1 ｾｯﾄCPUA CLR CPUD
 2921                             564     
 2922                                     ***** BEGIN-POOL *****
 2923 00000288 00000000                   DATA FOR SOURCE-LINE 547
 2924 0000028C 00000000                   DATA FOR SOURCE-LINE 548
 2925 00000290 00000000                   DATA FOR SOURCE-LINE 550
 2926 00000294 00000000                   DATA FOR SOURCE-LINE 551
 2927                                     ***** END-POOL *****
 2928 00000298                    565     _KMT_1CYCLE_SET                                 ;(CPUBのｸﾗｯﾁからCALL)
 2929                             566             SUB_START
 2930 00000298 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2931                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2932 0000029A 9009               567             MOV.W   #__CYCLE_SIG_TIMSV,R0
 2933 0000029C D105               568             MOV.L   #_KMT_1CYCL_SIGTIM,R1           ;
 2934 0000029E 2101               569             MOV.W   R0,@R1                          ;
 2935                             570             MEM1_BIT0_F_ORSET MEM=_KMT_STS_SQ087,LG=W,BIT=(BIT2),WKRG1=R1,WKRG2=R2
 2936 000002A0 D105                   M           MOV.L   #_KMT_STS_SQ087,R1              ;
 2937 000002A2 6011                   M           MOV.W   @R1,R0          ;
 2938 000002A4 9205                   M           MOV.W   #(BIT2),R2              ;
 2939 000002A6 202B                   M           OR      R2,R0           ;
 2940 000002A8 2101                   M           MOV.W   R0,@R1          ;
 2941                             571             SUB_END
 2942                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 2943 000002AA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 2944                             572             M_RTS
 2945 000002AC 000B                   M           RTS                             ;RTSの後ろの
 2946 000002AE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 2947                             573     
 2948                             574     
 2949                                     ***** BEGIN-POOL *****
 2950 000002B0 0014                       DATA FOR SOURCE-LINE 567
 2951 000002B2 0004                       DATA FOR SOURCE-LINE 570
 2952 000002B4 00000000                   DATA FOR SOURCE-LINE 568
 2953 000002B8 00000000                   DATA FOR SOURCE-LINE 570
 2954                                     ***** END-POOL *****
 2955 000002BC                    575     _KMT_1CYCLE_SIGCHK
 2956                             576             SUB_START
 2957 000002BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 2958                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 2959                             577     
 2960                             578     ;       --------- 2014-09-29 1ｻｲｸﾙ信号をCPUAからもらう----------
 2961 000002BE D10A               579             MOV.L   #_CPUATOD_1CYCL_SIG,R1          ;BIT0=0/BIT0=1 1ｻｲｸﾙ
 2962 000002C0 6011               580             MOV.W   @R1,R0                          ;
 2963 000002C2 C801               581             TST     #BIT0,R0                        ;
 2964                             582             TST_BIT_OF KMT_1CYCLSIGCHK_050          ;1CYCLE ON
 2965 000002C4 8904                   M           BT      KMT_1CYCLSIGCHK_050
 2966 000002C6 200A               583             XOR     R0,R0                           ;
 2967 000002C8 2101               584             MOV.W   R0,@R1                          ;CLR
 2968                             585     
 2969                             586             FAR_JSR #_KMT_1CYCLE_SET,R0             ;
 2970 000002CA D008                   M           MOV.L   #_KMT_1CYCLE_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 2971 000002CC 400B                   M           JSR     @R0                     ;
 2972 000002CE 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    19
PROGRAM NAME =

 2973                             587     
 2974 000002D0                    588     KMT_1CYCLSIGCHK_050
 2975                             589     
 2976                             590     
 2977                             591     ;       -----------------------------------------
 2978 000002D0 D107               592             MOV.L   #_KMT_STS_SQ087,R1              ;ok
 2979 000002D2 6011               593             MOV.W   @R1,R0                          ;
 2980 000002D4 C804               594             TST     #BIT2,R0
 2981                             595             TST_BIT_OF KMT_1CYCLSIGCHK_END
 2982 000002D6 8914                   M           BT      KMT_1CYCLSIGCHK_END
 2983                             596     
 2984 000002D8 D106               597             MOV.L   #_KMT_1CYCL_SIGTIM,R1           ;
 2985 000002DA 6011               598             MOV.W   @R1,R0                          ;
 2986 000002DC 2008               599             TST     R0,R0
 2987                             600             TST_BIT_OF KMT_1CYCLSIGCHK_100          ;
 2988 000002DE 890B                   M           BT      KMT_1CYCLSIGCHK_100
 2989 000002E0 70FF               601             ADD     #-1,R0
 2990 000002E2 2101               602             MOV.W   R0,@R1                          ;
 2991                             603             M_BRA   KMT_1CYCLSIGCHK_END             ;
 2992 000002E4 A00D                   M           BRA     KMT_1CYCLSIGCHK_END
 2993 000002E6 0009                   M           NOP
 2994                             604     
 2995                                     ***** BEGIN-POOL *****
 2996 000002E8 00000000                   DATA FOR SOURCE-LINE 579
 2997 000002EC 00000000                   DATA FOR SOURCE-LINE 586
 2998 000002F0 00000000                   DATA FOR SOURCE-LINE 592
 2999 000002F4 00000000                   DATA FOR SOURCE-LINE 597
 3000                                     ***** END-POOL *****
 3001 000002F8                    605     KMT_1CYCLSIGCHK_100
 3002                             606             MEM1_BIT0_F_ADCLR MEM=_KMT_STS_SQ087,LG=W,BIT=~(BIT2),WKRG1=R1,WKRG2=R4 ;
 3003 000002F8 D104                   M           MOV.L   #_KMT_STS_SQ087,R1              ;
 3004 000002FA 6011                   M           MOV.W   @R1,R0          ;
 3005 000002FC 9404                   M           MOV.W   #LWORD ~(BIT2),R4       ;
 3006 000002FE 2049                   M           AND     R4,R0           ;
 3007 00000300 2101                   M           MOV.W   R0,@R1          ;
 3008                             607     
 3009 00000302                    608     KMT_1CYCLSIGCHK_END
 3010                             609             SUB_END
 3011                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3012 00000302 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3013                             610             M_RTS
 3014 00000304 000B                   M           RTS                             ;RTSの後ろの
 3015 00000306 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3016                             611     
 3017                             612     
 3018                             613     ;       *******************************************
 3019                             614     ;       ***                                     ***
 3020                             615     ;       ***             ｼｰｹﾝｽ1WORD転送処理      ***
 3021                             616     ;       ***             (read/write)            ***
 3022                             617     ;       ***             割り込み                ***
 3023                             618     ;       *******************************************
 3024                                     ***** BEGIN-POOL *****
 3025 00000308 FFFB                       DATA FOR SOURCE-LINE 606
 3026 0000030A 0000                       ALIGNMENT CODE
 3027 0000030C 00000000                   DATA FOR SOURCE-LINE 606
 3028                                     ***** END-POOL *****
 3029 00000310                    619             .ALIGN  4                                       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    20
PROGRAM NAME =

 3030 00000310                    620     _KMT_SEQ_REF1:
 3031                             621             SUB_START
 3032 00000310 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3033                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3034                             622     
 3035                             623     
 3036                             624     ;       ----- SEQ149 -->DPRAM
 3037                             625             MEM_MOV_TO_MEM  SRC_ADR=_SEQ_DP_TOP+_SQ149,L1=W,DST_ADR=_ET2_SEQ_IDT01,L2=W,WKREG1
                                          =R0,WKREG2=R1,WKREG3=R2 ;
 3038 00000312 D00C                   M           MOV.L   #_SEQ_DP_TOP+_SQ149,R0
 3039 00000314 6101                   M           MOV.W   @R0,R1  ;WK1=SRC_ADR WK2=data
 3040 00000316 D20C                   M           MOV.L   #_ET2_SEQ_IDT01,R2      ;DST_ADR
 3041 00000318 2211                   M           MOV.W   R1,@R2  ;DST_ADR
 3042                             626     
 3043                             627     ;       ----- DPRAM -->SEQ 86
 3044                             628             MEM_MOV_TO_MEM  SRC_ADR=_ET2_SEQ_QDT01,L1=W,DST_ADR=_SEQ_DP_TOP+_SQ086,L2=W,WKREG1
                                          =R0,WKREG2=R1,WKREG3=R2 ;
 3045 0000031A D00C                   M           MOV.L   #_ET2_SEQ_QDT01,R0
 3046 0000031C 6101                   M           MOV.W   @R0,R1  ;WK1=SRC_ADR WK2=data
 3047 0000031E D20C                   M           MOV.L   #_SEQ_DP_TOP+_SQ086,R2  ;DST_ADR
 3048 00000320 2211                   M           MOV.W   R1,@R2  ;DST_ADR
 3049                             629     
 3050                             630     ;       ------- MAINSQ87WORK+INT87-->SIT4 CPUA(SEQ).DPへ
 3051 00000322 D10C               631             MOV.L   #_KMT_STS1MN_SQ87,R1    ;
 3052 00000324 6011               632             MOV.W   @R1,R0                  ;MAINで作成したSQ87とINTをあわせて出力
 3053 00000326 D30C               633             MOV.L   #_KMT_STS_SQ087,R3      ;
 3054 00000328 6231               634             MOV.W   @R3,R2
 3055 0000032A 9409               635             MOV.W   #H'FFF8,R4              ;R4=MAIN SCAN BIT
 3056 0000032C 2049               636             AND     R4,R0                   ;MAIN BIT3,BIT4,5,6,BIT7~BIT15
 3057 0000032E 6447               637             NOT     R4,R4                   ;
 3058 00000330 2249               638             AND     R4,R2                   ;INT BIT0~BIT6
 3059 00000332 220B               639             OR      R0,R2                   ;
 3060 00000334 2321               640             MOV.W   R2,@R3                  ;SQ087 WORKへ
 3061 00000336 D109               641             MOV.L   #_SEQ_DP_TOP+_SQ087,R1  ;
 3062 00000338 2121               642             MOV.W   R2,@R1                  ;SEQ.DP
 3063                             643     
 3064                             644     ;;;     MEM_MOV_TO_MEM  SRC_ADR=_KMT_STS_SQ087,L1=W,DST_ADR=_SEQ_DP_TOP+_SQ087,L2=W,WKREG1
                                          =R0,WKREG2=R1,WKREG3=R2
 3065                             645     
 3066                             646             SUB_END
 3067                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3068 0000033A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3069                             647             M_RTS
 3070 0000033C 000B                   M           RTS                             ;RTSの後ろの
 3071 0000033E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3072                             648     
 3073                             649     
 3074                             650     
 3075                             651     ;       ***************************************************
 3076                             652     ;       ***                                             ***
 3077                             653     ;       ***     MAIN LOOP                               ***
 3078                             654     ;       ***     KOMTRAXに表示すべきﾃﾞｰﾀをINTに送信する  ***
 3079                             655     ;       ***                                             ***
 3080                             656     ;       ***************************************************
 3081                             657     ;
 3082                                     ***** BEGIN-POOL *****
 3083 00000340 FFF8                       DATA FOR SOURCE-LINE 635
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    21
PROGRAM NAME =

 3084 00000342 0000                       ALIGNMENT CODE
 3085 00000344 00000000                   DATA FOR SOURCE-LINE 625
 3086 00000348 00000000                   DATA FOR SOURCE-LINE 625
 3087 0000034C 00000000                   DATA FOR SOURCE-LINE 628
 3088 00000350 00000000                   DATA FOR SOURCE-LINE 628
 3089 00000354 00000000                   DATA FOR SOURCE-LINE 631
 3090 00000358 00000000                   DATA FOR SOURCE-LINE 633
 3091 0000035C 00000000                   DATA FOR SOURCE-LINE 641
 3092                                     ***** END-POOL *****
 3093 00000360                    658             .ALIGN  4                                       ;
 3094 00000360                    659     _KOMTRAX_EVENT_MAIN
 3095                             660             SUB_START
 3096 00000360 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3097                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3098                             661     
 3099                             662             FAR_JSR #_ICHAR_DATA_CHK,R0                     ;作成
 3100 00000362 D004                   M           MOV.L   #_ICHAR_DATA_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3101 00000364 400B                   M           JSR     @R0                     ;
 3102 00000366 0009                   M           NOP                                     ;
 3103                             663     
 3104                             664     ;処理軽減のため1msecからﾒｲﾝへ2011-01-14
 3105                             665     
 3106                             666             FAR_JSR #_KMT_EVENT_INT_STEP,R0                 ;転送処理
 3107 00000368 D003                   M           MOV.L   #_KMT_EVENT_INT_STEP,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3108 0000036A 400B                   M           JSR     @R0                     ;
 3109 0000036C 0009                   M           NOP                                     ;
 3110                             667     
 3111                             668             SUB_END
 3112                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3113 0000036E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3114                             669             M_RTS
 3115 00000370 000B                   M           RTS                             ;RTSの後ろの
 3116 00000372 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3117                             670     
 3118                             671     ;       ***************************************************
 3119                             672     ;       ***                                             ***
 3120                             673     ;       ***     ｷｬﾗｸﾀに変化があったら送信ｲﾍﾞﾝﾄを出力    ***
 3121                             674     ;       ***                                             ***
 3122                             675     ;       ***************************************************
 3123                             676     ;       キャラクタが変化して、そのキャラクタが2文字が"",""でなければ有効なﾃﾞｰﾀ
 3124                             677     ;[1]基本的にメインのデータをCOPYする
 3125                             678     ;       変化があった際に
 3126                             679     ;       最新値が"20"未満のデータまたは"20"20"なら送信しない
 3127                             680     ;       =>なし状態
 3128                             681     ;・ERRなし状態
 3129                             682     ;"CHAR[0][8]をチェックだけをチェックする"
 3130                             683     ;・ERR有りでCHAR[0][8]が送信完了したら
 3131                             684     ;
 3132                             685     ;CHAR[1][8]をﾁｪｯｸする
 3133                             686     ;
 3134                             687     ;_IROCK_OUT_NO          ;2byte*8 [8]....MSG-NO  [FFFF 0~319 POWER-ON=0注意]
 3135                             688     
 3136                                     ***** BEGIN-POOL *****
 3137 00000374 00000000                   DATA FOR SOURCE-LINE 662
 3138 00000378 00000000                   DATA FOR SOURCE-LINE 666
 3139                                     ***** END-POOL *****
 3140 0000037C                    689     _ICHAR_DATA_CHK:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    22
PROGRAM NAME =

 3141                             690             SUB_START
 3142 0000037C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3143                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3144                             691     
 3145 0000037E D103               692             MOV.L   #_KMT_EVENT_CHGF,R1             ;
 3146 00000380 6011               693             MOV.W   @R1,R0                          ;MAIN=>INT
 3147 00000382 2008               694             TST     R0,R0                           ;
 3148                             695             TST_BIT_OF ICHAR_DATCHK_020             ;
 3149 00000384 8904                   M           BT      ICHAR_DATCHK_020
 3150                             696             M_BRA   ICHAR_DATCHK_999                ;送信ｲﾍﾞﾝﾄ中
 3151 00000386 A072                   M           BRA     ICHAR_DATCHK_999
 3152 00000388 0009                   M           NOP
 3153                             697     
 3154                                     ***** BEGIN-POOL *****
 3155 0000038A 0000                       ALIGNMENT CODE
 3156 0000038C 00000000                   DATA FOR SOURCE-LINE 692
 3157                                     ***** END-POOL *****
 3158 00000390                    698     ICHAR_DATCHK_020:
 3159                             699     
 3160 00000390 200A               700             XOR     R0,R0
 3161 00000392 D50A               701             MOV.L   #_KMT_CHK_CHRNO,R5              ;0/1
 3162 00000394 6155               702             MOV.W   @R5+,R1                         ;1
 3163 00000396 201B               703             OR      R1,R0                           ;
 3164 00000398 6155               704             MOV.W   @R5+,R1                         ;2
 3165 0000039A 201B               705             OR      R1,R0                           ;
 3166 0000039C 6155               706             MOV.W   @R5+,R1                         ;3
 3167 0000039E 201B               707             OR      R1,R0                           ;
 3168 000003A0 6155               708             MOV.W   @R5+,R1                         ;4
 3169 000003A2 201B               709             OR      R1,R0                           ;
 3170 000003A4 6155               710             MOV.W   @R5+,R1                         ;5
 3171 000003A6 201B               711             OR      R1,R0                           ;
 3172 000003A8 6155               712             MOV.W   @R5+,R1                         ;6
 3173 000003AA 201B               713             OR      R1,R0                           ;
 3174 000003AC 6155               714             MOV.W   @R5+,R1                         ;7
 3175 000003AE 201B               715             OR      R1,R0                           ;
 3176 000003B0 6155               716             MOV.W   @R5+,R1                         ;8
 3177 000003B2 201B               717             OR      R1,R0                           ;
 3178 000003B4 2008               718             TST     R0,R0                           ;
 3179                             719             TST_BIT_OF ICHAR_DATCHK_050             ;
 3180 000003B6 8903                   M           BT      ICHAR_DATCHK_050
 3181                             720             M_BRA   ICHAR_DATCHK_300                ;ﾃﾞｰﾀ有り更新を止める
 3182 000003B8 A024                   M           BRA     ICHAR_DATCHK_300
 3183 000003BA 0009                   M           NOP
 3184                             721     
 3185                                     ***** BEGIN-POOL *****
 3186 000003BC 00000000                   DATA FOR SOURCE-LINE 701
 3187                                     ***** END-POOL *****
 3188 000003C0                    722     ICHAR_DATCHK_050:
 3189                             723     
 3190                             724     
 3191                             725     
 3192                             726     
 3193                             727     
 3194                             728     
 3195 000003C0 9A2B               729             MOV.W   #D'8,R10                        ;
 3196 000003C2 D517               730             MOV.L   #_IROCK_OUT_NO,R5               ;2byte*8 [8]....MSG-NO  [FFFF 0~319 POWER-
                                          ON=0注意]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    23
PROGRAM NAME =

 3197 000003C4 D617               731             MOV.L   #_KMT_OLD_CHRNO,R6              ;
 3198 000003C6 D718               732             MOV.L   #_KMT_CHK_CHRNO,R7              ;0/1
 3199 000003C8 9428               733             MOV.W   #H'FFFF,R4                      ;
 3200                             734     
 3201                             735     
 3202 000003CA                    736     ICHAR_DATCHK_070LOP:
 3203 000003CA 233A               737             XOR     R3,R3                           ;
 3204 000003CC 6155               738             MOV.W   @R5+,R1                         ;NEW
 3205 000003CE 6261               739             MOV.W   @R6,R2                          ;
 3206 000003D0 2611               740             MOV.W   R1,@R6                          ;
 3207 000003D2 3140               741             CMP/EQ  R4,R1                           ;
 3208 000003D4 8907               742             BT      ICHAR_DATCHK_100                ;R3=0 有効なデータなし
 3209                             743     
 3210 000003D6 3120               744             CMP/EQ  R2,R1                           ;R2=R1
 3211 000003D8 8905               745             BT      ICHAR_DATCHK_100                ;変化なし(通常はFFFF→CODEなので変化有り)
 3212                             746                                                     ;前回の表示グループに同じコードがあるか？
 3213                             747                                                     ;あれば詰めた結果なので更新しない
 3214                             748     
 3215                             749             FAR_JSR #_CHAR_BUF8_SERCH,R0            ;INPUT R1 ANS R0=0(同じものがない)
 3216 000003DA D014                   M           MOV.L   #_CHAR_BUF8_SERCH,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3217 000003DC 400B                   M           JSR     @R0                     ;
 3218 000003DE 0009                   M           NOP                                     ;
 3219 000003E0 2008               750             TST     R0,R0                           ;
 3220                             751             TST_BIT_ON ICHAR_DATCHK_100             ;今までの８個に同じものがある詰まっただけ
 3221 000003E2 8B00                   M           BF      ICHAR_DATCHK_100
 3222                             752     
 3223 000003E4 931B               753             MOV.W   #1,R3                           ;
 3224                             754     
 3225 000003E6                    755     ICHAR_DATCHK_100:                               ;
 3226 000003E6 2731               756             MOV.W   R3,@R7                          ;
 3227 000003E8 7602               757             ADD     #2,R6
 3228 000003EA 7702               758             ADD     #2,R7
 3229 000003EC 7AFF               759             ADD     #-1,R10
 3230 000003EE 2AA8               760             TST     R10,R10
 3231                             761             TST_BIT_ON ICHAR_DATCHK_070LOP          ;
 3232 000003F0 8BEB                   M           BF      ICHAR_DATCHK_070LOP
 3233                             762     
 3234                             763     
 3235 000003F2 9412               764             MOV.W   #D'8,R4
 3236 000003F4 D50B               765             MOV.L   #_KMT_OLD_CHRNO,R5              ;
 3237 000003F6 D60E               766             MOV.L   #_KMT_USE_CHRNO,R6              ;
 3238 000003F8                    767     ICHAR_DATCHK_200:
 3239 000003F8 6055               768             MOV.W   @R5+,R0                         ;COPY OLD(NEW)==>USE
 3240 000003FA 2601               769             MOV.W   R0,@R6
 3241 000003FC 7602               770             ADD     #2,R6
 3242 000003FE 74FF               771             ADD     #-1,R4                          ;
 3243 00000400 2448               772             TST     R4,R4                           ;
 3244                             773             TST_BIT_ON ICHAR_DATCHK_200             ;
 3245 00000402 8BF9                   M           BF      ICHAR_DATCHK_200
 3246                             774     
 3247                             775     
 3248                             776     ;       ============ﾃﾞｰﾀ有/なし=======
 3249 00000404                    777     ICHAR_DATCHK_300:
 3250 00000404 200A               778             XOR     R0,R0                           ;
 3251 00000406 D508               779             MOV.L   #_KMT_CHK_CHRNO,R5              ;0/1
 3252 00000408                    780     ICHAR_DATCHK_300LOP:
 3253 00000408 6151               781             MOV.W   @R5,R1                          ;0/1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    24
PROGRAM NAME =

 3254 0000040A 2118               782             TST     R1,R1                           ;
 3255                             783             TST_BIT_ON ICHAR_DATCHK_400             ;送信ﾃﾞｰﾀ有り
 3256 0000040C 8B12                   M           BF      ICHAR_DATCHK_400
 3257 0000040E 7502               784             ADD     #2,R5                           ;
 3258 00000410 7001               785             ADD     #1,R0                           ;
 3259 00000412 8808               786             CMP/EQ  #8,R0                           ;
 3260 00000414 8BF8               787             BF      ICHAR_DATCHK_300LOP
 3261                             788             M_BRA   ICHAR_DATCHK_500                ;送信すべきデータなし
 3262 00000416 A029                   M           BRA     ICHAR_DATCHK_500
 3263 00000418 0009                   M           NOP
 3264                             789     
 3265                             790     
 3266                                     ***** BEGIN-POOL *****
 3267 0000041A 0008                       DATA FOR SOURCE-LINE 729,764
 3268 0000041C FFFF                       DATA FOR SOURCE-LINE 733
 3269 0000041E 0001                       DATA FOR SOURCE-LINE 753
 3270 00000420 00000000                   DATA FOR SOURCE-LINE 730
 3271 00000424 00000000                   DATA FOR SOURCE-LINE 731,765
 3272 00000428 00000000                   DATA FOR SOURCE-LINE 732,779
 3273 0000042C 00000000                   DATA FOR SOURCE-LINE 749
 3274 00000430 00000000                   DATA FOR SOURCE-LINE 766
 3275                                     ***** END-POOL *****
 3276 00000434                    791     ICHAR_DATCHK_400:
 3277 00000434 211A               792             XOR     R1,R1                           ;
 3278 00000436 2511               793             MOV.W   R1,@R5                          ;ﾃﾞｰﾀなしにする
 3279                             794     
 3280 00000438 D50F               795             MOV.L   #_IROCK_CHAR,R5                 ;
 3281 0000043A 4000               796             SHLL    R0                              ;
 3282 0000043C 4008               797             SHLL2   R0                              ;8byte
 3283 0000043E 350C               798             ADD     R0,R5                           ;
 3284                             799     
 3285 00000440 D70E               800             MOV.L   #_KMT_EVENT_CHAR,R7             ;
 3286                             801     
 3287 00000442 6055               802             MOV.W   @R5+,R0                         ;8byte(4WORD)
 3288 00000444 2008               803             TST     R0,R0                           ;
 3289                             804             TST_BIT_OF ICHAR_DATCHK_500             ;0000はﾃﾞｰﾀなし
 3290 00000446 8911                   M           BT      ICHAR_DATCHK_500
 3291 00000448 9114               805             MOV.W   #H'2020,R1                      ;
 3292 0000044A 3010               806             CMP/EQ  R1,R0                           ;
 3293 0000044C 890E               807             BT      ICHAR_DATCHK_500                ;2020" "" "はﾃﾞｰﾀなし
 3294                             808     
 3295 0000044E 2701               809             MOV.W   R0,@R7                          ;
 3296 00000450 7702               810             ADD     #2,R7
 3297 00000452 6055               811             MOV.W   @R5+,R0
 3298 00000454 2701               812             MOV.W   R0,@R7
 3299 00000456 7702               813             ADD     #2,R7
 3300 00000458 6055               814             MOV.W   @R5+,R0
 3301 0000045A 2701               815             MOV.W   R0,@R7
 3302 0000045C 7702               816             ADD     #2,R7
 3303 0000045E 6055               817             MOV.W   @R5+,R0
 3304 00000460 2701               818             MOV.W   R0,@R7
 3305 00000462 7702               819             ADD     #2,R7
 3306                             820             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_EVENT_CHGF,LG=W,BIT=BIT0,WKREG=R1      ;bit-set
 3307 00000464 D106                   M           MOV.L   #_KMT_EVENT_CHGF,R1             ;
 3308 00000466 6011                   M           MOV.W   @R1,R0          ;
 3309 00000468 CB01                   M           OR      #BIT0,R0                ;
 3310 0000046A 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    25
PROGRAM NAME =

 3311                             821     
 3312 0000046C                    822     ICHAR_DATCHK_500:
 3313 0000046C 0009               823             NOP
 3314 0000046E                    824     ICHAR_DATCHK_999
 3315                             825     
 3316                             826             SUB_END
 3317                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3318 0000046E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3319                             827             M_RTS
 3320 00000470 000B                   M           RTS                             ;RTSの後ろの
 3321 00000472 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3322                             828     
 3323                             829     
 3324                             830     ;       *******************************************
 3325                             831     ;       ***                                     ***
 3326                             832     ;       ***                                     ***
 3327                             833     ;       ***                                     ***
 3328                             834     ;       *******************************************
 3329                             835     ;       INPUT R1
 3330                             836     ;       OUTPUT R0=0(同じものがない)
 3331                             837     ;
 3332                                     ***** BEGIN-POOL *****
 3333 00000474 2020                       DATA FOR SOURCE-LINE 805
 3334 00000476 0000                       ALIGNMENT CODE
 3335 00000478 00000000                   DATA FOR SOURCE-LINE 795
 3336 0000047C 00000000                   DATA FOR SOURCE-LINE 800
 3337 00000480 00000000                   DATA FOR SOURCE-LINE 820
 3338                                     ***** END-POOL *****
 3339 00000484                    838     _CHAR_BUF8_SERCH:
 3340                             839             SUB_START
 3341 00000484 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3342                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3343                             840             PUSH_REG1 R3
 3344 00000486 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
 3345                                 M                                           ;REG=>[SP]
 3346                                 M                                           ;"-4" FF,FF,FF,FC
 3347                             841     
 3348 00000488 D30D               842             MOV.L   #_KMT_USE_CHRNO,R3              ;
 3349                             843     
 3350 0000048A 6035               844             MOV.W   @R3+,R0                         ;1
 3351 0000048C 3010               845             CMP/EQ  R1,R0                           ;
 3352 0000048E 8919               846             BT      CHAR_BUF8SER_200                ;
 3353                             847     
 3354 00000490 6035               848             MOV.W   @R3+,R0                         ;2
 3355 00000492 3010               849             CMP/EQ  R1,R0                           ;
 3356 00000494 8916               850             BT      CHAR_BUF8SER_200                ;
 3357                             851     
 3358 00000496 6035               852             MOV.W   @R3+,R0                         ;3
 3359 00000498 3010               853             CMP/EQ  R1,R0                           ;
 3360 0000049A 8913               854             BT      CHAR_BUF8SER_200                ;
 3361                             855     
 3362 0000049C 6035               856             MOV.W   @R3+,R0                         ;4
 3363 0000049E 3010               857             CMP/EQ  R1,R0                           ;
 3364 000004A0 8910               858             BT      CHAR_BUF8SER_200                ;
 3365                             859     
 3366 000004A2 6035               860             MOV.W   @R3+,R0                         ;5
 3367 000004A4 3010               861             CMP/EQ  R1,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    26
PROGRAM NAME =

 3368 000004A6 890D               862             BT      CHAR_BUF8SER_200                ;
 3369                             863     
 3370 000004A8 6035               864             MOV.W   @R3+,R0                         ;6
 3371 000004AA 3010               865             CMP/EQ  R1,R0                           ;
 3372 000004AC 890A               866             BT      CHAR_BUF8SER_200                ;
 3373                             867     
 3374 000004AE 6035               868             MOV.W   @R3+,R0                         ;7
 3375 000004B0 3010               869             CMP/EQ  R1,R0                           ;
 3376 000004B2 8907               870             BT      CHAR_BUF8SER_200                ;
 3377                             871     
 3378 000004B4 6035               872             MOV.W   @R3+,R0                         ;8
 3379 000004B6 3010               873             CMP/EQ  R1,R0                           ;
 3380 000004B8 8904               874             BT      CHAR_BUF8SER_200                ;
 3381                             875     
 3382 000004BA 200A               876             XOR     R0,R0                           ;同じものがない
 3383                             877             M_BRA   CHAR_BUF8SER_END
 3384 000004BC A003                   M           BRA     CHAR_BUF8SER_END
 3385 000004BE 0009                   M           NOP
 3386                             878     
 3387                             879     
 3388                                     ***** BEGIN-POOL *****
 3389 000004C0 00000000                   DATA FOR SOURCE-LINE 842
 3390                                     ***** END-POOL *****
 3391 000004C4                    880     CHAR_BUF8SER_200:
 3392 000004C4 9003               881             MOV.W   #-1,R0                          ;同じものがある
 3393 000004C6                    882     CHAR_BUF8SER_END:
 3394                             883             POP_REG1 R3
 3395                                 M                                   ; RE"+4" 00,00,00,04
 3396 000004C6 63F6                   M           MOV.L   @R15+,R3        ;
 3397                             884             SUB_END
 3398                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3399 000004C8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3400                             885             M_RTS
 3401 000004CA 000B                   M           RTS                             ;RTSの後ろの
 3402 000004CC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3403                             886     
 3404                             887     
 3405                             888     
 3406                             889     
 3407                             890     
 3408                             891     ;       *******************************************
 3409                             892     ;       ***                                     ***
 3410                             893     ;       ***             EVENT割込転送処理       ***
 3411                             894     ;       ***             (write)                 ***
 3412                             895     ;       *******************************************
 3413                                     ***** BEGIN-POOL *****
 3414 000004CE FFFF                       DATA FOR SOURCE-LINE 881
 3415                                     ***** END-POOL *****
 3416 000004D0                    896             .ALIGN  4                                       ;
 3417 000004D0                    897     _KMT_EVENT_INT_STEP
 3418                             898             SUB_START
 3419 000004D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3420                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3421                             899     
 3422                             900     ;;;     10msecへ
 3423                             901     ;;;     ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 3424                             902     ;;;     MOV.L   #_KMT_EVENT_SIGTIM,R1                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    27
PROGRAM NAME =

 3425                             903     ;;;     MOV.W   @R1,R0                                  ;
 3426                             904     ;;;     TST     R0,R0                                   ;
 3427                             905     ;;;     TST_BIT_OF KMT_EVET_STP050                      ;
 3428                             906     ;;;     ADD     #-1,R0                                  ;
 3429                             907     ;;;     MOV.W   R0,@R1                                  ;
 3430                             908     ;;;KMT_EVET_STP050:
 3431                             909     ;       ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 3432                             910     
 3433                             911     
 3434 000004D2 D116               912             MOV.L   #_KMT_EVENT_FLG,R1                      ;
 3435 000004D4 6011               913             MOV.W   @R1,R0                                  ;BIT1=1 EVENT終了待ち
 3436 000004D6 C80E               914             TST     #(BIT3+BIT2+BIT1),R0                            ;BIT2=1 ｼｰｹﾝｽへ出力
 3437                             915             TST_BIT_ON KMT_EVET_STP300                      ;
 3438 000004D8 8B38                   M           BF      KMT_EVET_STP300
 3439                             916     
 3440 000004DA D515               917             MOV.L   #_KMT_EVENT_CHGF,R5                     ;
 3441 000004DC 6051               918             MOV.W   @R5,R0                                  ;MAIN==>INT
 3442 000004DE 2008               919             TST     R0,R0                                   ;
 3443                             920             TST_BIT_OF KMT_EVET_STPEXT                      ;
 3444 000004E0 8977                   M           BT      KMT_EVET_STPEXT
 3445                             921     
 3446 000004E2 200A               922             XOR     R0,R0                                   ;
 3447 000004E4 2501               923             MOV.W   R0,@R5                                  ;MAIN ｺﾏﾝﾄﾞｸﾘｱ
 3448                             924     
 3449 000004E6 200A               925             XOR     R0,R0
 3450 000004E8 D112               926             MOV.L   #_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R1                 ;0
                                          :固定 (SIT_MEMを対象)
 3451 000004EA 2101               927             MOV.W   R0,@R1                                  ;
 3452                             928     
 3453 000004EC 901B               929             MOV.W   #__SITM_CHRTOP1/2,R0                    ;byte adr/2
 3454 000004EE D112               930             MOV.L   #_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R1                 ;
 3455 000004F0 2101               931             MOV.W   R0,@R1                                  ;
 3456                             932     
 3457 000004F2 9019               933             MOV.W   #__SITM_CHRCNT/2,R0                     ;8byte=4word
 3458 000004F4 D111               934             MOV.L   #_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R1                    ;M
                                          AX 1~256 word
 3459 000004F6 2101               935             MOV.W   R0,@R1
 3460                             936     
 3461 000004F8 D511               937             MOV.L   #_KMT_EVENT_CHAR,R5                     ;8文字*8:64文字
 3462 000004FA D612               938             MOV.L   #_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R6                    ;
 3463 000004FC 6055               939             MOV.W   @R5+,R0                                 ;
 3464 000004FE 2601               940             MOV.W   R0,@R6                                  ;2文字
 3465 00000500 7602               941             ADD     #2,R6                                   ;
 3466 00000502 6055               942             MOV.W   @R5+,R0                                 ;
 3467 00000504 2601               943             MOV.W   R0,@R6                                  ;4文字
 3468 00000506 7602               944             ADD     #2,R6                                   ;
 3469 00000508 6055               945             MOV.W   @R5+,R0                                 ;
 3470 0000050A 2601               946             MOV.W   R0,@R6                                  ;6文字
 3471 0000050C 7602               947             ADD     #2,R6                                   ;
 3472 0000050E 6055               948             MOV.W   @R5+,R0                                 ;
 3473 00000510 2601               949             MOV.W   R0,@R6                                  ;8文字
 3474 00000512 7602               950             ADD     #2,R6                                   ;
 3475                             951     
 3476 00000514 9009               952             MOV.W   #__KMTCMD_WR,R0
 3477 00000516 D10C               953             MOV.L   #_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R1                    ;
 3478 00000518 2101               954             MOV.W   R0,@R1                                  ;WRITE
 3479                             955     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    28
PROGRAM NAME =

 3480                             956             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_EVENT_FLG,LG=W,BIT=BIT1,WKREG=R1       ;bit-set
 3481 0000051A D104                   M           MOV.L   #_KMT_EVENT_FLG,R1              ;
 3482 0000051C 6011                   M           MOV.W   @R1,R0          ;
 3483 0000051E CB02                   M           OR      #BIT1,R0                ;
 3484 00000520 2101                   M           MOV.W   R0,@R1          ;
 3485                             957             M_BRA   KMT_EVET_STPEXT
 3486 00000522 A056                   M           BRA     KMT_EVET_STPEXT
 3487 00000524 0009                   M           NOP
 3488                             958     
 3489                                     ***** BEGIN-POOL *****
 3490 00000526 0002                       DATA FOR SOURCE-LINE 929
 3491 00000528 0004                       DATA FOR SOURCE-LINE 933
 3492 0000052A 0001                       DATA FOR SOURCE-LINE 952
 3493 0000052C 00000000                   DATA FOR SOURCE-LINE 912,956
 3494 00000530 00000000                   DATA FOR SOURCE-LINE 917
 3495 00000534 00000000                   DATA FOR SOURCE-LINE 926
 3496 00000538 00000000                   DATA FOR SOURCE-LINE 930
 3497 0000053C 00000000                   DATA FOR SOURCE-LINE 934
 3498 00000540 00000000                   DATA FOR SOURCE-LINE 937
 3499 00000544 00000000                   DATA FOR SOURCE-LINE 938
 3500 00000548 00000000                   DATA FOR SOURCE-LINE 953
 3501                                     ***** END-POOL *****
 3502 0000054C                    959     KMT_EVET_STP300
 3503 0000054C D10C               960             MOV.L   #_KMT_EVENT_FLG,R1                                      ;
 3504 0000054E 6011               961             MOV.W   @R1,R0                                                  ;BIT1=1 EVENT終了
                                          待ち
 3505 00000550 C808               962             TST     #BIT3,R0                                                ;OFF保証
 3506                             963             TST_BIT_ON KMT_EVET_STP500                                              ;
 3507 00000552 8B37                   M           BF      KMT_EVET_STP500
 3508                             964     
 3509 00000554 C804               965             TST     #BIT2,R0
 3510                             966             TST_BIT_ON KMT_EVET_STP400                                              ;ON保証
 3511 00000556 8B1B                   M           BF      KMT_EVET_STP400
 3512                             967     
 3513 00000558 D10A               968             MOV.L   #_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM+_KMT_TRSSV1_TOP,R1
                                                          ;
 3514 0000055A 6011               969             MOV.W   @R1,R0                                                          ;
 3515 0000055C 2008               970             TST     R0,R0                                                           ;
 3516                             971             TST_BIT_ON KMT_EVET_STPEXT                                              ;ｺﾏﾝﾄﾞ処理
                                          中
 3517 0000055E 8B38                   M           BF      KMT_EVET_STPEXT
 3518                             972     
 3519                             973             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_EVENT_FLG,LG=W,BIT=BIT2,WKREG=R1       ;bit-set
 3520 00000560 D107                   M           MOV.L   #_KMT_EVENT_FLG,R1              ;
 3521 00000562 6011                   M           MOV.W   @R1,R0          ;
 3522 00000564 CB04                   M           OR      #BIT2,R0                ;
 3523 00000566 2101                   M           MOV.W   R0,@R1          ;
 3524                             974     
 3525                             975             MEM1_BIT0_F_ORSET MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(BIT3),WKRG1=R1,WKRG2=R2
 3526 00000568 D107                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 3527 0000056A 6011                   M           MOV.W   @R1,R0          ;
 3528 0000056C 9206                   M           MOV.W   #(BIT3),R2              ;
 3529 0000056E 202B                   M           OR      R2,R0           ;
 3530 00000570 2101                   M           MOV.W   R0,@R1          ;
 3531                             976     
 3532 00000572 9004               977             MOV.W   #__EVENT_SIG_ONTIMSV,R0                 ;
 3533 00000574 D105               978             MOV.L   #_KMT_EVENT_SIGTIM,R1                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    29
PROGRAM NAME =

 3534 00000576 2101               979             MOV.W   R0,@R1                                  ;
 3535                             980             M_BRA   KMT_EVET_STPEXT                         ;ON保証ﾀｲﾏ
 3536 00000578 A02B                   M           BRA     KMT_EVET_STPEXT
 3537 0000057A 0009                   M           NOP
 3538                             981     
 3539                                     ***** BEGIN-POOL *****
 3540 0000057C 0008                       DATA FOR SOURCE-LINE 975
 3541 0000057E 0032                       DATA FOR SOURCE-LINE 977
 3542 00000580 00000000                   DATA FOR SOURCE-LINE 960,973
 3543 00000584 00000000                   DATA FOR SOURCE-LINE 968
 3544 00000588 00000000                   DATA FOR SOURCE-LINE 975
 3545 0000058C 00000000                   DATA FOR SOURCE-LINE 978
 3546                                     ***** END-POOL *****
 3547 00000590                    982     KMT_EVET_STP400
 3548                             983     
 3549 00000590 D109               984             MOV.L   #_KMT_EVENT_SIGTIM,R1                           ;
 3550 00000592 6011               985             MOV.W   @R1,R0                                          ;
 3551 00000594 2008               986             TST     R0,R0                                                   ;
 3552                             987             TST_BIT_ON KMT_EVET_STPEXT                                      ;
 3553 00000596 8B1C                   M           BF      KMT_EVET_STPEXT
 3554                             988     
 3555                             989             MEM1_BIT0_F_ADCLR MEM=_KMT_STS1MN_SQ87,LG=W,BIT=~(BIT3),WKRG1=R1,WKRG2=R4       ;
 3556 00000598 D108                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 3557 0000059A 6011                   M           MOV.W   @R1,R0          ;
 3558 0000059C 940A                   M           MOV.W   #LWORD ~(BIT3),R4       ;
 3559 0000059E 2049                   M           AND     R4,R0           ;
 3560 000005A0 2101                   M           MOV.W   R0,@R1          ;
 3561                             990             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_EVENT_FLG,LG=W,BIT=BIT3,WKREG=R1       ;bit-set
 3562 000005A2 D107                   M           MOV.L   #_KMT_EVENT_FLG,R1              ;
 3563 000005A4 6011                   M           MOV.W   @R1,R0          ;
 3564 000005A6 CB08                   M           OR      #BIT3,R0                ;
 3565 000005A8 2101                   M           MOV.W   R0,@R1          ;
 3566                             991     
 3567                             992     
 3568 000005AA 9004               993             MOV.W   #__EVENT_SIG_OFTIMSV,R0                 ;
 3569 000005AC D102               994             MOV.L   #_KMT_EVENT_SIGTIM,R1                   ;
 3570 000005AE 2101               995             MOV.W   R0,@R1                                  ;
 3571                             996             M_BRA   KMT_EVET_STPEXT                         ;OFF保証ﾀｲﾏ
 3572 000005B0 A00F                   M           BRA     KMT_EVET_STPEXT
 3573 000005B2 0009                   M           NOP
 3574                             997     
 3575                                     ***** BEGIN-POOL *****
 3576 000005B4 FFF7                       DATA FOR SOURCE-LINE 989
 3577 000005B6 0032                       DATA FOR SOURCE-LINE 993
 3578 000005B8 00000000                   DATA FOR SOURCE-LINE 984,994
 3579 000005BC 00000000                   DATA FOR SOURCE-LINE 989
 3580 000005C0 00000000                   DATA FOR SOURCE-LINE 990
 3581                                     ***** END-POOL *****
 3582 000005C4                    998     KMT_EVET_STP500:
 3583                             999     
 3584 000005C4 D104              1000             MOV.L   #_KMT_EVENT_SIGTIM,R1                           ;
 3585 000005C6 6011              1001             MOV.W   @R1,R0                                          ;
 3586 000005C8 2008              1002             TST     R0,R0                                           ;
 3587                            1003             TST_BIT_ON KMT_EVET_STPEXT                              ;
 3588 000005CA 8B02                   M           BF      KMT_EVET_STPEXT
 3589                            1004     
 3590 000005CC 200A              1005             XOR     R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    30
PROGRAM NAME =

 3591 000005CE D103              1006             MOV.L   #_KMT_EVENT_FLG,R1                                              ;
 3592 000005D0 2101              1007             MOV.W   R0,@R1                                                          ;
 3593                            1008     
 3594                            1009     
 3595 000005D2                   1010     KMT_EVET_STPEXT
 3596                            1011             SUB_END
 3597                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3598 000005D2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3599                            1012             M_RTS
 3600 000005D4 000B                   M           RTS                             ;RTSの後ろの
 3601 000005D6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3602                            1013     
 3603                            1014     
 3604                            1015     ;       *******************************************
 3605                            1016     ;       ***                                     ***
 3606                            1017     ;       ***             ﾊﾝﾄﾞｼｪｲｸWR              ***
 3607                            1018     ;       ***                                     ***
 3608                            1019     ;       *******************************************
 3609                                     ***** BEGIN-POOL *****
 3610 000005D8 00000000                   DATA FOR SOURCE-LINE 1000
 3611 000005DC 00000000                   DATA FOR SOURCE-LINE 1006
 3612                                     ***** END-POOL *****
 3613 000005E0                   1020     _KOMTRAX_HAND_WRITE:
 3614                            1021             SUB_START
 3615 000005E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3616                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3617                            1022     
 3618                            1023     
 3619 000005E2 D111              1024             MOV.L   #_KMT_HANDWR_FLG,R1                             ;
 3620 000005E4 6011              1025             MOV.W   @R1,R0                                          ;BIT1=1
 3621 000005E6 C802              1026             TST     #(BIT1),R0                                      ;
 3622                            1027             TST_BIT_ON KMT_HANDWR_STP300                            ;
 3623 000005E8 8B2C                   M           BF      KMT_HANDWR_STP300
 3624                            1028     
 3625                            1029     ;       ---------- WDT ﾁｪｯｸ部分------------------
 3626                            1030             FAR_JSR #_KMT_HAND_WDTCHK,R0
 3627 000005EA D010                   M           MOV.L   #_KMT_HAND_WDTCHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3628 000005EC 400B                   M           JSR     @R0                     ;
 3629 000005EE 0009                   M           NOP                                     ;
 3630 000005F0 2008              1031             TST     R0,R0
 3631                            1032             TST_BIT_OF KMT_HANDWR_STPEXT                                            ;
 3632 000005F2 8931                   M           BT      KMT_HANDWR_STPEXT
 3633                            1033     
 3634                            1034     ;       -------------------------------------
 3635 000005F4 200A              1035             XOR     R0,R0
 3636 000005F6 D10E              1036             MOV.L   #(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1               ;0
                                          :固定 (SIT_MEMを対象)
 3637 000005F8 2101              1037             MOV.W   R0,@R1                                                          ;
 3638                            1038     
 3639 000005FA 9012              1039             MOV.W   #__SITM_HANDWR/2,R0                                             ;byte adr/
                                          2
 3640 000005FC D10D              1040             MOV.L   #(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1               ;
 3641 000005FE 2101              1041             MOV.W   R0,@R1                                                          ;
 3642                            1042     
 3643 00000600 9010              1043             MOV.W   #__SITM_HANDCNT/2,R0                                            ;2Byte=1WO
                                          RD
 3644 00000602 D10D              1044             MOV.L   #(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;MAX 1~256
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    31
PROGRAM NAME =

                                           word
 3645 00000604 2101              1045             MOV.W   R0,@R1
 3646                            1046     
 3647 00000606 D10D              1047             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;
 3648 00000608 6011              1048             MOV.W   @R1,R0                                                          ;
 3649 0000060A 7001              1049             ADD     #1,R0                                                           ;
 3650 0000060C D10B              1050             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;
 3651 0000060E 2101              1051             MOV.W   R0,@R1                                                          ;
 3652                            1052     
 3653 00000610 9008              1053             MOV.W   #__KMTCMD_WR,R0                                                         ;W
                                          RITE
 3654 00000612 D10B              1054             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;
 3655 00000614 2101              1055             MOV.W   R0,@R1                                                          ;
 3656                            1056     
 3657                            1057             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_HANDWR_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
 3658 00000616 D104                   M           MOV.L   #_KMT_HANDWR_FLG,R1             ;
 3659 00000618 6011                   M           MOV.W   @R1,R0          ;
 3660 0000061A CB02                   M           OR      #BIT1,R0                ;
 3661 0000061C 2101                   M           MOV.W   R0,@R1          ;
 3662                            1058             M_BRA   KMT_HANDWR_STPEXT
 3663 0000061E A01B                   M           BRA     KMT_HANDWR_STPEXT
 3664 00000620 0009                   M           NOP
 3665                            1059     
 3666                                     ***** BEGIN-POOL *****
 3667 00000622 0000                       DATA FOR SOURCE-LINE 1039
 3668 00000624 0001                       DATA FOR SOURCE-LINE 1043,1053
 3669 00000626 0000                       ALIGNMENT CODE
 3670 00000628 00000000                   DATA FOR SOURCE-LINE 1024,1057
 3671 0000062C 00000000                   DATA FOR SOURCE-LINE 1030
 3672 00000630 00000000                   DATA FOR SOURCE-LINE 1036
 3673 00000634 00000000                   DATA FOR SOURCE-LINE 1040
 3674 00000638 00000000                   DATA FOR SOURCE-LINE 1044
 3675 0000063C 00000000                   DATA FOR SOURCE-LINE 1047,1050
 3676 00000640 00000000                   DATA FOR SOURCE-LINE 1054
 3677                                     ***** END-POOL *****
 3678 00000644                   1060     KMT_HANDWR_STP300
 3679                            1061     
 3680                            1062     ;       ---------- WDT ﾁｪｯｸ部分------------------
 3681                            1063             FAR_JSR #_KMT_HAND_WDTCHK,R0                                            ;
 3682 00000644 D006                   M           MOV.L   #_KMT_HAND_WDTCHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 3683 00000646 400B                   M           JSR     @R0                     ;
 3684 00000648 0009                   M           NOP                                     ;
 3685                            1064     
 3686 0000064A D106              1065             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;
 3687 0000064C 6011              1066             MOV.W   @R1,R0                                                          ;
 3688 0000064E 2008              1067             TST     R0,R0                                                           ;
 3689                            1068             TST_BIT_ON KMT_HANDWR_STPEXT                                            ;ｺﾏﾝﾄﾞ処理
                                          中
 3690 00000650 8B02                   M           BF      KMT_HANDWR_STPEXT
 3691                            1069     
 3692 00000652 200A              1070             XOR     R0,R0
 3693 00000654 D104              1071             MOV.L   #_KMT_HANDWR_FLG,R1                                             ;
 3694 00000656 2101              1072             MOV.W   R0,@R1                                                          ;
 3695                            1073     
 3696                            1074     
 3697 00000658                   1075     KMT_HANDWR_STPEXT
 3698                            1076     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    32
PROGRAM NAME =

 3699                            1077             SUB_END
 3700                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3701 00000658 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3702                            1078             M_RTS
 3703 0000065A 000B                   M           RTS                             ;RTSの後ろの
 3704 0000065C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3705                            1079     
 3706                            1080     ;       ***************************************************
 3707                            1081     ;       ***                                             ***
 3708                            1082     ;       ***             WDT CHKECK                      ***
 3709                            1083     ;       ***                                             ***
 3710                            1084     ;       ***************************************************
 3711                            1085     ;       100msec毎にﾁｪｯｸ
 3712                                     ***** BEGIN-POOL *****
 3713 0000065E 0000                       ALIGNMENT CODE
 3714 00000660 00000000                   DATA FOR SOURCE-LINE 1063
 3715 00000664 00000000                   DATA FOR SOURCE-LINE 1065
 3716 00000668 00000000                   DATA FOR SOURCE-LINE 1071
 3717                                     ***** END-POOL *****
 3718          0000000B          1086     __WDT_TIM_SET_DAT       .EQU    (100/__TM_LATE10MS)+1   ;2011-01-14
 3719          00000064          1087     __WDT_UP_ERR_CNT        .EQU    100                     ;2011-01-14 100ﾒｲﾝｽｷｬﾝ*100msec=MIN
                                          =10秒 MAX=30秒
 3720                            1088     
 3721 0000066C                   1089     _KMT_HAND_WDTCHK:
 3722                            1090             SUB_START
 3723 0000066C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3724                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3725                            1091     
 3726                            1092     ;;;     MOV.L   #_KMT_STS1_SET,R1                                               ;READ確定ﾃ
                                          ﾞｰﾀあるか？
 3727                            1093     ;;;     MOV.W   @R1,R0                                                          ;
 3728                            1094     ;;;     MOV.W   #BIT0,R4
 3729                            1095     ;;;     TST     R4,R0                                                           ;
 3730                            1096     ;;;     TST_BIT_OF KMT_HANDWDTCHK_WAIT                                          ;
 3731                            1097     ;;;     NOT     R4,R4                                                           ;READの確
                                          定ﾃﾞｰﾀあるか?
 3732                            1098     ;;;     AND     R4,R0                                                           ;
 3733                            1099     ;;;     MOV.W   R0,@R1                                                          ;
 3734                            1100     
 3735 0000066E D503              1101             MOV.L   #_KMT_HANDWDT_TIM,R5                            ;
 3736 00000670 6051              1102             MOV.W   @R5,R0                                          ;
 3737 00000672 2008              1103             TST     R0,R0
 3738                            1104             TST_BIT_OF KMT_HANDWDTCHK_030                           ;
 3739 00000674 8904                   M           BT      KMT_HANDWDTCHK_030
 3740                            1105             M_BRA   KMT_HANDWDTCHK_WAIT                             ;
 3741 00000676 A039                   M           BRA     KMT_HANDWDTCHK_WAIT
 3742 00000678 0009                   M           NOP
 3743                            1106     
 3744                                     ***** BEGIN-POOL *****
 3745 0000067A 0000                       ALIGNMENT CODE
 3746 0000067C 00000000                   DATA FOR SOURCE-LINE 1101
 3747                                     ***** END-POOL *****
 3748 00000680                   1107     KMT_HANDWDTCHK_030                                              ;
 3749                            1108     ;;;;2011-01-14  MOV.W   #D'100+1,R0                             ;100msec
 3750 00000680 900F              1109             MOV.W   #__WDT_TIM_SET_DAT,R0                           ;10*10msec=100msec 2011-01
                                          -14
 3751 00000682 2501              1110             MOV.W   R0,@R5                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    33
PROGRAM NAME =

 3752 00000684                   1111     KMT_HANDWDTCHK_050                                              ;
 3753                            1112     
 3754 00000684 D108              1113             MOV.L   #(__SITM_HANDRD-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1               ;
 3755 00000686 6011              1114             MOV.W   @R1,R0                                                          ;
 3756 00000688 D108              1115             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV2_TOP,R1          ;
 3757 0000068A 6211              1116             MOV.W   @R1,R2                                                          ;
 3758 0000068C 3200              1117             CMP/EQ  R0,R2                                                           ;
 3759 0000068E 891B              1118             BT      KMT_HANDWDTCHK_200                                              ;
 3760                            1119     
 3761 00000690 D507              1120             MOV.L   #_KMT_HANDWDT_CNT,R5                                                    ;
 3762 00000692 6051              1121             MOV.W   @R5,R0                                                                  ;
 3763                            1122     ;;2011-01-14    MOV.W   #D'100,R4                                                       ;1
                                          00m*100scan=10秒
 3764 00000694 9406              1123             MOV.W   #__WDT_UP_ERR_CNT,R4                                                    ;1
                                          00m*100scan=10秒 2011-01-14
 3765 00000696 3042              1124             CMP/HS  R4,R0                                                                   ;
 3766 00000698 890C              1125             BT      KMT_HANDWDTCHK_100                                                      ;O
                                          VER
 3767 0000069A 7001              1126             ADD     #1,R0                                                                   ;
 3768 0000069C 2501              1127             MOV.W   R0,@R5                                                                  ;
 3769                            1128             M_BRA   KMT_HANDWDTCHK_WAIT                                                     ;
 3770 0000069E A025                   M           BRA     KMT_HANDWDTCHK_WAIT
 3771 000006A0 0009                   M           NOP
 3772                            1129     
 3773                                     ***** BEGIN-POOL *****
 3774 000006A2 000B                       DATA FOR SOURCE-LINE 1109
 3775 000006A4 0064                       DATA FOR SOURCE-LINE 1123
 3776 000006A6 0000                       ALIGNMENT CODE
 3777 000006A8 00000000                   DATA FOR SOURCE-LINE 1113
 3778 000006AC 00000000                   DATA FOR SOURCE-LINE 1115
 3779 000006B0 00000000                   DATA FOR SOURCE-LINE 1120
 3780                                     ***** END-POOL *****
 3781 000006B4                   1130     KMT_HANDWDTCHK_100                                                                      ;
 3782                            1131             MEM1_BIT0_F_ORSET MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(BIT7),WKRG1=R1,WKRG2=R4        ;
 3783 000006B4 D103                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 3784 000006B6 6011                   M           MOV.W   @R1,R0          ;
 3785 000006B8 9403                   M           MOV.W   #(BIT7),R4              ;
 3786 000006BA 204B                   M           OR      R4,R0           ;
 3787 000006BC 2101                   M           MOV.W   R0,@R1          ;
 3788                            1132             M_BRA   KMT_HANDWDTCHK_WAIT                                                     ;
 3789 000006BE A015                   M           BRA     KMT_HANDWDTCHK_WAIT
 3790 000006C0 0009                   M           NOP
 3791                            1133                                                                                             ;
 3792                                     ***** BEGIN-POOL *****
 3793 000006C2 0080                       DATA FOR SOURCE-LINE 1131
 3794 000006C4 00000000                   DATA FOR SOURCE-LINE 1131
 3795                                     ***** END-POOL *****
 3796 000006C8                   1134     KMT_HANDWDTCHK_200                                                                      ;
 3797                            1135     
 3798 000006C8 200A              1136             XOR     R0,R0                                                                   ;
 3799 000006CA D106              1137             MOV.L   #_KMT_HANDWDT_CNT,R1                                                    ;
 3800 000006CC 2101              1138             MOV.W   R0,@R1                                                                  ;
 3801                            1139     
 3802                            1140             MEM1_BIT0_F_ADCLR MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4       ;
 3803 000006CE D106                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 3804 000006D0 6011                   M           MOV.W   @R1,R0          ;
 3805 000006D2 9404                   M           MOV.W   #LWORD (~BIT7),R4       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    34
PROGRAM NAME =

 3806 000006D4 2049                   M           AND     R4,R0           ;
 3807 000006D6 2101                   M           MOV.W   R0,@R1          ;
 3808                            1141     
 3809 000006D8 9002              1142             MOV.W   #1,R0                           ;
 3810                            1143             M_BRA   KMT_HANDWDTCHK_END              ;ok
 3811 000006DA A008                   M           BRA     KMT_HANDWDTCHK_END
 3812 000006DC 0009                   M           NOP
 3813                            1144     
 3814                            1145     
 3815                                     ***** BEGIN-POOL *****
 3816 000006DE FF7F                       DATA FOR SOURCE-LINE 1140
 3817 000006E0 0001                       DATA FOR SOURCE-LINE 1142
 3818 000006E2 0000                       ALIGNMENT CODE
 3819 000006E4 00000000                   DATA FOR SOURCE-LINE 1137
 3820 000006E8 00000000                   DATA FOR SOURCE-LINE 1140
 3821                                     ***** END-POOL *****
 3822 000006EC                   1146     KMT_HANDWDTCHK_WAIT:
 3823 000006EC 200A              1147             XOR     R0,R0
 3824 000006EE                   1148     KMT_HANDWDTCHK_END:
 3825                            1149             SUB_END
 3826                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3827 000006EE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3828                            1150             M_RTS
 3829 000006F0 000B                   M           RTS                             ;RTSの後ろの
 3830 000006F2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3831                            1151     
 3832                            1152     
 3833                            1153     ;       *******************************************
 3834                            1154     ;       ***                                     ***
 3835                            1155     ;       ***             ｽﾃｰﾀｽREAD[KMT->SIT4]    ***
 3836                            1156     ;       ***             MAIN                    ***
 3837                            1157     ;       *******************************************
 3838 000006F4                   1158     _KOMTRAX_STATUS_READ:
 3839                            1159             SUB_START
 3840 000006F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3841                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3842                            1160     
 3843 000006F6 D10C              1161             MOV.L   #_KMT_STS1RD_FLG,R1                     ;
 3844 000006F8 6011              1162             MOV.W   @R1,R0                                  ;BIT1=1
 3845 000006FA C802              1163             TST     #(BIT1),R0                              ;
 3846                            1164             TST_BIT_ON KMT_STATUS_RD300                     ;
 3847 000006FC 8B1E                   M           BF      KMT_STATUS_RD300
 3848                            1165     
 3849 000006FE 200A              1166             XOR     R0,R0
 3850 00000700 D10A              1167             MOV.L   #(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R1       ;0:固定 (S
                                          IT_MEMを対象)
 3851 00000702 2101              1168             MOV.W   R0,@R1                                                          ;
 3852                            1169     
 3853 00000704 900D              1170             MOV.W   #__SITM_OUT_TOP/2,R0                                            ;byte adr/
                                          2
 3854 00000706 D10A              1171             MOV.L   #(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R1       ;
 3855 00000708 2101              1172             MOV.W   R0,@R1                                                          ;
 3856                            1173     
 3857 0000070A 900B              1174             MOV.W   #__SITM_OUTCNT/2,R0                                             ;32Byte=16
                                          WORD
 3858 0000070C D109              1175             MOV.L   #(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R1          ;AREA-MAX
                                          は50 word
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    35
PROGRAM NAME =

 3859 0000070E 2101              1176             MOV.W   R0,@R1
 3860                            1177     
 3861                            1178     
 3862 00000710 9009              1179             MOV.W   #__KMTCMD_RD,R0                                                 ;READ
 3863 00000712 D109              1180             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R1          ;
 3864 00000714 2101              1181             MOV.W   R0,@R1                                                          ;
 3865                            1182     
 3866                            1183             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_STS1RD_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
 3867 00000716 D104                   M           MOV.L   #_KMT_STS1RD_FLG,R1             ;
 3868 00000718 6011                   M           MOV.W   @R1,R0          ;
 3869 0000071A CB02                   M           OR      #BIT1,R0                ;
 3870 0000071C 2101                   M           MOV.W   R0,@R1          ;
 3871                            1184             M_BRA   KMT_STATUS_RDEXT
 3872 0000071E A020                   M           BRA     KMT_STATUS_RDEXT
 3873 00000720 0009                   M           NOP
 3874                            1185     
 3875                                     ***** BEGIN-POOL *****
 3876 00000722 0032                       DATA FOR SOURCE-LINE 1170
 3877 00000724 0010                       DATA FOR SOURCE-LINE 1174
 3878 00000726 0002                       DATA FOR SOURCE-LINE 1179
 3879 00000728 00000000                   DATA FOR SOURCE-LINE 1161,1183
 3880 0000072C 00000000                   DATA FOR SOURCE-LINE 1167
 3881 00000730 00000000                   DATA FOR SOURCE-LINE 1171
 3882 00000734 00000000                   DATA FOR SOURCE-LINE 1175
 3883 00000738 00000000                   DATA FOR SOURCE-LINE 1180
 3884                                     ***** END-POOL *****
 3885 0000073C                   1186     KMT_STATUS_RD300
 3886                            1187     
 3887 0000073C D10B              1188             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R1          ;
 3888 0000073E 6011              1189             MOV.W   @R1,R0                                                          ;
 3889 00000740 2008              1190             TST     R0,R0                                                           ;
 3890                            1191             TST_BIT_ON KMT_STATUS_RDEXT                                             ;ｺﾏﾝﾄﾞ処理
                                          中
 3891 00000742 8B0E                   M           BF      KMT_STATUS_RDEXT
 3892                            1192     
 3893                            1193     
 3894                            1194     
 3895 00000744 9410              1195             MOV.W   #__SITM_OUTCNT/2,R4                                             ;32Byte=16
                                          WORD
 3896 00000746 D50A              1196             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV3_TOP,R5          ;
 3897 00000748 D60A              1197             MOV.L   #_KMT_STS1_AREA,R6                                              ;50word
 3898                            1198     
 3899 0000074A                   1199     KMT_STATUS_RD400LOP:
 3900 0000074A 6255              1200             MOV.W   @R5+,R2                         ;確定ﾃﾞｰﾀのCOPY
 3901 0000074C 2621              1201             MOV.W   R2,@R6                          ;
 3902 0000074E 7602              1202             ADD     #2,R6                           ;
 3903 00000750 74FF              1203             ADD     #-1,R4                          ;
 3904 00000752 2448              1204             TST     R4,R4                           ;
 3905                            1205             TST_BIT_ON KMT_STATUS_RD400LOP          ;
 3906 00000754 8BF9                   M           BF      KMT_STATUS_RD400LOP
 3907                            1206     
 3908 00000756 200A              1207             XOR     R0,R0
 3909 00000758 D107              1208             MOV.L   #_KMT_STS1RD_FLG,R1             ;
 3910 0000075A 2101              1209             MOV.W   R0,@R1                          ;
 3911                            1210     
 3912 0000075C D107              1211             MOV.L   #_KMT_STS1_SET,R1               ;
 3913 0000075E 9004              1212             MOV.W   #H'00FF,R0                      ;MAIN-->他のｿﾌﾄ用
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    36
PROGRAM NAME =

 3914 00000760 2101              1213             MOV.W   R0,@R1                          ;
 3915                            1214     
 3916                            1215     
 3917 00000762                   1216     KMT_STATUS_RDEXT
 3918                            1217     
 3919                            1218             SUB_END
 3920                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 3921 00000762 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 3922                            1219             M_RTS
 3923 00000764 000B                   M           RTS                             ;RTSの後ろの
 3924 00000766 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 3925                            1220     
 3926                            1221     ;       *******************************************
 3927                            1222     ;       ***                                     ***
 3928                            1223     ;       ***             SEQ作成                 ***
 3929                            1224     ;       ***                                     ***
 3930                            1225     ;       *******************************************
 3931                                     ***** BEGIN-POOL *****
 3932 00000768 0010                       DATA FOR SOURCE-LINE 1195
 3933 0000076A 00FF                       DATA FOR SOURCE-LINE 1212
 3934 0000076C 00000000                   DATA FOR SOURCE-LINE 1188
 3935 00000770 00000000                   DATA FOR SOURCE-LINE 1196
 3936 00000774 00000000                   DATA FOR SOURCE-LINE 1197
 3937 00000778 00000000                   DATA FOR SOURCE-LINE 1208
 3938 0000077C 00000000                   DATA FOR SOURCE-LINE 1211
 3939                                     ***** END-POOL *****
 3940 00000780                   1226     _KOMTRAX_STAUS_MAKE
 3941                            1227             SUB_START
 3942 00000780 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3943                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3944                            1228     
 3945 00000782 D126              1229             MOV.L   #_KMT_STS1_SET,R1               ;
 3946 00000784 6011              1230             MOV.W   @R1,R0                          ;
 3947 00000786 943F              1231             MOV.W   #BIT1,R4
 3948 00000788 2048              1232             TST     R4,R0                           ;
 3949                            1233             TST_BIT_OF KMT_STAUSMAKE_EXT            ;確定ﾃﾞｰﾀなし
 3950 0000078A 8932                   M           BT      KMT_STAUSMAKE_EXT
 3951 0000078C 6447              1234             NOT     R4,R4
 3952 0000078E 2049              1235             AND     R4,R0                           ;
 3953 00000790 2101              1236             MOV.W   R0,@R1                          ;CLR
 3954                            1237     
 3955                            1238     
 3956 00000792 233A              1239             XOR     R3,R3
 3957                            1240     
 3958 00000794 D122              1241             MOV.L   #(__SITM_TRSSTS1-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1              ;
 3959 00000796 6011              1242             MOV.W   @R1,R0                                                          ;
 3960                            1243     
 3961 00000798 244A              1244             XOR     R4,R4
 3962 0000079A C810              1245             TST     #BIT4,R0                                                        ;ｱﾝﾃﾅﾏｰｸ圏
                                          内?1:圏内
 3963                            1246             TST_BIT_OF KMT_STAUSMAK_100     ;
 3964 0000079C 8901                   M           BT      KMT_STAUSMAK_100
 3965 0000079E 9434              1247             MOV.W   #BIT14,R4               ;
 3966 000007A0 234B              1248             OR      R4,R3                   ;
 3967 000007A2                   1249     KMT_STAUSMAK_100                        ;
 3968                            1250     
 3969 000007A2 244A              1251             XOR     R4,R4                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    37
PROGRAM NAME =

 3970 000007A4 C80C              1252             TST     #(BIT3+BIT2),R0         ;BIT3=ｱﾝﾃﾅ3 BIT2=ｱﾝﾃﾅ2
 3971                            1253             TST_BIT_OF KMT_STAUSMAK_120     ;ｱﾝﾃﾅﾏｰｸ2?  3>2>1>圏外
 3972 000007A6 8901                   M           BT      KMT_STAUSMAK_120
 3973 000007A8 9430              1254             MOV.W   #BIT13,R4               ;
 3974 000007AA 234B              1255             OR      R4,R3                   ;
 3975 000007AC                   1256     KMT_STAUSMAK_120                        ;
 3976                            1257     
 3977                            1258     
 3978                            1259     
 3979 000007AC D11D              1260             MOV.L   #(__SITM_ERRSTS1-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1              ;
 3980 000007AE 6011              1261             MOV.W   @R1,R0                                                          ;
 3981                            1262     
 3982 000007B0 244A              1263             XOR     R4,R4
 3983 000007B2 C820              1264             TST     #BIT5,R0                ;ﾊﾞｯﾃﾘ異常
 3984                            1265             TST_BIT_OF KMT_STAUSMAK_200     ;
 3985 000007B4 8901                   M           BT      KMT_STAUSMAK_200
 3986 000007B6 942A              1266             MOV.W   #BIT9,R4                ;
 3987 000007B8 234B              1267             OR      R4,R3                   ;
 3988 000007BA                   1268     KMT_STAUSMAK_200                        ;
 3989                            1269     
 3990 000007BA 244A              1270             XOR     R4,R4                   ;
 3991 000007BC 9128              1271             MOV.W   #LWORD ~BIT5,R1         ;ﾊﾞｯﾃﾘ異常以外
 3992 000007BE 2018              1272             TST     R1,R0                   ;
 3993                            1273             TST_BIT_OF KMT_STAUSMAK_220     ;
 3994 000007C0 8901                   M           BT      KMT_STAUSMAK_220
 3995 000007C2 9426              1274             MOV.W   #BIT8,R4                ;
 3996 000007C4 234B              1275             OR      R4,R3                   ;
 3997 000007C6                   1276     KMT_STAUSMAK_220                        ;
 3998                            1277     
 3999                            1278     
 4000 000007C6 D118              1279             MOV.L   #(__SITM_WARSTS1-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1              ;
 4001 000007C8 6011              1280             MOV.W   @R1,R0                                                          ;
 4002 000007CA 244A              1281             XOR     R4,R4
 4003 000007CC 2008              1282             TST     R0,R0                   ;
 4004                            1283             TST_BIT_OF KMT_STAUSMAK_300     ;
 4005 000007CE 8901                   M           BT      KMT_STAUSMAK_300
 4006 000007D0 9420              1284             MOV.W   #BIT10,R4               ;
 4007 000007D2 234B              1285             OR      R4,R3                   ;
 4008 000007D4                   1286     KMT_STAUSMAK_300                        ;
 4009                            1287     
 4010 000007D4 D115              1288             MOV.L   #(__SITM_TRSSTS2-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1              ;
 4011 000007D6 6011              1289             MOV.W   @R1,R0                                                          ;
 4012 000007D8 244A              1290             XOR     R4,R4
 4013 000007DA C804              1291             TST     #BIT2,R0                ;
 4014                            1292             TST_BIT_OF KMT_STAUSMAK_400     ;
 4015 000007DC 8901                   M           BT      KMT_STAUSMAK_400
 4016 000007DE 941A              1293             MOV.W   #BIT15,R4               ;初期設定ﾓｰﾄﾞ
 4017 000007E0 234B              1294             OR      R4,R3                   ;
 4018 000007E2                   1295     KMT_STAUSMAK_400                        ;
 4019                            1296     
 4020                            1297     
 4021 000007E2 D113              1298             MOV.L   #_KMT_STS1MN_SQ87,R1    ;
 4022 000007E4 6011              1299             MOV.W   @R1,R0
 4023 000007E6 9417              1300             MOV.W   #BIT15+BIT14+BIT13+BIT10+BIT9+BIT8,R4
 4024 000007E8 2349              1301             AND     R4,R3                                   ;
 4025 000007EA 6447              1302             NOT     R4,R4                                   ;
 4026 000007EC 2049              1303             AND     R4,R0                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    38
PROGRAM NAME =

 4027 000007EE 203B              1304             OR      R3,R0                                           ;
 4028 000007F0 2101              1305             MOV.W   R0,@R1                                          ;
 4029                            1306     
 4030 000007F2                   1307     KMT_STAUSMAKE_EXT
 4031                            1308     
 4032                            1309     ;       ============ ﾌﾞﾛｯｸ転送(MONITOR)============
 4033 000007F2 D510              1310             MOV.L   #_KMT_STS1_AREA,R5
 4034 000007F4 D610              1311             MOV.L   #_FRAM_CB_ICHAR,R6
 4035 000007F6 9410              1312             MOV.W   #D'50,R4
 4036                            1313             BLOCK_MOV1 LG=W,AD_DT=2,SRC_REG=R5,DST_REG=R6,DATA_REG=R2,CNT_REG=R4
 4037 000007F8                        M   JMP000005:                                      ;
 4038 000007F8 2448                   M           TST     R4,R4   ;
 4039                                 M           TST_BIT_OF JMP100005            ;
 4040 000007FA 891F                   M           BT      JMP100005
 4041 000007FC 6255                   M           MOV.W   @R5+,R2 ;
 4042 000007FE 2621                   M           MOV.W   R2,@R6  ;
 4043 00000800 7602                   M           ADD     #2,R6   ;
 4044 00000802 74FF                   M           ADD     #H'FF,R4                ;
 4045                                 M           M_BRA   JMP000005                       ;
 4046 00000804 AFF8                   M           BRA     JMP000005
 4047 00000806 0009                   M           NOP
 4048                                 M   ***** BEGIN-POOL *****
 4049 00000808 0002                   M   DATA FOR SOURCE-LINE 1231
 4050 0000080A 4000                   M   DATA FOR SOURCE-LINE 1247
 4051 0000080C 2000                   M   DATA FOR SOURCE-LINE 1254
 4052 0000080E 0200                   M   DATA FOR SOURCE-LINE 1266
 4053 00000810 FFDF                   M   DATA FOR SOURCE-LINE 1271
 4054 00000812 0100                   M   DATA FOR SOURCE-LINE 1274
 4055 00000814 0400                   M   DATA FOR SOURCE-LINE 1284
 4056 00000816 8000                   M   DATA FOR SOURCE-LINE 1293
 4057 00000818 E700                   M   DATA FOR SOURCE-LINE 1300
 4058 0000081A 0032                   M   DATA FOR SOURCE-LINE 1312
 4059 0000081C 00000000               M   DATA FOR SOURCE-LINE 1229
 4060 00000820 00000000               M   DATA FOR SOURCE-LINE 1241
 4061 00000824 00000000               M   DATA FOR SOURCE-LINE 1260
 4062 00000828 00000000               M   DATA FOR SOURCE-LINE 1279
 4063 0000082C 00000000               M   DATA FOR SOURCE-LINE 1288
 4064 00000830 00000000               M   DATA FOR SOURCE-LINE 1298
 4065 00000834 00000000               M   DATA FOR SOURCE-LINE 1310
 4066 00000838 00000000               M   DATA FOR SOURCE-LINE 1311
 4067                                 M   ***** END-POOL *****
 4068 0000083C                        M   JMP100005:                                      ;
 4069                            1314     
 4070                            1315             SUB_END
 4071                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4072 0000083C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4073                            1316             M_RTS
 4074 0000083E 000B                   M           RTS                             ;RTSの後ろの
 4075 00000840 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4076                            1317     
 4077                            1318     ;       *******************************************
 4078                            1319     ;       ***                                     ***
 4079                            1320     ;       ***             実測作成                ***
 4080                            1321     ;       ***                                     ***
 4081                            1322     ;       *******************************************
 4082                            1323             .IMPORT _PVP_POWER_MONI ;
 4083                            1324             .IMPORT _PVP_MENTE_CNT  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    39
PROGRAM NAME =

 4084                            1325     
 4085 00000842                   1326     _KOMTRAX_PVDAT_MAKE
 4086                            1327             SUB_START
 4087 00000842 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4088                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4089                            1328     
 4090 00000844 D106              1329             MOV.L   #_PVP_POWER_MONI,R1
 4091 00000846 6011              1330             MOV.W   @R1,R0
 4092 00000848 D106              1331             MOV.L   #_KMT_COM1_AREA+__SITM_AIDAT1,R1        ;
 4093 0000084A 2101              1332             MOV.W   R0,@R1
 4094                            1333     
 4095 0000084C D106              1334             MOV.L   #_PVP_MENTE_CNT,R1                      ;
 4096 0000084E 6012              1335             MOV.L   @R1,R0
 4097                            1336     
 4098 00000850 D106              1337             MOV.L   #_KMT_COM1_AREA+__SITM_MENTCNT+2,R1     ;
 4099 00000852 2101              1338             MOV.W   R0,@R1                                  ;
 4100 00000854 D106              1339             MOV.L   #_KMT_COM1_AREA+__SITM_MENTCNT+0,R1     ;
 4101 00000856 6009              1340             SWAP.W  R0,R0
 4102 00000858 2101              1341             MOV.W   R0,@R1                                  ;
 4103                            1342     
 4104                            1343     
 4105                            1344             SUB_END
 4106                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4107 0000085A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4108                            1345             M_RTS
 4109 0000085C 000B                   M           RTS                             ;RTSの後ろの
 4110 0000085E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4111                            1346     
 4112                            1347     
 4113                            1348     ;       *******************************************
 4114                            1349     ;       ***                                     ***
 4115                            1350     ;       ***             実測転送                ***
 4116                            1351     ;       ***                                     ***
 4117                            1352     ;       *******************************************
 4118                                     ***** BEGIN-POOL *****
 4119 00000860 00000000                   DATA FOR SOURCE-LINE 1329
 4120 00000864 00000000                   DATA FOR SOURCE-LINE 1331
 4121 00000868 00000000                   DATA FOR SOURCE-LINE 1334
 4122 0000086C 00000000                   DATA FOR SOURCE-LINE 1337
 4123 00000870 00000000                   DATA FOR SOURCE-LINE 1339
 4124                                     ***** END-POOL *****
 4125 00000874                   1353     _KOMTRAX_PVDAT_WRITE:
 4126                            1354             SUB_START
 4127 00000874 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4128                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4129                            1355     
 4130                            1356     
 4131 00000876 D10F              1357             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R1          ;
 4132 00000878 6011              1358             MOV.W   @R1,R0                                                          ;
 4133 0000087A 2008              1359             TST     R0,R0                                                           ;
 4134                            1360             TST_BIT_ON KMT_PVDTWR_EXT                                               ;ｺﾏﾝﾄﾞ処理
                                          中
 4135 0000087C 8B14                   M           BF      KMT_PVDTWR_EXT
 4136                            1361     
 4137 0000087E 200A              1362             XOR     R0,R0
 4138 00000880 D10D              1363             MOV.L   #(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R1               ;0
                                          :固定 (SIT_MEMを対象)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    40
PROGRAM NAME =

 4139 00000882 2101              1364             MOV.W   R0,@R1                                                          ;
 4140                            1365     
 4141 00000884 9013              1366             MOV.W   #__SITM_AIDAT1/2,R0                                             ;byte adr/
                                          2
 4142 00000886 D10D              1367             MOV.L   #(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R1               ;
 4143 00000888 2101              1368             MOV.W   R0,@R1                                                          ;
 4144                            1369     
 4145 0000088A 9010              1370             MOV.W   #(__SITM_AIDTCNT+__SITM_MCNTCNT)/2,R0                           ;
 4146 0000088C D10C              1371             MOV.L   #(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R1          ;MAX 1~256
                                           word
 4147 0000088E 2101              1372             MOV.W   R0,@R1
 4148                            1373     
 4149 00000890 940D              1374             MOV.W   #(__SITM_AIDTCNT+__SITM_MCNTCNT)/2,R4                           ;AI+MENTE
 4150 00000892 D50C              1375             MOV.L   #_KMT_COM1_AREA+__SITM_AIDAT1,R5                                ;
 4151 00000894 D60C              1376             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R6          ;
 4152 00000896                   1377     KMT_PVDATWR100LOP
 4153 00000896 6055              1378             MOV.W   @R5+,R0
 4154 00000898 2601              1379             MOV.W   R0,@R6
 4155 0000089A 7602              1380             ADD     #2,R6                                           ;
 4156 0000089C 74FF              1381             ADD     #-1,R4                                          ;
 4157 0000089E 2448              1382             TST     R4,R4                                           ;
 4158                            1383             TST_BIT_ON KMT_PVDATWR100LOP                            ;
 4159 000008A0 8BF9                   M           BF      KMT_PVDATWR100LOP
 4160                            1384     
 4161                            1385     
 4162 000008A2 9005              1386             MOV.W   #__KMTCMD_WR,R0                                                         ;W
                                          RITE
 4163 000008A4 D103              1387             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV4_TOP,R1          ;
 4164 000008A6 2101              1388             MOV.W   R0,@R1                                                          ;
 4165                            1389     
 4166                            1390     
 4167 000008A8                   1391     KMT_PVDTWR_EXT
 4168                            1392     
 4169                            1393             SUB_END
 4170                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4171 000008A8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4172                            1394             M_RTS
 4173 000008AA 000B                   M           RTS                             ;RTSの後ろの
 4174 000008AC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4175                            1395     
 4176                            1396     
 4177                            1397     
 4178                            1398     
 4179                            1399     ;       *******************************************
 4180                            1400     ;       ***                                     ***
 4181                            1401     ;       ***             転送処理                ***
 4182                            1402     ;       ***             1word * N 転送処理      ***
 4183                            1403     ;       ***             (read/write)            ***
 4184                            1404     ;       ***                                     ***
 4185                            1405     ;       *******************************************
 4186                            1406     ;
 4187                            1407     ;
 4188                            1408     ;       相手ﾀｽｸ WR 2ﾀｽｸ ｲﾍﾞﾝﾄWR
 4189                            1409     ;                                       ﾊﾝﾄﾞｼｪｲｸWR
 4190                            1410     ;
 4191                            1411     ;                   RD 1ﾀｽｸ 0番地から16word
 4192                            1412     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    41
PROGRAM NAME =

 4193                            1413     ;
 4194                                     ***** BEGIN-POOL *****
 4195 000008AE 0006                       DATA FOR SOURCE-LINE 1366,1370,1374
 4196 000008B0 0001                       DATA FOR SOURCE-LINE 1386
 4197 000008B2 0000                       ALIGNMENT CODE
 4198 000008B4 00000000                   DATA FOR SOURCE-LINE 1357,1387
 4199 000008B8 00000000                   DATA FOR SOURCE-LINE 1363
 4200 000008BC 00000000                   DATA FOR SOURCE-LINE 1367
 4201 000008C0 00000000                   DATA FOR SOURCE-LINE 1371
 4202 000008C4 00000000                   DATA FOR SOURCE-LINE 1375
 4203 000008C8 00000000                   DATA FOR SOURCE-LINE 1376
 4204                                     ***** END-POOL *****
 4205 000008CC                   1414             .ALIGN  4                                       ;
 4206 000008CC                   1415     _KMT_CMD_TRS:
 4207                            1416             SUB_START
 4208 000008CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4209                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4210                            1417     
 4211 000008CE D10E              1418             MOV.L   #_KMT_TRS_CMD,R1                ;0:ILDE 1:WRITE 2:READ
 4212 000008D0 6011              1419             MOV.W   @R1,R0                          ;
 4213 000008D2 8801              1420             CMP/EQ  #__KMTCMD_WR,R0                 ;
 4214 000008D4 8964              1421             BT      KMT_CMDTRS_200                  ;WRITE中
 4215                            1422     
 4216 000008D6 8802              1423             CMP/EQ  #__KMTCMD_RD,R0                 ;
 4217 000008D8 896A              1424             BT      KMT_CMDTRS_300                  ;READ中
 4218                            1425     
 4219                            1426     
 4220                            1427     ;       ----- IDLE (CMD CHECK)複数ﾀｽｸの場合ｽｷｬﾝ毎にﾀｽｸｻｰﾁ------
 4221 000008DA D10C              1428             MOV.L   #_KMT_TRS_SCAN,R1               ;
 4222 000008DC 6011              1429             MOV.W   @R1,R0                          ;
 4223 000008DE 7001              1430             ADD     #1,R0                                   ;
 4224 000008E0 C907              1431             AND     #H'07,R0                                ;0,1,2,3,4,5,6,7
 4225 000008E2 2101              1432             MOV.W   R0,@R1                          ;4SCAN<ｺﾏﾝﾄﾞを4個まで受け付ける>
 4226                            1433     
 4227 000008E4 8800              1434             CMP/EQ  #0,R0                           ;
 4228 000008E6 8913              1435             BT      KMT_CMD_EVET_000                ;
 4229 000008E8 8804              1436             CMP/EQ  #4,R0                           ;
 4230 000008EA 8911              1437             BT      KMT_CMD_EVET_000                ;
 4231                            1438     
 4232 000008EC 8801              1439             CMP/EQ  #1,R0                           ;
 4233 000008EE 8919              1440             BT      KMT_CMD_HAND_000                ;
 4234                            1441     
 4235                            1442     ;       ------2011-01-14--移動---
 4236 000008F0 8805              1443             CMP/EQ  #5,R0                           ;
 4237 000008F2 892B              1444             BT      KMT_CMD_PVWR_000                ;3SCANと7ｽｷｬﾝ目での実行を5ｽｷｬﾝ目のみにする
 4238                            1445     
 4239 000008F4 8802              1446             CMP/EQ  #2,R0                           ;
 4240 000008F6 891F              1447             BT      KMT_CMD_STSR_000                ;
 4241 000008F8 8806              1448             CMP/EQ  #6,R0                           ;
 4242 000008FA 891D              1449             BT      KMT_CMD_STSR_000                ;
 4243                            1450     
 4244                            1451     ;---------- 2011-01-14 ---------
 4245                            1452     ;;;     CMP/EQ  #3,R0                           ;
 4246                            1453     ;;;     BT      KMT_CMD_PVWR_000                ;
 4247                            1454     ;;;     CMP/EQ  #7,R0                           ;
 4248                            1455     ;;;     BT      KMT_CMD_PVWR_000                ;
 4249                            1456     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    42
PROGRAM NAME =

 4250                            1457     
 4251 000008FC 8803              1458             CMP/EQ  #3,R0                           ;
 4252 000008FE 893F              1459             BT      KMT_CMD_SYOUMO_000              ;消耗品
 4253 00000900 8807              1460             CMP/EQ  #7,R0                           ;
 4254 00000902 892D              1461             BT      KMT_CMD_HINBAN_000              ;品番
 4255                            1462             M_BRA   KMT_CMDTRS_END                  ;
 4256 00000904 A058                   M           BRA     KMT_CMDTRS_END
 4257 00000906 0009                   M           NOP
 4258                            1463     
 4259                            1464     
 4260                            1465     ;       =============ｲﾍﾞﾝﾄｺｰﾄﾞ送信==================
 4261                                     ***** BEGIN-POOL *****
 4262 00000908 00000000                   DATA FOR SOURCE-LINE 1418
 4263 0000090C 00000000                   DATA FOR SOURCE-LINE 1428
 4264                                     ***** END-POOL *****
 4265 00000910                   1466     KMT_CMD_EVET_000
 4266                            1467     ;       ------ 送信ﾀｽｸ 8byte----
 4267 00000910 D802              1468             MOV.L   #_KMT_TRSSV1_TOP,R8             ;
 4268                            1469             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4269 00000912 D003                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4270 00000914 400B                   M           JSR     @R0                     ;
 4271 00000916 0009                   M           NOP                                     ;
 4272                            1470             M_BRA   KMT_CMDTRS_END                  ;
 4273 00000918 A04E                   M           BRA     KMT_CMDTRS_END
 4274 0000091A 0009                   M           NOP
 4275                            1471     
 4276                            1472     ;       =============ﾊﾝﾄﾞｼｪｲｸ送信===================
 4277                                     ***** BEGIN-POOL *****
 4278 0000091C 00000000                   DATA FOR SOURCE-LINE 1468
 4279 00000920 00000000                   DATA FOR SOURCE-LINE 1469
 4280                                     ***** END-POOL *****
 4281 00000924                   1473     KMT_CMD_HAND_000
 4282                            1474     ;       ------ 送信ﾀｽｸ 2BYTE----
 4283 00000924 D802              1475             MOV.L   #_KMT_TRSSV2_TOP,R8             ;
 4284                            1476             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4285 00000926 D003                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4286 00000928 400B                   M           JSR     @R0                     ;
 4287 0000092A 0009                   M           NOP                                     ;
 4288                            1477             M_BRA   KMT_CMDTRS_END                  ;
 4289 0000092C A044                   M           BRA     KMT_CMDTRS_END
 4290 0000092E 0009                   M           NOP
 4291                            1478     
 4292                            1479     ;       =============ｽﾃｰﾀｽREAD  ===================
 4293                                     ***** BEGIN-POOL *****
 4294 00000930 00000000                   DATA FOR SOURCE-LINE 1475
 4295 00000934 00000000                   DATA FOR SOURCE-LINE 1476
 4296                                     ***** END-POOL *****
 4297 00000938                   1480     KMT_CMD_STSR_000
 4298                            1481     ;       ------ 受信ﾀｽｸ 16BYTE----
 4299 00000938 D802              1482             MOV.L   #_KMT_TRSSV3_TOP,R8             ;
 4300                            1483             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4301 0000093A D003                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4302 0000093C 400B                   M           JSR     @R0                     ;
 4303 0000093E 0009                   M           NOP                                     ;
 4304                            1484             M_BRA   KMT_CMDTRS_END                  ;
 4305 00000940 A03A                   M           BRA     KMT_CMDTRS_END
 4306 00000942 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    43
PROGRAM NAME =

 4307                            1485     
 4308                            1486     
 4309                            1487     ;       =============実測値送信===================
 4310                                     ***** BEGIN-POOL *****
 4311 00000944 00000000                   DATA FOR SOURCE-LINE 1482
 4312 00000948 00000000                   DATA FOR SOURCE-LINE 1483
 4313                                     ***** END-POOL *****
 4314 0000094C                   1488     KMT_CMD_PVWR_000
 4315                            1489     ;       ------ 送信ﾀｽｸ 16BYTE----
 4316 0000094C D802              1490             MOV.L   #_KMT_TRSSV4_TOP,R8             ;
 4317                            1491             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4318 0000094E D003                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4319 00000950 400B                   M           JSR     @R0                     ;
 4320 00000952 0009                   M           NOP                                     ;
 4321                            1492             M_BRA   KMT_CMDTRS_END                  ;
 4322 00000954 A030                   M           BRA     KMT_CMDTRS_END
 4323 00000956 0009                   M           NOP
 4324                            1493     
 4325                            1494     
 4326                            1495     ;       ===== 追加2011-01-14 品番 =====
 4327                                     ***** BEGIN-POOL *****
 4328 00000958 00000000                   DATA FOR SOURCE-LINE 1490
 4329 0000095C 00000000                   DATA FOR SOURCE-LINE 1491
 4330                                     ***** END-POOL *****
 4331 00000960                   1496     KMT_CMD_HINBAN_000
 4332 00000960 D104              1497             MOV.L   #_KMT_TYP_011,R1                ;
 4333 00000962 6011              1498             MOV.W   @R1,R0                          ;
 4334 00000964 2008              1499             TST     R0,R0                           ;
 4335                            1500             TST_BIT_OF KMT_CMDTRS_END               ;
 4336 00000966 8927                   M           BT      KMT_CMDTRS_END
 4337                            1501     
 4338                            1502     ;       ------ 送信ﾀｽｸ 80BYTE----
 4339 00000968 D803              1503             MOV.L   #_KMT_TRSSV5_TOP,R8             ;
 4340                            1504             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4341 0000096A D004                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4342 0000096C 400B                   M           JSR     @R0                     ;
 4343 0000096E 0009                   M           NOP                                     ;
 4344                            1505             M_BRA   KMT_CMDTRS_END                  ;
 4345 00000970 A022                   M           BRA     KMT_CMDTRS_END
 4346 00000972 0009                   M           NOP
 4347                            1506     
 4348                            1507     
 4349                            1508     ;       ===== 追加2011-01-14 消耗品 ====
 4350                                     ***** BEGIN-POOL *****
 4351 00000974 00000000                   DATA FOR SOURCE-LINE 1497
 4352 00000978 00000000                   DATA FOR SOURCE-LINE 1503
 4353 0000097C 00000000                   DATA FOR SOURCE-LINE 1504
 4354                                     ***** END-POOL *****
 4355 00000980                   1509     KMT_CMD_SYOUMO_000
 4356 00000980 D104              1510             MOV.L   #_KMT_TYP_011,R1                ;
 4357 00000982 6011              1511             MOV.W   @R1,R0                          ;
 4358 00000984 2008              1512             TST     R0,R0                           ;
 4359                            1513             TST_BIT_OF KMT_CMDTRS_END               ;
 4360 00000986 8917                   M           BT      KMT_CMDTRS_END
 4361                            1514     
 4362                            1515     ;       ------ 送信ﾀｽｸ 64BYTE----
 4363 00000988 D803              1516             MOV.L   #_KMT_TRSSV6_TOP,R8             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    44
PROGRAM NAME =

 4364                            1517             FAR_JSR #_KMT_CMDTRS_CHK,R0             ;CHKECK+ INITAL　KMT_TRS_CMD:SET
 4365 0000098A D004                   M           MOV.L   #_KMT_CMDTRS_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4366 0000098C 400B                   M           JSR     @R0                     ;
 4367 0000098E 0009                   M           NOP                                     ;
 4368                            1518             M_BRA   KMT_CMDTRS_END                  ;
 4369 00000990 A012                   M           BRA     KMT_CMDTRS_END
 4370 00000992 0009                   M           NOP
 4371                            1519     
 4372                            1520     
 4373                            1521     
 4374                            1522     ;       -----------------------------------
 4375                            1523     ;       ---     WR/RD共通処理           ---
 4376                            1524     ;       -----------------------------------
 4377                            1525     ;       --------WR処理中-----
 4378                                     ***** BEGIN-POOL *****
 4379 00000994 00000000                   DATA FOR SOURCE-LINE 1510
 4380 00000998 00000000                   DATA FOR SOURCE-LINE 1516
 4381 0000099C 00000000                   DATA FOR SOURCE-LINE 1517
 4382                                     ***** END-POOL *****
 4383 000009A0                   1526     KMT_CMDTRS_200
 4384                            1527             FAR_JSR #_KMT_TRS_STP_WR,R0             ;CMD CLR
 4385 000009A0 D002                   M           MOV.L   #_KMT_TRS_STP_WR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4386 000009A2 400B                   M           JSR     @R0                     ;
 4387 000009A4 0009                   M           NOP                                     ;
 4388                            1528             M_BRA   KMT_CMDTRS_400                  ;
 4389 000009A6 A006                   M           BRA     KMT_CMDTRS_400
 4390 000009A8 0009                   M           NOP
 4391                            1529     
 4392                            1530     ;       --------RD処理中-----
 4393                                     ***** BEGIN-POOL *****
 4394 000009AA 0000                       ALIGNMENT CODE
 4395 000009AC 00000000                   DATA FOR SOURCE-LINE 1527
 4396                                     ***** END-POOL *****
 4397 000009B0                   1531     KMT_CMDTRS_300
 4398                            1532             FAR_JSR #_KMT_TRS_STP_RD,R0             ;
 4399 000009B0 D003                   M           MOV.L   #_KMT_TRS_STP_RD,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4400 000009B2 400B                   M           JSR     @R0                     ;
 4401 000009B4 0009                   M           NOP                                     ;
 4402                            1533     
 4403 000009B6                   1534     KMT_CMDTRS_400:
 4404 000009B6 0009              1535             NOP
 4405                            1536     
 4406 000009B8                   1537     KMT_CMDTRS_END
 4407                            1538             SUB_END
 4408                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4409 000009B8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4410                            1539             M_RTS
 4411 000009BA 000B                   M           RTS                             ;RTSの後ろの
 4412 000009BC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4413                            1540     
 4414                            1541     
 4415                            1542     
 4416                            1543     ;       ***********************************
 4417                            1544     ;       ***                             ***
 4418                            1545     ;       ***     CMD START CHECK         ***
 4419                            1546     ;       ***                             ***
 4420                            1547     ;       ***     Input R8(STRUCT)        ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    45
PROGRAM NAME =

 4421                            1548     ;       ***                             ***
 4422                            1549     ;       ***********************************
 4423                            1550     ;       MOV.L   #_KMT_TRSSV1_TOP,R8             ;
 4424                            1551     ;       -------- 2009-07-27(API1)-------
 4425                            1552     ;_KMT_TRSSV1_FORM:                                      ;配列
 4426                            1553     ;_KMT_TRSSV1_TOP:                                       ;配列
 4427                            1554     ;_KMT_TRSSV1_CMD                .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 4428                            1555     ;_KMT_TRSSV1_MEMKND     .SRES   2                       ;0:固定 (SIT_MEMを対象)
 4429                            1556     ;_KMT_TRSSV1_OBJADR     .SRES   2                       ;TOP_ADR()
 4430                            1557     ;_KMT_TRSSV1_CNT                .SRES   2                       ;MAX 1~256 word
 4431                            1558     ;_KMT_TRSSV1_DAT                .SRES   2*256                   ;MAX 256word
 4432                            1559     
 4433                            1560     ;_KMT_TRSLT_TOPADR      .SRES   4                       ;ｽﾄﾗｸﾁｬ
 4434                            1561     ;_KMT_TRSLT_CMD         .SRES   2                       ;=ADR(_KMT_TRSSV1_CMD)
 4435                            1562     ;_KMT_TRSLT_MEMKND      .SRES   2                       ;0:固定 (SIT_MEMを対象)
 4436                            1563     ;_KMT_TRSLT_OBJADR      .SRES   2                       ;TOP_ADR
 4437                            1564     ;_KMT_TRSLT_CNT         .SRES   2                       ;MAX 1~256 word
 4438                            1565     ;_KMT_TRSLT_DAT         .SRES   2*256                   ;MAX 256word
 4439                            1566     
 4440                                     ***** BEGIN-POOL *****
 4441 000009BE 0000                       ALIGNMENT CODE
 4442 000009C0 00000000                   DATA FOR SOURCE-LINE 1532
 4443                                     ***** END-POOL *****
 4444 000009C4                   1567     _KMT_CMDTRS_CHK:
 4445                            1568             SUB_START
 4446 000009C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4447                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4448 000009C6 8580              1569             MOV.W   @(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM,R8),R0       ;
 4449 000009C8 2008              1570             TST     R0,R0                                           ;
 4450                            1571             TST_BIT_OF KMT_CMDTRSCHK_EXT                            ;No cmd:EXIT
 4451 000009CA 8911                   M           BT      KMT_CMDTRSCHK_EXT
 4452                            1572     
 4453                            1573     ;       ========== DATA 転送==========
 4454 000009CC C903              1574             AND     #(__KMTCMD_WR+__KMTCMD_RD),R0                   ;1or2
 4455 000009CE D10A              1575             MOV.L   #_KMT_TRS_CMD,R1                                ;
 4456 000009D0 2101              1576             MOV.W   R0,@R1                                          ;CMD SAVE
 4457                            1577     
 4458 000009D2 D10A              1578             MOV.L   #_KMT_TRSLT_TOPADR,R1                           ;STRCUT
 4459 000009D4 2182              1579             MOV.L   R8,@R1                                          ;save
 4460                            1580     
 4461 000009D6 8581              1581             MOV.W   @(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM,R8),R0    ;R0=0:CONST
 4462 000009D8 D109              1582             MOV.L   #_KMT_TRSLT_MEMKND,R1                           ;ﾒﾓﾘ種別
 4463 000009DA 2101              1583             MOV.W   R0,@R1                                          ;
 4464                            1584     
 4465 000009DC 8582              1585             MOV.W   @(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM,R8),R0    ;
 4466 000009DE D109              1586             MOV.L   #_KMT_TRSLT_OBJADR,R1                           ;ﾒﾓﾘ種別に対するｵﾌｾｯﾄｱﾄﾞﾚｽ
                                          word.adr
 4467 000009E0 2101              1587             MOV.W   R0,@R1                                          ;
 4468                            1588     
 4469 000009E2 8583              1589             MOV.W   @(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM,R8),R0       ;
 4470 000009E4 600C              1590             EXTU.B  R0,R0                                           ;1~255word
 4471 000009E6 D108              1591             MOV.L   #_KMT_TRSLT_CNT,R1                              ;
 4472 000009E8 2101              1592             MOV.W   R0,@R1                                          ;(word 個数)
 4473                            1593     
 4474                            1594     
 4475                            1595             FAR_JSR #_KMT_CMD_INIT,R0                               ;DPRAM SIG=OFF
 4476 000009EA D008                   M           MOV.L   #_KMT_CMD_INIT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    46
PROGRAM NAME =

 4477 000009EC 400B                   M           JSR     @R0                     ;
 4478 000009EE 0009                   M           NOP                                     ;
 4479                            1596     
 4480                            1597     
 4481                            1598     
 4482 000009F0                   1599     KMT_CMDTRSCHK_EXT:
 4483                            1600             SUB_END
 4484                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4485 000009F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4486                            1601             M_RTS
 4487 000009F2 000B                   M           RTS                             ;RTSの後ろの
 4488 000009F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4489                            1602     
 4490                            1603     ;       ***************************
 4491                            1604     ;       ***                     ***
 4492                            1605     ;       ***     START INITAL    ***
 4493                            1606     ;       ***                     ***
 4494                            1607     ;       ***************************
 4495                                     ***** BEGIN-POOL *****
 4496 000009F6 0000                       ALIGNMENT CODE
 4497 000009F8 00000000                   DATA FOR SOURCE-LINE 1575
 4498 000009FC 00000000                   DATA FOR SOURCE-LINE 1578
 4499 00000A00 00000000                   DATA FOR SOURCE-LINE 1582
 4500 00000A04 00000000                   DATA FOR SOURCE-LINE 1586
 4501 00000A08 00000000                   DATA FOR SOURCE-LINE 1591
 4502 00000A0C 00000000                   DATA FOR SOURCE-LINE 1595
 4503                                     ***** END-POOL *****
 4504 00000A10                   1608     _KMT_CMD_INIT:
 4505                            1609             SUB_START
 4506 00000A10 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4507                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4508                            1610     
 4509                            1611     
 4510                            1612     ;       ========== ﾒﾓﾘ転送===============
 4511 00000A12 D107              1613             MOV.L   #_KMT_TRSLT_CNT,R1                              ;
 4512 00000A14 6011              1614             MOV.W   @R1,R0                                          ;(word 個数)
 4513                            1615     ;       ===============書込/読み出しの場合は意味無し（どっちでも共通で行う）=======
 4514 00000A16 D107              1616             MOV.L   #_KMT_TRSLT_TOPADR,R1                           ;STRCUT
 4515 00000A18 6212              1617             MOV.L   @R1,R2                                          ;save
 4516 00000A1A D507              1618             MOV.L   #_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM,R5            ;
 4517 00000A1C 352C              1619             ADD     R2,R5                                           ;data top
 4518 00000A1E D607              1620             MOV.L   #_KMT_TRSLT_DAT,R6                              ;MAX 255word
 4519                            1621     
 4520 00000A20                   1622     KMT_CMDINIT_100_LOP:
 4521 00000A20 2008              1623             TST     R0,R0
 4522                            1624             TST_BIT_OF KMT_CMDINIT_200                              ;
 4523 00000A22 890D                   M           BT      KMT_CMDINIT_200
 4524 00000A24 6155              1625             MOV.W   @R5+,R1                                         ;
 4525 00000A26 2611              1626             MOV.W   R1,@R6                                          ;
 4526 00000A28 7602              1627             ADD     #2,R6                                           ;
 4527 00000A2A 70FF              1628             ADD     #-1,R0                                          ;
 4528                            1629             M_BRA   KMT_CMDINIT_100_LOP                             ;
 4529 00000A2C AFF8                   M           BRA     KMT_CMDINIT_100_LOP
 4530 00000A2E 0009                   M           NOP
 4531                            1630     
 4532                                     ***** BEGIN-POOL *****
 4533 00000A30 00000000                   DATA FOR SOURCE-LINE 1613
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    47
PROGRAM NAME =

 4534 00000A34 00000000                   DATA FOR SOURCE-LINE 1616
 4535 00000A38 00000008                   DATA FOR SOURCE-LINE 1618
 4536 00000A3C 00000000                   DATA FOR SOURCE-LINE 1620
 4537                                     ***** END-POOL *****
 4538 00000A40                   1631     KMT_CMDINIT_200:
 4539                            1632     
 4540                            1633     
 4541 00000A40 200A              1634             XOR     R0,R0                           ;
 4542 00000A42 D10B              1635             MOV.L   #_KMT_TRSPV_CNT,R1              ;(WR/RDｶｳﾝﾀ　0)
 4543 00000A44 2101              1636             MOV.W   R0,@R1                          ;
 4544                            1637     
 4545 00000A46 D10B              1638             MOV.L   #_KMT_TRS_CMD,R1                ;
 4546 00000A48 6011              1639             MOV.W   @R1,R0                          ;CMD
 4547                            1640     
 4548 00000A4A 930F              1641             MOV.W   #BIT6,R3                        ;R3=BIT6 WR
 4549 00000A4C 8801              1642             CMP/EQ  #1,R0                           ;WRITE
 4550 00000A4E 8900              1643             BT      KMT_CMDINI_300                  ;
 4551 00000A50 233A              1644             XOR     R3,R3                           ;R3=0 READ
 4552 00000A52                   1645     KMT_CMDINI_300:
 4553                            1646     
 4554 00000A52 D109              1647             MOV.L   #_KMT_TRSLT_MEMKND,R1           ;MEM-KIND=**00,0000
 4555 00000A54 6011              1648             MOV.W   @R1,R0                          ;
 4556 00000A56 940A              1649             MOV.W   #LWORD ~(BIT7+BIT6),R4                  ;
 4557 00000A58 2049              1650             AND     R4,R0                           ;BIT6/BIT7=0
 4558 00000A5A 203B              1651             OR      R3,R0                           ;
 4559 00000A5C D107              1652             MOV.L   #_KMT_REQ_SIG,R1                ;BIT6=0(rd) =1:WR
 4560 00000A5E 2101              1653             MOV.W   R0,@R1                          ;
 4561                            1654     
 4562                            1655             FAR_JSR #_KMT_REQSIG_OUT,R0             ;00=>REQ SIGNAL
 4563 00000A60 D007                   M           MOV.L   #_KMT_REQSIG_OUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4564 00000A62 400B                   M           JSR     @R0                     ;
 4565 00000A64 0009                   M           NOP                                     ;
 4566                            1656                                                     ;0100,0000
 4567                            1657             SUB_END
 4568                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4569 00000A66 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4570                            1658             M_RTS
 4571 00000A68 000B                   M           RTS                             ;RTSの後ろの
 4572 00000A6A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4573                            1659     
 4574                            1660     ;       --------- WORK==> DPRAM REQ SIG=====
 4575                                     ***** BEGIN-POOL *****
 4576 00000A6C 0040                       DATA FOR SOURCE-LINE 1641
 4577 00000A6E FF3F                       DATA FOR SOURCE-LINE 1649
 4578 00000A70 00000000                   DATA FOR SOURCE-LINE 1635
 4579 00000A74 00000000                   DATA FOR SOURCE-LINE 1638
 4580 00000A78 00000000                   DATA FOR SOURCE-LINE 1647
 4581 00000A7C 00000000                   DATA FOR SOURCE-LINE 1652
 4582 00000A80 00000000                   DATA FOR SOURCE-LINE 1655
 4583                                     ***** END-POOL *****
 4584 00000A84                   1661     _KMT_REQSIG_OUT:
 4585                            1662             SUB_START
 4586 00000A84 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4587                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4588 00000A86 D103              1663             MOV.L   #_KMT_REQ_SIG,R1                ;
 4589 00000A88 6011              1664             MOV.W   @R1,R0                          ;
 4590 00000A8A D103              1665             MOV.L   #_ET2_SITM_REQ,R1               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    48
PROGRAM NAME =

 4591 00000A8C 2100              1666             MOV.B   R0,@R1                          ;byte
 4592                            1667             SUB_END
 4593                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4594 00000A8E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4595                            1668             M_RTS
 4596 00000A90 000B                   M           RTS                             ;RTSの後ろの
 4597 00000A92 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4598                            1669     
 4599                            1670     ;       ----------- DPRAM ACK -----
 4600                                     ***** BEGIN-POOL *****
 4601 00000A94 00000000                   DATA FOR SOURCE-LINE 1663
 4602 00000A98 00000000                   DATA FOR SOURCE-LINE 1665
 4603                                     ***** END-POOL *****
 4604 00000A9C                   1671     _KMT_ACKSIG_IN
 4605                            1672             SUB_START
 4606 00000A9C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4607                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4608 00000A9E D103              1673             MOV.L   #_ET2_SITM_ACK,R1               ;
 4609 00000AA0 6010              1674             MOV.B   @R1,R0                          ;
 4610 00000AA2 600C              1675             EXTU.B  R0,R0                           ;
 4611                            1676     
 4612                            1677             .AIF    0       EQ 1    ;@
 4613                            1678             MOV.L   #_KMT_REQ_SIG,R1                ;
 4614                            1679             MOV.W   @R1,R0                          ;
 4615                            1680             .AENDI
 4616                            1681     
 4617                            1682             SUB_END
 4618                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4619 00000AA4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4620                            1683             M_RTS
 4621 00000AA6 000B                   M           RTS                             ;RTSの後ろの
 4622 00000AA8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4623                            1684     
 4624                            1685     
 4625                            1686     
 4626                            1687     
 4627                            1688     ;       *******************************************
 4628                            1689     ;       ***                                     ***
 4629                            1690     ;       ***     WR STEP                         ***
 4630                            1691     ;       ***     data SET+ HAND-ON/OFF           ***
 4631                            1692     ;       ***                                     ***
 4632                            1693     ;       *******************************************
 4633                                     ***** BEGIN-POOL *****
 4634 00000AAA 0000                       ALIGNMENT CODE
 4635 00000AAC 00000000                   DATA FOR SOURCE-LINE 1673
 4636                                     ***** END-POOL *****
 4637 00000AB0                   1694     _KMT_TRS_STP_WR:
 4638                            1695             SUB_START
 4639 00000AB0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4640                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4641                            1696     
 4642                            1697             FAR_JSR #_KMT_ACKSIG_IN,R0              ;ANS R0
 4643 00000AB2 D009                   M           MOV.L   #_KMT_ACKSIG_IN,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4644 00000AB4 400B                   M           JSR     @R0                     ;
 4645 00000AB6 0009                   M           NOP                                     ;
 4646 00000AB8 D108              1698             MOV.L   #_KMT_REQ_SIG,R1                ;
 4647 00000ABA 6211              1699             MOV.W   @R1,R2                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    49
PROGRAM NAME =

 4648 00000ABC 3020              1700             CMP/EQ  R2,R0                           ;REQ=ACK?
 4649 00000ABE 8B42              1701             BF      KMT_TRS_STPWR_EXT               ;
 4650                            1702     
 4651 00000AC0 C880              1703             TST     #BIT7,R0                        ;
 4652                            1704             TST_BIT_OF KMT_TRS_STPWR_100            ;SIG=0 YES JUMP
 4653 00000AC2 890F                   M           BT      KMT_TRS_STPWR_100
 4654                            1705     
 4655                            1706             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_KMT_REQ_SIG,LG=W,BIT=~BIT7,WKREG=R1 ;//
 4656 00000AC4 D105                   M           MOV.L   #_KMT_REQ_SIG,R1                ;
 4657 00000AC6 6011                   M           MOV.W   @R1,R0          ;
 4658 00000AC8 C97F                   M           AND     #LOW ~BIT7,R0           ;
 4659 00000ACA 2101                   M           MOV.W   R0,@R1          ;
 4660                            1707             FAR_JSR #_KMT_REQSIG_OUT,R0             ;
 4661 00000ACC D004                   M           MOV.L   #_KMT_REQSIG_OUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4662 00000ACE 400B                   M           JSR     @R0                     ;
 4663 00000AD0 0009                   M           NOP                                     ;
 4664                            1708             M_BRA   KMT_TRS_STPWR_EXT               ;
 4665 00000AD2 A038                   M           BRA     KMT_TRS_STPWR_EXT
 4666 00000AD4 0009                   M           NOP
 4667                            1709     
 4668                                     ***** BEGIN-POOL *****
 4669 00000AD6 0000                       ALIGNMENT CODE
 4670 00000AD8 00000000                   DATA FOR SOURCE-LINE 1697
 4671 00000ADC 00000000                   DATA FOR SOURCE-LINE 1698,1706
 4672 00000AE0 00000000                   DATA FOR SOURCE-LINE 1707
 4673                                     ***** END-POOL *****
 4674 00000AE4                   1710     KMT_TRS_STPWR_100:
 4675 00000AE4 D10E              1711             MOV.L   #_KMT_TRSPV_CNT,R1              ;(WR/RDｶｳﾝﾀ　0)
 4676 00000AE6 6011              1712             MOV.W   @R1,R0                          ;
 4677 00000AE8 D10E              1713             MOV.L   #_KMT_TRSLT_CNT,R1              ;(SV)
 4678 00000AEA 6211              1714             MOV.W   @R1,R2                          ;
 4679 00000AEC 3206              1715             CMP/HI  R0,R2                           ;R0 < R2
 4680 00000AEE 8B27              1716             BF      KMT_TRS_STPWR_200               ;NO R2 =< R0 (ｶｳﾝﾀ終了　JUMP) 0=0をOK
 4681                            1717     
 4682 00000AF0 4000              1718             SHLL    R0
 4683 00000AF2 D10D              1719             MOV.L   #_KMT_TRSLT_DAT,R1              ;
 4684 00000AF4 310C              1720             ADD     R0,R1                           ;DAT+CNT*2
 4685 00000AF6 6411              1721             MOV.W   @R1,R4                          ;data load
 4686 00000AF8 D10C              1722             MOV.L   #_ET2_SITM_WRDT,R1              ;
 4687 00000AFA 2141              1723             MOV.W   R4,@R1                          ;dpram data set
 4688                            1724     
 4689                            1725     
 4690 00000AFC D108              1726             MOV.L   #_KMT_TRSPV_CNT,R1              ;
 4691 00000AFE 6311              1727             MOV.W   @R1,R3                          ;
 4692 00000B00 D40B              1728             MOV.L   #_KMT_TRSLT_OBJADR,R4           ;ﾒﾓﾘ種別に対するｵﾌｾｯﾄｱﾄﾞﾚｽword.adr
 4693 00000B02 6241              1729             MOV.W   @R4,R2                          ;
 4694 00000B04 323C              1730             ADD     R3,R2                           ;
 4695 00000B06 D40B              1731             MOV.L   #_ET2_SITM_ADR,R4               ;WORD ADR
 4696 00000B08 2421              1732             MOV.W   R2,@R4                          ;
 4697 00000B0A 7301              1733             ADD     #1,R3                           ;CNT+1
 4698 00000B0C 2131              1734             MOV.W   R3,@R1                          ;
 4699                            1735     
 4700                            1736     ;       --------- HAND SYEIKU ON -------
 4701                            1737             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_REQ_SIG,LG=W,BIT=BIT7,WKREG=R1 ;bit-set
 4702 00000B0E D10A                   M           MOV.L   #_KMT_REQ_SIG,R1                ;
 4703 00000B10 6011                   M           MOV.W   @R1,R0          ;
 4704 00000B12 CB80                   M           OR      #BIT7,R0                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    50
PROGRAM NAME =

 4705 00000B14 2101                   M           MOV.W   R0,@R1          ;
 4706                            1738             FAR_JSR #_KMT_REQSIG_OUT,R0                                     ;
 4707 00000B16 D009                   M           MOV.L   #_KMT_REQSIG_OUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4708 00000B18 400B                   M           JSR     @R0                     ;
 4709 00000B1A 0009                   M           NOP                                     ;
 4710                            1739     
 4711                            1740             M_BRA   KMT_TRS_STPWR_EXT               ;
 4712 00000B1C A013                   M           BRA     KMT_TRS_STPWR_EXT
 4713 00000B1E 0009                   M           NOP
 4714                            1741     
 4715                                     ***** BEGIN-POOL *****
 4716 00000B20 00000000                   DATA FOR SOURCE-LINE 1711,1726
 4717 00000B24 00000000                   DATA FOR SOURCE-LINE 1713
 4718 00000B28 00000000                   DATA FOR SOURCE-LINE 1719
 4719 00000B2C 00000000                   DATA FOR SOURCE-LINE 1722
 4720 00000B30 00000000                   DATA FOR SOURCE-LINE 1728
 4721 00000B34 00000000                   DATA FOR SOURCE-LINE 1731
 4722 00000B38 00000000                   DATA FOR SOURCE-LINE 1737
 4723 00000B3C 00000000                   DATA FOR SOURCE-LINE 1738
 4724                                     ***** END-POOL *****
 4725 00000B40                   1742     KMT_TRS_STPWR_200:
 4726                            1743             FAR_JSR #_KMT_TRSCMD_ENDCLR,R0
 4727 00000B40 D002                   M           MOV.L   #_KMT_TRSCMD_ENDCLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4728 00000B42 400B                   M           JSR     @R0                     ;
 4729 00000B44 0009                   M           NOP                                     ;
 4730                            1744     
 4731                            1745     
 4732 00000B46                   1746     KMT_TRS_STPWR_EXT:
 4733                            1747             SUB_END
 4734                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4735 00000B46 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4736                            1748             M_RTS
 4737 00000B48 000B                   M           RTS                             ;RTSの後ろの
 4738 00000B4A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4739                            1749     
 4740                            1750     
 4741                            1751     
 4742                            1752     ;       ***************************
 4743                            1753     ;       ***                     ***
 4744                            1754     ;       ***     RD STEP         ***
 4745                            1755     ;       ***                     ***
 4746                            1756     ;       ***************************
 4747                            1757     ;       OFFｴｯｼﾞで取込
 4748                            1758     ;       ACK     ON      OFF
 4749                            1759     ;       REQ ON      OFF
 4750                            1760     ;            data取込
 4751                            1761     ;
 4752                            1762     
 4753                                     ***** BEGIN-POOL *****
 4754 00000B4C 00000000                   DATA FOR SOURCE-LINE 1743
 4755                                     ***** END-POOL *****
 4756 00000B50                   1763     _KMT_TRS_STP_RD:
 4757                            1764             SUB_START
 4758 00000B50 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4759                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4760                            1765     
 4761                            1766             FAR_JSR #_KMT_ACKSIG_IN,R0                      ;ANS R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    51
PROGRAM NAME =

 4762 00000B52 D00F                   M           MOV.L   #_KMT_ACKSIG_IN,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4763 00000B54 400B                   M           JSR     @R0                     ;
 4764 00000B56 0009                   M           NOP                                     ;
 4765 00000B58 D10E              1767             MOV.L   #_KMT_REQ_SIG,R1                        ;
 4766 00000B5A 6211              1768             MOV.W   @R1,R2                                  ;
 4767 00000B5C 3020              1769             CMP/EQ  R2,R0                                   ;REQ=ACK?
 4768 00000B5E 8B60              1770             BF      KMT_TRS_STPRD_EXT                       ;
 4769                            1771     
 4770 00000B60 C880              1772             TST     #BIT7,R0                                ;
 4771                            1773             TST_BIT_OF KMT_TRS_STPRD_100                    ;SIG=0 YES JUMP
 4772 00000B62 8921                   M           BT      KMT_TRS_STPRD_100
 4773                            1774     
 4774 00000B64 D10C              1775             MOV.L   #_ET2_SITM_RDDT,R1                      ;
 4775 00000B66 6411              1776             MOV.W   @R1,R4                                  ;dpram data load
 4776                            1777     
 4777 00000B68 D10C              1778             MOV.L   #_KMT_TRSPV_CNT,R1                      ;CNT*2
 4778 00000B6A 6011              1779             MOV.W   @R1,R0                                  ;
 4779 00000B6C 4000              1780             SHLL    R0
 4780 00000B6E D10C              1781             MOV.L   #_KMT_TRSLT_DAT,R1                      ;
 4781 00000B70 310C              1782             ADD     R0,R1                                   ;DAT+CNT*2
 4782 00000B72 2141              1783             MOV.W   R4,@R1                                  ;data save
 4783                            1784     
 4784 00000B74 D109              1785             MOV.L   #_KMT_TRSPV_CNT,R1                      ;
 4785 00000B76 6211              1786             MOV.W   @R1,R2                                  ;
 4786 00000B78 7201              1787             ADD     #1,R2                                   ;CNT+1
 4787 00000B7A 2121              1788             MOV.W   R2,@R1                                  ;
 4788                            1789     
 4789                            1790             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_KMT_REQ_SIG,LG=W,BIT=~BIT7,WKREG=R1       ;//
 4790 00000B7C D105                   M           MOV.L   #_KMT_REQ_SIG,R1                ;
 4791 00000B7E 6011                   M           MOV.W   @R1,R0          ;
 4792 00000B80 C97F                   M           AND     #LOW ~BIT7,R0           ;
 4793 00000B82 2101                   M           MOV.W   R0,@R1          ;
 4794                            1791             FAR_JSR #_KMT_REQSIG_OUT,R0                                             ;
 4795 00000B84 D007                   M           MOV.L   #_KMT_REQSIG_OUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4796 00000B86 400B                   M           JSR     @R0                     ;
 4797 00000B88 0009                   M           NOP                                     ;
 4798                            1792             M_BRA   KMT_TRS_STPRD_EXT                                               ;
 4799 00000B8A A04A                   M           BRA     KMT_TRS_STPRD_EXT
 4800 00000B8C 0009                   M           NOP
 4801                            1793     
 4802                            1794     
 4803                                     ***** BEGIN-POOL *****
 4804 00000B8E 0000                       ALIGNMENT CODE
 4805 00000B90 00000000                   DATA FOR SOURCE-LINE 1766
 4806 00000B94 00000000                   DATA FOR SOURCE-LINE 1767,1790
 4807 00000B98 00000000                   DATA FOR SOURCE-LINE 1775
 4808 00000B9C 00000000                   DATA FOR SOURCE-LINE 1778,1785
 4809 00000BA0 00000000                   DATA FOR SOURCE-LINE 1781
 4810 00000BA4 00000000                   DATA FOR SOURCE-LINE 1791
 4811                                     ***** END-POOL *****
 4812 00000BA8                   1795     KMT_TRS_STPRD_100:
 4813 00000BA8 D10A              1796             MOV.L   #_KMT_TRSPV_CNT,R1              ;(WR/RDｶｳﾝﾀ　0)
 4814 00000BAA 6011              1797             MOV.W   @R1,R0                          ;
 4815 00000BAC D10A              1798             MOV.L   #_KMT_TRSLT_CNT,R1              ;(SV)
 4816 00000BAE 6211              1799             MOV.W   @R1,R2                          ;
 4817 00000BB0 3206              1800             CMP/HI  R0,R2                           ;R0 < R2
 4818 00000BB2 8B1B              1801             BF      KMT_TRS_STPRD_200               ;NO R2 =< R0 (ｶｳﾝﾀ終了　JUMP) 0=0をOK
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    52
PROGRAM NAME =

 4819                            1802     ;R0 < R2
 4820 00000BB4 D107              1803             MOV.L   #_KMT_TRSPV_CNT,R1              ;
 4821 00000BB6 6311              1804             MOV.W   @R1,R3                          ;
 4822 00000BB8 D408              1805             MOV.L   #_KMT_TRSLT_OBJADR,R4           ;ﾒﾓﾘ種別に対するｵﾌｾｯﾄｱﾄﾞﾚｽword.adr
 4823 00000BBA 6241              1806             MOV.W   @R4,R2                          ;
 4824 00000BBC 323C              1807             ADD     R3,R2                           ;
 4825 00000BBE D408              1808             MOV.L   #_ET2_SITM_ADR,R4               ;WORD ADR
 4826 00000BC0 2421              1809             MOV.W   R2,@R4                          ;
 4827                            1810     
 4828                            1811     
 4829                            1812     ;       --------- HAND SYEIKU ON -------
 4830                            1813             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_REQ_SIG,LG=W,BIT=BIT7,WKREG=R1 ;bit-set
 4831 00000BC2 D108                   M           MOV.L   #_KMT_REQ_SIG,R1                ;
 4832 00000BC4 6011                   M           MOV.W   @R1,R0          ;
 4833 00000BC6 CB80                   M           OR      #BIT7,R0                ;
 4834 00000BC8 2101                   M           MOV.W   R0,@R1          ;
 4835                            1814             FAR_JSR #_KMT_REQSIG_OUT,R0                                     ;
 4836 00000BCA D007                   M           MOV.L   #_KMT_REQSIG_OUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4837 00000BCC 400B                   M           JSR     @R0                     ;
 4838 00000BCE 0009                   M           NOP                                     ;
 4839                            1815             M_BRA   KMT_TRS_STPRD_EXT               ;
 4840 00000BD0 A027                   M           BRA     KMT_TRS_STPRD_EXT
 4841 00000BD2 0009                   M           NOP
 4842                            1816     
 4843                                     ***** BEGIN-POOL *****
 4844 00000BD4 00000000                   DATA FOR SOURCE-LINE 1796,1803
 4845 00000BD8 00000000                   DATA FOR SOURCE-LINE 1798
 4846 00000BDC 00000000                   DATA FOR SOURCE-LINE 1805
 4847 00000BE0 00000000                   DATA FOR SOURCE-LINE 1808
 4848 00000BE4 00000000                   DATA FOR SOURCE-LINE 1813
 4849 00000BE8 00000000                   DATA FOR SOURCE-LINE 1814
 4850                                     ***** END-POOL *****
 4851 00000BEC                   1817     KMT_TRS_STPRD_200:
 4852                            1818     
 4853 00000BEC D507              1819             MOV.L   #_KMT_TRSLT_DAT,R5                      ;SRC
 4854                            1820     
 4855 00000BEE D108              1821             MOV.L   #_KMT_TRSLT_TOPADR,R1                   ;STRCUT
 4856 00000BF0 6812              1822             MOV.L   @R1,R8                                  ;save
 4857 00000BF2 D608              1823             MOV.L   #_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM,R6    ;DST
 4858 00000BF4 368C              1824             ADD     R8,R6                                   ;data top
 4859                            1825     
 4860 00000BF6 D108              1826             MOV.L   #_KMT_TRSLT_CNT,R1                      ;MAX 1~256 word
 4861 00000BF8 6411              1827             MOV.W   @R1,R4                                  ;
 4862                            1828     
 4863 00000BFA                   1829     KMT_TRS_STPRD_250LOP:
 4864 00000BFA 2448              1830             TST     R4,R4                                   ;
 4865                            1831             TST_BIT_OF KMT_TRS_STPRD_300                    ;
 4866 00000BFC 890E                   M           BT      KMT_TRS_STPRD_300
 4867 00000BFE 6055              1832             MOV.W   @R5+,R0
 4868 00000C00 2601              1833             MOV.W   R0,@R6
 4869 00000C02 7602              1834             ADD     #2,R6
 4870 00000C04 74FF              1835             ADD     #-1,R4
 4871                            1836             M_BRA   KMT_TRS_STPRD_250LOP
 4872 00000C06 AFF8                   M           BRA     KMT_TRS_STPRD_250LOP
 4873 00000C08 0009                   M           NOP
 4874                            1837     
 4875                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    53
PROGRAM NAME =

 4876 00000C0A 0000                       ALIGNMENT CODE
 4877 00000C0C 00000000                   DATA FOR SOURCE-LINE 1819
 4878 00000C10 00000000                   DATA FOR SOURCE-LINE 1821
 4879 00000C14 00000008                   DATA FOR SOURCE-LINE 1823
 4880 00000C18 00000000                   DATA FOR SOURCE-LINE 1826
 4881                                     ***** END-POOL *****
 4882 00000C1C                   1838     KMT_TRS_STPRD_300:
 4883                            1839     
 4884                            1840     
 4885                            1841             FAR_JSR #_KMT_TRSCMD_ENDCLR,R0
 4886 00000C1C D002                   M           MOV.L   #_KMT_TRSCMD_ENDCLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 4887 00000C1E 400B                   M           JSR     @R0                     ;
 4888 00000C20 0009                   M           NOP                                     ;
 4889                            1842     
 4890                            1843     
 4891 00000C22                   1844     KMT_TRS_STPRD_EXT:
 4892                            1845             SUB_END
 4893                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4894 00000C22 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4895                            1846             M_RTS
 4896 00000C24 000B                   M           RTS                             ;RTSの後ろの
 4897 00000C26 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4898                            1847     
 4899                            1848     
 4900                            1849     ;       ***********************************
 4901                            1850     ;       ***                             ***
 4902                            1851     ;       ***      STEP/END CLR           ***
 4903                            1852     ;       ***      CMD CLR                ***
 4904                            1853     ;       ***********************************
 4905                                     ***** BEGIN-POOL *****
 4906 00000C28 00000000                   DATA FOR SOURCE-LINE 1841
 4907                                     ***** END-POOL *****
 4908 00000C2C                   1854     _KMT_TRSCMD_ENDCLR
 4909                            1855             SUB_START
 4910 00000C2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4911                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4912 00000C2E 200A              1856             XOR     R0,R0                           ;
 4913 00000C30 D103              1857             MOV.L   #_KMT_TRS_CMD,R1                ;0:ILDE 1:WRITE 2:READ
 4914 00000C32 2101              1858             MOV.W   R0,@R1                          ;CMD CLR
 4915                            1859     
 4916 00000C34 D103              1860             MOV.L   #_KMT_TRSLT_TOPADR,R1                           ;STRCUT
 4917 00000C36 6812              1861             MOV.L   @R1,R8                                          ;save
 4918 00000C38 8180              1862             MOV.W   R0,@(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM,R8)       ;
 4919                            1863     
 4920                            1864     
 4921                            1865             SUB_END
 4922                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4923 00000C3A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4924                            1866             M_RTS
 4925 00000C3C 000B                   M           RTS                             ;RTSの後ろの
 4926 00000C3E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4927                            1867     
 4928                            1868     
 4929                            1869     
 4930                            1870     ;       ***********************************
 4931                            1871     ;       ***                             ***
 4932                            1872     ;       ***                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    54
PROGRAM NAME =

 4933                            1873     ;       ***     TYPE011型判定           ***
 4934                            1874     ;       ***     2011-01-14              ***
 4935                            1875     ;       ***********************************
 4936                            1876     ;
 4937                                     ***** BEGIN-POOL *****
 4938 00000C40 00000000                   DATA FOR SOURCE-LINE 1857
 4939 00000C44 00000000                   DATA FOR SOURCE-LINE 1860
 4940                                     ***** END-POOL *****
 4941 00000C48                   1877             .ALIGN  4                                       ;
 4942 00000C48                   1878     _KMT_TYPE_011_CHK:
 4943                            1879             SUB_START
 4944 00000C48 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4945                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4946                            1880     
 4947 00000C4A D109              1881             MOV.L   #(__SITM_KMTTYPE-__SITM_OUT_TOP)+_KMT_STS1_AREA,R1      ;
 4948 00000C4C 6011              1882             MOV.W   @R1,R0                                                  ;
 4949                            1883     
 4950                            1884             .AIF    0       EQ 1                            ;@
 4951                            1885             MOV.W   #__SIT_VER_TYP2_COD,R0                                  ;@TYP011に見える
 4952                            1886             .AENDI                                                          ;@
 4953                            1887     
 4954 00000C4E 940C              1888             MOV.W   #__SIT_VER_TYP2_COD,R4                                  ;
 4955 00000C50 3040              1889             CMP/EQ  R4,R0                                                   ;
 4956 00000C52 8B07              1890             BF      KMT_TYPE011CHK_END                                      ;
 4957                            1891     
 4958 00000C54 D107              1892             MOV.L   #_SEQ_DP_TOP+_SQ113,R1                                  ;
 4959 00000C56 6011              1893             MOV.W   @R1,R0                                                  ;
 4960 00000C58 9408              1894             MOV.W   #BIT9,R4                                                ;113.9=1
 4961 00000C5A 2048              1895             TST     R4,R0                                                   ;
 4962                            1896             TST_BIT_OF KMT_TYPE011CHK_END                                   ;011型機能有効
 4963 00000C5C 8902                   M           BT      KMT_TYPE011CHK_END
 4964                            1897     
 4965 00000C5E 9006              1898             MOV.W   #1,R0                                           ;
 4966 00000C60 D105              1899             MOV.L   #_KMT_TYP_011,R1                                ;TYPE011型機能有効
 4967 00000C62 2101              1900             MOV.W   R0,@R1                                          ;
 4968                            1901     
 4969 00000C64                   1902     KMT_TYPE011CHK_END:
 4970                            1903     
 4971                            1904             SUB_END
 4972                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 4973 00000C64 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 4974                            1905             M_RTS
 4975 00000C66 000B                   M           RTS                             ;RTSの後ろの
 4976 00000C68 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 4977                            1906     
 4978                            1907     
 4979                            1908     
 4980                            1909     ;       ***************************************************
 4981                            1910     ;       ***                                             ***
 4982                            1911     ;       ***             品番データ作成、転送            ***
 4983                            1912     ;       ***             (write)                         ***
 4984                            1913     ;       ***************************************************
 4985                                     ***** BEGIN-POOL *****
 4986 00000C6A 5A01                       DATA FOR SOURCE-LINE 1888
 4987 00000C6C 0200                       DATA FOR SOURCE-LINE 1894
 4988 00000C6E 0001                       DATA FOR SOURCE-LINE 1898
 4989 00000C70 00000000                   DATA FOR SOURCE-LINE 1881
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    55
PROGRAM NAME =

 4990 00000C74 00000000                   DATA FOR SOURCE-LINE 1892
 4991 00000C78 00000000                   DATA FOR SOURCE-LINE 1899
 4992                                     ***** END-POOL *****
 4993 00000C7C                   1914             .ALIGN  4                                       ;
 4994 00000C7C                   1915     _KOMTRAX_HINBAN_MAIN
 4995                            1916             SUB_START
 4996 00000C7C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 4997                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 4998                            1917     
 4999                            1918             FAR_JSR #_KMT_HINBAN_MAKE,R0            ;
 5000 00000C7E D004                   M           MOV.L   #_KMT_HINBAN_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5001 00000C80 400B                   M           JSR     @R0                     ;
 5002 00000C82 0009                   M           NOP                                     ;
 5003                            1919     
 5004                            1920             FAR_JSR #_KMT_HINBAN_STEP,R0            ;
 5005 00000C84 D003                   M           MOV.L   #_KMT_HINBAN_STEP,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5006 00000C86 400B                   M           JSR     @R0                     ;
 5007 00000C88 0009                   M           NOP                                     ;
 5008                            1921     
 5009                            1922             SUB_END
 5010                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5011 00000C8A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5012                            1923             M_RTS
 5013 00000C8C 000B                   M           RTS                             ;RTSの後ろの
 5014 00000C8E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5015                            1924     
 5016                            1925     
 5017                            1926     ;       *******************************************
 5018                            1927     ;       ***                                     ***
 5019                            1928     ;       ***             品番データ作成          ***
 5020                            1929     ;       ***             (write)                 ***
 5021                            1930     ;       *******************************************
 5022                            1931     ;_KMT_HINBAN_TRG_FLG    .SRES   2*5                     ;保留が発生した場合の処理
 5023                            1932     ;+0:現在
 5024                            1933     ;+1:次回
 5025                            1934     ;+2:次々回
 5026                            1935     ;+3:次次々回
 5027                            1936     ;+4:次次次々回
 5028                            1937     ;_KMT_HINBAN_BUFNUM     .SRES   2                       ;BUF使用数　0,1,2,3,4
 5029                            1938     
 5030                            1939             .GLOBAL         _SV0_WORK_STP_FLG       ;2byte作業終了 　0/0以外
 5031                            1940             .GLOBAL         _SV0SP_WORKER_COD       ;2byte作業者ｺｰﾄﾞBIN
 5032                            1941             .GLOBAL         _SV0SP_ORDER_COD        ;4byte注文ｺｰﾄﾞBIN->ASC
 5033                            1942             .GLOBAL         _SV0SP_PLAN_CNT         ;4byte計画数BIN
 5034                            1943             .GLOBAL         _SV0SP_BAD_CNT          ;4byte不良数BIN
 5035                            1944             .GLOBAL         _SV0SP_KATA_NO          ;2byte型番号未使用予定
 5036                            1945             .GLOBAL         _SV0SP_KATA_NAME        ;2byte*7=14byte
 5037                            1946             .GLOBAL         _SV0SP_KATA_MEMO        ;2byte*7=14byte
 5038                            1947     
 5039                            1948             .GLOBAL         _SV0_WORK_STR_FLG       ;2byte作業開始 　0/0以外
 5040                            1949             .GLOBAL         _SV0SR_WORKER_COD       ;2byte作業者ｺｰﾄﾞBIN
 5041                            1950             .GLOBAL         _SV0SR_ORDER_COD        ;4byte注文ｺｰﾄﾞBIN->ASC
 5042                            1951             .GLOBAL         _SV0SR_PLAN_CNT         ;4byte計画数BIN
 5043                            1952             .GLOBAL         _SV0SR_BAD_CNT          ;4byte不良数BIN
 5044                            1953             .GLOBAL         _SV0SR_KATA_NO          ;2byte型番号未使用予定
 5045                            1954             .GLOBAL         _SV0SR_KATA_NAME        ;2byte*7=14byte
 5046                            1955             .GLOBAL         _SV0SR_KATA_MEMO        ;2byte*7=14byte
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    56
PROGRAM NAME =

 5047                            1956     
 5048                                     ***** BEGIN-POOL *****
 5049 00000C90 00000000                   DATA FOR SOURCE-LINE 1918
 5050 00000C94 00000000                   DATA FOR SOURCE-LINE 1920
 5051                                     ***** END-POOL *****
 5052          00000000          1957     _EQ_ORDER_COD   .EQU    0       ;4byte注文ｺｰﾄﾞBIN->ASC
 5053          00000008          1958     _EQ_KATA_NAME   .EQU    4*2     ;2byte*7=14byte
 5054          0000001C          1959     _EQ_KATA_MEMO   .EQU    14*2    ;2byte*7=14byte
 5055          00000030          1960     _EQ_WORKER_COD  .EQU    24*2    ;2byte作業者ｺｰﾄﾞBIN
 5056          00000032          1961     _EQ_PLAN_CNT    .EQU    25*2    ;4byte計画数BIN
 5057          0000003A          1962     _EQ_BAD_CNT     .EQU    29*2    ;4byte不良数BIN
 5058                            1963     
 5059                            1964     
 5060 00000C98                   1965             .ALIGN  4                                       ;
 5061 00000C98                   1966     _KMT_HINBAN_MAKE:
 5062                            1967             SUB_START
 5063 00000C98 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5064                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5065                            1968     
 5066                            1969     ;       ---------------------------------------------------
 5067                            1970     ;       ---             保留データの作成                ---
 5068                            1971     ;       ---             "KMT_HINBAN_REQ_MAKE"           ---
 5069                            1972     ;       ---------------------------------------------------
 5070                            1973     
 5071 00000C9A D405              1974             MOV.L   #_SV0_WORK_STR_FLG,R4           ;
 5072 00000C9C 6141              1975             MOV.W   @R4,R1
 5073 00000C9E D405              1976             MOV.L   #_SV0_WORK_STP_FLG,R4           ;
 5074 00000CA0 6241              1977             MOV.W   @R4,R2
 5075 00000CA2 2228              1978             TST     R2,R2                           ;終了あり
 5076                            1979             TST_BIT_ON KMT_HINBAN_RQMK_050
 5077 00000CA4 8B08                   M           BF      KMT_HINBAN_RQMK_050
 5078 00000CA6 2118              1980             TST     R1,R1                           ;
 5079                            1981             TST_BIT_ON KMT_HINBAN_RQMK_100          ;
 5080 00000CA8 8B1E                   M           BF      KMT_HINBAN_RQMK_100
 5081                            1982     ;       ------- 新たなｲﾍﾞﾝﾄはない----
 5082                            1983             M_BRA   KMT_HINBAN_RQMK_900
 5083 00000CAA A057                   M           BRA     KMT_HINBAN_RQMK_900
 5084 00000CAC 0009                   M           NOP
 5085                            1984     
 5086                            1985     ;       ------- 終了ｲﾍﾞﾝﾄあり
 5087                                     ***** BEGIN-POOL *****
 5088 00000CAE 0000                       ALIGNMENT CODE
 5089 00000CB0 00000000                   DATA FOR SOURCE-LINE 1974
 5090 00000CB4 00000000                   DATA FOR SOURCE-LINE 1976
 5091                                     ***** END-POOL *****
 5092 00000CB8                   1986     KMT_HINBAN_RQMK_050
 5093 00000CB8 2118              1987             TST     R1,R1                           ;
 5094                            1988             TST_BIT_ON KMT_HINBAN_RQMK_200          ;開始ｲﾍﾞﾝﾄもあり
 5095 00000CBA 8B2B                   M           BF      KMT_HINBAN_RQMK_200
 5096                            1989     ;       ----- 終了ｲﾍﾞﾝﾄのみ発生----
 5097                            1990             FAR_JSR #_KMT_HINBAN_BUF_MAK1,R0        ;output R6,R7
 5098 00000CBC D007                   M           MOV.L   #_KMT_HINBAN_BUF_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5099 00000CBE 400B                   M           JSR     @R0                     ;
 5100 00000CC0 0009                   M           NOP                                     ;
 5101 00000CC2 9009              1991             MOV.W   #BIT1,R0                        ;
 5102 00000CC4 2701              1992             MOV.W   R0,@R7                          ;
 5103                            1993             FAR_JSR #_HINBAN_STOP_DATA_MOV,R0       ;input R6
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    57
PROGRAM NAME =

 5104 00000CC6 D006                   M           MOV.L   #_HINBAN_STOP_DATA_MOV,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5105 00000CC8 400B                   M           JSR     @R0                     ;
 5106 00000CCA 0009                   M           NOP                                     ;
 5107 00000CCC D405              1994             MOV.L   #_KMT_HINBAN_TRG_NUM,R4         ;0個[保留なし],1個,2個,3個,4個,5個,6個full
 5108 00000CCE 6041              1995             MOV.W   @R4,R0                          ;
 5109 00000CD0 7001              1996             ADD     #1,R0                           ;
 5110 00000CD2 2401              1997             MOV.W   R0,@R4                          ;
 5111                            1998             M_BRA   KMT_HINBAN_RQMK_900
 5112 00000CD4 A042                   M           BRA     KMT_HINBAN_RQMK_900
 5113 00000CD6 0009                   M           NOP
 5114                            1999     
 5115                                     ***** BEGIN-POOL *****
 5116 00000CD8 0002                       DATA FOR SOURCE-LINE 1991
 5117 00000CDA 0000                       ALIGNMENT CODE
 5118 00000CDC 00000000                   DATA FOR SOURCE-LINE 1990
 5119 00000CE0 00000000                   DATA FOR SOURCE-LINE 1993
 5120 00000CE4 00000000                   DATA FOR SOURCE-LINE 1994
 5121                                     ***** END-POOL *****
 5122 00000CE8                   2000     KMT_HINBAN_RQMK_100:
 5123                            2001     ;       ----- 開始ｲﾍﾞﾝﾄのみ発生----
 5124                            2002             FAR_JSR #_KMT_HINBAN_BUF_MAK1,R0                ;output R6,R7
 5125 00000CE8 D007                   M           MOV.L   #_KMT_HINBAN_BUF_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5126 00000CEA 400B                   M           JSR     @R0                     ;
 5127 00000CEC 0009                   M           NOP                                     ;
 5128 00000CEE 9009              2003             MOV.W   #BIT0,R0                                ;
 5129 00000CF0 2701              2004             MOV.W   R0,@R7                                  ;
 5130                            2005             FAR_JSR #_HINBAN_START_DATA_MOV,R0              ;input R6
 5131 00000CF2 D006                   M           MOV.L   #_HINBAN_START_DATA_MOV,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5132 00000CF4 400B                   M           JSR     @R0                     ;
 5133 00000CF6 0009                   M           NOP                                     ;
 5134 00000CF8 D405              2006             MOV.L   #_KMT_HINBAN_TRG_NUM,R4                 ;0個[保留なし],1個,2個,3個,4個,5個
                                          full
 5135 00000CFA 6041              2007             MOV.W   @R4,R0                                  ;
 5136 00000CFC 7001              2008             ADD     #1,R0                                   ;
 5137 00000CFE 2401              2009             MOV.W   R0,@R4                                  ;
 5138                            2010             M_BRA   KMT_HINBAN_RQMK_900                     ;
 5139 00000D00 A02C                   M           BRA     KMT_HINBAN_RQMK_900
 5140 00000D02 0009                   M           NOP
 5141                            2011     
 5142                            2012     
 5143                            2013     ;       ----- 終了ｲﾍﾞﾝﾄと開始ｲﾍﾞﾝﾄが同時に発生----
 5144                                     ***** BEGIN-POOL *****
 5145 00000D04 0001                       DATA FOR SOURCE-LINE 2003
 5146 00000D06 0000                       ALIGNMENT CODE
 5147 00000D08 00000000                   DATA FOR SOURCE-LINE 2002
 5148 00000D0C 00000000                   DATA FOR SOURCE-LINE 2005
 5149 00000D10 00000000                   DATA FOR SOURCE-LINE 2006
 5150                                     ***** END-POOL *****
 5151 00000D14                   2014     KMT_HINBAN_RQMK_200:
 5152                            2015             FAR_JSR #_KMT_HINBAN_BUF_MAK1,R0        ;output R6,R7
 5153 00000D14 D00D                   M           MOV.L   #_KMT_HINBAN_BUF_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5154 00000D16 400B                   M           JSR     @R0                     ;
 5155 00000D18 0009                   M           NOP                                     ;
 5156 00000D1A 9015              2016             MOV.W   #BIT1,R0                        ;
 5157 00000D1C 2701              2017             MOV.W   R0,@R7                          ;
 5158                            2018             FAR_JSR #_HINBAN_STOP_DATA_MOV,R0       ;input R6
 5159 00000D1E D00C                   M           MOV.L   #_HINBAN_STOP_DATA_MOV,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    58
PROGRAM NAME =

 5160 00000D20 400B                   M           JSR     @R0                     ;
 5161 00000D22 0009                   M           NOP                                     ;
 5162 00000D24 D40B              2019             MOV.L   #_KMT_HINBAN_TRG_NUM,R4         ;0個[保留なし],1個,2個,3個,4個,5個full
 5163 00000D26 6041              2020             MOV.W   @R4,R0                          ;
 5164 00000D28 7001              2021             ADD     #1,R0                           ;
 5165 00000D2A 2401              2022             MOV.W   R0,@R4                          ;
 5166                            2023     
 5167                            2024             FAR_JSR #_KMT_HINBAN_BUF_MAK1,R0        ;output R6,R7
 5168 00000D2C D007                   M           MOV.L   #_KMT_HINBAN_BUF_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5169 00000D2E 400B                   M           JSR     @R0                     ;
 5170 00000D30 0009                   M           NOP                                     ;
 5171 00000D32 900A              2025             MOV.W   #BIT0,R0                        ;
 5172 00000D34 2701              2026             MOV.W   R0,@R7                          ;
 5173                            2027             FAR_JSR #_HINBAN_START_DATA_MOV,R0              ;input R6
 5174 00000D36 D008                   M           MOV.L   #_HINBAN_START_DATA_MOV,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5175 00000D38 400B                   M           JSR     @R0                     ;
 5176 00000D3A 0009                   M           NOP                                     ;
 5177 00000D3C D405              2028             MOV.L   #_KMT_HINBAN_TRG_NUM,R4                 ;0個[保留なし],1個,2個,3個,4個,5個
                                          full
 5178 00000D3E 6041              2029             MOV.W   @R4,R0                                  ;
 5179 00000D40 7001              2030             ADD     #1,R0                                   ;
 5180 00000D42 2401              2031             MOV.W   R0,@R4                                  ;
 5181                            2032             M_BRA   KMT_HINBAN_RQMK_900
 5182 00000D44 A00A                   M           BRA     KMT_HINBAN_RQMK_900
 5183 00000D46 0009                   M           NOP
 5184                            2033     
 5185                            2034     
 5186                                     ***** BEGIN-POOL *****
 5187 00000D48 0002                       DATA FOR SOURCE-LINE 2016
 5188 00000D4A 0001                       DATA FOR SOURCE-LINE 2025
 5189 00000D4C 00000000                   DATA FOR SOURCE-LINE 2015,2024
 5190 00000D50 00000000                   DATA FOR SOURCE-LINE 2018
 5191 00000D54 00000000                   DATA FOR SOURCE-LINE 2019,2028
 5192 00000D58 00000000                   DATA FOR SOURCE-LINE 2027
 5193                                     ***** END-POOL *****
 5194 00000D5C                   2035     KMT_HINBAN_RQMK_900
 5195                            2036             M_BRA   KMT_HINBAN_RQMK_999     ;
 5196 00000D5C A000                   M           BRA     KMT_HINBAN_RQMK_999
 5197 00000D5E 0009                   M           NOP
 5198                            2037     
 5199 00000D60                   2038     KMT_HINBAN_RQMK_999
 5200                            2039     
 5201                            2040     ;       ---------------------------------------------------
 5202                            2041     ;       ---             送信データの作成                ---
 5203                            2042     ;       ---             "KMT_HINBAN_DAT_MAKE"           ---
 5204                            2043     ;       ---------------------------------------------------
 5205 00000D60 D507              2044             MOV.L   #_KMT_HINBAN_CHGF,R5                    ;
 5206 00000D62 6051              2045             MOV.W   @R5,R0                                  ;BIT0orBIT1-->送信部 送信部でｸﾘｱさ
                                          れる
 5207 00000D64 2008              2046             TST     R0,R0                                   ;
 5208                            2047             TST_BIT_ON KMT_HINBAN_DTMK_900                  ;送信部処理中　EXIT
 5209 00000D66 8B07                   M           BF      KMT_HINBAN_DTMK_900
 5210                            2048     
 5211 00000D68 D406              2049             MOV.L   #_KMT_HINBAN_TRG_NUM,R4                 ;0個[ﾃﾞｰﾀなし],1個,2個,3個,4個,5個
                                          ,6個full
 5212 00000D6A 6041              2050             MOV.W   @R4,R0                                  ;
 5213 00000D6C 2008              2051             TST     R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    59
PROGRAM NAME =

 5214                            2052             TST_BIT_OF KMT_HINBAN_DTMK_900                  ;送信ﾃﾞｰﾀない
 5215 00000D6E 8903                   M           BT      KMT_HINBAN_DTMK_900
 5216                            2053     
 5217                            2054     ;;      ADD     #-1,R0                                  ;
 5218                            2055     ;;      MOV.W   R0,@R4                                  ;
 5219                            2056     ;;      MOV     R0,R7                                   ;LOOP
 5220                            2057     ;;
 5221                            2058     ;;      MOV.L   #_KMT_HMI_HINBAN_BUF+__SITM_HINBAN_CNT,R5       ;
 5222                            2059     ;;      MOV.L   #_KMT_HMI_HINBAN_BUF,R6                         ;
 5223                            2060     ;;
 5224                            2061     ;;      MOV.L   #_KMT_HINBAN_TRG_FLG+1*2,R10                    ;
 5225                            2062     ;;      MOV.L   #_KMT_HINBAN_TRG_FLG,R11                        ;
 5226                            2063     ;;
 5227                            2064     ;;
 5228                            2065     ;;KMT_HINBAN_DTMK_100_LOP
 5229                            2066     ;;      TST     R7,R7                                           ;
 5230                            2067     ;;      TST_BIT_OF KMT_HINBAN_DTMK_200                          ;転送終わり[BUFF1が送信対
                                          象だから]
 5231                            2068     ;;
 5232                            2069     ;;      MOV.W   @R10+,R0                                        ;FLG
 5233                            2070     ;;      MOV.W   R0,@R11                                         ;
 5234                            2071     ;;      ADD     #2,R11                                          ;
 5235                            2072     ;;
 5236                            2073     ;;      MOV.W   #__SITM_HINBAN_CNT/2,R3                         ;80word
 5237                            2074     ;;KMT_HINBAN_DTMK_120_LOP
 5238                            2075     ;;      MOV.W   @R5+,R0                                         ;
 5239                            2076     ;;      MOV.W   R0,@R6                                          ;
 5240                            2077     ;;      ADD     #2,R6                                           ;
 5241                            2078     ;;      ADD     #-1,R3                                          ;
 5242                            2079     ;;      TST     R3,R3                                           ;
 5243                            2080     ;;      TST_BIT_ON KMT_HINBAN_DTMK_120_LOP                      ;
 5244                            2081     ;;      ADD     #-1,R7                                          ;
 5245                            2082     ;;      M_BRA   KMT_HINBAN_DTMK_100_LOP                         ;
 5246                            2083     
 5247                            2084     ;;KMT_HINBAN_DTMK_200
 5248                            2085     
 5249 00000D70 D105              2086             MOV.L   #_KMT_HINBAN_TRG_FLG,R1                 ;保留が発生した場合の処理
 5250 00000D72 6011              2087             MOV.W   @R1,R0                                  ;
 5251 00000D74 D502              2088             MOV.L   #_KMT_HINBAN_CHGF,R5                    ;
 5252 00000D76 2501              2089             MOV.W   R0,@R5                                  ;BIT0orBIT1-->送信部 送信部でｸﾘｱさ
                                          れる
 5253                            2090     
 5254                            2091     
 5255 00000D78                   2092     KMT_HINBAN_DTMK_900
 5256                            2093     
 5257                            2094             SUB_END
 5258                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5259 00000D78 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5260                            2095             M_RTS
 5261 00000D7A 000B                   M           RTS                             ;RTSの後ろの
 5262 00000D7C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5263                            2096     
 5264                            2097     
 5265                            2098     ;       ***************************
 5266                            2099     ;       ***     buff_TOP_MAKE   ***
 5267                            2100     ;       ***************************
 5268                            2101     ;       OUTPUT R6
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    60
PROGRAM NAME =

 5269                            2102     ;       Output R7
 5270                                     ***** BEGIN-POOL *****
 5271 00000D7E 0000                       ALIGNMENT CODE
 5272 00000D80 00000000                   DATA FOR SOURCE-LINE 2044,2088
 5273 00000D84 00000000                   DATA FOR SOURCE-LINE 2049
 5274 00000D88 00000000                   DATA FOR SOURCE-LINE 2086
 5275                                     ***** END-POOL *****
 5276 00000D8C                   2103     _KMT_HINBAN_BUF_MAK1:
 5277                            2104             SUB_START
 5278 00000D8C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5279                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5280                            2105     
 5281 00000D8E D509              2106             MOV.L   #_KMT_HINBAN_TRG_NUM,R5                 ;0個[保留なし],1個,2個,3個,4個,5個
                                          full
 5282 00000D90 6051              2107             MOV.W   @R5,R0                                  ;
 5283 00000D92 8806              2108             CMP/EQ  #_HINBAN_BUF_MAX,R0                     ;
 5284 00000D94 8B01              2109             BF      KMT_HINBAN_BUFMK1_100                   ;
 5285 00000D96 70FE              2110             ADD     #-2,R0                                  ;2つ前に戻す[ﾊﾞﾌｧも]
 5286 00000D98 2501              2111             MOV.W   R0,@R5                                  ;開始→終了→.....ならば２つ前と一
                                          致するはず
 5287                            2112                                                             ;ﾊﾞﾌｧ6-->4
 5288                            2113                                                             ;ﾊﾞﾌｧ5-->3
 5289                            2114                                                             ;保留しておく
 5290 00000D9A                   2115     KMT_HINBAN_BUFMK1_100:
 5291 00000D9A 9409              2116             MOV.W   #__SITM_HINBAN_CNT,R4                   ;160byte
 5292 00000D9C 340D              2117             DMULS.L R0,R4                                   ;
 5293 00000D9E 021A              2118             STS.L   MACL,R2                                 ;
 5294                            2119     
 5295 00000DA0 D605              2120             MOV.L   #_KMT_HMI_HINBAN_BUF,R6                 ;
 5296 00000DA2 362C              2121             ADD     R2,R6                                   ;
 5297                            2122     
 5298 00000DA4 D705              2123             MOV.L   #_KMT_HINBAN_TRG_FLG,R7                 ;
 5299 00000DA6 4000              2124             SHLL    R0
 5300 00000DA8 370C              2125             ADD     R0,R7                                   ;
 5301                            2126     
 5302                            2127     
 5303                            2128             SUB_END
 5304                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5305 00000DAA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5306                            2129             M_RTS
 5307 00000DAC 000B                   M           RTS                             ;RTSの後ろの
 5308 00000DAE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5309                            2130     ;
 5310                            2131     ;
 5311                            2132     ;       input R6:DST MEM
 5312                            2133     ;
 5313                                     ***** BEGIN-POOL *****
 5314 00000DB0 00A0                       DATA FOR SOURCE-LINE 2116
 5315 00000DB2 0000                       ALIGNMENT CODE
 5316 00000DB4 00000000                   DATA FOR SOURCE-LINE 2106
 5317 00000DB8 00000000                   DATA FOR SOURCE-LINE 2120
 5318 00000DBC 00000000                   DATA FOR SOURCE-LINE 2123
 5319                                     ***** END-POOL *****
 5320 00000DC0                   2134     _HINBAN_START_DATA_MOV:
 5321                            2135             SUB_START
 5322 00000DC0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5323                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    61
PROGRAM NAME =

 5324 00000DC2 D704              2136             MOV.L   #_SV0_WORK_STR_FLG,R7   ;2byte作業終了 　0/0以外
 5325 00000DC4 D804              2137             MOV.L   #_SV0SR_WORKER_COD,R8   ;2byte作業者ｺｰﾄﾞBIN
 5326 00000DC6 D905              2138             MOV.L   #_SV0SR_ORDER_COD,R9    ;4byte注文ｺｰﾄﾞBIN->ASC
 5327 00000DC8 DA05              2139             MOV.L   #_SV0SR_PLAN_CNT,R10    ;4byte計画数BIN
 5328 00000DCA DB06              2140             MOV.L   #_SV0SR_BAD_CNT,R11     ;4byte不良数BIN
 5329 00000DCC DC06              2141             MOV.L   #_SV0SR_KATA_NAME,R12   ;2byte*7=14byte
 5330 00000DCE DD07              2142             MOV.L   #_SV0SR_KATA_MEMO,R13   ;2byte*7=14byte
 5331                            2143             M_BRA   HINBAN_COM_DATMOV
 5332 00000DD0 A026                   M           BRA     HINBAN_COM_DATMOV
 5333 00000DD2 0009                   M           NOP
 5334                            2144     
 5335                            2145     
 5336                                     ***** BEGIN-POOL *****
 5337 00000DD4 00000000                   DATA FOR SOURCE-LINE 2136
 5338 00000DD8 00000000                   DATA FOR SOURCE-LINE 2137
 5339 00000DDC 00000000                   DATA FOR SOURCE-LINE 2138
 5340 00000DE0 00000000                   DATA FOR SOURCE-LINE 2139
 5341 00000DE4 00000000                   DATA FOR SOURCE-LINE 2140
 5342 00000DE8 00000000                   DATA FOR SOURCE-LINE 2141
 5343 00000DEC 00000000                   DATA FOR SOURCE-LINE 2142
 5344                                     ***** END-POOL *****
 5345 00000DF0                   2146     _HINBAN_STOP_DATA_MOV:
 5346                            2147             SUB_START
 5347 00000DF0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5348                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5349 00000DF2 D704              2148             MOV.L   #_SV0_WORK_STP_FLG,R7   ;2byte作業終了 　0/0以外
 5350 00000DF4 D804              2149             MOV.L   #_SV0SP_WORKER_COD,R8   ;2byte作業者ｺｰﾄﾞBIN
 5351 00000DF6 D905              2150             MOV.L   #_SV0SP_ORDER_COD,R9    ;4byte注文ｺｰﾄﾞBIN->ASC
 5352 00000DF8 DA05              2151             MOV.L   #_SV0SP_PLAN_CNT,R10    ;4byte計画数BIN
 5353 00000DFA DB06              2152             MOV.L   #_SV0SP_BAD_CNT,R11     ;4byte不良数BIN
 5354 00000DFC DC06              2153             MOV.L   #_SV0SP_KATA_NAME,R12   ;2byte*7=14byte
 5355 00000DFE DD07              2154             MOV.L   #_SV0SP_KATA_MEMO,R13   ;2byte*7=14byte
 5356                            2155             M_BRA   HINBAN_COM_DATMOV
 5357 00000E00 A00E                   M           BRA     HINBAN_COM_DATMOV
 5358 00000E02 0009                   M           NOP
 5359                            2156     
 5360                                     ***** BEGIN-POOL *****
 5361 00000E04 00000000                   DATA FOR SOURCE-LINE 2148
 5362 00000E08 00000000                   DATA FOR SOURCE-LINE 2149
 5363 00000E0C 00000000                   DATA FOR SOURCE-LINE 2150
 5364 00000E10 00000000                   DATA FOR SOURCE-LINE 2151
 5365 00000E14 00000000                   DATA FOR SOURCE-LINE 2152
 5366 00000E18 00000000                   DATA FOR SOURCE-LINE 2153
 5367 00000E1C 00000000                   DATA FOR SOURCE-LINE 2154
 5368                                     ***** END-POOL *****
 5369 00000E20                   2157     HINBAN_COM_DATMOV:
 5370                            2158     
 5371 00000E20 461E              2159             LDC     R6,GBR                                  ;
 5372                            2160     
 5373                            2161     ;       -------- 作業ｺｰﾄﾞ 2byte------------
 5374 00000E22 6085              2162             MOV.W   @R8+,R0                         ;
 5375 00000E24 C118              2163             MOV.W   R0,@(_EQ_WORKER_COD,GBR)        ;
 5376                            2164     
 5377                            2165     ;       --------注文ｺｰﾄﾞ 4byte------------
 5378 00000E26 6296              2166             MOV.L   @R9+,R2                                 ;
 5379                            2167             FAR_JSR #_BCD4B_ASCII,R0                        ;
 5380 00000E28 D01D                   M           MOV.L   #_BCD4B_ASCII,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    62
PROGRAM NAME =

 5381 00000E2A 400B                   M           JSR     @R0                     ;
 5382 00000E2C 0009                   M           NOP                                     ;
 5383                            2168                                                             ;R1,R2,R3,R4 8byte
 5384 00000E2E 6013              2169             MOV     R1,R0                                   ;
 5385 00000E30 C100              2170             MOV.W   R0,@(_EQ_ORDER_COD+0*2,GBR)             ;
 5386 00000E32 6023              2171             MOV     R2,R0                                   ;
 5387 00000E34 C101              2172             MOV.W   R0,@(_EQ_ORDER_COD+1*2,GBR)             ;
 5388 00000E36 6033              2173             MOV     R3,R0                                   ;
 5389 00000E38 C102              2174             MOV.W   R0,@(_EQ_ORDER_COD+2*2,GBR)             ;
 5390 00000E3A 6043              2175             MOV     R4,R0                                   ;
 5391 00000E3C C103              2176             MOV.W   R0,@(_EQ_ORDER_COD+3*2,GBR)             ;
 5392                            2177     
 5393                            2178     ;       --------計画数 4byte------------
 5394 00000E3E 60A5              2179             MOV.W   @R10+,R0                                ;
 5395 00000E40 C119              2180             MOV.W   R0,@(_EQ_PLAN_CNT+0*2,GBR)              ;
 5396 00000E42 60A5              2181             MOV.W   @R10+,R0                                ;
 5397 00000E44 C11A              2182             MOV.W   R0,@(_EQ_PLAN_CNT+1*2,GBR)              ;
 5398                            2183     
 5399                            2184     
 5400                            2185     ;       --------不良数 4byte------------
 5401 00000E46 60B5              2186             MOV.W   @R11+,R0                                ;
 5402 00000E48 C11D              2187             MOV.W   R0,@(_EQ_BAD_CNT+0*2,GBR)               ;
 5403 00000E4A 60B5              2188             MOV.W   @R11+,R0                                ;
 5404 00000E4C C11E              2189             MOV.W   R0,@(_EQ_BAD_CNT+1*2,GBR)               ;
 5405                            2190     
 5406                            2191     ;       --------型名称 14/20byte------------
 5407 00000E4E 60C5              2192             MOV.W   @R12+,R0                                ;
 5408 00000E50 C104              2193             MOV.W   R0,@(_EQ_KATA_NAME+0*2,GBR)             ;01
 5409 00000E52 60C5              2194             MOV.W   @R12+,R0                                ;
 5410 00000E54 C105              2195             MOV.W   R0,@(_EQ_KATA_NAME+1*2,GBR)             ;23
 5411 00000E56 60C5              2196             MOV.W   @R12+,R0                                ;
 5412 00000E58 C106              2197             MOV.W   R0,@(_EQ_KATA_NAME+2*2,GBR)             ;4
 5413 00000E5A 60C5              2198             MOV.W   @R12+,R0                                ;
 5414 00000E5C C107              2199             MOV.W   R0,@(_EQ_KATA_NAME+3*2,GBR)             ;6
 5415 00000E5E 60C5              2200             MOV.W   @R12+,R0                                ;
 5416 00000E60 C108              2201             MOV.W   R0,@(_EQ_KATA_NAME+4*2,GBR)             ;8
 5417 00000E62 60C5              2202             MOV.W   @R12+,R0                                ;
 5418 00000E64 C109              2203             MOV.W   R0,@(_EQ_KATA_NAME+5*2,GBR)             ;10
 5419 00000E66 60C5              2204             MOV.W   @R12+,R0                                ;
 5420 00000E68 C10A              2205             MOV.W   R0,@(_EQ_KATA_NAME+6*2,GBR)             ;12
 5421                            2206     
 5422 00000E6A 200A              2207             XOR     R0,R0
 5423 00000E6C C10B              2208             MOV.W   R0,@(_EQ_KATA_NAME+7*2,GBR)             ;
 5424 00000E6E C10C              2209             MOV.W   R0,@(_EQ_KATA_NAME+8*2,GBR)             ;
 5425 00000E70 C10D              2210             MOV.W   R0,@(_EQ_KATA_NAME+9*2,GBR)             ;
 5426                            2211     
 5427                            2212     ;       --------メモ 14/20byte------------
 5428 00000E72 60D5              2213             MOV.W   @R13+,R0                                ;
 5429 00000E74 C10E              2214             MOV.W   R0,@(_EQ_KATA_MEMO+0*2,GBR)             ;0
 5430 00000E76 60D5              2215             MOV.W   @R13+,R0                                ;
 5431 00000E78 C10F              2216             MOV.W   R0,@(_EQ_KATA_MEMO+1*2,GBR)             ;2
 5432 00000E7A 60D5              2217             MOV.W   @R13+,R0                                ;
 5433 00000E7C C110              2218             MOV.W   R0,@(_EQ_KATA_MEMO+2*2,GBR)             ;4
 5434 00000E7E 60D5              2219             MOV.W   @R13+,R0                                ;
 5435 00000E80 C111              2220             MOV.W   R0,@(_EQ_KATA_MEMO+3*2,GBR)             ;6
 5436 00000E82 60D5              2221             MOV.W   @R13+,R0                                ;
 5437 00000E84 C112              2222             MOV.W   R0,@(_EQ_KATA_MEMO+4*2,GBR)             ;8
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    63
PROGRAM NAME =

 5438 00000E86 60D5              2223             MOV.W   @R13+,R0                                ;
 5439 00000E88 C113              2224             MOV.W   R0,@(_EQ_KATA_MEMO+5*2,GBR)             ;10
 5440 00000E8A 60D5              2225             MOV.W   @R13+,R0                                ;
 5441 00000E8C C114              2226             MOV.W   R0,@(_EQ_KATA_MEMO+6*2,GBR)             ;12,13
 5442                            2227     
 5443 00000E8E 200A              2228             XOR     R0,R0
 5444 00000E90 C115              2229             MOV.W   R0,@(_EQ_KATA_MEMO+7*2,GBR)             ;14,15
 5445 00000E92 C116              2230             MOV.W   R0,@(_EQ_KATA_MEMO+8*2,GBR)             ;16
 5446 00000E94 C117              2231             MOV.W   R0,@(_EQ_KATA_MEMO+9*2,GBR)             ;18,19
 5447                            2232     
 5448                            2233     
 5449                            2234     ;       ----MAIN CPUB INTERFACE FLG----------
 5450 00000E96 200A              2235             XOR     R0,R0
 5451 00000E98 2701              2236             MOV.W   R0,@R7                  ;FLG=0-CLR
 5452                            2237     
 5453                            2238             SUB_END
 5454                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5455 00000E9A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5456                            2239             M_RTS
 5457 00000E9C 000B                   M           RTS                             ;RTSの後ろの
 5458 00000E9E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5459                            2240     
 5460                            2241     ;       *******************************************
 5461                            2242     ;       ***                                     ***
 5462                            2243     ;       ***     input R2                        ***
 5463                            2244     ;       ***     output R1,R2,R3,R4              ***
 5464                            2245     ;       ***                                     ***
 5465                            2246     ;       *******************************************
 5466                            2247     ;       +data =>ascii
 5467                            2248     ;       0~9の数値だけ
 5468                            2249     ;
 5469                            2250     ;
 5470                                     ***** BEGIN-POOL *****
 5471 00000EA0 00000000                   DATA FOR SOURCE-LINE 2167
 5472                                     ***** END-POOL *****
 5473          00000030          2251     __ASCII_0       .EQU    H'30            ;
 5474                            2252     ;
 5475 00000EA4                   2253     _BCD4B_ASCII:
 5476                            2254             SUB_START
 5477 00000EA4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5478                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5479                            2255             PUSH_REG1 R5
 5480 00000EA6 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
 5481                                 M                                           ;REG=>[SP]
 5482                                 M                                           ;"-4" FF,FF,FF,FC
 5483                            2256     
 5484                            2257     ;HHH,HHL,HLH,HLL,LHH,LHL,LLH,LLL
 5485                            2258     ;
 5486                            2259     ;
 5487                            2260     ;
 5488 00000EA8 6523              2261             MOV     R2,R5                   ;
 5489                            2262     
 5490                            2263     ;       ------------------------
 5491 00000EAA 6053              2264             MOV     R5,R0                   ;
 5492 00000EAC C90F              2265             AND     #H'0F,R0                ;BIT3~BIT0
 5493 00000EAE 7030              2266             ADD     #__ASCII_0,R0           ;
 5494 00000EB0 6403              2267             MOV     R0,R4                   ;1byte
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    64
PROGRAM NAME =

 5495 00000EB2 6053              2268             MOV     R5,R0                   ;
 5496 00000EB4 4009              2269             SHLR2   R0                      ;
 5497 00000EB6 4009              2270             SHLR2   R0                      ;
 5498 00000EB8 C90F              2271             AND     #H'0F,R0                ;BIT7~BIT4
 5499 00000EBA 7030              2272             ADD     #__ASCII_0,R0           ;
 5500 00000EBC 4018              2273             SHLL8   R0                      ;
 5501 00000EBE 240B              2274             OR      R0,R4                   ;2byte
 5502                            2275     
 5503                            2276     ;       ------------------------
 5504 00000EC0 4519              2277             SHLR8   R5                      ;
 5505 00000EC2 6053              2278             MOV     R5,R0                   ;
 5506 00000EC4 C90F              2279             AND     #H'0F,R0                ;BIT11~BIT8
 5507 00000EC6 7030              2280             ADD     #__ASCII_0,R0           ;
 5508 00000EC8 6303              2281             MOV     R0,R3                   ;3byte
 5509 00000ECA 6053              2282             MOV     R5,R0                   ;
 5510 00000ECC 4009              2283             SHLR2   R0                      ;
 5511 00000ECE 4009              2284             SHLR2   R0                      ;
 5512 00000ED0 C90F              2285             AND     #H'0F,R0                ;BIT15~BIT12
 5513 00000ED2 7030              2286             ADD     #__ASCII_0,R0           ;
 5514 00000ED4 4018              2287             SHLL8   R0                      ;
 5515 00000ED6 230B              2288             OR      R0,R3                   ;4byte
 5516                            2289     
 5517                            2290     ;       ------------------------
 5518 00000ED8 4519              2291             SHLR8   R5                      ;
 5519 00000EDA 6053              2292             MOV     R5,R0                   ;
 5520 00000EDC C90F              2293             AND     #H'0F,R0                ;BIT19~BIT16
 5521 00000EDE 7030              2294             ADD     #__ASCII_0,R0           ;
 5522 00000EE0 6203              2295             MOV     R0,R2                   ;5byte
 5523 00000EE2 6053              2296             MOV     R5,R0                   ;
 5524 00000EE4 4009              2297             SHLR2   R0                      ;
 5525 00000EE6 4009              2298             SHLR2   R0                      ;
 5526 00000EE8 C90F              2299             AND     #H'0F,R0                ;BIT23~BIT20
 5527 00000EEA 7030              2300             ADD     #__ASCII_0,R0           ;
 5528 00000EEC 4018              2301             SHLL8   R0                      ;
 5529 00000EEE 220B              2302             OR      R0,R2                   ;6byte
 5530                            2303     
 5531                            2304     ;       ------------------------
 5532 00000EF0 4519              2305             SHLR8   R5                      ;
 5533 00000EF2 6053              2306             MOV     R5,R0                   ;
 5534 00000EF4 C90F              2307             AND     #H'0F,R0                ;BIT27~BIT24
 5535 00000EF6 7030              2308             ADD     #__ASCII_0,R0           ;
 5536 00000EF8 6103              2309             MOV     R0,R1                   ;7byte
 5537 00000EFA 6053              2310             MOV     R5,R0                   ;
 5538 00000EFC 4009              2311             SHLR2   R0                      ;
 5539 00000EFE 4009              2312             SHLR2   R0                      ;
 5540 00000F00 C90F              2313             AND     #H'0F,R0                ;BIT30~BIT28
 5541 00000F02 7030              2314             ADD     #__ASCII_0,R0           ;
 5542 00000F04 4018              2315             SHLL8   R0                      ;
 5543 00000F06 210B              2316             OR      R0,R1                   ;8byte
 5544                            2317     
 5545                            2318             POP_REG1 R5
 5546                                 M                                   ; RE"+4" 00,00,00,04
 5547 00000F08 65F6                   M           MOV.L   @R15+,R5        ;
 5548                            2319             SUB_END
 5549                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5550 00000F0A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5551                            2320             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    65
PROGRAM NAME =

 5552 00000F0C 000B                   M           RTS                             ;RTSの後ろの
 5553 00000F0E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5554                            2321     
 5555                            2322     ;       *******************************************
 5556                            2323     ;       ***                                     ***
 5557                            2324     ;       ***             品番転送処理            ***
 5558                            2325     ;       ***             (write)                 ***
 5559                            2326     ;       *******************************************
 5560                            2327     ;       input   _KMT_HINBAN_CHGF=bit0,bit1
 5561                            2328     ;       output  _KMT_HINBAN_CHGF=0
 5562 00000F10                   2329             .ALIGN  4                                       ;
 5563                            2330     
 5564 00000F10                   2331     _KMT_HINBAN_STEP
 5565                            2332             SUB_START
 5566 00000F10 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5567                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5568                            2333     
 5569                            2334     ;       ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 5570                            2335     ;;      MOV.L   #_KMT_HINBAN_SIGTIM,R1                  ;
 5571                            2336     ;;      MOV.W   @R1,R0                                  ;
 5572                            2337     ;;      TST     R0,R0                                   ;
 5573                            2338     ;;      TST_BIT_OF KMT_HINBAN_STP050                    ;
 5574                            2339     ;;      ADD     #-1,R0                                  ;
 5575                            2340     ;;      MOV.W   R0,@R1                                  ;
 5576                            2341     ;;KMT_HINBAN_STP050:
 5577                            2342     ;       ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 5578                            2343     
 5579 00000F12 D105              2344             MOV.L   #_KMT_HINBAN_FLG,R1                     ;
 5580 00000F14 6011              2345             MOV.W   @R1,R0                                  ;BIT1=1 EVENT終了待ち
 5581 00000F16 C80E              2346             TST     #(BIT3+BIT2+BIT1),R0                    ;BIT2=1 ｼｰｹﾝｽへ出力
 5582                            2347             TST_BIT_ON KMT_HINBAN_STP300                    ;
 5583 00000F18 8B44                   M           BF      KMT_HINBAN_STP300
 5584                            2348     
 5585 00000F1A D504              2349             MOV.L   #_KMT_HINBAN_CHGF,R5                    ;
 5586 00000F1C 6051              2350             MOV.W   @R5,R0                                  ;MAIN==>INT
 5587 00000F1E 2008              2351             TST     R0,R0                                   ;
 5588                            2352             TST_BIT_ON KMT_HINBAN_STP020                    ;
 5589 00000F20 8B06                   M           BF      KMT_HINBAN_STP020
 5590                            2353             M_BRA   KMT_HINBAN_STPEXT                       ;
 5591 00000F22 A092                   M           BRA     KMT_HINBAN_STPEXT
 5592 00000F24 0009                   M           NOP
 5593                            2354     
 5594                                     ***** BEGIN-POOL *****
 5595 00000F26 0000                       ALIGNMENT CODE
 5596 00000F28 00000000                   DATA FOR SOURCE-LINE 2344
 5597 00000F2C 00000000                   DATA FOR SOURCE-LINE 2349
 5598                                     ***** END-POOL *****
 5599 00000F30                   2355     KMT_HINBAN_STP020:
 5600                            2356     
 5601 00000F30 D10C              2357             MOV.L   #_KMT_HINBAN_SEL,R1                     ;BIT0=1開始・BIT1=1終了
 5602 00000F32 2101              2358             MOV.W   R0,@R1                                  ;
 5603                            2359     
 5604 00000F34 200A              2360             XOR     R0,R0                                   ;
 5605 00000F36 2501              2361             MOV.W   R0,@R5                                  ;MAIN ｺﾏﾝﾄﾞｸﾘｱ
 5606                            2362     
 5607 00000F38 200A              2363             XOR     R0,R0
 5608 00000F3A D10B              2364             MOV.L   #(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    66
PROGRAM NAME =

                                          ;0:固定 (SIT_MEMを対象)
 5609 00000F3C 2101              2365             MOV.W   R0,@R1                                  ;
 5610                            2366     
 5611 00000F3E 900F              2367             MOV.W   #__SITM_HINBAN_TOP/2,R0                                         ;ADR+132*2
                                          byte adr/2=132
 5612 00000F40 D10A              2368             MOV.L   #(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R1       ;
 5613 00000F42 2101              2369             MOV.W   R0,@R1                                  ;
 5614                            2370     
 5615 00000F44 900D              2371             MOV.W   #__SITM_HINBAN_CNT/2,R0                 ;160byte/2=80word
 5616 00000F46 D10A              2372             MOV.L   #(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R1                  ;M
                                          AX 1~256 word
 5617 00000F48 2101              2373             MOV.W   R0,@R1
 5618                            2374     
 5619 00000F4A D50A              2375             MOV.L   #_KMT_HMI_HINBAN_BUF,R5                                                 ;8
                                          0word
 5620 00000F4C D60A              2376             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R6                  ;
 5621 00000F4E 9308              2377             MOV.W   #__SITM_HINBAN_CNT/2,R3                                                 ;
 5622                            2378             BLOCK_MOV1 LG=W,AD_DT=2,SRC_REG=R5,DST_REG=R6,DATA_REG=R0,CNT_REG=R3            ;
 5623 00000F50                        M   JMP000006:                                      ;
 5624 00000F50 2338                   M           TST     R3,R3   ;
 5625                                 M           TST_BIT_OF JMP100006            ;
 5626 00000F52 8913                   M           BT      JMP100006
 5627 00000F54 6055                   M           MOV.W   @R5+,R0 ;
 5628 00000F56 2601                   M           MOV.W   R0,@R6  ;
 5629 00000F58 7602                   M           ADD     #2,R6   ;
 5630 00000F5A 73FF                   M           ADD     #H'FF,R3                ;
 5631                                 M           M_BRA   JMP000006                       ;
 5632 00000F5C AFF8                   M           BRA     JMP000006
 5633 00000F5E 0009                   M           NOP
 5634                                 M   ***** BEGIN-POOL *****
 5635 00000F60 0084                   M   DATA FOR SOURCE-LINE 2367
 5636 00000F62 0050                   M   DATA FOR SOURCE-LINE 2371,2377
 5637 00000F64 00000000               M   DATA FOR SOURCE-LINE 2357
 5638 00000F68 00000000               M   DATA FOR SOURCE-LINE 2364
 5639 00000F6C 00000000               M   DATA FOR SOURCE-LINE 2368
 5640 00000F70 00000000               M   DATA FOR SOURCE-LINE 2372
 5641 00000F74 00000000               M   DATA FOR SOURCE-LINE 2375
 5642 00000F78 00000000               M   DATA FOR SOURCE-LINE 2376
 5643                                 M   ***** END-POOL *****
 5644 00000F7C                        M   JMP100006:                                      ;
 5645                            2379     
 5646                            2380     
 5647 00000F7C 900A              2381             MOV.W   #__KMTCMD_WR,R0
 5648 00000F7E D106              2382             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R1                  ;
 5649 00000F80 2101              2383             MOV.W   R0,@R1                                                                  ;W
                                          RITE
 5650                            2384     
 5651                            2385             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_HINBAN_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
 5652 00000F82 D106                   M           MOV.L   #_KMT_HINBAN_FLG,R1             ;
 5653 00000F84 6011                   M           MOV.W   @R1,R0          ;
 5654 00000F86 CB02                   M           OR      #BIT1,R0                ;
 5655 00000F88 2101                   M           MOV.W   R0,@R1          ;
 5656                            2386     
 5657                            2387     
 5658                            2388     ;-----------------------------aaaa----------------------------------------
 5659                            2389             FAR_JSR #_HINBAN_DATA_SFT,R0
 5660 00000F8A D005                   M           MOV.L   #_HINBAN_DATA_SFT,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    67
PROGRAM NAME =

 5661 00000F8C 400B                   M           JSR     @R0                     ;
 5662 00000F8E 0009                   M           NOP                                     ;
 5663                            2390             M_BRA   KMT_HINBAN_STPEXT
 5664 00000F90 A05B                   M           BRA     KMT_HINBAN_STPEXT
 5665 00000F92 0009                   M           NOP
 5666                            2391     
 5667                                     ***** BEGIN-POOL *****
 5668 00000F94 0001                       DATA FOR SOURCE-LINE 2381
 5669 00000F96 0000                       ALIGNMENT CODE
 5670 00000F98 00000000                   DATA FOR SOURCE-LINE 2382
 5671 00000F9C 00000000                   DATA FOR SOURCE-LINE 2385
 5672 00000FA0 00000000                   DATA FOR SOURCE-LINE 2389
 5673                                     ***** END-POOL *****
 5674 00000FA4                   2392     KMT_HINBAN_STP300
 5675 00000FA4 D10C              2393             MOV.L   #_KMT_HINBAN_FLG,R1                                             ;
 5676 00000FA6 6011              2394             MOV.W   @R1,R0                                                          ;BIT1=1 EV
                                          ENT終了待ち
 5677 00000FA8 C808              2395             TST     #BIT3,R0                                                        ;OFF保証
 5678                            2396             TST_BIT_ON KMT_HINBAN_STP500                                            ;
 5679 00000FAA 8B47                   M           BF      KMT_HINBAN_STP500
 5680                            2397     
 5681 00000FAC C804              2398             TST     #BIT2,R0
 5682                            2399             TST_BIT_ON KMT_HINBAN_STP400                                            ;ON保証
 5683 00000FAE 8B2B                   M           BF      KMT_HINBAN_STP400
 5684                            2400     
 5685 00000FB0 D10A              2401             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV5_TOP,R1          ;
 5686 00000FB2 6011              2402             MOV.W   @R1,R0                                                          ;
 5687 00000FB4 2008              2403             TST     R0,R0                                                           ;
 5688                            2404             TST_BIT_ON KMT_HINBAN_STPEXT                                            ;ｺﾏﾝﾄﾞ処理
                                          中
 5689 00000FB6 8B48                   M           BF      KMT_HINBAN_STPEXT
 5690                            2405     
 5691                            2406             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_HINBAN_FLG,LG=W,BIT=BIT2,WKREG=R1      ;bit-set
 5692 00000FB8 D107                   M           MOV.L   #_KMT_HINBAN_FLG,R1             ;
 5693 00000FBA 6011                   M           MOV.W   @R1,R0          ;
 5694 00000FBC CB04                   M           OR      #BIT2,R0                ;
 5695 00000FBE 2101                   M           MOV.W   R0,@R1          ;
 5696                            2407     
 5697 00000FC0 D107              2408             MOV.L   #_KMT_HINBAN_SEL,R1                     ;BIT0=1開始・BIT1=1終了
 5698 00000FC2 6011              2409             MOV.W   @R1,R0                                  ;
 5699 00000FC4 C801              2410             TST     #BIT0,R0                                ;
 5700                            2411             TST_BIT_OF KMT_HINBAN_STP320
 5701 00000FC6 890F                   M           BT      KMT_HINBAN_STP320
 5702                            2412     ;       ------ 開始イベント---
 5703                            2413             MEM1_BIT0_F_ORSET MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R2        ;
                                          開始イベント
 5704 00000FC8 D106                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 5705 00000FCA 6011                   M           MOV.W   @R1,R0          ;
 5706 00000FCC 9203                   M           MOV.W   #(BIT4),R2              ;
 5707 00000FCE 202B                   M           OR      R2,R0           ;
 5708 00000FD0 2101                   M           MOV.W   R0,@R1          ;
 5709                            2414             M_BRA   KMT_HINBAN_STP340                                               ;
 5710 00000FD2 A00E                   M           BRA     KMT_HINBAN_STP340
 5711 00000FD4 0009                   M           NOP
 5712                                     ***** BEGIN-POOL *****
 5713 00000FD6 0010                       DATA FOR SOURCE-LINE 2413
 5714 00000FD8 00000000                   DATA FOR SOURCE-LINE 2393,2406
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    68
PROGRAM NAME =

 5715 00000FDC 00000000                   DATA FOR SOURCE-LINE 2401
 5716 00000FE0 00000000                   DATA FOR SOURCE-LINE 2408
 5717 00000FE4 00000000                   DATA FOR SOURCE-LINE 2413
 5718                                     ***** END-POOL *****
 5719 00000FE8                   2415     KMT_HINBAN_STP320
 5720                            2416             MEM1_BIT0_F_ORSET MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(BIT5),WKRG1=R1,WKRG2=R2        ;
                                          終了イベント
 5721 00000FE8 D105                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 5722 00000FEA 6011                   M           MOV.W   @R1,R0          ;
 5723 00000FEC 9206                   M           MOV.W   #(BIT5),R2              ;
 5724 00000FEE 202B                   M           OR      R2,R0           ;
 5725 00000FF0 2101                   M           MOV.W   R0,@R1          ;
 5726 00000FF2                   2417     KMT_HINBAN_STP340
 5727                            2418     
 5728 00000FF2 9004              2419             MOV.W   #__HINBAN_SIG_ONTIMSV,R0                        ;
 5729 00000FF4 D103              2420             MOV.L   #_KMT_HINBAN_SIGTIM,R1                          ;
 5730 00000FF6 2101              2421             MOV.W   R0,@R1                                          ;
 5731                            2422             M_BRA   KMT_HINBAN_STPEXT                               ;ON保証ﾀｲﾏ
 5732 00000FF8 A027                   M           BRA     KMT_HINBAN_STPEXT
 5733 00000FFA 0009                   M           NOP
 5734                            2423     
 5735                                     ***** BEGIN-POOL *****
 5736 00000FFC 0020                       DATA FOR SOURCE-LINE 2416
 5737 00000FFE 0064                       DATA FOR SOURCE-LINE 2419
 5738 00001000 00000000                   DATA FOR SOURCE-LINE 2416
 5739 00001004 00000000                   DATA FOR SOURCE-LINE 2420
 5740                                     ***** END-POOL *****
 5741 00001008                   2424     KMT_HINBAN_STP400
 5742                            2425     
 5743 00001008 D109              2426             MOV.L   #_KMT_HINBAN_SIGTIM,R1                          ;
 5744 0000100A 6011              2427             MOV.W   @R1,R0                                          ;
 5745 0000100C 2008              2428             TST     R0,R0                                                   ;
 5746                            2429             TST_BIT_ON KMT_HINBAN_STPEXT                                    ;
 5747 0000100E 8B1C                   M           BF      KMT_HINBAN_STPEXT
 5748                            2430     
 5749                            2431             MEM1_BIT0_F_ADCLR MEM=_KMT_STS1MN_SQ87,LG=W,BIT=~(BIT5+BIT4),WKRG1=R1,WKRG2=R4  ;
                                          開始または終了
 5750 00001010 D108                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 5751 00001012 6011                   M           MOV.W   @R1,R0          ;
 5752 00001014 940A                   M           MOV.W   #LWORD ~(BIT5+BIT4),R4  ;
 5753 00001016 2049                   M           AND     R4,R0           ;
 5754 00001018 2101                   M           MOV.W   R0,@R1          ;
 5755                            2432             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_HINBAN_FLG,LG=W,BIT=BIT3,WKREG=R1      ;bit-set
 5756 0000101A D107                   M           MOV.L   #_KMT_HINBAN_FLG,R1             ;
 5757 0000101C 6011                   M           MOV.W   @R1,R0          ;
 5758 0000101E CB08                   M           OR      #BIT3,R0                ;
 5759 00001020 2101                   M           MOV.W   R0,@R1          ;
 5760                            2433     
 5761                            2434     
 5762 00001022 9004              2435             MOV.W   #__HINBAN_SIG_OFTIMSV,R0                        ;
 5763 00001024 D102              2436             MOV.L   #_KMT_HINBAN_SIGTIM,R1                          ;
 5764 00001026 2101              2437             MOV.W   R0,@R1
 5765                            2438             M_BRA   KMT_HINBAN_STPEXT                               ;OFF保証ﾀｲﾏ
 5766 00001028 A00F                   M           BRA     KMT_HINBAN_STPEXT
 5767 0000102A 0009                   M           NOP
 5768                            2439     
 5769                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    69
PROGRAM NAME =

 5770 0000102C FFCF                       DATA FOR SOURCE-LINE 2431
 5771 0000102E 0064                       DATA FOR SOURCE-LINE 2435
 5772 00001030 00000000                   DATA FOR SOURCE-LINE 2426,2436
 5773 00001034 00000000                   DATA FOR SOURCE-LINE 2431
 5774 00001038 00000000                   DATA FOR SOURCE-LINE 2432
 5775                                     ***** END-POOL *****
 5776 0000103C                   2440     KMT_HINBAN_STP500:
 5777                            2441     
 5778 0000103C D104              2442             MOV.L   #_KMT_HINBAN_SIGTIM,R1                          ;
 5779 0000103E 6011              2443             MOV.W   @R1,R0                                          ;
 5780 00001040 2008              2444             TST     R0,R0                                           ;
 5781                            2445             TST_BIT_ON KMT_HINBAN_STPEXT                            ;
 5782 00001042 8B02                   M           BF      KMT_HINBAN_STPEXT
 5783                            2446     
 5784 00001044 200A              2447             XOR     R0,R0
 5785 00001046 D103              2448             MOV.L   #_KMT_HINBAN_FLG,R1                             ;
 5786 00001048 2101              2449             MOV.W   R0,@R1                                          ;
 5787                            2450     
 5788                            2451     
 5789 0000104A                   2452     KMT_HINBAN_STPEXT
 5790                            2453             SUB_END
 5791                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5792 0000104A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5793                            2454             M_RTS
 5794 0000104C 000B                   M           RTS                             ;RTSの後ろの
 5795 0000104E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5796                            2455     
 5797                            2456     
 5798                            2457     ;       *******************************************
 5799                            2458     ;       ***                                     ***
 5800                            2459     ;       ***                                     ***
 5801                            2460     ;       ***                                     ***
 5802                            2461     ;       *******************************************
 5803                                     ***** BEGIN-POOL *****
 5804 00001050 00000000                   DATA FOR SOURCE-LINE 2442
 5805 00001054 00000000                   DATA FOR SOURCE-LINE 2448
 5806                                     ***** END-POOL *****
 5807 00001058                   2462     _HINBAN_DATA_SFT:
 5808                            2463             SUB_START
 5809 00001058 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5810                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5811 0000105A D40D              2464             MOV.L   #_KMT_HINBAN_TRG_NUM,R4                 ;0個[ﾃﾞｰﾀなし],1個,2個,3個,4個,5個
                                          ,6個full
 5812 0000105C 6041              2465             MOV.W   @R4,R0                                  ;
 5813 0000105E 2008              2466             TST     R0,R0
 5814                            2467             TST_BIT_OF KMT_HINBAN_DTSFT_900                 ;送信ﾃﾞｰﾀない
 5815 00001060 8921                   M           BT      KMT_HINBAN_DTSFT_900
 5816                            2468     
 5817 00001062 70FF              2469             ADD     #-1,R0                                  ;
 5818 00001064 2401              2470             MOV.W   R0,@R4                                  ;
 5819 00001066 6703              2471             MOV     R0,R7                                   ;LOOP
 5820                            2472     
 5821 00001068 D50A              2473             MOV.L   #_KMT_HMI_HINBAN_BUF+__SITM_HINBAN_CNT,R5       ;
 5822 0000106A D60B              2474             MOV.L   #_KMT_HMI_HINBAN_BUF,R6                         ;
 5823                            2475     
 5824 0000106C DA0B              2476             MOV.L   #_KMT_HINBAN_TRG_FLG+1*2,R10                    ;
 5825 0000106E DB0C              2477             MOV.L   #_KMT_HINBAN_TRG_FLG,R11                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    70
PROGRAM NAME =

 5826                            2478     
 5827 00001070                   2479     KMT_HINBAN_DTSFT_100_LOP
 5828 00001070 2778              2480             TST     R7,R7                                           ;
 5829                            2481             TST_BIT_OF KMT_HINBAN_DTSFT_200                         ;転送終わり[BUFF1が送信対
                                          象だから]
 5830 00001072 8917                   M           BT      KMT_HINBAN_DTSFT_200
 5831                            2482     
 5832 00001074 60A5              2483             MOV.W   @R10+,R0                                        ;FLG
 5833 00001076 2B01              2484             MOV.W   R0,@R11                                         ;
 5834 00001078 7B02              2485             ADD     #2,R11                                          ;
 5835                            2486     
 5836 0000107A 9308              2487             MOV.W   #__SITM_HINBAN_CNT/2,R3                         ;80word
 5837 0000107C                   2488     KMT_HINBAN_DTSFT_120_LOP
 5838 0000107C 6055              2489             MOV.W   @R5+,R0                                         ;
 5839 0000107E 2601              2490             MOV.W   R0,@R6                                          ;
 5840 00001080 7602              2491             ADD     #2,R6                                           ;
 5841 00001082 73FF              2492             ADD     #-1,R3                                          ;
 5842 00001084 2338              2493             TST     R3,R3                                           ;
 5843                            2494             TST_BIT_ON KMT_HINBAN_DTSFT_120_LOP                     ;
 5844 00001086 8BF9                   M           BF      KMT_HINBAN_DTSFT_120_LOP
 5845 00001088 77FF              2495             ADD     #-1,R7                                          ;
 5846                            2496             M_BRA   KMT_HINBAN_DTSFT_100_LOP                        ;
 5847 0000108A AFF1                   M           BRA     KMT_HINBAN_DTSFT_100_LOP
 5848 0000108C 0009                   M           NOP
 5849                            2497     
 5850                                     ***** BEGIN-POOL *****
 5851 0000108E 0050                       DATA FOR SOURCE-LINE 2487
 5852 00001090 00000000                   DATA FOR SOURCE-LINE 2464
 5853 00001094 00000000                   DATA FOR SOURCE-LINE 2473
 5854 00001098 00000000                   DATA FOR SOURCE-LINE 2474
 5855 0000109C 00000000                   DATA FOR SOURCE-LINE 2476
 5856 000010A0 00000000                   DATA FOR SOURCE-LINE 2477
 5857                                     ***** END-POOL *****
 5858 000010A4                   2498     KMT_HINBAN_DTSFT_200
 5859 000010A4 0009              2499             NOP
 5860 000010A6                   2500     KMT_HINBAN_DTSFT_900:
 5861                            2501     
 5862                            2502     
 5863                            2503             SUB_END
 5864                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5865 000010A6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5866                            2504             M_RTS
 5867 000010A8 000B                   M           RTS                             ;RTSの後ろの
 5868 000010AA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5869                            2505     
 5870                            2506     
 5871                            2507     ;       ***************************************************
 5872                            2508     ;       ***                                             ***
 5873                            2509     ;       ***             消耗品データ作成、転送          ***
 5874                            2510     ;       ***             (write)                         ***
 5875                            2511     ;       ***************************************************
 5876 000010AC                   2512     _KOMTRAX_SYOUMO_MAIN
 5877                            2513             SUB_START
 5878 000010AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5879                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5880                            2514     
 5881                            2515             FAR_JSR #_KMT_SYOUMO_MAKE,R0            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    71
PROGRAM NAME =

 5882 000010AE D004                   M           MOV.L   #_KMT_SYOUMO_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5883 000010B0 400B                   M           JSR     @R0                     ;
 5884 000010B2 0009                   M           NOP                                     ;
 5885                            2516     
 5886                            2517             FAR_JSR #_KMT_SYOUMO_STEP,R0            ;
 5887 000010B4 D003                   M           MOV.L   #_KMT_SYOUMO_STEP,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 5888 000010B6 400B                   M           JSR     @R0                     ;
 5889 000010B8 0009                   M           NOP                                     ;
 5890                            2518     
 5891                            2519             SUB_END
 5892                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5893 000010BA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5894                            2520             M_RTS
 5895 000010BC 000B                   M           RTS                             ;RTSの後ろの
 5896 000010BE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5897                            2521     
 5898                            2522     
 5899                            2523     ;       *******************************************
 5900                            2524     ;       ***                                     ***
 5901                            2525     ;       ***             消耗品データ作成        ***
 5902                            2526     ;       ***             (write)                 ***
 5903                            2527     ;       *******************************************
 5904                                     ***** BEGIN-POOL *****
 5905 000010C0 00000000                   DATA FOR SOURCE-LINE 2515
 5906 000010C4 00000000                   DATA FOR SOURCE-LINE 2517
 5907                                     ***** END-POOL *****
 5908 000010C8                   2528     _KMT_SYOUMO_MAKE:
 5909                            2529             SUB_START
 5910 000010C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5911                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5912                            2530     
 5913 000010CA 200A              2531             XOR     R0,R0
 5914 000010CC D502              2532             MOV.L   #_KMT_SYOUMO_CHGF,R5            ;
 5915 000010CE 2501              2533             MOV.W   R0,@R5                          ;MAIN==>INT
 5916                            2534     
 5917                            2535     
 5918                            2536             SUB_END
 5919                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 5920 000010D0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 5921                            2537             M_RTS
 5922 000010D2 000B                   M           RTS                             ;RTSの後ろの
 5923 000010D4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 5924                            2538     
 5925                            2539     
 5926                            2540     ;       *******************************************
 5927                            2541     ;       ***                                     ***
 5928                            2542     ;       ***             消耗転送処理            ***
 5929                            2543     ;       ***             (write)                 ***
 5930                            2544     ;       *******************************************
 5931                                     ***** BEGIN-POOL *****
 5932 000010D6 0000                       ALIGNMENT CODE
 5933 000010D8 00000000                   DATA FOR SOURCE-LINE 2532
 5934                                     ***** END-POOL *****
 5935 000010DC                   2545             .ALIGN  4                                       ;
 5936                            2546     
 5937 000010DC                   2547     _KMT_SYOUMO_STEP
 5938                            2548             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    72
PROGRAM NAME =

 5939 000010DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 5940                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 5941                            2549     
 5942                            2550     ;       ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 5943                            2551     ;;      MOV.L   #_KMT_SYOUMO_SIGTIM,R1                  ;
 5944                            2552     ;;      MOV.W   @R1,R0                                  ;
 5945                            2553     ;;      TST     R0,R0                                   ;
 5946                            2554     ;;      TST_BIT_OF KMT_SYOUMO_STP050                    ;
 5947                            2555     ;;      ADD     #-1,R0                                  ;
 5948                            2556     ;;      MOV.W   R0,@R1                                  ;
 5949                            2557     ;;KMT_SYOUMO_STP050:
 5950                            2558     ;       ---------- ﾀﾞｳﾝﾀｲﾏ--------------
 5951                            2559     
 5952 000010DE D110              2560             MOV.L   #_KMT_SYOUMO_FLG,R1                     ;
 5953 000010E0 6011              2561             MOV.W   @R1,R0                                  ;BIT1=1 EVENT終了待ち
 5954 000010E2 C80E              2562             TST     #(BIT3+BIT2+BIT1),R0                    ;BIT2=1 ｼｰｹﾝｽへ出力
 5955                            2563             TST_BIT_ON KMT_SYOUMO_STP300                    ;
 5956 000010E4 8B38                   M           BF      KMT_SYOUMO_STP300
 5957                            2564     
 5958 000010E6 D50F              2565             MOV.L   #_KMT_SYOUMO_CHGF,R5                    ;
 5959 000010E8 6051              2566             MOV.W   @R5,R0                                  ;MAIN==>INT
 5960 000010EA 2008              2567             TST     R0,R0                                   ;
 5961                            2568             TST_BIT_OF KMT_SYOUMO_STPEXT                    ;
 5962 000010EC 8977                   M           BT      KMT_SYOUMO_STPEXT
 5963                            2569     
 5964 000010EE 200A              2570             XOR     R0,R0                                   ;
 5965 000010F0 2501              2571             MOV.W   R0,@R5                                  ;MAIN ｺﾏﾝﾄﾞｸﾘｱ
 5966                            2572     
 5967 000010F2 200A              2573             XOR     R0,R0
 5968 000010F4 D10C              2574             MOV.L   #(_KMT_TRSSV1_MEMKND-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R1
                                          ;0:固定 (SIT_MEMを対象)
 5969 000010F6 2101              2575             MOV.W   R0,@R1                                  ;
 5970                            2576     
 5971 000010F8 900F              2577             MOV.W   #__SITM_SYOUMO_TOP/2,R0                                         ;ADR+132*2
                                          byte adr/2=132
 5972 000010FA D10C              2578             MOV.L   #(_KMT_TRSSV1_OBJADR-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R1       ;
 5973 000010FC 2101              2579             MOV.W   R0,@R1                                  ;
 5974                            2580     
 5975 000010FE 900D              2581             MOV.W   #__SITM_SYOUMO_CNT/2,R0                 ;160byte/2=80word
 5976 00001100 D10B              2582             MOV.L   #(_KMT_TRSSV1_CNT-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R1                  ;M
                                          AX 1~256 word
 5977 00001102 2101              2583             MOV.W   R0,@R1
 5978                            2584     
 5979 00001104 D50B              2585             MOV.L   #_KMT_HMI_SYOUMO_DAT,R5                                                 ;8
                                          0word
 5980 00001106 D60C              2586             MOV.L   #(_KMT_TRSSV1_DAT-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R6                  ;
 5981 00001108 9308              2587             MOV.W   #__SITM_SYOUMO_CNT/2,R3                                                 ;
 5982                            2588             BLOCK_MOV1 LG=W,AD_DT=2,SRC_REG=R5,DST_REG=R6,DATA_REG=R0,CNT_REG=R3            ;
 5983 0000110A                        M   JMP000007:                                      ;
 5984 0000110A 2338                   M           TST     R3,R3   ;
 5985                                 M           TST_BIT_OF JMP100007            ;
 5986 0000110C 8916                   M           BT      JMP100007
 5987 0000110E 6055                   M           MOV.W   @R5+,R0 ;
 5988 00001110 2601                   M           MOV.W   R0,@R6  ;
 5989 00001112 7602                   M           ADD     #2,R6   ;
 5990 00001114 73FF                   M           ADD     #H'FF,R3                ;
 5991                                 M           M_BRA   JMP000007                       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    73
PROGRAM NAME =

 5992 00001116 AFF8                   M           BRA     JMP000007
 5993 00001118 0009                   M           NOP
 5994                                 M   ***** BEGIN-POOL *****
 5995 0000111A 0064                   M   DATA FOR SOURCE-LINE 2577
 5996 0000111C 0020                   M   DATA FOR SOURCE-LINE 2581,2587
 5997 0000111E 0000                   M   ALIGNMENT CODE
 5998 00001120 00000000               M   DATA FOR SOURCE-LINE 2560
 5999 00001124 00000000               M   DATA FOR SOURCE-LINE 2565
 6000 00001128 00000000               M   DATA FOR SOURCE-LINE 2574
 6001 0000112C 00000000               M   DATA FOR SOURCE-LINE 2578
 6002 00001130 00000000               M   DATA FOR SOURCE-LINE 2582
 6003 00001134 00000000               M   DATA FOR SOURCE-LINE 2585
 6004 00001138 00000000               M   DATA FOR SOURCE-LINE 2586
 6005                                 M   ***** END-POOL *****
 6006 0000113C                        M   JMP100007:                                      ;
 6007                            2589     
 6008                            2590     
 6009 0000113C 9007              2591             MOV.W   #__KMTCMD_WR,R0
 6010 0000113E D104              2592             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R1                  ;
 6011 00001140 2101              2593             MOV.W   R0,@R1                                                                  ;W
                                          RITE
 6012                            2594     
 6013                            2595             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_SYOUMO_FLG,LG=W,BIT=BIT1,WKREG=R1      ;bit-set
 6014 00001142 D104                   M           MOV.L   #_KMT_SYOUMO_FLG,R1             ;
 6015 00001144 6011                   M           MOV.W   @R1,R0          ;
 6016 00001146 CB02                   M           OR      #BIT1,R0                ;
 6017 00001148 2101                   M           MOV.W   R0,@R1          ;
 6018                            2596             M_BRA   KMT_SYOUMO_STPEXT
 6019 0000114A A048                   M           BRA     KMT_SYOUMO_STPEXT
 6020 0000114C 0009                   M           NOP
 6021                            2597     
 6022                                     ***** BEGIN-POOL *****
 6023 0000114E 0001                       DATA FOR SOURCE-LINE 2591
 6024 00001150 00000000                   DATA FOR SOURCE-LINE 2592
 6025 00001154 00000000                   DATA FOR SOURCE-LINE 2595
 6026                                     ***** END-POOL *****
 6027 00001158                   2598     KMT_SYOUMO_STP300
 6028 00001158 D10C              2599             MOV.L   #_KMT_SYOUMO_FLG,R1                                             ;
 6029 0000115A 6011              2600             MOV.W   @R1,R0                                                          ;BIT1=1 EV
                                          ENT終了待ち
 6030 0000115C C808              2601             TST     #BIT3,R0                                                        ;OFF保証
 6031                            2602             TST_BIT_ON KMT_SYOUMO_STP500                                            ;
 6032 0000115E 8B37                   M           BF      KMT_SYOUMO_STP500
 6033                            2603     
 6034 00001160 C804              2604             TST     #BIT2,R0
 6035                            2605             TST_BIT_ON KMT_SYOUMO_STP400                                            ;ON保証
 6036 00001162 8B1B                   M           BF      KMT_SYOUMO_STP400
 6037                            2606     
 6038 00001164 D10A              2607             MOV.L   #(_KMT_TRSSV1_CMD-_KMT_TRSSV1_FORM)+_KMT_TRSSV6_TOP,R1          ;
 6039 00001166 6011              2608             MOV.W   @R1,R0                                                          ;
 6040 00001168 2008              2609             TST     R0,R0                                                           ;
 6041                            2610             TST_BIT_ON KMT_SYOUMO_STPEXT                                            ;ｺﾏﾝﾄﾞ処理
                                          中
 6042 0000116A 8B38                   M           BF      KMT_SYOUMO_STPEXT
 6043                            2611     
 6044                            2612             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_SYOUMO_FLG,LG=W,BIT=BIT2,WKREG=R1      ;bit-set
 6045 0000116C D107                   M           MOV.L   #_KMT_SYOUMO_FLG,R1             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    74
PROGRAM NAME =

 6046 0000116E 6011                   M           MOV.W   @R1,R0          ;
 6047 00001170 CB04                   M           OR      #BIT2,R0                ;
 6048 00001172 2101                   M           MOV.W   R0,@R1          ;
 6049                            2613     
 6050                            2614             MEM1_BIT0_F_ORSET MEM=_KMT_STS1MN_SQ87,LG=W,BIT=(BIT6),WKRG1=R1,WKRG2=R2        ;
 6051 00001174 D107                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 6052 00001176 6011                   M           MOV.W   @R1,R0          ;
 6053 00001178 9206                   M           MOV.W   #(BIT6),R2              ;
 6054 0000117A 202B                   M           OR      R2,R0           ;
 6055 0000117C 2101                   M           MOV.W   R0,@R1          ;
 6056                            2615     
 6057 0000117E 9004              2616             MOV.W   #__SYOUMO_SIG_ONTIMSV,R0                        ;
 6058 00001180 D105              2617             MOV.L   #_KMT_SYOUMO_SIGTIM,R1                          ;
 6059 00001182 2101              2618             MOV.W   R0,@R1                                          ;
 6060                            2619             M_BRA   KMT_SYOUMO_STPEXT                               ;ON保証ﾀｲﾏ
 6061 00001184 A02B                   M           BRA     KMT_SYOUMO_STPEXT
 6062 00001186 0009                   M           NOP
 6063                            2620     
 6064                                     ***** BEGIN-POOL *****
 6065 00001188 0040                       DATA FOR SOURCE-LINE 2614
 6066 0000118A 0014                       DATA FOR SOURCE-LINE 2616
 6067 0000118C 00000000                   DATA FOR SOURCE-LINE 2599,2612
 6068 00001190 00000000                   DATA FOR SOURCE-LINE 2607
 6069 00001194 00000000                   DATA FOR SOURCE-LINE 2614
 6070 00001198 00000000                   DATA FOR SOURCE-LINE 2617
 6071                                     ***** END-POOL *****
 6072 0000119C                   2621     KMT_SYOUMO_STP400
 6073                            2622     
 6074 0000119C D109              2623             MOV.L   #_KMT_SYOUMO_SIGTIM,R1                          ;
 6075 0000119E 6011              2624             MOV.W   @R1,R0                                          ;
 6076 000011A0 2008              2625             TST     R0,R0                                                   ;
 6077                            2626             TST_BIT_ON KMT_SYOUMO_STPEXT                                    ;
 6078 000011A2 8B1C                   M           BF      KMT_SYOUMO_STPEXT
 6079                            2627     
 6080                            2628             MEM1_BIT0_F_ADCLR MEM=_KMT_STS1MN_SQ87,LG=W,BIT=~(BIT6),WKRG1=R1,WKRG2=R4       ;
 6081 000011A4 D108                   M           MOV.L   #_KMT_STS1MN_SQ87,R1            ;
 6082 000011A6 6011                   M           MOV.W   @R1,R0          ;
 6083 000011A8 940A                   M           MOV.W   #LWORD ~(BIT6),R4       ;
 6084 000011AA 2049                   M           AND     R4,R0           ;
 6085 000011AC 2101                   M           MOV.W   R0,@R1          ;
 6086                            2629             MEM1_BIT0_TO_BIT7_ORSET MEM=_KMT_SYOUMO_FLG,LG=W,BIT=BIT3,WKREG=R1      ;bit-set
 6087 000011AE D107                   M           MOV.L   #_KMT_SYOUMO_FLG,R1             ;
 6088 000011B0 6011                   M           MOV.W   @R1,R0          ;
 6089 000011B2 CB08                   M           OR      #BIT3,R0                ;
 6090 000011B4 2101                   M           MOV.W   R0,@R1          ;
 6091                            2630     
 6092                            2631     
 6093 000011B6 9004              2632             MOV.W   #__SYOUMO_SIG_OFTIMSV,R0                        ;
 6094 000011B8 D102              2633             MOV.L   #_KMT_SYOUMO_SIGTIM,R1                          ;
 6095 000011BA 2101              2634             MOV.W   R0,@R1
 6096                            2635             M_BRA   KMT_SYOUMO_STPEXT                               ;OFF保証ﾀｲﾏ
 6097 000011BC A00F                   M           BRA     KMT_SYOUMO_STPEXT
 6098 000011BE 0009                   M           NOP
 6099                            2636     
 6100                                     ***** BEGIN-POOL *****
 6101 000011C0 FFBF                       DATA FOR SOURCE-LINE 2628
 6102 000011C2 0014                       DATA FOR SOURCE-LINE 2632
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    75
PROGRAM NAME =

 6103 000011C4 00000000                   DATA FOR SOURCE-LINE 2623,2633
 6104 000011C8 00000000                   DATA FOR SOURCE-LINE 2628
 6105 000011CC 00000000                   DATA FOR SOURCE-LINE 2629
 6106                                     ***** END-POOL *****
 6107 000011D0                   2637     KMT_SYOUMO_STP500:
 6108                            2638     
 6109 000011D0 D104              2639             MOV.L   #_KMT_SYOUMO_SIGTIM,R1                          ;
 6110 000011D2 6011              2640             MOV.W   @R1,R0                                          ;
 6111 000011D4 2008              2641             TST     R0,R0                                           ;
 6112                            2642             TST_BIT_ON KMT_SYOUMO_STPEXT                            ;
 6113 000011D6 8B02                   M           BF      KMT_SYOUMO_STPEXT
 6114                            2643     
 6115 000011D8 200A              2644             XOR     R0,R0
 6116 000011DA D103              2645             MOV.L   #_KMT_SYOUMO_FLG,R1                             ;
 6117 000011DC 2101              2646             MOV.W   R0,@R1                                          ;
 6118                            2647     
 6119                            2648     
 6120 000011DE                   2649     KMT_SYOUMO_STPEXT
 6121                            2650             SUB_END
 6122                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 6123 000011DE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 6124                            2651             M_RTS
 6125 000011E0 000B                   M           RTS                             ;RTSの後ろの
 6126 000011E2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 6127                            2652     
 6128                            2653     
 6129                            2654     ;       *******************************************
 6130                            2655     ;       ***                                     ***
 6131                            2656     ;       ***             BIN->BCD                ***
 6132                            2657     ;       ***                                     ***
 6133                            2658     ;       *******************************************
 6134                                     ***** BEGIN-POOL *****
 6135 000011E4 00000000                   DATA FOR SOURCE-LINE 2639
 6136 000011E8 00000000                   DATA FOR SOURCE-LINE 2645
 6137                                     ***** END-POOL *****
 6138 000011EC                   2659             .ALIGN  4                                       ;
 6139                            2660     
 6140                            2661     
 6141                            2662     
 6142                            2663     
 6143                            2664     
 6144 000011EC                   2665             .ALIGN  4                                       ;
 6145 000011EC                   2666     _HEX4B_BCD8B:
 6146                            2667             SUB_START
 6147 000011EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6148                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6149                            2668             SUB_END
 6150                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 6151 000011EE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 6152                            2669             M_RTS
 6153 000011F0 000B                   M           RTS                             ;RTSの後ろの
 6154 000011F2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 6155                            2670     
 6156                            2671     
 6157                            2672     ;       ***************************************************
 6158                            2673     ;       ***                                             ***
 6159                            2674     ;       ***                                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    76
PROGRAM NAME =

 6160                            2675     ;       ***             wkram定義                       ***
 6161                            2676     ;       ***                                             ***
 6162                            2677     ;       ***                                             ***
 6163                            2678     ;       ***************************************************
 6164 00000000                   2679             .SECTION        Bwkram1,DATA                    ;
 6165                            2680     
 6166                            2681             .EXPORT         _ET1_INITAL_FLG                 ; SHIMA
 6167                            2682     
 6168 00000000                   2683             .ALIGN  4                                       ;
 6169 00000000 00000004          2684     _CPU_REQ_DAT_CNT        .SRES   4                       ;
 6170 00000004 00000002          2685     _ET1_INITAL_FLG         .SRES   2                       ;
 6171 00000006 00000002          2686     _ET1_BANK_SEL           .SRES   2                       ;現在選択バック
 6172 00000008 00000002          2687     _ET1_BANK_ACS           .SRES   2                       ;ﾊﾞﾝｸｱｸｾｽ中
 6173 0000000A 00000002          2688     _CPU_REQ_DAT_FLG        .SRES   2                       ;
 6174                            2689     
 6175 0000000C                   2690             .ALIGN  4                                       ;
 6176 0000000C 00000004          2691     _CPUA_REQ_OLD           .SRES   4                       ;
 6177                            2692     
 6178                            2693     ;       -------------------------------------------
 6179                            2694     ;       ---                                     ---
 6180                            2695     ;       ---     2009-07-27 KOMTRAX              ---
 6181                            2696     ;       ---                                     ---
 6182                            2697     ;       ---                                     ---
 6183                            2698     ;       -------------------------------------------
 6184                            2699     ;       -------- 2009-07-27(PROCESS)---------------
 6185 00000010                   2700             .ALIGN  4                                       ;
 6186 00000010 00000002          2701     _KMT_TRS_CMD            .SRES   2                       ;=ADR(_KMT_TRSSV1_CMD)
 6187 00000012 00000002          2702     _KMT_TRSPV_CNT          .SRES   2                       ;書込/読出ﾃﾞｰﾀ数
 6188 00000014 00000002          2703     _KMT_TRS_SCAN           .SRES   2                       ;16ﾌﾟﾛｾｽまで起動可能なように監視
 6189 00000016 00000002          2704     _KMT_REQ_SIG            .SRES   2                       ;
 6190                            2705     
 6191                            2706     ;       -------- ﾌﾟﾛｾｽのﾗｯﾁﾃﾞｰﾀ -------
 6192 00000018                   2707             .ALIGN  4                                       ;
 6193 00000018 00000004          2708     _KMT_TRSLT_TOPADR       .SRES   4                       ;ｽﾄﾗｸﾁｬ
 6194 0000001C 00000002          2709     _KMT_TRSLT_MEMKND       .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6195 0000001E 00000002          2710     _KMT_TRSLT_OBJADR       .SRES   2                       ;TOP_ADR
 6196 00000020 00000002          2711     _KMT_TRSLT_CNT          .SRES   2                       ;MAX 1~256 word
 6197 00000022 00000200          2712     _KMT_TRSLT_DAT          .SRES   2*256                   ;MAX 256word
 6198                            2713     
 6199                            2714     ;       --------------------------------
 6200                            2715     ;       ----    EVENT SOFT->TRANS SOFT
 6201                            2716     ;       -------- 2009-07-27(API1)-------
 6202 00000224                   2717             .ALIGN  4                                                       ;
 6203 00000224                   2718     _KMT_TRSSV1_FORM:                                       ;配列
 6204 00000224                   2719     _KMT_TRSSV1_TOP:                                        ;配列
 6205 00000224 00000002          2720     _KMT_TRSSV1_CMD         .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6206 00000226 00000002          2721     _KMT_TRSSV1_MEMKND      .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6207 00000228 00000002          2722     _KMT_TRSSV1_OBJADR      .SRES   2                       ;TOP_ADR()
 6208 0000022A 00000002          2723     _KMT_TRSSV1_CNT         .SRES   2                       ;MAX 1~256 word
 6209 0000022C 00000010          2724     _KMT_TRSSV1_DAT         .SRES   2*8                     ;MAX 256word "8CHAR MAX16CHAR"
 6210                            2725     
 6211                            2726     
 6212                            2727     ;       ============= HAND WRITE ==========
 6213 0000023C 0000000C          2728     _KMT_TRSSV2_TOP:        .SRES   2*4+2*2                 ;配列(1word MAX 2word)
 6214                            2729     ;_KMT_TRSSV2_CMD        .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6215                            2730     ;_KMT_TRSSV2_MEMKND     .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6216                            2731     ;_KMT_TRSSV2_OBJADR     .SRES   2                       ;TOP_ADR()
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    77
PROGRAM NAME =

 6217                            2732     ;_KMT_TRSSV2_CNT        .SRES   2                       ;MAX 1~256 word
 6218                            2733     ;_KMT_TRSSV2_DAT        .SRES   2                       ;MAX 256word
 6219                            2734     
 6220                            2735     ;       ============== STATUS READ
 6221 00000248 0000006C          2736     _KMT_TRSSV3_TOP:        .SRES   2*4+2*50                ;配列32word(MAX64word)
 6222                            2737     ;;_KMT_TRSSV3_CMD       .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6223                            2738     ;;_KMT_TRSSV3_MEMKND    .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6224                            2739     ;;_KMT_TRSSV3_OBJADR    .SRES   2                       ;TOP_ADR()
 6225                            2740     ;;_KMT_TRSSV3_CNT       .SRES   2                       ;MAX 1~256 word
 6226                            2741     ;;_KMT_TRSSV3_DAT       .SRES   2*256           ;MAX 256word
 6227                            2742     
 6228                            2743     ;       ============== 実測WR======
 6229 000002B4 00000088          2744     _KMT_TRSSV4_TOP:        .SRES   2*4+2*64                ;配列32word(MAX50word)
 6230                            2745     ;;_KMT_TRSSV3_CMD       .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6231                            2746     ;;_KMT_TRSSV3_MEMKND    .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6232                            2747     ;;_KMT_TRSSV3_OBJADR    .SRES   2                       ;TOP_ADR()
 6233                            2748     ;;_KMT_TRSSV3_CNT       .SRES   2                       ;MAX 1~256 word
 6234                            2749     ;;_KMT_TRSSV3_DAT       .SRES   2*256           ;MAX 256word
 6235                            2750     
 6236                            2751     
 6237                            2752     ;       ============== K011品番======
 6238 0000033C 000000A8          2753     _KMT_TRSSV5_TOP:        .SRES   2*4+2*80                ;80WORD
 6239                            2754     ;;_KMT_TRSSV5_CMD       .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6240                            2755     ;;_KMT_TRSSV5_MEMKND    .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6241                            2756     ;;_KMT_TRSSV5_OBJADR    .SRES   2                       ;TOP_ADR()
 6242                            2757     ;;_KMT_TRSSV5_CNT       .SRES   2                       ;MAX 1~256 word
 6243                            2758     ;;_KMT_TRSSV5_DAT       .SRES   2*256                   ;MAX 256word
 6244                            2759     
 6245                            2760     ;       ============== K011消耗品======
 6246 000003E4 00000088          2761     _KMT_TRSSV6_TOP:        .SRES   2*4+2*64                ;32WORD
 6247                            2762     ;;_KMT_TRSSV6_CMD       .SRES   2                       ;1:WRITE 2:READ ANS=0:IDLE
 6248                            2763     ;;_KMT_TRSSV6_MEMKND    .SRES   2                       ;0:固定 (SIT_MEMを対象)
 6249                            2764     ;;_KMT_TRSSV6_OBJADR    .SRES   2                       ;TOP_ADR()
 6250                            2765     ;;_KMT_TRSSV6_CNT       .SRES   2                       ;MAX 1~256 word
 6251                            2766     ;;_KMT_TRSSV6_DAT       .SRES   2*256                   ;MAX 256word
 6252                            2767     
 6253                            2768     
 6254                            2769     ;       -------- 異常ｲﾍﾞﾝﾄ側ｿﾌﾄ[1msec]-------
 6255 0000046C 00000002          2770     _KMT_EVENT_FLG          .SRES   2                       ;ｲﾍﾞﾝﾄのｽﾃｯﾌﾟ管理BIT1,2,3 ??なぜBI
                                          T0使わなかった?
 6256 0000046E 00000008          2771     _KMT_EVENT_CHAR         .SRES   8                       ;8文字*8:64文字
 6257 00000476 00000002          2772     _KMT_EVENT_SIGTIM       .SRES   2                       ;
 6258                            2773     
 6259                            2774     ;       -------- 異常ｲﾍﾞﾝﾄ側ｿﾌﾄ[MAINsec]-------
 6260 00000478 00000002          2775     _KMT_EVENT_CHGF         .SRES   2                       ;ｷｬﾗｸﾀﾃﾞｰﾀ
 6261 0000047A 00000002          2776     _KMT_DLYSCAN_TIM        .SRES   2                       ;
 6262 0000047C 00000010          2777     _KMT_OLD_CHRNO          .SRES   2*8                     ;FFFF->dataの時のみ
 6263 0000048C 00000010          2778     _KMT_USE_CHRNO          .SRES   2*8                     ;
 6264 0000049C 00000010          2779     _KMT_CHK_CHRNO          .SRES   2*8                     ;
 6265                            2780     
 6266                            2781     ;       -------- [1msec]-------
 6267 000004AC 00000002          2782     _KMT_STS_SQ087          .SRES   2                       ;
 6268 000004AE 00000002          2783     _KMT_1CYCL_SIGTIM       .SRES   2                       ;
 6269                            2784     
 6270                            2785     
 6271                            2786     ;       -------- MAIN ﾊﾝﾄﾞｼｪｲｸ-------------
 6272 000004B0 00000002          2787     _KMT_HANDWR_FLG         .SRES   2                       ;HANDｼｪｲｸWR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    78
PROGRAM NAME =

 6273 000004B2 00000002          2788     _KMT_HANDWDT_CNT        .SRES   2                       ;
 6274 000004B4 00000002          2789     _KMT_HANDWDT_TIM        .SRES   2                       ;
 6275                            2790     
 6276                            2791     ;       -------- MAIN ｽﾃｰﾀｽ-------------
 6277 000004B6 00000002          2792     _KMT_STS1RD_FLG         .SRES   2                       ;ｽﾃｰﾀｽREAD　50WMAX
 6278                            2793     
 6279 000004B8 00000002          2794     _KMT_STS1_SET           .SRES   2                       ;BIT0~BIT7(確定ﾃﾞｰﾀあり)
 6280 000004BA 00000064          2795     _KMT_STS1_AREA          .SRES   2*50                    ;MAX50word(16WORD)
 6281 0000051E 00000002          2796     _KMT_STS1MN_SQ87        .SRES   2                       ;
 6282                            2797     
 6283 00000520 00000064          2798     _KMT_COM1_AREA          .SRES   2*50                    ;
 6284                            2799     
 6285                            2800     ;       --------------------------------------------
 6286                            2801     ;       -----------2011-01-14-----------------------
 6287                            2802     ;       --------------------------------------------
 6288 00000584 00000002          2803     _KMT_TYP_011            .SRES   2                       ;0:010型/:011型機能
 6289 00000586 00000002          2804     _KMT_PROC_10MS          .SRES   2                       ;10msecﾀｲﾏ作成
 6290                            2805     
 6291                            2806     ;       -------- 品番処理-------------
 6292 00000588 00000002          2807     _KMT_HINBAN_SIGTIM      .SRES   2       ;150msec信号作成用
 6293 0000058A 00000002          2808     _KMT_HINBAN_FLG         .SRES   2       ;150msec信号作成用
 6294 0000058C 00000002          2809     _KMT_HINBAN_SEL         .SRES   2       ;BIT0=1:開始(87.4)　BIT1=1:終了(87.4)
 6295                            2810     
 6296                            2811     ;       --
 6297 0000058E 00000002          2812     _KMT_HINBAN_CHGF        .SRES   2       ;BIT0=1開始ｲﾍﾞﾝﾄ BIT1:終了ｲﾍﾞﾝﾄ
 6298                            2813     
 6299                            2814     ;       ----ﾄﾘｶﾞの順番は開始→終了→開始・・・・または終了→開始→終了の順番にする
 6300                            2815     ;       異なる場合は最後のイベントが発生するようにデータを並び替える
 6301                            2816     ;       バッファ０のみ前回の状態を見ない
 6302                            2817     ;
 6303 00000590 00000002          2818     _KMT_HINBAN_TRG_NUM     .SRES   2                       ;0個[保留なし],1個,2個,3個,4個
 6304 00000592 0000000C          2819     _KMT_HINBAN_TRG_FLG     .SRES   2*_HINBAN_BUF_MAX               ;保留が発生した場合の処理
 6305                            2820                                                             ;0:ﾃﾞｰﾀ存在なし BIT0=1[開始],BIT1=
                                          1[終了]
 6306                            2821                                                             ;+0:現在
 6307                            2822                                                             ;+1:次回
 6308                            2823                                                             ;+2:次々回
 6309                            2824                                                             ;+3:次次々回
 6310                            2825                                                             ;+4:次次次々回
 6311                            2826                                                             ;
 6312                            2827     ;       -------- 4byteﾃﾞｰﾀでも2byteｱｸｾｽしかしない------------
 6313                            2828     
 6314                            2829     
 6315                            2830     ;       -------- 消耗処理-------------
 6316 0000059E 00000002          2831     _KMT_SYOUMO_SIGTIM      .SRES   2       ;150msec信号作成用
 6317 000005A0 00000002          2832     _KMT_SYOUMO_FLG         .SRES   2       ;150msec信号作成用
 6318 000005A2 00000002          2833     _KMT_SYOUMO_CHGF        .SRES   2       ;BIT0=1開始ｲﾍﾞﾝﾄ BIT1:終了ｲﾍﾞﾝﾄ
 6319                            2834     
 6320                            2835     ;       -------------------------------------------
 6321                            2836     ;       ---     確定して送るだけの状態のデータ  ---
 6322                            2837     ;       ---     2011-01-14                      ---
 6323                            2838     ;       -------------------------------------------
 6324                            2839     ;       -------- 4byteﾃﾞｰﾀでも2byteｱｸｾｽしかしない------------
 6325 000005A4 00000040          2840     _KMT_HMI_SYOUMO_DAT     .SRES   __SITM_SYOUMO_CNT       ;64byte
 6326 000005E4 000003C0          2841     _KMT_HMI_HINBAN_BUF     .SRES   __SITM_HINBAN_CNT*_HINBAN_BUF_MAX       ;6BUFF
 6327                            2842     
 6328                            2843     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    79
PROGRAM NAME =

 6329                            2844     ;;;;    .SECTION        P,CODE                  ;
 6330                            2845     ;;;;    .ALIGN  4                                       ;
 6331                            2846     
 6332                            2847             .END
  *****TOTAL ERRORS       0
  *****TOTAL WARNINGS     0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    80

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BIT0                                      EQU  00000001     15* 2703  2963  3309  5128  5171  5699 
BIT1                                      EQU  00000002     16* 2704  3436  3483  3621  3660  3845  3869  3947  5101  5156  5581 
                                                          5654  5954  6016 
BIT10                                     EQU  00000400     25* 4006  4023 
BIT11                                     EQU  00000800     26*
BIT12                                     EQU  00001000     27*
BIT13                                     EQU  00002000     28* 3973  4023 
BIT14                                     EQU  00004000     29* 3965  4023 
BIT15                                     EQU  00008000     30* 4016  4023 
BIT16                                     EQU  00010000     31*
BIT17                                     EQU  00020000     32*
BIT18                                     EQU  00040000     33*
BIT19                                     EQU  00080000     34*
BIT2                                      EQU  00000004     17* 2938  2980  3005  3436  3509  3522  3970  4013  5581  5681  5694 
                                                          5954  6034  6047 
BIT20                                     EQU  00100000     35*
BIT21                                     EQU  00200000     36*
BIT22                                     EQU  00400000     37*
BIT23                                     EQU  00800000     38*
BIT24                                     EQU  01000000     39*
BIT25                                     EQU  02000000     40*
BIT26                                     EQU  04000000     41*
BIT27                                     EQU  08000000     42*
BIT28                                     EQU  10000000     43*
BIT29                                     EQU  20000000     44*
BIT3                                      EQU  00000008     18* 3436  3505  3528  3558  3564  3970  5581  5677  5758  5954  6030 
                                                          6089 
BIT30                                     EQU  40000000     45*
BIT31                                     EQU  80000000     46*
BIT4                                      EQU  00000010     19* 3962  5706  5752 
BIT5                                      EQU  00000020     20* 3983  3991  5723  5752 
BIT6                                      EQU  00000040     21* 2153  2165  2216  2239  2361  2397  4548  4556  6053  6083 
BIT7                                      EQU  00000080     22* 3785  3805  4556  4651  4658  4704  4770  4792  4833 
BIT8                                      EQU  00000100     23* 3995  4023 
BIT9                                      EQU  00000200     24* 3986  4023  4960 
Bfram                            Bfram    SCT  00000000   2144*
Bwkram1                          Bwkram1  SCT  00000000   6164*
CHAR_BUF8SER_200                 P             000004C4   3352  3356  3360  3364  3368  3372  3376  3380  3391*
CHAR_BUF8SER_END                 P             000004C6   3384  3393*
ET1_CPUA_DT_MV100                P             000001C8   2496  2560*
ET1_CPU_HIGHMV_END               P             00000024   2155  2167  2186*
ET1_CPU_MNMV_100                 P             0000005C   2218  2231*
ET1_CPU_MNMV_200                 P             0000008C   2247  2261*
ET1_CPU_MNMV_500                 P             000000E4   2297  2318*
ET1_CPU_MNMV_END                 P             000000F0   2225  2241  2251  2304  2332*
ET1_INIT_CHK_END                 P             00000126   2363  2381  2392  2400*
HINBAN_COM_DATMOV                P             00000E20   5332  5357  5369*
H_BYTE                                    EQU  00000000     82*
ICHAR_DATCHK_020                 P             00000390   3149  3158*
ICHAR_DATCHK_050                 P             000003C0   3180  3188*
ICHAR_DATCHK_070LOP              P             000003CA   3202* 3232 
ICHAR_DATCHK_100                 P             000003E6   3208  3211  3221  3225*
ICHAR_DATCHK_200                 P             000003F8   3238* 3245 
ICHAR_DATCHK_300                 P             00000404   3182  3249*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    81

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ICHAR_DATCHK_300LOP              P             00000408   3252* 3260 
ICHAR_DATCHK_400                 P             00000434   3256  3276*
ICHAR_DATCHK_500                 P             0000046C   3262  3290  3293  3312*
ICHAR_DATCHK_999                 P             0000046E   3151  3314*
JMP000000                        P             0000018C   2503* 2512 
JMP000005                        P             000007F8   4037* 4046 
JMP000006                        P             00000F50   5623* 5632 
JMP000007                        P             0000110A   5983* 5992 
JMP100000                        P             000001B0   2506  2522*
JMP100005                        P             0000083C   4040  4068*
JMP100006                        P             00000F7C   5626  5644*
JMP100007                        P             0000113C   5986  6006*
JMP_0100001                      P             0000025E   2876  2879*
JMP_0100002                      P             0000026A   2884  2887*
JMP_0100003                      P             00000276   2893  2896*
JMP_0100004                      P             00000282   2901  2904*
KMT_1CYCLSIGCHK_050              P             000002D0   2965  2974*
KMT_1CYCLSIGCHK_100              P             000002F8   2988  3001*
KMT_1CYCLSIGCHK_END              P             00000302   2982  2992  3009*
KMT_CMDINIT_100_LOP              P             00000A20   4520* 4529 
KMT_CMDINIT_200                  P             00000A40   4523  4538*
KMT_CMDINI_300                   P             00000A52   4550  4552*
KMT_CMDTRSCHK_EXT                P             000009F0   4451  4482*
KMT_CMDTRS_200                   P             000009A0   4214  4383*
KMT_CMDTRS_300                   P             000009B0   4217  4397*
KMT_CMDTRS_400                   P             000009B6   4389  4403*
KMT_CMDTRS_END                   P             000009B8   4256  4273  4289  4305  4322  4336  4345  4360  4369  4406*
KMT_CMD_EVET_000                 P             00000910   4228  4230  4265*
KMT_CMD_HAND_000                 P             00000924   4233  4281*
KMT_CMD_HINBAN_000               P             00000960   4254  4331*
KMT_CMD_PVWR_000                 P             0000094C   4237  4314*
KMT_CMD_STSR_000                 P             00000938   4240  4242  4297*
KMT_CMD_SYOUMO_000               P             00000980   4252  4355*
KMT_EVET_STP300                  P             0000054C   3438  3502*
KMT_EVET_STP400                  P             00000590   3511  3547*
KMT_EVET_STP500                  P             000005C4   3507  3582*
KMT_EVET_STPEXT                  P             000005D2   3444  3486  3517  3536  3553  3572  3588  3595*
KMT_HANDWDTCHK_030               P             00000680   3739  3748*
KMT_HANDWDTCHK_050               P             00000684   3752*
KMT_HANDWDTCHK_100               P             000006B4   3766  3781*
KMT_HANDWDTCHK_200               P             000006C8   3759  3796*
KMT_HANDWDTCHK_END               P             000006EE   3811  3824*
KMT_HANDWDTCHK_WAIT              P             000006EC   3741  3770  3789  3822*
KMT_HANDWR_STP300                P             00000644   3623  3678*
KMT_HANDWR_STPEXT                P             00000658   3632  3663  3690  3697*
KMT_HINBAN_BUFMK1_100            P             00000D9A   5284  5290*
KMT_HINBAN_DTMK_900              P             00000D78   5209  5215  5255*
KMT_HINBAN_DTSFT_100_LOP         P             00001070   5827* 5847 
KMT_HINBAN_DTSFT_120_LOP         P             0000107C   5837* 5844 
KMT_HINBAN_DTSFT_200             P             000010A4   5830  5858*
KMT_HINBAN_DTSFT_900             P             000010A6   5815  5860*
KMT_HINBAN_RQMK_050              P             00000CB8   5077  5092*
KMT_HINBAN_RQMK_100              P             00000CE8   5080  5122*
KMT_HINBAN_RQMK_200              P             00000D14   5095  5151*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    82

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

KMT_HINBAN_RQMK_900              P             00000D5C   5083  5112  5139  5182  5194*
KMT_HINBAN_RQMK_999              P             00000D60   5196  5199*
KMT_HINBAN_STP020                P             00000F30   5589  5599*
KMT_HINBAN_STP300                P             00000FA4   5583  5674*
KMT_HINBAN_STP320                P             00000FE8   5701  5719*
KMT_HINBAN_STP340                P             00000FF2   5710  5726*
KMT_HINBAN_STP400                P             00001008   5683  5741*
KMT_HINBAN_STP500                P             0000103C   5679  5776*
KMT_HINBAN_STPEXT                P             0000104A   5591  5664  5689  5732  5747  5766  5782  5789*
KMT_PVDATWR100LOP                P             00000896   4152* 4159 
KMT_PVDTWR_EXT                   P             000008A8   4135  4167*
KMT_STATUS_RD300                 P             0000073C   3847  3885*
KMT_STATUS_RD400LOP              P             0000074A   3899* 3906 
KMT_STATUS_RDEXT                 P             00000762   3872  3891  3917*
KMT_STAUSMAKE_EXT                P             000007F2   3950  4030*
KMT_STAUSMAK_100                 P             000007A2   3964  3967*
KMT_STAUSMAK_120                 P             000007AC   3972  3975*
KMT_STAUSMAK_200                 P             000007BA   3985  3988*
KMT_STAUSMAK_220                 P             000007C6   3994  3997*
KMT_STAUSMAK_300                 P             000007D4   4005  4008*
KMT_STAUSMAK_400                 P             000007E2   4015  4018*
KMT_SYOUMO_STP300                P             00001158   5956  6027*
KMT_SYOUMO_STP400                P             0000119C   6036  6072*
KMT_SYOUMO_STP500                P             000011D0   6032  6107*
KMT_SYOUMO_STPEXT                P             000011DE   5962  6019  6042  6061  6078  6097  6113  6120*
KMT_TRS_STPRD_100                P             00000BA8   4772  4812*
KMT_TRS_STPRD_200                P             00000BEC   4818  4851*
KMT_TRS_STPRD_250LOP             P             00000BFA   4863* 4872 
KMT_TRS_STPRD_300                P             00000C1C   4866  4882*
KMT_TRS_STPRD_EXT                P             00000C22   4768  4799  4840  4891*
KMT_TRS_STPWR_100                P             00000AE4   4653  4674*
KMT_TRS_STPWR_200                P             00000B40   4680  4725*
KMT_TRS_STPWR_EXT                P             00000B46   4649  4665  4712  4732*
KMT_TYPE011CHK_END               P             00000C64   4956  4963  4969*
KOMTRAX_TIMCT10_100              P             00000238   2828  2838*
KOMTRAX_TIMCT10_200              P             00000242   2832  2847*
L_BYTE                                    EQU  00000001     81*
NBIT0                                     EQU  000000FE     49*
NBIT1                                     EQU  000000FD     50*
NBIT10                                    EQU  0000FBFF     60*
NBIT11                                    EQU  0000F7FF     61*
NBIT12                                    EQU  0000EFFF     62*
NBIT13                                    EQU  0000DFFF     63*
NBIT14                                    EQU  0000BFFF     64*
NBIT15                                    EQU  00007FFF     65*
NBIT2                                     EQU  000000FB     51*
NBIT3                                     EQU  000000F7     52*
NBIT4                                     EQU  000000EF     53*
NBIT5                                     EQU  000000DF     54*
NBIT6                                     EQU  000000BF     55*
NBIT7                                     EQU  0000007F     56*
NBIT8                                     EQU  0000FEFF     58*
NBIT9                                     EQU  0000FDFF     59*
P                                P        SCT  00000000   2145*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    83

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

XBIT0                                     EQU  00000000     68*
XBIT1                                     EQU  00000001     69*
XBIT2                                     EQU  00000002     70*
XBIT3                                     EQU  00000003     71*
XBIT4                                     EQU  00000004     72*
XBIT5                                     EQU  00000005     73*
XBIT6                                     EQU  00000006     74*
XBIT7                                     EQU  00000007     75*
_BCD4B_ASCII                     P             00000EA4   5380  5475*
_CB_BAKUP_CMD1                            EQU  00005678    114*
_CB_BAKUP_CMD2                            EQU  00001234    115*
_CB_BAK_SUM_COD1                          EQU  5AA51234    112*
_CB_BAK_SUM_COD2                          EQU  A55A4321    113*
_CB_ERR_INFO_MEM                          EQU  00000040    137*
_CB_STS_BUF_1BLK                          EQU  00000040    117*  119 
_CB_STS_BUF_BLKMAX                        EQU  00000008    118*  119 
_CB_STS_BUF_MAX                           EQU  00000200    119*
_CB_TRD_BEFORE                            EQU  00000060    127*
_CB_TRD_BUF_DP_MAX                        EQU  00000080    131*
_CB_TRD_BUF_MAX                           EQU  00000800    128*
_CB_TRD_DP_1CNT                           EQU  00000008    130*
_CB_TRD_DP_CH                             EQU  00000004    123*
_CB_TRD_SMP_CNT                           EQU  00000080    126*
_CHAR_BUF8_SERCH                 P             00000484   3216  3339*
_CPUATOD_1CYCL_SIG                        IMPT 00000000   2920  2961 
_CPUA_RCV_ACK_ET1                         IMPT 00000000   2118  2566 
_CPUA_RCV_INI_ET1                         IMPT 00000000   2116  2439 
_CPUA_REQ_OLD                    Bwkram1       0000000C   2490  2551  6176*
_CPUA_SND_DAT                             IMPT 00000000   2121  2499 
_CPUA_SND_END                             IMPT 00000000   2122 
_CPUA_SND_INI_ET1                         IMPT 00000000   2115  2432 
_CPUA_SND_REQ_ADR                         IMPT 00000000   2119  2543 
_CPUA_SND_REQ_CNT                         IMPT 00000000   2120  2524 
_CPUA_SND_REQ_ET1                         IMPT 00000000   2117  2488 
_CPU_REQ_DAT_CNT                 Bwkram1       00000000   6169*
_CPU_REQ_DAT_FLG                 Bwkram1       0000000A   6173*
_DUMMY_SUM_CODE                           EQU  5AA53CC3    105*
_EQ_BAD_CNT                               EQU  0000003A   5057* 5402  5404 
_EQ_KATA_MEMO                             EQU  0000001C   5054* 5429  5431  5433  5435  5437  5439  5441  5444  5445  5446 
_EQ_KATA_NAME                             EQU  00000008   5053* 5408  5410  5412  5414  5416  5418  5420  5423  5424  5425 
_EQ_ORDER_COD                             EQU  00000000   5052* 5385  5387  5389  5391 
_EQ_PLAN_CNT                              EQU  00000032   5056* 5395  5397 
_EQ_WORKER_COD                            EQU  00000030   5055* 5375 
_ET1_BANK_ACS                    Bwkram1       00000008   6172*
_ET1_BANK_SEL                    Bwkram1       00000006   6171*
_ET1_CPUAB_BUF_MAX                        EQU  00000100   1969* 2501 
_ET1_CPUA_ADR_MAX                         EQU  00060000   1972*
_ET1_CPUA_DT_MOVE                P             00000174   2159  2483*
_ET1_CPUB_ADR_MAX                         EQU  00008000   1970*
_ET1_CPU_HIGH_MOV                P        EXPT 00000000   2126  2147*
_ET1_CPU_MAIN_MOV                P        EXPT 00000040   2125  2209*
_ET1_DATA_COD                             EQU  5A3CC3A5   1976*
_ET1_DEF_GAT0                             IMPT 00000000   2050 
_ET1_DEF_GAT1                             IMPT 00000000   2051 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    84

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ET1_DEF_GAT2                             IMPT 00000000   2052 
_ET1_DEF_GAT3                             IMPT 00000000   2053 
_ET1_INIEND_MOVE                 P             0000013C   2233  2419*
_ET1_INITAL_CHK                  P             00000100   2220  2355*
_ET1_INITAL_FLG                  Bwkram1  EXPT 00000004   2151  2214  2359  2395  6166  6170*
_ET1_INIT_ACK                             EQU  56789ABC   1975* 2379  2390 
_ET1_INIT_REQ                             EQU  12345678   1974* 2425 
_ET1_IPM_ADR0                             IMPT 00000000   2054 
_ET1_IPM_ADR1                             IMPT 00000000   2055 
_ET1_IPM_ADR2                             IMPT 00000000   2056 
_ET1_IPM_ADR3                             IMPT 00000000   2057 
_ET1_IPS_ADR0                             IMPT 00000000   2042 
_ET1_IPS_ADR1                             IMPT 00000000   2043 
_ET1_IPS_ADR2                             IMPT 00000000   2044 
_ET1_IPS_ADR3                             IMPT 00000000   2045 
_ET1_IPS_ENT                              IMPT 00000000   2041 
_ET1_RDWR2_BUFMAX                         EQU  00000020   1980*
_ET1_SUB_NET0                             IMPT 00000000   2046 
_ET1_SUB_NET1                             IMPT 00000000   2047 
_ET1_SUB_NET2                             IMPT 00000000   2048 
_ET1_SUB_NET3                             IMPT 00000000   2049 
_ET1_VER                                  IMPT 00000000   2038 
_ET1_WD_HAND_COD                          EQU  00001234   1981*
_ET2_SEQ_IDT01                            IMPT 00000000   2096  3040 
_ET2_SEQ_QDT01                            IMPT 00000000   2097  3045 
_ET2_SITM_ACK                             IMPT 00000000   2093  4608 
_ET2_SITM_ADR                             IMPT 00000000   2091  4695  4825 
_ET2_SITM_RDDT                            IMPT 00000000   2095  4774 
_ET2_SITM_REQ                             IMPT 00000000   2092  4590 
_ET2_SITM_WRDT                            IMPT 00000000   2094  4686 
_ET_CPUA_RCV_ACK_ET1                      IMPT 00000000   2023  2564 
_ET_CPUA_RCV_INI_ET1                      IMPT 00000000   2021  2383  2437 
_ET_CPUA_RD_ACK                           IMPT 00000000   2064 
_ET_CPUA_RD_ADR                           IMPT 00000000   2066 
_ET_CPUA_RD_BUF                           IMPT 00000000   2067 
_ET_CPUA_RD_CNT                           IMPT 00000000   2065 
_ET_CPUA_RD_REQ                           IMPT 00000000   2063 
_ET_CPUA_SND_DAT                          IMPT 00000000   2027  2500 
_ET_CPUA_SND_END                          IMPT 00000000   2028 
_ET_CPUA_SND_INI_ET1                      IMPT 00000000   2020  2434 
_ET_CPUA_SND_REQ_ADR                      IMPT 00000000   2025  2545 
_ET_CPUA_SND_REQ_CNT                      IMPT 00000000   2026  2526 
_ET_CPUA_SND_REQ_ET1                      IMPT 00000000   2022  2553 
_ET_CPUA_WR2_ACK                          IMPT 00000000   2075 
_ET_CPUA_WR2_ADR                          IMPT 00000000   2072 
_ET_CPUA_WR2_BUF                          IMPT 00000000   2073 
_ET_CPUA_WR2_CNT                          IMPT 00000000   2076 
_ET_CPUA_WR2_REQ                          IMPT 00000000   2074 
_ET_CPUB_RCV_INI_ET1                      IMPT 00000000   2007  2377 
_ET_CPUB_SND_INI_ET1                      IMPT 00000000   2006  2427 
_ET_LDCMND_AREA                           IMPT 00000000   2035 
_ET_LDCMND_REQ                            IMPT 00000000   2036 
_ET_LDCMND_RES                            IMPT 00000000   2037 
_FRAM_CB_ICHAR                            IMPT 00000000   2680  4034 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    85

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_HEX4B_BCD8B                     P             000011EC   6145*
_HINBAN_BUF_MAX                           EQU  00000006   2761* 5283  6304  6326 
_HINBAN_DATA_SFT                 P             00001058   5660  5807*
_HINBAN_START_DATA_MOV           P             00000DC0   5131  5174  5320*
_HINBAN_STOP_DATA_MOV            P             00000DF0   5104  5159  5345*
_ICHAR_DATA_CHK                  P             0000037C   3100  3140*
_IROCK_CHAR                               IMPT 00000000   2678  3280 
_IROCK_OUT_NO                             IMPT 00000000   2677  3196 
_KMT_10MSEC_TIM                  P             00000250   2843  2867*
_KMT_1CYCLE_SET                  P             00000298   2928* 2970 
_KMT_1CYCLE_SIGCHK               P             000002BC   2777  2955*
_KMT_1CYCL_SIGTIM                Bwkram1       000004AE   2933  2984  6268*
_KMT_ACKSIG_IN                   P             00000A9C   4604* 4643  4762 
_KMT_CHK_CHRNO                   Bwkram1       0000049C   3161  3198  3251  6264*
_KMT_CMDTRS_CHK                  P             000009C4   4269  4285  4301  4318  4341  4365  4444*
_KMT_CMD_INIT                    P             00000A10   4476  4504*
_KMT_CMD_TRS                     P             000008CC   2794  4206*
_KMT_COM1_AREA                   Bwkram1       00000520   4092  4098  4100  4150  6283*
_KMT_DLYSCAN_TIM                 Bwkram1       0000047A   2243  6261*
_KMT_EVENT_CHAR                  Bwkram1       0000046E   3285  3461  6256*
_KMT_EVENT_CHGF                  Bwkram1       00000478   3145  3307  3440  6260*
_KMT_EVENT_FLG                   Bwkram1       0000046C   3434  3481  3503  3520  3562  3591  6255*
_KMT_EVENT_INT_STEP              P             000004D0   3107  3417*
_KMT_EVENT_SIGTIM                Bwkram1       00000476   2898  3533  3549  3569  3584  6257*
_KMT_HANDWDT_CNT                 Bwkram1       000004B2   3761  3799  6273*
_KMT_HANDWDT_TIM                 Bwkram1       000004B4   2890  3735  6274*
_KMT_HANDWR_FLG                  Bwkram1       000004B0   3619  3658  3693  6272*
_KMT_HAND_WDTCHK                 P             0000066C   3627  3682  3721*
_KMT_HINBAN_BUF_MAK1             P             00000D8C   5098  5125  5153  5168  5276*
_KMT_HINBAN_CHGF                 Bwkram1       0000058E   5205  5251  5585  6297*
_KMT_HINBAN_FLG                  Bwkram1       0000058A   5579  5652  5675  5692  5756  5785  6293*
_KMT_HINBAN_MAKE                 P             00000C98   5000  5061*
_KMT_HINBAN_SEL                  Bwkram1       0000058C   5601  5697  6294*
_KMT_HINBAN_SIGTIM               Bwkram1       00000588   2873  5729  5743  5763  5778  6292*
_KMT_HINBAN_STEP                 P             00000F10   5005  5564*
_KMT_HINBAN_TRG_FLG              Bwkram1       00000592   5249  5298  5824  5825  6304*
_KMT_HINBAN_TRG_NUM              Bwkram1       00000590   5107  5134  5162  5177  5211  5281  5811  6303*
_KMT_HMI_HINBAN_BUF              Bwkram1       000005E4   5295  5619  5821  5822  6326*
_KMT_HMI_SYOUMO_DAT              Bwkram1       000005A4   5979  6325*
_KMT_OLD_CHRNO                   Bwkram1       0000047C   3197  3236  6262*
_KMT_PROC_10MS                   Bwkram1       00000586   2824  6289*
_KMT_REQSIG_OUT                  P             00000A84   4563  4584* 4661  4707  4795  4836 
_KMT_REQ_SIG                     Bwkram1       00000016   4559  4588  4646  4656  4702  4765  4790  4831  6189*
_KMT_SEQ_REF1                    P             00000310   2783  3030*
_KMT_STS1MN_SQ87                 Bwkram1       0000051E   3051  3526  3556  3783  3803  4021  5704  5721  5750  6051  6081  6281*
_KMT_STS1RD_FLG                  Bwkram1       000004B6   3843  3867  3909  6277*
_KMT_STS1_AREA                   Bwkram1       000004BA   3754  3897  3958  3979  4000  4010  4033  4947  6280*
_KMT_STS1_SET                    Bwkram1       000004B8   3912  3945  6279*
_KMT_STS_SQ087                   Bwkram1       000004AC   2936  2978  3003  3053  6267*
_KMT_SYOUMO_CHGF                 Bwkram1       000005A2   5914  5958  6318*
_KMT_SYOUMO_FLG                  Bwkram1       000005A0   5952  6014  6028  6045  6087  6116  6317*
_KMT_SYOUMO_MAKE                 P             000010C8   5882  5908*
_KMT_SYOUMO_SIGTIM               Bwkram1       0000059E   2881  6058  6074  6094  6109  6316*
_KMT_SYOUMO_STEP                 P             000010DC   5887  5937*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    86

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_KMT_TRSCMD_ENDCLR               P             00000C2C   4727  4886  4908*
_KMT_TRSLT_CNT                   Bwkram1       00000020   4471  4511  4677  4815  4860  6196*
_KMT_TRSLT_DAT                   Bwkram1       00000022   4518  4683  4780  4853  6197*
_KMT_TRSLT_MEMKND                Bwkram1       0000001C   4462  4554  6194*
_KMT_TRSLT_OBJADR                Bwkram1       0000001E   4466  4692  4822  6195*
_KMT_TRSLT_TOPADR                Bwkram1       00000018   4458  4514  4855  4916  6193*
_KMT_TRSPV_CNT                   Bwkram1       00000012   4542  4675  4690  4777  4784  4813  4820  6187*
_KMT_TRSSV1_CMD                  Bwkram1       00000224   3477  3513  3654  3686  3863  3887  4131  4163  4448  4918  5648  5685 
                                                          6010  6038  6205*
_KMT_TRSSV1_CNT                  Bwkram1       0000022A   3458  3644  3858  4146  4469  5616  5976  6208*
_KMT_TRSSV1_DAT                  Bwkram1       0000022C   3462  3647  3650  3756  3896  4151  4516  4857  5620  5980  6209*
_KMT_TRSSV1_FORM                 Bwkram1       00000224   3450  3454  3458  3462  3477  3513  3636  3640  3644  3647  3650  3654 
                                                          3686  3756  3850  3854  3858  3863  3887  3896  4131  4138  4142  4146 
                                                          4151  4163  4448  4461  4465  4469  4516  4857  4918  5608  5612  5616 
                                                          5620  5648  5685  5968  5972  5976  5980  6010  6038  6203*
_KMT_TRSSV1_MEMKND               Bwkram1       00000226   3450  3636  3850  4138  4461  5608  5968  6206*
_KMT_TRSSV1_OBJADR               Bwkram1       00000228   3454  3640  3854  4142  4465  5612  5972  6207*
_KMT_TRSSV1_TOP                  Bwkram1       00000224   3450  3454  3458  3462  3477  3513  4267  6204*
_KMT_TRSSV2_TOP                  Bwkram1       0000023C   3636  3640  3644  3647  3650  3654  3686  3756  4283  6213*
_KMT_TRSSV3_TOP                  Bwkram1       00000248   3850  3854  3858  3863  3887  3896  4299  6221*
_KMT_TRSSV4_TOP                  Bwkram1       000002B4   4131  4138  4142  4146  4151  4163  4316  6229*
_KMT_TRSSV5_TOP                  Bwkram1       0000033C   4339  5608  5612  5616  5620  5648  5685  6238*
_KMT_TRSSV6_TOP                  Bwkram1       000003E4   4363  5968  5972  5976  5980  6010  6038  6246*
_KMT_TRS_CMD                     Bwkram1       00000010   4211  4455  4545  4913  6186*
_KMT_TRS_SCAN                    Bwkram1       00000014   4221  6188*
_KMT_TRS_STP_RD                  P             00000B50   4399  4756*
_KMT_TRS_STP_WR                  P             00000AB0   4385  4637*
_KMT_TYPE_011_CHK                P             00000C48   2300  4942*
_KMT_TYP_011                     Bwkram1       00000584   2294  4332  4356  4966  6288*
_KMT_USE_CHRNO                   Bwkram1       0000048C   3237  3348  6263*
_KOMTRAX_DATA_CTRL               P             000001F8   2176  2771*
_KOMTRAX_EVENT_MAIN              P             00000360   2263  3094*
_KOMTRAX_HAND_WRITE              P             000005E0   2268  3613*
_KOMTRAX_HINBAN_MAIN             P             00000C7C   2322  4994*
_KOMTRAX_PVDAT_MAKE              P             00000842   2283  4085*
_KOMTRAX_PVDAT_WRITE             P             00000874   2288  4125*
_KOMTRAX_STATUS_READ             P             000006F4   2273  3838*
_KOMTRAX_STAUS_MAKE              P             00000780   2278  3940*
_KOMTRAX_SYOUMO_MAIN             P             000010AC   2327  5876*
_KOMTRAX_TIMCNT                  P             00000220   2182  2815*
_MEM_ARI                                  IMPT 00000000   2101 
_MEM_BNK_ADR1                             IMPT 00000000   2102 
_PVP_MENTE_CNT                            IMPT 00000000   4083  4095 
_PVP_POWER_MONI                           IMPT 00000000   4082  4090 
_SEQ_024_SV                               IMPT 00000000   2129  2163  2237 
_SEQ_DP_TOP                               IMPT 00000000   2130  3038  3047  3061  4958 
_SQ086                                    EQU  000000AC   2701* 3047 
_SQ087                                    EQU  000000AE   2702* 3061 
_SQ113                                    EQU  000000E2   2699* 4958 
_SQ149                                    EQU  0000012A   2700* 3038 
_START_ACK_COD                            EQU  00004321    211*
_START_REQ_COD                            EQU  00009876    210*
_SV0SP_BAD_CNT                            IMPT 00000000   5034  5353 
_SV0SP_KATA_MEMO                          IMPT 00000000   5037  5355 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    87

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SV0SP_KATA_NAME                          IMPT 00000000   5036  5354 
_SV0SP_KATA_NO                            IMPT 00000000   5035 
_SV0SP_ORDER_COD                          IMPT 00000000   5032  5351 
_SV0SP_PLAN_CNT                           IMPT 00000000   5033  5352 
_SV0SP_WORKER_COD                         IMPT 00000000   5031  5350 
_SV0SR_BAD_CNT                            IMPT 00000000   5043  5328 
_SV0SR_KATA_MEMO                          IMPT 00000000   5046  5330 
_SV0SR_KATA_NAME                          IMPT 00000000   5045  5329 
_SV0SR_KATA_NO                            IMPT 00000000   5044 
_SV0SR_ORDER_COD                          IMPT 00000000   5041  5326 
_SV0SR_PLAN_CNT                           IMPT 00000000   5042  5327 
_SV0SR_WORKER_COD                         IMPT 00000000   5040  5325 
_SV0_WORK_STP_FLG                         IMPT 00000000   5030  5073  5349 
_SV0_WORK_STR_FLG                         IMPT 00000000   5039  5071  5324 
_VUPCHECK_EQU                             EQU  11AB3739     98*
__ASCII_0                                 EQU  00000030   5473* 5493  5499  5507  5513  5521  5527  5535  5541 
__CYCLE_SIG_TIMSV                         EQU  00000014   2742* 2932 
__EVENT_SIG_OFTIMSV                       EQU  00000032   2739* 3568 
__EVENT_SIG_ONTIMSV                       EQU  00000032   2738* 3532 
__HINBAN_SIG_OFTIMSV                      EQU  00000064   2755* 5762 
__HINBAN_SIG_ONTIMSV                      EQU  00000064   2754* 5728 
__KMTCMD_RD                               EQU  00000002   2704* 3862  4216  4454 
__KMTCMD_WR                               EQU  00000001   2703* 3476  3653  4162  4213  4454  5647  6009 
__SITM_AIDAT1                             EQU  0000000C   2715* 4092  4141  4150 
__SITM_AIDTCNT                            EQU  00000008   2716* 4145  4149 
__SITM_CHRCNT                             EQU  00000008   2713* 3457 
__SITM_CHRTOP1                            EQU  00000004   2712* 3453 
__SITM_ERRSTS1                            EQU  0000006A   2728* 3979 
__SITM_HANDCNT                            EQU  00000002   2710* 3643 
__SITM_HANDRD                             EQU  00000064   2725* 3754 
__SITM_HANDWR                             EQU  00000000   2709* 3639 
__SITM_HINBAN_CNT                         EQU  000000A0   2751* 5291  5615  5621  5821  5836  6326 
__SITM_HINBAN_TOP                         EQU  00000108   2750* 5611 
__SITM_KMTTYPE                            EQU  00000070   2731* 4947 
__SITM_MCNTCNT                            EQU  00000004   2719* 4145  4149 
__SITM_MENTCNT                            EQU  00000014   2718* 4098  4100 
__SITM_OUTCNT                             EQU  00000020   2723* 3857  3895 
__SITM_OUT_TOP                            EQU  00000064   2722* 2725  2727  2728  2729  2730  2731  3754  3853  3958  3979  4000 
                                                          4010  4947 
__SITM_SYOUMO_CNT                         EQU  00000040   2748* 5975  5981  6325 
__SITM_SYOUMO_TOP                         EQU  000000C8   2747* 5971 
__SITM_TRSSTS1                            EQU  00000068   2727* 3958 
__SITM_TRSSTS2                            EQU  0000006E   2730* 4010 
__SITM_WARSTS1                            EQU  0000006C   2729* 4000 
__SIT_VER_TYP2_COD                        EQU  00005A01   2735* 4954 
__SYOUMO_SIG_OFTIMSV                      EQU  00000014   2758* 6093 
__SYOUMO_SIG_ONTIMSV                      EQU  00000014   2757* 6057 
__TM_LATE01MS                             EQU  00000001   2133*
__TM_LATE10MS                             EQU  0000000A   2134* 2738  2739  2754  2755  2757  2758  3718 
__WDT_TIM_SET_DAT                         EQU  0000000B   3718* 3750 
__WDT_UP_ERR_CNT                          EQU  00000064   3719* 3764 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    09/27/14 16:14:49                                                  PAGE    88

*** SECTION DATA LIST

SECTION                          ATTRIBUTE    SIZE             START

Bfram                            REL-DATA    000000000        
P                                REL-CODE    0000011F4        
Bwkram1                          REL-DATA    0000009A4        
