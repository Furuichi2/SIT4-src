;------------------------------------------------------------------------
;                                                                       |
;   FILE        :hwsetup.src                                            |
;   DATE        :Tue, Jun 27, 2006                                      |
;   DESCRIPTION :Hardware Setup file                                    |
;   CPU TYPE    :SH7727                                                 |
;                                                                       |
;   This file is generated by Renesas Project Generator (Ver.4.0).      |
;                                                                       |
;------------------------------------------------------------------------
	.LIST	OFF
	.include	"cm_equ1.equ"
	.include	"ssa_ver1.equ"
	.include	"shn_cmd1.mac"
	.include	"CPU_REG.ext"
	.include	"ssa_com1.mac"
	.INCLUDE	"ssa_had1.equ"		;2006-10-19 SAITO WDTÏ¸Û•ÏX‚É”º‚¢’Ç‰Á
	.INCLUDE	"ssa_wrmy.ext"		;2006-10-19 SAITO WDTÏ¸Û•ÏX‚É”º‚¢’Ç‰Á
	.import		_dio_top2		;2006-10-19 SAITO WDTÏ¸Û•ÏX‚É”º‚¢’Ç‰Á
	.LIST	ON


	.IMPORT		_CPUA_WR_CPUB_RD

_SDMR		.EQU		H'FFFFE440	; CASÚ²ÃÝ¼2^ÊÞ°½ÄÀ²Ìß¼°¹Ý¼¬Ù^ÊÞ°½Ä’·1 16bit
;//2013-11-26_SDMR		.EQU		H'FFFFE880	; CASÚ²ÃÝ¼2^ÊÞ°½ÄÀ²Ìß¼°¹Ý¼¬Ù^ÊÞ°½Ä’·1 32bit


	.SECTION	Phwsetup1, CODE			;

	.export		_HardwareSetup1
_HardwareSetup1:
	SUB_START

;‚b‚o‚fŠÖŒW
	MOV.L	#_WTCSR,R1
	MOV.W	#H'A507,R0
	MOV.W	R0,@R1
	MOV.L	#_FRQCR,R1			; Žü”g”§ŒäƒŒƒWƒXƒ^
	MOV.W	#H'0112,R0			; “ü—Í¸Û¯¸=14.7456MHz  8:4:2  IƒÓ=117.9648MHz^BƒÓ=58.9824MHz^PƒÓ=29.4912MHz
	MOV.W	R0,@R1

;‚a‚r‚bŠÖŒW
	MOV.L	#_BCR1,R1			; ƒoƒXƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^‚P
	MOV.W	#H'0008,R0			; ´Ø±3=SDRAM^‚»‚Ì‘¼‚Ì´Ø±=’ÊíÒÓØ
	MOV.W	R0,@R1

	MOV.L	#_BCR2,R1			; ƒoƒXƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^‚Q
	MOV.W	#H'26A0,R0			; ´Ø±2(–¢Žg—p)=16ËÞ¯Ä•^´Ø±3=16ËÞ¯Ä•^´Ø±4=16ËÞ¯Ä•^´Ø±5=8ËÞ¯Ä•^´Ø±6=16ËÞ¯Ä•
;//2013-11-26	MOV.W	#H'26D0,R0			; ´Ø±2(–¢Žg—p)=16ËÞ¯Ä•^´Ø±3=32ËÞ¯Ä•^´Ø±4=16ËÞ¯Ä•^´Ø±5=8ËÞ¯Ä•^´Ø±6=16ËÞ¯Ä•
	MOV.W	R0,@R1

	MOV.L	#_WCR1,R1			; ƒEƒFƒCƒgƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^‚P
	MOV.W	#H'BFF3,R0			; ‚Æ‚è‚ ‚¦‚¸A»²¸ÙŠÔ‚Ì±²ÄÞÙ‚ÍA‘S´Ø±3±²ÄÞÙ»²¸Ù‘}“ü
	MOV.W	R0,@R1


;---------2021-11-15-----------
;;	MOV.L	#_WCR2,R1			; ƒEƒFƒCƒgƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^‚Q
;;	MOV.W	#H'B7DD,R0			; ´Ø±06³ª²Ä^´Ø±2(–¢Žg—p)10³ª²Ä^´Ø±3CASÚ²ÃÝ¼2^´Ø±410³ª²Ä^
;;	MOV.W	R0,@R1				; ´Ø±56³ª²Ä^´Ø±66³ª²Ä

;---------2021-11-15-----------
	MOV.L	#_WCR2,R1			; ƒEƒFƒCƒgƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^‚Q
	MOV.W	#H'BBDD,R0			; ´Ø±06³ª²Ä^´Ø±2(–¢Žg—p)10³ª²Ä^´Ø±3CASÚ²ÃÝ¼2^´Ø±410³ª²Ä^
	MOV.W	R0,@R1				; ´Ø±56³ª²Ä^´Ø±68³ª²Ä(2021-09-22 ver B2d)

	MOV.L	#_SDMR,R1			; ƒVƒ“ƒNƒƒiƒX‚c‚q‚`‚lƒ‚[ƒhƒŒƒWƒXƒ^
	MOV.B	#0,R0				; CASÚ²ÃÝ¼2^ÊÞ°½ÄÀ²Ìß¼°¹Ý¼¬Ù^ÊÞ°½Ä’·1
;//2013-11-26	MOV.B	#2,R0				; CASÚ²ÃÝ¼2^ÊÞ°½ÄÀ²Ìß¼°¹Ý¼¬Ù^ÊÞ°½Ä’·1
	MOV.B	R0,@R1

	MOV.L	#_MCR,R1			; ŒÂ•Êƒƒ‚ƒŠƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^
	MOV.W	#H'5224,R0
	MOV.W	R0,@R1

	MOV.L	#_RTCOR,R1			; ƒŠƒtƒŒƒbƒVƒ…ƒ^ƒCƒ€ƒRƒ“ƒXƒ^ƒ“ƒgƒŒƒWƒXƒ^
	MOV.W	#H'A573,R0			; 7.798usiCKIO/414.7456MHzj
	MOV.W	R0,@R1

	MOV.L	#_RTCSR,R1			; ƒŠƒtƒŒƒbƒVƒ…ƒ^ƒCƒ}ƒRƒ“ƒgƒ[ƒ‹^ƒXƒe[ƒ^ƒXƒŒƒWƒXƒ^
	MOV.W	#H'A508,R0			; ¸Û¯¸¾Ú¸ÄCKIO/4
	MOV.W	R0,@R1

	MOV.W	#8,R2				; ƒ_ƒ~[ƒI[ƒgƒŠƒtƒŒƒbƒVƒ…‚W‰ñ
_ARF_WAIT:
	MOV.L	#_RFCR,R1
	MOV.W	@R1,R0				; ƒŠƒtƒŒƒbƒVƒ…ƒJƒEƒ“ƒ^
	CMP/HS	R2,R0
	BF	_ARF_WAIT

;‚o‚e‚bŠÖŒW
	MOV.L	#_PACR,R1			; ƒ|[ƒg‚`ƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^
	MOV.W	#H'5555,R0			; ‘So—Íƒ|[ƒg
	MOV.W	R0,@R1

;	----2006-08-05 PORT "L"OUTPUT --------------
	MOV.L	#_PADR,R1			;
	MOV.W	#0,R0				;
	MOV.B	R0,@R1				;
;	--------------------------------------------

	MOV.L	#_PBCR,R1			; ƒ|[ƒg‚aƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^
	MOV.W	#H'AAAA,R0			; ‘S“ü—Íƒ|[ƒg
	MOV.W	R0,@R1

	MOV.L	#_PCCR,R1			; ƒ|[ƒg‚bƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^
	MOV.W	#H'0000,R0			; ‚k‚b‚c‚bŠÖŒW
	MOV.W	R0,@R1

	MOV.L	#_PDCR,R1			; ƒ|[ƒg‚cƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^
	MOV.W	#H'2200,R0			; ‚S‚Æ‚U‚Í“ü—Íƒ|[ƒg ^ ‚»‚Ì‘¼‚Í‚k‚b‚c‚bŠÖŒW
	MOV.W	R0,@R1

	MOV.L	#_PEDR,R1			; ƒ|[ƒg‚dƒf[ƒ^ƒŒƒWƒXƒ^
	MOV.B	#H'10,R0			; o—Íƒ|[ƒg‚S(*LCD_ON)‚Í‰Šú’luHighv
	MOV.B	R0,@R1
	MOV.L	#_PECR,R1			; ƒ|[ƒg‚dƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^
;//2013-11-26	MOV.W	#H'4515,R0			; ‚OA‚PA‚QA‚SA‚TA‚V‚Ío—Íƒ|[ƒg ^ ‚RA‚U‚Í‚k‚b‚c‚bŠÖŒW
	MOV.W	#H'4514,R0			; ‚OA‚PA‚QA‚SA‚TA‚V‚Ío—Íƒ|[ƒg ^ ‚RA‚U‚Í‚k‚b‚c‚bŠÖŒW
	MOV.W	R0,@R1

	MOV.L	#_PFCR,R1			; ƒ|[ƒg‚eƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^
	MOV.W	#H'AAAA,R0			; ‘S“ü—Íƒ|[ƒg
;//2013-11-26	MOV.W	R0,@R1

	MOV.L	#_PGCR,R1			; ƒ|[ƒg‚fƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^
	MOV.W	#H'AAAA,R0			; ‘S“ü—Íƒ|[ƒg
;//2013-11-26	MOV.W	R0,@R1

	MOV.L	#_PHCR,R1			; ƒ|[ƒg‚gƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^
	MOV.W	#H'2800,R0			; ‚O`‚S‚Í‚h‚q‚p ^ ‚TC‚U‚Í“ü—Íƒ|[ƒg ^ ‚V‚Í‚k‚b‚c‚bŠÖŒW
	MOV.W	R0,@R1

	MOV.L	#_PJCR,R1			; ƒ|[ƒg‚iƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^
	MOV.W	#H'5544,R0			; ‚O‚Í–‚q‚`‚r‚R ^ ‚Q‚Í–‚b‚`‚r ^ ‚»‚Ì‘¼‚Ío—Íƒ|[ƒg
	MOV.W	R0,@R1

	MOV.L	#_PKCR,R1			; ƒ|[ƒg‚jƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^
	MOV.W	#H'5105,R0			; ‚Q‚Í–‚b‚r‚S ^ ‚R‚Í–‚b‚r‚T ^ ‚T‚Í‚b‚j‚d ^ ‚»‚Ì‘¼‚Ío—Íƒ|[ƒg
	MOV.W	R0,@R1

	MOV.L	#_PLCR,R1			; ƒ|[ƒg‚kƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^
	MOV.W	#H'0000,R0			; ‘S‚`‚h
	MOV.W	R0,@R1

	MOV.L	#_PMCR,R1			; ƒ|[ƒg‚lƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^
	MOV.W	#H'5500,R0			; ‚S`‚V‚Í“ü—Íƒ|[ƒg ^ ‚O`‚R‚Í‚k‚b‚c‚bŠÖŒW
	MOV.W	R0,@R1

;2009/03/19
;///////	MOV.L	#_SCPDR,R1			; ‚r‚bƒ|[ƒgƒf[ƒ^ƒŒƒWƒXƒ^
;///////	MOV.B	#H'02,R0			; o—Íƒ|[ƒg‚P(RTS)‚Í‰Šú’luHighv
;///////	MOV.B	R0,@R1
;///////	MOV.L	#_SCPCR,R1			; ‚r‚bƒ|[ƒgƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^
;///////;///////	MOV.W	#H'1554,R0			;
;///////	MOV.W	#H'9554,R0			; V05j 2007/12/07
;///////	MOV.W	R0,@R1
	MOV.L	#_SCPDR,R1			; ‚r‚bƒ|[ƒgƒf[ƒ^ƒŒƒWƒXƒ^
	MOV.B	#H'01,R0			; o—Íƒ|[ƒg0(TXD)‚Í‰Šú’luHighv, RTS‚ÍuLowv(Œã‚ÅHigh‚É‚·‚é)
	MOV.B	R0,@R1
	MOV.L	#_SCPCR,R1			; ‚r‚bƒ|[ƒgƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^
	MOV.W	#H'9555,R0			; V05j 2007/12/07
	MOV.W	R0,@R1



;‚h‚m‚s‚bŠÖŒW
	MOV.L	#_IPRA,R1			; Š„‚èž‚Ý—Dæ‡ˆÊÝ’èƒŒƒWƒXƒ^‚`
						; BIT15~12:TMU0		’èŽüŠú500ƒÊs
						; BIT11~ 8:TMU1		’èŽüŠú1ms
						; BIT 7~ 4:TMU2		’èŽüŠú5ms
						; BIT 3~ 0:RTC
	MOV.W	#H'8760,R0
	MOV.W	R0,@R1

	MOV.L	#_IPRB,R1			; Š„‚èž‚Ý—Dæ‡ˆÊÝ’èƒŒƒWƒXƒ^‚a
						; BIT15~12:WDT
						; BIT11~ 8:REF
						; BIT 7~ 4:SCI
						; BIT 3~ 0:—\–ñ
	MOV.W	#H'00E0,R0
	MOV.W	R0,@R1

	MOV.L	#_IPRC,R1			; Š„‚èž‚Ý—Dæ‡ˆÊÝ’èƒŒƒWƒXƒ^‚b
						; BIT15~12:IRQ3		ACTB(’èŽüŠú‚æ‚è’á‚­‚·‚é 3)
						; BIT11~ 8:IRQ2		DP_INT
						; BIT 7~ 4:IRQ1		ENC_BUSY(‚)
						; BIT 3~ 0:IRQ0		EMG(’èŽüŠú‚æ‚è’á‚­‚·‚é 3)
	MOV.W	#H'30A3,R0
	MOV.W	R0,@R1

	MOV.L	#_IPRD,R1			; Š„‚èž‚Ý—Dæ‡ˆÊÝ’èƒŒƒWƒXƒ^‚c
						; BIT15~12:IRQ7
						; BIT12~ 8:IRQ6
						; BIT 7~ 4:IRQ5		PD
						; BIT 3~ 0:IRQ4		STBX(’èŽüŠú‚æ‚è’á‚­‚·‚é 2)
	MOV.W	#H'0002,R0
	MOV.W	R0,@R1

	MOV.L	#_IPRE,R1			; Š„‚èž‚Ý—Dæ‡ˆÊÝ’èƒŒƒWƒXƒ^‚d
	MOV.W	#H'0,R0
	MOV.W	R0,@R1

	MOV.L	#_IPRF,R1			; Š„‚èž‚Ý—Dæ‡ˆÊÝ’èƒŒƒWƒXƒ^‚e
	MOV.W	#H'0,R0
	MOV.W	R0,@R1

	MOV.L	#_IPRG,R1			; Š„‚èž‚Ý—Dæ‡ˆÊÝ’èƒŒƒWƒXƒ^‚f
	MOV.W	#H'0,R0
	MOV.W	R0,@R1

	MOV.L	#_ICR0,R1			; Š„‚èž‚ÝƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^‚O
;	‰Šú’l‚Å‚n‚j

	MOV.L	#_ICR1,R1			; Š„‚èž‚ÝƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^‚P
	MOV.W	#H'0,R0				; ‚h‚q‚p‚Í“Æ—§‚Å‘S‚Ä—§‚¿‰º‚ª‚èƒGƒbƒW
	MOV.W	R0,@R1

	MOV.L	#_ICR2,R1			; Š„‚èž‚ÝƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^‚Q
;	‰Šú’l‚Å‚n‚jiPINT‚Í–¢Žg—pj

	MOV.L	#_ICR3,R1			; Š„‚èž‚ÝƒRƒ“ƒgƒ[ƒ‹ƒŒƒWƒXƒ^‚R
;	‰Šú’l‚Å‚n‚j

	MOV.L	#_PINTER,R1			; PINTŠ„‚èž‚ÝƒCƒl[ƒuƒ‹ƒŒƒWƒXƒ^
;	‰Šú’l‚Å‚n‚jiPINT‚Í–¢Žg—pj

;‚s‚l‚tŠÖŒW
	MOV.L	#_TCR0,R1
	MOV.W	#H'0001,R0			; PƒÓ^16‚ÅƒJƒEƒ“ƒgi1.8432MHzj
	MOV.W	R0,@R1
	MOV.L	#_TCOR0,R1
	MOV.L	#921,R0				; 500us
	MOV.L	R0,@R1
	MOV.L	#_TCNT0,R1
	MOV.L	R0,@R1

	MOV.L	#_TCR1,R1
	MOV.W	#H'0001,R0			; PƒÓ^16‚ÅƒJƒEƒ“ƒgi1.8432MHzj
	MOV.W	R0,@R1
	MOV.L	#_TCOR1,R1
	MOV.L	#1843,R0			; 1ms
	MOV.L	R0,@R1
	MOV.L	#_TCNT1,R1
	MOV.L	R0,@R1

	MOV.L	#_TCR2,R1
	MOV.W	#H'0001,R0			; PƒÓ^16‚ÅƒJƒEƒ“ƒgi1.8432MHzj
	MOV.W	R0,@R1
	MOV.L	#_TCOR2,R1
	MOV.L	#9216,R0			; 5ms
	MOV.L	R0,@R1
	MOV.L	#_TCNT2,R1
	MOV.L	R0,@R1

	MOV.L	#_TCR0,R1
	MOV.W	@R1,R0
	MOV.W	#H'0020,R2
	OR	R2,R0
;;;;;;;;	MOV.W	R0,@R1				; TMU0 EI

	MOV.L	#_TCR1,R1
	MOV.W	@R1,R0
	OR	R2,R0
	MOV.W	R0,@R1				; TMU1 EI

	MOV.L	#_TCR2,R1
	MOV.W	@R1,R0
	OR	R2,R0
	MOV.W	R0,@R1				; TMU2 EI

	MOV.L	#_TSTR,R1
	MOV.B	#H'07,R0			; ‘Sƒ^ƒCƒ}“®ìŠJŽn
	MOV.B	R0,@R1

;‚r‚b‚hŠÖŒW
	MOV.L	#_SMR0,R1				; BIT7    : 0=’²•à“¯ŠúŽ®Ó°ÄÞ
							; BIT6    : 0=8ËÞ¯ÄÃÞ°À
							; BIT5    : 1=ÊßØÃ¨—L‚è
							; BIT4    : 0=‹ô”ÊßØÃ¨
							; BIT3    : 0=1½Ä¯ÌßËÞ¯Ä
							; BIT2    : 0=ÏÙÁÌßÛ¾¯»‹@”\‹ÖŽ~
							; BIT1`0 : 0=¸Û¯¸¾Ú¸ÄPƒÓ
	MOV.B	#H'20,R0				; 
	MOV.B	R0,@R1

	MOV.L	#_BRR0,R1
	MOV.B	#D'95,R0				; 95=9600bps(SSR‚Ì¸Û¯¸¾Ú¸ÄPƒÓ‚Ìê‡)
	MOV.B	#D'47,R0				; 47=19200bps(SSR‚Ì¸Û¯¸¾Ú¸ÄPƒÓ‚Ìê‡)
	MOV.B	#D'23,R0				; 23=38400bps(SSR‚Ì¸Û¯¸¾Ú¸ÄPƒÓ‚Ìê‡)
	MOV.B	R0,@R1

	MOV.L	#_SCR0,R1				; BIT7    : 0=‘—M´ÝÌßÃ¨Š„ž‚Ý‹ÖŽ~
							; BIT6    : 1=ŽóMÃÞ°ÀŠ„ž‚Ý‹–‰Â
							; BIT5    : 0=‘—M“®ì‚ð‹ÖŽ~
							; BIT4    : 1=ŽóM“®ì‚ð‹–‰Â
							; BIT3    : 0=ÏÙÁÌßÛ¾¯»Š„ž‚Ý‹ÖŽ~
							; BIT2    : 0=‘—MI—¹Š„ž‚Ý‹ÖŽ~
							; BIT1`0 : 0=“à•”¸Û¯¸^SCK“üo—Í
	MOV.B	#H'50,R0
	MOV.B	R0,@R1


;2009/03/19
	MOV.L	#_SCPDR,R1			; ‚r‚bƒ|[ƒgƒf[ƒ^ƒŒƒWƒXƒ^
	MOV.B	#H'03,R0			; o—Íƒ|[ƒg0(TXD)‚Í‰Šú’luHighv, RTS‚ÍuHighv
	MOV.B	R0,@R1



;*****	DPRAMŠ„ž‚Ý‰Šú¸Ø± *****
	MOV.L	#_CPUA_WR_CPUB_RD,R1
	MOV.W	@R1,R0					; DPRAM INT CLEAR


;	--- 2007-01-16 V05-S05a~:D/AºÝÊÞ°À@DA0(239Pin)‚ÆDA1(238pin)‚É2.5VŒÅ’è‚Åo—Í-----------
;	--- A/DºÝÊÞ°À‚ÌŠî€“dŒ¹‚Æ‚·‚é.ŽÀÛ‚É‚ÍDA0‚ð‘ÎÛ‚Æ‚·‚é
	MOV.L	#_DADR0,R1		;DA0
	MOV.W	#D'195,R0		;
	MOV.B	R0,@R1			;2.5V=3.3V*194D/255 or 2.5V=3.3V*193D/256 

	MOV.L	#_DADR1,R1		;DA1
	MOV.W	#D'195,R0		;
	MOV.B	R0,@R1			;2.5V=3.3V*194D/255 or 2.5V=3.3V*193D/256 

	MOV.L	#_DACR1,R1
	MOV.B	#B'00011111+BIT6,R0	;BIT7,BIT6,BIT5=0,1,0(DA1(0),DA0(1),“Æ—§Žž=0)
	MOV.B	R0,@R1			;
;	------- ENB -------------

	MOV.L	#_DADR0,R1		;DA0
	MOV.W	#D'195,R0		;
	MOV.B	R0,@R1			;2.5V=3.3V*194D/255 or 2.5V=3.3V*193D/256 

	MOV.L	#_DADR1,R1		;DA1
	MOV.W	#D'195,R0		;
	MOV.B	R0,@R1			;2.5V=3.3V*194D/255 or 2.5V=3.3V*193D/256 


	SUB_END
	M_RTS


	.SECTION	Pstart1,CODE			;
;******************************************
;***					***
;***	‚r‚g‚SƒLƒƒƒbƒVƒ…—LŒø	 	***
;***					***
;******************************************
	.export		_CASH_ENB
_CASH_ENB:
	SUB_START

	MOV.L	#_CCR,R1
	MOV.L	@R1,R2
	MOV.L	#BIT0,R0		; BIT0:
	OR	R2,R0
	MOV.L	R0,@R1

	SUB_END
	M_RTS


	.SECTION	Pstart1,CODE			;
;******************************************
;***					***
;***	‚oƒvƒƒOƒ‰ƒ€ 			***
;***	‚o -> ‚o‚q‚`‚l			***
;***					***
;******************************************
	.IMPORT		__P_BGN
	.IMPORT		__PRAM_BGN
	.IMPORT		__P_END
	.export		_P_TO_PRAM_COPY
_P_TO_PRAM_COPY:
	SUB_START

	MOV.L	#__P_BGN,R0
	MOV.L	@R0,R5				;DATA SORCE
	MOV.L	#__PRAM_BGN,R0
	MOV.L	@R0,R6				;DATA DIST
	MOV.L	#__P_END,R0
	MOV.L	@R0,R4				;
	SUB	R5,R4				;
	SHLR	R4				;

_PTRC_LOOP:
	CMP/PL	R4
	BF	_PTRC_LOOP_END			;ZERO or MINS THEN EXIT

	MOV.W	@R5+,R0		;
	MOV.W	R0,@R6		;
	ADD	#2,R6		;
	ADD	#-1,R4	;
	_WDT_CLR
	M_BRA	_PTRC_LOOP	;

_PTRC_LOOP_END:
	SUB_END
	M_RTS


	.SECTION	Pstart1,CODE			;
;******************************************
;***					***
;***	‚ocall -> ‚ocall‚q‚`‚l		***
;***					***
;******************************************
	.IMPORT		__Pcall_BGN
	.IMPORT		__PcallRAM_BGN
	.IMPORT		__Pcall_END
	.EXPORT		_PC_TO_PCRAM_COPY
_PC_TO_PCRAM_COPY:
	SUB_START

	MOV.L	#__Pcall_BGN,R0
	MOV.L	@R0,R5				;DATA SORCE
	MOV.L	#__PcallRAM_BGN,R0
	MOV.L	@R0,R6				;DATA DIST
	MOV.L	#__Pcall_END,R0
	MOV.L	@R0,R4				;
	SUB	R5,R4				;
	SHLR	R4				;

_PCTRC_LOOP:
	CMP/PL	R4
	BF	_PCTRC_LOOP_END			;ZERO or MINS THEN EXIT

	MOV.W	@R5+,R0		;
	MOV.W	R0,@R6		;
	ADD	#2,R6		;
	ADD	#-1,R4	;
	_WDT_CLR
	M_BRA	_PCTRC_LOOP	;

_PCTRC_LOOP_END:
	SUB_END
	M_RTS


	.SECTION	Pstart1,CODE			;
;******************************************
;***					***
;***	PHiROM -> PHiRAM	V06b	***
;***					***
;******************************************
	.IMPORT		__PHiROM_BGN
	.IMPORT		__PHiRAM_BGN
	.IMPORT		__PHiROM_END
	.EXPORT		_PH_TO_PHRAM_COPY
_PH_TO_PHRAM_COPY:
	SUB_START

	MOV.L	#__PHiROM_BGN,R0
	MOV.L	@R0,R5				;DATA SORCE
	MOV.L	#__PHiRAM_BGN,R0
	MOV.L	@R0,R6				;DATA DIST
	MOV.L	#__PHiROM_END,R0
	MOV.L	@R0,R4				;
	SUB	R5,R4				;
	SHLR	R4				;

_PHTRC_LOOP:
	CMP/PL	R4
	BF	_PHTRC_LOOP_END			;ZERO or MINS THEN EXIT

	MOV.W	@R5+,R0		;
	MOV.W	R0,@R6		;
	ADD	#2,R6		;
	ADD	#-1,R4	;
	_WDT_CLR
	M_BRA	_PHTRC_LOOP	;

_PHTRC_LOOP_END:
	SUB_END
	M_RTS


	.end
