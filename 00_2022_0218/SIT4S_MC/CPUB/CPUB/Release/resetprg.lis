*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE     1
PROGRAM NAME =

    1                               1     ;------------------------------------------------------------------------
    2                               2     ;                                                                       |
    3                               3     ;   FILE        :resetprg.src                                           |
    4                               4     ;   DATE        :Sun, Jul 16, 2006                                      |
    5                               5     ;   DESCRIPTION :Reset Program                                          |
    6                               6     ;   CPU TYPE    :Other                                                  |
    7                               7     ;                                                                       |
    8                               8     ;   This file is generated by Hitachi Project Generator (Ver.1.1).      |
    9                               9     ;                                                                       |
   10                              10     ;------------------------------------------------------------------------
   11                              11             .include        "vect.inc"
   12                               1 I1  ;------------------------------------------------------------------------
   13                               2 I1  ;                                                                       |
   14                               3 I1  ;   FILE        :vect.inc                                               |
   15                               4 I1  ;   DATE        :Fri, Nov 22, 2013                                      |
   16                               5 I1  ;   DESCRIPTION :Definition of Vector                                   |
   17                               6 I1  ;   CPU TYPE    :SH7727                                                 |
   18                               7 I1  ;                                                                       |
   19                               8 I1  ;   This file is generated by Renesas Project Generator (Ver.4.19).     |
   20                               9 I1  ;   NOTE:THIS IS A TYPICAL EXAMPLE.                                     |
   21                              10 I1  ;------------------------------------------------------------------------
   22                              11 I1  
   23                              12 I1  
   24                              13 I1  ;;SR_Init:      .equ    B'01100000000000000000000011110000
   25          40000010            14 I1  SR_Init:        .equ    B'01000000000000000000000000010000      ;// 全割込み許可
   26          400000F0            15 I1  SR_Init_DI:     .equ    B'01000000000000000000000011110000      ;// 全割込み禁止
   27          400000D0            16 I1  SR_Init_SCIEI   .equ    B'01000000000000000000000011010000      ;// ｲﾆｼｬﾙ時のﾊﾞｰｼﾞｮﾝUP待ち
                                          時(SCI(E)だけ許可)
   28                              17 I1  
   29                              18 I1  
   30                              19 I1  ;<<VECTOR DATA START (POWER ON RESET)>>
   31                              20 I1          ;H'000 Power On Reset (H-UDI RESET)
   32                              21 I1          .global _PowerON_Reset
                                          
   33                              22 I1  ;<<VECTOR DATA END (POWER ON RESET)>>
   34                              23 I1  ;<<VECTOR DATA START (MANUAL RESET)>>
   35                              24 I1          ;H'020 Manual Reset
   36                              25 I1          .global _Manual_Reset
                                          
   37                              26 I1  ;<<VECTOR DATA END (MANUAL RESET)>>
   38                              27 I1          ;H'040 TLB miss/invalid (load)
   39                              28 I1          .global     _INT_TLBMiss_Load
   40                              29 I1          ;H'060 TLB miss/invalid (store)
   41                              30 I1          .global     _INT_TLBMiss_Store
   42                              31 I1          ;H'070 TBL exception/CPU Address error in repeat loop
   43                              32 I1          .global     _INT_TLBCPU_ADERR
   44                              33 I1          ;H'080 Initial page write
   45                              34 I1          .global     _INT_TLBInitial_Page
   46                              35 I1          ;H'0A0 TLB protect (load)
   47                              36 I1          .global     _INT_TLBProtect_Load
   48                              37 I1          ;H'0C0 TLB protect (store)
   49                              38 I1          .global     _INT_TLBProtect_Store
   50                              39 I1          ;H'0D0 TLB protect in repeat loop
   51                              40 I1          .global     _INT_TLBProtect_Loop
   52                              41 I1          ;H'0E0 Address error (load)
   53                              42 I1          .global     _INT_Address_load
   54                              43 I1          ;H'100 Address error (store)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE     2
PROGRAM NAME =

   55                              44 I1          .global     _INT_Address_store
   56                              45 I1          ;H'120 Reserved
   57                              46 I1          .global     _INT_Reserved1
   58                              47 I1          ;H'140 Reserved
   59                              48 I1          .global     _INT_Reserved2
   60                              49 I1          ;H'160 TRAPA
   61                              50 I1          .global     _INT_TRAPA
   62                              51 I1          ;H'180 Illegal code
   63                              52 I1          .global     _INT_Illegal_code
   64                              53 I1          ;H'1A0 Illegal slot
   65                              54 I1          .global     _INT_Illegal_slot
   66                              55 I1          ;H'1C0 Nonmaskable interrupt
   67                              56 I1          .global     _INT_NMI
   68                              57 I1          ;H'1E0 User breakpoint trap
   69                              58 I1          .global     _INT_User_Break
   70                              59 I1          ;H'200 External hardware interrupt
   71                              60 I1          .global     _INT_Extern_0000
   72                              61 I1          ;H'220 External hardware interrupt
   73                              62 I1          .global     _INT_Extern_0001
   74                              63 I1          ;H'240 External hardware interrupt
   75                              64 I1          .global     _INT_Extern_0010
   76                              65 I1          ;H'260 External hardware interrupt
   77                              66 I1          .global     _INT_Extern_0011
   78                              67 I1          ;H'280 External hardware interrupt
   79                              68 I1          .global     _INT_Extern_0100
   80                              69 I1          ;H'2A0 External hardware interrupt
   81                              70 I1          .global     _INT_Extern_0101
   82                              71 I1          ;H'2C0 External hardware interrupt
   83                              72 I1          .global     _INT_Extern_0110
   84                              73 I1          ;H'2E0 External hardware interrupt
   85                              74 I1          .global     _INT_Extern_0111
   86                              75 I1          ;H'300 External hardware interrupt
   87                              76 I1          .global     _INT_Extern_1000
   88                              77 I1          ;H'320 External hardware interrupt
   89                              78 I1          .global     _INT_Extern_1001
   90                              79 I1          ;H'340 External hardware interrupt
   91                              80 I1          .global     _INT_Extern_1010
   92                              81 I1          ;H'360 External hardware interrupt
   93                              82 I1          .global     _INT_Extern_1011
   94                              83 I1          ;H'380 External hardware interrupt
   95                              84 I1          .global     _INT_Extern_1100
   96                              85 I1          ;H'3A0 External hardware interrupt
   97                              86 I1          .global     _INT_Extern_1101
   98                              87 I1          ;H'3C0 External hardware interrupt
   99                              88 I1          .global     _INT_Extern_1110
  100                              89 I1          ;H'3E0 Reserved
  101                              90 I1          .global     _INT_Reserved3E0
  102                              91 I1          ;H'400 TMU TUNI0
  103                              92 I1          .global     _INT_TMU_TUNI0
  104                              93 I1          ;H'420 TMU TUNI1
  105                              94 I1          .global     _INT_TMU_TUNI1
  106                              95 I1          ;H'440 TMU TUNI2
  107                              96 I1          .global     _INT_TMU_TUNI2
  108                              97 I1          ;H'460 TMU TICPI2
  109                              98 I1          .global     _INT_TMU_TICPI2
  110                              99 I1          ;H'480 RTC ATI
  111                             100 I1          .global     _INT_RTC_ATI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE     3
PROGRAM NAME =

  112                             101 I1          ;H'4A0 RTC PRI
  113                             102 I1          .global     _INT_RTC_PRI
  114                             103 I1          ;H'4C0 RTC CUI
  115                             104 I1          .global     _INT_RTC_CUI
  116                             105 I1          ;H'4E0 SCI ERI
  117                             106 I1          .global     _INT_SCI_ERI
  118                             107 I1          ;H'500 SCI RXI
  119                             108 I1          .global     _INT_SCI_RXI
  120                             109 I1          ;H'520 SCI TXI
  121                             110 I1          .global     _INT_SCI_TXI
  122                             111 I1          ;H'540 SCI TEI
  123                             112 I1          .global     _INT_SCI_TEI
  124                             113 I1          ;H'560 CPG ITI
  125                             114 I1          .global     _INT_CPG_ITI
  126                             115 I1          ;H'580 BSC RCMI
  127                             116 I1          .global     _INT_BSC_RCMI
  128                             117 I1          ;H'5A0 BSC ROVI
  129                             118 I1          .global     _INT_BSC_ROVI
  130                             119 I1          ;H'5C0 Reserved
  131                             120 I1          .global     _INT_Reserved5C0
  132                             121 I1          ;H'5E0 H-UDI
  133                             122 I1          .global     _INT_H_UDI
  134                             123 I1          ;H'600 IRQ0
  135                             124 I1          .global     _INT_IRQ0
  136                             125 I1          ;H'620 IRQ1
  137                             126 I1          .global     _INT_IRQ1
  138                             127 I1          ;H'640 IRQ2
  139                             128 I1          .global     _INT_IRQ2
  140                             129 I1          ;H'660 IRQ3
  141                             130 I1          .global     _INT_IRQ3
  142                             131 I1          ;H'680 IRQ4
  143                             132 I1          .global     _INT_IRQ4
  144                             133 I1          ;H'6A0 IRQ5
  145                             134 I1          .global     _INT_IRQ5
  146                             135 I1          ;H'6C0 Reserved
  147                             136 I1          .global     _INT_Reserved6C0
  148                             137 I1          ;H'6E0 Reserved
  149                             138 I1          .global     _INT_Reserved6E0
  150                             139 I1          ;H'700 PINT0_7
  151                             140 I1          .global     _INT_PINT0_7
  152                             141 I1          ;H'720 PINT8_15
  153                             142 I1          .global     _INT_PINT8_15
  154                             143 I1          ;H'740 Reserved
  155                             144 I1          .global     _INT_Reserved740
  156                             145 I1          ;H'760 Reserved
  157                             146 I1          .global     _INT_Reserved760
  158                             147 I1          ;H'780 Reserved
  159                             148 I1          .global     _INT_Reserved780
  160                             149 I1          ;H'7A0 Reserved
  161                             150 I1          .global     _INT_Reserved7A0
  162                             151 I1          ;H'7C0 Reserved
  163                             152 I1          .global     _INT_Reserved7C0
  164                             153 I1          ;H'7E0 Reserved
  165                             154 I1          .global     _INT_Reserved7E0
  166                             155 I1          ;H'800 DMAC DEI0
  167                             156 I1          .global     _INT_DMAC_DEI0
  168                             157 I1          ;H'820 DMAC DEI1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE     4
PROGRAM NAME =

  169                             158 I1          .global     _INT_DMAC_DEI1
  170                             159 I1          ;H'840 DMAC DEI2
  171                             160 I1          .global     _INT_DMAC_DEI2
  172                             161 I1          ;H'860 DMAC DEI3
  173                             162 I1          .global     _INT_DMAC_DEI3
  174                             163 I1          ;H'880 Reserved
  175                             164 I1          .global     _INT_Reserved880
  176                             165 I1          ;H'8A0 Reserved
  177                             166 I1          .global     _INT_Reserved8A0
  178                             167 I1          ;H'8C0 Reserved
  179                             168 I1          .global     _INT_Reserved8C0
  180                             169 I1          ;H'8E0 Reserved
  181                             170 I1          .global     _INT_Reserved8E0
  182                             171 I1          ;H'900 SCIF ERI2
  183                             172 I1          .global     _INT_SCIF_ERI2
  184                             173 I1          ;H'920 SCIF RXI2
  185                             174 I1          .global     _INT_SCIF_RXI2
  186                             175 I1          ;H'940 SCIF BRI2
  187                             176 I1          .global     _INT_SCIF_BRI2
  188                             177 I1          ;H'960 SCIF TXI2
  189                             178 I1          .global     _INT_SCIF_TXI2
  190                             179 I1          ;H'980 ADC ADI
  191                             180 I1          .global     _INT_ADC_ADI
  192                             181 I1          ;H'9A0 LCDC LCDCI
  193                             182 I1          .global     _INT_LCDC_LCDCI
  194                             183 I1          ;H'9C0 PCC0
  195                             184 I1          .global     _INT_PCC0
  196                             185 I1          ;H'9E0 Reserved
  197                             186 I1          .global     _INT_Reserved9E0
  198                             187 I1          ;H'A00 USBH USBHI
  199                             188 I1          .global     _INT_USBH_USBHI
  200                             189 I1          ;H'A20 USBF USBFI0
  201                             190 I1          .global     _INT_USBF_USBFI0
  202                             191 I1          ;H'A40 USBF USBFI1
  203                             192 I1          .global     _INT_USBF_USBFI1
  204                             193 I1          ;H'A60 AFEIF AFEIFI
  205                             194 I1          .global     _INT_AFEIF_AFEIFI
  206                             195 I1          ;H'A80 Reserved
  207                             196 I1          .global     _INT_ReservedA80
  208                             197 I1          ;H'AA0 Reserved
  209                             198 I1          .global     _INT_ReservedAA0
  210                             199 I1          ;H'AC0 Reserved
  211                             200 I1          .global     _INT_ReservedAC0
  212                             201 I1          ;H'AE0 Reserved
  213                             202 I1          .global     _INT_ReservedAE0
  214                             203 I1          ;H'B00 SIOF SIFERI
  215                             204 I1          .global     _INT_SIOF_SIFERI
  216                             205 I1          ;H'B20 SIOF SIFTXI
  217                             206 I1          .global     _INT_SIOF_SIFTXI
  218                             207 I1          ;H'B40 SIOF SIFRXI
  219                             208 I1          .global     _INT_SIOF_SIFRXI
  220                             209 I1          ;H'B60 SIOF SIFCCI
  221                             210 I1          .global     _INT_SIOF_SIFCCI
  222                             211 I1          ; dummy
  223                             212 I1          .global     _DUMMY
  224                             213 I1  
  225                              12             .include        "cm_equ1.equ"
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE     5
PROGRAM NAME =

  226                               1 I1  ;       ***************************
  227                               2 I1  ;       ***     CONST           ***
  228                               3 I1  ;       ***************************
  229                               4 I1  
  230                               5 I1  ;       *****   ビット   *****
  231          00000001             6 I1  BIT0            .EQU    B'00000001      ;01H
  232          00000002             7 I1  BIT1            .EQU    B'00000010      ;02H
  233          00000004             8 I1  BIT2            .EQU    B'00000100      ;04H
  234          00000008             9 I1  BIT3            .EQU    B'00001000      ;08H
  235          00000010            10 I1  BIT4            .EQU    B'00010000      ;10H
  236          00000020            11 I1  BIT5            .EQU    B'00100000      ;20H
  237          00000040            12 I1  BIT6            .EQU    B'01000000      ;40H
  238          00000080            13 I1  BIT7            .EQU    B'10000000      ;80H
  239          00000100            14 I1  BIT8            .EQU    B'0000000100000000      ;0100H
  240          00000200            15 I1  BIT9            .EQU    B'0000001000000000      ;0200H
  241          00000400            16 I1  BIT10           .EQU    B'0000010000000000      ;0400H
  242          00000800            17 I1  BIT11           .EQU    B'0000100000000000      ;0800H
  243          00001000            18 I1  BIT12           .EQU    B'0001000000000000      ;1000H
  244          00002000            19 I1  BIT13           .EQU    B'0010000000000000      ;2000H
  245          00004000            20 I1  BIT14           .EQU    B'0100000000000000      ;4000H
  246          00008000            21 I1  BIT15           .EQU    B'1000000000000000      ;8000H
  247          00010000            22 I1  BIT16           .EQU    H'00010000
  248          00020000            23 I1  BIT17           .EQU    H'00020000
  249          00040000            24 I1  BIT18           .EQU    H'00040000
  250          00080000            25 I1  BIT19           .EQU    H'00080000
  251          00100000            26 I1  BIT20           .EQU    H'00100000
  252          00200000            27 I1  BIT21           .EQU    H'00200000
  253          00400000            28 I1  BIT22           .EQU    H'00400000
  254          00800000            29 I1  BIT23           .EQU    H'00800000
  255          01000000            30 I1  BIT24           .EQU    H'01000000
  256          02000000            31 I1  BIT25           .EQU    H'02000000
  257          04000000            32 I1  BIT26           .EQU    H'04000000
  258          08000000            33 I1  BIT27           .EQU    H'08000000
  259          10000000            34 I1  BIT28           .EQU    H'10000000
  260          20000000            35 I1  BIT29           .EQU    H'20000000
  261          40000000            36 I1  BIT30           .EQU    H'40000000
  262          80000000            37 I1  BIT31           .EQU    H'80000000
  263                              38 I1  
  264                              39 I1  ;       *****   ビット   *****
  265          000000FE            40 I1  NBIT0           .EQU    B'11111110              ;NOT 01H
  266          000000FD            41 I1  NBIT1           .EQU    B'11111101              ;02H
  267          000000FB            42 I1  NBIT2           .EQU    B'11111011              ;04H
  268          000000F7            43 I1  NBIT3           .EQU    B'11110111              ;08H
  269          000000EF            44 I1  NBIT4           .EQU    B'11101111              ;10H
  270          000000DF            45 I1  NBIT5           .EQU    B'11011111              ;20H
  271          000000BF            46 I1  NBIT6           .EQU    B'10111111              ;40H
  272          0000007F            47 I1  NBIT7           .EQU    B'01111111              ;80H
  273                              48 I1  
  274          0000FEFF            49 I1  NBIT8           .EQU    B'1111111011111111      ;NOT 01H
  275          0000FDFF            50 I1  NBIT9           .EQU    B'1111110111111111      ;02H
  276          0000FBFF            51 I1  NBIT10          .EQU    B'1111101111111111      ;04H
  277          0000F7FF            52 I1  NBIT11          .EQU    B'1111011111111111      ;08H
  278          0000EFFF            53 I1  NBIT12          .EQU    B'1110111111111111      ;10H
  279          0000DFFF            54 I1  NBIT13          .EQU    B'1101111111111111      ;20H
  280          0000BFFF            55 I1  NBIT14          .EQU    B'1011111111111111      ;40H
  281          00007FFF            56 I1  NBIT15          .EQU    B'0111111111111111      ;80H
  282                              57 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE     6
PROGRAM NAME =

  283                              58 I1  ;       **** ビット操作命令 *****
  284          00000000            59 I1  XBIT0           .EQU    D'0             ;
  285          00000001            60 I1  XBIT1           .EQU    D'1             ;
  286          00000002            61 I1  XBIT2           .EQU    D'2             ;
  287          00000003            62 I1  XBIT3           .EQU    D'3             ;
  288          00000004            63 I1  XBIT4           .EQU    D'4             ;
  289          00000005            64 I1  XBIT5           .EQU    D'5             ;
  290          00000006            65 I1  XBIT6           .EQU    D'6             ;
  291          00000007            66 I1  XBIT7           .EQU    D'7             ;
  292                              67 I1  
  293                              68 I1  ;       *******************************************
  294                              69 I1  ;       ***             sh2/sh3                 ***
  295                              70 I1  ;       *******************************************
  296                              71 I1  ;       ================ WORD ｱｸｾｽ//ﾊﾞｲﾄｱｸｾｽ切替 =========
  297          00000001            72 I1  L_BYTE          .EQU    1               ;
  298          00000000            73 I1  H_BYTE          .EQU    0               ;
  299                              74 I1  
  300                              75 I1  ;/*     =================================       */
  301                              76 I1  
  302                              77 I1  _CMPILE_YES     .DEFINE         "1"
  303                              78 I1  _CMPILE_NO      .DEFINE         "0"
  304                              79 I1  
  305                              80 I1  _Debug_YES      .DEFINE         "1"     ;"_Debug_NO"
  306                              81 I1  _Debug_NO       .DEFINE         "0"     ;yes then abs //no then inc "_Debug_NO"
  307                              82 I1  
  308                              83 I1  
  309                              84 I1  ;       ***************************************************
  310                              85 I1  ;       ***                                             ***
  311                              86 I1  ;       ***             ﾊﾞｰｼﾞｮﾝUP完了ﾁｪｯｸﾃﾞｰﾀ           ***
  312                              87 I1  ;       ***                                             ***
  313                              88 I1  ;       ***************************************************
  314          11AB3739            89 I1  _VUPCHECK_EQU           .EQU    D'0296433465
  315                              90 I1  
  316                              91 I1  ;/*     ***********************************     */
  317                              92 I1  ;/*     ***                             ***     */
  318                              93 I1  ;/*     ***     ROM SUM_CODE            ***     */
  319                              94 I1  ;/*     ***                             ***     */
  320                              95 I1  ;/*     ***********************************     */
  321          5AA53CC3            96 I1  _DUMMY_SUM_CODE         .EQU    H'5AA53CC3
  322                              97 I1  
  323                              98 I1  
  324                              99 I1  
  325                             100 I1  ;       *******************************************
  326                             101 I1  ;       ***     2003-07-01 C/B BAKUP            ***
  327                             102 I1  ;       *******************************************
  328          5AA51234           103 I1  _CB_BAK_SUM_COD1        .EQU    H'5AA51234
  329          A55A4321           104 I1  _CB_BAK_SUM_COD2        .EQU    H'A55A4321
  330          00005678           105 I1  _CB_BAKUP_CMD1          .EQU    H'5678  ;BAKUP
  331          00001234           106 I1  _CB_BAKUP_CMD2          .EQU    H'1234  ;1BLK MOVE
  332                             107 I1  
  333          00000040           108 I1  _CB_STS_BUF_1BLK        .EQU    64                                      ;1BLK=64byte
  334          00000008           109 I1  _CB_STS_BUF_BLKMAX      .EQU    8                                       ;8BLK
  335          00000200           110 I1  _CB_STS_BUF_MAX         .EQU    _CB_STS_BUF_1BLK*_CB_STS_BUF_BLKMAX     ;512byte 64*8
  336                             111 I1  
  337                             112 I1  
  338                             113 I1  ;;_CB_TRD_DT_LNG                .EQU    4               ;DATA LENGTH
  339          00000004           114 I1  _CB_TRD_DP_CH                   .EQU    4               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE     7
PROGRAM NAME =

  340                             115 I1  
  341                             116 I1  
  342          00000080           117 I1  _CB_TRD_SMP_CNT         .EQU    128             ;個数
  343          00000060           118 I1  _CB_TRD_BEFORE          .EQU    96              ;96点が前
  344          00000800           119 I1  _CB_TRD_BUF_MAX         .EQU    4*4*128         ;2048byte 4byte*4ch*128個
  345                             120 I1  
  346          00000008           121 I1  _CB_TRD_DP_1CNT         .EQU    8               ;8個 128/16
  347          00000080           122 I1  _CB_TRD_BUF_DP_MAX      .EQU    4*4*8           ;128byte 4byte*4CH*8個
  348                             123 I1  
  349                             124 I1  ;       === 2003-07-14 ===
  350                             125 I1  ;;;_TRD_WORK_1CH_BUF    .EQU    _CB_TRD_BUF_MAX ;1CH で2048ﾊﾞｲﾄまで確保
  351                             126 I1  
  352                             127 I1  ;       ==== 2004-01-27 ===
  353                             128 I1  ;;2018-11-11 _CB_ERR_INFO_MEM   .EQU    64              ;64byte
  354          00000080           129 I1  _CB_ERR_INFO_MEM        .EQU    128             ;2018-11-11 128byte
  355          00000008           130 I1  _CB_ERR_INFO_PSIZE      .EQU    8               ;8 PAGE 2018-11-11
  356                             131 I1  
  357                             132 I1  ;       ***************************
  358                             133 I1  ;       ***     2004-02-19      ***
  359                             134 I1  ;       ***************************
  360                             135 I1  ;       製品出荷時はYESにすること
  361                             136 I1  ;       不具合再現試験用にNOにする
  362                             137 I1  ;
  363                             138 I1  ;;;;_PLSI_WR_WT_CHG             .DEFINE         "0"     ;YES:WR WAIT 4CLK(NO 3CLK)
  364                             139 I1  
  365                             140 I1  ;       ===== 出荷YES =====
  366                             141 I1  _PLSI_WR_WT_CHG         .DEFINE         "1"     ;YES:WR WAIT 4CLK(NO 3CLK)
  367                             142 I1  _PLSI_WRITE_WORD        .DEFINE         "1"     ;YES:LSI WORD(NO LONG)
  368                             143 I1  _PLSI_ERR_CHK1          .DEFINE         "1"     ;YES:位置決めLSI異常検知有効
  369                             144 I1  _PLSI_ERR_CHK2          .DEFINE         "1"     ;YES:位置決め演算異常検知有効
  370                             145 I1  _PLSI_ERR_STOP1         .DEFINE         "1"     ;YES:新規異常検知有効(OVER RUN)
  371                             146 I1  
  372                             147 I1  
  373                             148 I1  ;       ====    出荷時YES 2004-03-29====
  374                             149 I1  _REST_PLS_MODFY         .DEFINE         "1"     ;YES:CPUAに残ﾊﾟﾙｽをあわせる,異常
  375                             150 I1  ;;;;;_MOTION_ERR_CPU_B  .DEFINE         "1"     ;YES:CPU-Bのﾓｰｼｮﾝ異常関連(1対1にする)
  376                             151 I1  
  377                             152 I1  
  378                             153 I1  
  379                             154 I1  ;       ====    出荷時必ず・絶対 "NO" 2004-04-14(絶対NOで出荷)====
  380                             155 I1  _CPU_A_ERR_STOP         .DEFINE         "0"     ;YES:CPU-A異常検出をやめる。Bのﾃﾞﾊﾞｯｸ用
  381                             156 I1  ;;;;;0          .DEFINE         "1"     ;YES:CPU-A異常検出をやめる。Bのﾃﾞﾊﾞｯｸ用
  382                             157 I1  
  383                             158 I1  
  384                             159 I1  ;       ====    出荷時必ず・絶対 "NO" 2004-12-20(絶対NOで出荷)====
  385                             160 I1  _CPU_B_ERR_STOP         .DEFINE         "0"     ;YES:CPU-B異常検出をやめる。Aのﾃﾞﾊﾞｯｸ用
  386                             161 I1  _CPU_B_CTRL_STOP        .DEFINE         "0"     ;YES:CPU-B制御をやめる。Aのﾃﾞﾊﾞｯｸ用
  387                             162 I1  
  388                             163 I1  ;       ==== どうしても回避できない異常====
  389                             164 I1  _CPUAB_ERR_STOP_CNT     .DEFINE         "1"     ;
  390                             165 I1  
  391                             166 I1  ;       ***************************
  392                             167 I1  ;       ***                     ***
  393                             168 I1  ;       ***     2006-09-19      ***
  394                             169 I1  ;       ***                     ***
  395                             170 I1  ;       ***************************
  396                             171 I1  _LSI_SOFT_CAL_ENB       .DEFINE         "1"
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE     8
PROGRAM NAME =

  397                             172 I1  ;;1     .DEFINE         "0"
  398                             173 I1  
  399                             174 I1  
  400                             175 I1  
  401                             176 I1  ;       ***************************
  402                             177 I1  ;       ***                     ***
  403                             178 I1  ;       ***     2008-09-16      ***
  404                             179 I1  ;       ***                     ***
  405                             180 I1  ;       ***************************
  406                             181 I1  _EMG_MINI               .DEFINE         "1"     ;YES:EMG処理の簡略化
  407                             182 I1  
  408                             183 I1  
  409                             184 I1  ;       ***************************
  410                             185 I1  ;       ***                     ***
  411                             186 I1  ;       ***                     ***
  412                             187 I1  ;       ***                     ***
  413                             188 I1  ;       ***************************
  414                             189 I1  _CPUB_TBLCURV           .DEFINE         "1"     ;YES:曲線ﾃｰﾌﾞﾙ(CPUAと同じ) NO:直線タイプ
  415                             190 I1  ;;1             .DEFINE         "0"     ;YES:曲線ﾃｰﾌﾞﾙ(CPUAと同じ) NO:直線タイプ
  416                             191 I1  
  417                             192 I1  
  418                             193 I1  
  419                             194 I1  
  420                             195 I1  ;       ***************************
  421                             196 I1  ;       ***                     ***
  422                             197 I1  ;       ***     2013-12-05      ***
  423                             198 I1  ;       ***                     ***
  424                             199 I1  ;       ***************************
  425                             200 I1  _MC_FUNC1_NO            .DEFINE         "0"     ;NO!:異常等の機能をはずす
  426                             201 I1  
  427                             202 I1  
  428          00009876           203 I1  _START_REQ_COD          .EQU    H'9876  ;CPUD=>CPUA
  429          00004321           204 I1  _START_ACK_COD          .EQU    H'4321  ;
  430                             205 I1  
  431                             206 I1  
  432                             207 I1  
  433                             208 I1  
  434                             209 I1  ;       ***************************
  435                             210 I1  ;       ***                     ***
  436                             211 I1  ;       ***     2014-03-20      ***
  437                             212 I1  ;       ***                     ***
  438                             213 I1  ;       ***************************
  439                             214 I1  _KJYU_CLS               .DEFINE         "1"     ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
  440                             215 I1  
  441                             216 I1  
  442                             217 I1  
  443                             218 I1  
  444                             219 I1  
  445                             220 I1  
  446                             221 I1  
  447                             222 I1  
  448                             223 I1  
  449                             224 I1  ;//     ***************************
  450                             225 I1  ;//     ***     2016-10-31      ***
  451                             226 I1  ;//     ***************************
  452                             227 I1  ;//     変更箇所確認用  CE2の2重回路対策の修正箇所のMCへの移植
  453                             228 I1  _PROC_CMPERR_CHG2016    .DEFINE         "1"
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE     9
PROGRAM NAME =

  454                             229 I1  
  455                             230 I1  ;//     ***********************************
  456                             231 I1  ;//     ***     2016-10-31(2016-07-28)  ***
  457                             232 I1  ;//     ***********************************
  458                             233 I1  ;       [行程異常検知による二重回路異常　早めの検知]
  459                             234 I1  ;;;_DEBUG_CMPERR_DEBUG  .DEFINE         "1"     ;出荷時は必ずNO!
  460                             235 I1  _DEBUG_CMPERR_DEBUG     .DEFINE         "0"     ;出荷時は必ずNO!
  461                             236 I1  
  462                             237 I1  ;//     ***********************************
  463                             238 I1  ;//     ***     2016-10-31(2016-07-28)  ***
  464                             239 I1  ;//     ***********************************
  465                             240 I1  ;;;_DEBUG_AUTO_START    .DEFINE         "1"     ;出荷時はできればnoとする
  466                             241 I1  _DEBUG_AUTO_START       .DEFINE         "0"     ;出荷時はできればnoとする
  467                             242 I1  
  468                             243 I1  ;//     ***************************
  469                             244 I1  ;//     ***     2015-07-08      ***
  470                             245 I1  ;//     ***************************
  471                             246 I1  ;;_DEBUG_SERVO_PLS_OFF  .DEFINE         "1"     ;出荷時は必ずNO!
  472                             247 I1  _DEBUG_SERVO_PLS_OFF    .DEFINE         "0"     ;出荷時は必ずNO!
  473                             248 I1  
  474                             249 I1  
  475                             250 I1  
  476                             251 I1  ;       ***************************************************
  477                             252 I1  ;       ***     出荷してはいけないデバック情報          ***
  478                             253 I1  ;       ***     バージョン表示をわざと変にする          ***
  479                             254 I1  ;       ***************************************************
  480                             255 I1  ;       MC:S01a ->X
  481                             256 I1  
  482                             257 I1   .AIF   0 EQ 1  ;出荷時は必ずNO!
  483                             258     _DEBUG_SET_ERR_VER      .DEFINE         "1"
  484                             259      .AELSE
  485                             260 C       .AIF        0 EQ 1  ;出荷時はできればno
  486                             261     _DEBUG_SET_ERR_VER      .DEFINE         "1"
  487                             262         .AELSE
  488                             263 C   _DEBUG_SET_ERR_VER      .DEFINE         "0"
  489                             264 C       .AENDI
  490                             265 C   
  491                             266 C   
  492                             267 I1   .AENDI
  493                              13             .INCLUDE        "shn_cmd1.MAC"          ;
  494                               1 I1  ;       ***********************************
  495                               2 I1  ;       ***     命令置換マクロ sh2/sh3  ***
  496                               3 I1  ;       ***********************************
  497                               4 I1  
  498                               5 I1  ;       ***********************************
  499                               6 I1  ;       ***     無条件ｼｮｰﾄJUMP          ***
  500                               7 I1  ;       ***********************************
  501                               8 I1          .MACRO  M_BRA   JMP_LABEL
  502                               9 I1          BRA     \JMP_LABEL
  503                              10 I1          NOP
  504                              11 I1          .ENDM
  505                              12 I1  
  506                              13 I1  ;       ***********************************
  507                              14 I1  ;       ***     無条件ｼｮｰﾄJUMP          ***
  508                              15 I1  ;       ***********************************
  509                              16 I1          .MACRO  X_BRA   JMP_LABEL
  510                              17 I1          BRA     \JMP_LABEL
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    10
PROGRAM NAME =

  511                              18 I1          .ENDM
  512                              19 I1  
  513                              20 I1  ;       ***********************************
  514                              21 I1  ;       ***     LONG JUMP               ***
  515                              22 I1  ;       ***********************************
  516                              23 I1          .MACRO  M_JMP   JMP_LABEL,WKREG
  517                              24 I1          MOV.L   \JMP_LABEL,\WKREG
  518                              25 I1          JMP     @\WKREG
  519                              26 I1          NOP
  520                              27 I1          .ENDM
  521                              28 I1  
  522                              29 I1          .MACRO  REG_JMP WKREG
  523                              30 I1          JMP     @\WKREG
  524                              31 I1          NOP
  525                              32 I1          .ENDM
  526                              33 I1  
  527                              34 I1  
  528                              35 I1  
  529                              36 I1  ;       ***************************
  530                              37 I1  ;       ***     JMP COMMAND     ***
  531                              38 I1  ;       ***************************
  532                              39 I1          .MACRO  JMP_LMEM MEM_ADR,WKREG1
  533                              40 I1          MOV.L   \MEM_ADR,\WKREG1                        ;
  534                              41 I1          JMP     @\WKREG1
  535                              42 I1          NOP
  536                              43 I1          .ENDM
  537                              44 I1  
  538                              45 I1  
  539                              46 I1  ;       ***************************
  540                              47 I1  ;       ***     PUSH REG        ***
  541                              48 I1  ;       ***************************
  542                              49 I1  ;       REG --->(R15)[STACK]
  543                              50 I1  ;                R15=R15+4
  544                              51 I1  
  545                              52 I1          .MACRO  PUSH_REG1       WKREG1
  546                              53 I1          MOV.L   \WKREG1,@-R15           ;PUSH=SP-4
  547                              54 I1                                          ;REG=>[SP]
  548                              55 I1                                          ;"-4" FF,FF,FF,FC
  549                              56 I1          .ENDM
  550                              57 I1  ;       ***************************
  551                              58 I1  ;       ***     POP REG         ***
  552                              59 I1  ;       ***************************
  553                              60 I1          .MACRO  POP_REG1        WKREG1
  554                              61 I1                                  ; RE"+4" 00,00,00,04
  555                              62 I1          MOV.L   @R15+,\WKREG1        ;
  556                              63 I1          .ENDM
  557                              64 I1  
  558                              65 I1  
  559                              66 I1  ;       ======= SYSTEM REGISTER :PR,MACL,MACH =====
  560                              67 I1  ;       ***************************
  561                              68 I1  ;       ***     PR-->STACK      ***
  562                              69 I1  ;       ***************************
  563                              70 I1          .MACRO  PUSH_PR
  564                              71 I1          STS.L   PR,@-R15
  565                              72 I1          .ENDM
  566                              73 I1  
  567                              74 I1  ;       ***************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    11
PROGRAM NAME =

  568                              75 I1  ;       ***     PR<--STACK      ***
  569                              76 I1  ;       ***************************
  570                              77 I1          .MACRO  POP_PR
  571                              78 I1          LDS.L   @R15+,PR
  572                              79 I1          .ENDM
  573                              80 I1  
  574                              81 I1  ;       ***************************
  575                              82 I1  ;       ***     PR-->STACK      ***
  576                              83 I1  ;       ***************************
  577                              84 I1          .MACRO  INT_PUSH_PR
  578                              85 I1          STS.L   PR,@-R15
  579                              86 I1          .ENDM
  580                              87 I1  
  581                              88 I1  ;       ***************************
  582                              89 I1  ;       ***     PR<--STACK      ***
  583                              90 I1  ;       ***************************
  584                              91 I1          .MACRO  INT_POP_PR
  585                              92 I1          LDS.L   @R15+,PR
  586                              93 I1          .ENDM
  587                              94 I1  
  588                              95 I1  ;       ***************************
  589                              96 I1  ;       ***     MACHL-->STACK   ***
  590                              97 I1  ;       ***************************
  591                              98 I1          .MACRO  PUSH_MACHL
  592                              99 I1          STS.L   MACH,@-R15
  593                             100 I1          STS.L   MACL,@-R15
  594                             101 I1          .ENDM
  595                             102 I1  
  596                             103 I1  ;       ***************************
  597                             104 I1  ;       ***     MACHL<--STACK   ***
  598                             105 I1  ;       ***************************
  599                             106 I1          .MACRO  POP_MACHL
  600                             107 I1          LDS.L   @R15+,MACL
  601                             108 I1          LDS.L   @R15+,MACH
  602                             109 I1          .ENDM
  603                             110 I1  
  604                             111 I1  
  605                             112 I1  ;       *******************************************
  606                             113 I1  ;       ***     PUSH,POP SYSTEM CTRL REG        ***
  607                             114 I1  ;       *******************************************
  608                             115 I1          .MACRO  PUSH_SYS_REG    WKREG
  609                             116 I1          STC.L   \WKREG,@-R15
  610                             117 I1          .ENDM
  611                             118 I1  
  612                             119 I1          .MACRO  POP_SYS_REG     WKREG
  613                             120 I1          LDC.L   @R15+,\WKREG
  614                             121 I1          .ENDM
  615                             122 I1  
  616                             123 I1  ;       ***********************************
  617                             124 I1  ;       ***     ｻﾌﾞﾙｰﾁﾝｽﾀｰﾄ             ***
  618                             125 I1  ;       ***********************************
  619                             126 I1          .MACRO  SUB_START
  620                             127 I1          STS.L   PR,@-R15                ;[必要]
  621                             128 I1  ;;;;;;; ADD     #-4,R15                 ;[不要?]
  622                             129 I1          .ENDM
  623                             130 I1  
  624                             131 I1  ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    12
PROGRAM NAME =

  625                             132 I1  ;       ***     ｻﾌﾞﾙｰﾁﾝEND              ***
  626                             133 I1  ;       ***********************************
  627                             134 I1          .MACRO  SUB_END                 ;
  628                             135 I1  ;;;;;;; ADD     #4,R15                  ;[不要?]
  629                             136 I1          LDS.L   @R15+,PR                ;[必要]
  630                             137 I1          .ENDM
  631                             138 I1  
  632                             139 I1  ;       ***********************************
  633                             140 I1  ;       ***     RET                     ***
  634                             141 I1  ;       ***********************************
  635                             142 I1          .MACRO  M_RTS
  636                             143 I1          RTS                             ;RTSの後ろの
  637                             144 I1          NOP                             ;@R15+,PRはﾀﾞﾒ
  638                             145 I1          .ENDM
  639                             146 I1  
  640                             147 I1  ;       *******************************************
  641                             148 I1  ;       ***     FAR CALL ASM-->C COMMAND        ***
  642                             149 I1  ;       *******************************************
  643                             150 I1          .MACRO  FAR_JSR MEM_ADR,WKREG1
  644                             151 I1          MOV.L   \MEM_ADR,\WKREG1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
  645                             152 I1          JSR     @\WKREG1                        ;
  646                             153 I1          NOP                                     ;
  647                             154 I1          .ENDM
  648                             155 I1  
  649                             156 I1          .MACRO  JSR_REG WKREG1
  650                             157 I1          JSR     @\WKREG1                        ;
  651                             158 I1          NOP                                     ;
  652                             159 I1          .ENDM
  653                             160 I1  
  654                             161 I1  ;       ***********************************
  655                             162 I1  ;       ***     NEAR CALL COMMAND       ***
  656                             163 I1  ;       ***********************************
  657                             164 I1          .MACRO  NEAR_BSR        CALL_LABEL              ;
  658                             165 I1          BSR     \CALL_LABEL                             ;
  659                             166 I1          NOP
  660                             167 I1          .ENDM
  661                             168 I1  
  662                             169 I1  ;       ***********************************
  663                             170 I1  ;       ***     割込RETUNR              ***
  664                             171 I1  ;       ***********************************
  665                             172 I1          .MACRO  M_RTE
  666                             173 I1          RTE
  667                             174 I1          NOP
  668                             175 I1          .ENDM
  669                             176 I1  
  670                             177 I1  
  671                             178 I1  
  672                             179 I1  
  673                             180 I1  ;       ***************************
  674                             181 I1  ;       ***     DI              ***
  675                             182 I1  ;       ***************************
  676                             183 I1  ;;;;使用禁止    .MACRO  DI_PUSH_SR      WK_REG
  677                             184 I1  ;;;;            MOV     #B'11110000,\WK_REG             ;
  678                             185 I1  ;;;;            EXTU.B  \WK_REG,\WK_REG                 ;0 CLR BIT15~BIT8
  679                             186 I1  ;;;;            STC.L   SR,@-R15                        ;PUSH SR
  680                             187 I1  ;;;;            LDC     \WK_REG,SR                      ;割込禁止（15）
  681                             188 I1  ;;;;            .ENDM
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    13
PROGRAM NAME =

  682                             189 I1  
  683                             190 I1  ;       ***************************
  684                             191 I1  ;       ***     EI              ***
  685                             192 I1  ;       ***************************
  686                             193 I1  ;;;;使用禁止    .MACRO  EI_POP_SR                       ;
  687                             194 I1  ;;;;            LDC.L   @R15+,SR                        ;POP SR
  688                             195 I1  ;;;;            .ENDM
  689                             196 I1  
  690                             197 I1  
  691                             198 I1  
  692                             199 I1  ;       *******************************************
  693                             200 I1  ;       ***     TST命令時のBT,BFの置き換え      ***
  694                             201 I1  ;       ******************************************
  695                             202 I1          .MACRO  TST_BIT_ON      JMP_LABEL
  696                             203 I1          BF      \JMP_LABEL
  697                             204 I1          .ENDM
  698                             205 I1  
  699                             206 I1          .MACRO  TST_BIT_OF      JMP_LABEL
  700                             207 I1          BT      \JMP_LABEL
  701                             208 I1          .ENDM
  702                             209 I1  
  703                             210 I1  ;       *******************************************
  704                             211 I1  ;       ***     TST命令時のBT,BFの置き換え      ***
  705                             212 I1  ;       *******************************************
  706                             213 I1          .MACRO  TST_BITON_DLY   JMP_LABEL
  707                             214 I1          BF/S    \JMP_LABEL
  708                             215 I1          .ENDM
  709                             216 I1  
  710                             217 I1          .MACRO  TST_BITOF_DLY   JMP_LABEL
  711                             218 I1          BT/S    \JMP_LABEL
  712                             219 I1          .ENDM
  713                             220 I1  
  714                             221 I1  ;       ***********************************
  715                             222 I1  ;       ***                             ***
  716                             223 I1  ;       ***     浮動小数点push/pop      ***
  717                             224 I1  ;       ***                             ***
  718                             225 I1  ;       ***                             ***
  719                             226 I1  ;       ***********************************
  720                             227 I1          .MACRO  PUSH_SYS_FPU
  721                             228 I1          STS.L   FPUL,@-R15
  722                             229 I1          STS.L   FPSCR,@-R15
  723                             230 I1          .ENDM
  724                             231 I1  
  725                             232 I1          .MACRO  POP_SYS_FPU
  726                             233 I1          LDS.L   @R15+,FPSCR
  727                             234 I1          LDS.L   @R15+,FPUL
  728                             235 I1          .ENDM
  729                             236 I1  
  730                             237 I1  
  731                             238 I1          .MACRO  PUSH_FPU_REG1 WKREG
  732                             239 I1          FMOV.S  \WKREG,@-R15
  733                             240 I1          .ENDM
  734                             241 I1  
  735                             242 I1          .MACRO  POP_FPU_REG1 WKREG
  736                             243 I1          FMOV.S  @R15+,\WKREG
  737                             244 I1          .ENDM
  738                             245 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    14
PROGRAM NAME =

  739                             246 I1          .MACRO  PUSH_FPU_ALL
  740                             247 I1                  PUSH_SYS_FPU            ;2001-07-08 koma add
  741                             248 I1                  PUSH_FPU_REG1 FR0       ;
  742                             249 I1                  PUSH_FPU_REG1 FR1       ;
  743                             250 I1                  PUSH_FPU_REG1 FR2       ;
  744                             251 I1                  PUSH_FPU_REG1 FR3       ;
  745                             252 I1                  PUSH_FPU_REG1 FR4       ;
  746                             253 I1          .ENDM
  747                             254 I1  
  748                             255 I1          .MACRO  POP_FPU_ALL
  749                             256 I1                  POP_FPU_REG1 FR4        ;2001-07-08 koma add
  750                             257 I1                  POP_FPU_REG1 FR3        ;
  751                             258 I1                  POP_FPU_REG1 FR2        ;
  752                             259 I1                  POP_FPU_REG1 FR1        ;
  753                             260 I1                  POP_FPU_REG1 FR0        ;
  754                             261 I1                  POP_SYS_FPU             ;
  755                             262 I1          .ENDM
  756                             263 I1  
  757                             264 I1  
  758                             265 I1  
  759                             266 I1  ;       ~~~~~~~~~~~~~~~~~~~~~~~~~~~
  760                             267 I1  ;       ~~~     専用ﾏｸﾛ         ~~~
  761                             268 I1  ;       ~~~~~~~~~~~~~~~~~~~~~~~~~~~
  762                             269 I1          .MACRO  PUSH_ALL
  763                             270 I1          PUSH_REG1       R0      ;
  764                             271 I1          PUSH_REG1       R1      ;
  765                             272 I1          PUSH_REG1       R2      ;
  766                             273 I1          PUSH_REG1       R3      ;
  767                             274 I1          PUSH_REG1       R4      ;
  768                             275 I1          PUSH_REG1       R5      ;
  769                             276 I1          PUSH_REG1       R6      ;
  770                             277 I1          PUSH_REG1       R7      ;
  771                             278 I1          PUSH_REG1       R8      ;
  772                             279 I1          PUSH_REG1       R9      ;
  773                             280 I1          PUSH_REG1       R10     ;
  774                             281 I1          PUSH_REG1       R11     ;
  775                             282 I1          PUSH_REG1       R12     ;
  776                             283 I1          PUSH_REG1       R13     ;
  777                             284 I1          PUSH_REG1       R14     ;
  778                             285 I1          PUSH_MACHL              ;
  779                             286 I1          PUSH_SYS_REG    GBR     ;
  780                             287 I1          .AIF    _SIT_CPU_SEL EQ _SIT4_CPUB
  781                             288 I1          .AELSE
  782                             289 I1          PUSH_FPU_ALL            ;2001-07-08
  783                             290 I1          .AENDI
  784                             291 I1          .ENDM
  785                             292 I1  
  786                             293 I1  
  787                             294 I1          .MACRO  POP_ALL         ;
  788                             295 I1          .AIF    _SIT_CPU_SEL EQ _SIT4_CPUB
  789                             296 I1          .AELSE
  790                             297 I1          POP_FPU_ALL             ;2001-07-08
  791                             298 I1          .AENDI
  792                             299 I1          POP_SYS_REG     GBR     ;
  793                             300 I1          POP_MACHL               ;
  794                             301 I1          POP_REG1        R14     ;
  795                             302 I1          POP_REG1        R13     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    15
PROGRAM NAME =

  796                             303 I1          POP_REG1        R12     ;
  797                             304 I1          POP_REG1        R11     ;
  798                             305 I1          POP_REG1        R10     ;
  799                             306 I1          POP_REG1        R9      ;
  800                             307 I1          POP_REG1        R8      ;
  801                             308 I1          POP_REG1        R7      ;
  802                             309 I1          POP_REG1        R6      ;
  803                             310 I1          POP_REG1        R5      ;
  804                             311 I1          POP_REG1        R4      ;
  805                             312 I1          POP_REG1        R3      ;
  806                             313 I1          POP_REG1        R2      ;
  807                             314 I1          POP_REG1        R1      ;
  808                             315 I1          POP_REG1        R0      ;
  809                             316 I1          .ENDM
  810                             317 I1  
  811                             318 I1  ;       *******************************************
  812                             319 I1  ;       ***                                     ***
  813                             320 I1  ;       ***                                     ***
  814                             321 I1  ;       ***             SH3専用ﾏｸﾛ              ***
  815                             322 I1  ;       ***                                     ***
  816                             323 I1  ;       *******************************************
  817                             324 I1  ;       ***************************
  818                             325 I1  ;       ***     SSR-->STACK     ***
  819                             326 I1  ;       ***************************
  820                             327 I1  ;       sr-->ssr
  821                             328 I1          .MACRO  PUSH_SSR
  822                             329 I1          STS.L   SSR,@-R15
  823                             330 I1          .ENDM
  824                             331 I1  
  825                             332 I1  ;       ***************************
  826                             333 I1  ;       ***     SSR<--STACK     ***
  827                             334 I1  ;       ***************************
  828                             335 I1          .MACRO  POP_SSR
  829                             336 I1          LDS.L   @R15+,SSR
  830                             337 I1          .ENDM
  831                             338 I1  
  832                             339 I1  
  833                             340 I1  ;       ***************************
  834                             341 I1  ;       ***     SSR-->STACK     ***
  835                             342 I1  ;       ***************************
  836                             343 I1  ;       sr-->SSR
  837                             344 I1          .MACRO  PUSH_SPC
  838                             345 I1          STS.L   SPC,@-R15
  839                             346 I1          .ENDM
  840                             347 I1  
  841                             348 I1  ;       ***************************
  842                             349 I1  ;       ***     SSR<--STACK     ***
  843                             350 I1  ;       ***************************
  844                             351 I1          .MACRO  POP_SPC
  845                             352 I1          LDS.L   @R15+,SPC
  846                             353 I1          .ENDM
  847                             354 I1  
  848                             355 I1  
  849                             356 I1  ;;;使用禁止     .MACRO  PUSH_ALL_SH3
  850                             357 I1  ;;;     PUSH_REG1       R0      ;
  851                             358 I1  ;;;     PUSH_REG1       R1      ;
  852                             359 I1  ;;;     PUSH_REG1       R2      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    16
PROGRAM NAME =

  853                             360 I1  ;;;     PUSH_REG1       R3      ;
  854                             361 I1  ;;;     PUSH_REG1       R4      ;
  855                             362 I1  ;;;     PUSH_REG1       R5      ;
  856                             363 I1  ;;;     PUSH_REG1       R6      ;
  857                             364 I1  ;;;     PUSH_REG1       R7      ;
  858                             365 I1  ;;;     PUSH_REG1       R8      ;
  859                             366 I1  ;;;     PUSH_REG1       R9      ;
  860                             367 I1  ;;;     PUSH_REG1       R10     ;
  861                             368 I1  ;;;     PUSH_REG1       R11     ;
  862                             369 I1  ;;;     PUSH_REG1       R12     ;
  863                             370 I1  ;;;     PUSH_REG1       R13     ;
  864                             371 I1  ;;;     PUSH_REG1       R14     ;
  865                             372 I1  ;;;     PUSH_MACHL              ;
  866                             373 I1  ;;;     PUSH_SYS_REG    GBR     ;
  867                             374 I1  ;;;     .ENDM
  868                             375 I1  
  869                             376 I1  
  870                             377 I1  ;;;使用禁止     .MACRO  POP_ALL_SH3
  871                             378 I1  ;;;     POP_SYS_REG     GBR     ;
  872                             379 I1  ;;;     POP_MACHL               ;
  873                             380 I1  ;;;     POP_REG1        R14     ;
  874                             381 I1  ;;;     POP_REG1        R13     ;
  875                             382 I1  ;;;     POP_REG1        R12     ;
  876                             383 I1  ;;;     POP_REG1        R11     ;
  877                             384 I1  ;;;     POP_REG1        R10     ;
  878                             385 I1  ;;;     POP_REG1        R9      ;
  879                             386 I1  ;;;     POP_REG1        R8      ;
  880                             387 I1  ;;;     POP_REG1        R7      ;
  881                             388 I1  ;;;     POP_REG1        R6      ;
  882                             389 I1  ;;;     POP_REG1        R5      ;
  883                             390 I1  ;;;     POP_REG1        R4      ;
  884                             391 I1  ;;;     POP_REG1        R3      ;
  885                             392 I1  ;;;     POP_REG1        R2      ;
  886                             393 I1  ;;;     POP_REG1        R1      ;
  887                             394 I1  ;;;     POP_REG1        R0      ;
  888                             395 I1  ;;;     .ENDM
  889                             396 I1  
  890                             397 I1  
  891                             398 I1          .MACRO  PUSH_INT_SYSREG                 ;
  892                             399 I1          PUSH_SPC                                ;PC->SPC->STACK
  893                             400 I1          PUSH_SSR                                ;SR->ssr->STACK
  894                             401 I1          PUSH_PR                                 ;RET _ADRESS ->PR->STACK
  895                             402 I1          .ENDM                                   ;
  896                             403 I1  
  897                             404 I1          .MACRO  POP_INT_SYSREG                  ;
  898                             405 I1          POP_PR                                  ;PR
  899                             406 I1          POP_SSR                                 ;ssr
  900                             407 I1          POP_SPC                                 ;SPC
  901                             408 I1          .ENDM                                   ;
  902                             409 I1  
  903                             410 I1  
  904                             411 I1  
  905                             412 I1  
  906                             413 I1  
  907                             414 I1  ;       ***************************
  908                             415 I1  ;       ***     DI              ***
  909                             416 I1  ;       ***************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    17
PROGRAM NAME =

  910                             417 I1          .MACRO  DI_PUSH_SR_SH3  WK_REG1,WK_REG2
  911                             418 I1          STC     SR,\WK_REG1                     ;
  912                             419 I1          MOV.W   #H'000000F0,\WK_REG2            ;
  913                             420 I1          OR      \WK_REG2,\WK_REG1               ;INT15
  914                             421 I1          STC.L   SR,@-R15                        ;PUSH SR
  915                             422 I1          LDC     \WK_REG1,SR                     ;割込禁止（15）
  916                             423 I1          .ENDM
  917                             424 I1  
  918                             425 I1  ;       ***************************
  919                             426 I1  ;       ***     EI              ***
  920                             427 I1  ;       ***************************
  921                             428 I1          .MACRO  EI_POP_SR_SH3                   ;
  922                             429 I1          LDC.L   @R15+,SR                        ;POP SR
  923                             430 I1          .ENDM
  924                             431 I1  
  925                             432 I1  
  926                             433 I1  
  927                             434 I1  
  928                             435 I1  
  929                             436 I1  ;       *******************************************
  930                             437 I1  ;       ***                                     ***
  931                             438 I1  ;       ***                                     ***
  932                             439 I1  ;       ***                                     ***
  933                             440 I1  ;       ***                                     ***
  934                             441 I1  ;       ***                                     ***
  935                             442 I1  ;       ***                                     ***
  936                             443 I1  ;       ***                                     ***
  937                             444 I1  ;       ***                                     ***
  938                             445 I1  ;       *******************************************
  939                             446 I1  ;       ***************************************************
  940                             447 I1  ;       ****    64BIT DATA の符号反転 WORK必要          ***
  941                             448 I1  ;       ***************************************************
  942                             449 I1          .MACRO  NEG1_64 H_REG,L_REG,WKREG
  943                             450 I1          NOT     \L_REG,\L_REG                           ;
  944                             451 I1          NOT     \H_REG,\H_REG                           ;
  945                             452 I1          XOR     \WKREG,\WKREG                           ;
  946                             453 I1          SETT
  947                             454 I1          ADDC    \WKREG,\L_REG                           ;0+1+R2
  948                             455 I1          ADDC    \WKREG,\H_REG                           ;
  949                             456 I1          .ENDM
  950                             457 I1  
  951                             458 I1  ;       ***********************************
  952                             459 I1  ;       ***     DWORD +MAX~ -MIN CHK    ***
  953                             460 I1  ;       ***********************************
  954                             461 I1  ;       結果はﾘﾐｯﾄﾃﾞｰﾀの反転を返す
  955                             462 I1          .MACRO  REG_PMAX_MMIN   DATA_REG,MAX_MIN_REG
  956                             463 I1          CMP/GE  \DATA_REG,\MAX_MIN_REG          ;
  957                             464 I1          BT      JMP01\@                         ;DATA =< MAX
  958                             465 I1          MOV     \MAX_MIN_REG,\DATA_REG          ;MAX LIMIT
  959                             466 I1  JMP01\@:                                        ;
  960                             467 I1          NEG     \MAX_MIN_REG,\MAX_MIN_REG       ;
  961                             468 I1          CMP/GE  \MAX_MIN_REG,\DATA_REG          ;
  962                             469 I1          BT      JMP02\@                         ;MIN =< DATA
  963                             470 I1          MOV     \MAX_MIN_REG,\DATA_REG          ;MIN LIMIT
  964                             471 I1  JMP02\@:                                        ;
  965                             472 I1          NEG     \MAX_MIN_REG,\MAX_MIN_REG       ;
  966                             473 I1          .ENDM                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    18
PROGRAM NAME =

  967                             474 I1  
  968                             475 I1  ;       ***********************************
  969                             476 I1  ;       ***     DWORD +MAX~0 CHK        ***
  970                             477 I1  ;       ***********************************
  971                             478 I1          .MACRO  REG_PMAX_0_LMT  DATA_REG,MAX_REG
  972                             479 I1          CMP/PZ  \DATA_REG                       ;
  973                             480 I1          BT      JMP01\@                         ; data >=
  974                             481 I1          XOR     \DATA_REG,\DATA_REG             ;
  975                             482 I1  JMP01\@:                                        ;
  976                             483 I1          CMP/GE  \DATA_REG,\MAX_REG              ;
  977                             484 I1          BT      JMP02\@                         ;DATA =< MAX
  978                             485 I1          MOV     \MAX_REG,\DATA_REG              ;
  979                             486 I1  JMP02\@:                                        ;
  980                             487 I1          .ENDM
  981                             488 I1  
  982                             489 I1  ;       ***********************************
  983                             490 I1  ;       ***     DWORD 範囲ﾁｪｯｸ LMT      ***
  984                             491 I1  ;       ***********************************
  985                             492 I1  ;
  986                             493 I1          .MACRO  REG_PMAX_MMIN_LMT       DATA_REG,MAX_REG,MIN_REG
  987                             494 I1          CMP/GE  \DATA_REG,\MAX_REG              ;
  988                             495 I1          BT      JMP01\@                         ;DATA =< MAX
  989                             496 I1          MOV     \MAX_REG,\DATA_REG              ;"+" MAX
  990                             497 I1          M_BRA   JMP02\@                         ;
  991                             498 I1  
  992                             499 I1  JMP01\@:                                        ;
  993                             500 I1          CMP/GE  \MIN_REG,\DATA_REG              ;
  994                             501 I1          BT      JMP02\@                         ;MIN =< DATA
  995                             502 I1          MOV     \MIN_REG,\DATA_REG              ;"-" MAX
  996                             503 I1  JMP02\@:                                        ;
  997                             504 I1          .ENDM
  998                             505 I1  
  999                             506 I1  ;       ***********************************
 1000                             507 I1  ;       ***     DWORD 範囲ﾁｪｯｸ CHK      ***
 1001                             508 I1  ;       ***********************************
 1002                             509 I1  ;
 1003                             510 I1  ;
 1004                             511 I1          .MACRO  REG_PMAX_MMIN_CHK       ANS_REG,DATA_REG,MAX_REG,MIN_REG
 1005                             512 I1          XOR     \ANS_REG,\ANS_REG               ;
 1006                             513 I1          CMP/GE  \DATA_REG,\MAX_REG              ;
 1007                             514 I1          BT      JMP01\@                         ;DATA =< MAX
 1008                             515 I1          MOV     #BIT0,\ANS_REG                  ;"+" MAX
 1009                             516 I1          M_BRA   JMP02\@                         ;
 1010                             517 I1  
 1011                             518 I1  JMP01\@:                                        ;
 1012                             519 I1          CMP/GE  \MIN_REG,\DATA_REG              ;
 1013                             520 I1          BT      JMP02\@                         ;MIN =< DATA
 1014                             521 I1          MOV     #BIT1,\ANS_REG                  ;"-"
 1015                             522 I1  JMP02\@:                                        ;
 1016                             523 I1          .ENDM
 1017                             524 I1  ;       ***********************************
 1018                             525 I1  ;       ***     IF "-" THEN 0           ***
 1019                             526 I1  ;       ***********************************
 1020                             527 I1          .MACRO  IF_REG_MINS_THEN_0 DATA_REG
 1021                             528 I1          CMP/PL  \DATA_REG                       ;
 1022                             529 I1          BT      JMP01\@                         ;
 1023                             530 I1          XOR     \DATA_REG,\DATA_REG             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    19
PROGRAM NAME =

 1024                             531 I1  JMP01\@:                                        ;
 1025                             532 I1          .ENDM
 1026                             533 I1  
 1027                             534 I1  
 1028                             535 I1  ;       *******************************************
 1029                             536 I1  ;       ***     IF  REG >= MAX THEN MAX LIMIT   ***
 1030                             537 I1  ;       *******************************************
 1031                             538 I1  ;       IF R0 >= R1 THEN LIMIT R0<--R1  //REG1_CMP_REG2_LMT R0,GE,R1,R1,TO,R0   ;
 1032                             539 I1  ;       IF R0 =< R1 THEN LIMIT R0<--R1  //REG1_CMP_REG2_LMT R1,GE,R0,R1,TO,R0   ;
 1033                             540 I1          .MACRO  REG1_CMP_REG2_LMT REG1,CF,REG2,LMTREG,MEMO,ANSREG
 1034                             541 I1                                          ;MEMO
 1035                             542 I1          CMP/\CF \REG2,\REG1             ;REG1 >= REG2
 1036                             543 I1          BF      JMP01\@                 ;
 1037                             544 I1          MOV     \LMTREG,\ANSREG         ;
 1038                             545 I1  JMP01\@:                                ;
 1039                             546 I1                                          ;
 1040                             547 I1          .ENDM
 1041                             548 I1  
 1042                             549 I1  
 1043                             550 I1  ;       ***************************************************
 1044                             551 I1  ;       ***                                             ***
 1045                             552 I1  ;       ***                                             ***
 1046                             553 I1  ;       ***                                             ***
 1047                             554 I1  ;       ***             比較 ﾚｼﾞｽﾀﾚﾍﾞﾙ                  ***
 1048                             555 I1  ;       ***                                             ***
 1049                             556 I1  ;       ***                                             ***
 1050                             557 I1  ;       ***                                             ***
 1051                             558 I1  ;       ***************************************************
 1052                             559 I1  ;       *******************************************
 1053                             560 I1  ;       ***             位置,圧力比較           ***
 1054                             561 I1  ;       *******************************************
 1055                             562 I1          .MACRO  REG1_CMP_REG2_ROTL REG1,CF,REG2,ANS_REG         ;
 1056                             563 I1          CMP/\CF \REG2,\REG1                                     ;REG1 >= REG2
 1057                             564 I1          ROTCL   \ANS_REG                                        ;IF "0" 左
 1058                             565 I1          .ENDM                                                   ;
 1059                             566 I1  
 1060                             567 I1  ;       *******************************************
 1061                             568 I1  ;       ***             位置,圧力比較           ***
 1062                             569 I1  ;       *******************************************
 1063                             570 I1  ;       ANS."Tbit"
 1064                             571 I1          .MACRO  R1_AREA_R2_PV_ROTL  UP_REG,DN_REG,PV_REG                        ;
 1065                             572 I1          CMP/GE  \DN_REG,\PV_REG                                                 ;PV >= MIN
 1066                             573 I1          BF      JMPED\@                                                         ;"T=0"
 1067                             574 I1          CMP/GE  \PV_REG,\UP_REG                                                 ;
 1068                             575 I1          BF      JMPED\@                                                         ;"T=0"
 1069                             576 I1  JMPED\@:                                                                        ;
 1070                             577 I1          .ENDM                                                                   ;ANS."T"
 1071                             578 I1  
 1072                             579 I1  
 1073                             580 I1  ;       ***************************************************
 1074                             581 I1  ;       ***     ﾋｽﾃﾘｼｽ付き比較                          ***
 1075                             582 I1  ;       ***************************************************
 1076                             583 I1  ;       減少方向にﾋｽﾃﾘｼｽを入れる[型開完了,増圧完了]
 1077                             584 I1  ;       data1  元設定
 1078                             585 I1  ;       data2  [data1-HIS] data
 1079                             586 I1  ;       IF data1 < PV THEN "1"
 1080                             587 I1  ;       IF data2 > PV THEN "0"
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    20
PROGRAM NAME =

 1081                             588 I1  ;       else Keep
 1082                             589 I1          .MACRO  UP1_HIS_DN_PV_ROTL  UP_REG,DN_REG,PV_REG,CF,OLDSQ,OLDBIT,CHKWKREG       ;G
                                          E or GT
 1083                             590 I1          CMP/\CF \UP_REG,\PV_REG                                                         ;P
                                          V >= UP THEN 1
 1084                             591 I1          BT      JMPED\@                                                                 ;"
                                          T=1"
 1085                             592 I1                                                                                          ;
 1086                             593 I1          CMP/\CF \DN_REG,\PV_REG                                                 ;PV >= DN
                                          NO THEN "0"
 1087                             594 I1          BF      JMPED\@                                                         ;PV < DN
 1088                             595 I1  
 1089                             596 I1  ;       --------- KEEP [REG BIT-->Tﾋﾞｯﾄ]---------
 1090                             597 I1          MOV.L   #\OLDBIT,\CHKWKREG                                              ;
 1091                             598 I1          TST     \CHKWKREG,\OLDSQ                                                ;"1" THEN
                                          T=0
 1092                             599 I1          MOVT    \CHKWKREG                                                       ;T-->reg
                                          [反転]
 1093                             600 I1          TST     \CHKWKREG,\CHKWKREG                                             ;REG=0 THE
                                          N T=1   [反転]
 1094                             601 I1  JMPED\@:                                                                        ;
 1095                             602 I1          .ENDM                                                                   ;ANS."T"
 1096                             603 I1  
 1097                             604 I1  
 1098                             605 I1  
 1099                             606 I1  ;       増加方向にﾋｽﾃﾘｼｽを入れる[圧抜完了]
 1100                             607 I1  ;       data1  元設定
 1101                             608 I1  ;       data2  [data1+HIS] data
 1102                             609 I1  ;       IF data1 > PV THEN "1"
 1103                             610 I1  ;       IF data2 < PV THEN "0"
 1104                             611 I1  ;       else Keep
 1105                             612 I1  
 1106                             613 I1          .MACRO  DN1_HIS_UP_PV_ROTL  UP_REG,DN_REG,PV_REG,CF,OLDSQ,OLDBIT,CHKWKREG       ;G
                                          E or GT
 1107                             614 I1          CMP/\CF \UP_REG,\PV_REG                                                 ;PV >= UP
                                          THEN 1
 1108                             615 I1          BT      JMP1\@                                                          ;"T=1" ---
                                          -> neg "0"
 1109                             616 I1  
 1110                             617 I1          CMP/\CF \PV_REG,\DN_REG                                         ;DN >= PV  PV < DN
 1111                             618 I1          BT      JMPED\@                                                 ;NO "T=0"  "T=1"
 1112                             619 I1  
 1113                             620 I1  ;       --------- KEEP ---------
 1114                             621 I1          MOV.L   #\OLDBIT,\CHKWKREG                                      ;
 1115                             622 I1          TST     \CHKWKREG,\OLDSQ                                        ;"1" THEN T=0
 1116                             623 I1  JMP1\@:                                                                 ;
 1117                             624 I1  ;       --------- [Tﾋﾞｯﾄの反転]---------
 1118                             625 I1          MOVT    \CHKWKREG                                               ;T-->reg        [
                                          反転]
 1119                             626 I1          TST     \CHKWKREG,\CHKWKREG                                     ;REG=0 THEN T=1 [
                                          反転]
 1120                             627 I1  JMPED\@:                                                                ;NO "T=0"  "T=1"
 1121                             628 I1  
 1122                             629 I1          .ENDM                                                                   ;ANS."T"
 1123                             630 I1  
 1124                             631 I1  
 1125                             632 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    21
PROGRAM NAME =

 1126                             633 I1  
 1127                             634 I1  
 1128                             635 I1  
 1129                             636 I1  
 1130                             637 I1  ;       ***************************************************
 1131                             638 I1  ;       ***                                             ***
 1132                             639 I1  ;       ***             比較ﾒﾓﾘﾚﾍﾞﾙ                     ***
 1133                             640 I1  ;       ***                                             ***
 1134                             641 I1  ;       ***************************************************
 1135                             642 I1  
 1136                             643 I1  
 1137                             644 I1  ;       ***************************************************
 1138                             645 I1  ;       ***                                             ***
 1139                             646 I1  ;       ***             位置比較/圧力比較               ***
 1140                             647 I1  ;       ***                                             ***
 1141                             648 I1  ;       ***************************************************
 1142                             649 I1          .MACRO  MEM_CMP_REG_ROTL1 MEM_ADR,WKMEMRG,LG,REGX,CHG,REG1,CF,REG2,ANS_REG
 1143                             650 I1          MOV.L   #\MEM_ADR,\WKMEMRG                      ;
 1144                             651 I1          MOV.\LG @\WKMEMRG,\REGX                         ;
 1145                             652 I1          .AIF    \CHG EQ 1                               ;
 1146                             653 I1          EXTU.W  \REGX,\REGX                             ;
 1147                             654 I1          .AENDI                                          ;
 1148                             655 I1          REG1_CMP_REG2_ROTL \REG1,\CF,\REG2,\ANS_REG     ;
 1149                             656 I1          .ENDM                                           ;
 1150                             657 I1  
 1151                             658 I1  ;       ***************************************************
 1152                             659 I1  ;       ***                                             ***
 1153                             660 I1  ;       ***             位置比較/圧力比較               ***
 1154                             661 I1  ;       ***             設定＋ADDﾃﾞｰﾀ                   ***
 1155                             662 I1  ;       ***                                             ***
 1156                             663 I1  ;       ***************************************************
 1157                             664 I1          .MACRO  MEM_CMP_REG_RL1AD MEM_ADR,WKMEMRG,LG,REGX,CHG,REG1,CF,REG2,ANS_REG,ADD_DT
 1158                             665 I1          MOV.L   #\MEM_ADR,\WKMEMRG                      ;
 1159                             666 I1          MOV.\LG @\WKMEMRG,\REGX                         ;
 1160                             667 I1          .AIF    \CHG EQ 1                               ;
 1161                             668 I1          EXTU.W  \REGX,\REGX                             ;
 1162                             669 I1          .AENDI                                          ;
 1163                             670 I1          ADD     \ADD_DT,\REGX                           ;
 1164                             671 I1          REG1_CMP_REG2_ROTL \REG1,\CF,\REG2,\ANS_REG     ;
 1165                             672 I1          .ENDM                                           ;
 1166                             673 I1  
 1167                             674 I1  ;       ***************************************************
 1168                             675 I1  ;       ***             位置比較/圧力比較               ***
 1169                             676 I1  ;       ***************************************************
 1170                             677 I1  ;
 1171                             678 I1  ;       R0:比較方法切替
 1172                             679 I1  ;
 1173                             680 I1          .MACRO  MEM_CMP_REG_ROTL2 MEM_ADR,WKMEMRG,LG,REGX,CHG,REG1,CF1,REG2,ANS_REG,CHGBIT
 1174                             681 I1          MOV.L   #\MEM_ADR,\WKMEMRG                      ;
 1175                             682 I1          MOV.\LG @\WKMEMRG,\REGX                         ;
 1176                             683 I1          .AIF    \CHG EQ 1                               ;
 1177                             684 I1          EXTU.W  \REGX,\REGX                             ;
 1178                             685 I1          .AENDI                                          ;
 1179                             686 I1          TST     #\CHGBIT,R0                             ;
 1180                             687 I1          TST_BIT_ON JMP1\@                               ;
 1181                             688 I1          REG1_CMP_REG2_ROTL \REG1,\CF1,\REG2,\ANS_REG    ;
 1182                             689 I1          M_BRA   JMP2\@                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    22
PROGRAM NAME =

 1183                             690 I1  
 1184                             691 I1  JMP1\@:
 1185                             692 I1          REG1_CMP_REG2_ROTL \REG2,\CF1,\REG1,\ANS_REG    ;
 1186                             693 I1  JMP2\@:                                                 ;
 1187                             694 I1          .ENDM                                           ;
 1188                             695 I1  
 1189                             696 I1  
 1190                             697 I1  
 1191                             698 I1  
 1192                             699 I1  
 1193                             700 I1  
 1194                             701 I1  
 1195                             702 I1  ;       ***********************************************************
 1196                             703 I1  ;       ***     SX 2WORD DATA -->LOAD + ON/OFF EDGE ,MAKE       ***
 1197                             704 I1  ;       ***********************************************************
 1198                             705 I1  ;       PLC 16+16-->16BIT DATA並び替え有り
 1199                             706 I1  ;       R0~R3 USED
 1200                             707 I1  
 1201                             708 I1          .MACRO  WD_WD_LOAD_EDGE_MK      IN_SX_ADR,SQ_ADR,ON_ADR,OF_ADR
 1202                             709 I1          MOV.L   #\IN_SX_ADR,R0          ;
 1203                             710 I1          MOV.W   @R0,R2                  ;NEW LOAD
 1204                             711 I1          MOV.L   #\SQ_ADR,R3             ;
 1205                             712 I1          MOV.W   @R3,R1                  ;OLD LOAD
 1206                             713 I1          MOV.W   R2,@R3                  ;REFLASH R2:NEW R1:OLD
 1207                             714 I1  
 1208                             715 I1          MOV     R2,R3                   ;
 1209                             716 I1          XOR     R1,R2                   ;R2:EDGE
 1210                             717 I1  
 1211                             718 I1          MOV.L   #\ON_ADR,R0             ;
 1212                             719 I1          AND     R2,R3                   ;ON EDGE
 1213                             720 I1          MOV.W   R3,@R0                  ;ON EDGE SAVE
 1214                             721 I1          AND     R2,R1                   ;
 1215                             722 I1          MOV.L   #\OF_ADR,R0             ;
 1216                             723 I1          MOV.W   R1,@R0                  ;OFF EDGE SAVE
 1217                             724 I1          .ENDM
 1218                             725 I1  
 1219                             726 I1  
 1220                             727 I1  ;       ======= INPUT R2:NOW SEQ=======
 1221                             728 I1          .MACRO  WD_WD_LOAD_EDGE_MKREG   SQ_ADR,ON_ADR,OF_ADR
 1222                             729 I1          MOV.L   #\SQ_ADR,R3             ;
 1223                             730 I1          MOV.W   @R3,R1                  ;OLD LOAD
 1224                             731 I1          MOV.W   R2,@R3                  ;REFLASH R2:NEW R1:OLD
 1225                             732 I1  
 1226                             733 I1          MOV     R2,R3                   ;
 1227                             734 I1          XOR     R1,R2                   ;R2:EDGE
 1228                             735 I1  
 1229                             736 I1          MOV.L   #\ON_ADR,R0             ;
 1230                             737 I1          AND     R2,R3                   ;ON EDGE
 1231                             738 I1          MOV.W   R3,@R0                  ;ON EDGE SAVE
 1232                             739 I1          AND     R2,R1                   ;
 1233                             740 I1          MOV.L   #\OF_ADR,R0             ;
 1234                             741 I1          MOV.W   R1,@R0                  ;OFF EDGE SAVE
 1235                             742 I1          .ENDM
 1236                             743 I1  
 1237                             744 I1  
 1238                             745 I1  
 1239                             746 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    23
PROGRAM NAME =

 1240                             747 I1  
 1241                             748 I1  ;       ***********************************
 1242                             749 I1  ;       ***     R32/R16-->R16           ***
 1243                             750 I1  ;       ***     R2/R1-->R1              ***
 1244                             751 I1  ;       ***     REG2/REG1-->REG1        ***
 1245                             752 I1  ;       ***     0CHK有り                ***
 1246                             753 I1  ;       ***     OVER FLOW有り           ***
 1247                             754 I1  ;       ***********************************
 1248                             755 I1          .MACRO  MAC_DIVU_32REG2_16REG1_16REG2 REG1,REG2
 1249                             756 I1          SHLL16  \REG1                   ;BIT0~15-->BIT16~31
 1250                             757 I1          TST     \REG1,\REG1             ;
 1251                             758 I1          BT      DIVU1_ZERO_DIV\@        ;ZERO DIV        ANS.MAX
 1252                             759 I1          CMP/HS  \REG1,\REG2             ;UNSHIN R2[Rn] >= R1[Rm] ANS.0...R1
 1253                             760 I1          BT      DIVU1_ZERO_DIV\@        ;OVER FLOW
 1254                             761 I1  ;       ============================================
 1255                             762 I1          DIV0U                           ;FLAG M=Q=T=0
 1256                             763 I1  
 1257                             764 I1          .arepeat        16              ;繰返展開
 1258                             765 I1          DIV1    \REG1,\REG2             ;SHIFT 1 R1-R2 -->Q
 1259                             766 I1          .aendr                          ;
 1260                             767 I1  
 1261                             768 I1          ROTCL   \REG2                   ;T<--R2<--T
 1262                             769 I1  
 1263                             770 I1          EXTU.W  \REG2,\REG2             ;BIT31~BIT16 0 CLR
 1264                             771 I1          M_BRA   DIVU1_EXT\@             ;
 1265                             772 I1  
 1266                             773 I1  ;       ============================================
 1267                             774 I1  DIVU1_ZERO_DIV\@:
 1268                             775 I1          MOV.L   #H'0000FFFF,\REG2       ;MAX SET
 1269                             776 I1  DIVU1_EXT\@:                            ;
 1270                             777 I1          .ENDM
 1271                             778 I1  
 1272                             779 I1  
 1273                             780 I1  
 1274                             781 I1  
 1275                             782 I1  ;       ***********************************
 1276                             783 I1  ;       ***     R32/R16-->R16           ***
 1277                             784 I1  ;       ***     R2/R1-->R1              ***
 1278                             785 I1  ;       ***     REG2/REG1-->REG1        ***
 1279                             786 I1  ;       ***     0CHK有り                ***
 1280                             787 I1  ;       ***     OVER FLOW有り           ***
 1281                             788 I1  ;       ***********************************
 1282                             789 I1  ;       REG2/REG1-->REG2
 1283                             790 I1  ;       ***************************************************
 1284                             791 I1  ;       ***     REG2/REG1-->REG1                        ***
 1285                             792 I1  ;       ***************************************************
 1286                             793 I1  ;       REG1保持
 1287                             794 I1  ;       WKREG1:破壊
 1288                             795 I1  ;       WKREG2:破壊
 1289                             796 I1  ;       REG2:ANS
 1290                             797 I1  
 1291                             798 I1          .MACRO  MAC_DIVS_32REG2_32REG1_32REG2 REG1,REG2,WKREG1,WKREG2
 1292                             799 I1          TST     \REG1,\REG1             ;
 1293                             800 I1          TST_BIT_OF DIVS21_ZERO\@        ;
 1294                             801 I1  
 1295                             802 I1          MOV     \REG2,\WKREG1           ;
 1296                             803 I1          ROTCL   \WKREG1                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    24
PROGRAM NAME =

 1297                             804 I1          SUBC    \WKREG2,\WKREG2         ;符号拡張64ﾋﾞｯﾄ R4,R2
 1298                             805 I1          XOR     \WKREG1,\WKREG1         ;R3=0
 1299                             806 I1          SUBC    \WKREG1,\REG2           ;
 1300                             807 I1          DIV0S   \REG1,\WKREG2           ;
 1301                             808 I1          .arepeat        32              ;繰返展開
 1302                             809 I1          ROTCL   \REG2
 1303                             810 I1          DIV1    \REG1,\WKREG2           ;SHIFT 1 R1-R2 -->Q
 1304                             811 I1          .aendr                          ;
 1305                             812 I1          ROTCL   \REG2                   ;
 1306                             813 I1          ADDC    \WKREG1,\REG2           ;
 1307                             814 I1          M_BRA   DIVS21_EXT\@            ;
 1308                             815 I1  
 1309                             816 I1  DIVS21_ZERO\@:                          ;R3/R1-->R2 IF R1=0 THEN R2=7FFF FFFF // 8000 0000
                                          が本来か?
 1310                             817 I1          XOR     \REG2,\REG2             ;
 1311                             818 I1  DIVS21_EXT\@:                           ;
 1312                             819 I1          .ENDM
 1313                             820 I1  
 1314                             821 I1  ;       ***********************************************************
 1315                             822 I1  ;       ***                                                     ***
 1316                             823 I1  ;       ***             REG2[32]/REG1[16]-->REG2[16]            ***
 1317                             824 I1  ;       ***                                                     ***
 1318                             825 I1  ;       ***********************************************************
 1319                             826 I1  ;       REG1:KEEP
 1320                             827 I1  ;       REG2:ANS
 1321                             828 I1  ;       ========== REG1 KEEP =====
 1322                             829 I1          .MACRO  MAC_DIVS_32REG2_16REG1_16REG2 REG1,REG2
 1323                             830 I1          PUSH_REG1       \REG1                   ;
 1324                             831 I1          PUSH_REG1       \REG2                   ;
 1325                             832 I1          EXTS.W  \REG1,\REG1                     ;
 1326                             833 I1          CMP/PZ  \REG1                           ;
 1327                             834 I1          BT      DIVS1_020\@                     ;
 1328                             835 I1          NEG     \REG1,\REG1                     ;
 1329                             836 I1  DIVS1_020\@:
 1330                             837 I1          CMP/PZ  \REG2                           ;
 1331                             838 I1          BT      DIVS1_040\@                     ;
 1332                             839 I1          NEG     \REG2,\REG2                     ;
 1333                             840 I1  DIVS1_040\@:
 1334                             841 I1  
 1335                             842 I1          MAC_DIVU_32REG2_16REG1_16REG2 \REG1,\REG2
 1336                             843 I1  
 1337                             844 I1  
 1338                             845 I1          MOV.W   #H'7FFF,\REG1                   ;
 1339                             846 I1          CMP/HS  \REG2,\REG1                     ;7FFF >= data
 1340                             847 I1          BT      DIVS1_060\@                     ;
 1341                             848 I1          MOV     \REG1,\REG2                     ;7FFF >= data
 1342                             849 I1  DIVS1_060\@:                                    ;
 1343                             850 I1  
 1344                             851 I1          POP_REG1 \REG1                          ;
 1345                             852 I1          CMP/PZ  \REG1                           ;
 1346                             853 I1          BT      DIVS1_080\@                     ;
 1347                             854 I1          NEG     \REG2,\REG2                     ;
 1348                             855 I1  DIVS1_080\@:                                    ;
 1349                             856 I1          POP_REG1 \REG1                          ;
 1350                             857 I1          CMP/PZ  \REG1                           ;
 1351                             858 I1          BT      DIVS1_100\@                     ;
 1352                             859 I1          NEG     \REG2,\REG2                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    25
PROGRAM NAME =

 1353                             860 I1  DIVS1_100\@:                                    ;
 1354                             861 I1  
 1355                             862 I1          .ENDM
 1356                             863 I1  
 1357                             864 I1  
 1358                             865 I1  ;       *******************************************
 1359                             866 I1  ;       ***                                     ***
 1360                             867 I1  ;       ***             ﾌﾞﾛｯｸ転送               ***
 1361                             868 I1  ;       ***                                     ***
 1362                             869 I1  ;       *******************************************
 1363                             870 I1          .MACRO  BLOCK_MOV1      LG,AD_DT,SRC_REG,DST_REG,DATA_REG,CNT_REG
 1364                             871 I1  JMP0\@:                                 ;
 1365                             872 I1          TST     \CNT_REG,\CNT_REG       ;
 1366                             873 I1          TST_BIT_OF JMP1\@               ;
 1367                             874 I1          MOV.\LG @\SRC_REG+,\DATA_REG    ;
 1368                             875 I1          MOV.\LG \DATA_REG,@\DST_REG     ;
 1369                             876 I1          ADD     #\AD_DT,\DST_REG        ;
 1370                             877 I1          ADD     #H'FF,\CNT_REG          ;
 1371                             878 I1          M_BRA   JMP0\@                  ;
 1372                             879 I1  JMP1\@:                                 ;
 1373                             880 I1          .ENDM
 1374                             881 I1  
 1375                             882 I1  
 1376                             883 I1  ;       ***************************************************
 1377                             884 I1  ;       ***             データ変換      2001-07-08      ***
 1378                             885 I1  ;       ***************************************************
 1379                             886 I1          .MACRO  INTEL_WORD REG1,REG2
 1380                             887 I1          SWAP.B  \REG1,\REG2
 1381                             888 I1          .ENDM
 1382                             889 I1  
 1383                             890 I1  
 1384                             891 I1  ;       ***************************************************
 1385                             892 I1  ;       ***             4byte read      2001-07-08      ***
 1386                             893 I1  ;       ***************************************************
 1387                             894 I1          .MACRO  plc_2w_rd ADR_REG1,ANSREG,WKREG1
 1388                             895 I1          MOV.W   @\ADR_REG1+,\ANSREG             ;ML(56).LL(78) R2
 1389                             896 I1          MOV.W   @\ADR_REG1+,\WKREG1             ;HH(12).MH(34) R3
 1390                             897 I1          SWAP.W  \ANSREG,\ANSREG                 ;
 1391                             898 I1          XTRCT   \WKREG1,\ANSREG                 ;
 1392                             899 I1          .ENDM
 1393                             900 I1  
 1394                             901 I1  ;       ***************************************************
 1395                             902 I1  ;       ***             2byte read      2001-07-08      ***
 1396                             903 I1  ;       ***************************************************
 1397                             904 I1          .MACRO  plc_1w_rd ADR_REG1,ANSREG
 1398                             905 I1          MOV.W   @\ADR_REG1+,\ANSREG             ;
 1399                             906 I1  ;;;;;;; SWAP.B  \ANSREG,\ANSREG                 ;ML.LL
 1400                             907 I1  ;;;;;;; EXTS.W  \ANSREG,\ANSREG                 ;符号拡張
 1401                             908 I1          .ENDM
 1402                             909 I1  
 1403                             910 I1  
 1404                             911 I1  
 1405                             912 I1  ;       ***************************************************
 1406                             913 I1  ;       ***             4byte write     2001-07-08      ***
 1407                             914 I1  ;       ***************************************************
 1408                             915 I1  ;       ansreg:-->adr_reg
 1409                             916 I1          .MACRO  plc_2w_wr ADR_REG1,ANSREG,WKREG1        ;HH,MH,ML,LL
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    26
PROGRAM NAME =

 1410                             917 I1          MOV.W   \ANSREG,@\ADR_REG1                      ;
 1411                             918 I1          SWAP.W  \ANSREG,\WKREG1                         ;
 1412                             919 I1          ADD     #2,\ADR_REG1                            ;
 1413                             920 I1          MOV.W   \WKREG1,@\ADR_REG1                      ;
 1414                             921 I1          ADD     #2,\ADR_REG1                            ;
 1415                             922 I1          .ENDM
 1416                             923 I1  
 1417                             924 I1  ;       ***************************************************
 1418                             925 I1  ;       ***             2byte write     2001-07-08      ***
 1419                             926 I1  ;       ***************************************************
 1420                             927 I1  ;       ansreg:-->adr_reg
 1421                             928 I1          .MACRO  plc_1w_wr ADR_REG1,ANSREG               ;
 1422                             929 I1  ;;;;;;  SWAP.B  \ANSREG,\ANSREG                 ;
 1423                             930 I1          MOV.W   \ANSREG,@\ADR_REG1              ;
 1424                             931 I1          ADD     #2,\ADR_REG1                    ;
 1425                             932 I1          .ENDM
 1426                             933 I1  
 1427                             934 I1  
 1428                             935 I1  ;       *******************************************
 1429                             936 I1  ;       ***                                     ***
 1430                             937 I1  ;       ***     ﾚｼﾞｽﾀ->ﾒﾓﾘﾃﾞﾌｫﾙﾄｾｯﾄ             ***
 1431                             938 I1  ;       ***                                     ***
 1432                             939 I1  ;       *******************************************
 1433                             940 I1          .MACRO  BLOCK_SET1      LG,AD_DT,DST_REG,DATA_REG,CNT_REG
 1434                             941 I1  JMP0\@:                                 ;
 1435                             942 I1          TST     \CNT_REG,\CNT_REG       ;
 1436                             943 I1          TST_BIT_OF JMP1\@               ;
 1437                             944 I1          MOV.\LG \DATA_REG,@\DST_REG     ;
 1438                             945 I1          ADD     #\AD_DT,\DST_REG        ;
 1439                             946 I1          ADD     #H'FF,\CNT_REG          ;
 1440                             947 I1          M_BRA   JMP0\@                  ;
 1441                             948 I1  JMP1\@:                                 ;
 1442                             949 I1          .ENDM
 1443                             950 I1  
 1444                             951 I1  ;       *******************************************
 1445                             952 I1  ;       ***                                     ***
 1446                             953 I1  ;       ***             MEM BLOCK               ***
 1447                             954 I1  ;       ***                                     ***
 1448                             955 I1  ;       *******************************************
 1449                             956 I1          .MACRO  MEM_WORD_BLOCK_MOV1     SRC_ADR,DST_ADR,CNT_DAT,DT_REG,CNT_REG
 1450                             957 I1          MOV.L   #\SRC_ADR,R10                   ;
 1451                             958 I1          MOV.L   #\DST_ADR,R11                   ;
 1452                             959 I1          MOV.W   #\CNT_DAT,\CNT_REG              ;
 1453                             960 I1          BLOCK_MOV1      W,2,R10,R11,\DT_REG,\CNT_REG
 1454                             961 I1          .ENDM
 1455                             962 I1  
 1456                             963 I1  
 1457                             964 I1          .MACRO  MEM_LONG_BLOCK_MOV1     SRC_ADR,DST_ADR,CNT_DAT,DT_REG,CNT_REG
 1458                             965 I1          MOV.L   #\SRC_ADR,R10                   ;
 1459                             966 I1          MOV.L   #\DST_ADR,R11                   ;
 1460                             967 I1          MOV.W   #\CNT_DAT,\CNT_REG              ;
 1461                             968 I1          BLOCK_MOV1      L,4,R10,R11,\DT_REG,\CNT_REG
 1462                             969 I1          .ENDM
 1463                             970 I1  
 1464                             971 I1  ;       ***********************************
 1465                             972 I1  ;       ***     MEM => MEM MOV          ***
 1466                             973 I1  ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    27
PROGRAM NAME =

 1467                             974 I1          .MACRO  MEM_MOV_TO_MEM  SRC_ADR,L1,DST_ADR,L2,WKREG1,WKREG2,WKREG3
 1468                             975 I1          MOV.L   #\SRC_ADR,\WKREG1
 1469                             976 I1          MOV.\L1 @\WKREG1,\WKREG2        ;WK1=SRC_ADR WK2=data
 1470                             977 I1          MOV.L   #\DST_ADR,\WKREG3       ;DST_ADR
 1471                             978 I1          MOV.\L2 \WKREG2,@\WKREG3        ;DST_ADR
 1472                             979 I1          .ENDM
 1473                             980 I1  
 1474                             981 I1  
 1475                             982 I1  ;       ***********************************
 1476                             983 I1  ;       ***     REG => MEM MOV          ***
 1477                             984 I1  ;       ***********************************
 1478                             985 I1          .MACRO  REG_MOV_TO_MEM  DST_ADR,L1,DT_REG,WKREG1
 1479                             986 I1          MOV.L   #\DST_ADR,\WKREG1       ;DST_ADR
 1480                             987 I1          MOV.\L1 \DT_REG,@\WKREG1        ;DST_ADR
 1481                             988 I1          .ENDM
 1482                             989 I1  
 1483                             990 I1  
 1484                             991 I1  ;       ***********************************
 1485                             992 I1  ;       ***     MEM => MEM MOV          ***
 1486                             993 I1  ;       ***********************************
 1487                             994 I1          .MACRO  MEM_MOV_TO_MEM_ALMT     SRC_ADR,L1,DST_ADR,L2,WKREG1,WKREG2,WKREG3,ANDLMT
 1488                             995 I1          MOV.L   #\SRC_ADR,\WKREG1
 1489                             996 I1          MOV.\L1 @\WKREG1,\WKREG2        ;WK1=SRC_ADR WK2=data
 1490                             997 I1          MOV.L   #\ANDLMT,\WKREG1        ;
 1491                             998 I1          AND     \WKREG1,\WKREG2         ;
 1492                             999 I1          MOV.L   #\DST_ADR,\WKREG3       ;DST_ADR
 1493                            1000 I1          MOV.\L2 \WKREG2,@\WKREG3        ;DST_ADR
 1494                            1001 I1          .ENDM
 1495                            1002 I1  
 1496                            1003 I1  ;       ***********************************
 1497                            1004 I1  ;       ***     MEM => CALL=>MEM MOV    ***
 1498                            1005 I1  ;       ***     2008-10-15              ***
 1499                            1006 I1  ;       ***********************************
 1500                            1007 I1          .MACRO  MEM_MOV_TO_MEM_CALL     SRC_ADR,L1,DST_ADR,L2,WKREG1,WKREG2,WKREG3,CALL
 1501                            1008 I1          MOV.L   #\SRC_ADR,\WKREG1
 1502                            1009 I1          MOV.\L1 @\WKREG1,\WKREG2        ;WK1=SRC_ADR WK2=data
 1503                            1010 I1          FAR_JSR #\CALL,\WKREG3
 1504                            1011 I1          MOV.L   #\DST_ADR,\WKREG3       ;DST_ADR
 1505                            1012 I1          MOV.\L2 \WKREG2,@\WKREG3        ;DST_ADR
 1506                            1013 I1          .ENDM
 1507                            1014 I1  
 1508                            1015 I1  ;       ***********************************
 1509                            1016 I1  ;       ***                             ***
 1510                            1017 I1  ;       ***     DOWN TIMER              ***
 1511                            1018 I1  ;       ***     TIME USED MACRO         ***
 1512                            1019 I1  ;       ***                             ***
 1513                            1020 I1  ;       ***********************************
 1514                            1021 I1          .MACRO  DN_TIME LG,MEM_ADR,WKREG1,WKREG2
 1515                            1022 I1          MOV.L   #\MEM_ADR,\WKREG1               ;SORCE ADRESS SET
 1516                            1023 I1          MOV.\LG @\WKREG1,\WKREG2                ;
 1517                            1024 I1          TST     \WKREG2,\WKREG2                 ;
 1518                            1025 I1          BT      JMP_01\@                        ;ZERO THEN JUMP
 1519                            1026 I1          DT      \WKREG2                         ;
 1520                            1027 I1          MOV.\LG \WKREG2,@\WKREG1                ;STORE
 1521                            1028 I1  JMP_01\@:
 1522                            1029 I1          .ENDM
 1523                            1030 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    28
PROGRAM NAME =

 1524                            1031 I1  ;       ***********************************
 1525                            1032 I1  ;       ***                             ***
 1526                            1033 I1  ;       ***     UP TIME USED MACRO      ***
 1527                            1034 I1  ;       ***     0~FFFF(0~FFFFFFFF)      ***
 1528                            1035 I1  ;       ***********************************
 1529                            1036 I1          .MACRO  UP_TIME LG,MEM_ADR,WKREG1,WKREG2
 1530                            1037 I1          MOV.L   #\MEM_ADR,\WKREG1               ;SORCE ADRESS SET
 1531                            1038 I1          MOV.\LG @\WKREG1,\WKREG2                ;
 1532                            1039 I1          ADD     #1,\WKREG2                      ;
 1533                            1040 I1          TST     \WKREG2,\WKREG2                 ;
 1534                            1041 I1          TST_BIT_OF JMP_01\@                     ;ZERO THEN JUMP
 1535                            1042 I1          MOV.\LG \WKREG2,@\WKREG1                ;STORE
 1536                            1043 I1  JMP_01\@:                                       ;
 1537                            1044 I1          .ENDM                                   ;
 1538                            1045 I1  
 1539                            1046 I1          .MACRO  SCAN_TIM_REF_4B SCAN_TIM1,OLDCNT,CNTDLT
 1540                            1047 I1          MOV.L   #\SCAN_TIM1,R10                 ;
 1541                            1048 I1          MOV.L   #\OLDCNT,R11                    ;
 1542                            1049 I1          MOV.L   @R10,R0                         ;R2,R0 NEW
 1543                            1050 I1          MOV     R0,R2                           ;
 1544                            1051 I1          MOV.L   @R11,R1                         ;R1:OLD
 1545                            1052 I1          MOV.L   #\CNTDLT,R10                    ;
 1546                            1053 I1          MOV.L   R0,@R11                         ;REFLASH
 1547                            1054 I1          SUB     R1,R2                           ;
 1548                            1055 I1          MOV.L   R2,@R10                         ;
 1549                            1056 I1          .ENDM
 1550                            1057 I1  
 1551                            1058 I1  ;       ***********************************
 1552                            1059 I1  ;       ***                             ***
 1553                            1060 I1  ;       ***     ﾘﾝｸﾞﾀﾞｳﾝCNT             ***
 1554                            1061 I1  ;       ***     DEBUG USED              ***
 1555                            1062 I1  ;       ***                             ***
 1556                            1063 I1  ;       ***********************************
 1557                            1064 I1  ;       ***********************************
 1558                            1065 I1  ;       ***                             ***
 1559                            1066 I1  ;       ***     ﾘﾝｸﾞUP-CNT              ***
 1560                            1067 I1  ;       ***     DEBUG USED              ***
 1561                            1068 I1  ;       ***                             ***
 1562                            1069 I1  ;       ***********************************
 1563                            1070 I1  ;       LATE=1~127,-1~-128
 1564                            1071 I1          .MACRO  UP_DN_LATE_CNT LG,MEM_ADR,WKREG1,WKREG2,LATE
 1565                            1072 I1          MOV.L   #\MEM_ADR,\WKREG1               ;SORCE ADRESS SET
 1566                            1073 I1          MOV.\LG @\WKREG1,\WKREG2                ;
 1567                            1074 I1          ADD     #\LATE,\WKREG2                  ;
 1568                            1075 I1          MOV.\LG \WKREG2,@\WKREG1                ;STORE
 1569                            1076 I1          .ENDM                                   ;
 1570                            1077 I1  
 1571                            1078 I1  ;       ***********************************
 1572                            1079 I1  ;       ***     DWORD --> CHG1 CHANGE   ***
 1573                            1080 I1  ;       ***********************************
 1574                            1081 I1  ;       0~31
 1575                            1082 I1  ;       DT_REG KEEP
 1576                            1083 I1  ;
 1577                            1084 I1          .MACRO  DWORD_TBL_CHG1  DT_REG,WKREG,TBL_ADR
 1578                            1085 I1          MOV.L   #\TBL_ADR,\WKREG                ;*4
 1579                            1086 I1          SHLL2   \DT_REG                         ;
 1580                            1087 I1          ADD     \DT_REG,\WKREG                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    29
PROGRAM NAME =

 1581                            1088 I1          SHLR2   \DT_REG                         ;
 1582                            1089 I1          .ENDM
 1583                            1090 I1  
 1584                            1091 I1  ;       ***********************************
 1585                            1092 I1  ;       ***     TABLE CALL              ***
 1586                            1093 I1  ;       ***     Input NO. REG           ***
 1587                            1094 I1  ;       ***********************************
 1588                            1095 I1  ;;      .MACRO TABLE_JUMP_MEM   NUMBER_REG,TABLE_MEM,WKREG1
 1589                            1096 I1  ;;      SHLL2   \NUMBER_REG             ;*2
 1590                            1097 I1  ;;      MOV.L   #\TABLE_MEM,\WKREG1     ;
 1591                            1098 I1  ;;      ADD     \WKREG1,\NUMBER_REG     ;
 1592                            1099 I1  ;;      MOV.L   @\NUMBER_REG,\WKREG1    ;
 1593                            1100 I1  ;;      JSR_REG \WKREG1                 ;
 1594                            1101 I1  ;;      .ENDM
 1595                            1102 I1  
 1596                            1103 I1          .MACRO TABLE_CALL_MEM   NUMBER_REG,TABLE_MEM,WKREG1
 1597                            1104 I1          SHLL2   \NUMBER_REG             ;*2
 1598                            1105 I1          MOV.L   #\TABLE_MEM,\WKREG1     ;
 1599                            1106 I1          ADD     \WKREG1,\NUMBER_REG     ;
 1600                            1107 I1          MOV.L   @\NUMBER_REG,\WKREG1    ;
 1601                            1108 I1          JSR_REG \WKREG1                 ;
 1602                            1109 I1          .ENDM
 1603                            1110 I1  
 1604                            1111 I1  
 1605                            1112 I1  
 1606                            1113 I1  ;       ***************************************************
 1607                            1114 I1  ;       ***             通常制御＋パージ制御            ***
 1608                            1115 I1  ;       ***************************************************
 1609                            1116 I1  ;       R0,R4,R10,R11
 1610                            1117 I1  ;       ACTFLG=1WORD 但し BIT7~BIT0までしか使用不可:通常BIT0
 1611                            1118 I1  
 1612                            1119 I1          .MACRO  PAT_LEVEL_CTL1 STRSB,DATSB,ACTSB,ENDSB,ELSESB,ACTFLG,SEQ_DT,FLGTBT,SQBIT,F
                                          LGSBT
 1613                            1120 I1          MOV.L   #\ACTFLG,R10                    ;
 1614                            1121 I1          MOV.L   #\SEQ_DT,R11                    ;
 1615                            1122 I1          MOV.W   @R10,R0                         ;FLAG LOAD
 1616                            1123 I1          TST     #\FLGTBT,R0                     ;ENABLE?
 1617                            1124 I1          TST_BIT_ON JMP_ACT01\@                  ;ON THEN FLAG ACTIVE JUMP
 1618                            1125 I1  
 1619                            1126 I1  ;       ------- FLAG OFF ---------
 1620                            1127 I1          MOV.W   @R11,R0                         ;SEQ
 1621                            1128 I1          MOV.W   #\SQBIT,R4                      ;
 1622                            1129 I1          TST     R4,R0                           ;
 1623                            1130 I1          TST_BIT_OF JMP_EXIT\@                   ;
 1624                            1131 I1  
 1625                            1132 I1  ;       ------- SEQ ON START -----
 1626                            1133 I1          MOV.W   @R10,R0                         ;
 1627                            1134 I1          OR      #\FLGSBT,R0                     ;
 1628                            1135 I1          MOV.W   R0,@R10                         ;FLAG BIT SET
 1629                            1136 I1  
 1630                            1137 I1          FAR_JSR #\STRSB,R10                     ;ANS.REG_CTL_FLG1
 1631                            1138 I1  
 1632                            1139 I1          M_BRA   JMP_ACT02\@                     ;
 1633                            1140 I1  
 1634                            1141 I1  ;       -----------------------------
 1635                            1142 I1  ;       ---------- ACTIVE -----------
 1636                            1143 I1  ;       -----------------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    30
PROGRAM NAME =

 1637                            1144 I1          .ALIGN  4                               ;
 1638                            1145 I1  
 1639                            1146 I1  JMP_ACT01\@:                                    ;
 1640                            1147 I1  
 1641                            1148 I1          MOV.W   @R11,R0                         ;SEQ
 1642                            1149 I1          MOV.W   #\SQBIT,R4
 1643                            1150 I1          TST     R4,R0                           ;
 1644                            1151 I1          TST_BIT_ON JMP_ACT02\@                  ;ACITIVE CONTINUE
 1645                            1152 I1  
 1646                            1153 I1          MOV.L   #\ACTFLG,R10                    ;
 1647                            1154 I1          MOV.W   @R10,R0                         ;
 1648                            1155 I1          AND     #LOW ~\FLGSBT,R0                ;
 1649                            1156 I1          MOV.W   R0,@R10                         ;FLAG CLR
 1650                            1157 I1  
 1651                            1158 I1          FAR_JSR #\ELSESB,R10                    ;積分STOP等のELSEｻﾌﾞﾙｰﾁﾝ
 1652                            1159 I1          FAR_JSR #\ENDSB,R10                     ;
 1653                            1160 I1          M_BRA   JMP_EXIT\@                      ;
 1654                            1161 I1  
 1655                            1162 I1  JMP_ACT02\@:                                    ;
 1656                            1163 I1  
 1657                            1164 I1          FAR_JSR #\DATSB,R10                     ;data ｾﾚｸﾄ
 1658                            1165 I1          FAR_JSR #\ACTSB,R10                     ;
 1659                            1166 I1  JMP_EXIT\@:                                     ;
 1660                            1167 I1          .ENDM
 1661                            1168 I1  
 1662                            1169 I1  
 1663                            1170 I1  
 1664                            1171 I1  ;       ***********************************
 1665                            1172 I1  ;       ***                             ***
 1666                            1173 I1  ;       ***                             ***
 1667                            1174 I1  ;       ***                             ***
 1668                            1175 I1  ;       ***********************************
 1669                            1176 I1          .MACRO  INT_CTRL_ALL_STOP1 MAIN_CMD,INT_STS_FLG
 1670                            1177 I1          XOR     R0,R0
 1671                            1178 I1          MOV.L   #\MAIN_CMD,R1                                   ;
 1672                            1179 I1          MOV.W   R0,@R1                                          ;
 1673                            1180 I1          MOV.L   #\INT_STS_FLG,R1                                ;
 1674                            1181 I1          MOV.W   R0,@R1                                          ;
 1675                            1182 I1          .ENDM
 1676                            1183 I1  
 1677                            1184 I1  
 1678                            1185 I1  
 1679                            1186 I1  ;       ===================================
 1680                            1187 I1  ;       ===     監視ﾃﾞｰﾀｸﾘｱ+SAVE        ===
 1681                            1188 I1  ;       ===================================
 1682                            1189 I1  ;       R8,R9は壊さない事を保証する
 1683                            1190 I1          .MACRO KS_UP_DN_CLR1 SQ_UP,SQ_DN,CLR_REG
 1684                            1191 I1          MOV.L   #\SQ_UP,R13             ;ADR LOAD
 1685                            1192 I1          MOV.W   @R13,R0                 ;DATA LOAD
 1686                            1193 I1          AND     \CLR_REG,R0             ;CLR
 1687                            1194 I1          MOV.W   R0,@R13                 ;
 1688                            1195 I1  
 1689                            1196 I1          MOV.L   #\SQ_DN,R14             ;ADR LOAD
 1690                            1197 I1          MOV.W   @R14,R0                 ;
 1691                            1198 I1          AND     \CLR_REG,R0             ;CLR
 1692                            1199 I1          MOV.W   R0,@R14                 ;
 1693                            1200 I1          .ENDM
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    31
PROGRAM NAME =

 1694                            1201 I1  
 1695                            1202 I1  ;       ===================================
 1696                            1203 I1  ;       ===     監視                    ===
 1697                            1204 I1  ;       ===================================
 1698                            1205 I1  
 1699                            1206 I1  ;       ***********************************
 1700                            1207 I1  ;       ***     監視W/L共通ﾏｸﾛ          ***
 1701                            1208 I1  ;       ***********************************
 1702                            1209 I1  ;       監視ﾃﾞｰﾀ "R1=実測"
 1703                            1210 I1  ;       R0,R11~R14,R4,R5,R6 USED
 1704                            1211 I1  ;
 1705                            1212 I1  ;       "R7,R8,R9は壊さない事を保証する"
 1706                            1213 I1  ;
 1707                            1214 I1  ;       LGW_U=1 WORD ｾﾞﾛ拡張
 1708                            1215 I1  ;
 1709                            1216 I1  
 1710                            1217 I1          .MACRO  KS_UP_DN_CHK1   SQ_UP,SQ_DN,SET_BIT,SV_UP,SV_DN,LG,LGW_U
 1711                            1218 I1          MOV.L   \SQ_UP,R13                              ;221 UP "*"
 1712                            1219 I1          MOV.L   \SQ_DN,R14                              ;223 DN "*"R0,R13,R14
 1713                            1220 I1          MOV.L   \SV_UP,R11                              ;
 1714                            1221 I1          MOV.L   \SV_DN,R12                              ;
 1715                            1222 I1  
 1716                            1223 I1          .AIF    \LGW_U  EQ      0                       ;ﾜｰﾄﾞの0拡張
 1717                            1224 I1          MOV.\LG @R11,R4                                 ;
 1718                            1225 I1          EXTU.W  R4,R4                                   ;
 1719                            1226 I1          MOV.\LG @R12,R5                                 ;
 1720                            1227 I1          EXTU.W  R5,R5                                   ;
 1721                            1228 I1          .AELSE                                          ;
 1722                            1229 I1          MOV.\LG @R11,R4                                 ;
 1723                            1230 I1          MOV.\LG @R12,R5                                 ;
 1724                            1231 I1          .AENDI                                          ;
 1725                            1232 I1  
 1726                            1233 I1          CMP/GE  R1,R4                           ;R1[PV] =< R5[SV] UP THEN NOMAL
 1727                            1234 I1          BT      KANSHI_020\@                    ;
 1728                            1235 I1          MOV.W   #\SET_BIT,R6                    ;
 1729                            1236 I1          MOV.W   @R13,R0                         ;R0 WORK
 1730                            1237 I1          OR      R6,R0                           ;PV > SV UP BIT
 1731                            1238 I1          MOV.W   R0,@R13                         ;
 1732                            1239 I1  
 1733                            1240 I1          NOT     R6,R6                           ;
 1734                            1241 I1          MOV.W   @R14,R0                         ;R0 WORK
 1735                            1242 I1          AND     R6,R0                           ;
 1736                            1243 I1          MOV.W   R0,@R14                         ;
 1737                            1244 I1          M_BRA   KANSHI_EXT\@                    ;
 1738                            1245 I1  
 1739                            1246 I1  KANSHI_020\@:
 1740                            1247 I1          CMP/GE  R5,R1                   ;LIMIT =< PV
 1741                            1248 I1          BT      KANSHI_040\@            ;NOMAL
 1742                            1249 I1  
 1743                            1250 I1          MOV.W   #\SET_BIT,R6            ;
 1744                            1251 I1          MOV.W   @R14,R0                 ;R0 WORK
 1745                            1252 I1          OR      R6,R0                   ;
 1746                            1253 I1          MOV.W   R0,@R14                 ;
 1747                            1254 I1  
 1748                            1255 I1          NOT     R6,R6                   ;
 1749                            1256 I1          MOV.W   @R13,R0                 ;R0 WORK
 1750                            1257 I1          AND     R6,R0                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    32
PROGRAM NAME =

 1751                            1258 I1          MOV.W   R0,@R13                 ;
 1752                            1259 I1          M_BRA   KANSHI_EXT\@            ;
 1753                            1260 I1  
 1754                            1261 I1  ;       ------ NOMAL -----
 1755                            1262 I1  KANSHI_040\@:                           ;
 1756                            1263 I1          MOV.W   #\SET_BIT,R6            ;
 1757                            1264 I1          NOT     R6,R6                   ;
 1758                            1265 I1  
 1759                            1266 I1          MOV.W   @R13,R0                 ;R0 WORK
 1760                            1267 I1          AND     R6,R0   ;
 1761                            1268 I1          MOV.W   R0,@R13                 ;
 1762                            1269 I1  
 1763                            1270 I1          MOV.W   @R14,R0                 ;R0 WORK
 1764                            1271 I1          AND     R6,R0           ;
 1765                            1272 I1          MOV.W   R0,@R14                 ;
 1766                            1273 I1  
 1767                            1274 I1  KANSHI_EXT\@:
 1768                            1275 I1          .ENDM                                           ;
 1769                            1276 I1  
 1770                            1277 I1  ;       ***********************************************************
 1771                            1278 I1  ;       ***                                                     ***
 1772                            1279 I1  ;       ***     10000-->30000 *SH_CALC_LATE/H8_CALC_LATE        ***
 1773                            1280 I1  ;       ***     ではなく、10000*3に変更                         ***
 1774                            1281 I1  ;       ***                                                     ***
 1775                            1282 I1  ;       ***********************************************************
 1776                            1283 I1  ;       IN_OUT_REGとWKREGは異なる事
 1777                            1284 I1          .MACRO  CHG_H8LATE_TO_SHLATE IN_OUT_REG,WKREG
 1778                            1285 I1          MOV     \IN_OUT_REG,\WKREG              ;
 1779                            1286 I1          ADD     \WKREG,\WKREG                   ;*2
 1780                            1287 I1          ADD     \WKREG,\IN_OUT_REG              ;+1
 1781                            1288 I1          .ENDM
 1782                            1289 I1  
 1783                            1290 I1  
 1784                            1291 I1  
 1785                            1292 I1  
 1786                            1293 I1  
 1787                            1294 I1  ;       ***********************************
 1788                            1295 I1  ;       ***                             ***
 1789                            1296 I1  ;       ***     ﾒﾓﾘ0ｸﾘｱK                ***
 1790                            1297 I1  ;       ***     2014-05-30              ***
 1791                            1298 I1  ;       ***********************************
 1792                            1299 I1          .MACRO  MEM_0CLR_R0_R1  MEM,LG
 1793                            1300 I1          XOR     R0,R0           ;
 1794                            1301 I1          MOV.L   #\MEM,R1        ;
 1795                            1302 I1          MOV.\LG R0,@R1          ;
 1796                            1303 I1          .ENDM
 1797                            1304 I1  
 1798                            1305 I1  
 1799                            1306 I1  
 1800                            1307 I1  
 1801                            1308 I1  
 1802                            1309 I1  
 1803                            1310 I1  
 1804                            1311 I1  
 1805                            1312 I1  
 1806                            1313 I1  
 1807                              14             .INCLUDE        "CPU_REG.ext"           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    33
PROGRAM NAME =

 1808                               1 I1  ;       ***************************************************
 1809                               2 I1  ;       ***             SH7727 ﾚｼﾞｽﾀ                    ***
 1810                               3 I1  ;       ***************************************************
 1811                               4 I1          .INCLUDE        "SH7727RG.EXT"
 1812                               1 I2  ;       ***************************************************
 1813                               2 I2  ;       ***             SH7727 ﾚｼﾞｽﾀ                    ***
 1814                               3 I2  ;       ***************************************************
 1815                               4 I2  
 1816                               5 I2          .GLOBAL         _INTEVT2        ; .SRES 4                       ; A4000000
 1817                               6 I2          .GLOBAL         _IRR0           ; .SRES 2                       ; A4000004
 1818                               7 I2          .GLOBAL         _IRR1           ; .SRES 2                       ; A4000006
 1819                               8 I2          .GLOBAL         _IRR2           ; .SRES 2                       ; A4000008
 1820                               9 I2          .GLOBAL         _ICR1           ; .SRES 2                       ; A4000010
 1821                              10 I2          .GLOBAL         _ICR2           ; .SRES 2                       ; A4000012
 1822                              11 I2          .GLOBAL         _PINTER         ; .SRES 2                       ; A4000014
 1823                              12 I2          .GLOBAL         _IPRC           ; .SRES 2                       ; A4000016
 1824                              13 I2          .GLOBAL         _IPRD           ; .SRES 2                       ; A4000018
 1825                              14 I2          .GLOBAL         _IPRE           ; .SRES 2                       ; A400001A
 1826                              15 I2          .GLOBAL         _SAR0           ; .SRES 4                       ; A4000020
 1827                              16 I2          .GLOBAL         _DAR0           ; .SRES 4                       ; A4000024
 1828                              17 I2          .GLOBAL         _DMATCR0        ; .SRES 4                       ; A4000028
 1829                              18 I2          .GLOBAL         _CHCR0          ; .SRES 4                       ; A400002C
 1830                              19 I2          .GLOBAL         _SAR1           ; .SRES 4                       ; A4000030
 1831                              20 I2          .GLOBAL         _DAR1           ; .SRES 4                       ; A4000034
 1832                              21 I2          .GLOBAL         _DMATCR1        ; .SRES 4                       ; A4000038
 1833                              22 I2          .GLOBAL         _CHCR1          ; .SRES 4                       ; A400003C
 1834                              23 I2          .GLOBAL         _SAR2           ; .SRES 4                       ; A4000040
 1835                              24 I2          .GLOBAL         _DAR2           ; .SRES 4                       ; A4000044
 1836                              25 I2          .GLOBAL         _DMATCR2        ; .SRES 4                       ; A4000048
 1837                              26 I2          .GLOBAL         _CHCR2          ; .SRES 4                       ; A400004C
 1838                              27 I2          .GLOBAL         _SAR3           ; .SRES 4                       ; A4000050
 1839                              28 I2          .GLOBAL         _DAR3           ; .SRES 4                       ; A4000054
 1840                              29 I2          .GLOBAL         _DMATCR3        ; .SRES 4                       ; A4000058
 1841                              30 I2          .GLOBAL         _CHCR3          ; .SRES 4                       ; A400005C
 1842                              31 I2          .GLOBAL         _DMAOR          ; .SRES 2                       ; A4000060
 1843                              32 I2          .GLOBAL         _CMSTR          ; .SRES 2                       ; A4000070
 1844                              33 I2          .GLOBAL         _CMCSR          ; .SRES 2                       ; A4000072
 1845                              34 I2          .GLOBAL         _CMCNT          ; .SRES 2                       ; A4000074
 1846                              35 I2          .GLOBAL         _CMCOR          ; .SRES 2                       ; A4000076
 1847                              36 I2          .GLOBAL         _ADDRAH         ; .SRES 1                       ; A4000080
 1848                              37 I2          .GLOBAL         _ADDRAL         ; .SRES 1                       ; A4000082
 1849                              38 I2          .GLOBAL         _ADDRBH         ; .SRES 1                       ; A4000084
 1850                              39 I2          .GLOBAL         _ADDRBL         ; .SRES 1                       ; A4000086
 1851                              40 I2          .GLOBAL         _ADDRCH         ; .SRES 1                       ; A4000088
 1852                              41 I2          .GLOBAL         _ADDRCL         ; .SRES 1                       ; A400008A
 1853                              42 I2          .GLOBAL         _ADDRDH         ; .SRES 1                       ; A400008C
 1854                              43 I2          .GLOBAL         _ADDRDL         ; .SRES 1                       ; A400008E
 1855                              44 I2          .GLOBAL         _ADCSR          ; .SRES 1                       ; A4000090
 1856                              45 I2          .GLOBAL         _ADCR           ; .SRES 1                       ; A4000092
 1857                              46 I2          .GLOBAL         _DADR0          ; .SRES 1                       ; A40000A0
 1858                              47 I2          .GLOBAL         _DADR1          ; .SRES 1                       ; A40000A2
 1859                              48 I2          .GLOBAL         _DACR1          ; .SRES 1                       ; A40000A4
 1860                              49 I2          .GLOBAL         _CCR2           ; .SRES 4                       ; A40000B0
 1861                              50 I2          .GLOBAL         _SIMDR          ; .SRES 2                       ; A40000C0
 1862                              51 I2          .GLOBAL         _SISCR          ; .SRES 2                       ; A40000C2
 1863                              52 I2          .GLOBAL         _SITDAR         ; .SRES 2                       ; A40000C4
 1864                              53 I2          .GLOBAL         _SIRDAR         ; .SRES 2                       ; A40000C6
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    34
PROGRAM NAME =

 1865                              54 I2          .GLOBAL         _SICDAR         ; .SRES 2                       ; A40000C8
 1866                              55 I2          .GLOBAL         _SICTR          ; .SRES 2                       ; A40000CC
 1867                              56 I2          .GLOBAL         _SIFCTR         ; .SRES 2                       ; A40000D0
 1868                              57 I2          .GLOBAL         _SISTR          ; .SRES 2                       ; A40000D4
 1869                              58 I2          .GLOBAL         _SIIER          ; .SRES 2                       ; A40000D6
 1870                              59 I2          .GLOBAL         _SITDR          ; .SRES 4                       ; A40000E0
 1871                              60 I2          .GLOBAL         _SIRDR          ; .SRES 4                       ; A40000E4
 1872                              61 I2          .GLOBAL         _SITCR          ; .SRES 4                       ; A40000E8
 1873                              62 I2          .GLOBAL         _SIRCR          ; .SRES 4                       ; A40000EC
 1874                              63 I2          .GLOBAL         _SITMR          ; .SRES 2                       ; A40000FC
 1875                              64 I2          .GLOBAL         _SIFPR          ; .SRES 2                       ; A40000FE
 1876                              65 I2          .GLOBAL         _PACR           ; .SRES 2                       ; A4000100
 1877                              66 I2          .GLOBAL         _PBCR           ; .SRES 2                       ; A4000102
 1878                              67 I2          .GLOBAL         _PCCR           ; .SRES 2                       ; A4000104
 1879                              68 I2          .GLOBAL         _PDCR           ; .SRES 2                       ; A4000106
 1880                              69 I2          .GLOBAL         _PECR           ; .SRES 2                       ; A4000108
 1881                              70 I2          .GLOBAL         _PFCR           ; .SRES 2                       ; A400010A
 1882                              71 I2          .GLOBAL         _PGCR           ; .SRES 2                       ; A400010C
 1883                              72 I2          .GLOBAL         _PHCR           ; .SRES 2                       ; A400010E
 1884                              73 I2          .GLOBAL         _PJCR           ; .SRES 2                       ; A4000110
 1885                              74 I2          .GLOBAL         _PKCR           ; .SRES 2                       ; A4000112
 1886                              75 I2          .GLOBAL         _PLCR           ; .SRES 2                       ; A4000114
 1887                              76 I2          .GLOBAL         _SCPCR          ; .SRES 2                       ; A4000116
 1888                              77 I2          .GLOBAL         _PMCR           ; .SRES 2                       ; A4000118
 1889                              78 I2          .GLOBAL         _PADR           ; .SRES 1                       ; A4000120
 1890                              79 I2          .GLOBAL         _PBDR           ; .SRES 1                       ; A4000122
 1891                              80 I2          .GLOBAL         _PCDR           ; .SRES 1                       ; A4000124
 1892                              81 I2          .GLOBAL         _PDDR           ; .SRES 1                       ; A4000126
 1893                              82 I2          .GLOBAL         _PEDR           ; .SRES 1                       ; A4000128
 1894                              83 I2          .GLOBAL         _PFDR           ; .SRES 1                       ; A400012A
 1895                              84 I2          .GLOBAL         _PGDR           ; .SRES 1                       ; A400012C
 1896                              85 I2          .GLOBAL         _PHDR           ; .SRES 1                       ; A400012E
 1897                              86 I2          .GLOBAL         _PJDR           ; .SRES 1                       ; A4000130
 1898                              87 I2          .GLOBAL         _PKDR           ; .SRES 1                       ; A4000132
 1899                              88 I2          .GLOBAL         _PLDR           ; .SRES 1                       ; A4000134
 1900                              89 I2          .GLOBAL         _SCPDR          ; .SRES 1                       ; A4000136
 1901                              90 I2          .GLOBAL         _PMDR           ; .SRES 1                       ; A4000138
 1902                              91 I2          .GLOBAL         _SCSMR2         ; .SRES 1                       ; A4000150
 1903                              92 I2          .GLOBAL         _SCBRR2         ; .SRES 1                       ; A4000152
 1904                              93 I2          .GLOBAL         _SCSCR2         ; .SRES 1                       ; A4000154
 1905                              94 I2          .GLOBAL         _SCFTDR2        ; .SRES 1                       ; A4000156
 1906                              95 I2          .GLOBAL         _SCSSR2         ; .SRES 2                       ; A4000158
 1907                              96 I2          .GLOBAL         _SCFRDR2        ; .SRES 1                       ; A400015A
 1908                              97 I2          .GLOBAL         _SCFCR2         ; .SRES 1                       ; A400015C
 1909                              98 I2          .GLOBAL         _SCFDR2         ; .SRES 2                       ; A400015E
 1910                              99 I2          .GLOBAL         _PCC0ISR        ; .SRES 1                       ; A4000160
 1911                             100 I2          .GLOBAL         _PCC0GCR        ; .SRES 1                       ; A4000162
 1912                             101 I2          .GLOBAL         _PCC0CSCR       ; .SRES 1                       ; A4000164
 1913                             102 I2          .GLOBAL         _PCC0CSCIER     ; .SRES 1                       ; A4000166
 1914                             103 I2          .GLOBAL         _ACTR1          ; .SRES 2                       ; A4000180
 1915                             104 I2          .GLOBAL         _ACTR2          ; .SRES 2                       ; A4000182
 1916                             105 I2          .GLOBAL         _ASTR1          ; .SRES 2                       ; A4000184
 1917                             106 I2          .GLOBAL         _ASTR2          ; .SRES 2                       ; A4000186
 1918                             107 I2          .GLOBAL         _MRCR           ; .SRES 2                       ; A4000188
 1919                             108 I2          .GLOBAL         _MPCR           ; .SRES 2                       ; A400018A
 1920                             109 I2          .GLOBAL         _DPNQ           ; .SRES 2                       ; A400018C
 1921                             110 I2          .GLOBAL         _RCNT           ; .SRES 2                       ; A400018E
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    35
PROGRAM NAME =

 1922                             111 I2          .GLOBAL         _ACDR           ; .SRES 2                       ; A4000190
 1923                             112 I2          .GLOBAL         _ASDR           ; .SRES 2                       ; A4000192
 1924                             113 I2          .GLOBAL         _TDFP           ; .SRES 2                       ; A4000194
 1925                             114 I2          .GLOBAL         _RDFP           ; .SRES 2                       ; A4000198
 1926                             115 I2          .GLOBAL         _SDIR           ; .SRES 2                       ; A4000200
 1927                             116 I2          .GLOBAL         _SDDR_SDDRH     ; .SRES 4                       ; A4000208
 1928                             117 I2          .GLOBAL         _SDDRL          ; .SRES 2                       ; A400020A
 1929                             118 I2          .GLOBAL         _IPRF           ; .SRES 2                       ; A4000220
 1930                             119 I2          .GLOBAL         _IPRG           ; .SRES 2                       ; A4000222
 1931                             120 I2          .GLOBAL         _IPR3           ; .SRES 2                       ; A4000224
 1932                             121 I2          .GLOBAL         _IPR4           ; .SRES 2                       ; A4000226
 1933                             122 I2          .GLOBAL         _ICR3           ; .SRES 2                       ; A4000228
 1934                             123 I2          .GLOBAL         _CHRAR          ; .SRES 2                       ; A400022A
 1935                             124 I2          .GLOBAL         _STBCR3         ; .SRES 1                       ; A4000230
 1936                             125 I2          .GLOBAL         _SRSTR          ; .SRES 1                       ; A4000232
 1937                             126 I2          .GLOBAL         _EXPFC          ; .SRES 2                       ; A4000234
 1938                             127 I2          .GLOBAL         _EXCPGCR        ; .SRES 1                       ; A4000236
 1939                             128 I2          .GLOBAL         _CKIO2CR        ; .SRES 1                       ; A400023A
 1940                             129 I2          .GLOBAL         _USBIFR0        ; .SRES 1                       ; A4000240
 1941                             130 I2          .GLOBAL         _USBIFR1        ; .SRES 1                       ; A4000241
 1942                             131 I2          .GLOBAL         _USBEPDR0I      ; .SRES 1                       ; A4000242
 1943                             132 I2          .GLOBAL         _USBEPDR0O      ; .SRES 1                       ; A4000243
 1944                             133 I2          .GLOBAL         _USBTFG         ; .SRES 1                       ; A4000244
 1945                             134 I2          .GLOBAL         _USBFCLR        ; .SRES 1                       ; A4000245
 1946                             135 I2          .GLOBAL         _USBEPSZ0O      ; .SRES 1                       ; A4000246
 1947                             136 I2          .GLOBAL         _USBEPDR0S      ; .SRES 1                       ; A4000247
 1948                             137 I2          .GLOBAL         _USBDASTS       ; .SRES 1                       ; A4000248
 1949                             138 I2          .GLOBAL         _USBEPDR2       ; .SRES 1                       ; A4000249
 1950                             139 I2          .GLOBAL         _USBISR0        ; .SRES 1                       ; A400024A
 1951                             140 I2          .GLOBAL         _USBEPSTL       ; .SRES 1                       ; A400024B
 1952                             141 I2          .GLOBAL         _USBIER0        ; .SRES 1                       ; A400024C
 1953                             142 I2          .GLOBAL         _USBIER1        ; .SRES 1                       ; A400024D
 1954                             143 I2          .GLOBAL         _USBEPDR1       ; .SRES 1                       ; A400024E
 1955                             144 I2          .GLOBAL         _USBEPSZ1       ; .SRES 1                       ; A400024F
 1956                             145 I2          .GLOBAL         _USBISR1        ; .SRES 1                       ; A4000250
 1957                             146 I2          .GLOBAL         _USBDMA         ; .SRES 1                       ; A4000251
 1958                             147 I2          .GLOBAL         _USBEPDR3       ; .SRES 1                       ; A4000252
 1959                             148 I2          .GLOBAL         _USBHR          ; .SRES 4                       ; A4000400
 1960                             149 I2          .GLOBAL         _USBHC          ; .SRES 4                       ; A4000404
 1961                             150 I2          .GLOBAL         _USBHCS         ; .SRES 4                       ; A4000408
 1962                             151 I2          .GLOBAL         _USBHIS         ; .SRES 4                       ; A400040C
 1963                             152 I2          .GLOBAL         _USBHIE         ; .SRES 4                       ; A4000410
 1964                             153 I2          .GLOBAL         _USBHID         ; .SRES 4                       ; A4000414
 1965                             154 I2          .GLOBAL         _USBHHCCA       ; .SRES 4                       ; A4000418
 1966                             155 I2          .GLOBAL         _USBHPCED       ; .SRES 4                       ; A400041C
 1967                             156 I2          .GLOBAL         _USBHCHED       ; .SRES 4                       ; A4000420
 1968                             157 I2          .GLOBAL         _USBHCCED       ; .SRES 4                       ; A4000424
 1969                             158 I2          .GLOBAL         _USBHBHED       ; .SRES 4                       ; A4000428
 1970                             159 I2          .GLOBAL         _USBHBCED       ; .SRES 4                       ; A400042C
 1971                             160 I2          .GLOBAL         _USBHDHED       ; .SRES 4                       ; A4000430
 1972                             161 I2          .GLOBAL         _USBHFI         ; .SRES 4                       ; A4000434
 1973                             162 I2          .GLOBAL         _USBHFR         ; .SRES 4                       ; A4000438
 1974                             163 I2          .GLOBAL         _USBHFN         ; .SRES 4                       ; A400043C
 1975                             164 I2          .GLOBAL         _USBHPS         ; .SRES 4                       ; A4000440
 1976                             165 I2          .GLOBAL         _USBHLST        ; .SRES 4                       ; A4000444
 1977                             166 I2          .GLOBAL         _USBHRDA        ; .SRES 4                       ; A4000448
 1978                             167 I2          .GLOBAL         _USBHRDB        ; .SRES 4                       ; A400044C
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    36
PROGRAM NAME =

 1979                             168 I2          .GLOBAL         _USBHRS         ; .SRES 4                       ; A4000450
 1980                             169 I2          .GLOBAL         _USBHRPS1       ; .SRES 4                       ; A4000454
 1981                             170 I2          .GLOBAL         _USBHRPS2       ; .SRES 4                       ; A4000458
 1982                             171 I2          .GLOBAL         _LDPR00         ; .SRES 4                       ; A4000800
 1983                             172 I2          .GLOBAL         _LDICKR         ; .SRES 2                       ; A4000C00
 1984                             173 I2          .GLOBAL         _LDMTR          ; .SRES 2                       ; A4000C02
 1985                             174 I2          .GLOBAL         _LDDFR          ; .SRES 2                       ; A4000C04
 1986                             175 I2          .GLOBAL         _LDSMR          ; .SRES 2                       ; A4000C06
 1987                             176 I2          .GLOBAL         _LDSARU         ; .SRES 4                       ; A4000C08
 1988                             177 I2          .GLOBAL         _LDSARL         ; .SRES 4                       ; A4000C0C
 1989                             178 I2          .GLOBAL         _LDLAOR         ; .SRES 2                       ; A4000C10
 1990                             179 I2          .GLOBAL         _LDPALCR        ; .SRES 2                       ; A4000C12
 1991                             180 I2          .GLOBAL         _LDHCNR         ; .SRES 2                       ; A4000C14
 1992                             181 I2          .GLOBAL         _LDHSYNR        ; .SRES 2                       ; A4000C16
 1993                             182 I2          .GLOBAL         _LDVDLNR        ; .SRES 2                       ; A4000C18
 1994                             183 I2          .GLOBAL         _LDVTLNR        ; .SRES 2                       ; A4000C1A
 1995                             184 I2          .GLOBAL         _LDVSYNR        ; .SRES 2                       ; A4000C1C
 1996                             185 I2          .GLOBAL         _LDACLNR        ; .SRES 2                       ; A4000C1E
 1997                             186 I2          .GLOBAL         _LDINTR         ; .SRES 2                       ; A4000C20
 1998                             187 I2          .GLOBAL         _LDPMMR         ; .SRES 2                       ; A4000C24
 1999                             188 I2          .GLOBAL         _LDPSPR         ; .SRES 2                       ; A4000C26
 2000                             189 I2          .GLOBAL         _LDCNTR         ; .SRES 2                       ; A4000C28
 2001                             190 I2          .GLOBAL         _SMR0           ; .SRES 1                       ; FFFFFE80
 2002                             191 I2          .GLOBAL         _BRR0           ; .SRES 1                       ; FFFFFE82
 2003                             192 I2          .GLOBAL         _SCR0           ; .SRES 1                       ; FFFFFE84
 2004                             193 I2          .GLOBAL         _TDR0           ; .SRES 1                       ; FFFFFE86
 2005                             194 I2          .GLOBAL         _SSR0           ; .SRES 1                       ; FFFFFE88
 2006                             195 I2          .GLOBAL         _RDR0           ; .SRES 1                       ; FFFFFE8A
 2007                             196 I2          .GLOBAL         _SCSCMR         ; .SRES 1                       ; FFFFFE8C
 2008                             197 I2          .GLOBAL         _TSTR           ; .SRES 1                       ; FFFFFE92
 2009                             198 I2          .GLOBAL         _TCOR0          ; .SRES 4                       ; FFFFFE94
 2010                             199 I2          .GLOBAL         _TCNT0          ; .SRES 4                       ; FFFFFE98
 2011                             200 I2          .GLOBAL         _TCR0           ; .SRES 2                       ; FFFFFE9C
 2012                             201 I2          .GLOBAL         _TCOR1          ; .SRES 4                       ; FFFFFEA0
 2013                             202 I2          .GLOBAL         _TCNT1          ; .SRES 4                       ; FFFFFEA4
 2014                             203 I2          .GLOBAL         _TCR1           ; .SRES 2                       ; FFFFFEA8
 2015                             204 I2          .GLOBAL         _TCOR2          ; .SRES 4                       ; FFFFFEAC
 2016                             205 I2          .GLOBAL         _TCNT2          ; .SRES 4                       ; FFFFFEB0
 2017                             206 I2          .GLOBAL         _TCR2           ; .SRES 2                       ; FFFFFEB4
 2018                             207 I2          .GLOBAL         _R64CNT         ; .SRES 1                       ; FFFFFEC0
 2019                             208 I2          .GLOBAL         _RSECCNT        ; .SRES 1                       ; FFFFFEC2
 2020                             209 I2          .GLOBAL         _RMINCNT        ; .SRES 1                       ; FFFFFEC4
 2021                             210 I2          .GLOBAL         _RHRCNT         ; .SRES 1                       ; FFFFFEC6
 2022                             211 I2          .GLOBAL         _RWKCNT         ; .SRES 1                       ; FFFFFEC8
 2023                             212 I2          .GLOBAL         _RDAYCNT        ; .SRES 1                       ; FFFFFECA
 2024                             213 I2          .GLOBAL         _RMONCNT        ; .SRES 1                       ; FFFFFECC
 2025                             214 I2          .GLOBAL         _RYRCNT         ; .SRES 1                       ; FFFFFECE
 2026                             215 I2          .GLOBAL         _RSECAR         ; .SRES 1                       ; FFFFFED0
 2027                             216 I2          .GLOBAL         _RMINAR         ; .SRES 1                       ; FFFFFED2
 2028                             217 I2          .GLOBAL         _RHRAR          ; .SRES 1                       ; FFFFFED4
 2029                             218 I2          .GLOBAL         _RWKAR          ; .SRES 1                       ; FFFFFED6
 2030                             219 I2          .GLOBAL         _RDAYAR         ; .SRES 1                       ; FFFFFED8
 2031                             220 I2          .GLOBAL         _RMONAR         ; .SRES 1                       ; FFFFFEDA
 2032                             221 I2          .GLOBAL         _RCR1           ; .SRES 1                       ; FFFFFEDC
 2033                             222 I2          .GLOBAL         _RCR2           ; .SRES 1                       ; FFFFFEDE
 2034                             223 I2          .GLOBAL         _ICR0           ; .SRES 2                       ; FFFFFEE0
 2035                             224 I2          .GLOBAL         _IPRA           ; .SRES 2                       ; FFFFFEE2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    37
PROGRAM NAME =

 2036                             225 I2          .GLOBAL         _IPRB           ; .SRES 2                       ; FFFFFEE4
 2037                             226 I2          .GLOBAL         _BCR1           ; .SRES 2                       ; FFFFFF60
 2038                             227 I2          .GLOBAL         _BCR2           ; .SRES 2                       ; FFFFFF62
 2039                             228 I2          .GLOBAL         _WCR1           ; .SRES 2                       ; FFFFFF64
 2040                             229 I2          .GLOBAL         _WCR2           ; .SRES 2                       ; FFFFFF66
 2041                             230 I2          .GLOBAL         _MCR            ; .SRES 2                       ; FFFFFF68
 2042                             231 I2          .GLOBAL         _PCR            ; .SRES 2                       ; FFFFFF6C
 2043                             232 I2          .GLOBAL         _RTCSR          ; .SRES 2                       ; FFFFFF6E
 2044                             233 I2          .GLOBAL         _RTCNT          ; .SRES 2                       ; FFFFFF70
 2045                             234 I2          .GLOBAL         _RTCOR          ; .SRES 2                       ; FFFFFF72
 2046                             235 I2          .GLOBAL         _RFCR           ; .SRES 2                       ; FFFFFF74
 2047                             236 I2          .GLOBAL         _FRQCR          ; .SRES 2                       ; FFFFFF80
 2048                             237 I2          .GLOBAL         _STBCR          ; .SRES 1                       ; FFFFFF82
 2049                             238 I2          .GLOBAL         _WTCNT          ; .SRES 1                       ; FFFFFF84
 2050                             239 I2          .GLOBAL         _WTCSR          ; .SRES 1                       ; FFFFFF86
 2051                             240 I2          .GLOBAL         _STBCR2         ; .SRES 1                       ; FFFFFF88
 2052                             241 I2          .GLOBAL         _BDRB           ; .SRES 4                       ; FFFFFF90
 2053                             242 I2          .GLOBAL         _BDMRB          ; .SRES 4                       ; FFFFFF94
 2054                             243 I2          .GLOBAL         _BRCR           ; .SRES 4                       ; FFFFFF98
 2055                             244 I2          .GLOBAL         _BETR           ; .SRES 2                       ; FFFFFF9C
 2056                             245 I2          .GLOBAL         _BARB           ; .SRES 4                       ; FFFFFFA0
 2057                             246 I2          .GLOBAL         _BAMRB          ; .SRES 4                       ; FFFFFFA4
 2058                             247 I2          .GLOBAL         _BBRB           ; .SRES 2                       ; FFFFFFA8
 2059                             248 I2          .GLOBAL         _BRSR           ; .SRES 4                       ; FFFFFFAC
 2060                             249 I2          .GLOBAL         _BARA           ; .SRES 4                       ; FFFFFFB0
 2061                             250 I2          .GLOBAL         _BAMRA          ; .SRES 4                       ; FFFFFFB4
 2062                             251 I2          .GLOBAL         _BBRA           ; .SRES 2                       ; FFFFFFB8
 2063                             252 I2          .GLOBAL         _BRDR           ; .SRES 4                       ; FFFFFFBC
 2064                             253 I2          .GLOBAL         _TRA            ; .SRES 4                       ; FFFFFFD0
 2065                             254 I2          .GLOBAL         _EXPEVT         ; .SRES 4                       ; FFFFFFD4
 2066                             255 I2          .GLOBAL         _INTEVT         ; .SRES 4                       ; FFFFFFD8
 2067                             256 I2          .GLOBAL         _MMUCR          ; .SRES 4                       ; FFFFFFE0
 2068                             257 I2          .GLOBAL         _BASRA          ; .SRES 1                       ; FFFFFFE4
 2069                             258 I2          .GLOBAL         _BASRB          ; .SRES 1                       ; FFFFFFE8
 2070                             259 I2          .GLOBAL         _CCR            ; .SRES 4                       ; FFFFFFEC
 2071                             260 I2          .GLOBAL         _PTEH           ; .SRES 4                       ; FFFFFFF0
 2072                             261 I2          .GLOBAL         _PTEL           ; .SRES 4                       ; FFFFFFF4
 2073                             262 I2          .GLOBAL         _TTB            ; .SRES 4                       ; FFFFFFF8
 2074                             263 I2          .GLOBAL         _TEA            ; .SRES 4                       ; FFFFFFFC
 2075                               5 I1  
 2076                              15             .include        "ssa_ver1.equ"
 2077                               1 I1  ;       ***********************************
 2078                               2 I1  ;       ***                             ***
 2079                               3 I1  ;       ***     SIT3/4のﾊｰﾄﾞ関係ｿｰｽ切分 ***
 2080                               4 I1  ;       ***                             ***
 2081                               5 I1  ;       ***********************************
 2082                               6 I1  _TYPE_SIT3      .DEFINE         "0"             ;
 2083                               7 I1  _TYPE_SIT4      .DEFINE         "1"             ;
 2084                               8 I1  ;;_SIT_TYPE_SEL .DEFINE         "0"     ;
 2085                               9 I1  _SIT_TYPE_SEL   .DEFINE         "1"     ;
 2086                              10 I1  
 2087                              11 I1  ;       ***********************************
 2088                              12 I1  ;       ***                             ***
 2089                              13 I1  ;       ***     C/Bのﾊｰﾄﾞ関係ｿｰｽ切分    ***
 2090                              14 I1  ;       ***                             ***
 2091                              15 I1  ;       ***********************************
 2092                              16 I1  _CB_CPUA        .DEFINE         "0"             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    38
PROGRAM NAME =

 2093                              17 I1  _CB_CPUB        .DEFINE         "1"             ;
 2094                              18 I1  ;;_CB_CPU_SEL   .DEFINE         "0"     ;
 2095                              19 I1  _CB_CPU_SEL     .DEFINE         "1"     ;
 2096                              20 I1          .AIF    1 EQ    0
 2097                              21     ;       === CPUA ===
 2098                              22             .AELSE
 2099                              23 C   ;       === CPUB ===
 2100                              24 I1          .AENDI
 2101                              25 I1  
 2102                              26 I1  _SIT3_CPUA      .DEFINE         "0"             ;
 2103                              27 I1  _SIT3_CPUB      .DEFINE         "1"             ;
 2104                              28 I1  _SIT4_CPUA      .DEFINE         "2"             ;
 2105                              29 I1  _SIT4_CPUB      .DEFINE         "3"             ;
 2106                              30 I1  
 2107                              31 I1          .AIF    1 EQ 0
 2108                              32     
 2109                              33                     .AIF    1 EQ    0
 2110                              34     
 2111                              35     _SIT_CPU_SEL    .DEFINE         "0"     ;
 2112                              36     
 2113                              37                     .AELSE
 2114                              38     
 2115                              39     _SIT_CPU_SEL    .DEFINE         "1"     ;
 2116                              40     
 2117                              41                     .AENDI
 2118                              42             .AELSE
 2119                              43 C                   .AIF    1 EQ    0
 2120                              44     
 2121                              45     _SIT_CPU_SEL    .DEFINE         "2"     ;
 2122                              46     
 2123                              47                     .AELSE
 2124                              48 C   
 2125                              49 C   _SIT_CPU_SEL    .DEFINE         "3"     ;
 2126                              50 C   
 2127                              51 C                   .AENDI
 2128                              52 I1          .AENDI
 2129                              16             .include        "ssa_com1.mac"
 2130                               1 I1  
 2131                               2 I1  ;       ====================================
 2132                               3 I1  ;       -------------- WDT CLR -------------
 2133                               4 I1  ;       ====================================
 2134                               5 I1          .MACRO  _WDT_CLR
 2135                               6 I1          PUSH_REG1 R0
 2136                               7 I1          PUSH_REG1 R10
 2137                               8 I1          PUSH_REG1 R14
 2138                               9 I1  
 2139                              10 I1          MOV.L   #_PJDR,R10                              ;?????????今は不要2015-01-05ｺﾒﾝﾄ
 2140                              11 I1          MOV.B   @R10,R0
 2141                              12 I1          OR      #BIT4,R0
 2142                              13 I1          MOV.B   R0,@R10
 2143                              14 I1          AND     #NBIT4,R0
 2144                              15 I1          MOV.B   R0,@R10
 2145                              16 I1  
 2146                              17 I1          ;====== 2006-10-19 SAITO 追加　WDTﾎﾟｰﾄ変更 ======
 2147                              18 I1          MOV.L   #_IOGA2_CTRL_DAT1+_IOGA_P5,R10          ;
 2148                              19 I1          MOV.W   @R10,R0                                 ;
 2149                              20 I1          MOV.W   #BIT0,R14                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    39
PROGRAM NAME =

 2150                              21 I1          OR      R14,R0                                  ;
 2151                              22 I1          MOV.W   R0,@R10                                 ; WORK
 2152                              23 I1  
 2153                              24 I1  ;;      MOV.L   #_IOGA2_CTRL_DAT1+_IOGA_P5,R10  ; WORK ADDRESS
 2154                              25 I1  ;;      MOV.W   @R10,R0                                 ;
 2155                              26 I1          MOV.W   #_IO2B_P5EX,R14                         ;
 2156                              27 I1          XOR     R14,R0                                  ;
 2157                              28 I1          MOV.L   #_dio_top2+_IOGA_PDR5,R10               ; IOGA PF ADDRESS
 2158                              29 I1          MOV.W   R0,@R10                                 ; 実出力SET
 2159                              30 I1  
 2160                              31 I1          MOV.L   #_IOGA2_CTRL_DAT1+_IOGA_P5,R10          ;
 2161                              32 I1          MOV.W   @R10,R0                                 ;
 2162                              33 I1          MOV.W   #NBIT0,R14                              ;
 2163                              34 I1          AND     R14,R0                                  ;
 2164                              35 I1          MOV.W   R0,@R10                                 ; WORK
 2165                              36 I1  
 2166                              37 I1  ;;      MOV.L   #_IOGA2_CTRL_DAT1+_IOGA_P5,R10  ; WORK ADDRESS
 2167                              38 I1  ;;      MOV.W   @R10,R0                                 ;
 2168                              39 I1          MOV.W   #_IO2B_P5EX,R14                         ;
 2169                              40 I1          XOR     R14,R0                                  ;
 2170                              41 I1          MOV.L   #_dio_top2+_IOGA_PDR5,R10               ; IOGA PF ADDRESS
 2171                              42 I1          MOV.W   R0,@R10                                 ; 実出力SET
 2172                              43 I1  
 2173                              44 I1          M_BRA   AAA\@
 2174                              45 I1  AAA\@:
 2175                              46 I1          POP_REG1 R14
 2176                              47 I1          POP_REG1 R10
 2177                              48 I1          POP_REG1 R0
 2178                              49 I1          .ENDM
 2179                              50 I1  
 2180                              51 I1  
 2181                              52 I1  ;       ====================================
 2182                              53 I1  ;       -------------- WDT CLR -------------
 2183                              54 I1  ;       ====================================
 2184                              55 I1          .MACRO  _WDT_CLR_MEMCHK
 2185                              56 I1          MOV.L   #_PJDR,R10                              ;
 2186                              57 I1          MOV.B   @R10,R0
 2187                              58 I1          XOR     #BIT4,R0
 2188                              59 I1          MOV.B   R0,@R10
 2189                              60 I1  
 2190                              61 I1          ;====== 2006-10-19 SAITO 追加　WDTﾎﾟｰﾄ変更 ======
 2191                              62 I1          MOV.L   #_dio_top2+_IOGA_PDR5,R10               ; IOGA PF ADDRESS
 2192                              63 I1          MOV.W   @R10,R0                                 ;
 2193                              64 I1          XOR     #BIT0,R0                                ;
 2194                              65 I1          MOV.W   R0,@R10                                 ; WORK
 2195                              66 I1          .ENDM
 2196                              67 I1  
 2197                              68 I1  
 2198                              69 I1  
 2199                              70 I1  
 2200                              71 I1  
 2201                              72 I1  
 2202                              73 I1  
 2203                              74 I1  
 2204                              75 I1  
 2205                              76 I1  
 2206                              77 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    40
PROGRAM NAME =

 2207                              78 I1  ;       ====================================
 2208                              79 I1  ;       -------------- WDT CLR -------------
 2209                              80 I1  ;       ====================================
 2210                              81 I1  ;       1回目(off)->on ->off->on
 2211                              82 I1  ;       2回目(on) ->off->on ->off
 2212                              83 I1  ;       2015-01-05　wdtを1回叩き且つ反転させる:3回xorを行う
 2213                              84 I1  ;       ﾒｲﾝ・定周期などの測定したい箇所用(WDT_Rifresh)
 2214                              85 I1  ;       P50:
 2215                              86 I1  ;
 2216                              87 I1          .MACRO  _WDT_CLR_XOR2_CPUB
 2217                              88 I1          PUSH_REG1 R0
 2218                              89 I1          PUSH_REG1 R1
 2219                              90 I1          PUSH_REG1 R2
 2220                              91 I1          PUSH_REG1 R10
 2221                              92 I1          PUSH_REG1 R14
 2222                              93 I1  
 2223                              94 I1          MOV.L   #_IOGA2_CTRL_DAT1+_IOGA_P5,R10          ;work address
 2224                              95 I1          MOV.L   #_dio_top2+_IOGA_PDR5,R14               ;IOGA address
 2225                              96 I1          MOV.W   #_IO2B_P5EX,R2                          ;
 2226                              97 I1          MOV.W   #BIT0,R1                                ;出力ﾋﾞｯﾄ　bit0(P50)
 2227                              98 I1  
 2228                              99 I1  
 2229                             100 I1  ;       ------------ off->on------------------
 2230                             101 I1          MOV.W   @R10,R0                                 ;
 2231                             102 I1          XOR     R1,R0                                   ;
 2232                             103 I1          MOV.W   R0,@R10                                 ;WORK
 2233                             104 I1          XOR     R2,R0                                   ;
 2234                             105 I1          MOV.W   R0,@R14                                 ;実出力SET
 2235                             106 I1  
 2236                             107 I1  ;       ------------ on-->off----------------
 2237                             108 I1          MOV.W   @R10,R0                                 ;
 2238                             109 I1          XOR     R1,R0                                   ;
 2239                             110 I1          MOV.W   R0,@R10                                 ;WORK
 2240                             111 I1          XOR     R2,R0                                   ;
 2241                             112 I1          MOV.W   R0,@R14                                 ;実出力SET
 2242                             113 I1  
 2243                             114 I1  ;       ------------ off->on-----------------
 2244                             115 I1          MOV.W   @R10,R0                                 ;
 2245                             116 I1          XOR     R1,R0                                   ;
 2246                             117 I1          MOV.W   R0,@R10                                 ;WORK
 2247                             118 I1          XOR     R2,R0                                   ;
 2248                             119 I1          MOV.W   R0,@R14                                 ;実出力SET
 2249                             120 I1  
 2250                             121 I1          POP_REG1 R14
 2251                             122 I1          POP_REG1 R10
 2252                             123 I1          POP_REG1 R2
 2253                             124 I1          POP_REG1 R1
 2254                             125 I1          POP_REG1 R0
 2255                             126 I1          .ENDM
 2256                             127 I1  
 2257                              17             .include        "ssa_had1.equ"
 2258                               1 I1  ;/*     ***********************************     */
 2259                               2 I1  ;/*     ***                             ***     */
 2260                               3 I1  ;/*     ***     定周期割込み基本TIME    ***     */
 2261                               4 I1  ;/*     ***                             ***     */
 2262                               5 I1  ;/*     ***********************************     */
 2263          000007D0             6 I1  _TIM100US       .EQU    2000                            ;Pφ/1の場合
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    41
PROGRAM NAME =

 2264          000009C4             7 I1  _TIM1MS         .EQU    2500                            ;Pφ/8の場合
 2265                               8 I1  
 2266                               9 I1  
 2267                              10 I1  ;/*     ***********************************     */
 2268                              11 I1  ;/*     ***                             ***     */
 2269                              12 I1  ;/*     ***     各メモリ                ***     */
 2270                              13 I1  ;/*     ***                             ***     */
 2271                              14 I1  ;/*     ***********************************     */
 2272          AC000000            15 I1  _SRAM_TOP       .EQU    H'AC000000
 2273          001FFFFF            16 I1  _SRAM_SIZE      .EQU    H'001FFFFF              ; SIT4-MC
 2274          FFFF6000            17 I1  _IRAM_TOP       .EQU    H'FFFF6000              ;
 2275          00007FFF            18 I1  _IRAM_SIZE      .EQU    H'00007FFF
 2276          00003FFF            19 I1  _DPRAM_SIZE     .EQU    H'00003FFF
 2277                              20 I1  
 2278                              21 I1  
 2279                              22 I1  ;/*     ***********************************     */
 2280                              23 I1  ;/*     ***                             ***     */
 2281                              24 I1  ;/*     ***             IOGA            ***     */
 2282                              25 I1  ;/*     ***                             ***     */
 2283                              26 I1  ;/*     ***********************************     */
 2284          00000000            27 I1  _IOGAi_PA               .equ    0*2     ;//
 2285          00000002            28 I1  _IOGAi_PB               .equ    1*2     ;//
 2286          00000004            29 I1  _IOGAi_PC               .equ    2*2     ;//
 2287          00000006            30 I1  _IOGAi_PD               .equ    3*2     ;//
 2288          00000008            31 I1  _IOGAo_PE               .equ    4*2     ;//
 2289          0000000A            32 I1  _IOGAo_PF               .equ    5*2     ;//
 2290          0000000C            33 I1  _IOGAo_PG               .equ    6*2     ;//
 2291          0000000E            34 I1  _IOGAo_PH               .equ    7*2     ;//
 2292                              35 I1  
 2293          00000000            36 I1  _IOGA_P0                .equ    0*2     ;//
 2294          00000002            37 I1  _IOGA_P1                .equ    1*2     ;//
 2295          00000004            38 I1  _IOGA_P2                .equ    2*2     ;//
 2296          00000006            39 I1  _IOGA_P3                .equ    3*2     ;//
 2297          00000008            40 I1  _IOGA_P4                .equ    4*2     ;//
 2298          0000000A            41 I1  _IOGA_P5                .equ    5*2     ;//
 2299          0000000C            42 I1  _IOGA_P6                .equ    6*2     ;//
 2300          0000000E            43 I1  _IOGA_P7                .equ    7*2     ;//
 2301                              44 I1  
 2302                              45 I1  ;/*     ***********************************     */
 2303                              46 I1  ;/*     ***                             ***     */
 2304                              47 I1  ;/*     ***     立花IOGA(SIT-4)         ***     */
 2305                              48 I1  ;/*     ***                             ***     */
 2306                              49 I1  ;/*     ***********************************     */
 2307                              50 I1  ;       ﾃﾞｰﾀﾚｼﾞｽﾀ
 2308          00000000            51 I1  _IOGA_PDR0              .equ    0*2*2           ;//
 2309          00000004            52 I1  _IOGA_PDR1              .equ    1*2*2           ;//
 2310          00000008            53 I1  _IOGA_PDR2              .equ    2*2*2           ;//
 2311          0000000C            54 I1  _IOGA_PDR3              .equ    3*2*2           ;//
 2312          00000010            55 I1  _IOGA_PDR4              .equ    4*2*2           ;//
 2313          00000014            56 I1  _IOGA_PDR5              .equ    5*2*2           ;//
 2314          00000018            57 I1  _IOGA_PDR6              .equ    6*2*2           ;//
 2315          0000001C            58 I1  _IOGA_PDR7              .equ    7*2*2           ;// BIT0~3
 2316                              59 I1  
 2317                              60 I1  ;       方向ﾚｼﾞｽﾀ
 2318          00000002            61 I1  _IOGA_PDIR0             .equ    0*2*2+2         ;//
 2319          00000006            62 I1  _IOGA_PDIR1             .equ    1*2*2+2         ;//
 2320          0000000A            63 I1  _IOGA_PDIR2             .equ    2*2*2+2         ;//
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    42
PROGRAM NAME =

 2321          0000000E            64 I1  _IOGA_PDIR3             .equ    3*2*2+2         ;//
 2322          00000012            65 I1  _IOGA_PDIR4             .equ    4*2*2+2         ;//
 2323          00000016            66 I1  _IOGA_PDIR5             .equ    5*2*2+2         ;//
 2324          0000001A            67 I1  _IOGA_PDIR6             .equ    6*2*2+2         ;//
 2325          0000001C            68 I1  _IOGA_PDIR7             .equ    7*2*2           ;// BIT4~7
 2326                              69 I1  
 2327                              70 I1  
 2328                              71 I1  ;/*     ***********************************     */
 2329                              72 I1  ;/*     ***                             ***     */
 2330                              73 I1  ;/*     ***     立花IOGA(SIT-4)         ***     */
 2331                              74 I1  ;/*     ***                             ***     */
 2332                              75 I1  ;/*     ***********************************     */
 2333                              76 I1  ;       IC7
 2334          00000000            77 I1  _IO1A_P4EX              .EQU    H'00            ;//
 2335          0000007B            78 I1  _IO1A_P5EX              .EQU    H'7B            ;//
 2336          00000000            79 I1  _IO1A_P6EX              .EQU    H'00            ;//
 2337          00000000            80 I1  _IO1A_P7EX              .EQU    H'00            ;//
 2338                              81 I1  ;       IC8
 2339          0000002F            82 I1  _IO2A_P5EX              .EQU    H'2F            ;//
 2340          0000009C            83 I1  _IO2A_P6EX              .EQU    H'9C            ;//FCYCL/RCYCLは正論理 2006-08-05
 2341          00000000            84 I1  _IO2A_P7EX              .EQU    H'00            ;//
 2342                              85 I1  
 2343                              86 I1  ;       IC21
 2344          000000FF            87 I1  _IO1B_P4EX              .EQU    H'FF            ;//
 2345          00000070            88 I1  _IO1B_P5EX              .EQU    H'70            ;//
 2346          00000000            89 I1  _IO1B_P6EX              .EQU    H'00            ;//
 2347          00000000            90 I1  _IO1B_P7EX              .EQU    H'00            ;//
 2348                              91 I1  ;       IC22
 2349                              92 I1  ;;_IO2B_P5EX            .EQU    H'2F            ;//
 2350          00000000            93 I1  _IO2B_P5EX              .EQU    H'0             ;//2006-10-19 SAITO
 2351          0000009C            94 I1  _IO2B_P6EX              .EQU    H'9C            ;//FCYCL/RCYCLは正論理 2006-08-05
 2352          00000000            95 I1  _IO2B_P7EX              .EQU    H'00            ;//
 2353                              96 I1  
 2354                              97 I1  
 2355                              98 I1  ;/*     ***********************************     */
 2356                              99 I1  ;/*     ***                             ***     */
 2357                             100 I1  ;/*     ***     位置決めLSI             ***     */
 2358                             101 I1  ;/*     ***                             ***     */
 2359                             102 I1  ;/*     ***********************************     */
 2360          00000000           103 I1  _PLSiCH1                .equ    0
 2361          00000030           104 I1  _PLSiCH2                .equ    h'30
 2362                             105 I1  
 2363          00000000           106 I1  _PL_BitComdL            .equ    h'0
 2364          00000002           107 I1  _PL_BitComdH            .equ    h'2
 2365          00000004           108 I1  _PL_BitInfoL            .equ    h'4
 2366          00000006           109 I1  _PL_BitInfoH            .equ    h'6
 2367          00000024           110 I1  _PL_NowPos1L            .equ    h'24
 2368          00000026           111 I1  _PL_NowPos1H            .equ    h'26
 2369          00000028           112 I1  _PL_NowPos2             .equ    h'28
 2370          0000002A           113 I1  _PL_CtrlReg             .equ    h'2A
 2371                             114 I1  
 2372                             115 I1  
 2373                             116 I1  _DEBUG_DIS              .DEFINE         "0"
 2374                             117 I1  _DEBUG_ENB              .DEFINE         "1"
 2375                             118 I1  ;;_SCAN_DEBUG_ENB               .DEFINE         "1"
 2376                             119 I1  _SCAN_DEBUG_ENB         .DEFINE         "0"
 2377                              18             .include        "ssa_wrmy.ext"
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    43
PROGRAM NAME =

 2378                               1 I1  ;       ***********************************
 2379                               2 I1  ;       ***                             ***
 2380                               3 I1  ;       ***             ram定義         ***
 2381                               4 I1  ;       ***                             ***
 2382                               5 I1  ;       ***********************************
 2383                               6 I1  ;       できる限りssc_wrm*.c/ssc_wrm*.h側に定義する事
 2384                               7 I1  ;       ssc_wrm*.h のextern文をアセンブラで参照する場合はここに入れる
 2385                               8 I1  ;       ===========================================
 2386                               9 I1  ;       ===     ssa_wrmy.src のextern文         ===
 2387                              10 I1  ;       ===========================================
 2388                              11 I1          .GLOBAL _SAITO_ASM_RAM_TOP      ;
 2389                              12 I1  
 2390                              13 I1  ;//     ***********************************
 2391                              14 I1  ;//     ***     受信異常                ***
 2392                              15 I1  ;//     ***********************************
 2393                              16 I1          .global _rcv2_err_hard_INTflg1; // ﾊｰﾄﾞ異常
 2394                              17 I1          .global _rcv2_err_hard_INTflg2; // ﾊｰﾄﾞ異常
 2395                              18 I1          .global _rcv2_err_hard_INTflg3; // ﾊｰﾄﾞ異常
 2396                              19 I1          .global _rcv2_err_data_flg1;    // ﾃﾞｰﾀ異常(未使用)
 2397                              20 I1          .global _rcv2_err_hard_sts1;    // 詳細 異常内容
 2398                              21 I1          .global _rcv2_err_hard_sts2;    // 詳細 異常内容
 2399                              22 I1          .global _rcv2_err_hard_sts3;    //
 2400                              23 I1          .global _rcv2_err_data_sts1;    //(未使用)
 2401                              24 I1          .global _rcv2_err_OverRunCnt;   //
 2402                              25 I1          .global _rcv2_err_FRPRErrCnt;   //ﾌﾚｰﾑ・ﾊﾟﾘﾃｨ
 2403                              26 I1          .global _rcv2_err_elseErrCnt;   //ﾌﾚｰﾑ・ﾊﾟﾘﾃｨ
 2404                              27 I1  
 2405                              28 I1  ;//     ***********************************
 2406                              29 I1  ;//     ***     正常受信                ***
 2407                              30 I1  ;//     ***********************************
 2408                              31 I1          .global _rcv2_data_INcnt;//受信ﾃﾞｰﾀ数 受信ﾊﾞﾌｧ→個数
 2409                              32 I1          .global _rcv2_data_cnt;//処理すべきｶｳﾝﾀ数ﾘﾐｯﾄをかけたもんＰ
 2410                              33 I1          .global _rcv2_data_buf;[32];
 2411                              34 I1  
 2412                              35 I1  ;//     ***********************************
 2413                              36 I1  ;//     ***     送信                    ***
 2414                              37 I1  ;//     ***********************************
 2415                              38 I1          .global _send2_data_buf;[32];
 2416                              39 I1  ;//     ***********************************
 2417                              40 I1  ;//     ***     送受信管理              ***
 2418                              41 I1  ;//     ***********************************
 2419                              42 I1          .global _rcv2_event_flg;        //main-->bit0=1  2ms:bit1(処理開始),bit7(完了)
 2420                              43 I1          .global _send2_event_flg;//main-->bit0=1  2ms:bit1(処理開始),bit7(完了)
 2421                              44 I1  
 2422                              45 I1          .global _PV1_SCRW_POS;                  //;@使用sh->H8 ->表示   [回送有り1CH のみ]
 2423                              46 I1  
 2424                              47 I1          .global _PV0_SCRW_POS;                  //;@使用sh->H8 ->表示   [回送有り1CH のみ]
 2425                              48 I1  
 2426                              49 I1  
 2427                              50 I1  ;//     *******************************************
 2428                              51 I1  ;//     ***     異常関係のワークＲＡＭ          ***
 2429                              52 I1  ;//     *******************************************
 2430                              53 I1  
 2431                              54 I1          .global _ERR_CHK_OK_FLG                 ;//異常処理開始ﾌﾗｸﾞ
 2432                              55 I1  
 2433                              56 I1          .global _ER_SQRAM_WK1                   ;//
 2434                              57 I1          .global _ER_SQRAM_WK2                   ;//
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    44
PROGRAM NAME =

 2435                              58 I1          .global _SH4_SQERRAM                    ;// SH4 -> SH2
 2436                              59 I1          .global _DBG_ERRCHK_NASI                ;// ﾁｪｯｸなし
 2437                              60 I1  
 2438                              61 I1          .global _ER_SFTSW_CHG_OLD               ;//
 2439                              62 I1  
 2440                              63 I1          .global _FROM_SUMCHK_CODE               ;// FROM SUM CODE
 2441                              64 I1  
 2442                              65 I1          .global _SFTSW_ERR_TM                   ;//
 2443                              66 I1          .global _BTNER_ERR_TM                   ;//
 2444                              67 I1          .global _NCHSW_ERR_TM1                  ;//
 2445                              68 I1          .global _NCHSW_ERR_TM2                  ;//
 2446                              69 I1          .global _VLVER11_ERR_TM                 ;//
 2447                              70 I1          .global _VLVER12_ERR_TM                 ;//
 2448                              71 I1          .global _VLVER21_ERR_TM                 ;//
 2449                              72 I1          .global _VLVER22_ERR_TM                 ;//
 2450                              73 I1          .global _VLVER31_ERR_TM                 ;//
 2451                              74 I1          .global _VLVER32_ERR_TM                 ;//
 2452                              75 I1          .global _CMP2_ERR_TM2                   ;//
 2453                              76 I1          .global _FSFT_TRERR_TM                  ;//
 2454                              77 I1          .global _RSFT_TRERR_TM                  ;//
 2455                              78 I1  
 2456                              79 I1  
 2457                              80 I1          .global _WPAR1_SFTSWER_TM               ;//
 2458                              81 I1          .global _WPAR1_BTNER_TM                 ;//
 2459                              82 I1          .global _WPAR1_MODSER_TM1               ;//
 2460                              83 I1          .global _WPAR1_MODSER_TM2               ;//
 2461                              84 I1          .global _WPAR1_VLVER11_TM1              ;//
 2462                              85 I1          .global _WPAR1_VLVER12_TM1              ;//
 2463                              86 I1          .global _WPAR1_VLVER21_TM1              ;//
 2464                              87 I1          .global _WPAR1_VLVER22_TM1              ;//
 2465                              88 I1          .global _WPAR1_VLVER31_TM1              ;//
 2466                              89 I1          .global _WPAR1_VLVER32_TM1              ;//
 2467                              90 I1          .global _WPAR1_CMPER2_TM                ;//
 2468                              91 I1          .global _WPAR1_FSFTTRER_TM              ;//
 2469                              92 I1          .global _WPAR1_RSFTTRER_TM              ;//
 2470                              93 I1  
 2471                              94 I1  
 2472                              95 I1          .global _REMOTE_ERR_CHKTM               ;//
 2473                              96 I1  
 2474                              97 I1          .global _ROM_SYSPAR_ERRADR              ;//
 2475                              98 I1  
 2476                              99 I1  
 2477                             100 I1  
 2478                             101 I1  ;//     ***************************************************
 2479                             102 I1  ;//     ***     セルフチェック関係のワークＲＡＭ        ***
 2480                             103 I1  ;//     ***************************************************
 2481                             104 I1          .global _SELF_CHK_FLG                   ;ｾﾙﾌﾁｪｯｸ中 CHECK
 2482                             105 I1          .global _SELF_ACT_FLG                   ;ｾﾙﾌﾁｪｯｸ中 CHECK
 2483                             106 I1  
 2484                             107 I1  
 2485                             108 I1          .global _SELF_HAND_FLG1                 ; 自分の状態ﾌﾗｸﾞ SRAM
 2486                             109 I1          .global _SELF_HAND_FLG2                 ; 相手の状態ﾌﾗｸﾞ SRAM
 2487                             110 I1  
 2488                             111 I1          .global _SELF_FSTY_USE                  ;//;前安全装置チェックする・しない
 2489                             112 I1          .global _SELF_RSTY_USE                  ;//;後安全装置チェックする・しない
 2490                             113 I1  
 2491                             114 I1          .global _SELF_CHK_TIMER                 ;//;セルフチェックタイマ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    45
PROGRAM NAME =

 2492                             115 I1  
 2493                             116 I1  ;       *** AD CONVERTER WORK RAM ***
 2494                             117 I1          .global _AD_CNV_DT0                     ; 8BIT A/D
 2495                             118 I1  
 2496                             119 I1          .global _AD_BUFCNT                      ;// 移動平均ﾊﾞｯﾌｧｶｳﾝﾀ
 2497                             120 I1          .global _AD_AVG_BUF                     ;// 平均BAFTOP
 2498                             121 I1          .global _AD_AVG_TOTAL                   ;// ８回分のﾃﾞｰﾀ
 2499                             122 I1          .global _PV_AD_DATA                     ;// 移動平均とった後のAD DATA
 2500                             123 I1  
 2501                             124 I1  
 2502                             125 I1  
 2503                             126 I1  
 2504                             127 I1  ;//     ***************************************
 2505                             128 I1  ;//     ***     二重回路異常関係のワークＲＡＭ  ***
 2506                             129 I1  ;//     ***************************************
 2507                             130 I1          .global _CPUN_2CMP_DATA                 ;// 相手ＣＰＵの比較データ
 2508                             131 I1          .global _CMP2_ERR_FIRST                 ;// 初めて二重回路異常発生
 2509                             132 I1  
 2510                             133 I1          .global _CPUN_2CMP_LATCH2               ;// 相手二重回路異常ﾃﾞｰﾀﾗｯﾁ
 2511                             134 I1          .global _CPUN_2CMP_LATCH1               ;// 自分二重回路異常ﾃﾞｰﾀﾗｯﾁ
 2512                             135 I1  
 2513                             136 I1  
 2514                             137 I1  ;//     *** 安全装置関係 ***
 2515                             138 I1  
 2516                             139 I1          .global _FACT_IN_DATA                   ;//
 2517                             140 I1          .global _RACT_IN_DATA                   ;//
 2518                             141 I1          .global _FDEV_IN_DATA                   ;//
 2519                             142 I1          .global _RDEV_IN_DATA                   ;//
 2520                             143 I1  
 2521                             144 I1  
 2522                             145 I1  ;       ===========================================
 2523                             146 I1  ;       ===     ssc_wrmy.c のextern文           ===
 2524                             147 I1  ;       ===========================================
 2525                             148 I1  
 2526                             149 I1          .GLOBAL         _TINT3_10MS_CNT                 ;
 2527                             150 I1  
 2528                             151 I1  
 2529                             152 I1  ;//     通信関連 2004-04-14
 2530                             153 I1          .global _WK_RCV_SCLSR2;//2004-04-12
 2531                             154 I1          .global _WK_RCV_SCFSR2;//2004-04-12
 2532                             155 I1          .global _WK_RCV_SCFDR2  ;//2004-04-12
 2533                             156 I1  
 2534                             157 I1  ;//     ===================
 2535                             158 I1  ;//     ===             ===
 2536                             159 I1  ;//     ===================
 2537                             160 I1  ;//     === 2004-04-14 ====
 2538                             161 I1          .global _IN_RNA_REF_ERR_FLG1;//BIT0,BIT1,BIT2(HARD),BIT3CMD,BIT4(RNA-SYS),BIT5(RNA
                                          -FORM),,
 2539                             162 I1          .global _IN_RNA_REF_ERR_FLG2;//BIT0~BIT7 ALM.BIT8
 2540                             163 I1          .global _RNA_REF_ERR_FLG1;//BIT0,BIT1,BIT2(HARD),BIT3CMD,BIT4(RNA-SYS),BIT5(RNA-FO
                                          RM),,
 2541                             164 I1          .global _RNA_REF_ERR_FLG2;//BIT0~BIT7 ALM.BIT8
 2542                             165 I1          .global _LT_RNA_REF_ERR_FLG1;//BIT0,BIT1,BIT2(HARD),BIT3CMD,BIT4(RNA-SYS),BIT5(RNA
                                          -FORM),,
 2543                             166 I1          .global _LT_RNA_REF_ERR_FLG2;//BIT0~BIT7 ALM.BIT8
 2544                             167 I1  
 2545                             168 I1          .global _RNA_CMD_VERIFY_CNT;//00,01以外が発生
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    46
PROGRAM NAME =

 2546                             169 I1          .global _RNA_CMD_VERIFY_DAT;//異常時の最新ﾃﾞｰﾀ
 2547                             170 I1          .global _RNA_STS_SYSERR_CNT;//BIT0=1
 2548                             171 I1          .global _RNA_STS_REQERR_CNT;//BIT2=1
 2549                             172 I1          .global _RNA_STS_ERR_DAT;//異常時の最新ﾃﾞｰﾀ
 2550                             173 I1          .global _RNA_ALM_BIT0_CNT;//
 2551                             174 I1          .global _RNA_ALM_BIT1_CNT;//
 2552                             175 I1          .global _RNA_ALM_BIT2_CNT;//
 2553                             176 I1          .global _RNA_ALM_BIT3_CNT;//
 2554                             177 I1          .global _RNA_ALM_BIT4_CNT;//
 2555                             178 I1          .global _RNA_ALM_BIT5_CNT;//
 2556                             179 I1          .global _RNA_ALM_BIT6_CNT;//
 2557                             180 I1          .global _RNA_ALM_BIT7_CNT;//
 2558                             181 I1          .global _RNA_ALM_CNT;//
 2559                             182 I1          .global _RNA_ALM_DAT;//
 2560                             183 I1          .global _RNA_REF1_CNT;//処理が正常に動作しているか
 2561                             184 I1          .global _RNA_REF2_CNT;//処理が正常に動作しているか
 2562                             185 I1  
 2563                             186 I1          .global _DSET_SW_FLG;
 2564                             187 I1  
 2565                             188 I1  
 2566                             189 I1  
 2567                             190 I1  
 2568                             191 I1  
 2569                             192 I1  
 2570                             193 I1  
 2571                             194 I1  ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                                          ;;;;;;;;;;;;;;;;;;;;;;;;;
 2572                             195 I1  
 2573                             196 I1  
 2574                             197 I1  
 2575                             198 I1  
 2576                             199 I1  ;       ***********************************
 2577                             200 I1  ;       ***                             ***
 2578                             201 I1  ;       ***             ram定義         ***
 2579                             202 I1  ;       ***                             ***
 2580                             203 I1  ;       ***********************************
 2581                             204 I1  ;       できる限りssc_wrm*.c/ssc_wrm*.h側に定義する事
 2582                             205 I1  ;       ssc_wrm*.h のextern文をアセンブラで参照する場合はここに入れる
 2583                             206 I1  ;       ===========================================
 2584                             207 I1  ;       ===     ssa_wrmy.src のextern文         ===
 2585                             208 I1  ;       ===========================================
 2586                             209 I1  ;20060725 SAITO .GLOBAL _SAITO_ASM_RAM_TOP      ;
 2587                             210 I1  
 2588                             211 I1          .global         _SQ_CBWK_TOP            ;//
 2589                             212 I1          .global         _CPUA_EMG_IN_FLG        ;//
 2590                             213 I1  
 2591                             214 I1  
 2592                             215 I1  ;//     *** INP1 PORT ***
 2593                             216 I1          .global         _REAL_INP1_DATA                 ; 今回値
 2594                             217 I1          .global         _REAL_INP1_DT_OLD1              ; 1回前
 2595                             218 I1          .global         _REAL_INP1_DT_OLD2              ; 2回前
 2596                             219 I1  
 2597                             220 I1  ;//     *** PB PORT ***
 2598                             221 I1          .global         _PB_PORT_CTL_DATA               ; 今回値
 2599                             222 I1          .global         _PB_INDT_OLD1                   ; 1回前
 2600                             223 I1          .global         _PB_INDT_OLD2                   ; 2回前
 2601                             224 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    47
PROGRAM NAME =

 2602                             225 I1  ;//;    *** PJ PORT ***
 2603                             226 I1          .global         _PJ_PORT_CTL_DATA               ; 今回値
 2604                             227 I1          .global         _PJ_INDT_OLD1                   ; 1回前
 2605                             228 I1          .global         _PJ_INDT_OLD2                   ; 2回前
 2606                             229 I1  
 2607                             230 I1  ;//     *** PK PORT ***
 2608                             231 I1          .global         _PK_PORT_CTL_DATA               ; 今回値
 2609                             232 I1          .global         _PK_INDT_OLD1                   ; 1回前
 2610                             233 I1          .global         _PK_INDT_OLD2                   ; 2回前
 2611                             234 I1  
 2612                             235 I1  ;//     *** PL PORT ***
 2613                             236 I1          .global         _PL_PORT_CTL_DATA               ; 今回値
 2614                             237 I1          .global         _PL_INDT_OLD1                   ; 1回前
 2615                             238 I1          .global         _PL_INDT_OLD2                   ; 2回前
 2616                             239 I1  
 2617                             240 I1  ;//     *******************************************
 2618                             241 I1  ;//     ***     異常関係のワークＲＡＭ          ***
 2619                             242 I1  ;//     *******************************************
 2620                             243 I1  
 2621                             244 I1  ;20060725 SAITO .global _ERR_CHK_OK_FLG                 ;//異常処理開始ﾌﾗｸﾞ
 2622                             245 I1  
 2623                             246 I1  ;20060725 SAITO .global _ER_SQRAM_WK1                   ;//
 2624                             247 I1  ;20060725 SAITO .global _ER_SQRAM_WK2                   ;//
 2625                             248 I1  ;20060725 SAITO .global _SH4_SQERRAM                    ;// SH4 -> SH2
 2626                             249 I1  ;20060725 SAITO .global _DBG_ERRCHK_NASI                ;// ﾁｪｯｸなし
 2627                             250 I1  
 2628                             251 I1  ;20060725 SAITO .global _ER_SFTSW_CHG_OLD               ;//
 2629                             252 I1  
 2630                             253 I1  ;20060725 SAITO .global _SFTSW_ERR_TM                   ;//
 2631                             254 I1  ;20060725 SAITO .global _BTNER_ERR_TM                   ;//
 2632                             255 I1  ;20060725 SAITO .global _NCHSW_ERR_TM1                  ;//
 2633                             256 I1  ;20060725 SAITO .global _NCHSW_ERR_TM2                  ;//
 2634                             257 I1  ;20060725 SAITO .global _VLVER11_ERR_TM                 ;//
 2635                             258 I1  ;20060725 SAITO .global _VLVER12_ERR_TM                 ;//
 2636                             259 I1  ;20060725 SAITO .global _VLVER21_ERR_TM                 ;//
 2637                             260 I1  ;20060725 SAITO .global _VLVER22_ERR_TM                 ;//
 2638                             261 I1  ;20060725 SAITO .global _VLVER31_ERR_TM                 ;//
 2639                             262 I1  ;20060725 SAITO .global _VLVER32_ERR_TM                 ;//
 2640                             263 I1  ;20060725 SAITO .global _CMP2_ERR_TM2                   ;//
 2641                             264 I1  ;20060725 SAITO .global _FSFT_TRERR_TM                  ;//
 2642                             265 I1  ;20060725 SAITO .global _RSFT_TRERR_TM                  ;//
 2643                             266 I1  
 2644                             267 I1  ;20060725 SAITO .global _WPAR1_SFTSWER_TM               ;//
 2645                             268 I1  ;20060725 SAITO .global _WPAR1_BTNER_TM                 ;//
 2646                             269 I1  ;20060725 SAITO .global _WPAR1_MODSER_TM1               ;//
 2647                             270 I1  ;20060725 SAITO .global _WPAR1_MODSER_TM2               ;//
 2648                             271 I1  ;20060725 SAITO .global _WPAR1_VLVER11_TM1              ;//
 2649                             272 I1  ;20060725 SAITO .global _WPAR1_VLVER12_TM1              ;//
 2650                             273 I1  ;20060725 SAITO .global _WPAR1_VLVER21_TM1              ;//
 2651                             274 I1  ;20060725 SAITO .global _WPAR1_VLVER22_TM1              ;//
 2652                             275 I1  ;20060725 SAITO .global _WPAR1_VLVER31_TM1              ;//
 2653                             276 I1  ;20060725 SAITO .global _WPAR1_VLVER32_TM1              ;//
 2654                             277 I1  ;20060725 SAITO .global _WPAR1_CMPER2_TM                ;//
 2655                             278 I1  ;20060725 SAITO .global _WPAR1_FSFTTRER_TM              ;//
 2656                             279 I1  ;20060725 SAITO .global _WPAR1_RSFTTRER_TM              ;//
 2657                             280 I1  
 2658                             281 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    48
PROGRAM NAME =

 2659                             282 I1          .global _KEEPRY_BKUP_ERR                ;//
 2660                             283 I1  
 2661                             284 I1  
 2662                             285 I1  ;//     ***************************************************
 2663                             286 I1  ;//     ***     セルフチェック関係のワークＲＡＭ        ***
 2664                             287 I1  ;//     ***************************************************
 2665                             288 I1  ;20060725 SAITO .global _SELF_CHK_FLG                   ;ｾﾙﾌﾁｪｯｸ中 CHECK
 2666                             289 I1  ;20060725 SAITO .global _SELF_ACT_FLG                   ;ｾﾙﾌﾁｪｯｸ中 CHECK
 2667                             290 I1  
 2668                             291 I1  ;20060725 SAITO .global _SELF_HAND_FLG1                 ; 自分の状態ﾌﾗｸﾞ SRAM
 2669                             292 I1  ;20060725 SAITO .global _SELF_HAND_FLG2                 ; 相手の状態ﾌﾗｸﾞ SRAM
 2670                             293 I1  
 2671                             294 I1  ;20060725 SAITO .global _SELF_FSTY_USE                  ;//;前安全装置チェックする・しない
 2672                             295 I1  ;20060725 SAITO .global _SELF_RSTY_USE                  ;//;後安全装置チェックする・しない
 2673                             296 I1  
 2674                             297 I1  ;20060725 SAITO .global _SELF_CHK_TIMER                 ;//;セルフチェックタイマ
 2675                             298 I1  
 2676                             299 I1  ;//     *** AD CONVERTER WORK RAM ***
 2677                             300 I1  ;20060725 SAITO .global _AD_CNV_DT0                     ; 8BIT A/D
 2678                             301 I1  
 2679                             302 I1  ;20060725 SAITO .global _AD_BUFCNT                      ; 移動平均ﾊﾞｯﾌｧｶｳﾝﾀ
 2680                             303 I1  ;20060725 SAITO .global _AD_AVG_BUF                     ; 平均BAFTOP
 2681                             304 I1  ;20060725 SAITO .global _AD_AVG_TOTAL                   ; ８回分のﾃﾞｰﾀ
 2682                             305 I1  ;20060725 SAITO .global _PV_AD_DATA                     ; 移動平均とった後のAD DATA
 2683                             306 I1  
 2684                             307 I1  
 2685                             308 I1  
 2686                             309 I1  
 2687                             310 I1  ;//     ***************************************
 2688                             311 I1  ;//     ***     二重回路異常関係のワークＲＡＭ  ***
 2689                             312 I1  ;//     ***************************************
 2690                             313 I1  ;20060725 SAITO .global _CPUN_2CMP_DATA                 ;// 相手ＣＰＵの比較データ
 2691                             314 I1  ;20060725 SAITO .global _CMP2_ERR_FIRST                 ;// 初めて二重回路異常発生
 2692                             315 I1  
 2693                             316 I1  ;20060725 SAITO .global _CPUN_2CMP_LATCH2               ;// 相手二重回路異常ﾃﾞｰﾀﾗｯﾁ
 2694                             317 I1  ;20060725 SAITO .global _CPUN_2CMP_LATCH1               ;// 自分二重回路異常ﾃﾞｰﾀﾗｯﾁ
 2695                             318 I1  
 2696                             319 I1  
 2697                             320 I1  
 2698                             321 I1  ;//     *** 安全装置関係 ***
 2699                             322 I1  
 2700                             323 I1  ;20060725 SAITO .global _FACT_IN_DATA                   ;//
 2701                             324 I1  ;20060725 SAITO .global _RACT_IN_DATA                   ;//
 2702                             325 I1  ;20060725 SAITO .global _FDEV_IN_DATA                   ;//
 2703                             326 I1  ;20060725 SAITO .global _RDEV_IN_DATA                   ;//
 2704                             327 I1  
 2705                             328 I1  
 2706                             329 I1  
 2707                             330 I1  ;//     IOGA    関係　ＳＩＴ−４用 2006-07-16
 2708                             331 I1  
 2709                             332 I1  ;//;    *** IO-GA WORK ***
 2710                             333 I1          .global _IOGA1_CTRL_DAT1                ;       //.SRES 2*8             ; GA-PA,PB
                                          ,PC,PD,PE 入力PORT
 2711                             334 I1                                                  ;//;    PF,PG,PH 出力PORT
 2712                             335 I1          .global _IOGA2_CTRL_DAT1                ;       //.SRES 2*8             ; GA-PA,PB
                                          ,PC,PD,PE 入力PORT
 2713                             336 I1                                                  ;//;    PF,PG,PH 出力PORT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    49
PROGRAM NAME =

 2714                             337 I1  ;//;    *** IOGA INPUT WORK RAM ***
 2715                             338 I1          .global _IOGA1_PA_DT_OLD1               ;       // 1回前
 2716                             339 I1          .global _IOGA1_PB_DT_OLD1               ;       // 1回前
 2717                             340 I1          .global _IOGA1_PC_DT_OLD1               ;       // 1回前
 2718                             341 I1          .global _IOGA1_PD_DT_OLD1               ;       // 1回前
 2719                             342 I1          .global _IOGA1_PE_DT_OLD1               ;       // 1回前
 2720                             343 I1  
 2721                             344 I1          .global _IOGA1_PA_DT_OLD2               ;       // 2回前
 2722                             345 I1          .global _IOGA1_PB_DT_OLD2               ;       // 2回前
 2723                             346 I1          .global _IOGA1_PC_DT_OLD2               ;       // 2回前
 2724                             347 I1          .global _IOGA1_PD_DT_OLD2               ;       // 2回前
 2725                             348 I1          .global _IOGA1_PE_DT_OLD2               ;       // 2回前
 2726                             349 I1  
 2727                             350 I1          .global _IOGA2_PA_DT_OLD1               ;       // 1回前
 2728                             351 I1          .global _IOGA2_PB_DT_OLD1               ;       // 1回前
 2729                             352 I1          .global _IOGA2_PC_DT_OLD1               ;       // 1回前
 2730                             353 I1          .global _IOGA2_PD_DT_OLD1               ;       // 1回前
 2731                             354 I1          .global _IOGA2_PE_DT_OLD1               ;       // 1回前
 2732                             355 I1  
 2733                             356 I1          .global _IOGA2_PA_DT_OLD2               ;       // 2回前
 2734                             357 I1          .global _IOGA2_PB_DT_OLD2               ;       // 2回前
 2735                             358 I1          .global _IOGA2_PC_DT_OLD2               ;       // 2回前
 2736                             359 I1          .global _IOGA2_PD_DT_OLD2               ;       // 2回前
 2737                             360 I1          .global _IOGA2_PE_DT_OLD2               ;       // 2回前
 2738                             361 I1  
 2739                             362 I1  
 2740                             363 I1  ;20060725 SAITO .global _DSET_SW_FLG;
 2741                             364 I1  
 2742                             365 I1  
 2743                             366 I1  
 2744                             367 I1  
 2745                             368 I1  ;       -------- 2013-12-12 MC------------
 2746                             369 I1          .GLOBAL _HANYO2_DI_DAT;//3度読み結果
 2747                             370 I1          .GLOBAL _HANYO2_DI_OLD;//3度読みWORK
 2748                             371 I1  
 2749                             372 I1  
 2750                             373 I1  
 2751                             374 I1  
 2752                             375 I1  
 2753                             376 I1  
 2754                              19     
 2755                              20     
 2756                              21     ;;_ROM_SUM_SEL  .DEFINE         "1"             ; 出荷時
 2757                              22     _ROM_SUM_SEL    .DEFINE         "0"             ; ﾃﾞﾊﾞｯｸﾞ時
 2758                              23     
 2759                              24     
 2760                              25             .import _PowerON_Reset_SP
 2761                              26             .import _INTHandlerPRG
 2762                              27             .import __INITSCT
 2763                              28             .import _main
 2764                              29     
 2765                              30     ;       .import __INIT_IOLIB            ; Remove the comment when you use SIM I/O
 2766                              31     ;       .import __CLOSEALL
 2767                              32     
 2768                              33     ;       .import __INIT_OTHERLIB         ; Remove the comment when you use rand(),strtok()
 2769                              34     
 2770                              35     ;       .import _HardwareSetup          ; Remove the comment when you use Hardware Setup
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    50
PROGRAM NAME =

 2771                              36     
 2772                              37     ;       .import __call_init                     ; Remove the comment when you use __call_i
                                          nit
 2773                              38     ;       .import __call_end                      ; Remove the comment when you use __call_e
                                          nd
 2774                              39     
 2775                              40     
 2776                              41             .import         _HardwareSetup1;
 2777                              42             .import         _HardwareSetup2;
 2778                              43             .import         _IRAM_CLEAR;
 2779                              44             .import         _WORK_MEM_CHK2;
 2780                              45             .import         _DP_MEM_CHK;
 2781                              46             .import         _ROM_SUM_CHK;
 2782                              47     ;///////        .import         _SCI_VUP_MAIN;
 2783                              48             .import         _SCI0_PRO_ROM_TO_RAM;
 2784                              49             .import         _INTHdlr_TO_RAM;
 2785                              50             .import         _init_LCD;
 2786                              51             .import         _init_DISP;
 2787                              52             .import         _vup_mesG_disp;
 2788                              53     
 2789                              54             .import         _VUPCHECK_DATA;
 2790                              55             .import         _CASH_ENB
 2791                              56             .import         _P_TO_PRAM_COPY                 ; P -> PRAM
 2792                              57             .import         _PC_TO_PCRAM_COPY               ; Pcall -> PcallRAM
 2793                              58             .import         _PH_TO_PHRAM_COPY               ; Pcall -> PcallRAM
 2794                              59             .import         _INTDI_SCI_EXCEPT
 2795                              60     
 2796                              61             .import         _GAM_INF_TBL
 2797                              62             .import         _GAM_INF_TBL2                   ; V06
 2798                              63     
 2799                              64             .import         _dio_top1                       ; 2006-10-19 SAITO
 2800                              65             .import         _dio_top2                       ; 2006-10-19 SAITO
 2801                              66             .IMPORT         _IOGA_OUT_INIT                  ; 2006-10-19 SAITO
 2802                              67     
 2803                              68             .IMPORT         _KJ_CHK_CNT0
 2804                              69     
 2805                              70     
 2806 00000000                     71                     .section ResetPRG,code
 2807 00000000                     72     _PowerON_Reset:
 2808 00000000                     73     _Manual_Reset:
 2809 00000000 DF17                74                     mov.l   #_PowerON_Reset_SP, R15  ; Initialize SP
 2810 00000002 D018                75                     mov.l   #_INTHandlerPRG,r0
 2811 00000004 D118                76                     mov.l   #H'100,r1
 2812 00000006 3018                77                     sub.l   r1,r0
 2813 00000008 402E                78                     ldc             r0,vbr                  ; VBR addr set
 2814                              79     
 2815                              80     ;//             mov.l   #__INITSCT,r1
 2816                              81     ;//             jsr     @r1
 2817                              82     ;//             nop
 2818                              83     
 2819                              84     ;               mov.l   #__INIT_IOLIB,r1                ; Remove the comment when you use
                                          SIM I/O
 2820                              85     ;               jsr     @r1
 2821                              86     ;               nop
 2822                              87     
 2823                              88     ;               mov.l   #__INIT_OTHERLIB,r1             ; Remove the comment when you use
                                          rand(),strtok()
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    51
PROGRAM NAME =

 2824                              89     ;               jsr     @r1
 2825                              90     ;               nop
 2826                              91     
 2827                              92     ;               mov.l   #_HardwareSetup,r1              ; Remove the comment when you use
                                          Hardware Setup
 2828                              93     ;               jsr     @r1
 2829                              94     ;               nop
 2830                              95     
 2831                              96     ;               mov.l   #__call_init,r1                 ; Remove the comment when you use
                                          global class object
 2832                              97     ;               jsr     @r1                                             ; See initsct.c an
                                          d dbsct.src
 2833                              98     ;               nop
 2834                              99     
 2835                             100     ;//             mov.l   #SR_Init,r0
 2836                             101     ;//             mov.l   #_main,r8
 2837                             102     ;//             ldc             r0,sr                                   ; SR set (User AP
                                          mode)
 2838                             103     ;//             jsr             @r8
 2839                             104     ;//             nop
 2840                             105     
 2841                             106     ;               mov.l   #__call_end,r1                  ; Remove the comment when you use
                                          global class object
 2842                             107     ;               jsr     @r1                                             ; See initsct.c an
                                          d dbsct.src
 2843                             108     ;               nop
 2844                             109     
 2845                             110     ;               mov.l   #__CLOSEALL,r1                  ; Remove the comment when you use
                                          SIM I/O
 2846                             111     ;               jsr     @r1
 2847                             112     ;               nop
 2848                             113     
 2849                             114     
 2850 0000000A D118               115             mov.l   #_HardwareSetup1,r1     ; Use Hardware Setup
 2851 0000000C 410B               116             jsr     @r1
 2852 0000000E 0009               117             nop
 2853                             118     
 2854 00000010 D117               119             mov.l   #_IRAM_CLEAR,r1                         ; 内臓RAMｸﾘｱ    2006/12/26 V05
 2855 00000012 410B               120             jsr     @r1
 2856 00000014 0009               121             nop
 2857                             122     
 2858                             123     ;       =========== WDT CLEARのために立花LSIをイニシャルする 2006-10-19 SAITO ============
 2859 00000016 D117               124             MOV.L   #_dio_top2+_IOGA_PDIR5,R1               ; IC7 IC21 PORT5
 2860 00000018 901D               125             MOV.W   #H'00FF,R0                              ;
 2861 0000001A 2101               126             MOV.W   R0,@R1                                  ; BIT0~7 OUTPUT
 2862                             127     ;       ==================================================================================
 2863                             128     
 2864                             129             _WDT_CLR
 2865                                 M           PUSH_REG1 R0
 2866 0000001C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
 2867                                 M                                           ;REG=>[SP]
 2868                                 M                                           ;"-4" FF,FF,FF,FC
 2869                                 M           PUSH_REG1 R10
 2870 0000001E 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
 2871                                 M                                           ;REG=>[SP]
 2872                                 M                                           ;"-4" FF,FF,FF,FC
 2873                                 M           PUSH_REG1 R14
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    52
PROGRAM NAME =

 2874 00000020 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
 2875                                 M                                           ;REG=>[SP]
 2876                                 M                                           ;"-4" FF,FF,FF,FC
 2877                                 M   
 2878 00000022 DA15                   M           MOV.L   #_PJDR,R10                              ;?????????今は不要2015-01-05ｺﾒﾝﾄ
 2879 00000024 60A0                   M           MOV.B   @R10,R0
 2880 00000026 CB10                   M           OR      #BIT4,R0
 2881 00000028 2A00                   M           MOV.B   R0,@R10
 2882 0000002A C9EF                   M           AND     #NBIT4,R0
 2883 0000002C 2A00                   M           MOV.B   R0,@R10
 2884                                 M   
 2885                                 M           ;====== 2006-10-19 SAITO 追加　WDTﾎﾟｰﾄ変更 ======
 2886 0000002E DA13                   M           MOV.L   #_IOGA2_CTRL_DAT1+_IOGA_P5,R10          ;
 2887 00000030 60A1                   M           MOV.W   @R10,R0                                 ;
 2888 00000032 9E11                   M           MOV.W   #BIT0,R14                               ;
 2889 00000034 20EB                   M           OR      R14,R0                                  ;
 2890 00000036 2A01                   M           MOV.W   R0,@R10                                 ; WORK
 2891                                 M   
 2892                                 M   ;;      MOV.L   #_IOGA2_CTRL_DAT1+_IOGA_P5,R10  ; WORK ADDRESS
 2893                                 M   ;;      MOV.W   @R10,R0                                 ;
 2894 00000038 9E0F                   M           MOV.W   #_IO2B_P5EX,R14                         ;
 2895 0000003A 20EA                   M           XOR     R14,R0                                  ;
 2896 0000003C DA10                   M           MOV.L   #_dio_top2+_IOGA_PDR5,R10               ; IOGA PF ADDRESS
 2897 0000003E 2A01                   M           MOV.W   R0,@R10                                 ; 実出力SET
 2898                                 M   
 2899 00000040 DA0E                   M           MOV.L   #_IOGA2_CTRL_DAT1+_IOGA_P5,R10          ;
 2900 00000042 60A1                   M           MOV.W   @R10,R0                                 ;
 2901 00000044 9E0A                   M           MOV.W   #NBIT0,R14                              ;
 2902 00000046 20E9                   M           AND     R14,R0                                  ;
 2903 00000048 2A01                   M           MOV.W   R0,@R10                                 ; WORK
 2904                                 M   
 2905                                 M   ;;      MOV.L   #_IOGA2_CTRL_DAT1+_IOGA_P5,R10  ; WORK ADDRESS
 2906                                 M   ;;      MOV.W   @R10,R0                                 ;
 2907 0000004A 9E06                   M           MOV.W   #_IO2B_P5EX,R14                         ;
 2908 0000004C 20EA                   M           XOR     R14,R0                                  ;
 2909 0000004E DA0C                   M           MOV.L   #_dio_top2+_IOGA_PDR5,R10               ; IOGA PF ADDRESS
 2910 00000050 2A01                   M           MOV.W   R0,@R10                                 ; 実出力SET
 2911                                 M   
 2912                                 M           M_BRA   AAA00000
 2913 00000052 A017                   M           BRA     AAA00000
 2914 00000054 0009                   M           NOP
 2915                                 M   ***** BEGIN-POOL *****
 2916 00000056 00FF                   M   DATA FOR SOURCE-LINE 125
 2917 00000058 0001                   M   DATA FOR SOURCE-LINE 129
 2918 0000005A 0000                   M   DATA FOR SOURCE-LINE 129,129
 2919 0000005C 00FE                   M   DATA FOR SOURCE-LINE 129
 2920 0000005E 0000                   M   ALIGNMENT CODE
 2921 00000060 00000000               M   DATA FOR SOURCE-LINE 74
 2922 00000064 00000000               M   DATA FOR SOURCE-LINE 75
 2923 00000068 00000100               M   DATA FOR SOURCE-LINE 76
 2924 0000006C 00000000               M   DATA FOR SOURCE-LINE 115
 2925 00000070 00000000               M   DATA FOR SOURCE-LINE 119
 2926 00000074 00000000               M   DATA FOR SOURCE-LINE 124
 2927 00000078 00000000               M   DATA FOR SOURCE-LINE 129
 2928 0000007C 00000000               M   DATA FOR SOURCE-LINE 129,129
 2929 00000080 00000000               M   DATA FOR SOURCE-LINE 129,129
 2930                                 M   ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    53
PROGRAM NAME =

 2931 00000084                        M   AAA00000:
 2932                                 M           POP_REG1 R14
 2933                                 M                                   ; RE"+4" 00,00,00,04
 2934 00000084 6EF6                   M           MOV.L   @R15+,R14        ;
 2935                                 M           POP_REG1 R10
 2936                                 M                                   ; RE"+4" 00,00,00,04
 2937 00000086 6AF6                   M           MOV.L   @R15+,R10        ;
 2938                                 M           POP_REG1 R0
 2939                                 M                                   ; RE"+4" 00,00,00,04
 2940 00000088 60F6                   M           MOV.L   @R15+,R0        ;
 2941                             130     
 2942 0000008A D113               131             mov.l   #_init_LCD,r1                           ; ＬＣＤシステムシニシャライズ
 2943 0000008C 410B               132             jsr     @r1
 2944 0000008E 0009               133             nop
 2945                             134     
 2946 00000090 D112               135             mov.l   #_init_DISP,r1                          ; ｲﾆｼｬﾙ中画面表示
 2947 00000092 410B               136             jsr     @r1
 2948 00000094 0009               137             nop
 2949                             138     
 2950                             139             _WDT_CLR
 2951                                 M           PUSH_REG1 R0
 2952 00000096 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
 2953                                 M                                           ;REG=>[SP]
 2954                                 M                                           ;"-4" FF,FF,FF,FC
 2955                                 M           PUSH_REG1 R10
 2956 00000098 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
 2957                                 M                                           ;REG=>[SP]
 2958                                 M                                           ;"-4" FF,FF,FF,FC
 2959                                 M           PUSH_REG1 R14
 2960 0000009A 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
 2961                                 M                                           ;REG=>[SP]
 2962                                 M                                           ;"-4" FF,FF,FF,FC
 2963                                 M   
 2964 0000009C DA10                   M           MOV.L   #_PJDR,R10                              ;?????????今は不要2015-01-05ｺﾒﾝﾄ
 2965 0000009E 60A0                   M           MOV.B   @R10,R0
 2966 000000A0 CB10                   M           OR      #BIT4,R0
 2967 000000A2 2A00                   M           MOV.B   R0,@R10
 2968 000000A4 C9EF                   M           AND     #NBIT4,R0
 2969 000000A6 2A00                   M           MOV.B   R0,@R10
 2970                                 M   
 2971                                 M           ;====== 2006-10-19 SAITO 追加　WDTﾎﾟｰﾄ変更 ======
 2972 000000A8 DA0E                   M           MOV.L   #_IOGA2_CTRL_DAT1+_IOGA_P5,R10          ;
 2973 000000AA 60A1                   M           MOV.W   @R10,R0                                 ;
 2974 000000AC 9E10                   M           MOV.W   #BIT0,R14                               ;
 2975 000000AE 20EB                   M           OR      R14,R0                                  ;
 2976 000000B0 2A01                   M           MOV.W   R0,@R10                                 ; WORK
 2977                                 M   
 2978                                 M   ;;      MOV.L   #_IOGA2_CTRL_DAT1+_IOGA_P5,R10  ; WORK ADDRESS
 2979                                 M   ;;      MOV.W   @R10,R0                                 ;
 2980 000000B2 9E0E                   M           MOV.W   #_IO2B_P5EX,R14                         ;
 2981 000000B4 20EA                   M           XOR     R14,R0                                  ;
 2982 000000B6 DA0C                   M           MOV.L   #_dio_top2+_IOGA_PDR5,R10               ; IOGA PF ADDRESS
 2983 000000B8 2A01                   M           MOV.W   R0,@R10                                 ; 実出力SET
 2984                                 M   
 2985 000000BA DA0A                   M           MOV.L   #_IOGA2_CTRL_DAT1+_IOGA_P5,R10          ;
 2986 000000BC 60A1                   M           MOV.W   @R10,R0                                 ;
 2987 000000BE 9E09                   M           MOV.W   #NBIT0,R14                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    54
PROGRAM NAME =

 2988 000000C0 20E9                   M           AND     R14,R0                                  ;
 2989 000000C2 2A01                   M           MOV.W   R0,@R10                                 ; WORK
 2990                                 M   
 2991                                 M   ;;      MOV.L   #_IOGA2_CTRL_DAT1+_IOGA_P5,R10  ; WORK ADDRESS
 2992                                 M   ;;      MOV.W   @R10,R0                                 ;
 2993 000000C4 9E05                   M           MOV.W   #_IO2B_P5EX,R14                         ;
 2994 000000C6 20EA                   M           XOR     R14,R0                                  ;
 2995 000000C8 DA07                   M           MOV.L   #_dio_top2+_IOGA_PDR5,R10               ; IOGA PF ADDRESS
 2996 000000CA 2A01                   M           MOV.W   R0,@R10                                 ; 実出力SET
 2997                                 M   
 2998                                 M           M_BRA   AAA00001
 2999 000000CC A00E                   M           BRA     AAA00001
 3000 000000CE 0009                   M           NOP
 3001                                 M   ***** BEGIN-POOL *****
 3002 000000D0 0001                   M   DATA FOR SOURCE-LINE 139
 3003 000000D2 0000                   M   DATA FOR SOURCE-LINE 139,139
 3004 000000D4 00FE                   M   DATA FOR SOURCE-LINE 139
 3005 000000D6 0000                   M   ALIGNMENT CODE
 3006 000000D8 00000000               M   DATA FOR SOURCE-LINE 131
 3007 000000DC 00000000               M   DATA FOR SOURCE-LINE 135
 3008 000000E0 00000000               M   DATA FOR SOURCE-LINE 139
 3009 000000E4 00000000               M   DATA FOR SOURCE-LINE 139,139
 3010 000000E8 00000000               M   DATA FOR SOURCE-LINE 139,139
 3011                                 M   ***** END-POOL *****
 3012 000000EC                        M   AAA00001:
 3013                                 M           POP_REG1 R14
 3014                                 M                                   ; RE"+4" 00,00,00,04
 3015 000000EC 6EF6                   M           MOV.L   @R15+,R14        ;
 3016                                 M           POP_REG1 R10
 3017                                 M                                   ; RE"+4" 00,00,00,04
 3018 000000EE 6AF6                   M           MOV.L   @R15+,R10        ;
 3019                                 M           POP_REG1 R0
 3020                                 M                                   ; RE"+4" 00,00,00,04
 3021 000000F0 60F6                   M           MOV.L   @R15+,R0        ;
 3022                             140     
 3023 000000F2 D109               141             mov.l   #_WORK_MEM_CHK2,r1                      ; SRAMｸﾘｱ
 3024 000000F4 410B               142             jsr     @r1
 3025 000000F6 0009               143             nop
 3026                             144     
 3027 000000F8 D108               145             mov.l   #_DP_MEM_CHK,r1                         ; ISA-DPRAMｸﾘｱ
 3028 000000FA 410B               146             jsr     @r1
 3029 000000FC 0009               147             nop
 3030                             148     
 3031                             149             .AIF    0 EQ 1
 3032                             150             mov.l   #_ROM_SUM_CHK,r1                        ; ROM SUM CHECK         2006/12/26
                                           V05
 3033                             151             jsr     @r1
 3034                             152             nop
 3035                             153             .AENDI
 3036                             154     
 3037 000000FE D108               155             mov.l   #_INTHdlr_TO_RAM,r1             ;
 3038 00000100 410B               156             jsr     @r1
 3039 00000102 0009               157             nop
 3040                             158     
 3041 00000104 D107               159             mov.l   #_SCI0_PRO_ROM_TO_RAM,r1                ;
 3042 00000106 410B               160             jsr     @r1
 3043 00000108 0009               161             nop
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    55
PROGRAM NAME =

 3044                             162     
 3045                             163     
 3046                             164     
 3047                             165     ;///////;//     *********************************************************************
 3048                             166     ;///////;//     *****   最終ｾｸｼｮﾝに固定ﾃﾞｰﾀが入っているかどうか確認             *****
 3049                             167     ;///////;//     *****   入っていなければﾊﾞｰｼﾞｮﾝUP待ち状態にする。               *****
 3050                             168     ;///////;//     *****   ﾊﾞｰｼﾞｮﾝUPする時は、必ず最初に最終ｾｸｼｮﾝを消去            *****
 3051                             169     ;///////;//     *********************************************************************
 3052                             170     ;///////        MOV.L   #_PFDR,R10
 3053                             171     ;///////        MOV.B   @R10,R0
 3054                             172     ;///////        NOT     R0,R0
 3055                             173     ;///////        EXTU.B  R0,R0
 3056                             174     ;///////        MOV.B   #H'81,R2
 3057                             175     ;///////        EXTU.B  R2,R2
 3058                             176     ;///////        CMP/EQ  R2,R0
 3059                             177     ;///////        BF      _PONR_000                               ;
 3060                             178     ;///////        M_BRA   _PONR_030                               ; SW-1,8だけONならﾊﾞｰｼﾞｮﾝU
                                          Pへ
 3061                             179     ;///////
 3062                             180     ;///////_PONR_000:
 3063                             181     ;///////        MOV.L   #_VUPCHECK_DATA,R1
 3064                             182     ;///////        MOV.L   @R1,R0
 3065                             183     ;///////        MOV.L   #_VUPCHECK_EQU,R1
 3066                             184     ;///////        CMP/EQ  R1,R0                                   ; 前回のﾌﾟﾛｸﾞﾗﾑﾊﾞｰｼﾞｮﾝUPは
                                          正常？
 3067                             185     ;///////        BT      _PONR_002
 3068                             186     ;///////        M_BRA   _PONR_030                               ; いいえ        ﾊﾞｰｼﾞｮﾝUP
                                          へ
 3069                             187     ;///////
 3070                             188     ;///////_PONR_002:
 3071                             189     ;///////
 3072                             190     ;///////;       ================================================================ V06 画面
                                          データ新領域対応
 3073                             191     ;///////        MOV.L   #_GAM_INF_TBL2+512,R1                   ; V06
 3074                             192     ;///////        MOV.W   @R1,R0
 3075                             193     ;///////        MOV.L   #H'0FF00,R2
 3076                             194     ;///////        AND     R2,R0
 3077                             195     ;///////        MOV.L   #H'05A00,R2
 3078                             196     ;///////        CMP/EQ  R2,R0
 3079                             197     ;///////        BT      _PONR_004                               ; 画面ﾃﾞｰﾀの最後に5Aが入っ
                                          ていればOK
 3080                             198     ;///////;//V06m M_BRA   _PONR_008
 3081                             199     ;///////        FAR_JSR #_vup_mesG_disp,R1                      ; 「ﾊﾞｰｼﾞｮﾝUPしてね」ﾒｯｾｰｼ
                                          ﾞ表示
 3082                             200     ;///////        M_BRA   _PONR_030
 3083                             201     ;///////
 3084                             202     ;///////_PONR_004:
 3085                             203     ;///////        MOV.L   #_GAM_INF_TBL2+(3-1)*4,R1               ;
 3086                             204     ;///////        MOV.L   @R1,R0
 3087                             205     ;///////        CMP/EQ  #0,R0                                   ; 画面No.3にﾃﾞｰﾀある？  あ
                                          るならｻｰﾎﾞ用の画面ﾃﾞｰﾀ！
 3088                             206     ;///////        BF      _PONR_006                               ; ある
 3089                             207     ;///////        FAR_JSR #_vup_mesG_disp,R1                      ; 「ﾊﾞｰｼﾞｮﾝUPしてね」ﾒｯｾｰｼ
                                          ﾞ表示
 3090                             208     ;///////        M_BRA   _PONR_030                               ; ﾊﾞｰｼﾞｮﾝUPへ
 3091                             209     ;///////
 3092                             210     ;///////_PONR_006:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    56
PROGRAM NAME =

 3093                             211     ;///////        M_BRA   _PONR_020
 3094                             212     ;///////;       ==================================================================
 3095                             213     ;///////
 3096                             214     ;///////
 3097                             215     ;///////_PONR_008:
 3098                             216     ;///////        MOV.L   #_GAM_INF_TBL+512,R1
 3099                             217     ;///////        MOV.W   @R1,R0
 3100                             218     ;///////        MOV.L   #H'0FF00,R2
 3101                             219     ;///////        AND     R2,R0
 3102                             220     ;///////        MOV.L   #H'05A00,R2
 3103                             221     ;///////        CMP/EQ  R2,R0
 3104                             222     ;///////        BT      _PONR_010                               ; 画面ﾃﾞｰﾀの最後に5Aが入っ
                                          ていればOK
 3105                             223     ;///////        FAR_JSR #_vup_mesG_disp,R1                      ; 「ﾊﾞｰｼﾞｮﾝUPしてね」ﾒｯｾｰｼ
                                          ﾞ表示
 3106                             224     ;///////        M_BRA   _PONR_030                               ; ﾊﾞｰｼﾞｮﾝUPへ
 3107                             225     ;///////
 3108                             226     ;///////_PONR_010:
 3109                             227     ;///////        MOV.L   #_GAM_INF_TBL+(3-1)*4,R1                ; V05i
 3110                             228     ;///////        MOV.L   @R1,R0
 3111                             229     ;///////        CMP/EQ  #0,R0                                   ; 画面No.3にﾃﾞｰﾀある？  あ
                                          るならｻｰﾎﾞ用の画面ﾃﾞｰﾀ！
 3112                             230     ;///////        BF      _PONR_020                               ; ある
 3113                             231     ;///////        FAR_JSR #_vup_mesG_disp,R1                      ; 「ﾊﾞｰｼﾞｮﾝUPしてね」ﾒｯｾｰｼ
                                          ﾞ表示
 3114                             232     ;///////        M_BRA   _PONR_030                               ; ﾊﾞｰｼﾞｮﾝUPへ
 3115                             233     ;///////
 3116                             234     ;///////_PONR_020:
 3117                             235     ;///////        M_BRA   _PONR_100
 3118                             236     ;///////
 3119                             237     ;///////
 3120                             238     ;///////
 3121                             239     ;///////_PONR_030:
 3122                             240     ;///////        mov.l   #SR_Init_SCIEI,r0
 3123                             241     ;///////        ldc     r0,sr                                   ; SR set (SCI割込み(E)だけ
                                          許可)
 3124                             242     ;///////        NOP
 3125                             243     ;///////
 3126                             244     ;///////_PONR_050:
 3127                             245     ;///////        FAR_JSR #_SCI_VUP_MAIN,R0
 3128                             246     ;///////        M_BRA   _PONR_050
 3129                             247     
 3130                             248     
 3131 0000010A                    249     _PONR_100:
 3132 0000010A D107               250             MOV.L   #_PRG_start,R1
 3133 0000010C 410B               251             JSR     @R1
 3134 0000010E 0009               252             NOP
 3135                             253     
 3136                             254     
 3137 00000110 001B               255                     sleep
 3138 00000112 0009               256                     nop
 3139                             257                     .pool
 3140                                     ***** BEGIN-POOL *****
 3141 00000114 A00A                       BRA TO END-POOL
 3142 00000116 0009                       NOP
 3143 00000118 00000000                   DATA FOR SOURCE-LINE 141
 3144 0000011C 00000000                   DATA FOR SOURCE-LINE 145
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    57
PROGRAM NAME =

 3145 00000120 00000000                   DATA FOR SOURCE-LINE 155
 3146 00000124 00000000                   DATA FOR SOURCE-LINE 159
 3147 00000128 00000000                   DATA FOR SOURCE-LINE 250
 3148                                     ***** END-POOL *****
 3149                             258     
 3150                             259     
 3151 00000000                    260             .section        Pstart,code
 3152 00000000                    261     _PRG_start:
 3153                             262             SUB_START
 3154 00000000 4F22                   M           STS.L   PR,@-R15                ;[必要]
 3155                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 3156                             263     
 3157 00000002 D10B               264             mov.l   #__INITSCT,r1
 3158 00000004 410B               265             jsr     @r1
 3159 00000006 0009               266             nop
 3160                             267     
 3161                             268     ;//debug060716  mov.l   #_HardwareSetup2,r1                     ; Use Hardware Setup
 3162                             269     ;//debug060716  jsr     @r1
 3163                             270     ;//debug060716  nop
 3164                             271     
 3165                             272     ;//SHIMA        mov.l   #__INIT_IOLIB,r1        ; Use SIM I/O
 3166                             273     ;//SHIMA        jsr     @r1
 3167                             274     ;//SHIMA        nop
 3168                             275     
 3169                             276     
 3170 00000008 D10A               277             MOV.L   #_CASH_ENB,R1                   ;
 3171 0000000A 410B               278             jsr     @r1
 3172 0000000C 0009               279             nop
 3173                             280     
 3174 0000000E D10A               281             mov.l   #_P_TO_PRAM_COPY,r1             ; P -> PRAM
 3175 00000010 410B               282             jsr     @r1
 3176 00000012 0009               283             nop
 3177                             284     
 3178 00000014 D109               285             mov.l   #_PC_TO_PCRAM_COPY,r1           ; Pcall -> PcallRAM
 3179 00000016 410B               286             jsr     @r1
 3180 00000018 0009               287             nop
 3181                             288     
 3182 0000001A D109               289             mov.l   #_PH_TO_PHRAM_COPY,r1           ; PHiROM -> PHiRAM      V06b
 3183 0000001C 410B               290             jsr     @r1
 3184 0000001E 0009               291             nop
 3185                             292     
 3186                             293     ;       mov.l   #__call_init,r1         ; Remove the comment when you use global class obj
                                          ect
 3187                             294     ;       jsr     @r1                                     ; See initsct.c and dbsct.src
 3188                             295     ;       nop
 3189                             296     
 3190 00000020                    297     _start000:
 3191 00000020 D808               298             mov.l   #_main,r8
 3192 00000022 480B               299             jsr     @r8
 3193 00000024 0009               300             nop
 3194                             301     
 3195                             302     ;       mov.l   #__call_end,r1          ; Remove the comment when you use global class obj
                                          ect
 3196                             303     ;       jsr     @r1                                     ; See initsct.c and dbsct.src
 3197                             304     ;       nop
 3198                             305     
 3199                             306     ;//SHIMA        mov.l   #__CLOSEALL,r1          ; Use SIM I/O
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    58
PROGRAM NAME =

 3200                             307     ;//SHIMA        jsr     @r1
 3201                             308     ;//SHIMA        nop
 3202                             309     
 3203 00000026 001B               310             sleep
 3204 00000028 0009               311             nop
 3205                             312             .pool
 3206                                     ***** BEGIN-POOL *****
 3207 0000002A A00D                       BRA TO END-POOL
 3208 0000002C 0009                       NOP
 3209 0000002E 0000                       ALIGNMENT CODE
 3210 00000030 00000000                   DATA FOR SOURCE-LINE 264
 3211 00000034 00000000                   DATA FOR SOURCE-LINE 277
 3212 00000038 00000000                   DATA FOR SOURCE-LINE 281
 3213 0000003C 00000000                   DATA FOR SOURCE-LINE 285
 3214 00000040 00000000                   DATA FOR SOURCE-LINE 289
 3215 00000044 00000000                   DATA FOR SOURCE-LINE 298
 3216                                     ***** END-POOL *****
 3217                             313     
 3218                             314     
 3219 00000048                    315     VUP_TEST:
 3220 00000048 1234567887654321   316             .DATA.L         H'12345678, H'87654321, H'5A5AA5A5, H'A5A55A5A
      00000050 5A5AA5A5A5A55A5A
 3221 00000058 00000000FFFFFFFF   317             .DATA.L         H'00000000, H'FFFFFFFF, H'55555555, H'AAAAAAAA
      00000060 55555555AAAAAAAA
 3222 00000068 1234567887654321   318             .DATA.L         H'12345678, H'87654321, H'5A5AA5A5, H'A5A55A5A
      00000070 5A5AA5A5A5A55A5A
 3223                             319     
 3224                             320                     .end
  *****TOTAL ERRORS       0
  *****TOTAL WARNINGS     0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    59

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

AAA00000                         ResetPRG      00000084   2913  2931*
AAA00001                         ResetPRG      000000EC   2999  3012*
BIT0                                      EQU  00000001    231* 2888  2974 
BIT1                                      EQU  00000002    232*
BIT10                                     EQU  00000400    241*
BIT11                                     EQU  00000800    242*
BIT12                                     EQU  00001000    243*
BIT13                                     EQU  00002000    244*
BIT14                                     EQU  00004000    245*
BIT15                                     EQU  00008000    246*
BIT16                                     EQU  00010000    247*
BIT17                                     EQU  00020000    248*
BIT18                                     EQU  00040000    249*
BIT19                                     EQU  00080000    250*
BIT2                                      EQU  00000004    233*
BIT20                                     EQU  00100000    251*
BIT21                                     EQU  00200000    252*
BIT22                                     EQU  00400000    253*
BIT23                                     EQU  00800000    254*
BIT24                                     EQU  01000000    255*
BIT25                                     EQU  02000000    256*
BIT26                                     EQU  04000000    257*
BIT27                                     EQU  08000000    258*
BIT28                                     EQU  10000000    259*
BIT29                                     EQU  20000000    260*
BIT3                                      EQU  00000008    234*
BIT30                                     EQU  40000000    261*
BIT31                                     EQU  80000000    262*
BIT4                                      EQU  00000010    235* 2880  2966 
BIT5                                      EQU  00000020    236*
BIT6                                      EQU  00000040    237*
BIT7                                      EQU  00000080    238*
BIT8                                      EQU  00000100    239*
BIT9                                      EQU  00000200    240*
H_BYTE                                    EQU  00000000    298*
L_BYTE                                    EQU  00000001    297*
NBIT0                                     EQU  000000FE    265* 2901  2987 
NBIT1                                     EQU  000000FD    266*
NBIT10                                    EQU  0000FBFF    276*
NBIT11                                    EQU  0000F7FF    277*
NBIT12                                    EQU  0000EFFF    278*
NBIT13                                    EQU  0000DFFF    279*
NBIT14                                    EQU  0000BFFF    280*
NBIT15                                    EQU  00007FFF    281*
NBIT2                                     EQU  000000FB    267*
NBIT3                                     EQU  000000F7    268*
NBIT4                                     EQU  000000EF    269* 2882  2968 
NBIT5                                     EQU  000000DF    270*
NBIT6                                     EQU  000000BF    271*
NBIT7                                     EQU  0000007F    272*
NBIT8                                     EQU  0000FEFF    274*
NBIT9                                     EQU  0000FDFF    275*
Pstart                           Pstart   SCT  00000000   3151*
ResetPRG                         ResetPRG SCT  00000000   2806*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    60

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

SR_Init                                   EQU  40000010     25*
SR_Init_DI                                EQU  400000F0     26*
SR_Init_SCIEI                             EQU  400000D0     27*
VUP_TEST                         Pstart        00000048   3219*
XBIT0                                     EQU  00000000    284*
XBIT1                                     EQU  00000001    285*
XBIT2                                     EQU  00000002    286*
XBIT3                                     EQU  00000003    287*
XBIT4                                     EQU  00000004    288*
XBIT5                                     EQU  00000005    289*
XBIT6                                     EQU  00000006    290*
XBIT7                                     EQU  00000007    291*
_ACDR                                     IMPT 00000000   1922 
_ACTR1                                    IMPT 00000000   1914 
_ACTR2                                    IMPT 00000000   1915 
_ADCR                                     IMPT 00000000   1856 
_ADCSR                                    IMPT 00000000   1855 
_ADDRAH                                   IMPT 00000000   1847 
_ADDRAL                                   IMPT 00000000   1848 
_ADDRBH                                   IMPT 00000000   1849 
_ADDRBL                                   IMPT 00000000   1850 
_ADDRCH                                   IMPT 00000000   1851 
_ADDRCL                                   IMPT 00000000   1852 
_ADDRDH                                   IMPT 00000000   1853 
_ADDRDL                                   IMPT 00000000   1854 
_AD_AVG_BUF                               IMPT 00000000   2497 
_AD_AVG_TOTAL                             IMPT 00000000   2498 
_AD_BUFCNT                                IMPT 00000000   2496 
_AD_CNV_DT0                               IMPT 00000000   2494 
_ASDR                                     IMPT 00000000   1923 
_ASTR1                                    IMPT 00000000   1916 
_ASTR2                                    IMPT 00000000   1917 
_BAMRA                                    IMPT 00000000   2061 
_BAMRB                                    IMPT 00000000   2057 
_BARA                                     IMPT 00000000   2060 
_BARB                                     IMPT 00000000   2056 
_BASRA                                    IMPT 00000000   2068 
_BASRB                                    IMPT 00000000   2069 
_BBRA                                     IMPT 00000000   2062 
_BBRB                                     IMPT 00000000   2058 
_BCR1                                     IMPT 00000000   2037 
_BCR2                                     IMPT 00000000   2038 
_BDMRB                                    IMPT 00000000   2053 
_BDRB                                     IMPT 00000000   2052 
_BETR                                     IMPT 00000000   2055 
_BRCR                                     IMPT 00000000   2054 
_BRDR                                     IMPT 00000000   2063 
_BRR0                                     IMPT 00000000   2002 
_BRSR                                     IMPT 00000000   2059 
_BTNER_ERR_TM                             IMPT 00000000   2443 
_CASH_ENB                                 IMPT 00000000   2790  3170 
_CB_BAKUP_CMD1                            EQU  00005678    330*
_CB_BAKUP_CMD2                            EQU  00001234    331*
_CB_BAK_SUM_COD1                          EQU  5AA51234    328*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    61

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CB_BAK_SUM_COD2                          EQU  A55A4321    329*
_CB_ERR_INFO_MEM                          EQU  00000080    354*
_CB_ERR_INFO_PSIZE                        EQU  00000008    355*
_CB_STS_BUF_1BLK                          EQU  00000040    333*  335 
_CB_STS_BUF_BLKMAX                        EQU  00000008    334*  335 
_CB_STS_BUF_MAX                           EQU  00000200    335*
_CB_TRD_BEFORE                            EQU  00000060    343*
_CB_TRD_BUF_DP_MAX                        EQU  00000080    347*
_CB_TRD_BUF_MAX                           EQU  00000800    344*
_CB_TRD_DP_1CNT                           EQU  00000008    346*
_CB_TRD_DP_CH                             EQU  00000004    339*
_CB_TRD_SMP_CNT                           EQU  00000080    342*
_CCR                                      IMPT 00000000   2070 
_CCR2                                     IMPT 00000000   1860 
_CHCR0                                    IMPT 00000000   1829 
_CHCR1                                    IMPT 00000000   1833 
_CHCR2                                    IMPT 00000000   1837 
_CHCR3                                    IMPT 00000000   1841 
_CHRAR                                    IMPT 00000000   1934 
_CKIO2CR                                  IMPT 00000000   1939 
_CMCNT                                    IMPT 00000000   1845 
_CMCOR                                    IMPT 00000000   1846 
_CMCSR                                    IMPT 00000000   1844 
_CMP2_ERR_FIRST                           IMPT 00000000   2508 
_CMP2_ERR_TM2                             IMPT 00000000   2452 
_CMSTR                                    IMPT 00000000   1843 
_CPUA_EMG_IN_FLG                          IMPT 00000000   2589 
_CPUN_2CMP_DATA                           IMPT 00000000   2507 
_CPUN_2CMP_LATCH1                         IMPT 00000000   2511 
_CPUN_2CMP_LATCH2                         IMPT 00000000   2510 
_DACR1                                    IMPT 00000000   1859 
_DADR0                                    IMPT 00000000   1857 
_DADR1                                    IMPT 00000000   1858 
_DAR0                                     IMPT 00000000   1827 
_DAR1                                     IMPT 00000000   1831 
_DAR2                                     IMPT 00000000   1835 
_DAR3                                     IMPT 00000000   1839 
_DBG_ERRCHK_NASI                          IMPT 00000000   2436 
_DMAOR                                    IMPT 00000000   1842 
_DMATCR0                                  IMPT 00000000   1828 
_DMATCR1                                  IMPT 00000000   1832 
_DMATCR2                                  IMPT 00000000   1836 
_DMATCR3                                  IMPT 00000000   1840 
_DPNQ                                     IMPT 00000000   1920 
_DPRAM_SIZE                               EQU  00003FFF   2276*
_DP_MEM_CHK                               IMPT 00000000   2780  3027 
_DSET_SW_FLG                              IMPT 00000000   2563 
_DUMMY                                    IMPT 00000000    223 
_DUMMY_SUM_CODE                           EQU  5AA53CC3    321*
_ERR_CHK_OK_FLG                           IMPT 00000000   2431 
_ER_SFTSW_CHG_OLD                         IMPT 00000000   2438 
_ER_SQRAM_WK1                             IMPT 00000000   2433 
_ER_SQRAM_WK2                             IMPT 00000000   2434 
_EXCPGCR                                  IMPT 00000000   1938 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    62

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_EXPEVT                                   IMPT 00000000   2065 
_EXPFC                                    IMPT 00000000   1937 
_FACT_IN_DATA                             IMPT 00000000   2516 
_FDEV_IN_DATA                             IMPT 00000000   2518 
_FROM_SUMCHK_CODE                         IMPT 00000000   2440 
_FRQCR                                    IMPT 00000000   2047 
_FSFT_TRERR_TM                            IMPT 00000000   2453 
_GAM_INF_TBL                              IMPT 00000000   2796 
_GAM_INF_TBL2                             IMPT 00000000   2797 
_HANYO2_DI_DAT                            IMPT 00000000   2746 
_HANYO2_DI_OLD                            IMPT 00000000   2747 
_HardwareSetup1                           IMPT 00000000   2776  2850 
_HardwareSetup2                           IMPT 00000000   2777 
_ICR0                                     IMPT 00000000   2034 
_ICR1                                     IMPT 00000000   1820 
_ICR2                                     IMPT 00000000   1821 
_ICR3                                     IMPT 00000000   1933 
_INTDI_SCI_EXCEPT                         IMPT 00000000   2794 
_INTEVT                                   IMPT 00000000   2066 
_INTEVT2                                  IMPT 00000000   1816 
_INTHandlerPRG                            IMPT 00000000   2761  2810 
_INTHdlr_TO_RAM                           IMPT 00000000   2784  3037 
_INT_ADC_ADI                              IMPT 00000000    191 
_INT_AFEIF_AFEIFI                         IMPT 00000000    205 
_INT_Address_load                         IMPT 00000000     53 
_INT_Address_store                        IMPT 00000000     55 
_INT_BSC_RCMI                             IMPT 00000000    127 
_INT_BSC_ROVI                             IMPT 00000000    129 
_INT_CPG_ITI                              IMPT 00000000    125 
_INT_DMAC_DEI0                            IMPT 00000000    167 
_INT_DMAC_DEI1                            IMPT 00000000    169 
_INT_DMAC_DEI2                            IMPT 00000000    171 
_INT_DMAC_DEI3                            IMPT 00000000    173 
_INT_Extern_0000                          IMPT 00000000     71 
_INT_Extern_0001                          IMPT 00000000     73 
_INT_Extern_0010                          IMPT 00000000     75 
_INT_Extern_0011                          IMPT 00000000     77 
_INT_Extern_0100                          IMPT 00000000     79 
_INT_Extern_0101                          IMPT 00000000     81 
_INT_Extern_0110                          IMPT 00000000     83 
_INT_Extern_0111                          IMPT 00000000     85 
_INT_Extern_1000                          IMPT 00000000     87 
_INT_Extern_1001                          IMPT 00000000     89 
_INT_Extern_1010                          IMPT 00000000     91 
_INT_Extern_1011                          IMPT 00000000     93 
_INT_Extern_1100                          IMPT 00000000     95 
_INT_Extern_1101                          IMPT 00000000     97 
_INT_Extern_1110                          IMPT 00000000     99 
_INT_H_UDI                                IMPT 00000000    133 
_INT_IRQ0                                 IMPT 00000000    135 
_INT_IRQ1                                 IMPT 00000000    137 
_INT_IRQ2                                 IMPT 00000000    139 
_INT_IRQ3                                 IMPT 00000000    141 
_INT_IRQ4                                 IMPT 00000000    143 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    63

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_INT_IRQ5                                 IMPT 00000000    145 
_INT_Illegal_code                         IMPT 00000000     63 
_INT_Illegal_slot                         IMPT 00000000     65 
_INT_LCDC_LCDCI                           IMPT 00000000    193 
_INT_NMI                                  IMPT 00000000     67 
_INT_PCC0                                 IMPT 00000000    195 
_INT_PINT0_7                              IMPT 00000000    151 
_INT_PINT8_15                             IMPT 00000000    153 
_INT_RTC_ATI                              IMPT 00000000    111 
_INT_RTC_CUI                              IMPT 00000000    115 
_INT_RTC_PRI                              IMPT 00000000    113 
_INT_Reserved1                            IMPT 00000000     57 
_INT_Reserved2                            IMPT 00000000     59 
_INT_Reserved3E0                          IMPT 00000000    101 
_INT_Reserved5C0                          IMPT 00000000    131 
_INT_Reserved6C0                          IMPT 00000000    147 
_INT_Reserved6E0                          IMPT 00000000    149 
_INT_Reserved740                          IMPT 00000000    155 
_INT_Reserved760                          IMPT 00000000    157 
_INT_Reserved780                          IMPT 00000000    159 
_INT_Reserved7A0                          IMPT 00000000    161 
_INT_Reserved7C0                          IMPT 00000000    163 
_INT_Reserved7E0                          IMPT 00000000    165 
_INT_Reserved880                          IMPT 00000000    175 
_INT_Reserved8A0                          IMPT 00000000    177 
_INT_Reserved8C0                          IMPT 00000000    179 
_INT_Reserved8E0                          IMPT 00000000    181 
_INT_Reserved9E0                          IMPT 00000000    197 
_INT_ReservedA80                          IMPT 00000000    207 
_INT_ReservedAA0                          IMPT 00000000    209 
_INT_ReservedAC0                          IMPT 00000000    211 
_INT_ReservedAE0                          IMPT 00000000    213 
_INT_SCIF_BRI2                            IMPT 00000000    187 
_INT_SCIF_ERI2                            IMPT 00000000    183 
_INT_SCIF_RXI2                            IMPT 00000000    185 
_INT_SCIF_TXI2                            IMPT 00000000    189 
_INT_SCI_ERI                              IMPT 00000000    117 
_INT_SCI_RXI                              IMPT 00000000    119 
_INT_SCI_TEI                              IMPT 00000000    123 
_INT_SCI_TXI                              IMPT 00000000    121 
_INT_SIOF_SIFCCI                          IMPT 00000000    221 
_INT_SIOF_SIFERI                          IMPT 00000000    215 
_INT_SIOF_SIFRXI                          IMPT 00000000    219 
_INT_SIOF_SIFTXI                          IMPT 00000000    217 
_INT_TLBCPU_ADERR                         IMPT 00000000     43 
_INT_TLBInitial_Page                      IMPT 00000000     45 
_INT_TLBMiss_Load                         IMPT 00000000     39 
_INT_TLBMiss_Store                        IMPT 00000000     41 
_INT_TLBProtect_Load                      IMPT 00000000     47 
_INT_TLBProtect_Loop                      IMPT 00000000     51 
_INT_TLBProtect_Store                     IMPT 00000000     49 
_INT_TMU_TICPI2                           IMPT 00000000    109 
_INT_TMU_TUNI0                            IMPT 00000000    103 
_INT_TMU_TUNI1                            IMPT 00000000    105 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    64

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_INT_TMU_TUNI2                            IMPT 00000000    107 
_INT_TRAPA                                IMPT 00000000     61 
_INT_USBF_USBFI0                          IMPT 00000000    201 
_INT_USBF_USBFI1                          IMPT 00000000    203 
_INT_USBH_USBHI                           IMPT 00000000    199 
_INT_User_Break                           IMPT 00000000     69 
_IN_RNA_REF_ERR_FLG1                      IMPT 00000000   2538 
_IN_RNA_REF_ERR_FLG2                      IMPT 00000000   2539 
_IO1A_P4EX                                EQU  00000000   2334*
_IO1A_P5EX                                EQU  0000007B   2335*
_IO1A_P6EX                                EQU  00000000   2336*
_IO1A_P7EX                                EQU  00000000   2337*
_IO1B_P4EX                                EQU  000000FF   2344*
_IO1B_P5EX                                EQU  00000070   2345*
_IO1B_P6EX                                EQU  00000000   2346*
_IO1B_P7EX                                EQU  00000000   2347*
_IO2A_P5EX                                EQU  0000002F   2339*
_IO2A_P6EX                                EQU  0000009C   2340*
_IO2A_P7EX                                EQU  00000000   2341*
_IO2B_P5EX                                EQU  00000000   2350* 2894  2907  2980  2993 
_IO2B_P6EX                                EQU  0000009C   2351*
_IO2B_P7EX                                EQU  00000000   2352*
_IOGA1_CTRL_DAT1                          IMPT 00000000   2710 
_IOGA1_PA_DT_OLD1                         IMPT 00000000   2715 
_IOGA1_PA_DT_OLD2                         IMPT 00000000   2721 
_IOGA1_PB_DT_OLD1                         IMPT 00000000   2716 
_IOGA1_PB_DT_OLD2                         IMPT 00000000   2722 
_IOGA1_PC_DT_OLD1                         IMPT 00000000   2717 
_IOGA1_PC_DT_OLD2                         IMPT 00000000   2723 
_IOGA1_PD_DT_OLD1                         IMPT 00000000   2718 
_IOGA1_PD_DT_OLD2                         IMPT 00000000   2724 
_IOGA1_PE_DT_OLD1                         IMPT 00000000   2719 
_IOGA1_PE_DT_OLD2                         IMPT 00000000   2725 
_IOGA2_CTRL_DAT1                          IMPT 00000000   2712  2886  2899  2972  2985 
_IOGA2_PA_DT_OLD1                         IMPT 00000000   2727 
_IOGA2_PA_DT_OLD2                         IMPT 00000000   2733 
_IOGA2_PB_DT_OLD1                         IMPT 00000000   2728 
_IOGA2_PB_DT_OLD2                         IMPT 00000000   2734 
_IOGA2_PC_DT_OLD1                         IMPT 00000000   2729 
_IOGA2_PC_DT_OLD2                         IMPT 00000000   2735 
_IOGA2_PD_DT_OLD1                         IMPT 00000000   2730 
_IOGA2_PD_DT_OLD2                         IMPT 00000000   2736 
_IOGA2_PE_DT_OLD1                         IMPT 00000000   2731 
_IOGA2_PE_DT_OLD2                         IMPT 00000000   2737 
_IOGA_OUT_INIT                            IMPT 00000000   2801 
_IOGA_P0                                  EQU  00000000   2293*
_IOGA_P1                                  EQU  00000002   2294*
_IOGA_P2                                  EQU  00000004   2295*
_IOGA_P3                                  EQU  00000006   2296*
_IOGA_P4                                  EQU  00000008   2297*
_IOGA_P5                                  EQU  0000000A   2298* 2886  2899  2972  2985 
_IOGA_P6                                  EQU  0000000C   2299*
_IOGA_P7                                  EQU  0000000E   2300*
_IOGA_PDIR0                               EQU  00000002   2318*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    65

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_IOGA_PDIR1                               EQU  00000006   2319*
_IOGA_PDIR2                               EQU  0000000A   2320*
_IOGA_PDIR3                               EQU  0000000E   2321*
_IOGA_PDIR4                               EQU  00000012   2322*
_IOGA_PDIR5                               EQU  00000016   2323* 2859 
_IOGA_PDIR6                               EQU  0000001A   2324*
_IOGA_PDIR7                               EQU  0000001C   2325*
_IOGA_PDR0                                EQU  00000000   2308*
_IOGA_PDR1                                EQU  00000004   2309*
_IOGA_PDR2                                EQU  00000008   2310*
_IOGA_PDR3                                EQU  0000000C   2311*
_IOGA_PDR4                                EQU  00000010   2312*
_IOGA_PDR5                                EQU  00000014   2313* 2896  2909  2982  2995 
_IOGA_PDR6                                EQU  00000018   2314*
_IOGA_PDR7                                EQU  0000001C   2315*
_IOGAi_PA                                 EQU  00000000   2284*
_IOGAi_PB                                 EQU  00000002   2285*
_IOGAi_PC                                 EQU  00000004   2286*
_IOGAi_PD                                 EQU  00000006   2287*
_IOGAo_PE                                 EQU  00000008   2288*
_IOGAo_PF                                 EQU  0000000A   2289*
_IOGAo_PG                                 EQU  0000000C   2290*
_IOGAo_PH                                 EQU  0000000E   2291*
_IPR3                                     IMPT 00000000   1931 
_IPR4                                     IMPT 00000000   1932 
_IPRA                                     IMPT 00000000   2035 
_IPRB                                     IMPT 00000000   2036 
_IPRC                                     IMPT 00000000   1823 
_IPRD                                     IMPT 00000000   1824 
_IPRE                                     IMPT 00000000   1825 
_IPRF                                     IMPT 00000000   1929 
_IPRG                                     IMPT 00000000   1930 
_IRAM_CLEAR                               IMPT 00000000   2778  2854 
_IRAM_SIZE                                EQU  00007FFF   2275*
_IRAM_TOP                                 EQU  FFFF6000   2274*
_IRR0                                     IMPT 00000000   1817 
_IRR1                                     IMPT 00000000   1818 
_IRR2                                     IMPT 00000000   1819 
_KEEPRY_BKUP_ERR                          IMPT 00000000   2659 
_KJ_CHK_CNT0                              IMPT 00000000   2803 
_LDACLNR                                  IMPT 00000000   1996 
_LDCNTR                                   IMPT 00000000   2000 
_LDDFR                                    IMPT 00000000   1985 
_LDHCNR                                   IMPT 00000000   1991 
_LDHSYNR                                  IMPT 00000000   1992 
_LDICKR                                   IMPT 00000000   1983 
_LDINTR                                   IMPT 00000000   1997 
_LDLAOR                                   IMPT 00000000   1989 
_LDMTR                                    IMPT 00000000   1984 
_LDPALCR                                  IMPT 00000000   1990 
_LDPMMR                                   IMPT 00000000   1998 
_LDPR00                                   IMPT 00000000   1982 
_LDPSPR                                   IMPT 00000000   1999 
_LDSARL                                   IMPT 00000000   1988 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    66

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LDSARU                                   IMPT 00000000   1987 
_LDSMR                                    IMPT 00000000   1986 
_LDVDLNR                                  IMPT 00000000   1993 
_LDVSYNR                                  IMPT 00000000   1995 
_LDVTLNR                                  IMPT 00000000   1994 
_LT_RNA_REF_ERR_FLG1                      IMPT 00000000   2542 
_LT_RNA_REF_ERR_FLG2                      IMPT 00000000   2543 
_MCR                                      IMPT 00000000   2041 
_MMUCR                                    IMPT 00000000   2067 
_MPCR                                     IMPT 00000000   1919 
_MRCR                                     IMPT 00000000   1918 
_Manual_Reset                    ResetPRG EXPT 00000000     36  2808*
_NCHSW_ERR_TM1                            IMPT 00000000   2444 
_NCHSW_ERR_TM2                            IMPT 00000000   2445 
_PACR                                     IMPT 00000000   1876 
_PADR                                     IMPT 00000000   1889 
_PBCR                                     IMPT 00000000   1877 
_PBDR                                     IMPT 00000000   1890 
_PB_INDT_OLD1                             IMPT 00000000   2599 
_PB_INDT_OLD2                             IMPT 00000000   2600 
_PB_PORT_CTL_DATA                         IMPT 00000000   2598 
_PCC0CSCIER                               IMPT 00000000   1913 
_PCC0CSCR                                 IMPT 00000000   1912 
_PCC0GCR                                  IMPT 00000000   1911 
_PCC0ISR                                  IMPT 00000000   1910 
_PCCR                                     IMPT 00000000   1878 
_PCDR                                     IMPT 00000000   1891 
_PCR                                      IMPT 00000000   2042 
_PC_TO_PCRAM_COPY                         IMPT 00000000   2792  3178 
_PDCR                                     IMPT 00000000   1879 
_PDDR                                     IMPT 00000000   1892 
_PECR                                     IMPT 00000000   1880 
_PEDR                                     IMPT 00000000   1893 
_PFCR                                     IMPT 00000000   1881 
_PFDR                                     IMPT 00000000   1894 
_PGCR                                     IMPT 00000000   1882 
_PGDR                                     IMPT 00000000   1895 
_PHCR                                     IMPT 00000000   1883 
_PHDR                                     IMPT 00000000   1896 
_PH_TO_PHRAM_COPY                         IMPT 00000000   2793  3182 
_PINTER                                   IMPT 00000000   1822 
_PJCR                                     IMPT 00000000   1884 
_PJDR                                     IMPT 00000000   1897  2878  2964 
_PJ_INDT_OLD1                             IMPT 00000000   2604 
_PJ_INDT_OLD2                             IMPT 00000000   2605 
_PJ_PORT_CTL_DATA                         IMPT 00000000   2603 
_PKCR                                     IMPT 00000000   1885 
_PKDR                                     IMPT 00000000   1898 
_PK_INDT_OLD1                             IMPT 00000000   2609 
_PK_INDT_OLD2                             IMPT 00000000   2610 
_PK_PORT_CTL_DATA                         IMPT 00000000   2608 
_PLCR                                     IMPT 00000000   1886 
_PLDR                                     IMPT 00000000   1899 
_PLSiCH1                                  EQU  00000000   2360*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    67

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PLSiCH2                                  EQU  00000030   2361*
_PL_BitComdH                              EQU  00000002   2364*
_PL_BitComdL                              EQU  00000000   2363*
_PL_BitInfoH                              EQU  00000006   2366*
_PL_BitInfoL                              EQU  00000004   2365*
_PL_CtrlReg                               EQU  0000002A   2370*
_PL_INDT_OLD1                             IMPT 00000000   2614 
_PL_INDT_OLD2                             IMPT 00000000   2615 
_PL_NowPos1H                              EQU  00000026   2368*
_PL_NowPos1L                              EQU  00000024   2367*
_PL_NowPos2                               EQU  00000028   2369*
_PL_PORT_CTL_DATA                         IMPT 00000000   2613 
_PMCR                                     IMPT 00000000   1888 
_PMDR                                     IMPT 00000000   1901 
_PONR_100                        ResetPRG      0000010A   3131*
_PRG_start                       Pstart        00000000   3132  3152*
_PTEH                                     IMPT 00000000   2071 
_PTEL                                     IMPT 00000000   2072 
_PV0_SCRW_POS                             IMPT 00000000   2424 
_PV1_SCRW_POS                             IMPT 00000000   2422 
_PV_AD_DATA                               IMPT 00000000   2499 
_P_TO_PRAM_COPY                           IMPT 00000000   2791  3174 
_PowerON_Reset                   ResetPRG EXPT 00000000     32  2807*
_PowerON_Reset_SP                         IMPT 00000000   2760  2809 
_R64CNT                                   IMPT 00000000   2018 
_RACT_IN_DATA                             IMPT 00000000   2517 
_RCNT                                     IMPT 00000000   1921 
_RCR1                                     IMPT 00000000   2032 
_RCR2                                     IMPT 00000000   2033 
_RDAYAR                                   IMPT 00000000   2030 
_RDAYCNT                                  IMPT 00000000   2023 
_RDEV_IN_DATA                             IMPT 00000000   2519 
_RDFP                                     IMPT 00000000   1925 
_RDR0                                     IMPT 00000000   2006 
_REAL_INP1_DATA                           IMPT 00000000   2593 
_REAL_INP1_DT_OLD1                        IMPT 00000000   2594 
_REAL_INP1_DT_OLD2                        IMPT 00000000   2595 
_REMOTE_ERR_CHKTM                         IMPT 00000000   2472 
_RFCR                                     IMPT 00000000   2046 
_RHRAR                                    IMPT 00000000   2028 
_RHRCNT                                   IMPT 00000000   2021 
_RMINAR                                   IMPT 00000000   2027 
_RMINCNT                                  IMPT 00000000   2020 
_RMONAR                                   IMPT 00000000   2031 
_RMONCNT                                  IMPT 00000000   2024 
_RNA_ALM_BIT0_CNT                         IMPT 00000000   2550 
_RNA_ALM_BIT1_CNT                         IMPT 00000000   2551 
_RNA_ALM_BIT2_CNT                         IMPT 00000000   2552 
_RNA_ALM_BIT3_CNT                         IMPT 00000000   2553 
_RNA_ALM_BIT4_CNT                         IMPT 00000000   2554 
_RNA_ALM_BIT5_CNT                         IMPT 00000000   2555 
_RNA_ALM_BIT6_CNT                         IMPT 00000000   2556 
_RNA_ALM_BIT7_CNT                         IMPT 00000000   2557 
_RNA_ALM_CNT                              IMPT 00000000   2558 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    68

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_RNA_ALM_DAT                              IMPT 00000000   2559 
_RNA_CMD_VERIFY_CNT                       IMPT 00000000   2545 
_RNA_CMD_VERIFY_DAT                       IMPT 00000000   2546 
_RNA_REF1_CNT                             IMPT 00000000   2560 
_RNA_REF2_CNT                             IMPT 00000000   2561 
_RNA_REF_ERR_FLG1                         IMPT 00000000   2540 
_RNA_REF_ERR_FLG2                         IMPT 00000000   2541 
_RNA_STS_ERR_DAT                          IMPT 00000000   2549 
_RNA_STS_REQERR_CNT                       IMPT 00000000   2548 
_RNA_STS_SYSERR_CNT                       IMPT 00000000   2547 
_ROM_SUM_CHK                              IMPT 00000000   2781 
_ROM_SYSPAR_ERRADR                        IMPT 00000000   2474 
_RSECAR                                   IMPT 00000000   2026 
_RSECCNT                                  IMPT 00000000   2019 
_RSFT_TRERR_TM                            IMPT 00000000   2454 
_RTCNT                                    IMPT 00000000   2044 
_RTCOR                                    IMPT 00000000   2045 
_RTCSR                                    IMPT 00000000   2043 
_RWKAR                                    IMPT 00000000   2029 
_RWKCNT                                   IMPT 00000000   2022 
_RYRCNT                                   IMPT 00000000   2025 
_SAITO_ASM_RAM_TOP                        IMPT 00000000   2388 
_SAR0                                     IMPT 00000000   1826 
_SAR1                                     IMPT 00000000   1830 
_SAR2                                     IMPT 00000000   1834 
_SAR3                                     IMPT 00000000   1838 
_SCBRR2                                   IMPT 00000000   1903 
_SCFCR2                                   IMPT 00000000   1908 
_SCFDR2                                   IMPT 00000000   1909 
_SCFRDR2                                  IMPT 00000000   1907 
_SCFTDR2                                  IMPT 00000000   1905 
_SCI0_PRO_ROM_TO_RAM                      IMPT 00000000   2783  3041 
_SCPCR                                    IMPT 00000000   1887 
_SCPDR                                    IMPT 00000000   1900 
_SCR0                                     IMPT 00000000   2003 
_SCSCMR                                   IMPT 00000000   2007 
_SCSCR2                                   IMPT 00000000   1904 
_SCSMR2                                   IMPT 00000000   1902 
_SCSSR2                                   IMPT 00000000   1906 
_SDDRL                                    IMPT 00000000   1928 
_SDDR_SDDRH                               IMPT 00000000   1927 
_SDIR                                     IMPT 00000000   1926 
_SELF_ACT_FLG                             IMPT 00000000   2482 
_SELF_CHK_FLG                             IMPT 00000000   2481 
_SELF_CHK_TIMER                           IMPT 00000000   2491 
_SELF_FSTY_USE                            IMPT 00000000   2488 
_SELF_HAND_FLG1                           IMPT 00000000   2485 
_SELF_HAND_FLG2                           IMPT 00000000   2486 
_SELF_RSTY_USE                            IMPT 00000000   2489 
_SFTSW_ERR_TM                             IMPT 00000000   2442 
_SH4_SQERRAM                              IMPT 00000000   2435 
_SICDAR                                   IMPT 00000000   1865 
_SICTR                                    IMPT 00000000   1866 
_SIFCTR                                   IMPT 00000000   1867 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    69

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SIFPR                                    IMPT 00000000   1875 
_SIIER                                    IMPT 00000000   1869 
_SIMDR                                    IMPT 00000000   1861 
_SIRCR                                    IMPT 00000000   1873 
_SIRDAR                                   IMPT 00000000   1864 
_SIRDR                                    IMPT 00000000   1871 
_SISCR                                    IMPT 00000000   1862 
_SISTR                                    IMPT 00000000   1868 
_SITCR                                    IMPT 00000000   1872 
_SITDAR                                   IMPT 00000000   1863 
_SITDR                                    IMPT 00000000   1870 
_SITMR                                    IMPT 00000000   1874 
_SMR0                                     IMPT 00000000   2001 
_SQ_CBWK_TOP                              IMPT 00000000   2588 
_SRAM_SIZE                                EQU  001FFFFF   2273*
_SRAM_TOP                                 EQU  AC000000   2272*
_SRSTR                                    IMPT 00000000   1936 
_SSR0                                     IMPT 00000000   2005 
_START_ACK_COD                            EQU  00004321    429*
_START_REQ_COD                            EQU  00009876    428*
_STBCR                                    IMPT 00000000   2048 
_STBCR2                                   IMPT 00000000   2051 
_STBCR3                                   IMPT 00000000   1935 
_TCNT0                                    IMPT 00000000   2010 
_TCNT1                                    IMPT 00000000   2013 
_TCNT2                                    IMPT 00000000   2016 
_TCOR0                                    IMPT 00000000   2009 
_TCOR1                                    IMPT 00000000   2012 
_TCOR2                                    IMPT 00000000   2015 
_TCR0                                     IMPT 00000000   2011 
_TCR1                                     IMPT 00000000   2014 
_TCR2                                     IMPT 00000000   2017 
_TDFP                                     IMPT 00000000   1924 
_TDR0                                     IMPT 00000000   2004 
_TEA                                      IMPT 00000000   2074 
_TIM100US                                 EQU  000007D0   2263*
_TIM1MS                                   EQU  000009C4   2264*
_TINT3_10MS_CNT                           IMPT 00000000   2526 
_TRA                                      IMPT 00000000   2064 
_TSTR                                     IMPT 00000000   2008 
_TTB                                      IMPT 00000000   2073 
_USBDASTS                                 IMPT 00000000   1948 
_USBDMA                                   IMPT 00000000   1957 
_USBEPDR0I                                IMPT 00000000   1942 
_USBEPDR0O                                IMPT 00000000   1943 
_USBEPDR0S                                IMPT 00000000   1947 
_USBEPDR1                                 IMPT 00000000   1954 
_USBEPDR2                                 IMPT 00000000   1949 
_USBEPDR3                                 IMPT 00000000   1958 
_USBEPSTL                                 IMPT 00000000   1951 
_USBEPSZ0O                                IMPT 00000000   1946 
_USBEPSZ1                                 IMPT 00000000   1955 
_USBFCLR                                  IMPT 00000000   1945 
_USBHBCED                                 IMPT 00000000   1970 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    70

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_USBHBHED                                 IMPT 00000000   1969 
_USBHC                                    IMPT 00000000   1960 
_USBHCCED                                 IMPT 00000000   1968 
_USBHCHED                                 IMPT 00000000   1967 
_USBHCS                                   IMPT 00000000   1961 
_USBHDHED                                 IMPT 00000000   1971 
_USBHFI                                   IMPT 00000000   1972 
_USBHFN                                   IMPT 00000000   1974 
_USBHFR                                   IMPT 00000000   1973 
_USBHHCCA                                 IMPT 00000000   1965 
_USBHID                                   IMPT 00000000   1964 
_USBHIE                                   IMPT 00000000   1963 
_USBHIS                                   IMPT 00000000   1962 
_USBHLST                                  IMPT 00000000   1976 
_USBHPCED                                 IMPT 00000000   1966 
_USBHPS                                   IMPT 00000000   1975 
_USBHR                                    IMPT 00000000   1959 
_USBHRDA                                  IMPT 00000000   1977 
_USBHRDB                                  IMPT 00000000   1978 
_USBHRPS1                                 IMPT 00000000   1980 
_USBHRPS2                                 IMPT 00000000   1981 
_USBHRS                                   IMPT 00000000   1979 
_USBIER0                                  IMPT 00000000   1952 
_USBIER1                                  IMPT 00000000   1953 
_USBIFR0                                  IMPT 00000000   1940 
_USBIFR1                                  IMPT 00000000   1941 
_USBISR0                                  IMPT 00000000   1950 
_USBISR1                                  IMPT 00000000   1956 
_USBTFG                                   IMPT 00000000   1944 
_VLVER11_ERR_TM                           IMPT 00000000   2446 
_VLVER12_ERR_TM                           IMPT 00000000   2447 
_VLVER21_ERR_TM                           IMPT 00000000   2448 
_VLVER22_ERR_TM                           IMPT 00000000   2449 
_VLVER31_ERR_TM                           IMPT 00000000   2450 
_VLVER32_ERR_TM                           IMPT 00000000   2451 
_VUPCHECK_DATA                            IMPT 00000000   2789 
_VUPCHECK_EQU                             EQU  11AB3739    314*
_WCR1                                     IMPT 00000000   2039 
_WCR2                                     IMPT 00000000   2040 
_WK_RCV_SCFDR2                            IMPT 00000000   2532 
_WK_RCV_SCFSR2                            IMPT 00000000   2531 
_WK_RCV_SCLSR2                            IMPT 00000000   2530 
_WORK_MEM_CHK2                            IMPT 00000000   2779  3023 
_WPAR1_BTNER_TM                           IMPT 00000000   2458 
_WPAR1_CMPER2_TM                          IMPT 00000000   2467 
_WPAR1_FSFTTRER_TM                        IMPT 00000000   2468 
_WPAR1_MODSER_TM1                         IMPT 00000000   2459 
_WPAR1_MODSER_TM2                         IMPT 00000000   2460 
_WPAR1_RSFTTRER_TM                        IMPT 00000000   2469 
_WPAR1_SFTSWER_TM                         IMPT 00000000   2457 
_WPAR1_VLVER11_TM1                        IMPT 00000000   2461 
_WPAR1_VLVER12_TM1                        IMPT 00000000   2462 
_WPAR1_VLVER21_TM1                        IMPT 00000000   2463 
_WPAR1_VLVER22_TM1                        IMPT 00000000   2464 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    71

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WPAR1_VLVER31_TM1                        IMPT 00000000   2465 
_WPAR1_VLVER32_TM1                        IMPT 00000000   2466 
_WTCNT                                    IMPT 00000000   2049 
_WTCSR                                    IMPT 00000000   2050 
__INITSCT                                 IMPT 00000000   2762  3157 
_dio_top1                                 IMPT 00000000   2799 
_dio_top2                                 IMPT 00000000   2800  2859  2896  2909  2982  2995 
_init_DISP                                IMPT 00000000   2786  2946 
_init_LCD                                 IMPT 00000000   2785  2942 
_main                                     IMPT 00000000   2763  3191 
_rcv2_data_INcnt                          IMPT 00000000   2408 
_rcv2_data_buf                            IMPT 00000000   2410 
_rcv2_data_cnt                            IMPT 00000000   2409 
_rcv2_err_FRPRErrCnt                      IMPT 00000000   2402 
_rcv2_err_OverRunCnt                      IMPT 00000000   2401 
_rcv2_err_data_flg1                       IMPT 00000000   2396 
_rcv2_err_data_sts1                       IMPT 00000000   2400 
_rcv2_err_elseErrCnt                      IMPT 00000000   2403 
_rcv2_err_hard_INTflg1                    IMPT 00000000   2393 
_rcv2_err_hard_INTflg2                    IMPT 00000000   2394 
_rcv2_err_hard_INTflg3                    IMPT 00000000   2395 
_rcv2_err_hard_sts1                       IMPT 00000000   2397 
_rcv2_err_hard_sts2                       IMPT 00000000   2398 
_rcv2_err_hard_sts3                       IMPT 00000000   2399 
_rcv2_event_flg                           IMPT 00000000   2419 
_send2_data_buf                           IMPT 00000000   2415 
_send2_event_flg                          IMPT 00000000   2420 
_start000                        Pstart        00000020   3190*
_vup_mesG_disp                            IMPT 00000000   2787 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 17:24:18                                                  PAGE    72

*** SECTION DATA LIST

SECTION                          ATTRIBUTE    SIZE             START

ResetPRG                         REL-CODE    00000012C        
Pstart                           REL-CODE    000000078        
