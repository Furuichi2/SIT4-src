*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE     1
PROGRAM NAME =

    1                               1     ;       ***************************************************
    2                               2     ;       ***                                             ***
    3                               3     ;       ***                                             ***
    4                               4     ;       ***     位置決め                                ***
    5                               5     ;       ***                                             ***
    6                               6     ;       ***                                             ***
    7                               7     ;       ***************************************************
 6045                              38     
 6046 00000000                     39             .SECTION        P,CODE                  ;
 6047                              40     
 6048                              41     
 6049          00000014            42     _SGL_CMPERR_CNTMAX      .EQU    20      ;2;(600回確認済み) 2005-04-14(4/18)
 6050          000007D0            43     _PLS_ERR_HABPLS1        .EQU    2000    ;2000pls
 6051                              44     
 6052                              45     
 6053          00001770            46     _SYNC_ERR_HABPLS1       .EQU    6000    ;2000pls(連続の異常範囲)
 6054          000007D0            47     _SYNC_ERR_HOSHAB        .EQU    2000    ;500pls(この範囲にある時補正はしない) 1msec=MAX500
                                          pls
 6055          00000064            48     _SYNC_ERR_HOSHAB_M      .EQU    100     ;100pls(この範囲にある時補正はしない)
 6056                              49     
 6057          00000064            50     _SYNC_GEN_HOS_ERR       .EQU    100     ;<==1000
 6058          00000001            51     _SYNC_GEN_HOS_HAB       .EQU    1       ;<==10
 6059          00000001            52     _SYNC_GEN_HOS_ADD       .EQU    1       ;
 6060                              53     
 6061          00000003            54     _LSI_RETRY_ERR_MAX      .EQU    3       ;
 6062          0000000A            55     _LSI_CMP_ERR_MAX        .EQU    10      ;
 6063                              56     
 6064                              57     
 6065          0000000F            58     _LSI_G_HOS_SPD          .EQU    15      ;500K=65535 250K=32767 1%=327 0.1%=32 (15代わった
                                          ら)
 6066          00080000            59     _DBG_XOR_SIG            .EQU    BIT3*H'10000    ;
 6067                              60     
 6068                              61     ;;2015-07-07 移動 _OVRLIDE_LATE_MAX     .EQU    100             ;1~100% 2006-09-19
 6069          00E4E1C0            62     _GENSOK_LNGTH_MAX       .EQU    30*500000       ;30秒×500,000HZ=E4,E1C0 2006-09-19
 6070          000003E8            63     _ACC_UNIT               .EQU    1000            ;1msec
 6071                              64     
 6072                              65     _CMP_ERR_SPEC_ENB       .DEFINE "0"     ;//noなら新ｱｸｾｽ部のLSI異常を見ない
 6073                              66     _OBJ_PLS_CTL_TYP        .DEFINE "1"     ;//
 6074                              67     
 6075                              68     
 6076                              69     ;       ***********************************
 6077                              70     ;       ***     2010-10-05              ***
 6078                              71     ;       ***********************************
 6079                              72     _X_SET_PV_ABS_TO_OBJ                    .DEFINE "_dum_SET_PV_ABS_TO_OBJ"        ;
 6080                              73     _X_LINK_PV_ABSPLS                       .DEFINE "_LINK_RL_OBJ_ABSPLS"           ;
 6081                              74     
 6082                              75             .IMPORT _PV_POWER_ON_CNT                        ;
 6083                              76             .IMPORT _CPU_CTRL_CLK                           ;
 6084                              77     
 6085                              78             .IMPORT _SVP_MACINE_SEL1
 6086                              79             .IMPORT _CHK_DNM_SPEC_MOD1
 6087                              80     
 6088                              81     
 6089                              82     ;       //      ***********************************
 6090                              83     ;       //      ***     EXTERN 宣言 PROGRAM     ***
 6091                              84     ;       //      ***********************************
 6092                              85     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE     2
PROGRAM NAME =

 6093                              86     
 6094                              87             .IMPORT         _CPOS_INI1_DTMOV1;ssa_dtmk.src
 6095                              88             .IMPORT         _CPOS_INI1_DTMOV2;ssa_dtmk.src
 6096                              89             .IMPORT         _CPOS_ROT_NUM_SET;ssa_dtmk.src
 6097                              90             .IMPORT         _CPOS_ABS_POS_SET;ssa_dtmk.src
 6098                              91             .IMPORT         _CPOS_SPD_DTMOV
 6099                              92             .IMPORT         _CPOS_TIM_DTMOV
 6100                              93     
 6101                              94             .IMPORT         _HLDCAM_ABS_POS_SET             ;ssa_dtmk.src 2014-08-30
 6102                              95             .IMPORT         _HLDCAM_BANK2_ABS_POS_SET       ;ssa_dtmk.src 2014-08-30
 6103                              96     
 6104                              97     
 6105                              98             .IMPORT         _DIG_LNGTH_CALC1;ssa_sca1.src
 6106                              99     ;;;;    .IMPORT         _POS_INC_TO_OUT_CHG_MOD 使用されない
 6107                             100     ;;;;    .IMPORT         _POS_OUT_TO_INC_CHG　使用されない
 6108                             101     
 6109                             102             .IMPORT         _ORGIN_MODE_INI         ;ssa_else.src
 6110                             103             .IMPORT         _ORGIN_MODE_SMP         ;
 6111                             104             .IMPORT         _ORGIN_MODE_END         ;
 6112                             105     ;;;;;   .IMPORT         _ORGIN2_MODE_END        ;
 6113                             106     
 6114                             107             .IMPORT         _LOT_SIG_SET            ;
 6115                             108     
 6116                             109             .IMPORT         _CYCLE_TIME_REFLASH_START
 6117                             110             .IMPORT         _CYCLE_TIME_REFLASH_END
 6118                             111             .IMPORT         _CYCLE_TIME_REFLASH_CLR
 6119                             112     
 6120                             113             .IMPORT         _NOW_INC_DIG_MAK        ;DTMK
 6121                             114     
 6122                             115             .IMPORT _DAT_MOSTPOS_SIG_CLR
 6123                             116             .IMPORT _DAI_MOSTPOS_SMPINI
 6124                             117             .IMPORT _DAI_MOSTPOS_SMPLE
 6125                             118             .IMPORT _DAI_MOSTPOS_CMPARE
 6126                             119     
 6127                             120             .IMPORT _DAI_FULL_SCALE_SMP_INI ;
 6128                             121             .IMPORT _DAI_FULL_SCALE_SMPLE   ;
 6129                             122             .IMPORT _DAI_FULL_SCALE_SMP_END ;
 6130                             123     
 6131                             124             .IMPORT _ORG_END_SIG_CLR;
 6132                             125     
 6133                             126             .IMPORT _CMPAB_NEAR_END_PROC    ;
 6134                             127             .IMPORT _CMPAB_STEP_END_PROC    ;
 6135                             128     
 6136                             129             .IMPORT _CMPSTP_CTRL_REDY_CLR;//準備完了にしたい
 6137                             130             .IMPORT _CMPSTP_CTRL_BUSY_CLR;//準備未完了にしたい
 6138                             131             .IMPORT _CMPSTP_POS_START_CLR;//起動したい
 6139                             132             .IMPORT _CMPSTP_SFTY_AUTO_CLR;//AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6140                             133             .IMPORT _CMPSTP_NEAR_ZERO_CLR;//ﾆｱｾﾞﾛ処理を行いたい
 6141                             134             .IMPORT _CMPSTP_CNT_STOP_CLR;//連続停止
 6142                             135             .IMPORT _CMPSTP_STEP_END_CLR;//位置決め完了としたい
 6143                             136             .IMPORT _CMPCYC_START_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
 6144                             137             .IMPORT _CMPCYC_END_CLR;//1ｻｲｸﾙ開始時/運転開始時(途中中断)
 6145                             138     
 6146                             139             .IMPORT _CMPEMG_EXQ_FLG_CLR;
 6147                             140             .IMPORT _POS_CMP_1STEP_START_INI
 6148                             141     
 6149                             142             .IMPORT _STOP_LTH_OUT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE     3
PROGRAM NAME =

 6150                             143             .IMPORT _LOT_SIG_FLG_CLR                        ;通常の連続
 6151                             144             .IMPORT _STOPPING_TIM_STOP_INI
 6152                             145     
 6153                             146             .IMPORT _POS_OVER_RUN_CHK1      ;[S01m 2003-04-03]
 6154                             147     
 6155                             148             .IMPORT         _BRK_ERR_WORK_CLR1              ;ERR1.SRC
 6156                             149     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START1             ;
 6157                             150     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START2             ;
 6158                             151     ;;;2013-02-05未使用     .IMPORT         _BRK_ERR_CHK_START3             ;
 6159                             152             .IMPORT         _BRK_ERR_CHK_START4             ;
 6160                             153     
 6161                             154             .IMPORT         _SET_NZ_TIM_DAT
 6162                             155             .IMPORT         _NZ_TIM_CHK1
 6163                             156     
 6164                             157     ;       ======= 2004-12-20 ==
 6165                             158             .IMPORT         _BANK2_CPOS_ABS_POS_SET ;2004-12-20 ssa_dtmk
 6166                             159             .IMPORT         _BANK2_TO_BANK1_MOV     ;
 6167                             160     
 6168                             161     ;       ======= 2006-07-28 ==
 6169                             162             .IMPORT _DND_POS_START_DAT_INI
 6170                             163     
 6171                             164             .AIF    1 EQ    0
 6172                             165     
 6173                             166             .IMPORT _VIB_PLS_OUT_ON         ;2010-08-23加振動制御 ssa_kjyu.inc
 6174                             167             .IMPORT _VIB_PLS_OUT_OF         ;2010-08-23加振動制御 ssa_kjyu.inc
 6175                             168     
 6176                             169             .IMPORT _API_IVW_CYC_START                      ;2010-09-21
 6177                             170             .IMPORT _API_IVW_CYC_END                        ;2010-09-21
 6178                             171     
 6179                             172     ;;;;;2012-10-19 .IMPORT _OVERH_CYC_START                        ;2012-09-25
 6180                             173             .IMPORT _OVERH_CYC_END                          ;2012-09-25
 6181                             174     
 6182                             175             .AENDI
 6183                             176     
 6184                             177             .IMPORT _API_BREAK_VALV_FLG_ON
 6185                             178             .IMPORT _API_BREAK_VALV_FLG_OF
 6186                             179     
 6187                             180     ;       //      ***********************************
 6188                             181     ;       //      ***     EXTERN 宣言 MEMORY,HARD ***
 6189                             182     ;       //      ***********************************
 6190                             183             .IMPORT         _LONG_BIT_TBL0
 6191                             184             .IMPORT         _SQ_CBWK_TOP
 6192                             185     ;       ====================================
 6193                             186             .GLOBAL         _SH4_HD_CTRL_REDY       ;準備完了にしたい
 6194                             187             .GLOBAL         _SH2_HD_CTRL_REDY       ;準備完了にしたい
 6195                             188             .GLOBAL         _SH4_HD_CTRL_BUSY       ;準備未完了にしたい
 6196                             189             .GLOBAL         _SH2_HD_CTRL_BUSY       ;準備未完了にしたい
 6197                             190             .GLOBAL         _SH4_HD_POS_START       ;起動したい
 6198                             191             .GLOBAL         _SH2_HD_POS_START       ;起動したい
 6199                             192             .GLOBAL         _SH4_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6200                             193             .GLOBAL         _SH2_HD_SFTY_AUTO       ;AUTOにしたい/安全一工程,連続ｶｳﾝﾀ
 6201                             194             .GLOBAL         _SH4_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6202                             195             .GLOBAL         _SH2_HD_NEAR_ZERO       ;ﾆｱｾﾞﾛ処理を行いたい
 6203                             196             .GLOBAL         _SH4_HD_CNT_STOP        ;連続停止<工夫必要>
 6204                             197             .GLOBAL         _SH2_HD_CNT_STOP        ;連続停止<工夫必要>
 6205                             198             .GLOBAL         _SH4_HD_STEP_END        ;位置決め完了としたい
 6206                             199             .GLOBAL         _SH2_HD_STEP_END        ;位置決め完了としたい
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE     4
PROGRAM NAME =

 6207                             200     
 6208                             201     ;       ==== 2003-07-09 ===
 6209                             202             .GLOBAL         _PAR_ORGDRV_MOD         ;原点復帰方法変更
 6210                             203             .GLOBAL         _PAR_ORGDRV_CNT         ;原点復帰回数0=1回 1=2回
 6211                             204     
 6212                             205             .GLOBAL         _PAR_INSERT_SMPTM       ;2012-09-25
 6213                             206             .GLOBAL         _CB_SYS_PARAM000        ;2012-09-25
 6214                             207             .GLOBAL         _PAR_INCSPD_UPLMT       ;
 6215                             208             .GLOBAL         _PAR_STOPTIM_SEL        ;
 6216                             209     
 6217                             210     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT1         ;
 6218                             211     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT1         ;
 6219                             212     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT2         ;
 6220                             213     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT2         ;
 6221                             214     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT3         ;
 6222                             215     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT3         ;
 6223                             216     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT4         ;
 6224                             217     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT4         ;
 6225                             218     ;;;2016-10-31   .GLOBAL         _PVP_A_LOT_CNT5         ;
 6226                             219     ;;;2016-10-31   .GLOBAL         _PVP_B_LOT_CNT5         ;
 6227                             220     
 6228                             221             .IMPORT         _PVP_CB_A_VER           ;
 6229                             222             .IMPORT         _SH4_GPOINT_LNG         ;
 6230                             223             .IMPORT         _SH2_GPOINT_LNG         ;
 6231                             224     
 6232                             225             .IMPORT         _KJPHOS_SMPINI          ;2004-07-05
 6233                             226             .IMPORT         _KJPHOS_SMPLING_END1    ;2004-07-05
 6234                             227     
 6235                             228             .IMPORT         _ORIGIN_POS_CHK_INI2    ;2011-03-23 待機点移動完了
 6236                             229     
 6237                             230             .IMPORT         _UP_ACCERR_START_INI    ;2011-08-29
 6238                             231     
 6239                             232             .IMPORT         _PVPAB_KAJLIV_TTL               ;//荷重生（TON）(1word)
 6240                             233     
 6241                             234     
 6242                             235             .IMPORT         _POS_HOLD_FLG_STR2CLR           ;2014-09-12
 6243                             236     
 6244                             237     ;       //      ***********************************
 6245                             238     ;       //      ***     PUBLIC 宣言 PROGRAM     ***
 6246                             239     ;       //      ***********************************
 6247                             240             .EXPORT         _INT_POS_CTRL           ;-->ssa_k.src
 6248                             241             .EXPORT         _INT_POS_DATA_REF       ;-->ssa_k.src
 6249                             242     
 6250                             243             .EXPORT         _EMG_POS_FLG_PROC
 6251                             244             .EXPORT         _EXQ_POS_FLG_PROC
 6252                             245     
 6253                             246             .EXPORT         _MN_POS_CTRL_START              ;===>ssa_ctrl
 6254                             247             .EXPORT         _MN_POS_CTRL_ACT                ;===>ssa_ctrl
 6255                             248     
 6256                             249             .EXPORT         _FWD_REV_STSIG_OFF      ;SSA_CTRL1 2004-01-26
 6257                             250             .EXPORT         _POS_LSI_SLOW_STOP      ;SSA_CTRL1 2004-01-26
 6258                             251     
 6259                             252             .EXPORT _POS_LSI_START_INITAL           ;SPEED,LATE
 6260                             253             .EXPORT _POS_LSI_TOP_SPEED_SET  ;SPEED
 6261                             254             .EXPORT _LENGH_ADD_CALC         ;
 6262                             255             .EXPORT _LENGH_ADD_CALC_SV_TYPE ;
 6263                             256     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE     5
PROGRAM NAME =

 6264                             257             .EXPORT _POS_LENGTH_ADD_DATA    ;
 6265                             258             .EXPORT _POS_PLS_OUTPUT_DATA    ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
 6266                             259             .EXPORT _FWD_REV_START          ;起動
 6267                             260             .EXPORT _LOD_POS_STS_REG        ;
 6268                             261             .EXPORT _LOD_POS_STS_REG_POR    ;
 6269                             262             .EXPORT _FWD_REV_STSIG_OFF_SPEC ;
 6270                             263     
 6271                             264             .EXPORT _SET_PV_ABS_TO_OBJ      ;20060919
 6272                             265             .EXPORT _CHG_LSI_LATE_TO_PLS    ;20060919
 6273                             266             .EXPORT _OVERLID_DEF_SET        ;20060919
 6274                             267     
 6275                             268             .IMPORT _DIG01_CHG_DN_DATA_MAKE ;[20091007下振子]
 6276                             269     
 6277                             270             .IMPORT         _DIG36000_CHG_RENEA1            ;360.00度-->0.001mm
 6278                             271             .IMPORT _SVP_OBJECT_SPD_TOP     ;01段目移動速度
 6279                             272             .IMPORT _SVP_UPAREA_SPD0        ;0.1%　戻り速度
 6280                             273     
 6281                             274     ;       ------
 6282                             275             .IMPORT _CYCLE_SPD1             ;
 6283                             276     
 6284                             277             .IMPORT _INC_RST_WORK_CLR       ;
 6285                             278     
 6286                             279     ;;;     _BRK_SADOU_CHG EQ 1
 6287                             280     ;       ------ 2015-09-06(H2W 2015-03-15,H1F 2015-07-14)-------
 6288                             281     ;       -------- 2015-07-14------
 6289                             282             .IMPORT _PAR_MYUBRK_TIM1        ;[H1F=未作or無][H2W=2015-03-16 行程終了時　ﾐｭｰﾃﾝｸﾞ
                                          切替時間]
 6290                             283             .IMPORT _PAR_MYUBRK_TIM2        ;[H1F=未作or無][H2W=2015-03-16 終了時　ﾐｭｰﾃﾝｸﾞ切替
                                          時間]
 6291                             284             .IMPORT _PAR_MYU_BRK_SEL        ;[H1F=未作or無][H2W=2015-03-16 0:　1:ﾐｭｰﾃﾝｸﾞ時=BRK
                                          :LOCK]
 6292                             285             .IMPORT _PAR_SELF_WAIT_TM       ;P22ｾﾙﾌﾁｪｯｸまたは位置決めからﾛｯｸ開始遅延時間(停止
                                          確認用)
 6293                             286     
 6294                             287     ;       ***************************************************
 6295                             288     ;       ***                                             ***
 6296                             289     ;       ***                                             ***
 6297                             290     ;       ***                                             ***
 6298                             291     ;       ***             位置決めＬＳＩアクセス          ***
 6299                             292     ;       ***                                             ***
 6300                             293     ;       ***                                             ***
 6301                             294     ;       ***                                             ***
 6302                             295     ;       ***************************************************
 6303                             296     ;       ?加減速時間の演算と指令周波数の演算
 6304                             297     ;       P27の指令ﾊﾟﾙｽREGのADDとP39の正確な位置決めができませんはなに？
 6305                             298     ;       "_poslsi1_top"
 6306                             299     ;       *ﾊﾟﾙｽ列の払い出しは指令ﾊﾟﾙｽｶｳﾝﾀの減算量
 6307                             300     ;       *速度周波数の演算
 6308                             301     ;       *ベース周波数=1?
 6309                             302     ;       *加速時間
 6310                             303     ;       *急停止の時間
 6311                             304     ;       ***********************************
 6312                             305     ;       ***                             ***
 6313                             306     ;       ***     ﾊｰﾄﾞｳｴｱｲﾆｼｬﾙ            ***
 6314                             307     ;       ***                             ***
 6315                             308     ;       ***********************************
 6316                             309     ;       25MHZ*1/N*1/LATE=65535
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE     6
PROGRAM NAME =

 6317                             310             .IMPORT _poslsi1_top
 6318                             311     ;;;;_PLS_OUTPUT_MAX             .EQU    H'7FFF  ;
 6319          00FFFFFF           312     _PLS_OUTPUT_MAX         .EQU    H'00FFFFFF;128倍までは余裕あり
 6320          00000000           313     _PLSI_CH1               .equ    0
 6321          00000030           314     _PLSI_CH2               .equ    h'30
 6322                             315     
 6323          00000000           316     _PLS_BitComdL           .equ    h'0     ;R/W
 6324                             317     ;;_PLS_BitComdH         .equ    h'2     ;R/W
 6325          00000004           318     _PLS_BitInfoL           .equ    h'4     ;R
 6326                             319     ;;_PLS_BitInfoH         .equ    h'6     ;R
 6327          00000008           320     _PLS_TopFreqL           .EQU    H'8     ;R/W ﾄｯﾌﾟ周波数
 6328                             321     ;;_PLS_TopFreqH         .EQU    H'A     ;R/W
 6329          0000000C           322     _PLS_BasFreqL           .EQU    H'C     ;R/W ﾍﾞｰｽ周波数
 6330                             323     ;;_PLS_BasFreqH         .EQU    H'E     ;R/W
 6331          00000010           324     _PLS_NowFreqL           .EQU    H'10    ;R/W 現在周波数
 6332                             325     ;;_PLS_NowFreqH         .EQU    H'12    ;R/W
 6333          00000014           326     _PLS_OutPposL           .EQU    H'14    ;R/W 指令ﾊﾟﾙｽ数(これに払い出したいﾃﾞｰﾀを入れる:残
                                          量ｶｳﾝﾀでもある)
 6334                             327     ;;_PLS_OutPposH         .EQU    H'16    ;R/W
 6335          00000018           328     _PLS_GNpointL           .EQU    H'18    ;R/W 減速点
 6336                             329     ;;_PLS_GNpointH         .EQU    H'1A    ;R/W
 6337          0000001C           330     _PLS_AccLate1           .EQU    H'1C    ;R/W 通常運転加減速(減速指令時)
 6338          0000001E           331     _PLS_AccLate2           .EQU    H'1E    ;R/W 急停止加減速(急停止指令時)
 6339          00000020           332     _PLS_SpedLate           .EQU    H'20    ;R/W 周波数のLATE
 6340          00000022           333     _PLS_OutcntPS           .EQU    H'22    ;R/W 指令ﾊﾟﾙｽｶｳﾝﾀ(1回の起動での払出ﾊﾟﾙｽ数up-cnt)
 6341          00000024           334     _PLS_NowPos1L           .equ    h'24
 6342                             335     ;;_PLS_NowPos1H         .equ    h'26
 6343          00000028           336     _PLS_NowPos2            .equ    h'28
 6344          0000002A           337     _PLS_CtrlReg            .equ    h'2A
 6345                             338     
 6346                             339     
 6347          00000000           340     _PLSI_CH_COM            .EQU    0
 6348          0000007E           341     _PLS_LTCHReg            .EQU    H'7E    ;LATCH
 6349                             342     
 6350                             343     ;       *******************************************
 6351                             344     ;       ***                                     ***
 6352                             345     ;       ***     DE LATCH                        ***
 6353                             346     ;       ***     32BIT ﾃﾞｰﾀを読み込む時のラッチ  ***
 6354                             347     ;       ***                                     ***
 6355                             348     ;       *******************************************
 6356                             349             .MACRO  PLS_READ_LATCH          ;ﾚｼﾞｽﾀ破壊せず
 6357                             350             PUSH_REG1 R0                                            ;
 6358                             351             MOV.L   #_poslsi1_top+_PLSI_CH_COM+_PLS_LTCHReg,R0      ;
 6359                             352             MOV.W   @R0,R0                                          ;
 6360                             353             POP_REG1 R0                                             ;
 6361                             354             .ENDM
 6362                             355     
 6363                             356     ;       ***************************************************
 6364                             357     ;       ***     *CSを一旦上げてWAITを作成する為         ***
 6365                             358     ;       ***************************************************
 6366                             359             .MACRO  POS_LSI_WORD_DUM_LOD    ;ﾚｼﾞｽﾀ破壊せず
 6367                             360             PUSH_REG1 R0
 6368                             361             MOV.L   #_PVP_CB_A_VER,R0       ;
 6369                             362             MOV.W   @R0,R0
 6370                             363             POP_REG1 R0
 6371                             364             .ENDM
 6372                             365     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE     7
PROGRAM NAME =

 6373                             366             .MACRO  POSLSI_RD_WR_WAIT_NOP
 6374                             367             NOP
 6375                             368             NOP
 6376                             369             NOP
 6377                             370             NOP
 6378                             371             NOP
 6379                             372             NOP
 6380                             373             NOP
 6381                             374             NOP
 6382                             375             NOP
 6383                             376             NOP
 6384                             377             .ENDM
 6385                             378     
 6386                             379             .MACRO  TIM_CNT_ADD MEM,LG,ADR_REG,DAT_REG,LATE
 6387                             380             MOV.L   #\MEM,\ADR_REG          ;
 6388                             381             MOV.\LG @\ADR_REG,\DAT_REG      ;
 6389                             382             ADD     #\LATE,\DAT_REG         ;
 6390                             383             MOV.\LG \DAT_REG,@\ADR_REG      ;
 6391                             384             .ENDM
 6392                             385     
 6393                             386             .MACRO  eSHi_SET_MEM_MOV SRC,L1,DST,L2
 6394                             387             PUSH_REG1 R0
 6395                             388             PUSH_REG1 R1
 6396                             389             MOV.L   #\SRC,R1        ;
 6397                             390             MOV.\L1 @R1,R0          ;
 6398                             391             MOV.L   #\DST,R1        ;
 6399                             392             MOV.\L2 R0,@R1          ;
 6400                             393             POP_REG1 R1
 6401                             394             POP_REG1 R0
 6402                             395             .ENDM
 6403                             396     
 6404                             397             .MACRO  eSHi_SET_REG_MOV DST,L1,SETREG,WKREG1
 6405                             398             PUSH_REG1 \WKREG1               ;
 6406                             399             MOV.L   #\DST,\WKREG1           ;
 6407                             400             MOV.\L1 \SETREG,@\WKREG1        ;
 6408                             401             POP_REG1 \WKREG1                ;
 6409                             402             .ENDM
 6410                             403     
 6411                             404             .MACRO  eSHi_SET_IM_MOV DST,L1,WKREG1,WKREG2,IMD
 6412                             405             PUSH_REG1 \WKREG1               ;
 6413                             406             PUSH_REG1 \WKREG2               ;
 6414                             407             MOV.W   #\IMD,\WKREG2           ;
 6415                             408             MOV.L   #\DST,\WKREG1           ;
 6416                             409             MOV.\L1 \WKREG2,@\WKREG1        ;
 6417                             410             POP_REG1 \WKREG2                ;
 6418                             411             POP_REG1 \WKREG1                ;
 6419                             412             .ENDM
 6420                             413     
 6421                             414     
 6422                             415     
 6423                             416     ;       *******************************************
 6424                             417     ;       ***     WRITEｱｸｾｽ開始時にON(H)          ***
 6425                             418     ;       *******************************************
 6426                             419     
 6427                             420             .AIF    1 EQ    0
 6428                             421             .IMPORT _PDTRA
 6429                             422             .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE     8
PROGRAM NAME =

 6430                             423     
 6431                             424             .MACRO  DEBUG_LSI_ACS_ON2_BIT BITDT
 6432                             425     
 6433                             426             .AIF    1 EQ    0
 6434                             427     ;;      (波形測定時)
 6435                             428             PUSH_REG1 R0
 6436                             429             PUSH_REG1 R1
 6437                             430             PUSH_REG1 R2
 6438                             431             MOV.L   #_PDTRA,R1                      ;
 6439                             432             MOV.W   @R1,R0                          ;
 6440                             433             MOV.W   #\BITDT,R2                      ;
 6441                             434             OR      R2,R0                           ;
 6442                             435             MOV.W   R0,@R1                          ;
 6443                             436     
 6444                             437             POP_REG1 R2
 6445                             438             POP_REG1 R1
 6446                             439             POP_REG1 R0
 6447                             440             .AENDI
 6448                             441     
 6449                             442             .ENDM
 6450                             443     
 6451                             444             .MACRO  DEBUG_LSI_ACS_OF2_BIT BITDT
 6452                             445     
 6453                             446             .AIF    1 EQ    0
 6454                             447     ;;      (波形測定時)
 6455                             448             PUSH_REG1 R0
 6456                             449             PUSH_REG1 R1
 6457                             450             PUSH_REG1 R2
 6458                             451             MOV.L   #_PDTRA,R1                      ;
 6459                             452             MOV.W   @R1,R0                          ;
 6460                             453             MOV.W   #LWORD ~\BITDT,R2               ;
 6461                             454             AND     R2,R0                           ;
 6462                             455             MOV.W   R0,@R1                          ;
 6463                             456             POP_REG1 R2
 6464                             457             POP_REG1 R1
 6465                             458             POP_REG1 R0
 6466                             459             .AENDI
 6467                             460     
 6468                             461             .ENDM
 6469                             462     
 6470                             463     
 6471                             464     
 6472                             465     ;       ***********************************
 6473                             466     ;       ***                             ***
 6474                             467     ;       ***     起動時呼ばれる          ***
 6475                             468     ;       ***                             ***
 6476                             469     ;       ***********************************
 6477                             470     ;
 6478                             471     ;       ・データのラッチ
 6479                             472             .IMPORT _CPUB_HENSA_FLG_CLR             ;2012-02-08
 6480                             473     ;
 6481 00000000                    474             .ALIGN  4                               ;
 6482 00000000                    475     _MN_POS_CTRL_START:             ;ssa_pos1.src
 6483                             476             SUB_START
 6484 00000000 4F22                   M           STS.L   PR,@-R15                ;[必要]
 6485                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 6486                             477     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE     9
PROGRAM NAME =

 6487                             478     
 6488                             479     ;       ----------2014-11-10------------
 6489 00000002 222A               480             XOR     R2,R2
 6490 00000004 D12C               481             MOV.L   #_CPOS_CTL_MATH,R1                      ;
 6491 00000006 6011               482             MOV.W   @R1,R0                                  ;
 6492 00000008 C804               483             TST     #_DMATH_DNDRIV,R0                       ;往復?
 6493                             484             TST_BIT_OF MN_POSCTL_ST050                      ;違う
 6494 0000000A 8904                   M           BT      MN_POSCTL_ST050
 6495                             485     
 6496 0000000C D12B               486             MOV.L   #_MODE_SEL,R1                           ;
 6497 0000000E 6011               487             MOV.W   @R1,R0                                  ;
 6498 00000010 C81E               488             TST     #(_W1OPT+_W1CNT+_W1SGL+_W1INC),R0       ;
 6499                             489             TST_BIT_OF MN_POSCTL_ST050                      ;
 6500 00000012 8900                   M           BT      MN_POSCTL_ST050
 6501                             490     
 6502 00000014 E201               491             MOV.B   #BIT0,R2                                ;対象運転開始
 6503                             492     
 6504 00000016                    493     MN_POSCTL_ST050                                         ;
 6505 00000016 D12A               494             MOV.L   #_MOVE_MODE_MATH_LATCH,R1               ;//0:(ふりこ以外 または 段取・原点
                                          モード)1:(ふりこでﾓｰｼｮﾝしていた)
 6506 00000018 2121               495             MOV.W   R2,@R1                                  ;
 6507                             496     ;       --------------------------------------------------
 6508                             497     
 6509                             498     ;       -------- 2013-02-08-------
 6510                             499     ;;;;;   MOV.L   #_CPOS_CTL_MATH,R1              ;
 6511                             500     ;;;;;   MOV.W   @R1,R0                          ;
 6512                             501     ;;;;;   TST     #_DMATH_DNDRIV,R0               ; 往復?
 6513                             502     ;;;;;   TST_BIT_OF MN_POSCTL_ST200              ;
 6514                             503     
 6515                             504             FAR_JSR #_CPUB_HENSA_FLG_CLR,R0         ;
 6516 0000001A D02A                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6517 0000001C 400B                   M           JSR     @R0                     ;
 6518 0000001E 0009                   M           NOP                                     ;
 6519                             505     
 6520                             506     ;;;;;MN_POSCTL_ST200:                           ;
 6521                             507     
 6522                             508     ;       --------------- 2014-09-12 [HLD後の起動なので再演算しない]-------
 6523                             509     ;;;;収集が付かないのでSET_PV_ABS_TO_OBJの中で抜ける     MOV.L   #_POS_HOLD_RDY_EXITF,R1
                                          ;
 6524                             510     ;;;;収集が付かないので  MOV.W   @R1,R0                          ;
 6525                             511     ;;;;収集が付かないので  TST     #BIT0,R0                        ;
 6526                             512     ;;;;収集が付かないので  TST_BIT_ON MN_POSCTL_START_050          ;
 6527                             513     
 6528                             514     ;       ======== 20060919 ======================
 6529                             515     ;       CPUBは自分の払いだした量だけ動作しない。そのため位置がづれるので、停止後はからなず
                                          必要
 6530                             516     ;;;;;;  FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
 6531                             517     ;       =======================================
 6532                             518     
 6533                             519     ;;;;収集が付かないので  M_BRA   MN_POSCTL_START_060             ;
 6534                             520     ;;;;収集が付かないので
 6535                             521     ;;;;収集が付かないのでMN_POSCTL_START_050:
 6536                             522     ;;;;収集が付かないので  NOP
 6537                             523     ;;;;収集が付かないのでMN_POSCTL_START_060:
 6538                             524     
 6539                             525             FAR_JSR #_PRESET_PV_ABS_TO_OBJ,R0       ;
 6540 00000020 D029                   M           MOV.L   #_PRESET_PV_ABS_TO_OBJ,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    10
PROGRAM NAME =

 6541 00000022 400B                   M           JSR     @R0                     ;
 6542 00000024 0009                   M           NOP                                     ;
 6543                             526     
 6544                             527     
 6545                             528     
 6546                             529     
 6547                             530     
 6548                             531     ;       --------------2013-02-15 寸動制限------------
 6549                             532             FAR_JSR #_INC_UPLIMT_CALC,R0    ;
 6550 00000026 D029                   M           MOV.L   #_INC_UPLIMT_CALC,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6551 00000028 400B                   M           JSR     @R0                     ;
 6552 0000002A 0009                   M           NOP                                     ;
 6553                             533     
 6554                             534     
 6555                             535     ;       === 2005-04-14-E(4/18) ====
 6556                             536             FAR_JSR #_SGL_CMP_ERR_DT_CLR,R0
 6557 0000002C D028                   M           MOV.L   #_SGL_CMP_ERR_DT_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6558 0000002E 400B                   M           JSR     @R0                     ;
 6559 00000030 0009                   M           NOP                                     ;
 6560                             537     
 6561                             538     ;       ----- [2009-10-07下振子]-----
 6562                             539             FAR_JSR #_DNM_CYCLE_START,R0    ;
 6563 00000032 D028                   M           MOV.L   #_DNM_CYCLE_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6564 00000034 400B                   M           JSR     @R0                     ;
 6565 00000036 0009                   M           NOP                                     ;
 6566                             540     
 6567                             541             FAR_JSR #_CPOS_INI1_DTMOV1,R0           ;//運転ﾃﾞｰﾀﾗｯﾁ
 6568 00000038 D027                   M           MOV.L   #_CPOS_INI1_DTMOV1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6569 0000003A 400B                   M           JSR     @R0                     ;
 6570 0000003C 0009                   M           NOP                                     ;
 6571                             542             FAR_JSR #_DND_POS_START_DAT_INI,R0      ;2006-07-28
 6572 0000003E D027                   M           MOV.L   #_DND_POS_START_DAT_INI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6573 00000040 400B                   M           JSR     @R0                     ;
 6574 00000042 0009                   M           NOP                                     ;
 6575                             543     
 6576                             544             FAR_JSR #_LSI_REST_PLS_CHK_START_CLR,R0 ;
 6577 00000044 D026                   M           MOV.L   #_LSI_REST_PLS_CHK_START_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6578 00000046 400B                   M           JSR     @R0                     ;
 6579 00000048 0009                   M           NOP                                     ;
 6580                             545             FAR_JSR #_GPOSIN_HOS_DRV_INI,R0
 6581 0000004A D026                   M           MOV.L   #_GPOSIN_HOS_DRV_INI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6582 0000004C 400B                   M           JSR     @R0                     ;
 6583 0000004E 0009                   M           NOP                                     ;
 6584                             546     
 6585 00000050 222A               547             XOR     R2,R2
 6586 00000052 D125               548             MOV.L   #_INT_DND_CTL_STEP,R1;
 6587 00000054 2121               549             MOV.W   R2,@R1
 6588 00000056 D125               550             MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
 6589 00000058 2121               551             MOV.W   R2,@R1
 6590                             552     ;;;     ================= なぜこのフラグがＯＦＦしていない？ =======
 6591 0000005A 200A               553             XOR     R0,R0                           ;(1ｻｲｸﾙ完了時にOFFしていないとならない信号
                                          なのに)
 6592 0000005C D124               554             MOV.L   #_INT_POS_CTL_FLAG,R1           ;
 6593 0000005E 2101               555             MOV.W   R0,@R1                          ;
 6594                             556     
 6595                             557     ;       === 2004-12-20 ===
 6596 00000060 D124               558             MOV.L   #_CNT_STOP_CTRL_FLG,R1  ;//BIT0,BIT1:差し引き終了
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    11
PROGRAM NAME =

 6597 00000062 2101               559             MOV.W   R0,@R1                          ;
 6598                             560     
 6599                             561             FAR_JSR #_CNTREST_HOS_RESET,R1  ;
 6600 00000064 D124                   M           MOV.L   #_CNTREST_HOS_RESET,R1          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6601 00000066 410B                   M           JSR     @R1                     ;
 6602 00000068 0009                   M           NOP                                     ;
 6603                             562     
 6604                             563     ;       === 2004-01-26 CCS===
 6605 0000006A 200A               564             XOR     R0,R0
 6606 0000006C D123               565             MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
 6607 0000006E 2101               566             MOV.W   R0,@R1                          ;
 6608                             567     
 6609                             568     
 6610                             569     ;       ====== 一旦停止信号OFF=====
 6611                             570             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
 6612 00000070 D123                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
 6613 00000072 6011                   M           MOV.W   @R1,R0          ;
 6614 00000074 941F                   M           MOV.W   #LWORD (~BIT9),R4       ;
 6615 00000076 2049                   M           AND     R4,R0           ;
 6616 00000078 2101                   M           MOV.W   R0,@R1          ;
 6617                             571     
 6618                             572             FAR_JSR #_CMPCYC_START_CLR,R0           ;
 6619 0000007A D022                   M           MOV.L   #_CMPCYC_START_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6620 0000007C 400B                   M           JSR     @R0                     ;
 6621 0000007E 0009                   M           NOP                                     ;
 6622                             573             FAR_JSR #_CMPSTP_CNT_STOP_CLR,R0        ;起動時のみ連続停止クリア（後はサイクル完
                                          了時も）
 6623 00000080 D021                   M           MOV.L   #_CMPSTP_CNT_STOP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6624 00000082 400B                   M           JSR     @R0                     ;
 6625 00000084 0009                   M           NOP                                     ;
 6626                             574             FAR_JSR #_POS_CMP_1STEP_START_INI,R0    ;
 6627 00000086 D021                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6628 00000088 400B                   M           JSR     @R0                     ;
 6629 0000008A 0009                   M           NOP                                     ;
 6630                             575     
 6631                             576             FAR_JSR #_MOTION_CYCLE_START,R0         ;
 6632 0000008C D020                   M           MOV.L   #_MOTION_CYCLE_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6633 0000008E 400B                   M           JSR     @R0                     ;
 6634 00000090 0009                   M           NOP                                     ;
 6635                             577     
 6636                             578             FAR_JSR #_POS_LSI_WORK_STOP2,R0
 6637 00000092 D020                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6638 00000094 400B                   M           JSR     @R0                     ;
 6639 00000096 0009                   M           NOP                                     ;
 6640                             579     
 6641 00000098 200A               580             XOR     R0,R0                   ;
 6642 0000009A D11F               581             MOV.L   #_INT_CYC_DRV_STS,R1    ;
 6643 0000009C 2101               582             MOV.W   R0,@R1                  ;
 6644 0000009E D11F               583             MOV.L   #_STOP_LATCH,R1         ;//BIT0:ｽﾄｯﾌﾟ釦
 6645 000000A0 2101               584             MOV.W   R0,@R1                  ;
 6646 000000A2 D11F               585             MOV.L   #_STOP_LATCH_B,R1       ;//BIT0:ｽﾄｯﾌﾟ釦
 6647 000000A4 2101               586             MOV.W   R0,@R1                  ;
 6648 000000A6 D11F               587             MOV.L   #_INT_CLS_CTL_FLG,R1    ;//BIT0=1 START 起動時ｸﾘｱ
 6649 000000A8 2101               588             MOV.W   R0,@R1                  ;
 6650                             589     ;;2016-10-31未使用      MOV.L   #_LOT_CNT_TO_MOD,R1     ;
 6651                             590     ;;2016-10-31未使用      MOV.W   R0,@R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    12
PROGRAM NAME =

 6652                             591     
 6653                             592     ;;      FAR_JSR #_CPOS_INI1_DTMOV1,R0   ;//運転ﾃﾞｰﾀﾗｯﾁ
 6654                             593     
 6655 000000AA D104               594             MOV.L   #_MODE_SEL,R1                                           ;
 6656 000000AC 6011               595             MOV.W   @R1,R0                                                  ;
 6657 000000AE C81E               596             TST     #(_W1OPT+_W1CNT+_W1SGL+_W1INC),R0                       ;
 6658                             597             TST_BIT_OF MN_POSCTL_START_110                                  ;
 6659 000000B0 893A                   M           BT      MN_POSCTL_START_110
 6660                             598             M_BRA   MN_POSCTL_START_500                                     ;寸動,安一,連続
 6661 000000B2 A07B                   M           BRA     MN_POSCTL_START_500
 6662 000000B4 0009                   M           NOP
 6663                                     ***** BEGIN-POOL *****
 6664 000000B6 FDFF                       DATA FOR SOURCE-LINE 570
 6665 000000B8 00000000                   DATA FOR SOURCE-LINE 481
 6666 000000BC 00000000                   DATA FOR SOURCE-LINE 486,594
 6667 000000C0 00000000                   DATA FOR SOURCE-LINE 494
 6668 000000C4 00000000                   DATA FOR SOURCE-LINE 504
 6669 000000C8 00000000                   DATA FOR SOURCE-LINE 525
 6670 000000CC 00000000                   DATA FOR SOURCE-LINE 532
 6671 000000D0 00000000                   DATA FOR SOURCE-LINE 536
 6672 000000D4 00000000                   DATA FOR SOURCE-LINE 539
 6673 000000D8 00000000                   DATA FOR SOURCE-LINE 541
 6674 000000DC 00000000                   DATA FOR SOURCE-LINE 542
 6675 000000E0 00000000                   DATA FOR SOURCE-LINE 544
 6676 000000E4 00000000                   DATA FOR SOURCE-LINE 545
 6677 000000E8 00000000                   DATA FOR SOURCE-LINE 548
 6678 000000EC 00000000                   DATA FOR SOURCE-LINE 550
 6679 000000F0 00000000                   DATA FOR SOURCE-LINE 554
 6680 000000F4 00000000                   DATA FOR SOURCE-LINE 558
 6681 000000F8 00000000                   DATA FOR SOURCE-LINE 561
 6682 000000FC 00000000                   DATA FOR SOURCE-LINE 565
 6683 00000100 00000000                   DATA FOR SOURCE-LINE 570
 6684 00000104 00000000                   DATA FOR SOURCE-LINE 572
 6685 00000108 00000000                   DATA FOR SOURCE-LINE 573
 6686 0000010C 00000000                   DATA FOR SOURCE-LINE 574
 6687 00000110 00000000                   DATA FOR SOURCE-LINE 576
 6688 00000114 00000000                   DATA FOR SOURCE-LINE 578
 6689 00000118 00000000                   DATA FOR SOURCE-LINE 581
 6690 0000011C 00000000                   DATA FOR SOURCE-LINE 583
 6691 00000120 00000000                   DATA FOR SOURCE-LINE 585
 6692 00000124 00000000                   DATA FOR SOURCE-LINE 587
 6693                                     ***** END-POOL *****
 6694 00000128                    599     MN_POSCTL_START_110:
 6695                             600     
 6696                             601     ;       === 待機点作成(最寄)  :上死点復帰の場合は360ｴﾝｺｰﾀﾞから算出する  ;
 6697 00000128 C840               602             TST     #(_W1DUP),R0                                            ;
 6698                             603             TST_BIT_ON MN_POSCTL_START_200                                  ;強制上昇
 6699 0000012A 8B07                   M           BF      MN_POSCTL_START_200
 6700                             604     
 6701                             605     ;       === 段取モード========
 6702                             606             FAR_JSR #_MN_DNDINC_START,R0            ;2006-07-28 ｲﾆｼｬﾙｻﾌﾞﾙｰﾁﾝ化
 6703 0000012C D002                   M           MOV.L   #_MN_DNDINC_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6704 0000012E 400B                   M           JSR     @R0                     ;
 6705 00000130 0009                   M           NOP                                     ;
 6706                             607             M_BRA   MN_POSCTL_START_800             ;
 6707 00000132 A064                   M           BRA     MN_POSCTL_START_800
 6708 00000134 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    13
PROGRAM NAME =

 6709                             608     
 6710                             609     ;;      -- 2006-07-28 ｲﾆｼｬﾙｻﾌﾞﾙｰﾁﾝ化--
 6711                             610     ;;      MOV.L   #_SETX_POS_CTL_MATH,R1          ;
 6712                             611     ;;      MOV.W   @R1,R0                          ;
 6713                             612     ;;      CMP/EQ  #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
 6714                             613     ;;      BF      MN_POSCTL_START_150             ;
 6715                             614     ;;
 6716                             615     ;;      ====== 反転/段取寸動===
 6717                             616     ;;      FAR_JSR #_DND_LNK_STEP_CHECK1,R0        ;//<どの工程から開始するか> CHEAK
 6718                             617     ;;      FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待機点2 _PO
                                          S_DRV_DIRECT
 6719                             618     ;;      M_BRA   MN_POSCTL_START_180             ;
 6720                             619     ;;
 6721                             620     ;;MN_POSCTL_START_150:
 6722                             621     ;;      ====== 回転/段取寸動===
 6723                             622     ;;      +/-MAX位置を目標とする                                  ;
 6724                             623     ;;      === 方向判別/速度設定/目標位置:STARTは割込でかける      ;
 6725                             624     ;;      FAR_JSR #_DNDINC_DIRECT_MAKE1,R1                        ;ANS R0(=POS_RDV_DIRECT)
 6726                             625     ;;      MOV.L   #_POS_DRV_DIRECT,R1                             ;起動時(SV-LEVEL)
 6727                             626     ;;      MOV.W   @R1,R0
 6728                             627     ;;      FAR_JSR #_LINK_P_M_MAX,R4                               ;Input R0:BIT0 DIRECT
 6729                             628     ;;MN_POSCTL_START_180:
 6730                             629     ;;      FAR_JSR #_DNDINC_SPD_SET,R4                             ;
 6731                             630     ;;      M_BRA   MN_POSCTL_START_800                             ;
 6732                             631     
 6733                             632     
 6734                             633     ;       ===================================
 6735                             634     ;       ===     (原点復帰開始処理)      ===
 6736                             635     ;       ===================================
 6737                             636     ;2008-09-16(論理変更　ﾚﾍﾞﾙ動作も活かす)
 6738                                     ***** BEGIN-POOL *****
 6739 00000136 0000                       ALIGNMENT CODE
 6740 00000138 00000000                   DATA FOR SOURCE-LINE 606
 6741                                     ***** END-POOL *****
 6742 0000013C                    637     MN_POSCTL_START_200:                                                    ;
 6743 0000013C D10B               638             MOV.L   #_ORGIN_END_FLG1,R1             ;//電源投入の１回ON:OFFはない
 6744 0000013E 6011               639             MOV.W   @R1,R0                          ;
 6745 00000140 C801               640             TST     #BIT0,R0                        ;
 6746                             641             TST_BIT_OF MN_POSCTL_START_220          ;１回も原点復帰していない
 6747 00000142 891D                   M           BT      MN_POSCTL_START_220
 6748                             642     
 6749                             643     ;       --------[2014-09-18]-----------
 6750 00000144 D10A               644             MOV.L   #_ORG_ELSE_NOMAL_FLG1,R1
 6751 00000146 6011               645             MOV.W   @R1,R0                          ;
 6752 00000148 C801               646             TST     #BIT0,R0                        ;
 6753                             647             TST_BIT_OF MN_POSCTL_START_220          ;1:ﾓｰｼｮﾝ運転可能=待機動作もｻｰﾁ無し可能
 6754 0000014A 8919                   M           BT      MN_POSCTL_START_220
 6755                             648     
 6756                             649     ;       --------------------------------
 6757                             650     
 6758 0000014C D109               651             MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
 6759 0000014E 6011               652             MOV.W   @R1,R0                          ;
 6760 00000150 2008               653             TST     R0,R0                           ;
 6761                             654             TST_BIT_OF MN_POSCTL_START_220          ;(論理変更)
 6762 00000152 8915                   M           BT      MN_POSCTL_START_220
 6763                             655     
 6764 00000154 D108               656             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    14
PROGRAM NAME =

 6765 00000156 6011               657             MOV.W   @R1,R0                          ;
 6766 00000158 9406               658             MOV.W   #BIT15,R4                       ;
 6767 0000015A 2048               659             TST     R4,R0                           ;
 6768                             660             TST_BIT_OF MN_POSCTL_START_220          ;待機点目標位置決め指令(ｽﾗｲﾄﾞ調整後はｼｰｹﾝｽ
                                          で判断)
 6769 0000015C 8910                   M           BT      MN_POSCTL_START_220
 6770                             661     
 6771                             662             FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST1,R0     ;(原点復帰ではなく待機点位置決め)
 6772 0000015E D007                   M           MOV.L   #_ORGIN_OBJ_POS_CTRL_ST1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6773 00000160 400B                   M           JSR     @R0                     ;
 6774 00000162 0009                   M           NOP                                     ;
 6775                             663                                                     ;待機点範囲ならやらない(そうしないと...１
                                          回転するほうとしないほうがでる)
 6776                             664                                                     ;
 6777                             665             M_BRA   MN_POSCTL_START_800             ;
 6778 00000164 A04B                   M           BRA     MN_POSCTL_START_800
 6779 00000166 0009                   M           NOP
 6780                             666     
 6781                             667     ;;;;----------- 2008-09-16 論理変更
 6782                             668     ;;;;2006-11-21
 6783                             669     ;;;;MN_POSCTL_START_200:                                                        ;
 6784                             670     ;;;;    MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 6785                             671     ;;;;    MOV.W   @R1,R0                          ;
 6786                             672     ;;;;    MOV.W   #BIT15,R4                       ;
 6787                             673     ;;;;    TST     R4,R0                           ;
 6788                             674     ;;;;    TST_BIT_OF MN_POSCTL_START_220          ;待機点目標位置決め指令(ｽﾗｲﾄﾞ調整後はｼｰｹﾝｽ
                                          で判断)
 6789                             675     ;;;;
 6790                             676     ;;;;    ============ 2006-07-28=========
 6791                             677     ;;;;    MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
 6792                             678     ;;;;    MOV.W   @R1,R0                          ;
 6793                             679     ;;;;    TST     R0,R0                           ;
 6794                             680     ;;;;    TST_BIT_OF MN_POSCTL_START_220          ;(論理変更)
 6795                             681     ;;;;
 6796                             682     ;;;;    MOV.L   #_ORGIN_END_FLG1,R1             ;//電源投入の１回ON:OFFはない
 6797                             683     ;;;;    MOV.W   @R1,R0                          ;
 6798                             684     ;;;;    TST     #BIT0,R0                        ;
 6799                             685     ;;;;    TST_BIT_OF MN_POSCTL_START_220          ;１回も原点復帰していない
 6800                             686     ;;;;
 6801                             687     ;;;;    FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST1,R0     ;(原点復帰ではなく待機点位置決め)
 6802                             688     ;;;;                                            ;待機点範囲ならやらない(そうしないと...１
                                          回転するほうとしないほうがでる)
 6803                             689     ;;;;                                            ;
 6804                             690     ;;;;    M_BRA   MN_POSCTL_START_800             ;
 6805                             691     
 6806                             692     
 6807                             693     
 6808                             694     ;----------- 2006-11-21 論理変更
 6809                             695     ;;;MN_POSCTL_START_200:                                                 ;
 6810                             696     ;;;     ============ 2006-07-28=========
 6811                             697     ;;;     MOV.L   #_ORGIN_MOD2_SEL,R1             ;//0:ｻｰﾁ動作 1:待機点動作
 6812                             698     ;;;     MOV.W   @R1,R0                          ;
 6813                             699     ;;;     TST     R0,R0                           ;
 6814                             700     ;;;     TST_BIT_ON MN_POSCTL_START_210          ;
 6815                             701     ;;;
 6816                             702     ;;;     ============2004-05-24=========================
 6817                             703     ;;;     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    15
PROGRAM NAME =

 6818                             704     ;;;     MOV.W   @R1,R0                          ;
 6819                             705     ;;;     MOV.W   #BIT15,R4                       ;
 6820                             706     ;;;     TST     R4,R0                           ;
 6821                             707     ;;;     TST_BIT_OF MN_POSCTL_START_220          ;待機点目標位置決め指令(ｽﾗｲﾄﾞ調整後はｼｰｹﾝｽ
                                          で判断)
 6822                             708     ;;;MN_POSCTL_START_210:                                                 ;
 6823                             709     ;;;     MOV.L   #_ORGIN_END_FLG1,R1             ;//電源投入の１回ON:OFFはない
 6824                             710     ;;;     MOV.W   @R1,R0                          ;
 6825                             711     ;;;     TST     #BIT0,R0                        ;
 6826                             712     ;;;     TST_BIT_OF MN_POSCTL_START_220          ;１回も原点復帰していない
 6827                             713     ;;;
 6828                             714     ;;;     FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST1,R0     ;(原点復帰ではなく待機点位置決め)
 6829                             715     ;;;                                             ;待機点範囲ならやらない(そうしないと...１
                                          回転するほうとしないほうがでる)
 6830                             716     ;;;                                             ;
 6831                             717     ;;;     M_BRA   MN_POSCTL_START_800             ;
 6832                             718     
 6833                             719     ;       ----------------- ｻｰﾁﾀｲﾌﾟ-----------------------
 6834                                     ***** BEGIN-POOL *****
 6835 00000168 8000                       DATA FOR SOURCE-LINE 658
 6836 0000016A 0000                       ALIGNMENT CODE
 6837 0000016C 00000000                   DATA FOR SOURCE-LINE 638
 6838 00000170 00000000                   DATA FOR SOURCE-LINE 644
 6839 00000174 00000000                   DATA FOR SOURCE-LINE 651
 6840 00000178 00000000                   DATA FOR SOURCE-LINE 656
 6841 0000017C 00000000                   DATA FOR SOURCE-LINE 662
 6842                                     ***** END-POOL *****
 6843 00000180                    720     MN_POSCTL_START_220:
 6844 00000180 D106               721             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;2004-05-24
 6845 00000182 200A               722             XOR     R0,R0                           ;
 6846 00000184 2101               723             MOV.W   R0,@R1                          ;
 6847                             724     
 6848                             725     ;       ===============================================
 6849                             726     ;       ==== 上死点復帰・待機点復帰====
 6850                             727     ;       今の位置から上死点＋３度を目指す
 6851                             728     ;       今の位置から上死点−３度を目指す
 6852                             729             FAR_JSR #_LINK_UPPLS_A_OBJMAK1,R1       ;
 6853 00000186 D106                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK1,R1               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6854 00000188 410B                   M           JSR     @R1                     ;
 6855 0000018A 0009                   M           NOP                                     ;
 6856                             730             FAR_JSR #_DNDUPS_SPD_SET,R4             ;
 6857 0000018C D405                   M           MOV.L   #_DNDUPS_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6858 0000018E 440B                   M           JSR     @R4                     ;
 6859 00000190 0009                   M           NOP                                     ;
 6860                             731             FAR_JSR #_ORG_END_SIG_CLR,R0            ;
 6861 00000192 D005                   M           MOV.L   #_ORG_END_SIG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6862 00000194 400B                   M           JSR     @R0                     ;
 6863 00000196 0009                   M           NOP                                     ;
 6864                             732             M_BRA   MN_POSCTL_START_800             ;
 6865 00000198 A031                   M           BRA     MN_POSCTL_START_800
 6866 0000019A 0009                   M           NOP
 6867                             733     
 6868                                     ***** BEGIN-POOL *****
 6869 0000019C 00000000                   DATA FOR SOURCE-LINE 721
 6870 000001A0 00000000                   DATA FOR SOURCE-LINE 729
 6871 000001A4 00000000                   DATA FOR SOURCE-LINE 730
 6872 000001A8 00000000                   DATA FOR SOURCE-LINE 731
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    16
PROGRAM NAME =

 6873                                     ***** END-POOL *****
 6874 000001AC                    734     MN_POSCTL_START_500:                            ;
 6875                             735             FAR_JSR #_CPOS_INI1_DTMOV2,R0           ;
 6876 000001AC D009                   M           MOV.L   #_CPOS_INI1_DTMOV2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6877 000001AE 400B                   M           JSR     @R0                     ;
 6878 000001B0 0009                   M           NOP                                     ;
 6879                             736     
 6880                             737     ;;;     ================= なぜこのフラグがＯＦＦしていない？ =======
 6881                             738     ;;      XOR     R0,R0                           ;(1ｻｲｸﾙ完了時にOFFしていないとならない信号
                                          なのに)
 6882                             739     ;;      MOV.L   #_INT_POS_CTL_FLAG,R1           ;
 6883                             740     ;;      MOV.W   R0,@R1                          ;
 6884                             741     
 6885                             742     ;(急停止の場合はSV_POS_CTL_SEPは0ではない ok!)
 6886                             743     ;(ｻｲｸﾙ停止では、回転数を演算する必要はない)
 6887                             744     
 6888                             745     ;
 6889                             746     ;       === 待機点作成(方向あり)====
 6890 000001B2 D109               747             MOV.L   #_SV_POS_CTL_STEP,R1            ;
 6891 000001B4 6011               748             MOV.W   @R1,R0                          ;(+1だけでいいのか/つくり直す必要があるの
                                          か)
 6892                             749     
 6893 000001B6 2008               750             TST     R0,R0                           ;
 6894                             751             TST_BIT_ON MN_POSCTL_START_600          ;(ﾘｾｯﾄ時に待機点を決定する)
 6895 000001B8 8B1E                   M           BF      MN_POSCTL_START_600
 6896                             752     ;;;;;;;;;;STEP=0:非常停止後の起動
 6897                             753     ;;;;;;;;;;2014-09-19    ----------- [2009-10-07下振子]
 6898                             754     ;;;;;;;;;;2014-09-19    MOV.L   #_CPOS_CTL_MATH,R1              ;
 6899                             755     ;;;;;;;;;;2014-09-19    MOV.W   @R1,R0                          ;
 6900                             756     ;;;;;;;;;;2014-09-19    TST     #_DMATH_DNDRIV,R0               ; 往復?
 6901                             757     ;;;;;;;;;;2014-09-19    TST_BIT_OF MN_POSCTL_START_520          ;
 6902                             758     ;;;;;;;;;;2014-09-19    MOV.L   #_DNM_DIR_SET_FLG,R1            ;(この論理はよくない)
 6903                             759     ;;;;;;;;;;2014-09-19    MOV.W   @R1,R0                          ;
 6904                             760     ;;;;;;;;;;2014-09-19    TST     R0,R0                           ;
 6905                             761     ;;;;;;;;;;2014-09-19    TST_BIT_ON MN_POSCTL_START_540          ;DNM_DIR_NOW_FLG
 6906                             762     ;;;;;;;;;;2014-09-19MN_POSCTL_START_520:                                ;
 6907                             763     ;;;;;;;;;;2014-09-19 目標位置から演算するから不要に思える.待機点を跨ぐなら別
 6908                             764     
 6909                             765     ;       ------------ これがいまのところインターロックではたらいていなそう(20091007コメント
                                          )----------
 6910 000001BA D108               766             MOV.L   #_INT_CYC_DRV_STS,R1            ;SV=0非常停止またはｻｲｸﾙ停止(BIT0=1:ｻｲｸﾙ停
                                          止)
 6911 000001BC 6011               767             MOV.W   @R1,R0                          ;
 6912 000001BE C801               768             TST     #BIT0,R0                        ;
 6913                             769             TST_BIT_ON MN_POSCTL_START_540          ;(これがうまくとれていない ｻｲｸﾙ停止時は演
                                          算しない)
 6914 000001C0 8B12                   M           BF      MN_POSCTL_START_540
 6915                             770     
 6916                             771     ;       ---------- 非常停止後の起動-----------
 6917                             772             FAR_JSR #_NEXT_CYCL_START2,R0                   ;(((((何の起動??)))))
 6918 000001C2 D007                   M           MOV.L   #_NEXT_CYCL_START2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6919 000001C4 400B                   M           JSR     @R0                     ;
 6920 000001C6 0009                   M           NOP                                     ;
 6921                             773             FAR_JSR #_START_CNT_BANK2_MAK_CHK,R0            ;(BANK1ROT番号+1)
 6922 000001C8 D006                   M           MOV.L   #_START_CNT_BANK2_MAK_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6923 000001CA 400B                   M           JSR     @R0                     ;
 6924 000001CC 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    17
PROGRAM NAME =

 6925                             774     
 6926                             775     
 6927                             776     ;
 6928                             777     
 6929                             778     
 6930                             779             M_BRA   MN_POSCTL_START_600                     ;
 6931 000001CE A013                   M           BRA     MN_POSCTL_START_600
 6932 000001D0 0009                   M           NOP
 6933                             780     
 6934                             781     ;       -------遮光停止でこれをやった場合で　待機点を越えていたら以外にだめ？(コメント2009
                                          1007)--------
 6935                             782     ;       遮光による停止、またはサイクルＥＮＤ後の自動起動
 6936                             783     
 6937                                     ***** BEGIN-POOL *****
 6938 000001D2 0000                       ALIGNMENT CODE
 6939 000001D4 00000000                   DATA FOR SOURCE-LINE 735
 6940 000001D8 00000000                   DATA FOR SOURCE-LINE 747
 6941 000001DC 00000000                   DATA FOR SOURCE-LINE 766
 6942 000001E0 00000000                   DATA FOR SOURCE-LINE 772
 6943 000001E4 00000000                   DATA FOR SOURCE-LINE 773
 6944                                     ***** END-POOL *****
 6945 000001E8                    784     MN_POSCTL_START_540:                                    ;
 6946 000001E8 D114               785             MOV.L   #_LINK_OBJROT_NUM_ZR,R1                 ;//NOW ROTATION 番号
 6947 000001EA 6212               786             MOV.L   @R1,R2                                  ;+0
 6948                             787             FAR_JSR #_NEXT_CYCL_START1,R0                   ;(連続時は転送でも良いがとりあえず
                                          このまま残す)
 6949 000001EC D014                   M           MOV.L   #_NEXT_CYCL_START1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6950 000001EE 400B                   M           JSR     @R0                     ;
 6951 000001F0 0009                   M           NOP                                     ;
 6952                             788             FAR_JSR #_START_CNT_BANK2_MAK_CHK,R0            ;(BANK1ROT番号+1)
 6953 000001F2 D014                   M           MOV.L   #_START_CNT_BANK2_MAK_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6954 000001F4 400B                   M           JSR     @R0                     ;
 6955 000001F6 0009                   M           NOP                                     ;
 6956 000001F8                    789     MN_POSCTL_START_600:                            ;
 6957 000001F8 0009               790             NOP                                     ;何もしないくて良いはず
 6958 000001FA 0009               791             NOP                                     ;
 6959 000001FC 0009               792             NOP                                     ;
 6960 000001FE                    793     MN_POSCTL_START_800:                            ;
 6961                             794     
 6962                             795     
 6963 000001FE 901A               796             MOV.W   #BIT0,R0                        ;起動
 6964 00000200 D111               797             MOV.L   #_MNWR_POS_CMD,R1               ;
 6965 00000202 2101               798             MOV.W   R0,@R1                          ;
 6966                             799     
 6967                             800     ;       --------2009-04-01 起動したらフラグクリア[原点時の]
 6968                             801             MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1      ;
                                          原点起動で使用
 6969 00000204 D411                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
 6970 00000206 6041                   M           MOV.W   @R4,R0          ;
 6971 00000208 9116                   M           MOV.W   #LWORD (~BIT5),R1       ;
 6972 0000020A 2019                   M           AND     R1,R0           ;
 6973 0000020C 2401                   M           MOV.W   R0,@R4          ;
 6974                             802             MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
 6975 0000020E D410                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
 6976 00000210 6041                   M           MOV.W   @R4,R0          ;
 6977 00000212 9111                   M           MOV.W   #LWORD (~BIT5),R1       ;
 6978 00000214 2019                   M           AND     R1,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    18
PROGRAM NAME =

 6979 00000216 2401                   M           MOV.W   R0,@R4          ;
 6980                             803     
 6981                             804     
 6982                             805     ;       --------2011-05-11　起動時　本当は.160度手前.....----
 6983                             806             FAR_JSR #_CNT_BEF_LOT_SIGCHK,R0         ;ｻﾌﾞﾙｰﾁﾝ 2011-05-11
 6984 00000218 D00E                   M           MOV.L   #_CNT_BEF_LOT_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6985 0000021A 400B                   M           JSR     @R0                     ;
 6986 0000021C 0009                   M           NOP                                     ;
 6987                             807     
 6988                             808     
 6989                             809     ;       -2012-05-30 反転
 6990                             810             FAR_JSR #_FULCLS_MAXOVER_CLR,R0
 6991 0000021E D00E                   M           MOV.L   #_FULCLS_MAXOVER_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6992 00000220 400B                   M           JSR     @R0                     ;
 6993 00000222 0009                   M           NOP                                     ;
 6994                             811     
 6995                             812     ;       ----------- 荷重行程変更ｸﾘｱ-----------------
 6996                             813             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
 6997                             814 C           FAR_JSR #_FCLS_KJYU_STEPCHG_CLR,R0      ;2015-03-15[R01:2014-03-20]
 6998 00000224 D00D                   M           MOV.L   #_FCLS_KJYU_STEPCHG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 6999 00000226 400B                   M           JSR     @R0                     ;
 7000 00000228 0009                   M           NOP                                     ;
 7001                             815 C           FAR_JSR #_KAJYU_ELSE_STS_CLR,R0         ;
 7002 0000022A D00D                   M           MOV.L   #_KAJYU_ELSE_STS_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7003 0000022C 400B                   M           JSR     @R0                     ;
 7004 0000022E 0009                   M           NOP                                     ;
 7005                             816             .AENDI
 7006                             817     
 7007                             818             SUB_END
 7008                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7009 00000230 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7010                             819             M_RTS
 7011 00000232 000B                   M           RTS                             ;RTSの後ろの
 7012 00000234 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7013                             820     
 7014                             821     
 7015                             822     ;       ***********************************
 7016                             823     ;       ***     運転中に呼ばれる        ***
 7017                             824     ;       ***********************************
 7018                             825     ;       FAR_JSR #_MN_POS_CTRL_ACT,R1            ;<00:運転継続中>
 7019                             826     ;                                               ;<寸動等の停止 -->準備未完了へ "FF">
 7020                             827     ;                                               ;<ｻｲｸﾙ終了->ｾﾙﾌﾁｪｯｸへ          "55">
 7021                             828     ;
 7022                             829     ;       ・１回転分のデータを作成するだけ
 7023                             830     ;       ・位置決め完了を見るだけ
 7024                             831     ;
 7025                                     ***** BEGIN-POOL *****
 7026 00000236 0001                       DATA FOR SOURCE-LINE 796
 7027 00000238 FFDF                       DATA FOR SOURCE-LINE 801,802
 7028 0000023A 0000                       ALIGNMENT CODE
 7029 0000023C 00000000                   DATA FOR SOURCE-LINE 785
 7030 00000240 00000000                   DATA FOR SOURCE-LINE 787
 7031 00000244 00000000                   DATA FOR SOURCE-LINE 788
 7032 00000248 00000000                   DATA FOR SOURCE-LINE 797
 7033 0000024C 00000000                   DATA FOR SOURCE-LINE 801
 7034 00000250 00000000                   DATA FOR SOURCE-LINE 802
 7035 00000254 00000000                   DATA FOR SOURCE-LINE 806
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    19
PROGRAM NAME =

 7036 00000258 00000000                   DATA FOR SOURCE-LINE 810
 7037 0000025C 00000000                   DATA FOR SOURCE-LINE 814
 7038 00000260 00000000                   DATA FOR SOURCE-LINE 815
 7039                                     ***** END-POOL *****
 7040 00000264                    832             .ALIGN  4                               ;
 7041 00000264                    833     _MN_POS_CTRL_ACT:                               ;ssa_pos1.src
 7042                             834             SUB_START
 7043 00000264 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7044                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7045                             835     
 7046 00000266 D103               836             MOV.L   #_INT_CYC_DRV_STS,R1            ;
 7047 00000268 6011               837             MOV.W   @R1,R0                          ;
 7048 0000026A C840               838             TST     #BIT6,R0                        ;工程終了
 7049                             839             TST_BIT_OF MN_POS_CTLACT_100            ;(位置決め完了 NO!)
 7050 0000026C 8904                   M           BT      MN_POS_CTLACT_100
 7051                             840             M_BRA   MN_POS_CTLACT_800               ;
 7052 0000026E A029                   M           BRA     MN_POS_CTLACT_800
 7053 00000270 0009                   M           NOP
 7054                             841     
 7055                                     ***** BEGIN-POOL *****
 7056 00000272 0000                       ALIGNMENT CODE
 7057 00000274 00000000                   DATA FOR SOURCE-LINE 836
 7058                                     ***** END-POOL *****
 7059 00000278                    842     MN_POS_CTLACT_100:                              ;
 7060                             843     
 7061                             844     
 7062                             845     ;;;     _BRK_SADOU_CHG EQ 1
 7063                             846     ;       ------------2015-09-06 ﾌﾞﾚｰｷ作動(H2W 2015-03-16,H1F 2015-07-14)-----------------
 7064 00000278 D104               847             MOV.L   #(_PAR_MYU_BRK_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R1                    ;[
                                          H1F=未作or無][H2W=2015-03-16 0:　1:ﾐｭｰﾃﾝｸﾞ時=BRK:LOCK]
 7065 0000027A 6011               848             MOV.W   @R1,R0                                  ;
 7066 0000027C 8801               849             CMP/EQ  #1,R0
 7067 0000027E 8B09               850             BF      MN_POS_CTLACT_130                       ;
 7068                             851     
 7069                             852     ;       -------------2015-09-06 (2015-07-14)-------------------------
 7070                             853     ;       ｲﾝﾎﾟｼﾞｼｮﾝから位置決め完了(ﾌﾞﾚｰｷまでの遅延)
 7071                             854             FAR_JSR #_POS_ENDWAIT_TIM_SET,R0                ;[安一,連続のAUTO それ以外でとるか
                                          ]
 7072 00000280 D003                   M           MOV.L   #_POS_ENDWAIT_TIM_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7073 00000282 400B                   M           JSR     @R0                     ;
 7074 00000284 0009                   M           NOP                                     ;
 7075                             855             M_BRA   MN_POS_CTLACT_150                                       ;
 7076 00000286 A008                   M           BRA     MN_POS_CTLACT_150
 7077 00000288 0009                   M           NOP
 7078                             856     
 7079                                     ***** BEGIN-POOL *****
 7080 0000028A 0000                       ALIGNMENT CODE
 7081 0000028C 00000000                   DATA FOR SOURCE-LINE 847
 7082 00000290 00000000                   DATA FOR SOURCE-LINE 854
 7083                                     ***** END-POOL *****
 7084 00000294                    857     MN_POS_CTLACT_130:                                      ;
 7085                             858     ;       --------------2015-09-06(2015-07-14)------------------------
 7086                             859             FAR_JSR #_POS_ENDMYUT_TIM_SET,R0                ;終了から動力遮断するorﾐｭｰﾃﾝｸﾞにす
                                          る時間
 7087 00000294 D007                   M           MOV.L   #_POS_ENDMYUT_TIM_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7088 00000296 400B                   M           JSR     @R0                     ;
 7089 00000298 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    20
PROGRAM NAME =

 7090                             860     ;       -------------------------------------------------
 7091 0000029A                    861     MN_POS_CTLACT_150:                                      ;
 7092                             862     
 7093                             863     
 7094                             864     
 7095                             865     
 7096                             866     
 7097                             867     
 7098 0000029A D107               868             MOV.L   #_CPOS_CTL_MATH,R1              ;
 7099 0000029C 6011               869             MOV.W   @R1,R0                          ;
 7100 0000029E C805               870             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0               ;[20091007下振子]
 7101                             871             TST_BIT_OF DAI_CHK01_200                ;
 7102 000002A0 8902                   M           BT      DAI_CHK01_200
 7103                             872             FAR_JSR #_DAI_FULL_SCALE_SMPLE,R0       ;2003-02-03
 7104 000002A2 D006                   M           MOV.L   #_DAI_FULL_SCALE_SMPLE,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7105 000002A4 400B                   M           JSR     @R0                     ;
 7106 000002A6 0009                   M           NOP                                     ;
 7107 000002A8                    873     DAI_CHK01_200:
 7108                             874     
 7109                             875             FAR_JSR #_MOST_DISP_DAT_SMP,R0          ;
 7110 000002A8 D005                   M           MOV.L   #_MOST_DISP_DAT_SMP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7111 000002AA 400B                   M           JSR     @R0                     ;
 7112 000002AC 0009                   M           NOP                                     ;
 7113                             876             M_BRA   MN_POS_CTLACT_CONTINUE          ;
 7114 000002AE A01D                   M           BRA     MN_POS_CTLACT_CONTINUE
 7115 000002B0 0009                   M           NOP
 7116                             877     
 7117                                     ***** BEGIN-POOL *****
 7118 000002B2 0000                       ALIGNMENT CODE
 7119 000002B4 00000000                   DATA FOR SOURCE-LINE 859
 7120 000002B8 00000000                   DATA FOR SOURCE-LINE 868
 7121 000002BC 00000000                   DATA FOR SOURCE-LINE 872
 7122 000002C0 00000000                   DATA FOR SOURCE-LINE 875
 7123                                     ***** END-POOL *****
 7124 000002C4                    878     MN_POS_CTLACT_800:
 7125 000002C4 200A               879             XOR     R0,R0                           ;ｻｲｸﾙ停止
 7126 000002C6 D106               880             MOV.L   #_MNWR_POS_CMD,R1               ;ﾊﾟﾙｽ払出即停止
 7127 000002C8 2101               881             MOV.W   R0,@R1                          ;
 7128                             882     
 7129                             883     ;;;     _BRK_SADOU_CHG EQ 1
 7130                             884     ;       --------2015-09-06(2015-07-14)----------------
 7131 000002CA D106               885             MOV.L   #_POS_END_WAIT_TIM,R1           ;
 7132 000002CC 6011               886             MOV.W   @R1,R0                          ;
 7133 000002CE 2008               887             TST     R0,R0                           ;
 7134                             888             TST_BIT_ON MN_POS_CTLACT_CONTINUE       ;(位置決め完了を待つ---遮光時は動力遮断状
                                          態だから大丈夫)
 7135 000002D0 8B0C                   M           BF      MN_POS_CTLACT_CONTINUE
 7136                             889     ;       -----------------------------------------
 7137                             890     
 7138                             891     
 7139 000002D2 D105               892             MOV.L   #_INT_CYC_DRV_STS,R1    ;//BIT0:CYCLE　END()
 7140 000002D4 6011               893             MOV.W   @R1,R0
 7141 000002D6 C801               894             TST     #BIT0,R0                        ;(わざとｻｲｸﾙ停止にしない)
 7142                             895             TST_BIT_ON MN_POS_CTLACT_CYCLE_END      ;
 7143 000002D8 8B0E                   M           BF      MN_POS_CTLACT_CYCLE_END
 7144                             896             M_BRA   MN_POS_CTLACT_STOP_END          ;
 7145 000002DA A00A                   M           BRA     MN_POS_CTLACT_STOP_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    21
PROGRAM NAME =

 7146 000002DC 0009                   M           NOP
 7147                             897     
 7148                             898     
 7149                                     ***** BEGIN-POOL *****
 7150 000002DE 0000                       ALIGNMENT CODE
 7151 000002E0 00000000                   DATA FOR SOURCE-LINE 880
 7152 000002E4 00000000                   DATA FOR SOURCE-LINE 885
 7153 000002E8 00000000                   DATA FOR SOURCE-LINE 892
 7154                                     ***** END-POOL *****
 7155 000002EC                    899     MN_POS_CTLACT_CONTINUE:
 7156 000002EC 200A               900             XOR     R0,R0
 7157                             901             M_BRA   MN_POS_CTLACT_EXIT
 7158 000002EE A004                   M           BRA     MN_POS_CTLACT_EXIT
 7159 000002F0 0009                   M           NOP
 7160                             902     
 7161 000002F2                    903     MN_POS_CTLACT_STOP_END:
 7162 000002F2 E0FF               904             MOV     #-1,R0
 7163                             905             M_BRA   MN_POS_CTLACT_EXIT
 7164 000002F4 A001                   M           BRA     MN_POS_CTLACT_EXIT
 7165 000002F6 0009                   M           NOP
 7166 000002F8                    906     MN_POS_CTLACT_CYCLE_END:
 7167 000002F8 E055               907             MOV     #H'55,R0        ;CYCLE END
 7168 000002FA                    908     MN_POS_CTLACT_EXIT:
 7169                             909             SUB_END
 7170                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7171 000002FA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7172                             910             M_RTS
 7173 000002FC 000B                   M           RTS                             ;RTSの後ろの
 7174 000002FE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7175                             911     
 7176                             912     
 7177                             913     
 7178                             914     
 7179                             915     ;       ***********************************
 7180                             916     ;       ***                             ***
 7181                             917     ;       ***     2015-09-06              ***
 7182                             918     ;       ***     2015-07-14              ***
 7183                             919     ;       ***                             ***
 7184                             920     ;       ***********************************
 7185                             921     ;       ﾌﾞﾚｰｷとﾐｭ-ﾃﾝｸﾞ連動
 7186                             922     ;;;     _BRK_SADOU_CHG EQ 1
 7187 00000300                    923     _POS_ENDWAIT_TIM_SET
 7188                             924             SUB_START
 7189 00000300 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7190                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7191                             925     
 7192                             926     
 7193                             927     ;       --------------------------------------------
 7194 00000302 D109               928             MOV.L   #(_PAR_MYUBRK_TIM2-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;[PNO.95][H2W=2015
                                          -03-16 寸動終了時ﾀｲﾏ]
 7195 00000304 6211               929             MOV.W   @R1,R2                          ;
 7196                             930     
 7197 00000306 D109               931             MOV.L   #_MODE_SEL,R1                   ;
 7198 00000308 6011               932             MOV.W   @R1,R0                          ;
 7199 0000030A C81C               933             TST     #(_W1OPT+_W1CNT+_W1SGL),R0      ;
 7200                             934             TST_BIT_OF POS_ENDWAIT_TIMSET_END       ;
 7201 0000030C 8906                   M           BT      POS_ENDWAIT_TIMSET_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    22
PROGRAM NAME =

 7202                             935     
 7203 0000030E D108               936             MOV.L   #_dq1_cb_out1,R1                ;//+0:制御出力(203)
 7204 00000310 6011               937             MOV.W   @R1,R0                          ;
 7205 00000312 9408               938             MOV.W   #_WOATO,R4                      ;AUTO
 7206 00000314 2048               939             TST     R4,R0                           ;
 7207                             940             TST_BIT_OF POS_ENDWAIT_TIMSET_END       ;[AUTOじゃない]
 7208 00000316 8901                   M           BT      POS_ENDWAIT_TIMSET_END
 7209                             941     
 7210                             942     ;       ----------- 1ｻｲｸﾙ停止時用 2015-07-14--------
 7211 00000318 D106               943             MOV.L   #(_PAR_MYUBRK_TIM1-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;[H2W=2015-03-14
                                          行程終了時　ﾐｭｰﾃﾝｸﾞ切替時間]
 7212 0000031A 6211               944             MOV.W   @R1,R2                          ;[PNO.94]
 7213                             945                                                     ;
 7214                             946     
 7215 0000031C                    947     POS_ENDWAIT_TIMSET_END
 7216 0000031C D106               948             MOV.L   #_POS_END_WAIT_TIM,R1           ;[位置決め完了遅延時間==動力遮断を伸ばす時
                                          間]
 7217 0000031E 2121               949             MOV.W   R2,@R1
 7218                             950     
 7219                             951     
 7220                             952     
 7221                             953             SUB_END
 7222                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7223 00000320 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7224                             954             M_RTS
 7225 00000322 000B                   M           RTS                             ;RTSの後ろの
 7226 00000324 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7227                             955     
 7228                             956     
 7229                             957     
 7230                             958     ;       ***********************************
 7231                             959     ;       ***                             ***
 7232                             960     ;       ***     2015-07-14              ***
 7233                             961     ;       ***                             ***
 7234                             962     ;       ***********************************
 7235                             963     ;       ﾌﾞﾚｰｷとﾐｭ-ﾃﾝｸﾞ連動しない
 7236                             964     ;       P22　ﾊﾟﾙｽ出力完了~ﾌﾞﾚｰｷをかけても良い時間
 7237                             965     ;       ﾐｭｰﾃﾝｸﾞ中はﾐｭｰﾃﾝｸﾞ継続時間
 7238                             966     ;       ﾐｭｰﾃﾝｸﾞしない状態では動力遮断時間
 7239                             967     ;
 7240                             968     ;       今までは遮光を検知しない時間=ﾐｭｰﾃﾝｸﾞ継続時間相当
 7241                             969     ;
 7242                             970     
 7243                                     ***** BEGIN-POOL *****
 7244 00000326 0040                       DATA FOR SOURCE-LINE 938
 7245 00000328 00000000                   DATA FOR SOURCE-LINE 928
 7246 0000032C 00000000                   DATA FOR SOURCE-LINE 931
 7247 00000330 00000000                   DATA FOR SOURCE-LINE 936
 7248 00000334 00000000                   DATA FOR SOURCE-LINE 943
 7249 00000338 00000000                   DATA FOR SOURCE-LINE 948
 7250                                     ***** END-POOL *****
 7251 0000033C                    971     _POS_ENDMYUT_TIM_SET:
 7252                             972             SUB_START
 7253 0000033C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7254                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7255                             973     
 7256 0000033E D10C               974             MOV.L   #(_PAR_SELF_WAIT_TM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;P22ｾﾙﾌﾁｪｯｸまたは
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    23
PROGRAM NAME =

                                          位置決めからﾛｯｸ開始遅延時間(停止確認用)
 7257 00000340 6211               975             MOV.W   @R1,R2                  ;
 7258 00000342 233A               976             XOR     R3,R3
 7259                             977     
 7260                             978     
 7261 00000344 D10B               979             MOV.L   #_MODE_SEL,R1           ;寸動・安全一工程・連続・OPT
 7262 00000346 6011               980             MOV.W   @R1,R0                  ;
 7263 00000348 C804               981             TST     #_W1SGL,R0              ;
 7264                             982             TST_BIT_OF POS_ENDMYUTTIM_STOP  ;[見る必要ないのだが]
 7265 0000034A 890A                   M           BT      POS_ENDMYUTTIM_STOP
 7266                             983     
 7267 0000034C D10A               984             MOV.L   #_UP_HOLD_FLG,R1        ;上昇ﾎｰﾙﾄﾞ状態(自動可能状態):ﾓｰｼｮﾝﾓｰﾄﾞでこの信号は
                                          ON/OFFする
 7268 0000034E 6011               985             MOV.W   @R1,R0                  ;
 7269 00000350 C802               986             TST     #BIT1,R0                ;
 7270                             987             TST_BIT_OF POS_ENDMYUTTIM_STOP  ;[見る必要ないのだが]
 7271 00000352 8906                   M           BT      POS_ENDMYUTTIM_STOP
 7272                             988     
 7273 00000354 D109               989             MOV.L   #_FR_CYL_MASK_FLG,R1    ;//上昇無効中"1"
 7274 00000356 6011               990             MOV.W   @R1,R0                  ;
 7275 00000358 C803               991             TST     #(BIT1+BIT0),R0         ;
 7276                             992             TST_BIT_OF POS_ENDMYUTTIM_STOP  ;
 7277 0000035A 8902                   M           BT      POS_ENDMYUTTIM_STOP
 7278                             993     
 7279                             994     
 7280                             995     ;       ---     ﾐｭｰﾃﾝｸﾞする     ---
 7281 0000035C                    996     POS_ENDMYUTTIM_KEEP:
 7282 0000035C 6023               997             MOV     R2,R0                   ;
 7283 0000035E 6233               998             MOV     R3,R2                   ;
 7284 00000360 6303               999             MOV     R0,R3                   ;
 7285                            1000     
 7286                            1001     ;       ---     ﾐｭｰﾃﾝｸﾞじゃない ---
 7287 00000362                   1002     POS_ENDMYUTTIM_STOP
 7288 00000362 D107              1003             MOV.L   #_POS_END_MYUTIG_STOPTIM,R1     ;//終了後この時間であれば動力遮断する時間
 7289 00000364 2121              1004             MOV.W   R2,@R1                          ;
 7290 00000366 D107              1005             MOV.L   #_POS_END_MYUTIG_KEEPTIM,R1     ;//終了後上昇無効を継続する時間
 7291 00000368 2131              1006             MOV.W   R3,@R1                          ;
 7292                            1007     
 7293                            1008     
 7294                            1009     
 7295                            1010             SUB_END
 7296                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7297 0000036A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7298                            1011             M_RTS
 7299 0000036C 000B                   M           RTS                             ;RTSの後ろの
 7300 0000036E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7301                            1012     
 7302                            1013     ;       ***********************************
 7303                            1014     ;       ***                             ***
 7304                            1015     ;       ***     2015-07-14              ***
 7305                            1016     ;       ***                             ***
 7306                            1017     ;       ***     一応ｸﾘｱしておく         ***
 7307                            1018     ;       ***********************************
 7308                                     ***** BEGIN-POOL *****
 7309 00000370 00000000                   DATA FOR SOURCE-LINE 974
 7310 00000374 00000000                   DATA FOR SOURCE-LINE 979
 7311 00000378 00000000                   DATA FOR SOURCE-LINE 984
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    24
PROGRAM NAME =

 7312 0000037C 00000000                   DATA FOR SOURCE-LINE 989
 7313 00000380 00000000                   DATA FOR SOURCE-LINE 1003
 7314 00000384 00000000                   DATA FOR SOURCE-LINE 1005
 7315                                     ***** END-POOL *****
 7316 00000388                   1019     _POS_END_MYUTIG_TIMER_CLR
 7317                            1020             SUB_START
 7318 00000388 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7319                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7320 0000038A 200A              1021             XOR     R0,R0
 7321 0000038C D104              1022             MOV.L   #_POS_END_MYUTIG_STOPTIM,R1;    //終了後この時間であれば動力遮断する時間
 7322 0000038E 2101              1023             MOV.W   R0,@R1
 7323                            1024     
 7324 00000390 D104              1025             MOV.L   #_POS_END_MYUTIG_KEEPTIM,R1;    //終了後上昇無効を継続する時間
 7325 00000392 2101              1026             MOV.W   R0,@R1
 7326                            1027     
 7327 00000394 D104              1028             MOV.L   #_POS_END_WAIT_TIM,R1;          //[位置決め完了遅延時間==動力遮断を伸ばす
                                          時間]
 7328 00000396 2101              1029             MOV.W   R0,@R1
 7329                            1030             SUB_END
 7330                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7331 00000398 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7332                            1031             M_RTS
 7333 0000039A 000B                   M           RTS                             ;RTSの後ろの
 7334 0000039C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7335                            1032     
 7336                            1033     
 7337                            1034     ;;;LENGTH_ADD[2]=LINK_SV_OBJ_ABSPLS[2]-LINK_RL_OBJ_ABSPLS[2];//abs停止目標位置-ﾘｱﾙﾀｲﾑ目標
                                          絶対位置
 7338                            1035     ;       ***********************************
 7339                            1036     ;       ***                             ***
 7340                            1037     ;       ***     ﾓｰﾄﾞに関わるｻﾌﾞﾙｰﾁﾝ     ***
 7341                            1038     ;       ***                             ***
 7342                            1039     ;       ***********************************
 7343                            1040     
 7344                            1041     
 7345                            1042     
 7346                            1043     ;;;;;;@@@@@@@@@@
 7347                            1044     
 7348                            1045     ;       ***********************************
 7349                            1046     ;       ***                             ***
 7350                            1047     ;       ***     上死点復帰              ***
 7351                            1048     ;       ***     速度設定                ***
 7352                            1049     ;       ***                             ***
 7353                            1050     ;       ***********************************
 7354                                     ***** BEGIN-POOL *****
 7355 0000039E 0000                       ALIGNMENT CODE
 7356 000003A0 00000000                   DATA FOR SOURCE-LINE 1022
 7357 000003A4 00000000                   DATA FOR SOURCE-LINE 1025
 7358 000003A8 00000000                   DATA FOR SOURCE-LINE 1028
 7359                                     ***** END-POOL *****
 7360 000003AC                   1051             .ALIGN  4                               ;
 7361 000003AC                   1052     _DNDUPS_SPD_SET:
 7362                            1053             SUB_START
 7363 000003AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7364                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7365 000003AE D103              1054             MOV.L   #_SET1_UPAREA_SPD1,R1   ;
 7366 000003B0 6212              1055             MOV.L   @R1,R2                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    25
PROGRAM NAME =

 7367 000003B2 D103              1056             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1 ;//目標速度
 7368 000003B4 2122              1057             MOV.L   R2,@R1                  ;
 7369                            1058             SUB_END
 7370                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7371 000003B6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7372                            1059             M_RTS
 7373 000003B8 000B                   M           RTS                             ;RTSの後ろの
 7374 000003BA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7375                            1060     
 7376                                     ***** BEGIN-POOL *****
 7377 000003BC 00000000                   DATA FOR SOURCE-LINE 1054
 7378 000003C0 00000000                   DATA FOR SOURCE-LINE 1056
 7379                                     ***** END-POOL *****
 7380 000003C4                   1061             .ALIGN  4                               ;
 7381 000003C4                   1062     _DNDUPS_CLEEP_SPD_SET:
 7382                            1063             SUB_START
 7383 000003C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7384                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7385 000003C6 D103              1064             MOV.L   #_SET1_UPCLEEP_SPD,R1   ;
 7386 000003C8 6212              1065             MOV.L   @R1,R2                  ;
 7387 000003CA D103              1066             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1 ;//目標速度
 7388 000003CC 2122              1067             MOV.L   R2,@R1                  ;
 7389                            1068             SUB_END
 7390                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7391 000003CE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7392                            1069             M_RTS
 7393 000003D0 000B                   M           RTS                             ;RTSの後ろの
 7394 000003D2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7395                            1070     
 7396                            1071     
 7397                            1072     
 7398                            1073     ;       ***********************************
 7399                            1074     ;       ***                             ***
 7400                            1075     ;       ***     2006-07-28              ***
 7401                            1076     ;       ***                             ***
 7402                            1077     ;       ***********************************
 7403                                     ***** BEGIN-POOL *****
 7404 000003D4 00000000                   DATA FOR SOURCE-LINE 1064
 7405 000003D8 00000000                   DATA FOR SOURCE-LINE 1066
 7406                                     ***** END-POOL *****
 7407 000003DC                   1078             .ALIGN  4                               ;
 7408 000003DC                   1079     _MN_DNDINC_START:
 7409                            1080             SUB_START
 7410 000003DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7411                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7412 000003DE D104              1081             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
 7413 000003E0 6011              1082             MOV.W   @R1,R0                          ;
 7414 000003E2 2008              1083             TST     R0,R0                           ;
 7415                            1084             TST_BIT_OF DNDINC_ST_100                ;
 7416 000003E4 8908                   M           BT      DNDINC_ST_100
 7417                            1085     
 7418                            1086             FAR_JSR #_MN_TEP_START,R0
 7419 000003E6 D003                   M           MOV.L   #_MN_TEP_START,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7420 000003E8 400B                   M           JSR     @R0                     ;
 7421 000003EA 0009                   M           NOP                                     ;
 7422                            1087             M_BRA   DNDINC_ST_END                           ;
 7423 000003EC A071                   M           BRA     DNDINC_ST_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    26
PROGRAM NAME =

 7424 000003EE 0009                   M           NOP
 7425                            1088     
 7426                                     ***** BEGIN-POOL *****
 7427 000003F0 00000000                   DATA FOR SOURCE-LINE 1081
 7428 000003F4 00000000                   DATA FOR SOURCE-LINE 1086
 7429                                     ***** END-POOL *****
 7430 000003F8                   1089     DNDINC_ST_100:
 7431 000003F8 D10B              1090             MOV.L   #_CPOS_DND_STOP_SW,R1           ;
 7432 000003FA 6011              1091             MOV.W   @R1,R0                          ;
 7433 000003FC C803              1092             TST     #(BIT1+BIT0),R0                 ;停止有り?
 7434                            1093             TST_BIT_OF DNDINC_ST_520                ;
 7435 000003FE 8941                   M           BT      DNDINC_ST_520
 7436                            1094     
 7437 00000400 D10A              1095             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
 7438 00000402 6011              1096             MOV.W   @R1,R0                                  ;
 7439 00000404 8802              1097             CMP/EQ  #_DMATH_REVRSE,R0                       ;DRIVE MATH 反転
 7440 00000406 8B27              1098             BF      DNDINC_ST_350                           ;
 7441                            1099     
 7442                            1100     ;;;[2021-11-15];        ====== 反転/段取寸動===
 7443                            1101     ;;;[2021-11-15] FAR_JSR #_DND_LNK_STEP_CHECK1,R0                ;//<どの工程から開始するか
                                          > CHEAK
 7444                            1102     ;;;[2021-11-15] FAR_JSR #_DND_LNKPLS_OBJMAK1,R1                 ;ｽﾃｯﾌﾟに応じて待機点1/目標
                                          位置/待機点2 _POS_DRV_DIRECT
 7445                            1103     ;;;[2021-11-15] M_BRA   DNDINC_ST_380                           ;
 7446                            1104     ;       ====== [2021-11-15]停止付き===
 7447                            1105     ;       ====== 反転/段取寸動===
 7448                            1106             FAR_JSR #_DND_NEG_STOP_SVCHK,R0                 ;
 7449 00000408 D009                   M           MOV.L   #_DND_NEG_STOP_SVCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7450 0000040A 400B                   M           JSR     @R0                     ;
 7451 0000040C 0009                   M           NOP                                     ;
 7452                            1107             FAR_JSR #_DND_NEG_START_FLG_CLR,R0              ;
 7453 0000040E D009                   M           MOV.L   #_DND_NEG_START_FLG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7454 00000410 400B                   M           JSR     @R0                     ;
 7455 00000412 0009                   M           NOP                                     ;
 7456                            1108     
 7457                            1109     ;       ------- 2021-11-15ADD[[]]]
 7458 00000414 D108              1110             MOV.L   #_NEG_DND_STOP_USE_F,R1                 ;       //上死点(0)<停止<170の時 O
                                          n
 7459 00000416 6010              1111             MOV.B   @R1,R0                                                  ;
 7460 00000418 2008              1112             TST             R0,R0                                                   ;
 7461                            1113             TST_BIT_ON DNDINC_ST_250                                ;
 7462 0000041A 8B11                   M           BF      DNDINC_ST_250
 7463                            1114             FAR_JSR #_DND_LNK_STEP_CHECK0,R0                ;
 7464 0000041C D007                   M           MOV.L   #_DND_LNK_STEP_CHECK0,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7465 0000041E 400B                   M           JSR     @R0                     ;
 7466 00000420 0009                   M           NOP                                     ;
 7467                            1115             M_BRA   DNDINC_ST_290                                   ;
 7468 00000422 A010                   M           BRA     DNDINC_ST_290
 7469 00000424 0009                   M           NOP
 7470                                     ***** BEGIN-POOL *****
 7471 00000426 0000                       ALIGNMENT CODE
 7472 00000428 00000000                   DATA FOR SOURCE-LINE 1090
 7473 0000042C 00000000                   DATA FOR SOURCE-LINE 1095
 7474 00000430 00000000                   DATA FOR SOURCE-LINE 1106
 7475 00000434 00000000                   DATA FOR SOURCE-LINE 1107
 7476 00000438 00000000                   DATA FOR SOURCE-LINE 1110
 7477 0000043C 00000000                   DATA FOR SOURCE-LINE 1114
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    27
PROGRAM NAME =

 7478                                     ***** END-POOL *****
 7479 00000440                   1116     DNDINC_ST_250:
 7480                            1117             FAR_JSR #_DND_LNK_STEP_CHECK2,R0                ;//<どの工程から開始するか> CHEAK
 7481 00000440 D003                   M           MOV.L   #_DND_LNK_STEP_CHECK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7482 00000442 400B                   M           JSR     @R0                     ;
 7483 00000444 0009                   M           NOP                                     ;
 7484 00000446                   1118     DNDINC_ST_290:
 7485                            1119             FAR_JSR #_DND_LNKPLS_OBJMAK1,R1                 ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待
                                          機点2 _POS_DRV_DIRECT
 7486 00000446 D103                   M           MOV.L   #_DND_LNKPLS_OBJMAK1,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7487 00000448 410B                   M           JSR     @R1                     ;
 7488 0000044A 0009                   M           NOP                                     ;
 7489                            1120             M_BRA   DNDINC_ST_380                           ;
 7490 0000044C A00D                   M           BRA     DNDINC_ST_380
 7491 0000044E 0009                   M           NOP
 7492                            1121     
 7493                            1122     
 7494                                     ***** BEGIN-POOL *****
 7495 00000450 00000000                   DATA FOR SOURCE-LINE 1117
 7496 00000454 00000000                   DATA FOR SOURCE-LINE 1119
 7497                                     ***** END-POOL *****
 7498 00000458                   1123     DNDINC_ST_350:
 7499                            1124     ;       ====== 回転/段取寸動===
 7500                            1125     ;       +/-MAX位置を目標とする                                  ;
 7501                            1126     ;       === 方向判別/速度設定/目標位置:STARTは割込でかける      ;
 7502                            1127             FAR_JSR #_DNDINC_DIRECT_MAKE1,R1                        ;ANS R0(=POS_RDV_DIRECT)
 7503 00000458 D106                   M           MOV.L   #_DNDINC_DIRECT_MAKE1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7504 0000045A 410B                   M           JSR     @R1                     ;
 7505 0000045C 0009                   M           NOP                                     ;
 7506                            1128             FAR_JSR #_DNDINC_STEP_MAKE,R1                           ;
 7507 0000045E D106                   M           MOV.L   #_DNDINC_STEP_MAKE,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7508 00000460 410B                   M           JSR     @R1                     ;
 7509 00000462 0009                   M           NOP                                     ;
 7510                            1129             FAR_JSR #_DNDINC_MAKE_OBJPOS,R1                         ;
 7511 00000464 D105                   M           MOV.L   #_DNDINC_MAKE_OBJPOS,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7512 00000466 410B                   M           JSR     @R1                     ;
 7513 00000468 0009                   M           NOP                                     ;
 7514                            1130     
 7515 0000046A                   1131     DNDINC_ST_380:
 7516                            1132             FAR_JSR #_DNDINC_SPD_SET,R4                             ;
 7517 0000046A D405                   M           MOV.L   #_DNDINC_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7518 0000046C 440B                   M           JSR     @R4                     ;
 7519 0000046E 0009                   M           NOP                                     ;
 7520                            1133             M_BRA   DNDINC_ST_END                                   ;
 7521 00000470 A02F                   M           BRA     DNDINC_ST_END
 7522 00000472 0009                   M           NOP
 7523                            1134     
 7524                            1135     
 7525                            1136     ;       -------- 今までのソフトをそのまま流す-------------
 7526                                     ***** BEGIN-POOL *****
 7527 00000474 00000000                   DATA FOR SOURCE-LINE 1127
 7528 00000478 00000000                   DATA FOR SOURCE-LINE 1128
 7529 0000047C 00000000                   DATA FOR SOURCE-LINE 1129
 7530 00000480 00000000                   DATA FOR SOURCE-LINE 1132
 7531                                     ***** END-POOL *****
 7532 00000484                   1137     DNDINC_ST_520:
 7533 00000484 D108              1138             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    28
PROGRAM NAME =

 7534 00000486 6011              1139             MOV.W   @R1,R0                          ;
 7535 00000488 8802              1140             CMP/EQ  #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
 7536 0000048A 8B17              1141             BF      DNDINC_ST_550           ;
 7537                            1142     
 7538                            1143     ;       ====== 反転/段取寸動===
 7539                            1144     ;;;[2021-11-15] FAR_JSR #_DND_LNK_STEP_CHECK1,R0        ;//<どの工程から開始するか> CHEAK
 7540                            1145     ;;;[2021-11-15] FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待
                                          機点2 _POS_DRV_DIRECT
 7541                            1146             FAR_JSR #_DND_NEG_STOP_SVCHK,R0                 ;
 7542 0000048C D007                   M           MOV.L   #_DND_NEG_STOP_SVCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7543 0000048E 400B                   M           JSR     @R0                     ;
 7544 00000490 0009                   M           NOP                                     ;
 7545                            1147             FAR_JSR #_DND_NEG_START_FLG_CLR,R0
 7546 00000492 D007                   M           MOV.L   #_DND_NEG_START_FLG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7547 00000494 400B                   M           JSR     @R0                     ;
 7548 00000496 0009                   M           NOP                                     ;
 7549                            1148             FAR_JSR #_DND_LNK_STEP_CHECK0,R0        ;//<どの工程から開始するか> CHEAK
 7550 00000498 D006                   M           MOV.L   #_DND_LNK_STEP_CHECK0,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7551 0000049A 400B                   M           JSR     @R0                     ;
 7552 0000049C 0009                   M           NOP                                     ;
 7553                            1149             FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待機点2 _PO
                                          S_DRV_DIRECT
 7554 0000049E D106                   M           MOV.L   #_DND_LNKPLS_OBJMAK1,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7555 000004A0 410B                   M           JSR     @R1                     ;
 7556 000004A2 0009                   M           NOP                                     ;
 7557                            1150             M_BRA   DNDINC_ST_580           ;
 7558 000004A4 A012                   M           BRA     DNDINC_ST_580
 7559 000004A6 0009                   M           NOP
 7560                            1151     
 7561                                     ***** BEGIN-POOL *****
 7562 000004A8 00000000                   DATA FOR SOURCE-LINE 1138
 7563 000004AC 00000000                   DATA FOR SOURCE-LINE 1146
 7564 000004B0 00000000                   DATA FOR SOURCE-LINE 1147
 7565 000004B4 00000000                   DATA FOR SOURCE-LINE 1148
 7566 000004B8 00000000                   DATA FOR SOURCE-LINE 1149
 7567                                     ***** END-POOL *****
 7568 000004BC                   1152     DNDINC_ST_550:
 7569                            1153     ;       ====== 回転/段取寸動===
 7570                            1154     ;       +/-MAX位置を目標とする                                  ;
 7571                            1155     ;       === 方向判別/速度設定/目標位置:STARTは割込でかける      ;
 7572                            1156             FAR_JSR #_DNDINC_DIRECT_MAKE1,R1                        ;ANS R0(=POS_RDV_DIRECT)
 7573 000004BC D106                   M           MOV.L   #_DNDINC_DIRECT_MAKE1,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7574 000004BE 410B                   M           JSR     @R1                     ;
 7575 000004C0 0009                   M           NOP                                     ;
 7576 000004C2 D106              1157             MOV.L   #_POS_DRV_DIRECT,R1                             ;起動時(SV-LEVEL)
 7577 000004C4 6011              1158             MOV.W   @R1,R0
 7578                            1159             FAR_JSR #_LINK_P_M_MAX,R4                               ;Input R0:BIT0 DIRECT
 7579 000004C6 D406                   M           MOV.L   #_LINK_P_M_MAX,R4               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7580 000004C8 440B                   M           JSR     @R4                     ;
 7581 000004CA 0009                   M           NOP                                     ;
 7582 000004CC                   1160     DNDINC_ST_580:
 7583                            1161             FAR_JSR #_DNDINC_SPD_SET,R4                             ;
 7584 000004CC D405                   M           MOV.L   #_DNDINC_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7585 000004CE 440B                   M           JSR     @R4                     ;
 7586 000004D0 0009                   M           NOP                                     ;
 7587 000004D2                   1162     DNDINC_ST_END:
 7588                            1163             SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    29
PROGRAM NAME =

 7589                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7590 000004D2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7591                            1164             M_RTS
 7592 000004D4 000B                   M           RTS                             ;RTSの後ろの
 7593 000004D6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7594                            1165     
 7595                            1166     
 7596                            1167     
 7597                            1168     ;       ***********************************
 7598                            1169     ;       ***                             ***
 7599                            1170     ;       ***     段取寸動(回転仕様)      ***
 7600                            1171     ;       ***     方向                    ***
 7601                            1172     ;       ***     目標位置abs             ***
 7602                            1173     ;       ***                             ***
 7603                            1174     ;       ***********************************
 7604                            1175     ;       ANS R0          BIT0
 7605                            1176     ;                       BIT1=1:EQU ｲｺｰﾙ時は逆転から始める
 7606                            1177     ;       ｼｰｹﾝｽﾋﾞｯﾄから決定
 7607                            1178     ;       (増加方向ならMAX)
 7608                            1179     ;       (減少方向ならMIN)
 7609                            1180     ;
 7610                                     ***** BEGIN-POOL *****
 7611 000004D8 00000000                   DATA FOR SOURCE-LINE 1156
 7612 000004DC 00000000                   DATA FOR SOURCE-LINE 1157
 7613 000004E0 00000000                   DATA FOR SOURCE-LINE 1159
 7614 000004E4 00000000                   DATA FOR SOURCE-LINE 1161
 7615                                     ***** END-POOL *****
 7616 000004E8                   1181             .ALIGN  4                               ;
 7617 000004E8                   1182     _DNDINC_DIRECT_MAKE1:
 7618                            1183             SUB_START
 7619 000004E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7620                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7621 000004EA D006              1184             MOV.L   #_CTL_ENC360,R0                 ;//360.0度(いまのところ不要)
 7622 000004EC 6101              1185             MOV.W   @R0,R1                          ;
 7623 000004EE D406              1186             MOV.L   #_STR_ENC3600_DIG,R4            ;//運転開始時の360.0角度
 7624 000004F0 2411              1187             MOV.W   R1,@R4                          ;
 7625                            1188     
 7626 000004F2 D106              1189             MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
 7627 000004F4 6011              1190             MOV.W   @R1,R0                          ;
 7628 000004F6 C901              1191             AND     #BIT0,R0                        ;(BIT0=0正転　BIT0=1逆転)
 7629                            1192     
 7630 000004F8 D105              1193             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 7631 000004FA 2101              1194             MOV.W   R0,@R1
 7632                            1195             SUB_END
 7633                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7634 000004FC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7635                            1196             M_RTS
 7636 000004FE 000B                   M           RTS                             ;RTSの後ろの
 7637 00000500 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7638                            1197     
 7639                            1198     ;       ***********************************
 7640                            1199     ;       ***                             ***
 7641                            1200     ;       ***     段取寸動(反転仕様)      ***
 7642                            1201     ;       ***     方向                    ***
 7643                            1202     ;       ***     目標位置abs             ***
 7644                            1203     ;       ***                             ***
 7645                            1204     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    30
PROGRAM NAME =

 7646                            1205     ;       <1>EXQ,EMG後の運転なら180を通らない方向待機点に向かう方向で,
 7647                            1206     ;          待機点を目指して運転開始
 7648                            1207     ;          待機点まで辿りついたら、一旦停止する。<FLG=0-->1>
 7649                            1208     ;
 7650                            1209     ;       <2>FLG=1
 7651                            1210     ;          下降から開始する.下限位置を目指す
 7652                            1211     ;          下限位置まで辿りついたら、一旦停止する。<FLG=1-->2>
 7653                            1212     ;
 7654                            1213     ;       <3>FLG=2
 7655                            1214     ;          上昇から開始する.待機位置を目指す
 7656                            1215     ;          待機位置まで辿りついたら、一旦停止する。<FLG=2-->1>
 7657                            1216     ;
 7658                            1217     ;
 7659                            1218     ;
 7660                            1219     ;       *******************************************
 7661                            1220     ;       ***                                     ***
 7662                            1221     ;       ***     運転釦による起動                ***
 7663                            1222     ;       ***     INT_DND_NEG_STEPを作成          ***
 7664                            1223     ;       ***                                     ***
 7665                            1224     ;       *******************************************
 7666                                     ***** BEGIN-POOL *****
 7667 00000502 0000                       ALIGNMENT CODE
 7668 00000504 00000000                   DATA FOR SOURCE-LINE 1184
 7669 00000508 00000000                   DATA FOR SOURCE-LINE 1186
 7670 0000050C 00000000                   DATA FOR SOURCE-LINE 1189
 7671 00000510 00000000                   DATA FOR SOURCE-LINE 1193
 7672                                     ***** END-POOL *****
 7673 00000514                   1225             .ALIGN  4                               ;
 7674                            1226     ;;2021-11-15_DND_LNK_STEP_CHECK1:
 7675                            1227     ;;2021-11-15    SUB_START
 7676                            1228     ;;2021-11-15;   ------- 2007-01-23-----
 7677                            1229     ;;2021-11-15    MOV.L   #_CB_SEQ_CB_SEL342,R1                           ;342
 7678                            1230     ;;2021-11-15    MOV.W   @R1,R0                                          ;
 7679                            1231     ;;2021-11-15    TST     #BIT3,R0                                        ;342.3
 7680                            1232     ;;2021-11-15    TST_BIT_OF DND_LNK_STEP_CK1_100                         ;OFF(往復運転　今
                                          までの)
 7681                            1233     ;;2021-11-15
 7682                            1234     ;;2021-11-15    MOV     #1,R2                                           ;
 7683                            1235     ;;2021-11-15    MOV.L   #_CB_SEQ_CB_SEL341,R1                           ;341.0=0 上昇
 7684                            1236     ;;2021-11-15    MOV.W   @R1,R0                                          ;
 7685                            1237     ;;2021-11-15    TST     #BIT0,R0                                        ;
 7686                            1238     ;;2021-11-15    TST_BIT_OF DND_LNK_STEP_CK1_050                         ;
 7687                            1239     ;;2021-11-15    MOV     #2,R2                                           ;
 7688                            1240     ;;2021-11-15DND_LNK_STEP_CK1_050:                                               ;
 7689                            1241     ;;2021-11-15    MOV.L   #_INT_DND_NEG_STEP,R1                           ;
 7690                            1242     ;;2021-11-15    MOV.W   R2,@R1                                          ;
 7691                            1243     ;;2021-11-15
 7692                            1244     ;;2021-11-15DND_LNK_STEP_CK1_100:
 7693                            1245     ;;2021-11-15;   ---------------------------
 7694                            1246     ;;2021-11-15
 7695                            1247     ;;2021-11-15    SUB_END
 7696                            1248     ;;2021-11-15    M_RTS
 7697                            1249     ;       ----------2021-11-15 ------------
 7698                            1250     ;       --------------------------------------
 7699                            1251     ;       ----------- 停止なし 起動       ----------
 7700                            1252     ;       --------------------------------------
 7701 00000514                   1253     _DND_LNK_STEP_CHECK0:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    31
PROGRAM NAME =

 7702                            1254             SUB_START
 7703 00000514 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7704                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7705                            1255     
 7706                            1256     ;       ---------------- 2007-01-23----------------------------------
 7707 00000516 D106              1257             MOV.L   #_CB_SEQ_CB_SEL342,R1                                   ;342
 7708 00000518 6011              1258             MOV.W   @R1,R0                                                                  ;
 7709 0000051A C808              1259             TST             #BIT3,R0
                                          ;342.3
 7710                            1260             TST_BIT_OF DND_LNK_STEP_CHK0_200                                ;OFF(往復)
 7711 0000051C 890C                   M           BT      DND_LNK_STEP_CHK0_200
 7712                            1261     
 7713                            1262     ;       ---------------- 下降運転／上昇-----------------------
 7714 0000051E E204              1263             MOV.B   #4,R2                                                                   ;
 7715 00000520 D104              1264             MOV.L   #_CB_SEQ_CB_SEL341,R1                                   ;341.0=0 下降(正回
                                          転)
 7716 00000522 6011              1265             MOV.W   @R1,R0                                                                  ;
 7717 00000524 C801              1266             TST             #BIT0,R0
                                          ;
 7718                            1267             TST_BIT_ON DND_LNK_STEP_CHK0_100                                ;341.0=1上昇(逆転)
                                           341.0=0下降(正)
 7719 00000526 8B00                   M           BF      DND_LNK_STEP_CHK0_100
 7720 00000528 E202              1268             MOV.B   #2,R2                                                                   ;2
                                          :下降
 7721 0000052A                   1269     DND_LNK_STEP_CHK0_100:                                                          ;
 7722 0000052A 6023              1270             MOV             R2,R0
                                          ;
 7723                            1271             M_BRA   DND_LNK_STEP_CHK0_450                                   ;
 7724 0000052C A00D                   M           BRA     DND_LNK_STEP_CHK0_450
 7725 0000052E 0009                   M           NOP
 7726                            1272     
 7727                            1273     
 7728                            1274     ;       ---------------- 往復運転-----------------------
 7729                                     ***** BEGIN-POOL *****
 7730 00000530 00000000                   DATA FOR SOURCE-LINE 1257
 7731 00000534 00000000                   DATA FOR SOURCE-LINE 1264
 7732                                     ***** END-POOL *****
 7733 00000538                   1275     DND_LNK_STEP_CHK0_200:                                                          ;
 7734 00000538 D502              1276             MOV.L   #_INT_DND_NEG_STEP,R5                                   ;
 7735 0000053A 6051              1277             MOV.W   @R5,R0                                                                  ;
 7736 0000053C 2008              1278             TST             R0,R0
                                          ;
 7737                            1279             TST_BIT_OF DND_LNK_STEP_CHK0_400                                ;
 7738 0000053E 8903                   M           BT      DND_LNK_STEP_CHK0_400
 7739                            1280             M_BRA   DND_LNK_STEP_CHK0_END                                   ;
 7740 00000540 A005                   M           BRA     DND_LNK_STEP_CHK0_END
 7741 00000542 0009                   M           NOP
 7742                            1281     
 7743                                     ***** BEGIN-POOL *****
 7744 00000544 00000000                   DATA FOR SOURCE-LINE 1276
 7745                                     ***** END-POOL *****
 7746 00000548                   1282     DND_LNK_STEP_CHK0_400:                                                          ;
 7747 00000548 E004              1283             MOV.B   #4,R0                                                                   ;
                                          上昇
 7748                            1284     
 7749 0000054A                   1285     DND_LNK_STEP_CHK0_450:                                                          ;
 7750 0000054A D502              1286             MOV.L   #_INT_DND_NEG_STEP,R5                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    32
PROGRAM NAME =

 7751 0000054C 2501              1287             MOV.W   R0,@R5                                                                  ;
 7752                            1288     
 7753 0000054E                   1289     DND_LNK_STEP_CHK0_END:                                                          ;
 7754                            1290     
 7755                            1291             SUB_END
 7756                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7757 0000054E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7758                            1292             M_RTS
 7759 00000550 000B                   M           RTS                             ;RTSの後ろの
 7760 00000552 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7761                            1293     
 7762                            1294     ;       ---------------------------------------
 7763                            1295     ;       ----                                                            ---
 7764                            1296     ;       ---                     停止なし工程変更                ---
 7765                            1297     ;       ----                                                            ---
 7766                            1298     ;       ---------------------------------------
 7767                                     ***** BEGIN-POOL *****
 7768 00000554 00000000                   DATA FOR SOURCE-LINE 1286
 7769                                     ***** END-POOL *****
 7770 00000558                   1299     _DND_NEG_LNK_STEP_CHANGE0:
 7771                            1300             SUB_START
 7772 00000558 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7773                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7774                            1301     
 7775                            1302     
 7776                            1303     ;       ---------------- 2007-01-23----------------------------------
 7777 0000055A D106              1304             MOV.L   #_CB_SEQ_CB_SEL342,R1                                   ;342
 7778 0000055C 6011              1305             MOV.W   @R1,R0                                                                  ;
 7779 0000055E C808              1306             TST             #BIT3,R0
                                          ;342.3
 7780                            1307             TST_BIT_OF DND_LNK_STEP_CHG0_400                                ;
 7781 00000560 890C                   M           BT      DND_LNK_STEP_CHG0_400
 7782                            1308     
 7783                            1309     
 7784 00000562 E204              1310             MOV.B   #4,R2                                                                   ;
 7785 00000564 D104              1311             MOV.L   #_CB_SEQ_CB_SEL341,R1                                   ;341.0=0 下降(正回
                                          転)
 7786 00000566 6011              1312             MOV.W   @R1,R0                                                                  ;
 7787 00000568 C801              1313             TST             #BIT0,R0
                                          ;
 7788                            1314             TST_BIT_ON DND_LNK_STEP_CHG0_100                                ;341.0=1上昇(逆転)
                                           341.0=0下降(正)
 7789 0000056A 8B00                   M           BF      DND_LNK_STEP_CHG0_100
 7790 0000056C E202              1315             MOV.B   #2,R2                                                                   ;2
                                          :下降
 7791 0000056E                   1316     DND_LNK_STEP_CHG0_100:                                                          ;
 7792 0000056E 6023              1317             MOV             R2,R0
                                          ;
 7793                            1318             M_BRA   DND_LNK_STEP_CHG0_425                                   ;固定
 7794 00000570 A00F                   M           BRA     DND_LNK_STEP_CHG0_425
 7795 00000572 0009                   M           NOP
 7796                            1319     
 7797                            1320     
 7798                                     ***** BEGIN-POOL *****
 7799 00000574 00000000                   DATA FOR SOURCE-LINE 1304
 7800 00000578 00000000                   DATA FOR SOURCE-LINE 1311
 7801                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    33
PROGRAM NAME =

 7802 0000057C                   1321     DND_LNK_STEP_CHG0_400:                                                  ;
 7803                            1322     
 7804 0000057C D503              1323             MOV.L   #_INT_DND_NEG_STEP,R5                           ;
 7805 0000057E 6051              1324             MOV.W   @R5,R0                                                          ;
 7806 00000580 8804              1325             CMP/EQ  #4,R0                                                           ;4:上昇
 7807 00000582 8B05              1326             BF              DND_LNK_STEP_CHG0_423                           ;
 7808 00000584 E002              1327             MOV.B   #2,R0                                                           ;2:下降
 7809                            1328             M_BRA   DND_LNK_STEP_CHG0_425                           ;
 7810 00000586 A004                   M           BRA     DND_LNK_STEP_CHG0_425
 7811 00000588 0009                   M           NOP
 7812                                     ***** BEGIN-POOL *****
 7813 0000058A 0000                       ALIGNMENT CODE
 7814 0000058C 00000000                   DATA FOR SOURCE-LINE 1323
 7815                                     ***** END-POOL *****
 7816 00000590                   1329     DND_LNK_STEP_CHG0_423:                                                  ;
 7817 00000590 E004              1330             MOV.B   #4,R0                                                           ;上昇
 7818                            1331     
 7819 00000592                   1332     DND_LNK_STEP_CHG0_425:                                                  ;
 7820                            1333     
 7821 00000592 D502              1334             MOV.L   #_INT_DND_NEG_STEP,R5                           ;
 7822 00000594 2501              1335             MOV.W   R0,@R5                                                          ;
 7823                            1336     
 7824                            1337     
 7825 00000596                   1338     DND_LNK_STEP_CHG0_END:                                                  ;
 7826                            1339             SUB_END
 7827                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7828 00000596 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7829                            1340             M_RTS
 7830 00000598 000B                   M           RTS                             ;RTSの後ろの
 7831 0000059A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7832                            1341     
 7833                            1342     
 7834                            1343     
 7835                            1344     ;       ---------------------------------------
 7836                            1345     ;       ---                                                                     ---
 7837                            1346     ;       ---                     停止有起動                              ---
 7838                            1347     ;       ---                                                                     ---
 7839                            1348     ;       ---------------------------------------
 7840                            1349     ;       AREA
 7841                            1350     ;               停止角度(100):101~270度　停止角度100
 7842                            1351     ;
 7843                            1352     
 7844                                     ***** BEGIN-POOL *****
 7845 0000059C 00000000                   DATA FOR SOURCE-LINE 1334
 7846                                     ***** END-POOL *****
 7847 000005A0                   1353     _DND_LNK_STEP_CHECK2:
 7848                            1354             SUB_START
 7849 000005A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7850                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7851                            1355     
 7852                            1356     
 7853                            1357     
 7854                            1358     
 7855                            1359     
 7856                            1360     
 7857                            1361     ;       ---------------- 2007-01-23----------------------------------
 7858 000005A2 D108              1362             MOV.L   #_CB_SEQ_CB_SEL342,R1                                   ;342
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    34
PROGRAM NAME =

 7859 000005A4 6011              1363             MOV.W   @R1,R0                                                                  ;
 7860 000005A6 C808              1364             TST             #BIT3,R0
                                          ;342.3
 7861                            1365             TST_BIT_OF DND_LNK_STEP_CHK2_300                                ;OFF(往復)
 7862 000005A8 891E                   M           BT      DND_LNK_STEP_CHK2_300
 7863                            1366     
 7864                            1367     ;       ---------------- 下降運転／上昇-----------------------
 7865 000005AA D107              1368             MOV.L   #_CB_SEQ_CB_SEL341,R1                                   ;341.0=0 下降(正回
                                          転)
 7866 000005AC 6011              1369             MOV.W   @R1,R0                                                                  ;
 7867 000005AE C801              1370             TST             #BIT0,R0
                                          ;
 7868                            1371             TST_BIT_ON DND_LNK_STEP_CHK2_100                                ;341.0=1上昇(逆転)
                                           341.0=0下降(正)
 7869 000005B0 8B0E                   M           BF      DND_LNK_STEP_CHK2_100
 7870                            1372     
 7871                            1373     ;       --------- 下降から開始----------
 7872                            1374             FAR_JSR #_DND_NEG_AREA_JUDE1,R0                                 ;
 7873 000005B2 D006                   M           MOV.L   #_DND_NEG_AREA_JUDE1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7874 000005B4 400B                   M           JSR     @R0                     ;
 7875 000005B6 0009                   M           NOP                                     ;
 7876 000005B8 E202              1375             MOV.B   #2,R2                                                                   ;
                                          下限
 7877 000005BA 2008              1376             TST             R0,R0
                                          ;
 7878                            1377             TST_BIT_ON DND_LNK_STEP_CHK2_199                                ;ON:
 7879 000005BC 8B0F                   M           BF      DND_LNK_STEP_CHK2_199
 7880 000005BE E201              1378             MOV.B   #1,R2
 7881                            1379             M_BRA   DND_LNK_STEP_CHK2_199                                           ;ON:
 7882 000005C0 A00D                   M           BRA     DND_LNK_STEP_CHK2_199
 7883 000005C2 0009                   M           NOP
 7884                            1380     
 7885                            1381     ;       --------- 上昇から開始----------
 7886                                     ***** BEGIN-POOL *****
 7887 000005C4 00000000                   DATA FOR SOURCE-LINE 1362
 7888 000005C8 00000000                   DATA FOR SOURCE-LINE 1368
 7889 000005CC 00000000                   DATA FOR SOURCE-LINE 1374
 7890                                     ***** END-POOL *****
 7891 000005D0                   1382     DND_LNK_STEP_CHK2_100:                                                          ;
 7892                            1383             FAR_JSR #_DND_NEG_AREA_JUDE2,R0                                 ;
 7893 000005D0 D004                   M           MOV.L   #_DND_NEG_AREA_JUDE2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 7894 000005D2 400B                   M           JSR     @R0                     ;
 7895 000005D4 0009                   M           NOP                                     ;
 7896                            1384     
 7897 000005D6 E204              1385             MOV.B   #4,R2                                                                   ;0
                                          度
 7898 000005D8 2008              1386             TST             R0,R0
                                          ;
 7899                            1387             TST_BIT_OF DND_LNK_STEP_CHK2_199                                ;OFF
 7900 000005DA 8900                   M           BT      DND_LNK_STEP_CHK2_199
 7901 000005DC E203              1388             MOV.B   #3,R2                                                                   ;
 7902 000005DE                   1389     DND_LNK_STEP_CHK2_199:                                                          ;
 7903 000005DE 6023              1390             MOV             R2,R0
                                          ;
 7904                            1391             M_BRA   DND_LNK_STEP_CHK2_450
 7905 000005E0 A00B                   M           BRA     DND_LNK_STEP_CHK2_450
 7906 000005E2 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    35
PROGRAM NAME =

 7907                            1392     
 7908                            1393     
 7909                            1394     ;       ---------------- 往復運転-----------------------
 7910                                     ***** BEGIN-POOL *****
 7911 000005E4 00000000                   DATA FOR SOURCE-LINE 1383
 7912                                     ***** END-POOL *****
 7913 000005E8                   1395     DND_LNK_STEP_CHK2_300:                                                          ;
 7914 000005E8 D502              1396             MOV.L   #_INT_DND_NEG_STEP,R5                                   ;
 7915 000005EA 6051              1397             MOV.W   @R5,R0                                                                  ;
 7916 000005EC 2008              1398             TST             R0,R0
                                          ;
 7917                            1399             TST_BIT_OF DND_LNK_STEP_CHK2_400                                ;
 7918 000005EE 8903                   M           BT      DND_LNK_STEP_CHK2_400
 7919                            1400             M_BRA   DND_LNK_STEP_CHK2_END                                   ;
 7920 000005F0 A005                   M           BRA     DND_LNK_STEP_CHK2_END
 7921 000005F2 0009                   M           NOP
 7922                            1401     
 7923                                     ***** BEGIN-POOL *****
 7924 000005F4 00000000                   DATA FOR SOURCE-LINE 1396
 7925                                     ***** END-POOL *****
 7926 000005F8                   1402     DND_LNK_STEP_CHK2_400:                                                          ;
 7927 000005F8 E004              1403             MOV.B   #4,R0                                                                   ;
                                          上昇
 7928                            1404     
 7929 000005FA                   1405     DND_LNK_STEP_CHK2_450:                                                          ;
 7930 000005FA D502              1406             MOV.L   #_INT_DND_NEG_STEP,R5                                   ;
 7931 000005FC 2501              1407             MOV.W   R0,@R5                                                                  ;
 7932                            1408     
 7933 000005FE                   1409     DND_LNK_STEP_CHK2_END:                                                          ;
 7934                            1410     
 7935                            1411             SUB_END
 7936                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 7937 000005FE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 7938                            1412             M_RTS
 7939 00000600 000B                   M           RTS                             ;RTSの後ろの
 7940 00000602 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 7941                            1413     
 7942                            1414     
 7943                            1415     
 7944                            1416     
 7945                            1417     ;       ---------------------------------------
 7946                            1418     ;       ----                                                            ---
 7947                            1419     ;       ---                     停止工程変更                    ---
 7948                            1420     ;       ----                                                            ---
 7949                            1421     ;       ---------------------------------------
 7950                            1422     ;       1->2
 7951                            1423     ;       3->4
 7952                                     ***** BEGIN-POOL *****
 7953 00000604 00000000                   DATA FOR SOURCE-LINE 1406
 7954                                     ***** END-POOL *****
 7955 00000608                   1424     _DND_NEG_LNK_STEP_CHANGE2:
 7956                            1425             SUB_START
 7957 00000608 4F22                   M           STS.L   PR,@-R15                ;[必要]
 7958                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 7959                            1426     
 7960                            1427     ;       ---------------- 2007-01-23----------------------------------
 7961 0000060A D103              1428             MOV.L   #_CB_SEQ_CB_SEL342,R1                                   ;342
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    36
PROGRAM NAME =

 7962 0000060C 6011              1429             MOV.W   @R1,R0                                                                  ;
 7963 0000060E C808              1430             TST             #BIT3,R0
                                          ;342.3
 7964                            1431             TST_BIT_OF DND_LNK_STEP_CHG2_300                                ;OFF(往復)
 7965 00000610 8904                   M           BT      DND_LNK_STEP_CHG2_300
 7966                            1432             M_BRA   DND_LNK_STEP_CHG2_END                                   ;
 7967 00000612 A014                   M           BRA     DND_LNK_STEP_CHG2_END
 7968 00000614 0009                   M           NOP
 7969                            1433     
 7970                            1434     ;       -----------------------------------------
 7971                                     ***** BEGIN-POOL *****
 7972 00000616 0000                       ALIGNMENT CODE
 7973 00000618 00000000                   DATA FOR SOURCE-LINE 1428
 7974                                     ***** END-POOL *****
 7975 0000061C                   1435     DND_LNK_STEP_CHG2_300:                                                  ;
 7976                            1436     
 7977 0000061C D505              1437             MOV.L   #_INT_DND_NEG_STEP,R5                           ;
 7978 0000061E 6051              1438             MOV.W   @R5,R0                                                          ;
 7979 00000620 2008              1439             TST             R0,R0                                                           ;
 7980                            1440             TST_BIT_OF DND_LNK_STEP_CHG2_END                        ;EXIT
 7981 00000622 890C                   M           BT      DND_LNK_STEP_CHG2_END
 7982                            1441     
 7983 00000624 9404              1442             MOV.W   #4,R4
 7984 00000626 3042              1443             CMP/HS  R4,R0                                                           ;4:上昇最
                                          終
 7985 00000628 8906              1444             BT              DND_LNK_STEP_CHG2_320                           ;
 7986                            1445     
 7987 0000062A 7001              1446             ADD             #1,R0                                                           ;
 7988                            1447             M_BRA   DND_LNK_STEP_CHG2_400                           ;
 7989 0000062C A005                   M           BRA     DND_LNK_STEP_CHG2_400
 7990 0000062E 0009                   M           NOP
 7991                            1448     
 7992                                     ***** BEGIN-POOL *****
 7993 00000630 0004                       DATA FOR SOURCE-LINE 1442
 7994 00000632 0000                       ALIGNMENT CODE
 7995 00000634 00000000                   DATA FOR SOURCE-LINE 1437
 7996                                     ***** END-POOL *****
 7997 00000638                   1449     DND_LNK_STEP_CHG2_320:                                                  ;
 7998 00000638 E001              1450             MOV.B   #1,R0                                                           ;
 7999                            1451     
 8000 0000063A                   1452     DND_LNK_STEP_CHG2_400:                                                  ;
 8001 0000063A D502              1453             MOV.L   #_INT_DND_NEG_STEP,R5                           ;
 8002 0000063C 2501              1454             MOV.W   R0,@R5                                                          ;
 8003                            1455     
 8004                            1456     
 8005 0000063E                   1457     DND_LNK_STEP_CHG2_END:                                                  ;
 8006                            1458     
 8007                            1459             SUB_END
 8008                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8009 0000063E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8010                            1460             M_RTS
 8011 00000640 000B                   M           RTS                             ;RTSの後ろの
 8012 00000642 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8013                            1461     
 8014                            1462     
 8015                            1463     ;
 8016                            1464     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    37
PROGRAM NAME =

 8017                            1465     ;
 8018                            1466     ;
 8019                                     ***** BEGIN-POOL *****
 8020 00000644 00000000                   DATA FOR SOURCE-LINE 1453
 8021                                     ***** END-POOL *****
 8022 00000648                   1467     _DND_NEG_START_FLG_CLR
 8023                            1468             SUB_START
 8024 00000648 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8025                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8026                            1469     
 8027 0000064A 200A              1470             XOR             R0,R0
 8028 0000064C D102              1471             MOV.L   #_NEG_DND_STOP_POS_END_F,R1                     ;
 8029 0000064E 2100              1472             MOV.B   R0,@R1                                                          ;
 8030                            1473     
 8031                            1474             SUB_END
 8032                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8033 00000650 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8034                            1475             M_RTS
 8035 00000652 000B                   M           RTS                             ;RTSの後ろの
 8036 00000654 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8037                            1476     
 8038                            1477     
 8039                            1478     ;//     ***********************************************
 8040                            1479     ;//     ***                     2021-11-10[CE2] 反転の段取停止  ***
 8041                            1480     ;//     ***********************************************
 8042                            1481     ;段取停止STOP-SW-ON
 8043                            1482     ;0<段取停止位置<170[下限]
 8044                            1483     ;_SVP_DND_STOPDIG1      .SRES   2               ;段取停止角度 0~358.0
 8045                            1484     ;_SET1_DND_STOPDIG_UP(0):設定
 8046                            1485     ;       MOV.L   #_SET1_DND_STOP_SW,R1           ;0,BIT0,BIT1
 8047                            1486     ;       MOV.W   R0,@R1                          ;
 8048                            1487     ;
 8049                            1488             .IMPORT _SVP_DND_STOPDIG1                       ;
 8050                            1489             .IMPORT _SVP_DNAREA_JUDG                        ;
 8051                            1490     
 8052                                     ***** BEGIN-POOL *****
 8053 00000656 0000                       ALIGNMENT CODE
 8054 00000658 00000000                   DATA FOR SOURCE-LINE 1471
 8055                                     ***** END-POOL *****
 8056 0000065C                   1491     _DND_NEG_STOP_SVCHK:
 8057                            1492             SUB_START
 8058 0000065C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8059                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8060                            1493     
 8061 0000065E 277A              1494             XOR             R7,R7                                           ;
 8062                            1495     
 8063                            1496     
 8064 00000660 D109              1497             MOV.L   #_SET1_DND_STOP_SW,R1           ;0,BIT0,BIT1
 8065 00000662 6011              1498             MOV.W   @R1,R0                                          ;
 8066 00000664 C802              1499             TST             #BIT1,R0                                        ;
 8067                            1500             TST_BIT_OF      DND_NEG_STOP_SVCK_OFF   ;
 8068 00000666 890A                   M           BT      DND_NEG_STOP_SVCK_OFF
 8069                            1501     
 8070 00000668 D108              1502             MOV.L   #_CB_SEQ_CB_SEL342,R1                                   ;[2021-11-15a] 342
 8071 0000066A 6011              1503             MOV.W   @R1,R0                                                                  ;[
                                          2021-11-15a]
 8072 0000066C C808              1504             TST             #BIT3,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    38
PROGRAM NAME =

                                          ;[2021-11-15a]342.3
 8073                            1505             TST_BIT_OF DND_NEG_STOP_SVCK_OFF                                ;[2021-11-15a][停
                                          止させない]
 8074 0000066E 8906                   M           BT      DND_NEG_STOP_SVCK_OFF
 8075                            1506     
 8076 00000670 D107              1507             MOV.L   #_SVP_DND_STOPDIG1,R1           ;
 8077 00000672 6211              1508             MOV.W   @R1,R2                                          ;停止角度
 8078                            1509     
 8079 00000674 D107              1510             MOV.L   #_SVP_DNAREA_JUDG,R1            ;
 8080 00000676 6312              1511             MOV.L   @R1,R3                                          ;
 8081                            1512     
 8082 00000678 3322              1513             CMP/HS  R2,R3                                           ;R2() < R3(170)
 8083 0000067A 8B00              1514             BF              DND_NEG_STOP_SVCK_OFF           ;170より大きい
 8084                            1515     
 8085 0000067C                   1516     DND_NEG_STOP_SVCK_ON:
 8086 0000067C E701              1517             MOV.B   #BIT0,R7                                        ;
 8087 0000067E                   1518     DND_NEG_STOP_SVCK_OFF:
 8088 0000067E                   1519     DND_NEG_STOP_SVCK_SET:
 8089 0000067E D106              1520             MOV.L   #_NEG_DND_STOP_USE_F,R1         ;       //上死点(0)<停止<170の時 On
 8090 00000680 2170              1521             MOV.B   R7,@R1                                          ;
 8091                            1522     
 8092 00000682                   1523     DND_NEG_STOP_SVCK_EXT:
 8093                            1524             SUB_END
 8094                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8095 00000682 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8096                            1525             M_RTS
 8097 00000684 000B                   M           RTS                             ;RTSの後ろの
 8098 00000686 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8099                            1526     
 8100                            1527     ;//     ***********************************************
 8101                            1528     ;//     ***                     2021-11-10[CE2] 反転の段取停止  ***
 8102                            1529     ;//     ***********************************************
 8103                            1530     ;R2=3,4(停止位置より上)
 8104                            1531     ;
 8105                            1532     ;
 8106                            1533     ;
 8107                            1534     ;;;_DND_NEG_UP_AREA_JUDE_STEP_MAKE:
 8108                            1535     ;;;     SUB_START
 8109                            1536     ;;;
 8110                            1537     ;;;     MOV.B   #4,R2                                                                   ;
 8111                            1538     
 8112                            1539     ;       --------- 上昇する-------------
 8113                            1540     ;;;     MOV.L   #_NEG_DND_STOP_USE_F,R1                                         ;
 8114                            1541     ;;;     MOV.B   @R1,R0
                                          ;
 8115                            1542     ;;;     TST             R0,R0
                                                  ;
 8116                            1543     ;;;     TST_BIT_OF DND_NEG_UP_AREAJUDE_STEP_MKEND                       ;
 8117                            1544     ;;;
 8118                            1545     ;;;     FAR_JSR #_DND_NEG_AREA_JUDE,R0                                          ;
 8119                            1546     ;;;     TST             R0,R0
                                                  ;
 8120                            1547     ;;;     TST_BIT_OF      DND_NEG_UP_AREAJUDE_STEP_MKEND                  ;0~停止角度内 0度
                                          をめざす[R2=4]
 8121                            1548     ;;;
 8122                            1549     ;;;
 8123                            1550     ;;;     MOV.B   #3,R2                                                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    39
PROGRAM NAME =

 8124                            1551     ;;;
 8125                            1552     ;;;
 8126                            1553     ;;;DND_NEG_UP_AREAJUDE_STEP_MKEND:
 8127                            1554     ;;;
 8128                            1555     ;;;     SUB_END
 8129                            1556     ;;;     M_RTS
 8130                            1557     
 8131                            1558     
 8132                            1559     
 8133                            1560     ;//     ***********************************************
 8134                            1561     ;//     ***                     2021-11-10[CE2] 反転の段取停止  ***
 8135                            1562     ;//     ***********************************************
 8136                            1563     ;;;_DND_NEG_DN_AREA_JUDE_STEP_MAKE:
 8137                            1564     ;;;     SUB_START
 8138                            1565     ;;;
 8139                            1566     ;;;     MOV.B   #2,R2                                                                   ;
 8140                            1567     ;;;
 8141                            1568     ;       --------- 下降する-------------
 8142                            1569     ;;;     MOV.L   #_NEG_DND_STOP_USE_F,R1                                         ;
 8143                            1570     ;;;     MOV.B   @R1,R0
                                          ;
 8144                            1571     ;;;     TST             R0,R0
                                                  ;
 8145                            1572     ;;;     TST_BIT_OF DND_NEG_DN_AREAJUDE_STEP_MKEND                       ;
 8146                            1573     ;;;
 8147                            1574     ;;;     FAR_JSR #_DND_NEG_AREA_JUDE,R0                                          ;
 8148                            1575     ;;;     TST             R0,R0
                                                  ;
 8149                            1576     ;;;     TST_BIT_ON      DND_NEG_DN_AREAJUDE_STEP_MKEND                  ;停止角度内~170度
                                          170度をめざす[R2=2]
 8150                            1577     ;;;
 8151                            1578     ;;;
 8152                            1579     ;;;     MOV.B   #1,R2                                                                   ;
 8153                            1580     ;;;
 8154                            1581     ;;;
 8155                            1582     ;;;DND_NEG_DN_AREAJUDE_STEP_MKEND:
 8156                            1583     ;;;
 8157                            1584     ;;;     SUB_END
 8158                            1585     ;;;     M_RTS
 8159                            1586     
 8160                            1587     
 8161                            1588     
 8162                            1589     
 8163                            1590     
 8164                            1591     ;//     ***********************************************
 8165                            1592     ;//     ***                     2021-11-10[CE2] 反転の段取停止  ***
 8166                            1593     ;//     ***********************************************
 8167                            1594     ;       停止角度100度
 8168                            1595     ;       101度~270:      上昇時は100度を目標とする
 8169                            1596     ;                               下降時は170度を目標とする
 8170                            1597     ;       R0=0 上昇時は待機点を目標にする
 8171                            1598     ;       R0=0 下降時時は停止角度を目標にする
 8172                            1599     ;
 8173                            1600     ;[下降のため]
 8174                                     ***** BEGIN-POOL *****
 8175 00000688 00000000                   DATA FOR SOURCE-LINE 1497
 8176 0000068C 00000000                   DATA FOR SOURCE-LINE 1502
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    40
PROGRAM NAME =

 8177 00000690 00000000                   DATA FOR SOURCE-LINE 1507
 8178 00000694 00000000                   DATA FOR SOURCE-LINE 1510
 8179 00000698 00000000                   DATA FOR SOURCE-LINE 1520
 8180                                     ***** END-POOL *****
 8181 0000069C                   1601     _DND_NEG_AREA_JUDE1
 8182                            1602             SUB_START
 8183 0000069C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8184                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8185                            1603     
 8186 0000069E 200A              1604             XOR             R0,R0
 8187                            1605     
 8188 000006A0 9410              1606             MOV.W   #D'10,R4
 8189 000006A2 D109              1607             MOV.L   #_SVP_DND_STOPDIG1,R1                   ;
 8190 000006A4 6311              1608             MOV.W   @R1,R3                                                  ;停止角度(100.0)
 8191 000006A6 3348              1609             SUB             R4,R3                                                   ;
 8192 000006A8 4311              1610             CMP/PZ  R3                                                              ;
 8193 000006AA 8900              1611             BT      DND_NEG_AREA_JD1_050                            ;
 8194 000006AC 233A              1612             XOR             R3,R3                                                   ;
 8195 000006AE                   1613     DND_NEG_AREA_JD1_050                                            ;
 8196                            1614     
 8197 000006AE D107              1615             MOV.L   #_LINK_CLANK_PV,R1                              ;表示角度
 8198 000006B0 6211              1616             MOV.W   @R1,R2                                                  ;
 8199 000006B2 9108              1617             MOV.W   #D'2700,R1                                              ;270.0
 8200                            1618     
 8201 000006B4 3232              1619             CMP/HS  R3,R2                                                   ;R3(停止角度)<= R2
                                          (NOW)
 8202 000006B6 8B02              1620             BF              DND_NEG_AREA_JD1_100                            ;NO! R2<ANS R0=0
 8203                            1621     
 8204 000006B8 3212              1622             CMP/HS  R1,R2                                                   ;R1(2700)< R2(NOW)
 8205 000006BA 8900              1623             BT              DND_NEG_AREA_JD1_100                    ;YES:0:0停止角度
 8206                            1624     
 8207 000006BC E001              1625             MOV.B   #1,R0                                                   ;
 8208                            1626     
 8209 000006BE                   1627     DND_NEG_AREA_JD1_100
 8210                            1628     
 8211                            1629     
 8212                            1630     
 8213                            1631             SUB_END
 8214                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8215 000006BE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8216                            1632             M_RTS
 8217 000006C0 000B                   M           RTS                             ;RTSの後ろの
 8218 000006C2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8219                            1633     
 8220                            1634     
 8221                                     ***** BEGIN-POOL *****
 8222 000006C4 000A                       DATA FOR SOURCE-LINE 1606
 8223 000006C6 0A8C                       DATA FOR SOURCE-LINE 1617
 8224 000006C8 00000000                   DATA FOR SOURCE-LINE 1607
 8225 000006CC 00000000                   DATA FOR SOURCE-LINE 1615
 8226                                     ***** END-POOL *****
 8227 000006D0                   1635     _DND_NEG_AREA_JUDE2
 8228                            1636             SUB_START
 8229 000006D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8230                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8231                            1637     
 8232 000006D2 200A              1638             XOR             R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    41
PROGRAM NAME =

 8233                            1639     
 8234 000006D4 940D              1640             MOV.W   #D'10,R4
 8235 000006D6 D108              1641             MOV.L   #_SVP_DND_STOPDIG1,R1                   ;
 8236 000006D8 6311              1642             MOV.W   @R1,R3                                                  ;停止角度(100.0)
 8237 000006DA 334C              1643             ADD             R4,R3                                                   ;101.0~
 8238 000006DC D107              1644             MOV.L   #_LINK_CLANK_PV,R1                              ;表示角度
 8239 000006DE 6211              1645             MOV.W   @R1,R2                                                  ;
 8240 000006E0 9108              1646             MOV.W   #D'2700,R1                                              ;270.0
 8241                            1647     
 8242 000006E2 3232              1648             CMP/HS  R3,R2                                                   ;R3(停止角度)<= R2
                                          (NOW)
 8243 000006E4 8B02              1649             BF              DND_NEG_AREA_JD2_100                            ;NO! R2<ANS R0=0
 8244                            1650     
 8245 000006E6 3212              1651             CMP/HS  R1,R2                                                   ;R1(2700)< R2(NOW)
 8246 000006E8 8900              1652             BT              DND_NEG_AREA_JD2_100                            ;YES:0:0停止角度
 8247                            1653     
 8248 000006EA E001              1654             MOV.B   #1,R0                                                   ;
 8249                            1655     
 8250 000006EC                   1656     DND_NEG_AREA_JD2_100
 8251                            1657     
 8252                            1658     
 8253                            1659     
 8254                            1660             SUB_END
 8255                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8256 000006EC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8257                            1661             M_RTS
 8258 000006EE 000B                   M           RTS                             ;RTSの後ろの
 8259 000006F0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8260                            1662     
 8261                            1663     
 8262                            1664     
 8263                            1665     
 8264                            1666     ;               -------------- 反転専用-------------
 8265                            1667     ;               ------------- 往復自動運転---------------
 8266                            1668     ;               ------------- 上昇のみ運転---------------
 8267                            1669     ;               ------------- 下降のみ運転---------------
 8268                                     ***** BEGIN-POOL *****
 8269 000006F2 000A                       DATA FOR SOURCE-LINE 1640
 8270 000006F4 0A8C                       DATA FOR SOURCE-LINE 1646
 8271 000006F6 0000                       ALIGNMENT CODE
 8272 000006F8 00000000                   DATA FOR SOURCE-LINE 1641
 8273 000006FC 00000000                   DATA FOR SOURCE-LINE 1644
 8274                                     ***** END-POOL *****
 8275 00000700                   1670             .ALIGN  4                               ;
 8276 00000700                   1671     _DND_LNKPLS_OBJMAK1:
 8277                            1672             SUB_START
 8278 00000700 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8279                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8280                            1673     
 8281                            1674     
 8282 00000702 D10C              1675             MOV.L   #_INT_DND_NEG_STEP,R1           ;
 8283 00000704 6011              1676             MOV.W   @R1,R0                                          ;
 8284 00000706 2008              1677             TST             R0,R0                                           ;
 8285                            1678             TST_BIT_OF DND_LNKPLS_OBJ_UPPOS1        ;0:上へ(自動運転のみ)
 8286 00000708 8907                   M           BT      DND_LNKPLS_OBJ_UPPOS1
 8287                            1679     
 8288 0000070A 8802              1680             CMP/EQ  #2,R0                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    42
PROGRAM NAME =

 8289 0000070C 891C              1681             BT      DND_LNKPLS_OBJ_DNPOS1                   ;反転STEP=2:170度:下死点を目標に動
                                          作
 8290 0000070E 8804              1682             CMP/EQ  #4,R0                                           ;
 8291 00000710 8903              1683             BT      DND_LNKPLS_OBJ_UPPOS1                   ;反転STEP=4:0度:待機点を目標に動作
 8292                            1684     
 8293 00000712 8801              1685             CMP/EQ  #1,R0                                           ;
 8294 00000714 8924              1686             BT      DND_LNKPLS_OBJ_STOPPOS1                 ;
 8295 00000716 8803              1687             CMP/EQ  #3,R0                                           ;
 8296 00000718 8922              1688             BT      DND_LNKPLS_OBJ_STOPPOS1                 ;
 8297                            1689     
 8298                            1690     ;       ------[0][基本無しとする]-----
 8299                            1691     
 8300                            1692     ;       === 方向を判別して待機点を目指す ===
 8301                            1693     ;       ------------ 上死点位置---------------
 8302 0000071A                   1694     DND_LNKPLS_OBJ_UPPOS1:
 8303 0000071A                   1695     DND_LNKPLS_OBJ_UPPOS0:
 8304 0000071A D007              1696             MOV.L   #_SET1_UPAREA_PLS1,R0                   ;//4;上死点0度固定(上死点)
 8305 0000071C 6202              1697             MOV.L   @R0,R2                                                  ;
 8306                            1698     
 8307                            1699     
 8308                            1700     ;       ==== 2004-05-23====
 8309 0000071E D007              1701             MOV.L   #_PAR_WTSEL_USE,R0                              ;
 8310 00000720 6001              1702             MOV.W   @R0,R0                                                  ;
 8311 00000722 8801              1703             CMP/EQ  #1,R0                                                   ;待機点選択使用時
                                          は上死点ではない
 8312 00000724 8B01              1704             BF      DND_LNKPLS_OBJ_CHG050                           ;
 8313                            1705     
 8314 00000726 D006              1706             MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;上死点固定(上死点)
 8315 00000728 6202              1707             MOV.L   @R0,R2                                                  ;
 8316 0000072A                   1708     DND_LNKPLS_OBJ_CHG050:
 8317                            1709             FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 8318 0000072A D006                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8319 0000072C 400B                   M           JSR     @R0                     ;
 8320 0000072E 0009                   M           NOP                                     ;
 8321                            1710             M_BRA   DND_LNKPLS_OBJMK1_END                   ;
 8322 00000730 A01B                   M           BRA     DND_LNKPLS_OBJMK1_END
 8323 00000732 0009                   M           NOP
 8324                            1711     
 8325                            1712     
 8326                            1713     ;       ------------ 下限位置---------------
 8327                                     ***** BEGIN-POOL *****
 8328 00000734 00000000                   DATA FOR SOURCE-LINE 1675
 8329 00000738 00000000                   DATA FOR SOURCE-LINE 1696
 8330 0000073C 00000000                   DATA FOR SOURCE-LINE 1701
 8331 00000740 00000000                   DATA FOR SOURCE-LINE 1706
 8332 00000744 00000000                   DATA FOR SOURCE-LINE 1709
 8333                                     ***** END-POOL *****
 8334 00000748                   1714     DND_LNKPLS_OBJ_DNPOS1:
 8335 00000748 D003              1715             MOV.L   #_SETX_DNAREA_JG_PLS,R0                 ;
 8336 0000074A 6202              1716             MOV.L   @R0,R2                                                  ;
 8337                            1717             FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 8338 0000074C D003                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8339 0000074E 400B                   M           JSR     @R0                     ;
 8340 00000750 0009                   M           NOP                                     ;
 8341                            1718             M_BRA   DND_LNKPLS_OBJMK1_END                   ;
 8342 00000752 A00A                   M           BRA     DND_LNKPLS_OBJMK1_END
 8343 00000754 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    43
PROGRAM NAME =

 8344                            1719     
 8345                            1720     
 8346                            1721     
 8347                            1722     ;[2021-11-11]
 8348                            1723     ;       ------------ 停止位置---------------
 8349                            1724     ;       MOV.L   #_SVP_DND_STOPDIG1,R1                   ;
 8350                            1725     
 8351                                     ***** BEGIN-POOL *****
 8352 00000756 0000                       ALIGNMENT CODE
 8353 00000758 00000000                   DATA FOR SOURCE-LINE 1715
 8354 0000075C 00000000                   DATA FOR SOURCE-LINE 1717
 8355                                     ***** END-POOL *****
 8356 00000760                   1726     DND_LNKPLS_OBJ_STOPPOS1
 8357 00000760 D003              1727             MOV.L   #_SET1_DND_PLSTOP+1*4,R0                ;
 8358 00000762 6202              1728             MOV.L   @R0,R2                                                  ;
 8359                            1729             FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 8360 00000764 D003                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8361 00000766 400B                   M           JSR     @R0                     ;
 8362 00000768 0009                   M           NOP                                     ;
 8363 0000076A                   1730     DND_LNKPLS_OBJMK1_END:
 8364                            1731     
 8365                            1732     
 8366                            1733             SUB_END
 8367                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8368 0000076A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8369                            1734             M_RTS
 8370 0000076C 000B                   M           RTS                             ;RTSの後ろの
 8371 0000076E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8372                            1735     
 8373                            1736     
 8374                            1737     ;;[2021-11-15]  .ALIGN  4                               ;
 8375                            1738     ;;[2021-11-15]_DND_LNKPLS_OBJMAK1:
 8376                            1739     ;;[2021-11-15]  SUB_START
 8377                            1740     ;;[2021-11-15]  MOV.L   #_INT_DND_NEG_STEP,R1           ;
 8378                            1741     ;;[2021-11-15]  MOV.W   @R1,R0                          ;
 8379                            1742     ;;[2021-11-15]  CMP/EQ  #1,R0                           ;
 8380                            1743     ;;[2021-11-15]  BT      DND_LNKPLS_OBJ_DNPOS1           ;下死点を目標に動作
 8381                            1744     ;;[2021-11-15]  CMP/EQ  #2,R0                           ;
 8382                            1745     ;;[2021-11-15]  BT      DND_LNKPLS_OBJ_UPPOS1           ;待機点を目標に動作
 8383                            1746     ;;[2021-11-15]
 8384                            1747     ;;[2021-11-15]; === 方向を判別して待機点を目指す ===
 8385                            1748     ;;[2021-11-15]DND_LNKPLS_OBJ_UPPOS1:
 8386                            1749     ;;[2021-11-15]DND_LNKPLS_OBJ_UPPOS0:
 8387                            1750     ;;[2021-11-15];;;ｵﾘｷﾞﾅﾙｿﾌﾄ      MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機
                                          点
 8388                            1751     ;;[2021-11-15]  MOV.L   #_SET1_UPAREA_PLS1,R0                   ;//4;上死点固定(上死点)
 8389                            1752     ;;[2021-11-15]  MOV.L   @R0,R2                                  ;
 8390                            1753     ;;[2021-11-15]; ==== 2004-05-23====
 8391                            1754     ;;[2021-11-15]  MOV.L   #_PAR_WTSEL_USE,R0
 8392                            1755     ;;[2021-11-15]  MOV.W   @R0,R0                                  ;
 8393                            1756     ;;[2021-11-15]  CMP/EQ  #1,R0                                   ;待機点選択使用時は上死点
                                          ではない
 8394                            1757     ;;[2021-11-15]  BF      DND_LNKPLS_OBJ_CHG050                   ;
 8395                            1758     ;;[2021-11-15]  MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;上死点固定(上死点)
 8396                            1759     ;;[2021-11-15]  MOV.L   @R0,R2                                  ;
 8397                            1760     ;;[2021-11-15]DND_LNKPLS_OBJ_CHG050:
 8398                            1761     ;;[2021-11-15]; ===================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    44
PROGRAM NAME =

 8399                            1762     ;;[2021-11-15]
 8400                            1763     ;;[2021-11-15]  FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 8401                            1764     ;;[2021-11-15]  M_BRA   DND_LNKPLS_OBJMK1_END                   ;
 8402                            1765     ;;[2021-11-15]
 8403                            1766     ;;[2021-11-15]DND_LNKPLS_OBJ_DNPOS1:
 8404                            1767     ;;[2021-11-15]  MOV.L   #_SETX_DNAREA_JG_PLS,R0                 ;
 8405                            1768     ;;[2021-11-15]  MOV.L   @R0,R2                                  ;
 8406                            1769     ;;[2021-11-15]  FAR_JSR #_LNKPLS_OBJ_DAT_MAK1,R0                ;
 8407                            1770     ;;[2021-11-15]DND_LNKPLS_OBJMK1_END:
 8408                            1771     ;;[2021-11-15]  SUB_END
 8409                            1772     ;;[2021-11-15]  M_RTS
 8410                            1773     
 8411                            1774     
 8412                            1775     ;       *******************************************
 8413                            1776     ;       ***                                     ***
 8414                            1777     ;       ***             Input R2                ***
 8415                            1778     ;       ***             ﾘﾝｸ(内部制御)ﾊﾟﾙｽ       ***
 8416                            1779     ;       ***                                     ***
 8417                            1780     ;       *******************************************
 8418                            1781     ;       MOV.L   #_SETX_DNAREA_JG_PLS,R4                 ;反転設定不可範囲LINK-PLS
 8419                            1782     ;       MOV.L   @R4,R2                                  ;
 8420                            1783     ;
 8421                                     ***** BEGIN-POOL *****
 8422 00000770 00000000                   DATA FOR SOURCE-LINE 1727
 8423 00000774 00000000                   DATA FOR SOURCE-LINE 1729
 8424                                     ***** END-POOL *****
 8425 00000778                   1784             .ALIGN  4                               ;
 8426 00000778                   1785     _LNKPLS_OBJ_DAT_MAK1:
 8427                            1786             SUB_START
 8428 00000778 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8429                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8430                            1787             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;
 8431 0000077A D00B                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8432 0000077C 400B                   M           JSR     @R0                     ;
 8433 0000077E 0009                   M           NOP                                     ;
 8434                            1788     
 8435                            1789             PUSH_REG1 R2
 8436 00000780 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 8437                                 M                                           ;REG=>[SP]
 8438                                 M                                           ;"-4" FF,FF,FF,FC
 8439                            1790     
 8440                            1791     
 8441                            1792             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 8442 00000782 D00A                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8443 00000784 400B                   M           JSR     @R0                     ;
 8444 00000786 0009                   M           NOP                                     ;
 8445                            1793     
 8446                            1794             POP_REG1 R2
 8447                                 M                                   ; RE"+4" 00,00,00,04
 8448 00000788 62F6                   M           MOV.L   @R15+,R2        ;
 8449                            1795     ;       === 目標角度(R2) ====
 8450                            1796     
 8451                            1797     ;;      MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 8452                            1798     ;;      MOV.L   @R0,R2                                  ;
 8453                            1799     
 8454 0000078A D409              1800             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 8455 0000078C 6142              1801             MOV.L   @R4,R1                                  ;現在 ***.* pls
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    45
PROGRAM NAME =

 8456                            1802                                                             ;目標 ***.* pls
 8457 0000078E D409              1803             MOV.L   #_SETX_UPDN_CHK_DN_PLS,R4               ;180.0pls(下死点角度 180.0)
 8458 00000790 6342              1804             MOV.L   @R4,R3                                  ;
 8459                            1805     ;
 8460                            1806     ;       ===== R3~R2の範囲にR1がいれば正転===
 8461                            1807             DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R1,ANSREG=R0       ;
 8462 00000792 3233                   M           CMP/GE  R3,R2
 8463 00000794 8B10                   M           BF      JMP0100000
 8464                                 M   ;       === 0度をはさなまい===
 8465 00000796 200A                   M           XOR     R0,R0
 8466 00000798 3133                   M           CMP/GE  R3,R1           ;
 8467 0000079A 8B13                   M           BF      JMP0200000                      ; PV<SV1
 8468 0000079C 3213                   M           CMP/GE  R1,R2           ;
 8469 0000079E 8B11                   M           BF      JMP0200000                      ; SV2<PV2 (1)
 8470 000007A0 E001                   M           MOV     #1,R0           ;
 8471                                 M           M_BRA   JMP0200000                      ;
 8472 000007A2 A00F                   M           BRA     JMP0200000
 8473 000007A4 0009                   M           NOP
 8474                                 M   
 8475                                 M   ;       ==== ０度をはさむ====
 8476                                 M   ***** BEGIN-POOL *****
 8477 000007A6 0000                   M   ALIGNMENT CODE
 8478 000007A8 00000000               M   DATA FOR SOURCE-LINE 1787
 8479 000007AC 00000000               M   DATA FOR SOURCE-LINE 1792
 8480 000007B0 00000000               M   DATA FOR SOURCE-LINE 1800
 8481 000007B4 00000000               M   DATA FOR SOURCE-LINE 1803
 8482                                 M   ***** END-POOL *****
 8483 000007B8                        M   JMP0100000:
 8484 000007B8 E001                   M           MOV     #1,R0
 8485 000007BA 3133                   M           CMP/GE  R3,R1
 8486 000007BC 8902                   M           BT      JMP0200000                      ;SV1=<PV=<360
 8487 000007BE 3213                   M           CMP/GE  R1,R2           ;
 8488 000007C0 8900                   M           BT      JMP0200000                      ;
 8489 000007C2 200A                   M           XOR     R0,R0           ;
 8490 000007C4                        M   JMP0200000:
 8491 000007C4 233A              1808             XOR     R3,R3
 8492 000007C6 2008              1809             TST     R0,R0
 8493                            1810             TST_BIT_ON LNKPLS_OBJ_DAT_MK1_150               ;
 8494 000007C8 8B00                   M           BF      LNKPLS_OBJ_DAT_MK1_150
 8495 000007CA E3FF              1811             MOV     #-1,R3
 8496 000007CC                   1812     LNKPLS_OBJ_DAT_MK1_150:                                 ;R2
 8497                            1813     
 8498 000007CC 2338              1814             TST     R3,R3                                   ;正転
 8499                            1815             TST_BIT_ON LNKPLS_OBJ_DAT_MK1_300               ;逆転 JUMP
 8500 000007CE 8B0D                   M           BF      LNKPLS_OBJ_DAT_MK1_300
 8501                            1816     ;       ==== 正転方向でいく ====
 8502 000007D0 3218              1817             SUB     R1,R2                                   ;
 8503 000007D2 4211              1818             CMP/PZ  R2
 8504 000007D4 8915              1819             BT      LNKPLS_OBJ_DAT_MK1_500                  ;R2 >= 0(R2は符号付距離)
 8505 000007D6 D504              1820             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8506 000007D8 6452              1821             MOV.L   @R5,R4                                  ;
 8507 000007DA 324C              1822             ADD     R4,R2                                   ;
 8508 000007DC 4211              1823             CMP/PZ  R2
 8509 000007DE 8910              1824             BT      LNKPLS_OBJ_DAT_MK1_500          ;
 8510 000007E0 222A              1825             XOR     R2,R2                                   ;
 8511                            1826             M_BRA   LNKPLS_OBJ_DAT_MK1_500                  ;
 8512 000007E2 A00E                   M           BRA     LNKPLS_OBJ_DAT_MK1_500
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    46
PROGRAM NAME =

 8513 000007E4 0009                   M           NOP
 8514                            1827     
 8515                                     ***** BEGIN-POOL *****
 8516 000007E6 0000                       ALIGNMENT CODE
 8517 000007E8 00000000                   DATA FOR SOURCE-LINE 1820
 8518                                     ***** END-POOL *****
 8519 000007EC                   1828     LNKPLS_OBJ_DAT_MK1_300:                         ;R2
 8520 000007EC 3218              1829             SUB     R1,R2                                   ;300-270
 8521 000007EE 622B              1830             NEG     R2,R2                                   ;
 8522 000007F0 4211              1831             CMP/PZ  R2
 8523 000007F2 8905              1832             BT      LNKPLS_OBJ_DAT_MK1_400                  ;R2 >= 0(R2は符号付距離)
 8524 000007F4 D514              1833             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8525 000007F6 6452              1834             MOV.L   @R5,R4                                  ;
 8526 000007F8 324C              1835             ADD     R4,R2                                   ;
 8527 000007FA 4211              1836             CMP/PZ  R2
 8528 000007FC 8900              1837             BT      LNKPLS_OBJ_DAT_MK1_400                  ;
 8529 000007FE 222A              1838             XOR     R2,R2                                   ;
 8530 00000800                   1839     LNKPLS_OBJ_DAT_MK1_400:                         ;
 8531 00000800 622B              1840             NEG     R2,R2                                   ;
 8532 00000802                   1841     LNKPLS_OBJ_DAT_MK1_500:                         ;
 8533 00000802 255A              1842             XOR     R5,R5                                   ;
 8534 00000804 6623              1843             MOV     R2,R6                                   ;
 8535 00000806 4211              1844             CMP/PZ  R2                                      ;
 8536 00000808 8900              1845             BT      LNKPLS_OBJ_DAT_MK1_600                  ;
 8537 0000080A E5FF              1846             MOV     #-1,R5                                  ;
 8538 0000080C                   1847     LNKPLS_OBJ_DAT_MK1_600:                                 ;
 8539                            1848     
 8540 0000080C D40F              1849             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
                                                  ;
 8541 0000080E 6146              1850             MOV.L   @R4+,R1                                 ;
 8542 00000810 6242              1851             MOV.L   @R4,R2                                  ;
 8543                            1852             PUSH_REG1 R1
 8544 00000812 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 8545                                 M                                           ;REG=>[SP]
 8546                                 M                                           ;"-4" FF,FF,FF,FC
 8547                            1853             PUSH_REG1 R2
 8548 00000814 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 8549                                 M                                           ;REG=>[SP]
 8550                                 M                                           ;"-4" FF,FF,FF,FC
 8551                            1854             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 8552 00000816 0008                   M           CLRT
 8553 00000818 326E                   M           ADDC    R6,R2
 8554 0000081A 315E                   M           ADDC    R5,R1
 8555                            1855     
 8556 0000081C D40C              1856             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 8557 0000081E 2412              1857             MOV.L   R1,@R4                                          ;
 8558 00000820 1421              1858             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 8559                            1859             POP_REG1 R6
 8560                                 M                                   ; RE"+4" 00,00,00,04
 8561 00000822 66F6                   M           MOV.L   @R15+,R6        ;
 8562                            1860             POP_REG1 R5
 8563                                 M                                   ; RE"+4" 00,00,00,04
 8564 00000824 65F6                   M           MOV.L   @R15+,R5        ;
 8565                            1861     
 8566                            1862             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 8567 00000826 0008                   M           CLRT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    47
PROGRAM NAME =

 8568 00000828 326A                   M           SUBC    R6,R2
 8569 0000082A 315A                   M           SUBC    R5,R1
 8570 0000082C 233A              1863             XOR     R3,R3
 8571 0000082E 4111              1864             CMP/PZ  R1                              ;
 8572 00000830 8900              1865             BT      LNKPLS_OBJ_DAT_MK1_750          ;
 8573 00000832 E301              1866             MOV     #BIT0,R3                        ;
 8574 00000834                   1867     LNKPLS_OBJ_DAT_MK1_750:                         ;
 8575 00000834 D107              1868             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 8576 00000836 2131              1869             MOV.W   R3,@R1                          ;
 8577                            1870     
 8578 00000838 D107              1871             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 8579 0000083A 6011              1872             MOV.W   @R1,R0                  ;
 8580 0000083C C9FE              1873             AND     #LOW ~BIT0,R0           ;
 8581 0000083E 203B              1874             OR      R3,R0                   ;
 8582 00000840 2101              1875             MOV.W   R0,@R1                  ;
 8583                            1876     
 8584                            1877             SUB_END
 8585                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8586 00000842 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8587                            1878             M_RTS
 8588 00000844 000B                   M           RTS                             ;RTSの後ろの
 8589 00000846 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8590                            1879     
 8591                            1880     
 8592                            1881     
 8593                            1882     
 8594                            1883     
 8595                            1884     
 8596                            1885     
 8597                            1886     
 8598                            1887     
 8599                            1888     
 8600                            1889     
 8601                            1890     
 8602                            1891     
 8603                            1892     
 8604                            1893     
 8605                            1894     
 8606                            1895     ;       ***********************************
 8607                            1896     ;       ***                             ***
 8608                            1897     ;       ***     段取寸動                ***
 8609                            1898     ;       ***     速度設定                ***
 8610                            1899     ;       ***                             ***
 8611                            1900     ;       ***********************************
 8612                                     ***** BEGIN-POOL *****
 8613 00000848 00000000                   DATA FOR SOURCE-LINE 1833
 8614 0000084C 00000000                   DATA FOR SOURCE-LINE 1849
 8615 00000850 00000000                   DATA FOR SOURCE-LINE 1856
 8616 00000854 00000000                   DATA FOR SOURCE-LINE 1868
 8617 00000858 00000000                   DATA FOR SOURCE-LINE 1871
 8618                                     ***** END-POOL *****
 8619 0000085C                   1901             .ALIGN  4                               ;
 8620 0000085C                   1902     _DNDINC_SPD_SET:
 8621                            1903             SUB_START
 8622 0000085C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8623                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8624                            1904     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    48
PROGRAM NAME =

 8625                            1905     ;       --------2011-09-20-
 8626                            1906             PUSH_REG1 R0    ;2011-09-20
 8627 0000085E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
 8628                                 M                                           ;REG=>[SP]
 8629                                 M                                           ;"-4" FF,FF,FF,FC
 8630                            1907     
 8631                            1908     
 8632                            1909     ;;;;2016-04-16  MOV.L   #_SET1_DNDINC_SPD1,R1   ;
 8633                            1910     ;;;;2016-04-16  MOV.L   @R1,R2                  ;
 8634                            1911     
 8635                            1912             FAR_JSR #_DND_SPD_SEQ_SET,R0            ;2016-04-16
 8636 00000860 D008                   M           MOV.L   #_DND_SPD_SEQ_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8637 00000862 400B                   M           JSR     @R0                     ;
 8638 00000864 0009                   M           NOP                                     ;
 8639                            1913     
 8640                            1914     ;       ---------------------------
 8641 00000866 D108              1915             MOV.L   #_CB_SEQ_CB_COM349,R1           ;
 8642 00000868 6011              1916             MOV.W   @R1,R0                          ;
 8643 0000086A C840              1917             TST     #BIT6,R0                        ;
 8644                            1918             TST_BIT_OF DNDINC_SPDSET_100            ;
 8645 0000086C 8904                   M           BT      DNDINC_SPDSET_100
 8646                            1919     
 8647 0000086E D107              1920             MOV.L   #_WPARX_BRKTST_DNDLMT,R1        ;
 8648 00000870 6012              1921             MOV.L   @R1,R0                          ;
 8649                            1922     
 8650 00000872 3202              1923             CMP/HS  R0,R2                           ;R0<R2
 8651 00000874 8B00              1924             BF      DNDINC_SPDSET_100               ;NO JUMP(R2=<R0)
 8652 00000876 6203              1925             MOV     R0,R2                           ;最大値での制限
 8653 00000878                   1926     DNDINC_SPDSET_100:
 8654                            1927     ;       ---------------------------
 8655                            1928     
 8656 00000878 D105              1929             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
 8657 0000087A 2122              1930             MOV.L   R2,@R1                          ;
 8658                            1931     
 8659                            1932             POP_REG1 R0     ;2011-09-20
 8660                                 M                                   ; RE"+4" 00,00,00,04
 8661 0000087C 60F6                   M           MOV.L   @R15+,R0        ;
 8662                            1933     
 8663                            1934             SUB_END
 8664                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8665 0000087E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8666                            1935             M_RTS
 8667 00000880 000B                   M           RTS                             ;RTSの後ろの
 8668 00000882 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8669                            1936     
 8670                            1937     
 8671                            1938     ;       *******************************************
 8672                            1939     ;       ***                                     ***
 8673                            1940     ;       ***     2016-04-16 段取速度SEQ変更      ***
 8674                            1941     ;       ***                                     ***
 8675                            1942     ;       *******************************************
 8676                                     ***** BEGIN-POOL *****
 8677 00000884 00000000                   DATA FOR SOURCE-LINE 1912
 8678 00000888 00000000                   DATA FOR SOURCE-LINE 1915
 8679 0000088C 00000000                   DATA FOR SOURCE-LINE 1920
 8680 00000890 00000000                   DATA FOR SOURCE-LINE 1929
 8681                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    49
PROGRAM NAME =

 8682 00000894                   1943     _DND_SPD_SEQ_SET:
 8683                            1944             SUB_START
 8684 00000894 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8685                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8686                            1945     
 8687 00000896 D10C              1946             MOV.L   #_SET1_DNDINC_SPD1,R1           ;
 8688 00000898 6212              1947             MOV.L   @R1,R2                          ;
 8689                            1948     
 8690 0000089A D10C              1949             MOV.L   #_CB_SEQ_CB_COM356,R1           ;
 8691 0000089C 6011              1950             MOV.W   @R1,R0                          ;
 8692 0000089E C880              1951             TST     #BIT7,R0                        ;356.7
 8693                            1952             TST_BIT_OF DND_SPD_SEQSET_END           ;
 8694 000008A0 890D                   M           BT      DND_SPD_SEQSET_END
 8695                            1953     
 8696 000008A2 C97F              1954             AND     #H'7F,R0                        ;
 8697 000008A4 2008              1955             TST     R0,R0                           ;
 8698                            1956             TST_BIT_OF DND_SPD_SEQSET_END           ;指定速度=0
 8699 000008A6 890A                   M           BT      DND_SPD_SEQSET_END
 8700                            1957     
 8701 000008A8 940C              1958             MOV.W   #D'100,R4                       ;100%単位
 8702 000008AA 3046              1959             CMP/HI  R4,R0                           ;R4 < R0
 8703 000008AC 8B00              1960             BF      DND_SPD_SEQSET_100              ;NO!
 8704 000008AE 6043              1961             MOV     R4,R0                           ;
 8705 000008B0                   1962     DND_SPD_SEQSET_100:                             ;
 8706 000008B0 6203              1963             MOV     R0,R2                           ;
 8707 000008B2 D007              1964             MOV.L   #_LINK_MAX_SPD_PLS,R0           ;
 8708 000008B4 6102              1965             MOV.L   @R0,R1                          ;data(R2) *R1/R4
 8709 000008B6 9405              1966             MOV.W   #D'100,R4                       ;100%単位
 8710                            1967             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
 8711 000008B8 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8712 000008BA 400B                   M           JSR     @R0                     ;
 8713 000008BC 0009                   M           NOP                                     ;
 8714                            1968     
 8715 000008BE                   1969     DND_SPD_SEQSET_END:
 8716                            1970     
 8717                            1971             SUB_END
 8718                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8719 000008BE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8720                            1972             M_RTS
 8721 000008C0 000B                   M           RTS                             ;RTSの後ろの
 8722 000008C2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8723                            1973     
 8724                            1974     
 8725                            1975     
 8726                            1976     
 8727                            1977     
 8728                            1978     
 8729                            1979     ;       *******************************************
 8730                            1980     ;       ***                                     ***
 8731                            1981     ;       ***     今の回転上の上死点+3．0を目指す ***
 8732                            1982     ;       ***     本当は最寄の上死点の+3を目指す  ***
 8733                            1983     ;       *******************************************
 8734                            1984     ;       今の回転の上死点が現在位置から見て、+180度以上相当のパルスなら -1回転
 8735                            1985     ;                                           -180度以下相当のパルスなら +1回転
 8736                            1986             .IMPORT _POSCHG_LINK_ABSPLS_ROTNUMBER                           ;R1,R2(R1=0/FFFFの
                                          み)
 8737                            1987             .IMPORT _POSCHG_LINK_ROTNUM_PLS                                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    50
PROGRAM NAME =

 8738                            1988     
 8739                            1989     
 8740                            1990     
 8741                            1991     
 8742                            1992     ;       *******************************************
 8743                            1993     ;       ***                                     ***
 8744                            1994     ;       ***     今の回転上の上死点-3．0を目指す ***
 8745                            1995     ;       ***     本当は最寄の上死点の+3を目指す  ***
 8746                            1996     ;       *******************************************
 8747                            1997     ;       今の回転の上死点が現在位置から見て、+180度以上相当のパルスなら -1回転
 8748                            1998     ;                                           -180度以下相当のパルスなら +1回転
 8749                            1999     ;;      .IMPORT _POSCHG_LINK_ABSPLS_ROTNUMBER                           ;R1,R2(R1=0/FFFFの
                                          み)
 8750                            2000     ;;      .IMPORT _POSCHG_LINK_ROTNUM_PLS                                 ;
 8751                                     ***** BEGIN-POOL *****
 8752 000008C4 0064                       DATA FOR SOURCE-LINE 1958,1966
 8753 000008C6 0000                       ALIGNMENT CODE
 8754 000008C8 00000000                   DATA FOR SOURCE-LINE 1946
 8755 000008CC 00000000                   DATA FOR SOURCE-LINE 1949
 8756 000008D0 00000000                   DATA FOR SOURCE-LINE 1964
 8757 000008D4 00000000                   DATA FOR SOURCE-LINE 1967
 8758                                     ***** END-POOL *****
 8759 000008D8                   2001             .ALIGN  4                               ;
 8760 000008D8                   2002     _LINK_UPPLS_A_OBJMAK1:
 8761                            2003             SUB_START
 8762 000008D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8763                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8764                            2004     
 8765                            2005     
 8766                            2006             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 8767 000008DA D011                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8768 000008DC 400B                   M           JSR     @R0                     ;
 8769 000008DE 0009                   M           NOP                                     ;
 8770                            2007     
 8771                            2008     ;       === 目標角度 ====
 8772 000008E0 D010              2009             MOV.L   #_SET1_UPAREA_PLS1,R0                   ;//4;上死点固定(1回目は上死点)
 8773 000008E2 6202              2010             MOV.L   @R0,R2                                  ;これは反転でも回転で待機点選択有
                                          りでも同じ
 8774 000008E4 D010              2011             MOV.L   #_ORG_FIRST_OBJPLS,R0                   ;[-ﾏｲﾅｽﾃﾞｰﾀ]
 8775 000008E6 6102              2012             MOV.L   @R0,R1                                  ;
 8776 000008E8 321C              2013             ADD     R1,R2                                   ;
 8777 000008EA D510              2014             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8778 000008EC 6452              2015             MOV.L   @R5,R4                                  ;
 8779                            2016     
 8780                            2017     ;;;2011-03-22[0度不具合]        CMP/HI  R2,R4                                   ;R2 < R4
 8781 000008EE 3423              2018             CMP/GE  R2,R4                                   ;R2 < R4
 8782 000008F0 8900              2019             BT      LINK_UPPLS_A_OBJMK1_100                 ;
 8783 000008F2 3248              2020             SUB     R4,R2                                   ;
 8784 000008F4                   2021     LINK_UPPLS_A_OBJMK1_100:                                ;R2
 8785                            2022     
 8786                            2023     ;       ------ 2011-03-22--------
 8787 000008F4 4211              2024             CMP/PZ  R2
 8788 000008F6 8900              2025             BT      LINK_UPPLS_A_OBJMK1_110                 ;
 8789 000008F8 324C              2026             ADD     R4,R2                                   ;
 8790 000008FA                   2027     LINK_UPPLS_A_OBJMK1_110:                                ;
 8791                            2028     
 8792                            2029     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    51
PROGRAM NAME =

 8793                            2030     
 8794                            2031     
 8795                            2032     
 8796 000008FA D40D              2033             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 8797 000008FC 6142              2034             MOV.L   @R4,R1                                  ;現在 ***.* pls
 8798                            2035                                                             ;目標 ***.* pls
 8799 000008FE D40D              2036             MOV.L   #_SETX_UPDN_CHK_DN_PLS,R4               ;180.0pls(下死点角度 180.0)
 8800 00000900 6342              2037             MOV.L   @R4,R3                                  ;
 8801                            2038     
 8802                            2039     ;       ===========2008-04-28 =======
 8803                            2040     ;;;     MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R0             ;
 8804                            2041     
 8805 00000902 D00D              2042             MOV.L   #_ORIGN_180ARA_FLG,R0   ;
 8806 00000904 6001              2043             MOV.W   @R0,R0                                  ;
 8807 00000906 C820              2044             TST     #BIT5,R0                                ;
 8808                            2045             TST_BIT_ON LINK_UPPLS_A_OBJMK1_145              ;逆転固定
 8809 00000908 8B21                   M           BF      LINK_UPPLS_A_OBJMK1_145
 8810                            2046     ;       ================================
 8811                            2047     
 8812                            2048     
 8813                            2049     ;       ===== R3~R2の範囲にR1がいれば正転===
 8814                            2050             DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R1,ANSREG=R0       ;
 8815 0000090A 3233                   M           CMP/GE  R3,R2
 8816 0000090C 8B16                   M           BF      JMP0100001
 8817                                 M   ;       === 0度をはさなまい===
 8818 0000090E 200A                   M           XOR     R0,R0
 8819 00000910 3133                   M           CMP/GE  R3,R1           ;
 8820 00000912 8B19                   M           BF      JMP0200001                      ; PV<SV1
 8821 00000914 3213                   M           CMP/GE  R1,R2           ;
 8822 00000916 8B17                   M           BF      JMP0200001                      ; SV2<PV2 (1)
 8823 00000918 E001                   M           MOV     #1,R0           ;
 8824                                 M           M_BRA   JMP0200001                      ;
 8825 0000091A A015                   M           BRA     JMP0200001
 8826 0000091C 0009                   M           NOP
 8827                                 M   
 8828                                 M   ;       ==== ０度をはさむ====
 8829                                 M   ***** BEGIN-POOL *****
 8830 0000091E 0000                   M   ALIGNMENT CODE
 8831 00000920 00000000               M   DATA FOR SOURCE-LINE 2006
 8832 00000924 00000000               M   DATA FOR SOURCE-LINE 2009
 8833 00000928 00000000               M   DATA FOR SOURCE-LINE 2011
 8834 0000092C 00000000               M   DATA FOR SOURCE-LINE 2014
 8835 00000930 00000000               M   DATA FOR SOURCE-LINE 2033
 8836 00000934 00000000               M   DATA FOR SOURCE-LINE 2036
 8837 00000938 00000000               M   DATA FOR SOURCE-LINE 2042
 8838                                 M   ***** END-POOL *****
 8839 0000093C                        M   JMP0100001:
 8840 0000093C E001                   M           MOV     #1,R0
 8841 0000093E 3133                   M           CMP/GE  R3,R1
 8842 00000940 8902                   M           BT      JMP0200001                      ;SV1=<PV=<360
 8843 00000942 3213                   M           CMP/GE  R1,R2           ;
 8844 00000944 8900                   M           BT      JMP0200001                      ;
 8845 00000946 200A                   M           XOR     R0,R0           ;
 8846 00000948                        M   JMP0200001:
 8847 00000948 233A              2051             XOR     R3,R3
 8848 0000094A 2008              2052             TST     R0,R0
 8849                            2053             TST_BIT_ON LINK_UPPLS_A_OBJMK1_150              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    52
PROGRAM NAME =

 8850 0000094C 8B00                   M           BF      LINK_UPPLS_A_OBJMK1_150
 8851 0000094E                   2054     LINK_UPPLS_A_OBJMK1_145:                                ;R2
 8852 0000094E E3FF              2055             MOV     #-1,R3
 8853 00000950                   2056     LINK_UPPLS_A_OBJMK1_150:                                ;R2
 8854                            2057     
 8855 00000950 2338              2058             TST     R3,R3                                   ;正転
 8856                            2059             TST_BIT_ON LINK_UPPLS_A_OBJMK1_300              ;逆転 JUMP
 8857 00000952 8B0D                   M           BF      LINK_UPPLS_A_OBJMK1_300
 8858                            2060     ;       ==== 正転方向でいく ====
 8859 00000954 3218              2061             SUB     R1,R2                                   ;
 8860 00000956 4211              2062             CMP/PZ  R2
 8861 00000958 8915              2063             BT      LINK_UPPLS_A_OBJMK1_500                 ;R2 >= 0(R2は符号付距離)
 8862 0000095A D504              2064             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8863 0000095C 6452              2065             MOV.L   @R5,R4                                  ;
 8864 0000095E 324C              2066             ADD     R4,R2                                   ;
 8865 00000960 4211              2067             CMP/PZ  R2
 8866 00000962 8910              2068             BT      LINK_UPPLS_A_OBJMK1_500         ;
 8867 00000964 222A              2069             XOR     R2,R2                                   ;
 8868                            2070             M_BRA   LINK_UPPLS_A_OBJMK1_500                 ;
 8869 00000966 A00E                   M           BRA     LINK_UPPLS_A_OBJMK1_500
 8870 00000968 0009                   M           NOP
 8871                            2071     
 8872                                     ***** BEGIN-POOL *****
 8873 0000096A 0000                       ALIGNMENT CODE
 8874 0000096C 00000000                   DATA FOR SOURCE-LINE 2064
 8875                                     ***** END-POOL *****
 8876 00000970                   2072     LINK_UPPLS_A_OBJMK1_300:                                ;R2
 8877 00000970 3218              2073             SUB     R1,R2                                   ;300-270
 8878 00000972 622B              2074             NEG     R2,R2                                   ;
 8879 00000974 4211              2075             CMP/PZ  R2
 8880 00000976 8905              2076             BT      LINK_UPPLS_A_OBJMK1_400                 ;R2 >= 0(R2は符号付距離)
 8881 00000978 D514              2077             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 8882 0000097A 6452              2078             MOV.L   @R5,R4                                  ;
 8883 0000097C 324C              2079             ADD     R4,R2                                   ;
 8884 0000097E 4211              2080             CMP/PZ  R2
 8885 00000980 8900              2081             BT      LINK_UPPLS_A_OBJMK1_400         ;
 8886 00000982 222A              2082             XOR     R2,R2                                   ;
 8887 00000984                   2083     LINK_UPPLS_A_OBJMK1_400:                                ;
 8888 00000984 622B              2084             NEG     R2,R2                                   ;
 8889 00000986                   2085     LINK_UPPLS_A_OBJMK1_500:                                ;
 8890 00000986 255A              2086             XOR     R5,R5
 8891 00000988 6623              2087             MOV     R2,R6                                   ;
 8892 0000098A 4211              2088             CMP/PZ  R2                                      ;
 8893 0000098C 8900              2089             BT      LINK_UPPLS_A_OBJMK1_600                 ;
 8894 0000098E E5FF              2090             MOV     #-1,R5                                  ;
 8895 00000990                   2091     LINK_UPPLS_A_OBJMK1_600:                                ;
 8896                            2092     
 8897                            2093     
 8898 00000990 D40F              2094             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;//ﾘｱﾙﾀｲﾑ目標絶対
                                          位置(ﾊﾞｯｸﾗｯｼなし)       ;
 8899 00000992 6146              2095             MOV.L   @R4+,R1                                                 ;
 8900 00000994 6242              2096             MOV.L   @R4,R2                                                  ;
 8901                            2097             PUSH_REG1 R1
 8902 00000996 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 8903                                 M                                           ;REG=>[SP]
 8904                                 M                                           ;"-4" FF,FF,FF,FC
 8905                            2098             PUSH_REG1 R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    53
PROGRAM NAME =

 8906 00000998 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 8907                                 M                                           ;REG=>[SP]
 8908                                 M                                           ;"-4" FF,FF,FF,FC
 8909                            2099             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 8910 0000099A 0008                   M           CLRT
 8911 0000099C 326E                   M           ADDC    R6,R2
 8912 0000099E 315E                   M           ADDC    R5,R1
 8913                            2100     
 8914 000009A0 D40C              2101             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 8915 000009A2 2412              2102             MOV.L   R1,@R4                                          ;
 8916 000009A4 1421              2103             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 8917                            2104             POP_REG1 R6
 8918                                 M                                   ; RE"+4" 00,00,00,04
 8919 000009A6 66F6                   M           MOV.L   @R15+,R6        ;
 8920                            2105             POP_REG1 R5
 8921                                 M                                   ; RE"+4" 00,00,00,04
 8922 000009A8 65F6                   M           MOV.L   @R15+,R5        ;
 8923                            2106             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 8924 000009AA 0008                   M           CLRT
 8925 000009AC 326A                   M           SUBC    R6,R2
 8926 000009AE 315A                   M           SUBC    R5,R1
 8927 000009B0 233A              2107             XOR     R3,R3
 8928 000009B2 4111              2108             CMP/PZ  R1                              ;+
 8929 000009B4 8900              2109             BT      LINK_UPPLS_A_OBJMK1_700         ;
 8930 000009B6 E301              2110             MOV     #BIT0,R3
 8931 000009B8                   2111     LINK_UPPLS_A_OBJMK1_700:                                ;
 8932 000009B8 D107              2112             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 8933 000009BA 2131              2113             MOV.W   R3,@R1                          ;
 8934                            2114     
 8935 000009BC D107              2115             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 8936 000009BE 6011              2116             MOV.W   @R1,R0                  ;
 8937 000009C0 C9FE              2117             AND     #LOW ~BIT0,R0           ;
 8938 000009C2 203B              2118             OR      R3,R0                   ;
 8939 000009C4 2101              2119             MOV.W   R0,@R1                  ;
 8940                            2120     
 8941                            2121             SUB_END
 8942                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 8943 000009C6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 8944                            2122             M_RTS
 8945 000009C8 000B                   M           RTS                             ;RTSの後ろの
 8946 000009CA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 8947                            2123     
 8948                            2124     
 8949                            2125     ;       ***************************************************
 8950                            2126     ;       ***                                             ***
 8951                            2127     ;       ***     １回目の目標位置+6.0を目指す            ***
 8952                            2128     ;       ***                                             ***
 8953                            2129     ;       ***************************************************
 8954                                     ***** BEGIN-POOL *****
 8955 000009CC 00000000                   DATA FOR SOURCE-LINE 2077
 8956 000009D0 00000000                   DATA FOR SOURCE-LINE 2094
 8957 000009D4 00000000                   DATA FOR SOURCE-LINE 2101
 8958 000009D8 00000000                   DATA FOR SOURCE-LINE 2112
 8959 000009DC 00000000                   DATA FOR SOURCE-LINE 2115
 8960                                     ***** END-POOL *****
 8961 000009E0                   2130             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    54
PROGRAM NAME =

 8962 000009E0                   2131     _LINK_UPPLS_A_OBJMAK2:
 8963                            2132             SUB_START
 8964 000009E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 8965                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 8966                            2133             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
 8967 000009E2 D013                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8968 000009E4 400B                   M           JSR     @R0                     ;
 8969 000009E6 0009                   M           NOP                                     ;
 8970                            2134     
 8971 000009E8 D412              2135             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 8972 000009EA 6142              2136             MOV.L   @R4,R1                                          ;
 8973 000009EC 5241              2137             MOV.L   @(1*4,R4),R2                                    ;目標位置ｾｯﾄ
 8974 000009EE D412              2138             MOV.L   #_ORG_SECOND_OBJPLS,R4                          ;
 8975 000009F0 6642              2139             MOV.L   @R4,R6                                          ;
 8976 000009F2 255A              2140             XOR     R5,R5                                           ;
 8977 000009F4 4611              2141             CMP/PZ  R6
 8978 000009F6 8900              2142             BT      LINK_UPPLS_A_OBJMK2_030                         ;あり得ない
 8979 000009F8 75FF              2143             ADD     #-1,R5                                          ;
 8980 000009FA                   2144     LINK_UPPLS_A_OBJMK2_030:                                                ;
 8981                            2145             FAR_JSR #_ADDR56_R12_ANS_R12_LIMIT_MAX_MIN,R0           ;
 8982 000009FA D010                   M           MOV.L   #_ADDR56_R12_ANS_R12_LIMIT_MAX_MIN,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 8983 000009FC 400B                   M           JSR     @R0                     ;
 8984 000009FE 0009                   M           NOP                                     ;
 8985                            2146     
 8986 00000A00 D40C              2147             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 8987 00000A02 2412              2148             MOV.L   R1,@R4                                          ;
 8988 00000A04 1421              2149             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 8989                            2150     
 8990 00000A06 D40E              2151             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)       ;
 8991 00000A08 6546              2152             MOV.L   @R4+,R5                                                         ;
 8992 00000A0A 6642              2153             MOV.L   @R4,R6                                                          ;
 8993                            2154             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 8994 00000A0C 0008                   M           CLRT
 8995 00000A0E 326A                   M           SUBC    R6,R2
 8996 00000A10 315A                   M           SUBC    R5,R1
 8997 00000A12 233A              2155             XOR     R3,R3
 8998 00000A14 4111              2156             CMP/PZ  R1                              ;
 8999 00000A16 8900              2157             BT      LINK_UPPLS_A_OBJMK2_050         ;
 9000 00000A18 E301              2158             MOV     #BIT0,R3                        ;
 9001 00000A1A                   2159     LINK_UPPLS_A_OBJMK2_050:                                ;
 9002 00000A1A D10A              2160             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 9003 00000A1C 2131              2161             MOV.W   R3,@R1                          ;
 9004                            2162     
 9005 00000A1E D10A              2163             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 9006 00000A20 6011              2164             MOV.W   @R1,R0                  ;
 9007 00000A22 C9FE              2165             AND     #LOW ~BIT0,R0           ;
 9008 00000A24 203B              2166             OR      R3,R0                   ;
 9009 00000A26 2101              2167             MOV.W   R0,@R1                  ;
 9010                            2168     
 9011                            2169             SUB_END
 9012                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9013 00000A28 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9014                            2170             M_RTS
 9015 00000A2A 000B                   M           RTS                             ;RTSの後ろの
 9016 00000A2C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    55
PROGRAM NAME =

 9017                            2171     
 9018                            2172     ;       ***************************************************
 9019                            2173     ;       ***                                             ***
 9020                            2174     ;       ***     今の回転上の待機点を目指す              ***
 9021                            2175     ;       ***     本当は正転する待機点を目指す            ***
 9022                            2176     ;       ***************************************************
 9023                            2177     ;       ｱﾙｺﾞﾘｽﾞﾑ:今の回転の待機点が負方向なら、１回転した待機点に変更し、
 9024                            2178     ;
 9025                                     ***** BEGIN-POOL *****
 9026 00000A2E 0000                       ALIGNMENT CODE
 9027 00000A30 00000000                   DATA FOR SOURCE-LINE 2133
 9028 00000A34 00000000                   DATA FOR SOURCE-LINE 2135,2147
 9029 00000A38 00000000                   DATA FOR SOURCE-LINE 2138
 9030 00000A3C 00000000                   DATA FOR SOURCE-LINE 2145
 9031 00000A40 00000000                   DATA FOR SOURCE-LINE 2151
 9032 00000A44 00000000                   DATA FOR SOURCE-LINE 2160
 9033 00000A48 00000000                   DATA FOR SOURCE-LINE 2163
 9034                                     ***** END-POOL *****
 9035 00000A4C                   2179             .ALIGN  4                               ;
 9036 00000A4C                   2180     _LINK_UPPLS_A_OBJMAK3:
 9037                            2181             SUB_START
 9038 00000A4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9039                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9040                            2182     
 9041                            2183     
 9042                            2184             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;20060919
 9043 00000A4E D009                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9044 00000A50 400B                   M           JSR     @R0                     ;
 9045 00000A52 0009                   M           NOP                                     ;
 9046                            2185     
 9047                            2186     
 9048                            2187             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 9049 00000A54 D008                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9050 00000A56 400B                   M           JSR     @R0                     ;
 9051 00000A58 0009                   M           NOP                                     ;
 9052                            2188     
 9053                            2189     ;       ----------- 2014-09-18 -----------------
 9054                            2190             FAR_JSR #_LINK_UPPLS_OBJ_SELECT1,R0             ;
 9055 00000A5A D008                   M           MOV.L   #_LINK_UPPLS_OBJ_SELECT1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9056 00000A5C 400B                   M           JSR     @R0                     ;
 9057 00000A5E 0009                   M           NOP                                     ;
 9058                            2191     
 9059                            2192     
 9060                            2193     ;;2014-09-18　SELECT1へ移動;    -------2012-10-19 別目的　ふりこ退避
 9061                            2194     ;;2014-09-18　SELECT1へ移動     MOV.L   #_CB_SEQ_CB_COM349,R1           ;
 9062                            2195     ;;2014-09-18　SELECT1へ移動     MOV.W   @R1,R0                          ;
 9063                            2196     ;;2014-09-18　SELECT1へ移動     TST     #BIT5,R0                        ;
 9064                            2197     ;;2014-09-18　SELECT1へ移動     TST_BIT_OF LINK_UPPLS_A_OBJMK3_050      ;R2
 9065                            2198     ;;2014-09-18　SELECT1へ移動
 9066                            2199     ;;2014-09-18　SELECT1へ移動     MOV.L   #_WPARX_ELSE_ORGPLS,R0                  ;//4;好き
                                          なとこ
 9067                            2200     ;;2014-09-18　SELECT1へ移動     MOV.L   @R0,R2                                  ;
 9068                            2201     ;;2014-09-18　SELECT1へ移動     M_BRA   LINK_UPPLS_A_OBJMK3_110B                ;R2
 9069                            2202     ;;2014-09-18　SELECT1へ移動
 9070                            2203     ;;2014-09-18　SELECT1へ移動LINK_UPPLS_A_OBJMK3_050:
 9071                            2204     ;;2014-09-18　SELECT1へ移動;    -----------------------------
 9072                            2205     ;;2014-09-18　SELECT1へ移動
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    56
PROGRAM NAME =

 9073                            2206     ;;2014-09-18　SELECT1へ移動     MOV.L   #_BRKTST_SW_IN,R1               ;制動試験
 9074                            2207     ;;2014-09-18　SELECT1へ移動     MOV.W   @R1,R0                          ;
 9075                            2208     ;;2014-09-18　SELECT1へ移動     TST     #BIT0,R0                        ;
 9076                            2209     ;;2014-09-18　SELECT1へ移動     TST_BIT_OF LINK_UPPLS_A_OBJMK3_100A     ;R2
 9077                            2210     ;;2014-09-18　SELECT1へ移動
 9078                            2211     ;;2014-09-18　SELECT1へ移動     MOV.L   #_WPARX_BRKTST_ORGPLS,R0                ;//4;待機
                                          点X
 9079                            2212     ;;2014-09-18　SELECT1へ移動     MOV.L   @R0,R2                                  ;
 9080                            2213     ;;2014-09-18　SELECT1へ移動     M_BRA   LINK_UPPLS_A_OBJMK3_110B                ;R2
 9081                            2214     ;;2014-09-18　SELECT1へ移動
 9082                            2215     ;;2014-09-18　SELECT1へ移動
 9083                            2216     ;;2014-09-18　SELECT1へ移動;    === 目標角度 ====
 9084                            2217     ;;2014-09-18　SELECT1へ移動LINK_UPPLS_A_OBJMK3_100A:                            ;R2
 9085                            2218     ;;2014-09-18　SELECT1へ移動     MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機
                                          点
 9086                            2219     ;;2014-09-18　SELECT1へ移動     MOV.L   @R0,R2                                  ;
 9087                            2220     ;;2014-09-18　SELECT1へ移動LINK_UPPLS_A_OBJMK3_110B:                            ;R2
 9088                            2221     ;;;2011-05-11   MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 9089                            2222     ;;;2011-05-11   MOV.L   @R0,R2                                  ;
 9090                            2223     
 9091                            2224     
 9092                            2225     ;       ===========2008-04-28 =======
 9093 00000A60 D007              2226             MOV.L   #_ORIGN_180ARA_FLG,R0                   ;
 9094 00000A62 6001              2227             MOV.W   @R0,R0                                  ;
 9095 00000A64 C920              2228             AND     #BIT5,R0                                ;
 9096                            2229     
 9097                            2230             FAR_JSR #_UPPLS1_OBJMAK_COMMON,R4               ;input R2(目標),R0=0(自動判別) R0!
                                          =0(BIT5=1)逆転固定
 9098 00000A66 D407                   M           MOV.L   #_UPPLS1_OBJMAK_COMMON,R4               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9099 00000A68 440B                   M           JSR     @R4                     ;
 9100 00000A6A 0009                   M           NOP                                     ;
 9101                            2231     
 9102                            2232             SUB_END
 9103                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9104 00000A6C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9105                            2233             M_RTS
 9106 00000A6E 000B                   M           RTS                             ;RTSの後ろの
 9107 00000A70 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9108                            2234     
 9109                            2235     
 9110                            2236     
 9111                            2237     ;       *******************************************
 9112                            2238     ;       ***                                     ***
 9113                            2239     ;       ***     待機点位置決めの目標位置選択    ***
 9114                            2240     ;       ***                                     ***
 9115                            2241     ;       *******************************************
 9116                            2242     ;       2014-09-18 ｻﾌﾞﾙｰﾁﾝ化しただけ
 9117                            2243     ;
 9118                            2244     ;       ANS R0=0:強制書き換え無し R2=待機点
 9119                            2245     ;       ANS R0=1:強制書き換え有り R2=変更目標
 9120                            2246     ;
 9121                            2247     ;
 9122                                     ***** BEGIN-POOL *****
 9123 00000A72 0000                       ALIGNMENT CODE
 9124 00000A74 00000000                   DATA FOR SOURCE-LINE 2184
 9125 00000A78 00000000                   DATA FOR SOURCE-LINE 2187
 9126 00000A7C 00000000                   DATA FOR SOURCE-LINE 2190
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    57
PROGRAM NAME =

 9127 00000A80 00000000                   DATA FOR SOURCE-LINE 2226
 9128 00000A84 00000000                   DATA FOR SOURCE-LINE 2230
 9129                                     ***** END-POOL *****
 9130 00000A88                   2248     _LINK_UPPLS_OBJ_SELECT1
 9131                            2249             SUB_START
 9132 00000A88 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9133                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9134                            2250     
 9135                            2251     ;       -------2012-10-19 別目的　ふりこ退避
 9136 00000A8A D104              2252             MOV.L   #_CB_SEQ_CB_COM349,R1           ;
 9137 00000A8C 6011              2253             MOV.W   @R1,R0                          ;
 9138 00000A8E C820              2254             TST     #BIT5,R0                        ;
 9139                            2255             TST_BIT_OF LINK_UPPLS_OBJ_SEL_050       ;R2
 9140 00000A90 8908                   M           BT      LINK_UPPLS_OBJ_SEL_050
 9141                            2256     
 9142 00000A92 D003              2257             MOV.L   #_WPARX_ELSE_ORGPLS,R0                  ;//4;好きなとこ
 9143 00000A94 6202              2258             MOV.L   @R0,R2                                  ;
 9144                            2259             M_BRA   LINK_UPPLS_OBJ_SEL_110B         ;R2
 9145 00000A96 A019                   M           BRA     LINK_UPPLS_OBJ_SEL_110B
 9146 00000A98 0009                   M           NOP
 9147                            2260     
 9148                                     ***** BEGIN-POOL *****
 9149 00000A9A 0000                       ALIGNMENT CODE
 9150 00000A9C 00000000                   DATA FOR SOURCE-LINE 2252
 9151 00000AA0 00000000                   DATA FOR SOURCE-LINE 2257
 9152                                     ***** END-POOL *****
 9153 00000AA4                   2261     LINK_UPPLS_OBJ_SEL_050:
 9154                            2262     ;       -----------------------------
 9155                            2263     
 9156 00000AA4 D103              2264             MOV.L   #_BRKTST_SW_IN,R1               ;制動試験
 9157 00000AA6 6011              2265             MOV.W   @R1,R0                          ;
 9158 00000AA8 C801              2266             TST     #BIT0,R0                        ;
 9159                            2267             TST_BIT_OF LINK_UPPLS_OBJ_SEL_100A      ;R2
 9160 00000AAA 8907                   M           BT      LINK_UPPLS_OBJ_SEL_100A
 9161                            2268     
 9162 00000AAC D002              2269             MOV.L   #_WPARX_BRKTST_ORGPLS,R0                ;//4;待機点X
 9163 00000AAE 6202              2270             MOV.L   @R0,R2                                  ;
 9164                            2271             M_BRA   LINK_UPPLS_OBJ_SEL_110B         ;R2
 9165 00000AB0 A00C                   M           BRA     LINK_UPPLS_OBJ_SEL_110B
 9166 00000AB2 0009                   M           NOP
 9167                            2272     
 9168                            2273     
 9169                            2274     ;       === 目標角度(通常の待機点) ====
 9170                                     ***** BEGIN-POOL *****
 9171 00000AB4 00000000                   DATA FOR SOURCE-LINE 2264
 9172 00000AB8 00000000                   DATA FOR SOURCE-LINE 2269
 9173                                     ***** END-POOL *****
 9174 00000ABC                   2275     LINK_UPPLS_OBJ_SEL_100A:                                ;R2
 9175 00000ABC D002              2276             MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 9176 00000ABE 6202              2277             MOV.L   @R0,R2                                  ;
 9177 00000AC0 200A              2278             XOR     R0,R0                                   ;強制書換無し
 9178                            2279             M_BRA   LINK_UPPLS_OBJ_SEL_END                  ;
 9179 00000AC2 A004                   M           BRA     LINK_UPPLS_OBJ_SEL_END
 9180 00000AC4 0009                   M           NOP
 9181                            2280     
 9182                                     ***** BEGIN-POOL *****
 9183 00000AC6 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    58
PROGRAM NAME =

 9184 00000AC8 00000000                   DATA FOR SOURCE-LINE 2276
 9185                                     ***** END-POOL *****
 9186 00000ACC                   2281     LINK_UPPLS_OBJ_SEL_110B:                                ;
 9187 00000ACC E0FF              2282             MOV.B   #-1,R0                                  ;強制書換有り
 9188                            2283     
 9189 00000ACE                   2284     LINK_UPPLS_OBJ_SEL_END:                         ;R2
 9190                            2285     
 9191                            2286             SUB_END
 9192                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9193 00000ACE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9194                            2287             M_RTS
 9195 00000AD0 000B                   M           RTS                             ;RTSの後ろの
 9196 00000AD2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9197                            2288     
 9198                            2289     
 9199                            2290     
 9200                            2291     
 9201                            2292     ;       ***************************************************
 9202                            2293     ;       ***                                             ***
 9203                            2294     ;       ***     待機位置決めの方向判別＋目標＋方向      ***
 9204                            2295     ;       ***     R2:目標位置ｵﾌｾｯﾄﾊﾟﾙｽ相当の角度          ***
 9205                            2296     ;       ***     R0=0自動判別　R0=BIT5逆転固定           ***
 9206                            2297     ;       ***                                             ***
 9207                            2298     ;       ***************************************************
 9208                            2299     ;
 9209                            2300     ;input R2(目標),R0=0(自動判別) R0!=0(BIT5=1)逆転固定
 9210                            2301     
 9211                            2302     
 9212 00000AD4                   2303     _UPPLS1_OBJMAK_COMMON:
 9213                            2304             SUB_START
 9214 00000AD4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9215                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9216                            2305     
 9217 00000AD6 D408              2306             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 9218 00000AD8 6142              2307             MOV.L   @R4,R1                                  ;現在 ***.* pls
 9219                            2308                                                             ;目標 ***.* pls
 9220 00000ADA D408              2309             MOV.L   #_SETX_UPDN_CHK_DN_PLS,R4               ;180.0pls(下死点角度 180.0)
 9221 00000ADC 6342              2310             MOV.L   @R4,R3                                  ;
 9222                            2311     
 9223                            2312     
 9224                            2313     ;;;;    TST     #BIT5,R0                        ;
 9225 00000ADE 2008              2314             TST     R0,R0                           ;
 9226                            2315             TST_BIT_ON UPPLS1_OBJMAK_COM_145        ;逆転固定(1回起動した場合は0になるのでｻｰﾁ
                                          完了時は0)
 9227 00000AE0 8B17                   M           BF      UPPLS1_OBJMAK_COM_145
 9228                            2316     
 9229                            2317     ;       ===== R3[下死点]~R2[待機点]の範囲にR1がいれば正転===
 9230                            2318             DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R1,ANSREG=R0       ;
 9231 00000AE2 3233                   M           CMP/GE  R3,R2
 9232 00000AE4 8B0C                   M           BF      JMP0100002
 9233                                 M   ;       === 0度をはさなまい===
 9234 00000AE6 200A                   M           XOR     R0,R0
 9235 00000AE8 3133                   M           CMP/GE  R3,R1           ;
 9236 00000AEA 8B0F                   M           BF      JMP0200002                      ; PV<SV1
 9237 00000AEC 3213                   M           CMP/GE  R1,R2           ;
 9238 00000AEE 8B0D                   M           BF      JMP0200002                      ; SV2<PV2 (1)
 9239 00000AF0 E001                   M           MOV     #1,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    59
PROGRAM NAME =

 9240                                 M           M_BRA   JMP0200002                      ;
 9241 00000AF2 A00B                   M           BRA     JMP0200002
 9242 00000AF4 0009                   M           NOP
 9243                                 M   
 9244                                 M   ;       ==== ０度をはさむ====
 9245                                 M   ***** BEGIN-POOL *****
 9246 00000AF6 0000                   M   ALIGNMENT CODE
 9247 00000AF8 00000000               M   DATA FOR SOURCE-LINE 2306
 9248 00000AFC 00000000               M   DATA FOR SOURCE-LINE 2309
 9249                                 M   ***** END-POOL *****
 9250 00000B00                        M   JMP0100002:
 9251 00000B00 E001                   M           MOV     #1,R0
 9252 00000B02 3133                   M           CMP/GE  R3,R1
 9253 00000B04 8902                   M           BT      JMP0200002                      ;SV1=<PV=<360
 9254 00000B06 3213                   M           CMP/GE  R1,R2           ;
 9255 00000B08 8900                   M           BT      JMP0200002                      ;
 9256 00000B0A 200A                   M           XOR     R0,R0           ;
 9257 00000B0C                        M   JMP0200002:
 9258 00000B0C 233A              2319             XOR     R3,R3
 9259 00000B0E 2008              2320             TST     R0,R0
 9260                            2321             TST_BIT_ON UPPLS1_OBJMAK_COM_150                ;
 9261 00000B10 8B00                   M           BF      UPPLS1_OBJMAK_COM_150
 9262 00000B12                   2322     UPPLS1_OBJMAK_COM_145:                          ;R2
 9263 00000B12 E3FF              2323             MOV     #-1,R3
 9264 00000B14                   2324     UPPLS1_OBJMAK_COM_150:                          ;R2
 9265                            2325     
 9266 00000B14 2338              2326             TST     R3,R3                                   ;正転
 9267                            2327             TST_BIT_ON UPPLS1_OBJMAK_COM_300                ;逆転 JUMP
 9268 00000B16 8B0D                   M           BF      UPPLS1_OBJMAK_COM_300
 9269                            2328     ;       ==== 正転方向でいく ====
 9270 00000B18 3218              2329             SUB     R1,R2                                   ;
 9271 00000B1A 4211              2330             CMP/PZ  R2
 9272 00000B1C 8915              2331             BT      UPPLS1_OBJMAK_COM_500                   ;R2 >= 0(R2は符号付距離)
 9273 00000B1E D504              2332             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9274 00000B20 6452              2333             MOV.L   @R5,R4                                  ;
 9275 00000B22 324C              2334             ADD     R4,R2                                   ;
 9276 00000B24 4211              2335             CMP/PZ  R2
 9277 00000B26 8910              2336             BT      UPPLS1_OBJMAK_COM_500           ;
 9278 00000B28 222A              2337             XOR     R2,R2                                   ;
 9279                            2338             M_BRA   UPPLS1_OBJMAK_COM_500                   ;
 9280 00000B2A A00E                   M           BRA     UPPLS1_OBJMAK_COM_500
 9281 00000B2C 0009                   M           NOP
 9282                            2339     
 9283                                     ***** BEGIN-POOL *****
 9284 00000B2E 0000                       ALIGNMENT CODE
 9285 00000B30 00000000                   DATA FOR SOURCE-LINE 2332
 9286                                     ***** END-POOL *****
 9287 00000B34                   2340     UPPLS1_OBJMAK_COM_300:                          ;R2
 9288 00000B34 3218              2341             SUB     R1,R2                                   ;300-270
 9289 00000B36 622B              2342             NEG     R2,R2                                   ;
 9290 00000B38 4211              2343             CMP/PZ  R2
 9291 00000B3A 8905              2344             BT      UPPLS1_OBJMAK_COM_400                   ;R2 >= 0(R2は符号付距離)
 9292 00000B3C D514              2345             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9293 00000B3E 6452              2346             MOV.L   @R5,R4                                  ;
 9294 00000B40 324C              2347             ADD     R4,R2                                   ;
 9295 00000B42 4211              2348             CMP/PZ  R2
 9296 00000B44 8900              2349             BT      UPPLS1_OBJMAK_COM_400                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    60
PROGRAM NAME =

 9297 00000B46 222A              2350             XOR     R2,R2                                   ;
 9298 00000B48                   2351     UPPLS1_OBJMAK_COM_400:                          ;
 9299 00000B48 622B              2352             NEG     R2,R2                                   ;
 9300 00000B4A                   2353     UPPLS1_OBJMAK_COM_500:                          ;
 9301 00000B4A 255A              2354             XOR     R5,R5                                   ;
 9302 00000B4C 6623              2355             MOV     R2,R6                                   ;
 9303 00000B4E 4211              2356             CMP/PZ  R2                                      ;
 9304 00000B50 8900              2357             BT      UPPLS1_OBJMAK_COM_600                   ;
 9305 00000B52 E5FF              2358             MOV     #-1,R5                                  ;
 9306 00000B54                   2359     UPPLS1_OBJMAK_COM_600:                          ;
 9307                            2360     
 9308                            2361     
 9309 00000B54 D40F              2362             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;//ﾘｱﾙﾀｲﾑ目標絶対
                                          位置(ﾊﾞｯｸﾗｯｼなし)       ;
 9310 00000B56 6146              2363             MOV.L   @R4+,R1                                                 ;
 9311 00000B58 6242              2364             MOV.L   @R4,R2                                                  ;
 9312                            2365             PUSH_REG1 R1
 9313 00000B5A 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 9314                                 M                                           ;REG=>[SP]
 9315                                 M                                           ;"-4" FF,FF,FF,FC
 9316                            2366             PUSH_REG1 R2
 9317 00000B5C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 9318                                 M                                           ;REG=>[SP]
 9319                                 M                                           ;"-4" FF,FF,FF,FC
 9320                            2367             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 9321 00000B5E 0008                   M           CLRT
 9322 00000B60 326E                   M           ADDC    R6,R2
 9323 00000B62 315E                   M           ADDC    R5,R1
 9324                            2368     
 9325 00000B64 D40C              2369             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 9326 00000B66 2412              2370             MOV.L   R1,@R4                                          ;
 9327 00000B68 1421              2371             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 9328                            2372             POP_REG1 R6
 9329                                 M                                   ; RE"+4" 00,00,00,04
 9330 00000B6A 66F6                   M           MOV.L   @R15+,R6        ;
 9331                            2373             POP_REG1 R5
 9332                                 M                                   ; RE"+4" 00,00,00,04
 9333 00000B6C 65F6                   M           MOV.L   @R15+,R5        ;
 9334                            2374     
 9335                            2375             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 9336 00000B6E 0008                   M           CLRT
 9337 00000B70 326A                   M           SUBC    R6,R2
 9338 00000B72 315A                   M           SUBC    R5,R1
 9339 00000B74 233A              2376             XOR     R3,R3
 9340 00000B76 4111              2377             CMP/PZ  R1                              ;
 9341 00000B78 8900              2378             BT      UPPLS1_OBJMAK_COM_750           ;
 9342 00000B7A E301              2379             MOV     #BIT0,R3                        ;
 9343 00000B7C                   2380     UPPLS1_OBJMAK_COM_750:                          ;
 9344 00000B7C D107              2381             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 9345 00000B7E 2131              2382             MOV.W   R3,@R1                          ;
 9346                            2383     
 9347 00000B80 D107              2384             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 9348 00000B82 6011              2385             MOV.W   @R1,R0                  ;
 9349 00000B84 C9FE              2386             AND     #LOW ~BIT0,R0           ;
 9350 00000B86 203B              2387             OR      R3,R0                   ;
 9351 00000B88 2101              2388             MOV.W   R0,@R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    61
PROGRAM NAME =

 9352                            2389     
 9353                            2390             SUB_END
 9354                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9355 00000B8A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9356                            2391             M_RTS
 9357 00000B8C 000B                   M           RTS                             ;RTSの後ろの
 9358 00000B8E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9359                            2392     
 9360                            2393     
 9361                            2394     
 9362                            2395     
 9363                            2396     ;       ***************************************************
 9364                            2397     ;       ***                                             ***
 9365                            2398     ;       ***     シーケンスによる運転方向の決定          ***
 9366                            2399     ;       ***                                             ***
 9367                            2400     ;       ***************************************************
 9368                            2401     ;       Input   R0 ==0 正転
 9369                            2402     ;               R0 !=0(BIT13)逆転
 9370                            2403     ;       2004-07-01
 9371                            2404     ;
 9372                                     ***** BEGIN-POOL *****
 9373 00000B90 00000000                   DATA FOR SOURCE-LINE 2345
 9374 00000B94 00000000                   DATA FOR SOURCE-LINE 2362
 9375 00000B98 00000000                   DATA FOR SOURCE-LINE 2369
 9376 00000B9C 00000000                   DATA FOR SOURCE-LINE 2381
 9377 00000BA0 00000000                   DATA FOR SOURCE-LINE 2384
 9378                                     ***** END-POOL *****
 9379 00000BA4                   2405             .ALIGN  4                               ;
 9380 00000BA4                   2406     _LINK_DIR_OBJMAK3:
 9381                            2407             SUB_START
 9382 00000BA4 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9383                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9384                            2408     
 9385                            2409             PUSH_REG1 R0
 9386 00000BA6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
 9387                                 M                                           ;REG=>[SP]
 9388                                 M                                           ;"-4" FF,FF,FF,FC
 9389                            2410     
 9390                            2411     
 9391                            2412             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
 9392 00000BA8 D00E                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9393 00000BAA 400B                   M           JSR     @R0                     ;
 9394 00000BAC 0009                   M           NOP                                     ;
 9395                            2413     
 9396                            2414             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 9397 00000BAE D00E                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9398 00000BB0 400B                   M           JSR     @R0                     ;
 9399 00000BB2 0009                   M           NOP                                     ;
 9400                            2415     
 9401                            2416     ;       === 目標角度() ====
 9402 00000BB4 D00D              2417             MOV.L   #_SETX_UPAREA_PLS,R0                    ;//4;待機点
 9403 00000BB6 6202              2418             MOV.L   @R0,R2                                  ;
 9404 00000BB8 D40D              2419             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;
 9405 00000BBA 6142              2420             MOV.L   @R4,R1                                  ;現在 ***.* pls
 9406                            2421                                                             ;目標 ***.* pls
 9407                            2422     
 9408                            2423             POP_REG1 R0                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    62
PROGRAM NAME =

 9409                                 M                                   ; RE"+4" 00,00,00,04
 9410 00000BBC 60F6                   M           MOV.L   @R15+,R0        ;
 9411                            2424     
 9412 00000BBE 2008              2425             TST     R0,R0                                   ;
 9413                            2426             TST_BIT_ON LINK_DIR_OBJMK3_300                  ;
 9414 00000BC0 8B1C                   M           BF      LINK_DIR_OBJMK3_300
 9415                            2427     ;       ==== 正転方向でいく ====
 9416 00000BC2 3218              2428             SUB     R1,R2                                   ;
 9417 00000BC4 4211              2429             CMP/PZ  R2
 9418 00000BC6 8905              2430             BT      LINK_DIR_OBJMK3_250                             ;R2 >= 0(R2は符号付距離)
 9419 00000BC8 D50A              2431             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9420 00000BCA 6452              2432             MOV.L   @R5,R4                                  ;
 9421 00000BCC 324C              2433             ADD     R4,R2                                   ;
 9422 00000BCE 4211              2434             CMP/PZ  R2
 9423 00000BD0 8900              2435             BT      LINK_DIR_OBJMK3_250                     ;
 9424 00000BD2 222A              2436             XOR     R2,R2                                   ;
 9425 00000BD4                   2437     LINK_DIR_OBJMK3_250:                                    ;
 9426                            2438             FAR_JSR #_OBJ_NEAR_CHK1,R0                      ;ANS R0!=0 NEAR ZERO
 9427 00000BD4 D008                   M           MOV.L   #_OBJ_NEAR_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9428 00000BD6 400B                   M           JSR     @R0                     ;
 9429 00000BD8 0009                   M           NOP                                     ;
 9430 00000BDA 2008              2439             TST     R0,R0                                   ;
 9431                            2440             TST_BIT_OF LINK_DIR_OBJMK3_280                  ;NOT NEAR ZERO JUMP
 9432 00000BDC 8900                   M           BT      LINK_DIR_OBJMK3_280
 9433 00000BDE 222A              2441             XOR     R2,R2                                   ;
 9434 00000BE0                   2442     LINK_DIR_OBJMK3_280:
 9435                            2443             M_BRA   LINK_DIR_OBJMK3_500                             ;
 9436 00000BE0 A01D                   M           BRA     LINK_DIR_OBJMK3_500
 9437 00000BE2 0009                   M           NOP
 9438                            2444     
 9439                            2445     ;       ====逆転方向でいく=====
 9440                                     ***** BEGIN-POOL *****
 9441 00000BE4 00000000                   DATA FOR SOURCE-LINE 2412
 9442 00000BE8 00000000                   DATA FOR SOURCE-LINE 2414
 9443 00000BEC 00000000                   DATA FOR SOURCE-LINE 2417
 9444 00000BF0 00000000                   DATA FOR SOURCE-LINE 2419
 9445 00000BF4 00000000                   DATA FOR SOURCE-LINE 2431
 9446 00000BF8 00000000                   DATA FOR SOURCE-LINE 2438
 9447                                     ***** END-POOL *****
 9448 00000BFC                   2446     LINK_DIR_OBJMK3_300:                                    ;R2
 9449 00000BFC 3218              2447             SUB     R1,R2                                   ;
 9450 00000BFE 622B              2448             NEG     R2,R2                                   ;
 9451 00000C00 4211              2449             CMP/PZ  R2                                      ;
 9452 00000C02 8905              2450             BT      LINK_DIR_OBJMK3_400                             ;R2 >= 0(R2は符号付距離)
 9453 00000C04 D517              2451             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9454 00000C06 6452              2452             MOV.L   @R5,R4                                  ;
 9455 00000C08 324C              2453             ADD     R4,R2                                   ;
 9456 00000C0A 4211              2454             CMP/PZ  R2
 9457 00000C0C 8900              2455             BT      LINK_DIR_OBJMK3_400                     ;
 9458 00000C0E 222A              2456             XOR     R2,R2                                   ;
 9459 00000C10                   2457     LINK_DIR_OBJMK3_400:                                    ;R2 ≦NERA-ZERO or  1REV-NEAR≦R2
                                          なら R2=0とする
 9460                            2458     
 9461                            2459             FAR_JSR #_OBJ_NEAR_CHK1,R0                      ;ANS R0=0 NOT NEAR ZERO
 9462 00000C10 D015                   M           MOV.L   #_OBJ_NEAR_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9463 00000C12 400B                   M           JSR     @R0                     ;
 9464 00000C14 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    63
PROGRAM NAME =

 9465 00000C16 2008              2460             TST     R0,R0                                   ;
 9466                            2461             TST_BIT_OF LINK_DIR_OBJMK3_450                  ;
 9467 00000C18 8900                   M           BT      LINK_DIR_OBJMK3_450
 9468 00000C1A 222A              2462             XOR     R2,R2                                   ;
 9469 00000C1C                   2463     LINK_DIR_OBJMK3_450:                                    ;
 9470                            2464     
 9471 00000C1C 622B              2465             NEG     R2,R2                                   ;
 9472 00000C1E                   2466     LINK_DIR_OBJMK3_500:                                    ;R2:+/-
 9473 00000C1E 255A              2467             XOR     R5,R5                                   ;
 9474 00000C20 6623              2468             MOV     R2,R6                                   ;
 9475 00000C22 4211              2469             CMP/PZ  R2                                      ;
 9476 00000C24 8900              2470             BT      LINK_DIR_OBJMK3_600                     ;
 9477 00000C26 E5FF              2471             MOV     #-1,R5                                  ;
 9478 00000C28                   2472     LINK_DIR_OBJMK3_600:                                    ;
 9479                            2473     
 9480                            2474     
 9481 00000C28 D410              2475             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;//ﾘｱﾙﾀｲﾑ目標絶対
                                          位置(ﾊﾞｯｸﾗｯｼなし)       ;
 9482 00000C2A 6146              2476             MOV.L   @R4+,R1                                                 ;
 9483 00000C2C 6242              2477             MOV.L   @R4,R2                                                  ;
 9484                            2478             PUSH_REG1 R1
 9485 00000C2E 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
 9486                                 M                                           ;REG=>[SP]
 9487                                 M                                           ;"-4" FF,FF,FF,FC
 9488                            2479             PUSH_REG1 R2
 9489 00000C30 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 9490                                 M                                           ;REG=>[SP]
 9491                                 M                                           ;"-4" FF,FF,FF,FC
 9492                            2480             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
 9493 00000C32 0008                   M           CLRT
 9494 00000C34 326E                   M           ADDC    R6,R2
 9495 00000C36 315E                   M           ADDC    R5,R1
 9496 00000C38 D40D              2481             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
 9497 00000C3A 2412              2482             MOV.L   R1,@R4                                          ;
 9498 00000C3C 1421              2483             MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
 9499                            2484             POP_REG1 R6
 9500                                 M                                   ; RE"+4" 00,00,00,04
 9501 00000C3E 66F6                   M           MOV.L   @R15+,R6        ;
 9502                            2485             POP_REG1 R5
 9503                                 M                                   ; RE"+4" 00,00,00,04
 9504 00000C40 65F6                   M           MOV.L   @R15+,R5        ;
 9505                            2486     
 9506                            2487             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
 9507 00000C42 0008                   M           CLRT
 9508 00000C44 326A                   M           SUBC    R6,R2
 9509 00000C46 315A                   M           SUBC    R5,R1
 9510 00000C48 233A              2488             XOR     R3,R3
 9511 00000C4A 4111              2489             CMP/PZ  R1                              ;
 9512 00000C4C 8900              2490             BT      LINK_DIR_OBJMK3_750             ;
 9513 00000C4E E301              2491             MOV     #BIT0,R3                        ;
 9514 00000C50                   2492     LINK_DIR_OBJMK3_750:                            ;
 9515 00000C50 D108              2493             MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
 9516 00000C52 2131              2494             MOV.W   R3,@R1                          ;
 9517                            2495     
 9518 00000C54 D108              2496             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
 9519 00000C56 6011              2497             MOV.W   @R1,R0                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    64
PROGRAM NAME =

 9520 00000C58 C9FE              2498             AND     #LOW ~BIT0,R0           ;
 9521 00000C5A 203B              2499             OR      R3,R0                   ;
 9522 00000C5C 2101              2500             MOV.W   R0,@R1                  ;
 9523                            2501     
 9524                            2502             SUB_END
 9525                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9526 00000C5E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9527                            2503             M_RTS
 9528 00000C60 000B                   M           RTS                             ;RTSの後ろの
 9529 00000C62 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9530                            2504     
 9531                            2505     ;       ***************************************************
 9532                            2506     ;       ***                                             ***
 9533                            2507     ;       ***     今の回転上の待機点を目指す              ***
 9534                            2508     ;       ***     本当は正転する待機点を目指す            ***
 9535                            2509     ;       ***************************************************
 9536                            2510     ;       ｱﾙｺﾞﾘｽﾞﾑ:今の回転の待機点が負方向なら、１回転した待機点に変更し、
 9537                            2511     ;
 9538                                     ***** BEGIN-POOL *****
 9539 00000C64 00000000                   DATA FOR SOURCE-LINE 2451
 9540 00000C68 00000000                   DATA FOR SOURCE-LINE 2459
 9541 00000C6C 00000000                   DATA FOR SOURCE-LINE 2475
 9542 00000C70 00000000                   DATA FOR SOURCE-LINE 2481
 9543 00000C74 00000000                   DATA FOR SOURCE-LINE 2493
 9544 00000C78 00000000                   DATA FOR SOURCE-LINE 2496
 9545                                     ***** END-POOL *****
 9546 00000C7C                   2512             .ALIGN  4                               ;
 9547 00000C7C                   2513     _LINK_UPPLS_DNDRIV:
 9548                            2514             SUB_START
 9549 00000C7C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9550                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9551                            2515     
 9552                            2516             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
 9553 00000C7E D005                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9554 00000C80 400B                   M           JSR     @R0                     ;
 9555 00000C82 0009                   M           NOP                                     ;
 9556                            2517     
 9557                            2518     ;       ----------- 2014-09-18 -----------------
 9558                            2519             FAR_JSR #_LINK_UPPLS_OBJ_SELECT1,R0             ;
 9559 00000C84 D004                   M           MOV.L   #_LINK_UPPLS_OBJ_SELECT1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9560 00000C86 400B                   M           JSR     @R0                     ;
 9561 00000C88 0009                   M           NOP                                     ;
 9562 00000C8A 2008              2520             TST     R0,R0                                   ;
 9563                            2521             TST_BIT_OF LINK_UPPLSDN_DRV050                  ;強制書き換えなし
 9564 00000C8C 8906                   M           BT      LINK_UPPLSDN_DRV050
 9565                            2522             M_BRA   LINK_UPPLSDN_DRV130                     ;
 9566 00000C8E A01B                   M           BRA     LINK_UPPLSDN_DRV130
 9567 00000C90 0009                   M           NOP
 9568                            2523     
 9569                            2524     
 9570                                     ***** BEGIN-POOL *****
 9571 00000C92 0000                       ALIGNMENT CODE
 9572 00000C94 00000000                   DATA FOR SOURCE-LINE 2516
 9573 00000C98 00000000                   DATA FOR SOURCE-LINE 2519
 9574                                     ***** END-POOL *****
 9575 00000C9C                   2525     LINK_UPPLSDN_DRV050:
 9576                            2526             PUSH_REG1 R2                                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    65
PROGRAM NAME =

 9577 00000C9C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
 9578                                 M                                           ;REG=>[SP]
 9579                                 M                                           ;"-4" FF,FF,FF,FC
 9580                            2527             FAR_JSR #_AREACHK_0DIG_TO_180,R0                ;ANS:R0
 9581 00000C9E D007                   M           MOV.L   #_AREACHK_0DIG_TO_180,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9582 00000CA0 400B                   M           JSR     @R0                     ;
 9583 00000CA2 0009                   M           NOP                                     ;
 9584                            2528             POP_REG1 R2                                     ;R2;右側待機点
 9585                                 M                                   ; RE"+4" 00,00,00,04
 9586 00000CA4 62F6                   M           MOV.L   @R15+,R2        ;
 9587                            2529     
 9588 00000CA6 2008              2530             TST     R0,R0                                   ;
 9589                            2531             TST_BIT_ON LINK_UPPLSDN_DRV130                  ;0~180度：右半球
 9590 00000CA8 8B0E                   M           BF      LINK_UPPLSDN_DRV130
 9591                            2532     
 9592 00000CAA D005              2533             MOV.L   #_ORIGN_180ARA_FLG,R0                   ;
 9593 00000CAC 6001              2534             MOV.W   @R0,R0                                  ;
 9594 00000CAE C820              2535             TST     #BIT5,R0                                ;
 9595                            2536             TST_BIT_ON LINK_UPPLSDN_DRV130                  ;181~182度：右半球
 9596 00000CB0 8B0A                   M           BF      LINK_UPPLSDN_DRV130
 9597                            2537     
 9598                            2538     
 9599 00000CB2 D004              2539             MOV.L   #_DNM_SETX_UPAREA_PLS,R0                ;//4;左半球待機点
 9600 00000CB4 6202              2540             MOV.L   @R0,R2                                  ;
 9601                            2541             M_BRA   LINK_UPPLSDN_DRV130                     ;
 9602 00000CB6 A007                   M           BRA     LINK_UPPLSDN_DRV130
 9603 00000CB8 0009                   M           NOP
 9604                            2542     
 9605                            2543     
 9606                            2544     ;       --------------- INPUT:R2----------
 9607                                     ***** BEGIN-POOL *****
 9608 00000CBA 0000                       ALIGNMENT CODE
 9609 00000CBC 00000000                   DATA FOR SOURCE-LINE 2527
 9610 00000CC0 00000000                   DATA FOR SOURCE-LINE 2533
 9611 00000CC4 00000000                   DATA FOR SOURCE-LINE 2539
 9612                                     ***** END-POOL *****
 9613 00000CC8                   2545     LINK_UPPLSDN_DRV130:
 9614 00000CC8 200A              2546             XOR     R0,R0                                   ;
 9615                            2547             M_BRA   LINK_UPPLSDN_DRV140
 9616 00000CCA A001                   M           BRA     LINK_UPPLSDN_DRV140
 9617 00000CCC 0009                   M           NOP
 9618 00000CCE                   2548     LINK_UPPLSDN_DRV135:
 9619 00000CCE E020              2549             MOV.B   #BIT5,R0                                ;
 9620                            2550     
 9621 00000CD0                   2551     LINK_UPPLSDN_DRV140:
 9622                            2552     
 9623                            2553             FAR_JSR #_UPPLS1_OBJMAK_COMMON,R4
 9624 00000CD0 D402                   M           MOV.L   #_UPPLS1_OBJMAK_COMMON,R4               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9625 00000CD2 440B                   M           JSR     @R4                     ;
 9626 00000CD4 0009                   M           NOP                                     ;
 9627                            2554     
 9628                            2555     
 9629                            2556             SUB_END
 9630                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9631 00000CD6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9632                            2557             M_RTS
 9633 00000CD8 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    66
PROGRAM NAME =

 9634 00000CDA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9635                            2558     
 9636                            2559     
 9637                                     ***** BEGIN-POOL *****
 9638 00000CDC 00000000                   DATA FOR SOURCE-LINE 2553
 9639                                     ***** END-POOL *****
 9640 00000CE0                   2560     _AREACHK_0DIG_TO_180:
 9641                            2561             SUB_START
 9642 00000CE0 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9643                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9644                            2562     
 9645 00000CE2 D006              2563             MOV.L   #_SET1_UPAREA_DIG1,R0
 9646 00000CE4 6101              2564             MOV.W   @R0,R1                  ;0度相当
 9647                            2565     
 9648 00000CE6 D006              2566             MOV.L   #_INC_ENC360,R0         ;ｸﾗﾝｸ変換前角度
 9649 00000CE8 6201              2567             MOV.W   @R0,R2                  ;
 9650                            2568     
 9651 00000CEA 9305              2569             MOV.W   #_UPDN_DIRJG_DIG,R3     ;
 9652                            2570     
 9653                            2571             FAR_JSR #_DIG_AREA_CHK0,R0      ;R1<= R2 <= R3 THEN R0=1
 9654 00000CEC D005                   M           MOV.L   #_DIG_AREA_CHK0,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9655 00000CEE 400B                   M           JSR     @R0                     ;
 9656 00000CF0 0009                   M           NOP                                     ;
 9657                            2572     
 9658                            2573     
 9659                            2574             SUB_END
 9660                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9661 00000CF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9662                            2575             M_RTS
 9663 00000CF4 000B                   M           RTS                             ;RTSの後ろの
 9664 00000CF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9665                            2576     
 9666                            2577     
 9667                            2578     ;       ***********************************
 9668                            2579     ;       ***                             ***
 9669                            2580     ;       ***     R2：移動距離            ***
 9670                            2581     ;       ***                             ***
 9671                            2582     ;       ***********************************
 9672                            2583     ;       ANS R0
 9673                            2584     ;       MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9674                            2585     ;       MOV.L   @R5,R4                                  ;
 9675                            2586     ;LINK_DIR_OBJMK3_400:                                   ;
 9676                            2587     ;       R2 ≦NEAR(1)  or  1REV-NEAR≦R2(-1)
 9677                            2588     ;       NEAR<R2<1REV-NEAR THEN R0=0
 9678                            2589     
 9679                                     ***** BEGIN-POOL *****
 9680 00000CF8 0708                       DATA FOR SOURCE-LINE 2569
 9681 00000CFA 0000                       ALIGNMENT CODE
 9682 00000CFC 00000000                   DATA FOR SOURCE-LINE 2563
 9683 00000D00 00000000                   DATA FOR SOURCE-LINE 2566
 9684 00000D04 00000000                   DATA FOR SOURCE-LINE 2571
 9685                                     ***** END-POOL *****
 9686 00000D08                   2590             .ALIGN  4                               ;
 9687 00000D08                   2591     _OBJ_NEAR_CHK1:
 9688                            2592             SUB_START
 9689 00000D08 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9690                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    67
PROGRAM NAME =

 9691 00000D0A 200A              2593             XOR     R0,R0
 9692 00000D0C D505              2594             MOV.L   #_SET1_OBJARA_INPXPLS,R5                ;
 9693 00000D0E 6451              2595             MOV.W   @R5,R4                                  ;
 9694 00000D10 9507              2596             MOV.W   #D'100,R5                               ;min 100pls
 9695 00000D12 3453              2597             CMP/GE  R5,R4                                   ;
 9696 00000D14 8900              2598             BT      OBJ_NEAR_CK_030                         ;
 9697 00000D16 6453              2599             MOV     R5,R4                                   ;
 9698 00000D18                   2600     OBJ_NEAR_CK_030:                                        ;
 9699                            2601     
 9700 00000D18 3247              2602             CMP/GT  R4,R2                                   ;
 9701 00000D1A 8905              2603             BT      OBJ_NEAR_CK_050                         ;R4 < R2 JUMP
 9702 00000D1C E001              2604             MOV     #1,R0                                   ;R2≦R4
 9703                            2605             M_BRA   OBJ_NEAR_CK_EXT                         ;ﾆｱｾﾞﾛ幅
 9704 00000D1E A009                   M           BRA     OBJ_NEAR_CK_EXT
 9705 00000D20 0009                   M           NOP
 9706                            2606     
 9707                                     ***** BEGIN-POOL *****
 9708 00000D22 0064                       DATA FOR SOURCE-LINE 2596
 9709 00000D24 00000000                   DATA FOR SOURCE-LINE 2594
 9710                                     ***** END-POOL *****
 9711 00000D28                   2607     OBJ_NEAR_CK_050:
 9712 00000D28 D504              2608             MOV.L   #_LINK_1ROT_PLS,R5                      ;
 9713 00000D2A 6552              2609             MOV.L   @R5,R5                                  ;
 9714 00000D2C 3548              2610             SUB     R4,R5                                   ;
 9715 00000D2E 3527              2611             CMP/GT  R2,R5                                   ;R2<R5(1ROT-)
 9716 00000D30 8900              2612             BT      OBJ_NEAR_CK_EXT                         ;
 9717 00000D32 E0FF              2613             MOV     #-1,R0                                  ;
 9718 00000D34                   2614     OBJ_NEAR_CK_EXT:
 9719                            2615             SUB_END
 9720                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9721 00000D34 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9722                            2616             M_RTS
 9723 00000D36 000B                   M           RTS                             ;RTSの後ろの
 9724 00000D38 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9725                            2617     
 9726                            2618     
 9727                            2619     
 9728                            2620     
 9729                            2621     ;       *******************************************
 9730                            2622     ;       ***     回転ﾊﾟﾙｽR1,R2+ｵﾌｾｯﾄR5,R6        ***
 9731                            2623     ;       ***     LIMIT MAX/MIN                   ***
 9732                            2624     ;       *******************************************
 9733                            2625     ;       Input R1,R2,R5,R6
 9734                            2626     ;       Output R1,R2
 9735                            2627     ;       Keep R5,R6
 9736                                     ***** BEGIN-POOL *****
 9737 00000D3A 0000                       ALIGNMENT CODE
 9738 00000D3C 00000000                   DATA FOR SOURCE-LINE 2608
 9739                                     ***** END-POOL *****
 9740 00000D40                   2628             .ALIGN  4                               ;
 9741 00000D40                   2629     _ADDR56_R12_ANS_R12_LIMIT_MAX_MIN:
 9742                            2630             SUB_START
 9743 00000D40 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9744                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9745                            2631             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2               ;
 9746 00000D42 0008                   M           CLRT
 9747 00000D44 326E                   M           ADDC    R6,R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    68
PROGRAM NAME =

 9748 00000D46 315E                   M           ADDC    R5,R1
 9749                            2632             MAX_MIN8B       DT_REGH=R1,DT_REGL=R2,WKRG1=R0,WKRG2=R4,                ;
 9750                            2633     +                       MAX_H=_CALC_PLS_PMAX_H32,MAX_L=_CALC_PLS_PMAX_L32,      ;
 9751                            2634     +                       MIN_H=_CALC_PLS_MMIN_H32,MIN_L=_CALC_PLS_MMIN_L32       ;
 9752 00000D48 0008                   M           CLRT
 9753 00000D4A D00B                   M           MOV.L   #_CALC_PLS_PMAX_L32,R0
 9754 00000D4C 302A                   M           SUBC    R2,R0           ;
 9755 00000D4E D00B                   M           MOV.L   #_CALC_PLS_PMAX_H32,R0
 9756 00000D50 301A                   M           SUBC    R1,R0           ;
 9757 00000D52 4011                   M           CMP/PZ  R0                      ;
 9758 00000D54 8901                   M           BT      JMP0100003                      ;DATA=<MAX
 9759 00000D56 D208                   M           MOV.L   #_CALC_PLS_PMAX_L32,R2  ;data >= max
 9760 00000D58 D108                   M           MOV.L   #_CALC_PLS_PMAX_H32,R1  ;LIMIT
 9761 00000D5A                        M   JMP0100003                                      ;
 9762 00000D5A 0008                   M           CLRT
 9763 00000D5C D008                   M           MOV.L   #_CALC_PLS_MMIN_L32,R0          ;
 9764 00000D5E 302A                   M           SUBC    R2,R0           ;
 9765 00000D60 D408                   M           MOV.L   #_CALC_PLS_MMIN_H32,R4          ;
 9766 00000D62 341A                   M           SUBC    R1,R4           ;
 9767 00000D64 4415                   M           CMP/PL  R4                      ;
 9768 00000D66 8B04                   M           BF      JMP0200003                      ;"-" R3 < 0 THEN OK!
 9769 00000D68 240B                   M           OR      R0,R4           ;
 9770 00000D6A 2448                   M           TST     R4,R4           ;
 9771                                 M           TST_BIT_OF JMP0200003           ;
 9772 00000D6C 8901                   M           BT      JMP0200003
 9773 00000D6E D204                   M           MOV.L   #_CALC_PLS_MMIN_L32,R2  ;data < min
 9774 00000D70 D104                   M           MOV.L   #_CALC_PLS_MMIN_H32,R1  ;LIMIT
 9775 00000D72                        M   JMP0200003:
 9776                            2635             SUB_END
 9777                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9778 00000D72 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9779                            2636             M_RTS
 9780 00000D74 000B                   M           RTS                             ;RTSの後ろの
 9781 00000D76 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9782                            2637     
 9783                            2638     
 9784                            2639     ;       ***********************************
 9785                            2640     ;       ***                             ***
 9786                            2641     ;       ***     最大正転値・最小値      ***
 9787                            2642     ;       ***                             ***
 9788                            2643     ;       ***********************************
 9789                            2644     ;       Input R0 BIT0=0正転 BIT0=1逆転
 9790                                     ***** BEGIN-POOL *****
 9791 00000D78 FFFFFFFF                   DATA FOR SOURCE-LINE 2632,2632
 9792 00000D7C 3FFFFFFF                   DATA FOR SOURCE-LINE 2632,2632
 9793 00000D80 00000001                   DATA FOR SOURCE-LINE 2632,2632
 9794 00000D84 C0000000                   DATA FOR SOURCE-LINE 2632,2632
 9795                                     ***** END-POOL *****
 9796 00000D88                   2645             .ALIGN  4                               ;
 9797 00000D88                   2646     _LINK_P_M_MAX:
 9798                            2647             SUB_START
 9799 00000D88 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9800                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9801                            2648     
 9802 00000D8A D106              2649             MOV.L   #_CALC_PLS_PMAX_H32,R1  ;
 9803 00000D8C D206              2650             MOV.L   #_CALC_PLS_PMAX_L32,R2  ;
 9804                            2651     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    69
PROGRAM NAME =

 9805 00000D8E C801              2652             TST     #BIT0,R0                ;
 9806                            2653             TST_BIT_OF LINK_PM_MX50
 9807 00000D90 8901                   M           BT      LINK_PM_MX50
 9808 00000D92 D106              2654             MOV.L   #_CALC_PLS_MMIN_H32,R1  ;
 9809 00000D94 D206              2655             MOV.L   #_CALC_PLS_MMIN_L32,R2  ;
 9810                            2656     
 9811 00000D96                   2657     LINK_PM_MX50:                   ;
 9812 00000D96 D407              2658             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
 9813 00000D98 2412              2659             MOV.L   R1,@R4                          ;
 9814 00000D9A 1421              2660             MOV.L   R2,@(1*4,R4)                    ;目標位置ｾｯﾄ
 9815                            2661             SUB_END
 9816                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9817 00000D9C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9818                            2662             M_RTS
 9819 00000D9E 000B                   M           RTS                             ;RTSの後ろの
 9820 00000DA0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9821                            2663     
 9822                            2664     ;       ***************************************************
 9823                            2665     ;       ***                                             ***
 9824                            2666     ;       ***     はじめから待機点目標位置への位置決め    ***
 9825                            2667     ;       ***     2004-05-24(ﾒｲﾝ側での目標位置作成)       ***
 9826                            2668     ;       ***                                             ***
 9827                            2669     ;       ***************************************************
 9828                                     ***** BEGIN-POOL *****
 9829 00000DA2 0000                       ALIGNMENT CODE
 9830 00000DA4 3FFFFFFF                   DATA FOR SOURCE-LINE 2649
 9831 00000DA8 FFFFFFFF                   DATA FOR SOURCE-LINE 2650
 9832 00000DAC C0000000                   DATA FOR SOURCE-LINE 2654
 9833 00000DB0 00000001                   DATA FOR SOURCE-LINE 2655
 9834 00000DB4 00000000                   DATA FOR SOURCE-LINE 2658
 9835                                     ***** END-POOL *****
 9836 00000DB8                   2670             .ALIGN  4                               ;
 9837 00000DB8                   2671     _ORGIN_OBJ_POS_CTRL_ST1:                        ;
 9838                            2672             SUB_START
 9839 00000DB8 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9840                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9841 00000DBA D109              2673             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;
 9842 00000DBC 900C              2674             MOV.W   #BIT0,R0                        ;
 9843 00000DBE 2101              2675             MOV.W   R0,@R1                          ;
 9844                            2676     
 9845 00000DC0 D108              2677             MOV.L   #_CB_SEQ_CB_COM346,R1           ;2004-07-01
 9846 00000DC2 6011              2678             MOV.W   @R1,R0                          ;
 9847 00000DC4 9109              2679             MOV.W   #BIT14,R1                       ;
 9848 00000DC6 2018              2680             TST     R1,R0                           ;
 9849                            2681             TST_BIT_OF ORGIN_OBJ_POS_CTLST1_100     ;BIT14=0 自動判別
 9850 00000DC8 8910                   M           BT      ORGIN_OBJ_POS_CTLST1_100
 9851                            2682     
 9852 00000DCA 9107              2683             MOV.W   #BIT13,R1                       ;
 9853 00000DCC 2019              2684             AND     R1,R0
 9854                            2685             FAR_JSR #_LINK_DIR_OBJMAK3,R1           ;Input R0 R0==0/R0!=0(BIT13)
 9855 00000DCE D106                   M           MOV.L   #_LINK_DIR_OBJMAK3,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9856 00000DD0 410B                   M           JSR     @R1                     ;
 9857 00000DD2 0009                   M           NOP                                     ;
 9858                            2686             M_BRA   ORGIN_OBJ_POS_CTLST1_200        ;
 9859 00000DD4 A01B                   M           BRA     ORGIN_OBJ_POS_CTLST1_200
 9860 00000DD6 0009                   M           NOP
 9861                            2687     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    70
PROGRAM NAME =

 9862                            2688     
 9863                                     ***** BEGIN-POOL *****
 9864 00000DD8 0001                       DATA FOR SOURCE-LINE 2674
 9865 00000DDA 4000                       DATA FOR SOURCE-LINE 2679
 9866 00000DDC 2000                       DATA FOR SOURCE-LINE 2683
 9867 00000DDE 0000                       ALIGNMENT CODE
 9868 00000DE0 00000000                   DATA FOR SOURCE-LINE 2673
 9869 00000DE4 00000000                   DATA FOR SOURCE-LINE 2677
 9870 00000DE8 00000000                   DATA FOR SOURCE-LINE 2685
 9871                                     ***** END-POOL *****
 9872 00000DEC                   2689     ORGIN_OBJ_POS_CTLST1_100:
 9873                            2690     ;       --------- 2014-09-18-------------
 9874 00000DEC D104              2691             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
 9875 00000DEE 6011              2692             MOV.W   @R1,R0                          ;
 9876 00000DF0 C804              2693             TST     #(_DMATH_DNDRIV),R0             ;
 9877                            2694             TST_BIT_OF ORGIN_OBJ_POS_CTLST1_150     ;ふりこ以外
 9878 00000DF2 8909                   M           BT      ORGIN_OBJ_POS_CTLST1_150
 9879                            2695     
 9880                            2696     ;       -------- ふりこ範囲確認--------------
 9881                            2697     ;       待機点+0~181までは右半球
 9882                            2698             FAR_JSR #_LINK_UPPLS_DNDRIV,R0          ;
 9883 00000DF4 D003                   M           MOV.L   #_LINK_UPPLS_DNDRIV,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9884 00000DF6 400B                   M           JSR     @R0                     ;
 9885 00000DF8 0009                   M           NOP                                     ;
 9886                            2699             M_BRA   ORGIN_OBJ_POS_CTLST1_200        ;
 9887 00000DFA A008                   M           BRA     ORGIN_OBJ_POS_CTLST1_200
 9888 00000DFC 0009                   M           NOP
 9889                            2700     
 9890                            2701     
 9891                            2702     
 9892                            2703     
 9893                                     ***** BEGIN-POOL *****
 9894 00000DFE 0000                       ALIGNMENT CODE
 9895 00000E00 00000000                   DATA FOR SOURCE-LINE 2691
 9896 00000E04 00000000                   DATA FOR SOURCE-LINE 2698
 9897                                     ***** END-POOL *****
 9898 00000E08                   2704     ORGIN_OBJ_POS_CTLST1_150:
 9899                            2705             FAR_JSR #_LINK_UPPLS_A_OBJMAK3,R0       ;自動で方向判別(2004-05-24)
 9900 00000E08 D005                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK3,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9901 00000E0A 400B                   M           JSR     @R0                     ;
 9902 00000E0C 0009                   M           NOP                                     ;
 9903 00000E0E                   2706     ORGIN_OBJ_POS_CTLST1_200:                       ;
 9904                            2707     
 9905                            2708     
 9906                            2709             FAR_JSR #_DNDUPS_SPD_SET,R4             ;
 9907 00000E0E D405                   M           MOV.L   #_DNDUPS_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9908 00000E10 440B                   M           JSR     @R4                     ;
 9909 00000E12 0009                   M           NOP                                     ;
 9910                            2710             FAR_JSR #_ORG_END_SIG_CLR,R0            ;206.4 OFF
 9911 00000E14 D004                   M           MOV.L   #_ORG_END_SIG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9912 00000E16 400B                   M           JSR     @R0                     ;
 9913 00000E18 0009                   M           NOP                                     ;
 9914                            2711     
 9915                            2712             SUB_END
 9916                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9917 00000E1A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9918                            2713             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    71
PROGRAM NAME =

 9919 00000E1C 000B                   M           RTS                             ;RTSの後ろの
 9920 00000E1E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9921                            2714     
 9922                                     ***** BEGIN-POOL *****
 9923 00000E20 00000000                   DATA FOR SOURCE-LINE 2705
 9924 00000E24 00000000                   DATA FOR SOURCE-LINE 2709
 9925 00000E28 00000000                   DATA FOR SOURCE-LINE 2710
 9926                                     ***** END-POOL *****
 9927 00000E2C                   2715             .ALIGN  4                               ;
 9928 00000E2C                   2716     _ORGIN_OBJ_POS_CTRL_ST2:                                ;
 9929                            2717             SUB_START
 9930 00000E2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9931                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9932 00000E2E D105              2718             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;
 9933 00000E30 6011              2719             MOV.W   @R1,R0                          ;
 9934 00000E32 C801              2720             TST     #BIT0,R0                        ;
 9935                            2721             TST_BIT_OF ORGIN_OBJ_POSCTLST2_EXT      ;(待機点位置決め中 NO! JUMP)
 9936 00000E34 8903                   M           BT      ORGIN_OBJ_POSCTLST2_EXT
 9937                            2722     
 9938 00000E36 D104              2723             MOV.L   #_INT_DND_CTL_STEP,R1           ;
 9939 00000E38 6011              2724             MOV.W   @R1,R0                          ;
 9940 00000E3A CB02              2725             OR      #BIT1,R0                        ;
 9941 00000E3C 2101              2726             MOV.W   R0,@R1                          ;
 9942                            2727     
 9943 00000E3E                   2728     ORGIN_OBJ_POSCTLST2_EXT                         ;
 9944                            2729     
 9945                            2730             SUB_END
 9946                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
 9947 00000E3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
 9948                            2731             M_RTS
 9949 00000E40 000B                   M           RTS                             ;RTSの後ろの
 9950 00000E42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
 9951                            2732     
 9952                            2733     
 9953                            2734     
 9954                            2735     ;       ***************************************************
 9955                            2736     ;       ***                                             ***
 9956                            2737     ;       ***                                             ***
 9957                            2738     ;       ***                                             ***
 9958                            2739     ;       ***                                             ***
 9959                            2740     ;       ***             位置決め200usec割込             ***
 9960                            2741     ;       ***             1msecでも可能                   ***
 9961                            2742     ;       ***                                             ***
 9962                            2743     ;       ***                                             ***
 9963                            2744     ;       ***                                             ***
 9964                            2745     ;       ***                                             ***
 9965                            2746     ;       ***************************************************
 9966                            2747     ;       停止ﾀｲﾏの処理・多段全てを行う
 9967                            2748     ;       即停止状態
 9968                            2749     ;       ここではﾊﾟﾙｽの払出しﾊﾟﾙｽの積算は行う
 9969                            2750     ;       _INT_POS_CTL_FLAG
 9970                            2751     ;               0000,0000:IDEL()
 9971                            2752     ;                       BIT0:(INITAL完了)
 9972                            2753     ;                             BIT0=1で払いﾃﾞｰﾀ作成,起動中
 9973                            2754     ;                       BIT2:減速停止ﾗｯﾁ(払出停止待ち)
 9974                            2755     ;                       BIT3:急停止ﾗｯﾁ(払出停止待ち)
 9975                            2756     ;                       BIT4:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    72
PROGRAM NAME =

 9976                            2757     ;                       BIT6:位置決め完了(ﾆｱｾﾞﾛ)--->IDELへ
 9977                            2758     ;
 9978                            2759     ;       S2b     INT_POS_STEP_FLG(ｽﾃｯﾌﾟ,段取共通);
 9979                            2760     ;                               BIT0:1ｽﾃｯﾌﾟﾃﾞｰﾀ作成完了 :
 9980                            2761     ;                               BIT1:払い出し開始       :
 9981                            2762     ;                               BIT2:
 9982                            2763     ;                               BIT3:ﾀｲﾏ測定中
 9983                            2764     ;                               BIT4:完了
 9984                                     ***** BEGIN-POOL *****
 9985 00000E44 00000000                   DATA FOR SOURCE-LINE 2718
 9986 00000E48 00000000                   DATA FOR SOURCE-LINE 2723
 9987                                     ***** END-POOL *****
 9988 00000E4C                   2765             .ALIGN  4                               ;
 9989 00000E4C                   2766     _INT_POS_CTRL:
 9990                            2767             SUB_START
 9991 00000E4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
 9992                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
 9993                            2768     
 9994                            2769             FAR_JSR #_ERR_INFO_DT_IN0,R0    ;
 9995 00000E4E D006                   M           MOV.L   #_ERR_INFO_DT_IN0,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
 9996 00000E50 400B                   M           JSR     @R0                     ;
 9997 00000E52 0009                   M           NOP                                     ;
 9998                            2770     
 9999                            2771     ;------------------　[2015-04-08]---------------
10000                            2772             FAR_JSR #_ENDHAND_WAIT_TIMCNT,R0        ;
10001 00000E54 D005                   M           MOV.L   #_ENDHAND_WAIT_TIMCNT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10002 00000E56 400B                   M           JSR     @R0                     ;
10003 00000E58 0009                   M           NOP                                     ;
10004                            2773     
10005 00000E5A D105              2774             MOV.L   #_emg_err_flg,R1        ;//異常ﾗｯﾁ
10006 00000E5C 6011              2775             MOV.W   @R1,R0                  ;
10007 00000E5E 2008              2776             TST     R0,R0                   ;
10008                            2777             TST_BIT_OF INT_POSCTL_CHK00     ;
10009 00000E60 8908                   M           BT      INT_POSCTL_CHK00
10010                            2778             M_BRA   INT_POSCTL_0910         ;
10011 00000E62 A224                   M           BRA     INT_POSCTL_0910
10012 00000E64 0009                   M           NOP
10013                            2779     
10014                            2780     
10015                                     ***** BEGIN-POOL *****
10016 00000E66 0000                       ALIGNMENT CODE
10017 00000E68 00000000                   DATA FOR SOURCE-LINE 2769
10018 00000E6C 00000000                   DATA FOR SOURCE-LINE 2772
10019 00000E70 00000000                   DATA FOR SOURCE-LINE 2774
10020                                     ***** END-POOL *****
10021 00000E74                   2781     INT_POSCTL_CHK00:
10022                            2782     
10023                            2783     ;       ------- 2010-08-20[制動モード]
10024 00000E74 D104              2784             MOV.L   #_BRKTST_MOD_FLG,R1     ;
10025 00000E76 6011              2785             MOV.W   @R1,R0                  ;
10026 00000E78 C801              2786             TST     #BIT0,R0                ;
10027                            2787             TST_BIT_OF INT_POSCTL_CHK10     ;
10028 00000E7A 8909                   M           BT      INT_POSCTL_CHK10
10029                            2788     
10030                            2789             FAR_JSR #_BRKTST_POS_CTL,R0     ;
10031 00000E7C D003                   M           MOV.L   #_BRKTST_POS_CTL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10032 00000E7E 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    73
PROGRAM NAME =

10033 00000E80 0009                   M           NOP                                     ;
10034                            2790     
10035                            2791             M_BRA   INT_POSCTL_0910         ;
10036 00000E82 A214                   M           BRA     INT_POSCTL_0910
10037 00000E84 0009                   M           NOP
10038                            2792     
10039                                     ***** BEGIN-POOL *****
10040 00000E86 0000                       ALIGNMENT CODE
10041 00000E88 00000000                   DATA FOR SOURCE-LINE 2784
10042 00000E8C 00000000                   DATA FOR SOURCE-LINE 2789
10043                                     ***** END-POOL *****
10044 00000E90                   2793     INT_POSCTL_CHK10:
10045                            2794     
10046                            2795     
10047                            2796     
10048                            2797     
10049                            2798     
10050                            2799             FAR_JSR #_GAMEN_OVER_RIDE,R0            ;MAIN LOOP DATA 1 CHECK
10051 00000E90 D00D                   M           MOV.L   #_GAMEN_OVER_RIDE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10052 00000E92 400B                   M           JSR     @R0                     ;
10053 00000E94 0009                   M           NOP                                     ;
10054                            2800             FAR_JSR #_OVER_LIDE_SEQREF,R0           ;SEQ       DATA 1 CHKEAK
10055 00000E96 D00D                   M           MOV.L   #_OVER_LIDE_SEQREF,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10056 00000E98 400B                   M           JSR     @R0                     ;
10057 00000E9A 0009                   M           NOP                                     ;
10058                            2801             FAR_JSR #_SET_OVER_RIDE,R0              ;
10059 00000E9C D00C                   M           MOV.L   #_SET_OVER_RIDE,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10060 00000E9E 400B                   M           JSR     @R0                     ;
10061 00000EA0 0009                   M           NOP                                     ;
10062                            2802     
10063                            2803     ;;      --------- 2006-10-16---
10064                            2804     ;;      MOV.L   #_OVER_RIDE_USEFUL,R1
10065                            2805     ;;      MOV.W   @R1,R0
10066                            2806     ;;      TST     #BIT0,R0
10067                            2807     ;;      TST_BIT_OF OVERRIDE_CHG050
10068                            2808     ;;      FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;速度ﾘｱﾙﾀｲﾑ
10069                            2809     ;;OVERRIDE_CHG050
10070                            2810     
10071                            2811     
10072                            2812     
10073                            2813     
10074                            2814     ;       ------------------------------------------
10075                            2815     ;       ------ 2010-10-07 ------------------------
10076                            2816     ;       ------------------------------------------
10077                            2817     ;       -----ふりこの場合待機点でのみ速度反映 ----
10078                            2818             FAR_JSR #_CHK_DNM_SPEC_MOD1,R0          ;
10079 00000EA2 D00C                   M           MOV.L   #_CHK_DNM_SPEC_MOD1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10080 00000EA4 400B                   M           JSR     @R0                     ;
10081 00000EA6 0009                   M           NOP                                     ;
10082 00000EA8 2008              2819             TST     R0,R0                           ;
10083                            2820             TST_BIT_ON OVERRIDE_CHG050              ;ふりこだ!
10084 00000EAA 8B06                   M           BF      OVERRIDE_CHG050
10085                            2821     ;       ---------------------------------------
10086                            2822     
10087                            2823     
10088 00000EAC D10A              2824             MOV.L   #_OVER_RIDE_USEFUL,R1
10089 00000EAE 6011              2825             MOV.W   @R1,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    74
PROGRAM NAME =

10090 00000EB0 C803              2826             TST     #(BIT1+BIT0),R0                 ;SEQ
10091                            2827             TST_BIT_OF OVERRIDE_CHG050
10092 00000EB2 8902                   M           BT      OVERRIDE_CHG050
10093                            2828     
10094                            2829             FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;
10095 00000EB4 D009                   M           MOV.L   #_OVERRIDE_CALC_SPED_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10096 00000EB6 400B                   M           JSR     @R0                     ;
10097 00000EB8 0009                   M           NOP                                     ;
10098                            2830     
10099 00000EBA                   2831     OVERRIDE_CHG050
10100                            2832     
10101                            2833     ;;;;;;;;;;;;;   2015-11-15 ちゃんとした場所で対応
10102                            2834     ;;;;;;;;;;;;;;-------------------超お試し[2015-04-08]---------------
10103                            2835     ;;;;;;;;;;;;;   MOV.L   #_MODE_SEL,R1                           ;
10104                            2836     ;;;;;;;;;;;;;   MOV.W   @R1,R0                                  ;
10105                            2837     ;;;;;;;;;;;;;   TST     #_W1INC+_W1SGL,R0                       ;
10106                            2838     ;;;;;;;;;;;;;   TST_BIT_OF FORCE_STEPEND_HAND100EXT             ;（段取でもある)
10107                            2839     ;;;;;;;;;;;;;
10108                            2840     ;;;;;;;;;;;;;   FAR_JSR #_API_ENDHAND_SIGCHK,R0                 ;
10109                            2841     ;;;;;;;;;;;;;   TST     R0,R0
10110                            2842     ;;;;;;;;;;;;;   TST_BIT_OF FORCE_STEPEND_HAND100EXT             ;
10111                            2843     ;;;;;;;;;;;;;   M_BRA   FORCE_STEPEND_HAND100                   ;
10112                            2844     ;;;;;;;;;;;;;FORCE_STEPEND_HAND100EXT
10113                            2845     
10114                            2846     
10115                            2847     
10116 00000EBA D509              2848             MOV.L   #_INT_CYC_DRV_STS,R5            ;//BIT0:CYCLE　END()
10117 00000EBC 6051              2849             MOV.W   @R5,R0                          ;
10118 00000EBE C840              2850             TST     #BIT6,R0                        ;位置決め完了?
10119                            2851             TST_BIT_OF INT_POSCTL_0020              ;
10120 00000EC0 8910                   M           BT      INT_POSCTL_0020
10121                            2852             M_BRA   INT_POSCTL_0700
10122 00000EC2 A1DB                   M           BRA     INT_POSCTL_0700
10123 00000EC4 0009                   M           NOP
10124                            2853     
10125                                     ***** BEGIN-POOL *****
10126 00000EC6 0000                       ALIGNMENT CODE
10127 00000EC8 00000000                   DATA FOR SOURCE-LINE 2799
10128 00000ECC 00000000                   DATA FOR SOURCE-LINE 2800
10129 00000ED0 00000000                   DATA FOR SOURCE-LINE 2801
10130 00000ED4 00000000                   DATA FOR SOURCE-LINE 2818
10131 00000ED8 00000000                   DATA FOR SOURCE-LINE 2824
10132 00000EDC 00000000                   DATA FOR SOURCE-LINE 2829
10133 00000EE0 00000000                   DATA FOR SOURCE-LINE 2848
10134                                     ***** END-POOL *****
10135 00000EE4                   2854     INT_POSCTL_0020:
10136 00000EE4 D502              2855             MOV.L   #_INT_POS_CTL_FLAG,R5           ;
10137 00000EE6 6051              2856             MOV.W   @R5,R0                          ;
10138 00000EE8 C85C              2857             TST     #(BIT6+BIT4+BIT3+BIT2),R0       ;
10139                            2858             TST_BIT_OF INT_POSCTL_0040              ;
10140 00000EEA 8903                   M           BT      INT_POSCTL_0040
10141                            2859             M_BRA   INT_POSCTL_0300                 ;
10142 00000EEC A196                   M           BRA     INT_POSCTL_0300
10143 00000EEE 0009                   M           NOP
10144                            2860     
10145                                     ***** BEGIN-POOL *****
10146 00000EF0 00000000                   DATA FOR SOURCE-LINE 2855
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    75
PROGRAM NAME =

10147                                     ***** END-POOL *****
10148 00000EF4                   2861     INT_POSCTL_0040:
10149 00000EF4 C801              2862             TST     #BIT0,R0                ;
10150                            2863             TST_BIT_OF INT_POSCTL_0045      ;
10151 00000EF6 8901                   M           BT      INT_POSCTL_0045
10152                            2864             M_BRA   INT_POSCTL_0200 ;起動処理 BIT0
10153 00000EF8 A10A                   M           BRA     INT_POSCTL_0200
10154 00000EFA 0009                   M           NOP
10155 00000EFC                   2865     INT_POSCTL_0045:
10156                            2866     
10157                            2867     ;       ===================
10158 00000EFC D603              2868             MOV.L   #_MNWR_POS_CMD,R6       ;ﾊﾟﾙｽ払出即停止
10159 00000EFE 6061              2869             MOV.W   @R6,R0                  ;
10160 00000F00 C907              2870             AND     #(BIT2+BIT1+BIT0),R0    ;
10161 00000F02 8801              2871             CMP/EQ  #BIT0,R0                ;
10162 00000F04 8904              2872             BT      INT_POSCTL_0048         ;001
10163                            2873             M_BRA   INT_POSCTL_0190         ;EXIT
10164 00000F06 A0E4                   M           BRA     INT_POSCTL_0190
10165 00000F08 0009                   M           NOP
10166                            2874     ;       ==== 通常の位置決め起動コマンド状態
10167                                     ***** BEGIN-POOL *****
10168 00000F0A 0000                       ALIGNMENT CODE
10169 00000F0C 00000000                   DATA FOR SOURCE-LINE 2868
10170                                     ***** END-POOL *****
10171 00000F10                   2875     INT_POSCTL_0048:
10172                            2876     
10173 00000F10 222A              2877             XOR     R2,R2
10174 00000F12 D111              2878             MOV.L   #_INT_POS_STEP_FLG,R1   ;
10175 00000F14 2121              2879             MOV.W   R2,@R1                  ;
10176 00000F16 D111              2880             MOV.L   #_INT_DND_CTL_STEP,R1;
10177 00000F18 2121              2881             MOV.W   R2,@R1
10178 00000F1A D111              2882             MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
10179 00000F1C 2121              2883             MOV.W   R2,@R1                  ;
10180                            2884     
10181                            2885     ;       ===========================
10182 00000F1E D111              2886             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
10183 00000F20 2121              2887             MOV.W   R2,@R1                          ;
10184                            2888     ;       ===========================
10185                            2889     
10186                            2890     
10187                            2891     ;       -------- 2014-09-26 寸動--------------
10188 00000F22 D111              2892             MOV.L   #_INC_RESET_USE_F,R1    ;//STEPを参照して!
10189 00000F24 6011              2893             MOV.W   @R1,R0                  ;
10190 00000F26 2008              2894             TST     R0,R0                   ;
10191                            2895             TST_BIT_OF INT_POSCTL_0080      ;
10192 00000F28 8906                   M           BT      INT_POSCTL_0080
10193                            2896     
10194 00000F2A D110              2897             MOV.L   #_INC_RESET_STEP,R1     ;
10195 00000F2C 6411              2898             MOV.W   @R1,R4
10196 00000F2E D110              2899             MOV.L   #_SV_POS_CTL_STEP,R1    ;//1msec 制御上の見かけ
10197 00000F30 2141              2900             MOV.W   R4,@R1                  ;
10198                            2901     
10199                            2902             FAR_JSR #_INC_RST_WORK_CLR,R0
10200 00000F32 D010                   M           MOV.L   #_INC_RST_WORK_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10201 00000F34 400B                   M           JSR     @R0                     ;
10202 00000F36 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    76
PROGRAM NAME =

10203                            2903     
10204 00000F38                   2904     INT_POSCTL_0080
10205                            2905     ;       ------ ﾓｰｼｮﾝ運転 --------
10206 00000F38 D10D              2906             MOV.L   #_SV_POS_CTL_STEP,R1    ;//1msec 制御上の見かけ
10207 00000F3A 6411              2907             MOV.W   @R1,R4                  ;
10208 00000F3C D20E              2908             MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
10209 00000F3E 2241              2909             MOV.W   R4,@R2                  ;
10210                            2910     
10211                            2911     
10212                            2912     
10213                            2913     
10214                            2914     
10215                            2915     
10216                            2916     
10217 00000F40                   2917     INT_POSCTL_0100:
10218                            2918     ;       ===========================================
10219                            2919     ;       ===             起動処理                ===
10220                            2920     ;       ===========================================
10221                            2921     ;;2002-09-05    FAR_JSR #_POS_LSI_START_INITAL,R0       ;
10222                            2922     
10223                            2923     ;       ----------- 2012-05-17 反転のタイマ継続処理CHK---------
10224                            2924             FAR_JSR #_DURING_TIM_CNTINUE_CHK,R0                                     ;
10225 00000F40 D00E                   M           MOV.L   #_DURING_TIM_CNTINUE_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10226 00000F42 400B                   M           JSR     @R0                     ;
10227 00000F44 0009                   M           NOP                                     ;
10228 00000F46 2008              2925             TST     R0,R0                                                           ;
10229                            2926             TST_BIT_OF INT_POSCTL_0102                                              ;
10230 00000F48 891C                   M           BT      INT_POSCTL_0102
10231                            2927             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;必要があ
                                          ればここでつじつまあわせ
10232 00000F4A D10D                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10233 00000F4C 6011                   M           MOV.W   @R1,R0          ;
10234 00000F4E CB01                   M           OR      #BIT0,R0                ;
10235 00000F50 2101                   M           MOV.W   R0,@R1          ;
10236                            2928             M_BRA   INT_POSCTL_0190                                                 ;
10237 00000F52 A0BE                   M           BRA     INT_POSCTL_0190
10238 00000F54 0009                   M           NOP
10239                                     ***** BEGIN-POOL *****
10240 00000F56 0000                       ALIGNMENT CODE
10241 00000F58 00000000                   DATA FOR SOURCE-LINE 2878
10242 00000F5C 00000000                   DATA FOR SOURCE-LINE 2880
10243 00000F60 00000000                   DATA FOR SOURCE-LINE 2882
10244 00000F64 00000000                   DATA FOR SOURCE-LINE 2886
10245 00000F68 00000000                   DATA FOR SOURCE-LINE 2892
10246 00000F6C 00000000                   DATA FOR SOURCE-LINE 2897
10247 00000F70 00000000                   DATA FOR SOURCE-LINE 2899,2906
10248 00000F74 00000000                   DATA FOR SOURCE-LINE 2902
10249 00000F78 00000000                   DATA FOR SOURCE-LINE 2908
10250 00000F7C 00000000                   DATA FOR SOURCE-LINE 2924
10251 00000F80 00000000                   DATA FOR SOURCE-LINE 2927
10252                                     ***** END-POOL *****
10253 00000F84                   2929     INT_POSCTL_0102:
10254                            2930     
10255                            2931     
10256                            2932     
10257                            2933     
10258 00000F84 D108              2934             MOV.L   #_MODE_SEL,R1                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    77
PROGRAM NAME =

10259 00000F86 6011              2935             MOV.W   @R1,R0                          ;
10260 00000F88 C860              2936             TST     #(_W1DUP+_W1DIC),R0             ;
10261                            2937             TST_BIT_ON INT_POSCTL_0120              ;
10262 00000F8A 8B5B                   M           BF      INT_POSCTL_0120
10263                            2938     
10264                            2939     
10265                            2940             .AIF    1 EQ 1
10266 00000F8C D107              2941 C           MOV.L   #_START_FLG_AFTER_EMG,R1        ;???
10267 00000F8E 9009              2942 C           MOV.W   #1,R0                           ;
10268 00000F90 2101              2943 C           MOV.W   R0,@R1                          ;
10269                            2944             .AENDI
10270                            2945     
10271                            2946     
10272                            2947     ;       -------------繰り返し 2014-09-22 ---------------
10273 00000F92 D107              2948             MOV.L   #_MOT_REP_F,R1                          ;
10274 00000F94 6011              2949             MOV.W   @R1,R0                                  ;
10275 00000F96 C801              2950             TST     #BIT0,R0                                ;
10276                            2951             TST_BIT_OF INT_POSCTL_0102A                     ;
10277 00000F98 890E                   M           BT      INT_POSCTL_0102A
10278                            2952     
10279                            2953     ;       -------- 繰り返しの待機点戻り工程--------------
10280                            2954             FAR_JSR #_MOT_REPSTART_CALC,R0                  ;
10281 00000F9A D006                   M           MOV.L   #_MOT_REPSTART_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10282 00000F9C 400B                   M           JSR     @R0                     ;
10283 00000F9E 0009                   M           NOP                                     ;
10284                            2955             M_BRA   INT_POSCTL_0115
10285 00000FA0 A044                   M           BRA     INT_POSCTL_0115
10286 00000FA2 0009                   M           NOP
10287                            2956     
10288                            2957     
10289                                     ***** BEGIN-POOL *****
10290 00000FA4 0001                       DATA FOR SOURCE-LINE 2942
10291 00000FA6 0000                       ALIGNMENT CODE
10292 00000FA8 00000000                   DATA FOR SOURCE-LINE 2934
10293 00000FAC 00000000                   DATA FOR SOURCE-LINE 2941
10294 00000FB0 00000000                   DATA FOR SOURCE-LINE 2948
10295 00000FB4 00000000                   DATA FOR SOURCE-LINE 2954
10296                                     ***** END-POOL *****
10297 00000FB8                   2958     INT_POSCTL_0102A:
10298                            2959     
10299 00000FB8 D00C              2960             MOV.L   #_CPOS_CTL_MATH,R0                      ;
10300 00000FBA 6001              2961             MOV.W   @R0,R0                                  ;
10301 00000FBC C805              2962             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復[2011-03-23]
10302                            2963             TST_BIT_OF INT_POSCTL_0110
10303 00000FBE 892F                   M           BT      INT_POSCTL_0110
10304                            2964     ;       ===== 回転時の起動===
10305                            2965             FAR_JSR #_HIST_INFO_DT_IN1,R0           ;起動前の目標停止位置
10306 00000FC0 D00B                   M           MOV.L   #_HIST_INFO_DT_IN1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10307 00000FC2 400B                   M           JSR     @R0                     ;
10308 00000FC4 0009                   M           NOP                                     ;
10309                            2966     
10310                            2967             FAR_JSR #_POS_LSI_START_INITAL,R0       ;[本当にふりこはここを通していいのかな2011
                                          -03-23]
10311 00000FC6 D00B                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10312 00000FC8 400B                   M           JSR     @R0                     ;
10313 00000FCA 0009                   M           NOP                                     ;
10314                            2968     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    78
PROGRAM NAME =

10315                            2969             FAR_JSR #_ERR_INFO_DT_CHK1,R0           ;POS_LSI_START_INITALでｸﾘｱされるﾃﾞｰﾀが0か
                                          ？
10316 00000FCC D00A                   M           MOV.L   #_ERR_INFO_DT_CHK1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10317 00000FCE 400B                   M           JSR     @R0                     ;
10318 00000FD0 0009                   M           NOP                                     ;
10319                            2970             FAR_JSR #_ERR_INFO_DT_IN1,R0            ;2004-01-28(今一)
10320 00000FD2 D00A                   M           MOV.L   #_ERR_INFO_DT_IN1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10321 00000FD4 400B                   M           JSR     @R0                     ;
10322 00000FD6 0009                   M           NOP                                     ;
10323                            2971     
10324 00000FD8 D109              2972             MOV.L   #_CPOS_BANK_USELFUL,R1          ;
10325 00000FDA 6011              2973             MOV.W   @R1,R0                          ;
10326 00000FDC C801              2974             TST     #BIT0,R0                        ;
10327                            2975             TST_BIT_ON INT_POSCTL_0103              ;上死停止有り
10328 00000FDE 8B13                   M           BF      INT_POSCTL_0103
10329                            2976     
10330                            2977             FAR_JSR #_POS_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED<停止からの起動か実ﾊﾟﾙｽ
                                          から>
10331 00000FE0 D008                   M           MOV.L   #_POS_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10332 00000FE2 400B                   M           JSR     @R0                     ;
10333 00000FE4 0009                   M           NOP                                     ;
10334                            2978     
10335                            2979             M_BRA   INT_POSCTL_0105
10336 00000FE6 A012                   M           BRA     INT_POSCTL_0105
10337 00000FE8 0009                   M           NOP
10338                                     ***** BEGIN-POOL *****
10339 00000FEA 0000                       ALIGNMENT CODE
10340 00000FEC 00000000                   DATA FOR SOURCE-LINE 2960
10341 00000FF0 00000000                   DATA FOR SOURCE-LINE 2965
10342 00000FF4 00000000                   DATA FOR SOURCE-LINE 2967
10343 00000FF8 00000000                   DATA FOR SOURCE-LINE 2969
10344 00000FFC 00000000                   DATA FOR SOURCE-LINE 2970
10345 00001000 00000000                   DATA FOR SOURCE-LINE 2972
10346 00001004 00000000                   DATA FOR SOURCE-LINE 2977
10347                                     ***** END-POOL *****
10348 00001008                   2980     INT_POSCTL_0103:                                ;上死停止なし
10349                            2981             FAR_JSR #_POS_CNT_BANK_DTMAK1,R0        ;これは必ずSVから演算(2004-12-20)もう１回
                                          転先になる
10350 00001008 D003                   M           MOV.L   #_POS_CNT_BANK_DTMAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10351 0000100A 400B                   M           JSR     @R0                     ;
10352 0000100C 0009                   M           NOP                                     ;
10353                            2982     
10354 0000100E                   2983     INT_POSCTL_0105:
10355                            2984     
10356                            2985             FAR_JSR #_ERR_INFO_DT_IN2,R0            ;2004-01-28(data-smp-only)
10357 0000100E D003                   M           MOV.L   #_ERR_INFO_DT_IN2,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10358 00001010 400B                   M           JSR     @R0                     ;
10359 00001012 0009                   M           NOP                                     ;
10360                            2986             M_BRA   INT_POSCTL_0115                 ;
10361 00001014 A00A                   M           BRA     INT_POSCTL_0115
10362 00001016 0009                   M           NOP
10363                            2987     
10364                                     ***** BEGIN-POOL *****
10365 00001018 00000000                   DATA FOR SOURCE-LINE 2981
10366 0000101C 00000000                   DATA FOR SOURCE-LINE 2985
10367                                     ***** END-POOL *****
10368 00001020                   2988     INT_POSCTL_0110:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    79
PROGRAM NAME =

10369                            2989     ;       ===== 反転時の起動===
10370                            2990             FAR_JSR #_POS_LSI_START_INITL2,R0       ;
10371 00001020 D005                   M           MOV.L   #_POS_LSI_START_INITL2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10372 00001022 400B                   M           JSR     @R0                     ;
10373 00001024 0009                   M           NOP                                     ;
10374                            2991             FAR_JSR #_POS_1STEP_DATA_MAK1CL,R0      ;目標位置に対して少しパルスを減らす 2011-0
                                          2-19
10375 00001026 D005                   M           MOV.L   #_POS_1STEP_DATA_MAK1CL,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10376 00001028 400B                   M           JSR     @R0                     ;
10377 0000102A 0009                   M           NOP                                     ;
10378                            2992     
10379                            2993     
10380 0000102C                   2994     INT_POSCTL_0115:
10381                            2995             FAR_JSR #_POS_HOLD_FLG_STR2CLR,R0       ;2014-09-12
10382 0000102C D004                   M           MOV.L   #_POS_HOLD_FLG_STR2CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10383 0000102E 400B                   M           JSR     @R0                     ;
10384 00001030 0009                   M           NOP                                     ;
10385                            2996             M_BRA   INT_POSCTL_0140                 ;
10386 00001032 A029                   M           BRA     INT_POSCTL_0140
10387 00001034 0009                   M           NOP
10388                            2997     
10389                            2998     
10390                            2999     ;       ------------段取、原点復帰、手動パルサ
10391                                     ***** BEGIN-POOL *****
10392 00001036 0000                       ALIGNMENT CODE
10393 00001038 00000000                   DATA FOR SOURCE-LINE 2990
10394 0000103C 00000000                   DATA FOR SOURCE-LINE 2991
10395 00001040 00000000                   DATA FOR SOURCE-LINE 2995
10396                                     ***** END-POOL *****
10397 00001044                   3000     INT_POSCTL_0120:                                ;
10398                            3001     ;       ---------- 2006-07-28------
10399 00001044 D108              3002             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
10400 00001046 6011              3003             MOV.W   @R1,R0                          ;
10401 00001048 2008              3004             TST     R0,R0                           ;
10402                            3005             TST_BIT_OF INT_POSCTL_0130              ;
10403 0000104A 8917                   M           BT      INT_POSCTL_0130
10404                            3006     ;;;;;   FAR_JSR #_POS_LSI_START_INITAL,R0       ;手動パルサ
10405                            3007             FAR_JSR #_POS_LSI_START_INITAL_TEP,R0   ;2013-06-13
10406 0000104C D007                   M           MOV.L   #_POS_LSI_START_INITAL_TEP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10407 0000104E 400B                   M           JSR     @R0                     ;
10408 00001050 0009                   M           NOP                                     ;
10409 00001052 D107              3008             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
10410 00001054 6212              3009             MOV.L   @R1,R2                          ;
10411                            3010             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
10412 00001056 D107                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10413 00001058 410B                   M           JSR     @R1                     ;
10414 0000105A 0009                   M           NOP                                     ;
10415                            3011             FAR_JSR #_TEP_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
10416 0000105C D006                   M           MOV.L   #_TEP_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10417 0000105E 400B                   M           JSR     @R0                     ;
10418 00001060 0009                   M           NOP                                     ;
10419                            3012             M_BRA   INT_POSCTL_0140                 ;
10420 00001062 A011                   M           BRA     INT_POSCTL_0140
10421 00001064 0009                   M           NOP
10422                            3013     
10423                                     ***** BEGIN-POOL *****
10424 00001066 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    80
PROGRAM NAME =

10425 00001068 00000000                   DATA FOR SOURCE-LINE 3002
10426 0000106C 00000000                   DATA FOR SOURCE-LINE 3007
10427 00001070 00000000                   DATA FOR SOURCE-LINE 3008
10428 00001074 00000000                   DATA FOR SOURCE-LINE 3010
10429 00001078 00000000                   DATA FOR SOURCE-LINE 3011
10430                                     ***** END-POOL *****
10431 0000107C                   3014     INT_POSCTL_0130:                                ;
10432                            3015             FAR_JSR #_POS_LSI_START_INITAL,R0       ;((((((((((((段取・原点起動スキャン)))))))
                                          ))))
10433 0000107C D016                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10434 0000107E 400B                   M           JSR     @R0                     ;
10435 00001080 0009                   M           NOP                                     ;
10436                            3016             FAR_JSR #_DND_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
10437 00001082 D016                   M           MOV.L   #_DND_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10438 00001084 400B                   M           JSR     @R0                     ;
10439 00001086 0009                   M           NOP                                     ;
10440                            3017     
10441                            3018     
10442 00001088                   3019     INT_POSCTL_0140:                                ;
10443                            3020             FAR_JSR #_POS_LENGTH_ADD_DATA,R0
10444 00001088 D015                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10445 0000108A 400B                   M           JSR     @R0                     ;
10446 0000108C 0009                   M           NOP                                     ;
10447                            3021             FAR_JSR #_ERR_INFO_DT_IN3,R0            ;2004-01-28ADD,TOTAL(起動開始)
10448 0000108E D015                   M           MOV.L   #_ERR_INFO_DT_IN3,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10449 00001090 400B                   M           JSR     @R0                     ;
10450 00001092 0009                   M           NOP                                     ;
10451                            3022     
10452                            3023     ;;;;;   FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;停止時からの起動
10453                            3024             FAR_JSR #_POS_PLSOUT_SET_RETRY,R0       ;(停止時からの起動の場合のみ有効・安一のみ
                                          )
10454 00001094 D014                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10455 00001096 400B                   M           JSR     @R0                     ;
10456 00001098 0009                   M           NOP                                     ;
10457                            3025     
10458                            3026     ;       == 2004-03 ===
10459                            3027             FAR_JSR #_ERR_INFO_DT_CHK2,R0           ; SGL ONLY
10460 0000109A D014                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10461 0000109C 400B                   M           JSR     @R0                     ;
10462 0000109E 0009                   M           NOP                                     ;
10463 000010A0 9019              3028             MOV.W   #D'2,R0                 ;
10464 000010A2 D113              3029             MOV.L   #_ERR_INFO_DLY_TIM,R1           ;
10465 000010A4 2101              3030             MOV.W   R0,@R1                          ;
10466                            3031     
10467                            3032             FAR_JSR #_ERR_INFO_DT_IN4,R0            ;
10468 000010A6 D013                   M           MOV.L   #_ERR_INFO_DT_IN4,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10469 000010A8 400B                   M           JSR     @R0                     ;
10470 000010AA 0009                   M           NOP                                     ;
10471                            3033             FAR_JSR #_FWD_REV_START,R1              ;起動
10472 000010AC D112                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10473 000010AE 410B                   M           JSR     @R1                     ;
10474 000010B0 0009                   M           NOP                                     ;
10475                            3034     
10476                            3035     ;       -------- 2010-09-27 ふりこ情報--------
10477                            3036             FAR_JSR #_DNM_START_ACC_CALC,R0
10478 000010B2 D012                   M           MOV.L   #_DNM_START_ACC_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10479 000010B4 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    81
PROGRAM NAME =

10480 000010B6 0009                   M           NOP                                     ;
10481                            3037     
10482                            3038             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;
10483 000010B8 D111                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10484 000010BA 6011                   M           MOV.W   @R1,R0          ;
10485 000010BC CB01                   M           OR      #BIT0,R0                ;
10486 000010BE 2101                   M           MOV.W   R0,@R1          ;
10487                            3039     
10488                            3040             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
10489 000010C0 D010                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10490 000010C2 400B                   M           JSR     @R0                     ;
10491 000010C4 0009                   M           NOP                                     ;
10492                            3041     
10493                            3042             FAR_JSR #_POS_CMP_1STEP_START_INI,R0
10494 000010C6 D010                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10495 000010C8 400B                   M           JSR     @R0                     ;
10496 000010CA 0009                   M           NOP                                     ;
10497                            3043     
10498                            3044     ;       ---------------- 起動 2011-09-01 -------------------
10499                            3045             FAR_JSR #_UP_ACCERR_START_INI,R0
10500 000010CC D00F                   M           MOV.L   #_UP_ACCERR_START_INI,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10501 000010CE 400B                   M           JSR     @R0                     ;
10502 000010D0 0009                   M           NOP                                     ;
10503                            3046     
10504 000010D2                   3047     INT_POSCTL_0190:
10505                            3048             M_BRA   INT_POSCTL_0800                 ;
10506 000010D2 A0DC                   M           BRA     INT_POSCTL_0800
10507 000010D4 0009                   M           NOP
10508                            3049     
10509                                     ***** BEGIN-POOL *****
10510 000010D6 0002                       DATA FOR SOURCE-LINE 3028
10511 000010D8 00000000                   DATA FOR SOURCE-LINE 3015
10512 000010DC 00000000                   DATA FOR SOURCE-LINE 3016
10513 000010E0 00000000                   DATA FOR SOURCE-LINE 3020
10514 000010E4 00000000                   DATA FOR SOURCE-LINE 3021
10515 000010E8 00000000                   DATA FOR SOURCE-LINE 3024
10516 000010EC 00000000                   DATA FOR SOURCE-LINE 3027
10517 000010F0 00000000                   DATA FOR SOURCE-LINE 3029
10518 000010F4 00000000                   DATA FOR SOURCE-LINE 3032
10519 000010F8 00000000                   DATA FOR SOURCE-LINE 3033
10520 000010FC 00000000                   DATA FOR SOURCE-LINE 3036
10521 00001100 00000000                   DATA FOR SOURCE-LINE 3038
10522 00001104 00000000                   DATA FOR SOURCE-LINE 3040
10523 00001108 00000000                   DATA FOR SOURCE-LINE 3042
10524 0000110C 00000000                   DATA FOR SOURCE-LINE 3045
10525                                     ***** END-POOL *****
10526 00001110                   3050     INT_POSCTL_0200:
10527                            3051     ;       ===========================================
10528                            3052     ;       ===                                     ===
10529                            3053     ;       ===             起動中                  ===
10530                            3054     ;       ===                                     ===
10531                            3055     ;       ===========================================
10532 00001110 D609              3056             MOV.L   #_MNWR_POS_CMD,R6                                               ;
10533 00001112 6061              3057             MOV.W   @R6,R0                                                          ;
10534 00001114 2008              3058             TST     R0,R0                                                           ;ﾊﾟﾙｽ払出
                                          即停止
10535                            3059             TST_BIT_ON INT_POSCTL_0220                                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    82
PROGRAM NAME =

10536 00001116 8B19                   M           BF      INT_POSCTL_0220
10537                            3060             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT3,WKREG=R1    ;
10538 00001118 D108                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10539 0000111A 6011                   M           MOV.W   @R1,R0          ;
10540 0000111C CB08                   M           OR      #BIT3,R0                ;
10541 0000111E 2101                   M           MOV.W   R0,@R1          ;
10542                            3061             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
10543 00001120 D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10544 00001122 400B                   M           JSR     @R0                     ;
10545 00001124 0009                   M           NOP                                     ;
10546                            3062             FAR_JSR #_POS_LSI_EMG_STOP,R0                                           ;急停止
10547 00001126 D007                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10548 00001128 400B                   M           JSR     @R0                     ;
10549 0000112A 0009                   M           NOP                                     ;
10550                            3063             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0                                  ;2004-03-0
                                          3
10551 0000112C D006                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10552 0000112E 400B                   M           JSR     @R0                     ;
10553 00001130 0009                   M           NOP                                     ;
10554                            3064             M_BRA   INT_POSCTL_0800                                                 ;
10555 00001132 A0AC                   M           BRA     INT_POSCTL_0800
10556 00001134 0009                   M           NOP
10557                            3065     
10558                                     ***** BEGIN-POOL *****
10559 00001136 0000                       ALIGNMENT CODE
10560 00001138 00000000                   DATA FOR SOURCE-LINE 3056
10561 0000113C 00000000                   DATA FOR SOURCE-LINE 3060
10562 00001140 00000000                   DATA FOR SOURCE-LINE 3061
10563 00001144 00000000                   DATA FOR SOURCE-LINE 3062
10564 00001148 00000000                   DATA FOR SOURCE-LINE 3063
10565                                     ***** END-POOL *****
10566 0000114C                   3066     INT_POSCTL_0220:                                                                ;
10567 0000114C C802              3067             TST     #BIT1,R0                                                        ;減速停止ｺ
                                          ﾏﾝﾄﾞ
10568                            3068             TST_BIT_OF INT_POSCTL_0240                                              ;
10569 0000114E 8917                   M           BT      INT_POSCTL_0240
10570                            3069             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT2,WKREG=R1    ;
10571 00001150 D107                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10572 00001152 6011                   M           MOV.W   @R1,R0          ;
10573 00001154 CB04                   M           OR      #BIT2,R0                ;
10574 00001156 2101                   M           MOV.W   R0,@R1          ;
10575                            3070             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
10576 00001158 D006                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10577 0000115A 400B                   M           JSR     @R0                     ;
10578 0000115C 0009                   M           NOP                                     ;
10579                            3071             FAR_JSR #_POS_LSI_SLOW_STOP,R0                                          ;
10580 0000115E D006                   M           MOV.L   #_POS_LSI_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10581 00001160 400B                   M           JSR     @R0                     ;
10582 00001162 0009                   M           NOP                                     ;
10583                            3072             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0                                  ;2004-03-0
                                          3
10584 00001164 D005                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10585 00001166 400B                   M           JSR     @R0                     ;
10586 00001168 0009                   M           NOP                                     ;
10587                            3073             M_BRA   INT_POSCTL_0800                                                 ;
10588 0000116A A090                   M           BRA     INT_POSCTL_0800
10589 0000116C 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    83
PROGRAM NAME =

10590                            3074     
10591                                     ***** BEGIN-POOL *****
10592 0000116E 0000                       ALIGNMENT CODE
10593 00001170 00000000                   DATA FOR SOURCE-LINE 3069
10594 00001174 00000000                   DATA FOR SOURCE-LINE 3070
10595 00001178 00000000                   DATA FOR SOURCE-LINE 3071
10596 0000117C 00000000                   DATA FOR SOURCE-LINE 3072
10597                                     ***** END-POOL *****
10598 00001180                   3075     INT_POSCTL_0240:
10599                            3076     ;       ==========(位置決め完了・継続) ==========
10600 00001180 D109              3077             MOV.L   #_INT_POS_STEP_FLG,R1                                           ;//ｽﾃｯﾌﾟ,
                                          段取り共通
10601 00001182 6011              3078             MOV.W   @R1,R0                                                          ;
10602 00001184 C840              3079             TST     #BIT6,R0                                                        ;工程終了
10603                            3080             TST_BIT_OF INT_POSCTL_0250                                              ;
10604 00001186 8919                   M           BT      INT_POSCTL_0250
10605                            3081             FAR_JSR #_CYC_END_POS_FLG_SET,R0                                        ;
10606 00001188 D008                   M           MOV.L   #_CYC_END_POS_FLG_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10607 0000118A 400B                   M           JSR     @R0                     ;
10608 0000118C 0009                   M           NOP                                     ;
10609                            3082             FAR_JSR #_CYC_END_POS_FLG_CLR,R0                                        ;
10610 0000118E D008                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10611 00001190 400B                   M           JSR     @R0                     ;
10612 00001192 0009                   M           NOP                                     ;
10613                            3083     
10614                            3084              .AIF   1 EQ 1  ;
10615                            3085 C   ;       -------- 2016-10-31 ADD 二重回路対策
10616                            3086              .AENDI
10617                            3087     ;       ---------2016-06-13[3]
10618                            3088             FAR_JSR #_DNM_CYCLE_END,R0                      ;2016-06-13[3]
10619 00001194 D007                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10620 00001196 400B                   M           JSR     @R0                     ;
10621 00001198 0009                   M           NOP                                     ;
10622                            3089     
10623                            3090             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT6,WKREG=R1    ;位置決め
                                          完了
10624 0000119A D107                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10625 0000119C 6011                   M           MOV.W   @R1,R0          ;
10626 0000119E CB40                   M           OR      #BIT6,R0                ;
10627 000011A0 2101                   M           MOV.W   R0,@R1          ;
10628                            3091             M_BRA   INT_POSCTL_0800                                                 ;
10629 000011A2 A074                   M           BRA     INT_POSCTL_0800
10630 000011A4 0009                   M           NOP
10631                            3092     
10632                            3093     
10633                                     ***** BEGIN-POOL *****
10634 000011A6 0000                       ALIGNMENT CODE
10635 000011A8 00000000                   DATA FOR SOURCE-LINE 3077
10636 000011AC 00000000                   DATA FOR SOURCE-LINE 3081
10637 000011B0 00000000                   DATA FOR SOURCE-LINE 3082
10638 000011B4 00000000                   DATA FOR SOURCE-LINE 3088
10639 000011B8 00000000                   DATA FOR SOURCE-LINE 3090
10640                                     ***** END-POOL *****
10641 000011BC                   3094     INT_POSCTL_0250:
10642 000011BC D105              3095             MOV.L   #_MODE_SEL,R1                   ;
10643 000011BE 6011              3096             MOV.W   @R1,R0                          ;
10644 000011C0 C820              3097             TST     #_W1DIC,R0                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    84
PROGRAM NAME =

10645                            3098             TST_BIT_ON INT_POSCTL_0260              ;段取
10646 000011C2 8B0B                   M           BF      INT_POSCTL_0260
10647                            3099     
10648 000011C4 C840              3100             TST     #_W1DUP,R0                      ;
10649                            3101             TST_BIT_ON INT_POSCTL_0260              ;待機点復帰
10650 000011C6 8B09                   M           BF      INT_POSCTL_0260
10651                            3102     
10652                            3103     
10653                            3104             FAR_JSR #_POS_ALL_STEP_CTRL,R0          ;ﾓｰｼｮﾝ
10654 000011C8 D003                   M           MOV.L   #_POS_ALL_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10655 000011CA 400B                   M           JSR     @R0                     ;
10656 000011CC 0009                   M           NOP                                     ;
10657                            3105     
10658                            3106             M_BRA   INT_POSCTL_0280                 ;
10659 000011CE A008                   M           BRA     INT_POSCTL_0280
10660 000011D0 0009                   M           NOP
10661                            3107     
10662                                     ***** BEGIN-POOL *****
10663 000011D2 0000                       ALIGNMENT CODE
10664 000011D4 00000000                   DATA FOR SOURCE-LINE 3095
10665 000011D8 00000000                   DATA FOR SOURCE-LINE 3104
10666                                     ***** END-POOL *****
10667 000011DC                   3108     INT_POSCTL_0260:                                ;
10668                            3109             FAR_JSR #_DND_ALL_STEP_CTRL,R0          ;(((((((((((段取毎スキャン)))))))))))))))
10669 000011DC D00A                   M           MOV.L   #_DND_ALL_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10670 000011DE 400B                   M           JSR     @R0                     ;
10671 000011E0 0009                   M           NOP                                     ;
10672 000011E2                   3110     INT_POSCTL_0280:
10673                            3111             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
10674 000011E2 D00A                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10675 000011E4 400B                   M           JSR     @R0                     ;
10676 000011E6 0009                   M           NOP                                     ;
10677                            3112     
10678                            3113     ;       === FLAG SET(REST-PLS REFLASH-END)====
10679                            3114             eSHi_SET_IM_MOV DST=_SH2_REST_RL_HF,L1=W,WKREG1=R1,WKREG2=R0,IMD=1      ;
10680                                 M           PUSH_REG1 R1            ;
10681 000011E8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
10682                                 M                                           ;REG=>[SP]
10683                                 M                                           ;"-4" FF,FF,FF,FC
10684                                 M           PUSH_REG1 R0            ;
10685 000011EA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
10686                                 M                                           ;REG=>[SP]
10687                                 M                                           ;"-4" FF,FF,FF,FC
10688 000011EC 900B                   M           MOV.W   #1,R0           ;
10689 000011EE D108                   M           MOV.L   #_SH2_REST_RL_HF,R1             ;
10690 000011F0 2101                   M           MOV.W   R0,@R1  ;
10691                                 M           POP_REG1 R0             ;
10692                                 M                                   ; RE"+4" 00,00,00,04
10693 000011F2 60F6                   M           MOV.L   @R15+,R0        ;
10694                                 M           POP_REG1 R1             ;
10695                                 M                                   ; RE"+4" 00,00,00,04
10696 000011F4 61F6                   M           MOV.L   @R15+,R1        ;
10697                            3115     
10698                            3116     
10699                            3117     ;       === 2004-01-28===
10700                            3118             FAR_JSR #_ERR_INFO_DT_CHK2,R0           ;0CHEAK(起動中常時) SGL-ONLY
10701 000011F6 D007                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    85
PROGRAM NAME =

10702 000011F8 400B                   M           JSR     @R0                     ;
10703 000011FA 0009                   M           NOP                                     ;
10704                            3119             FAR_JSR #_ERR_INFO_DT_CHK3,R0           ;PLS SGL-OMLY
10705 000011FC D006                   M           MOV.L   #_ERR_INFO_DT_CHK3,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10706 000011FE 400B                   M           JSR     @R0                     ;
10707 00001200 0009                   M           NOP                                     ;
10708                            3120     
10709                            3121             .AIF 0  EQ 1    ;2006-09-19
10710                            3122             FAR_JSR #_ERR_INFO_DT_CHK_CMP2,R0       ;SGL-ONLY
10711                            3123             .AENDI
10712                            3124     
10713                            3125             M_BRA   INT_POSCTL_0800
10714 00001202 A044                   M           BRA     INT_POSCTL_0800
10715 00001204 0009                   M           NOP
10716                            3126     
10717                            3127     
10718                            3128     ;       ***************************************************
10719                            3129     ;       ***             終わりへ向かう状態              ***
10720                            3130     ;       ***************************************************
10721                                     ***** BEGIN-POOL *****
10722 00001206 0001                       DATA FOR SOURCE-LINE 3114
10723 00001208 00000000                   DATA FOR SOURCE-LINE 3109
10724 0000120C 00000000                   DATA FOR SOURCE-LINE 3111
10725 00001210 00000000                   DATA FOR SOURCE-LINE 3114
10726 00001214 00000000                   DATA FOR SOURCE-LINE 3118
10727 00001218 00000000                   DATA FOR SOURCE-LINE 3119
10728                                     ***** END-POOL *****
10729 0000121C                   3131     INT_POSCTL_0300:
10730 0000121C C840              3132             TST     #BIT6,R0                        ;
10731                            3133             TST_BIT_ON INT_POSCTL_0700              ;(位置決め完了状態)起動指令OFF待ち
10732 0000121E 8B2D                   M           BF      INT_POSCTL_0700
10733 00001220 C808              3134             TST     #BIT3,R0                        ;
10734                            3135             TST_BIT_ON INT_POSCTL_0500              ;急停止の払出待ち
10735 00001222 8B1B                   M           BF      INT_POSCTL_0500
10736 00001224 C804              3136             TST     #BIT2,R0                        ;
10737                            3137             TST_BIT_ON INT_POSCTL_0320              ;減速停止の払出待ち
10738 00001226 8B01                   M           BF      INT_POSCTL_0320
10739                            3138             M_BRA   INT_POSCTL_0900                 ;ｱｲﾄﾞﾙ
10740 00001228 A032                   M           BRA     INT_POSCTL_0900
10741 0000122A 0009                   M           NOP
10742                            3139     
10743 0000122C                   3140     INT_POSCTL_0320:
10744                            3141     ;       ===========================================
10745                            3142     ;       ===             減速停止中              ===
10746                            3143     ;       ===========================================
10747 0000122C D607              3144             MOV.L   #_MNWR_POS_CMD,R6               ;
10748 0000122E 6061              3145             MOV.W   @R6,R0                          ;
10749 00001230 2008              3146             TST     R0,R0                           ;ﾊﾟﾙｽ払出即停止
10750                            3147             TST_BIT_ON INT_POSCTL_0500              ;
10751 00001232 8B13                   M           BF      INT_POSCTL_0500
10752                            3148             FAR_JSR #_FWD_REV_STSIG_OFF,R0          ;起動信号一定時間ONしたらOFF:但し払い出し
                                          中が立つ
10753 00001234 D006                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10754 00001236 400B                   M           JSR     @R0                     ;
10755 00001238 0009                   M           NOP                                     ;
10756                            3149             FAR_JSR #_POS_LSI_EMG_STOP,R0           ;急停止
10757 0000123A D006                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    86
PROGRAM NAME =

10758 0000123C 400B                   M           JSR     @R0                     ;
10759 0000123E 0009                   M           NOP                                     ;
10760                            3150             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT3,WKREG=R1    ;急停止へ
10761 00001240 D105                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10762 00001242 6011                   M           MOV.W   @R1,R0          ;
10763 00001244 CB08                   M           OR      #BIT3,R0                ;
10764 00001246 2101                   M           MOV.W   R0,@R1          ;
10765                            3151             M_BRA   INT_POSCTL_0800                 ;
10766 00001248 A021                   M           BRA     INT_POSCTL_0800
10767 0000124A 0009                   M           NOP
10768                            3152     
10769                            3153     ;       ===========================================
10770                            3154     ;       ===             急停止中                ===
10771                            3155     ;       ===========================================
10772                                     ***** BEGIN-POOL *****
10773 0000124C 00000000                   DATA FOR SOURCE-LINE 3144
10774 00001250 00000000                   DATA FOR SOURCE-LINE 3148
10775 00001254 00000000                   DATA FOR SOURCE-LINE 3149
10776 00001258 00000000                   DATA FOR SOURCE-LINE 3150
10777                                     ***** END-POOL *****
10778 0000125C                   3156     INT_POSCTL_0500:
10779                            3157             FAR_JSR #_LOD_POS_STS_REG_SLOW,R1       ;
10780 0000125C D105                   M           MOV.L   #_LOD_POS_STS_REG_SLOW,R1               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10781 0000125E 410B                   M           JSR     @R1                     ;
10782 00001260 0009                   M           NOP                                     ;
10783 00001262 C804              3158             TST     #BIT2,R0                        ;停止?
10784                            3159             TST_BIT_OF INT_POSCTL_0800              ;
10785 00001264 8913                   M           BT      INT_POSCTL_0800
10786                            3160             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT6,WKREG=R1    ;位置決め
                                          完了
10787 00001266 D104                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
10788 00001268 6011                   M           MOV.W   @R1,R0          ;
10789 0000126A CB40                   M           OR      #BIT6,R0                ;
10790 0000126C 2101                   M           MOV.W   R0,@R1          ;
10791                            3161             M_BRA   INT_POSCTL_0800         ;
10792 0000126E A00E                   M           BRA     INT_POSCTL_0800
10793 00001270 0009                   M           NOP
10794                            3162     
10795                            3163     
10796                            3164     
10797                            3165     ;       ===========================================
10798                            3166     ;       ===             位置決め完了待ち        ===
10799                            3167     ;       ===========================================
10800                                     ***** BEGIN-POOL *****
10801 00001272 0000                       ALIGNMENT CODE
10802 00001274 00000000                   DATA FOR SOURCE-LINE 3157
10803 00001278 00000000                   DATA FOR SOURCE-LINE 3160
10804                                     ***** END-POOL *****
10805 0000127C                   3168     INT_POSCTL_0700:                                        ;
10806 0000127C D512              3169             MOV.L   #_INT_CYC_DRV_STS,R5    ;//BIT0:CYCLE　END()
10807 0000127E 6051              3170             MOV.W   @R5,R0                  ;
10808 00001280 C840              3171             TST     #BIT6,R0                ;
10809                            3172             TST_BIT_ON INT_POSCTL_0900      ;
10810 00001282 8B05                   M           BF      INT_POSCTL_0900
10811 00001284 CB40              3173             OR      #BIT6,R0                ;
10812 00001286 2501              3174             MOV.W   R0,@R5                  ;位置決め完了SET
10813                            3175     ;       ===========================     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    87
PROGRAM NAME =

10814                            3176     ;       ===     運転終了        ===     ;
10815                            3177     ;       ===========================     ;
10816                            3178             FAR_JSR #_INT_POS_CTL_END,R0    ;
10817 00001288 D010                   M           MOV.L   #_INT_POS_CTL_END,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10818 0000128A 400B                   M           JSR     @R0                     ;
10819 0000128C 0009                   M           NOP                                     ;
10820 0000128E                   3179     INT_POSCTL_0800:
10821 0000128E 0009              3180             NOP
10822 00001290                   3181     INT_POSCTL_0900:
10823                            3182             MEM_MOV_TO_MEM  _POS_CALC_ERR_FLG1,W    ,_POS_CALC_ERR_INF1,W,R1,R2,R3
                                          ;
10824 00001290 D10F                   M           MOV.L   #_POS_CALC_ERR_FLG1,R1
10825 00001292 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
10826 00001294 D30F                   M           MOV.L   #_POS_CALC_ERR_INF1,R3  ;DST_ADR
10827 00001296 2321                   M           MOV.W   R2,@R3  ;DST_ADR
10828                            3183             MEM_MOV_TO_MEM  _POS_CALC_ERR_FLG2,W    ,_POS_CALC_ERR_INF2,W,R1,R2,R3
                                          ;
10829 00001298 D10F                   M           MOV.L   #_POS_CALC_ERR_FLG2,R1
10830 0000129A 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
10831 0000129C D30F                   M           MOV.L   #_POS_CALC_ERR_INF2,R3  ;DST_ADR
10832 0000129E 2321                   M           MOV.W   R2,@R3  ;DST_ADR
10833                            3184             MEM_MOV_TO_MEM  _POS_LSI_ACS_ERR_FLG1,W ,_POS_LSI_ACS_ERR_INF1,W,R1,R2,R3
                                          ;
10834 000012A0 D10F                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1
10835 000012A2 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
10836 000012A4 D30F                   M           MOV.L   #_POS_LSI_ACS_ERR_INF1,R3       ;DST_ADR
10837 000012A6 2321                   M           MOV.W   R2,@R3  ;DST_ADR
10838                            3185     
10839                            3186     
10840                            3187     
10841                            3188             FAR_JSR #_POS_OVER_RUN_CHK1,R0          ;[S01m 2003-04-03]
10842 000012A8 D00F                   M           MOV.L   #_POS_OVER_RUN_CHK1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10843 000012AA 400B                   M           JSR     @R0                     ;
10844 000012AC 0009                   M           NOP                                     ;
10845                            3189     
10846 000012AE                   3190     INT_POSCTL_0910:
10847                            3191     
10848                            3192     
10849                            3193     ;;;2011-09-14移動[ﾌﾞﾚｰｷﾃｽﾄ中はｵｰﾊﾞﾗﾝを見ない]   FAR_JSR #_POS_OVER_RUN_CHK1,R0          ;[
                                          S01m 2003-04-03]
10850                            3194     
10851                            3195     
10852                            3196     
10853                            3197     
10854                            3198             FAR_JSR #_ERR_STOP_MOV_CHK,R0           ;FLG=R0
10855 000012AE D00F                   M           MOV.L   #_ERR_STOP_MOV_CHK,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10856 000012B0 400B                   M           JSR     @R0                     ;
10857 000012B2 0009                   M           NOP                                     ;
10858 000012B4 2008              3199             TST     R0,R0                           ;
10859                            3200             TST_BIT_ON INT_POSCTL_0920              ;
10860 000012B6 8B1D                   M           BF      INT_POSCTL_0920
10861                            3201             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT1),WKRG1=R1,WKRG2=R4
10862 000012B8 D10D                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
10863 000012BA 6011                   M           MOV.W   @R1,R0          ;
10864 000012BC 9403                   M           MOV.W   #LWORD (~BIT1),R4       ;
10865 000012BE 2049                   M           AND     R4,R0           ;
10866 000012C0 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    88
PROGRAM NAME =

10867                            3202             M_BRA   INT_POSCTL_0950                 ;
10868 000012C2 A01C                   M           BRA     INT_POSCTL_0950
10869 000012C4 0009                   M           NOP
10870                                     ***** BEGIN-POOL *****
10871 000012C6 FFFD                       DATA FOR SOURCE-LINE 3201
10872 000012C8 00000000                   DATA FOR SOURCE-LINE 3169
10873 000012CC 00000000                   DATA FOR SOURCE-LINE 3178
10874 000012D0 00000000                   DATA FOR SOURCE-LINE 3182
10875 000012D4 00000000                   DATA FOR SOURCE-LINE 3182
10876 000012D8 00000000                   DATA FOR SOURCE-LINE 3183
10877 000012DC 00000000                   DATA FOR SOURCE-LINE 3183
10878 000012E0 00000000                   DATA FOR SOURCE-LINE 3184
10879 000012E4 00000000                   DATA FOR SOURCE-LINE 3184
10880 000012E8 00000000                   DATA FOR SOURCE-LINE 3188
10881 000012EC 00000000                   DATA FOR SOURCE-LINE 3198
10882 000012F0 00000000                   DATA FOR SOURCE-LINE 3201
10883                                     ***** END-POOL *****
10884 000012F4                   3203     INT_POSCTL_0920:
10885                            3204             MEM1_BIT0_F_ORSET MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(BIT1),WKRG1=R1,WKRG2=R4
10886 000012F4 D119                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
10887 000012F6 6011                   M           MOV.W   @R1,R0          ;
10888 000012F8 942F                   M           MOV.W   #(BIT1),R4              ;
10889 000012FA 204B                   M           OR      R4,R0           ;
10890 000012FC 2101                   M           MOV.W   R0,@R1          ;
10891 000012FE                   3205     INT_POSCTL_0950:
10892                            3206     
10893                            3207     ;       ------ 2006-09-19 -------
10894                            3208             FAR_JSR #_MONI_SEINOU_CMP_OUTPUT,R0                     ;制御(_SH_POSCTL_RL_ABSPLS
                                          )を使用している注意
10895 000012FE D018                   M           MOV.L   #_MONI_SEINOU_CMP_OUTPUT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10896 00001300 400B                   M           JSR     @R0                     ;
10897 00001302 0009                   M           NOP                                     ;
10898                            3209             FAR_JSR #_RL_POS_DATA_CHK,R0                            ;
10899 00001304 D017                   M           MOV.L   #_RL_POS_DATA_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10900 00001306 400B                   M           JSR     @R0                     ;
10901 00001308 0009                   M           NOP                                     ;
10902                            3210     
10903                            3211             FAR_JSR #_CNT_HOSEI_CHK_CALC,R0                         ;
10904 0000130A D017                   M           MOV.L   #_CNT_HOSEI_CHK_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10905 0000130C 400B                   M           JSR     @R0                     ;
10906 0000130E 0009                   M           NOP                                     ;
10907                            3212     
10908                            3213     ;       ----------------------------------------------
10909                            3214             FAR_JSR #_PLS_LSI_CTRL,R0                       ;
10910 00001310 D016                   M           MOV.L   #_PLS_LSI_CTRL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
10911 00001312 400B                   M           JSR     @R0                     ;
10912 00001314 0009                   M           NOP                                     ;
10913                            3215     
10914                            3216     
10915                            3217     ;       ------2012-05-15---------------
10916 00001316 D116              3218             MOV.L   #_DURING_TIM_FX,R1              ;ﾓﾆﾀ
10917 00001318 6211              3219             MOV.W   @R1,R2                          ;
10918 0000131A 622C              3220             EXTU.B  R2,R2                           ;
10919                            3221     
10920 0000131C D115              3222             MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;2012-05-30
10921 0000131E 6011              3223             MOV.W   @R1,R0                          ;
10922 00001320 4018              3224             SHLL8   R0                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    89
PROGRAM NAME =

10923 00001322 220B              3225             OR      R0,R2                           ;
10924                            3226     
10925 00001324 D114              3227             MOV.L   #_SQ_CBWK_TOP+_WKSQCB231,R1     ;
10926 00001326 2121              3228             MOV.W   R2,@R1                          ;
10927                            3229     
10928                            3230     ;       ------2012-10-01---------------
10929 00001328 D114              3231             MOV.L   #_INT_CLS_CTL_FLG,R1            ;
10930 0000132A 6211              3232             MOV.W   @R1,R2                          ;
10931 0000132C 622C              3233             EXTU.B  R2,R2                           ;
10932                            3234     
10933                            3235     ;       -------- 2019-04-10-------------
10934 0000132E 233A              3236             XOR             R3,R3
10935 00001330 D113              3237             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1      ;//ふりこの場合の前回までの動作方向(今回動
                                          きべき方向) 非常停止の影響ない
10936 00001332 6011              3238             MOV.W   @R1,R0                                          ;
10937 00001334 2008              3239             TST             R0,R0
10938                            3240             TST_BIT_OF      DEBUG_SIGINC_100
10939 00001336 8900                   M           BT      DEBUG_SIGINC_100
10940 00001338 E302              3241             MOV.B   #BIT1,R3
10941 0000133A                   3242     DEBUG_SIGINC_100:
10942                            3243     
10943 0000133A 244A              3244             XOR             R4,R4
10944                            3245     ;;;     MOV.L   #_HANTEN_LAST_STEP_F,R1         ;
10945                            3246     ;;;     MOV.W   @R1,R0                                          ;
10946                            3247     ;;;     TST             R0,R0
10947                            3248     ;;;     TST_BIT_OF      DEBUG_SIGNEG_100                ;
10948                            3249     ;;;     MOV.B   #BIT2,R4
10949                            3250     ;;;DEBUG_SIGNEG_100:                                            ;
10950                            3251     
10951 0000133C D111              3252             MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
10952 0000133E 6011              3253             MOV.W   @R1,R0                          ;
10953 00001340 203B              3254             OR              R3,R0                                           ;BIT1->232.9
10954 00001342 204B              3255             OR              R4,R0                                           ;BIT2->232.10
10955 00001344 4018              3256             SHLL8   R0                              ;
10956 00001346 220B              3257             OR      R0,R2                           ;
10957                            3258     
10958 00001348 D10F              3259             MOV.L   #_SQ_CBWK_TOP+_WKSQCB232,R1     ;
10959 0000134A 2121              3260             MOV.W   R2,@R1                          ;
10960                            3261     
10961                            3262     
10962                            3263     ;----------2013-08-20
10963 0000134C D10F              3264             MOV.L   #_POSCTL_STEP_FLG,R1            ;
10964 0000134E 6211              3265             MOV.W   @R1,R2                          ;
10965 00001350 D10F              3266             MOV.L   #_SQ_CBWK_TOP+_WKSQCB233,R1     ;
10966 00001352 2121              3267             MOV.W   R2,@R1                          ;
10967                            3268     
10968                            3269     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_LSI_BUF_PLS_BitComdL+0,R1
10969                            3270     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   @R1,R2                          ;
10970                            3271     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_SQ_CBWK_TOP+_WKSQCB234,R1     ;
10971                            3272     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   R2,@R1                          ;
10972                            3273     ;;;;;;;;;;;;;;;;;;;2015-07-07
10973                            3274     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_LSI_BUF_PLS_BitComdL+2,R1
10974                            3275     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   @R1,R2                          ;
10975                            3276     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.L   #_SQ_CBWK_TOP+_WKSQCB235,R1     ;
10976                            3277     ;;;;;;;;;;;;;;;;;;;2015-07-07   MOV.W   R2,@R1                          ;
10977                            3278     
10978                            3279     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    90
PROGRAM NAME =

10979                            3280     
10980                            3281             SUB_END
10981                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
10982 00001354 4F26                   M           LDS.L   @R15+,PR                ;[必要]
10983                            3282             M_RTS
10984 00001356 000B                   M           RTS                             ;RTSの後ろの
10985 00001358 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
10986                            3283     
10987                            3284     ;       ***********************************
10988                            3285     ;       ***                             ***
10989                            3286     ;       ***     INT                     ***
10990                            3287     ;       ***                             ***
10991                            3288     ;       ***********************************
10992                                     ***** BEGIN-POOL *****
10993 0000135A 0002                       DATA FOR SOURCE-LINE 3204
10994 0000135C 00000000                   DATA FOR SOURCE-LINE 3204
10995 00001360 00000000                   DATA FOR SOURCE-LINE 3208
10996 00001364 00000000                   DATA FOR SOURCE-LINE 3209
10997 00001368 00000000                   DATA FOR SOURCE-LINE 3211
10998 0000136C 00000000                   DATA FOR SOURCE-LINE 3214
10999 00001370 00000000                   DATA FOR SOURCE-LINE 3218
11000 00001374 00000000                   DATA FOR SOURCE-LINE 3222
11001 00001378 00000000                   DATA FOR SOURCE-LINE 3227
11002 0000137C 00000000                   DATA FOR SOURCE-LINE 3231
11003 00001380 00000000                   DATA FOR SOURCE-LINE 3237
11004 00001384 00000000                   DATA FOR SOURCE-LINE 3252
11005 00001388 00000000                   DATA FOR SOURCE-LINE 3259
11006 0000138C 00000000                   DATA FOR SOURCE-LINE 3264
11007 00001390 00000000                   DATA FOR SOURCE-LINE 3266
11008                                     ***** END-POOL *****
11009 00001394                   3289             .ALIGN  4                               ;
11010 00001394                   3290     _INT_POS_CTL_END:
11011                            3291             SUB_START
11012 00001394 4F22                   M           STS.L   PR,@-R15                ;[必要]
11013                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11014 00001396 200A              3292             XOR     R0,R0
11015 00001398 D10D              3293             MOV.L   #_INT_POS_CTL_FLAG,R1;
11016 0000139A 2101              3294             MOV.W   R0,@R1
11017 0000139C D10D              3295             MOV.L   #_INT_POS_STEP_FLG,R1;
11018 0000139E 2101              3296             MOV.W   R0,@R1
11019 000013A0 D10D              3297             MOV.L   #_INT_POS_CTL_STEP,R1;
11020 000013A2 2101              3298             MOV.W   R0,@R1
11021                            3299     ;       ===========================
11022 000013A4 D10D              3300             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
11023 000013A6 2101              3301             MOV.W   R0,@R1                          ;
11024                            3302     ;       ===========================
11025                            3303     
11026 000013A8 D10D              3304             MOV.L   #_INT_DND_CTL_STEP,R1;
11027 000013AA 2101              3305             MOV.W   R0,@R1
11028 000013AC D10D              3306             MOV.L   #_INT_DND_STEP_FLG,R1;
11029 000013AE 2101              3307             MOV.W   R0,@R1
11030                            3308     
11031 000013B0 D10D              3309             MOV.L   #_LNGTH_ADD_DATA,R1;[2];//符号付き
11032 000013B2 2102              3310             MOV.L   R0,@R1
11033 000013B4 1101              3311             MOV.L   R0,@(4,R1)
11034                            3312     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    91
PROGRAM NAME =

11035 000013B6 D10D              3313             MOV.L   #_LNGTH_TOTAL_OUTPLS,R1;[2];//符号つき TOTAL=TOTAL+ADD ADD_DATA<=0
11036 000013B8 2102              3314             MOV.L   R0,@R1
11037 000013BA 1101              3315             MOV.L   R0,@(4,R1)
11038                            3316     
11039 000013BC D10C              3317             MOV.L   #_POSLSI_CMP_DATA,R1;//CMP_DATA=CMP_DATA+|ADD_DATA| (符号なし)
11040 000013BE 2102              3318             MOV.L   R0,@R1
11041                            3319     
11042 000013C0 D10C              3320             MOV.L   #_POSLSI_DELT_POS,R1;//変化分
11043 000013C2 2102              3321             MOV.L   R0,@R1
11044                            3322     
11045 000013C4 D10C              3323             MOV.L   #_OUTPLS_MOD,R1         ;
11046 000013C6 2102              3324             MOV.L   R0,@R1                  ;
11047                            3325             SUB_END
11048                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11049 000013C8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11050                            3326             M_RTS
11051 000013CA 000B                   M           RTS                             ;RTSの後ろの
11052 000013CC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11053                            3327     
11054                            3328     
11055                            3329     
11056                            3330     
11057                            3331     ;       ***********************************
11058                            3332     ;       ***                             ***
11059                            3333     ;       ***     移動距離と速度          ***
11060                            3334     ;       ***                             ***
11061                            3335     ;       ***********************************
11062                                     ***** BEGIN-POOL *****
11063 000013CE 0000                       ALIGNMENT CODE
11064 000013D0 00000000                   DATA FOR SOURCE-LINE 3293
11065 000013D4 00000000                   DATA FOR SOURCE-LINE 3295
11066 000013D8 00000000                   DATA FOR SOURCE-LINE 3297
11067 000013DC 00000000                   DATA FOR SOURCE-LINE 3300
11068 000013E0 00000000                   DATA FOR SOURCE-LINE 3304
11069 000013E4 00000000                   DATA FOR SOURCE-LINE 3306
11070 000013E8 00000000                   DATA FOR SOURCE-LINE 3309
11071 000013EC 00000000                   DATA FOR SOURCE-LINE 3313
11072 000013F0 00000000                   DATA FOR SOURCE-LINE 3317
11073 000013F4 00000000                   DATA FOR SOURCE-LINE 3320
11074 000013F8 00000000                   DATA FOR SOURCE-LINE 3323
11075                                     ***** END-POOL *****
11076 000013FC                   3336             .ALIGN  4
11077 000013FC                   3337     _POS_1STEP_DATA_MAK1:
11078                            3338             SUB_START
11079 000013FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
11080                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11081                            3339             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;DUMMY CALL
11082 000013FE D012                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11083 00001400 400B                   M           JSR     @R0                     ;
11084 00001402 0009                   M           NOP                                     ;
11085                            3340     
11086 00001404 D211              3341             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
11087 00001406 6021              3342             MOV.W   @R2,R0                          ;
11088 00001408 70FF              3343             ADD     #-1,R0                          ;
11089 0000140A 4008              3344             SHLL2   R0                              ;
11090 0000140C D410              3345             MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COPY
11091 0000140E 024E              3346             MOV.L   @(R0,R4),R2                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    92
PROGRAM NAME =

11092 00001410 D110              3347             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
11093 00001412 2122              3348             MOV.L   R2,@R1                          ;
11094                            3349     
11095                            3350     
11096                            3351             PUSH_REG1       R0
11097 00001414 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
11098                                 M                                           ;REG=>[SP]
11099                                 M                                           ;"-4" FF,FF,FF,FC
11100                            3352             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
11101 00001416 D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11102 00001418 410B                   M           JSR     @R1                     ;
11103 0000141A 0009                   M           NOP                                     ;
11104                            3353             POP_REG1        R0                      ;R0=*4
11105                                 M                                   ; RE"+4" 00,00,00,04
11106 0000141C 60F6                   M           MOV.L   @R15+,R0        ;
11107 0000141E 4000              3354             SHLL    R0                              ;*2
11108 00001420 D40E              3355             MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
11109 00001422 340C              3356             ADD     R0,R4                   ;
11110 00001424 6146              3357             MOV.L   @R4+,R1                 ;
11111 00001426 6242              3358             MOV.L   @R4,R2                  ;(目標位置)
11112                            3359             FAR_JSR #_LENGH_ADD_CALC,R0     ;
11113 00001428 D00D                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11114 0000142A 400B                   M           JSR     @R0                     ;
11115 0000142C 0009                   M           NOP                                     ;
11116                            3360     
11117 0000142E 233A              3361             XOR     R3,R3                   ;
11118 00001430 4111              3362             CMP/PZ  R1                      ;+正転?
11119 00001432 8900              3363             BT      POS_1STEP_DATMK1_050    ;
11120 00001434 E301              3364             MOV     #BIT0,R3                ;
11121 00001436                   3365     POS_1STEP_DATMK1_050:
11122 00001436 D10B              3366             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
11123 00001438 6011              3367             MOV.W   @R1,R0                  ;
11124 0000143A C9FE              3368             AND     #LOW ~BIT0,R0           ;
11125 0000143C 203B              3369             OR      R3,R0                   ;
11126 0000143E 2101              3370             MOV.W   R0,@R1                  ;
11127                            3371             SUB_END
11128                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11129 00001440 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11130                            3372             M_RTS
11131 00001442 000B                   M           RTS                             ;RTSの後ろの
11132 00001444 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11133                            3373     
11134                            3374     
11135                            3375     ;       ***********************************
11136                            3376     ;       ***                             ***
11137                            3377     ;       ***     移動距離と速度          ***
11138                            3378     ;       ***     反転用                  ***
11139                            3379     ;       ***     2011-02-19              ***
11140                            3380     ;       ***                             ***
11141                            3381     ;       ***********************************
11142                            3382     ;
11143                            3383     ;       ・上昇のときはBEFOREしない
11144                            3384     ;       ・
11145                            3385     
11146                                     ***** BEGIN-POOL *****
11147 00001446 0000                       ALIGNMENT CODE
11148 00001448 00000000                   DATA FOR SOURCE-LINE 3339
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    93
PROGRAM NAME =

11149 0000144C 00000000                   DATA FOR SOURCE-LINE 3341
11150 00001450 00000000                   DATA FOR SOURCE-LINE 3345
11151 00001454 00000000                   DATA FOR SOURCE-LINE 3347
11152 00001458 00000000                   DATA FOR SOURCE-LINE 3352
11153 0000145C 00000000                   DATA FOR SOURCE-LINE 3355
11154 00001460 00000000                   DATA FOR SOURCE-LINE 3359
11155 00001464 00000000                   DATA FOR SOURCE-LINE 3366
11156                                     ***** END-POOL *****
11157 00001468                   3386             .ALIGN  4
11158 00001468                   3387     _POS_1STEP_DATA_MAK1CL:
11159                            3388             SUB_START
11160 00001468 4F22                   M           STS.L   PR,@-R15                ;[必要]
11161                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11162                            3389     ;----------------------------------------
11163                            3390             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0      ;
11164 0000146A D010                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11165 0000146C 400B                   M           JSR     @R0                     ;
11166 0000146E 0009                   M           NOP                                     ;
11167                            3391     
11168 00001470 D20F              3392             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
11169 00001472 6021              3393             MOV.W   @R2,R0                          ;
11170 00001474 70FF              3394             ADD     #-1,R0                          ;
11171 00001476 4008              3395             SHLL2   R0                              ;
11172 00001478 D40E              3396             MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COPY
11173 0000147A 024E              3397             MOV.L   @(R0,R4),R2                     ;
11174 0000147C D10E              3398             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
11175 0000147E 2122              3399             MOV.L   R2,@R1                          ;
11176                            3400     
11177                            3401     
11178                            3402             PUSH_REG1       R0
11179 00001480 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
11180                                 M                                           ;REG=>[SP]
11181                                 M                                           ;"-4" FF,FF,FF,FC
11182                            3403             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
11183 00001482 D10E                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11184 00001484 410B                   M           JSR     @R1                     ;
11185 00001486 0009                   M           NOP                                     ;
11186                            3404             POP_REG1        R0                      ;R0=*4
11187                                 M                                   ; RE"+4" 00,00,00,04
11188 00001488 60F6                   M           MOV.L   @R15+,R0        ;
11189                            3405     
11190                            3406             PUSH_REG1 R0                            ;2012-10-05
11191 0000148A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
11192                                 M                                           ;REG=>[SP]
11193                                 M                                           ;"-4" FF,FF,FF,FC
11194                            3407     
11195 0000148C 4000              3408             SHLL    R0                              ;*2
11196 0000148E D40C              3409             MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
11197 00001490 340C              3410             ADD     R0,R4                           ;
11198 00001492 6146              3411             MOV.L   @R4+,R1                         ;
11199 00001494 6242              3412             MOV.L   @R4,R2                          ;(目標位置)
11200                            3413     
11201                            3414             POP_REG1 R0                             ;2012-10-05
11202                                 M                                   ; RE"+4" 00,00,00,04
11203 00001496 60F6                   M           MOV.L   @R15+,R0        ;
11204                            3415     
11205                            3416     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    94
PROGRAM NAME =

11206                            3417     ;       --------------------
11207 00001498 D40A              3418             MOV.L   #_CPOS_SDAT1_INF1,R4            ;
11208 0000149A 340C              3419             ADD     R0,R4                           ;
11209 0000149C 6042              3420             MOV.L   @R4,R0                          ;
11210 0000149E C802              3421             TST     #BIT1,R0                        ;
11211                            3422             TST_BIT_OF POS_1STEP_DATMK1CL_020       ;正
11212 000014A0 8914                   M           BT      POS_1STEP_DATMK1CL_020
11213                            3423     
11214                            3424     ;       ------------逆転[手前減速位置演算をしない]-------------
11215 000014A2 D409              3425             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R4       ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
11216 000014A4 2412              3426             MOV.L   R1,@R4                          ;
11217 000014A6 1421              3427             MOV.L   R2,@(4,R4)                      ;save
11218                            3428             M_BRA   POS_1STEP_DATMK1CL_040          ;
11219 000014A8 A013                   M           BRA     POS_1STEP_DATMK1CL_040
11220 000014AA 0009                   M           NOP
11221                            3429     
11222                                     ***** BEGIN-POOL *****
11223 000014AC 00000000                   DATA FOR SOURCE-LINE 3390
11224 000014B0 00000000                   DATA FOR SOURCE-LINE 3392
11225 000014B4 00000000                   DATA FOR SOURCE-LINE 3396
11226 000014B8 00000000                   DATA FOR SOURCE-LINE 3398
11227 000014BC 00000000                   DATA FOR SOURCE-LINE 3403
11228 000014C0 00000000                   DATA FOR SOURCE-LINE 3409
11229 000014C4 00000000                   DATA FOR SOURCE-LINE 3418
11230 000014C8 00000000                   DATA FOR SOURCE-LINE 3425
11231                                     ***** END-POOL *****
11232 000014CC                   3430     POS_1STEP_DATMK1CL_020:
11233                            3431     ;       ============== input R1,R2 ===============
11234                            3432             FAR_JSR #_FUL_BEFOR_CALC,R0             ;[引いた結果が前段や待機点より小さくなる場
                                          合はそれより引かない]
11235 000014CC D008                   M           MOV.L   #_FUL_BEFOR_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11236 000014CE 400B                   M           JSR     @R0                     ;
11237 000014D0 0009                   M           NOP                                     ;
11238                            3433     ;       ============== output R1,R2  =============
11239 000014D2                   3434     POS_1STEP_DATMK1CL_040:
11240                            3435     
11241                            3436     
11242                            3437     
11243                            3438             FAR_JSR #_LENGH_ADD_CALC,R0             ;
11244 000014D2 D008                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11245 000014D4 400B                   M           JSR     @R0                     ;
11246 000014D6 0009                   M           NOP                                     ;
11247                            3439     
11248 000014D8 233A              3440             XOR     R3,R3                           ;
11249 000014DA 4111              3441             CMP/PZ  R1                              ;+正転?
11250 000014DC 8900              3442             BT      POS_1STEP_DATMK1CL_050          ;
11251 000014DE E301              3443             MOV     #BIT0,R3                        ;
11252 000014E0                   3444     POS_1STEP_DATMK1CL_050:
11253 000014E0 D105              3445             MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
11254 000014E2 6011              3446             MOV.W   @R1,R0                          ;
11255 000014E4 C9FE              3447             AND     #LOW ~BIT0,R0                   ;
11256 000014E6 203B              3448             OR      R3,R0                           ;
11257 000014E8 2101              3449             MOV.W   R0,@R1                          ;
11258                            3450     ;       ----------------------------------------
11259                            3451             SUB_END
11260                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11261 000014EA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    95
PROGRAM NAME =

11262                            3452             M_RTS
11263 000014EC 000B                   M           RTS                             ;RTSの後ろの
11264 000014EE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11265                            3453     
11266                            3454     ;       *******************************************
11267                            3455     ;       ***     input R1,R2 /Output R1,R2       ***
11268                            3456     ;       *******************************************
11269                                     ***** BEGIN-POOL *****
11270 000014F0 00000000                   DATA FOR SOURCE-LINE 3432
11271 000014F4 00000000                   DATA FOR SOURCE-LINE 3438
11272 000014F8 00000000                   DATA FOR SOURCE-LINE 3445
11273                                     ***** END-POOL *****
11274 000014FC                   3457             .ALIGN  4                               ;
11275 000014FC                   3458     _FUL_BEFOR_CALC:
11276                            3459             SUB_START
11277 000014FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
11278                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11279                            3460             PUSH_REG1 R0
11280 000014FE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
11281                                 M                                           ;REG=>[SP]
11282                                 M                                           ;"-4" FF,FF,FF,FC
11283                            3461             PUSH_REG1 R3
11284 00001500 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
11285                                 M                                           ;REG=>[SP]
11286                                 M                                           ;"-4" FF,FF,FF,FC
11287                            3462             PUSH_REG1 R4
11288 00001502 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
11289                                 M                                           ;REG=>[SP]
11290                                 M                                           ;"-4" FF,FF,FF,FC
11291                            3463             PUSH_REG1 R5
11292 00001504 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
11293                                 M                                           ;REG=>[SP]
11294                                 M                                           ;"-4" FF,FF,FF,FC
11295                            3464             PUSH_REG1 R6
11296 00001506 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
11297                                 M                                           ;REG=>[SP]
11298                                 M                                           ;"-4" FF,FF,FF,FC
11299                            3465     
11300 00001508 D508              3466             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R5               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
11301 0000150A 2512              3467             MOV.L   R1,@R5                                  ;
11302 0000150C 1521              3468             MOV.L   R2,@(4,R5)                              ;save
11303                            3469     
11304 0000150E D408              3470             MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R4     ;//目標−手前
11305 00001510 6642              3471             MOV.L   @R4,R6                          ;
11306 00001512 255A              3472             XOR     R5,R5                           ;
11307 00001514 2668              3473             TST     R6,R6                           ;
11308                            3474             TST_BIT_OF FUL_BEFOR_CAL500             ;
11309 00001516 8914                   M           BT      FUL_BEFOR_CAL500
11310                            3475     
11311 00001518 D306              3476             MOV.L   #_INT_POS_CTL_STEP,R3           ;//内部制御工程1~11
11312 0000151A 6031              3477             MOV.W   @R3,R0                          ;
11313 0000151C D306              3478             MOV.L   #_CPOS_STEP_MAX,R3              ;
11314 0000151E 6431              3479             MOV.W   @R3,R4                          ;
11315 00001520 7401              3480             ADD     #1,R4                           ;
11316 00001522 3040              3481             CMP/EQ  R4,R0                           ;
11317 00001524 8B0A              3482             BF      FUL_BEFOR_CAL100                ;（この論理では戻り工程は１つだけになる）
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    96
PROGRAM NAME =

11318                            3483             M_BRA   FUL_BEFOR_CAL500                ;戻り工程は演算しない
11319 00001526 A00C                   M           BRA     FUL_BEFOR_CAL500
11320 00001528 0009                   M           NOP
11321                            3484     
11322                                     ***** BEGIN-POOL *****
11323 0000152A 0000                       ALIGNMENT CODE
11324 0000152C 00000000                   DATA FOR SOURCE-LINE 3466
11325 00001530 00000000                   DATA FOR SOURCE-LINE 3470
11326 00001534 00000000                   DATA FOR SOURCE-LINE 3476
11327 00001538 00000000                   DATA FOR SOURCE-LINE 3478
11328                                     ***** END-POOL *****
11329 0000153C                   3485     FUL_BEFOR_CAL100:
11330                            3486     
11331                            3487             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
11332 0000153C 0008                   M           CLRT
11333 0000153E 326A                   M           SUBC    R6,R2
11334 00001540 315A                   M           SUBC    R5,R1
11335                            3488     
11336 00001542                   3489     FUL_BEFOR_CAL500:
11337                            3490             POP_REG1 R6
11338                                 M                                   ; RE"+4" 00,00,00,04
11339 00001542 66F6                   M           MOV.L   @R15+,R6        ;
11340                            3491             POP_REG1 R5
11341                                 M                                   ; RE"+4" 00,00,00,04
11342 00001544 65F6                   M           MOV.L   @R15+,R5        ;
11343                            3492             POP_REG1 R4
11344                                 M                                   ; RE"+4" 00,00,00,04
11345 00001546 64F6                   M           MOV.L   @R15+,R4        ;
11346                            3493             POP_REG1 R3
11347                                 M                                   ; RE"+4" 00,00,00,04
11348 00001548 63F6                   M           MOV.L   @R15+,R3        ;
11349                            3494             POP_REG1 R0
11350                                 M                                   ; RE"+4" 00,00,00,04
11351 0000154A 60F6                   M           MOV.L   @R15+,R0        ;
11352                            3495     
11353                            3496             SUB_END
11354                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11355 0000154C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11356                            3497             M_RTS
11357 0000154E 000B                   M           RTS                             ;RTSの後ろの
11358 00001550 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11359                            3498     
11360                            3499     
11361 00001554                   3500             .ALIGN  4                               ;
11362 00001554                   3501     _FUL_START_FUL_OBJ_SET
11363                            3502             SUB_START
11364 00001554 4F22                   M           STS.L   PR,@-R15                ;[必要]
11365                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11366                            3503     
11367 00001556 D509              3504             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R5               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
11368 00001558 6152              3505             MOV.L   @R5,R1                                  ;
11369 0000155A 5251              3506             MOV.L   @(4,R5),R2                              ;save
11370                            3507     
11371 0000155C D408              3508             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;
11372 0000155E 1410              3509             MOV.L   R1,@(0,R4)
11373 00001560 1421              3510             MOV.L   R2,@(4,R4)                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    97
PROGRAM NAME =

11374                            3511     
11375 00001562 D408              3512             MOV.L   #_POSCTL_SV_PLS,R4                      ;SV
11376 00001564 1410              3513             MOV.L   R1,@(0,R4)
11377 00001566 1421              3514             MOV.L   R2,@(4,R4)                              ;
11378                            3515     
11379                            3516     ;       ---------------リアルタイム目標位置-----------
11380 00001568 D407              3517             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;
11381 0000156A 1410              3518             MOV.L   R1,@(0,R4)
11382 0000156C 1421              3519             MOV.L   R2,@(4,R4)                              ;
11383                            3520     
11384 0000156E D407              3521             MOV.L   #_POSCTL_RL_PLS,R4                      ;
11385 00001570 1410              3522             MOV.L   R1,@(0,R4)
11386 00001572 1421              3523             MOV.L   R2,@(4,R4)                              ;
11387                            3524             SUB_END
11388                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11389 00001574 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11390                            3525             M_RTS
11391 00001576 000B                   M           RTS                             ;RTSの後ろの
11392 00001578 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11393                            3526     
11394                            3527     
11395                            3528     ;       ***********************************
11396                            3529     ;       ***                             ***
11397                            3530     ;       ***     移動距離と速度          ***
11398                            3531     ;       ***     ふりこ・回転の通常      ***
11399                            3532     ;       ***                             ***
11400                            3533     ;       ***********************************
11401                            3534     ;       FAR_JSR #_LENGH_ADD_CALC,R0     ;
11402                            3535     ;       が
11403                            3536     ;       FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
11404                            3537     ;       になっているだけ
11405                            3538     ;
11406                            3539     
11407                                     ***** BEGIN-POOL *****
11408 0000157A 0000                       ALIGNMENT CODE
11409 0000157C 00000000                   DATA FOR SOURCE-LINE 3504
11410 00001580 00000000                   DATA FOR SOURCE-LINE 3508
11411 00001584 00000000                   DATA FOR SOURCE-LINE 3512
11412 00001588 00000000                   DATA FOR SOURCE-LINE 3517
11413 0000158C 00000000                   DATA FOR SOURCE-LINE 3521
11414                                     ***** END-POOL *****
11415 00001590                   3540             .ALIGN  4                               ;
11416 00001590                   3541     _POS_1STEP_DATA_MAK2:
11417                            3542             SUB_START
11418 00001590 4F22                   M           STS.L   PR,@-R15                ;[必要]
11419                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11420                            3543     
11421                            3544             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0      ;2010-10-05 実測を取り込まない
11422 00001592 D012                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11423 00001594 400B                   M           JSR     @R0                     ;
11424 00001596 0009                   M           NOP                                     ;
11425                            3545     
11426 00001598 D211              3546             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
11427 0000159A 6021              3547             MOV.W   @R2,R0                          ;
11428 0000159C 70FF              3548             ADD     #-1,R0                          ;
11429 0000159E 4008              3549             SHLL2   R0                              ;
11430 000015A0 D410              3550             MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COPY
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    98
PROGRAM NAME =

11431 000015A2 024E              3551             MOV.L   @(R0,R4),R2                     ;
11432 000015A4 D110              3552             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
11433 000015A6 2122              3553             MOV.L   R2,@R1                          ;
11434                            3554     
11435                            3555             PUSH_REG1       R0
11436 000015A8 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
11437                                 M                                           ;REG=>[SP]
11438                                 M                                           ;"-4" FF,FF,FF,FC
11439                            3556             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
11440 000015AA D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11441 000015AC 410B                   M           JSR     @R1                     ;
11442 000015AE 0009                   M           NOP                                     ;
11443                            3557             POP_REG1        R0                      ;R0=*4
11444                                 M                                   ; RE"+4" 00,00,00,04
11445 000015B0 60F6                   M           MOV.L   @R15+,R0        ;
11446 000015B2 4000              3558             SHLL    R0                              ;*2
11447 000015B4 D40E              3559             MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
11448 000015B6 340C              3560             ADD     R0,R4                   ;
11449 000015B8 6146              3561             MOV.L   @R4+,R1                 ;
11450 000015BA 6242              3562             MOV.L   @R4,R2                  ;(目標位置)
11451                            3563             FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
11452 000015BC D00D                   M           MOV.L   #_LENGH_ADD_CALC_SV_TYPE,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11453 000015BE 400B                   M           JSR     @R0                     ;
11454 000015C0 0009                   M           NOP                                     ;
11455                            3564     
11456 000015C2 233A              3565             XOR     R3,R3                   ;
11457 000015C4 4111              3566             CMP/PZ  R1                      ;+正転?
11458 000015C6 8900              3567             BT      POS_1STEP_DATMK2_050    ;
11459 000015C8 E301              3568             MOV     #BIT0,R3                ;
11460 000015CA                   3569     POS_1STEP_DATMK2_050:
11461 000015CA D10B              3570             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
11462 000015CC 6011              3571             MOV.W   @R1,R0                  ;
11463 000015CE C9FE              3572             AND     #LOW ~BIT0,R0           ;
11464 000015D0 203B              3573             OR      R3,R0                   ;
11465 000015D2 2101              3574             MOV.W   R0,@R1                  ;
11466                            3575             SUB_END
11467                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11468 000015D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11469                            3576             M_RTS
11470 000015D6 000B                   M           RTS                             ;RTSの後ろの
11471 000015D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11472                            3577     
11473                            3578     ;       ***********************************
11474                            3579     ;       ***                             ***
11475                            3580     ;       ***     移動距離と速度          ***
11476                            3581     ;       ***                             ***
11477                            3582     ;       ***********************************
11478                            3583     ;;;;;未使用みたい       .ALIGN  4                               ;
11479                            3584     ;;;;;未使用みたい_POS_1STEP_DATA_MAK3:
11480                            3585     ;;;;;未使用みたい       SUB_START
11481                            3586     ;;;;;未使用みたい       FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
11482                            3587     ;;;;;未使用みたい
11483                            3588     ;;;;;未使用みたい       MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
11484                            3589     ;;;;;未使用みたい       MOV.W   @R2,R0                          ;
11485                            3590     ;;;;;未使用みたい       ADD     #-1,R0                          ;
11486                            3591     ;;;;;未使用みたい       SHLL2   R0                              ;
11487                            3592     ;;;;;未使用みたい       MOV.L   #_CPOS_SDAT1_SPD,R4             ;       //SETX-->起動時COP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE    99
PROGRAM NAME =

                                          Y
11488                            3593     ;;;;;未使用みたい       MOV.L   @(R0,R4),R2                     ;
11489                            3594     ;;;;;未使用みたい       MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
11490                            3595     ;;;;;未使用みたい       MOV.L   R2,@R1                          ;
11491                            3596     ;;;;;未使用みたい
11492                            3597     ;;;;;未使用みたい       PUSH_REG1       R0
11493                            3598     ;;;;;未使用みたい       FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
11494                            3599     ;;;;;未使用みたい       POP_REG1        R0                      ;R0=*4
11495                            3600     ;;;;;未使用みたい       SHLL    R0                              ;*2
11496                            3601     ;;;;;未使用みたい       MOV.L   #_CPOS_SDAT1_STPAPOS,R4 ;//起動時,その他で演算 8byte data
11497                            3602     ;;;;;未使用みたい       ADD     R0,R4                   ;
11498                            3603     ;;;;;未使用みたい       MOV.L   @R4+,R1                 ;
11499                            3604     ;;;;;未使用みたい       MOV.L   @R4,R2                  ;(目標位置)
11500                            3605     ;;;;;未使用みたい
11501                            3606     ;;;;;未使用みたい       FAR_JSR #_FUL_CLS_LENGH_ADD_CALC,R0
11502                            3607     ;;;;;未使用みたい
11503                            3608     ;;;;;未使用みたい       XOR     R3,R3                   ;
11504                            3609     ;;;;;未使用みたい       CMP/PZ  R1                      ;+正転?
11505                            3610     ;;;;;未使用みたい       BT      POS_1STEP_DATMK3_050    ;
11506                            3611     ;;;;;未使用みたい       MOV     #BIT0,R3                ;
11507                            3612     ;;;;;未使用みたいPOS_1STEP_DATMK3_050:
11508                            3613     ;;;;;未使用みたい       MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
11509                            3614     ;;;;;未使用みたい       MOV.W   @R1,R0                  ;
11510                            3615     ;;;;;未使用みたい       AND     #LOW ~BIT0,R0           ;
11511                            3616     ;;;;;未使用みたい       OR      R3,R0                   ;
11512                            3617     ;;;;;未使用みたい       MOV.W   R0,@R1                  ;
11513                            3618     ;;;;;未使用みたい       SUB_END
11514                            3619     ;;;;;未使用みたい       M_RTS
11515                            3620     
11516                            3621     ;       ***********************************
11517                            3622     ;       ***                             ***
11518                            3623     ;       ***     初回起動                ***
11519                            3624     ;       ***                             ***
11520                            3625     ;       ***********************************
11521                            3626     ;
11522                                     ***** BEGIN-POOL *****
11523 000015DA 0000                       ALIGNMENT CODE
11524 000015DC 00000000                   DATA FOR SOURCE-LINE 3544
11525 000015E0 00000000                   DATA FOR SOURCE-LINE 3546
11526 000015E4 00000000                   DATA FOR SOURCE-LINE 3550
11527 000015E8 00000000                   DATA FOR SOURCE-LINE 3552
11528 000015EC 00000000                   DATA FOR SOURCE-LINE 3556
11529 000015F0 00000000                   DATA FOR SOURCE-LINE 3559
11530 000015F4 00000000                   DATA FOR SOURCE-LINE 3563
11531 000015F8 00000000                   DATA FOR SOURCE-LINE 3570
11532                                     ***** END-POOL *****
11533 000015FC                   3627             .ALIGN  4                               ;
11534 000015FC                   3628     _DND_1STEP_DATA_MAK1:
11535                            3629             SUB_START
11536 000015FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
11537                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11538 000015FE D10B              3630             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
11539 00001600 6212              3631             MOV.L   @R1,R2                          ;
11540                            3632     
11541                            3633             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
11542 00001602 D10B                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11543 00001604 410B                   M           JSR     @R1                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   100
PROGRAM NAME =

11544 00001606 0009                   M           NOP                                     ;
11545                            3634     
11546 00001608 D50A              3635             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;(はじめの起動分はﾒｲﾝで作られている)
11547 0000160A 6152              3636             MOV.L   @R5,R1                          ;
11548 0000160C 5251              3637             MOV.L   @(4,R5),R2                      ;
11549                            3638             FAR_JSR #_LENGH_ADD_CALC,R0             ;ANS R1,R2
11550 0000160E D00A                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11551 00001610 400B                   M           JSR     @R0                     ;
11552 00001612 0009                   M           NOP                                     ;
11553 00001614 233A              3639             XOR     R3,R3                           ;
11554 00001616 4111              3640             CMP/PZ  R1                              ;+正転?
11555 00001618 8900              3641             BT      DND_1STEP_DATMK1_050            ;
11556 0000161A E301              3642             MOV     #BIT0,R3                        ;
11557 0000161C                   3643     DND_1STEP_DATMK1_050:
11558 0000161C D107              3644             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
11559 0000161E 6011              3645             MOV.W   @R1,R0                  ;
11560 00001620 C9FE              3646             AND     #LOW ~BIT0,R0           ;
11561 00001622 203B              3647             OR      R3,R0                   ;
11562 00001624 2101              3648             MOV.W   R0,@R1                  ;
11563                            3649             SUB_END
11564                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
11565 00001626 4F26                   M           LDS.L   @R15+,PR                ;[必要]
11566                            3650             M_RTS
11567 00001628 000B                   M           RTS                             ;RTSの後ろの
11568 0000162A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
11569                            3651     
11570                            3652     
11571                            3653     
11572                            3654     ;       ***********************************
11573                            3655     ;       ***                             ***
11574                            3656     ;       ***     ﾓｰｼｮﾝ全工程             ***
11575                            3657     ;       ***                             ***
11576                            3658     ;       ***********************************
11577                            3659     ;       ======== 停止待ち(速度変更)     0000,0000       ====
11578                            3660     ;       ======== ﾀｲﾏ計測                BIT0            ====
11579                            3661     ;       ======== 再起動/終了            BIT1            ====
11580                            3662     ;       ======== BIT6;終了
11581                                     ***** BEGIN-POOL *****
11582 0000162C 00000000                   DATA FOR SOURCE-LINE 3630
11583 00001630 00000000                   DATA FOR SOURCE-LINE 3633
11584 00001634 00000000                   DATA FOR SOURCE-LINE 3635
11585 00001638 00000000                   DATA FOR SOURCE-LINE 3638
11586 0000163C 00000000                   DATA FOR SOURCE-LINE 3644
11587                                     ***** END-POOL *****
11588 00001640                   3663             .ALIGN  4                               ;
11589 00001640                   3664     _POS_ALL_STEP_CTRL:
11590                            3665             SUB_START
11591 00001640 4F22                   M           STS.L   PR,@-R15                ;[必要]
11592                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
11593                            3666     
11594                            3667     ;;;;;;;;;;;;;   2015-11-15 ちゃんとした場所で対応
11595                            3668     ;;;;;;;;;;;;;;-------------------超お試し[2015-04-08]---------------
11596                            3669     ;;;;;;;;;;;;;   MOV.L   #_MODE_SEL,R1                           ;
11597                            3670     ;;;;;;;;;;;;;   MOV.W   @R1,R0                                  ;
11598                            3671     ;;;;;;;;;;;;;   TST     #_W1INC+_W1SGL,R0                       ;
11599                            3672     ;;;;;;;;;;;;;   TST_BIT_OF FORCE_STEPEND_HAND200EXT             ;（段取でもある)
11600                            3673     ;;;;;;;;;;;;;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   101
PROGRAM NAME =

11601                            3674     ;;;;;;;;;;;;;   FAR_JSR #_API_ENDHAND_SIGCHK,R0         ;
11602                            3675     ;;;;;;;;;;;;;   TST     R0,R0                           ;
11603                            3676     ;;;;;;;;;;;;;   TST_BIT_OF FORCE_STEPEND_HAND200EXT     ;
11604                            3677     ;;;;;;;;;;;;;   M_BRA   FORCE_STEPEND_HAND200           ;
11605                            3678     ;;;;;;;;;;;;;FORCE_STEPEND_HAND200EXT
11606                            3679     
11607                            3680     
11608                            3681     ;       ==== 停止した場合、次の工程の起動、工程がなくなれば終わり====
11609                            3682     ;       停止はﾊﾟﾙｽ払出
11610 00001642 D103              3683             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ
11611 00001644 6011              3684             MOV.W   @R1,R0                          ;BIT
11612 00001646 C840              3685             TST     #BIT6,R0                        ;
11613                            3686             TST_BIT_OF POS_ALLSTEPCTL_020           ;
11614 00001648 8904                   M           BT      POS_ALLSTEPCTL_020
11615                            3687             M_BRA   POS_ALLSTEPCTL_900              ;位置決め完了
11616 0000164A A2ED                   M           BRA     POS_ALLSTEPCTL_900
11617 0000164C 0009                   M           NOP
11618                            3688     
11619                                     ***** BEGIN-POOL *****
11620 0000164E 0000                       ALIGNMENT CODE
11621 00001650 00000000                   DATA FOR SOURCE-LINE 3683
11622                                     ***** END-POOL *****
11623 00001654                   3689     POS_ALLSTEPCTL_020:
11624 00001654 C803              3690             TST     #(BIT1+BIT0),R0         ;
11625                            3691             TST_BIT_OF POS_ALLSTEPCTL_100   ;BIT0:ﾀｲﾏ制御開始
11626 00001656 8901                   M           BT      POS_ALLSTEPCTL_100
11627                            3692             M_BRA   POS_ALLSTEPCTL_300      ;BIT1:次の回転起動
11628 00001658 A136                   M           BRA     POS_ALLSTEPCTL_300
11629 0000165A 0009                   M           NOP
11630                            3693     
11631 0000165C                   3694     POS_ALLSTEPCTL_100:
11632                            3695     
11633                            3696     
11634                            3697     ;       ----------- 2012-05-17 全モード,(反転)タイマ継続処理CHK---------
11635                            3698             FAR_JSR #_DURING_TIM_CNTINUE_CHK,R0             ;
11636 0000165C D003                   M           MOV.L   #_DURING_TIM_CNTINUE_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11637 0000165E 400B                   M           JSR     @R0                     ;
11638 00001660 0009                   M           NOP                                     ;
11639 00001662 2008              3699             TST     R0,R0                                   ;
11640                            3700             TST_BIT_OF POS_ALLSTEPCTL_101                   ;
11641 00001664 8904                   M           BT      POS_ALLSTEPCTL_101
11642                            3701             M_BRA   POS_ALLSTEPCTL_230                      ;
11643 00001666 A0CB                   M           BRA     POS_ALLSTEPCTL_230
11644 00001668 0009                   M           NOP
11645                            3702     
11646                                     ***** BEGIN-POOL *****
11647 0000166A 0000                       ALIGNMENT CODE
11648 0000166C 00000000                   DATA FOR SOURCE-LINE 3698
11649                                     ***** END-POOL *****
11650 00001670                   3703     POS_ALLSTEPCTL_101:
11651                            3704     
11652                            3705     
11653 00001670 D105              3706             MOV.L   #_CPOS_CTL_MATH,R1                      ;
11654 00001672 6011              3707             MOV.W   @R1,R0                                  ;
11655 00001674 C805              3708             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
11656                            3709             TST_BIT_ON POS_ALLSTEPCTL_120                   ;YES
11657 00001676 8B0D                   M           BF      POS_ALLSTEPCTL_120
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   102
PROGRAM NAME =

11658                            3710     
11659                            3711     
11660                            3712             FAR_JSR #_POS_CLS_TYP1_POS_CTL1,R0              ;ﾌﾙｸﾛｰｽﾞ,ﾌﾙｸﾛｰｽﾞのｵｰﾌﾟﾝ時は中でﾁｪｯ
                                          ｸする
11661 00001678 D004                   M           MOV.L   #_POS_CLS_TYP1_POS_CTL1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11662 0000167A 400B                   M           JSR     @R0                     ;
11663 0000167C 0009                   M           NOP                                     ;
11664 0000167E 2008              3713             TST     R0,R0                                   ;
11665                            3714             TST_BIT_OF POS_ALLSTEPCTL_105                   ;
11666 00001680 8906                   M           BT      POS_ALLSTEPCTL_105
11667                            3715             M_BRA   POS_ALLSTEPCTL_230                      ;(BIT2=1)
11668 00001682 A0BD                   M           BRA     POS_ALLSTEPCTL_230
11669 00001684 0009                   M           NOP
11670                            3716     
11671                                     ***** BEGIN-POOL *****
11672 00001686 0000                       ALIGNMENT CODE
11673 00001688 00000000                   DATA FOR SOURCE-LINE 3706
11674 0000168C 00000000                   DATA FOR SOURCE-LINE 3712
11675                                     ***** END-POOL *****
11676 00001690                   3717     POS_ALLSTEPCTL_105:
11677                            3718             M_BRA   POS_ALLSTEPCTL_900                      ;
11678 00001690 A2CA                   M           BRA     POS_ALLSTEPCTL_900
11679 00001692 0009                   M           NOP
11680                            3719     
11681 00001694                   3720     POS_ALLSTEPCTL_120:
11682                            3721     ;       ======== 2003-07-01 ======
11683                            3722             FAR_JSR #_BRK_ERR_CHK_START4,R0         ;
11684 00001694 D018                   M           MOV.L   #_BRK_ERR_CHK_START4,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11685 00001696 400B                   M           JSR     @R0                     ;
11686 00001698 0009                   M           NOP                                     ;
11687                            3723     
11688                            3724     
11689                            3725     
11690                            3726     
11691                            3727     ;       ===========================================
11692                            3728     ;       === 回転はニアゼロをチェックする        ===
11693                            3729     ;       ===========================================
11694                            3730             FAR_JSR #_OPEN_ROT_NEAR1_ZERO_CHK,R0    ;
11695 0000169A D018                   M           MOV.L   #_OPEN_ROT_NEAR1_ZERO_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11696 0000169C 400B                   M           JSR     @R0                     ;
11697 0000169E 0009                   M           NOP                                     ;
11698                            3731     
11699                            3732     
11700                            3733             FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
11701 000016A0 D117                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11702 000016A2 410B                   M           JSR     @R1                     ;
11703 000016A4 0009                   M           NOP                                     ;
11704 000016A6 C804              3734             TST     #BIT2,R0                        ;停止?
11705                            3735             TST_BIT_ON POS_ALLSTEPCTL_200           ;YES 停止中 1:停止 0:払出中
11706 000016A8 8B5A                   M           BF      POS_ALLSTEPCTL_200
11707                            3736     
11708                            3737     ;       ===========================================
11709                            3738     ;       ===     払出中                          ===
11710                            3739     ;       ===========================================
11711                            3740     
11712                            3741     ;       ===================================================
11713                            3742     ;       ===  "CPUA=CPUB=ﾃｰﾌﾞﾙ時に生かす" 2013-03-07     ===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   103
PROGRAM NAME =

11714                            3743     ;       ===================================================
11715                            3744             .AIF    1 EQ 1  ;YES:曲線ﾃｰﾌﾞﾙ(CPUAと同じ) NO:直線タイプ 2013-03-06
11716                            3745 C   ;"CPUBがふりこカーブが有効な場合 遅延時間を生かしSPMを変更できるようにする"
11717                            3746 C   ;;2013-02-08    CPUB_CURVSEL[6]
11718                            3747 C   ;;2013-02-08    CPUA=CPUB=ﾃｰﾌﾞﾙｶｰﾌﾞ時に生かし、遅延時間を有効にする
11719                            3748 C   
11720                            3749 C           FAR_JSR #_DNMODE_ENDWAIT_TIM_SET,R0     ;[[[2013-03-24復活]]]
11721 000016AA D016                   M           MOV.L   #_DNMODE_ENDWAIT_TIM_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11722 000016AC 400B                   M           JSR     @R0                     ;
11723 000016AE 0009                   M           NOP                                     ;
11724                            3750 C   
11725                            3751             .AENDI
11726                            3752     
11727                            3753     
11728                            3754             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_DNM_DEBUG_STS1,LG=W,BIT=~(BIT4),WKREG=R1  ;2012-12-1
                                          0 DEBUG
11729 000016B0 D115                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
11730 000016B2 6011                   M           MOV.W   @R1,R0          ;
11731 000016B4 C9EF                   M           AND     #LOW ~(BIT4),R0         ;
11732 000016B6 2101                   M           MOV.W   R0,@R1          ;
11733                            3755     
11734                            3756     ;       ===== 払出中のBUSYﾁｪｯｸ ======
11735                            3757             FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
11736 000016B8 D014                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11737 000016BA 400B                   M           JSR     @R0                     ;
11738 000016BC 0009                   M           NOP                                     ;
11739                            3758     ;       ===== 払出中 ======
11740                            3759     ;       ===== 位置による速度切り替え＋速度連続のｽﾃｯﾌﾟ切替====
11741                            3760             FAR_JSR #_SPD_STEP_CHG_FWD,R0   ;(STEP番号切替/速度切り替え)
11742 000016BE D014                   M           MOV.L   #_SPD_STEP_CHG_FWD,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11743 000016C0 400B                   M           JSR     @R0                     ;
11744 000016C2 0009                   M           NOP                                     ;
11745                            3761     
11746                            3762     
11747                            3763     ;       ======== 回転の連続・ﾀｲﾏ=0処理====
11748 000016C4 D113              3764             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
11749 000016C6 6011              3765             MOV.W   @R1,R0                          ;
11750 000016C8 C801              3766             TST     #BIT0,R0                        ;
11751                            3767             TST_BIT_ON POS_ALLSTEPCTL_190           ;
11752 000016CA 8B3C                   M           BF      POS_ALLSTEPCTL_190
11753                            3768     
11754                            3769     ;       ========== 2004-01-26 連続寸動一工程/連続一工程 ======
11755 000016CC D112              3770             MOV.L   #_WFSYS_OPT_CNT_SEL,R1          ;SEL=1 連寸一、連続一行程有効
11756 000016CE 6011              3771             MOV.W   @R1,R0                          ;
11757 000016D0 8801              3772             CMP/EQ  #1,R0                           ;
11758 000016D2 8B29              3773             BF      POS_ALLSTEPCTL_189              ;
11759                            3774     
11760 000016D4 D111              3775             MOV.L   #_MODE_SEL,R1                   ;
11761 000016D6 6011              3776             MOV.W   @R1,R0                          ;
11762 000016D8 C808              3777             TST     #_W1CNT,R0                      ;
11763                            3778             TST_BIT_OF POS_ALLSTEPCTL_189           ;
11764 000016DA 8925                   M           BT      POS_ALLSTEPCTL_189
11765 000016DC 910A              3779             MOV.W   #(BIT12+BIT11),R1               ;
11766 000016DE 2018              3780             TST     R1,R0                           ;
11767                            3781             TST_BIT_OF POS_ALLSTEPCTL_189           ;(通常連続)
11768 000016E0 8922                   M           BT      POS_ALLSTEPCTL_189
11769                            3782     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   104
PROGRAM NAME =

11770                            3783     
11771                            3784     ;       ==============20071106======================
11772 000016E2 D10F              3785             MOV.L   #_CPOS_BANK_USELFUL,R1          ;大バグ
11773 000016E4 6011              3786             MOV.W   @R1,R0                          ;
11774 000016E6 C801              3787             TST     #BIT0,R0                        ;
11775                            3788             TST_BIT_OF POS_ALLSTEPCTL_189A          ;
11776 000016E8 892C                   M           BT      POS_ALLSTEPCTL_189A
11777                            3789     
11778                            3790     ;;      FAR_JSR #_CCS_STEP_NEXT_CHK,R0          ;
11779                            3791             FAR_JSR #_BANK_CNT_STEP_NEXT_CHK,R0     ;
11780 000016EA D00E                   M           MOV.L   #_BANK_CNT_STEP_NEXT_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11781 000016EC 400B                   M           JSR     @R0                     ;
11782 000016EE 0009                   M           NOP                                     ;
11783                            3792             M_BRA   POS_ALLSTEPCTL_190              ;
11784 000016F0 A029                   M           BRA     POS_ALLSTEPCTL_190
11785 000016F2 0009                   M           NOP
11786                            3793     ;       ===========================================
11787                            3794     
11788                            3795     
11789                                     ***** BEGIN-POOL *****
11790 000016F4 1800                       DATA FOR SOURCE-LINE 3779
11791 000016F6 0000                       ALIGNMENT CODE
11792 000016F8 00000000                   DATA FOR SOURCE-LINE 3722
11793 000016FC 00000000                   DATA FOR SOURCE-LINE 3730
11794 00001700 00000000                   DATA FOR SOURCE-LINE 3733
11795 00001704 00000000                   DATA FOR SOURCE-LINE 3749
11796 00001708 00000000                   DATA FOR SOURCE-LINE 3754
11797 0000170C 00000000                   DATA FOR SOURCE-LINE 3757
11798 00001710 00000000                   DATA FOR SOURCE-LINE 3760
11799 00001714 00000000                   DATA FOR SOURCE-LINE 3764
11800 00001718 00000000                   DATA FOR SOURCE-LINE 3770
11801 0000171C 00000000                   DATA FOR SOURCE-LINE 3775
11802 00001720 00000000                   DATA FOR SOURCE-LINE 3785
11803 00001724 00000000                   DATA FOR SOURCE-LINE 3791
11804                                     ***** END-POOL *****
11805 00001728                   3796     POS_ALLSTEPCTL_189:                             ;
11806                            3797     
11807 00001728 D104              3798             MOV.L   #_CPOS_BANK_USELFUL,R1          ;
11808 0000172A 6011              3799             MOV.W   @R1,R0                          ;
11809 0000172C C801              3800             TST     #BIT0,R0                        ;
11810                            3801             TST_BIT_OF POS_ALLSTEPCTL_189A          ;
11811 0000172E 8909                   M           BT      POS_ALLSTEPCTL_189A
11812                            3802             FAR_JSR #_BANK_CNT_STEP_NEXT_CHK,R0     ;(連続の上死点停止なし)
11813 00001730 D003                   M           MOV.L   #_BANK_CNT_STEP_NEXT_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11814 00001732 400B                   M           JSR     @R0                     ;
11815 00001734 0009                   M           NOP                                     ;
11816                            3803             M_BRA   POS_ALLSTEPCTL_190              ;
11817 00001736 A006                   M           BRA     POS_ALLSTEPCTL_190
11818 00001738 0009                   M           NOP
11819                            3804     
11820                                     ***** BEGIN-POOL *****
11821 0000173A 0000                       ALIGNMENT CODE
11822 0000173C 00000000                   DATA FOR SOURCE-LINE 3798
11823 00001740 00000000                   DATA FOR SOURCE-LINE 3802
11824                                     ***** END-POOL *****
11825 00001744                   3805     POS_ALLSTEPCTL_189A:                                    ;
11826                            3806     ;;;;未使用      FAR_JSR #_CNT_STEP_NEXT_CHK,R0          ;<ここはくせもの>
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   105
PROGRAM NAME =

11827 00001744 0009              3807             NOP                                             ;安一、寸動、上死点停止付連続、一
                                          工程
11828 00001746                   3808     POS_ALLSTEPCTL_190:                                     ;
11829                            3809     
11830                            3810     ;       ==== 2003-06-13===
11831                            3811             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
11832 00001746 D104                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
11833 00001748 6011                   M           MOV.W   @R1,R0          ;
11834 0000174A C9FE                   M           AND     #LOW ~BIT0,R0           ;
11835 0000174C 2101                   M           MOV.W   R0,@R1          ;
11836                            3812             FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏ再設定
11837 0000174E D003                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11838 00001750 400B                   M           JSR     @R0                     ;
11839 00001752 0009                   M           NOP                                     ;
11840                            3813     
11841                            3814             M_BRA   POS_ALLSTEPCTL_900              ;
11842 00001754 A268                   M           BRA     POS_ALLSTEPCTL_900
11843 00001756 0009                   M           NOP
11844                            3815     
11845                            3816     ;       ===========================
11846                            3817     ;       ===     払出停止        ===
11847                            3818     ;       ===     回転時          ===
11848                            3819     ;       ===========================
11849                                     ***** BEGIN-POOL *****
11850 00001758 00000000                   DATA FOR SOURCE-LINE 3811
11851 0000175C 00000000                   DATA FOR SOURCE-LINE 3812
11852                                     ***** END-POOL *****
11853 00001760                   3820     POS_ALLSTEPCTL_200:
11854                            3821             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT1,WKREG=R1 ;2012-12-10 DEB
                                          UG
11855 00001760 D112                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
11856 00001762 6011                   M           MOV.W   @R1,R0          ;
11857 00001764 CB02                   M           OR      #BIT1,R0                ;
11858 00001766 2101                   M           MOV.W   R0,@R1          ;
11859                            3822     
11860                            3823     
11861 00001768 D111              3824             MOV.L   #_CNT_PLSOUT_STOP_CNT,R1
11862 0000176A 6011              3825             MOV.W   @R1,R0
11863 0000176C 7001              3826             ADD     #1,R0                           ;
11864 0000176E 2101              3827             MOV.W   R0,@R1                          ;
11865                            3828             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0  ;2004-03-03
11866 00001770 D010                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11867 00001772 400B                   M           JSR     @R0                     ;
11868 00001774 0009                   M           NOP                                     ;
11869                            3829     
11870                            3830     
11871 00001776 D110              3831             MOV.L   #_NEAR_IN_FLG,R1                ;
11872 00001778 6011              3832             MOV.W   @R1,R0                          ;
11873 0000177A 2008              3833             TST     R0,R0                           ;
11874                            3834             TST_BIT_ON POS_ALLSTEPCTL_220           ;ﾆｱｾﾞﾛOK
11875 0000177C 8B26                   M           BF      POS_ALLSTEPCTL_220
11876                            3835     
11877                            3836     
11878                            3837             FAR_JSR #_CPU_BA_NZR_ON_JG,R0           ;ﾆｱｾﾞﾛ代わり
11879 0000177E D00F                   M           MOV.L   #_CPU_BA_NZR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11880 00001780 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   106
PROGRAM NAME =

11881 00001782 0009                   M           NOP                                     ;
11882 00001784 2008              3838             TST     R0,R0
11883                            3839             TST_BIT_OF POS_ALLSTEPCTL_210           ;
11884 00001786 8903                   M           BT      POS_ALLSTEPCTL_210
11885 00001788 D10B              3840             MOV.L   #_NEAR_IN_FLG,R1                ;ﾆｱｾﾞﾛ扱い
11886 0000178A 6011              3841             MOV.W   @R1,R0                          ;
11887 0000178C CB01              3842             OR      #BIT0,R0                        ;
11888 0000178E 2101              3843             MOV.W   R0,@R1                          ;
11889 00001790                   3844     POS_ALLSTEPCTL_210:                             ;
11890                            3845     
11891                            3846             FAR_JSR #_NZ_TIM_CHK1,R0                ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏｶｳﾝﾄﾀﾞｳﾝ
11892 00001790 D00B                   M           MOV.L   #_NZ_TIM_CHK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11893 00001792 400B                   M           JSR     @R0                     ;
11894 00001794 0009                   M           NOP                                     ;
11895                            3847     
11896                            3848     
11897                            3849     ;       -----------2012-03-06ｲﾝﾎﾟｼﾞ異常ﾁｪｯｸ------------------------------
11898 00001796 D10B              3850             MOV.L   #_NZ_TIM_OUT_PV2,R1                                     ;
11899 00001798 6011              3851             MOV.W   @R1,R0                                                  ;
11900 0000179A 2008              3852             TST     R0,R0                                                   ;
11901                            3853             TST_BIT_ON POS_ALLSTEPCTL_211                                   ;
11902 0000179C 8B03                   M           BF      POS_ALLSTEPCTL_211
11903                            3854             MEM1_BIT0_TO_BIT7_ORSET MEM=_INP_ERR_FLG,LG=W,BIT=BIT0,WKREG=R1 ;
11904 0000179E D10A                   M           MOV.L   #_INP_ERR_FLG,R1                ;
11905 000017A0 6011                   M           MOV.W   @R1,R0          ;
11906 000017A2 CB01                   M           OR      #BIT0,R0                ;
11907 000017A4 2101                   M           MOV.W   R0,@R1          ;
11908 000017A6                   3855     POS_ALLSTEPCTL_211:                                                     ;
11909                            3856     
11910                            3857             M_BRA   POS_ALLSTEPCTL_900              ;
11911 000017A6 A23F                   M           BRA     POS_ALLSTEPCTL_900
11912 000017A8 0009                   M           NOP
11913                            3858     
11914                                     ***** BEGIN-POOL *****
11915 000017AA 0000                       ALIGNMENT CODE
11916 000017AC 00000000                   DATA FOR SOURCE-LINE 3821
11917 000017B0 00000000                   DATA FOR SOURCE-LINE 3824
11918 000017B4 00000000                   DATA FOR SOURCE-LINE 3828
11919 000017B8 00000000                   DATA FOR SOURCE-LINE 3831,3840
11920 000017BC 00000000                   DATA FOR SOURCE-LINE 3837
11921 000017C0 00000000                   DATA FOR SOURCE-LINE 3846
11922 000017C4 00000000                   DATA FOR SOURCE-LINE 3850
11923 000017C8 00000000                   DATA FOR SOURCE-LINE 3854
11924                                     ***** END-POOL *****
11925 000017CC                   3859     POS_ALLSTEPCTL_220:
11926                            3860     
11927                            3861     ;       ===================================================
11928                            3862     ;       ===  "CPUA=CPUB=ﾃｰﾌﾞﾙ時に生かす" 2013-03-07     ===
11929                            3863     ;       ===================================================
11930                            3864     
11931                            3865     ;;;;    ===========================================
11932                            3866     ;;;;    ===     ふりこの終了遅延ﾀｲﾏ2013-02-08   ===
11933                            3867     ;;;;    ===     CPUB_CURVSEL[5]                 ===
11934                            3868     ;;;;    ===========================================
11935                            3869             FAR_JSR #_DNMODE_ENDWAIT_TIM_CHK,R0     ;[[[2013-03-24復活]]]
11936 000017CC D003                   M           MOV.L   #_DNMODE_ENDWAIT_TIM_CHK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11937 000017CE 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   107
PROGRAM NAME =

11938 000017D0 0009                   M           NOP                                     ;
11939 000017D2 2008              3870             TST     R0,R0                           ;[[[2013-03-24復活]]]
11940                            3871             TST_BIT_OF POS_ALLSTEPCTL_225           ;[[[2013-03-24復活]]]
11941 000017D4 8904                   M           BT      POS_ALLSTEPCTL_225
11942                            3872             M_BRA   POS_ALLSTEPCTL_900              ;[[[2013-03-24復活]]]
11943 000017D6 A227                   M           BRA     POS_ALLSTEPCTL_900
11944 000017D8 0009                   M           NOP
11945                            3873     
11946                                     ***** BEGIN-POOL *****
11947 000017DA 0000                       ALIGNMENT CODE
11948 000017DC 00000000                   DATA FOR SOURCE-LINE 3869
11949                                     ***** END-POOL *****
11950 000017E0                   3874     POS_ALLSTEPCTL_225:
11951                            3875     
11952                            3876     ;       =====================================================
11953                            3877     
11954                            3878     
11955                            3879             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT2,WKREG=R1 ;2012-12-10 DEB
                                          UG
11956 000017E0 D105                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
11957 000017E2 6011                   M           MOV.W   @R1,R0          ;
11958 000017E4 CB04                   M           OR      #BIT2,R0                ;
11959 000017E6 2101                   M           MOV.W   R0,@R1          ;
11960                            3880     
11961                            3881             FAR_JSR #_CMPAB_NEAR_END_PROC,R0        ;ｵｰﾌﾟﾝ時ﾆｱｾﾞﾛの終わり
11962 000017E8 D004                   M           MOV.L   #_CMPAB_NEAR_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11963 000017EA 400B                   M           JSR     @R0                     ;
11964 000017EC 0009                   M           NOP                                     ;
11965 000017EE 2008              3882             TST     R0,R0                           ;
11966                            3883             TST_BIT_ON POS_ALLSTEPCTL_230           ;
11967 000017F0 8B06                   M           BF      POS_ALLSTEPCTL_230
11968                            3884             M_BRA   POS_ALLSTEPCTL_900              ;
11969 000017F2 A219                   M           BRA     POS_ALLSTEPCTL_900
11970 000017F4 0009                   M           NOP
11971                            3885     
11972                                     ***** BEGIN-POOL *****
11973 000017F6 0000                       ALIGNMENT CODE
11974 000017F8 00000000                   DATA FOR SOURCE-LINE 3879
11975 000017FC 00000000                   DATA FOR SOURCE-LINE 3881
11976                                     ***** END-POOL *****
11977 00001800                   3886     POS_ALLSTEPCTL_230:
11978                            3887     
11979                            3888     ;       ===============================================
11980                            3889             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT3,WKREG=R1 ;2012-12-10 DEB
                                          UG
11981 00001800 D121                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
11982 00001802 6011                   M           MOV.W   @R1,R0          ;
11983 00001804 CB08                   M           OR      #BIT3,R0                ;
11984 00001806 2101                   M           MOV.W   R0,@R1          ;
11985                            3890             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
11986 00001808 D120                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
11987 0000180A 6011                   M           MOV.W   @R1,R0          ;
11988 0000180C C9FE                   M           AND     #LOW ~BIT0,R0           ;
11989 0000180E 2101                   M           MOV.W   R0,@R1          ;
11990                            3891     
11991                            3892     ;       =====================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   108
PROGRAM NAME =

11992                            3893     ;       ===== 状態遷移時=====
11993                            3894     ;       =====================
11994                            3895     ;       ==========================
11995                            3896     ;       ===== ﾌﾙｸﾛｰｽﾞ信号ｸﾘｱ======
11996                            3897     ;       ==========================
11997                            3898             FAR_JSR #_FUL_DATA_INIT,R0      ;R0,R1 USED
11998 00001810 D01F                   M           MOV.L   #_FUL_DATA_INIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
11999 00001812 400B                   M           JSR     @R0                     ;
12000 00001814 0009                   M           NOP                                     ;
12001                            3899     ;       ===============================================
12002                            3900             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_NEAR_IN_FLG,LG=W,BIT=~BIT0,WKREG=R1 ;//
12003 00001816 D11F                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
12004 00001818 6011                   M           MOV.W   @R1,R0          ;
12005 0000181A C9FE                   M           AND     #LOW ~BIT0,R0           ;
12006 0000181C 2101                   M           MOV.W   R0,@R1          ;
12007                            3901     ;       ===============================================
12008                            3902             FAR_JSR #_CMPSTP_NEAR_ZERO_CLR,R0;//ﾌﾗｸﾞｸﾘｱしたい
12009 0000181E D01E                   M           MOV.L   #_CMPSTP_NEAR_ZERO_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12010 00001820 400B                   M           JSR     @R0                     ;
12011 00001822 0009                   M           NOP                                     ;
12012                            3903     ;       ===============================================
12013                            3904             FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13 ﾆｱｾﾞﾛﾀｲﾏ再設定
12014 00001824 D01D                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12015 00001826 400B                   M           JSR     @R0                     ;
12016 00001828 0009                   M           NOP                                     ;
12017                            3905     ;       === ﾆｱｾﾞﾛ待ち信号ｸﾘｱ ====
12018                            3906             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
12019 0000182A D118                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
12020 0000182C 6011                   M           MOV.W   @R1,R0          ;
12021 0000182E C9FE                   M           AND     #LOW ~BIT0,R0           ;
12022 00001830 2101                   M           MOV.W   R0,@R1          ;
12023                            3907     
12024                            3908     
12025 00001832 D21B              3909             MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
12026 00001834 6021              3910             MOV.W   @R2,R0                  ;ﾀｲﾏLOAD
12027 00001836 70FF              3911             ADD     #-1,R0                  ;
12028 00001838 D41A              3912             MOV.L   #_CPOS_SDAT1_TIM,R4     ;
12029 0000183A 4008              3913             SHLL2   R0                      ;
12030 0000183C 014E              3914             MOV.L   @(R0,R4),R1             ;
12031                            3915     
12032                            3916     ;       ----------------------------
12033 0000183E D41A              3917             MOV.L   #_MOT_REP_F,R4                  ;//BIT0(ﾘﾋﾟｰﾄ動作
12034 00001840 6041              3918             MOV.W   @R4,R0                          ;
12035 00001842 C801              3919             TST     #BIT0,R0                        ;ﾘﾋﾟｰﾄ動作直後の停止
12036                            3920             TST_BIT_OF POS_ALLSTEPCTL_REP231        ;
12037 00001844 8900                   M           BT      POS_ALLSTEPCTL_REP231
12038 00001846 211A              3921             XOR     R1,R1                           ;
12039 00001848                   3922     POS_ALLSTEPCTL_REP231:                          ;
12040                            3923     
12041                            3924     
12042                            3925     
12043                            3926     
12044                            3927     
12045                            3928     
12046                            3929     
12047                            3930     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   109
PROGRAM NAME =

12048                            3931     
12049 00001848 D418              3932             MOV.L   #_MODE_SEL,R4           ;
12050 0000184A 6041              3933             MOV.W   @R4,R0                  ;
12051 0000184C C808              3934             TST     #_W1CNT,R0              ;
12052                            3935             TST_BIT_ON POS_ALLSTEPCTL_280   ;
12053 0000184E 8B07                   M           BF      POS_ALLSTEPCTL_280
12054                            3936     
12055                            3937     ;       == 連続以外は最終工程は0固定 ==
12056                            3938     
12057 00001850 D213              3939             MOV.L   #_INT_POS_CTL_STEP,R2   ;1~5,6
12058 00001852 6021              3940             MOV.W   @R2,R0                  ;
12059 00001854 D216              3941             MOV.L   #_CPOS_STEP_MAX,R2      ;
12060 00001856 6421              3942             MOV.W   @R2,R4                  ;
12061 00001858 7401              3943             ADD     #1,R4                   ;
12062 0000185A 3400              3944             CMP/EQ  R0,R4                   ;R0 =< R4(MAX)
12063 0000185C 8B00              3945             BF      POS_ALLSTEPCTL_280      ;最終工程ではない
12064 0000185E 211A              3946             XOR     R1,R1                   ;最終工程
12065 00001860                   3947     POS_ALLSTEPCTL_280:                     ;
12066                            3948     
12067                            3949             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
12068                            3950 C   ;2015-03-15
12069 00001860 D014              3951 C           MOV.L   #_FULCLS_TIM_SETFLG,R0          ;
12070 00001862 6001              3952 C           MOV.W   @R0,R0                          ;
12071 00001864 C802              3953 C           TST     #BIT1,R0                        ;
12072                            3954 C           TST_BIT_OF POS_ALLSTEPCTL_285           ;
12073 00001866 8900                   M           BT      POS_ALLSTEPCTL_285
12074 00001868 211A              3955 C           XOR     R1,R1                           ;ﾀｲﾏ=0にする
12075 0000186A                   3956 C   POS_ALLSTEPCTL_285:                             ;
12076                            3957             .AENDI
12077                            3958     
12078                            3959     ;       input R1
12079                            3960             FAR_JSR #_DURING_TIM_PRESET_CALC,R0     ;2014-05-30 ﾀｲﾏ継続
12080 0000186A D013                   M           MOV.L   #_DURING_TIM_PRESET_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12081 0000186C 400B                   M           JSR     @R0                     ;
12082 0000186E 0009                   M           NOP                                     ;
12083                            3961     ;;;2014-05-30   MOV.L   #_SDAT_WAIT_PVTIM,R4                                            ;
12084                            3962     ;;;2014-05-30   MOV.L   R1,@R4                                                          ;
12085                            3963     
12086                            3964             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1    ;
12087 00001870 D112                   M           MOV.L   #_INT_POS_STEP_FLG,R1           ;
12088 00001872 6011                   M           MOV.W   @R1,R0          ;
12089 00001874 CB01                   M           OR      #BIT0,R0                ;
12090 00001876 2101                   M           MOV.W   R0,@R1          ;
12091                            3965     
12092                            3966     ;       ----------- 荷重行程変更ｸﾘｱ-----------------
12093                            3967             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
12094                            3968 C           FAR_JSR #_FCLS_KJYU_STEPCHG_CLR,R0      ;2015-03-15[R01:2014-03-20]
12095 00001878 D011                   M           MOV.L   #_FCLS_KJYU_STEPCHG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12096 0000187A 400B                   M           JSR     @R0                     ;
12097 0000187C 0009                   M           NOP                                     ;
12098                            3969             .AENDI
12099                            3970     
12100                            3971     ;       ===================
12101                            3972     ;       ===     CAM1    ===
12102                            3973     ;       ===================
12103                            3974             FAR_JSR #_CAM_1STEP_END_SIG1,R0 ;
12104 0000187E D011                   M           MOV.L   #_CAM_1STEP_END_SIG1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   110
PROGRAM NAME =

12105 00001880 400B                   M           JSR     @R0                     ;
12106 00001882 0009                   M           NOP                                     ;
12107                            3975             M_BRA   POS_ALLSTEPCTL_900      ;
12108 00001884 A1D0                   M           BRA     POS_ALLSTEPCTL_900
12109 00001886 0009                   M           NOP
12110                            3976     
12111                            3977     
12112                            3978     ;       ====<<<<2段目以降の起動処理>>>====
12113                                     ***** BEGIN-POOL *****
12114 00001888 00000000                   DATA FOR SOURCE-LINE 3889
12115 0000188C 00000000                   DATA FOR SOURCE-LINE 3890,3906
12116 00001890 00000000                   DATA FOR SOURCE-LINE 3898
12117 00001894 00000000                   DATA FOR SOURCE-LINE 3900
12118 00001898 00000000                   DATA FOR SOURCE-LINE 3902
12119 0000189C 00000000                   DATA FOR SOURCE-LINE 3904
12120 000018A0 00000000                   DATA FOR SOURCE-LINE 3909,3939
12121 000018A4 00000000                   DATA FOR SOURCE-LINE 3912
12122 000018A8 00000000                   DATA FOR SOURCE-LINE 3917
12123 000018AC 00000000                   DATA FOR SOURCE-LINE 3932
12124 000018B0 00000000                   DATA FOR SOURCE-LINE 3941
12125 000018B4 00000000                   DATA FOR SOURCE-LINE 3951
12126 000018B8 00000000                   DATA FOR SOURCE-LINE 3960
12127 000018BC 00000000                   DATA FOR SOURCE-LINE 3964
12128 000018C0 00000000                   DATA FOR SOURCE-LINE 3968
12129 000018C4 00000000                   DATA FOR SOURCE-LINE 3974
12130                                     ***** END-POOL *****
12131 000018C8                   3979     POS_ALLSTEPCTL_300:
12132 000018C8 C802              3980             TST     #BIT1,R0                ;
12133                            3981             TST_BIT_ON POS_ALLSTEPCTL_400   ;
12134 000018CA 8B3B                   M           BF      POS_ALLSTEPCTL_400
12135                            3982     
12136                            3983     ;       ==== 各段一旦停止機能====
12137 000018CC D106              3984             MOV.L   #_CB_SEQ_CB_COM340,R1           ;340
12138 000018CE 6011              3985             MOV.W   @R1,R0                          ;
12139 000018D0 9408              3986             MOV.W   #BIT13,R4                       ;
12140 000018D2 2048              3987             TST     R4,R0                           ;
12141                            3988             TST_BIT_OF POS_ALLSTEPCTL_310           ;
12142 000018D4 890C                   M           BT      POS_ALLSTEPCTL_310
12143                            3989             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB206,LG=W,BIT=(BIT9),WKRG1=R1,WKRG2=R4
12144 000018D6 D105                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
12145 000018D8 6011                   M           MOV.W   @R1,R0          ;
12146 000018DA 9404                   M           MOV.W   #(BIT9),R4              ;
12147 000018DC 204B                   M           OR      R4,R0           ;
12148 000018DE 2101                   M           MOV.W   R0,@R1          ;
12149                            3990             M_BRA   POS_ALLSTEPCTL_900              ;
12150 000018E0 A1A2                   M           BRA     POS_ALLSTEPCTL_900
12151 000018E2 0009                   M           NOP
12152                            3991     
12153                                     ***** BEGIN-POOL *****
12154 000018E4 2000                       DATA FOR SOURCE-LINE 3986
12155 000018E6 0200                       DATA FOR SOURCE-LINE 3989
12156 000018E8 00000000                   DATA FOR SOURCE-LINE 3984
12157 000018EC 00000000                   DATA FOR SOURCE-LINE 3989
12158                                     ***** END-POOL *****
12159 000018F0                   3992     POS_ALLSTEPCTL_310:
12160                            3993             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
12161 000018F0 D10A                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   111
PROGRAM NAME =

12162 000018F2 6011                   M           MOV.W   @R1,R0          ;
12163 000018F4 9411                   M           MOV.W   #LWORD (~BIT9),R4       ;
12164 000018F6 2049                   M           AND     R4,R0           ;
12165 000018F8 2101                   M           MOV.W   R0,@R1          ;
12166                            3994     
12167                            3995     
12168                            3996     ;       --------反転及び全動作 タイマ計測から再開
12169                            3997             MEM1_BIT0_TO_BIT7_ORSET MEM=_DURING_TIM_FX,LG=W,BIT=BIT0,WKREG=R1       ;する
12170 000018FA D109                   M           MOV.L   #_DURING_TIM_FX,R1              ;
12171 000018FC 6011                   M           MOV.W   @R1,R0          ;
12172 000018FE CB01                   M           OR      #BIT0,R0                ;
12173 00001900 2101                   M           MOV.W   R0,@R1          ;
12174                            3998     
12175                            3999             DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;2014-05-30
12176 00001902 D108                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
12177 00001904 6412                   M           MOV.L   @R1,R4          ;
12178 00001906 2448                   M           TST     R4,R4                   ;
12179 00001908 8901                   M           BT      JMP_0100004                     ;ZERO THEN JUMP
12180 0000190A 4410                   M           DT      R4                              ;
12181 0000190C 2142                   M           MOV.L   R4,@R1          ;STORE
12182 0000190E                        M   JMP_0100004:
12183                            4000     
12184 0000190E D405              4001             MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
12185 00001910 6142              4002             MOV.L   @R4,R1                  ;
12186 00001912 2118              4003             TST     R1,R1                   ;
12187                            4004             TST_BIT_OF POS_ALLSTEPCTL_320   ;
12188 00001914 8908                   M           BT      POS_ALLSTEPCTL_320
12189                            4005             M_BRA   POS_ALLSTEPCTL_900      ;
12190 00001916 A187                   M           BRA     POS_ALLSTEPCTL_900
12191 00001918 0009                   M           NOP
12192                            4006     
12193                                     ***** BEGIN-POOL *****
12194 0000191A FDFF                       DATA FOR SOURCE-LINE 3993
12195 0000191C 00000000                   DATA FOR SOURCE-LINE 3993
12196 00001920 00000000                   DATA FOR SOURCE-LINE 3997
12197 00001924 00000000                   DATA FOR SOURCE-LINE 3999,4001
12198                                     ***** END-POOL *****
12199 00001928                   4007     POS_ALLSTEPCTL_320:
12200                            4008     ;;;     ===================
12201                            4009     ;;;     ===     CAM2    ===
12202                            4010     ;;;     ===================
12203                            4011     ;;;     FAR_JSR #_CAM_1STEP_END_SIG2,R0 ;
12204                            4012     
12205                            4013             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1 ;TIME UP
12206 00001928 D104                   M           MOV.L   #_INT_POS_STEP_FLG,R1           ;
12207 0000192A 6011                   M           MOV.W   @R1,R0          ;
12208 0000192C CB02                   M           OR      #BIT1,R0                ;
12209 0000192E 2101                   M           MOV.W   R0,@R1          ;
12210                            4014     
12211                            4015     ;       --------反転及び全モードタイマ時はタイマ処理から再開をクリア[2/]------
12212                            4016             MEM_0CLR_R0_R1  MEM=_DURING_TIM_FX,LG=W         ;ﾀｲﾏ処理終了した
12213 00001930 200A                   M           XOR     R0,R0           ;
12214 00001932 D103                   M           MOV.L   #_DURING_TIM_FX,R1      ;
12215 00001934 2101                   M           MOV.W   R0,@R1          ;
12216                            4017             M_BRA   POS_ALLSTEPCTL_900                      ;
12217 00001936 A177                   M           BRA     POS_ALLSTEPCTL_900
12218 00001938 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   112
PROGRAM NAME =

12219                            4018     
12220                            4019     
12221                            4020     ;       ======= 次の起動の演算または終了の判断=====
12222                                     ***** BEGIN-POOL *****
12223 0000193A 0000                       ALIGNMENT CODE
12224 0000193C 00000000                   DATA FOR SOURCE-LINE 4013
12225 00001940 00000000                   DATA FOR SOURCE-LINE 4016
12226                                     ***** END-POOL *****
12227 00001944                   4021     POS_ALLSTEPCTL_400:
12228                            4022              .AIF   1 EQ 1  ;
12229                            4023 C   ;       -------- 2016-10-31 ADD 二重回路対策
12230                            4024              .AENDI
12231                            4025     
12232                            4026     ;       --2016-10-31(2016-07-31)(CMPERR対策)---------
12233 00001944 D110              4027             MOV.L   #_CMPSTEP_STEP_END,R1           ;
12234 00001946 6011              4028             MOV.W   @R1,R0                          ;
12235 00001948 2008              4029             TST     R0,R0                           ;
12236                            4030             TST_BIT_ON POS_ALLSTEPCTL_415           ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
12237 0000194A 8B12                   M           BF      POS_ALLSTEPCTL_415
12238                            4031     
12239                            4032     ;       --2016-10-31(2016-08-12)(CMPERR対策)---------
12240 0000194C D10F              4033             MOV.L   #_CNT_STOP_WAIT_TIM,R1          ;
12241 0000194E 6011              4034             MOV.W   @R1,R0                          ;
12242 00001950 2008              4035             TST     R0,R0                           ;
12243                            4036             TST_BIT_ON POS_ALLSTEPCTL_415           ;ﾊﾝﾄﾞｼｪｲｸに入ったら停止指令を参照しない
12244 00001952 8B0E                   M           BF      POS_ALLSTEPCTL_415
12245                            4037     
12246                            4038     
12247                            4039     
12248                            4040     ;       === ﾌﾙｸﾛｰｽﾞ・回転共にこれで止める　連続・回転・停止なしのみここ以外
12249 00001954 D10E              4041             MOV.L   #_MODE_SEL,R1                   ;
12250 00001956 6011              4042             MOV.W   @R1,R0                          ;寸動なら１工程へ、連続なら停止なしなら１
                                          工程へ
12251 00001958 C808              4043             TST     #_W1CNT,R0                      ;
12252                            4044             TST_BIT_OF POS_ALLSTEPCTL_415           ;
12253 0000195A 890A                   M           BT      POS_ALLSTEPCTL_415
12254                            4045     
12255                            4046     ;       ===== 2004-12-20 ===
12256 0000195C D10D              4047             MOV.L   #_CPOS_MOD_FLG1,R1              ;
12257 0000195E 6011              4048             MOV.W   @R1,R0                          ;
12258 00001960 C804              4049             TST     #BIT2,R0                        ;
12259                            4050             TST_BIT_ON POS_ALLSTEPCTL_415           ;
12260 00001962 8B06                   M           BF      POS_ALLSTEPCTL_415
12261                            4051     
12262 00001964 D10C              4052             MOV.L   #_STOP_LATCH_B,R1               ;
12263 00001966 6011              4053             MOV.W   @R1,R0                          ;
12264 00001968 2008              4054             TST     R0,R0                           ;
12265                            4055             TST_BIT_OF POS_ALLSTEPCTL_415           ;
12266 0000196A 8902                   M           BT      POS_ALLSTEPCTL_415
12267                            4056             FAR_JSR #_STOP_LTH_OUT,R0               ;自分を止めるのが目的
12268 0000196C D00B                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12269 0000196E 400B                   M           JSR     @R0                     ;
12270 00001970 0009                   M           NOP                                     ;
12271                            4057     
12272 00001972                   4058     POS_ALLSTEPCTL_415:                             ;
12273                            4059     
12274                            4060     ;       ===================================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   113
PROGRAM NAME =

12275                            4061     ;       ===     二重回路対策            ===
12276                            4062     ;       ===     工程完了                ===
12277                            4063     ;       ===================================
12278                            4064     ;;;;;;;;;;;;;FORCE_STEPEND_HAND200:                             ;[2015-04-08]
12279                            4065     
12280                            4066              .AIF   1 EQ 1  ;
12281                            4067 C   ;       -------- 2016-10-31 ADD 二重回路対策
12282                            4068              .AENDI
12283 00001972 9008              4069             MOV.W   #D'5,R0                         ;CPUAがCPUBの開始に反応しないかどうかの確
                                          認(2016-08-26)
12284 00001974 D105              4070             MOV.L   #_CNT_STOP_WAIT_TIM,R1          ;
12285 00001976 2101              4071             MOV.W   R0,@R1                          ;ﾊﾝﾄﾞｼｪｲｸ終了後2msecだけ停止釦を検知しない
12286                            4072     
12287                            4073             FAR_JSR #_CMPAB_STEP_END_PROC,R0        ;
12288 00001978 D009                   M           MOV.L   #_CMPAB_STEP_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12289 0000197A 400B                   M           JSR     @R0                     ;
12290 0000197C 0009                   M           NOP                                     ;
12291 0000197E 2008              4074             TST     R0,R0                           ;
12292                            4075             TST_BIT_ON POS_ALLSTEPCTL_420           ;
12293 00001980 8B10                   M           BF      POS_ALLSTEPCTL_420
12294                            4076             M_BRA   POS_ALLSTEPCTL_900              ;
12295 00001982 A151                   M           BRA     POS_ALLSTEPCTL_900
12296 00001984 0009                   M           NOP
12297                                     ***** BEGIN-POOL *****
12298 00001986 0005                       DATA FOR SOURCE-LINE 4069
12299 00001988 00000000                   DATA FOR SOURCE-LINE 4027
12300 0000198C 00000000                   DATA FOR SOURCE-LINE 4033,4070
12301 00001990 00000000                   DATA FOR SOURCE-LINE 4041
12302 00001994 00000000                   DATA FOR SOURCE-LINE 4047
12303 00001998 00000000                   DATA FOR SOURCE-LINE 4052
12304 0000199C 00000000                   DATA FOR SOURCE-LINE 4056
12305 000019A0 00000000                   DATA FOR SOURCE-LINE 4073
12306                                     ***** END-POOL *****
12307 000019A4                   4077     POS_ALLSTEPCTL_420:                             ;
12308                            4078             FAR_JSR #_CMPSTP_STEP_END_CLR,R0        ;//位置決め完了としたい
12309 000019A4 D00B                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12310 000019A6 400B                   M           JSR     @R0                     ;
12311 000019A8 0009                   M           NOP                                     ;
12312                            4079     
12313                            4080     ;       ===================
12314                            4081     ;       ===     CAM2    ===
12315                            4082     ;       ===================
12316                            4083             FAR_JSR #_CAM_1STEP_END_SIG2,R0         ;
12317 000019AA D00B                   M           MOV.L   #_CAM_1STEP_END_SIG2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12318 000019AC 400B                   M           JSR     @R0                     ;
12319 000019AE 0009                   M           NOP                                     ;
12320                            4084     
12321                            4085     
12322                            4086     ;       ====== 次の工程演算[繰り返しCHK] ======
12323                            4087             FAR_JSR #_MOT_REP_STEPCHK,R0            ;ﾘﾋﾟｰﾄ開始(通常工程->ﾘﾋﾟｰﾄ戻工程,ﾘﾋﾟｰﾄ戻->
                                          ﾘﾋﾟｰﾄ開始工程)
12324 000019B0 D00A                   M           MOV.L   #_MOT_REP_STEPCHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12325 000019B2 400B                   M           JSR     @R0                     ;
12326 000019B4 0009                   M           NOP                                     ;
12327                            4088     
12328 000019B6 D50A              4089             MOV.L   #_MOT_REP_F,R5                  ;//BIT1(ﾚﾋﾟｰﾄ演算しろ),BIT2(ﾘﾋﾟｰﾄ戻実行中)
12329 000019B8 6051              4090             MOV.W   @R5,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   114
PROGRAM NAME =

12330 000019BA C804              4091             TST     #BIT2,R0                        ;
12331                            4092             TST_BIT_OF POS_ALLSTEPCTL_428           ;ﾘﾋﾟｰﾄから通常の開始工程に切り替えろ?
12332 000019BC 8918                   M           BT      POS_ALLSTEPCTL_428
12333 000019BE C901              4093             AND     #(BIT0),R0                      ;BIT3,BIT2:CLR
12334 000019C0 2501              4094             MOV.W   R0,@R5                          ;
12335 000019C2 D408              4095             MOV.L   #_SET1_MOTREP_STGS,R4           ;//繰り返し終了行程[この工程は停止工程とす
                                          る]
12336 000019C4 6141              4096             MOV.W   @R4,R1                          ;
12337 000019C6 D508              4097             MOV.L   #_INT_POS_CTL_STEP,R5           ;//内部制御工程1~11
12338 000019C8 2511              4098             MOV.W   R1,@R5                          ;
12339 000019CA D008              4099             MOV.L   #_SV_POS_CTL_STEP,R0            ;//1msec 制御上の見かけ
12340 000019CC 2011              4100             MOV.W   R1,@R0                          ;
12341                            4101             M_BRA   POS_ALLSTEPCTL_580              ;工程番号から位置演算
12342 000019CE A08C                   M           BRA     POS_ALLSTEPCTL_580
12343 000019D0 0009                   M           NOP
12344                            4102     
12345                            4103     
12346                                     ***** BEGIN-POOL *****
12347 000019D2 0000                       ALIGNMENT CODE
12348 000019D4 00000000                   DATA FOR SOURCE-LINE 4078
12349 000019D8 00000000                   DATA FOR SOURCE-LINE 4083
12350 000019DC 00000000                   DATA FOR SOURCE-LINE 4087
12351 000019E0 00000000                   DATA FOR SOURCE-LINE 4089
12352 000019E4 00000000                   DATA FOR SOURCE-LINE 4095
12353 000019E8 00000000                   DATA FOR SOURCE-LINE 4097
12354 000019EC 00000000                   DATA FOR SOURCE-LINE 4099
12355                                     ***** END-POOL *****
12356 000019F0                   4104     POS_ALLSTEPCTL_428
12357 000019F0 C802              4105             TST     #BIT1,R0                        ;
12358                            4106             TST_BIT_OF POS_ALLSTEPCTL_430           ;
12359 000019F2 890D                   M           BT      POS_ALLSTEPCTL_430
12360 000019F4 C901              4107             AND     #(BIT0),R0                      ;BIT1:CLR BIT3:ふりこ時に使用される
12361 000019F6 2501              4108             MOV.W   R0,@R5                          ;
12362                            4109     
12363                            4110             FAR_JSR #_DEBUG_BRK_POINT2,R0           ;
12364 000019F8 D003                   M           MOV.L   #_DEBUG_BRK_POINT2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12365 000019FA 400B                   M           JSR     @R0                     ;
12366 000019FC 0009                   M           NOP                                     ;
12367                            4111     
12368                            4112             FAR_JSR #_MOT_REPSTART_CALC,R0          ;
12369 000019FE D003                   M           MOV.L   #_MOT_REPSTART_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12370 00001A00 400B                   M           JSR     @R0                     ;
12371 00001A02 0009                   M           NOP                                     ;
12372                            4113             M_BRA   POS_ALLSTEPCTL_590              ;位置演算後の処理
12373 00001A04 A0B7                   M           BRA     POS_ALLSTEPCTL_590
12374 00001A06 0009                   M           NOP
12375                            4114     
12376                            4115     
12377                                     ***** BEGIN-POOL *****
12378 00001A08 00000000                   DATA FOR SOURCE-LINE 4110
12379 00001A0C 00000000                   DATA FOR SOURCE-LINE 4112
12380                                     ***** END-POOL *****
12381 00001A10                   4116     POS_ALLSTEPCTL_430:                             ;
12382                            4117     ;       ====== 次の工程演算 ======
12383 00001A10 D509              4118             MOV.L   #_INT_POS_CTL_STEP,R5   ;//内部制御工程1~11
12384 00001A12 6051              4119             MOV.W   @R5,R0                  ;
12385 00001A14 70FF              4120             ADD     #-1,R0                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   115
PROGRAM NAME =

12386 00001A16 4008              4121             SHLL2   R0                      ;
12387 00001A18 D708              4122             MOV.L   #_CPOS_SDAT1_CNTSTEP,R7 ;
12388 00001A1A 017E              4123             MOV.L   @(R0,R7),R1             ;この工程の最後のｽﾃｯﾌﾟ
12389 00001A1C D608              4124             MOV.L   #_CPOS_STEP_MAX,R6      ;//設定
12390 00001A1E 6461              4125             MOV.W   @R6,R4                  ;
12391 00001A20 7401              4126             ADD     #1,R4                   ;
12392 00001A22 3142              4127             CMP/HS  R4,R1                   ;R4=(<)R1:NOW 最終工程?
12393 00001A24 8912              4128             BT      POS_ALLSTEPCTL_450      ;YES 最終工程だった JUMP
12394 00001A26 7101              4129             ADD     #1,R1                   ;
12395 00001A28 2511              4130             MOV.W   R1,@R5                  ;NEXT ｾｯﾄ
12396                            4131     
12397                            4132     ;       =======================================
12398 00001A2A D406              4133             MOV.L   #_CAM_CNT_CHG_FLG,R4            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
12399 00001A2C 200A              4134             XOR     R0,R0                           ;
12400 00001A2E 2401              4135             MOV.W   R0,@R4                          ;
12401                            4136     ;       =========================================
12402                            4137     
12403                            4138     ;       =================================================
12404 00001A30 D005              4139             MOV.L   #_SV_POS_CTL_STEP,R0    ;//1msec 制御上の見かけ
12405 00001A32 2011              4140             MOV.W   R1,@R0                  ;
12406                            4141     ;       ================================================
12407                            4142     ;       === 次の工程への処理===         ;
12408                            4143             M_BRA   POS_ALLSTEPCTL_580      ;
12409 00001A34 A059                   M           BRA     POS_ALLSTEPCTL_580
12410 00001A36 0009                   M           NOP
12411                            4144     
12412                            4145     ;====通常の安一等の最終工程,連続停止の最終行程もここ 2004-03-03
12413                                     ***** BEGIN-POOL *****
12414 00001A38 00000000                   DATA FOR SOURCE-LINE 4118
12415 00001A3C 00000000                   DATA FOR SOURCE-LINE 4122
12416 00001A40 00000000                   DATA FOR SOURCE-LINE 4124
12417 00001A44 00000000                   DATA FOR SOURCE-LINE 4133
12418 00001A48 00000000                   DATA FOR SOURCE-LINE 4139
12419                                     ***** END-POOL *****
12420 00001A4C                   4146     POS_ALLSTEPCTL_450:
12421                            4147             FAR_JSR #_MOTION_CYCLE_END,R0           ;
12422 00001A4C D00C                   M           MOV.L   #_MOTION_CYCLE_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12423 00001A4E 400B                   M           JSR     @R0                     ;
12424 00001A50 0009                   M           NOP                                     ;
12425                            4148     
12426                            4149             .AIF    1 EQ    0
12427                            4150             FAR_JSR #_API_IVW_CYC_START,R0                  ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
12428                            4151     
12429                            4152             .AENDI
12430                            4153     
12431                            4154             FAR_JSR #_MOTION_CYCLE_ED2,R0           ;連続のVﾓｰﾄﾞがここを通過している
12432 00001A52 D00C                   M           MOV.L   #_MOTION_CYCLE_ED2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12433 00001A54 400B                   M           JSR     @R0                     ;
12434 00001A56 0009                   M           NOP                                     ;
12435                            4155             FAR_JSR #_LOT_SIG_FLG_CLR,R0            ;通常の連続
12436 00001A58 D00B                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12437 00001A5A 400B                   M           JSR     @R0                     ;
12438 00001A5C 0009                   M           NOP                                     ;
12439                            4156     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT1,R0
12440                            4157     
12441                            4158     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   116
PROGRAM NAME =

12442                            4159     ;       == 非常停止解除(ｻｲｸﾙ運転),1CYCLEND ==
12443 00001A5E D10B              4160             MOV.L   #_MODE_SEL,R1                   ;
12444 00001A60 6011              4161             MOV.W   @R1,R0                          ;寸動なら１工程へ、連続なら停止なしなら１
                                          工程へ
12445 00001A62 C80A              4162             TST     #(_W1CNT+_W1INC),R0             ;
12446                            4163             TST_BIT_OF POS_ALLSTEPCTL_600X          ;終了
12447 00001A64 8909                   M           BT      POS_ALLSTEPCTL_600X
12448                            4164     
12449 00001A66 C802              4165             TST     #(_W1INC),R0                    ;
12450                            4166             TST_BIT_ON POS_ALLSTEPCTL_530           ;開始
12451 00001A68 8B16                   M           BF      POS_ALLSTEPCTL_530
12452                            4167     
12453                            4168     ;       === 連続 ===
12454 00001A6A D109              4169             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
12455 00001A6C 6011              4170             MOV.W   @R1,R0                          ;
12456 00001A6E C801              4171             TST     #BIT0,R0                        ;
12457                            4172             TST_BIT_ON POS_ALLSTEPCTL_600X          ;終了
12458 00001A70 8B03                   M           BF      POS_ALLSTEPCTL_600X
12459                            4173     
12460                            4174              .AIF   1 EQ 1  ;
12461                            4175 C   ;       -------- 2016-10-31 ADD 二重回路対策
12462                            4176              .AENDI
12463                            4177     ;;;2016-10-31   M_BRA   POS_ALLSTEPCTL_550              ;(連続のＶﾓｰﾄﾞでの最終工程から最初
                                          の行程) 停止付の処理
12464                            4178     
12465                            4179     ;       ----------- 2016-10-31(2016-07-31)(CMPERR対策)--------
12466                            4180             .AIF    1 EQ    0
12467                            4181             MOV.L   #_SH2_HD_CNT_STOP,R1            ;
12468                            4182             .AELSE
12469 00001A72 D108              4183 C           MOV.L   #_SH4_HD_CNT_STOP,R1            ;
12470                            4184             .AENDI
12471 00001A74 6011              4185             MOV.W   @R1,R0                          ;
12472 00001A76 2008              4186             TST     R0,R0                           ;
12473                            4187             TST_BIT_OF POS_ALLSTEPCTL_550           ;(連続のＶﾓｰﾄﾞでの最終工程から最初の行程)
                                          停止付の処理
12474 00001A78 8918                   M           BT      POS_ALLSTEPCTL_550
12475                            4188     ;;;;2016-08-24  XOR     R0,R0                           ;相手の信号を受け付けた場合,相手の
                                          信号をOFFしておく
12476                            4189     ;;;;2016-08-24  MOV.W   R0,@R1                          ;不要
12477                            4190     
12478 00001A7A                   4191     POS_ALLSTEPCTL_600X             ;終了
12479                            4192             M_BRA   POS_ALLSTEPCTL_600              ;終了
12480 00001A7A A0C3                   M           BRA     POS_ALLSTEPCTL_600
12481 00001A7C 0009                   M           NOP
12482                            4193     
12483                            4194     
12484                                     ***** BEGIN-POOL *****
12485 00001A7E 0000                       ALIGNMENT CODE
12486 00001A80 00000000                   DATA FOR SOURCE-LINE 4147
12487 00001A84 00000000                   DATA FOR SOURCE-LINE 4154
12488 00001A88 00000000                   DATA FOR SOURCE-LINE 4155
12489 00001A8C 00000000                   DATA FOR SOURCE-LINE 4160
12490 00001A90 00000000                   DATA FOR SOURCE-LINE 4169
12491 00001A94 00000000                   DATA FOR SOURCE-LINE 4183
12492                                     ***** END-POOL *****
12493 00001A98                   4195     POS_ALLSTEPCTL_530:                             ;
12494 00001A98 D103              4196             MOV.L   #_CB_SEQ_SW_SEL028,R1           ;//SEQ 28
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   117
PROGRAM NAME =

12495 00001A9A 6111              4197             MOV.W   @R1,R1                          ;.3
12496 00001A9C 9203              4198             MOV.W   #BIT3,R2                        ;
12497 00001A9E 2128              4199             TST     R2,R1
12498                            4200             TST_BIT_OF POS_ALLSTEPCTL_550           ;
12499 00001AA0 8904                   M           BT      POS_ALLSTEPCTL_550
12500                            4201             M_BRA   POS_ALLSTEPCTL_600              ;終了 寸動一工程
12501 00001AA2 A0AF                   M           BRA     POS_ALLSTEPCTL_600
12502 00001AA4 0009                   M           NOP
12503                            4202     
12504                            4203     ;       === 継続運転<> ==
12505                                     ***** BEGIN-POOL *****
12506 00001AA6 0008                       DATA FOR SOURCE-LINE 4198
12507 00001AA8 00000000                   DATA FOR SOURCE-LINE 4196
12508                                     ***** END-POOL *****
12509 00001AAC                   4204     POS_ALLSTEPCTL_550:                             ;
12510                            4205             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT4,WKREG=R1 ;2012-12-10 DEB
                                          UG
12511 00001AAC D11A                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
12512 00001AAE 6011                   M           MOV.W   @R1,R0          ;
12513 00001AB0 CB10                   M           OR      #BIT4,R0                ;
12514 00001AB2 2101                   M           MOV.W   R0,@R1          ;
12515                            4206             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_DNM_DEBUG_STS1,LG=W,BIT=~(BIT3+BIT2+BIT1+BIT0),WKREG
                                          =R1     ;2012-12-10 DEBUG
12516 00001AB4 D118                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
12517 00001AB6 6011                   M           MOV.W   @R1,R0          ;
12518 00001AB8 C9F0                   M           AND     #LOW ~(BIT3+BIT2+BIT1+BIT0),R0          ;
12519 00001ABA 2101                   M           MOV.W   R0,@R1          ;
12520                            4207     
12521                            4208              .AIF   1 EQ 1  ;
12522                            4209 C   ;       -------- 2016-10-31 ADD 二重回路対策
12523                            4210              .AENDI
12524                            4211     ;       ---------連続及び寸動の継続時の１サイクル終了はここ
12525                            4212             FAR_JSR #_DNM_CYCLE_END,R0                      ;2016-06-13[3]
12526 00001ABC D017                   M           MOV.L   #_DNM_CYCLE_END,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12527 00001ABE 400B                   M           JSR     @R0                     ;
12528 00001AC0 0009                   M           NOP                                     ;
12529                            4213     
12530                            4214     ;       ----- [2009-10-07下振子]-----
12531                            4215             FAR_JSR #_DNM_CYCLE_START,R0            ;連続の次のｻｲｸﾙ開始はここ
12532 00001AC2 D017                   M           MOV.L   #_DNM_CYCLE_START,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12533 00001AC4 400B                   M           JSR     @R0                     ;
12534 00001AC6 0009                   M           NOP                                     ;
12535                            4216     
12536 00001AC8 200A              4217             XOR     R0,R0                           ;
12537                            4218     ;       =======================================
12538 00001ACA D116              4219             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
12539 00001ACC 2101              4220             MOV.W   R0,@R1                          ;
12540                            4221     ;       =========================================
12541 00001ACE D116              4222             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
12542 00001AD0 2101              4223             MOV.W   R0,@R1                          ;
12543 00001AD2 D116              4224             MOV.L   #_LINK_OBJROT_NUM_ZR,R1         ;//NOW ROTATION 番号
12544 00001AD4 6212              4225             MOV.L   @R1,R2                          ;+0
12545                            4226     ;;;;    FAR_JSR #_NEXT_CYCL_START1,R0           ;回転なら+1
12546                            4227             FAR_JSR #_BANK_CHK_NEXT_CYCL_STR1,R0    ;2004-12-20::::連続/寸動の上死点停止付処理
12547 00001AD6 D016                   M           MOV.L   #_BANK_CHK_NEXT_CYCL_STR1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12548 00001AD8 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   118
PROGRAM NAME =

12549 00001ADA 0009                   M           NOP                                     ;
12550                            4228     
12551 00001ADC D115              4229             MOV.L   #_SV_POS_CTL_STEP,R1            ;//1msec 制御上の見かけ
12552 00001ADE 6411              4230             MOV.W   @R1,R4                          ;
12553 00001AE0 D215              4231             MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
12554 00001AE2 2241              4232             MOV.W   R4,@R2                          ;
12555                            4233     
12556                            4234     
12557                            4235             FAR_JSR #_MOTION_CYCLE_START,R0         ;1回転
12558 00001AE4 D015                   M           MOV.L   #_MOTION_CYCLE_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12559 00001AE6 400B                   M           JSR     @R0                     ;
12560 00001AE8 0009                   M           NOP                                     ;
12561                            4236     
12562                            4237     
12563                            4238     
12564                            4239     ;       ==== 通常の行程切替,連続の停止付１回転====
12565                            4240     ;       (((((連続Vﾓｰﾄﾞではここは通らない))))))))
12566 00001AEA                   4241     POS_ALLSTEPCTL_580:                             ;<====
12567                            4242     ;       ====== 2007-09-15未出荷　(SIT3:2007-09-15)(COP2:2007-07-07) =============
12568                            4243             FAR_JSR #_POS_LSI_START_INITAL,R0
12569 00001AEA D015                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12570 00001AEC 400B                   M           JSR     @R0                     ;
12571 00001AEE 0009                   M           NOP                                     ;
12572                            4244     
12573                            4245             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0      ;2010-10-05 実測から設定に取り込まない
12574 00001AF0 D014                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12575 00001AF2 400B                   M           JSR     @R0                     ;
12576 00001AF4 0009                   M           NOP                                     ;
12577                            4246     
12578                            4247             FAR_JSR #_OVER_RID_UPDN_LAT_DTMK,R0     ;20060919:
12579 00001AF6 D014                   M           MOV.L   #_OVER_RID_UPDN_LAT_DTMK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12580 00001AF8 400B                   M           JSR     @R0                     ;
12581 00001AFA 0009                   M           NOP                                     ;
12582                            4248     
12583 00001AFC D113              4249             MOV.L   #_CPOS_CTL_MATH,R1              ;
12584 00001AFE 6011              4250             MOV.W   @R1,R0                          ;
12585 00001B00 C801              4251             TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
12586                            4252             TST_BIT_OF POS_ALLSTEPCTL_585           ;
12587 00001B02 8935                   M           BT      POS_ALLSTEPCTL_585
12588                            4253     ;       ====== 回転時はこれ==========
12589 00001B04 D112              4254             MOV.L   #_CPOS_BANK_USELFUL,R1          ;2004-12-20
12590 00001B06 6011              4255             MOV.W   @R1,R0                          ;
12591 00001B08 C801              4256             TST     #BIT0,R0                        ;
12592                            4257             TST_BIT_ON POS_ALLSTEPCTL_583           ;<====
12593 00001B0A 8B25                   M           BF      POS_ALLSTEPCTL_583
12594                            4258             FAR_JSR #_POS_1STEP_DATA_MAK2,R0        ;_LNGTH,SHIN,SPEED<設定から求める>
12595 00001B0C D011                   M           MOV.L   #_POS_1STEP_DATA_MAK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12596 00001B0E 400B                   M           JSR     @R0                     ;
12597 00001B10 0009                   M           NOP                                     ;
12598                            4259             M_BRA   POS_ALLSTEPCTL_590              ;[]
12599 00001B12 A030                   M           BRA     POS_ALLSTEPCTL_590
12600 00001B14 0009                   M           NOP
12601                            4260     
12602                                     ***** BEGIN-POOL *****
12603 00001B16 0000                       ALIGNMENT CODE
12604 00001B18 00000000                   DATA FOR SOURCE-LINE 4205,4206
12605 00001B1C 00000000                   DATA FOR SOURCE-LINE 4212
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   119
PROGRAM NAME =

12606 00001B20 00000000                   DATA FOR SOURCE-LINE 4215
12607 00001B24 00000000                   DATA FOR SOURCE-LINE 4219
12608 00001B28 00000000                   DATA FOR SOURCE-LINE 4222
12609 00001B2C 00000000                   DATA FOR SOURCE-LINE 4224
12610 00001B30 00000000                   DATA FOR SOURCE-LINE 4227
12611 00001B34 00000000                   DATA FOR SOURCE-LINE 4229
12612 00001B38 00000000                   DATA FOR SOURCE-LINE 4231
12613 00001B3C 00000000                   DATA FOR SOURCE-LINE 4235
12614 00001B40 00000000                   DATA FOR SOURCE-LINE 4243
12615 00001B44 00000000                   DATA FOR SOURCE-LINE 4245
12616 00001B48 00000000                   DATA FOR SOURCE-LINE 4247
12617 00001B4C 00000000                   DATA FOR SOURCE-LINE 4249
12618 00001B50 00000000                   DATA FOR SOURCE-LINE 4254
12619 00001B54 00000000                   DATA FOR SOURCE-LINE 4258
12620                                     ***** END-POOL *****
12621 00001B58                   4261     POS_ALLSTEPCTL_583                              ;
12622                            4262     ;       === 連続の上死点ﾀｲﾏなし===
12623                            4263             FAR_JSR #_POS_CNT_BANK_DTMAK3,R0        ;ﾀｲﾏ停止後の起動
12624 00001B58 D003                   M           MOV.L   #_POS_CNT_BANK_DTMAK3,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12625 00001B5A 400B                   M           JSR     @R0                     ;
12626 00001B5C 0009                   M           NOP                                     ;
12627                            4264             FAR_JSR #_BANK_CNT_STOP_CHK_TYP1,R0     ;
12628 00001B5E D003                   M           MOV.L   #_BANK_CNT_STOP_CHK_TYP1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12629 00001B60 400B                   M           JSR     @R0                     ;
12630 00001B62 0009                   M           NOP                                     ;
12631                            4265             M_BRA   POS_ALLSTEPCTL_590              ;
12632 00001B64 A007                   M           BRA     POS_ALLSTEPCTL_590
12633 00001B66 0009                   M           NOP
12634                            4266     
12635                                     ***** BEGIN-POOL *****
12636 00001B68 00000000                   DATA FOR SOURCE-LINE 4263
12637 00001B6C 00000000                   DATA FOR SOURCE-LINE 4264
12638                                     ***** END-POOL *****
12639 00001B70                   4267     POS_ALLSTEPCTL_585:                             ;<<<<<<<<<<<<<<<<<<
12640                            4268     
12641                            4269             FAR_JSR #_POS_1STEP_DATA_MAK_SEL,R0     ;2011-11-18 _POS_1STEP_DATA_MAK1CL/POS_1ST
                                          EP_DATA_MAK2の切り替え
12642 00001B70 D016                   M           MOV.L   #_POS_1STEP_DATA_MAK_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12643 00001B72 400B                   M           JSR     @R0                     ;
12644 00001B74 0009                   M           NOP                                     ;
12645                            4270     
12646                            4271                                                     ;基本的には一致した状態(本当は最終工程だけ
                                          )
12647                            4272     ;;;;2010-10-05  FAR_JSR #_POS_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED<ｲﾝｸﾘﾒﾝﾀﾙﾊﾟﾙｽか
                                          ら求める>
12648                            4273     ;;;;2011-02-18  FAR_JSR #_POS_1STEP_DATA_MAK2,R0        ;目標位置タイプ　2010-10-05
12649                            4274     
12650 00001B76                   4275     POS_ALLSTEPCTL_590:                             ;
12651                            4276     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ==== 2003-07-14 回転の停止時間変更 ===
12652                            4277     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; 2014-08-30
12653                            4278     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; MOV.L   #_SV_CHG_FLG2,R1                ;
12654                            4279     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; MOV.L   @R1,R0                          ;
12655                            4280     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; TST     R0,R0                           ;
12656                            4281     ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; TST_BIT_ON POS_ALLSTEPCTL_900           ;次の起動をかけな
                                          い
12657                            4282     
12658                            4283     ;       ===(次ｽﾃｯﾌﾟ起動)===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   120
PROGRAM NAME =

12659                            4284             FAR_JSR #_ERR_INFO_DT_IN2,R0            ;2004-01-27(data-smp only)
12660 00001B76 D016                   M           MOV.L   #_ERR_INFO_DT_IN2,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12661 00001B78 400B                   M           JSR     @R0                     ;
12662 00001B7A 0009                   M           NOP                                     ;
12663                            4285     
12664                            4286             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
12665 00001B7C D015                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12666 00001B7E 400B                   M           JSR     @R0                     ;
12667 00001B80 0009                   M           NOP                                     ;
12668                            4287             FAR_JSR #_ERR_INFO_DT_IN3,R0            ;2004-01-28ADD,TOTAL(data-smp only)
12669 00001B82 D015                   M           MOV.L   #_ERR_INFO_DT_IN3,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12670 00001B84 400B                   M           JSR     @R0                     ;
12671 00001B86 0009                   M           NOP                                     ;
12672                            4288     
12673                            4289     
12674                            4290     ;;;;;;  FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;停止時からの起動
12675                            4291     ;;;;;(連続のＶﾓｰﾄﾞもここを通過してきているので安全一行程だけ)
12676                            4292             FAR_JSR #_POS_PLSOUT_SET_RETRY,R0       ;(停止時からの起動の場合のみ有効・安一のみ
                                          )
12677 00001B88 D014                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12678 00001B8A 400B                   M           JSR     @R0                     ;
12679 00001B8C 0009                   M           NOP                                     ;
12680                            4293     
12681                            4294     ;       == 2004-03 ===
12682                            4295             FAR_JSR #_ERR_INFO_DT_CHK2,R0           ;"SGL"
12683 00001B8E D014                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12684 00001B90 400B                   M           JSR     @R0                     ;
12685 00001B92 0009                   M           NOP                                     ;
12686 00001B94 9018              4296             MOV.W   #D'2,R0                 ;
12687 00001B96 D113              4297             MOV.L   #_ERR_INFO_DLY_TIM,R1           ;
12688 00001B98 2101              4298             MOV.W   R0,@R1                          ;
12689                            4299     
12690                            4300             FAR_JSR #_ERR_INFO_DT_IN4,R0            ;"SGL"
12691 00001B9A D013                   M           MOV.L   #_ERR_INFO_DT_IN4,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12692 00001B9C 400B                   M           JSR     @R0                     ;
12693 00001B9E 0009                   M           NOP                                     ;
12694                            4301             FAR_JSR #_FWD_REV_START,R1              ;起動
12695 00001BA0 D112                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12696 00001BA2 410B                   M           JSR     @R1                     ;
12697 00001BA4 0009                   M           NOP                                     ;
12698                            4302     
12699                            4303     ;       -------- 2010-09-27 ふりこ情報--------
12700                            4304             FAR_JSR #_DNM_START_ACC_CALC,R0
12701 00001BA6 D012                   M           MOV.L   #_DNM_START_ACC_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12702 00001BA8 400B                   M           JSR     @R0                     ;
12703 00001BAA 0009                   M           NOP                                     ;
12704                            4305     
12705                            4306             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
12706 00001BAC D011                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12707 00001BAE 400B                   M           JSR     @R0                     ;
12708 00001BB0 0009                   M           NOP                                     ;
12709                            4307     
12710 00001BB2 200A              4308             XOR     R0,R0                           ;
12711 00001BB4 D110              4309             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
12712 00001BB6 2101              4310             MOV.W   R0,@R1                          ;Q
12713                            4311     
12714                            4312     ;       ==== ﾆｱｾﾞﾛ,ﾊﾝﾄﾞｼｪｲｸ終了,ｸﾛｰｽﾞﾌﾗｸﾞCLR ===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   121
PROGRAM NAME =

12715                            4313             FAR_JSR #_POS_CMP_1STEP_START_INI,R0
12716 00001BB8 D010                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12717 00001BBA 400B                   M           JSR     @R0                     ;
12718 00001BBC 0009                   M           NOP                                     ;
12719                            4314     
12720                            4315     ;       ---------------- 起動 2011-09-01 -------------------
12721                            4316             FAR_JSR #_UP_ACCERR_START_INI,R0
12722 00001BBE D010                   M           MOV.L   #_UP_ACCERR_START_INI,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12723 00001BC0 400B                   M           JSR     @R0                     ;
12724 00001BC2 0009                   M           NOP                                     ;
12725                            4317     
12726                            4318             M_BRA   POS_ALLSTEPCTL_900              ;
12727 00001BC4 A030                   M           BRA     POS_ALLSTEPCTL_900
12728 00001BC6 0009                   M           NOP
12729                            4319     
12730                                     ***** BEGIN-POOL *****
12731 00001BC8 0002                       DATA FOR SOURCE-LINE 4296
12732 00001BCA 0000                       ALIGNMENT CODE
12733 00001BCC 00000000                   DATA FOR SOURCE-LINE 4269
12734 00001BD0 00000000                   DATA FOR SOURCE-LINE 4284
12735 00001BD4 00000000                   DATA FOR SOURCE-LINE 4286
12736 00001BD8 00000000                   DATA FOR SOURCE-LINE 4287
12737 00001BDC 00000000                   DATA FOR SOURCE-LINE 4292
12738 00001BE0 00000000                   DATA FOR SOURCE-LINE 4295
12739 00001BE4 00000000                   DATA FOR SOURCE-LINE 4297
12740 00001BE8 00000000                   DATA FOR SOURCE-LINE 4300
12741 00001BEC 00000000                   DATA FOR SOURCE-LINE 4301
12742 00001BF0 00000000                   DATA FOR SOURCE-LINE 4304
12743 00001BF4 00000000                   DATA FOR SOURCE-LINE 4306
12744 00001BF8 00000000                   DATA FOR SOURCE-LINE 4309
12745 00001BFC 00000000                   DATA FOR SOURCE-LINE 4313
12746 00001C00 00000000                   DATA FOR SOURCE-LINE 4316
12747                                     ***** END-POOL *****
12748 00001C04                   4320     POS_ALLSTEPCTL_600:
12749                            4321             FAR_JSR #_MOTION_CYCLE_END,R0                   ;2回目通る
12750 00001C04 D00A                   M           MOV.L   #_MOTION_CYCLE_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12751 00001C06 400B                   M           JSR     @R0                     ;
12752 00001C08 0009                   M           NOP                                     ;
12753                            4322             FAR_JSR #_MOTION_CYCLE_ED2,R0                   ;2003-07-09
12754 00001C0A D00A                   M           MOV.L   #_MOTION_CYCLE_ED2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12755 00001C0C 400B                   M           JSR     @R0                     ;
12756 00001C0E 0009                   M           NOP                                     ;
12757                            4323             FAR_JSR #_LOT_SIG_FLG_CLR,R0                    ;通常の連続
12758 00001C10 D009                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12759 00001C12 400B                   M           JSR     @R0                     ;
12760 00001C14 0009                   M           NOP                                     ;
12761                            4324     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT2,R0
12762                            4325     
12763                            4326             .AIF    1 EQ    0
12764                            4327             FAR_JSR #_API_IVW_CYC_END,R0                    ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
12765                            4328             .AENDI
12766                            4329     
12767                            4330             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1 ;
12768 00001C16 D109                   M           MOV.L   #_INT_POS_STEP_FLG,R1           ;
12769 00001C18 6011                   M           MOV.W   @R1,R0          ;
12770 00001C1A CB40                   M           OR      #BIT6,R0                ;
12771 00001C1C 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   122
PROGRAM NAME =

12772                            4331     
12773                            4332     ;       ======ｻｲｸﾙ停止状態ON==========================
12774 00001C1E D108              4333             MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
12775 00001C20 6011              4334             MOV.W   @R1,R0                                  ;
12776 00001C22 9404              4335             MOV.W   #BIT7,R4                                ;
12777 00001C24 204B              4336             OR      R4,R0                                   ;以下 BIT0,BIT1,BIT8,BIT9を作成す
                                          る
12778 00001C26 2101              4337             MOV.W   R0,@R1                                  ;
12779                            4338     ;       ===============================================
12780 00001C28                   4339     POS_ALLSTEPCTL_900:
12781                            4340     
12782                            4341     
12783                            4342     
12784                            4343     
12785                            4344     
12786                            4345     ;       ------- 2012-12-10 DEBUG-----------
12787                            4346     ;;;2014-09-14   MOV.L   #_DNM_DEBUG_STS1,R1
12788                            4347     ;;;2014-09-14   MOV.W   @R1,R2
12789                            4348     ;;;2014-09-14   MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
12790                            4349     ;;;2014-09-14   MOV.W   R2,@R1                          ;ﾃﾞﾊﾞｯｸ専用
12791                            4350     
12792                            4351     
12793                            4352             SUB_END
12794                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12795 00001C28 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12796                            4353             M_RTS
12797 00001C2A 000B                   M           RTS                             ;RTSの後ろの
12798 00001C2C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12799                            4354     
12800                            4355     
12801                            4356     
12802                            4357     
12803                            4358     
12804                            4359     
12805                                     ***** BEGIN-POOL *****
12806 00001C2E 0080                       DATA FOR SOURCE-LINE 4335
12807 00001C30 00000000                   DATA FOR SOURCE-LINE 4321
12808 00001C34 00000000                   DATA FOR SOURCE-LINE 4322
12809 00001C38 00000000                   DATA FOR SOURCE-LINE 4323
12810 00001C3C 00000000                   DATA FOR SOURCE-LINE 4330
12811 00001C40 00000000                   DATA FOR SOURCE-LINE 4333
12812                                     ***** END-POOL *****
12813 00001C44                   4360     _DEBUG_BRK_POINT1
12814                            4361             SUB_START
12815 00001C44 4F22                   M           STS.L   PR,@-R15                ;[必要]
12816                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12817                            4362     ;       -------debug break-point set----------
12818                            4363             PUSH_REG1 R0
12819 00001C46 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
12820                                 M                                           ;REG=>[SP]
12821                                 M                                           ;"-4" FF,FF,FF,FC
12822                            4364             PUSH_REG1 R1
12823 00001C48 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
12824                                 M                                           ;REG=>[SP]
12825                                 M                                           ;"-4" FF,FF,FF,FC
12826 00001C4A D107              4365             MOV.L   #_di2_cb_ctl2,R1        ;
12827 00001C4C 6011              4366             MOV.W   @R1,R0                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   123
PROGRAM NAME =

12828 00001C4E C880              4367             TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
12829                            4368             TST_BIT_OF DEBUG_BRK_PNT1_100
12830 00001C50 8904                   M           BT      DEBUG_BRK_PNT1_100
12831                            4369     
12832 00001C52 0009              4370             NOP
12833 00001C54 0009              4371             NOP
12834 00001C56 0009              4372             NOP
12835 00001C58 0009              4373             NOP
12836 00001C5A 0009              4374             NOP
12837                            4375     
12838                            4376     
12839 00001C5C                   4377     DEBUG_BRK_PNT1_100
12840                            4378     
12841                            4379     
12842                            4380             POP_REG1 R1
12843                                 M                                   ; RE"+4" 00,00,00,04
12844 00001C5C 61F6                   M           MOV.L   @R15+,R1        ;
12845                            4381             POP_REG1 R0
12846                                 M                                   ; RE"+4" 00,00,00,04
12847 00001C5E 60F6                   M           MOV.L   @R15+,R0        ;
12848                            4382             SUB_END
12849                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12850 00001C60 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12851                            4383             M_RTS
12852 00001C62 000B                   M           RTS                             ;RTSの後ろの
12853 00001C64 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12854                            4384     
12855                                     ***** BEGIN-POOL *****
12856 00001C66 0000                       ALIGNMENT CODE
12857 00001C68 00000000                   DATA FOR SOURCE-LINE 4365
12858                                     ***** END-POOL *****
12859 00001C6C                   4385     _DEBUG_BRK_POINT2
12860                            4386             SUB_START
12861 00001C6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
12862                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12863                            4387     ;       -------debug break-point set----------
12864                            4388             PUSH_REG1 R0
12865 00001C6E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
12866                                 M                                           ;REG=>[SP]
12867                                 M                                           ;"-4" FF,FF,FF,FC
12868                            4389             PUSH_REG1 R1
12869 00001C70 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
12870                                 M                                           ;REG=>[SP]
12871                                 M                                           ;"-4" FF,FF,FF,FC
12872 00001C72 D107              4390             MOV.L   #_di2_cb_ctl2,R1        ;
12873 00001C74 6011              4391             MOV.W   @R1,R0                  ;
12874 00001C76 C880              4392             TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
12875                            4393             TST_BIT_OF DEBUG_BRK_PNT2_100
12876 00001C78 8904                   M           BT      DEBUG_BRK_PNT2_100
12877                            4394     
12878 00001C7A 0009              4395             NOP
12879 00001C7C 0009              4396             NOP
12880 00001C7E 0009              4397             NOP
12881 00001C80 0009              4398             NOP
12882 00001C82 0009              4399             NOP
12883                            4400     
12884                            4401     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   124
PROGRAM NAME =

12885 00001C84                   4402     DEBUG_BRK_PNT2_100
12886                            4403     
12887                            4404     
12888                            4405             POP_REG1 R1
12889                                 M                                   ; RE"+4" 00,00,00,04
12890 00001C84 61F6                   M           MOV.L   @R15+,R1        ;
12891                            4406             POP_REG1 R0
12892                                 M                                   ; RE"+4" 00,00,00,04
12893 00001C86 60F6                   M           MOV.L   @R15+,R0        ;
12894                            4407             SUB_END
12895                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12896 00001C88 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12897                            4408             M_RTS
12898 00001C8A 000B                   M           RTS                             ;RTSの後ろの
12899 00001C8C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12900                            4409     
12901                                     ***** BEGIN-POOL *****
12902 00001C8E 0000                       ALIGNMENT CODE
12903 00001C90 00000000                   DATA FOR SOURCE-LINE 4390
12904                                     ***** END-POOL *****
12905 00001C94                   4410     _DEBUG_BRK_POINT3
12906                            4411             SUB_START
12907 00001C94 4F22                   M           STS.L   PR,@-R15                ;[必要]
12908                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12909                            4412     ;       -------debug break-point set----------
12910                            4413             PUSH_REG1 R0
12911 00001C96 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
12912                                 M                                           ;REG=>[SP]
12913                                 M                                           ;"-4" FF,FF,FF,FC
12914                            4414             PUSH_REG1 R1
12915 00001C98 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
12916                                 M                                           ;REG=>[SP]
12917                                 M                                           ;"-4" FF,FF,FF,FC
12918 00001C9A D107              4415             MOV.L   #_di2_cb_ctl2,R1        ;
12919 00001C9C 6011              4416             MOV.W   @R1,R0                  ;
12920 00001C9E C880              4417             TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
12921                            4418             TST_BIT_OF DEBUG_BRK_PNT3_100
12922 00001CA0 8904                   M           BT      DEBUG_BRK_PNT3_100
12923                            4419     
12924 00001CA2 0009              4420             NOP
12925 00001CA4 0009              4421             NOP
12926 00001CA6 0009              4422             NOP
12927 00001CA8 0009              4423             NOP
12928 00001CAA 0009              4424             NOP
12929                            4425     
12930                            4426     
12931 00001CAC                   4427     DEBUG_BRK_PNT3_100
12932                            4428     
12933                            4429     
12934                            4430             POP_REG1 R1
12935                                 M                                   ; RE"+4" 00,00,00,04
12936 00001CAC 61F6                   M           MOV.L   @R15+,R1        ;
12937                            4431             POP_REG1 R0
12938                                 M                                   ; RE"+4" 00,00,00,04
12939 00001CAE 60F6                   M           MOV.L   @R15+,R0        ;
12940                            4432             SUB_END
12941                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   125
PROGRAM NAME =

12942 00001CB0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12943                            4433             M_RTS
12944 00001CB2 000B                   M           RTS                             ;RTSの後ろの
12945 00001CB4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
12946                            4434     
12947                            4435     
12948                            4436     ;       *******************************************************************
12949                            4437     ;       ***                                                             ***
12950                            4438     ;       ***     反転時のフルクローズ後の工程（戻り）は目標位置ではだめ  ***
12951                            4439     ;       ***                                                             ***
12952                            4440     ;       *******************************************************************
12953                            4441     ;       2011-02-18 (2010-10-05 はMCのよるソフト)
12954                            4442     ;
12955                                     ***** BEGIN-POOL *****
12956 00001CB6 0000                       ALIGNMENT CODE
12957 00001CB8 00000000                   DATA FOR SOURCE-LINE 4415
12958                                     ***** END-POOL *****
12959 00001CBC                   4443             .ALIGN  4                               ;
12960 00001CBC                   4444     _POS_1STEP_DATA_MAK_SEL:
12961                            4445             SUB_START
12962 00001CBC 4F22                   M           STS.L   PR,@-R15                ;[必要]
12963                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
12964                            4446     
12965 00001CBE D104              4447             MOV.L   #_CPOS_CTL_MATH,R1                      ;
12966 00001CC0 6011              4448             MOV.W   @R1,R0                                  ;
12967 00001CC2 C805              4449             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
12968                            4450             TST_BIT_ON POS_1STEP_DATA_MKSL100               ;YES
12969 00001CC4 8B08                   M           BF      POS_1STEP_DATA_MKSL100
12970                            4451     
12971                            4452     ;;;     FAR_JSR #_POS_1STEP_DATA_MAK1,R0                ;目標位置に対して少しパルスを減ら
                                          す 2011-02-19
12972                            4453             FAR_JSR #_POS_1STEP_DATA_MAK1CL,R0              ;目標位置に対して少しパルスを減ら
                                          す 2011-02-19
12973 00001CC6 D003                   M           MOV.L   #_POS_1STEP_DATA_MAK1CL,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12974 00001CC8 400B                   M           JSR     @R0                     ;
12975 00001CCA 0009                   M           NOP                                     ;
12976                            4454             M_BRA   POS_1STEP_DATA_MKSL200                  ;
12977 00001CCC A007                   M           BRA     POS_1STEP_DATA_MKSL200
12978 00001CCE 0009                   M           NOP
12979                            4455     
12980                            4456     
12981                                     ***** BEGIN-POOL *****
12982 00001CD0 00000000                   DATA FOR SOURCE-LINE 4447
12983 00001CD4 00000000                   DATA FOR SOURCE-LINE 4453
12984                                     ***** END-POOL *****
12985 00001CD8                   4457     POS_1STEP_DATA_MKSL100:
12986                            4458             FAR_JSR #_POS_1STEP_DATA_MAK2,R0                ;目標位置タイプ　2010-10-05
12987 00001CD8 D002                   M           MOV.L   #_POS_1STEP_DATA_MAK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
12988 00001CDA 400B                   M           JSR     @R0                     ;
12989 00001CDC 0009                   M           NOP                                     ;
12990 00001CDE                   4459     POS_1STEP_DATA_MKSL200:
12991                            4460                                                             ;基本的には一致した状態(本当は最終
                                          工程だけ)
12992                            4461     ;;;;2010-10-05  FAR_JSR #_POS_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED<ｲﾝｸﾘﾒﾝﾀﾙﾊﾟﾙｽか
                                          ら求める>
12993                            4462     ;;;;2011-02-18  FAR_JSR #_POS_1STEP_DATA_MAK2,R0        ;目標位置タイプ　2010-10-05
12994                            4463     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   126
PROGRAM NAME =

12995                            4464     
12996                            4465             SUB_END
12997                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
12998 00001CDE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
12999                            4466             M_RTS
13000 00001CE0 000B                   M           RTS                             ;RTSの後ろの
13001 00001CE2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13002                            4467     
13003                            4468     
13004                            4469     
13005                            4470     
13006                            4471     
13007                            4472     ;       *******************************************
13008                            4473     ;       ***                                     ***
13009                            4474     ;       ***                                     ***
13010                            4475     ;       ***                                     ***
13011                            4476     ;       ***     JUMP処理短縮のｻﾌﾞﾙｰﾁﾝ化         ***
13012                            4477     ;       ***     2009-10-07                      ***
13013                            4478     ;       ***                                     ***
13014                            4479     ;       ***                                     ***
13015                            4480     ;       *******************************************
13016                                     ***** BEGIN-POOL *****
13017 00001CE4 00000000                   DATA FOR SOURCE-LINE 4458
13018                                     ***** END-POOL *****
13019 00001CE8                   4481     _CNT_NEAR_TIM_CHK:
13020                            4482             SUB_START
13021 00001CE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
13022                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13023                            4483             SUB_END
13024                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13025 00001CEA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13026                            4484             M_RTS
13027 00001CEC 000B                   M           RTS                             ;RTSの後ろの
13028 00001CEE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13029                            4485     
13030 00001CF0                   4486     _POS_ALLSTEP_STOP_SPD_CHK:
13031                            4487             SUB_START
13032 00001CF0 4F22                   M           STS.L   PR,@-R15                ;[必要]
13033                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13034                            4488             SUB_END
13035                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13036 00001CF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13037                            4489             M_RTS
13038 00001CF4 000B                   M           RTS                             ;RTSの後ろの
13039 00001CF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13040                            4490     
13041 00001CF8                   4491     _NEAR_ZERO_IN_CHK:
13042                            4492             SUB_START
13043 00001CF8 4F22                   M           STS.L   PR,@-R15                ;[必要]
13044                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13045                            4493             SUB_END
13046                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13047 00001CFA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13048                            4494             M_RTS
13049 00001CFC 000B                   M           RTS                             ;RTSの後ろの
13050 00001CFE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13051                            4495     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   127
PROGRAM NAME =

13052 00001D00                   4496     _PLSOUT_STEP_END_TIMSET
13053                            4497             SUB_START
13054 00001D00 4F22                   M           STS.L   PR,@-R15                ;[必要]
13055                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13056                            4498             SUB_END
13057                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13058 00001D02 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13059                            4499             M_RTS
13060 00001D04 000B                   M           RTS                             ;RTSの後ろの
13061 00001D06 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13062                            4500     
13063 00001D08                   4501     _WAIT_TIM_CNT:
13064                            4502             SUB_START
13065 00001D08 4F22                   M           STS.L   PR,@-R15                ;[必要]
13066                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13067                            4503             SUB_END
13068                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13069 00001D0A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13070                            4504             M_RTS
13071 00001D0C 000B                   M           RTS                             ;RTSの後ろの
13072 00001D0E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13073                            4505     
13074                            4506     
13075                            4507     ;       ***********************************
13076                            4508     ;       ***                             ***
13077                            4509     ;       ***     次のｻｲｸﾙ演算            ***
13078                            4510     ;       ***                             ***
13079                            4511     ;       ***********************************
13080                            4512     
13081                            4513     ;       ***************************
13082                            4514     ;       ***     Input R2 回転   ***
13083                            4515     ;       ***************************
13084                            4516     ;       ==かならず正転方向から運転を始める
13085                            4517     ;       ==(今の目標位置＝現在位置）は待機点と正転方向の第一目標位置の間にあるか？(正転動作
                                          から始める)０を
13086                            4518     ;       (1)待機点が第一目標位置より小さい場合（普通の設定 目標位置は１回転足されていない）
                                          ０をはさまない
13087                            4519     ;          @待機点と目標位置の範囲内なら足さない
13088                            4520     ;          A　@以外で１８０度(上昇ホールドだけど)〜０度（３６００）の範囲なら＋１する
13089                            4521     ;          Bそれ以外は戻すからそのまま
13090                            4522     ;       (2)待機点が第一目標位置より大きい場合（普通の設定 目標位置は１回転足されている）：
                                          ０をはさむ
13091                            4523     ;          @待機点〜０の間はそのまま
13092                            4524     ;          A０を含む ０〜第一目標位置の間は−１する
13093                            4525     ;          Bそのままにしておく
13094                            4526     
13095                            4527     ;       パルスで考える
13096                            4528     ;
13097                            4529     ;       0ﾊﾟﾙｽから待機点ﾊﾟﾙｽ間はそのまま
13098                            4530     ;       待機ﾊﾟﾙｽ~SV間
13099                            4531     ;
13100                            4532     ;       第一目標位置が360度を越えない場合(またがない場合)
13101                            4533     ;       第一目標位置が360度を越える場合(またぐ場合)
13102                            4534     ;
13103                            4535     ;
13104                            4536     ;       0_______ORG_____SV________359.9
13105                            4537     ;         PV1       PV2     PV3
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   128
PROGRAM NAME =

13106                            4538     ;         *PV1:そのままの回転 PV2:そのまま　PV3 回転+1
13107                            4539     ;
13108                            4540     ;       0_______ORG_______________360.0_______SV______719.9
13109                            4541     ;          PV2          PV1              PV3-2   PV3-1
13110                            4542     ;          PV+360.0
13111                            4543     ;         PV1:そのまま (PV2はない)
13112                            4544     ;         PV3-1:そのまま
13113                            4545     ;         PV3-2: "-1"
13114                            4546     ;       "Input R2"
13115 00001D10                   4547             .ALIGN  4                               ;
13116 00001D10                   4548     _NEXT_CYCL_START2:                              ;[正方向から開始する運転の１回目の起動]
13117                            4549             SUB_START                               ;
13118 00001D10 4F22                   M           STS.L   PR,@-R15                ;[必要]
13119                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13120                            4550     
13121                            4551             FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
13122 00001D12 D011                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13123 00001D14 400B                   M           JSR     @R0                     ;
13124 00001D16 0009                   M           NOP                                     ;
13125 00001D18 D410              4552             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
13126 00001D1A 6242              4553             MOV.L   @R4,R2                                  ;
13127                            4554     
13128 00001D1C D410              4555             MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;"(目標)"
13129 00001D1E 6942              4556             MOV.L   @R4,R9                                  ;
13130 00001D20 D110              4557             MOV.L   #_CPOS_UPAREA_PLS,R1                    ;//4;待機点
13131 00001D22 6812              4558             MOV.L   @R1,R8                                  ;
13132 00001D24 D110              4559             MOV.L   #_LINK_1ROT_PLS,R1                      ;待機点より小さかったら+１回転
13133 00001D26 6712              4560             MOV.L   @R1,R7                                  ;反転時もこの論理でＯＫ
13134                            4561     
13135                            4562     ;;;;2014-09-19 振子の逆待機点からの開始
13136                            4563     ;;;;2014-09-19  MOV.L   #_SETX_POS_SDAT1_OFSPOS,R10             ;
13137 00001D28 DA10              4564             MOV.L   #_CPOS_SDAT1_OFSPOS,R10         ;
13138 00001D2A 63A2              4565             MOV.L   @R10,R3                                 ;1ｽﾃｯﾌﾟ目
13139                            4566     
13140                            4567     
13141                            4568     ;       ------INC_RESET_USE_F;//STEPを参照して　2014-09-26----------
13142                            4569     ;;;;2018-11-13
13143                            4570     ;;;;2018-11-13  MOV.L   #_INC_RESET_USE_F,R1            ;
13144                            4571     ;;;;2018-11-13  MOV.W   @R1,R0                                          ;
13145                            4572     ;;;;2018-11-13  TST     R0,R0                                                   ;
13146                            4573     ;;;;2018-11-13  TST_BIT_ON POS_START_ROT_CAL_900        ;
13147                            4574     ;;;;2018-11-13
13148                            4575     ;       ------------ 2018-11-13--------
13149 00001D2C D110              4576             MOV.L   #_INC_RESET_USE_F,R1                            ;ﾛｯﾄ数を算出するｿﾌﾄ
13150 00001D2E 6011              4577             MOV.W   @R1,R0                                                          ;
13151 00001D30 2008              4578             TST     R0,R0                                                                   ;
13152                            4579             TST_BIT_OF POS_START_ROT_CAL_050                        ;
13153 00001D32 8927                   M           BT      POS_START_ROT_CAL_050
13154                            4580     
13155 00001D34 D10F              4581             MOV.L   #_CPOS_CTL_MATH,R1                                      ;
13156 00001D36 6011              4582             MOV.W   @R1,R0                                                          ;
13157 00001D38 C801              4583             TST     #(_DMATH_CNTROT),R0                                             ;
13158                            4584             TST_BIT_OF POS_START_ROT_CAL_040                        ;回転ではない 今のﾛｯﾄはそ
                                          のまま
13159 00001D3A 8921                   M           BT      POS_START_ROT_CAL_040
13160                            4585     
13161 00001D3C 2888              4586             TST             R8,R8                                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   129
PROGRAM NAME =

13162                            4587             TST_BIT_OF POS_START_ROT_CAL_040                        ;待機点が0なら関係ない
13163 00001D3E 891F                   M           BT      POS_START_ROT_CAL_040
13164                            4588     
13165 00001D40 D10D              4589             MOV.L   #_PAR_WTSEL_USE,R1                                      ;
13166 00001D42 6011              4590             MOV.W   @R1,R0                                                          ;
13167 00001D44 8801              4591             CMP/EQ  #1,R0                                                           ;
13168 00001D46 8B1B              4592             BF              POS_START_ROT_CAL_040                           ;待機点選択無効
13169                            4593     
13170 00001D48 D10C              4594             MOV.L   #_INC_RESET_STEP,R1                                     ;
13171 00001D4A 6011              4595             MOV.W   @R1,R0                                                          ;
13172 00001D4C 70FF              4596             ADD             #-1,R0                                                          ;
13173 00001D4E 4008              4597             SHLL2   R0                                                                      ;4
                                          BYTE
13174 00001D50 30AC              4598             ADD             R10,R0                                                          ;
13175 00001D52 6302              4599             MOV.L   @R0,R3                                                          ;R4 目標
13176                            4600             M_BRA   POS_START_ROT_CAL_100                           ;この目標位置で計算
13177 00001D54 A026                   M           BRA     POS_START_ROT_CAL_100
13178 00001D56 0009                   M           NOP
13179                            4601     
13180                            4602     
13181                                     ***** BEGIN-POOL *****
13182 00001D58 00000000                   DATA FOR SOURCE-LINE 4551
13183 00001D5C 00000000                   DATA FOR SOURCE-LINE 4552
13184 00001D60 00000000                   DATA FOR SOURCE-LINE 4555
13185 00001D64 00000000                   DATA FOR SOURCE-LINE 4557
13186 00001D68 00000000                   DATA FOR SOURCE-LINE 4559
13187 00001D6C 00000000                   DATA FOR SOURCE-LINE 4564
13188 00001D70 00000000                   DATA FOR SOURCE-LINE 4576
13189 00001D74 00000000                   DATA FOR SOURCE-LINE 4581
13190 00001D78 00000000                   DATA FOR SOURCE-LINE 4589
13191 00001D7C 00000000                   DATA FOR SOURCE-LINE 4594
13192                                     ***** END-POOL *****
13193 00001D80                   4603     POS_START_ROT_CAL_040:
13194                            4604             M_BRA   POS_START_ROT_CAL_900                   ;
13195 00001D80 A01E                   M           BRA     POS_START_ROT_CAL_900
13196 00001D82 0009                   M           NOP
13197                            4605     
13198                            4606     
13199                            4607     
13200 00001D84                   4608     POS_START_ROT_CAL_050:
13201                            4609     
13202                            4610     
13203                            4611     
13204                            4612     
13205                            4613     
13206                            4614     
13207                            4615     
13208                            4616     
13209                            4617     
13210                            4618     ;       ----- 2014-09-19　ふりこ反対側待機点からの初起動-----------
13211 00001D84 D105              4619             MOV.L   #_CPOS_CTL_MATH,R1                      ;
13212 00001D86 6011              4620             MOV.W   @R1,R0                                  ;
13213 00001D88 C804              4621             TST     #(_DMATH_DNDRIV),R0                     ;往復
13214                            4622             TST_BIT_OF POS_START_ROT_CAL_100                ;
13215 00001D8A 890B                   M           BT      POS_START_ROT_CAL_100
13216                            4623     
13217 00001D8C D104              4624             MOV.L   #_DNM_DIR_NOW_FLG,R1                    ;//このフラグでいいのかな？
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   130
PROGRAM NAME =

13218 00001D8E 6011              4625             MOV.W   @R1,R0                                  ;
13219 00001D90 2008              4626             TST     R0,R0                                   ;
13220                            4627             TST_BIT_OF POS_START_ROT_CAL_100                ;ふりこの通常側からの起動
13221 00001D92 8907                   M           BT      POS_START_ROT_CAL_100
13222                            4628     
13223                            4629     ;-------いいのかな?
13224 00001D94 3833              4630             CMP/GE  R3,R8                                   ;目標=<待機点
13225 00001D96 8913              4631             BT      POS_START_ROT_CAL_900                   ;逆転から始まる
13226                            4632             M_BRA   POS_START_ROT_CAL_999                   ;-1回転
13227 00001D98 A020                   M           BRA     POS_START_ROT_CAL_999
13228 00001D9A 0009                   M           NOP
13229                            4633     
13230                            4634     
13231                            4635     
13232                            4636     ;---------------- 今までの回転、反転、ふりこ右側待機・・正転から始まる-----------
13233                                     ***** BEGIN-POOL *****
13234 00001D9C 00000000                   DATA FOR SOURCE-LINE 4619
13235 00001DA0 00000000                   DATA FOR SOURCE-LINE 4624
13236                                     ***** END-POOL *****
13237 00001DA4                   4637     POS_START_ROT_CAL_100:
13238 00001DA4 3373              4638             CMP/GE  R7,R3                                   ;1REV =< SV
13239 00001DA6 8903              4639             BT      POS_START_ROT_CAL_200                   ;
13240                            4640     ;       ======= 0度をはさまない ====
13241 00001DA8 3937              4641             CMP/GT  R3,R9                                   ;
13242 00001DAA 890F              4642             BT      POS_START_ROT_CAL_950                   ;待機(R8)<SV(R3)<NOW
13243                            4643             M_BRA   POS_START_ROT_CAL_900                   ;
13244 00001DAC A008                   M           BRA     POS_START_ROT_CAL_900
13245 00001DAE 0009                   M           NOP
13246                            4644     
13247                            4645     ;       ====== ０度を挟む===
13248 00001DB0                   4646     POS_START_ROT_CAL_200:
13249 00001DB0 3897              4647             CMP/GT  R9,R8                                   ;待機点以下?
13250 00001DB2 8B05              4648             BF      POS_START_ROT_CAL_900                   ;NO! 待機点~360度
13251 00001DB4 6593              4649             MOV     R9,R5
13252 00001DB6 357C              4650             ADD     R7,R5                                   ;1REV+NOW
13253 00001DB8 3537              4651             CMP/GT  R3,R5                                   ;SV < NOW
13254 00001DBA 8901              4652             BT      POS_START_ROT_CAL_900                   ;YES
13255                            4653             M_BRA   POS_START_ROT_CAL_999                   ;
13256 00001DBC A00E                   M           BRA     POS_START_ROT_CAL_999
13257 00001DBE 0009                   M           NOP
13258                            4654     
13259                            4655     
13260                            4656     
13261                            4657     ;       ===== そのまま =====
13262 00001DC0                   4658     POS_START_ROT_CAL_900
13263 00001DC0 D401              4659             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
13264 00001DC2 6242              4660             MOV.L   @R4,R2                                  ;
13265                            4661             M_BRA   NEXT_CYCL_STR1_050                      ;
13266 00001DC4 A018                   M           BRA     NEXT_CYCL_STR1_050
13267 00001DC6 0009                   M           NOP
13268                            4662     
13269                            4663     ;       ===== +1 =====
13270                                     ***** BEGIN-POOL *****
13271 00001DC8 00000000                   DATA FOR SOURCE-LINE 4659
13272                                     ***** END-POOL *****
13273 00001DCC                   4664     POS_START_ROT_CAL_950
13274 00001DCC D402              4665             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   131
PROGRAM NAME =

13275 00001DCE 6242              4666             MOV.L   @R4,R2                                  ;
13276 00001DD0 7201              4667             ADD     #1,R2                                   ;
13277                            4668             M_BRA   NEXT_CYCL_STR1_050                      ;
13278 00001DD2 A011                   M           BRA     NEXT_CYCL_STR1_050
13279 00001DD4 0009                   M           NOP
13280                            4669     
13281                            4670     ;       ===== -1 =====
13282                                     ***** BEGIN-POOL *****
13283 00001DD6 0000                       ALIGNMENT CODE
13284 00001DD8 00000000                   DATA FOR SOURCE-LINE 4665
13285                                     ***** END-POOL *****
13286 00001DDC                   4671     POS_START_ROT_CAL_999
13287 00001DDC D402              4672             MOV.L   #_LINK_NOWROT_NUM_ZR,R4                 ;//回転数
13288 00001DDE 6242              4673             MOV.L   @R4,R2                                  ;
13289 00001DE0 72FF              4674             ADD     #-1,R2                                  ;
13290                            4675             M_BRA   NEXT_CYCL_STR1_050                      ;
13291 00001DE2 A009                   M           BRA     NEXT_CYCL_STR1_050
13292 00001DE4 0009                   M           NOP
13293                            4676     
13294                                     ***** BEGIN-POOL *****
13295 00001DE6 0000                       ALIGNMENT CODE
13296 00001DE8 00000000                   DATA FOR SOURCE-LINE 4672
13297                                     ***** END-POOL *****
13298 00001DEC                   4677             .ALIGN  4                               ;
13299 00001DEC                   4678     _NEXT_CYCL_START1:
13300                            4679             SUB_START
13301 00001DEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
13302                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13303 00001DEE D111              4680             MOV.L   #_CPOS_CTL_MATH,R1              ;
13304 00001DF0 6011              4681             MOV.W   @R1,R0                          ;
13305 00001DF2 C801              4682             TST     #_DMATH_CNTROT,R0               ;回転?
13306                            4683             TST_BIT_OF NEXT_CYCL_STR1_050
13307 00001DF4 8900                   M           BT      NEXT_CYCL_STR1_050
13308 00001DF6 7201              4684             ADD     #1,R2                           ;回転数+1<反転>
13309 00001DF8                   4685     NEXT_CYCL_STR1_050:
13310                            4686     
13311                            4687     ;       === 2004-12-20====
13312 00001DF8 D40F              4688             MOV.L   #_BANK1_CALC_ROT_NUM_ZR,R4
13313 00001DFA 2422              4689             MOV.L   R2,@R4
13314                            4690     
13315 00001DFC 9418              4691             MOV.W   #1,R4
13316 00001DFE D10F              4692             MOV.L   #_SV_POS_CTL_STEP,R1            ;
13317 00001E00 2141              4693             MOV.W   R4,@R1                          ;(+1だけでいいのか/つくり直す必要があるの
                                          か)
13318                            4694             PUSH_REG1 R2
13319 00001E02 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
13320                                 M                                           ;REG=>[SP]
13321                                 M                                           ;"-4" FF,FF,FF,FC
13322                            4695             FAR_JSR #_CPOS_ROT_NUM_SET,R1           ;Input R2 回転
13323 00001E04 D10E                   M           MOV.L   #_CPOS_ROT_NUM_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13324 00001E06 410B                   M           JSR     @R1                     ;
13325 00001E08 0009                   M           NOP                                     ;
13326                            4696             POP_REG1 R2
13327                                 M                                   ; RE"+4" 00,00,00,04
13328 00001E0A 62F6                   M           MOV.L   @R15+,R2        ;
13329                            4697             FAR_JSR #_CPOS_ABS_POS_SET,R1           ;Input R2 回転
13330 00001E0C D10D                   M           MOV.L   #_CPOS_ABS_POS_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   132
PROGRAM NAME =

13331 00001E0E 410B                   M           JSR     @R1                     ;
13332 00001E10 0009                   M           NOP                                     ;
13333                            4698     
13334                            4699     ;       =====2003-07-09 速度============
13335                            4700             FAR_JSR #_CPOS_SPD_DTMOV,R0             ;
13336 00001E12 D00D                   M           MOV.L   #_CPOS_SPD_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13337 00001E14 400B                   M           JSR     @R0                     ;
13338 00001E16 0009                   M           NOP                                     ;
13339                            4701     ;       ===== 2003-07-14 TIME ======
13340                            4702             FAR_JSR #_CPOS_TIM_DTMOV,R0             ;
13341 00001E18 D00C                   M           MOV.L   #_CPOS_TIM_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13342 00001E1A 400B                   M           JSR     @R0                     ;
13343 00001E1C 0009                   M           NOP                                     ;
13344                            4703     
13345                            4704     
13346                            4705     ;       --------2012-05-15 反転、全モードのタイマ時はタイマ処理から再開をクリア[3/]　次ｻｲｸ
                                          ﾙ開始----
13347                            4706     ;       基本的にはなくてすむはずかな?
13348                            4707             MEM_0CLR_R0_R1  MEM=_DURING_TIM_FX,LG=W         ;ﾀｲﾏ処理終了した
13349 00001E1E 200A                   M           XOR     R0,R0           ;
13350 00001E20 D10B                   M           MOV.L   #_DURING_TIM_FX,R1      ;
13351 00001E22 2101                   M           MOV.W   R0,@R1          ;
13352                            4708     
13353                            4709     
13354                            4710     ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
13355                            4711             FAR_JSR #_HLDCAM_ABS_POS_SET,R1         ;
13356 00001E24 D10B                   M           MOV.L   #_HLDCAM_ABS_POS_SET,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13357 00001E26 410B                   M           JSR     @R1                     ;
13358 00001E28 0009                   M           NOP                                     ;
13359                            4712     
13360                            4713     
13361                            4714     
13362                            4715             SUB_END
13363                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13364 00001E2A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13365                            4716             M_RTS
13366 00001E2C 000B                   M           RTS                             ;RTSの後ろの
13367 00001E2E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13368                            4717     
13369                            4718     
13370                            4719     
13371                            4720     
13372                            4721     
13373                            4722     
13374                            4723     
13375                            4724     
13376                            4725     
13377                            4726     
13378                            4727     
13379                            4728     
13380                            4729     
13381                            4730     
13382                            4731     
13383                            4732     
13384                            4733     
13385                            4734     
13386                            4735     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   133
PROGRAM NAME =

13387                            4736     ;       ***********************************************************
13388                            4737     ;       ***                                                     ***
13389                            4738     ;       ***     連続速度中の速度と連続内のｽﾃｯﾌﾟ切り替え         ***
13390                            4739     ;       ***                                                     ***
13391                            4740     ;       ***********************************************************
13392                            4741     ;       連続だ。自分の切り替え位置を超えたら＋１する。もし、ＭＡＸステップを超えたら１にす
                                          る
13393                            4742     ;
13394                            4743     ;
13395                                     ***** BEGIN-POOL *****
13396 00001E30 0001                       DATA FOR SOURCE-LINE 4691
13397 00001E32 0000                       ALIGNMENT CODE
13398 00001E34 00000000                   DATA FOR SOURCE-LINE 4680
13399 00001E38 00000000                   DATA FOR SOURCE-LINE 4688
13400 00001E3C 00000000                   DATA FOR SOURCE-LINE 4692
13401 00001E40 00000000                   DATA FOR SOURCE-LINE 4695
13402 00001E44 00000000                   DATA FOR SOURCE-LINE 4697
13403 00001E48 00000000                   DATA FOR SOURCE-LINE 4700
13404 00001E4C 00000000                   DATA FOR SOURCE-LINE 4702
13405 00001E50 00000000                   DATA FOR SOURCE-LINE 4707
13406 00001E54 00000000                   DATA FOR SOURCE-LINE 4711
13407                                     ***** END-POOL *****
13408 00001E58                   4744             .ALIGN  4                               ;
13409 00001E58                   4745     _SPD_STEP_CHG_FWD:
13410                            4746             SUB_START
13411 00001E58 4F22                   M           STS.L   PR,@-R15                ;[必要]
13412                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13413 00001E5A DB12              4747             MOV.L   #_INT_POS_CTL_STEP,R11                                  ;//内部制御工程1~1
                                          1
13414 00001E5C 69B1              4748             MOV.W   @R11,R9                                                 ;ﾀｲﾏLOAD
13415 00001E5E 6793              4749             MOV     R9,R7                                                   ;
13416 00001E60 77FF              4750             ADD     #-1,R7                                                  ;
13417 00001E62 4708              4751             SHLL2   R7                                                      ;
13418 00001E64 6273              4752             MOV     R7,R2
13419 00001E66 4200              4753             SHLL    R2
13420 00001E68 D00F              4754             MOV.L   #_CPOS_SDAT1_CHGAPOS,R0                                 ;
13421 00001E6A 302C              4755             ADD     R2,R0
13422 00001E6C 6106              4756             MOV.L   @R0+,R1                                                 ;位置
13423 00001E6E 6202              4757             MOV.L   @R0,R2                                                  ;
13424                            4758     
13425 00001E70 D40E              4759             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
13426 00001E72 6546              4760             MOV.L   @R4+,R5                                                 ;
13427 00001E74 6642              4761             MOV.L   @R4,R6                                                  ;R5,R6 実測位置-->
                                          目標位置
13428                            4762     
13429 00001E76 D00E              4763             MOV.L   #_CPOS_SDAT1_INF1,R0            ;[12];          //SETX-->起動時COPY
13430 00001E78 007E              4764             MOV.L   @(R0,R7),R0                     ;BIT0=1連続
13431 00001E7A C801              4765             TST     #BIT0,R0                        ;
13432                            4766             TST_BIT_OF SPD_STEP_CHGFWD_EXT          ;連続? NO EXIT
13433 00001E7C 894E                   M           BT      SPD_STEP_CHGFWD_EXT
13434 00001E7E C802              4767             TST     #BIT1,R0                        ;
13435                            4768             TST_BIT_ON SPD_STEP_CHGFWD_100          ;逆転方向 THEN JUMP
13436 00001E80 8B1E                   M           BF      SPD_STEP_CHGFWD_100
13437                            4769     ;       ===== 正転方向 =======
13438                            4770             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;(ｲｺｰﾙでは切り替え
                                          ない)
13439 00001E82 0008                   M           CLRT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   134
PROGRAM NAME =

13440 00001E84 326A                   M           SUBC    R6,R2
13441 00001E86 315A                   M           SUBC    R5,R1
13442 00001E88 4111              4771             CMP/PZ  R1                              ;
13443 00001E8A 8B1E              4772             BF      SPD_STEP_CHGFWD_200             ;"-":超えた
13444                            4773     
13445                            4774     ;       ====== 2013-04-14 反転手前処理[反転手前で止めるため、その区間に停止がある場合の処
                                          理]======
13446 00001E8C D109              4775             MOV.L   #_CPOS_CTL_MATH,R1                      ;
13447 00001E8E 6011              4776             MOV.W   @R1,R0                                  ;
13448 00001E90 C805              4777             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;回転or往復
13449                            4778             TST_BIT_ON SPD_STEP_CHGFWD_090                  ;
13450 00001E92 8B13                   M           BF      SPD_STEP_CHGFWD_090
13451                            4779     
13452                            4780             FAR_JSR #_REV_BEFORE_CHGKOUTEICHK,R0            ;反転
13453 00001E94 D008                   M           MOV.L   #_REV_BEFORE_CHGKOUTEICHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13454 00001E96 400B                   M           JSR     @R0                     ;
13455 00001E98 0009                   M           NOP                                     ;
13456 00001E9A 2008              4781             TST     R0,R0                                   ;
13457                            4782             TST_BIT_OF SPD_STEP_CHGFWD_090                  ;
13458 00001E9C 890E                   M           BT      SPD_STEP_CHGFWD_090
13459 00001E9E 6923              4783             MOV     R2,R9                                   ;行程
13460                            4784             M_BRA   SPD_STEP_CHGFWD_202                     ;2013-04-14追加
13461 00001EA0 A014                   M           BRA     SPD_STEP_CHGFWD_202
13462 00001EA2 0009                   M           NOP
13463                            4785     
13464                                     ***** BEGIN-POOL *****
13465 00001EA4 00000000                   DATA FOR SOURCE-LINE 4747
13466 00001EA8 00000000                   DATA FOR SOURCE-LINE 4754
13467 00001EAC 00000000                   DATA FOR SOURCE-LINE 4759
13468 00001EB0 00000000                   DATA FOR SOURCE-LINE 4763
13469 00001EB4 00000000                   DATA FOR SOURCE-LINE 4775
13470 00001EB8 00000000                   DATA FOR SOURCE-LINE 4780
13471                                     ***** END-POOL *****
13472 00001EBC                   4786     SPD_STEP_CHGFWD_090:
13473                            4787             M_BRA   SPD_STEP_CHGFWD_EXT             ;SV-PV >=0 EXIT (SV >= PV)
13474 00001EBC A02E                   M           BRA     SPD_STEP_CHGFWD_EXT
13475 00001EBE 0009                   M           NOP
13476                            4788     
13477                            4789     
13478 00001EC0                   4790     SPD_STEP_CHGFWD_100:
13479                            4791     ;       ===== 逆転方向 =======
13480                            4792             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6       ;(ｲｺｰﾙでは切り替え
                                          ない)
13481 00001EC0 0008                   M           CLRT
13482 00001EC2 362A                   M           SUBC    R2,R6
13483 00001EC4 351A                   M           SUBC    R1,R5
13484 00001EC6 4511              4793             CMP/PZ  R5                              ;
13485 00001EC8 8928              4794             BT      SPD_STEP_CHGFWD_EXT             ;PV-SV >=0 EXIT (PV >= SV)
13486 00001ECA                   4795     SPD_STEP_CHGFWD_200:
13487 00001ECA 7901              4796             ADD     #1,R9                           ;NEXT STEP SET
13488                            4797     
13489 00001ECC                   4798     SPD_STEP_CHGFWD_202:                            ;2013-04-14追加
13490 00001ECC D105              4799             MOV.L   #_CPOS_STEP_MAX,R1              ;//設定
13491 00001ECE 6211              4800             MOV.W   @R1,R2                          ;
13492 00001ED0 7201              4801             ADD     #1,R2                           ;
13493 00001ED2 3292              4802             CMP/HS  R9,R2                           ;STEP+1=<MAX
13494 00001ED4 890A              4803             BT      SPD_STEP_CHGFWD_250             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   135
PROGRAM NAME =

13495                            4804     
13496                            4805     ;       === 何の意味のチェックだろう？最大工程＋１＜管理ステップの意味？
13497                            4806             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSLSI_CHK_STS,LG=W,BIT=BIT3,WKREG=R3      ;
13498 00001ED6 D304                   M           MOV.L   #_POSLSI_CHK_STS,R3             ;
13499 00001ED8 6031                   M           MOV.W   @R3,R0          ;
13500 00001EDA CB08                   M           OR      #BIT3,R0                ;
13501 00001EDC 2301                   M           MOV.W   R0,@R3          ;
13502                            4807             M_BRA   SPD_STEP_CHGFWD_EXT                                             ;
13503 00001EDE A01D                   M           BRA     SPD_STEP_CHGFWD_EXT
13504 00001EE0 0009                   M           NOP
13505                            4808     
13506                                     ***** BEGIN-POOL *****
13507 00001EE2 0000                       ALIGNMENT CODE
13508 00001EE4 00000000                   DATA FOR SOURCE-LINE 4799
13509 00001EE8 00000000                   DATA FOR SOURCE-LINE 4806
13510                                     ***** END-POOL *****
13511 00001EEC                   4809     SPD_STEP_CHGFWD_250:                            ;
13512 00001EEC 2B91              4810             MOV.W   R9,@R11                         ;ﾀｲﾏLOAD
13513                            4811     ;       ==========================================
13514                            4812     ;       =================================================
13515 00001EEE D00D              4813             MOV.L   #_SV_POS_CTL_STEP,R0    ;//1msec 制御上の見かけ
13516 00001EF0 2091              4814             MOV.W   R9,@R0                  ;
13517                            4815     ;       ================================================
13518 00001EF2 79FF              4816             ADD     #-1,R9                          ;
13519 00001EF4 4908              4817             SHLL2   R9                              ;
13520 00001EF6 D00C              4818             MOV.L   #_CPOS_SDAT1_SPD,R0             ;
13521 00001EF8 029E              4819             MOV.L   @(R0,R9),R2                     ;
13522 00001EFA D10C              4820             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
13523 00001EFC 2122              4821             MOV.L   R2,@R1                          ;
13524                            4822             FAR_JSR #_POS_LSI_TOP_SPEED_SETX,R1     ;
13525 00001EFE D10C                   M           MOV.L   #_POS_LSI_TOP_SPEED_SETX,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13526 00001F00 410B                   M           JSR     @R1                     ;
13527 00001F02 0009                   M           NOP                                     ;
13528                            4823     
13529                            4824     
13530                            4825     ;       =======================================
13531 00001F04 D10B              4826             MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//ｶﾑ:連続Vで1行程目になった際の微妙なﾀｲﾐﾝ
                                          ｸﾞ測定
13532 00001F06 200A              4827             XOR     R0,R0                           ;
13533 00001F08 2101              4828             MOV.W   R0,@R1                          ;
13534                            4829     ;       =========================================
13535                            4830             FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_END,R0
13536 00001F0A D00B                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_END,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13537 00001F0C 400B                   M           JSR     @R0                     ;
13538 00001F0E 0009                   M           NOP                                     ;
13539                            4831             FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_DAT,R0
13540 00001F10 D00A                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13541 00001F12 400B                   M           JSR     @R0                     ;
13542 00001F14 0009                   M           NOP                                     ;
13543                            4832     
13544                            4833             .AIF    1 EQ    0
13545                            4834             .AELSE
13546                            4835 C           FAR_JSR #_CPUB_HENSA_FLG_CLR,R0         ;
13547 00001F16 D00A                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13548 00001F18 400B                   M           JSR     @R0                     ;
13549 00001F1A 0009                   M           NOP                                     ;
13550                            4836             .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   136
PROGRAM NAME =

13551                            4837     
13552                            4838     
13553 00001F1C                   4839     SPD_STEP_CHGFWD_EXT:
13554                            4840             SUB_END
13555                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
13556 00001F1C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
13557                            4841             M_RTS
13558 00001F1E 000B                   M           RTS                             ;RTSの後ろの
13559 00001F20 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
13560                            4842     
13561                            4843     
13562                            4844     
13563                            4845     
13564                            4846     ;       === 2004-01-26 連続寸動一工程　===
13565                            4847     ;       == _CCS_STEP_NEXT_CHK ===
13566                            4848     ;;;;;;;;;;;;;;不要ですね20060930        .INCLUDE        "ssa_ccss.inc"          ; //
13567                            4849     
13568                            4850     
13569                            4851     ;       *******************************************
13570                            4852     ;       ***                                     ***
13571                            4853     ;       ***             段取/待機点復帰         ***
13572                            4854     ;       ***                                     ***
13573                            4855     ;       *******************************************
13574                                     ***** BEGIN-POOL *****
13575 00001F22 0000                       ALIGNMENT CODE
13576 00001F24 00000000                   DATA FOR SOURCE-LINE 4813
13577 00001F28 00000000                   DATA FOR SOURCE-LINE 4818
13578 00001F2C 00000000                   DATA FOR SOURCE-LINE 4820
13579 00001F30 00000000                   DATA FOR SOURCE-LINE 4822
13580 00001F34 00000000                   DATA FOR SOURCE-LINE 4826
13581 00001F38 00000000                   DATA FOR SOURCE-LINE 4830
13582 00001F3C 00000000                   DATA FOR SOURCE-LINE 4831
13583 00001F40 00000000                   DATA FOR SOURCE-LINE 4835
13584                                     ***** END-POOL *****
13585          000001F4          4856     _EQ_STOP_START_WAIT_ORG         .EQU    D'500   ;100mec(3000sec)
13586          00000064          4857     _EQ_STOP_START_WAIT_DND         .EQU    D'100   ;
13587                            4858     ;
13588                            4859     ;       ==============
13589 00001F44                   4860             .ALIGN  4                               ;
13590 00001F44                   4861     _DND_ALL_STEP_CTRL:
13591                            4862             SUB_START
13592 00001F44 4F22                   M           STS.L   PR,@-R15                ;[必要]
13593                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
13594 00001F46 D106              4863             MOV.L   #_MODE_SEL,R1                   ;
13595 00001F48 6011              4864             MOV.W   @R1,R0                          ;
13596 00001F4A C840              4865             TST     #_W1DUP,R0              ;
13597                            4866             TST_BIT_ON DND_ALLSTEPCTL_020   ;原点復帰
13598 00001F4C 8B24                   M           BF      DND_ALLSTEPCTL_020
13599                            4867     
13600                            4868     ;       ------ 2006-07-28 -----
13601 00001F4E D105              4869             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
13602 00001F50 6011              4870             MOV.W   @R1,R0                          ;
13603 00001F52 2008              4871             TST     R0,R0                           ;
13604                            4872             TST_BIT_OF DND_ALLSTEPCTL_005           ;
13605 00001F54 890A                   M           BT      DND_ALLSTEPCTL_005
13606                            4873             FAR_JSR #_DND_TEP_STEP_CTRL,R0          ;
13607 00001F56 D004                   M           MOV.L   #_DND_TEP_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   137
PROGRAM NAME =

13608 00001F58 400B                   M           JSR     @R0                     ;
13609 00001F5A 0009                   M           NOP                                     ;
13610                            4874             M_BRA   DND_ALLSTEPCTL_900              ;
13611 00001F5C A17D                   M           BRA     DND_ALLSTEPCTL_900
13612 00001F5E 0009                   M           NOP
13613                            4875     
13614                                     ***** BEGIN-POOL *****
13615 00001F60 00000000                   DATA FOR SOURCE-LINE 4863
13616 00001F64 00000000                   DATA FOR SOURCE-LINE 4869
13617 00001F68 00000000                   DATA FOR SOURCE-LINE 4873
13618                                     ***** END-POOL *****
13619 00001F6C                   4876     DND_ALLSTEPCTL_005:
13620                            4877     
13621 00001F6C D104              4878             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
13622 00001F6E 6011              4879             MOV.W   @R1,R0                          ;
13623 00001F70 C802              4880             TST     #_DMATH_REVRSE,R0               ;DRIVE MATH 反転
13624                            4881             TST_BIT_OF DND_ALLSTEPCTL_010           ;
13625 00001F72 8909                   M           BT      DND_ALLSTEPCTL_010
13626                            4882     
13627                            4883     ;       ==== 反転段取寸動========
13628                            4884             FAR_JSR #_DND_NEG_STEP_CTRL,R0          ;
13629 00001F74 D003                   M           MOV.L   #_DND_NEG_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13630 00001F76 400B                   M           JSR     @R0                     ;
13631 00001F78 0009                   M           NOP                                     ;
13632                            4885             M_BRA   DND_ALLSTEPCTL_900
13633 00001F7A A16E                   M           BRA     DND_ALLSTEPCTL_900
13634 00001F7C 0009                   M           NOP
13635                            4886     
13636                                     ***** BEGIN-POOL *****
13637 00001F7E 0000                       ALIGNMENT CODE
13638 00001F80 00000000                   DATA FOR SOURCE-LINE 4878
13639 00001F84 00000000                   DATA FOR SOURCE-LINE 4884
13640                                     ***** END-POOL *****
13641 00001F88                   4887     DND_ALLSTEPCTL_010:
13642                            4888             FAR_JSR #_DND_ROT_STEP_CTRL,R0          ;[]
13643 00001F88 D002                   M           MOV.L   #_DND_ROT_STEP_CTRL,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13644 00001F8A 400B                   M           JSR     @R0                     ;
13645 00001F8C 0009                   M           NOP                                     ;
13646                            4889             M_BRA   DND_ALLSTEPCTL_900
13647 00001F8E A164                   M           BRA     DND_ALLSTEPCTL_900
13648 00001F90 0009                   M           NOP
13649                            4890     
13650                            4891     ;       ================================
13651                            4892     ;       ======== 待機点復帰 ============
13652                            4893     ;       ================================
13653                                     ***** BEGIN-POOL *****
13654 00001F92 0000                       ALIGNMENT CODE
13655 00001F94 00000000                   DATA FOR SOURCE-LINE 4888
13656                                     ***** END-POOL *****
13657 00001F98                   4894     DND_ALLSTEPCTL_020:
13658 00001F98 D102              4895             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ
13659 00001F9A 6011              4896             MOV.W   @R1,R0                          ;BIT
13660 00001F9C C840              4897             TST     #BIT6,R0                        ;
13661                            4898             TST_BIT_OF DND_ALLSTEPCTL_050           ;
13662 00001F9E 8903                   M           BT      DND_ALLSTEPCTL_050
13663                            4899             M_BRA   DND_ALLSTEPCTL_900              ;位置決め完了
13664 00001FA0 A15B                   M           BRA     DND_ALLSTEPCTL_900
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   138
PROGRAM NAME =

13665 00001FA2 0009                   M           NOP
13666                            4900     
13667                                     ***** BEGIN-POOL *****
13668 00001FA4 00000000                   DATA FOR SOURCE-LINE 4895
13669                                     ***** END-POOL *****
13670 00001FA8                   4901     DND_ALLSTEPCTL_050:
13671                            4902     ;       ===== 2004-05-23 =======
13672                            4903             FAR_JSR #_ORGIN_OBJ_POS_CTRL_ST2,R0     ;.BIT1
13673 00001FA8 D008                   M           MOV.L   #_ORGIN_OBJ_POS_CTRL_ST2,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13674 00001FAA 400B                   M           JSR     @R0                     ;
13675 00001FAC 0009                   M           NOP                                     ;
13676                            4904     ;       ========================
13677                            4905     
13678                            4906     
13679 00001FAE D108              4907             MOV.L   #_INT_DND_CTL_STEP,R1           ;
13680 00001FB0 6011              4908             MOV.W   @R1,R0                          ;
13681 00001FB2 C802              4909             TST     #BIT1,R0
13682                            4910             TST_BIT_ON DND_ALLSTEPCTL_060           ;第３工程中　EXIT
13683 00001FB4 8B04                   M           BF      DND_ALLSTEPCTL_060
13684 00001FB6 C801              4911             TST     #BIT0,R0                        ;
13685                            4912             TST_BIT_OF DND_ALLSTEPCTL_060           ;第２工程前
13686 00001FB8 8902                   M           BT      DND_ALLSTEPCTL_060
13687                            4913             FAR_JSR #_ORGIN_MODE_SMP,R0             ;SMPLING
13688 00001FBA D006                   M           MOV.L   #_ORGIN_MODE_SMP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13689 00001FBC 400B                   M           JSR     @R0                     ;
13690 00001FBE 0009                   M           NOP                                     ;
13691 00001FC0                   4914     DND_ALLSTEPCTL_060:                             ;
13692                            4915     
13693 00001FC0 D105              4916             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ
13694 00001FC2 6011              4917             MOV.W   @R1,R0                          ;BIT
13695 00001FC4 C803              4918             TST     #(BIT1+BIT0),R0                 ;
13696                            4919             TST_BIT_OF DND_ALLSTEPCTL_100           ;BIT0:ﾀｲﾏ制御開始
13697 00001FC6 8909                   M           BT      DND_ALLSTEPCTL_100
13698                            4920             M_BRA   DND_ALLSTEPCTL_300              ;BIT1:次の回転起動
13699 00001FC8 A024                   M           BRA     DND_ALLSTEPCTL_300
13700 00001FCA 0009                   M           NOP
13701                            4921     
13702                                     ***** BEGIN-POOL *****
13703 00001FCC 00000000                   DATA FOR SOURCE-LINE 4903
13704 00001FD0 00000000                   DATA FOR SOURCE-LINE 4907
13705 00001FD4 00000000                   DATA FOR SOURCE-LINE 4913
13706 00001FD8 00000000                   DATA FOR SOURCE-LINE 4916
13707                                     ***** END-POOL *****
13708 00001FDC                   4922     DND_ALLSTEPCTL_100:
13709                            4923             FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
13710 00001FDC D104                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13711 00001FDE 410B                   M           JSR     @R1                     ;
13712 00001FE0 0009                   M           NOP                                     ;
13713 00001FE2 C804              4924             TST     #BIT2,R0                        ;停止?
13714                            4925             TST_BIT_ON DND_ALLSTEPCTL_200           ;YES 停止中 1:停止 0:払出中
13715 00001FE4 8B08                   M           BF      DND_ALLSTEPCTL_200
13716                            4926             FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
13717 00001FE6 D003                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13718 00001FE8 400B                   M           JSR     @R0                     ;
13719 00001FEA 0009                   M           NOP                                     ;
13720                            4927             M_BRA   DND_ALLSTEPCTL_900              ;
13721 00001FEC A135                   M           BRA     DND_ALLSTEPCTL_900
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   139
PROGRAM NAME =

13722 00001FEE 0009                   M           NOP
13723                            4928     
13724                            4929     
13725                            4930     ;       ====== 停止 =====
13726                            4931             .IMPORT _PAR_START_WAIT_DND                     ;段取時切替WAIT時間
13727                                     ***** BEGIN-POOL *****
13728 00001FF0 00000000                   DATA FOR SOURCE-LINE 4923
13729 00001FF4 00000000                   DATA FOR SOURCE-LINE 4926
13730                                     ***** END-POOL *****
13731 00001FF8                   4932     DND_ALLSTEPCTL_200:
13732 00001FF8 9107              4933             MOV.W   #_EQ_STOP_START_WAIT_ORG,R1             ;段取時切替WAIT時間
13733 00001FFA D404              4934             MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
13734 00001FFC 2412              4935             MOV.L   R1,@R4                  ;
13735                            4936     
13736                            4937             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1
13737 00001FFE D104                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
13738 00002000 6011                   M           MOV.W   @R1,R0          ;
13739 00002002 CB01                   M           OR      #BIT0,R0                ;
13740 00002004 2101                   M           MOV.W   R0,@R1          ;
13741                            4938             M_BRA   DND_ALLSTEPCTL_900      ;
13742 00002006 A128                   M           BRA     DND_ALLSTEPCTL_900
13743 00002008 0009                   M           NOP
13744                            4939     
13745                                     ***** BEGIN-POOL *****
13746 0000200A 01F4                       DATA FOR SOURCE-LINE 4933
13747 0000200C 00000000                   DATA FOR SOURCE-LINE 4934
13748 00002010 00000000                   DATA FOR SOURCE-LINE 4937
13749                                     ***** END-POOL *****
13750 00002014                   4940     DND_ALLSTEPCTL_300:
13751 00002014 C802              4941             TST     #BIT1,R0                ;
13752                            4942             TST_BIT_ON DND_ALLSTEPCTL_400   ;
13753 00002016 8B13                   M           BF      DND_ALLSTEPCTL_400
13754                            4943     
13755                            4944             DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;2014-05-30
13756 00002018 D107                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
13757 0000201A 6412                   M           MOV.L   @R1,R4          ;
13758 0000201C 2448                   M           TST     R4,R4                   ;
13759 0000201E 8901                   M           BT      JMP_0100005                     ;ZERO THEN JUMP
13760 00002020 4410                   M           DT      R4                              ;
13761 00002022 2142                   M           MOV.L   R4,@R1          ;STORE
13762 00002024                        M   JMP_0100005:
13763 00002024 D404              4945             MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
13764 00002026 6142              4946             MOV.L   @R4,R1                  ;
13765 00002028 2118              4947             TST     R1,R1                   ;
13766                            4948             TST_BIT_ON DND_ALLSTEPCTL_320   ;DND_ALLSTEPCTL_900     ;
13767 0000202A 8B03                   M           BF      DND_ALLSTEPCTL_320
13768                            4949             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1 ;TIME UP
13769 0000202C D103                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
13770 0000202E 6011                   M           MOV.W   @R1,R0          ;
13771 00002030 CB02                   M           OR      #BIT1,R0                ;
13772 00002032 2101                   M           MOV.W   R0,@R1          ;
13773 00002034                   4950     DND_ALLSTEPCTL_320:
13774                            4951             M_BRA   DND_ALLSTEPCTL_900      ;
13775 00002034 A111                   M           BRA     DND_ALLSTEPCTL_900
13776 00002036 0009                   M           NOP
13777                            4952     
13778                            4953     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   140
PROGRAM NAME =

13779                            4954     ;       ======= 次の起動の演算または終了の判断=====
13780                                     ***** BEGIN-POOL *****
13781 00002038 00000000                   DATA FOR SOURCE-LINE 4944,4945
13782 0000203C 00000000                   DATA FOR SOURCE-LINE 4949
13783                                     ***** END-POOL *****
13784 00002040                   4955     DND_ALLSTEPCTL_400:
13785 00002040 D502              4956             MOV.L   #_INT_DND_CTL_STEP,R5   ;
13786 00002042 6051              4957             MOV.W   @R5,R0                  ;
13787 00002044 C802              4958             TST     #BIT1,R0                ;BIT0=1 FIRST END BIT1=1 SECOND END
13788                            4959             TST_BIT_OF DND_ALLSTEPCTL_420   ;
13789 00002046 8903                   M           BT      DND_ALLSTEPCTL_420
13790                            4960             M_BRA   DND_ALLSTEPCTL_600      ;YES 最終工程だった JUMP
13791 00002048 A0F6                   M           BRA     DND_ALLSTEPCTL_600
13792 0000204A 0009                   M           NOP
13793                                     ***** BEGIN-POOL *****
13794 0000204C 00000000                   DATA FOR SOURCE-LINE 4956
13795                                     ***** END-POOL *****
13796 00002050                   4961     DND_ALLSTEPCTL_420:
13797                            4962     
13798                            4963     
13799 00002050 C801              4964             TST     #BIT0,R0                        ;
13800                            4965             TST_BIT_OF DND_ALLSTEPCTL_425           ;
13801 00002052 8901                   M           BT      DND_ALLSTEPCTL_425
13802                            4966             M_BRA   DND_ALLSTEPCTL_500              ;
13803 00002054 A0A0                   M           BRA     DND_ALLSTEPCTL_500
13804 00002056 0009                   M           NOP
13805 00002058                   4967     DND_ALLSTEPCTL_425:
13806                            4968     
13807                            4969     ;       ===========================
13808                            4970     ;       ===     2003-07-09      ===
13809                            4971     ;       ===========================
13810                            4972     ;       BIT0=0のままでn往復動作を行う
13811 00002058 D113              4973             MOV.L   #_ORG_DRV_CNT_PV,R1             ;//0:1回 0なら最後のｽﾃｯﾌﾟにいく
13812 0000205A 6011              4974             MOV.W   @R1,R0                          ;
13813 0000205C 2008              4975             TST     R0,R0                           ;
13814                            4976             TST_BIT_OF DND_ALLSTEPCTL_450           ;(今までのｿﾌﾄを流す)
13815 0000205E 8975                   M           BT      DND_ALLSTEPCTL_450
13816                            4977     ;
13817                            4978     ;       == _ORG_RDY_CTL_FLG BIT0 を使用する ===
13818 00002060 D512              4979             MOV.L   #_ORG_RDY_CTL_FLG,R5            ;[2工程/3工程の切り替えﾌﾗｸﾞ]
13819 00002062 6051              4980             MOV.W   @R5,R0                          ;
13820 00002064 C801              4981             TST     #BIT0,R0                        ;
13821                            4982             TST_BIT_ON DND_ORGIN_STEP_050           ;
13822 00002066 8B35                   M           BF      DND_ORGIN_STEP_050
13823 00002068 CB01              4983             OR      #BIT0,R0                        ;
13824 0000206A 2501              4984             MOV.W   R0,@R5                          ;
13825                            4985     
13826                            4986     ;       ===== 第２工程開始(補正なし "+") ======
13827                            4987     ;       ======== 20060919 ======================
13828                            4988     ;       CPUBは自分の払いだした量だけ動作しない。そのため位置がづれるので、停止後はからなず
                                          必要
13829                            4989             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
13830 0000206C D010                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13831 0000206E 400B                   M           JSR     @R0                     ;
13832 00002070 0009                   M           NOP                                     ;
13833                            4990     ;       =======================================
13834                            4991             FAR_JSR #_LINK_UPPLS_A_OBJMAK2,R0       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   141
PROGRAM NAME =

13835 00002072 D010                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13836 00002074 400B                   M           JSR     @R0                     ;
13837 00002076 0009                   M           NOP                                     ;
13838                            4992             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;ANS R2
13839 00002078 D00F                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13840 0000207A 400B                   M           JSR     @R0                     ;
13841 0000207C 0009                   M           NOP                                     ;
13842                            4993             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
13843 0000207E D10F                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13844 00002080 410B                   M           JSR     @R1                     ;
13845 00002082 0009                   M           NOP                                     ;
13846                            4994     ;;;;    FAR_JSR #_DNDUPS_SPD_SET,R0             ;
13847 00002084 D50E              4995             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
13848 00002086 6152              4996             MOV.L   @R5,R1                          ;
13849 00002088 5251              4997             MOV.L   @(4,R5),R2                      ;
13850                            4998             FAR_JSR #_LENGH_ADD_CALC,R0             ;
13851 0000208A D00E                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13852 0000208C 400B                   M           JSR     @R0                     ;
13853 0000208E 0009                   M           NOP                                     ;
13854                            4999             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
13855 00002090 D00D                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13856 00002092 400B                   M           JSR     @R0                     ;
13857 00002094 0009                   M           NOP                                     ;
13858                            5000             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
13859 00002096 D00D                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13860 00002098 400B                   M           JSR     @R0                     ;
13861 0000209A 0009                   M           NOP                                     ;
13862                            5001             FAR_JSR #_FWD_REV_START,R1              ;起動
13863 0000209C D10C                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13864 0000209E 410B                   M           JSR     @R1                     ;
13865 000020A0 0009                   M           NOP                                     ;
13866                            5002             M_BRA   DND_ORGIN_STEP_100              ;
13867 000020A2 A038                   M           BRA     DND_ORGIN_STEP_100
13868 000020A4 0009                   M           NOP
13869                            5003     
13870                                     ***** BEGIN-POOL *****
13871 000020A6 0000                       ALIGNMENT CODE
13872 000020A8 00000000                   DATA FOR SOURCE-LINE 4973
13873 000020AC 00000000                   DATA FOR SOURCE-LINE 4979
13874 000020B0 00000000                   DATA FOR SOURCE-LINE 4989
13875 000020B4 00000000                   DATA FOR SOURCE-LINE 4991
13876 000020B8 00000000                   DATA FOR SOURCE-LINE 4992
13877 000020BC 00000000                   DATA FOR SOURCE-LINE 4993
13878 000020C0 00000000                   DATA FOR SOURCE-LINE 4995
13879 000020C4 00000000                   DATA FOR SOURCE-LINE 4998
13880 000020C8 00000000                   DATA FOR SOURCE-LINE 4999
13881 000020CC 00000000                   DATA FOR SOURCE-LINE 5000
13882 000020D0 00000000                   DATA FOR SOURCE-LINE 5001
13883                                     ***** END-POOL *****
13884 000020D4                   5004     DND_ORGIN_STEP_050:
13885 000020D4 C9FE              5005             AND     #LOW ~BIT0,R0                   ;
13886 000020D6 2501              5006             MOV.W   R0,@R5                          ;BIT0 CLR
13887                            5007     ;       ===== 第3工程開始(補正なし "-") ======
13888                            5008     ;       ======== 20060919 ======================
13889                            5009     ;       CPUBは自分の払いだした量だけ動作しない。そのため位置がづれるので、停止後はからなず
                                          必要
13890                            5010             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   142
PROGRAM NAME =

13891 000020D8 D011                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13892 000020DA 400B                   M           JSR     @R0                     ;
13893 000020DC 0009                   M           NOP                                     ;
13894                            5011     ;       =======================================
13895                            5012             FAR_JSR #_LINK_UPPLS_A_OBJMAK1,R0       ;
13896 000020DE D011                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13897 000020E0 400B                   M           JSR     @R0                     ;
13898 000020E2 0009                   M           NOP                                     ;
13899                            5013             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;(最後だけゆっくり動けばいいかも)
13900 000020E4 D010                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13901 000020E6 400B                   M           JSR     @R0                     ;
13902 000020E8 0009                   M           NOP                                     ;
13903                            5014             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
13904 000020EA D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13905 000020EC 410B                   M           JSR     @R1                     ;
13906 000020EE 0009                   M           NOP                                     ;
13907                            5015     
13908                            5016     ;;;;    FAR_JSR #_DNDUPS_SPD_SET,R0             ;
13909 000020F0 D50F              5017             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
13910 000020F2 6152              5018             MOV.L   @R5,R1                          ;
13911 000020F4 5251              5019             MOV.L   @(4,R5),R2                      ;
13912                            5020             FAR_JSR #_LENGH_ADD_CALC,R0             ;
13913 000020F6 D00F                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13914 000020F8 400B                   M           JSR     @R0                     ;
13915 000020FA 0009                   M           NOP                                     ;
13916                            5021             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
13917 000020FC D00E                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13918 000020FE 400B                   M           JSR     @R0                     ;
13919 00002100 0009                   M           NOP                                     ;
13920                            5022             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
13921 00002102 D00E                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13922 00002104 400B                   M           JSR     @R0                     ;
13923 00002106 0009                   M           NOP                                     ;
13924                            5023             FAR_JSR #_FWD_REV_START,R1              ;起動
13925 00002108 D10D                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13926 0000210A 410B                   M           JSR     @R1                     ;
13927 0000210C 0009                   M           NOP                                     ;
13928                            5024     
13929 0000210E D10D              5025             MOV.L   #_ORG_DRV_CNT_PV,R1             ;//0:1回 0なら最後のｽﾃｯﾌﾟにいく
13930 00002110 6011              5026             MOV.W   @R1,R0                          ;
13931 00002112 70FF              5027             ADD     #-1,R0                          ;
13932 00002114 2101              5028             MOV.W   R0,@R1                          ;
13933 00002116                   5029     DND_ORGIN_STEP_100:
13934 00002116 200A              5030             XOR     R0,R0                           ;
13935 00002118 D10B              5031             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
13936 0000211A 2101              5032             MOV.W   R0,@R1                          ;Q
13937                            5033     
13938                            5034             M_BRA   DND_ALLSTEPCTL_900              ;
13939 0000211C A09D                   M           BRA     DND_ALLSTEPCTL_900
13940 0000211E 0009                   M           NOP
13941                            5035     
13942                            5036     
13943                            5037     ;       ===== 通常の最後の原点復帰（最終回数目）====
13944                                     ***** BEGIN-POOL *****
13945 00002120 00000000                   DATA FOR SOURCE-LINE 5010
13946 00002124 00000000                   DATA FOR SOURCE-LINE 5012
13947 00002128 00000000                   DATA FOR SOURCE-LINE 5013
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   143
PROGRAM NAME =

13948 0000212C 00000000                   DATA FOR SOURCE-LINE 5014
13949 00002130 00000000                   DATA FOR SOURCE-LINE 5017
13950 00002134 00000000                   DATA FOR SOURCE-LINE 5020
13951 00002138 00000000                   DATA FOR SOURCE-LINE 5021
13952 0000213C 00000000                   DATA FOR SOURCE-LINE 5022
13953 00002140 00000000                   DATA FOR SOURCE-LINE 5023
13954 00002144 00000000                   DATA FOR SOURCE-LINE 5025
13955 00002148 00000000                   DATA FOR SOURCE-LINE 5031
13956                                     ***** END-POOL *****
13957 0000214C                   5038     DND_ALLSTEPCTL_450:
13958                            5039     ;       ===== 第２工程開始(補正開始) ======
13959                            5040             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
13960 0000214C D00B                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13961 0000214E 400B                   M           JSR     @R0                     ;
13962 00002150 0009                   M           NOP                                     ;
13963                            5041             FAR_JSR #_LINK_UPPLS_A_OBJMAK2,R0       ;
13964 00002152 D00B                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13965 00002154 400B                   M           JSR     @R0                     ;
13966 00002156 0009                   M           NOP                                     ;
13967                            5042             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;
13968 00002158 D00A                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13969 0000215A 400B                   M           JSR     @R0                     ;
13970 0000215C 0009                   M           NOP                                     ;
13971                            5043             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
13972 0000215E D10A                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13973 00002160 410B                   M           JSR     @R1                     ;
13974 00002162 0009                   M           NOP                                     ;
13975                            5044     
13976                            5045             FAR_JSR #_ORGIN_MODE_INI,R0     ;
13977 00002164 D009                   M           MOV.L   #_ORGIN_MODE_INI,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
13978 00002166 400B                   M           JSR     @R0                     ;
13979 00002168 0009                   M           NOP                                     ;
13980 0000216A D509              5046             MOV.L   #_INT_DND_CTL_STEP,R5   ;
13981 0000216C 6051              5047             MOV.W   @R5,R0                  ;
13982 0000216E CB01              5048             OR      #BIT0,R0                ;
13983 00002170 2501              5049             MOV.W   R0,@R5                  ;
13984                            5050     
13985                            5051     ;       ======= 原点出し時のｲﾝﾀｰﾛｯｸ =======
13986 00002172 200A              5052             XOR     R0,R0                           ;
13987 00002174 D107              5053             MOV.L   #_RST_ERR_CHK_FLG,R1            ;[ｲﾆｼｬﾙを異常側で再演算する]
13988 00002176 2101              5054             MOV.W   R0,@R1                          ;
13989                            5055             M_BRA   DND_ALLSTEPCTL_580              ;
13990 00002178 A024                   M           BRA     DND_ALLSTEPCTL_580
13991 0000217A 0009                   M           NOP
13992                            5056     
13993                                     ***** BEGIN-POOL *****
13994 0000217C 00000000                   DATA FOR SOURCE-LINE 5040
13995 00002180 00000000                   DATA FOR SOURCE-LINE 5041
13996 00002184 00000000                   DATA FOR SOURCE-LINE 5042
13997 00002188 00000000                   DATA FOR SOURCE-LINE 5043
13998 0000218C 00000000                   DATA FOR SOURCE-LINE 5045
13999 00002190 00000000                   DATA FOR SOURCE-LINE 5046
14000 00002194 00000000                   DATA FOR SOURCE-LINE 5053
14001                                     ***** END-POOL *****
14002 00002198                   5057     DND_ALLSTEPCTL_500:
14003                            5058     ;       ===== 第2工程終了（サーチ作業完了） ======
14004                            5059             FAR_JSR #_ORGIN_MODE_END,R0             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   144
PROGRAM NAME =

14005 00002198 D018                   M           MOV.L   #_ORGIN_MODE_END,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14006 0000219A 400B                   M           JSR     @R0                     ;
14007 0000219C 0009                   M           NOP                                     ;
14008                            5060             FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0              ;20060919
14009 0000219E D018                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14010 000021A0 400B                   M           JSR     @R0                     ;
14011 000021A2 0009                   M           NOP                                     ;
14012                            5061             FAR_JSR #_LINK_UPPLS_A_OBJMAK3,R0       ;(待機点への移動)
14013 000021A4 D017                   M           MOV.L   #_LINK_UPPLS_A_OBJMAK3,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14014 000021A6 400B                   M           JSR     @R0                     ;
14015 000021A8 0009                   M           NOP                                     ;
14016                            5062     
14017                            5063             FAR_JSR #_DNDUPS_CLEEP_SPD_SET,R0       ;(最後だけゆっくり動けばいいかも)
14018 000021AA D017                   M           MOV.L   #_DNDUPS_CLEEP_SPD_SET,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14019 000021AC 400B                   M           JSR     @R0                     ;
14020 000021AE 0009                   M           NOP                                     ;
14021                            5064             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;INPUT R2
14022 000021B0 D116                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14023 000021B2 410B                   M           JSR     @R1                     ;
14024 000021B4 0009                   M           NOP                                     ;
14025                            5065     
14026                            5066     ;;;2003-07-14   FAR_JSR #_DNDUPS_SPD_SET,R0     ;
14027                            5067     ;       ===== 第３工程開始 ======
14028 000021B6 D516              5068             MOV.L   #_INT_DND_CTL_STEP,R5           ;
14029 000021B8 6051              5069             MOV.W   @R5,R0                          ;
14030 000021BA CB02              5070             OR      #BIT1,R0                        ;
14031 000021BC 2501              5071             MOV.W   R0,@R5                          ;
14032                            5072     
14033                            5073     
14034                            5074             FAR_JSR #_DNDUPS_SPD_SET,R0             ;2011-03-22[最後の目標位置へは上昇復帰速度
                                          ]
14035 000021BE D015                   M           MOV.L   #_DNDUPS_SPD_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14036 000021C0 400B                   M           JSR     @R0                     ;
14037 000021C2 0009                   M           NOP                                     ;
14038                            5075     
14039                            5076     
14040 000021C4                   5077     DND_ALLSTEPCTL_580:
14041 000021C4 D114              5078             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
14042 000021C6 6212              5079             MOV.L   @R1,R2                          ;
14043                            5080             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
14044 000021C8 D110                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14045 000021CA 410B                   M           JSR     @R1                     ;
14046 000021CC 0009                   M           NOP                                     ;
14047                            5081     
14048 000021CE D513              5082             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
14049 000021D0 6152              5083             MOV.L   @R5,R1                          ;
14050 000021D2 5251              5084             MOV.L   @(4,R5),R2                      ;
14051                            5085             FAR_JSR #_LENGH_ADD_CALC,R0             ;Input R1,R2
14052 000021D4 D012                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14053 000021D6 400B                   M           JSR     @R0                     ;
14054 000021D8 0009                   M           NOP                                     ;
14055                            5086             FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
14056 000021DA D012                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14057 000021DC 400B                   M           JSR     @R0                     ;
14058 000021DE 0009                   M           NOP                                     ;
14059                            5087             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
14060 000021E0 D011                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   145
PROGRAM NAME =

14061 000021E2 400B                   M           JSR     @R0                     ;
14062 000021E4 0009                   M           NOP                                     ;
14063                            5088             FAR_JSR #_FWD_REV_START,R1              ;起動
14064 000021E6 D111                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14065 000021E8 410B                   M           JSR     @R1                     ;
14066 000021EA 0009                   M           NOP                                     ;
14067                            5089     
14068                            5090             FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
14069 000021EC D010                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14070 000021EE 400B                   M           JSR     @R0                     ;
14071 000021F0 0009                   M           NOP                                     ;
14072                            5091     
14073 000021F2 200A              5092             XOR     R0,R0                           ;
14074 000021F4 D10F              5093             MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
14075 000021F6 2101              5094             MOV.W   R0,@R1                          ;Q
14076                            5095             M_BRA   DND_ALLSTEPCTL_900              ;
14077 000021F8 A02F                   M           BRA     DND_ALLSTEPCTL_900
14078 000021FA 0009                   M           NOP
14079                            5096     
14080                                     ***** BEGIN-POOL *****
14081 000021FC 00000000                   DATA FOR SOURCE-LINE 5059
14082 00002200 00000000                   DATA FOR SOURCE-LINE 5060
14083 00002204 00000000                   DATA FOR SOURCE-LINE 5061
14084 00002208 00000000                   DATA FOR SOURCE-LINE 5063
14085 0000220C 00000000                   DATA FOR SOURCE-LINE 5064,5080
14086 00002210 00000000                   DATA FOR SOURCE-LINE 5068
14087 00002214 00000000                   DATA FOR SOURCE-LINE 5074
14088 00002218 00000000                   DATA FOR SOURCE-LINE 5078
14089 0000221C 00000000                   DATA FOR SOURCE-LINE 5082
14090 00002220 00000000                   DATA FOR SOURCE-LINE 5085
14091 00002224 00000000                   DATA FOR SOURCE-LINE 5086
14092 00002228 00000000                   DATA FOR SOURCE-LINE 5087
14093 0000222C 00000000                   DATA FOR SOURCE-LINE 5088
14094 00002230 00000000                   DATA FOR SOURCE-LINE 5090
14095 00002234 00000000                   DATA FOR SOURCE-LINE 5093
14096                                     ***** END-POOL *****
14097 00002238                   5097     DND_ALLSTEPCTL_600:
14098                            5098             MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1 ;
14099 00002238 D109                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
14100 0000223A 6011                   M           MOV.W   @R1,R0          ;
14101 0000223C CB40                   M           OR      #BIT6,R0                ;
14102 0000223E 2101                   M           MOV.W   R0,@R1          ;
14103                            5099     
14104                            5100     ;       == 2003-07-09 ==(_INT_DND_STEP_FLG.BIT6でも代替OK) ===
14105                            5101             MEM1_BIT0_TO_BIT7_ORSET MEM=_ORG_RDY_CTL_FLG,LG=W,BIT=BIT3,WKREG=R1 ;
14106 00002240 D108                   M           MOV.L   #_ORG_RDY_CTL_FLG,R1            ;
14107 00002242 6011                   M           MOV.W   @R1,R0          ;
14108 00002244 CB08                   M           OR      #BIT3,R0                ;
14109 00002246 2101                   M           MOV.W   R0,@R1          ;
14110                            5102     
14111                            5103     
14112                            5104     
14113                            5105     ;       ====2004-09-27(中型ではこれは206.4=1)====
14114                            5106             FAR_JSR #_DND_ORGIN_SIG_FORCE_ON,R0
14115 00002248 D007                   M           MOV.L   #_DND_ORGIN_SIG_FORCE_ON,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14116 0000224A 400B                   M           JSR     @R0                     ;
14117 0000224C 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   146
PROGRAM NAME =

14118                            5107     
14119                            5108     ;       ------------2011-03-22-------
14120                            5109     ;;;;;;  FAR_JSR #_ORGIN2_MODE_END,R0
14121                            5110             FAR_JSR #_ORIGIN_POS_CHK_INI2,R0        ;待機点移動完了
14122 0000224E D007                   M           MOV.L   #_ORIGIN_POS_CHK_INI2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14123 00002250 400B                   M           JSR     @R0                     ;
14124 00002252 0009                   M           NOP                                     ;
14125                            5111     
14126                            5112     ;       --------- 2014-08-05----------
14127                            5113             FAR_JSR #_API_BREAK_VALV_FLG_OF,R0
14128 00002254 D006                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14129 00002256 400B                   M           JSR     @R0                     ;
14130 00002258 0009                   M           NOP                                     ;
14131                            5114     
14132                            5115     
14133                            5116     
14134                            5117     
14135                            5118     
14136 0000225A                   5119     DND_ALLSTEPCTL_900:
14137                            5120             SUB_END
14138                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14139 0000225A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14140                            5121             M_RTS
14141 0000225C 000B                   M           RTS                             ;RTSの後ろの
14142 0000225E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14143                            5122     
14144                            5123     ;       ***************************************************
14145                            5124     ;       ***                                             ***
14146                            5125     ;       ***     中型の目標位置決め原点でも206.4=1にする ***
14147                            5126     ;       ***                                             ***
14148                            5127     ;       ***************************************************
14149                            5128     ;       ====2004-09-27(中型ではこれは206.4=1)====
14150                                     ***** BEGIN-POOL *****
14151 00002260 00000000                   DATA FOR SOURCE-LINE 5098
14152 00002264 00000000                   DATA FOR SOURCE-LINE 5101
14153 00002268 00000000                   DATA FOR SOURCE-LINE 5106
14154 0000226C 00000000                   DATA FOR SOURCE-LINE 5110
14155 00002270 00000000                   DATA FOR SOURCE-LINE 5113
14156                                     ***** END-POOL *****
14157 00002274                   5129             .ALIGN  4                               ;
14158 00002274                   5130     _DND_ORGIN_SIG_FORCE_ON:
14159                            5131             SUB_START
14160 00002274 4F22                   M           STS.L   PR,@-R15                ;[必要]
14161                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14162 00002276 D00A              5132             MOV.L   #_PAR_WTSEL_USE,R0                      ;
14163 00002278 6001              5133             MOV.W   @R0,R0                                  ;
14164 0000227A 8801              5134             CMP/EQ  #1,R0                                   ;待機点選択を中型で認識
14165 0000227C 8B0C              5135             BF      DND_ORGIN_SIG_FORON_EXT                 ;中型? NO
14166                            5136     
14167 0000227E D109              5137             MOV.L   #_MODE_SEL,R1                           ;
14168 00002280 6011              5138             MOV.W   @R1,R0                                  ;
14169 00002282 C840              5139             TST     #_W1DUP,R0                              ;
14170                            5140             TST_BIT_OF DND_ORGIN_SIG_FORON_EXT              ;原点? NO
14171 00002284 8908                   M           BT      DND_ORGIN_SIG_FORON_EXT
14172                            5141     
14173 00002286 D108              5142             MOV.L   #_ORIGN_OBJ_CTL_FLG,R1                  ;
14174 00002288 6011              5143             MOV.W   @R1,R0                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   147
PROGRAM NAME =

14175 0000228A C801              5144             TST     #BIT0,R0                                ;
14176                            5145             TST_BIT_OF DND_ORGIN_SIG_FORON_EXT              ;目標位置決め? NO
14177 0000228C 8904                   M           BT      DND_ORGIN_SIG_FORON_EXT
14178                            5146     
14179                            5147             MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB206,LG=W,BIT=(BIT4),WKRG1=R1,WKRG2=R4
14180 0000228E D107                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB206,R1             ;
14181 00002290 6011                   M           MOV.W   @R1,R0          ;
14182 00002292 9404                   M           MOV.W   #(BIT4),R4              ;
14183 00002294 204B                   M           OR      R4,R0           ;
14184 00002296 2101                   M           MOV.W   R0,@R1          ;
14185 00002298                   5148     DND_ORGIN_SIG_FORON_EXT:
14186                            5149             SUB_END
14187                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14188 00002298 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14189                            5150             M_RTS
14190 0000229A 000B                   M           RTS                             ;RTSの後ろの
14191 0000229C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14192                            5151     
14193                            5152     ;       ***********************************
14194                            5153     ;       ***                             ***
14195                            5154     ;       ***     段取寸動反転仕様        ***
14196                            5155     ;       ***                             ***
14197                            5156     ;       ***********************************
14198                            5157     ;
14199                            5158             .INCLUDE        "ssa_dnd1.inc"          ; //
14200                               1 I1  ;       ***********************************
14201                               2 I1  ;       ***                             ***
14202                               3 I1  ;       ***     段取寸動コントロール    ***
14203                               4 I1  ;       ***                             ***
14204                               5 I1  ;       ***********************************
14205                               6 I1  ;       ***********************************
14206                               7 I1  ;       ***                             ***
14207                               8 I1  ;       ***     ﾓｰｼｮﾝ全工程             ***
14208                               9 I1  ;       ***                             ***
14209                              10 I1  ;       ***********************************
14210                              11 I1  ;       ======== 停止待ち(速度変更)     0000,0000       ====
14211                              12 I1  ;       ======== ﾀｲﾏ計測                BIT0            ====
14212                              13 I1  ;       ======== 再起動/終了            BIT1            ====
14213                              14 I1  ;       ======== BIT6;終了
14214                                 I1  ***** BEGIN-POOL *****
14215 0000229E 0010                   I1  DATA FOR SOURCE-LINE 5147
14216 000022A0 00000000               I1  DATA FOR SOURCE-LINE 5132
14217 000022A4 00000000               I1  DATA FOR SOURCE-LINE 5137
14218 000022A8 00000000               I1  DATA FOR SOURCE-LINE 5142
14219 000022AC 00000000               I1  DATA FOR SOURCE-LINE 5147
14220                                 I1  ***** END-POOL *****
14221 000022B0                     15 I1  _DND_NEG_STEP_CTRL:
14222                              16 I1          SUB_START
14223 000022B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
14224                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14225                              17 I1  
14226 000022B2 D103                18 I1          MOV.L   #_INT_DND_STEP_FLG,R1           ;段取り共通
14227 000022B4 6011                19 I1          MOV.W   @R1,R0                          ;
14228 000022B6 C803                20 I1          TST     #(BIT1+BIT0),R0                 ;
14229                              21 I1          TST_BIT_OF DND_NEGSTEPCTL_100           ;BIT0:ﾀｲﾏ制御開始
14230 000022B8 8904                   M           BT      DND_NEGSTEPCTL_100
14231                              22 I1          M_BRA   DND_NEGSTEPCTL_300              ;BIT1:次の回転起動
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   148
PROGRAM NAME =

14232 000022BA A03D                   M           BRA     DND_NEGSTEPCTL_300
14233 000022BC 0009                   M           NOP
14234                              23 I1  
14235                                 I1  ***** BEGIN-POOL *****
14236 000022BE 0000                   I1  ALIGNMENT CODE
14237 000022C0 00000000               I1  DATA FOR SOURCE-LINE 18
14238                                 I1  ***** END-POOL *****
14239 000022C4                     24 I1  DND_NEGSTEPCTL_100:
14240                              25 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
14241 000022C4 D004                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14242 000022C6 400B                   M           JSR     @R0                     ;
14243 000022C8 0009                   M           NOP                                     ;
14244                              26 I1  
14245                              27 I1          FAR_JSR #_LOD_POS_STS_REG,R1    ;
14246 000022CA D104                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14247 000022CC 410B                   M           JSR     @R1                     ;
14248 000022CE 0009                   M           NOP                                     ;
14249 000022D0 C804                28 I1          TST     #BIT2,R0                ;停止?
14250                              29 I1          TST_BIT_ON DND_NEGSTEPCTL_200   ;YES 停止中 1:停止 0:払出中
14251 000022D2 8B05                   M           BF      DND_NEGSTEPCTL_200
14252                              30 I1          M_BRA   DND_NEGSTEPCTL_900      ;
14253 000022D4 A06D                   M           BRA     DND_NEGSTEPCTL_900
14254 000022D6 0009                   M           NOP
14255                              31 I1  
14256                              32 I1  ;       ===========================
14257                              33 I1  ;       ===     払出停止        ===
14258                              34 I1  ;       ===     回転時          ===
14259                              35 I1  ;       ===========================
14260                                 I1  ***** BEGIN-POOL *****
14261 000022D8 00000000               I1  DATA FOR SOURCE-LINE 25
14262 000022DC 00000000               I1  DATA FOR SOURCE-LINE 27
14263                                 I1  ***** END-POOL *****
14264 000022E0                     36 I1  DND_NEGSTEPCTL_200:
14265                              37 I1  ;       --------払い出し完了----------
14266                              38 I1  
14267                              39 I1  ;       ------------ 2021-11-11-------------
14268 000022E0 D109                40 I1          MOV.L   #_NEG_DND_STOP_POS_END_F,R1                     ;
14269 000022E2 6010                41 I1          MOV.B   @R1,R0                                                          ;
14270 000022E4 2008                42 I1          TST             R0,R0                                                           ;
14271                              43 I1          TST_BIT_ON DND_NEGSTEPCTL_900                           ;
14272 000022E6 8B64                   M           BF      DND_NEGSTEPCTL_900
14273                              44 I1  
14274                              45 I1  ;       ------------ 2021-11-11-------------
14275                              46 I1          FAR_JSR #_DND_NEG_STOP_SVCHK,R0                         ;
14276 000022E8 D008                   M           MOV.L   #_DND_NEG_STOP_SVCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14277 000022EA 400B                   M           JSR     @R0                     ;
14278 000022EC 0009                   M           NOP                                     ;
14279                              47 I1  
14280 000022EE D108                48 I1          MOV.L   #_NEG_DND_STOP_USE_F,R1                         ;       //上死点(0)<停止<1
                                          70の時 On
14281 000022F0 6010                49 I1          MOV.B   @R1,R0                                                          ;
14282 000022F2 2008                50 I1          TST             R0,R0                                                           ;
14283                              51 I1          TST_BIT_OF DND_NEGSTEPCTL_250                           ;
14284 000022F4 8910                   M           BT      DND_NEGSTEPCTL_250
14285                              52 I1  
14286                              53 I1          FAR_JSR #_DND_NEG_LNK_STEP_CHANGE2,R0           ;
14287 000022F6 D007                   M           MOV.L   #_DND_NEG_LNK_STEP_CHANGE2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   149
PROGRAM NAME =

14288 000022F8 400B                   M           JSR     @R0                     ;
14289 000022FA 0009                   M           NOP                                     ;
14290                              54 I1  
14291 000022FC E001                55 I1          MOV.B   #BIT0,R0
14292 000022FE D102                56 I1          MOV.L   #_NEG_DND_STOP_POS_END_F,R1                     ;
14293 00002300 2100                57 I1          MOV.B   R0,@R1                                                          ;
14294                              58 I1  
14295                              59 I1          M_BRA   DND_NEGSTEPCTL_900                                      ;
14296 00002302 A056                   M           BRA     DND_NEGSTEPCTL_900
14297 00002304 0009                   M           NOP
14298                              60 I1  
14299                              61 I1  
14300                                 I1  ***** BEGIN-POOL *****
14301 00002306 0000                   I1  ALIGNMENT CODE
14302 00002308 00000000               I1  DATA FOR SOURCE-LINE 40,56
14303 0000230C 00000000               I1  DATA FOR SOURCE-LINE 46
14304 00002310 00000000               I1  DATA FOR SOURCE-LINE 48
14305 00002314 00000000               I1  DATA FOR SOURCE-LINE 53
14306                                 I1  ***** END-POOL *****
14307 00002318                     62 I1  DND_NEGSTEPCTL_250:
14308                              63 I1  ;       -----------------------------------
14309                              64 I1  
14310                              65 I1  ;       >>>> 切替ﾀｲﾏｾｯﾄ <<<<
14311                              66 I1  ;       ===============================================
14312                              67 I1  ;;;2014-05-30   MOV.L   #_PAR_START_WAIT_DND,R1                                 ;段取時切
                                          替WAIT時間
14313 00002318 D104                68 I1          MOV.L   #(_PAR_START_WAIT_DND-_CB_SYS_PARAM000+_W_PARAM_TOP),R1 ;段取時切替WAIT時
                                          間
14314 0000231A 6111                69 I1          MOV.W   @R1,R1                                  ;
14315 0000231C D404                70 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4                                            ;
14316 0000231E 2412                71 I1          MOV.L   R1,@R4                                                          ;
14317                              72 I1  ;       FLG=(BIT0):ｾｯﾄ                                                          ;
14318                              73 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1    ;ﾀｲﾏ起動
14319 00002320 D104                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
14320 00002322 6011                   M           MOV.W   @R1,R0          ;
14321 00002324 CB01                   M           OR      #BIT0,R0                ;
14322 00002326 2101                   M           MOV.W   R0,@R1          ;
14323                              74 I1          M_BRA   DND_NEGSTEPCTL_900                                              ;
14324 00002328 A043                   M           BRA     DND_NEGSTEPCTL_900
14325 0000232A 0009                   M           NOP
14326                              75 I1  
14327                                 I1  ***** BEGIN-POOL *****
14328 0000232C 00000000               I1  DATA FOR SOURCE-LINE 68
14329 00002330 00000000               I1  DATA FOR SOURCE-LINE 70
14330 00002334 00000000               I1  DATA FOR SOURCE-LINE 73
14331                                 I1  ***** END-POOL *****
14332 00002338                     76 I1  DND_NEGSTEPCTL_300:
14333 00002338 C802                77 I1          TST     #BIT1,R0                ;
14334                              78 I1          TST_BIT_ON DND_NEGSTEPCTL_400   ;
14335 0000233A 8B15                   M           BF      DND_NEGSTEPCTL_400
14336                              79 I1  
14337                              80 I1  ;       ===== 切替ﾀｲﾏ待ち ====
14338                              81 I1  
14339                              82 I1          DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;2014-05-30
14340 0000233C D105                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
14341 0000233E 6412                   M           MOV.L   @R1,R4          ;
14342 00002340 2448                   M           TST     R4,R4                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   150
PROGRAM NAME =

14343 00002342 8901                   M           BT      JMP_0100006                     ;ZERO THEN JUMP
14344 00002344 4410                   M           DT      R4                              ;
14345 00002346 2142                   M           MOV.L   R4,@R1          ;STORE
14346 00002348                        M   JMP_0100006:
14347                              83 I1  
14348                              84 I1  
14349 00002348 D402                85 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
14350 0000234A 6142                86 I1          MOV.L   @R4,R1                  ;
14351 0000234C 2118                87 I1          TST     R1,R1                   ;
14352                              88 I1          TST_BIT_OF DND_NEGSTEPCTL_320   ;
14353 0000234E 8903                   M           BT      DND_NEGSTEPCTL_320
14354                              89 I1          M_BRA   DND_NEGSTEPCTL_900      ;
14355 00002350 A02F                   M           BRA     DND_NEGSTEPCTL_900
14356 00002352 0009                   M           NOP
14357                              90 I1  
14358                                 I1  ***** BEGIN-POOL *****
14359 00002354 00000000               I1  DATA FOR SOURCE-LINE 82,85
14360                                 I1  ***** END-POOL *****
14361 00002358                     91 I1  DND_NEGSTEPCTL_320:
14362                              92 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1 ;TIME UP
14363 00002358 D102                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
14364 0000235A 6011                   M           MOV.W   @R1,R0          ;
14365 0000235C CB02                   M           OR      #BIT1,R0                ;
14366 0000235E 2101                   M           MOV.W   R0,@R1          ;
14367                              93 I1          M_BRA   DND_NEGSTEPCTL_900              ;
14368 00002360 A027                   M           BRA     DND_NEGSTEPCTL_900
14369 00002362 0009                   M           NOP
14370                              94 I1  
14371                              95 I1  
14372                              96 I1  ;       ======= 次の起動 =====
14373                                 I1  ***** BEGIN-POOL *****
14374 00002364 00000000               I1  DATA FOR SOURCE-LINE 92
14375                                 I1  ***** END-POOL *****
14376 00002368                     97 I1  DND_NEGSTEPCTL_400:
14377                              98 I1  ;       ===================================
14378                              99 I1  ;       ===     二重回路対策            ===
14379                             100 I1  ;       ===     工程完了                ===
14380                             101 I1  ;       ===================================
14381                             102 I1          FAR_JSR #_CMPAB_STEP_END_PROC,R0        ;
14382 00002368 D003                   M           MOV.L   #_CMPAB_STEP_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14383 0000236A 400B                   M           JSR     @R0                     ;
14384 0000236C 0009                   M           NOP                                     ;
14385 0000236E 2008               103 I1          TST     R0,R0                           ;
14386                             104 I1          TST_BIT_ON DND_NEGSTEPCTL_420           ;
14387 00002370 8B04                   M           BF      DND_NEGSTEPCTL_420
14388                             105 I1          M_BRA   DND_NEGSTEPCTL_900              ;
14389 00002372 A01E                   M           BRA     DND_NEGSTEPCTL_900
14390 00002374 0009                   M           NOP
14391                             106 I1  
14392                                 I1  ***** BEGIN-POOL *****
14393 00002376 0000                   I1  ALIGNMENT CODE
14394 00002378 00000000               I1  DATA FOR SOURCE-LINE 102
14395                                 I1  ***** END-POOL *****
14396 0000237C                    107 I1  DND_NEGSTEPCTL_420:                             ;
14397                             108 I1          FAR_JSR #_CMPSTP_STEP_END_CLR,R0        ;//位置決め完了としたい
14398 0000237C D00E                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14399 0000237E 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   151
PROGRAM NAME =

14400 00002380 0009                   M           NOP                                     ;
14401                             109 I1  
14402                             110 I1  ;;2021-11-11;   ====  次の動作の演算 =====
14403                             111 I1  ;;2021-11-11    MOV.L   #_INT_DND_NEG_STEP,R5           ;
14404                             112 I1  ;;2021-11-11    MOV.W   @R5,R0                          ;
14405                             113 I1  ;;2021-11-11    CMP/EQ  #1,R0                           ;
14406                             114 I1  ;;2021-11-11    BF      DND_NEGSTEPCTL_440              ;もし0or2なら待機点なので1へ遷移
14407                             115 I1  ;;2021-11-11    MOV     #2,R0                           ;もし1(目標位置への動作)なら2へ（
                                          待機点）
14408                             116 I1  ;;2021-11-11    M_BRA   DND_NEGSTEPCTL_460              ;
14409                             117 I1  ;;2021-11-11DND_NEGSTEPCTL_440:                         ;
14410                             118 I1  ;;2021-11-11    MOV     #1,R0                           ;もし0or2(待機点への動作)なら1
14411                             119 I1  ;;2021-11-11DND_NEGSTEPCTL_460:                         ;
14412                             120 I1  ;;2021-11-11    MOV.W   R0,@R5                          ;
14413                             121 I1  ;;2021-11-11    FAR_JSR #_DND_LNK_STEP_CHECK1,R0        ;<<>>
14414                             122 I1  ;;2021-11-11    FAR_JSR #_DND_LNKPLS_OBJMAK1,R1         ;ｽﾃｯﾌﾟに応じて待機点1/目標位置/待
                                          機点2 _POS_DRV_DIRECT
14415                             123 I1  ;;2021-11-11
14416                             124 I1  
14417                             125 I1          FAR_JSR #_DND_NEG_LNK_STEP_CHANGE0,R0                           ;
14418 00002382 D00E                   M           MOV.L   #_DND_NEG_LNK_STEP_CHANGE0,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14419 00002384 400B                   M           JSR     @R0                     ;
14420 00002386 0009                   M           NOP                                     ;
14421                             126 I1          FAR_JSR #_DND_LNKPLS_OBJMAK1,R1                                 ;ｽﾃｯﾌﾟに応じて待機
                                          点1/目標位置/待機点2 _POS_DRV_DIRECT
14422 00002388 D10D                   M           MOV.L   #_DND_LNKPLS_OBJMAK1,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14423 0000238A 410B                   M           JSR     @R1                     ;
14424 0000238C 0009                   M           NOP                                     ;
14425                             127 I1  
14426                             128 I1  ;       ===================
14427                             129 I1  ;       ===     起動    ===
14428                             130 I1  ;       ===================
14429 0000238E                    131 I1  DND_NEGSTEPCTL_580:
14430                             132 I1          FAR_JSR #_DND_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
14431 0000238E D00D                   M           MOV.L   #_DND_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14432 00002390 400B                   M           JSR     @R0                     ;
14433 00002392 0009                   M           NOP                                     ;
14434                             133 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;
14435 00002394 D00C                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14436 00002396 400B                   M           JSR     @R0                     ;
14437 00002398 0009                   M           NOP                                     ;
14438                             134 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
14439 0000239A D00C                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14440 0000239C 400B                   M           JSR     @R0                     ;
14441 0000239E 0009                   M           NOP                                     ;
14442                             135 I1          FAR_JSR #_FWD_REV_START,R1              ;起動
14443 000023A0 D10B                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14444 000023A2 410B                   M           JSR     @R1                     ;
14445 000023A4 0009                   M           NOP                                     ;
14446 000023A6 200A               136 I1          XOR     R0,R0                           ;
14447 000023A8 D10A               137 I1          MOV.L   #_INT_DND_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
14448 000023AA 2101               138 I1          MOV.W   R0,@R1                          ;Q
14449                             139 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0    ;
14450 000023AC D00A                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14451 000023AE 400B                   M           JSR     @R0                     ;
14452 000023B0 0009                   M           NOP                                     ;
14453                             140 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   152
PROGRAM NAME =

14454 000023B2                    141 I1  DND_NEGSTEPCTL_900:
14455                             142 I1          SUB_END
14456                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14457 000023B2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14458                             143 I1          M_RTS
14459 000023B4 000B                   M           RTS                             ;RTSの後ろの
14460 000023B6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14461                             144 I1  
14462                             145 I1  
14463                             146 I1  
14464                            5159     
14465                            5160     ;       *******************************************
14466                            5161     ;       ***                                     ***
14467                            5162     ;       ***     段取寸動正転・逆転停止仕様      ***
14468                            5163     ;       ***                                     ***
14469                            5164     ;       *******************************************
14470                            5165     ;
14471                            5166             .INCLUDE        "ssa_dnd2.inc"          ; //
14472                               1 I1  ;       ***********************************
14473                               2 I1  ;       ***                             ***
14474                               3 I1  ;       ***     段取寸動コントロール    ***
14475                               4 I1  ;       ***                             ***
14476                               5 I1  ;       ***********************************
14477                               6 I1  ;       ***********************************
14478                               7 I1  ;       ***                             ***
14479                               8 I1  ;       ***     ﾓｰｼｮﾝ全工程             ***
14480                               9 I1  ;       ***                             ***
14481                              10 I1  ;       ***********************************
14482                              11 I1  ;       ======== 停止待ち(速度変更)     0000,0000       ====
14483                              12 I1  ;       ======== ﾀｲﾏ計測                BIT0            ====
14484                              13 I1  ;       ======== 再起動/終了            BIT1            ====
14485                              14 I1  ;       ======== BIT6;終了
14486                                 I1  ***** BEGIN-POOL *****
14487 000023B8 00000000               I1  DATA FOR SOURCE-LINE 108
14488 000023BC 00000000               I1  DATA FOR SOURCE-LINE 125
14489 000023C0 00000000               I1  DATA FOR SOURCE-LINE 126
14490 000023C4 00000000               I1  DATA FOR SOURCE-LINE 132
14491 000023C8 00000000               I1  DATA FOR SOURCE-LINE 133
14492 000023CC 00000000               I1  DATA FOR SOURCE-LINE 134
14493 000023D0 00000000               I1  DATA FOR SOURCE-LINE 135
14494 000023D4 00000000               I1  DATA FOR SOURCE-LINE 137
14495 000023D8 00000000               I1  DATA FOR SOURCE-LINE 139
14496                                 I1  ***** END-POOL *****
14497 000023DC                     15 I1  _DND_ROT_STEP_CTRL:
14498                              16 I1          SUB_START
14499 000023DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
14500                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14501                              17 I1  
14502 000023DE D103                18 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14503 000023E0 6011                19 I1          MOV.W   @R1,R0                          ;
14504 000023E2 C803                20 I1          TST     #(BIT1+BIT0),R0                 ;
14505                              21 I1          TST_BIT_ON DND_ROTSTEPCTL_050           ;
14506 000023E4 8B04                   M           BF      DND_ROTSTEPCTL_050
14507                              22 I1          M_BRA   DND_ROTSTEPCTL_EXT              ;
14508 000023E6 A043                   M           BRA     DND_ROTSTEPCTL_EXT
14509 000023E8 0009                   M           NOP
14510                              23 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   153
PROGRAM NAME =

14511                                 I1  ***** BEGIN-POOL *****
14512 000023EA 0000                   I1  ALIGNMENT CODE
14513 000023EC 00000000               I1  DATA FOR SOURCE-LINE 18
14514                                 I1  ***** END-POOL *****
14515 000023F0                     24 I1  DND_ROTSTEPCTL_050:
14516 000023F0 D106                25 I1          MOV.L   #_INT_DND_STEP_FLG,R1           ;
14517 000023F2 6011                26 I1          MOV.W   @R1,R0                          ;
14518 000023F4 C820                27 I1          TST     #BIT5,R0                        ;
14519                              28 I1          TST_BIT_ON DND_ROTSTEPCTL_080           ;終了
14520 000023F6 8B07                   M           BF      DND_ROTSTEPCTL_080
14521                              29 I1  
14522                              30 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
14523 000023F8 D005                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14524 000023FA 400B                   M           JSR     @R0                     ;
14525 000023FC 0009                   M           NOP                                     ;
14526                              31 I1          FAR_JSR #_LOD_POS_STS_REG,R1            ;
14527 000023FE D105                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14528 00002400 410B                   M           JSR     @R1                     ;
14529 00002402 0009                   M           NOP                                     ;
14530 00002404 C804                32 I1          TST     #BIT2,R0                        ;停止?
14531                              33 I1          TST_BIT_ON DND_ROTSTEPCTL_200           ;YES 停止中 1:停止 0:払出中
14532 00002406 8B07                   M           BF      DND_ROTSTEPCTL_200
14533 00002408                     34 I1  DND_ROTSTEPCTL_080:
14534                              35 I1          M_BRA   DND_ROTSTEPCTL_900              ;
14535 00002408 A031                   M           BRA     DND_ROTSTEPCTL_900
14536 0000240A 0009                   M           NOP
14537                              36 I1  
14538                              37 I1  ;       ===========================
14539                              38 I1  ;       ===     払出停止        ===
14540                              39 I1  ;       ===     回転時          ===
14541                              40 I1  ;       ===========================
14542                                 I1  ***** BEGIN-POOL *****
14543 0000240C 00000000               I1  DATA FOR SOURCE-LINE 25
14544 00002410 00000000               I1  DATA FOR SOURCE-LINE 30
14545 00002414 00000000               I1  DATA FOR SOURCE-LINE 31
14546                                 I1  ***** END-POOL *****
14547 00002418                     41 I1  DND_ROTSTEPCTL_200:
14548 00002418                     42 I1  DND_ROTSTEPCTL_400:
14549                              43 I1  ;       ===================================
14550                              44 I1  ;       ===     二重回路対策            ===
14551                              45 I1  ;       ===     工程完了                ===
14552                              46 I1  ;       ===================================
14553                              47 I1          FAR_JSR #_CMPAB_STEP_END_PROC,R0        ;
14554 00002418 D003                   M           MOV.L   #_CMPAB_STEP_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14555 0000241A 400B                   M           JSR     @R0                     ;
14556 0000241C 0009                   M           NOP                                     ;
14557 0000241E 2008                48 I1          TST     R0,R0                           ;
14558                              49 I1          TST_BIT_ON DND_ROTSTEPCTL_420           ;
14559 00002420 8B04                   M           BF      DND_ROTSTEPCTL_420
14560                              50 I1          M_BRA   DND_ROTSTEPCTL_900              ;
14561 00002422 A024                   M           BRA     DND_ROTSTEPCTL_900
14562 00002424 0009                   M           NOP
14563                              51 I1  
14564                                 I1  ***** BEGIN-POOL *****
14565 00002426 0000                   I1  ALIGNMENT CODE
14566 00002428 00000000               I1  DATA FOR SOURCE-LINE 47
14567                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   154
PROGRAM NAME =

14568 0000242C                     52 I1  DND_ROTSTEPCTL_420:                             ;
14569                              53 I1          FAR_JSR #_CMPSTP_STEP_END_CLR,R0        ;//位置決め完了としたい
14570 0000242C D006                   M           MOV.L   #_CMPSTP_STEP_END_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14571 0000242E 400B                   M           JSR     @R0                     ;
14572 00002430 0009                   M           NOP                                     ;
14573                              54 I1  
14574                              55 I1  ;       ====  工程を進めて終了する =====
14575 00002432 D506                56 I1          MOV.L   #_DNDINC_CTRL_STEP,R5           ;
14576 00002434 6351                57 I1          MOV.W   @R5,R3                          ;
14577 00002436 D106                58 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14578 00002438 6011                59 I1          MOV.W   @R1,R0                          ;
14579 0000243A C903                60 I1          AND     #(BIT1+BIT0),R0                 ;
14580 0000243C 8803                61 I1          CMP/EQ  #(BIT1+BIT0),R0                 ;
14581 0000243E 8909                62 I1          BT      DND_ROTSTEPCTL_440              ;
14582 00002440 E301                63 I1          MOV     #1,R3                           ;
14583                              64 I1          M_BRA   DND_ROTSTEPCTL_500              ;
14584 00002442 A00C                   M           BRA     DND_ROTSTEPCTL_500
14585 00002444 0009                   M           NOP
14586                                 I1  ***** BEGIN-POOL *****
14587 00002446 0000                   I1  ALIGNMENT CODE
14588 00002448 00000000               I1  DATA FOR SOURCE-LINE 53
14589 0000244C 00000000               I1  DATA FOR SOURCE-LINE 56
14590 00002450 00000000               I1  DATA FOR SOURCE-LINE 58
14591                                 I1  ***** END-POOL *****
14592 00002454                     65 I1  DND_ROTSTEPCTL_440:                             ;
14593 00002454 7301                66 I1          ADD     #1,R3                           ;
14594 00002456 920E                67 I1          MOV.W   #2,R2                           ;
14595 00002458 3326                68 I1          CMP/HI  R2,R3                           ;
14596 0000245A 8B00                69 I1          BF      DND_ROTSTEPCTL_500              ;
14597 0000245C 930C                70 I1          MOV.W   #1,R3                           ;
14598 0000245E                     71 I1  DND_ROTSTEPCTL_500:                             ;
14599 0000245E 2531                72 I1          MOV.W   R3,@R5                          ;
14600                              73 I1  
14601                              74 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_DND_STEP_FLG,LG=W,BIT=BIT5,WKREG=R1    ;BIT5=1 EN
                                          D
14602 00002460 D106                   M           MOV.L   #_INT_DND_STEP_FLG,R1           ;
14603 00002462 6011                   M           MOV.W   @R1,R0          ;
14604 00002464 CB20                   M           OR      #BIT5,R0                ;
14605 00002466 2101                   M           MOV.W   R0,@R1          ;
14606                              75 I1  
14607                              76 I1  ;       --------- 2014-08-05----------
14608                              77 I1          FAR_JSR #_API_BREAK_VALV_FLG_OF,R0
14609 00002468 D005                   M           MOV.L   #_API_BREAK_VALV_FLG_OF,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14610 0000246A 400B                   M           JSR     @R0                     ;
14611 0000246C 0009                   M           NOP                                     ;
14612                              78 I1  
14613 0000246E                     79 I1  DND_ROTSTEPCTL_900:
14614 0000246E 0009                80 I1          NOP
14615 00002470                     81 I1  DND_ROTSTEPCTL_EXT:
14616                              82 I1          SUB_END
14617                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14618 00002470 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14619                              83 I1          M_RTS
14620 00002472 000B                   M           RTS                             ;RTSの後ろの
14621 00002474 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14622                              84 I1  
14623                              85 I1  ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   155
PROGRAM NAME =

14624                              86 I1  ;       ***                             ***
14625                              87 I1  ;       ***     初起動時のエリア作成    ***
14626                              88 I1  ;       ***                             ***
14627                              89 I1  ;       ***********************************
14628                                 I1  ***** BEGIN-POOL *****
14629 00002476 0002                   I1  DATA FOR SOURCE-LINE 67
14630 00002478 0001                   I1  DATA FOR SOURCE-LINE 70
14631 0000247A 0000                   I1  ALIGNMENT CODE
14632 0000247C 00000000               I1  DATA FOR SOURCE-LINE 74
14633 00002480 00000000               I1  DATA FOR SOURCE-LINE 77
14634                                 I1  ***** END-POOL *****
14635          00000014            90 I1  _DND_AREA_HIS           .EQU    20              ;2.0DIG
14636 00002484                     91 I1  _DNDINC_STEP_MAKE:
14637                              92 I1          SUB_START
14638 00002484 4F22                   M           STS.L   PR,@-R15                ;[必要]
14639                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14640 00002486 D50B                93 I1          MOV.L   #_DNDINC_CTRL_STEP,R5           ;
14641 00002488 6351                94 I1          MOV.W   @R5,R3                          ;
14642 0000248A 2338                95 I1          TST     R3,R3                           ;
14643                              96 I1          TST_BIT_OF DNDINC_STEP_MK100            ;再計算
14644 0000248C 891C                   M           BT      DNDINC_STEP_MK100
14645                              97 I1  
14646 0000248E D10A                98 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14647 00002490 6011                99 I1          MOV.W   @R1,R0                          ;
14648 00002492 D10A               100 I1          MOV.L   #_CPOS_DND_STOP_SWOLD,R1        ;
14649 00002494 6211               101 I1          MOV.W   @R1,R2
14650 00002496 2101               102 I1          MOV.W   R0,@R1                          ;
14651 00002498 220A               103 I1          XOR     R0,R2                           ;
14652 0000249A 2228               104 I1          TST     R2,R2                           ;
14653                             105 I1          TST_BIT_ON DNDINC_STEP_MK100            ;SW変更有り　再計算
14654 0000249C 8B14                   M           BF      DNDINC_STEP_MK100
14655                             106 I1  
14656 0000249E D108               107 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
14657 000024A0 6011               108 I1          MOV.W   @R1,R0                          ;
14658 000024A2 D108               109 I1          MOV.L   #_CPOS_DND_STOP_DIRECTOLD,R1    ;
14659 000024A4 6211               110 I1          MOV.W   @R1,R2                          ;
14660 000024A6 2101               111 I1          MOV.W   R0,@R1                          ;
14661 000024A8 220A               112 I1          XOR     R0,R2                           ;
14662 000024AA 2228               113 I1          TST     R2,R2                           ;
14663                             114 I1          TST_BIT_ON DNDINC_STEP_MK100            ;DIRD変更有り　再計算
14664 000024AC 8B0C                   M           BF      DNDINC_STEP_MK100
14665                             115 I1          M_BRA   DNDINC_STEP_MK150
14666 000024AE A027                   M           BRA     DNDINC_STEP_MK150
14667 000024B0 0009                   M           NOP
14668                             116 I1  
14669                             117 I1  ;;20060919      M_BRA   DNDINC_STEP_MK300               ;
14670                             118 I1  
14671                             119 I1  
14672                             120 I1  ;       -------- 開始計算--------
14673                                 I1  ***** BEGIN-POOL *****
14674 000024B2 0000                   I1  ALIGNMENT CODE
14675 000024B4 00000000               I1  DATA FOR SOURCE-LINE 93
14676 000024B8 00000000               I1  DATA FOR SOURCE-LINE 98
14677 000024BC 00000000               I1  DATA FOR SOURCE-LINE 100
14678 000024C0 00000000               I1  DATA FOR SOURCE-LINE 107
14679 000024C4 00000000               I1  DATA FOR SOURCE-LINE 109
14680                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   156
PROGRAM NAME =

14681 000024C8                    121 I1  DNDINC_STEP_MK100:
14682 000024C8 D108               122 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14683 000024CA 6011               123 I1          MOV.W   @R1,R0                          ;
14684 000024CC D108               124 I1          MOV.L   #_CPOS_DND_STOP_SWOLD,R1        ;
14685 000024CE 2101               125 I1          MOV.W   R0,@R1                          ;
14686                             126 I1  
14687 000024D0 D108               127 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
14688 000024D2 6211               128 I1          MOV.W   @R1,R2                          ;
14689 000024D4 D108               129 I1          MOV.L   #_CPOS_DND_STOP_DIRECTOLD,R1    ;
14690 000024D6 2121               130 I1          MOV.W   R2,@R1                          ;
14691                             131 I1  
14692 000024D8 C903               132 I1          AND     #(BIT1+BIT0),R0                 ;
14693 000024DA 8803               133 I1          CMP/EQ  #(BIT1+BIT0),R0                 ;
14694 000024DC 8910               134 I1          BT      DNDINC_STEP_MK150               ;
14695                             135 I1  
14696 000024DE D507               136 I1          MOV.L   #_DNDINC_CTRL_STEP,R5           ;
14697 000024E0 9302               137 I1          MOV.W   #1,R3                           ;STEP=1
14698 000024E2 2531               138 I1          MOV.W   R3,@R5                          ;
14699                             139 I1          M_BRA   DNDINC_STEP_MK300               ;
14700 000024E4 A061                   M           BRA     DNDINC_STEP_MK300
14701 000024E6 0009                   M           NOP
14702                             140 I1  
14703                                 I1  ***** BEGIN-POOL *****
14704 000024E8 0001                   I1  DATA FOR SOURCE-LINE 137
14705 000024EA 0000                   I1  ALIGNMENT CODE
14706 000024EC 00000000               I1  DATA FOR SOURCE-LINE 122
14707 000024F0 00000000               I1  DATA FOR SOURCE-LINE 124
14708 000024F4 00000000               I1  DATA FOR SOURCE-LINE 127
14709 000024F8 00000000               I1  DATA FOR SOURCE-LINE 129
14710 000024FC 00000000               I1  DATA FOR SOURCE-LINE 136
14711                                 I1  ***** END-POOL *****
14712 00002500                    141 I1  DNDINC_STEP_MK150:
14713 00002500 D10B               142 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
14714 00002502 6011               143 I1          MOV.W   @R1,R0
14715 00002504 2008               144 I1          TST     R0,R0                           ;
14716                             145 I1          TST_BIT_ON DNDINC_STEP_MK180            ;
14717 00002506 8B19                   M           BF      DNDINC_STEP_MK180
14718                             146 I1  
14719 00002508 940F               147 I1          MOV.W   #_DND_AREA_HIS,R4                                       ;
14720 0000250A D10A               148 I1          MOV.L   #_CPOS_DND_DIGTOP+0*2,R1                                ;
14721 0000250C 6211               149 I1          MOV.W   @R1,R2                                                  ;
14722                             150 I1          DIG_REGA_SUB_REGB_ANS_REGB REGA=R4,REGB=R2,WKREG=R1,LATE=3600   ;dig-2.0
14723 0000250E 3248                   M           SUB     R4,R2
14724 00002510 4211                   M           CMP/PZ  R2
14725 00002512 8901                   M           BT      JMP0100007                      ;
14726 00002514 910A                   M           MOV.W   #3600,R1
14727 00002516 321C                   M           ADD     R1,R2           ;
14728 00002518                        M   JMP0100007                                      ;
14729                             151 I1  
14730 00002518 D107               152 I1          MOV.L   #_CPOS_DND_DIGTOP+1*2,R1        ;
14731 0000251A 6311               153 I1          MOV.W   @R1,R3                          ;
14732                             154 I1          DIG_REGA_SUB_REGB_ANS_REGB REGA=R4,REGB=R3,WKREG=R1,LATE=3600   ;dig-2.0
14733 0000251C 3348                   M           SUB     R4,R3
14734 0000251E 4311                   M           CMP/PZ  R3
14735 00002520 8901                   M           BT      JMP0100008                      ;
14736 00002522 9103                   M           MOV.W   #3600,R1
14737 00002524 331C                   M           ADD     R1,R3           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   157
PROGRAM NAME =

14738 00002526                        M   JMP0100008                                      ;
14739                             155 I1          M_BRA   DNDINC_STEP_MK200
14740 00002526 A018                   M           BRA     DNDINC_STEP_MK200
14741 00002528 0009                   M           NOP
14742                             156 I1  
14743                                 I1  ***** BEGIN-POOL *****
14744 0000252A 0014                   I1  DATA FOR SOURCE-LINE 147
14745 0000252C 0E10                   I1  DATA FOR SOURCE-LINE 150,154
14746 0000252E 0000                   I1  ALIGNMENT CODE
14747 00002530 00000000               I1  DATA FOR SOURCE-LINE 142
14748 00002534 00000000               I1  DATA FOR SOURCE-LINE 148
14749 00002538 00000000               I1  DATA FOR SOURCE-LINE 152
14750                                 I1  ***** END-POOL *****
14751 0000253C                    157 I1  DNDINC_STEP_MK180:                                                      ;
14752                             158 I1  
14753 0000253C 9419               159 I1          MOV.W   #_DND_AREA_HIS,R4                                       ;
14754 0000253E D10E               160 I1          MOV.L   #_CPOS_DND_DIGTOP+0*2,R1                                ;
14755 00002540 6311               161 I1          MOV.W   @R1,R3                                                  ;
14756                             162 I1          DIG_REGA_ADD_REGB_ANS_REGB REGA=R4,REGB=R3,WKREG=R1,LATE=3600   ;
14757 00002542 334C                   M           ADD     R4,R3
14758 00002544 9116                   M           MOV.W   #3600,R1
14759 00002546 3137                   M           CMP/GT  R3,R1           ;359.9<3600
14760 00002548 8900                   M           BT      JMP0100009                      ;
14761 0000254A 3318                   M           SUB     R1,R3           ;
14762 0000254C                        M   JMP0100009                                      ;
14763                             163 I1  
14764 0000254C D10B               164 I1          MOV.L   #_CPOS_DND_DIGTOP+1*2,R1                                ;
14765 0000254E 6211               165 I1          MOV.W   @R1,R2                                                  ;
14766                             166 I1          DIG_REGA_ADD_REGB_ANS_REGB REGA=R4,REGB=R2,WKREG=R1,LATE=3600   ;
14767 00002550 324C                   M           ADD     R4,R2
14768 00002552 910F                   M           MOV.W   #3600,R1
14769 00002554 3127                   M           CMP/GT  R2,R1           ;359.9<3600
14770 00002556 8900                   M           BT      JMP0100010                      ;
14771 00002558 3218                   M           SUB     R1,R2           ;
14772 0000255A                        M   JMP0100010                                      ;
14773                             167 I1  
14774 0000255A                    168 I1  DNDINC_STEP_MK200:                                              ;
14775 0000255A D109               169 I1          MOV.L   #_INC_ENC360,R1                                 ;
14776 0000255C 6411               170 I1          MOV.W   @R1,R4                                          ;
14777                             171 I1  
14778                             172 I1          DIG_AREA_CHK STREG=R3,EDREG=R2,PVREG=R4,ANSREG=R0       ;R0 !=0 範囲内
14779 0000255E 3233                   M           CMP/GE  R3,R2
14780 00002560 8B10                   M           BF      JMP0100011
14781                                 M   ;       === 0度をはさなまい===
14782 00002562 200A                   M           XOR     R0,R0
14783 00002564 3433                   M           CMP/GE  R3,R4           ;
14784 00002566 8B13                   M           BF      JMP0200011                      ; PV<SV1
14785 00002568 3243                   M           CMP/GE  R4,R2           ;
14786 0000256A 8B11                   M           BF      JMP0200011                      ; SV2<PV2 (1)
14787 0000256C E001                   M           MOV     #1,R0           ;
14788                                 M           M_BRA   JMP0200011                      ;
14789 0000256E A00F                   M           BRA     JMP0200011
14790 00002570 0009                   M           NOP
14791                                 M   
14792                                 M   ;       ==== ０度をはさむ====
14793                                 M   ***** BEGIN-POOL *****
14794 00002572 0014                   M   DATA FOR SOURCE-LINE 159
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   158
PROGRAM NAME =

14795 00002574 0E10                   M   DATA FOR SOURCE-LINE 162,166
14796 00002576 0000                   M   ALIGNMENT CODE
14797 00002578 00000000               M   DATA FOR SOURCE-LINE 160
14798 0000257C 00000000               M   DATA FOR SOURCE-LINE 164
14799 00002580 00000000               M   DATA FOR SOURCE-LINE 169
14800                                 M   ***** END-POOL *****
14801 00002584                        M   JMP0100011:
14802 00002584 E001                   M           MOV     #1,R0
14803 00002586 3433                   M           CMP/GE  R3,R4
14804 00002588 8902                   M           BT      JMP0200011                      ;SV1=<PV=<360
14805 0000258A 3243                   M           CMP/GE  R4,R2           ;
14806 0000258C 8900                   M           BT      JMP0200011                      ;
14807 0000258E 200A                   M           XOR     R0,R0           ;
14808 00002590                        M   JMP0200011:
14809 00002590 2008               173 I1          TST     R0,R0                                           ;
14810                             174 I1          TST_BIT_OF DNDINC_STEP_MK220                            ;
14811 00002592 8907                   M           BT      DNDINC_STEP_MK220
14812 00002594 D502               175 I1          MOV.L   #_DNDINC_CTRL_STEP,R5                           ;
14813 00002596 9302               176 I1          MOV.W   #2,R3                                           ;STEP=2 待機点に戻ってきて
                                          いる
14814 00002598 2531               177 I1          MOV.W   R3,@R5                                          ;
14815                             178 I1          M_BRA   DNDINC_STEP_MK300                               ;
14816 0000259A A006                   M           BRA     DNDINC_STEP_MK300
14817 0000259C 0009                   M           NOP
14818                                 I1  ***** BEGIN-POOL *****
14819 0000259E 0002                   I1  DATA FOR SOURCE-LINE 176
14820 000025A0 00000000               I1  DATA FOR SOURCE-LINE 175
14821                                 I1  ***** END-POOL *****
14822 000025A4                    179 I1  DNDINC_STEP_MK220:                                              ;
14823 000025A4 D503               180 I1          MOV.L   #_DNDINC_CTRL_STEP,R5                           ;
14824 000025A6 9303               181 I1          MOV.W   #1,R3                                           ;STEP=1 待機点を越えている
14825 000025A8 2531               182 I1          MOV.W   R3,@R5                                          ;
14826 000025AA                    183 I1  DNDINC_STEP_MK300:
14827                             184 I1          SUB_END
14828                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14829 000025AA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14830                             185 I1          M_RTS
14831 000025AC 000B                   M           RTS                             ;RTSの後ろの
14832 000025AE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14833                             186 I1  
14834                             187 I1  ;       ***********************************
14835                             188 I1  ;       ***                             ***
14836                             189 I1  ;       ***     工程からの目標位置作成  ***
14837                             190 I1  ;       ***                             ***
14838                             191 I1  ;       ***********************************
14839                                 I1  ***** BEGIN-POOL *****
14840 000025B0 0001                   I1  DATA FOR SOURCE-LINE 181
14841 000025B2 0000                   I1  ALIGNMENT CODE
14842 000025B4 00000000               I1  DATA FOR SOURCE-LINE 180
14843                                 I1  ***** END-POOL *****
14844 000025B8                    192 I1  _DNDINC_MAKE_OBJPOS:
14845                             193 I1          SUB_START
14846 000025B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
14847                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14848                             194 I1  
14849 000025BA D104               195 I1          MOV.L   #_CPOS_DND_STOP_SW,R1           ;
14850 000025BC 6011               196 I1          MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   159
PROGRAM NAME =

14851 000025BE C903               197 I1          AND     #(BIT1+BIT0),R0                 ;
14852 000025C0 8803               198 I1          CMP/EQ  #(BIT1+BIT0),R0                 ;
14853 000025C2 8905               199 I1          BT      DNDINC_MAKOBJPOS_100            ;
14854                             200 I1  
14855 000025C4 C801               201 I1          TST     #BIT0,R0                        ;待機点のみ
14856                             202 I1          TST_BIT_ON DNDINC_MAKOBJPOS_120         ;YES
14857 000025C6 8B08                   M           BF      DNDINC_MAKOBJPOS_120
14858                             203 I1          M_BRA   DNDINC_MAKOBJPOS_150            ;途中位置
14859 000025C8 A010                   M           BRA     DNDINC_MAKOBJPOS_150
14860 000025CA 0009                   M           NOP
14861                             204 I1  
14862                                 I1  ***** BEGIN-POOL *****
14863 000025CC 00000000               I1  DATA FOR SOURCE-LINE 195
14864                                 I1  ***** END-POOL *****
14865 000025D0                    205 I1  DNDINC_MAKOBJPOS_100:
14866 000025D0 D104               206 I1          MOV.L   #_DNDINC_CTRL_STEP,R1           ;
14867 000025D2 6311               207 I1          MOV.W   @R1,R3                          ;
14868 000025D4 9205               208 I1          MOV.W   #2,R2                           ;
14869 000025D6 3230               209 I1          CMP/EQ  R3,R2
14870 000025D8 8B08               210 I1          BF      DNDINC_MAKOBJPOS_150            ;
14871 000025DA                    211 I1  DNDINC_MAKOBJPOS_120:
14872 000025DA D103               212 I1          MOV.L   #_CPOS_DND_PLSTOP+0*4,R1        ;
14873 000025DC 6212               213 I1          MOV.L   @R1,R2                          ;STEP2=待機点に戻る
14874                             214 I1          M_BRA   DNDINC_MAKOBJPOS_200            ;
14875 000025DE A007                   M           BRA     DNDINC_MAKOBJPOS_200
14876 000025E0 0009                   M           NOP
14877                             215 I1  
14878                                 I1  ***** BEGIN-POOL *****
14879 000025E2 0002                   I1  DATA FOR SOURCE-LINE 208
14880 000025E4 00000000               I1  DATA FOR SOURCE-LINE 206
14881 000025E8 00000000               I1  DATA FOR SOURCE-LINE 212
14882                                 I1  ***** END-POOL *****
14883 000025EC                    216 I1  DNDINC_MAKOBJPOS_150:
14884 000025EC D104               217 I1          MOV.L   #_CPOS_DND_PLSTOP+1*4,R1        ;
14885 000025EE 6212               218 I1          MOV.L   @R1,R2                          ;STEP1=待機点から次へ出発
14886                             219 I1  
14887 000025F0                    220 I1  DNDINC_MAKOBJPOS_200:
14888 000025F0 D104               221 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;
14889 000025F2 6011               222 I1          MOV.W   @R1,R0
14890                             223 I1          FAR_JSR #_LNKPLS_OBJ_DAT_MAK2,R1        ;
14891 000025F4 D104                   M           MOV.L   #_LNKPLS_OBJ_DAT_MAK2,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14892 000025F6 410B                   M           JSR     @R1                     ;
14893 000025F8 0009                   M           NOP                                     ;
14894                             224 I1  
14895                             225 I1  
14896                             226 I1          SUB_END
14897                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
14898 000025FA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
14899                             227 I1          M_RTS
14900 000025FC 000B                   M           RTS                             ;RTSの後ろの
14901 000025FE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
14902                             228 I1  
14903                             229 I1  ;       *******************************************
14904                             230 I1  ;       ***                                     ***
14905                             231 I1  ;       ***     Input R2                        ***
14906                             232 I1  ;       ***     ﾘﾝｸ(内部制御)ﾊﾟﾙｽ               ***
14907                             233 I1  ;       ***     Input R0 DIRECT                 ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   160
PROGRAM NAME =

14908                             234 I1  ;       ***     方向固定                        ***
14909                             235 I1  ;       ***                                     ***
14910                             236 I1  ;       *******************************************
14911                             237 I1  ;       MOV.L   #_SETX_DNAREA_JG_PLS,R4                 ;反転設定不可範囲LINK-PLS
14912                             238 I1  ;       MOV.L   @R4,R2                                  ;
14913                             239 I1  
14914                                 I1  ***** BEGIN-POOL *****
14915 00002600 00000000               I1  DATA FOR SOURCE-LINE 217
14916 00002604 00000000               I1  DATA FOR SOURCE-LINE 221
14917 00002608 00000000               I1  DATA FOR SOURCE-LINE 223
14918                                 I1  ***** END-POOL *****
14919 0000260C                    240 I1  _LNKPLS_OBJ_DAT_MAK2:
14920                             241 I1          SUB_START
14921 0000260C 4F22                   M           STS.L   PR,@-R15                ;[必要]
14922                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
14923                             242 I1          PUSH_REG1 R0                                    ;SHIN
14924 0000260E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
14925                                 M                                           ;REG=>[SP]
14926                                 M                                           ;"-4" FF,FF,FF,FC
14927                             243 I1          PUSH_REG1 R2                                    ;1ROT DATA
14928 00002610 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
14929                                 M                                           ;REG=>[SP]
14930                                 M                                           ;"-4" FF,FF,FF,FC
14931                             244 I1  
14932                             245 I1  ;;      MOV.L   #_LINK_PV_ABSPLS,R4             ;
14933                             246 I1  ;;      MOV.L   @R4+,R1                                 ;
14934                             247 I1  ;;      MOV.L   @R4,R2                                  ;
14935                             248 I1  ;;      MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
14936                             249 I1  ;;      MOV.L   R1,@(0,R4)                              ;
14937                             250 I1  ;;      MOV.L   R2,@(4,R4)                              ;
14938                             251 I1  
14939                             252 I1          FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
14940 00002612 D010                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14941 00002614 400B                   M           JSR     @R0                     ;
14942 00002616 0009                   M           NOP                                     ;
14943                             253 I1  
14944                             254 I1          FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
14945 00002618 D00F                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14946 0000261A 400B                   M           JSR     @R0                     ;
14947 0000261C 0009                   M           NOP                                     ;
14948                             255 I1  
14949                             256 I1  
14950                             257 I1  ;       === 目標角度() ====
14951 0000261E D40F               258 I1          MOV.L   #_LINK_NOWROT_OFSPLS_P,R4               ;[目標側の位置]
14952 00002620 6142               259 I1          MOV.L   @R4,R1                                  ;現在 ***.* pls "+"data
14953                             260 I1                                                          ;目標 ***.* pls
14954                             261 I1          POP_REG1 R2                                     ;
14955                                 M                                   ; RE"+4" 00,00,00,04
14956 00002622 62F6                   M           MOV.L   @R15+,R2        ;
14957                             262 I1          POP_REG1 R0                                     ;
14958                                 M                                   ; RE"+4" 00,00,00,04
14959 00002624 60F6                   M           MOV.L   @R15+,R0        ;
14960 00002626 2008               263 I1          TST     R0,R0                                   ;
14961                             264 I1          TST_BIT_ON LNKPLS_OBJ_DAT_MK2_100               ;DIRECT MINAS
14962 00002628 8B20                   M           BF      LNKPLS_OBJ_DAT_MK2_100
14963                             265 I1  ;--------FWD-----------
14964 0000262A 3218               266 I1          SUB     R1,R2                                   ;R1(PV) < R2(SV);
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   161
PROGRAM NAME =

14965 0000262C 4215               267 I1          CMP/PL  R2                                      ;
14966 0000262E 8908               268 I1          BT      LNKPLS_OBJ_DAT_MK2_050                  ;YES
14967 00002630 D50B               269 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;
14968 00002632 6452               270 I1          MOV.L   @R5,R4                                  ;
14969 00002634 324C               271 I1          ADD     R4,R2                                   ;
14970 00002636 4211               272 I1          CMP/PZ  R2
14971 00002638 8903               273 I1          BT      LNKPLS_OBJ_DAT_MK2_050                  ;0,+
14972                             274 I1          FAR_JSR #_POS_CALC_MISS0,R1                     ;EMG-ERR
14973 0000263A D10A                   M           MOV.L   #_POS_CALC_MISS0,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
14974 0000263C 410B                   M           JSR     @R1                     ;
14975 0000263E 0009                   M           NOP                                     ;
14976 00002640 222A               275 I1          XOR     R2,R2                                   ;
14977 00002642                    276 I1  LNKPLS_OBJ_DAT_MK2_050                                  ;+1REV
14978                             277 I1  ;       ----------------ﾆｱｾﾞﾛなら1回転+する----------------
14979 00002642 D109               278 I1          MOV.L   #_SET1_OBJARA_INPXPLS,R1                ;
14980 00002644 6311               279 I1          MOV.W   @R1,R3                                  ;
14981 00002646 3233               280 I1          CMP/GE  R3,R2                                   ;
14982 00002648 8902               281 I1          BT      LNKPLS_OBJ_DAT_MK2_080                  ;
14983 0000264A D505               282 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;
14984 0000264C 6452               283 I1          MOV.L   @R5,R4                                  ;
14985 0000264E 324C               284 I1          ADD     R4,R2                                   ;
14986 00002650                    285 I1  LNKPLS_OBJ_DAT_MK2_080                                  ;
14987                             286 I1          M_BRA   LNKPLS_OBJ_DAT_MK2_300                  ;
14988 00002650 A020                   M           BRA     LNKPLS_OBJ_DAT_MK2_300
14989 00002652 0009                   M           NOP
14990                             287 I1  
14991                             288 I1  
14992                             289 I1  ;--------REV-----------
14993                                 I1  ***** BEGIN-POOL *****
14994 00002654 00000000               I1  DATA FOR SOURCE-LINE 252
14995 00002658 00000000               I1  DATA FOR SOURCE-LINE 254
14996 0000265C 00000000               I1  DATA FOR SOURCE-LINE 258
14997 00002660 00000000               I1  DATA FOR SOURCE-LINE 269,282
14998 00002664 00000000               I1  DATA FOR SOURCE-LINE 274
14999 00002668 00000000               I1  DATA FOR SOURCE-LINE 278
15000                                 I1  ***** END-POOL *****
15001 0000266C                    290 I1  LNKPLS_OBJ_DAT_MK2_100:                                 ;R2
15002 0000266C 3218               291 I1          SUB     R1,R2                                   ;R1(PV) > R2(SV)
15003 0000266E 4211               292 I1          CMP/PZ  R2                                      ;
15004 00002670 8B02               293 I1          BF      LNKPLS_OBJ_DAT_MK2_150                  ;YES
15005 00002672 D51D               294 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;"0,+"
15006 00002674 6452               295 I1          MOV.L   @R5,R4                                  ;
15007 00002676 3248               296 I1          SUB     R4,R2                                   ;
15008 00002678                    297 I1  LNKPLS_OBJ_DAT_MK2_150                                  ;-1REV
15009 00002678 4215               298 I1          CMP/PL  R2                                      ;
15010 0000267A 8B03               299 I1          BF      LNKPLS_OBJ_DAT_MK2_200                  ;0,"-"
15011                             300 I1          FAR_JSR #_POS_CALC_MISS0,R1                     ;EMG-ERR
15012 0000267C D11B                   M           MOV.L   #_POS_CALC_MISS0,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15013 0000267E 410B                   M           JSR     @R1                     ;
15014 00002680 0009                   M           NOP                                     ;
15015 00002682 222A               301 I1          XOR     R2,R2                                   ;
15016 00002684                    302 I1  LNKPLS_OBJ_DAT_MK2_200                                  ;
15017                             303 I1  
15018                             304 I1  ;       ----------------ﾆｱｾﾞﾛなら1回転+する----------------
15019 00002684 D11A               305 I1          MOV.L   #_SET1_OBJARA_INPXPLS,R1                ;
15020 00002686 6311               306 I1          MOV.W   @R1,R3                                  ;
15021 00002688 633B               307 I1          NEG     R3,R3                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   162
PROGRAM NAME =

15022 0000268A 3233               308 I1          CMP/GE  R3,R2                                   ;-2000
15023 0000268C 8B02               309 I1          BF      LNKPLS_OBJ_DAT_MK2_280                  ;
15024 0000268E D516               310 I1          MOV.L   #_LINK_1ROT_PLS,R5                      ;
15025 00002690 6452               311 I1          MOV.L   @R5,R4                                  ;
15026 00002692 3248               312 I1          SUB     R4,R2                                   ;
15027 00002694                    313 I1  LNKPLS_OBJ_DAT_MK2_280                                  ;
15028                             314 I1  ;       ---------------------------------------------------
15029                             315 I1  
15030                             316 I1  
15031 00002694                    317 I1  LNKPLS_OBJ_DAT_MK2_300                                  ;
15032 00002694 255A               318 I1          XOR     R5,R5                                   ;
15033 00002696 6623               319 I1          MOV     R2,R6                                   ;R5,R6
15034 00002698 4211               320 I1          CMP/PZ  R2                                      ;
15035 0000269A 8900               321 I1          BT      LNKPLS_OBJ_DAT_MK2_600                  ;
15036 0000269C E5FF               322 I1          MOV     #-1,R5                                  ;
15037 0000269E                    323 I1  LNKPLS_OBJ_DAT_MK2_600:                                 ;
15038                             324 I1  
15039                             325 I1  
15040 0000269E D415               326 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
                                                  ;
15041 000026A0 6146               327 I1          MOV.L   @R4+,R1                                 ;
15042 000026A2 6242               328 I1          MOV.L   @R4,R2                                  ;
15043                             329 I1          PUSH_REG1 R1
15044 000026A4 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
15045                                 M                                           ;REG=>[SP]
15046                                 M                                           ;"-4" FF,FF,FF,FC
15047                             330 I1          PUSH_REG1 R2
15048 000026A6 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
15049                                 M                                           ;REG=>[SP]
15050                                 M                                           ;"-4" FF,FF,FF,FC
15051                             331 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
15052 000026A8 0008                   M           CLRT
15053 000026AA 326E                   M           ADDC    R6,R2
15054 000026AC 315E                   M           ADDC    R5,R1
15055                             332 I1  
15056 000026AE D412               333 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                         ;//abs停止目標位置(設定ﾊﾞｯ
                                          ｸﾗｯｼなし)
15057 000026B0 2412               334 I1          MOV.L   R1,@R4                                          ;
15058 000026B2 1421               335 I1          MOV.L   R2,@(1*4,R4)                                    ;目標位置ｾｯﾄ
15059                             336 I1          POP_REG1 R6
15060                                 M                                   ; RE"+4" 00,00,00,04
15061 000026B4 66F6                   M           MOV.L   @R15+,R6        ;
15062                             337 I1          POP_REG1 R5
15063                                 M                                   ; RE"+4" 00,00,00,04
15064 000026B6 65F6                   M           MOV.L   @R15+,R5        ;
15065                             338 I1  
15066                             339 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
15067 000026B8 0008                   M           CLRT
15068 000026BA 326A                   M           SUBC    R6,R2
15069 000026BC 315A                   M           SUBC    R5,R1
15070 000026BE 233A               340 I1          XOR     R3,R3
15071 000026C0 4111               341 I1          CMP/PZ  R1                              ;
15072 000026C2 8900               342 I1          BT      LNKPLS_OBJ_DAT_MK2_750          ;
15073 000026C4 E301               343 I1          MOV     #BIT0,R3                        ;
15074 000026C6                    344 I1  LNKPLS_OBJ_DAT_MK2_750:                         ;
15075 000026C6 D10D               345 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
15076 000026C8 6211               346 I1          MOV.W   @R1,R2                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   163
PROGRAM NAME =

15077 000026CA 2131               347 I1          MOV.W   R3,@R1                          ;
15078 000026CC 223A               348 I1          XOR     R3,R2                           ;
15079 000026CE 2228               349 I1          TST     R2,R2                           ;
15080                             350 I1          TST_BIT_OF LNKPLS_OBJ_DAT_MK2_800       ;
15081 000026D0 8902                   M           BT      LNKPLS_OBJ_DAT_MK2_800
15082                             351 I1          FAR_JSR #_POS_CALC_MISS0,R1                     ;EMG-ERR
15083 000026D2 D106                   M           MOV.L   #_POS_CALC_MISS0,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15084 000026D4 410B                   M           JSR     @R1                     ;
15085 000026D6 0009                   M           NOP                                     ;
15086 000026D8                    352 I1  LNKPLS_OBJ_DAT_MK2_800:                         ;
15087                             353 I1  
15088 000026D8 D109               354 I1          MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
15089 000026DA 6011               355 I1          MOV.W   @R1,R0                          ;
15090 000026DC C9FE               356 I1          AND     #LOW ~BIT0,R0                   ;
15091 000026DE 203B               357 I1          OR      R3,R0                           ;
15092 000026E0 2101               358 I1          MOV.W   R0,@R1                          ;
15093                             359 I1  
15094                             360 I1          SUB_END
15095                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15096 000026E2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15097                             361 I1          M_RTS
15098 000026E4 000B                   M           RTS                             ;RTSの後ろの
15099 000026E6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15100                             362 I1  
15101                             363 I1  
15102                            5167     
15103                            5168     
15104                            5169     ;       *******************************************
15105                            5170     ;       ***                                     ***
15106                            5171     ;       ***     手動パルサ仕様                  ***
15107                            5172     ;       ***                                     ***
15108                            5173     ;       *******************************************
15109                            5174     ;       0.5秒以内に2ﾊﾟﾙｽ以上増えたら起動
15110                            5175     ;
15111                            5176     ;
15112                            5177             .INCLUDE        "ssa_tep1.inc"          ; //
15113                               1 I1  ;       ***********************************
15114                               2 I1  ;       ***                             ***
15115                               3 I1  ;       ***     手動パルサコントロール  ***
15116                               4 I1  ;       ***                             ***
15117                               5 I1  ;       ***********************************
15118                               6 I1  ;       両手offで終了
15119                               7 I1  ;       符号チェンジ
15120                               8 I1  ;       符号チェンジによる停止指令
15121                               9 I1  ;       停止待ち
15122                              10 I1  ;
15123                              11 I1  ;       +方向動作中にｶｳﾝﾀが"-1以下"になったら+動作完了後"-"に戻す：ｶｳﾝﾀの更新,0CLRは行なわ
                                          ない
15124                              12 I1  ;       -方向動作中にｶｳﾝﾀが"+1以上"になったら-動作完了後"+"に進める:
15125                              13 I1  ;
15126                              14 I1  ;       (1)DIRECTIONﾌﾗｸﾞとｶｳﾝﾀを比較する
15127                              15 I1  ;       (2-1)同じ方向にﾊﾟﾙｽが増えたらｶｳﾝﾀ→位置決めLSIに足しこむ.ｶｳﾝﾀ=0とする
15128                              16 I1  ;       (2-2)逆方向に増えたらﾊﾟﾙｽ払い出しを待つ
15129                              17 I1  ;BIT1   (>3-1)残りﾊﾟﾙｽ=0になったら指令をOFFする。：：：ｽﾃｯﾌﾟｼｰｹﾝｽ開始
15130                              18 I1  ;BIT2   (>3-2)位置決め完了したら10msecWAITする
15131                              19 I1  ;BIT6   (>3-3)起動演算を行なう
15132                              20 I1  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   164
PROGRAM NAME =

15133                              21 I1  ;       TEP_STEP_FLG
15134                              22 I1  ;               .BIT0 払出完了
15135                              23 I1  ;               .BIT1 5msecWAIT
15136                              24 I1  ;
15137                              25 I1  ;
15138                              26 I1  ;       plsData-->start-on
15139                              27 I1          .EXPORT _TEP_FLG_CLR
15140                              28 I1          .EXPORT _TEPA_START_CHK                 ;
15141                              29 I1          .EXPORT _TEPA_PLSCNT_CLR                ;
15142                              30 I1          .EXPORT _TEPA_PLSCNT_CHK                ;
15143                              31 I1  
15144                              32 I1          .IMPORT _PAR_TEP_WATTIM         ;3 1~50msec
15145                              33 I1          .IMPORT _PAR_TEP_BEFPLS         ;4 10pls
15146                              34 I1          .IMPORT _PAR_TEP_MINSPD         ;
15147                              35 I1  
15148                              36 I1  ;;;;まだ組み込まない    .IMPORT _SH4toSH2_TEPSIG        ;
15149                              37 I1  ;;;;まだ組み込まない    .IMPORT _SH2toSH4_TEPSIG        ;
15150                              38 I1  
15151                              39 I1  
15152                                 I1  ***** BEGIN-POOL *****
15153 000026E8 00000000               I1  DATA FOR SOURCE-LINE 294,310
15154 000026EC 00000000               I1  DATA FOR SOURCE-LINE 300,351
15155 000026F0 00000000               I1  DATA FOR SOURCE-LINE 305
15156 000026F4 00000000               I1  DATA FOR SOURCE-LINE 326
15157 000026F8 00000000               I1  DATA FOR SOURCE-LINE 333
15158 000026FC 00000000               I1  DATA FOR SOURCE-LINE 345
15159 00002700 00000000               I1  DATA FOR SOURCE-LINE 354
15160                                 I1  ***** END-POOL *****
15161 00002704                     40 I1  _DND_TEP_STEP_CTRL:
15162                              41 I1          SUB_START
15163 00002704 4F22                   M           STS.L   PR,@-R15                ;[必要]
15164                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15165                              42 I1  
15166                              43 I1  ;       -------- 2013-06-05 -----------------------------
15167                              44 I1          DN_TIME LG=W,MEM_ADR=_TEP_CNTSMP_TIM,WKREG1=R1,WKREG2=R2        ;定周期
15168 00002706 D107                   M           MOV.L   #_TEP_CNTSMP_TIM,R1             ;SORCE ADRESS SET
15169 00002708 6211                   M           MOV.W   @R1,R2          ;
15170 0000270A 2228                   M           TST     R2,R2                   ;
15171 0000270C 8901                   M           BT      JMP_0100012                     ;ZERO THEN JUMP
15172 0000270E 4210                   M           DT      R2                              ;
15173 00002710 2121                   M           MOV.W   R2,@R1          ;STORE
15174 00002712                        M   JMP_0100012:
15175                              45 I1  
15176                              46 I1  
15177                              47 I1          FAR_JSR #_TEP_ADD_PLS_MAK,R0            ;
15178 00002712 D005                   M           MOV.L   #_TEP_ADD_PLS_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15179 00002714 400B                   M           JSR     @R0                     ;
15180 00002716 0009                   M           NOP                                     ;
15181                              48 I1  
15182 00002718 D104                49 I1          MOV.L   #_TEP_STEP_FLG,R1               ;
15183 0000271A 6011                50 I1          MOV.W   @R1,R0                          ;
15184 0000271C C802                51 I1          TST     #BIT1,R0                        ;
15185                              52 I1          TST_BIT_OF DND_TEPSTEPCTL_020           ;
15186 0000271E 8907                   M           BT      DND_TEPSTEPCTL_020
15187                              53 I1          M_BRA   DND_TEPSTEPCTL_400              ;
15188 00002720 A056                   M           BRA     DND_TEPSTEPCTL_400
15189 00002722 0009                   M           NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   165
PROGRAM NAME =

15190                                 I1  ***** BEGIN-POOL *****
15191 00002724 00000000               I1  DATA FOR SOURCE-LINE 44
15192 00002728 00000000               I1  DATA FOR SOURCE-LINE 47
15193 0000272C 00000000               I1  DATA FOR SOURCE-LINE 49
15194                                 I1  ***** END-POOL *****
15195 00002730                     54 I1  DND_TEPSTEPCTL_020:
15196                              55 I1  
15197 00002730 C801                56 I1          TST     #BIT0,R0                        ;
15198                              57 I1          TST_BIT_ON DND_TEPSTEPCTL_200           ;
15199 00002732 8B23                   M           BF      DND_TEPSTEPCTL_200
15200                              58 I1  
15201                              59 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0     ;
15202 00002734 D00B                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15203 00002736 400B                   M           JSR     @R0                     ;
15204 00002738 0009                   M           NOP                                     ;
15205                              60 I1          FAR_JSR #_LOD_POS_STS_REG,R1            ;
15206 0000273A D10B                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15207 0000273C 410B                   M           JSR     @R1                     ;
15208 0000273E 0009                   M           NOP                                     ;
15209 00002740 C804                61 I1          TST     #BIT2,R0                        ;停止?
15210                              62 I1          TST_BIT_OF DND_TEPSTEPCTL_180           ;NO 停止中? 0:払出中 1:停止
15211 00002742 890D                   M           BT      DND_TEPSTEPCTL_180
15212                              63 I1  
15213                              64 I1  
15214                              65 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0
15215 00002744 D009                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15216 00002746 400B                   M           JSR     @R0                     ;
15217 00002748 0009                   M           NOP                                     ;
15218                              66 I1  ;;まだ組み込まない      FAR_JSR #_TEP_CPUAB_HAND_CLR,R0         ;
15219                              67 I1  
15220                              68 I1  ;       ------ ILDE[0,0] 1回だけではないよ！！--------
15221 0000274A D109                69 I1          MOV.L   #_TEP_POS_ADD_CNT,R1                                            ;
15222 0000274C 6212                70 I1          MOV.L   @R1,R2                                                          ;
15223 0000274E 2228                71 I1          TST     R2,R2                                                           ;
15224                              72 I1          TST_BIT_OF DND_TEPSTEPCTL_180                                           ;
15225 00002750 8906                   M           BT      DND_TEPSTEPCTL_180
15226                              73 I1                                                                                  ;ﾊﾟﾙｽ有り
                                          遷移1
15227                              74 I1          FAR_JSR #_INT_TEP_RESTART,R0                                            ;2013-05-2
                                          6
15228 00002752 D008                   M           MOV.L   #_INT_TEP_RESTART,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15229 00002754 400B                   M           JSR     @R0                     ;
15230 00002756 0009                   M           NOP                                     ;
15231                              75 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1        ;[この時点
                                          でﾊﾟﾙｽ設定していない]
15232 00002758 D107                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
15233 0000275A 6011                   M           MOV.W   @R1,R0          ;
15234 0000275C CB01                   M           OR      #BIT0,R0                ;
15235 0000275E 2101                   M           MOV.W   R0,@R1          ;
15236                              76 I1  
15237 00002760                     77 I1  DND_TEPSTEPCTL_180:
15238                              78 I1          M_BRA   DND_TEPSTEPCTL_900              ;
15239 00002760 A057                   M           BRA     DND_TEPSTEPCTL_900
15240 00002762 0009                   M           NOP
15241                              79 I1  
15242                              80 I1  ;       -------------- 払い出し待ち------------
15243                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   166
PROGRAM NAME =

15244 00002764 00000000               I1  DATA FOR SOURCE-LINE 59
15245 00002768 00000000               I1  DATA FOR SOURCE-LINE 60
15246 0000276C 00000000               I1  DATA FOR SOURCE-LINE 65
15247 00002770 00000000               I1  DATA FOR SOURCE-LINE 69
15248 00002774 00000000               I1  DATA FOR SOURCE-LINE 74
15249 00002778 00000000               I1  DATA FOR SOURCE-LINE 75
15250                                 I1  ***** END-POOL *****
15251 0000277C                     81 I1  DND_TEPSTEPCTL_200:
15252                              82 I1          FAR_JSR #_FWD_REV_STSIG_OFF_SPEC,R0                                     ;
15253 0000277C D00A                   M           MOV.L   #_FWD_REV_STSIG_OFF_SPEC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15254 0000277E 400B                   M           JSR     @R0                     ;
15255 00002780 0009                   M           NOP                                     ;
15256                              83 I1          FAR_JSR #_LOD_POS_STS_REG,R1                                            ;
15257 00002782 D10A                   M           MOV.L   #_LOD_POS_STS_REG,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15258 00002784 410B                   M           JSR     @R1                     ;
15259 00002786 0009                   M           NOP                                     ;
15260 00002788 C804                84 I1          TST     #BIT2,R0                                                        ;停止?
15261                              85 I1          TST_BIT_OF DND_TEPSTEPCTL_220                                           ;NO 停止中
                                          ? 0:払出中 1:停止
15262 0000278A 8919                   M           BT      DND_TEPSTEPCTL_220
15263                              86 I1  
15264                              87 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1        ;[払い出し
                                          完了 遷移2]
15265 0000278C D108                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
15266 0000278E 6011                   M           MOV.W   @R1,R0          ;
15267 00002790 CB02                   M           OR      #BIT1,R0                ;
15268 00002792 2101                   M           MOV.W   R0,@R1          ;
15269                              88 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0                                          ;
15270 00002794 D007                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15271 00002796 400B                   M           JSR     @R0                     ;
15272 00002798 0009                   M           NOP                                     ;
15273                              89 I1  
15274                              90 I1  
15275                              91 I1  ;       ------- 2013-06-05 払出完了開始遅延100ms--------
15276 0000279A D107                92 I1          MOV.L   #_TEP_STEP_SVWTTM1,R1                                           ;//2013-06
                                          -05
15277 0000279C 6211                93 I1          MOV.W   @R1,R2                                                          ;
15278 0000279E D107                94 I1          MOV.L   #_TEP_STEP_WTTM,R1                                              ;
15279 000027A0 2121                95 I1          MOV.W   R2,@R1                                                          ;
15280                              96 I1          M_BRA   DND_TEPSTEPCTL_900                                              ;
15281 000027A2 A036                   M           BRA     DND_TEPSTEPCTL_900
15282 000027A4 0009                   M           NOP
15283                              97 I1  
15284                                 I1  ***** BEGIN-POOL *****
15285 000027A6 0000                   I1  ALIGNMENT CODE
15286 000027A8 00000000               I1  DATA FOR SOURCE-LINE 82
15287 000027AC 00000000               I1  DATA FOR SOURCE-LINE 83
15288 000027B0 00000000               I1  DATA FOR SOURCE-LINE 87
15289 000027B4 00000000               I1  DATA FOR SOURCE-LINE 88
15290 000027B8 00000000               I1  DATA FOR SOURCE-LINE 92
15291 000027BC 00000000               I1  DATA FOR SOURCE-LINE 94
15292                                 I1  ***** END-POOL *****
15293 000027C0                     98 I1  DND_TEPSTEPCTL_220:                                                             ;
15294                              99 I1  ;       2013-05-20 動作中の加算                                         ;
15295                             100 I1  
15296                             101 I1          FAR_JSR #_TEPA_ADD_LSI,R0                                       ;
15297 000027C0 D002                   M           MOV.L   #_TEPA_ADD_LSI,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   167
PROGRAM NAME =

15298 000027C2 400B                   M           JSR     @R0                     ;
15299 000027C4 0009                   M           NOP                                     ;
15300                             102 I1  
15301 000027C6                    103 I1  DND_TEPSTEPCTL_290:                                                     ;
15302                             104 I1          M_BRA   DND_TEPSTEPCTL_900                                      ;
15303 000027C6 A024                   M           BRA     DND_TEPSTEPCTL_900
15304 000027C8 0009                   M           NOP
15305                             105 I1  
15306                             106 I1  
15307                             107 I1  ;       -------- 遅延待ち--------
15308                                 I1  ***** BEGIN-POOL *****
15309 000027CA 0000                   I1  ALIGNMENT CODE
15310 000027CC 00000000               I1  DATA FOR SOURCE-LINE 101
15311                                 I1  ***** END-POOL *****
15312 000027D0                    108 I1  DND_TEPSTEPCTL_400:
15313 000027D0 D103               109 I1          MOV.L   #_TEP_STEP_WTTM,R1                              ;
15314 000027D2 6011               110 I1          MOV.W   @R1,R0                                          ;
15315 000027D4 2008               111 I1          TST     R0,R0                                           ;
15316                             112 I1          TST_BIT_OF DND_TEPSTEPCTL_420                           ;
15317 000027D6 8905                   M           BT      DND_TEPSTEPCTL_420
15318 000027D8 70FF               113 I1          ADD     #-1,R0                                          ;
15319 000027DA 2101               114 I1          MOV.W   R0,@R1                                          ;
15320                             115 I1  
15321                             116 I1  ;;まだ組み込まない      FAR_JSR #_TEP_CPUAB_HAND_CLR,R0                         ;
15322                             117 I1          M_BRA   DND_TEPSTEPCTL_900                              ;
15323 000027DC A019                   M           BRA     DND_TEPSTEPCTL_900
15324 000027DE 0009                   M           NOP
15325                             118 I1  
15326                             119 I1  
15327                                 I1  ***** BEGIN-POOL *****
15328 000027E0 00000000               I1  DATA FOR SOURCE-LINE 109
15329                                 I1  ***** END-POOL *****
15330 000027E4                    120 I1  DND_TEPSTEPCTL_420:                                             ;
15331                             121 I1  
15332                             122 I1  ;       ---- ﾀｲﾏ中にﾊﾟﾙｽがあった。再起動[BIT1->BIT0]--------
15333 000027E4 D106               123 I1          MOV.L   #_TEP_POS_ADD_CNT,R1                                            ;
15334 000027E6 6012               124 I1          MOV.L   @R1,R0                                                          ;
15335 000027E8 2008               125 I1          TST     R0,R0                                                           ;
15336                             126 I1          TST_BIT_OF DND_TEPSTEPCTL_800                                           ;
15337 000027EA 890F                   M           BT      DND_TEPSTEPCTL_800
15338                             127 I1  
15339                             128 I1          FAR_JSR #_INT_TEP_RESTART,R0                                            ;
15340 000027EC D005                   M           MOV.L   #_INT_TEP_RESTART,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15341 000027EE 400B                   M           JSR     @R0                     ;
15342 000027F0 0009                   M           NOP                                     ;
15343                             129 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_STEP_FLG,LG=W,BIT=BIT0,WKREG=R1        ;
15344 000027F2 D105                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
15345 000027F4 6011                   M           MOV.W   @R1,R0          ;
15346 000027F6 CB01                   M           OR      #BIT0,R0                ;
15347 000027F8 2101                   M           MOV.W   R0,@R1          ;
15348                             130 I1          M_BRA   DND_TEPSTEPCTL_900                                              ;
15349 000027FA A00A                   M           BRA     DND_TEPSTEPCTL_900
15350 000027FC 0009                   M           NOP
15351                             131 I1  
15352                             132 I1  
15353                             133 I1  ;       --------- 完全なﾀｲﾑｱｯﾌﾟ-------
15354                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   168
PROGRAM NAME =

15355 000027FE 0000                   I1  ALIGNMENT CODE
15356 00002800 00000000               I1  DATA FOR SOURCE-LINE 123
15357 00002804 00000000               I1  DATA FOR SOURCE-LINE 128
15358 00002808 00000000               I1  DATA FOR SOURCE-LINE 129
15359                                 I1  ***** END-POOL *****
15360 0000280C                    134 I1  DND_TEPSTEPCTL_800:
15361                             135 I1          FAR_JSR #_TEP_START_INIT1,R0                                            ;[遷移0]
15362 0000280C D003                   M           MOV.L   #_TEP_START_INIT1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15363 0000280E 400B                   M           JSR     @R0                     ;
15364 00002810 0009                   M           NOP                                     ;
15365                             136 I1  
15366                             137 I1  
15367 00002812                    138 I1  DND_TEPSTEPCTL_900:
15368 00002812 0009               139 I1          NOP
15369 00002814                    140 I1  DND_TEPSTEPCTL_EXT:
15370                             141 I1          SUB_END
15371                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15372 00002814 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15373                             142 I1          M_RTS
15374 00002816 000B                   M           RTS                             ;RTSの後ろの
15375 00002818 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15376                             143 I1  
15377                             144 I1  
15378                             145 I1  ;       ***********************************
15379                             146 I1  ;       ***                             ***
15380                             147 I1  ;       ***     起動処理                ***
15381                             148 I1  ;       ***                             ***
15382                             149 I1  ;       ***********************************
15383                                 I1  ***** BEGIN-POOL *****
15384 0000281A 0000                   I1  ALIGNMENT CODE
15385 0000281C 00000000               I1  DATA FOR SOURCE-LINE 135
15386                                 I1  ***** END-POOL *****
15387 00002820                    150 I1  _MN_TEP_START
15388                             151 I1          SUB_START
15389 00002820 4F22                   M           STS.L   PR,@-R15                ;[必要]
15390                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15391                             152 I1          FAR_JSR #_TEP_START_INIT1,R0                    ;
15392 00002822 D00D                   M           MOV.L   #_TEP_START_INIT1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15393 00002824 400B                   M           JSR     @R0                     ;
15394 00002826 0009                   M           NOP                                     ;
15395                             153 I1  
15396                             154 I1  ;;;;;;2014-09-14        MOV.L   #_LINK_PV_ABSPLS,R4             ;
15397                             155 I1  ;;;;;;2014-09-14        MOV.L   @R4+,R1                                 ;
15398                             156 I1  ;;;;;;2014-09-14        MOV.L   @R4,R2                                  ;
15399                             157 I1  
15400 00002828 D40C               158 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
15401 0000282A 5140               159 I1          MOV.L   @(0,R4),R1                              ;
15402 0000282C 5241               160 I1          MOV.L   @(4,R4),R2                              ;
15403 0000282E D40C               161 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
15404 00002830 2412               162 I1          MOV.L   R1,@R4                                  ;
15405 00002832 1421               163 I1          MOV.L   R2,@(1*4,R4)                            ;目標位置ｾｯﾄ
15406                             164 I1          FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
15407 00002834 D00B                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15408 00002836 400B                   M           JSR     @R0                     ;
15409 00002838 0009                   M           NOP                                     ;
15410                             165 I1          FAR_JSR #_TEP_ADD_PLS_MAK,R0                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   169
PROGRAM NAME =

15411 0000283A D00B                   M           MOV.L   #_TEP_ADD_PLS_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15412 0000283C 400B                   M           JSR     @R0                     ;
15413 0000283E 0009                   M           NOP                                     ;
15414                             166 I1  ;       --- 位置データを作らない---- FAR_JSR #_TEP_SV_OBJ_MAK,R0
15415                             167 I1  
15416                             168 I1  
15417                             169 I1          FAR_JSR #_DNDINC_SPD_SET,R4                             ;とりあえずこれは触らない[
                                          ]
15418 00002840 D40A                   M           MOV.L   #_DNDINC_SPD_SET,R4             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15419 00002842 440B                   M           JSR     @R4                     ;
15420 00002844 0009                   M           NOP                                     ;
15421                             170 I1  
15422                             171 I1  ;       ---------- 2013-06-05
15423 00002846 200A               172 I1          XOR     R0,R0                                           ;
15424 00002848 D109               173 I1          MOV.L   #_TEP_CNTSMP_TIM,R1                             ;
15425 0000284A 2101               174 I1          MOV.W   R0,@R1                                          ;
15426 0000284C D109               175 I1          MOV.L   #_TEP_STEP_WTTM,R1                              ;
15427 0000284E 2101               176 I1          MOV.W   R0,@R1                                          ;
15428                             177 I1  
15429                             178 I1  
15430                             179 I1  
15431                             180 I1  
15432                             181 I1          SUB_END
15433                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15434 00002850 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15435                             182 I1          M_RTS
15436 00002852 000B                   M           RTS                             ;RTSの後ろの
15437 00002854 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15438                             183 I1  
15439                             184 I1  ;       ***********************************
15440                             185 I1  ;       ***                             ***
15441                             186 I1  ;       ***     再起動処理              ***
15442                             187 I1  ;       ***                             ***
15443                             188 I1  ;       ***********************************
15444                             189 I1  ;       <<<<<<<<<<<100msecの速度で動作させる>>>>>>>>>>
15445                             190 I1  ;
15446                                 I1  ***** BEGIN-POOL *****
15447 00002856 0000                   I1  ALIGNMENT CODE
15448 00002858 00000000               I1  DATA FOR SOURCE-LINE 152
15449 0000285C 00000000               I1  DATA FOR SOURCE-LINE 158
15450 00002860 00000000               I1  DATA FOR SOURCE-LINE 161
15451 00002864 00000000               I1  DATA FOR SOURCE-LINE 164
15452 00002868 00000000               I1  DATA FOR SOURCE-LINE 165
15453 0000286C 00000000               I1  DATA FOR SOURCE-LINE 169
15454 00002870 00000000               I1  DATA FOR SOURCE-LINE 173
15455 00002874 00000000               I1  DATA FOR SOURCE-LINE 175
15456                                 I1  ***** END-POOL *****
15457 00002878                    191 I1  _INT_TEP_RESTART
15458                             192 I1          SUB_START
15459 00002878 4F22                   M           STS.L   PR,@-R15                ;[必要]
15460                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15461                             193 I1  
15462                             194 I1  
15463 0000287A 222A               195 I1          XOR     R2,R2
15464 0000287C D117               196 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
15465 0000287E 2121               197 I1          MOV.W   R2,@R1                          ;
15466                             198 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   170
PROGRAM NAME =

15467                             199 I1  ;       --------- 2013-06-19 -----------------
15468                             200 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0
15469 00002880 D017                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15470 00002882 400B                   M           JSR     @R0                     ;
15471 00002884 0009                   M           NOP                                     ;
15472                             201 I1  ;;まだ組み込まない      FAR_JSR #_TEP_CPUAB_HAND_CLR,R0         ;
15473                             202 I1  
15474                             203 I1  ;       --------- 2013-06-05 -----------------
15475                             204 I1          FAR_JSR #_TEP_SPD_CALC1,R0                      ;
15476 00002886 D017                   M           MOV.L   #_TEP_SPD_CALC1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15477 00002888 400B                   M           JSR     @R0                     ;
15478 0000288A 0009                   M           NOP                                     ;
15479                             205 I1          FAR_JSR #_TEP_SPD_SET,R0                        ;
15480 0000288C D016                   M           MOV.L   #_TEP_SPD_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15481 0000288E 400B                   M           JSR     @R0                     ;
15482 00002890 0009                   M           NOP                                     ;
15483                             206 I1  
15484                             207 I1  ;;;2013-06-05   FAR_JSR #_DNDINC_SPD_SET,R4             ;
15485                             208 I1  
15486                             209 I1  ;;;;;;  FAR_JSR #_POS_LSI_START_INITAL,R0                                       ;
15487                             210 I1          FAR_JSR #_POS_LSI_START_INITAL_TEP,R0                                   ;2013-06-1
                                          3
15488 00002892 D016                   M           MOV.L   #_POS_LSI_START_INITAL_TEP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15489 00002894 400B                   M           JSR     @R0                     ;
15490 00002896 0009                   M           NOP                                     ;
15491                             211 I1  
15492 00002898 D115               212 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                                         ;目標速度
15493 0000289A 6212               213 I1          MOV.L   @R1,R2                                                          ;
15494                             214 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1                                      ;
15495 0000289C D115                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15496 0000289E 410B                   M           JSR     @R1                     ;
15497 000028A0 0009                   M           NOP                                     ;
15498                             215 I1          FAR_JSR #_TEP_1STEP_DATA_MAK1,R0                                        ;
15499 000028A2 D015                   M           MOV.L   #_TEP_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15500 000028A4 400B                   M           JSR     @R0                     ;
15501 000028A6 0009                   M           NOP                                     ;
15502                             216 I1  
15503                             217 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0                                        ;
15504 000028A8 D014                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15505 000028AA 400B                   M           JSR     @R0                     ;
15506 000028AC 0009                   M           NOP                                     ;
15507                             218 I1          FAR_JSR #_POS_PLSOUT_SET_RETRY,R0                                       ;(停止時か
                                          らの起動の場合のみ有効・安一のみ)
15508 000028AE D014                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15509 000028B0 400B                   M           JSR     @R0                     ;
15510 000028B2 0009                   M           NOP                                     ;
15511                             219 I1          FAR_JSR #_FWD_REV_START,R1                                              ;起動
15512 000028B4 D113                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15513 000028B6 410B                   M           JSR     @R1                     ;
15514 000028B8 0009                   M           NOP                                     ;
15515                             220 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;
15516 000028BA D113                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
15517 000028BC 6011                   M           MOV.W   @R1,R0          ;
15518 000028BE CB01                   M           OR      #BIT0,R0                ;
15519 000028C0 2101                   M           MOV.W   R0,@R1          ;
15520                             221 I1          FAR_JSR #_BRK_ERR_WORK_CLR1,R0                                          ;
15521 000028C2 D012                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   171
PROGRAM NAME =

15522 000028C4 400B                   M           JSR     @R0                     ;
15523 000028C6 0009                   M           NOP                                     ;
15524                             222 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0                                    ;
15525 000028C8 D011                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15526 000028CA 400B                   M           JSR     @R0                     ;
15527 000028CC 0009                   M           NOP                                     ;
15528                             223 I1          FAR_JSR #_TEP_START_INIT1,R0                                            ;
15529 000028CE D011                   M           MOV.L   #_TEP_START_INIT1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15530 000028D0 400B                   M           JSR     @R0                     ;
15531 000028D2 0009                   M           NOP                                     ;
15532                             224 I1          SUB_END
15533                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15534 000028D4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15535                             225 I1          M_RTS
15536 000028D6 000B                   M           RTS                             ;RTSの後ろの
15537 000028D8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15538                             226 I1  
15539                             227 I1  
15540                             228 I1  ;;;;;;;;2013-06-05元元未使用    ***********************************
15541                             229 I1  ;;;;;;;;        ***                             ***
15542                             230 I1  ;;;;;;;;        ***     再ADD                   ***
15543                             231 I1  ;;;;;;;;        ***                             ***
15544                             232 I1  ;;;;;;;;;       ***********************************
15545                             233 I1  ;;;;;;;;_TEP_ADD_OBJMAK:
15546                             234 I1  ;;;;;;;;        SUB_START
15547                             235 I1  ;;;;;;;;        FAR_JSR #_TEP_1STEP_DATA_MAK1,R0                ;
15548                             236 I1  ;;;;;;;;        FAR_JSR #_POS_LENGTH_ADD_DATA,R0                ;
15549                             237 I1  ;;;;;;;;        FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
15550                             238 I1  ;;;;;;;;        FAR_JSR #_TEP_START_INIT1,R0                    ;
15551                             239 I1  ;;;;;;;;        SUB_END
15552                             240 I1  ;;;;;;;;        M_RTS
15553                             241 I1  
15554                             242 I1  
15555                                 I1  ***** BEGIN-POOL *****
15556 000028DA 0000                   I1  ALIGNMENT CODE
15557 000028DC 00000000               I1  DATA FOR SOURCE-LINE 196
15558 000028E0 00000000               I1  DATA FOR SOURCE-LINE 200
15559 000028E4 00000000               I1  DATA FOR SOURCE-LINE 204
15560 000028E8 00000000               I1  DATA FOR SOURCE-LINE 205
15561 000028EC 00000000               I1  DATA FOR SOURCE-LINE 210
15562 000028F0 00000000               I1  DATA FOR SOURCE-LINE 212
15563 000028F4 00000000               I1  DATA FOR SOURCE-LINE 214
15564 000028F8 00000000               I1  DATA FOR SOURCE-LINE 215
15565 000028FC 00000000               I1  DATA FOR SOURCE-LINE 217
15566 00002900 00000000               I1  DATA FOR SOURCE-LINE 218
15567 00002904 00000000               I1  DATA FOR SOURCE-LINE 219
15568 00002908 00000000               I1  DATA FOR SOURCE-LINE 220
15569 0000290C 00000000               I1  DATA FOR SOURCE-LINE 221
15570 00002910 00000000               I1  DATA FOR SOURCE-LINE 222
15571 00002914 00000000               I1  DATA FOR SOURCE-LINE 223
15572                                 I1  ***** END-POOL *****
15573 00002918                    243 I1  _TEP_START_INIT1
15574                             244 I1          SUB_START
15575 00002918 4F22                   M           STS.L   PR,@-R15                ;[必要]
15576                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15577                             245 I1  
15578                             246 I1          MEM1_0CLR MEM=_TEP_STEP_FLG,LG=W,WKREG1=R1,CLRREG=R0            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   172
PROGRAM NAME =

15579 0000291A D107                   M           MOV.L   #_TEP_STEP_FLG,R1               ;
15580 0000291C 200A                   M           XOR     R0,R0           ;
15581 0000291E 2101                   M           MOV.W   R0,@R1  ;
15582                             247 I1          MEM1_0CLR MEM=_TEP_POS_ADD_CNT,LG=L,WKREG1=R1,CLRREG=R0         ;
15583 00002920 D106                   M           MOV.L   #_TEP_POS_ADD_CNT,R1            ;
15584 00002922 200A                   M           XOR     R0,R0           ;
15585 00002924 2102                   M           MOV.L   R0,@R1  ;
15586                             248 I1  ;       2013-06-20
15587                             249 I1          MEM1_0CLR MEM=_TEP_INPLS_FLG,LG=W,WKREG1=R1,CLRREG=R0           ;
15588 00002926 D106                   M           MOV.L   #_TEP_INPLS_FLG,R1              ;
15589 00002928 200A                   M           XOR     R0,R0           ;
15590 0000292A 2101                   M           MOV.W   R0,@R1  ;
15591                             250 I1  
15592                             251 I1  ;;;;;;;;2013-06-05      MEM1_0CLR MEM=_TEP_POS_ADD_CNTOLD,LG=L,WKREG1=R1,CLRREG=R0      ;
15593                             252 I1  
15594                             253 I1          FAR_JSR #_TEP_REVPLS_LT_CLR,R0  ;2013-07-19
15595 0000292C D005                   M           MOV.L   #_TEP_REVPLS_LT_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15596 0000292E 400B                   M           JSR     @R0                     ;
15597 00002930 0009                   M           NOP                                     ;
15598                             254 I1  
15599                             255 I1          SUB_END
15600                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15601 00002932 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15602                             256 I1          M_RTS
15603 00002934 000B                   M           RTS                             ;RTSの後ろの
15604 00002936 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15605                             257 I1  
15606                             258 I1  
15607                             259 I1  ;       *******************************************
15608                             260 I1  ;       ***                                     ***
15609                             261 I1  ;       ***             倍率                    ***
15610                             262 I1  ;       ***                                     ***
15611                             263 I1  ;       *******************************************
15612                             264 I1  ;       Output R2:NEW CUNTER
15613                             265 I1  ;       Output R3:OLD CUNTER
15614                             266 I1  ;       起動時はR2,R3は使用しない
15615                                 I1  ***** BEGIN-POOL *****
15616 00002938 00000000               I1  DATA FOR SOURCE-LINE 246
15617 0000293C 00000000               I1  DATA FOR SOURCE-LINE 247
15618 00002940 00000000               I1  DATA FOR SOURCE-LINE 249
15619 00002944 00000000               I1  DATA FOR SOURCE-LINE 253
15620                                 I1  ***** END-POOL *****
15621 00002948                    267 I1  _TEP_ADD_PLS_MAK:
15622                             268 I1          SUB_START
15623 00002948 4F22                   M           STS.L   PR,@-R15                ;[必要]
15624                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15625                             269 I1  
15626                             270 I1  ;       ----------- DIRECT作成 2013-06-20--------
15627 0000294A D415               271 I1          MOV.L   #_TEP_IN_ADD,R4                 ;
15628 0000294C 6241               272 I1          MOV.W   @R4,R2                          ;
15629 0000294E 2228               273 I1          TST     R2,R2                           ;
15630                             274 I1          TST_BIT_OF TEP_ADD_PLSMK_030            ;
15631 00002950 8907                   M           BT      TEP_ADD_PLSMK_030
15632                             275 I1  
15633 00002952 9021               276 I1          MOV.W   #BIT4,R0                        ;
15634 00002954 4211               277 I1          CMP/PZ  R2
15635 00002956 8900               278 I1          BT      TEP_ADD_PLSMK_020               ;FWD
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   173
PROGRAM NAME =

15636 00002958 901F               279 I1          MOV.W   #BIT5,R0                        ;REV
15637 0000295A                    280 I1  TEP_ADD_PLSMK_020:
15638 0000295A D112               281 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
15639 0000295C 6211               282 I1          MOV.W   @R1,R2                          ;
15640 0000295E 220B               283 I1          OR      R0,R2                           ;
15641 00002960 2121               284 I1          MOV.W   R2,@R1                          ;
15642 00002962                    285 I1  TEP_ADD_PLSMK_030:
15643                             286 I1  ;       -----------------------------------------
15644                             287 I1  
15645                             288 I1  
15646 00002962 D311               289 I1          MOV.L   #_SET1_PLSALO_PLS,R3            ;//パルサ倍率低
15647 00002964 D111               290 I1          MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
15648 00002966 6011               291 I1          MOV.W   @R1,R0                          ;
15649 00002968 C804               292 I1          TST     #BIT2,R0                        ;0:LOW 1:HIGH
15650                             293 I1          TST_BIT_OF TEP_ADD_PLSMK_050            ;
15651 0000296A 8900                   M           BT      TEP_ADD_PLSMK_050
15652 0000296C D310               294 I1          MOV.L   #_SET1_PLSAHI_PLS,R3            ;パルサ倍率高
15653 0000296E                    295 I1  TEP_ADD_PLSMK_050:
15654 0000296E 6131               296 I1          MOV.W   @R3,R1                          ;
15655 00002970 9414               297 I1          MOV.W   #D'1000,R4                      ;
15656 00002972 3412               298 I1          CMP/HS  R1,R4                           ;
15657 00002974 8900               299 I1          BT      TEP_ADD_PLSMK_100               ;
15658 00002976 6143               300 I1          MOV     R4,R1                           ;
15659 00002978                    301 I1  TEP_ADD_PLSMK_100:                              ;
15660 00002978 2118               302 I1          TST     R1,R1                           ;
15661                             303 I1          TST_BIT_ON TEP_ADD_PLSMK_150            ;
15662 0000297A 8B00                   M           BF      TEP_ADD_PLSMK_150
15663 0000297C E101               304 I1          MOV     #1,R1                           ;
15664 0000297E                    305 I1  TEP_ADD_PLSMK_150:                              ;
15665                             306 I1  
15666 0000297E 200A               307 I1          XOR     R0,R0
15667 00002980 D407               308 I1          MOV.L   #_TEP_IN_ADD,R4                 ;
15668 00002982 6241               309 I1          MOV.W   @R4,R2                          ;
15669 00002984 2401               310 I1          MOV.W   R0,@R4                          ;0CLR
15670                             311 I1                                                  ;R2
15671                             312 I1  
15672 00002986 212F               313 I1          MULS.W  R2,R1                           ;
15673 00002988 021A               314 I1          STS     MACL,R2                         ;
15674 0000298A D10A               315 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;
15675 0000298C 6312               316 I1          MOV.L   @R1,R3                          ;
15676 0000298E 323C               317 I1          ADD     R3,R2                           ;
15677 00002990 2122               318 I1          MOV.L   R2,@R1                          ;R3:OLD R2:NEW
15678                             319 I1  ;;;;;;;2013-06-05       MOV.L   #_TEP_POS_ADD_CNTOLD,R1         ;[[[[[[[[使用していない]]]
                                          ]]]]]]]]]]]]]
15679                             320 I1  ;;;;;;;2013-06-05       MOV.L   R3,@R1                          ;
15680                             321 I1  
15681                             322 I1          SUB_END
15682                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15683 00002992 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15684                             323 I1          M_RTS
15685 00002994 000B                   M           RTS                             ;RTSの後ろの
15686 00002996 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15687                             324 I1  
15688                             325 I1  ;       *******************************************
15689                             326 I1  ;       ***                                     ***
15690                             327 I1  ;       ***     位置決め側                      ***
15691                             328 I1  ;       ***     起動時の位置作成                ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   174
PROGRAM NAME =

15692                             329 I1  ;       ***     再起動時の位置作成              ***
15693                             330 I1  ;       ***                                     ***
15694                             331 I1  ;       *******************************************
15695                                 I1  ***** BEGIN-POOL *****
15696 00002998 0010                   I1  DATA FOR SOURCE-LINE 276
15697 0000299A 0020                   I1  DATA FOR SOURCE-LINE 279
15698 0000299C 03E8                   I1  DATA FOR SOURCE-LINE 297
15699 0000299E 0000                   I1  ALIGNMENT CODE
15700 000029A0 00000000               I1  DATA FOR SOURCE-LINE 271,308
15701 000029A4 00000000               I1  DATA FOR SOURCE-LINE 281
15702 000029A8 00000000               I1  DATA FOR SOURCE-LINE 289
15703 000029AC 00000000               I1  DATA FOR SOURCE-LINE 290
15704 000029B0 00000000               I1  DATA FOR SOURCE-LINE 294
15705 000029B4 00000000               I1  DATA FOR SOURCE-LINE 315
15706                                 I1  ***** END-POOL *****
15707 000029B8                    332 I1  _TEP_1STEP_DATA_MAK1:
15708                             333 I1          SUB_START
15709 000029B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
15710                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15711                             334 I1  
15712 000029BA D008               335 I1          MOV.L   #_CPOS_CTL_MATH,R0              ;
15713 000029BC 6001               336 I1          MOV.W   @R0,R0                          ;
15714                             337 I1  ;;      TST     #_DMATH_CNTROT,R0               ;
15715 000029BE C805               338 I1          TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;[2009-10-07下振子]
15716                             339 I1          TST_BIT_ON TEP_1STEP_DATMK1_080         ;
15717 000029C0 8B17                   M           BF      TEP_1STEP_DATMK1_080
15718                             340 I1  
15719                             341 I1          FAR_JSR #_NEG_TEPA_AREA_CHK,R0          ;反転モードのエリア
15720 000029C2 D007                   M           MOV.L   #_NEG_TEPA_AREA_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15721 000029C4 400B                   M           JSR     @R0                     ;
15722 000029C6 0009                   M           NOP                                     ;
15723 000029C8 2008               342 I1          TST     R0,R0                           ;
15724                             343 I1          TST_BIT_OF TEP_1STEP_DATMK1_080         ;+/- OK
15725 000029CA 8912                   M           BT      TEP_1STEP_DATMK1_080
15726                             344 I1  
15727 000029CC D105               345 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;
15728 000029CE 6212               346 I1          MOV.L   @R1,R2                          ;
15729 000029D0 4211               347 I1          CMP/PZ  R2                              ;
15730 000029D2 8909               348 I1          BT      TEP_1STEP_DATMK1_050            ;
15731                             349 I1  ;       ------ "-" PLS入ってきた----
15732 000029D4 4011               350 I1          CMP/PZ  R0                              ;
15733 000029D6 8909               351 I1          BT      TEP_1STEP_DATMK1_070            ;+のみ許可
15734                             352 I1          M_BRA   TEP_1STEP_DATMK1_080            ;-:OK
15735 000029D8 A00B                   M           BRA     TEP_1STEP_DATMK1_080
15736 000029DA 0009                   M           NOP
15737                             353 I1  
15738                             354 I1  ;       ------ + PLS----
15739                                 I1  ***** BEGIN-POOL *****
15740 000029DC 00000000               I1  DATA FOR SOURCE-LINE 335
15741 000029E0 00000000               I1  DATA FOR SOURCE-LINE 341
15742 000029E4 00000000               I1  DATA FOR SOURCE-LINE 345
15743                                 I1  ***** END-POOL *****
15744 000029E8                    355 I1  TEP_1STEP_DATMK1_050:
15745 000029E8 4015               356 I1          CMP/PL  R0                              ;"+"OK?
15746 000029EA 8902               357 I1          BT      TEP_1STEP_DATMK1_080            ;YES OK
15747 000029EC                    358 I1  TEP_1STEP_DATMK1_070:
15748 000029EC D116               359 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   175
PROGRAM NAME =

15749 000029EE 200A               360 I1          XOR     R0,R0                           ;
15750 000029F0 2102               361 I1          MOV.L   R0,@R1                          ;
15751                             362 I1  
15752                             363 I1  ;       -----------ふりこ・回転の通常　及び反転の位置カット後の処理------------
15753 000029F2                    364 I1  TEP_1STEP_DATMK1_080:
15754 000029F2 D416               365 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;
15755 000029F4 6142               366 I1          MOV.L   @R4,R1                                                  ;
15756 000029F6 5241               367 I1          MOV.L   @(1*4,R4),R2                                            ;
15757                             368 I1  
15758 000029F8 D013               369 I1          MOV.L   #_TEP_POS_ADD_CNT,R0                                    ;位置決め側使用デ
                                          ータ
15759 000029FA 6602               370 I1          MOV.L   @R0,R6                                                  ;
15760                             371 I1          EXTS_4B_TO_8B REG8B_H=R5,REG4B=R6                               ;
15761 000029FC 255A                   M           XOR     R5,R5
15762 000029FE 4611                   M           CMP/PZ  R6
15763 00002A00 8900                   M           BT      JMP0100013              ;
15764 00002A02 75FF                   M           ADD     #-1,R5  ;
15765 00002A04                        M   JMP0100013:
15766                                 M   
15767                             372 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2
15768 00002A04 0008                   M           CLRT
15769 00002A06 326E                   M           ADDC    R6,R2
15770 00002A08 315E                   M           ADDC    R5,R1
15771                             373 I1  
15772                             374 I1  ;;      ------2007-01-23 LIMIT R1,R2(OBJ) R5,R6(DELT):反転の時---------------
15773                             375 I1  ;;      MOV.L   #_CPOS_CTL_MATH,R0              ;
15774                             376 I1  ;;      MOV.W   @R0,R0                          ;
15775                             377 I1  ;;      TST     #_DMATH_CNTROT,R0               ;
15776                             378 I1  ;;      TST_BIT_ON TEP_1STEP_DATMK1_200         ;
15777                             379 I1  ;;
15778                             380 I1  ;;      --(反転)--
15779                             381 I1  ;;      MOV.L   #_TEP_POS_ADD_CNT,R0            ;位置決め側使用データ
15780                             382 I1  ;;      MOV.L   @R0,R0                          ;
15781                             383 I1  ;;      CMP/PZ  R0                              ;
15782                             384 I1  ;;      BT      TEP_1STEP_DATMK1_100            ;
15783                             385 I1  ;;      ----- MINAS LIMIT -------
15784                             386 I1  ;;
15785                             387 I1  ;;
15786                             388 I1  ;;TEP_1STEP_DATMK1_100:
15787                             389 I1  ;;      ----- PLAS LIMIT -------
15788                             390 I1  ;;
15789                             391 I1  ;;
15790                             392 I1  ;;
15791                             393 I1  ;;
15792                             394 I1  ;;TEP_1STEP_DATMK1_200:
15793 00002A0A D410               395 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;
15794 00002A0C 2412               396 I1          MOV.L   R1,@R4                                  ;
15795 00002A0E 1421               397 I1          MOV.L   R2,@(1*4,R4)                            ;
15796 00002A10 D40F               398 I1          MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4                ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
15797 00002A12 2412               399 I1          MOV.L   R1,@R4                                  ;
15798 00002A14 1421               400 I1          MOV.L   R2,@(4,R4)                              ;
15799                             401 I1  
15800 00002A16 D40F               402 I1          MOV.L   #_LNGTH_ADD_DATA,R4                     ;//符号付き
15801 00002A18 2452               403 I1          MOV.L   R5,@R4                                  ;
15802 00002A1A 1461               404 I1          MOV.L   R6,@(4,R4)                              ;
15803                             405 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   176
PROGRAM NAME =

15804 00002A1C D40E               406 I1          MOV.L   #_LT_LNGTH_ADD_DATA,R4                  ;//符号付き
15805 00002A1E 2452               407 I1          MOV.L   R5,@R4                                  ;
15806 00002A20 1461               408 I1          MOV.L   R6,@(4,R4)                              ;
15807                             409 I1  
15808 00002A22 233A               410 I1          XOR     R3,R3                                   ;
15809 00002A24 4511               411 I1          CMP/PZ  R5                                      ;
15810 00002A26 8900               412 I1          BT      TEP_1STEP_DATMK1_100                    ;
15811 00002A28 930C               413 I1          MOV.W   #BIT0,R3                                ;
15812 00002A2A                    414 I1  TEP_1STEP_DATMK1_100:
15813 00002A2A D10C               415 I1          MOV.L   #_POS_DRV_DIRECT,R1                     ;起動時(SV-LEVEL)
15814 00002A2C 2131               416 I1          MOV.W   R3,@R1                                  ;
15815                             417 I1  
15816 00002A2E D10C               418 I1          MOV.L   #_POSLSI_DRIV_SHIN,R1                   ;
15817 00002A30 6011               419 I1          MOV.W   @R1,R0                                  ;
15818 00002A32 C9FE               420 I1          AND     #LOW ~BIT0,R0                           ;
15819 00002A34 203B               421 I1          OR      R3,R0                                   ;
15820 00002A36 2101               422 I1          MOV.W   R0,@R1                                  ;
15821                             423 I1  
15822                             424 I1  ;       ---------- 2013-06-20 ------------
15823 00002A38 200A               425 I1          XOR     R0,R0                           ;
15824 00002A3A D10A               426 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
15825 00002A3C 2101               427 I1          MOV.W   R0,@R1                          ;
15826                             428 I1  
15827                             429 I1          SUB_END
15828                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15829 00002A3E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15830                             430 I1          M_RTS
15831 00002A40 000B                   M           RTS                             ;RTSの後ろの
15832 00002A42 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15833                             431 I1  
15834                             432 I1  
15835                             433 I1  
15836                             434 I1  ;       *******************************************
15837                             435 I1  ;       ***                                     ***
15838                             436 I1  ;       ***     手動パルサの反転のリミット      ***
15839                             437 I1  ;       ***     2007-01-23                      ***
15840                             438 I1  ;       *******************************************
15841                             439 I1  ;       0~165が動作範囲とする
15842                             440 I1  ;       180~0~165までは+側を受け付ける(=165~180まではﾌﾟﾗｽを受付けない)
15843                             441 I1  ;       0~165~180までは-側を受け付ける(=180~0まではﾏｲﾅｽを受付けない)
15844                             442 I1  ;       実測で0~165の範囲は+/-受け付ける
15845                             443 I1  ;
15846                             444 I1  ;
15847                             445 I1  ;       180
15848                             446 I1  ;
15849                             447 I1  ;
15850                             448 I1  ;
15851                             449 I1  ;
15852                             450 I1  ;       MOV.L   #_INC_LINK_NOWROT_OFSPLS_P,R4                   ;これを使用するか
15853                             451 I1  ;       MOV.L   @R4,R2                                          ;
15854                             452 I1  ;
15855                             453 I1  ;       0(+/-)ok
15856                             454 I1  ;       1(+)ok
15857                             455 I1  ;       -1(-)ok
15858                             456 I1  ;
15859                                 I1  ***** BEGIN-POOL *****
15860 00002A44 0001                   I1  DATA FOR SOURCE-LINE 413
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   177
PROGRAM NAME =

15861 00002A46 0000                   I1  ALIGNMENT CODE
15862 00002A48 00000000               I1  DATA FOR SOURCE-LINE 359,369
15863 00002A4C 00000000               I1  DATA FOR SOURCE-LINE 365,395
15864 00002A50 00000000               I1  DATA FOR SOURCE-LINE 398
15865 00002A54 00000000               I1  DATA FOR SOURCE-LINE 402
15866 00002A58 00000000               I1  DATA FOR SOURCE-LINE 406
15867 00002A5C 00000000               I1  DATA FOR SOURCE-LINE 415
15868 00002A60 00000000               I1  DATA FOR SOURCE-LINE 418
15869 00002A64 00000000               I1  DATA FOR SOURCE-LINE 426
15870                                 I1  ***** END-POOL *****
15871          00000064           457 I1  _TEP_DNPOS_HIS  .EQU    100     ;10.0度
15872                             458 I1  
15873 00002A68                    459 I1  _NEG_TEPA_AREA_CHK:
15874                             460 I1          SUB_START
15875 00002A68 4F22                   M           STS.L   PR,@-R15                ;[必要]
15876                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15877                             461 I1  
15878                             462 I1  
15879 00002A6A D40D               463 I1          MOV.L   #_SETX_UPDN_CHK_DN_DIG,R4       ;180.0度(下死点角度 180.0)
15880 00002A6C 6142               464 I1          MOV.L   @R4,R1                          ;
15881                             465 I1  ;;;;    MOV.L   #_SETX_LINK_UP_POS_DN,R4        ;ﾘﾝｸ(範囲比較)
15882                             466 I1  ;;;;    MOV.W   @R4,R3                          ;待機点-α
15883                             467 I1  
15884 00002A6E D40D               468 I1          MOV.L   #_SET1_UPAREA_DIG1,R4           ;ﾘﾝｸ(範囲比較)
15885 00002A70 6341               469 I1          MOV.W   @R4,R3                          ;待機点
15886 00002A72 D40D               470 I1          MOV.L   #_INC_ENC360,R4                 ;
15887 00002A74 6241               471 I1          MOV.W   @R4,R2                          ;R1(180)~R3(0)の範囲か？
15888                             472 I1          FAR_JSR #_DIG_AREA_CHK1,R0              ;ANS.R5=1(ﾏｲﾅｽを受け付けない)
15889 00002A76 D00D                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15890 00002A78 400B                   M           JSR     @R0                     ;
15891 00002A7A 0009                   M           NOP                                     ;
15892 00002A7C 4511               473 I1          CMP/PZ  R5                              ;
15893 00002A7E 891C               474 I1          BT      NEG_TEPA_ARACHK200              ;+のみ可能
15894                             475 I1  
15895                             476 I1  
15896 00002A80 D40B               477 I1          MOV.L   #_SETX_DNAREA_JG_LNK,R4         ;反転設定不可範囲LINK 度
15897 00002A82 6142               478 I1          MOV.L   @R4,R1                          ;
15898 00002A84 D406               479 I1          MOV.L   #_SETX_UPDN_CHK_DN_DIG,R4       ;180.0度(下死点角度 180.0)
15899 00002A86 6342               480 I1          MOV.L   @R4,R3                          ;
15900 00002A88 9009               481 I1          MOV.W   #_TEP_DNPOS_HIS,R0              ;10.0
15901 00002A8A 330C               482 I1          ADD     R0,R3                           ;10.0は..
15902 00002A8C D406               483 I1          MOV.L   #_INC_ENC360,R4                 ;
15903 00002A8E 6241               484 I1          MOV.W   @R4,R2                          ;R1(180)~R3(0)の範囲か？
15904                             485 I1          FAR_JSR #_DIG_AREA_CHK1,R0              ;ANS.R5=1(+受け付けない)
15905 00002A90 D006                   M           MOV.L   #_DIG_AREA_CHK1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
15906 00002A92 400B                   M           JSR     @R0                     ;
15907 00002A94 0009                   M           NOP                                     ;
15908 00002A96 890D               486 I1          BT      NEG_TEPA_ARACHK100              ;
15909                             487 I1  
15910 00002A98 200A               488 I1          XOR     R0,R0                           ;
15911                             489 I1          M_BRA   NEG_TEPA_ARACHK300              ;+/- OK
15912 00002A9A A00F                   M           BRA     NEG_TEPA_ARACHK300
15913 00002A9C 0009                   M           NOP
15914                             490 I1  
15915                             491 I1  ;       -------- -を受け付ける=====
15916                                 I1  ***** BEGIN-POOL *****
15917 00002A9E 0064                   I1  DATA FOR SOURCE-LINE 481
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   178
PROGRAM NAME =

15918 00002AA0 00000000               I1  DATA FOR SOURCE-LINE 463,479
15919 00002AA4 00000000               I1  DATA FOR SOURCE-LINE 468
15920 00002AA8 00000000               I1  DATA FOR SOURCE-LINE 470,483
15921 00002AAC 00000000               I1  DATA FOR SOURCE-LINE 472,485
15922 00002AB0 00000000               I1  DATA FOR SOURCE-LINE 477
15923                                 I1  ***** END-POOL *****
15924 00002AB4                    492 I1  NEG_TEPA_ARACHK100:
15925 00002AB4 E0FF               493 I1          MOV     #-1,R0                          ;
15926                             494 I1          M_BRA   NEG_TEPA_ARACHK300              ;
15927 00002AB6 A001                   M           BRA     NEG_TEPA_ARACHK300
15928 00002AB8 0009                   M           NOP
15929                             495 I1  
15930                             496 I1  ;       -------- +を受け付ける=====
15931 00002ABA                    497 I1  NEG_TEPA_ARACHK200:
15932 00002ABA E001               498 I1          MOV     #1,R0                           ;
15933 00002ABC                    499 I1  NEG_TEPA_ARACHK300:
15934                             500 I1  
15935                             501 I1  
15936                             502 I1          SUB_END
15937                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15938 00002ABC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15939                             503 I1          M_RTS
15940 00002ABE 000B                   M           RTS                             ;RTSの後ろの
15941 00002AC0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15942                             504 I1  
15943                             505 I1  
15944                             506 I1  
15945                             507 I1  ;       ***********************************
15946                             508 I1  ;       ***                             ***
15947                             509 I1  ;       ***     手動パルサフラグ        ***
15948                             510 I1  ;       ***                             ***
15949                             511 I1  ;       ***********************************
15950 00002AC2                    512 I1  _TEP_FLG_CLR
15951                             513 I1          SUB_START
15952 00002AC2 4F22                   M           STS.L   PR,@-R15                ;[必要]
15953                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15954 00002AC4 200A               514 I1          XOR     R0,R0
15955 00002AC6 D102               515 I1          MOV.L   #_TEP_MODE_DRV,R1       ;//起動時に判定
15956 00002AC8 2101               516 I1          MOV.W   R0,@R1                  ;
15957                             517 I1          SUB_END
15958                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15959 00002ACA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15960                             518 I1          M_RTS
15961 00002ACC 000B                   M           RTS                             ;RTSの後ろの
15962 00002ACE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15963                             519 I1  
15964                                 I1  ***** BEGIN-POOL *****
15965 00002AD0 00000000               I1  DATA FOR SOURCE-LINE 515
15966                                 I1  ***** END-POOL *****
15967 00002AD4                    520 I1  _TEP_FLG_START
15968                             521 I1          SUB_START
15969 00002AD4 4F22                   M           STS.L   PR,@-R15                ;[必要]
15970                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15971 00002AD6 9004               522 I1          MOV.W   #BIT0,R0
15972 00002AD8 D102               523 I1          MOV.L   #_TEP_MODE_DRV,R1       ;//起動時に判定
15973 00002ADA 2101               524 I1          MOV.W   R0,@R1                  ;
15974                             525 I1          SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   179
PROGRAM NAME =

15975                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
15976 00002ADC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
15977                             526 I1          M_RTS
15978 00002ADE 000B                   M           RTS                             ;RTSの後ろの
15979 00002AE0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
15980                             527 I1  
15981                             528 I1  ;       ***********************************
15982                             529 I1  ;       ***                             ***
15983                             530 I1  ;       ***     手動パルサ起動条件      ***
15984                             531 I1  ;       ***     起動=1                  ***
15985                             532 I1  ;       ***                             ***
15986                             533 I1  ;       ***********************************
15987                             534 I1  ;------------ 341.1ON→片手ON→手パの順位に変更する2011-07-04
15988                             535 I1  ;
15989                                 I1  ***** BEGIN-POOL *****
15990 00002AE2 0001                   I1  DATA FOR SOURCE-LINE 522
15991 00002AE4 00000000               I1  DATA FOR SOURCE-LINE 523
15992                                 I1  ***** END-POOL *****
15993 00002AE8                    536 I1  _TEPA_START_CHK:
15994                             537 I1          SUB_START
15995 00002AE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
15996                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
15997                             538 I1  
15998 00002AEA D10A               539 I1          MOV.L   #_TEPA_PLS_ZERO_TIM,R1          ;2011-07-04手パ時間
15999 00002AEC 6011               540 I1          MOV.W   @R1,R0                          ;
16000 00002AEE 2008               541 I1          TST     R0,R0                           ;
16001                             542 I1          TST_BIT_ON TEPA_STARTCHK_NG             ;手パが先になった
16002 00002AF0 8B0B                   M           BF      TEPA_STARTCHK_NG
16003                             543 I1  
16004 00002AF2 D109               544 I1          MOV.L   #_BTTN_FLG,R1                   ;
16005 00002AF4 6011               545 I1          MOV.W   @R1,R0                          ;
16006 00002AF6 C802               546 I1          TST     #BIT1,R0                        ;
16007                             547 I1          TST_BIT_OF TEPA_STARTCHK_NG             ;
16008 00002AF8 8907                   M           BT      TEPA_STARTCHK_NG
16009                             548 I1  
16010 00002AFA D108               549 I1          MOV.L   #_TEP_IN_ADD,R1                 ;
16011 00002AFC 6211               550 I1          MOV.W   @R1,R2                          ;
16012 00002AFE 4211               551 I1          CMP/PZ  R2                              ;
16013 00002B00 8900               552 I1          BT      TEPA_STARTCHK_050               ;
16014 00002B02 622B               553 I1          NEG     R2,R2                           ;
16015 00002B04                    554 I1  TEPA_STARTCHK_050:
16016 00002B04 9104               555 I1          MOV.W   #D'1,R1                         ;1で良いか
16017 00002B06 3213               556 I1          CMP/GE  R1,R2                           ;
16018 00002B08 890A               557 I1          BT      TEPA_STARTCHK_OK                ;
16019 00002B0A                    558 I1  TEPA_STARTCHK_NG:
16020 00002B0A 200A               559 I1          XOR     R0,R0                           ;
16021                             560 I1          M_BRA   TEPA_STARTCHK_END               ;
16022 00002B0C A00C                   M           BRA     TEPA_STARTCHK_END
16023 00002B0E 0009                   M           NOP
16024                             561 I1  
16025                                 I1  ***** BEGIN-POOL *****
16026 00002B10 0001                   I1  DATA FOR SOURCE-LINE 555
16027 00002B12 0000                   I1  ALIGNMENT CODE
16028 00002B14 00000000               I1  DATA FOR SOURCE-LINE 539
16029 00002B18 00000000               I1  DATA FOR SOURCE-LINE 544
16030 00002B1C 00000000               I1  DATA FOR SOURCE-LINE 549
16031                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   180
PROGRAM NAME =

16032 00002B20                    562 I1  TEPA_STARTCHK_OK:
16033                             563 I1          FAR_JSR #_TEP_FLG_START,R0              ;
16034 00002B20 D003                   M           MOV.L   #_TEP_FLG_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16035 00002B22 400B                   M           JSR     @R0                     ;
16036 00002B24 0009                   M           NOP                                     ;
16037 00002B26 E001               564 I1          MOV     #1,R0                           ;
16038 00002B28                    565 I1  TEPA_STARTCHK_END:
16039                             566 I1  
16040                             567 I1          SUB_END
16041                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16042 00002B28 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16043                             568 I1          M_RTS
16044 00002B2A 000B                   M           RTS                             ;RTSの後ろの
16045 00002B2C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16046                             569 I1  
16047                             570 I1  ;;;     ------------ 341.1ON→片手ON→手パの順位に変更する2011-07-04
16048                             571 I1  ;;;_TEPA_START_CHK:
16049                             572 I1  ;;;     SUB_START
16050                             573 I1  ;;;
16051                             574 I1  ;;;     MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341
16052                             575 I1  ;;;     MOV.W   @R1,R0                          ;
16053                             576 I1  ;;;     TST     #BIT1,R0                        ;
16054                             577 I1  ;;;     TST_BIT_OF TEPA_STARTCHK_NG             ;無効
16055                             578 I1  ;;;
16056                             579 I1  ;;;     MOV.L   #_TEP_IN_ADD,R1                 ;
16057                             580 I1  ;;;     MOV.W   @R1,R2                          ;
16058                             581 I1  ;;;     CMP/PZ  R2                              ;
16059                             582 I1  ;;;     BT      TEPA_STARTCHK_050               ;
16060                             583 I1  ;;;     NEG     R2,R2                           ;
16061                             584 I1  ;;;TEPA_STARTCHK_050:
16062                             585 I1  ;;;     MOV.W   #D'1,R1                         ;1で良いか
16063                             586 I1  ;;;     CMP/GE  R1,R2                           ;
16064                             587 I1  ;;;     BT      TEPA_STARTCHK_OK                ;
16065                             588 I1  ;;;TEPA_STARTCHK_NG:
16066                             589 I1  ;;;     XOR     R0,R0                           ;
16067                             590 I1  ;;;     M_BRA   TEPA_STARTCHK_END               ;
16068                             591 I1  ;;;
16069                             592 I1  ;;;TEPA_STARTCHK_OK:
16070                             593 I1  ;;;     FAR_JSR #_TEP_FLG_START,R0              ;
16071                             594 I1  ;;;     MOV     #1,R0                           ;
16072                             595 I1  ;;;TEPA_STARTCHK_END:
16073                             596 I1  ;;;
16074                             597 I1  ;;;     SUB_END
16075                             598 I1  ;;;     M_RTS
16076                             599 I1  
16077                             600 I1  ;       ***********************************
16078                             601 I1  ;       ***                             ***
16079                             602 I1  ;       ***     手動パルサ遷移時の      ***
16080                             603 I1  ;       ***     パルスクリア            ***
16081                             604 I1  ;       ***                             ***
16082                             605 I1  ;       ***********************************
16083                             606 I1          .IMPORT         _PVP_CPUA_TEPPLS
16084                             607 I1          .IMPORT         _PVP_CPUB_TEPPLS
16085                             608 I1  
16086                                 I1  ***** BEGIN-POOL *****
16087 00002B2E 0000                   I1  ALIGNMENT CODE
16088 00002B30 00000000               I1  DATA FOR SOURCE-LINE 563
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   181
PROGRAM NAME =

16089                                 I1  ***** END-POOL *****
16090 00002B34                    609 I1  _TEPA_PLSCNT_CLR
16091                             610 I1          SUB_START
16092 00002B34 4F22                   M           STS.L   PR,@-R15                ;[必要]
16093                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16094                             611 I1  
16095                             612 I1          .AIF    1 EQ    0       ;
16096                             613             MOV.L   #_PVP_CPUA_TEPPLS,R1            ;
16097                             614             MOV.W   @R1,R2                          ;
16098                             615             .AELSE
16099 00002B36 D106               616 C           MOV.L   #_PVP_CPUB_TEPPLS,R1            ;
16100 00002B38 6211               617 C           MOV.W   @R1,R2                          ;
16101                             618 I1          .AENDI
16102                             619 I1  
16103 00002B3A D106               620 I1          MOV.L   #_NEW_TEP_CNT,R1                ;
16104 00002B3C 2121               621 I1          MOV.W   R2,@R1                          ;
16105                             622 I1  
16106 00002B3E 222A               623 I1          XOR     R2,R2
16107 00002B40 D105               624 I1          MOV.L   #_TEP_IN_ADD,R1                 ;
16108 00002B42 2121               625 I1          MOV.W   R2,@R1                          ;
16109                             626 I1  
16110 00002B44 D105               627 I1          MOV.L   #_TEP_POS_ADD_CNT,R1            ;位置決め側使用データ
16111 00002B46 2122               628 I1          MOV.L   R2,@R1                          ;
16112                             629 I1  
16113                             630 I1          SUB_END
16114                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16115 00002B48 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16116                             631 I1          M_RTS
16117 00002B4A 000B                   M           RTS                             ;RTSの後ろの
16118 00002B4C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16119                             632 I1  
16120                             633 I1  ;       ***********************************
16121                             634 I1  ;       ***                             ***
16122                             635 I1  ;       ***     手動ﾊﾟﾙｻの増分ﾁｪｯｸ      ***
16123                             636 I1  ;       ***                             ***
16124                             637 I1  ;       ***                             ***
16125                             638 I1  ;       ***********************************
16126                                 I1  ***** BEGIN-POOL *****
16127 00002B4E 0000                   I1  ALIGNMENT CODE
16128 00002B50 00000000               I1  DATA FOR SOURCE-LINE 616
16129 00002B54 00000000               I1  DATA FOR SOURCE-LINE 620
16130 00002B58 00000000               I1  DATA FOR SOURCE-LINE 624
16131 00002B5C 00000000               I1  DATA FOR SOURCE-LINE 627
16132                                 I1  ***** END-POOL *****
16133 00002B60                    639 I1  _TEPA_PLSCNT_CHK:
16134                             640 I1          SUB_START
16135 00002B60 4F22                   M           STS.L   PR,@-R15                ;[必要]
16136                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16137                             641 I1  
16138                             642 I1          .AIF    1 EQ    0       ;
16139                             643             MOV.L   #_PVP_CPUA_TEPPLS,R1            ;
16140                             644             MOV.W   @R1,R2                          ;
16141                             645             .AELSE
16142 00002B62 D10C               646 C           MOV.L   #_PVP_CPUB_TEPPLS,R1            ;
16143 00002B64 6211               647 C           MOV.W   @R1,R2                          ;
16144                             648 I1          .AENDI
16145                             649 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   182
PROGRAM NAME =

16146 00002B66 D10C               650 I1          MOV.L   #_NEW_TEP_CNT,R1                ;
16147 00002B68 6311               651 I1          MOV.W   @R1,R3                          ;
16148 00002B6A 2121               652 I1          MOV.W   R2,@R1                          ;
16149 00002B6C 3238               653 I1          SUB     R3,R2                           ;
16150 00002B6E D10B               654 I1          MOV.L   #_TEP_IN_ADD,R1                 ;
16151 00002B70 2121               655 I1          MOV.W   R2,@R1                          ;
16152                             656 I1  
16153                             657 I1  ;       ------ 2011-07-04 追加　運転釦が先--
16154 00002B72 2228               658 I1          TST     R2,R2                           ;変化あり?
16155                             659 I1          TST_BIT_OF TEPA_PLSCNTCHK_100           ;
16156 00002B74 890A                   M           BT      TEPA_PLSCNTCHK_100
16157                             660 I1  
16158 00002B76 D10A               661 I1          MOV.L   #_TEPA_PLS_ZERO_TIM,R1          ;2011-07-04手パ時間
16159 00002B78 6011               662 I1          MOV.W   @R1,R0                          ;
16160 00002B7A 2008               663 I1          TST     R0,R0
16161                             664 I1          TST_BIT_ON TEPA_PLSCNTCHK_050           ;
16162 00002B7C 8B03                   M           BF      TEPA_PLSCNTCHK_050
16163                             665 I1  
16164 00002B7E D109               666 I1          MOV.L   #_BTTN_FLG,R1                   ;
16165 00002B80 6011               667 I1          MOV.W   @R1,R0                          ;
16166 00002B82 C802               668 I1          TST     #BIT1,R0                        ;
16167                             669 I1          TST_BIT_ON TEPA_PLSCNTCHK_100           ;
16168 00002B84 8B02                   M           BF      TEPA_PLSCNTCHK_100
16169                             670 I1  
16170 00002B86                    671 I1  TEPA_PLSCNTCHK_050:
16171                             672 I1  
16172 00002B86 9004               673 I1          MOV.W   #D'51,R0                        ;50*10=0.5秒
16173 00002B88 D105               674 I1          MOV.L   #_TEPA_PLS_ZERO_TIM,R1          ;2011-07-04手パ時間
16174 00002B8A 2101               675 I1          MOV.W   R0,@R1                          ;
16175                             676 I1  
16176 00002B8C                    677 I1  TEPA_PLSCNTCHK_100:
16177                             678 I1  
16178                             679 I1  
16179                             680 I1          SUB_END
16180                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16181 00002B8C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16182                             681 I1          M_RTS
16183 00002B8E 000B                   M           RTS                             ;RTSの後ろの
16184 00002B90 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16185                             682 I1  
16186                             683 I1  
16187                             684 I1  ;       *******************************************
16188                             685 I1  ;       ***                                     ***
16189                             686 I1  ;       ***     2013-05-26                      ***
16190                             687 I1  ;       ***                                     ***
16191                             688 I1  ;       *******************************************
16192                             689 I1  ;       10ﾊﾟﾙｽ,方向無視----→修正必要
16193                                 I1  ***** BEGIN-POOL *****
16194 00002B92 0033                   I1  DATA FOR SOURCE-LINE 673
16195 00002B94 00000000               I1  DATA FOR SOURCE-LINE 646
16196 00002B98 00000000               I1  DATA FOR SOURCE-LINE 650
16197 00002B9C 00000000               I1  DATA FOR SOURCE-LINE 654
16198 00002BA0 00000000               I1  DATA FOR SOURCE-LINE 661,674
16199 00002BA4 00000000               I1  DATA FOR SOURCE-LINE 666
16200                                 I1  ***** END-POOL *****
16201 00002BA8                    690 I1  _TEPA_ADD_LSI:
16202                             691 I1          SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   183
PROGRAM NAME =

16203 00002BA8 4F22                   M           STS.L   PR,@-R15                ;[必要]
16204                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16205                             692 I1  
16206                             693 I1  ;;まだ組み込まない .AIF 1 EQ    0       ;
16207                             694 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;[自分のインターロック]
16208                             695 I1  ;;まだ組み込まない .AELSE
16209                             696 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R5    ;
16210                             697 I1  ;;まだ組み込まない .AENDI
16211                             698 I1  
16212 00002BAA D509               699 I1          MOV.L   #_TEP_REVPLS_LT_FLG,R5  ;
16213 00002BAC 6051               700 I1          MOV.W   @R5,R0                          ;
16214 00002BAE 2008               701 I1          TST     R0,R0                           ;
16215                             702 I1          TST_BIT_ON TEPA_ADDLSI_025              ;停止
16216 00002BB0 8B22                   M           BF      TEPA_ADDLSI_025
16217                             703 I1  
16218                             704 I1  ;       ---------- 2013-06-20 ------------
16219 00002BB2 222A               705 I1          XOR     R2,R2
16220 00002BB4 D107               706 I1          MOV.L   #_TEP_INPLS_FLG,R1              ;//2013-06-20
16221 00002BB6 6011               707 I1          MOV.W   @R1,R0                          ;
16222 00002BB8 2121               708 I1          MOV.W   R2,@R1                          ;
16223                             709 I1  
16224 00002BBA 2008               710 I1          TST     R0,R0                                   ;
16225                             711 I1          TST_BIT_OF TEPA_ADDLSI_030                      ;
16226 00002BBC 8924                   M           BT      TEPA_ADDLSI_030
16227                             712 I1  
16228 00002BBE D106               713 I1          MOV.L   #_POS_DRV_DIRECT,R1                     ;起動時(SV-LEVEL)
16229 00002BC0 6211               714 I1          MOV.W   @R1,R2                                  ;
16230 00002BC2 E401               715 I1          MOV.B   #BIT0,R4                                ;
16231 00002BC4 2248               716 I1          TST     R4,R2                                   ;DIRCT +
16232                             717 I1          TST_BIT_ON TEPA_ADDLSI_010                      ;
16233 00002BC6 8B09                   M           BF      TEPA_ADDLSI_010
16234                             718 I1  
16235 00002BC8 C820               719 I1          TST     #BIT5,R0                                ;逆転有り?
16236                             720 I1          TST_BIT_ON TEPA_ADDLSI_020                      ;有り
16237 00002BCA 8B0B                   M           BF      TEPA_ADDLSI_020
16238                             721 I1          M_BRA   TEPA_ADDLSI_030                         ;
16239 00002BCC A01C                   M           BRA     TEPA_ADDLSI_030
16240 00002BCE 0009                   M           NOP
16241                             722 I1  
16242                             723 I1  
16243                                 I1  ***** BEGIN-POOL *****
16244 00002BD0 00000000               I1  DATA FOR SOURCE-LINE 699
16245 00002BD4 00000000               I1  DATA FOR SOURCE-LINE 706
16246 00002BD8 00000000               I1  DATA FOR SOURCE-LINE 713
16247                                 I1  ***** END-POOL *****
16248 00002BDC                    724 I1  TEPA_ADDLSI_010:
16249 00002BDC C810               725 I1          TST     #BIT4,R0                                ;正転有り?
16250                             726 I1          TST_BIT_ON TEPA_ADDLSI_020                      ;有り
16251 00002BDE 8B01                   M           BF      TEPA_ADDLSI_020
16252                             727 I1          M_BRA   TEPA_ADDLSI_030                         ;
16253 00002BE0 A012                   M           BRA     TEPA_ADDLSI_030
16254 00002BE2 0009                   M           NOP
16255                             728 I1  
16256 00002BE4                    729 I1  TEPA_ADDLSI_020:
16257                             730 I1          FAR_JSR #_TEP_SPD_CALC3,R0                      ;
16258 00002BE4 D005                   M           MOV.L   #_TEP_SPD_CALC3,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16259 00002BE6 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   184
PROGRAM NAME =

16260 00002BE8 0009                   M           NOP                                     ;
16261                             731 I1          FAR_JSR #_TEP_SPD_SET_CHG,R0                    ;
16262 00002BEA D005                   M           MOV.L   #_TEP_SPD_SET_CHG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16263 00002BEC 400B                   M           JSR     @R0                     ;
16264 00002BEE 0009                   M           NOP                                     ;
16265                             732 I1  ;;まだ組み込まないFAR_JSR       #_TEP_CPUAB_HAND_STOP,R0                ;2013-06-19
16266                             733 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_TEP_REVPLS_LT_FLG,LG=W,BIT=BIT0,WKREG=R1   ;
16267 00002BF0 D104                   M           MOV.L   #_TEP_REVPLS_LT_FLG,R1          ;
16268 00002BF2 6011                   M           MOV.W   @R1,R0          ;
16269 00002BF4 CB01                   M           OR      #BIT0,R0                ;
16270 00002BF6 2101                   M           MOV.W   R0,@R1          ;
16271                             734 I1  
16272 00002BF8                    735 I1  TEPA_ADDLSI_025:
16273                             736 I1          M_BRA   TEPA_ADDLSI_EXT                         ;
16274 00002BF8 A02A                   M           BRA     TEPA_ADDLSI_EXT
16275 00002BFA 0009                   M           NOP
16276                             737 I1  
16277                             738 I1  ;       ---------------------------------------------------
16278                                 I1  ***** BEGIN-POOL *****
16279 00002BFC 00000000               I1  DATA FOR SOURCE-LINE 730
16280 00002C00 00000000               I1  DATA FOR SOURCE-LINE 731
16281 00002C04 00000000               I1  DATA FOR SOURCE-LINE 733
16282                                 I1  ***** END-POOL *****
16283 00002C08                    739 I1  TEPA_ADDLSI_030
16284                             740 I1  ;       ----------- 復活 2013-06-05--------
16285 00002C08 D113               741 I1          MOV.L   #_TEP_CNTSMP_TIM,R1             ;
16286 00002C0A 6011               742 I1          MOV.W   @R1,R0                          ;
16287 00002C0C 2008               743 I1          TST     R0,R0                           ;
16288                             744 I1          TST_BIT_ON TEPA_ADDLSI_EXT              ;
16289 00002C0E 8B1F                   M           BF      TEPA_ADDLSI_EXT
16290                             745 I1  
16291                             746 I1  ;       -----------------------------------
16292 00002C10 D012               747 I1          MOV.L   #_TEP_STEP_SVSMPTM,R0           ;
16293 00002C12 6201               748 I1          MOV.W   @R0,R2                          ;
16294 00002C14 2121               749 I1          MOV.W   R2,@R1                          ;
16295                             750 I1  ;       -----------------------------------
16296 00002C16 D112               751 I1          MOV.L   #_TEP_POS_ADD_CNT,R1                    ;
16297 00002C18 6012               752 I1          MOV.L   @R1,R0                                  ;
16298 00002C1A 2008               753 I1          TST     R0,R0                                   ;
16299                             754 I1          TST_BIT_OF TEPA_ADDLSI_EXT                      ;
16300 00002C1C 8918                   M           BT      TEPA_ADDLSI_EXT
16301                             755 I1  
16302                             756 I1  
16303                             757 I1          FAR_JSR #_LOAD_REST_PLS,R0                                      ;LOAD PLS
16304 00002C1E D011                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16305 00002C20 400B                   M           JSR     @R0                     ;
16306 00002C22 0009                   M           NOP                                     ;
16307                             758 I1  
16308 00002C24 D110               759 I1          MOV.L   #_TEP_ADDCHK_SVPLS,R1                                   ;SYS_PARA 10PLS
16309 00002C26 6411               760 I1          MOV.W   @R1,R4
16310                             761 I1  
16311 00002C28 3406               762 I1          CMP/HI  R0,R4                                                   ;10pls以下 R0<10
16312 00002C2A 8911               763 I1          BT      TEPA_ADDLSI_EXT                                         ;"二重回路HAND対象
                                          "
16313                             764 I1                                                                          ;難しい
16314                             765 I1  
16315                             766 I1  ;       ---------パルス加算処理 2013-06-05 --------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   185
PROGRAM NAME =

16316                             767 I1          FAR_JSR #_TEP_SPD_CALC2,R0                      ;
16317 00002C2C D00F                   M           MOV.L   #_TEP_SPD_CALC2,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16318 00002C2E 400B                   M           JSR     @R0                     ;
16319 00002C30 0009                   M           NOP                                     ;
16320                             768 I1          FAR_JSR #_TEP_SPD_SET_CHG,R0                    ;
16321 00002C32 D00F                   M           MOV.L   #_TEP_SPD_SET_CHG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16322 00002C34 400B                   M           JSR     @R0                     ;
16323 00002C36 0009                   M           NOP                                     ;
16324                             769 I1  
16325                             770 I1          FAR_JSR #_TEP_1STEP_DATA_MAK1,R0                ;CNT=0 CLR,目標変更
16326 00002C38 D00E                   M           MOV.L   #_TEP_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16327 00002C3A 400B                   M           JSR     @R0                     ;
16328 00002C3C 0009                   M           NOP                                     ;
16329                             771 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0                ;
16330 00002C3E D00E                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16331 00002C40 400B                   M           JSR     @R0                     ;
16332 00002C42 0009                   M           NOP                                     ;
16333                             772 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
16334 00002C44 D00D                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16335 00002C46 400B                   M           JSR     @R0                     ;
16336 00002C48 0009                   M           NOP                                     ;
16337                             773 I1  
16338 00002C4A 200A               774 I1          XOR     R0,R0
16339 00002C4C D104               775 I1          MOV.L   #_TEP_POS_ADD_CNT,R1
16340 00002C4E 2102               776 I1          MOV.L   R0,@R1
16341                             777 I1  
16342                             778 I1  
16343 00002C50                    779 I1  TEPA_ADDLSI_EXT:
16344                             780 I1  
16345                             781 I1          SUB_END
16346                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16347 00002C50 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16348                             782 I1          M_RTS
16349 00002C52 000B                   M           RTS                             ;RTSの後ろの
16350 00002C54 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16351                             783 I1  
16352                             784 I1  ;       ***********************************
16353                             785 I1  ;       ***                             ***
16354                             786 I1  ;       ***     初起動時のエリア作成    ***
16355                             787 I1  ;       ***                             ***
16356                             788 I1  ;       ***********************************
16357                             789 I1  ;;2013-05-26 _DNDTEP_STEP_MAKE:
16358                             790 I1  ;;2013-05-26    SUB_START
16359                             791 I1  ;;2013-05-26    SUB_END
16360                             792 I1  ;;2013-05-26    M_RTS
16361                             793 I1  
16362                             794 I1  ;       ***********************************
16363                             795 I1  ;       ***                             ***
16364                             796 I1  ;       ***     工程からの目標位置作成  ***
16365                             797 I1  ;       ***                             ***
16366                             798 I1  ;       ***********************************
16367                             799 I1  ;;2013-05-26_DNDTEP_MAKE_OBJPOS:
16368                             800 I1  ;;2013-05-26    SUB_START
16369                             801 I1  ;;2013-05-26
16370                             802 I1  ;;2013-05-26
16371                             803 I1  ;;2013-05-26    SUB_END
16372                             804 I1  ;;2013-05-26    M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   186
PROGRAM NAME =

16373                             805 I1  
16374                                 I1  ***** BEGIN-POOL *****
16375 00002C56 0000                   I1  ALIGNMENT CODE
16376 00002C58 00000000               I1  DATA FOR SOURCE-LINE 741
16377 00002C5C 00000000               I1  DATA FOR SOURCE-LINE 747
16378 00002C60 00000000               I1  DATA FOR SOURCE-LINE 751,775
16379 00002C64 00000000               I1  DATA FOR SOURCE-LINE 757
16380 00002C68 00000000               I1  DATA FOR SOURCE-LINE 759
16381 00002C6C 00000000               I1  DATA FOR SOURCE-LINE 767
16382 00002C70 00000000               I1  DATA FOR SOURCE-LINE 768
16383 00002C74 00000000               I1  DATA FOR SOURCE-LINE 770
16384 00002C78 00000000               I1  DATA FOR SOURCE-LINE 771
16385 00002C7C 00000000               I1  DATA FOR SOURCE-LINE 772
16386                                 I1  ***** END-POOL *****
16387 00002C80                    806 I1  _TEP_SPD_CALC1:
16388                             807 I1          SUB_START
16389 00002C80 4F22                   M           STS.L   PR,@-R15                ;[必要]
16390                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16391 00002C82 D306               808 I1          MOV.L   #_TEP_STEP_SVWTTM1,R3   ;//2013-06-05
16392 00002C84 6431               809 I1          MOV.W   @R3,R4                  ;
16393                             810 I1          FAR_JSR #_TEP_SPD_CALC_COM,R0   ;ANS=TEP1
16394 00002C86 D006                   M           MOV.L   #_TEP_SPD_CALC_COM,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16395 00002C88 400B                   M           JSR     @R0                     ;
16396 00002C8A 0009                   M           NOP                                     ;
16397                             811 I1  
16398 00002C8C D105               812 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;起動時はSPD1,SPD2とも同じ速度
16399 00002C8E 6212               813 I1          MOV.L   @R1,R2                  ;
16400 00002C90 D105               814 I1          MOV.L   #_TEP_CHG_SPD2,R1       ;
16401 00002C92 2122               815 I1          MOV.L   R2,@R1                  ;SPD2が実際に使用する速度
16402                             816 I1  
16403                             817 I1          SUB_END
16404                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16405 00002C94 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16406                             818 I1          M_RTS
16407 00002C96 000B                   M           RTS                             ;RTSの後ろの
16408 00002C98 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16409                             819 I1  
16410                                 I1  ***** BEGIN-POOL *****
16411 00002C9A 0000                   I1  ALIGNMENT CODE
16412 00002C9C 00000000               I1  DATA FOR SOURCE-LINE 808
16413 00002CA0 00000000               I1  DATA FOR SOURCE-LINE 810
16414 00002CA4 00000000               I1  DATA FOR SOURCE-LINE 812
16415 00002CA8 00000000               I1  DATA FOR SOURCE-LINE 814
16416                                 I1  ***** END-POOL *****
16417 00002CAC                    820 I1  _TEP_SPD_CALC2:
16418                             821 I1          SUB_START
16419 00002CAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
16420                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16421                             822 I1  
16422 00002CAE D106               823 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;起動時はSPD1,SPD2とも同じ速度
16423 00002CB0 6212               824 I1          MOV.L   @R1,R2                  ;
16424 00002CB2 D106               825 I1          MOV.L   #_TEP_CHG_SPD2,R1       ;
16425 00002CB4 2122               826 I1          MOV.L   R2,@R1                  ;SPD2が実際に使用する速度
16426                             827 I1  
16427 00002CB6 D306               828 I1          MOV.L   #_TEP_STEP_SVSMPTM,R3
16428 00002CB8 6431               829 I1          MOV.W   @R3,R4                  ;
16429                             830 I1          FAR_JSR #_TEP_SPD_CALC_COM,R0   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   187
PROGRAM NAME =

16430 00002CBA D006                   M           MOV.L   #_TEP_SPD_CALC_COM,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16431 00002CBC 400B                   M           JSR     @R0                     ;
16432 00002CBE 0009                   M           NOP                                     ;
16433                             831 I1          SUB_END
16434                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16435 00002CC0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16436                             832 I1          M_RTS
16437 00002CC2 000B                   M           RTS                             ;RTSの後ろの
16438 00002CC4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16439                             833 I1  
16440                             834 I1  
16441                                 I1  ***** BEGIN-POOL *****
16442 00002CC6 0000                   I1  ALIGNMENT CODE
16443 00002CC8 00000000               I1  DATA FOR SOURCE-LINE 823
16444 00002CCC 00000000               I1  DATA FOR SOURCE-LINE 825
16445 00002CD0 00000000               I1  DATA FOR SOURCE-LINE 828
16446 00002CD4 00000000               I1  DATA FOR SOURCE-LINE 830
16447                                 I1  ***** END-POOL *****
16448 00002CD8                    835 I1  _TEP_SPD_CALC_COM
16449                             836 I1          SUB_START
16450 00002CD8 4F22                   M           STS.L   PR,@-R15                ;[必要]
16451                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16452                             837 I1  
16453 00002CDA D30E               838 I1          MOV.L   #_TEP_POS_ADD_CNT,R3            ;
16454 00002CDC 6232               839 I1          MOV.L   @R3,R2                          ;
16455 00002CDE 4211               840 I1          CMP/PZ  R2
16456 00002CE0 8900               841 I1          BT      TEP_SPD_CALCCOM_100                     ;
16457 00002CE2 622B               842 I1          NEG     R2,R2                                   ;
16458 00002CE4                    843 I1  TEP_SPD_CALCCOM_100
16459                             844 I1  
16460 00002CE4 9114               845 I1          MOV.W   #D'1000,R1                              ;
16461                             846 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;10PLS:100msec
16462 00002CE6 D00C                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16463 00002CE8 400B                   M           JSR     @R0                     ;
16464 00002CEA 0009                   M           NOP                                     ;
16465                             847 I1  
16466 00002CEC 2228               848 I1          TST     R2,R2                                   ;
16467                             849 I1          TST_BIT_ON TEP_SPD_CALCCOM_200                  ;
16468 00002CEE 8B00                   M           BF      TEP_SPD_CALCCOM_200
16469 00002CF0 920F               850 I1          MOV.W   #1,R2                                   ;
16470 00002CF2                    851 I1  TEP_SPD_CALCCOM_200
16471                             852 I1  
16472                             853 I1  
16473 00002CF2 D10A               854 I1          MOV.L   #_SET1_DNDINC_SPD1,R1   ;
16474 00002CF4 6312               855 I1          MOV.L   @R1,R3                  ;
16475                             856 I1  
16476                             857 I1  ;       -----------MAX LIMIT----------
16477 00002CF6 3322               858 I1          CMP/HS  R2,R3
16478 00002CF8 8900               859 I1          BT      TEP_SPD_CALCCOM_300
16479 00002CFA 6233               860 I1          MOV     R3,R2                   ;
16480 00002CFC                    861 I1  TEP_SPD_CALCCOM_300
16481                             862 I1  
16482                             863 I1  
16483                             864 I1  ;       ---------- MIN LIMIT -------------
16484 00002CFC D108               865 I1          MOV.L   #_TEP_MIN_SPD_PLS,R1    ;
16485 00002CFE 6312               866 I1          MOV.L   @R1,R3                  ;PLS/S
16486                             867 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   188
PROGRAM NAME =

16487 00002D00 3232               868 I1          CMP/HS  R3,R2
16488 00002D02 8900               869 I1          BT      TEP_SPD_CALCCOM_400
16489 00002D04 6233               870 I1          MOV     R3,R2                   ;
16490 00002D06                    871 I1  TEP_SPD_CALCCOM_400
16491                             872 I1  
16492 00002D06 D107               873 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;
16493 00002D08 2122               874 I1          MOV.L   R2,@R1                  ;
16494                             875 I1  
16495                             876 I1          SUB_END
16496                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16497 00002D0A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16498                             877 I1          M_RTS
16499 00002D0C 000B                   M           RTS                             ;RTSの後ろの
16500 00002D0E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16501                             878 I1  
16502                             879 I1  ;       -----------------------------------
16503                                 I1  ***** BEGIN-POOL *****
16504 00002D10 03E8                   I1  DATA FOR SOURCE-LINE 845
16505 00002D12 0001                   I1  DATA FOR SOURCE-LINE 850
16506 00002D14 00000000               I1  DATA FOR SOURCE-LINE 838
16507 00002D18 00000000               I1  DATA FOR SOURCE-LINE 846
16508 00002D1C 00000000               I1  DATA FOR SOURCE-LINE 854
16509 00002D20 00000000               I1  DATA FOR SOURCE-LINE 865
16510 00002D24 00000000               I1  DATA FOR SOURCE-LINE 873
16511                                 I1  ***** END-POOL *****
16512 00002D28                    880 I1  _TEP_SPD_CALC3:
16513                             881 I1          SUB_START
16514 00002D28 4F22                   M           STS.L   PR,@-R15                ;[必要]
16515                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16516 00002D2A D104               882 I1          MOV.L   #_SET1_DNDINC_SPD1,R1   ;
16517 00002D2C 6212               883 I1          MOV.L   @R1,R2                  ;
16518 00002D2E D104               884 I1          MOV.L   #_TEP_CHG_SPD1,R1       ;
16519 00002D30 2122               885 I1          MOV.L   R2,@R1                  ;
16520 00002D32 D104               886 I1          MOV.L   #_TEP_CHG_SPD2,R1       ;
16521 00002D34 2122               887 I1          MOV.L   R2,@R1                  ;
16522                             888 I1          SUB_END
16523                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16524 00002D36 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16525                             889 I1          M_RTS
16526 00002D38 000B                   M           RTS                             ;RTSの後ろの
16527 00002D3A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16528                             890 I1  
16529                             891 I1  
16530                             892 I1  
16531                                 I1  ***** BEGIN-POOL *****
16532 00002D3C 00000000               I1  DATA FOR SOURCE-LINE 882
16533 00002D40 00000000               I1  DATA FOR SOURCE-LINE 884
16534 00002D44 00000000               I1  DATA FOR SOURCE-LINE 886
16535                                 I1  ***** END-POOL *****
16536 00002D48                    893 I1  _TEP_SPD_SET:
16537                             894 I1          SUB_START
16538 00002D48 4F22                   M           STS.L   PR,@-R15                ;[必要]
16539                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16540                             895 I1  
16541 00002D4A D103               896 I1          MOV.L   #_TEP_CHG_SPD1,R1                       ;
16542 00002D4C 6212               897 I1          MOV.L   @R1,R2                                  ;
16543                             898 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   189
PROGRAM NAME =

16544 00002D4E D103               899 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                 ;//目標速度
16545 00002D50 2122               900 I1          MOV.L   R2,@R1                                  ;
16546                             901 I1  
16547                             902 I1          SUB_END
16548                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16549 00002D52 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16550                             903 I1          M_RTS
16551 00002D54 000B                   M           RTS                             ;RTSの後ろの
16552 00002D56 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16553                             904 I1  
16554                                 I1  ***** BEGIN-POOL *****
16555 00002D58 00000000               I1  DATA FOR SOURCE-LINE 896
16556 00002D5C 00000000               I1  DATA FOR SOURCE-LINE 899
16557                                 I1  ***** END-POOL *****
16558 00002D60                    905 I1  _TEP_SPD_SET_CHG:
16559                             906 I1          SUB_START
16560 00002D60 4F22                   M           STS.L   PR,@-R15                ;[必要]
16561                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16562                             907 I1  
16563                             908 I1  ;;;;    MOV.L   #_TEP_CHG_SPD1,R1                       ;
16564                             909 I1  ;;;;    MOV.L   @R1,R2                                  ;
16565                             910 I1  
16566 00002D62 D105               911 I1          MOV.L   #_TEP_CHG_SPD2,R1                       ;
16567 00002D64 6212               912 I1          MOV.L   @R1,R2                                  ;
16568                             913 I1  
16569 00002D66 D105               914 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                 ;//目標速度
16570 00002D68 2122               915 I1          MOV.L   R2,@R1                                  ;
16571                             916 I1  
16572                             917 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SETX,R1             ;input R2
16573 00002D6A D105                   M           MOV.L   #_POS_LSI_TOP_SPEED_SETX,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16574 00002D6C 410B                   M           JSR     @R1                     ;
16575 00002D6E 0009                   M           NOP                                     ;
16576                             918 I1  
16577                             919 I1          SUB_END
16578                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16579 00002D70 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16580                             920 I1          M_RTS
16581 00002D72 000B                   M           RTS                             ;RTSの後ろの
16582 00002D74 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16583                             921 I1  
16584                             922 I1  
16585                             923 I1  
16586                             924 I1  
16587                             925 I1  ;       ***************************************************
16588                             926 I1  ;       ***                                             ***
16589                             927 I1  ;       ***                                             ***
16590                             928 I1  ;       ***                                             ***
16591                             929 I1  ;       ***                                             ***
16592                             930 I1  ;       ***************************************************
16593                             931 I1          .EXPORT _TEP_DTMAK
16594                                 I1  ***** BEGIN-POOL *****
16595 00002D76 0000                   I1  ALIGNMENT CODE
16596 00002D78 00000000               I1  DATA FOR SOURCE-LINE 911
16597 00002D7C 00000000               I1  DATA FOR SOURCE-LINE 914
16598 00002D80 00000000               I1  DATA FOR SOURCE-LINE 917
16599                                 I1  ***** END-POOL *****
16600 00002D84                    932 I1  _TEP_DTMAK:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   190
PROGRAM NAME =

16601                             933 I1          SUB_START
16602 00002D84 4F22                   M           STS.L   PR,@-R15                ;[必要]
16603                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16604                             934 I1  
16605                             935 I1  ;       ------------------------------------
16606 00002D86 D117               936 I1          MOV.L   #(_PAR_TEP_BEFPLS-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
16607 00002D88 6411               937 I1          MOV.W   @R1,R4                                                  ;
16608 00002D8A 9027               938 I1          MOV.W   #D'10,R0                                                ;MIN PLS
16609 00002D8C 3402               939 I1          CMP/HS  R0,R4                                                   ;R4(10PLS)=< R0
16610 00002D8E 8900               940 I1          BT      TEP_SYS_SET080                                          ;
16611 00002D90 6403               941 I1          MOV     R0,R4                                                   ;
16612 00002D92                    942 I1  TEP_SYS_SET080:
16613 00002D92 D115               943 I1          MOV.L   #_TEP_ADDCHK_SVPLS,R1
16614 00002D94 2141               944 I1          MOV.W   R4,@R1
16615                             945 I1  
16616                             946 I1  ;       --------------2013-06-05 -----------
16617 00002D96 9222               947 I1          MOV.W   #D'100,R2                                               ;DEF 100msec
16618 00002D98 D114               948 I1          MOV.L   #(_PAR_TEP_WATTIM-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
16619 00002D9A 6011               949 I1          MOV.W   @R1,R0                                                  ;
16620 00002D9C 2008               950 I1          TST     R0,R0                                                   ;
16621                             951 I1          TST_BIT_OF TEP_SYS_SET100                                       ;
16622 00002D9E 8900                   M           BT      TEP_SYS_SET100
16623 00002DA0 6203               952 I1          MOV     R0,R2                                                   ;
16624 00002DA2                    953 I1  TEP_SYS_SET100:
16625 00002DA2 D113               954 I1          MOV.L   #_TEP_STEP_SVWTTM1,R1   ;//2013-06-05
16626 00002DA4 2121               955 I1          MOV.W   R2,@R1                  ;
16627                             956 I1  
16628 00002DA6 D112               957 I1          MOV.L   #_TEP_STEP_SVWTTM1,R1   ;//2013-06-05
16629 00002DA8 6211               958 I1          MOV.W   @R1,R2                  ;
16630 00002DAA 4201               959 I1          SHLR    R2                      ;
16631 00002DAC D111               960 I1          MOV.L   #_TEP_STEP_SVSMPTM,R1   ;
16632 00002DAE 2121               961 I1          MOV.W   R2,@R1                  ;1/2時間
16633                             962 I1  
16634                             963 I1  ;       ---------- 最小速度兼自起動速度
16635 00002DB0 D111               964 I1          MOV.L   #(_PAR_TEP_MINSPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1     ;
16636 00002DB2 6211               965 I1          MOV.W   @R1,R2                                                  ;
16637 00002DB4 2228               966 I1          TST     R2,R2                                                   ;
16638                             967 I1          TST_BIT_ON TEP_SYS_SET200                                       ;
16639 00002DB6 8B00                   M           BF      TEP_SYS_SET200
16640 00002DB8 9212               968 I1          MOV.W   #1,R2                                                   ;0.01%
16641 00002DBA                    969 I1  TEP_SYS_SET200:                                                         ;
16642                             970 I1          FAR_JSR #_CYCLE_SPD1,R0                                         ;
16643 00002DBA D010                   M           MOV.L   #_CYCLE_SPD1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16644 00002DBC 400B                   M           JSR     @R0                     ;
16645 00002DBE 0009                   M           NOP                                     ;
16646 00002DC0 D10F               971 I1          MOV.L   #_TEP_MIN_SPD_PLS,R1                                    ;
16647 00002DC2 2122               972 I1          MOV.L   R2,@R1                                                  ;PLS/S
16648                             973 I1  
16649 00002DC4 D00F               974 I1          MOV.L   #_POS_LSI_SPDMAX,R0                             ;
16650 00002DC6 6102               975 I1          MOV.L   @R0,R1                                          ;
16651 00002DC8 D00F               976 I1          MOV.L   #_POS_FRQ_SPDMAX,R0                             ;500KHZ(500000PLS/S)
16652 00002DCA 6402               977 I1          MOV.L   @R0,R4                                          ;
16653                             978 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
16654 00002DCC D00F                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16655 00002DCE 400B                   M           JSR     @R0                     ;
16656 00002DD0 0009                   M           NOP                                     ;
16657 00002DD2 D10F               979 I1          MOV.L   #_TEP_MIN_SPD_FRQ,R1                            ;//自起動速度
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   191
PROGRAM NAME =

16658 00002DD4 2122               980 I1          MOV.L   R2,@R1                                          ;
16659                             981 I1  
16660                             982 I1  
16661                             983 I1          SUB_END
16662                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16663 00002DD6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16664                             984 I1          M_RTS
16665 00002DD8 000B                   M           RTS                             ;RTSの後ろの
16666 00002DDA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16667                             985 I1  
16668                             986 I1  ;
16669                             987 I1  ;;まだ組み込まない_TEP_CPUAB_HAND
16670                             988 I1  ;;まだ組み込まない      SUB_START
16671                             989 I1  ;;まだ組み込まない      XOR     R0,R0
16672                             990 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;
16673                             991 I1  ;;まだ組み込まない      MOV.W   @R5,R1                  ;
16674                             992 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R6    ;
16675                             993 I1  ;;まだ組み込まない      MOV.W   @R6,R2                  ;
16676                             994 I1  ;;まだ組み込まない      CMP/EQ  R1,R2                   ;
16677                             995 I1  ;;まだ組み込まない      BF      TEP_CPUAB_HDEXT         ;
16678                             996 I1  ;;まだ組み込まない      MOV.B   #BIT0,R0                        ;
16679                             997 I1  ;;まだ組み込まないTEP_CPUAB_HDEXT
16680                             998 I1  ;;まだ組み込まない
16681                             999 I1  ;;まだ組み込まない      SUB_END
16682                            1000 I1  ;;まだ組み込まない      M_RTS
16683                            1001 I1  
16684                            1002 I1  ;;まだ組み込まない_TEP_CPUAB_HAND_CLR
16685                            1003 I1  ;;まだ組み込まない      SUB_START
16686                            1004 I1  ;;まだ組み込まない      XOR     R0,R0
16687                            1005 I1  ;;まだ組み込まない
16688                            1006 I1  ;;まだ組み込まない .AIF 1 EQ    0       ;
16689                            1007 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;
16690                            1008 I1  ;;まだ組み込まない .AELSE
16691                            1009 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R5    ;
16692                            1010 I1  ;;まだ組み込まない .AENDI
16693                            1011 I1  ;;まだ組み込まない      MOV.W   R0,@R5
16694                            1012 I1  ;;まだ組み込まない
16695                            1013 I1  ;;まだ組み込まない      SUB_END
16696                            1014 I1  ;;まだ組み込まない      M_RTS
16697                            1015 I1  
16698                            1016 I1  
16699                            1017 I1  ;*******************************************
16700                            1018 I1  
16701                            1019 I1  ;;まだ組み込まない_TEP_CPUAB_HAND_STOP
16702                            1020 I1  ;;まだ組み込まない      SUB_START
16703                            1021 I1  ;;まだ組み込まない      MOV.B   #BIT0,R0                ;
16704                            1022 I1  ;;まだ組み込まない
16705                            1023 I1  ;;まだ組み込まない .AIF 1 EQ    0       ;
16706                            1024 I1  ;;まだ組み込まない      MOV.L   #_SH4toSH2_TEPSIG,R5    ;
16707                            1025 I1  ;;まだ組み込まない .AELSE
16708                            1026 I1  ;;まだ組み込まない      MOV.L   #_SH2toSH4_TEPSIG,R5    ;
16709                            1027 I1  ;;まだ組み込まない .AENDI
16710                            1028 I1  ;;まだ組み込まない      MOV.W   R0,@R5
16711                            1029 I1  ;;まだ組み込まない
16712                            1030 I1  ;;まだ組み込まない      SUB_END
16713                            1031 I1  ;;まだ組み込まない      M_RTS
16714                            1032 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   192
PROGRAM NAME =

16715                            1033 I1  
16716                            1034 I1  ;       *******************************************
16717                            1035 I1  ;       ***                                     ***
16718                            1036 I1  ;       ***     停止させる信号のクリア          ***
16719                            1037 I1  ;       ***                                     ***
16720                            1038 I1  ;       *******************************************
16721                            1039 I1  ;
16722                                 I1  ***** BEGIN-POOL *****
16723 00002DDC 000A                   I1  DATA FOR SOURCE-LINE 938
16724 00002DDE 0064                   I1  DATA FOR SOURCE-LINE 947
16725 00002DE0 0001                   I1  DATA FOR SOURCE-LINE 968
16726 00002DE2 0000                   I1  ALIGNMENT CODE
16727 00002DE4 00000000               I1  DATA FOR SOURCE-LINE 936
16728 00002DE8 00000000               I1  DATA FOR SOURCE-LINE 943
16729 00002DEC 00000000               I1  DATA FOR SOURCE-LINE 948
16730 00002DF0 00000000               I1  DATA FOR SOURCE-LINE 954,957
16731 00002DF4 00000000               I1  DATA FOR SOURCE-LINE 960
16732 00002DF8 00000000               I1  DATA FOR SOURCE-LINE 964
16733 00002DFC 00000000               I1  DATA FOR SOURCE-LINE 970
16734 00002E00 00000000               I1  DATA FOR SOURCE-LINE 971
16735 00002E04 00000000               I1  DATA FOR SOURCE-LINE 974
16736 00002E08 00000000               I1  DATA FOR SOURCE-LINE 976
16737 00002E0C 00000000               I1  DATA FOR SOURCE-LINE 978
16738 00002E10 00000000               I1  DATA FOR SOURCE-LINE 979
16739                                 I1  ***** END-POOL *****
16740 00002E14                   1040 I1  _TEP_REVPLS_LT_CLR
16741                            1041 I1          SUB_START
16742 00002E14 4F22                   M           STS.L   PR,@-R15                ;[必要]
16743                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16744 00002E16 200A              1042 I1          XOR     R0,R0                   ;
16745 00002E18 D102              1043 I1          MOV.L   #_TEP_REVPLS_LT_FLG,R1  ;
16746 00002E1A 2101              1044 I1          MOV.W   R0,@R1                  ;
16747                            1045 I1          SUB_END
16748                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16749 00002E1C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16750                            1046 I1          M_RTS
16751 00002E1E 000B                   M           RTS                             ;RTSの後ろの
16752 00002E20 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16753                            1047 I1  
16754                            1048 I1  ;       *******************************************
16755                            1049 I1  ;       ***                                     ***
16756                            1050 I1  ;       ***     Input R2                        ***
16757                            1051 I1  ;       ***     ﾘﾝｸ(内部制御)ﾊﾟﾙｽ               ***
16758                            1052 I1  ;       ***     Input R0 DIRECT                 ***
16759                            1053 I1  ;       ***     方向固定                        ***
16760                            1054 I1  ;       ***                                     ***
16761                            1055 I1  ;       *******************************************
16762                            1056 I1  ;       MOV.L   #_SETX_DNAREA_JG_PLS,R4                 ;反転設定不可範囲LINK-PLS
16763                            1057 I1  ;       MOV.L   @R4,R2                                  ;
16764                            1058 I1  ;
16765                            1059 I1  
16766                            5178     
16767                            5179     
16768                            5180     
16769                            5181     
16770                            5182     
16771                            5183     ;       ***********************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   193
PROGRAM NAME =

16772                            5184     ;       ***                             ***
16773                            5185     ;       ***     目標位置→LENGTH        ***
16774                            5186     ;       ***                             ***
16775                            5187     ;       ***********************************
16776                            5188     ;       Input R1,R2(目標位置)
16777                            5189     ;       Output R1,R2
16778                                     ***** BEGIN-POOL *****
16779 00002E22 0000                       ALIGNMENT CODE
16780 00002E24 00000000                   DATA FOR SOURCE-LINE 1043
16781                                     ***** END-POOL *****
16782 00002E28                   5190             .ALIGN  4                               ;
16783 00002E28                   5191     _LENGH_ADD_CALC:
16784                            5192             SUB_START
16785 00002E28 4F22                   M           STS.L   PR,@-R15                ;[必要]
16786                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16787 00002E2A D50B              5193             MOV.L   #_LINK_SV_OBJ_ABSPLS,R5 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
16788 00002E2C 2512              5194             MOV.L   R1,@R5                          ;
16789 00002E2E 1521              5195             MOV.L   R2,@(4,R5)                      ;
16790                            5196     
16791                            5197     ;       ===2004-12-20 ===================
16792                            5198             PUSH_REG1 R5
16793 00002E30 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
16794                                 M                                           ;REG=>[SP]
16795                                 M                                           ;"-4" FF,FF,FF,FC
16796 00002E32 D50A              5199             MOV.L   #_LINKX_SV_OBJ_ABSPLS,R5        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
16797 00002E34 2512              5200             MOV.L   R1,@R5                          ;
16798 00002E36 1521              5201             MOV.L   R2,@(4,R5)                      ;
16799                            5202             POP_REG1 R5
16800                                 M                                   ; RE"+4" 00,00,00,04
16801 00002E38 65F6                   M           MOV.L   @R15+,R5        ;
16802                            5203     ;       =================================
16803                            5204     
16804                            5205     ;;;;2014-09-12ﾃﾞﾝｼﾞｬﾗｽか?       MOV.L   #_LINK_PV_ABSPLS,R4             ;(ﾌﾙｸﾛｰｽﾞ時は対象
                                          を変える)
16805 00002E3A D409              5206             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4         ;2014-09-14
16806 00002E3C 6546              5207             MOV.L   @R4+,R5                         ;
16807 00002E3E 6642              5208             MOV.L   @R4,R6                          ;
16808                            5209             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
16809 00002E40 0008                   M           CLRT
16810 00002E42 326A                   M           SUBC    R6,R2
16811 00002E44 315A                   M           SUBC    R5,R1
16812 00002E46 D407              5210             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
16813 00002E48 2412              5211             MOV.L   R1,@R4                          ;
16814 00002E4A 1421              5212             MOV.L   R2,@(4,R4)                      ;
16815                            5213     
16816                            5214     ;       ==== MONITOR 2004-01-28 ====
16817 00002E4C D406              5215             MOV.L   #_LT_LNGTH_ADD_DATA,R4  ;//符号付き
16818 00002E4E 2412              5216             MOV.L   R1,@R4                          ;
16819 00002E50 1421              5217             MOV.L   R2,@(4,R4)                      ;
16820                            5218     
16821                            5219     
16822                            5220     
16823                            5221             SUB_END
16824                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16825 00002E52 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16826                            5222             M_RTS
16827 00002E54 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   194
PROGRAM NAME =

16828 00002E56 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16829                            5223     
16830                                     ***** BEGIN-POOL *****
16831 00002E58 00000000                   DATA FOR SOURCE-LINE 5193
16832 00002E5C 00000000                   DATA FOR SOURCE-LINE 5199
16833 00002E60 00000000                   DATA FOR SOURCE-LINE 5206
16834 00002E64 00000000                   DATA FOR SOURCE-LINE 5210
16835 00002E68 00000000                   DATA FOR SOURCE-LINE 5215
16836                                     ***** END-POOL *****
16837 00002E6C                   5224             .ALIGN  4                               ;
16838 00002E6C                   5225     _LENGH_ADD_CALC_SV_TYPE:
16839                            5226             SUB_START
16840 00002E6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
16841                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16842 00002E6E D40B              5227             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
16843 00002E70 6542              5228             MOV.L   @R4,R5                          ;OLD_LOAD
16844 00002E72 5641              5229             MOV.L   @(4,R4),R6                      ;
16845 00002E74 2412              5230             MOV.L   R1,@R4                          ;
16846 00002E76 1421              5231             MOV.L   R2,@(4,R4)                      ;NEW SAVE
16847                            5232     ;       ===2004-12-20 ===================
16848                            5233             PUSH_REG1 R4
16849 00002E78 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
16850                                 M                                           ;REG=>[SP]
16851                                 M                                           ;"-4" FF,FF,FF,FC
16852 00002E7A D409              5234             MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
16853 00002E7C 2412              5235             MOV.L   R1,@R4                          ;
16854 00002E7E 1421              5236             MOV.L   R2,@(4,R4)                      ;
16855                            5237             POP_REG1 R4
16856                                 M                                   ; RE"+4" 00,00,00,04
16857 00002E80 64F6                   M           MOV.L   @R15+,R4        ;
16858                            5238     ;       =================================
16859                            5239     
16860                            5240             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
16861 00002E82 0008                   M           CLRT
16862 00002E84 326A                   M           SUBC    R6,R2
16863 00002E86 315A                   M           SUBC    R5,R1
16864 00002E88 D406              5241             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
16865 00002E8A 2412              5242             MOV.L   R1,@R4                          ;
16866 00002E8C 1421              5243             MOV.L   R2,@(4,R4)                      ;
16867                            5244     ;       ==== MONITOR 2004-01-28 ====
16868 00002E8E D406              5245             MOV.L   #_LT_LNGTH_ADD_DATA,R4  ;//符号付き
16869 00002E90 2412              5246             MOV.L   R1,@R4                          ;
16870 00002E92 1421              5247             MOV.L   R2,@(4,R4)                      ;
16871                            5248     
16872                            5249             SUB_END
16873                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16874 00002E94 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16875                            5250             M_RTS
16876 00002E96 000B                   M           RTS                             ;RTSの後ろの
16877 00002E98 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16878                            5251     
16879                            5252     ;       ===== BANK LENGTH ADD ====
16880                                     ***** BEGIN-POOL *****
16881 00002E9A 0000                       ALIGNMENT CODE
16882 00002E9C 00000000                   DATA FOR SOURCE-LINE 5227
16883 00002EA0 00000000                   DATA FOR SOURCE-LINE 5234
16884 00002EA4 00000000                   DATA FOR SOURCE-LINE 5241
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   195
PROGRAM NAME =

16885 00002EA8 00000000                   DATA FOR SOURCE-LINE 5245
16886                                     ***** END-POOL *****
16887 00002EAC                   5253             .ALIGN  4                               ;
16888 00002EAC                   5254     _BANK_LENGH_ADD_CALC_SV_TYPE:
16889                            5255             SUB_START
16890 00002EAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
16891                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16892 00002EAE D40B              5256             MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
16893 00002EB0 6542              5257             MOV.L   @R4,R5                          ;OLD_LOAD
16894 00002EB2 5641              5258             MOV.L   @(4,R4),R6                      ;
16895 00002EB4 2412              5259             MOV.L   R1,@R4                          ;
16896 00002EB6 1421              5260             MOV.L   R2,@(4,R4)                      ;NEW SAVE
16897                            5261             PUSH_REG1 R4
16898 00002EB8 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
16899                                 M                                           ;REG=>[SP]
16900                                 M                                           ;"-4" FF,FF,FF,FC
16901 00002EBA D409              5262             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
16902 00002EBC 2412              5263             MOV.L   R1,@R4                          ;
16903 00002EBE 1421              5264             MOV.L   R2,@(4,R4)                      ;
16904                            5265             POP_REG1 R4
16905                                 M                                   ; RE"+4" 00,00,00,04
16906 00002EC0 64F6                   M           MOV.L   @R15+,R4        ;
16907                            5266     
16908                            5267     
16909                            5268     
16910                            5269             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2
16911 00002EC2 0008                   M           CLRT
16912 00002EC4 326A                   M           SUBC    R6,R2
16913 00002EC6 315A                   M           SUBC    R5,R1
16914 00002EC8 D406              5270             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
16915 00002ECA 2412              5271             MOV.L   R1,@R4                          ;
16916 00002ECC 1421              5272             MOV.L   R2,@(4,R4)                      ;
16917                            5273     ;       ==== MONITOR 2004-01-28 ====
16918 00002ECE D406              5274             MOV.L   #_LT_LNGTH_ADD_DATA,R4  ;//符号付き
16919 00002ED0 2412              5275             MOV.L   R1,@R4                          ;
16920 00002ED2 1421              5276             MOV.L   R2,@(4,R4)                      ;
16921                            5277     
16922                            5278             SUB_END
16923                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16924 00002ED4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16925                            5279             M_RTS
16926 00002ED6 000B                   M           RTS                             ;RTSの後ろの
16927 00002ED8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16928                            5280     
16929                            5281     
16930                            5282     ;       ***********************************
16931                            5283     ;       ***     STOP MEM CLR            ***
16932                            5284     ;       ***********************************
16933                                     ***** BEGIN-POOL *****
16934 00002EDA 0000                       ALIGNMENT CODE
16935 00002EDC 00000000                   DATA FOR SOURCE-LINE 5256
16936 00002EE0 00000000                   DATA FOR SOURCE-LINE 5262
16937 00002EE4 00000000                   DATA FOR SOURCE-LINE 5270
16938 00002EE8 00000000                   DATA FOR SOURCE-LINE 5274
16939                                     ***** END-POOL *****
16940 00002EEC                   5285             .ALIGN  4                               ;
16941 00002EEC                   5286     _POS_LSI_WORK_STOP_CLR:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   196
PROGRAM NAME =

16942                            5287             SUB_START
16943 00002EEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
16944                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16945                            5288     
16946 00002EEE 200A              5289             XOR     R0,R0
16947 00002EF0 D105              5290             MOV.L   #_LNGTH_TOTAL_OUTPLS,R1                         ;//符号つき TOTAL=TOTAL+AD
                                          D ADD_DATA<=0
16948 00002EF2 2102              5291             MOV.L   R0,@R1                                          ;
16949 00002EF4 1101              5292             MOV.L   R0,@(4,R1)                                      ;
16950 00002EF6 D105              5293             MOV.L   #_LNGTH_ADD_DATA,R1                             ;//符号付き
16951 00002EF8 2102              5294             MOV.L   R0,@R1                                          ;
16952 00002EFA 1101              5295             MOV.L   R0,@(4,R1)                                      ;
16953 00002EFC D104              5296             MOV.L   #_OUTPLS_MOD,R1                                 ;
16954 00002EFE 2102              5297             MOV.L   R0,@R1                                          ;
16955                            5298     
16956                            5299             SUB_END
16957                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16958 00002F00 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16959                            5300             M_RTS
16960 00002F02 000B                   M           RTS                             ;RTSの後ろの
16961 00002F04 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16962                            5301     
16963                            5302     ;       *******************************************
16964                            5303     ;       ***                                     ***
16965                            5304     ;       *******************************************
16966                                     ***** BEGIN-POOL *****
16967 00002F06 0000                       ALIGNMENT CODE
16968 00002F08 00000000                   DATA FOR SOURCE-LINE 5290
16969 00002F0C 00000000                   DATA FOR SOURCE-LINE 5293
16970 00002F10 00000000                   DATA FOR SOURCE-LINE 5296
16971                                     ***** END-POOL *****
16972 00002F14                   5305             .ALIGN  4                               ;
16973 00002F14                   5306     _POS_LSI_WORK_STOP2;
16974                            5307             SUB_START
16975 00002F14 4F22                   M           STS.L   PR,@-R15                ;[必要]
16976                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
16977                            5308             FAR_JSR #_OutputPLS_REG_CLR,R0          ;
16978 00002F16 D004                   M           MOV.L   #_OutputPLS_REG_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
16979 00002F18 400B                   M           JSR     @R0                     ;
16980 00002F1A 0009                   M           NOP                                     ;
16981 00002F1C 200A              5309             XOR     R0,R0                           ;
16982 00002F1E D103              5310             MOV.L   #_POSLSI_CMP_DATA,R1            ;//CMP_DATA=CMP_DATA+|ADD_DATA| (符号なし)
16983 00002F20 2102              5311             MOV.L   R0,@R1                          ;
16984                            5312             SUB_END
16985                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
16986 00002F22 4F26                   M           LDS.L   @R15+,PR                ;[必要]
16987                            5313             M_RTS
16988 00002F24 000B                   M           RTS                             ;RTSの後ろの
16989 00002F26 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
16990                            5314     ;       ***********************************
16991                            5315     ;       ***                             ***
16992                            5316     ;       ***                             ***
16993                            5317     ;       ***                             ***
16994                            5318     ;       ***********************************
16995                                     ***** BEGIN-POOL *****
16996 00002F28 00000000                   DATA FOR SOURCE-LINE 5308
16997 00002F2C 00000000                   DATA FOR SOURCE-LINE 5310
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   197
PROGRAM NAME =

16998                                     ***** END-POOL *****
16999 00002F30                   5319             .ALIGN  4
17000 00002F30                   5320     _EMG_POS_FLG_PROC:
17001                            5321             SUB_START
17002 00002F30 4F22                   M           STS.L   PR,@-R15                ;[必要]
17003                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17004                            5322             FAR_JSR #_CYC_END_POS_FLG_CLR,R0        ;
17005 00002F32 D015                   M           MOV.L   #_CYC_END_POS_FLG_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17006 00002F34 400B                   M           JSR     @R0                     ;
17007 00002F36 0009                   M           NOP                                     ;
17008                            5323     
17009 00002F38 9024              5324             MOV.W   #BIT6,R0                        ;位置決め完了
17010 00002F3A D114              5325             MOV.L   #_INT_CYC_DRV_STS,R1            ;//BIT0=1(終了:ﾃﾞｰﾀ保証あり)
17011 00002F3C 2101              5326             MOV.W   R0,@R1                          ;
17012                            5327     
17013 00002F3E D114              5328             MOV.L   #_MNWR_POS_CMD,R1               ;ﾊﾟﾙｽ払出即停止
17014 00002F40 200A              5329             XOR     R0,R0                           ;
17015 00002F42 2101              5330             MOV.W   R0,@R1                          ;
17016                            5331     
17017                            5332     ;;      .AIF    1 EQ 1  ;
17018                            5333     ;;      .AENDI
17019 00002F44 200A              5334             XOR     R0,R0
17020 00002F46 D113              5335             MOV.L   #_INT_DND_NEG_STEP,R1           ;//2003-01-27 1 EQ 1    ;
17021 00002F48 2101              5336             MOV.W   R0,@R1                          ;
17022 00002F4A D113              5337             MOV.L   #_DNDINC_CTRL_STEP,R1           ;2006-07-28
17023 00002F4C 2101              5338             MOV.W   R0,@R1                          ;
17024                            5339     
17025                            5340             FAR_JSR #_FWD_REV_STSIG_OFF,R0          ;
17026 00002F4E D013                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17027 00002F50 400B                   M           JSR     @R0                     ;
17028 00002F52 0009                   M           NOP                                     ;
17029                            5341             FAR_JSR #_POS_LSI_EMG_STOP,R0           ;急停止
17030 00002F54 D012                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17031 00002F56 400B                   M           JSR     @R0                     ;
17032 00002F58 0009                   M           NOP                                     ;
17033                            5342     
17034                            5343     ;       ---     [2009-10-07下振子]      ---
17035                            5344             FAR_JSR #_DNM_DATA_CLR,R0                       ;
17036 00002F5A D012                   M           MOV.L   #_DNM_DATA_CLR,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17037 00002F5C 400B                   M           JSR     @R0                     ;
17038 00002F5E 0009                   M           NOP                                     ;
17039                            5345     
17040                            5346     ;       ------------寸動からの上限指令 2013-02-15--
17041 00002F60 200A              5347             XOR     R0,R0                   ;
17042 00002F62 D111              5348             MOV.L   #_UPLIMIT_START_F,R1    ;//BIT0:寸動からの指令
17043 00002F64 2101              5349             MOV.W   R0,@R1                  ;
17044                            5350     
17045                            5351     ;       ------------ 2013-07-13
17046                            5352             FAR_JSR #_EXQ_POS_FLG_PROC,R0
17047 00002F66 D011                   M           MOV.L   #_EXQ_POS_FLG_PROC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17048 00002F68 400B                   M           JSR     @R0                     ;
17049 00002F6A 0009                   M           NOP                                     ;
17050                            5353     
17051                            5354     ;       --------- 2013-07-18
17052 00002F6C 200A              5355             XOR     R0,R0
17053 00002F6E D110              5356             MOV.L   #_POSCTL_CALC_ERR,R1                    ;BIT0:起動時
17054 00002F70 2101              5357             MOV.W   R0,@R1                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   198
PROGRAM NAME =

17055                            5358     
17056                            5359     ;       --------- 2014-09-22 繰返---------------
17057                            5360             FAR_JSR #_MOT_REP_CLR,R0
17058 00002F72 D010                   M           MOV.L   #_MOT_REP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17059 00002F74 400B                   M           JSR     @R0                     ;
17060 00002F76 0009                   M           NOP                                     ;
17061                            5361     
17062                            5362     ;       -------2021-11-11[]-------
17063                            5363             FAR_JSR #_DND_NEG_START_FLG_CLR,R0
17064 00002F78 D00F                   M           MOV.L   #_DND_NEG_START_FLG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17065 00002F7A 400B                   M           JSR     @R0                     ;
17066 00002F7C 0009                   M           NOP                                     ;
17067                            5364     
17068                            5365             SUB_END
17069                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17070 00002F7E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17071                            5366             M_RTS
17072 00002F80 000B                   M           RTS                             ;RTSの後ろの
17073 00002F82 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17074                            5367     
17075                            5368     
17076                                     ***** BEGIN-POOL *****
17077 00002F84 0040                       DATA FOR SOURCE-LINE 5324
17078 00002F86 0000                       ALIGNMENT CODE
17079 00002F88 00000000                   DATA FOR SOURCE-LINE 5322
17080 00002F8C 00000000                   DATA FOR SOURCE-LINE 5325
17081 00002F90 00000000                   DATA FOR SOURCE-LINE 5328
17082 00002F94 00000000                   DATA FOR SOURCE-LINE 5335
17083 00002F98 00000000                   DATA FOR SOURCE-LINE 5337
17084 00002F9C 00000000                   DATA FOR SOURCE-LINE 5340
17085 00002FA0 00000000                   DATA FOR SOURCE-LINE 5341
17086 00002FA4 00000000                   DATA FOR SOURCE-LINE 5344
17087 00002FA8 00000000                   DATA FOR SOURCE-LINE 5348
17088 00002FAC 00000000                   DATA FOR SOURCE-LINE 5352
17089 00002FB0 00000000                   DATA FOR SOURCE-LINE 5356
17090 00002FB4 00000000                   DATA FOR SOURCE-LINE 5360
17091 00002FB8 00000000                   DATA FOR SOURCE-LINE 5363
17092                                     ***** END-POOL *****
17093 00002FBC                   5369             .ALIGN  4
17094 00002FBC                   5370     _EXQ_POS_FLG_PROC:
17095                            5371             SUB_START
17096 00002FBC 4F22                   M           STS.L   PR,@-R15                ;[必要]
17097                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17098                            5372     
17099 00002FBE D115              5373             MOV.L   #_MNWR_POS_CMD,R1       ;ﾊﾟﾙｽ払出即停止
17100 00002FC0 200A              5374             XOR     R0,R0                   ;
17101 00002FC2 2101              5375             MOV.W   R0,@R1                  ;
17102                            5376             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
17103 00002FC4 D014                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17104 00002FC6 400B                   M           JSR     @R0                     ;
17105 00002FC8 0009                   M           NOP                                     ;
17106                            5377             FAR_JSR #_POS_LSI_EMG_STOP,R0                   ;急停止
17107 00002FCA D014                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17108 00002FCC 400B                   M           JSR     @R0                     ;
17109 00002FCE 0009                   M           NOP                                     ;
17110                            5378     
17111                            5379     ;       ==========================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   199
PROGRAM NAME =

17112 00002FD0 200A              5380             XOR     R0,R0                           ;
17113 00002FD2 D113              5381             MOV.L   #_INT_POS_STEP_FLG,R1           ;//ｽﾃｯﾌﾟ,段取り共通
17114 00002FD4 2101              5382             MOV.W   R0,@R1                          ;
17115                            5383     
17116 00002FD6 200A              5384             XOR     R0,R0                           ;
17117                            5385             REG_MOV_TO_MEM  DST_ADR=_POS_LSI_ACS_ERR_FLG1   ,L1=W,DT_REG=R0,WKREG1=R1       ;L
                                          SI異常
17118 00002FD8 D112                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1       ;DST_ADR
17119 00002FDA 2101                   M           MOV.W   R0,@R1  ;DST_ADR
17120                            5386             REG_MOV_TO_MEM  DST_ADR=_POS_CALC_ERR_FLG1      ,L1=W,DT_REG=R0,WKREG1=R1       ;
17121 00002FDC D112                   M           MOV.L   #_POS_CALC_ERR_FLG1,R1  ;DST_ADR
17122 00002FDE 2101                   M           MOV.W   R0,@R1  ;DST_ADR
17123                            5387             REG_MOV_TO_MEM  DST_ADR=_POS_CALC_ERR_FLG2      ,L1=W,DT_REG=R0,WKREG1=R1       ;
17124 00002FE0 D112                   M           MOV.L   #_POS_CALC_ERR_FLG2,R1  ;DST_ADR
17125 00002FE2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
17126                            5388     
17127                            5389             FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0
17128 00002FE4 D012                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17129 00002FE6 400B                   M           JSR     @R0                     ;
17130 00002FE8 0009                   M           NOP                                     ;
17131                            5390     
17132                            5391             .AIF    1 EQ    0
17133                            5392     
17134                            5393             FAR_JSR #_VIB_PLS_OUT_OF,R0     ;2010-08-23加振動制御
17135                            5394             .AENDI
17136                            5395     
17137                            5396     
17138                            5397             .AIF    1 EQ    0
17139                            5398             FAR_JSR #_API_IVW_CYC_END,R0                    ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
17140                            5399             .AENDI
17141                            5400     
17142                            5401     ;       -2012-05-30 反転
17143                            5402             FAR_JSR #_FULCLS_MAXOVER_CLR,R0
17144 00002FEA D012                   M           MOV.L   #_FULCLS_MAXOVER_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17145 00002FEC 400B                   M           JSR     @R0                     ;
17146 00002FEE 0009                   M           NOP                                     ;
17147                            5403     
17148                            5404     ;       ----------- 荷重行程変更ｸﾘｱ-----------------
17149                            5405             .AIF    1 EQ    1       ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
17150                            5406 C           FAR_JSR #_FCLS_KJYU_STEPCHG_CLR,R0      ;2015-03-15[R01:2014-03-20]
17151 00002FF0 D011                   M           MOV.L   #_FCLS_KJYU_STEPCHG_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17152 00002FF2 400B                   M           JSR     @R0                     ;
17153 00002FF4 0009                   M           NOP                                     ;
17154                            5407 C           FAR_JSR #_KAJYU_ELSE_STS_CLR,R0         ;
17155 00002FF6 D011                   M           MOV.L   #_KAJYU_ELSE_STS_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17156 00002FF8 400B                   M           JSR     @R0                     ;
17157 00002FFA 0009                   M           NOP                                     ;
17158                            5408             .AENDI
17159                            5409     
17160                            5410     ;       --------- 2013-07-18
17161 00002FFC 200A              5411             XOR     R0,R0
17162 00002FFE D110              5412             MOV.L   #_POSCTL_CALC_ERR,R1                    ;BIT0:起動時
17163 00003000 2101              5413             MOV.W   R0,@R1                                  ;
17164                            5414     
17165                            5415             FAR_JSR #_PRESET_PV_FLGCLR,R0           ;2014-09-14 異常が発生した
17166 00003002 D010                   M           MOV.L   #_PRESET_PV_FLGCLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17167 00003004 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   200
PROGRAM NAME =

17168 00003006 0009                   M           NOP                                     ;
17169                            5416     
17170                            5417     ;       -------- 2015-09-06(2015-07-14)-----------
17171                            5418     ;;;     _BRK_SADOU_CHG EQ 1
17172                            5419             FAR_JSR #_POS_END_MYUTIG_TIMER_CLR,R0
17173 00003008 D00F                   M           MOV.L   #_POS_END_MYUTIG_TIMER_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17174 0000300A 400B                   M           JSR     @R0                     ;
17175 0000300C 0009                   M           NOP                                     ;
17176                            5420     
17177                            5421             SUB_END
17178                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17179 0000300E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17180                            5422             M_RTS
17181 00003010 000B                   M           RTS                             ;RTSの後ろの
17182 00003012 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17183                            5423     
17184                            5424     ;       ***********************************
17185                            5425     ;       ***                             ***
17186                            5426     ;       ***     ﾜｰｸﾌﾗｸﾞ関係ｸﾘｱ          ***
17187                            5427     ;       ***                             ***
17188                            5428     ;       ***********************************
17189                            5429     ;       1ｻｲｸﾙ終了時
17190                                     ***** BEGIN-POOL *****
17191 00003014 00000000                   DATA FOR SOURCE-LINE 5373
17192 00003018 00000000                   DATA FOR SOURCE-LINE 5376
17193 0000301C 00000000                   DATA FOR SOURCE-LINE 5377
17194 00003020 00000000                   DATA FOR SOURCE-LINE 5381
17195 00003024 00000000                   DATA FOR SOURCE-LINE 5385
17196 00003028 00000000                   DATA FOR SOURCE-LINE 5386
17197 0000302C 00000000                   DATA FOR SOURCE-LINE 5387
17198 00003030 00000000                   DATA FOR SOURCE-LINE 5389
17199 00003034 00000000                   DATA FOR SOURCE-LINE 5402
17200 00003038 00000000                   DATA FOR SOURCE-LINE 5406
17201 0000303C 00000000                   DATA FOR SOURCE-LINE 5407
17202 00003040 00000000                   DATA FOR SOURCE-LINE 5412
17203 00003044 00000000                   DATA FOR SOURCE-LINE 5415
17204 00003048 00000000                   DATA FOR SOURCE-LINE 5419
17205                                     ***** END-POOL *****
17206 0000304C                   5430             .ALIGN  4
17207                            5431             .EXPORT _CYC_END_POS_FLG_CLR            ;2016-04-18
17208 0000304C                   5432     _CYC_END_POS_FLG_CLR:
17209                            5433             SUB_START
17210 0000304C 4F22                   M           STS.L   PR,@-R15                ;[必要]
17211                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17212 0000304E 200A              5434             XOR     R0,R0                           ;
17213 00003050 D102              5435             MOV.L   #_SV_POS_CTL_STEP,R1            ;
17214 00003052 2101              5436             MOV.W   R0,@R1                          ;
17215                            5437     
17216                            5438     
17217                            5439             SUB_END
17218                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17219 00003054 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17220                            5440             M_RTS
17221 00003056 000B                   M           RTS                             ;RTSの後ろの
17222 00003058 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17223                            5441     ;       ***********************************
17224                            5442     ;       ***                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   201
PROGRAM NAME =

17225                            5443     ;       ***     ﾜｰｸﾌﾗｸﾞ関係SET          ***
17226                            5444     ;       ***                             ***
17227                            5445     ;       ***********************************
17228                            5446     ;       1ｻｲｸﾙ終了時     CYCL=BIT0,SV_STEP=0
17229                            5447     ;       非常停止復帰時  CYCL=0  ,SV_STEP=0
17230                                     ***** BEGIN-POOL *****
17231 0000305A 0000                       ALIGNMENT CODE
17232 0000305C 00000000                   DATA FOR SOURCE-LINE 5435
17233                                     ***** END-POOL *****
17234 00003060                   5448             .ALIGN  4                               ;
17235 00003060                   5449     _CYC_END_POS_FLG_SET:
17236                            5450             SUB_START
17237 00003060 4F22                   M           STS.L   PR,@-R15                ;[必要]
17238                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17239                            5451             MEM1_DATA_SET MEM=_INT_CYC_DRV_STS,LG=W,DATA=(BIT6+BIT0),WKREG1=R1,WKREG2=R2    ;ｻ
                                          ｲｸﾙｴﾝﾄﾞ(次回運転まで有効)
17240 00003062 D103                   M           MOV.L   #_INT_CYC_DRV_STS,R1            ;
17241 00003064 9203                   M           MOV.W   #(BIT6+BIT0),R2         ;
17242 00003066 2121                   M           MOV.W   R2,@R1  ;
17243                            5452             SUB_END
17244                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17245 00003068 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17246                            5453             M_RTS
17247 0000306A 000B                   M           RTS                             ;RTSの後ろの
17248 0000306C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17249                            5454     
17250                            5455     ;       ***************************************************
17251                            5456     ;       ***                                             ***
17252                            5457     ;       ***                                             ***
17253                            5458     ;       ***                                             ***
17254                            5459     ;       ***             位置決めＬＳＩアクセス          ***
17255                            5460     ;       ***                                             ***
17256                            5461     ;       ***                                             ***
17257                            5462     ;       ***                                             ***
17258                            5463     ;       ***************************************************
17259                            5464     ;       ?加減速時間の演算と指令周波数の演算
17260                            5465     ;       P27の指令ﾊﾟﾙｽREGのADDとP39の正確な位置決めができませんはなに？
17261                            5466     ;       "_poslsi1_top"
17262                            5467     ;       *ﾊﾟﾙｽ列の払い出しは指令ﾊﾟﾙｽｶｳﾝﾀの減算量
17263                            5468     ;       *速度周波数の演算
17264                            5469     ;       *ベース周波数=1?
17265                            5470     ;       *加速時間
17266                            5471     ;       *急停止の時間
17267                            5472     ;       ***********************************
17268                            5473     ;       ***                             ***
17269                            5474     ;       ***     ﾊｰﾄﾞｳｴｱｲﾆｼｬﾙ            ***
17270                            5475     ;       ***                             ***
17271                            5476     ;       ***********************************
17272                            5477     ;       25MHZ*1/N*1/LATE=65535
17273                            5478     
17274                            5479             .EXPORT _POS_LSI_HARD_INITAL
17275                            5480             .EXPORT _POS_LSI_DATA_INITAL
17276                            5481     
17277                            5482             .MACRO  POS_LSI_CMD_WR ADR_REG,DAT_REG
17278                            5483             SWAP.W  \DAT_REG,\DAT_REG                               ;
17279                            5484     
17280                            5485             MOV.W   \DAT_REG,@\ADR_REG
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   202
PROGRAM NAME =

17281                            5486             ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17282                            5487             SWAP.W  \DAT_REG,\DAT_REG                               ;
17283                            5488             POS_LSI_WORD_DUM_LOD                                    ;
17284                            5489             MOV.W   \DAT_REG,@\ADR_REG                              ;HIGH WORD SAVE
17285                            5490             POS_LSI_WORD_DUM_LOD                                    ;
17286                            5491             .ENDM
17287                            5492     
17288                            5493             .MACRO  POS_LSI_BIT_SET_LG ADR,MEM
17289                            5494             MOV.L   #\MEM,R6                                        ;
17290                            5495             MOV.L   @R6,R5                                          ;
17291                            5496             OR      R4,R5                                           ;
17292                            5497             MOV.L   R5,@R6                                          ;SAVE
17293                            5498     
17294                            5499             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,R6                 ;
17295                            5500             POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17296                            5501             .ENDM
17297                            5502     
17298                            5503     
17299                            5504             .MACRO  POS_LSI_BIT_CLR_LG ADR,MEM
17300                            5505             MOV.L   #\MEM,R6                                        ;
17301                            5506             MOV.L   @R6,R5                                          ;
17302                            5507             AND     R4,R5                                           ;
17303                            5508             MOV.L   R5,@R6                                          ;SAVE
17304                            5509     
17305                            5510             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,R6                 ;
17306                            5511             POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17307                            5512             .ENDM
17308                            5513     
17309                            5514     ;AND R3 対象BIT
17310                            5515     ;OR  R4 転送BIT
17311                            5516             .MACRO  POS_LSI_BIT_MOV_LG ADR,MEM
17312                            5517             MOV.L   #\MEM,R6                                        ;
17313                            5518             MOV.L   @R6,R5                                          ;
17314                            5519             NOT     R3,R3                                           ;
17315                            5520             AND     R3,R5                                           ;
17316                            5521             OR      R4,R5                                           ;
17317                            5522             MOV.L   R5,@R6                                          ;SAVE
17318                            5523     
17319                            5524             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,R6                 ;
17320                            5525             POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17321                            5526             .ENDM
17322                            5527     
17323                            5528     
17324                            5529     
17325                            5530     ;       ***************************************************
17326                            5531     ;       ***     位置決めＬＳＩ 32BIT DATA WRITE         ***
17327                            5532     ;       ***     払出ﾊﾟﾙｽ設定
17328                            5533     ;       ********************************************
17329                            5534     
17330                            5535             .MACRO  POS_LSI_32BIT_DAT_SET ADR,ADR_REG,DAT_REG
17331                            5536             PUSH_REG1 \ADR_REG
17332                            5537             PUSH_REG1 \DAT_REG
17333                            5538             POS_LSI_WORD_DUM_LOD                                    ;
17334                            5539             MOV.L   #_poslsi1_top+_PLSI_CH1+\ADR,\ADR_REG           ;
17335                            5540             MOV.W   \DAT_REG,@\ADR_REG                              ;(LOW)
17336                            5541             ADD     #2,\ADR_REG                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   203
PROGRAM NAME =

17337                            5542             SWAP.W  \DAT_REG,\DAT_REG                               ;
17338                            5543             POS_LSI_WORD_DUM_LOD                                    ;
17339                            5544             MOV.W   \DAT_REG,@\ADR_REG                              ;(HIGH)
17340                            5545             POS_LSI_WORD_DUM_LOD                                    ;
17341                            5546             POP_REG1 \DAT_REG
17342                            5547             POP_REG1 \ADR_REG
17343                            5548             .ENDM
17344                            5549     
17345                            5550     
17346                            5551     ;       *******************************************
17347                            5552     ;       ***                                     ***
17348                            5553     ;       ***                                     ***
17349                            5554     ;       ***                                     ***
17350                            5555     ;       *******************************************
17351                                     ***** BEGIN-POOL *****
17352 0000306E 0041                       DATA FOR SOURCE-LINE 5451
17353 00003070 00000000                   DATA FOR SOURCE-LINE 5451
17354                                     ***** END-POOL *****
17355 00003074                   5556             .ALIGN  4                               ;
17356 00003074                   5557     _POS_LSI_HARD_INITAL:
17357                            5558             SUB_START
17358 00003074 4F22                   M           STS.L   PR,@-R15                ;[必要]
17359                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17360                            5559     ;       ==========================================
17361 00003076 D60E              5560             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_CtrlReg,R6         ;
17362                            5561             .AIF    1 EQ 1          ;2006-09-19
17363 00003078 9519              5562 C           MOV.W   #H'100*(B'01000011)+(B'11000100),R5
17364                            5563 C                                                                   ;B相進み
17365                            5564 C                                                                   ;BIT7,BIT6=1,1 +OT,-OT無効
17366                            5565 C                                                                   ;BIT9,BIT8=1,1 自動加減速
                                          無効
17367                            5566 C                                                                   ;BIT14         外部ｹﾞｰﾄ無
                                          効
17368                            5567             .AELSE
17369                            5568             MOV.W   #H'100*(B'01000000)+(B'11000100),R5
17370                            5569                                                                     ;B相進み
17371                            5570                                                                     ;BIT7,BIT6=1   +OT,-OT無効
17372                            5571                                                                     ;BIT9,BIT8=0,0 自動加減速
                                          有効
17373                            5572                                                                     ;BIT14         外部ｹﾞｰﾄ無
                                          効
17374                            5573             .AENDI
17375 0000307A 2651              5574             MOV.W   R5,@R6                                          ;
17376                            5575     ;BIT0=0(正転PLS/逆転PLS 2PLS MODE)
17377                            5576     ;BIT1=0 帰還有効
17378                            5577     ;BIT2=1 A相進み
17379                            5578     ;BIT4,3=0 90位相;
17380                            5579     ;BIT13=0速度16ﾋﾞｯﾄ　=1:20ﾋﾞｯﾄ
17381                            5580     ;
17382                            5581     ;       ======= ｲﾝｸﾘﾒﾝﾀﾙﾊﾟﾙｽｶｳﾝﾄ開始    ============
17383 0000307C D50D              5582             MOV.L   #BIT2,R5                                        ;
17384 0000307E D60E              5583             MOV.L   #_LSI_BUF_PLS_BitComdL,R6                       ;
17385 00003080 2652              5584             MOV.L   R5,@R6                                          ;MOTROLA 32BIT DATA
17386                            5585     
17387 00003082 D40C              5586             MOV.L   #BIT2,R4                                                ;
17388                            5587             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;BIT2(BIT18)
17389 00003084 D60C                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   204
PROGRAM NAME =

17390 00003086 6562                   M           MOV.L   @R6,R5                                          ;
17391 00003088 254B                   M           OR      R4,R5                                           ;
17392 0000308A 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17393                                 M   
17394 0000308C D60B                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17395                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17396 0000308E 6559                   M           SWAP.W  R5,R5                           ;
17397                                 M   
17398 00003090 2651                   M           MOV.W   R5,@R6
17399 00003092 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17400 00003094 6559                   M           SWAP.W  R5,R5                           ;
17401                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17402                                 M           PUSH_REG1 R0
17403 00003096 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17404                                 M                                           ;REG=>[SP]
17405                                 M                                           ;"-4" FF,FF,FF,FC
17406 00003098 D009                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17407 0000309A 6001                   M           MOV.W   @R0,R0
17408                                 M           POP_REG1 R0
17409                                 M                                   ; RE"+4" 00,00,00,04
17410 0000309C 60F6                   M           MOV.L   @R15+,R0        ;
17411 0000309E 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17412                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17413                                 M           PUSH_REG1 R0
17414 000030A0 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17415                                 M                                           ;REG=>[SP]
17416                                 M                                           ;"-4" FF,FF,FF,FC
17417 000030A2 D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17418 000030A4 6001                   M           MOV.W   @R0,R0
17419                                 M           POP_REG1 R0
17420                                 M                                   ; RE"+4" 00,00,00,04
17421 000030A6 60F6                   M           MOV.L   @R15+,R0        ;
17422                            5588     
17423                            5589             SUB_END
17424                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17425 000030A8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17426                            5590             M_RTS
17427 000030AA 000B                   M           RTS                             ;RTSの後ろの
17428 000030AC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17429                            5591     
17430                            5592     ;       ***********************************
17431                            5593     ;       ***                             ***
17432                            5594     ;       ***     ﾒｲﾝﾃﾞｰﾀ受信後           ***
17433                            5595     ;       ***                             ***
17434                            5596     ;       ***********************************
17435                                     ***** BEGIN-POOL *****
17436 000030AE 43C4                       DATA FOR SOURCE-LINE 5562
17437 000030B0 00000000                   DATA FOR SOURCE-LINE 5560
17438 000030B4 00000004                   DATA FOR SOURCE-LINE 5582,5586
17439 000030B8 00000000                   DATA FOR SOURCE-LINE 5583,5587
17440 000030BC 00000000                   DATA FOR SOURCE-LINE 5587
17441 000030C0 00000000                   DATA FOR SOURCE-LINE 5587,5587
17442                                     ***** END-POOL *****
17443 000030C4                   5597             .ALIGN  4                               ;
17444 000030C4                   5598     _POS_LSI_DATA_INITAL:
17445                            5599             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   205
PROGRAM NAME =

17446 000030C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
17447                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17448                            5600             FAR_JSR #_POS_LSI_SPDLATE_SET,R0        ;(本当は1回だけ)
17449 000030C6 D006                   M           MOV.L   #_POS_LSI_SPDLATE_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17450 000030C8 400B                   M           JSR     @R0                     ;
17451 000030CA 0009                   M           NOP                                     ;
17452                            5601             FAR_JSR #_POS_LSI_BAS_SPEED_SET,R0      ;(本当は1回だけ)
17453 000030CC D005                   M           MOV.L   #_POS_LSI_BAS_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17454 000030CE 400B                   M           JSR     @R0                     ;
17455 000030D0 0009                   M           NOP                                     ;
17456                            5602             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
17457 000030D2 D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
17458 000030D4 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
17459 000030D6 D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
17460 000030D8 2322                   M           MOV.L   R2,@R3  ;DST_ADR
17461                            5603     
17462                            5604     
17463                            5605     
17464                            5606     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC1_SET,R0           ;加減速(意味無し)
17465                            5607     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC2_SET,R0           ;加減速
17466                            5608     
17467                            5609             SUB_END
17468                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17469 000030DA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17470                            5610             M_RTS
17471 000030DC 000B                   M           RTS                             ;RTSの後ろの
17472 000030DE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17473                            5611     
17474                            5612     
17475                            5613     ;       ***********************************
17476                            5614     ;       ***                             ***
17477                            5615     ;       ***     起動前ｲﾆｼｬﾙ             ***
17478                            5616     ;       ***                             ***
17479                            5617     ;       ***********************************
17480                                     ***** BEGIN-POOL *****
17481 000030E0 00000000                   DATA FOR SOURCE-LINE 5600
17482 000030E4 00000000                   DATA FOR SOURCE-LINE 5601
17483 000030E8 00000000                   DATA FOR SOURCE-LINE 5602
17484 000030EC 00000000                   DATA FOR SOURCE-LINE 5602
17485                                     ***** END-POOL *****
17486 000030F0                   5618             .ALIGN  4                               ;
17487 000030F0                   5619     _POS_LSI_START_INITAL:
17488                            5620             SUB_START
17489 000030F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
17490                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17491                            5621     
17492                            5622     ;       ===== 本当は不要だけど、ﾃﾞﾊﾞｯｸ完了までは======
17493                            5623     
17494                            5624     ;       ====== フルクローズ時は自起動を使用したインチングを行う ===
17495                            5625             FAR_JSR #_POS_LSI_BAS_SPEED_SET,R0      ;
17496 000030F2 D006                   M           MOV.L   #_POS_LSI_BAS_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17497 000030F4 400B                   M           JSR     @R0                     ;
17498 000030F6 0009                   M           NOP                                     ;
17499                            5626             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
17500 000030F8 D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
17501 000030FA 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
17502 000030FC D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   206
PROGRAM NAME =

17503 000030FE 2322                   M           MOV.L   R2,@R3  ;DST_ADR
17504                            5627     
17505                            5628     
17506                            5629     
17507                            5630     
17508                            5631     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC2_SET,R0           ;加減速
17509                            5632     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC1_SET,R0           ;加減速
17510                            5633             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
17511 00003100 D005                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17512 00003102 400B                   M           JSR     @R0                     ;
17513 00003104 0009                   M           NOP                                     ;
17514                            5634     
17515                            5635             SUB_END
17516                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17517 00003106 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17518                            5636             M_RTS
17519 00003108 000B                   M           RTS                             ;RTSの後ろの
17520 0000310A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17521                            5637     ;       ***********************************
17522                            5638     ;       ***                             ***
17523                            5639     ;       ***     起動前ｲﾆｼｬﾙ             ***
17524                            5640     ;       ***                             ***
17525                            5641     ;       ***********************************
17526                                     ***** BEGIN-POOL *****
17527 0000310C 00000000                   DATA FOR SOURCE-LINE 5625
17528 00003110 00000000                   DATA FOR SOURCE-LINE 5626
17529 00003114 00000000                   DATA FOR SOURCE-LINE 5626
17530 00003118 00000000                   DATA FOR SOURCE-LINE 5633
17531                                     ***** END-POOL *****
17532 0000311C                   5642             .ALIGN  4                               ;
17533 0000311C                   5643     _POS_LSI_START_INITL2:
17534                            5644             SUB_START
17535 0000311C 4F22                   M           STS.L   PR,@-R15                ;[必要]
17536                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17537                            5645     
17538                            5646     
17539                            5647     ;       ====== フルクローズ時は自起動を使用したインチングを行う ===
17540                            5648             FAR_JSR #_POS_LSI_CLS_BAS_SPD_SET,R0    ;
17541 0000311E D006                   M           MOV.L   #_POS_LSI_CLS_BAS_SPD_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17542 00003120 400B                   M           JSR     @R0                     ;
17543 00003122 0009                   M           NOP                                     ;
17544                            5649             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
17545 00003124 D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
17546 00003126 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
17547 00003128 D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
17548 0000312A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
17549                            5650     
17550                            5651     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC2_SET,R0           ;加減速
17551                            5652     ;;;;2006-11-30  FAR_JSR #_POS_LSI_ACC1_SET,R0           ;加減速
17552                            5653             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
17553 0000312C D005                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17554 0000312E 400B                   M           JSR     @R0                     ;
17555 00003130 0009                   M           NOP                                     ;
17556                            5654     
17557                            5655             SUB_END
17558                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17559 00003132 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   207
PROGRAM NAME =

17560                            5656             M_RTS
17561 00003134 000B                   M           RTS                             ;RTSの後ろの
17562 00003136 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17563                            5657     
17564                            5658     ;       ***********************************
17565                            5659     ;       ***                             ***
17566                            5660     ;       ***     起動前ｲﾆｼｬﾙ             ***
17567                            5661     ;       ***     2013-06-13              ***
17568                            5662     ;       ***********************************
17569                                     ***** BEGIN-POOL *****
17570 00003138 00000000                   DATA FOR SOURCE-LINE 5648
17571 0000313C 00000000                   DATA FOR SOURCE-LINE 5649
17572 00003140 00000000                   DATA FOR SOURCE-LINE 5649
17573 00003144 00000000                   DATA FOR SOURCE-LINE 5653
17574                                     ***** END-POOL *****
17575 00003148                   5663             .ALIGN  4                               ;
17576 00003148                   5664     _POS_LSI_START_INITAL_TEP:
17577                            5665             SUB_START
17578 00003148 4F22                   M           STS.L   PR,@-R15                ;[必要]
17579                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17580                            5666     
17581                            5667             FAR_JSR #_POS_LSI_TEP_BAS_SPEED_SET,R0
17582 0000314A D006                   M           MOV.L   #_POS_LSI_TEP_BAS_SPEED_SET,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17583 0000314C 400B                   M           JSR     @R0                     ;
17584 0000314E 0009                   M           NOP                                     ;
17585                            5668             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3  ;2006-11-30
17586 00003150 D105                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
17587 00003152 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
17588 00003154 D305                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
17589 00003156 2322                   M           MOV.L   R2,@R3  ;DST_ADR
17590                            5669             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
17591 00003158 D005                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17592 0000315A 400B                   M           JSR     @R0                     ;
17593 0000315C 0009                   M           NOP                                     ;
17594                            5670     
17595                            5671             SUB_END
17596                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
17597 0000315E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
17598                            5672             M_RTS
17599 00003160 000B                   M           RTS                             ;RTSの後ろの
17600 00003162 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
17601                            5673     
17602                            5674     ;       ***********************************
17603                            5675     ;       ***                             ***
17604                            5676     ;       ***     指令ﾊﾟﾙｽﾚｼﾞｽﾀｸﾘｱ        ***
17605                            5677     ;       ***                             ***
17606                            5678     ;       ***********************************
17607                            5679     ;       2004-02-19
17608                                     ***** BEGIN-POOL *****
17609 00003164 00000000                   DATA FOR SOURCE-LINE 5667
17610 00003168 00000000                   DATA FOR SOURCE-LINE 5668
17611 0000316C 00000000                   DATA FOR SOURCE-LINE 5668
17612 00003170 00000000                   DATA FOR SOURCE-LINE 5669
17613                                     ***** END-POOL *****
17614 00003174                   5680             .ALIGN  4                               ;
17615 00003174                   5681     _OutputPLS_REG_CLR:
17616                            5682             SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   208
PROGRAM NAME =

17617 00003174 4F22                   M           STS.L   PR,@-R15                ;[必要]
17618                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
17619                            5683             PUSH_ALL
17620                                 M           PUSH_REG1       R0      ;
17621 00003176 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17622                                 M                                           ;REG=>[SP]
17623                                 M                                           ;"-4" FF,FF,FF,FC
17624                                 M           PUSH_REG1       R1      ;
17625 00003178 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
17626                                 M                                           ;REG=>[SP]
17627                                 M                                           ;"-4" FF,FF,FF,FC
17628                                 M           PUSH_REG1       R2      ;
17629 0000317A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
17630                                 M                                           ;REG=>[SP]
17631                                 M                                           ;"-4" FF,FF,FF,FC
17632                                 M           PUSH_REG1       R3      ;
17633 0000317C 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
17634                                 M                                           ;REG=>[SP]
17635                                 M                                           ;"-4" FF,FF,FF,FC
17636                                 M           PUSH_REG1       R4      ;
17637 0000317E 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
17638                                 M                                           ;REG=>[SP]
17639                                 M                                           ;"-4" FF,FF,FF,FC
17640                                 M           PUSH_REG1       R5      ;
17641 00003180 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
17642                                 M                                           ;REG=>[SP]
17643                                 M                                           ;"-4" FF,FF,FF,FC
17644                                 M           PUSH_REG1       R6      ;
17645 00003182 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
17646                                 M                                           ;REG=>[SP]
17647                                 M                                           ;"-4" FF,FF,FF,FC
17648                                 M           PUSH_REG1       R7      ;
17649 00003184 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
17650                                 M                                           ;REG=>[SP]
17651                                 M                                           ;"-4" FF,FF,FF,FC
17652                                 M           PUSH_REG1       R8      ;
17653 00003186 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
17654                                 M                                           ;REG=>[SP]
17655                                 M                                           ;"-4" FF,FF,FF,FC
17656                                 M           PUSH_REG1       R9      ;
17657 00003188 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
17658                                 M                                           ;REG=>[SP]
17659                                 M                                           ;"-4" FF,FF,FF,FC
17660                                 M           PUSH_REG1       R10     ;
17661 0000318A 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
17662                                 M                                           ;REG=>[SP]
17663                                 M                                           ;"-4" FF,FF,FF,FC
17664                                 M           PUSH_REG1       R11     ;
17665 0000318C 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
17666                                 M                                           ;REG=>[SP]
17667                                 M                                           ;"-4" FF,FF,FF,FC
17668                                 M           PUSH_REG1       R12     ;
17669 0000318E 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
17670                                 M                                           ;REG=>[SP]
17671                                 M                                           ;"-4" FF,FF,FF,FC
17672                                 M           PUSH_REG1       R13     ;
17673 00003190 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   209
PROGRAM NAME =

17674                                 M                                           ;REG=>[SP]
17675                                 M                                           ;"-4" FF,FF,FF,FC
17676                                 M           PUSH_REG1       R14     ;
17677 00003192 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
17678                                 M                                           ;REG=>[SP]
17679                                 M                                           ;"-4" FF,FF,FF,FC
17680                                 M           PUSH_MACHL              ;
17681 00003194 4F02                   M           STS.L   MACH,@-R15
17682 00003196 4F12                   M           STS.L   MACL,@-R15
17683                                 M           PUSH_SYS_REG    GBR     ;
17684 00003198 4F13                   M           STC.L   GBR,@-R15
17685                                 M           .AIF    3 EQ 3
17686                                             .AELSE
17687                                             PUSH_FPU_ALL            ;2001-07-08
17688                                             .AENDI
17689 0000319A 200A              5684             XOR     R0,R0                                   ;
17690 0000319C D127              5685             MOV.L   #_LSI_PLSCLR_RETRY_CNT1,R1              ;//CLR処理そのもの
17691 0000319E 2101              5686             MOV.W   R0,@R1                                  ;
17692                            5687     
17693                            5688             TIM_CNT_ADD MEM=_LSI_PLSCLR_AC_CNT1,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
17694 000031A0 D127                   M           MOV.L   #_LSI_PLSCLR_AC_CNT1,R1         ;
17695 000031A2 6012                   M           MOV.L   @R1,R0  ;
17696 000031A4 7001                   M           ADD     #1,R0           ;
17697 000031A6 2102                   M           MOV.L   R0,@R1  ;
17698                            5689     
17699                            5690     
17700 000031A8                   5691     OutputPLS_REGCLR_LOP:
17701                            5692             FAR_JSR #_LOAD_REST_PLS,R0
17702 000031A8 D026                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17703 000031AA 400B                   M           JSR     @R0                     ;
17704 000031AC 0009                   M           NOP                                     ;
17705 000031AE D426              5693             MOV.L   #(BIT12*H'10000),R4                                             ;
17706                            5694             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;
17707 000031B0 D626                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17708 000031B2 6562                   M           MOV.L   @R6,R5                                          ;
17709 000031B4 254B                   M           OR      R4,R5                                           ;
17710 000031B6 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17711                                 M   
17712 000031B8 D625                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17713                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17714 000031BA 6559                   M           SWAP.W  R5,R5                           ;
17715                                 M   
17716 000031BC 2651                   M           MOV.W   R5,@R6
17717 000031BE 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17718 000031C0 6559                   M           SWAP.W  R5,R5                           ;
17719                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17720                                 M           PUSH_REG1 R0
17721 000031C2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17722                                 M                                           ;REG=>[SP]
17723                                 M                                           ;"-4" FF,FF,FF,FC
17724 000031C4 D023                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17725 000031C6 6001                   M           MOV.W   @R0,R0
17726                                 M           POP_REG1 R0
17727                                 M                                   ; RE"+4" 00,00,00,04
17728 000031C8 60F6                   M           MOV.L   @R15+,R0        ;
17729 000031CA 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   210
PROGRAM NAME =

17730                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17731                                 M           PUSH_REG1 R0
17732 000031CC 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17733                                 M                                           ;REG=>[SP]
17734                                 M                                           ;"-4" FF,FF,FF,FC
17735 000031CE D021                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17736 000031D0 6001                   M           MOV.W   @R0,R0
17737                                 M           POP_REG1 R0
17738                                 M                                   ; RE"+4" 00,00,00,04
17739 000031D2 60F6                   M           MOV.L   @R15+,R0        ;
17740                            5695     
17741                            5696     ;(DE LATCHしない)       FAR_JSR #_LOAD_REST_PLS,R0                              ;
17742                            5697             POS_LSI_WORD_DUM_LOD                                                    ;
17743                                 M           PUSH_REG1 R0
17744 000031D4 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17745                                 M                                           ;REG=>[SP]
17746                                 M                                           ;"-4" FF,FF,FF,FC
17747 000031D6 D01F                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17748 000031D8 6001                   M           MOV.W   @R0,R0
17749                                 M           POP_REG1 R0
17750                                 M                                   ; RE"+4" 00,00,00,04
17751 000031DA 60F6                   M           MOV.L   @R15+,R0        ;
17752                            5698             POSLSI_RD_WR_WAIT_NOP                                                   ;
17753 000031DC 0009                   M           NOP
17754 000031DE 0009                   M           NOP
17755 000031E0 0009                   M           NOP
17756 000031E2 0009                   M           NOP
17757 000031E4 0009                   M           NOP
17758 000031E6 0009                   M           NOP
17759 000031E8 0009                   M           NOP
17760 000031EA 0009                   M           NOP
17761 000031EC 0009                   M           NOP
17762 000031EE 0009                   M           NOP
17763                            5699     
17764 000031F0 D119              5700             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1                        ;R/W 指令ﾊ
                                          ﾟﾙｽ数
17765 000031F2 6015              5701             MOV.W   @R1+,R0                                                         ;
17766                            5702             POS_LSI_WORD_DUM_LOD                                                    ;
17767                                 M           PUSH_REG1 R0
17768 000031F4 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17769                                 M                                           ;REG=>[SP]
17770                                 M                                           ;"-4" FF,FF,FF,FC
17771 000031F6 D017                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17772 000031F8 6001                   M           MOV.W   @R0,R0
17773                                 M           POP_REG1 R0
17774                                 M                                   ; RE"+4" 00,00,00,04
17775 000031FA 60F6                   M           MOV.L   @R15+,R0        ;
17776 000031FC 6011              5703             MOV.W   @R1,R0                                                          ;
17777                            5704             POS_LSI_WORD_DUM_LOD                                                    ;
17778                                 M           PUSH_REG1 R0
17779 000031FE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17780                                 M                                           ;REG=>[SP]
17781                                 M                                           ;"-4" FF,FF,FF,FC
17782 00003200 D014                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17783 00003202 6001                   M           MOV.W   @R0,R0
17784                                 M           POP_REG1 R0
17785                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   211
PROGRAM NAME =

17786 00003204 60F6                   M           MOV.L   @R15+,R0        ;
17787                            5705     
17788 00003206 D415              5706             MOV.L   #~(BIT12*H'10000),R4                                            ;
17789                            5707             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;
17790 00003208 D610                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
17791 0000320A 6562                   M           MOV.L   @R6,R5                                          ;
17792 0000320C 2549                   M           AND     R4,R5                                           ;
17793 0000320E 2652                   M           MOV.L   R5,@R6                                          ;SAVE
17794                                 M   
17795 00003210 D60F                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
17796                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
17797 00003212 6559                   M           SWAP.W  R5,R5                           ;
17798                                 M   
17799 00003214 2651                   M           MOV.W   R5,@R6
17800 00003216 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
17801 00003218 6559                   M           SWAP.W  R5,R5                           ;
17802                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17803                                 M           PUSH_REG1 R0
17804 0000321A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17805                                 M                                           ;REG=>[SP]
17806                                 M                                           ;"-4" FF,FF,FF,FC
17807 0000321C D00D                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17808 0000321E 6001                   M           MOV.W   @R0,R0
17809                                 M           POP_REG1 R0
17810                                 M                                   ; RE"+4" 00,00,00,04
17811 00003220 60F6                   M           MOV.L   @R15+,R0        ;
17812 00003222 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
17813                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17814                                 M           PUSH_REG1 R0
17815 00003224 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17816                                 M                                           ;REG=>[SP]
17817                                 M                                           ;"-4" FF,FF,FF,FC
17818 00003226 D00B                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17819 00003228 6001                   M           MOV.W   @R0,R0
17820                                 M           POP_REG1 R0
17821                                 M                                   ; RE"+4" 00,00,00,04
17822 0000322A 60F6                   M           MOV.L   @R15+,R0        ;
17823                            5708             FAR_JSR #_LOAD_REST_PLS,R0
17824 0000322C D005                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17825 0000322E 400B                   M           JSR     @R0                     ;
17826 00003230 0009                   M           NOP                                     ;
17827                            5709     
17828 00003232 2008              5710             TST     R0,R0                                   ;払出ﾊﾟﾙｽｸﾘｱ完了
17829                            5711             TST_BIT_ON OutputPLS_REGCLR_100                 ;
17830 00003234 8B14                   M           BF      OutputPLS_REGCLR_100
17831                            5712             M_BRA   OutputPLS_REGCLR_END                    ;
17832 00003236 A057                   M           BRA     OutputPLS_REGCLR_END
17833 00003238 0009                   M           NOP
17834                                     ***** BEGIN-POOL *****
17835 0000323A 0000                       ALIGNMENT CODE
17836 0000323C 00000000                   DATA FOR SOURCE-LINE 5685
17837 00003240 00000000                   DATA FOR SOURCE-LINE 5688
17838 00003244 00000000                   DATA FOR SOURCE-LINE 5692,5708
17839 00003248 10000000                   DATA FOR SOURCE-LINE 5693
17840 0000324C 00000000                   DATA FOR SOURCE-LINE 5694,5707
17841 00003250 00000000                   DATA FOR SOURCE-LINE 5694,5707
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   212
PROGRAM NAME =

17842 00003254 00000000                   DATA FOR SOURCE-LINE 5694,5694,5697,5702,5704,5707,5707
17843 00003258 00000000                   DATA FOR SOURCE-LINE 5700
17844 0000325C EFFFFFFF                   DATA FOR SOURCE-LINE 5706
17845                                     ***** END-POOL *****
17846 00003260                   5713     OutputPLS_REGCLR_100:
17847                            5714     
17848                            5715     ;       ==== ﾘｾｯﾄｺﾏﾝﾄﾞによるﾘｾｯﾄ失敗=====
17849                            5716             TIM_CNT_ADD MEM=_LSI_PLSCLR_NG_CNT1,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
17850 00003260 D111                   M           MOV.L   #_LSI_PLSCLR_NG_CNT1,R1         ;
17851 00003262 6012                   M           MOV.L   @R1,R0  ;
17852 00003264 7001                   M           ADD     #1,R0           ;
17853 00003266 2102                   M           MOV.L   R0,@R1  ;
17854                            5717     
17855                            5718             FAR_JSR #_LOAD_REST_PLS,R0                                      ;
17856 00003268 D010                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17857 0000326A 400B                   M           JSR     @R0                     ;
17858 0000326C 0009                   M           NOP                                     ;
17859 0000326E 600B              5719             NEG     R0,R0                                                   ;
17860                            5720             POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R1,DAT_REG=R0   ;
17861                                 M           PUSH_REG1 R1
17862 00003270 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
17863                                 M                                           ;REG=>[SP]
17864                                 M                                           ;"-4" FF,FF,FF,FC
17865                                 M           PUSH_REG1 R0
17866 00003272 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17867                                 M                                           ;REG=>[SP]
17868                                 M                                           ;"-4" FF,FF,FF,FC
17869                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17870                                 M           PUSH_REG1 R0
17871 00003274 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17872                                 M                                           ;REG=>[SP]
17873                                 M                                           ;"-4" FF,FF,FF,FC
17874 00003276 D00E                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17875 00003278 6001                   M           MOV.W   @R0,R0
17876                                 M           POP_REG1 R0
17877                                 M                                   ; RE"+4" 00,00,00,04
17878 0000327A 60F6                   M           MOV.L   @R15+,R0        ;
17879 0000327C D10D                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1                ;
17880 0000327E 2101                   M           MOV.W   R0,@R1                          ;(LOW)
17881 00003280 7102                   M           ADD     #2,R1                                   ;
17882 00003282 6009                   M           SWAP.W  R0,R0                           ;
17883                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17884                                 M           PUSH_REG1 R0
17885 00003284 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17886                                 M                                           ;REG=>[SP]
17887                                 M                                           ;"-4" FF,FF,FF,FC
17888 00003286 D00A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17889 00003288 6001                   M           MOV.W   @R0,R0
17890                                 M           POP_REG1 R0
17891                                 M                                   ; RE"+4" 00,00,00,04
17892 0000328A 60F6                   M           MOV.L   @R15+,R0        ;
17893 0000328C 2101                   M           MOV.W   R0,@R1                          ;(HIGH)
17894                                 M           POS_LSI_WORD_DUM_LOD                                    ;
17895                                 M           PUSH_REG1 R0
17896 0000328E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
17897                                 M                                           ;REG=>[SP]
17898                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   213
PROGRAM NAME =

17899 00003290 D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
17900 00003292 6001                   M           MOV.W   @R0,R0
17901                                 M           POP_REG1 R0
17902                                 M                                   ; RE"+4" 00,00,00,04
17903 00003294 60F6                   M           MOV.L   @R15+,R0        ;
17904                                 M           POP_REG1 R0
17905                                 M                                   ; RE"+4" 00,00,00,04
17906 00003296 60F6                   M           MOV.L   @R15+,R0        ;
17907                                 M           POP_REG1 R1
17908                                 M                                   ; RE"+4" 00,00,00,04
17909 00003298 61F6                   M           MOV.L   @R15+,R1        ;
17910                            5721     
17911                            5722             FAR_JSR #_LOAD_REST_PLS,R0                                      ;
17912 0000329A D004                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
17913 0000329C 400B                   M           JSR     @R0                     ;
17914 0000329E 0009                   M           NOP                                     ;
17915 000032A0 2008              5723             TST     R0,R0                                                   ;
17916                            5724             TST_BIT_ON OutputPLS_REGCLR_150                                 ;
17917 000032A2 8B09                   M           BF      OutputPLS_REGCLR_150
17918                            5725             M_BRA   OutputPLS_REGCLR_END                                    ;
17919 000032A4 A020                   M           BRA     OutputPLS_REGCLR_END
17920 000032A6 0009                   M           NOP
17921                            5726     
17922                                     ***** BEGIN-POOL *****
17923 000032A8 00000000                   DATA FOR SOURCE-LINE 5716
17924 000032AC 00000000                   DATA FOR SOURCE-LINE 5718,5722
17925 000032B0 00000000                   DATA FOR SOURCE-LINE 5720,5720,5720
17926 000032B4 00000000                   DATA FOR SOURCE-LINE 5720
17927                                     ***** END-POOL *****
17928 000032B8                   5727     OutputPLS_REGCLR_150:
17929                            5728             TIM_CNT_ADD MEM=_LSI_PLSCLR_RETRY_CNT1,LG=W,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
17930 000032B8 D107                   M           MOV.L   #_LSI_PLSCLR_RETRY_CNT1,R1              ;
17931 000032BA 6011                   M           MOV.W   @R1,R0  ;
17932 000032BC 7001                   M           ADD     #1,R0           ;
17933 000032BE 2101                   M           MOV.W   R0,@R1  ;
17934 000032C0 D105              5729             MOV.L   #_LSI_PLSCLR_RETRY_CNT1,R1
                                          ;
17935 000032C2 6011              5730             MOV.W   @R1,R0
                                          ;
17936 000032C4 9107              5731             MOV.W   #_LSI_RETRY_ERR_MAX,R1
                                          ;
17937 000032C6 3016              5732             CMP/HI  R1,R0
                                          ;10=< R0
17938 000032C8 890A              5733             BT      OutputPLS_REGCLR_ERR
                                          ;
17939                            5734             TIM_CNT_ADD MEM=_LSI_PLSCLR_NG_CNT2,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
17940 000032CA D104                   M           MOV.L   #_LSI_PLSCLR_NG_CNT2,R1         ;
17941 000032CC 6012                   M           MOV.L   @R1,R0  ;
17942 000032CE 7001                   M           ADD     #1,R0           ;
17943 000032D0 2102                   M           MOV.L   R0,@R1  ;
17944                            5735             M_BRA   OutputPLS_REGCLR_LOP
                                          ;
17945 000032D2 AF69                   M           BRA     OutputPLS_REGCLR_LOP
17946 000032D4 0009                   M           NOP
17947                            5736     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   214
PROGRAM NAME =

17948                                     ***** BEGIN-POOL *****
17949 000032D6 0003                       DATA FOR SOURCE-LINE 5731
17950 000032D8 00000000                   DATA FOR SOURCE-LINE 5728,5729
17951 000032DC 00000000                   DATA FOR SOURCE-LINE 5734
17952                                     ***** END-POOL *****
17953 000032E0                   5737     OutputPLS_REGCLR_ERR:
17954                            5738     ;       == 異常ﾌﾗｸﾞ==
17955                            5739             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT1+BIT0),WKREG=R1
                                          ;
17956 000032E0 D10C                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1               ;
17957 000032E2 6011                   M           MOV.W   @R1,R0          ;
17958 000032E4 CB03                   M           OR      #(BIT1+BIT0),R0         ;
17959 000032E6 2101                   M           MOV.W   R0,@R1          ;
17960                            5740     
17961 000032E8                   5741     OutputPLS_REGCLR_END:
17962                            5742             POP_ALL
17963                                 M           .AIF    3 EQ 3
17964                                             .AELSE
17965                                             POP_FPU_ALL             ;2001-07-08
17966                                             .AENDI
17967                                 M           POP_SYS_REG     GBR     ;
17968 000032E8 4F17                   M           LDC.L   @R15+,GBR
17969                                 M           POP_MACHL               ;
17970 000032EA 4F16                   M           LDS.L   @R15+,MACL
17971 000032EC 4F06                   M           LDS.L   @R15+,MACH
17972                                 M           POP_REG1        R14     ;
17973                                 M                                   ; RE"+4" 00,00,00,04
17974 000032EE 6EF6                   M           MOV.L   @R15+,R14        ;
17975                                 M           POP_REG1        R13     ;
17976                                 M                                   ; RE"+4" 00,00,00,04
17977 000032F0 6DF6                   M           MOV.L   @R15+,R13        ;
17978                                 M           POP_REG1        R12     ;
17979                                 M                                   ; RE"+4" 00,00,00,04
17980 000032F2 6CF6                   M           MOV.L   @R15+,R12        ;
17981                                 M           POP_REG1        R11     ;
17982                                 M                                   ; RE"+4" 00,00,00,04
17983 000032F4 6BF6                   M           MOV.L   @R15+,R11        ;
17984                                 M           POP_REG1        R10     ;
17985                                 M                                   ; RE"+4" 00,00,00,04
17986 000032F6 6AF6                   M           MOV.L   @R15+,R10        ;
17987                                 M           POP_REG1        R9      ;
17988                                 M                                   ; RE"+4" 00,00,00,04
17989 000032F8 69F6                   M           MOV.L   @R15+,R9        ;
17990                                 M           POP_REG1        R8      ;
17991                                 M                                   ; RE"+4" 00,00,00,04
17992 000032FA 68F6                   M           MOV.L   @R15+,R8        ;
17993                                 M           POP_REG1        R7      ;
17994                                 M                                   ; RE"+4" 00,00,00,04
17995 000032FC 67F6                   M           MOV.L   @R15+,R7        ;
17996                                 M           POP_REG1        R6      ;
17997                                 M                                   ; RE"+4" 00,00,00,04
17998 000032FE 66F6                   M           MOV.L   @R15+,R6        ;
17999                                 M           POP_REG1        R5      ;
18000                                 M                                   ; RE"+4" 00,00,00,04
18001 00003300 65F6                   M           MOV.L   @R15+,R5        ;
18002                                 M           POP_REG1        R4      ;
18003                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   215
PROGRAM NAME =

18004 00003302 64F6                   M           MOV.L   @R15+,R4        ;
18005                                 M           POP_REG1        R3      ;
18006                                 M                                   ; RE"+4" 00,00,00,04
18007 00003304 63F6                   M           MOV.L   @R15+,R3        ;
18008                                 M           POP_REG1        R2      ;
18009                                 M                                   ; RE"+4" 00,00,00,04
18010 00003306 62F6                   M           MOV.L   @R15+,R2        ;
18011                                 M           POP_REG1        R1      ;
18012                                 M                                   ; RE"+4" 00,00,00,04
18013 00003308 61F6                   M           MOV.L   @R15+,R1        ;
18014                                 M           POP_REG1        R0      ;
18015                                 M                                   ; RE"+4" 00,00,00,04
18016 0000330A 60F6                   M           MOV.L   @R15+,R0        ;
18017                            5743             SUB_END
18018                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18019 0000330C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18020                            5744             M_RTS
18021 0000330E 000B                   M           RTS                             ;RTSの後ろの
18022 00003310 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18023                            5745     
18024                            5746     ;       ***********************************
18025                            5747     ;       ***                             ***
18026                            5748     ;       ***     急停止                  ***
18027                            5749     ;       ***                             ***
18028                            5750     ;       ***********************************
18029                                     ***** BEGIN-POOL *****
18030 00003312 0000                       ALIGNMENT CODE
18031 00003314 00000000                   DATA FOR SOURCE-LINE 5739
18032                                     ***** END-POOL *****
18033 00003318                   5751             .ALIGN  4                               ;
18034 00003318                   5752     _POS_LSI_EMG_STOP                       ;急停止
18035                            5753             SUB_START
18036 00003318 4F22                   M           STS.L   PR,@-R15                ;[必要]
18037                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18038                            5754     
18039                            5755             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
18040 0000331A D008                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18041 0000331C 400B                   M           JSR     @R0                     ;
18042 0000331E 0009                   M           NOP                                     ;
18043                            5756     
18044                            5757             FAR_JSR #_LOD_POS_STS_REG,R0
18045 00003320 D007                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18046 00003322 400B                   M           JSR     @R0                     ;
18047 00003324 0009                   M           NOP                                     ;
18048 00003326 C804              5758             TST     #BIT2,R0                ;
18049                            5759             TST_BIT_ON POS_LSI_EMGSTOP_END
18050 00003328 8B05                   M           BF      POS_LSI_EMGSTOP_END
18051                            5760     
18052                            5761             .AIF    1 EQ 1          ;2006-09-19
18053                            5762 C           FAR_JSR #_SPD_CTL_EMG_STOP,R0                           ;
18054 0000332A D006                   M           MOV.L   #_SPD_CTL_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18055 0000332C 400B                   M           JSR     @R0                     ;
18056 0000332E 0009                   M           NOP                                     ;
18057                            5763 C           FAR_JSR #_POS_LSI_EMG_STOP_CMD,R0                       ;
18058 00003330 D005                   M           MOV.L   #_POS_LSI_EMG_STOP_CMD,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18059 00003332 400B                   M           JSR     @R0                     ;
18060 00003334 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   216
PROGRAM NAME =

18061                            5764 C   
18062                            5765             .AELSE
18063                            5766             FAR_JSR #_POS_LSI_EMG_STOP_CMD,R0                       ;
18064                            5767             .AENDI
18065                            5768     
18066 00003336                   5769     POS_LSI_EMGSTOP_END:
18067                            5770     
18068                            5771             SUB_END
18069                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18070 00003336 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18071                            5772             M_RTS
18072 00003338 000B                   M           RTS                             ;RTSの後ろの
18073 0000333A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18074                            5773     ;       ***********************************
18075                            5774     ;       ***                             ***
18076                            5775     ;       ***     減速停止                ***
18077                            5776     ;       ***                             ***
18078                            5777     ;       ***********************************
18079                                     ***** BEGIN-POOL *****
18080 0000333C 00000000                   DATA FOR SOURCE-LINE 5755
18081 00003340 00000000                   DATA FOR SOURCE-LINE 5757
18082 00003344 00000000                   DATA FOR SOURCE-LINE 5762
18083 00003348 00000000                   DATA FOR SOURCE-LINE 5763
18084                                     ***** END-POOL *****
18085 0000334C                   5778             .ALIGN  4                               ;
18086 0000334C                   5779     _POS_LSI_SLOW_STOP                      ;急停止
18087                            5780             SUB_START
18088 0000334C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18089                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18090                            5781     
18091                            5782             FAR_JSR #_FWD_REV_STSIG_OFF,R0          ;
18092 0000334E D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18093 00003350 400B                   M           JSR     @R0                     ;
18094 00003352 0009                   M           NOP                                     ;
18095                            5783     
18096                            5784             FAR_JSR #_LOD_POS_STS_REG,R0
18097 00003354 D006                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18098 00003356 400B                   M           JSR     @R0                     ;
18099 00003358 0009                   M           NOP                                     ;
18100 0000335A C804              5785             TST     #BIT2,R0                        ;
18101                            5786             TST_BIT_ON POS_LSI_SLWSTOP_END
18102 0000335C 8B02                   M           BF      POS_LSI_SLWSTOP_END
18103                            5787     
18104                            5788             .AIF    1 EQ 1          ;2006-09-19
18105                            5789 C           FAR_JSR #_SPD_CTL_SLOW_STOP,R0          ;
18106 0000335E D005                   M           MOV.L   #_SPD_CTL_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18107 00003360 400B                   M           JSR     @R0                     ;
18108 00003362 0009                   M           NOP                                     ;
18109                            5790             .AELSE
18110                            5791             FAR_JSR #_POS_LSI_SLOW_STOP_CMD,R0      ;
18111                            5792             .AENDI
18112                            5793     
18113                            5794     
18114 00003364                   5795     POS_LSI_SLWSTOP_END:
18115                            5796     
18116                            5797             SUB_END
18117                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   217
PROGRAM NAME =

18118 00003364 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18119                            5798             M_RTS
18120 00003366 000B                   M           RTS                             ;RTSの後ろの
18121 00003368 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18122                            5799     
18123                            5800     ;       ---------------------------------------------------
18124                            5801     ;       ---     位置決めLSIへのｺﾏﾝﾄﾞ発行とﾜｰｸ処理       ---
18125                            5802     ;       ---     EMG                                     ---
18126                            5803     ;       ---------------------------------------------------
18127                                     ***** BEGIN-POOL *****
18128 0000336A 0000                       ALIGNMENT CODE
18129 0000336C 00000000                   DATA FOR SOURCE-LINE 5782
18130 00003370 00000000                   DATA FOR SOURCE-LINE 5784
18131 00003374 00000000                   DATA FOR SOURCE-LINE 5789
18132                                     ***** END-POOL *****
18133 00003378                   5804             .ALIGN  4                               ;
18134 00003378                   5805     _POS_LSI_EMG_STOP_CMD:
18135                            5806             SUB_START
18136 00003378 4F22                   M           STS.L   PR,@-R15                ;[必要]
18137                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18138 0000337A D417              5807             MOV.L   #(BIT11*H'10000),R4                                     ;
18139                            5808             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18140 0000337C D617                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18141 0000337E 6562                   M           MOV.L   @R6,R5                                          ;
18142 00003380 254B                   M           OR      R4,R5                                           ;
18143 00003382 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18144                                 M   
18145 00003384 D616                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18146                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18147 00003386 6559                   M           SWAP.W  R5,R5                           ;
18148                                 M   
18149 00003388 2651                   M           MOV.W   R5,@R6
18150 0000338A 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18151 0000338C 6559                   M           SWAP.W  R5,R5                           ;
18152                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18153                                 M           PUSH_REG1 R0
18154 0000338E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18155                                 M                                           ;REG=>[SP]
18156                                 M                                           ;"-4" FF,FF,FF,FC
18157 00003390 D014                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18158 00003392 6001                   M           MOV.W   @R0,R0
18159                                 M           POP_REG1 R0
18160                                 M                                   ; RE"+4" 00,00,00,04
18161 00003394 60F6                   M           MOV.L   @R15+,R0        ;
18162 00003396 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18163                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18164                                 M           PUSH_REG1 R0
18165 00003398 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18166                                 M                                           ;REG=>[SP]
18167                                 M                                           ;"-4" FF,FF,FF,FC
18168 0000339A D012                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18169 0000339C 6001                   M           MOV.W   @R0,R0
18170                                 M           POP_REG1 R0
18171                                 M                                   ; RE"+4" 00,00,00,04
18172 0000339E 60F6                   M           MOV.L   @R15+,R0        ;
18173 000033A0 0009              5809             NOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   218
PROGRAM NAME =

18174                            5810             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
18175 000033A2 D011                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18176 000033A4 400B                   M           JSR     @R0                     ;
18177 000033A6 0009                   M           NOP                                     ;
18178 000033A8 0009              5811             NOP
18179 000033AA D410              5812             MOV.L   #~(BIT11*H'10000),R4            ;
18180                            5813             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18181 000033AC D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18182 000033AE 6562                   M           MOV.L   @R6,R5                                          ;
18183 000033B0 2549                   M           AND     R4,R5                                           ;
18184 000033B2 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18185                                 M   
18186 000033B4 D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18187                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18188 000033B6 6559                   M           SWAP.W  R5,R5                           ;
18189                                 M   
18190 000033B8 2651                   M           MOV.W   R5,@R6
18191 000033BA 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18192 000033BC 6559                   M           SWAP.W  R5,R5                           ;
18193                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18194                                 M           PUSH_REG1 R0
18195 000033BE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18196                                 M                                           ;REG=>[SP]
18197                                 M                                           ;"-4" FF,FF,FF,FC
18198 000033C0 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18199 000033C2 6001                   M           MOV.W   @R0,R0
18200                                 M           POP_REG1 R0
18201                                 M                                   ; RE"+4" 00,00,00,04
18202 000033C4 60F6                   M           MOV.L   @R15+,R0        ;
18203 000033C6 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18204                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18205                                 M           PUSH_REG1 R0
18206 000033C8 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18207                                 M                                           ;REG=>[SP]
18208                                 M                                           ;"-4" FF,FF,FF,FC
18209 000033CA D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18210 000033CC 6001                   M           MOV.W   @R0,R0
18211                                 M           POP_REG1 R0
18212                                 M                                   ; RE"+4" 00,00,00,04
18213 000033CE 60F6                   M           MOV.L   @R15+,R0        ;
18214                            5814             SUB_END
18215                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18216 000033D0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18217                            5815             M_RTS
18218 000033D2 000B                   M           RTS                             ;RTSの後ろの
18219 000033D4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18220                            5816     
18221                            5817     ;       ---------------------------------------------------
18222                            5818     ;       ---     位置決めLSIへのｺﾏﾝﾄﾞ発行とﾜｰｸ処理       ---
18223                            5819     ;       ---     SLOW                                    ---
18224                            5820     ;       ---------------------------------------------------
18225                                     ***** BEGIN-POOL *****
18226 000033D6 0000                       ALIGNMENT CODE
18227 000033D8 08000000                   DATA FOR SOURCE-LINE 5807
18228 000033DC 00000000                   DATA FOR SOURCE-LINE 5808,5813
18229 000033E0 00000000                   DATA FOR SOURCE-LINE 5808,5813
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   219
PROGRAM NAME =

18230 000033E4 00000000                   DATA FOR SOURCE-LINE 5808,5808,5813,5813
18231 000033E8 00000000                   DATA FOR SOURCE-LINE 5810
18232 000033EC F7FFFFFF                   DATA FOR SOURCE-LINE 5812
18233                                     ***** END-POOL *****
18234 000033F0                   5821             .ALIGN  4                               ;
18235 000033F0                   5822     _POS_LSI_SLOW_STOP_CMD
18236                            5823             SUB_START
18237 000033F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
18238                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18239 000033F2 D417              5824             MOV.L   #(BIT10*H'10000),R4             ;
18240                            5825             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18241 000033F4 D617                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18242 000033F6 6562                   M           MOV.L   @R6,R5                                          ;
18243 000033F8 254B                   M           OR      R4,R5                                           ;
18244 000033FA 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18245                                 M   
18246 000033FC D616                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18247                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18248 000033FE 6559                   M           SWAP.W  R5,R5                           ;
18249                                 M   
18250 00003400 2651                   M           MOV.W   R5,@R6
18251 00003402 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18252 00003404 6559                   M           SWAP.W  R5,R5                           ;
18253                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18254                                 M           PUSH_REG1 R0
18255 00003406 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18256                                 M                                           ;REG=>[SP]
18257                                 M                                           ;"-4" FF,FF,FF,FC
18258 00003408 D014                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18259 0000340A 6001                   M           MOV.W   @R0,R0
18260                                 M           POP_REG1 R0
18261                                 M                                   ; RE"+4" 00,00,00,04
18262 0000340C 60F6                   M           MOV.L   @R15+,R0        ;
18263 0000340E 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18264                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18265                                 M           PUSH_REG1 R0
18266 00003410 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18267                                 M                                           ;REG=>[SP]
18268                                 M                                           ;"-4" FF,FF,FF,FC
18269 00003412 D012                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18270 00003414 6001                   M           MOV.W   @R0,R0
18271                                 M           POP_REG1 R0
18272                                 M                                   ; RE"+4" 00,00,00,04
18273 00003416 60F6                   M           MOV.L   @R15+,R0        ;
18274 00003418 0009              5826             NOP
18275                            5827             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
18276 0000341A D011                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18277 0000341C 400B                   M           JSR     @R0                     ;
18278 0000341E 0009                   M           NOP                                     ;
18279 00003420 0009              5828             NOP
18280 00003422 D410              5829             MOV.L   #~(BIT10*H'10000),R4            ;
18281                            5830             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18282 00003424 D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18283 00003426 6562                   M           MOV.L   @R6,R5                                          ;
18284 00003428 2549                   M           AND     R4,R5                                           ;
18285 0000342A 2652                   M           MOV.L   R5,@R6                                          ;SAVE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   220
PROGRAM NAME =

18286                                 M   
18287 0000342C D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18288                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18289 0000342E 6559                   M           SWAP.W  R5,R5                           ;
18290                                 M   
18291 00003430 2651                   M           MOV.W   R5,@R6
18292 00003432 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18293 00003434 6559                   M           SWAP.W  R5,R5                           ;
18294                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18295                                 M           PUSH_REG1 R0
18296 00003436 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18297                                 M                                           ;REG=>[SP]
18298                                 M                                           ;"-4" FF,FF,FF,FC
18299 00003438 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18300 0000343A 6001                   M           MOV.W   @R0,R0
18301                                 M           POP_REG1 R0
18302                                 M                                   ; RE"+4" 00,00,00,04
18303 0000343C 60F6                   M           MOV.L   @R15+,R0        ;
18304 0000343E 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18305                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18306                                 M           PUSH_REG1 R0
18307 00003440 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18308                                 M                                           ;REG=>[SP]
18309                                 M                                           ;"-4" FF,FF,FF,FC
18310 00003442 D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18311 00003444 6001                   M           MOV.W   @R0,R0
18312                                 M           POP_REG1 R0
18313                                 M                                   ; RE"+4" 00,00,00,04
18314 00003446 60F6                   M           MOV.L   @R15+,R0        ;
18315                            5831     
18316                            5832             SUB_END
18317                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18318 00003448 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18319                            5833             M_RTS
18320 0000344A 000B                   M           RTS                             ;RTSの後ろの
18321 0000344C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18322                            5834     
18323                            5835     ;       ***********************************
18324                            5836     ;       ***                             ***
18325                            5837     ;       ***     速度変更有効            ***
18326                            5838     ;       ***                             ***
18327                            5839     ;       ***********************************
18328                            5840     
18329                            5841     
18330                            5842     ;       ***********************************
18331                            5843     ;       ***                             ***
18332                            5844     ;       ***     起動                    ***
18333                            5845     ;       ***                             ***
18334                            5846     ;       ***********************************
18335                            5847     
18336                                     ***** BEGIN-POOL *****
18337 0000344E 0000                       ALIGNMENT CODE
18338 00003450 04000000                   DATA FOR SOURCE-LINE 5824
18339 00003454 00000000                   DATA FOR SOURCE-LINE 5825,5830
18340 00003458 00000000                   DATA FOR SOURCE-LINE 5825,5830
18341 0000345C 00000000                   DATA FOR SOURCE-LINE 5825,5825,5830,5830
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   221
PROGRAM NAME =

18342 00003460 00000000                   DATA FOR SOURCE-LINE 5827
18343 00003464 FBFFFFFF                   DATA FOR SOURCE-LINE 5829
18344                                     ***** END-POOL *****
18345 00003468                   5848             .ALIGN  4                               ;
18346 00003468                   5849     _FWD_REV_START:
18347                            5850             SUB_START
18348 00003468 4F22                   M           STS.L   PR,@-R15                ;[必要]
18349                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18350                            5851             FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
18351 0000346A D023                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18352 0000346C 400B                   M           JSR     @R0                     ;
18353 0000346E 0009                   M           NOP                                     ;
18354                            5852     
18355 00003470 D122              5853             MOV.L   #_POSLSI_DRIV_SHIN,R1
18356 00003472 6011              5854             MOV.W   @R1,R0                                          ;
18357 00003474 D322              5855             MOV.L   #(BIT3*H'10000),R3                              ;
18358 00003476 244A              5856             XOR     R4,R4                                           ;
18359 00003478 C801              5857             TST     #BIT0,R0                                        ;
18360                            5858             TST_BIT_OF FWD_REV_STR_050                              ;
18361 0000347A 8900                   M           BT      FWD_REV_STR_050
18362 0000347C 6433              5859             MOV     R3,R4                                           ;
18363 0000347E                   5860     FWD_REV_STR_050:                                                ;
18364                            5861     ;       =============================
18365 0000347E D121              5862             MOV.L   #_SVP_MACINE_SEL1,R1                            ;
18366 00003480 6011              5863             MOV.W   @R1,R0                                          ;
18367 00003482 9138              5864             MOV.W   #D'8765,R1                                      ;
18368 00003484 3010              5865             CMP/EQ  R1,R0                                           ;
18369 00003486 8B01              5866             BF      FWD_REV_STR_055                                 ;
18370 00003488 D01D              5867             MOV.L   #_DBG_XOR_SIG,R0                                ;
18371 0000348A 240A              5868             XOR     R0,R4                                           ;
18372 0000348C                   5869     FWD_REV_STR_055:                                                ;
18373                            5870     
18374                            5871     ;       ==方向選択==
18375                            5872             POS_LSI_BIT_MOV_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;
18376 0000348C D61E                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18377 0000348E 6562                   M           MOV.L   @R6,R5                                          ;
18378 00003490 6337                   M           NOT     R3,R3                                           ;
18379 00003492 2539                   M           AND     R3,R5                                           ;
18380 00003494 254B                   M           OR      R4,R5                                           ;
18381 00003496 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18382                                 M   
18383 00003498 D61C                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18384                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18385 0000349A 6559                   M           SWAP.W  R5,R5                           ;
18386                                 M   
18387 0000349C 2651                   M           MOV.W   R5,@R6
18388 0000349E 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18389 000034A0 6559                   M           SWAP.W  R5,R5                           ;
18390                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18391                                 M           PUSH_REG1 R0
18392 000034A2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18393                                 M                                           ;REG=>[SP]
18394                                 M                                           ;"-4" FF,FF,FF,FC
18395 000034A4 D01A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18396 000034A6 6001                   M           MOV.W   @R0,R0
18397                                 M           POP_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   222
PROGRAM NAME =

18398                                 M                                   ; RE"+4" 00,00,00,04
18399 000034A8 60F6                   M           MOV.L   @R15+,R0        ;
18400 000034AA 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18401                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18402                                 M           PUSH_REG1 R0
18403 000034AC 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18404                                 M                                           ;REG=>[SP]
18405                                 M                                           ;"-4" FF,FF,FF,FC
18406 000034AE D018                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18407 000034B0 6001                   M           MOV.W   @R0,R0
18408                                 M           POP_REG1 R0
18409                                 M                                   ; RE"+4" 00,00,00,04
18410 000034B2 60F6                   M           MOV.L   @R15+,R0        ;
18411                            5873             POS_LSI_WORD_DUM_LOD                                                    ;
18412                                 M           PUSH_REG1 R0
18413 000034B4 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18414                                 M                                           ;REG=>[SP]
18415                                 M                                           ;"-4" FF,FF,FF,FC
18416 000034B6 D016                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18417 000034B8 6001                   M           MOV.W   @R0,R0
18418                                 M           POP_REG1 R0
18419                                 M                                   ; RE"+4" 00,00,00,04
18420 000034BA 60F6                   M           MOV.L   @R15+,R0        ;
18421                            5874     
18422                            5875     ;       == 起動 ===                                                             ;
18423 000034BC D415              5876             MOV.L   #(BIT2*H'10000),R4                                              ;
18424                            5877             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL          ;;起動 ONｴ
                                          ｯｼﾞ
18425 000034BE D612                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18426 000034C0 6562                   M           MOV.L   @R6,R5                                          ;
18427 000034C2 254B                   M           OR      R4,R5                                           ;
18428 000034C4 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18429                                 M   
18430 000034C6 D611                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18431                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18432 000034C8 6559                   M           SWAP.W  R5,R5                           ;
18433                                 M   
18434 000034CA 2651                   M           MOV.W   R5,@R6
18435 000034CC 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18436 000034CE 6559                   M           SWAP.W  R5,R5                           ;
18437                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18438                                 M           PUSH_REG1 R0
18439 000034D0 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18440                                 M                                           ;REG=>[SP]
18441                                 M                                           ;"-4" FF,FF,FF,FC
18442 000034D2 D00F                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18443 000034D4 6001                   M           MOV.W   @R0,R0
18444                                 M           POP_REG1 R0
18445                                 M                                   ; RE"+4" 00,00,00,04
18446 000034D6 60F6                   M           MOV.L   @R15+,R0        ;
18447 000034D8 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18448                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18449                                 M           PUSH_REG1 R0
18450 000034DA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18451                                 M                                           ;REG=>[SP]
18452                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   223
PROGRAM NAME =

18453 000034DC D00C                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18454 000034DE 6001                   M           MOV.W   @R0,R0
18455                                 M           POP_REG1 R0
18456                                 M                                   ; RE"+4" 00,00,00,04
18457 000034E0 60F6                   M           MOV.L   @R15+,R0        ;
18458                            5878             POS_LSI_WORD_DUM_LOD                                                    ;
18459                                 M           PUSH_REG1 R0
18460 000034E2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18461                                 M                                           ;REG=>[SP]
18462                                 M                                           ;"-4" FF,FF,FF,FC
18463 000034E4 D00A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18464 000034E6 6001                   M           MOV.W   @R0,R0
18465                                 M           POP_REG1 R0
18466                                 M                                   ; RE"+4" 00,00,00,04
18467 000034E8 60F6                   M           MOV.L   @R15+,R0        ;
18468                            5879     
18469                            5880             FAR_JSR #_SPD_CTL_START,R0
18470 000034EA D00B                   M           MOV.L   #_SPD_CTL_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18471 000034EC 400B                   M           JSR     @R0                     ;
18472 000034EE 0009                   M           NOP                                     ;
18473                            5881     
18474                            5882     
18475                            5883             .AIF    1 EQ    0
18476                            5884     
18477                            5885             FAR_JSR #_VIB_PLS_OUT_ON,R0     ;2010-08-23加振動制御
18478                            5886             .AENDI
18479                            5887     
18480                            5888     
18481                            5889     
18482                            5890     
18483                            5891             SUB_END
18484                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18485 000034F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18486                            5892             M_RTS
18487 000034F2 000B                   M           RTS                             ;RTSの後ろの
18488 000034F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18489                            5893     
18490                            5894     ;       ==== 起動信号OFF ====
18491                                     ***** BEGIN-POOL *****
18492 000034F6 223D                       DATA FOR SOURCE-LINE 5864
18493 000034F8 00000000                   DATA FOR SOURCE-LINE 5851
18494 000034FC 00000000                   DATA FOR SOURCE-LINE 5853
18495 00003500 00080000                   DATA FOR SOURCE-LINE 5855,5867
18496 00003504 00000000                   DATA FOR SOURCE-LINE 5862
18497 00003508 00000000                   DATA FOR SOURCE-LINE 5872,5877
18498 0000350C 00000000                   DATA FOR SOURCE-LINE 5872,5877
18499 00003510 00000000                   DATA FOR SOURCE-LINE 5872,5872,5873,5877,5877,5878
18500 00003514 00040000                   DATA FOR SOURCE-LINE 5876
18501 00003518 00000000                   DATA FOR SOURCE-LINE 5880
18502                                     ***** END-POOL *****
18503 0000351C                   5895             .ALIGN  4                               ;
18504 0000351C                   5896     _FWD_REV_STSIG_OFF:
18505                            5897             SUB_START
18506 0000351C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18507                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18508 0000351E D40B              5898             MOV.L   #~(BIT2*H'10000),R4             ;
18509                            5899             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   224
PROGRAM NAME =

18510 00003520 D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18511 00003522 6562                   M           MOV.L   @R6,R5                                          ;
18512 00003524 2549                   M           AND     R4,R5                                           ;
18513 00003526 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18514                                 M   
18515 00003528 D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18516                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18517 0000352A 6559                   M           SWAP.W  R5,R5                           ;
18518                                 M   
18519 0000352C 2651                   M           MOV.W   R5,@R6
18520 0000352E 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18521 00003530 6559                   M           SWAP.W  R5,R5                           ;
18522                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18523                                 M           PUSH_REG1 R0
18524 00003532 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18525                                 M                                           ;REG=>[SP]
18526                                 M                                           ;"-4" FF,FF,FF,FC
18527 00003534 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18528 00003536 6001                   M           MOV.W   @R0,R0
18529                                 M           POP_REG1 R0
18530                                 M                                   ; RE"+4" 00,00,00,04
18531 00003538 60F6                   M           MOV.L   @R15+,R0        ;
18532 0000353A 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18533                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18534                                 M           PUSH_REG1 R0
18535 0000353C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18536                                 M                                           ;REG=>[SP]
18537                                 M                                           ;"-4" FF,FF,FF,FC
18538 0000353E D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18539 00003540 6001                   M           MOV.W   @R0,R0
18540                                 M           POP_REG1 R0
18541                                 M                                   ; RE"+4" 00,00,00,04
18542 00003542 60F6                   M           MOV.L   @R15+,R0        ;
18543                            5900             SUB_END
18544                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18545 00003544 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18546                            5901             M_RTS
18547 00003546 000B                   M           RTS                             ;RTSの後ろの
18548 00003548 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18549                            5902     
18550                            5903     ;       =====================
18551                            5904     ;       ==== 起動信号OFF ====
18552                            5905     ;       =====================
18553                            5906     ;       残ﾊﾟﾙｽがなくなってから指令OFF
18554                                     ***** BEGIN-POOL *****
18555 0000354A 0000                       ALIGNMENT CODE
18556 0000354C FFFBFFFF                   DATA FOR SOURCE-LINE 5898
18557 00003550 00000000                   DATA FOR SOURCE-LINE 5899
18558 00003554 00000000                   DATA FOR SOURCE-LINE 5899
18559 00003558 00000000                   DATA FOR SOURCE-LINE 5899,5899
18560                                     ***** END-POOL *****
18561 0000355C                   5907             .ALIGN  4                               ;
18562 0000355C                   5908     _FWD_REV_STSIG_OFF_SPEC:
18563                            5909             SUB_START
18564 0000355C 4F22                   M           STS.L   PR,@-R15                ;[必要]
18565                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   225
PROGRAM NAME =

18566                            5910             PUSH_REG1 R0
18567 0000355E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18568                                 M                                           ;REG=>[SP]
18569                                 M                                           ;"-4" FF,FF,FF,FC
18570                            5911             FAR_JSR #_LOAD_REST_PLS,R0
18571 00003560 D00E                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18572 00003562 400B                   M           JSR     @R0                     ;
18573 00003564 0009                   M           NOP                                     ;
18574 00003566 6103              5912             MOV     R0,R1                                           ;
18575                            5913             POP_REG1 R0
18576                                 M                                   ; RE"+4" 00,00,00,04
18577 00003568 60F6                   M           MOV.L   @R15+,R0        ;
18578                            5914     
18579 0000356A 2118              5915             TST     R1,R1                           ;
18580                            5916             TST_BIT_ON FWD_REV_STSIG_OFSPEC_050     ;
18581 0000356C 8B12                   M           BF      FWD_REV_STSIG_OFSPEC_050
18582 0000356E D40C              5917             MOV.L   #~(BIT2*H'10000),R4             ;
18583                            5918             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
18584 00003570 D60C                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
18585 00003572 6562                   M           MOV.L   @R6,R5                                          ;
18586 00003574 2549                   M           AND     R4,R5                                           ;
18587 00003576 2652                   M           MOV.L   R5,@R6                                          ;SAVE
18588                                 M   
18589 00003578 D60B                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
18590                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
18591 0000357A 6559                   M           SWAP.W  R5,R5                           ;
18592                                 M   
18593 0000357C 2651                   M           MOV.W   R5,@R6
18594 0000357E 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
18595 00003580 6559                   M           SWAP.W  R5,R5                           ;
18596                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18597                                 M           PUSH_REG1 R0
18598 00003582 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18599                                 M                                           ;REG=>[SP]
18600                                 M                                           ;"-4" FF,FF,FF,FC
18601 00003584 D009                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18602 00003586 6001                   M           MOV.W   @R0,R0
18603                                 M           POP_REG1 R0
18604                                 M                                   ; RE"+4" 00,00,00,04
18605 00003588 60F6                   M           MOV.L   @R15+,R0        ;
18606 0000358A 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
18607                                 M           POS_LSI_WORD_DUM_LOD                                    ;
18608                                 M           PUSH_REG1 R0
18609 0000358C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18610                                 M                                           ;REG=>[SP]
18611                                 M                                           ;"-4" FF,FF,FF,FC
18612 0000358E D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18613 00003590 6001                   M           MOV.W   @R0,R0
18614                                 M           POP_REG1 R0
18615                                 M                                   ; RE"+4" 00,00,00,04
18616 00003592 60F6                   M           MOV.L   @R15+,R0        ;
18617 00003594                   5919     FWD_REV_STSIG_OFSPEC_050:
18618                            5920             SUB_END
18619                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18620 00003594 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18621                            5921             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   226
PROGRAM NAME =

18622 00003596 000B                   M           RTS                             ;RTSの後ろの
18623 00003598 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18624                            5922     
18625                            5923     ;       ***********************************
18626                            5924     ;       ***     ｽﾃｰﾀｽLOAD               ***
18627                            5925     ;       ***********************************
18628                            5926     ;;      .EXPORT _LOD_POS_STS_REG        ;2003-05-12
18629                                     ***** BEGIN-POOL *****
18630 0000359A 0000                       ALIGNMENT CODE
18631 0000359C 00000000                   DATA FOR SOURCE-LINE 5911
18632 000035A0 FFFBFFFF                   DATA FOR SOURCE-LINE 5917
18633 000035A4 00000000                   DATA FOR SOURCE-LINE 5918
18634 000035A8 00000000                   DATA FOR SOURCE-LINE 5918
18635 000035AC 00000000                   DATA FOR SOURCE-LINE 5918,5918
18636                                     ***** END-POOL *****
18637 000035B0                   5927             .ALIGN  4                               ;
18638 000035B0                   5928     _LOD_POS_STS_REG:
18639                            5929             SUB_START
18640 000035B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
18641                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18642                            5930             PUSH_REG1 R2
18643 000035B2 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18644                                 M                                           ;REG=>[SP]
18645                                 M                                           ;"-4" FF,FF,FF,FC
18646                            5931     
18647                            5932             FAR_JSR #_LOD_POS_STS_REG_IN,R0 ;ANS R0
18648 000035B4 D003                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18649 000035B6 400B                   M           JSR     @R0                     ;
18650 000035B8 0009                   M           NOP                                     ;
18651                            5933     
18652                            5934             POP_REG1 R2
18653                                 M                                   ; RE"+4" 00,00,00,04
18654 000035BA 62F6                   M           MOV.L   @R15+,R2        ;
18655                            5935             SUB_END
18656                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18657 000035BC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18658                            5936             M_RTS
18659 000035BE 000B                   M           RTS                             ;RTSの後ろの
18660 000035C0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18661                            5937     
18662                            5938     
18663                            5939     ;       ***********************************
18664                            5940     ;       ***     ｽﾃｰﾀｽLOAD               ***
18665                            5941     ;       ***********************************
18666                            5942     ;;      .EXPORT _LOD_POS_STS_REG        ;2003-05-12
18667                                     ***** BEGIN-POOL *****
18668 000035C2 0000                       ALIGNMENT CODE
18669 000035C4 00000000                   DATA FOR SOURCE-LINE 5932
18670                                     ***** END-POOL *****
18671 000035C8                   5943             .ALIGN  4                               ;
18672 000035C8                   5944     _LOD_POS_STS_REG_POR:
18673 000035C8                   5945     _LOD_POS_STS_REG_SLOW:
18674                            5946             SUB_START
18675 000035C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
18676                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18677                            5947             PUSH_REG1 R2
18678 000035CA 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   227
PROGRAM NAME =

18679                                 M                                           ;REG=>[SP]
18680                                 M                                           ;"-4" FF,FF,FF,FC
18681                            5948     
18682                            5949             FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;ANS R0
18683 000035CC D007                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18684 000035CE 400B                   M           JSR     @R0                     ;
18685 000035D0 0009                   M           NOP                                     ;
18686 000035D2 C804              5950             TST     #BIT2,R0                        ;
18687                            5951             TST_BIT_ON LOD_POS_STS_REGSLOW_END      ;
18688 000035D4 8B05                   M           BF      LOD_POS_STS_REGSLOW_END
18689 000035D6 D206              5952             MOV.L   #_POSCTL_STEP_FLG,R2            ;
18690 000035D8 6421              5953             MOV.W   @R2,R4                          ;
18691 000035DA 9206              5954             MOV.W   #BIT6,R2                        ;
18692 000035DC 2428              5955             TST     R2,R4                           ;
18693                            5956             TST_BIT_OF LOD_POS_STS_REGSLOW_END      ;
18694 000035DE 8900                   M           BT      LOD_POS_STS_REGSLOW_END
18695 000035E0 CB04              5957             OR      #BIT2,R0                        ;
18696                            5958     
18697 000035E2                   5959     LOD_POS_STS_REGSLOW_END:
18698                            5960             POP_REG1 R2
18699                                 M                                   ; RE"+4" 00,00,00,04
18700 000035E2 62F6                   M           MOV.L   @R15+,R2        ;
18701                            5961             SUB_END
18702                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18703 000035E4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18704                            5962             M_RTS
18705 000035E6 000B                   M           RTS                             ;RTSの後ろの
18706 000035E8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18707                            5963     
18708                            5964     
18709                            5965     
18710                            5966     ;       ***********************************
18711                            5967     ;       ***     ｽﾃｰﾀｽLOAD               ***
18712                            5968     ;       ***********************************
18713                            5969     ;       R0 BIT2=1 STOP
18714                                     ***** BEGIN-POOL *****
18715 000035EA 0040                       DATA FOR SOURCE-LINE 5954
18716 000035EC 00000000                   DATA FOR SOURCE-LINE 5949
18717 000035F0 00000000                   DATA FOR SOURCE-LINE 5952
18718                                     ***** END-POOL *****
18719 000035F4                   5970             .ALIGN  4                               ;
18720 000035F4                   5971     _LOD_POS_STS_REG_IN:
18721                            5972             SUB_START
18722 000035F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
18723                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18724                            5973             PUSH_REG1 R2
18725 000035F6 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18726                                 M                                           ;REG=>[SP]
18727                                 M                                           ;"-4" FF,FF,FF,FC
18728                            5974     
18729 000035F8 D413              5975             MOV.L   #(BIT2*H'10000),R4
18730 000035FA                   5976     LOD_POS_STSRG00:
18731                            5977             POS_LSI_WORD_DUM_LOD                                    ;
18732                                 M           PUSH_REG1 R0
18733 000035FA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18734                                 M                                           ;REG=>[SP]
18735                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   228
PROGRAM NAME =

18736 000035FC D013                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18737 000035FE 6001                   M           MOV.W   @R0,R0
18738                                 M           POP_REG1 R0
18739                                 M                                   ; RE"+4" 00,00,00,04
18740 00003600 60F6                   M           MOV.L   @R15+,R0        ;
18741 00003602 D613              5978             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitInfoL,R6        ;
18742 00003604 6065              5979             MOV.W   @R6+,R0                                         ;BIT1:指令ﾊﾟﾙｽ BIT2:ﾊﾟﾙｽ払
                                          出停止中
18743                            5980                                                                     ;BIT2で判断する
18744                            5981             POS_LSI_WORD_DUM_LOD                                    ;
18745                                 M           PUSH_REG1 R0
18746 00003606 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18747                                 M                                           ;REG=>[SP]
18748                                 M                                           ;"-4" FF,FF,FF,FC
18749 00003608 D010                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18750 0000360A 6001                   M           MOV.W   @R0,R0
18751                                 M           POP_REG1 R0
18752                                 M                                   ; RE"+4" 00,00,00,04
18753 0000360C 60F6                   M           MOV.L   @R15+,R0        ;
18754 0000360E 6261              5982             MOV.W   @R6,R2                                          ;
18755 00003610 600D              5983             EXTU.W  R0,R0                                           ;LOW
18756 00003612 622D              5984             EXTU.W  R2,R2                                           ;HIGH
18757 00003614 4228              5985             SHLL16  R2
18758 00003616 202B              5986             OR      R2,R0                                           ;
18759 00003618 0009              5987             NOP
18760                            5988             POS_LSI_WORD_DUM_LOD                                    ;
18761                                 M           PUSH_REG1 R0
18762 0000361A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18763                                 M                                           ;REG=>[SP]
18764                                 M                                           ;"-4" FF,FF,FF,FC
18765 0000361C D00B                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18766 0000361E 6001                   M           MOV.W   @R0,R0
18767                                 M           POP_REG1 R0
18768                                 M                                   ; RE"+4" 00,00,00,04
18769 00003620 60F6                   M           MOV.L   @R15+,R0        ;
18770 00003622 D60B              5989             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitInfoL,R6        ;
18771 00003624 6165              5990             MOV.W   @R6+,R1                                         ;
18772                            5991             POS_LSI_WORD_DUM_LOD                                    ;
18773                                 M           PUSH_REG1 R0
18774 00003626 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18775                                 M                                           ;REG=>[SP]
18776                                 M                                           ;"-4" FF,FF,FF,FC
18777 00003628 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
18778 0000362A 6001                   M           MOV.W   @R0,R0
18779                                 M           POP_REG1 R0
18780                                 M                                   ; RE"+4" 00,00,00,04
18781 0000362C 60F6                   M           MOV.L   @R15+,R0        ;
18782 0000362E 6261              5992             MOV.W   @R6,R2                                          ;
18783 00003630 611D              5993             EXTU.W  R1,R1                                           ;LOW
18784 00003632 622D              5994             EXTU.W  R2,R2                                           ;HIGH
18785 00003634 4228              5995             SHLL16  R2                                              ;
18786 00003636 212B              5996             OR      R2,R1                                           ;
18787                            5997     
18788 00003638 201A              5998             XOR     R1,R0                                           ;
18789 0000363A 2048              5999             TST     R4,R0                                           ;
18790                            6000             TST_BIT_ON LOD_POS_STSRG00                              ;R0=R1
18791 0000363C 8BDD                   M           BF      LOD_POS_STSRG00
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   229
PROGRAM NAME =

18792 0000363E 6013              6001             MOV     R1,R0                                           ;BIT2
18793                            6002     
18794                            6003             POP_REG1 R2
18795                                 M                                   ; RE"+4" 00,00,00,04
18796 00003640 62F6                   M           MOV.L   @R15+,R2        ;
18797                            6004             SUB_END
18798                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18799 00003642 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18800                            6005             M_RTS
18801 00003644 000B                   M           RTS                             ;RTSの後ろの
18802 00003646 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18803                            6006     
18804                            6007     
18805                            6008     
18806                            6009     
18807                            6010     
18808                            6011     ;       ***********************************
18809                            6012     ;       ***     現在位置ｶｳﾝﾀLOAD        ***
18810                            6013     ;       ***********************************
18811                            6014             .EXPORT _POS_LSI_CNT_LOAD_R1reg
18812                                     ***** BEGIN-POOL *****
18813 00003648 00040000                   DATA FOR SOURCE-LINE 5975
18814 0000364C 00000000                   DATA FOR SOURCE-LINE 5977,5981,5988,5991
18815 00003650 00000000                   DATA FOR SOURCE-LINE 5978,5989
18816                                     ***** END-POOL *****
18817 00003654                   6015             .ALIGN  4                               ;
18818 00003654                   6016     _POS_LSI_CNT_LOAD_R1reg:
18819                            6017             SUB_START
18820 00003654 4F22                   M           STS.L   PR,@-R15                ;[必要]
18821                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18822 00003656 D603              6018             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_NowPos1L,R6        ;
18823 00003658 6162              6019             MOV.L   @R6,R1                                          ;(とりあえずこのままにして
                                          おく)
18824 0000365A 6119              6020             SWAP.W  R1,R1                                           ;
18825                            6021             SUB_END
18826                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18827 0000365C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18828                            6022             M_RTS
18829 0000365E 000B                   M           RTS                             ;RTSの後ろの
18830 00003660 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18831                            6023     
18832                            6024     
18833                            6025     
18834                            6026     ;       ***********************************
18835                            6027     ;       ***                             ***
18836                            6028     ;       ***     払出ﾊﾟﾙｽ                ***
18837                            6029     ;       ***                             ***
18838                            6030     ;       ***********************************
18839                            6031     ;       I/F LNGTH_ADD_DATA[2];//符号付き
18840                            6032     ;
18841                            6033     ;       ﾊﾞｯｸﾗｯｼの処理はここで行う
18842                            6034     ;
18843                            6035     ;
18844                                     ***** BEGIN-POOL *****
18845 00003662 0000                       ALIGNMENT CODE
18846 00003664 00000000                   DATA FOR SOURCE-LINE 6018
18847                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   230
PROGRAM NAME =

18848 00003668                   6036             .ALIGN  4                               ;
18849 00003668                   6037     _POS_LENGTH_ADD_DATA
18850                            6038             SUB_START
18851 00003668 4F22                   M           STS.L   PR,@-R15                ;[必要]
18852                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18853 0000366A D40A              6039             MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
18854 0000366C 6142              6040             MOV.L   @R4,R1                          ;
18855 0000366E 5241              6041             MOV.L   @(4,R4),R2                      ;
18856 00003670 233A              6042             XOR     R3,R3                           ;
18857 00003672 2432              6043             MOV.L   R3,@R4                                                  ;
18858 00003674 1431              6044             MOV.L   R3,@(4,R4)                                              ;(ここでﾊﾞｯｸﾗｯｼ補
                                          正を足しこむ)
18859                            6045     
18860 00003676 D708              6046             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;//符号つき TOTAL=
                                          TOTAL+ADD ADD_DATA<=0
18861 00003678 6572              6047             MOV.L   @R7,R5                                                  ;
18862 0000367A 5671              6048             MOV.L   @(4,R7),R6                                              ;
18863                            6049             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
18864 0000367C 0008                   M           CLRT
18865 0000367E 326E                   M           ADDC    R6,R2
18866 00003680 315E                   M           ADDC    R5,R1
18867 00003682 2712              6050             MOV.L   R1,@R7                                                  ;
18868 00003684 1721              6051             MOV.L   R2,@(4,R7)                                              ;
18869                            6052     
18870                            6053     ;       ===2004-01-28 MONITOR ==
18871 00003686 D705              6054             MOV.L   #_LT_LNGTH_TOTAL_OUTPLS,R7;//符号つき
18872 00003688 2712              6055             MOV.L   R1,@R7                                                  ;
18873 0000368A 1721              6056             MOV.L   R2,@(4,R7)                                              ;
18874                            6057     
18875                            6058             SUB_END
18876                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
18877 0000368C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
18878                            6059             M_RTS
18879 0000368E 000B                   M           RTS                             ;RTSの後ろの
18880 00003690 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
18881                            6060     
18882                            6061     ;       *******************************************
18883                            6062     ;       ***                                     ***
18884                            6063     ;       ***     ﾊﾟﾙｽ払い出し管理                ***
18885                            6064     ;       ***                                     ***
18886                            6065     ;       *******************************************
18887                            6066     ;       ***********************************************************
18888                            6067     ;       ***     (停止時からの起動の場合のみ有効・安一のみ)      ***
18889                            6068     ;       ***********************************************************
18890                                     ***** BEGIN-POOL *****
18891 00003692 0000                       ALIGNMENT CODE
18892 00003694 00000000                   DATA FOR SOURCE-LINE 6039
18893 00003698 00000000                   DATA FOR SOURCE-LINE 6046
18894 0000369C 00000000                   DATA FOR SOURCE-LINE 6054
18895                                     ***** END-POOL *****
18896 000036A0                   6069             .ALIGN  4                               ;
18897 000036A0                   6070     _POS_PLSOUT_SET_RETRY:
18898                            6071             SUB_START
18899 000036A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
18900                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
18901 000036A2 D105              6072             MOV.L   #_MODE_SEL,R1                   ;
18902 000036A4 6011              6073             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   231
PROGRAM NAME =

18903 000036A6 9406              6074             MOV.W   #_W1SGL,R4                      ;
18904 000036A8 2048              6075             TST     R4,R0                           ;
18905                            6076             TST_BIT_ON POS_PLSOUT_SETRY100          ;
18906 000036AA 8B09                   M           BF      POS_PLSOUT_SETRY100
18907                            6077     
18908                            6078             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;
18909 000036AC D003                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18910 000036AE 400B                   M           JSR     @R0                     ;
18911 000036B0 0009                   M           NOP                                     ;
18912                            6079             M_BRA   POS_PLSOUT_SETRYEXT
18913 000036B2 A082                   M           BRA     POS_PLSOUT_SETRYEXT
18914 000036B4 0009                   M           NOP
18915                            6080     
18916                            6081     ;       ===     安全一行程      ===
18917                                     ***** BEGIN-POOL *****
18918 000036B6 0004                       DATA FOR SOURCE-LINE 6074
18919 000036B8 00000000                   DATA FOR SOURCE-LINE 6072
18920 000036BC 00000000                   DATA FOR SOURCE-LINE 6078
18921                                     ***** END-POOL *****
18922 000036C0                   6082     POS_PLSOUT_SETRY100:
18923 000036C0 200A              6083             XOR     R0,R0
18924 000036C2 D116              6084             MOV.L   #_LSI_PLSSET_RETRY_CNT1,R1              ;
18925 000036C4 2101              6085             MOV.W   R0,@R1                                  ;
18926                            6086     
18927                            6087             eSHi_SET_MEM_MOV SRC=_LNGTH_TOTAL_OUTPLS+4,L1=L,DST=_SH2_LNGH_ADD_SR,L2=L       ;
18928                                 M           PUSH_REG1 R0
18929 000036C6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
18930                                 M                                           ;REG=>[SP]
18931                                 M                                           ;"-4" FF,FF,FF,FC
18932                                 M           PUSH_REG1 R1
18933 000036C8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18934                                 M                                           ;REG=>[SP]
18935                                 M                                           ;"-4" FF,FF,FF,FC
18936 000036CA D115                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS+4,R1       ;
18937 000036CC 6012                   M           MOV.L   @R1,R0          ;
18938 000036CE D115                   M           MOV.L   #_SH2_LNGH_ADD_SR,R1    ;
18939 000036D0 2102                   M           MOV.L   R0,@R1          ;
18940                                 M           POP_REG1 R1
18941                                 M                                   ; RE"+4" 00,00,00,04
18942 000036D2 61F6                   M           MOV.L   @R15+,R1        ;
18943                                 M           POP_REG1 R0
18944                                 M                                   ; RE"+4" 00,00,00,04
18945 000036D4 60F6                   M           MOV.L   @R15+,R0        ;
18946                            6088             TIM_CNT_ADD MEM=_SH2_LOT_CNT_A,LG=W,ADR_REG=R1,DAT_REG=R0,LATE=1                ;+
                                          1
18947 000036D6 D114                   M           MOV.L   #_SH2_LOT_CNT_A,R1              ;
18948 000036D8 6011                   M           MOV.W   @R1,R0  ;
18949 000036DA 7001                   M           ADD     #1,R0           ;
18950 000036DC 2101                   M           MOV.W   R0,@R1  ;
18951                            6089     
18952                            6090     
18953                            6091     
18954 000036DE                   6092     POS_PLSOUT_SETRYLOP:
18955                            6093     
18956 000036DE D713              6094             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;+/-(0へ向かってい
                                          く)
18957 000036E0 6172              6095             MOV.L   @R7,R1                                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   232
PROGRAM NAME =

18958 000036E2 5271              6096             MOV.L   @(4,R7),R2                                              ;払いだしたい量
18959                            6097             PUSH_REG1 R1                                                    ;
18960 000036E4 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
18961                                 M                                           ;REG=>[SP]
18962                                 M                                           ;"-4" FF,FF,FF,FC
18963                            6098             PUSH_REG1 R2                                                    ;
18964 000036E6 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
18965                                 M                                           ;REG=>[SP]
18966                                 M                                           ;"-4" FF,FF,FF,FC
18967                            6099             FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                                ;
18968 000036E8 D011                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
18969 000036EA 400B                   M           JSR     @R0                     ;
18970 000036EC 0009                   M           NOP                                     ;
18971                            6100             POP_REG1 R2                                                     ;
18972                                 M                                   ; RE"+4" 00,00,00,04
18973 000036EE 62F6                   M           MOV.L   @R15+,R2        ;
18974                            6101             POP_REG1 R1                                                     ;
18975                                 M                                   ; RE"+4" 00,00,00,04
18976 000036F0 61F6                   M           MOV.L   @R15+,R1        ;
18977 000036F2 6313              6102             MOV     R1,R3                                                   ;
18978 000036F4 6423              6103             MOV     R2,R4                                                   ;
18979 000036F6 4311              6104             CMP/PZ  R3                                                      ;"+"
18980 000036F8 8905              6105             BT      POS_PLSOUT_SETRY120                                     ;
18981                            6106             NEG1_64 H_REG=R3,L_REG=R4,WKREG=R0                              ;|R3,R4|
18982 000036FA 6447                   M           NOT     R4,R4                           ;
18983 000036FC 6337                   M           NOT     R3,R3                           ;
18984 000036FE 200A                   M           XOR     R0,R0                           ;
18985 00003700 0018                   M           SETT
18986 00003702 340E                   M           ADDC    R0,R4                           ;0+1+R2
18987 00003704 330E                   M           ADDC    R0,R3                           ;
18988 00003706                   6107     POS_PLSOUT_SETRY120:
18989 00003706 2338              6108             TST     R3,R3                                                   ;
18990                            6109             TST_BIT_OF POS_PLSOUT_SETRY130                                  ;
18991 00003708 8918                   M           BT      POS_PLSOUT_SETRY130
18992                            6110     ;       ====上位LWORDが存在する. 1回転の中にそれがあることはない
18993                            6111     ;       ==== data err ===
                                          ;
18994                            6112             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CALC_ERR_FLG1,LG=W,BIT=(BIT2+BIT0),WKREG=R1
                                          ;
18995 0000370A D10A                   M           MOV.L   #_POS_CALC_ERR_FLG1,R1          ;
18996 0000370C 6011                   M           MOV.W   @R1,R0          ;
18997 0000370E CB05                   M           OR      #(BIT2+BIT0),R0         ;
18998 00003710 2101                   M           MOV.W   R0,@R1          ;
18999                            6113             FAR_JSR #_OutputPLS_REG_CLR,R0
                                          ;
19000 00003712 D009                   M           MOV.L   #_OutputPLS_REG_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19001 00003714 400B                   M           JSR     @R0                     ;
19002 00003716 0009                   M           NOP                                     ;
19003                            6114             M_BRA   POS_PLSOUT_SETRY900
                                          ;
19004 00003718 A048                   M           BRA     POS_PLSOUT_SETRY900
19005 0000371A 0009                   M           NOP
19006                            6115     
19007                                     ***** BEGIN-POOL *****
19008 0000371C 00000000                   DATA FOR SOURCE-LINE 6084
19009 00003720 00000000                   DATA FOR SOURCE-LINE 6087
19010 00003724 00000000                   DATA FOR SOURCE-LINE 6087
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   233
PROGRAM NAME =

19011 00003728 00000000                   DATA FOR SOURCE-LINE 6088
19012 0000372C 00000000                   DATA FOR SOURCE-LINE 6094
19013 00003730 00000000                   DATA FOR SOURCE-LINE 6099
19014 00003734 00000000                   DATA FOR SOURCE-LINE 6112
19015 00003738 00000000                   DATA FOR SOURCE-LINE 6113
19016                                     ***** END-POOL *****
19017 0000373C                   6116     POS_PLSOUT_SETRY130:
19018                            6117     
19019                            6118             FAR_JSR #_LOAD_REST_PLS,R0                      ;
19020 0000373C D011                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19021 0000373E 400B                   M           JSR     @R0                     ;
19022 00003740 0009                   M           NOP                                     ;
19023                            6119             eSHi_SET_REG_MOV DST=_SH2_REST_PLS_SR,L1=L,SETREG=R0,WKREG1=R5
19024                                 M           PUSH_REG1 R5            ;
19025 00003742 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
19026                                 M                                           ;REG=>[SP]
19027                                 M                                           ;"-4" FF,FF,FF,FC
19028 00003744 D510                   M           MOV.L   #_SH2_REST_PLS_SR,R5            ;
19029 00003746 2502                   M           MOV.L   R0,@R5  ;
19030                                 M           POP_REG1 R5             ;
19031                                 M                                   ; RE"+4" 00,00,00,04
19032 00003748 65F6                   M           MOV.L   @R15+,R5        ;
19033                            6120     
19034 0000374A 3400              6121             CMP/EQ  R0,R4                                   ;
19035 0000374C 892E              6122             BT      POS_PLSOUT_SETRY900                     ;"EQU"
19036 0000374E 7001              6123             ADD     #1,R0                                   ;
19037 00003750 3400              6124             CMP/EQ  R0,R4                                   ;
19038 00003752 892B              6125             BT      POS_PLSOUT_SETRY900                     ;
19039 00003754 70FE              6126             ADD     #-2,R0                                  ;
19040 00003756 3400              6127             CMP/EQ  R0,R4                                   ;
19041 00003758 8928              6128             BT      POS_PLSOUT_SETRY900                     ;
19042                            6129     
19043                            6130     ;       ==== ﾍﾞﾘﾌｧｲ異常====
19044                            6131             DEBUG_LSI_ACS_ON2_BIT BITDT=BIT2                ;VERIFAY ERR
19045                                 M   
19046                                 M           .AIF    1 EQ    0
19047                                     ;;      (波形測定時)
19048                                             PUSH_REG1 R0
19049                                             PUSH_REG1 R1
19050                                             PUSH_REG1 R2
19051                                             MOV.L   #_PDTRA,R1                      ;
19052                                             MOV.W   @R1,R0                          ;
19053                                             MOV.W   #BIT2,R2                        ;
19054                                             OR      R2,R0                           ;
19055                                             MOV.W   R0,@R1                          ;
19056                                     
19057                                             POP_REG1 R2
19058                                             POP_REG1 R1
19059                                             POP_REG1 R0
19060                                             .AENDI
19061                                 M   
19062                            6132     
19063                            6133             FAR_JSR #_OutputPLS_REG_CLR,R0                  ;
19064 0000375A D00C                   M           MOV.L   #_OutputPLS_REG_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19065 0000375C 400B                   M           JSR     @R0                     ;
19066 0000375E 0009                   M           NOP                                     ;
19067 00003760 D70B              6134             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                 ;+/-(0へ向かっていく)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   234
PROGRAM NAME =

19068 00003762 2712              6135             MOV.L   R1,@R7                                  ;
19069 00003764 1721              6136             MOV.L   R2,@(4,R7)                              ;払いだしたい量
19070                            6137     
19071 00003766 D10B              6138             MOV.L   #_LSI_PLSSET_RETRY_CNT1,R1              ;
19072 00003768 6011              6139             MOV.W   @R1,R0                                  ;
19073 0000376A 9409              6140             MOV.W   #_LSI_RETRY_ERR_MAX,R4
                                          ;
19074 0000376C 7001              6141             ADD     #1,R0
                                          ;
19075 0000376E 2101              6142             MOV.W   R0,@R1
                                          ;
19076 00003770 3046              6143             CMP/HI  R4,R0
                                          ;3<
19077 00003772 8913              6144             BT      POS_PLSOUT_SETRYERR
                                          ;
19078                            6145             TIM_CNT_ADD MEM=_LSI_PLSSET_NG_CNT1,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
19079 00003774 D108                   M           MOV.L   #_LSI_PLSSET_NG_CNT1,R1         ;
19080 00003776 6012                   M           MOV.L   @R1,R0  ;
19081 00003778 7001                   M           ADD     #1,R0           ;
19082 0000377A 2102                   M           MOV.L   R0,@R1  ;
19083                            6146             M_BRA   POS_PLSOUT_SETRYLOP                     ;
19084 0000377C AFAF                   M           BRA     POS_PLSOUT_SETRYLOP
19085 0000377E 0009                   M           NOP
19086                            6147     
19087                                     ***** BEGIN-POOL *****
19088 00003780 0003                       DATA FOR SOURCE-LINE 6140
19089 00003782 0000                       ALIGNMENT CODE
19090 00003784 00000000                   DATA FOR SOURCE-LINE 6118
19091 00003788 00000000                   DATA FOR SOURCE-LINE 6119
19092 0000378C 00000000                   DATA FOR SOURCE-LINE 6133
19093 00003790 00000000                   DATA FOR SOURCE-LINE 6134
19094 00003794 00000000                   DATA FOR SOURCE-LINE 6138
19095 00003798 00000000                   DATA FOR SOURCE-LINE 6145
19096                                     ***** END-POOL *****
19097 0000379C                   6148     POS_PLSOUT_SETRYERR:
19098                            6149             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT2+BIT0),WKREG=R1
                                          ;
19099 0000379C D102                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1               ;
19100 0000379E 6011                   M           MOV.W   @R1,R0          ;
19101 000037A0 CB05                   M           OR      #(BIT2+BIT0),R0         ;
19102 000037A2 2101                   M           MOV.W   R0,@R1          ;
19103                            6150             DEBUG_LSI_ACS_ON2_BIT BITDT=BIT6                ;RETRY ERR
19104                                 M   
19105                                 M           .AIF    1 EQ    0
19106                                     ;;      (波形測定時)
19107                                             PUSH_REG1 R0
19108                                             PUSH_REG1 R1
19109                                             PUSH_REG1 R2
19110                                             MOV.L   #_PDTRA,R1                      ;
19111                                             MOV.W   @R1,R0                          ;
19112                                             MOV.W   #BIT6,R2                        ;
19113                                             OR      R2,R0                           ;
19114                                             MOV.W   R0,@R1                          ;
19115                                     
19116                                             POP_REG1 R2
19117                                             POP_REG1 R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   235
PROGRAM NAME =

19118                                             POP_REG1 R0
19119                                             .AENDI
19120                                 M   
19121                            6151             M_BRA   POS_PLSOUT_SETRYEXT
19122 000037A4 A009                   M           BRA     POS_PLSOUT_SETRYEXT
19123 000037A6 0009                   M           NOP
19124                            6152     
19125                                     ***** BEGIN-POOL *****
19126 000037A8 00000000                   DATA FOR SOURCE-LINE 6149
19127                                     ***** END-POOL *****
19128 000037AC                   6153     POS_PLSOUT_SETRY900:
19129                            6154     ;       === FLAG SET====
19130                            6155             eSHi_SET_IM_MOV DST=_SH2_REST_SR_HF,L1=W,WKREG1=R1,WKREG2=R0,IMD=1      ;
19131                                 M           PUSH_REG1 R1            ;
19132 000037AC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19133                                 M                                           ;REG=>[SP]
19134                                 M                                           ;"-4" FF,FF,FF,FC
19135                                 M           PUSH_REG1 R0            ;
19136 000037AE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19137                                 M                                           ;REG=>[SP]
19138                                 M                                           ;"-4" FF,FF,FF,FC
19139 000037B0 9006                   M           MOV.W   #1,R0           ;
19140 000037B2 D104                   M           MOV.L   #_SH2_REST_SR_HF,R1             ;
19141 000037B4 2101                   M           MOV.W   R0,@R1  ;
19142                                 M           POP_REG1 R0             ;
19143                                 M                                   ; RE"+4" 00,00,00,04
19144 000037B6 60F6                   M           MOV.L   @R15+,R0        ;
19145                                 M           POP_REG1 R1             ;
19146                                 M                                   ; RE"+4" 00,00,00,04
19147 000037B8 61F6                   M           MOV.L   @R15+,R1        ;
19148                            6156     
19149 000037BA                   6157     POS_PLSOUT_SETRYEXT:
19150                            6158             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT4                ;VERYFAI ERR OFF付
19151                                 M   
19152                                 M           .AIF    1 EQ    0
19153                                     ;;      (波形測定時)
19154                                             PUSH_REG1 R0
19155                                             PUSH_REG1 R1
19156                                             PUSH_REG1 R2
19157                                             MOV.L   #_PDTRA,R1                      ;
19158                                             MOV.W   @R1,R0                          ;
19159                                             MOV.W   #LWORD ~BIT4,R2         ;
19160                                             AND     R2,R0                           ;
19161                                             MOV.W   R0,@R1                          ;
19162                                             POP_REG1 R2
19163                                             POP_REG1 R1
19164                                             POP_REG1 R0
19165                                             .AENDI
19166                                 M   
19167                            6159     
19168                            6160             SUB_END
19169                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19170 000037BA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19171                            6161             M_RTS
19172 000037BC 000B                   M           RTS                             ;RTSの後ろの
19173 000037BE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19174                            6162     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   236
PROGRAM NAME =

19175                            6163     ;       *******************************************
19176                            6164     ;       ***                                     ***
19177                            6165     ;       ***     ﾊﾟﾙｽ払い出し管理                ***
19178                            6166     ;       ***                                     ***
19179                            6167     ;       *******************************************
19180                                     ***** BEGIN-POOL *****
19181 000037C0 0001                       DATA FOR SOURCE-LINE 6155
19182 000037C2 0000                       ALIGNMENT CODE
19183 000037C4 00000000                   DATA FOR SOURCE-LINE 6155
19184                                     ***** END-POOL *****
19185 000037C8                   6168             .ALIGN  4                               ;
19186 000037C8                   6169     _POS_PLS_OUTPUT_DATA:
19187                            6170             SUB_START
19188 000037C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
19189                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19190                            6171     
19191                            6172     
19192                            6173             FAR_JSR #_LOAD_REST_PLS,R0                                              ;
19193 000037CA D00D                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19194 000037CC 400B                   M           JSR     @R0                     ;
19195 000037CE 0009                   M           NOP                                     ;
19196 000037D0 6B03              6174             MOV     R0,R11                                                          ;R/W 指令ﾊ
                                          ﾟﾙｽｶｳﾝﾀ(残ﾊﾟﾙｽ)
19197 000037D2 D10C              6175             MOV.L   #_POSLSI_CHK_RESTPLS,R1                                         ;
19198 000037D4 21B2              6176             MOV.L   R11,@R1                                                         ;
19199                            6177     
19200 000037D6 DC0C              6178             MOV.L   #_PLS_OUTPUT_MAX,R12                                            ;
19201 000037D8 3CB8              6179             SUB     R11,R12                                                         ;
19202 000037DA 4C11              6180             CMP/PZ  R12                                                             ;残り設定
                                          できる距離出力側で
19203 000037DC 8904              6181             BT      POS_PLS_OUTDAT_050                                              ;
19204                            6182             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSLSI_CHK_STS,LG=W,BIT=BIT0,WKREG=R1       ;
19205 000037DE D10B                   M           MOV.L   #_POSLSI_CHK_STS,R1             ;
19206 000037E0 6011                   M           MOV.W   @R1,R0          ;
19207 000037E2 CB01                   M           OR      #BIT0,R0                ;
19208 000037E4 2101                   M           MOV.W   R0,@R1          ;
19209 000037E6 2CCA              6183             XOR     R12,R12                                                         ;
19210 000037E8                   6184     POS_PLS_OUTDAT_050:                                                             ;R12は出力
                                          ﾊﾟﾙｽﾚﾍﾞﾙ
19211                            6185     ;       ============= 出力ﾊﾟﾙｽ補正============
19212 000037E8 62C3              6186             MOV     R12,R2                                                  ;ﾊﾟﾙｽ列-->ｲﾝｸﾘﾒﾝﾀﾙ
                                          ﾊﾟﾙｽ量
19213                            6187     ;;;;;   FAR_JSR #_POS_OUT_TO_INC_CHG,R0                                 ;
19214 000037EA 6C23              6188             MOV     R2,R12                                                  ;
19215                            6189     
19216                            6190     ;       ==== R12が設定可能量====
19217 000037EC D708              6191             MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;+/-(0へ向かってい
                                          く)
19218 000037EE 6172              6192             MOV.L   @R7,R1                                                  ;
19219 000037F0 5271              6193             MOV.L   @(4,R7),R2                                              ;払いだしたい量
19220 000037F2 6013              6194             MOV     R1,R0                                                   ;
19221 000037F4 202B              6195             OR      R2,R0                                                   ;
19222 000037F6 2008              6196             TST     R0,R0                                                   ;
19223                            6197             TST_BIT_ON POS_PLS_OUTDAT_080                                   ;
19224 000037F8 8B0C                   M           BF      POS_PLS_OUTDAT_080
19225 000037FA 2CCA              6198             XOR     R12,R12                                                 ;位置決めLSIには設
                                          定済み
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   237
PROGRAM NAME =

19226                            6199             M_BRA   POS_PLS_OUTDAT_300                                      ;
19227 000037FC A027                   M           BRA     POS_PLS_OUTDAT_300
19228 000037FE 0009                   M           NOP
19229                            6200     
19230                                     ***** BEGIN-POOL *****
19231 00003800 00000000                   DATA FOR SOURCE-LINE 6173
19232 00003804 00000000                   DATA FOR SOURCE-LINE 6175
19233 00003808 00FFFFFF                   DATA FOR SOURCE-LINE 6178
19234 0000380C 00000000                   DATA FOR SOURCE-LINE 6182
19235 00003810 00000000                   DATA FOR SOURCE-LINE 6191
19236                                     ***** END-POOL *****
19237 00003814                   6201     POS_PLS_OUTDAT_080:                                                     ;
19238                            6202             PUSH_REG1       R1
19239 00003814 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19240                                 M                                           ;REG=>[SP]
19241                                 M                                           ;"-4" FF,FF,FF,FC
19242 00003816 4111              6203             CMP/PZ  R1                                                      ;
19243 00003818 8905              6204             BT      POS_PLS_OUTDAT_100                                      ;
19244                            6205             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R3                              ;|R1,R2|
19245 0000381A 6227                   M           NOT     R2,R2                           ;
19246 0000381C 6117                   M           NOT     R1,R1                           ;
19247 0000381E 233A                   M           XOR     R3,R3                           ;
19248 00003820 0018                   M           SETT
19249 00003822 323E                   M           ADDC    R3,R2                           ;0+1+R2
19250 00003824 313E                   M           ADDC    R3,R1                           ;
19251 00003826                   6206     POS_PLS_OUTDAT_100:                                                     ;
19252 00003826 2118              6207             TST     R1,R1                                                   ;
19253                            6208             TST_BIT_ON POS_PLS_OUTDAT_200                                   ;引いてOK
19254 00003828 8B02                   M           BF      POS_PLS_OUTDAT_200
19255 0000382A 32C7              6209             CMP/GT  R12,R2                                                  ;引いてOK
19256 0000382C 8900              6210             BT      POS_PLS_OUTDAT_200                                      ;
19257 0000382E 6C23              6211             MOV     R2,R12                                                  ;R12(R2)だけ引いて
                                          OK
19258 00003830                   6212     POS_PLS_OUTDAT_200:                                                     ;(引く量の決定)
19259 00003830 200A              6213             XOR     R0,R0                                                   ;
19260                            6214             SUB8B DT_REGH=R0,DT_REGL=R12,DT_ANS_REGH=R1,DT_ANS_REGL=R2      ;
19261 00003832 0008                   M           CLRT
19262 00003834 32CA                   M           SUBC    R12,R2
19263 00003836 310A                   M           SUBC    R0,R1
19264                            6215             POP_REG1 R0
19265                                 M                                   ; RE"+4" 00,00,00,04
19266 00003838 60F6                   M           MOV.L   @R15+,R0        ;
19267 0000383A 4011              6216             CMP/PZ  R0
19268 0000383C 8905              6217             BT      POS_PLS_OUTDAT_250                                      ;
19269                            6218             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R3                              ;
19270 0000383E 6227                   M           NOT     R2,R2                           ;
19271 00003840 6117                   M           NOT     R1,R1                           ;
19272 00003842 233A                   M           XOR     R3,R3                           ;
19273 00003844 0018                   M           SETT
19274 00003846 323E                   M           ADDC    R3,R2                           ;0+1+R2
19275 00003848 313E                   M           ADDC    R3,R1                           ;
19276 0000384A                   6219     POS_PLS_OUTDAT_250:                                                     ;
19277 0000384A 2712              6220             MOV.L   R1,@R7                                                  ;
19278 0000384C 1721              6221             MOV.L   R2,@(4,R7)                                              ;
19279                            6222     
19280                            6223     ;"R12ADD"
19281 0000384E                   6224     POS_PLS_OUTDAT_300:                                                             ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   238
PROGRAM NAME =

19282                            6225             FAR_JSR #_LOAD_REST_PLS,R0                                              ;OLD残りﾊﾟ
                                          ﾙｽ
19283 0000384E D01C                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19284 00003850 400B                   M           JSR     @R0                     ;
19285 00003852 0009                   M           NOP                                     ;
19286 00003854 6403              6226             MOV     R0,R4                                                           ;
19287 00003856 62C3              6227             MOV     R12,R2                                                          ;
19288                            6228     
19289                            6229             DEBUG_LSI_ACS_ON2_BIT BITDT=(BIT4+BIT0)                                 ;
19290                                 M   
19291                                 M           .AIF    1 EQ    0
19292                                     ;;      (波形測定時)
19293                                             PUSH_REG1 R0
19294                                             PUSH_REG1 R1
19295                                             PUSH_REG1 R2
19296                                             MOV.L   #_PDTRA,R1                      ;
19297                                             MOV.W   @R1,R0                          ;
19298                                             MOV.W   #(BIT4+BIT0),R2                 ;
19299                                             OR      R2,R0                           ;
19300                                             MOV.W   R0,@R1                          ;
19301                                     
19302                                             POP_REG1 R2
19303                                             POP_REG1 R1
19304                                             POP_REG1 R0
19305                                             .AENDI
19306                                 M   
19307                            6230             .AIF    1               EQ      1       ;YES:WR WAIT 4CLK(NO 3CLK) 2004-02-19
19308                            6231 C           POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R6,DAT_REG=R2           ;製品
19309                                 M           PUSH_REG1 R6
19310 00003858 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
19311                                 M                                           ;REG=>[SP]
19312                                 M                                           ;"-4" FF,FF,FF,FC
19313                                 M           PUSH_REG1 R2
19314 0000385A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
19315                                 M                                           ;REG=>[SP]
19316                                 M                                           ;"-4" FF,FF,FF,FC
19317                                 M           POS_LSI_WORD_DUM_LOD                                    ;
19318                                 M           PUSH_REG1 R0
19319 0000385C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19320                                 M                                           ;REG=>[SP]
19321                                 M                                           ;"-4" FF,FF,FF,FC
19322 0000385E D019                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
19323 00003860 6001                   M           MOV.W   @R0,R0
19324                                 M           POP_REG1 R0
19325                                 M                                   ; RE"+4" 00,00,00,04
19326 00003862 60F6                   M           MOV.L   @R15+,R0        ;
19327 00003864 D618                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R6                ;
19328 00003866 2621                   M           MOV.W   R2,@R6                          ;(LOW)
19329 00003868 7602                   M           ADD     #2,R6                                   ;
19330 0000386A 6229                   M           SWAP.W  R2,R2                           ;
19331                                 M           POS_LSI_WORD_DUM_LOD                                    ;
19332                                 M           PUSH_REG1 R0
19333 0000386C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19334                                 M                                           ;REG=>[SP]
19335                                 M                                           ;"-4" FF,FF,FF,FC
19336 0000386E D015                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
19337 00003870 6001                   M           MOV.W   @R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   239
PROGRAM NAME =

19338                                 M           POP_REG1 R0
19339                                 M                                   ; RE"+4" 00,00,00,04
19340 00003872 60F6                   M           MOV.L   @R15+,R0        ;
19341 00003874 2621                   M           MOV.W   R2,@R6                          ;(HIGH)
19342                                 M           POS_LSI_WORD_DUM_LOD                                    ;
19343                                 M           PUSH_REG1 R0
19344 00003876 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19345                                 M                                           ;REG=>[SP]
19346                                 M                                           ;"-4" FF,FF,FF,FC
19347 00003878 D012                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
19348 0000387A 6001                   M           MOV.W   @R0,R0
19349                                 M           POP_REG1 R0
19350                                 M                                   ; RE"+4" 00,00,00,04
19351 0000387C 60F6                   M           MOV.L   @R15+,R0        ;
19352                                 M           POP_REG1 R2
19353                                 M                                   ; RE"+4" 00,00,00,04
19354 0000387E 62F6                   M           MOV.L   @R15+,R2        ;
19355                                 M           POP_REG1 R6
19356                                 M                                   ; RE"+4" 00,00,00,04
19357 00003880 66F6                   M           MOV.L   @R15+,R6        ;
19358                            6232             .AELSE
19359                            6233     
19360                            6234     ;       ===== 異常を発生させるよう ======
19361                            6235             PUSH_REG1 R0                                                    ;
19362                            6236             PUSH_REG1 R12                                                   ;
19363                            6237             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R0                ;R/W
19364                            6238             SWAP.W  R12,R12                                                 ;
19365                            6239             MOV.L   R12,@R0                                                 ;
19366                            6240             POP_REG1 R12                                                    ;
19367                            6241             POP_REG1 R0                                                     ;
19368                            6242             .AENDI
19369                            6243     
19370                            6244             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT0
19371                                 M   
19372                                 M           .AIF    1 EQ    0
19373                                     ;;      (波形測定時)
19374                                             PUSH_REG1 R0
19375                                             PUSH_REG1 R1
19376                                             PUSH_REG1 R2
19377                                             MOV.L   #_PDTRA,R1                      ;
19378                                             MOV.W   @R1,R0                          ;
19379                                             MOV.W   #LWORD ~BIT0,R2         ;
19380                                             AND     R2,R0                           ;
19381                                             MOV.W   R0,@R1                          ;
19382                                             POP_REG1 R2
19383                                             POP_REG1 R1
19384                                             POP_REG1 R0
19385                                             .AENDI
19386                                 M   
19387                            6245     
19388                            6246             FAR_JSR #_LOAD_REST_PLS,R0                                              ;NEW残りﾊﾟ
                                          ﾙｽ
19389 00003882 D00F                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19390 00003884 400B                   M           JSR     @R0                     ;
19391 00003886 0009                   M           NOP                                     ;
19392 00003888 D110              6247             MOV.L   #_NEW_POSLSI_RESTPLS,R1                                         ;
19393 0000388A 2102              6248             MOV.L   R0,@R1                                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   240
PROGRAM NAME =

19394                            6249     
19395                            6250             eSHi_SET_REG_MOV DST=_SH2_REST_PLS_RL,L1=L,SETREG=R0,WKREG1=R1          ;
19396                                 M           PUSH_REG1 R1            ;
19397 0000388C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19398                                 M                                           ;REG=>[SP]
19399                                 M                                           ;"-4" FF,FF,FF,FC
19400 0000388E D110                   M           MOV.L   #_SH2_REST_PLS_RL,R1            ;
19401 00003890 2102                   M           MOV.L   R0,@R1  ;
19402                                 M           POP_REG1 R1             ;
19403                                 M                                   ; RE"+4" 00,00,00,04
19404 00003892 61F6                   M           MOV.L   @R15+,R1        ;
19405                            6251     
19406                            6252     
19407                            6253     ;       基本的には
19408                            6254     ;       OLD+SV=NEW
19409                            6255     
19410 00003894 34CC              6256             ADD     R12,R4                                                  ;
19411 00003896 6343              6257             MOV     R4,R3                                                   ;
19412 00003898 9110              6258             MOV.W   #D'500,R1                                               ;200usec(100pls)　
                                          受信割込有り
19413 0000389A 341C              6259             ADD     R1,R4                                                   ;OLD+SV+500<NEW
19414 0000389C 3046              6260             CMP/HI  R4,R0                                                   ;OLD+SV+500<NEW
19415 0000389E 891B              6261             BT      POS_PLS_OUTDAT_320_ERR1                                 ;
19416                            6262     
19417 000038A0 6433              6263             MOV     R3,R4                                                   ;
19418 000038A2 910B              6264             MOV.W   #D'500,R1                                               ;200usec(100pls)
19419 000038A4 3418              6265             SUB     R1,R4                                                   ;
19420 000038A6 4411              6266             CMP/PZ  R4                                                      ;
19421 000038A8 8900              6267             BT      POS_PLS_OUTDAT_320_ECK10                                ;
19422 000038AA 244A              6268             XOR     R4,R4                                                   ;
19423 000038AC                   6269     POS_PLS_OUTDAT_320_ECK10:                                               ;
19424 000038AC 3042              6270             CMP/HS  R4,R0
19425 000038AE 891B              6271             BT      POS_PLS_OUTDAT_320_END                                  ;R4 =< R0 OK
19426                            6272     ;       === 設定したﾊﾟﾙｽ+OLD残ﾊﾟﾙｽ-200 ≧残ﾊﾟﾙｽなら異常(2)      ===
19427                            6273             TIM_CNT_ADD MEM=_LSI_PLSSET_NG_CNT2,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;
19428 000038B0 D108                   M           MOV.L   #_LSI_PLSSET_NG_CNT2,R1         ;
19429 000038B2 6012                   M           MOV.L   @R1,R0  ;
19430 000038B4 7001                   M           ADD     #1,R0           ;
19431 000038B6 2102                   M           MOV.L   R0,@R1  ;
19432                            6274     ;;;;;   MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT3+BIT0),WKREG=R1
                                          ;
19433                            6275             M_BRA   POS_PLS_OUTDAT_320_EXT
                                          ;
19434 000038B8 A01A                   M           BRA     POS_PLS_OUTDAT_320_EXT
19435 000038BA 0009                   M           NOP
19436                            6276     
19437                                     ***** BEGIN-POOL *****
19438 000038BC 01F4                       DATA FOR SOURCE-LINE 6258,6264
19439 000038BE 0000                       ALIGNMENT CODE
19440 000038C0 00000000                   DATA FOR SOURCE-LINE 6225,6246
19441 000038C4 00000000                   DATA FOR SOURCE-LINE 6231,6231,6231
19442 000038C8 00000000                   DATA FOR SOURCE-LINE 6231
19443 000038CC 00000000                   DATA FOR SOURCE-LINE 6247
19444 000038D0 00000000                   DATA FOR SOURCE-LINE 6250
19445 000038D4 00000000                   DATA FOR SOURCE-LINE 6273
19446                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   241
PROGRAM NAME =

19447 000038D8                   6277     POS_PLS_OUTDAT_320_ERR1:
                                          ;
19448                            6278     ;       === 設定したﾊﾟﾙｽ+OLD残ﾊﾟﾙｽ≦残ﾊﾟﾙｽなら異常(1)   === 500KHZ 200usec=100pls
                                          ;
19449                            6279             TIM_CNT_ADD MEM=_LSI_PLSSET_NG_CNT3,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1
                                          ;ここだとﾘﾄﾗｲできない
19450 000038D8 D102                   M           MOV.L   #_LSI_PLSSET_NG_CNT3,R1         ;
19451 000038DA 6012                   M           MOV.L   @R1,R0  ;
19452 000038DC 7001                   M           ADD     #1,R0           ;
19453 000038DE 2102                   M           MOV.L   R0,@R1  ;
19454                            6280     ;;;;;   MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT4+BIT0),WKREG=R1
                                          ;
19455                            6281             M_BRA   POS_PLS_OUTDAT_320_EXT
                                          ;
19456 000038E0 A006                   M           BRA     POS_PLS_OUTDAT_320_EXT
19457 000038E2 0009                   M           NOP
19458                            6282     
19459                                     ***** BEGIN-POOL *****
19460 000038E4 00000000                   DATA FOR SOURCE-LINE 6279
19461                                     ***** END-POOL *****
19462 000038E8                   6283     POS_PLS_OUTDAT_320_END:                                                                 ;
19463                            6284             TIM_CNT_ADD MEM=_LSI_PLSSET_AC_CNT2,LG=L,ADR_REG=R1,DAT_REG=R0,LATE=1           ;
19464 000038E8 D10C                   M           MOV.L   #_LSI_PLSSET_AC_CNT2,R1         ;
19465 000038EA 6012                   M           MOV.L   @R1,R0  ;
19466 000038EC 7001                   M           ADD     #1,R0           ;
19467 000038EE 2102                   M           MOV.L   R0,@R1  ;
19468 000038F0                   6285     POS_PLS_OUTDAT_320_EXT:                                                                 ;
19469                            6286     
19470                            6287     
19471                            6288     
19472                            6289             eSHi_SET_MEM_MOV SRC=_INT_POS_CTL_STEP,L1=W,DST=_SH2_LOT_STEP_A,L2=W
19473                                 M           PUSH_REG1 R0
19474 000038F0 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
19475                                 M                                           ;REG=>[SP]
19476                                 M                                           ;"-4" FF,FF,FF,FC
19477                                 M           PUSH_REG1 R1
19478 000038F2 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
19479                                 M                                           ;REG=>[SP]
19480                                 M                                           ;"-4" FF,FF,FF,FC
19481 000038F4 D10A                   M           MOV.L   #_INT_POS_CTL_STEP,R1   ;
19482 000038F6 6011                   M           MOV.W   @R1,R0          ;
19483 000038F8 D10A                   M           MOV.L   #_SH2_LOT_STEP_A,R1     ;
19484 000038FA 2101                   M           MOV.W   R0,@R1          ;
19485                                 M           POP_REG1 R1
19486                                 M                                   ; RE"+4" 00,00,00,04
19487 000038FC 61F6                   M           MOV.L   @R15+,R1        ;
19488                                 M           POP_REG1 R0
19489                                 M                                   ; RE"+4" 00,00,00,04
19490 000038FE 60F6                   M           MOV.L   @R15+,R0        ;
19491                            6290     
19492                            6291     
19493                            6292     ;       ======== ものは試し====
19494 00003900 255A              6293             XOR     R5,R5
19495 00003902 D109              6294             MOV.L   #_POSLSI_DRIV_SHIN,R1
19496 00003904 6011              6295             MOV.W   @R1,R0                                                  ;
19497 00003906 C801              6296             TST     #BIT0,R0
19498                            6297             TST_BIT_OF POS_PLS_OUTDAT_400                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   242
PROGRAM NAME =

19499 00003908 8905                   M           BT      POS_PLS_OUTDAT_400
19500                            6298             NEG1_64 H_REG=R5,L_REG=R13,WKREG=R3                             ;
19501 0000390A 6DD7                   M           NOT     R13,R13                         ;
19502 0000390C 6557                   M           NOT     R5,R5                           ;
19503 0000390E 233A                   M           XOR     R3,R3                           ;
19504 00003910 0018                   M           SETT
19505 00003912 3D3E                   M           ADDC    R3,R13                          ;0+1+R2
19506 00003914 353E                   M           ADDC    R3,R5                           ;
19507 00003916                   6299     POS_PLS_OUTDAT_400:                                                     ;
19508                            6300     
19509                            6301     
19510                            6302             SUB_END
19511                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19512 00003916 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19513                            6303             M_RTS
19514 00003918 000B                   M           RTS                             ;RTSの後ろの
19515 0000391A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19516                            6304     
19517                            6305     
19518                            6306     ;       ***********************************
19519                            6307     ;       ***                             ***
19520                            6308     ;       ***     連続開始                ***
19521                            6309     ;       ***                             ***
19522                            6310     ;       ***********************************
19523                            6311     ;       安全一工程、連続、オプション
19524                            6312     ;       寸動と
19525                            6313     
19526                                     ***** BEGIN-POOL *****
19527 0000391C 00000000                   DATA FOR SOURCE-LINE 6284
19528 00003920 00000000                   DATA FOR SOURCE-LINE 6289
19529 00003924 00000000                   DATA FOR SOURCE-LINE 6289
19530 00003928 00000000                   DATA FOR SOURCE-LINE 6294
19531                                     ***** END-POOL *****
19532 0000392C                   6314             .ALIGN  4                               ;
19533 0000392C                   6315     _MOTION_CYCLE_START:
19534                            6316             SUB_START
19535 0000392C 4F22                   M           STS.L   PR,@-R15                ;[必要]
19536                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19537                            6317     ;;      MOV.L   #_MODE_SEL,R1                   ;
19538                            6318     ;;      MOV.W   @R1,R0                          ;
19539                            6319     ;;      TST     #_W1CNT,R0                      ;
19540                            6320     ;;      TST_BIT_OF MOTION_CYC_ST100             ;
19541                            6321     ;;      FAR_JSR #_CYCLE_TIME_REFLASH_START,R0   ;
19542                            6322     ;;MOTION_CYC_ST100:                             ;
19543                            6323     
19544                            6324     
19545                            6325             FAR_JSR #_DAI_MOSTPOS_SMPINI,R0         ;2003-02-03
19546 0000392E D00D                   M           MOV.L   #_DAI_MOSTPOS_SMPINI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19547 00003930 400B                   M           JSR     @R0                     ;
19548 00003932 0009                   M           NOP                                     ;
19549                            6326             FAR_JSR #_KJPHOS_SMPINI,R0              ;2004-07-05
19550 00003934 D00C                   M           MOV.L   #_KJPHOS_SMPINI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19551 00003936 400B                   M           JSR     @R0                     ;
19552 00003938 0009                   M           NOP                                     ;
19553                            6327     
19554 0000393A D10C              6328             MOV.L   #_MODE_SEL,R1                   ;
19555 0000393C 6011              6329             MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   243
PROGRAM NAME =

19556 0000393E C81E              6330             TST     #_W1CNT+_W1SGL+_W1INC+_W1OPT,R0 ;
19557                            6331             TST_BIT_OF MOTION_CYC_ST200             ;
19558 00003940 8909                   M           BT      MOTION_CYC_ST200
19559                            6332     
19560 00003942 D10B              6333             MOV.L   #_CPOS_CTL_MATH,R1              ;
19561 00003944 6011              6334             MOV.W   @R1,R0                          ;
19562                            6335     ;;2009-10-07    TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
19563 00003946 C805              6336             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;2009-10-07_DMATH_CNTROT,R0
                                          ;2002-09-01 回転?
19564                            6337             TST_BIT_OF DAI_CHK01_100
19565 00003948 8902                   M           BT      DAI_CHK01_100
19566                            6338     
19567                            6339     ;;;2003-02-03   FAR_JSR #_DAI_MOSTPOS_SMPINI,R0         ;
19568                            6340             FAR_JSR #_DAI_FULL_SCALE_SMP_INI,R0     ;2003-02-03
19569 0000394A D00A                   M           MOV.L   #_DAI_FULL_SCALE_SMP_INI,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19570 0000394C 400B                   M           JSR     @R0                     ;
19571 0000394E 0009                   M           NOP                                     ;
19572                            6341     
19573 00003950                   6342     DAI_CHK01_100
19574                            6343     
19575                            6344             FAR_JSR #_CYCLE_TIME_REFLASH_START,R0   ;
19576 00003950 D009                   M           MOV.L   #_CYCLE_TIME_REFLASH_START,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19577 00003952 400B                   M           JSR     @R0                     ;
19578 00003954 0009                   M           NOP                                     ;
19579                            6345     
19580 00003956                   6346     MOTION_CYC_ST200:                               ;
19581                            6347     
19582                            6348             FAR_JSR #_MOST_DISP_DAT_INI,R0
19583 00003956 D009                   M           MOV.L   #_MOST_DISP_DAT_INI,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19584 00003958 400B                   M           JSR     @R0                     ;
19585 0000395A 0009                   M           NOP                                     ;
19586                            6349     
19587                            6350     ;       ----------------------------------------
19588                            6351             .AIF    1 EQ    0
19589                            6352             FAR_JSR #_API_IVW_CYC_START,R0                  ;2010-09-21電力測定ﾀｲﾐﾝｸﾞ
19590                            6353     ;;;;;2012-10-19 削除    FAR_JSR #_OVERH_CYC_START,R0                    ;2012-09-25
19591                            6354             .AENDI
19592                            6355     
19593                            6356             SUB_END
19594                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19595 0000395C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19596                            6357             M_RTS
19597 0000395E 000B                   M           RTS                             ;RTSの後ろの
19598 00003960 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19599                            6358     
19600                            6359     ;
19601                            6360     ;       止まる時に１回通る/止まらないときも
19602                            6361     
19603                                     ***** BEGIN-POOL *****
19604 00003962 0000                       ALIGNMENT CODE
19605 00003964 00000000                   DATA FOR SOURCE-LINE 6325
19606 00003968 00000000                   DATA FOR SOURCE-LINE 6326
19607 0000396C 00000000                   DATA FOR SOURCE-LINE 6328
19608 00003970 00000000                   DATA FOR SOURCE-LINE 6333
19609 00003974 00000000                   DATA FOR SOURCE-LINE 6340
19610 00003978 00000000                   DATA FOR SOURCE-LINE 6344
19611 0000397C 00000000                   DATA FOR SOURCE-LINE 6348
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   244
PROGRAM NAME =

19612                                     ***** END-POOL *****
19613 00003980                   6362             .ALIGN  4                               ;
19614 00003980                   6363     _MOTION_CYCLE_END:
19615                            6364             SUB_START
19616 00003980 4F22                   M           STS.L   PR,@-R15                ;[必要]
19617                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19618                            6365     ;       ======= 描画用 ====
19619                            6366             MEM1_BIT0_TO_BIT7_ORSET MEM=_DISP_RE_VIEW_FLG,LG=W,BIT=BIT0,WKREG=R1    ;
19620 00003982 D10E                   M           MOV.L   #_DISP_RE_VIEW_FLG,R1           ;
19621 00003984 6011                   M           MOV.W   @R1,R0          ;
19622 00003986 CB01                   M           OR      #BIT0,R0                ;
19623 00003988 2101                   M           MOV.W   R0,@R1          ;
19624                            6367     ;;;;    FAR_JSR #_LOT_SIG_SET,R0                                                ;
19625                            6368     ;;;;    FAR_JSR #_LOT_SIG_FLG_CLR,R0                                            ;
19626                            6369             FAR_JSR #_CYCLE_TIME_REFLASH_END,R0                                     ;
19627 0000398A D00D                   M           MOV.L   #_CYCLE_TIME_REFLASH_END,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19628 0000398C 400B                   M           JSR     @R0                     ;
19629 0000398E 0009                   M           NOP                                     ;
19630                            6370     
19631                            6371     ;       ============================================
19632 00003990 D10C              6372             MOV.L   #_CPOS_CTL_MATH,R1              ;
19633 00003992 6011              6373             MOV.W   @R1,R0                          ;
19634                            6374     ;;[20091007下振子]      TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
19635 00003994 C805              6375             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;2009-10-0_7DMATH_CNTROT,R0
                                          ;2002-09-01 回転?
19636                            6376             TST_BIT_OF DAI_CHK03_300
19637 00003996 8908                   M           BT      DAI_CHK03_300
19638                            6377     
19639                            6378             FAR_JSR #_DAI_FULL_SCALE_SMP_END,R0     ;2003-02-03
19640 00003998 D00B                   M           MOV.L   #_DAI_FULL_SCALE_SMP_END,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19641 0000399A 400B                   M           JSR     @R0                     ;
19642 0000399C 0009                   M           NOP                                     ;
19643                            6379             FAR_JSR #_DAI_MOSTPOS_CMPARE,R0         ;
19644 0000399E D00B                   M           MOV.L   #_DAI_MOSTPOS_CMPARE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19645 000039A0 400B                   M           JSR     @R0                     ;
19646 000039A2 0009                   M           NOP                                     ;
19647                            6380     
19648                            6381             FAR_JSR #_KJPHOS_SMPLING_END1,R0        ;2004-07-05
19649 000039A4 D00A                   M           MOV.L   #_KJPHOS_SMPLING_END1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19650 000039A6 400B                   M           JSR     @R0                     ;
19651 000039A8 0009                   M           NOP                                     ;
19652                            6382     
19653 000039AA                   6383     DAI_CHK03_300:
19654                            6384     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT4,R0
19655                            6385     
19656                            6386             .AIF    1 EQ    0
19657                            6387             .IMPORT _TRD_SIG_SET
19658                            6388             FAR_JSR #_TRD_SIG_SET,R0                        ;2006-11-20
19659                            6389             .AENDI
19660                            6390     
19661                            6391              .AIF   1 EQ 1  ;
19662                            6392 C   ;       -------- 2016-10-31 ADD 二重回路対策
19663                            6393              .AENDI
19664                            6394     ;;;;2016-10-31  FAR_JSR #_DNM_CYCLE_END,R0      ;
19665                            6395     
19666                            6396     ;       ------------- 2007-12-12 ---------------
19667                            6397             FAR_JSR #_CYCL_DOWN_POS_REF,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   245
PROGRAM NAME =

19668 000039AA D00A                   M           MOV.L   #_CYCL_DOWN_POS_REF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19669 000039AC 400B                   M           JSR     @R0                     ;
19670 000039AE 0009                   M           NOP                                     ;
19671                            6398     
19672                            6399     
19673                            6400             .AIF    1 EQ    0
19674                            6401             FAR_JSR #_OVERH_CYC_END,R0                      ;2012-09-25
19675                            6402             .AENDI
19676                            6403     
19677                            6404     ;       ----------- 2014-09-20-----------
19678                            6405             FAR_JSR #_MOT_REP_CLR,R0
19679 000039B0 D009                   M           MOV.L   #_MOT_REP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
19680 000039B2 400B                   M           JSR     @R0                     ;
19681 000039B4 0009                   M           NOP                                     ;
19682                            6406     
19683                            6407             SUB_END
19684                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19685 000039B6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19686                            6408             M_RTS
19687 000039B8 000B                   M           RTS                             ;RTSの後ろの
19688 000039BA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19689                            6409     
19690                            6410     
19691                            6411     ;       *******************************************
19692                            6412     ;       ***             2007-12-12              ***
19693                            6413     ;       *******************************************
19694                                     ***** BEGIN-POOL *****
19695 000039BC 00000000                   DATA FOR SOURCE-LINE 6366
19696 000039C0 00000000                   DATA FOR SOURCE-LINE 6369
19697 000039C4 00000000                   DATA FOR SOURCE-LINE 6372
19698 000039C8 00000000                   DATA FOR SOURCE-LINE 6378
19699 000039CC 00000000                   DATA FOR SOURCE-LINE 6379
19700 000039D0 00000000                   DATA FOR SOURCE-LINE 6381
19701 000039D4 00000000                   DATA FOR SOURCE-LINE 6397
19702 000039D8 00000000                   DATA FOR SOURCE-LINE 6405
19703                                     ***** END-POOL *****
19704 000039DC                   6414             .ALIGN  4                               ;
19705 000039DC                   6415     _CYCL_DOWN_POS_REF:
19706                            6416             SUB_START
19707 000039DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
19708                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19709                            6417     ;;      MOV.L   #_CLS_RNA_MOST_DOWN_POS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
19710                            6418     ;;      MOV.L   @R1,R0                          ;
19711 000039DE D103              6419             MOV.L   #_SHOT_MOST_DOWN_POSWK,R1       ;
19712 000039E0 6012              6420             MOV.L   @R1,R0                          ;
19713 000039E2 D103              6421             MOV.L   #_SHOT_MOST_DOWN_POS,R1
19714 000039E4 2102              6422             MOV.L   R0,@R1                          ;
19715                            6423             SUB_END
19716                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19717 000039E6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19718                            6424             M_RTS
19719 000039E8 000B                   M           RTS                             ;RTSの後ろの
19720 000039EA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19721                            6425     
19722                            6426     ;       *******************************************
19723                            6427     ;       ***     どのﾓｰﾄﾞでも1回しかこない       ***
19724                            6428     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   246
PROGRAM NAME =

19725                            6429     ;       止まるとき（安全一、連続停止時２回通る）
19726                            6430     ;
19727                                     ***** BEGIN-POOL *****
19728 000039EC 00000000                   DATA FOR SOURCE-LINE 6419
19729 000039F0 00000000                   DATA FOR SOURCE-LINE 6421
19730                                     ***** END-POOL *****
19731 000039F4                   6431             .ALIGN  4                               ;
19732 000039F4                   6432     _MOTION_CYCLE_ED2:
19733                            6433             SUB_START
19734 000039F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
19735                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19736                            6434     
19737                            6435     ;       ==========================
19738 000039F6 D104              6436             MOV.L   #_CYCL_DSP_CNT_PV,R1    ;//非表示ｶｳﾝﾀ 2->1->0(表示)
19739 000039F8 6011              6437             MOV.W   @R1,R0                  ;
19740 000039FA 2008              6438             TST     R0,R0                   ;
19741                            6439             TST_BIT_OF MOTCYC_ED2_050       ;
19742 000039FC 8901                   M           BT      MOTCYC_ED2_050
19743 000039FE 70FF              6440             ADD     #-1,R0                  ;
19744 00003A00 2101              6441             MOV.W   R0,@R1                  ;
19745 00003A02                   6442     MOTCYC_ED2_050:
19746                            6443     
19747                            6444     ;;;2016-10-31   FAR_JSR #_DBG_END_CNT5,R0
19748                            6445     
19749                            6446             SUB_END
19750                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19751 00003A02 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19752                            6447             M_RTS
19753 00003A04 000B                   M           RTS                             ;RTSの後ろの
19754 00003A06 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19755                            6448     
19756                                     ***** BEGIN-POOL *****
19757 00003A08 00000000                   DATA FOR SOURCE-LINE 6436
19758                                     ***** END-POOL *****
19759 00003A0C                   6449             .ALIGN  4                               ;
19760                            6450     ;;;2016-10-31
19761                            6451     ;;;;_DBG_END_CNT1:
19762                            6452     ;;;;    SUB_START
19763                            6453     ;;;;    .AIF    1 EQ    0
19764                            6454     ;;;;    MOV.L   #_PVP_A_LOT_CNT1,R1
19765                            6455     ;;;;    .AELSE
19766                            6456     ;;;;    MOV.L   #_PVP_B_LOT_CNT1,R1
19767                            6457     ;;;;    .AENDI
19768                            6458     ;;;;    MOV.W   @R1,R0
19769                            6459     ;;;;    ADD     #1,R0
19770                            6460     ;;;;    MOV.W   R0,@R1  ;
19771                            6461     ;;;;    SUB_END
19772                            6462     ;;;;    M_RTS
19773                            6463     ;;;;
19774                            6464     ;;;;    .ALIGN  4                               ;
19775                            6465     ;;;;_DBG_END_CNT2:
19776                            6466     ;;;;    SUB_START
19777                            6467     ;;;;    .AIF    1 EQ    0
19778                            6468     ;;;;    MOV.L   #_PVP_A_LOT_CNT2,R1
19779                            6469     ;;;;    .AELSE
19780                            6470     ;;;;    MOV.L   #_PVP_B_LOT_CNT2,R1
19781                            6471     ;;;;    .AENDI
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   247
PROGRAM NAME =

19782                            6472     ;;;;    MOV.W   @R1,R0
19783                            6473     ;;;;    ADD     #1,R0
19784                            6474     ;;;;    MOV.W   R0,@R1  ;
19785                            6475     ;;;;    SUB_END
19786                            6476     ;;;;    M_RTS
19787                            6477     ;;;;
19788                            6478     ;;;;_DBG_END_CNT3:
19789                            6479     ;;;;    SUB_START
19790                            6480     ;;;;    .AIF    1 EQ    0
19791                            6481     ;;;;    MOV.L   #_PVP_A_LOT_CNT3,R1
19792                            6482     ;;;;    .AELSE
19793                            6483     ;;;;    MOV.L   #_PVP_B_LOT_CNT3,R1
19794                            6484     ;;;;    .AENDI
19795                            6485     ;;;;    MOV.W   @R1,R0
19796                            6486     ;;;;    ADD     #1,R0
19797                            6487     ;;;;    MOV.W   R0,@R1  ;
19798                            6488     ;;;;    SUB_END
19799                            6489     ;;;;    M_RTS
19800                            6490     ;;;;
19801                            6491     ;;;;_DBG_END_CNT4:
19802                            6492     ;;;;    SUB_START
19803                            6493     ;;;;    .AIF    1 EQ    0
19804                            6494     ;;;;    MOV.L   #_PVP_A_LOT_CNT4,R1
19805                            6495     ;;;;    .AELSE
19806                            6496     ;;;;    MOV.L   #_PVP_B_LOT_CNT4,R1
19807                            6497     ;;;;    .AENDI
19808                            6498     ;;;;    MOV.W   @R1,R0
19809                            6499     ;;;;    ADD     #1,R0
19810                            6500     ;;;;    MOV.W   R0,@R1  ;
19811                            6501     ;;;;    SUB_END
19812                            6502     ;;;;    M_RTS
19813                            6503     ;;;;
19814                            6504     ;;;;_DBG_END_CNT5:
19815                            6505     ;;;;    SUB_START
19816                            6506     ;;;;    .AIF    1 EQ    0
19817                            6507     ;;;;    MOV.L   #_PVP_A_LOT_CNT5,R1
19818                            6508     ;;;;    .AELSE
19819                            6509     ;;;;    MOV.L   #_PVP_B_LOT_CNT5,R1
19820                            6510     ;;;;    MOV.W   @R1,R0
19821                            6511     ;;;;    ADD     #1,R0
19822                            6512     ;;;;    MOV.W   R0,@R1  ;
19823                            6513     ;;;;    .AENDI
19824                            6514     ;;;;    SUB_END
19825                            6515     ;;;;    M_RTS
19826                            6516     ;;;;
19827                            6517     
19828                            6518     
19829                            6519     
19830                            6520     
19831                            6521     ;       ***********************************
19832                            6522     ;       ***     200usec --> 2msec       ***
19833                            6523     ;       ***********************************
19834                            6524     
19835                            6525     ;       ***********************************
19836                            6526     ;       ***     200usec --> 2msec       ***
19837                            6527     ;       ***********************************
19838 00003A0C                   6528             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   248
PROGRAM NAME =

19839 00003A0C                   6529     _INT_POS_DATA_REF:
19840                            6530             SUB_START
19841 00003A0C 4F22                   M           STS.L   PR,@-R15                ;[必要]
19842                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19843                            6531             SUB_END
19844                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19845 00003A0E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19846                            6532             M_RTS
19847 00003A10 000B                   M           RTS                             ;RTSの後ろの
19848 00003A12 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19849                            6533     
19850                            6534     
19851                            6535     ;       ***********************************
19852                            6536     ;       ***     払い出しカウント        ***
19853                            6537     ;       ***********************************
19854                            6538             .EXPORT _OUT_UP_DN_TOTAL_CNT
19855 00003A14                   6539             .ALIGN  4                               ;
19856 00003A14                   6540     _OUT_UP_DN_TOTAL_CNT:
19857                            6541             SUB_START
19858 00003A14 4F22                   M           STS.L   PR,@-R15                ;[必要]
19859                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
19860                            6542     
19861                            6543     ;;;;;   いらない
19862                            6544     ;;;;;   -2013-04-14 [１段目停止位置＝２段目停止位置などでﾘｱﾙと払出完了のﾀｲﾐﾝｸﾞ用]---------
19863                            6545     ;;;;;   FAR_JSR #_LOD_POS_STS_REG_POR,R0        ;
19864                            6546     ;;;;;   MOV.L   #_PLS_OUT_END_STS,R1            ;
19865                            6547     ;;;;;;  MOV.W   R0,@R1                          ;BIT2=1 ﾊﾟﾙｽ出力完了
19866                            6548     ;       ----------------------------------------------------
19867                            6549     
19868                            6550     
19869                            6551     
19870                            6552     
19871                            6553     
19872                            6554     
19873                            6555     
19874                            6556     
19875                            6557     
19876 00003A16 D621              6558             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutcntPS,R6                ;R/W 指令ﾊﾟﾙｽｶｳﾝﾀ(
                                          残ﾊﾟﾙｽではない)
19877 00003A18 6061              6559             MOV.W   @R6,R0                                                  ;+/-に関わらず+す
                                          るｶｳﾝﾀ
19878                            6560     
19879                            6561     ;       -----------------2007-11-26 前回と同じならもう一度読み込みを行う----------------
19880 00003A1A D421              6562             MOV.L   #_CHK_LSI_LOAD_OUT_CNT,R4                               ;
19881 00003A1C 6141              6563             MOV.W   @R4,R1
19882 00003A1E 2401              6564             MOV.W   R0,@R4
19883 00003A20 3100              6565             CMP/EQ  R0,R1
19884 00003A22 8B01              6566             BF      OUTPLS_CNT_CHK010                                       ;
19885 00003A24 D61D              6567             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutcntPS,R6                ;
19886 00003A26 6061              6568             MOV.W   @R6,R0                                                  ;
19887 00003A28                   6569     OUTPLS_CNT_CHK010:                                                      ;
19888                            6570     
19889                            6571     
19890                            6572     
19891 00003A28 9436              6573             MOV.W   #H'FF00,R4
19892 00003A2A 6203              6574             MOV     R0,R2
19893 00003A2C 2249              6575             AND     R4,R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   249
PROGRAM NAME =

19894                            6576     
19895 00003A2E 6161              6577             MOV.W   @R6,R1                                                  ;
19896 00003A30 2149              6578             AND     R4,R1
19897 00003A32 3210              6579             CMP/EQ  R1,R2                                                   ;桁　FFFF=>0　上位
                                          8BITが一致している
19898 00003A34 8900              6580             BT      OUTPLS_CNT_CHK020                                       ;
19899 00003A36 6061              6581             MOV.W   @R6,R0                                                  ;
19900 00003A38                   6582     OUTPLS_CNT_CHK020:                                                      ;
19901                            6583     
19902                            6584     
19903 00003A38 D11A              6585             MOV.L   #_POSLSI_CHK_CNT,R1                                     ;
19904 00003A3A 6211              6586             MOV.W   @R1,R2                                                  ;
19905 00003A3C 2101              6587             MOV.W   R0,@R1                                                  ;
19906 00003A3E 622D              6588             EXTU.W  R2,R2                                                   ;
19907 00003A40 600D              6589             EXTU.W  R0,R0                                                   ;
19908 00003A42 3028              6590             SUB     R2,R0                                                   ;
19909 00003A44 600F              6591             EXTS.W  R0,R0                                                   ;
19910 00003A46 4011              6592             CMP/PZ  R0                                                      ;
19911 00003A48 8900              6593             BT      OUTPLS_CNT_CHK050                                       ;
19912 00003A4A 600B              6594             NEG     R0,R0                                                   ;
19913 00003A4C                   6595     OUTPLS_CNT_CHK050:                                                      ;
19914 00003A4C D116              6596             MOV.L   #_POSLSI_CHK_DLT,R1                                     ;変化量 +のみ
19915 00003A4E 2101              6597             MOV.W   R0,@R1                                                  ;
19916 00003A50 D416              6598             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
19917 00003A52 6141              6599             MOV.W   @R4,R1
19918 00003A54 9321              6600             MOV.W   #BIT0,R3                                                ;
19919                            6601     
19920                            6602     
19921 00003A56 255A              6603             XOR     R5,R5                                                   ;
19922 00003A58 6603              6604             MOV     R0,R6                                                   ;
19923                            6605     
19924 00003A5A 2138              6606             TST     R3,R1                                                   ;
19925                            6607             TST_BIT_OF OUTPLS_CNT_CHK100                                    ;BIT3=0 "+"
19926 00003A5C 8903                   M           BT      OUTPLS_CNT_CHK100
19927 00003A5E 666B              6608             NEG     R6,R6                                                   ;
19928 00003A60 4611              6609             CMP/PZ  R6
19929 00003A62 8900              6610             BT      OUTPLS_CNT_CHK100                                       ;
19930 00003A64 75FF              6611             ADD     #-1,R5                                                  ;
19931 00003A66                   6612     OUTPLS_CNT_CHK100:                                                      ;
19932                            6613     
19933                            6614     ;       === 2003-07-01 1msec差分速度算出用 ==
19934 00003A66 D312              6615             MOV.L   #_OUTPLS_DELT,R3                        ;符号付
19935 00003A68 2361              6616             MOV.W   R6,@R3                                  ;
19936                            6617     
19937                            6618     ;       =====================================
19938                            6619             PUSH_REG1 R5                                                    ;異常測定用
19939 00003A6A 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
19940                                 M                                           ;REG=>[SP]
19941                                 M                                           ;"-4" FF,FF,FF,FC
19942                            6620             PUSH_REG1 R6                                                    ;
19943 00003A6C 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
19944                                 M                                           ;REG=>[SP]
19945                                 M                                           ;"-4" FF,FF,FF,FC
19946 00003A6E D311              6621             MOV.L   #_POSLSI_OUTPUT_TOTAL_PLS,R3                            ;
19947 00003A70 6132              6622             MOV.L   @R3,R1                                                  ;
19948 00003A72 5231              6623             MOV.L   @(4,R3),R2                                              ;
19949                            6624             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   250
PROGRAM NAME =

19950 00003A74 0008                   M           CLRT
19951 00003A76 326E                   M           ADDC    R6,R2
19952 00003A78 315E                   M           ADDC    R5,R1
19953 00003A7A 2312              6625             MOV.L   R1,@R3                                                  ;
19954 00003A7C 1321              6626             MOV.L   R2,@(4,R3)                                              ;
19955                            6627             POP_REG1 R6                                                     ;
19956                                 M                                   ; RE"+4" 00,00,00,04
19957 00003A7E 66F6                   M           MOV.L   @R15+,R6        ;
19958                            6628             POP_REG1 R5                                                     ;
19959                                 M                                   ; RE"+4" 00,00,00,04
19960 00003A80 65F6                   M           MOV.L   @R15+,R5        ;
19961                            6629     
19962                            6630     ;       =========       20060919 現在位置管理用 =============
19963 00003A82 D30D              6631             MOV.L   #_LINK_RL_OBJ_ABSPLS,R3                         ;
19964 00003A84 6132              6632             MOV.L   @R3,R1                                                  ;
19965 00003A86 5231              6633             MOV.L   @(4,R3),R2                                              ;
19966                            6634             ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
19967 00003A88 0008                   M           CLRT
19968 00003A8A 326E                   M           ADDC    R6,R2
19969 00003A8C 315E                   M           ADDC    R5,R1
19970 00003A8E 2312              6635             MOV.L   R1,@R3                                                  ;
19971 00003A90 1321              6636             MOV.L   R2,@(4,R3)                                              ;
19972                            6637     
19973                            6638     
19974                            6639     
19975                            6640             SUB_END
19976                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
19977 00003A92 4F26                   M           LDS.L   @R15+,PR                ;[必要]
19978                            6641             M_RTS
19979 00003A94 000B                   M           RTS                             ;RTSの後ろの
19980 00003A96 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
19981                            6642     
19982                            6643     ;       *******************************************
19983                            6644     ;       ***                                     ***
19984                            6645     ;       ***                                     ***
19985                            6646     ;       ***             ニアゼロチェック        ***
19986                            6647     ;       ***                                     ***
19987                            6648     ;       *******************************************
19988                            6649     ;       R0= -1:完了
19989                            6650     ;
19990                                     ***** BEGIN-POOL *****
19991 00003A98 FF00                       DATA FOR SOURCE-LINE 6573
19992 00003A9A 0001                       DATA FOR SOURCE-LINE 6600
19993 00003A9C 00000000                   DATA FOR SOURCE-LINE 6558,6567
19994 00003AA0 00000000                   DATA FOR SOURCE-LINE 6562
19995 00003AA4 00000000                   DATA FOR SOURCE-LINE 6585
19996 00003AA8 00000000                   DATA FOR SOURCE-LINE 6596
19997 00003AAC 00000000                   DATA FOR SOURCE-LINE 6598
19998 00003AB0 00000000                   DATA FOR SOURCE-LINE 6615
19999 00003AB4 00000000                   DATA FOR SOURCE-LINE 6621
20000 00003AB8 00000000                   DATA FOR SOURCE-LINE 6631
20001                                     ***** END-POOL *****
20002 00003ABC                   6651             .ALIGN  4                               ;
20003 00003ABC                   6652     _OPEN_ROT_NEAR1_ZERO_CHK:
20004                            6653             SUB_START
20005 00003ABC 4F22                   M           STS.L   PR,@-R15                ;[必要]
20006                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   251
PROGRAM NAME =

20007                            6654             FAR_JSR #_INCENC_SV_HENSA_MAKE,R0       ;
20008 00003ABE D008                   M           MOV.L   #_INCENC_SV_HENSA_MAKE,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20009 00003AC0 400B                   M           JSR     @R0                     ;
20010 00003AC2 0009                   M           NOP                                     ;
20011                            6655     
20012                            6656     ;       =====2009-10-07　連続のふりこ専用ｲﾝﾎﾟｼﾞｼｮﾝ(h2wはふりこ＋反転)
20013 00003AC4 D107              6657             MOV.L   #_MODE_SEL,R1                   ;
20014 00003AC6 6011              6658             MOV.W   @R1,R0                          ;
20015 00003AC8 C808              6659             TST     #_W1CNT,R0                      ;
20016                            6660             TST_BIT_OF OPEN_ROT_NEAR1_ZR_CK20       ;
20017 00003ACA 8911                   M           BT      OPEN_ROT_NEAR1_ZR_CK20
20018                            6661     
20019                            6662     ;       -----2009-10-07 ADD(ふりこの場合の連続ﾓｰﾄﾞのみニアゼロ幅を変える) h2wは反転も-----
                                          -
20020 00003ACC D306              6663             MOV.L   #_SET1_OBJARA_INPXPSX,R3                ;ふりこ用2007-11-13
20021 00003ACE 6431              6664             MOV.W   @R3,R4                                  ;
20022 00003AD0 2448              6665             TST     R4,R4                                   ;
20023                            6666             TST_BIT_OF OPEN_ROT_NEAR1_ZR_CK20               ;"0以外"
20024 00003AD2 890D                   M           BT      OPEN_ROT_NEAR1_ZR_CK20
20025                            6667     
20026 00003AD4 D105              6668             MOV.L   #_SETX_POS_CTL_MATH,R1                  ;
20027 00003AD6 6011              6669             MOV.W   @R1,R0                                  ;
20028                            6670     ;;;h2w  TST     #(_DMATH_REVRSE+_DMATH_DNDRIV),R0       ;DRIVE MATH 反転,ふりこ
20029 00003AD8 C804              6671             TST     #(_DMATH_DNDRIV),R0                     ;DRIVE MATH ふりこ
20030                            6672             TST_BIT_OF OPEN_ROT_NEAR1_ZR_CK20               ;
20031 00003ADA 8909                   M           BT      OPEN_ROT_NEAR1_ZR_CK20
20032                            6673             M_BRA   OPEN_ROT_NEAR1_ZR_CK40
20033 00003ADC A00A                   M           BRA     OPEN_ROT_NEAR1_ZR_CK40
20034 00003ADE 0009                   M           NOP
20035                            6674     
20036                            6675     
20037                                     ***** BEGIN-POOL *****
20038 00003AE0 00000000                   DATA FOR SOURCE-LINE 6654
20039 00003AE4 00000000                   DATA FOR SOURCE-LINE 6657
20040 00003AE8 00000000                   DATA FOR SOURCE-LINE 6663
20041 00003AEC 00000000                   DATA FOR SOURCE-LINE 6668
20042                                     ***** END-POOL *****
20043 00003AF0                   6676     OPEN_ROT_NEAR1_ZR_CK20:
20044 00003AF0 D307              6677             MOV.L   #_SET1_OBJARA_INPXPLS,R3        ;
20045 00003AF2 6431              6678             MOV.W   @R3,R4                          ;
20046 00003AF4                   6679     OPEN_ROT_NEAR1_ZR_CK40:                         ;
20047 00003AF4 3423              6680             CMP/GE  R2,R4                           ;R2 =< MAX
20048 00003AF6 890F              6681             BT      OPEN_ROT_NEAR1_ZR_CK50          ;
20049                            6682     ;       ==== ﾆｱｾﾞﾛ待ち======
20050                            6683             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT0,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
20051 00003AF8 D106                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20052 00003AFA 6011                   M           MOV.W   @R1,R0          ;
20053 00003AFC CB01                   M           OR      #BIT0,R0                ;
20054 00003AFE 2101                   M           MOV.W   R0,@R1          ;
20055                            6684             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT1,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
20056 00003B00 D104                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20057 00003B02 6011                   M           MOV.W   @R1,R0          ;
20058 00003B04 C9FD                   M           AND     #LOW ~BIT1,R0           ;
20059 00003B06 2101                   M           MOV.W   R0,@R1          ;
20060                            6685     ;       ===============================================
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   252
PROGRAM NAME =

20061 00003B08 200A              6686             XOR     R0,R0                           ;
20062                            6687             M_BRA   OPEN_ROT_NEAR1_ZR_CK100
20063 00003B0A A016                   M           BRA     OPEN_ROT_NEAR1_ZR_CK100
20064 00003B0C 0009                   M           NOP
20065                            6688     
20066                                     ***** BEGIN-POOL *****
20067 00003B0E 0000                       ALIGNMENT CODE
20068 00003B10 00000000                   DATA FOR SOURCE-LINE 6677
20069 00003B14 00000000                   DATA FOR SOURCE-LINE 6683,6684
20070                                     ***** END-POOL *****
20071 00003B18                   6689     OPEN_ROT_NEAR1_ZR_CK50:
20072                            6690     ;       =========[ﾆｱｾﾞﾛ]======================================
20073                            6691             MEM1_BIT0_TO_BIT7_ORSET MEM=_NEAR_IN_FLG,LG=W,BIT=BIT0,WKREG=R1 ;//ﾆｱｾﾞﾛﾗｯﾁ
20074 00003B18 D109                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
20075 00003B1A 6011                   M           MOV.W   @R1,R0          ;
20076 00003B1C CB01                   M           OR      #BIT0,R0                ;
20077 00003B1E 2101                   M           MOV.W   R0,@R1          ;
20078                            6692             MEM1_BIT0_TO_BIT7_ORSET MEM=_DNM_DEBUG_STS1,LG=W,BIT=BIT0,WKREG=R1 ;2012-12-10 DEB
                                          UG
20079 00003B20 D108                   M           MOV.L   #_DNM_DEBUG_STS1,R1             ;
20080 00003B22 6011                   M           MOV.W   @R1,R0          ;
20081 00003B24 CB01                   M           OR      #BIT0,R0                ;
20082 00003B26 2101                   M           MOV.W   R0,@R1          ;
20083                            6693     
20084                            6694     
20085                            6695     
20086                            6696             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
20087 00003B28 D107                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20088 00003B2A 6011                   M           MOV.W   @R1,R0          ;
20089 00003B2C C9FE                   M           AND     #LOW ~BIT0,R0           ;
20090 00003B2E 2101                   M           MOV.W   R0,@R1          ;
20091                            6697             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT1,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
20092 00003B30 D105                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20093 00003B32 6011                   M           MOV.W   @R1,R0          ;
20094 00003B34 CB02                   M           OR      #BIT1,R0                ;
20095 00003B36 2101                   M           MOV.W   R0,@R1          ;
20096                            6698     
20097                            6699     ;       ===============================================
20098 00003B38 E0FF              6700             MOV     #-1,R0                          ;ANS FFFF SET NEAR-ZERO
20099 00003B3A                   6701     OPEN_ROT_NEAR1_ZR_CK100:                                ;
20100                            6702             SUB_END
20101                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20102 00003B3A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20103                            6703             M_RTS
20104 00003B3C 000B                   M           RTS                             ;RTSの後ろの
20105 00003B3E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20106                            6704     
20107                            6705     ;       *******************************************
20108                            6706     ;       ***                                     ***
20109                            6707     ;       ***     反転の戻り工程だけの            ***
20110                            6708     ;       ***             ニアゼロチェック        ***
20111                            6709     ;       ***                                     ***
20112                            6710     ;       *******************************************
20113                            6711     ;       R0= -1:完了
20114                            6712     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   253
PROGRAM NAME =

20115                                     ***** BEGIN-POOL *****
20116 00003B40 00000000                   DATA FOR SOURCE-LINE 6691
20117 00003B44 00000000                   DATA FOR SOURCE-LINE 6692
20118 00003B48 00000000                   DATA FOR SOURCE-LINE 6696,6697
20119                                     ***** END-POOL *****
20120 00003B4C                   6713             .ALIGN  4                               ;
20121 00003B4C                   6714     _OPEN_ROT_NEAR2_ZERO_CHK:
20122                            6715             SUB_START
20123 00003B4C 4F22                   M           STS.L   PR,@-R15                ;[必要]
20124                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20125                            6716             FAR_JSR #_INCENC_SV_HENSA_MAKE,R0       ;
20126 00003B4E D00A                   M           MOV.L   #_INCENC_SV_HENSA_MAKE,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20127 00003B50 400B                   M           JSR     @R0                     ;
20128 00003B52 0009                   M           NOP                                     ;
20129 00003B54 D309              6717             MOV.L   #_SET1_OBJARA_INPXPLS,R3        ;
20130 00003B56 6431              6718             MOV.W   @R3,R4                          ;
20131 00003B58 900D              6719             MOV.W   #D'1000,R0                      ;
20132 00003B5A 340C              6720             ADD     R0,R4                           ;目標位置+ｲﾝﾎﾟｼﾞｼｮﾝ+1000~-ｲﾝﾎﾟｼﾞｼｮﾝ-1000
20133                            6721     
20134 00003B5C 3423              6722             CMP/GE  R2,R4                           ;R2 =< MAX
20135 00003B5E 8911              6723             BT      OPEN_ROT_NEAR2_ZR_CK50          ;
20136                            6724     ;       ==== ﾆｱｾﾞﾛ待ち======
20137                            6725             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT0,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
20138 00003B60 D107                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20139 00003B62 6011                   M           MOV.W   @R1,R0          ;
20140 00003B64 CB01                   M           OR      #BIT0,R0                ;
20141 00003B66 2101                   M           MOV.W   R0,@R1          ;
20142                            6726             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT1,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
20143 00003B68 D105                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20144 00003B6A 6011                   M           MOV.W   @R1,R0          ;
20145 00003B6C C9FD                   M           AND     #LOW ~BIT1,R0           ;
20146 00003B6E 2101                   M           MOV.W   R0,@R1          ;
20147                            6727     ;       ===============================================
20148 00003B70 200A              6728             XOR     R0,R0                           ;
20149                            6729             M_BRA   OPEN_ROT_NEAR2_ZR_CK100
20150 00003B72 A014                   M           BRA     OPEN_ROT_NEAR2_ZR_CK100
20151 00003B74 0009                   M           NOP
20152                            6730     
20153                                     ***** BEGIN-POOL *****
20154 00003B76 03E8                       DATA FOR SOURCE-LINE 6719
20155 00003B78 00000000                   DATA FOR SOURCE-LINE 6716
20156 00003B7C 00000000                   DATA FOR SOURCE-LINE 6717
20157 00003B80 00000000                   DATA FOR SOURCE-LINE 6725,6726
20158                                     ***** END-POOL *****
20159 00003B84                   6731     OPEN_ROT_NEAR2_ZR_CK50:
20160                            6732     ;       =========[ﾆｱｾﾞﾛ]======================================
20161                            6733             MEM1_BIT0_TO_BIT7_ORSET MEM=_NEAR_IN_FLG,LG=W,BIT=BIT0,WKREG=R1 ;//ﾆｱｾﾞﾛﾗｯﾁ
20162 00003B84 D107                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
20163 00003B86 6011                   M           MOV.W   @R1,R0          ;
20164 00003B88 CB01                   M           OR      #BIT0,R0                ;
20165 00003B8A 2101                   M           MOV.W   R0,@R1          ;
20166                            6734     
20167                            6735             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POS_CTRL_SQ_STS,LG=W,BIT=~BIT0,WKREG=R1 ;//位置決めｽ
                                          ﾃｰﾀｽ
20168 00003B8C D106                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   254
PROGRAM NAME =

20169 00003B8E 6011                   M           MOV.W   @R1,R0          ;
20170 00003B90 C9FE                   M           AND     #LOW ~BIT0,R0           ;
20171 00003B92 2101                   M           MOV.W   R0,@R1          ;
20172                            6736             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_CTRL_SQ_STS,LG=W,BIT=BIT1,WKREG=R1 ;//位置決めｽﾃｰ
                                          ﾀｽ
20173 00003B94 D104                   M           MOV.L   #_POS_CTRL_SQ_STS,R1            ;
20174 00003B96 6011                   M           MOV.W   @R1,R0          ;
20175 00003B98 CB02                   M           OR      #BIT1,R0                ;
20176 00003B9A 2101                   M           MOV.W   R0,@R1          ;
20177                            6737     
20178                            6738     ;       ===============================================
20179 00003B9C E0FF              6739             MOV     #-1,R0                          ;ANS FFFF SET NEAR-ZERO
20180 00003B9E                   6740     OPEN_ROT_NEAR2_ZR_CK100:                                ;
20181                            6741             SUB_END
20182                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20183 00003B9E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20184                            6742             M_RTS
20185 00003BA0 000B                   M           RTS                             ;RTSの後ろの
20186 00003BA2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20187                            6743     
20188                            6744     
20189                            6745     ;       *******************************************
20190                            6746     ;       ***                                     ***
20191                            6747     ;       ***     カムへステップ完了を教える      ***
20192                            6748     ;       ***                                     ***
20193                            6749     ;       *******************************************
20194                            6750     ;       ﾀｲﾏ前
20195                                     ***** BEGIN-POOL *****
20196 00003BA4 00000000                   DATA FOR SOURCE-LINE 6733
20197 00003BA8 00000000                   DATA FOR SOURCE-LINE 6735,6736
20198                                     ***** END-POOL *****
20199 00003BAC                   6751             .ALIGN  4                               ;
20200 00003BAC                   6752     _CAM_1STEP_END_SIG1:
20201                            6753             SUB_START
20202 00003BAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
20203                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20204 00003BAE D105              6754             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
20205 00003BB0 6011              6755             MOV.W   @R1,R0                          ;ﾀｲﾏLOAD
20206 00003BB2 4008              6756             SHLL2   R0                              ;
20207 00003BB4 D204              6757             MOV.L   #_LONG_BIT_TBL0,R2              ;
20208 00003BB6 320C              6758             ADD     R0,R2                           ;
20209 00003BB8 6022              6759             MOV.L   @R2,R0                          ;
20210 00003BBA D104              6760             MOV.L   #_CAM_POS_STEP_END_FLG1,R1      ;//各工程の位置決め完了
20211 00003BBC 2101              6761             MOV.W   R0,@R1                          ;
20212                            6762             SUB_END
20213                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20214 00003BBE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20215                            6763             M_RTS
20216 00003BC0 000B                   M           RTS                             ;RTSの後ろの
20217 00003BC2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20218                            6764     
20219                            6765     ;       ﾀｲﾏ後
20220                                     ***** BEGIN-POOL *****
20221 00003BC4 00000000                   DATA FOR SOURCE-LINE 6754
20222 00003BC8 00000000                   DATA FOR SOURCE-LINE 6757
20223 00003BCC 00000000                   DATA FOR SOURCE-LINE 6760
20224                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   255
PROGRAM NAME =

20225 00003BD0                   6766             .ALIGN  4                               ;
20226 00003BD0                   6767     _CAM_1STEP_END_SIG2:
20227                            6768             SUB_START
20228 00003BD0 4F22                   M           STS.L   PR,@-R15                ;[必要]
20229                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20230 00003BD2 D105              6769             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
20231 00003BD4 6011              6770             MOV.W   @R1,R0                          ;ﾀｲﾏLOAD
20232 00003BD6 4008              6771             SHLL2   R0                              ;
20233 00003BD8 D204              6772             MOV.L   #_LONG_BIT_TBL0,R2              ;
20234 00003BDA 320C              6773             ADD     R0,R2                           ;
20235 00003BDC 6022              6774             MOV.L   @R2,R0                          ;
20236 00003BDE D104              6775             MOV.L   #_CAM_POS_STEP_END_FLG2,R1      ;//各工程の位置決め完了
20237 00003BE0 2101              6776             MOV.W   R0,@R1                          ;
20238                            6777             SUB_END
20239                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20240 00003BE2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20241                            6778             M_RTS
20242 00003BE4 000B                   M           RTS                             ;RTSの後ろの
20243 00003BE6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20244                            6779     
20245                            6780     ;       *******************************************
20246                            6781     ;       ***     ANS R1,R2 |目標-現在|=R2        ***
20247                            6782     ;       ***     ANS R0=0 目標>=現在             ***
20248                            6783     ;       *******************************************
20249                            6784     ;       4BYTE MAX +/ 7FFF,FFFF
20250                            6785             .EXPORT _INCENC_SV_HENSA_MAKE
20251                                     ***** BEGIN-POOL *****
20252 00003BE8 00000000                   DATA FOR SOURCE-LINE 6769
20253 00003BEC 00000000                   DATA FOR SOURCE-LINE 6772
20254 00003BF0 00000000                   DATA FOR SOURCE-LINE 6775
20255                                     ***** END-POOL *****
20256 00003BF4                   6786             .ALIGN  4                               ;
20257 00003BF4                   6787     _INCENC_SV_HENSA_MAKE:
20258                            6788             SUB_START
20259 00003BF4 4F22                   M           STS.L   PR,@-R15                ;[必要]
20260                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20261 00003BF6 D40C              6789             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;//abs停止目標位置
                                          (設定ﾊﾞｯｸﾗｯｼなし)
20262 00003BF8 6142              6790             MOV.L   @R4,R1                                                  ;
20263 00003BFA 5241              6791             MOV.L   @(1*4,R4),R2                                            ;目標位置
20264 00003BFC D40B              6792             MOV.L   #_LINK_PV_ABSPLS,R4                                     ;20060919
20265 00003BFE 6542              6793             MOV.L   @R4,R5                                                  ;
20266 00003C00 5641              6794             MOV.L   @(1*4,R4),R6                                            ;現在位置
20267                            6795             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
20268 00003C02 0008                   M           CLRT
20269 00003C04 326A                   M           SUBC    R6,R2
20270 00003C06 315A                   M           SUBC    R5,R1
20271 00003C08 6013              6796             MOV     R1,R0                           ;
20272 00003C0A 4111              6797             CMP/PZ  R1                              ;
20273 00003C0C 8905              6798             BT      INCENC_SV_HENSA_MK050           ;
20274                            6799             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R3      ;
20275 00003C0E 6227                   M           NOT     R2,R2                           ;
20276 00003C10 6117                   M           NOT     R1,R1                           ;
20277 00003C12 233A                   M           XOR     R3,R3                           ;
20278 00003C14 0018                   M           SETT
20279 00003C16 323E                   M           ADDC    R3,R2                           ;0+1+R2
20280 00003C18 313E                   M           ADDC    R3,R1                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   256
PROGRAM NAME =

20281 00003C1A                   6800     INCENC_SV_HENSA_MK050:                          ;
20282 00003C1A 2118              6801             TST     R1,R1                           ;
20283                            6802             TST_BIT_OF INCENC_SV_HENSA_MK100        ;8byte
20284 00003C1C 8900                   M           BT      INCENC_SV_HENSA_MK100
20285 00003C1E D204              6803             MOV.L   #H'7FFFFFFF,R2                  ;
20286 00003C20                   6804     INCENC_SV_HENSA_MK100:                          ;
20287                            6805     
20288                            6806             SUB_END
20289                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20290 00003C20 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20291                            6807             M_RTS
20292 00003C22 000B                   M           RTS                             ;RTSの後ろの
20293 00003C24 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20294                            6808     
20295                            6809     ;       ***********************************
20296                            6810     ;       ***     最下死点INITAL          ***
20297                            6811     ;       ***********************************
20298                                     ***** BEGIN-POOL *****
20299 00003C26 0000                       ALIGNMENT CODE
20300 00003C28 00000000                   DATA FOR SOURCE-LINE 6789
20301 00003C2C 00000000                   DATA FOR SOURCE-LINE 6792
20302 00003C30 7FFFFFFF                   DATA FOR SOURCE-LINE 6803
20303                                     ***** END-POOL *****
20304 00003C34                   6812             .ALIGN  4                               ;
20305 00003C34                   6813     _MOST_DISP_DAT_INI:
20306                            6814             SUB_START
20307 00003C34 4F22                   M           STS.L   PR,@-R15                ;[必要]
20308                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20309 00003C36 D109              6815             MOV.L   #_CYCL_START_CNT,R1             ;
20310 00003C38 6011              6816             MOV.W   @R1,R0                          ;
20311 00003C3A 7001              6817             ADD     #1,R0                           ;
20312 00003C3C 2101              6818             MOV.W   R0,@R1                          ;起動回数
20313                            6819     
20314                            6820     ;       ======== 2007-12-12 ====================
20315 00003C3E D108              6821             MOV.L   #_RNA_ABS_POS,R1                ;//ﾎﾞﾙｽﾀ面高さ(絶対位置)
20316 00003C40 6212              6822             MOV.L   @R1,R2                          ;
20317 00003C42 D108              6823             MOV.L   #_SHOT_MOST_DOWN_POSWK,R1       ;
20318 00003C44 2122              6824             MOV.L   R2,@R1                          ;
20319                            6825     ;       =========================================
20320                            6826     
20321                            6827     ;       ====== 最下死点処理======
20322 00003C46 D108              6828             MOV.L   #_RNA_CTL_POS1,R1               ;//制御位置
20323 00003C48 6012              6829             MOV.L   @R1,R0                          ;
20324 00003C4A D108              6830             MOV.L   #_CLS_RNA_MOST_DOWN_POS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
20325 00003C4C 2102              6831             MOV.L   R0,@R1                          ;
20326                            6832     
20327 00003C4E D108              6833             MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R1   ;//余り角度 +ﾃﾞｰﾀ
20328 00003C50 6012              6834             MOV.L   @R1,R0                          ;
20329 00003C52 D108              6835             MOV.L   #_CLS_INC_MOST_DOWN_PLS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
20330 00003C54 2102              6836             MOV.L   R0,@R1                          ;
20331                            6837     ;       =========================
20332                            6838             SUB_END
20333                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20334 00003C56 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20335                            6839             M_RTS
20336 00003C58 000B                   M           RTS                             ;RTSの後ろの
20337 00003C5A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   257
PROGRAM NAME =

20338                            6840     
20339                            6841     ;       ***********************************
20340                            6842     ;       ***     最下死点ｻﾝﾌﾟﾘﾝｸﾞ        ***
20341                            6843     ;       ***********************************
20342                                     ***** BEGIN-POOL *****
20343 00003C5C 00000000                   DATA FOR SOURCE-LINE 6815
20344 00003C60 00000000                   DATA FOR SOURCE-LINE 6821
20345 00003C64 00000000                   DATA FOR SOURCE-LINE 6823
20346 00003C68 00000000                   DATA FOR SOURCE-LINE 6828
20347 00003C6C 00000000                   DATA FOR SOURCE-LINE 6830
20348 00003C70 00000000                   DATA FOR SOURCE-LINE 6833
20349 00003C74 00000000                   DATA FOR SOURCE-LINE 6835
20350                                     ***** END-POOL *****
20351 00003C78                   6844             .ALIGN  4                               ;
20352 00003C78                   6845     _MOST_DISP_DAT_SMP:
20353                            6846             SUB_START
20354 00003C78 4F22                   M           STS.L   PR,@-R15                ;[必要]
20355                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20356                            6847     ;       ====== 最下死点処理======
20357 00003C7A D10D              6848             MOV.L   #_RNA_CTL_POS1,R1               ;//制御位置
20358 00003C7C 6012              6849             MOV.L   @R1,R0                          ;
20359 00003C7E D10D              6850             MOV.L   #_CLS_RNA_MOST_DOWN_POS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
20360 00003C80 6212              6851             MOV.L   @R1,R2                          ;
20361 00003C82 3023              6852             CMP/GE  R2,R0                           ; OLD < NEW(R0)
20362 00003C84 8900              6853             BT      MOST_DISP_DATSMP_050            ;
20363 00003C86 6203              6854             MOV     R0,R2                           ;最小値ｻﾝﾌﾟﾘﾝｸﾞ
20364 00003C88                   6855     MOST_DISP_DATSMP_050:                           ;
20365 00003C88 2122              6856             MOV.L   R2,@R1                          ;
20366                            6857     
20367 00003C8A D10B              6858             MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R1   ;//余り角度 +ﾃﾞｰﾀ
20368 00003C8C 6012              6859             MOV.L   @R1,R0                          ;
20369 00003C8E D10B              6860             MOV.L   #_CLS_INC_MOST_DOWN_PLS,R1      ;//ﾌﾙｸﾛｰｽﾞ開始時~終了までの最下死点
20370 00003C90 6212              6861             MOV.L   @R1,R2                          ;
20371 00003C92 3203              6862             CMP/GE  R0,R2                           ;NEW(R0) < OLD
20372 00003C94 8900              6863             BT      MOST_DISP_DATSMP_100            ;
20373 00003C96 6203              6864             MOV     R0,R2                           ;最大値ｻﾝﾌﾟﾘﾝｸﾞ
20374 00003C98                   6865     MOST_DISP_DATSMP_100:                           ;
20375 00003C98 2122              6866             MOV.L   R2,@R1                          ;
20376                            6867     ;       =========================
20377                            6868     
20378                            6869     ;       ======== 2007-12-12(RNA_ABS_POSの最小値) ======
20379                            6870     ;       ====== 最下死点処理======
20380 00003C9A D109              6871             MOV.L   #_RNA_ABS_POS,R1                ;//ﾎﾞﾙｽﾀ面高さ(絶対位置)
20381 00003C9C 6012              6872             MOV.L   @R1,R0                          ;
20382 00003C9E D109              6873             MOV.L   #_SHOT_MOST_DOWN_POSWK,R1       ;//
20383 00003CA0 6212              6874             MOV.L   @R1,R2                          ;
20384 00003CA2 3023              6875             CMP/GE  R2,R0                           ; OLD < NEW(R0)
20385 00003CA4 8900              6876             BT      MOST_DISP_DATSMP_150            ;
20386 00003CA6 6203              6877             MOV     R0,R2                           ;最小値ｻﾝﾌﾟﾘﾝｸﾞ
20387 00003CA8                   6878     MOST_DISP_DATSMP_150:                           ;
20388 00003CA8 2122              6879             MOV.L   R2,@R1                          ;
20389                            6880     ;       =========================================
20390                            6881     
20391                            6882             SUB_END
20392                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20393 00003CAA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20394                            6883             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   258
PROGRAM NAME =

20395 00003CAC 000B                   M           RTS                             ;RTSの後ろの
20396 00003CAE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20397                            6884     
20398                            6885     ;       ***********************************
20399                            6886     ;       ***                             ***
20400                            6887     ;       ***                             ***
20401                            6888     ;       ***                             ***
20402                            6889     ;       ***********************************
20403                                     ***** BEGIN-POOL *****
20404 00003CB0 00000000                   DATA FOR SOURCE-LINE 6848
20405 00003CB4 00000000                   DATA FOR SOURCE-LINE 6850
20406 00003CB8 00000000                   DATA FOR SOURCE-LINE 6858
20407 00003CBC 00000000                   DATA FOR SOURCE-LINE 6860
20408 00003CC0 00000000                   DATA FOR SOURCE-LINE 6871
20409 00003CC4 00000000                   DATA FOR SOURCE-LINE 6873
20410                                     ***** END-POOL *****
20411 00003CC8                   6890             .ALIGN  4                               ;
20412 00003CC8                   6891     _CMP_ERR_STS_REF:
20413                            6892             SUB_START
20414 00003CC8 4F22                   M           STS.L   PR,@-R15                ;[必要]
20415                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20416                            6893             SUB_END
20417                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20418 00003CCA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20419                            6894             M_RTS
20420 00003CCC 000B                   M           RTS                             ;RTSの後ろの
20421 00003CCE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20422                            6895     
20423                            6896     
20424                            6897     ;       ***********************************
20425                            6898     ;       ***     R0=0:停止 ELSE 動作     ***
20426                            6899     ;       ***********************************
20427                            6900     ;       == R0=0 停止 R0=FF 動作
20428                            6901     ;       USED R4,R1,R0
20429                            6902             .IMPORT _CPUA_PLS_OUTF  ;
20430                            6903             .IMPORT _CPUB_PLS_OUTF  ;
20431                            6904     
20432 00003CD0                   6905             .ALIGN  4                               ;
20433 00003CD0                   6906     _ERR_STOP_MOV_CHK:
20434                            6907             SUB_START
20435 00003CD0 4F22                   M           STS.L   PR,@-R15                ;[必要]
20436                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20437                            6908             FAR_JSR #_LOD_POS_STS_REG,R0            ;停止の判断をこれにする
20438 00003CD2 D007                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20439 00003CD4 400B                   M           JSR     @R0                     ;
20440 00003CD6 0009                   M           NOP                                     ;
20441 00003CD8 211A              6909             XOR     R1,R1                           ;
20442 00003CDA C804              6910             TST     #BIT2,R0                        ;
20443                            6911             TST_BIT_ON ERR_STOP_MOVCK050            ;
20444 00003CDC 8B00                   M           BF      ERR_STOP_MOVCK050
20445 00003CDE 71FF              6912             ADD     #-1,R1
20446 00003CE0                   6913     ERR_STOP_MOVCK050:
20447 00003CE0 6013              6914             MOV     R1,R0                           ;
20448 00003CE2 D104              6915             MOV.L   #_PLS_OUTPUT_FLG,R1             ;//0払い出し停止 1払出中
20449 00003CE4 2101              6916             MOV.W   R0,@R1                          ;
20450                            6917     
20451                            6918     ;       ----- 2015-07-14--------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   259
PROGRAM NAME =

20452                            6919      .AIF   1 EQ    0       ;
20453                            6920             MOV.L   #_CPUA_PLS_OUTF,R1      ;
20454                            6921      .AELSE
20455 00003CE6 D104              6922 C           MOV.L   #_CPUB_PLS_OUTF,R1      ;
20456                            6923      .AENDI
20457 00003CE8 2101              6924             MOV.W   R0,@R1                          ;
20458                            6925             SUB_END
20459                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20460 00003CEA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20461                            6926             M_RTS
20462 00003CEC 000B                   M           RTS                             ;RTSの後ろの
20463 00003CEE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20464                            6927     
20465                            6928     ;       ***************************************************
20466                            6929     ;       ***                                             ***
20467                            6930     ;       ***                                             ***
20468                            6931     ;       ***                                             ***
20469                            6932     ;       ***                                             ***
20470                            6933     ;       ***             位置決めLSIｱｸｾｽｿﾌﾄ              ***
20471                            6934     ;       ***                                             ***
20472                            6935     ;       ***                                             ***
20473                            6936     ;       ***                                             ***
20474                            6937     ;       ***************************************************
20475                            6938     
20476                            6939     ;       === (2003-07-01 履歴用ﾃﾞｰﾀ作成) ======
20477                            6940             .EXPORT _LOAD_REST_PLS          ;残りﾊﾟﾙｽ
20478                            6941             .EXPORT _LOAD_FREQ_PLS          ;設定ﾊﾟﾙｽ
20479                            6942             .EXPORT _LOAD_NOW_FREQ_PLS      ;現在
20480                            6943             .EXPORT _LOAD_GPOINT_PLS        ;
20481                            6944     
20482                            6945             .EXPORT _LOAD_SPD_LATE          ;
20483                            6946             .EXPORT _LOAD_ACCS1_LATE        ;
20484                            6947             .EXPORT _LOAD_BASE_FREQ_PLS     ;
20485                            6948     
20486                            6949     ;       ***************************************************
20487                            6950     ;       ***                                             ***
20488                            6951     ;       ***             残りﾊﾟﾙｽREAD                    ***
20489                            6952     ;       ***             ANS:R0                          ***
20490                            6953     ;       ***************************************************
20491                            6954     ;       R0以外破壊しない
20492                            6955     ;       "残りﾊﾟﾙｽ"
20493                            6956     ;       減る方向で化けるｹｰｽもある.従って２度読みの古い方側を使用した方が良いか？
20494                            6957     ;       ３度読みでその真ん中は正しい=  >２度読みの古いほうが正しい ==>だめ
20495                            6958     ;       １回目が化けて大きくなって２回目が正常なら発生する
20496                            6959     ;       時間などチェックが必要だ
20497                                     ***** BEGIN-POOL *****
20498 00003CF0 00000000                   DATA FOR SOURCE-LINE 6908
20499 00003CF4 00000000                   DATA FOR SOURCE-LINE 6915
20500 00003CF8 00000000                   DATA FOR SOURCE-LINE 6922
20501                                     ***** END-POOL *****
20502 00003CFC                   6960             .ALIGN  4                               ;
20503 00003CFC                   6961     _LOAD_REST_PLS:
20504                            6962             SUB_START
20505 00003CFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
20506                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20507                            6963             PUSH_REG1 R1
20508 00003CFE 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   260
PROGRAM NAME =

20509                                 M                                           ;REG=>[SP]
20510                                 M                                           ;"-4" FF,FF,FF,FC
20511                            6964             PUSH_REG1 R2
20512 00003D00 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
20513                                 M                                           ;REG=>[SP]
20514                                 M                                           ;"-4" FF,FF,FF,FC
20515                            6965             PUSH_REG1 R3
20516 00003D02 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
20517                                 M                                           ;REG=>[SP]
20518                                 M                                           ;"-4" FF,FF,FF,FC
20519                            6966             PUSH_REG1 R4
20520 00003D04 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
20521                                 M                                           ;REG=>[SP]
20522                                 M                                           ;"-4" FF,FF,FF,FC
20523 00003D06 E30A              6967             MOV     #D'10,R3                                        ;
20524                            6968     
20525 00003D08                   6969     LOAD_RESTPLS_LOP:
20526                            6970     
20527 00003D08 D109              6971             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1        ;R/W 指令ﾊﾟﾙｽ数
20528                            6972             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20529 00003D0A D00A                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20530 00003D0C 400B                   M           JSR     @R0                     ;
20531 00003D0E 0009                   M           NOP                                     ;
20532 00003D10 6403              6973             MOV     R0,R4                                           ;FIRST R0
20533                            6974     
20534 00003D12 D107              6975             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1        ;R/W 指令ﾊﾟﾙｽ数
20535                            6976             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20536 00003D14 D007                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20537 00003D16 400B                   M           JSR     @R0                     ;
20538 00003D18 0009                   M           NOP                                     ;
20539 00003D1A 6203              6977             MOV     R0,R2                                           ;FIRST R0
20540                            6978     
20541 00003D1C D104              6979             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1        ;R/W 指令ﾊﾟﾙｽ数
20542                            6980             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20543 00003D1E D005                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20544 00003D20 400B                   M           JSR     @R0                     ;
20545 00003D22 0009                   M           NOP                                     ;
20546                            6981     
20547                            6982     ;       R0=<R2=<R4
20548 00003D24 3422              6983             CMP/HS  R2,R4                                           ;R2 =< R4
20549 00003D26 8B07              6984             BF      LOAD_RESTPLS_050                                ;NO! 失敗(R2>R4)
20550 00003D28 3202              6985             CMP/HS  R0,R2                                           ;R0 =< R2
20551 00003D2A 8B05              6986             BF      LOAD_RESTPLS_050                                ;NO! 失敗(R0>R2)
20552                            6987             M_BRA   LOAD_RESTPLS_END                                ;R0(NEW)=<R2(MID)=<R4(OLD)
                                           R2を信用する
20553 00003D2C A00F                   M           BRA     LOAD_RESTPLS_END
20554 00003D2E 0009                   M           NOP
20555                            6988     
20556                                     ***** BEGIN-POOL *****
20557 00003D30 00000000                   DATA FOR SOURCE-LINE 6971,6975,6979
20558 00003D34 00000000                   DATA FOR SOURCE-LINE 6972,6976,6980
20559                                     ***** END-POOL *****
20560 00003D38                   6989     LOAD_RESTPLS_050:                                               ;
20561 00003D38 D109              6990             MOV.L   #_LSI_PLSRD_NG_CNT1,R1                          ;
20562 00003D3A 6011              6991             MOV.W   @R1,R0                                          ;
20563 00003D3C 7001              6992             ADD     #1,R0                                           ;
20564 00003D3E 2101              6993             MOV.W   R0,@R1                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   261
PROGRAM NAME =

20565                            6994     
20566 00003D40 73FF              6995             ADD     #-1,R3                                          ;
20567 00003D42 4315              6996             CMP/PL  R3                                              ;
20568 00003D44 89E0              6997             BT      LOAD_RESTPLS_LOP                                ;
20569                            6998     ;       ==== HARD ERR ===
20570                            6999             MEM1_BIT0_TO_BIT7_ORSET MEM=_POS_LSI_ACS_ERR_FLG1,LG=W,BIT=(BIT5+BIT0),WKREG=R1
                                          ;R1,R0
20571 00003D46 D107                   M           MOV.L   #_POS_LSI_ACS_ERR_FLG1,R1               ;
20572 00003D48 6011                   M           MOV.W   @R1,R0          ;
20573 00003D4A CB21                   M           OR      #(BIT5+BIT0),R0         ;
20574 00003D4C 2101                   M           MOV.W   R0,@R1          ;
20575                            7000     
20576                            7001     ;;      MOV     R2,R0                                           ;
20577                            7002     ;       ANS.R2
20578 00003D4E                   7003     LOAD_RESTPLS_END:
20579 00003D4E 6023              7004             MOV     R2,R0                                           ;(3度読みの真ん中をデータ
                                          として使用する)
20580                            7005             POP_REG1 R4
20581                                 M                                   ; RE"+4" 00,00,00,04
20582 00003D50 64F6                   M           MOV.L   @R15+,R4        ;
20583                            7006             POP_REG1 R3
20584                                 M                                   ; RE"+4" 00,00,00,04
20585 00003D52 63F6                   M           MOV.L   @R15+,R3        ;
20586                            7007             POP_REG1 R2
20587                                 M                                   ; RE"+4" 00,00,00,04
20588 00003D54 62F6                   M           MOV.L   @R15+,R2        ;
20589                            7008             POP_REG1 R1
20590                                 M                                   ; RE"+4" 00,00,00,04
20591 00003D56 61F6                   M           MOV.L   @R15+,R1        ;
20592                            7009     
20593                            7010             SUB_END
20594                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20595 00003D58 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20596                            7011             M_RTS
20597 00003D5A 000B                   M           RTS                             ;RTSの後ろの
20598 00003D5C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20599                            7012     
20600                            7013     ;       ***************************************************
20601                            7014     ;       ***                                             ***
20602                            7015     ;       ***             設定周波数ﾚｼﾞｽﾀREAD             ***
20603                            7016     ;       ***                                             ***
20604                            7017     ;       ***************************************************
20605                            7018     ;       R0以外破壊しない
20606                                     ***** BEGIN-POOL *****
20607 00003D5E 0000                       ALIGNMENT CODE
20608 00003D60 00000000                   DATA FOR SOURCE-LINE 6990
20609 00003D64 00000000                   DATA FOR SOURCE-LINE 6999
20610                                     ***** END-POOL *****
20611 00003D68                   7019             .ALIGN  4                               ;
20612 00003D68                   7020     _LOAD_FREQ_PLS
20613                            7021             SUB_START
20614 00003D68 4F22                   M           STS.L   PR,@-R15                ;[必要]
20615                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20616                            7022     
20617                            7023             PUSH_REG1 R1
20618 00003D6A 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20619                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   262
PROGRAM NAME =

20620                                 M                                           ;"-4" FF,FF,FF,FC
20621                            7024     
20622 00003D6C D103              7025             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_TopFreqL,R1        ;TOP(設定)周波数
20623                            7026             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20624 00003D6E D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20625 00003D70 400B                   M           JSR     @R0                     ;
20626 00003D72 0009                   M           NOP                                     ;
20627                            7027     
20628                            7028             POP_REG1 R1
20629                                 M                                   ; RE"+4" 00,00,00,04
20630 00003D74 61F6                   M           MOV.L   @R15+,R1        ;
20631                            7029     
20632                            7030             SUB_END
20633                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20634 00003D76 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20635                            7031             M_RTS
20636 00003D78 000B                   M           RTS                             ;RTSの後ろの
20637 00003D7A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20638                            7032     
20639                            7033     ;       ***********************************
20640                            7034     ;       ***     ベース周波数()          ***
20641                            7035     ;       ***********************************
20642                                     ***** BEGIN-POOL *****
20643 00003D7C 00000000                   DATA FOR SOURCE-LINE 7025
20644 00003D80 00000000                   DATA FOR SOURCE-LINE 7026
20645                                     ***** END-POOL *****
20646 00003D84                   7036             .ALIGN  4                               ;
20647 00003D84                   7037     _LOAD_BASE_FREQ_PLS:
20648                            7038             SUB_START
20649 00003D84 4F22                   M           STS.L   PR,@-R15                ;[必要]
20650                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20651                            7039             PUSH_REG1 R1
20652 00003D86 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20653                                 M                                           ;REG=>[SP]
20654                                 M                                           ;"-4" FF,FF,FF,FC
20655                            7040     
20656 00003D88 D103              7041             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BasFreqL,R1        ;BASE(設定)周波数
20657                            7042             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20658 00003D8A D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20659 00003D8C 400B                   M           JSR     @R0                     ;
20660 00003D8E 0009                   M           NOP                                     ;
20661                            7043     
20662                            7044     
20663                            7045             POP_REG1 R1
20664                                 M                                   ; RE"+4" 00,00,00,04
20665 00003D90 61F6                   M           MOV.L   @R15+,R1        ;
20666                            7046             SUB_END
20667                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20668 00003D92 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20669                            7047             M_RTS
20670 00003D94 000B                   M           RTS                             ;RTSの後ろの
20671 00003D96 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20672                            7048     ;       ***********************************
20673                            7049     ;       ***     加速時間()              ***
20674                            7050     ;       ***********************************
20675                                     ***** BEGIN-POOL *****
20676 00003D98 00000000                   DATA FOR SOURCE-LINE 7041
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   263
PROGRAM NAME =

20677 00003D9C 00000000                   DATA FOR SOURCE-LINE 7042
20678                                     ***** END-POOL *****
20679 00003DA0                   7051             .ALIGN  4                               ;
20680 00003DA0                   7052     _LOAD_ACCS1_LATE:
20681                            7053             SUB_START
20682 00003DA0 4F22                   M           STS.L   PR,@-R15                ;[必要]
20683                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20684                            7054             PUSH_REG1 R1
20685 00003DA2 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20686                                 M                                           ;REG=>[SP]
20687                                 M                                           ;"-4" FF,FF,FF,FC
20688                            7055     
20689                            7056     
20690 00003DA4 D102              7057             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_AccLate1,R1        ;
20691 00003DA6 6011              7058             MOV.W   @R1,R0                                          ;
20692                            7059     
20693                            7060             POP_REG1 R1
20694                                 M                                   ; RE"+4" 00,00,00,04
20695 00003DA8 61F6                   M           MOV.L   @R15+,R1        ;
20696                            7061             SUB_END
20697                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20698 00003DAA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20699                            7062             M_RTS
20700 00003DAC 000B                   M           RTS                             ;RTSの後ろの
20701 00003DAE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20702                            7063     
20703                            7064     ;       ***************************
20704                            7065     ;       ***     LATE()          ***
20705                            7066     ;       ***************************
20706                                     ***** BEGIN-POOL *****
20707 00003DB0 00000000                   DATA FOR SOURCE-LINE 7057
20708                                     ***** END-POOL *****
20709 00003DB4                   7067             .ALIGN  4                               ;
20710 00003DB4                   7068     _LOAD_SPD_LATE:
20711                            7069             SUB_START
20712 00003DB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
20713                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20714                            7070             PUSH_REG1 R1
20715 00003DB6 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20716                                 M                                           ;REG=>[SP]
20717                                 M                                           ;"-4" FF,FF,FF,FC
20718                            7071     
20719 00003DB8 D102              7072             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_SpedLate,R1        ;
20720 00003DBA 6011              7073             MOV.W   @R1,R0                                          ;
20721                            7074     
20722                            7075             POP_REG1 R1
20723                                 M                                   ; RE"+4" 00,00,00,04
20724 00003DBC 61F6                   M           MOV.L   @R15+,R1        ;
20725                            7076             SUB_END
20726                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20727 00003DBE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20728                            7077             M_RTS
20729 00003DC0 000B                   M           RTS                             ;RTSの後ろの
20730 00003DC2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20731                            7078     
20732                            7079     
20733                            7080     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   264
PROGRAM NAME =

20734                            7081     ;       ***************************************************
20735                            7082     ;       ***                                             ***
20736                            7083     ;       ***             現在周波数ﾚｼﾞｽﾀREAD             ***
20737                            7084     ;       ***                                             ***
20738                            7085     ;       ***************************************************
20739                            7086     ;       R0以外破壊しない
20740                                     ***** BEGIN-POOL *****
20741 00003DC4 00000000                   DATA FOR SOURCE-LINE 7072
20742                                     ***** END-POOL *****
20743 00003DC8                   7087             .ALIGN  4                               ;
20744 00003DC8                   7088     _LOAD_NOW_FREQ_PLS
20745                            7089             SUB_START
20746 00003DC8 4F22                   M           STS.L   PR,@-R15                ;[必要]
20747                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20748                            7090     
20749                            7091             PUSH_REG1 R1
20750 00003DCA 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20751                                 M                                           ;REG=>[SP]
20752                                 M                                           ;"-4" FF,FF,FF,FC
20753                            7092     
20754 00003DCC D103              7093             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_NowFreqL,R1        ;R/W 現在周波数
20755                            7094             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20756 00003DCE D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20757 00003DD0 400B                   M           JSR     @R0                     ;
20758 00003DD2 0009                   M           NOP                                     ;
20759                            7095     
20760                            7096             POP_REG1 R1
20761                                 M                                   ; RE"+4" 00,00,00,04
20762 00003DD4 61F6                   M           MOV.L   @R15+,R1        ;
20763                            7097             SUB_END
20764                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20765 00003DD6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20766                            7098             M_RTS
20767 00003DD8 000B                   M           RTS                             ;RTSの後ろの
20768 00003DDA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20769                            7099     
20770                            7100     ;       ***************************************************
20771                            7101     ;       ***                                             ***
20772                            7102     ;       ***             減速距離READ                    ***
20773                            7103     ;       ***                                             ***
20774                            7104     ;       ***************************************************
20775                            7105     ;       R0以外破壊しない
20776                                     ***** BEGIN-POOL *****
20777 00003DDC 00000000                   DATA FOR SOURCE-LINE 7093
20778 00003DE0 00000000                   DATA FOR SOURCE-LINE 7094
20779                                     ***** END-POOL *****
20780 00003DE4                   7106             .ALIGN  4                               ;
20781 00003DE4                   7107     _LOAD_GPOINT_PLS
20782                            7108             SUB_START
20783 00003DE4 4F22                   M           STS.L   PR,@-R15                ;[必要]
20784                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20785                            7109             PUSH_REG1 R1
20786 00003DE6 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
20787                                 M                                           ;REG=>[SP]
20788                                 M                                           ;"-4" FF,FF,FF,FC
20789                            7110     
20790 00003DE8 D103              7111             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_GNpointL,R1        ;R/W 減速点
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   265
PROGRAM NAME =

20791                            7112             FAR_JSR #_LSI_LOAD_32BIT_DATA,R0                        ;
20792 00003DEA D004                   M           MOV.L   #_LSI_LOAD_32BIT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20793 00003DEC 400B                   M           JSR     @R0                     ;
20794 00003DEE 0009                   M           NOP                                     ;
20795                            7113     
20796                            7114             POP_REG1 R1
20797                                 M                                   ; RE"+4" 00,00,00,04
20798 00003DF0 61F6                   M           MOV.L   @R15+,R1        ;
20799                            7115             SUB_END
20800                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20801 00003DF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20802                            7116             M_RTS
20803 00003DF4 000B                   M           RTS                             ;RTSの後ろの
20804 00003DF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20805                            7117     
20806                            7118     ;       ***************************************************
20807                            7119     ;       ***                                             ***
20808                            7120     ;       ***             32BITﾚｼﾞｽﾀREAD                  ***
20809                            7121     ;       ***             Input  R1:ADRESS(DESTROY)       ***
20810                            7122     ;       ***             Output R0:data(ﾓﾄﾛｰﾗHEX)        ***
20811                            7123     ;       ***************************************************
20812                                     ***** BEGIN-POOL *****
20813 00003DF8 00000000                   DATA FOR SOURCE-LINE 7111
20814 00003DFC 00000000                   DATA FOR SOURCE-LINE 7112
20815                                     ***** END-POOL *****
20816 00003E00                   7124             .ALIGN  4                               ;
20817 00003E00                   7125     _LSI_LOAD_32BIT_DATA:
20818                            7126             SUB_START
20819 00003E00 4F22                   M           STS.L   PR,@-R15                ;[必要]
20820                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20821                            7127     ;;      PLS_READ_LATCH                                          ;2004-02-12
20822                            7128     ;;      POS_LSI_WORD_DUM_LOD                                    ;CS
20823                            7129     ;;      MOV.W   @R1+,R0                                         ;LOW WORD
20824                            7130     ;;      EXTU.W  R0,R0                                           ;
20825                            7131     ;;
20826                            7132     ;;      POS_LSI_WORD_DUM_LOD                                    ;CS
20827                            7133     ;;      MOV.W   @R1,R1                                          ;HIGH WORD
20828                            7134     ;;      EXTU.W  R1,R1                                           ;
20829                            7135     ;;      SHLL16  R1
20830                            7136     ;;      OR      R1,R0                                           ;
20831                            7137     ;;      MOV.L   #_ACCESS_ERR1+4*4,R1                            ;4 5/5
20832                            7138     
20833                            7139             POS_LSI_WORD_DUM_LOD                                    ;CS(A)
20834                                 M           PUSH_REG1 R0
20835 00003E02 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
20836                                 M                                           ;REG=>[SP]
20837                                 M                                           ;"-4" FF,FF,FF,FC
20838 00003E04 D007                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
20839 00003E06 6001                   M           MOV.W   @R0,R0
20840                                 M           POP_REG1 R0
20841                                 M                                   ; RE"+4" 00,00,00,04
20842 00003E08 60F6                   M           MOV.L   @R15+,R0        ;
20843                            7140             PLS_READ_LATCH                                          ;2004-02-12
20844                                 M           PUSH_REG1 R0                                            ;
20845 00003E0A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
20846                                 M                                           ;REG=>[SP]
20847                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   266
PROGRAM NAME =

20848 00003E0C D006                   M           MOV.L   #_poslsi1_top+_PLSI_CH_COM+_PLS_LTCHReg,R0      ;
20849 00003E0E 6001                   M           MOV.W   @R0,R0                                          ;
20850                                 M           POP_REG1 R0                                             ;
20851                                 M                                   ; RE"+4" 00,00,00,04
20852 00003E10 60F6                   M           MOV.L   @R15+,R0        ;
20853                            7141             POS_LSI_WORD_DUM_LOD                                    ;CS(B)
20854                                 M           PUSH_REG1 R0
20855 00003E12 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
20856                                 M                                           ;REG=>[SP]
20857                                 M                                           ;"-4" FF,FF,FF,FC
20858 00003E14 D003                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
20859 00003E16 6001                   M           MOV.W   @R0,R0
20860                                 M           POP_REG1 R0
20861                                 M                                   ; RE"+4" 00,00,00,04
20862 00003E18 60F6                   M           MOV.L   @R15+,R0        ;
20863 00003E1A 6012              7142             MOV.L   @R1,R0                                          ;LONG
20864 00003E1C 6009              7143             SWAP.W  R0,R0                                           ;
20865                            7144     
20866                            7145             SUB_END
20867                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20868 00003E1E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20869                            7146             M_RTS
20870 00003E20 000B                   M           RTS                             ;RTSの後ろの
20871 00003E22 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20872                            7147     
20873                            7148     
20874                            7149     ;       *******************************************
20875                            7150     ;       ***     2003-07-01 指令ﾊﾟﾙｽの速度演算   ***
20876                            7151     ;       *******************************************
20877                            7152             .EXPORT _OUT_PLS_SPD_CALC
20878                            7153             .EXPORT _ENC_PLS_SPD_CALC
20879                                     ***** BEGIN-POOL *****
20880 00003E24 00000000                   DATA FOR SOURCE-LINE 7139,7141
20881 00003E28 00000000                   DATA FOR SOURCE-LINE 7140
20882                                     ***** END-POOL *****
20883 00003E2C                   7154             .ALIGN  4                               ;
20884 00003E2C                   7155     _OUT_PLS_SPD_CALC:
20885                            7156             SUB_START
20886 00003E2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
20887                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20888 00003E2E D109              7157             MOV.L   #_OUTPLS_DELT,R1                        ;符号付
20889 00003E30 6211              7158             MOV.W   @R1,R2                                  ;
20890                            7159     ;;      SHLL    R2
20891                            7160     ;;      SHLL    R2
20892                            7161     ;;      SHLL    R2
20893                            7162     ;;      SHLL    R2                              ;*16
20894                            7163     
20895                            7164     ;       =====================================
20896 00003E32 D509              7165             MOV.L   #_OUTPLS_SPD_TOTAL,R5           ;= R5(ad4)
20897 00003E34 D609              7166             MOV.L   #_OUTPLS_SPD_AVL_TOP,R6         ;= R6(ad2)
20898 00003E36 D10A              7167             MOV.L   #_OUTPLS_POINT_SEL,R1           ;= R7(dt2)=10
20899 00003E38 6711              7168             MOV.W   @R1,R7                          ;
20900                            7169     
20901 00003E3A D80A              7170             MOV.L   #_OUTPLS_SPD_POINT,R8           ;= R8(ad2)
20902 00003E3C D90A              7171             MOV.L   #_OUT_PLS_SPD_DIR,R9            ;= R9(ad2) 0pls/s でも -と+がある
20903 00003E3E DA0B              7172             MOV.L   #_OUTPLS_1000MSEC_LAT,R10       ;= R10(ad2)
20904 00003E40 DB0B              7173             MOV.L   #_OUT_PLS_SPD,R11               ;= R11(ad4)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   267
PROGRAM NAME =

20905 00003E42 DC0C              7174             MOV.L   #_ABS_OUT_PLS_SPD,R12           ;= R12(ad4)
20906 00003E44 DD0C              7175             MOV.L   #_PV_OUT_SPD_PER,R13            ;= R13(ad2)
20907 00003E46 DE0D              7176             MOV.L   #_PVC_BRK_OUT_SPD,R14           ;= R14(ad2)
20908                            7177     
20909                            7178             FAR_JSR #_DELT_POS_SPD_CHG1,R0          ;ANS R2 ABS_PLS
20910 00003E48 D00D                   M           MOV.L   #_DELT_POS_SPD_CHG1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20911 00003E4A 400B                   M           JSR     @R0                     ;
20912 00003E4C 0009                   M           NOP                                     ;
20913                            7179     
20914                            7180             SUB_END
20915                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20916 00003E4E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20917                            7181             M_RTS
20918 00003E50 000B                   M           RTS                             ;RTSの後ろの
20919 00003E52 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20920                            7182     ;       *******************************************
20921                            7183     ;       ***     2003-07-01 PGﾊﾟﾙｽの速度演算     ***
20922                            7184     ;       *******************************************
20923                                     ***** BEGIN-POOL *****
20924 00003E54 00000000                   DATA FOR SOURCE-LINE 7157
20925 00003E58 00000000                   DATA FOR SOURCE-LINE 7165
20926 00003E5C 00000000                   DATA FOR SOURCE-LINE 7166
20927 00003E60 00000000                   DATA FOR SOURCE-LINE 7167
20928 00003E64 00000000                   DATA FOR SOURCE-LINE 7170
20929 00003E68 00000000                   DATA FOR SOURCE-LINE 7171
20930 00003E6C 00000000                   DATA FOR SOURCE-LINE 7172
20931 00003E70 00000000                   DATA FOR SOURCE-LINE 7173
20932 00003E74 00000000                   DATA FOR SOURCE-LINE 7174
20933 00003E78 00000000                   DATA FOR SOURCE-LINE 7175
20934 00003E7C 00000000                   DATA FOR SOURCE-LINE 7176
20935 00003E80 00000000                   DATA FOR SOURCE-LINE 7178
20936                                     ***** END-POOL *****
20937 00003E84                   7185             .ALIGN  4                               ;
20938 00003E84                   7186     _ENC_PLS_SPD_CALC:
20939                            7187             SUB_START
20940 00003E84 4F22                   M           STS.L   PR,@-R15                ;[必要]
20941                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20942                            7188     
20943                            7189     ;       === 2003-07-01 1msec差分速度算出用 ==
20944 00003E86 D109              7190             MOV.L   #_ENCPLS_DELT,R1;                       ;符号付
20945 00003E88 6211              7191             MOV.W   @R1,R2                                  ;R2(dt2)
20946                            7192     ;       =====================================
20947 00003E8A D509              7193             MOV.L   #_ENCPLS_SPD_TOTAL,R5                   ;= R5(ad4)
20948 00003E8C D609              7194             MOV.L   #_ENCPLS_SPD_AVL_TOP,R6                 ;= R6(ad2)
20949 00003E8E D10A              7195             MOV.L   #_ENCPLS_POINT_SEL,R1                   ;= R7(dt2)=10
20950 00003E90 6711              7196             MOV.W   @R1,R7                                  ;
20951                            7197     
20952 00003E92 D80A              7198             MOV.L   #_ENCPLS_SPD_POINT,R8                   ;= R8(ad2)
20953 00003E94 D90A              7199             MOV.L   #_ENC_PLS_SPD_DIR,R9                    ;= R9(ad2) 0pls/s でも -と+がある
20954 00003E96 DA0B              7200             MOV.L   #_ENCPLS_1000MSEC_LAT,R10               ;= R10(ad2)
20955 00003E98 DB0B              7201             MOV.L   #_ENC_PLS_SPD,R11                       ;= R11(ad4)
20956 00003E9A DC0C              7202             MOV.L   #_ABS_ENC_PLS_SPD,R12                   ;= R12(ad4)
20957 00003E9C DD0C              7203             MOV.L   #_PV_ENC_SPD_PER,R13                    ;= R13(ad2)
20958 00003E9E DE0D              7204             MOV.L   #_PVC_BRK_ENC_SPD,R14                   ;= R14(ad2) per
20959                            7205             FAR_JSR #_DELT_POS_SPD_CHG1,R0                  ;ANS R2 ABS_PLS
20960 00003EA0 D00D                   M           MOV.L   #_DELT_POS_SPD_CHG1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
20961 00003EA2 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   268
PROGRAM NAME =

20962 00003EA4 0009                   M           NOP                                     ;
20963                            7206     
20964                            7207             SUB_END
20965                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
20966 00003EA6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
20967                            7208             M_RTS
20968 00003EA8 000B                   M           RTS                             ;RTSの後ろの
20969 00003EAA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
20970                            7209     
20971                            7210     
20972                            7211     ;       *******************************************
20973                            7212     ;       ***     2003-07-01 PGﾊﾟﾙｽの速度演算     ***
20974                            7213     ;       *******************************************
20975                                     ***** BEGIN-POOL *****
20976 00003EAC 00000000                   DATA FOR SOURCE-LINE 7190
20977 00003EB0 00000000                   DATA FOR SOURCE-LINE 7193
20978 00003EB4 00000000                   DATA FOR SOURCE-LINE 7194
20979 00003EB8 00000000                   DATA FOR SOURCE-LINE 7195
20980 00003EBC 00000000                   DATA FOR SOURCE-LINE 7198
20981 00003EC0 00000000                   DATA FOR SOURCE-LINE 7199
20982 00003EC4 00000000                   DATA FOR SOURCE-LINE 7200
20983 00003EC8 00000000                   DATA FOR SOURCE-LINE 7201
20984 00003ECC 00000000                   DATA FOR SOURCE-LINE 7202
20985 00003ED0 00000000                   DATA FOR SOURCE-LINE 7203
20986 00003ED4 00000000                   DATA FOR SOURCE-LINE 7204
20987 00003ED8 00000000                   DATA FOR SOURCE-LINE 7205
20988                                     ***** END-POOL *****
20989 00003EDC                   7214             .ALIGN  4                               ;
20990 00003EDC                   7215     _ENC_PLS_SPD_CLR:
20991                            7216             SUB_START
20992 00003EDC 4F22                   M           STS.L   PR,@-R15                ;[必要]
20993                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
20994                            7217     
20995 00003EDE 222A              7218             XOR     R2,R2
20996 00003EE0 D10A              7219             MOV.L   #_ENCPLS_DELT,R1;                       ;符号付
20997 00003EE2 2121              7220             MOV.W   R2,@R1                                  ;
20998                            7221     
20999 00003EE4 D50A              7222             MOV.L   #_ENCPLS_SPD_TOTAL,R5                   ;= R5(ad4)
21000 00003EE6 D60B              7223             MOV.L   #_ENCPLS_SPD_AVL_TOP,R6                 ;= R6(ad2)
21001 00003EE8 D10B              7224             MOV.L   #_ENCPLS_POINT_SEL,R1                   ;= R7(dt2)=10
21002 00003EEA 6711              7225             MOV.W   @R1,R7                                  ;
21003 00003EEC D80B              7226             MOV.L   #_ENCPLS_SPD_POINT,R8                   ;= R8(ad2)
21004                            7227             FAR_JSR #_DELT_POS_SPD_CLR,R0                   ;
21005 00003EEE D00C                   M           MOV.L   #_DELT_POS_SPD_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21006 00003EF0 400B                   M           JSR     @R0                     ;
21007 00003EF2 0009                   M           NOP                                     ;
21008                            7228     
21009                            7229     ;;;     MOV.L   #_ENC_PLS_SPD_DIR,R9                    ;= R9(ad2) 0pls/s でも -と+がある
21010                            7230     ;;;     MOV.L   #_ENCPLS_1000MSEC_LAT,R10               ;= R10(ad2)
21011 00003EF4 200A              7231             XOR     R0,R0
21012 00003EF6 DB0B              7232             MOV.L   #_ENC_PLS_SPD,R11                       ;= R11(ad4)
21013 00003EF8 2B02              7233             MOV.L   R0,@R11
21014 00003EFA DC0B              7234             MOV.L   #_ABS_ENC_PLS_SPD,R12                   ;= R12(ad4)
21015 00003EFC 2C02              7235             MOV.L   R0,@R12
21016 00003EFE DD0B              7236             MOV.L   #_PV_ENC_SPD_PER,R13                    ;= R13(ad2)
21017 00003F00 2D01              7237             MOV.W   R0,@R13
21018 00003F02 DE0B              7238             MOV.L   #_PVC_BRK_ENC_SPD,R14                   ;= R14(ad2)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   269
PROGRAM NAME =

21019 00003F04 2E01              7239             MOV.W   R0,@R14
21020                            7240     
21021                            7241     
21022                            7242             SUB_END
21023                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21024 00003F06 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21025                            7243             M_RTS
21026 00003F08 000B                   M           RTS                             ;RTSの後ろの
21027 00003F0A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21028                            7244     
21029                            7245     ;       .GLOBAL _PV_ENC_SPD_PER;//0~100.00%
21030                            7246     ;       .GLOBAL _PV_OUT_SPD_PER;//0~100.00%
21031                            7247     
21032                            7248     ;_ENCPLS_SPD_TOTAL      = R5(ad4)
21033                            7249     ;_ENC_PLS_SPD_DIR       = R9(ad2) 0pls/s でも -と+がある
21034                            7250     ;_ENCPLS_POINT_SEL      = R7(dt2)=10
21035                            7251     ;_ENCPLS_DELT           = R2(dt2)
21036                            7252     ;_ENCPLS_SPD_AVL_TOP    = R6(ad2)
21037                            7253     ;_ENCPLS_SPD_POINT      = R8(ad2)
21038                            7254     ;_ENCPLS_1000MSEC_LAT   =R10(ad2)
21039                            7255     ;_ENC_PLS_SPD           = R11(ad4)
21040                            7256     ;_ABS_ENC_PLS_SPD       = R12(ad4)
21041                            7257     ;_PV_ENC_SPD_PER        =R13(ad2)
21042                            7258     ;_PVC_ENC_SPD_PER       =R14(ad2)MINLIMIT
21043                            7259     ;R0,R1,R2,R3,R4 WORK
21044                            7260     
21045                            7261     ;       ***********************************************************
21046                            7262     ;       ***                                                     ***
21047                            7263     ;       ***     1msecのﾃﾞｰﾀの移動平均を行う                     ***
21048                            7264     ;       ***     不感帯がないと停止時はｸﾘｱ処理ばかりはしる       ***
21049                            7265     ;       ***     処理の重さだけの話になる                        ***
21050                            7266     ;       ***     (+/-10pls溜まるまで待つか=>やらない)            ***
21051                            7267     ;       ***                                                     ***
21052                            7268     ;       ***********************************************************
21053                                     ***** BEGIN-POOL *****
21054 00003F0C 00000000                   DATA FOR SOURCE-LINE 7219
21055 00003F10 00000000                   DATA FOR SOURCE-LINE 7222
21056 00003F14 00000000                   DATA FOR SOURCE-LINE 7223
21057 00003F18 00000000                   DATA FOR SOURCE-LINE 7224
21058 00003F1C 00000000                   DATA FOR SOURCE-LINE 7226
21059 00003F20 00000000                   DATA FOR SOURCE-LINE 7227
21060 00003F24 00000000                   DATA FOR SOURCE-LINE 7232
21061 00003F28 00000000                   DATA FOR SOURCE-LINE 7234
21062 00003F2C 00000000                   DATA FOR SOURCE-LINE 7236
21063 00003F30 00000000                   DATA FOR SOURCE-LINE 7238
21064                                     ***** END-POOL *****
21065 00003F34                   7269             .ALIGN  4                               ;
21066 00003F34                   7270     _DELT_POS_SPD_CHG1:
21067                            7271             SUB_START
21068 00003F34 4F22                   M           STS.L   PR,@-R15                ;[必要]
21069                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21070                            7272     
21071 00003F36 2778              7273             TST     R7,R7                   ;
21072                            7274             TST_BIT_ON DELT_POS_SPDCG1_020  ;
21073 00003F38 8B00                   M           BF      DELT_POS_SPDCG1_020
21074 00003F3A 7701              7275             ADD     #1,R7                   ;
21075 00003F3C                   7276     DELT_POS_SPDCG1_020:                    ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   270
PROGRAM NAME =

21076                            7277     
21077 00003F3C 2228              7278             TST     R2,R2                   ;R2=0
21078                            7279             TST_BIT_OF DELT_POS_SPDCG1_200  ;
21079 00003F3E 890C                   M           BT      DELT_POS_SPDCG1_200
21080 00003F40 6091              7280             MOV.W   @R9,R0                  ;符号LOAD
21081 00003F42 4211              7281             CMP/PZ  R2                      ;
21082 00003F44 8903              7282             BT      DELT_POS_SPDCG1_050     ;"+"
21083 00003F46 2008              7283             TST     R0,R0                   ;
21084                            7284             TST_BIT_ON DELT_POS_SPDCG1_200  ;"-" CLR処理不要
21085 00003F48 8B07                   M           BF      DELT_POS_SPDCG1_200
21086                            7285             M_BRA   DELT_POS_SPDCG1_100     ;前回-で今回+ ｸﾘｱ必要
21087 00003F4A A002                   M           BRA     DELT_POS_SPDCG1_100
21088 00003F4C 0009                   M           NOP
21089                            7286     
21090 00003F4E                   7287     DELT_POS_SPDCG1_050:
21091 00003F4E 2008              7288             TST     R0,R0                   ;
21092                            7289             TST_BIT_OF DELT_POS_SPDCG1_200  ;今回も前回も+
21093 00003F50 8903                   M           BT      DELT_POS_SPDCG1_200
21094                            7290     
21095                            7291     ;       ====== CLR =======
21096 00003F52                   7292     DELT_POS_SPDCG1_100:
21097                            7293             FAR_JSR #_DELT_POS_SPD_CLR,R0
21098 00003F52 D020                   M           MOV.L   #_DELT_POS_SPD_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21099 00003F54 400B                   M           JSR     @R0                     ;
21100 00003F56 0009                   M           NOP                                     ;
21101                            7294     
21102                            7295     
21103 00003F58 0009              7296             NOP                             ;ﾊﾞﾌｧはｸﾘｱするけど計算は行う
21104                            7297     
21105                            7298     ;       ====================================
21106 00003F5A                   7299     DELT_POS_SPDCG1_200:
21107 00003F5A 6081              7300             MOV.W   @R8,R0                  ;POINTER
21108 00003F5C 4000              7301             SHLL    R0                      ;2Byte
21109 00003F5E 360C              7302             ADD     R0,R6                   ;TOP+POINTER
21110 00003F60 6161              7303             MOV.W   @R6,R1                  ;OLD LOAD
21111 00003F62 2621              7304             MOV.W   R2,@R6                  ;NEW SAVE
21112 00003F64 6352              7305             MOV.L   @R5,R3                  ;TOTAL
21113 00003F66 332C              7306             ADD     R2,R3                   ;
21114 00003F68 3318              7307             SUB     R1,R3                   ;
21115 00003F6A 2532              7308             MOV.L   R3,@R5                  ;TOTAL REFLASH
21116 00003F6C 4001              7309             SHLR    R0                      ;
21117 00003F6E 7001              7310             ADD     #1,R0                   ;
21118 00003F70 3072              7311             CMP/HS  R7,R0                   ;R7(10) =<R0(0~9)
21119 00003F72 8B00              7312             BF      DELT_POS_SPDCG1_250     ;
21120 00003F74 200A              7313             XOR     R0,R0                   ;
21121 00003F76                   7314     DELT_POS_SPDCG1_250:                    ;
21122 00003F76 2801              7315             MOV.W   R0,@R8                  ;POINTER +1 REFLASH
21123                            7316     ;       ==================================
21124 00003F78 61A1              7317             MOV.W   @R10,R1                 ;TOTAL(10msec)*100=PLS/S
21125 00003F7A 331D              7318             DMULS.L R1,R3                   ;total*100=pps
21126 00003F7C 021A              7319             STS     MACL,R2                 ;
21127                            7320     
21128 00003F7E 2B22              7321             MOV.L   R2,@R11                 ;_ENC_PLS_SPD 符号付 0.1pps??1PPSでしょう。
21129 00003F80 2228              7322             TST     R2,R2                   ;
21130                            7323             TST_BIT_OF DELT_POS_SPDCG1_350  ;速度が0なら符号は変えない
21131 00003F82 8905                   M           BT      DELT_POS_SPDCG1_350
21132                            7324     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   271
PROGRAM NAME =

21133 00003F84 200A              7325             XOR     R0,R0                   ;
21134 00003F86 4211              7326             CMP/PZ  R2                      ;+?
21135 00003F88 8901              7327             BT      DELT_POS_SPDCG1_300     ;
21136 00003F8A 622B              7328             NEG     R2,R2                   ;
21137 00003F8C E0FF              7329             MOV     #-1,R0                  ;
21138 00003F8E                   7330     DELT_POS_SPDCG1_300:                    ;
21139 00003F8E 2901              7331             MOV.W   R0,@R9                  ;SHIN _ENC_PLS_SPD_DIR
21140 00003F90                   7332     DELT_POS_SPDCG1_350:                    ;
21141                            7333     
21142                            7334     ;       =========================================
21143 00003F90 D111              7335             MOV.L   #_WPAR_ZERO_SPD,R1                      ;
21144 00003F92 6011              7336             MOV.W   @R1,R0                                  ;
21145 00003F94 3202              7337             CMP/HS  R0,R2                                   ;MIN
21146 00003F96 8900              7338             BT      DELT_POS_SPDCG1_380                     ;
21147 00003F98 222A              7339             XOR     R2,R2                                   ;
21148 00003F9A                   7340     DELT_POS_SPDCG1_380:                                    ;
21149 00003F9A 2C22              7341             MOV.L   R2,@R12                 ;_ABS_ENC_PLS_SPD       = R12(ad4)
21150                            7342     
21151                            7343     ;       ==== 速度換算 ======
21152                            7344     ;;;2010-10-22   MOV.L   #_LINK_MAX_SPD_PLS,R0                   ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　p
                                          ls/s
21153 00003F9C D00F              7345             MOV.L   #_SETD_LINK_MAX_SPD_PLS,R0                      ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　p
                                          ls/s[SETD_LINK_MAX_SPD_PLS　ｻｰﾎﾞﾊﾟﾗ]
21154 00003F9E 6402              7346             MOV.L   @R0,R4                                          ;
21155 00003FA0 9115              7347             MOV.W   #_SPD_PER_MAX,R1                                ;100.00per
21156                            7348             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
21157 00003FA2 D00F                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21158 00003FA4 400B                   M           JSR     @R0                     ;
21159 00003FA6 0009                   M           NOP                                     ;
21160 00003FA8 9112              7349             MOV.W   #_SPD_PER_MAX*110/100,R1                        ;110.00per
21161                            7350             REG_PMAX_MMIN   DATA_REG=R2,MAX_MIN_REG=R1              ;R1=10000
21162 00003FAA 3123                   M           CMP/GE  R2,R1           ;
21163 00003FAC 8900                   M           BT      JMP0100014                              ;DATA =< MAX
21164 00003FAE 6213                   M           MOV     R1,R2           ;MAX LIMIT
21165 00003FB0                        M   JMP0100014:                                     ;
21166 00003FB0 611B                   M           NEG     R1,R1   ;
21167 00003FB2 3213                   M           CMP/GE  R1,R2           ;
21168 00003FB4 8900                   M           BT      JMP0200014                              ;MIN =< DATA
21169 00003FB6 6213                   M           MOV     R1,R2           ;MIN LIMIT
21170 00003FB8                        M   JMP0200014:                                     ;
21171 00003FB8 611B                   M           NEG     R1,R1   ;
21172 00003FBA 2D21              7351             MOV.W   R2,@R13                                         ;_PV_ENC_SPD_PER
21173                            7352     
21174                            7353     ;       =========================================
21175 00003FBC D109              7354             MOV.L   #_WPAR_BRK_SEL_SPD,R1                   ;%
21176 00003FBE 6011              7355             MOV.W   @R1,R0                                  ;
21177 00003FC0 3202              7356             CMP/HS  R0,R2                                   ;MIN
21178 00003FC2 8900              7357             BT      DELT_POS_SPDCG1_430                     ;
21179 00003FC4 222A              7358             XOR     R2,R2                                   ;
21180 00003FC6                   7359     DELT_POS_SPDCG1_430:                                    ;
21181 00003FC6 2E21              7360             MOV.W   R2,@R14                                 ;_PVC_BRK_ENC_SPD
21182                            7361     
21183                            7362             SUB_END
21184                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21185 00003FC8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21186                            7363             M_RTS
21187 00003FCA 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   272
PROGRAM NAME =

21188 00003FCC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21189                            7364     
21190                            7365     ;       ===== INPUT R5 TOTAL
21191                            7366     ;       ===== INPUT R6 AVL_TOP
21192                            7367     ;       ===== INPUT R7 POINTER MAX
21193                            7368     ;       ===== INPUT R8 POINTER
21194                            7369     ;       DESTROY R0,R1,R4
21195                            7370     ;
21196                                     ***** BEGIN-POOL *****
21197 00003FCE 2710                       DATA FOR SOURCE-LINE 7347
21198 00003FD0 2AF8                       DATA FOR SOURCE-LINE 7349
21199 00003FD2 0000                       ALIGNMENT CODE
21200 00003FD4 00000000                   DATA FOR SOURCE-LINE 7293
21201 00003FD8 00000000                   DATA FOR SOURCE-LINE 7335
21202 00003FDC 00000000                   DATA FOR SOURCE-LINE 7345
21203 00003FE0 00000000                   DATA FOR SOURCE-LINE 7348
21204 00003FE4 00000000                   DATA FOR SOURCE-LINE 7354
21205                                     ***** END-POOL *****
21206 00003FE8                   7371             .ALIGN  4                               ;
21207 00003FE8                   7372     _DELT_POS_SPD_CLR:
21208                            7373             SUB_START
21209 00003FE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
21210                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21211 00003FEA 244A              7374             XOR     R4,R4                   ;
21212 00003FEC 2841              7375             MOV.W   R4,@R8                  ;POINTER-CLR
21213 00003FEE 2542              7376             MOV.L   R4,@R5                  ;TOTAL-CLR
21214                            7377     
21215 00003FF0 6073              7378             MOV     R7,R0                   ;POINTER MAX
21216 00003FF2 6173              7379             MOV     R7,R1                   ;
21217 00003FF4 71FF              7380             ADD     #-1,R1                  ;
21218 00003FF6 4100              7381             SHLL    R1                      ;
21219 00003FF8 316C              7382             ADD     R6,R1                   ;TOP+MAX
21220                            7383     
21221 00003FFA                   7384     DELT_POS_SPDCG1_150:                    ;
21222 00003FFA 2141              7385             MOV.W   R4,@R1                  ;
21223 00003FFC 71FE              7386             ADD     #-2,R1                  ;
21224 00003FFE 70FF              7387             ADD     #-1,R0                  ;
21225 00004000 2008              7388             TST     R0,R0                   ;
21226                            7389             TST_BIT_ON DELT_POS_SPDCG1_150  ;
21227 00004002 8BFA                   M           BF      DELT_POS_SPDCG1_150
21228                            7390             SUB_END
21229                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21230 00004004 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21231                            7391             M_RTS
21232 00004006 000B                   M           RTS                             ;RTSの後ろの
21233 00004008 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21234                            7392     
21235                            7393     ;       ***************************
21236                            7394     ;       ***     減速中信号      ***
21237                            7395     ;       ***************************
21238                            7396     ;       TOP周波数ﾚｼﾞｽﾀ >現在周波数ﾚｼﾞｽﾀにて減速中
21239                            7397     ;       ・最終減速かどうかは,最終工程にて判断を行う
21240                            7398     ;       ・停止工程かどうか
21241                            7399     ;       R0,R1,R2,R3,R4,R6
21242                            7400     ;       R0=0
21243                            7401             .EXPORT _GENSOK_SIG_MAK         ;
21244 0000400C                   7402             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   273
PROGRAM NAME =

21245 0000400C                   7403     _GENSOK_SIG_MAK:
21246                            7404             SUB_START
21247 0000400C 4F22                   M           STS.L   PR,@-R15                ;[必要]
21248                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21249                            7405     
21250                            7406             FAR_JSR #_LOD_POS_STS_REG,R0    ;
21251 0000400E D003                   M           MOV.L   #_LOD_POS_STS_REG,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21252 00004010 400B                   M           JSR     @R0                     ;
21253 00004012 0009                   M           NOP                                     ;
21254 00004014 C804              7407             TST     #BIT2,R0                ;停止中
21255                            7408             TST_BIT_OF GENSOK_SIGMK_050     ;
21256 00004016 8903                   M           BT      GENSOK_SIGMK_050
21257                            7409             M_BRA   GENSOK_SIGMK_OF         ;YES:STOP NOT 減速中
21258 00004018 A00D                   M           BRA     GENSOK_SIGMK_OF
21259 0000401A 0009                   M           NOP
21260                            7410     
21261                                     ***** BEGIN-POOL *****
21262 0000401C 00000000                   DATA FOR SOURCE-LINE 7406
21263                                     ***** END-POOL *****
21264 00004020                   7411     GENSOK_SIGMK_050:                       ;
21265 00004020 D102              7412             MOV.L   #_POSCTL_STEP_FLG,R1    ;
21266 00004022 6011              7413             MOV.W   @R1,R0                  ;
21267 00004024 C806              7414             TST     #(BIT2+BIT1),R0         ;
21268                            7415             TST_BIT_ON GENSOK_SIGMK_ON      ;
21269 00004026 8B03                   M           BF      GENSOK_SIGMK_ON
21270                            7416             M_BRA   GENSOK_SIGMK_OF         ;
21271 00004028 A005                   M           BRA     GENSOK_SIGMK_OF
21272 0000402A 0009                   M           NOP
21273                            7417     
21274                            7418     
21275                                     ***** BEGIN-POOL *****
21276 0000402C 00000000                   DATA FOR SOURCE-LINE 7412
21277                                     ***** END-POOL *****
21278 00004030                   7419     GENSOK_SIGMK_ON:                        ;
21279 00004030 E001              7420             MOV     #BIT0,R0
21280                            7421             M_BRA   GENSOK_SIGMK_END        ;
21281 00004032 A001                   M           BRA     GENSOK_SIGMK_END
21282 00004034 0009                   M           NOP
21283 00004036                   7422     GENSOK_SIGMK_OF:                        ;
21284 00004036 200A              7423             XOR     R0,R0                   ;
21285 00004038                   7424     GENSOK_SIGMK_END:                       ;
21286                            7425             SUB_END
21287                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
21288 00004038 4F26                   M           LDS.L   @R15+,PR                ;[必要]
21289                            7426             M_RTS
21290 0000403A 000B                   M           RTS                             ;RTSの後ろの
21291 0000403C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
21292                            7427     
21293                            7428     
21294                            7429             .INCLUDE        "ssa_fulc.inc"          ;//ﾌﾙｸﾛｰｽﾞ処理
21295                               1 I1  ;       ***********************************
21296                               2 I1  ;       ***                             ***
21297                               3 I1  ;       ***     フルクローズ関連        ***
21298                               4 I1  ;       ***                             ***
21299                               5 I1  ;       ***********************************
21300          000003E8             6 I1  _POS_LATE1              .EQU    D'1000  ;100.0%
21301          000003E8             7 I1  _POS_GEN_BEFORE_LNG     .EQU    D'1000  ;1000ﾊﾟﾙｽ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   274
PROGRAM NAME =

21302          000003E8             8 I1  _POS_LATE_CALC_MAX      .EQU    D'1000  ;1000ﾊﾟﾙｽ
21303                               9 I1  
21304                              10 I1          .IMPORT _PAR_NEGERR_ENB         ;2012-05-30
21305                              11 I1          .IMPORT _PAR_NEG_EXITTIM        ;2012-10-05
21306                              12 I1  
21307                              13 I1          .IMPORT _PAR_KAJYU_HLDSPD       ;1　一旦停止中の荷重制御速度
21308                              14 I1          .IMPORT _PAR_KAJYU_ARASPD       ;2[荷重制御]一旦停止中のromﾊﾟﾗ範囲外 荷重制御速度
                                          pls7/s
21309                              15 I1          .IMPORT _PAR_KAJYU_CHGARA       ;3[荷重制御] 20KNを設定の荷重完了範囲から引くARA->
                                          HLD
21310                              16 I1  
21311                              17 I1          .IMPORT _PAR_NEGCTL_SPDS1       ;
21312                              18 I1  
21313                              19 I1          .IMPORT _PAR_KAJYU_CTIM1        ;2015-06-22周期１
21314                              20 I1          .IMPORT _PAR_KAJYU_CTIM2        ;2015-06-22周期２
21315                              21 I1          .IMPORT _PAR_KAJYU_STPARA       ;2015-06-22出力停止幅
21316                              22 I1          .IMPORT _PAR_KAJYU_FIRST        ;2015-06-22荷重制御開始幅 2015-06-11(H2W/H1F)
21317                              23 I1  
21318                              24 I1          .EXPORT _REVRSE_BASINC_SPDCALC  ;2015-03-15
21319                              25 I1  
21320                              26 I1  ;       ***********************************
21321                              27 I1  ;       ***                             ***
21322                              28 I1  ;       ***     払出中処理              ***
21323                              29 I1  ;       ***     (起動時の)              ***
21324                              30 I1  ;       ***                             ***
21325                              31 I1  ;       ***********************************
21326                              32 I1  ;       ANS     R0=0     (制御状態)
21327                              33 I1  ;               R0.BIT2=1(BUSY完了)
21328                              34 I1  ;
21329                              35 I1  ;_INT_CLS_CTL_FLG,R1    ;
21330                              36 I1  ;BIT0:INIT START
21331                              37 I1  ;BIT1:(反転必要)==>停止待ち<再計算>
21332                              38 I1  ;BIT2:ﾆｱｾﾞﾛに入った<1回目>==>停止待ち<払出=0 待ち>
21333                              39 I1  ;BIT3:ﾆｱｾﾞﾛに入ったまたは停止後の処理(KPに関係なく残ﾊﾟﾙｽ=0なら1ﾊﾟﾙｽずつ足していく)
21334                              40 I1  ;BIT4:
21335                              41 I1  ;BIT5:
21336                              42 I1  ;BIT6:完了
21337                              43 I1  ;残りﾊﾟﾙｽ+AのAの上限は1000ﾊﾟﾙｽとする<>
21338                              44 I1  ;
21339                              45 I1  ;
21340                              46 I1  ;(本当はこの中で多段の動きを考慮して、”Ｖ”指定の処理も必要)
21341                              47 I1  ;
21342                              48 I1  ;;;;    .IMPORT _CPUB_HENSA_FLG_CLR                     ;
21343                              49 I1  
21344 0000403E                     50 I1  _POS_CLS_TYP1_POS_CTL1:
21345                              51 I1          SUB_START
21346 0000403E 4F22                   M           STS.L   PR,@-R15                ;[必要]
21347                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
21348                              52 I1  
21349                              53 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R6                ;R/W 指令ﾊ
                                          ﾟﾙｽｶｳﾝﾀ(残ﾊﾟﾙｽ)
21350                              54 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   @R6,R11                                                 ;(data lat
                                          ch)
21351                              55 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   #_ACCESS_ERR1+9*4,R6                                    ;**
21352                              56 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    SWAP.W  R11,R11                                                 ;
21353                              57 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   #_POSLSI_CHK_RESTPLS,R1                                 ;
21354                              58 I1  ;;;;;;ﾃﾞﾊﾞｯｸ    MOV.L   R11,@R1                                                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   275
PROGRAM NAME =

21355                              59 I1  
21356                              60 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21357                              61 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
21358 00004040 D01B                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21359 00004042 400B                   M           JSR     @R0                     ;
21360 00004044 0009                   M           NOP                                     ;
21361                              62 C           PUSH_REG1 R5                                    ;
21362 00004046 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
21363                                 M                                           ;REG=>[SP]
21364                                 M                                           ;"-4" FF,FF,FF,FC
21365                              63 C           PUSH_REG1 R0                                    ;
21366 00004048 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
21367                                 M                                           ;REG=>[SP]
21368                                 M                                           ;"-4" FF,FF,FF,FC
21369                              64 C           FAR_JSR #_KJYU_DATA_INFO_SEL,R0                 ;227.13
21370 0000404A D01A                   M           MOV.L   #_KJYU_DATA_INFO_SEL,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21371 0000404C 400B                   M           JSR     @R0                     ;
21372 0000404E 0009                   M           NOP                                     ;
21373                              65 C           POP_REG1 R0                                     ;
21374                                 M                                   ; RE"+4" 00,00,00,04
21375 00004050 60F6                   M           MOV.L   @R15+,R0        ;
21376                              66 C           POP_REG1 R5                                     ;
21377                                 M                                   ; RE"+4" 00,00,00,04
21378 00004052 65F6                   M           MOV.L   @R15+,R5        ;
21379                              67 C   
21380                              68 C   ;;;;    FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;
21381                              69 C   
21382                              70             .AELSE
21383                              71             FAR_JSR #_POS_CLS_TYP1_PROC_CHK,R0              ;(目標位置､実測位置作成,R0=R5=ｸﾛｰｽ
                                          ﾞするかどうか？)
21384                              72             .AENDI
21385                              73 I1  
21386                              74 I1  
21387                              75 I1  
21388 00004054 2008                76 I1          TST     R0,R0                                   ;
21389                              77 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_NOT             ;R5=工程 R0=0停止工程ではない
21390 00004056 8908                   M           BT      POS_CLS_TYP1_POSCTL1_NOT
21391                              78 I1  
21392                              79 I1  ;       ---------------2014-09-22 REPEAT-----------
21393 00004058 D117                80 I1          MOV.L   #_MOT_REP_F,R1                          ;//BIT0(ﾘﾋﾟｰﾄ動作
21394 0000405A 6011                81 I1          MOV.W   @R1,R0                                  ;
21395 0000405C C801                82 I1          TST     #BIT0,R0                                ;
21396                              83 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_NOT20           ;
21397 0000405E 8B07                   M           BF      POS_CLS_TYP1_POSCTL1_NOT20
21398                              84 I1  
21399                              85 I1  
21400 00004060 D116                86 I1          MOV.L   #_CPOS_STEP_MAX,R1                      ;//設定
21401 00004062 6211                87 I1          MOV.W   @R1,R2                                  ;
21402 00004064 7201                88 I1          ADD     #1,R2                                   ;
21403 00004066 3250                89 I1          CMP/EQ  R5,R2                                   ;
21404 00004068 8B3B                90 I1          BF      POS_CLS_TYP1_POSCTL1_000                ;最終工程(戻り)ではない
21405                              91 I1  
21406                              92 I1  
21407 0000406A                     93 I1  POS_CLS_TYP1_POSCTL1_NOT:                               ;
21408                              94 I1  
21409                              95 I1  ;       ===== ｻｲｸﾙﾁｪﾝｼﾞ====
21410                              96 I1  ;       ===== 位置による速度切り替え＋速度連続のｽﾃｯﾌﾟ切替====
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   276
PROGRAM NAME =

21411                              97 I1          FAR_JSR #_SPD_STEP_CHG_FWD,R0   ;(STEP番号切替/速度切り替え)
21412 0000406A D015                   M           MOV.L   #_SPD_STEP_CHG_FWD,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21413 0000406C 400B                   M           JSR     @R0                     ;
21414 0000406E 0009                   M           NOP                                     ;
21415                              98 I1  
21416 00004070                     99 I1  POS_CLS_TYP1_POSCTL1_NOT20:                             ;
21417                             100 I1  
21418                             101 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
21419 00004070 D014                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21420 00004072 400B                   M           JSR     @R0                     ;
21421 00004074 0009                   M           NOP                                     ;
21422                             102 I1  ;       ===========================================
21423                             103 I1  ;       ===             最終工程                ===
21424                             104 I1  ;       ===========================================
21425                             105 I1  ;       ﾊﾝﾄﾞｼｪｲｸのみ行う
21426                             106 I1  ;;      FAR_JSR #_OPEN_ROT_NEAR_ZERO_CHK,R0             ;
21427                             107 I1  
21428                             108 I1          FAR_JSR #_OPEN_ROT_NEAR2_ZERO_CHK,R0            ;(ｵｰﾌﾟﾝでﾆｱｾﾞﾛにいるかどうか)
21429 00004076 D014                   M           MOV.L   #_OPEN_ROT_NEAR2_ZERO_CHK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21430 00004078 400B                   M           JSR     @R0                     ;
21431 0000407A 0009                   M           NOP                                     ;
21432                             109 I1  
21433                             110 I1  
21434                             111 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
21435 0000407C D113                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21436 0000407E 410B                   M           JSR     @R1                     ;
21437 00004080 0009                   M           NOP                                     ;
21438 00004082 C804               112 I1          TST     #BIT2,R0                                ;
21439                             113 I1          TST_BIT_OF TYP1_OPEN_PRC_200                    ;払出完了?
21440 00004084 892A                   M           BT      TYP1_OPEN_PRC_200
21441                             114 I1  
21442                             115 I1          FAR_JSR #_CPU_BA_NZR_ON_JG,R0                   ;
21443 00004086 D012                   M           MOV.L   #_CPU_BA_NZR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21444 00004088 400B                   M           JSR     @R0                     ;
21445 0000408A 0009                   M           NOP                                     ;
21446 0000408C 2008               116 I1          TST     R0,R0                                   ;
21447                             117 I1          TST_BIT_OF TYP1_OPEN_PRC_050                    ;相手側は終わった
21448 0000408E 8903                   M           BT      TYP1_OPEN_PRC_050
21449 00004090 D110               118 I1          MOV.L   #_NEAR_IN_FLG,R1                        ;ﾆｱｾﾞﾛ扱い
21450 00004092 6011               119 I1          MOV.W   @R1,R0                                  ;
21451 00004094 CB01               120 I1          OR      #BIT0,R0                                ;
21452 00004096 2101               121 I1          MOV.W   R0,@R1                                  ;
21453 00004098                    122 I1  TYP1_OPEN_PRC_050:
21454                             123 I1  
21455 00004098 D10E               124 I1          MOV.L   #_NEAR_IN_FLG,R1                        ;
21456 0000409A 6011               125 I1          MOV.W   @R1,R0                                  ;
21457 0000409C 2008               126 I1          TST     R0,R0                                   ;
21458                             127 I1          TST_BIT_OF TYP1_OPEN_PRC_200                    ;
21459 0000409E 891D                   M           BT      TYP1_OPEN_PRC_200
21460                             128 I1  
21461                             129 I1          FAR_JSR #_CMPAB_NEAR_END_PROC,R0                ;
21462 000040A0 D00D                   M           MOV.L   #_CMPAB_NEAR_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21463 000040A2 400B                   M           JSR     @R0                     ;
21464 000040A4 0009                   M           NOP                                     ;
21465 000040A6 2008               130 I1          TST     R0,R0                                   ;
21466                             131 I1          TST_BIT_OF TYP1_OPEN_PRC_200                    ;
21467 000040A8 8918                   M           BT      TYP1_OPEN_PRC_200
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   277
PROGRAM NAME =

21468                             132 I1  
21469 000040AA E004               133 I1          MOV     #BIT2,R0                                ;
21470                             134 I1          M_BRA   POS_CLS_TYP1_POSCTL1_END                ;ﾆｱｾﾞﾛ+払い出し完了
21471 000040AC A1AE                   M           BRA     POS_CLS_TYP1_POSCTL1_END
21472 000040AE 0009                   M           NOP
21473                             135 I1  
21474                                 I1  ***** BEGIN-POOL *****
21475 000040B0 00000000               I1  DATA FOR SOURCE-LINE 61
21476 000040B4 00000000               I1  DATA FOR SOURCE-LINE 64
21477 000040B8 00000000               I1  DATA FOR SOURCE-LINE 80
21478 000040BC 00000000               I1  DATA FOR SOURCE-LINE 86
21479 000040C0 00000000               I1  DATA FOR SOURCE-LINE 97
21480 000040C4 00000000               I1  DATA FOR SOURCE-LINE 101
21481 000040C8 00000000               I1  DATA FOR SOURCE-LINE 108
21482 000040CC 00000000               I1  DATA FOR SOURCE-LINE 111
21483 000040D0 00000000               I1  DATA FOR SOURCE-LINE 115
21484 000040D4 00000000               I1  DATA FOR SOURCE-LINE 118,124
21485 000040D8 00000000               I1  DATA FOR SOURCE-LINE 129
21486                                 I1  ***** END-POOL *****
21487 000040DC                    136 I1  TYP1_OPEN_PRC_200
21488 000040DC 200A               137 I1          XOR     R0,R0
21489                             138 I1          M_BRA   POS_CLS_TYP1_POSCTL1_END                ;
21490 000040DE A195                   M           BRA     POS_CLS_TYP1_POSCTL1_END
21491 000040E0 0009                   M           NOP
21492                             139 I1  
21493                             140 I1  
21494                             141 I1  
21495                             142 I1  
21496                             143 I1  ;       ===========================
21497                             144 I1  ;       ===     ﾌﾙｸﾛｰｽﾞ         ===
21498                             145 I1  ;       ===========================
21499 000040E2                    146 I1  POS_CLS_TYP1_POSCTL1_000:
21500 000040E2 D108               147 I1          MOV.L   #_INT_CLS_CTL_FLG,R1            ;
21501 000040E4 6011               148 I1          MOV.W   @R1,R0                          ;
21502 000040E6 C801               149 I1          TST     #BIT0,R0                        ;ｸﾛｰｽﾞ処理開始?
21503                             150 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_100     ;
21504 000040E8 8B48                   M           BF      POS_CLS_TYP1_POSCTL1_100
21505                             151 I1  
21506                             152 I1  
21507                             153 I1  ;;2012-10-05 2012-05-30では不具合       MOV.L   #_SET1_FULCLS_MXPLS,R1          ;
21508                             154 I1  ;;2012-10-05 2012-05-30では不具合       MOV.W   @R1,R0                          ;
21509                             155 I1  ;;2012-10-05 2012-05-30では不具合       MOV.L   #_CALC_FULCLS_MXPLS,R1          ;ｲﾝﾁﾝｸﾞMAX
                                          量
21510                             156 I1  ;;2012-10-05 2012-05-30では不具合       MOV.W   R0,@R1                          ;
21511                             157 I1  
21512                             158 I1  ;;;     ==============2012-10-05[本来の形 2012-05-30では不具合]=============
21513                             159 I1  ;;;     MOV.L   #_SET1_FULCLS_MXPLS,R1          ;
21514                             160 I1  ;;;     MOV.W   @R1,R0                          ;
21515                             161 I1  ;;;     MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R1     ;//目標−手前
21516                             162 I1  ;;;     MOV.L   @R1,R2                          ;
21517                             163 I1  ;;;     ADD     R2,R0                           ;
21518                             164 I1  ;;;     MOV.L   #_CALC_FULCLS_MXPLS,R1          ;ｲﾝﾁﾝｸﾞMAX量
21519                             165 I1  ;;;     MOV.L   R0,@R1                          ;2BYTE->4BYTE 2012-10-05 型変更U2B->U4Bに
                                          変更
21520                             166 I1  ;;;
21521                             167 I1  ;       ====== 2012-10-05 仕様変更 180度を最大追い込みとする====
21522                             168 I1          FAR_JSR #_FULCLS_MAXPLS_CALC,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   278
PROGRAM NAME =

21523 000040EA D007                   M           MOV.L   #_FULCLS_MAXPLS_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21524 000040EC 400B                   M           JSR     @R0                     ;
21525 000040EE 0009                   M           NOP                                     ;
21526                             169 I1  
21527                             170 I1  
21528                             171 I1  
21529                             172 I1  
21530                             173 I1  ;       ===== SIG-OFF[1] =====
21531                             174 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
21532 000040F0 D006                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21533 000040F2 400B                   M           JSR     @R0                     ;
21534 000040F4 0009                   M           NOP                                     ;
21535                             175 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;20060930POR
21536 000040F6 D106                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21537 000040F8 410B                   M           JSR     @R1                     ;
21538 000040FA 0009                   M           NOP                                     ;
21539 000040FC C804               176 I1          TST     #BIT2,R0                                ;
21540                             177 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_050             ;[払い出しパルス終了]
21541 000040FE 8B09                   M           BF      POS_CLS_TYP1_POSCTL1_050
21542                             178 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
21543 00004100 A183                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21544 00004102 0009                   M           NOP
21545                             179 I1  
21546                             180 I1  ;       =========================
21547                             181 I1  ;       =====(開始条件成立)======
21548                             182 I1  ;       =========================
21549                                 I1  ***** BEGIN-POOL *****
21550 00004104 00000000               I1  DATA FOR SOURCE-LINE 147
21551 00004108 00000000               I1  DATA FOR SOURCE-LINE 168
21552 0000410C 00000000               I1  DATA FOR SOURCE-LINE 174
21553 00004110 00000000               I1  DATA FOR SOURCE-LINE 175
21554                                 I1  ***** END-POOL *****
21555 00004114                    183 I1  POS_CLS_TYP1_POSCTL1_050:
21556 00004114 E001               184 I1          MOV     #BIT0,R0                                ;
21557 00004116 D10E               185 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;[step1:ｵｰﾌﾟﾝ後の起動:180度を目指
                                          す]
21558 00004118 2101               186 I1          MOV.W   R0,@R1                                  ;
21559                             187 I1  
21560                             188 I1  ;       --------- 2012-05-30----------
21561                             189 I1  ;[[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
21562                             190 I1          FAR_JSR #_FULCLS_MAXOVER_STEP_INI,R0
21563 0000411A D00E                   M           MOV.L   #_FULCLS_MAXOVER_STEP_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21564 0000411C 400B                   M           JSR     @R0                     ;
21565 0000411E 0009                   M           NOP                                     ;
21566                             191 I1  
21567 00004120 D10D               192 I1          MOV.L   #_PAR_NEG_EXITTIM-_CB_SYS_PARAM000+_W_PARAM_TOP,R1      ;2 2012-10-5追い込
                                          み失敗の待ち時間
21568 00004122 6011               193 I1          MOV.W   @R1,R0                                                  ;
21569 00004124 D10D               194 I1          MOV.L   #_NEG_EXITTIM,R1                                        ;//超変な針の穴を
                                          通すタイマ  2012-10-05
21570 00004126 2101               195 I1          MOV.W   R0,@R1                                                  ;
21571                             196 I1  
21572                             197 I1  
21573                             198 I1  ;       ===ｵｰﾌﾟﾝ出力完了〜ｲﾝﾁﾝｸﾞに切り替わる時のﾓ-ﾀ遅延分のﾀｲﾏ===
21574                             199 I1  ;;;2012-05-30   MOV.W   #D'50,R0                        ;50msec
21575 00004128 D10D               200 I1          MOV.L   #_FUL_CLS_DLYTM_SV,R1                   ;2012-05-30
21576 0000412A 6011               201 I1          MOV.W   @R1,R0                                  ;2012-05-30
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   279
PROGRAM NAME =

21577 0000412C D10D               202 I1          MOV.L   #_INT_CLS_DYL_TIM,R1                    ;
21578 0000412E 2101               203 I1          MOV.W   R0,@R1                                  ;遅延時間=0
21579                             204 I1  
21580                             205 I1  ;       =====2011-05-11[必要か???]======
21581                             206 I1  ;;;;;;;;;;;;;;;;;;;;;;;;;;2014-09-16悪さをしている      FAR_JSR #_FUL_START_FUL_OBJ_SET,R0
21582                             207 I1  
21583                             208 I1  
21584                             209 I1  ;       ========================
21585                             210 I1  ;       ===== 初期起動==========
21586                             211 I1  ;       ========================
21587                             212 I1  ;       自起動周波数=TOP-SPEED
21588                             213 I1  ;;;;2006-09-30  FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET1,R0        ;''''''''''''''''@@@@見直
                                          し''''''''''''''
21589                             214 I1  ;       -----------------------------
21590                             215 I1          FAR_JSR #_REVRSE_BASINC_SPDCALC,R0              ;位置_SET_CLSINC_SPDBAS_PLSをｼｽﾊﾟﾗ
                                          から
21591 00004130 D00D                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21592 00004132 400B                   M           JSR     @R0                     ;
21593 00004134 0009                   M           NOP                                     ;
21594                             216 I1          FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0        ;2007-07-07
21595 00004136 D00D                   M           MOV.L   #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21596 00004138 400B                   M           JSR     @R0                     ;
21597 0000413A 0009                   M           NOP                                     ;
21598                             217 I1  ;       -----------------------------
21599                             218 I1  ;;;;;;;;;;;;    FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0        ;''''''''''''''''@@@@見直
                                          し''''''''''''''
21600                             219 I1  ;
21601 0000413C D10C               220 I1          MOV.L   #_CALC_FULCLS_MXPLS,R1                  ;
21602 0000413E 6312               221 I1          MOV.L   @R1,R3                                  ;30000ﾊﾟﾙｽでしょう2012-05-30ｺﾒﾝﾄ
21603                             222 I1                                                          ;2012-10-05 2BYTE->4BYTE 型U2B->U4
                                          Bに変更
21604                             223 I1          FAR_JSR #_FUL_PLS_START,R0                      ;Input R6(SV),R7(PV),R3()
21605 00004140 D00C                   M           MOV.L   #_FUL_PLS_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21606 00004142 400B                   M           JSR     @R0                     ;
21607 00004144 0009                   M           NOP                                     ;
21608                             224 I1  
21609                             225 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21610                             226 C   ;       -------2015-03-15[R01:2014-08-20]--------
21611                             227 C           FAR_JSR #_KAJYU_START_UPCHK,R0
21612 00004146 D00C                   M           MOV.L   #_KAJYU_START_UPCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21613 00004148 400B                   M           JSR     @R0                     ;
21614 0000414A 0009                   M           NOP                                     ;
21615                             228 I1          .AENDI
21616                             229 I1  
21617                             230 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT   ;
21618 0000414C A15D                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21619 0000414E 0009                   M           NOP
21620                             231 I1  
21621                                 I1  ***** BEGIN-POOL *****
21622 00004150 00000000               I1  DATA FOR SOURCE-LINE 185
21623 00004154 00000000               I1  DATA FOR SOURCE-LINE 190
21624 00004158 00000000               I1  DATA FOR SOURCE-LINE 192
21625 0000415C 00000000               I1  DATA FOR SOURCE-LINE 194
21626 00004160 00000000               I1  DATA FOR SOURCE-LINE 200
21627 00004164 00000000               I1  DATA FOR SOURCE-LINE 202
21628 00004168 00000000               I1  DATA FOR SOURCE-LINE 215
21629 0000416C 00000000               I1  DATA FOR SOURCE-LINE 216
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   280
PROGRAM NAME =

21630 00004170 00000000               I1  DATA FOR SOURCE-LINE 220
21631 00004174 00000000               I1  DATA FOR SOURCE-LINE 223
21632 00004178 00000000               I1  DATA FOR SOURCE-LINE 227
21633                                 I1  ***** END-POOL *****
21634 0000417C                    232 I1  POS_CLS_TYP1_POSCTL1_100:
21635 0000417C                    233 I1  POS_CLS_TYP1_POSCTL1_105:                       ;
21636                             234 I1  ;-----------------------とりあえずここ-----------------
21637                             235 I1          DN_TIME LG=L,MEM_ADR=_SDAT_WAIT_PVTIM   ,WKREG1=R1,WKREG2=R4    ;[2015-07-22]
21638 0000417C D10A                   M           MOV.L   #_SDAT_WAIT_PVTIM,R1            ;SORCE ADRESS SET
21639 0000417E 6412                   M           MOV.L   @R1,R4          ;
21640 00004180 2448                   M           TST     R4,R4                   ;
21641 00004182 8901                   M           BT      JMP_0100015                     ;ZERO THEN JUMP
21642 00004184 4410                   M           DT      R4                              ;
21643 00004186 2142                   M           MOV.L   R4,@R1          ;STORE
21644 00004188                        M   JMP_0100015:
21645                             236 I1  
21646                             237 I1  
21647                             238 I1  ;       ===========================
21648                             239 I1  ;       ===     最終遷移        ===
21649                             240 I1  ;       ===========================
21650 00004188 D108               241 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
21651 0000418A 6011               242 I1          MOV.W   @R1,R0                                  ;
21652 0000418C C840               243 I1          TST     #BIT6,R0                                ;
21653                             244 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_110
21654 0000418E 8915                   M           BT      POS_CLS_TYP1_POSCTL1_110
21655                             245 I1  
21656                             246 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                        ;
21657 00004190 D107                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21658 00004192 410B                   M           JSR     @R1                     ;
21659 00004194 0009                   M           NOP                                     ;
21660 00004196 C804               247 I1          TST     #BIT2,R0                                ;
21661                             248 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_107             ;
21662 00004198 8904                   M           BT      POS_CLS_TYP1_POSCTL1_107
21663                             249 I1  
21664                             250 I1          FAR_JSR #_CMPAB_NEAR_END_PROC,R0                ;
21665 0000419A D006                   M           MOV.L   #_CMPAB_NEAR_END_PROC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21666 0000419C 400B                   M           JSR     @R0                     ;
21667 0000419E 0009                   M           NOP                                     ;
21668 000041A0 2008               251 I1          TST     R0,R0                                   ;
21669                             252 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_108             ;
21670 000041A2 8B09                   M           BF      POS_CLS_TYP1_POSCTL1_108
21671 000041A4                    253 I1  POS_CLS_TYP1_POSCTL1_107:                               ;
21672                             254 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
21673 000041A4 A131                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21674 000041A6 0009                   M           NOP
21675                             255 I1  
21676                                 I1  ***** BEGIN-POOL *****
21677 000041A8 00000000               I1  DATA FOR SOURCE-LINE 235
21678 000041AC 00000000               I1  DATA FOR SOURCE-LINE 241
21679 000041B0 00000000               I1  DATA FOR SOURCE-LINE 246
21680 000041B4 00000000               I1  DATA FOR SOURCE-LINE 250
21681                                 I1  ***** END-POOL *****
21682 000041B8                    256 I1  POS_CLS_TYP1_POSCTL1_108:                               ;
21683                             257 I1          M_BRA   POS_CLS_TYP1_POSCTL1_PC_END             ;終了
21684 000041B8 A124                   M           BRA     POS_CLS_TYP1_POSCTL1_PC_END
21685 000041BA 0009                   M           NOP
21686                             258 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   281
PROGRAM NAME =

21687                             259 I1  ;       ====================================
21688                             260 I1  ;       ===     通常運転or特殊な状態    ====
21689                             261 I1  ;       ====================================
21690 000041BC                    262 I1  POS_CLS_TYP1_POSCTL1_110:
21691                             263 I1  
21692                             264 I1  ;       ---------------- 2012-05-30　[[neg]][[払い出して達しなければSQへ出力するが次へ進む
                                          ]]-----------
21693 000041BC D106               265 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;2012-05-30
21694 000041BE 6011               266 I1          MOV.W   @R1,R0                          ;
21695 000041C0 C801               267 I1          TST     #BIT0,R0                        ;
21696                             268 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_112     ;
21697 000041C2 890F                   M           BT      POS_CLS_TYP1_POSCTL1_112
21698 000041C4 9006               269 I1          MOV.W   #(BIT2+BIT0),R0                 ;1ﾊﾟﾙｽ制御 BIT2:1PLS制御
21699 000041C6 D105               270 I1          MOV.L   #_INT_CLS_CTL_FLG,R1            ;
21700 000041C8 2101               271 I1          MOV.W   R0,@R1                          ;
21701                             272 I1          FAR_JSR #_FULCLS_MAXOVER_STEP_INI,R0    ;
21702 000041CA D005                   M           MOV.L   #_FULCLS_MAXOVER_STEP_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21703 000041CC 400B                   M           JSR     @R0                     ;
21704 000041CE 0009                   M           NOP                                     ;
21705                             273 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OVER98     ;
21706 000041D0 A042                   M           BRA     POS_CLS_TYP1_POSCTL1_OVER98
21707 000041D2 0009                   M           NOP
21708                                 I1  ***** BEGIN-POOL *****
21709 000041D4 0005                   I1  DATA FOR SOURCE-LINE 269
21710 000041D6 0000                   I1  ALIGNMENT CODE
21711 000041D8 00000000               I1  DATA FOR SOURCE-LINE 265
21712 000041DC 00000000               I1  DATA FOR SOURCE-LINE 270
21713 000041E0 00000000               I1  DATA FOR SOURCE-LINE 272
21714                                 I1  ***** END-POOL *****
21715 000041E4                    274 I1  POS_CLS_TYP1_POSCTL1_112:
21716                             275 I1  ;       -----------------------------------------
21717 000041E4 D102               276 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
21718 000041E6 6011               277 I1          MOV.W   @R1,R0                                  ;
21719 000041E8 C806               278 I1          TST     #(BIT2+BIT1),R0                         ;
21720                             279 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_113             ;
21721 000041EA 8B03                   M           BF      POS_CLS_TYP1_POSCTL1_113
21722                             280 I1          M_BRA   POS_CLS_TYP1_POSCTL1_200                ;(通常制御)
21723 000041EC A094                   M           BRA     POS_CLS_TYP1_POSCTL1_200
21724 000041EE 0009                   M           NOP
21725                             281 I1  
21726                                 I1  ***** BEGIN-POOL *****
21727 000041F0 00000000               I1  DATA FOR SOURCE-LINE 276
21728                                 I1  ***** END-POOL *****
21729 000041F4                    282 I1  POS_CLS_TYP1_POSCTL1_113:
21730                             283 I1  
21731                             284 I1  ;       ====== 1回ﾆｱｾﾞﾛに入ってからの処理======
21732                             285 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
21733 000041F4 D004                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21734 000041F6 400B                   M           JSR     @R0                     ;
21735 000041F8 0009                   M           NOP                                     ;
21736                             286 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
21737 000041FA D104                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21738 000041FC 410B                   M           JSR     @R1                     ;
21739 000041FE 0009                   M           NOP                                     ;
21740 00004200 C804               287 I1          TST     #BIT2,R0                                ;
21741                             288 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_115             ;
21742 00004202 8B05                   M           BF      POS_CLS_TYP1_POSCTL1_115
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   282
PROGRAM NAME =

21743                             289 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;払出待ち完了待ち
21744 00004204 A101                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21745 00004206 0009                   M           NOP
21746                             290 I1  
21747                                 I1  ***** BEGIN-POOL *****
21748 00004208 00000000               I1  DATA FOR SOURCE-LINE 285
21749 0000420C 00000000               I1  DATA FOR SOURCE-LINE 286
21750                                 I1  ***** END-POOL *****
21751 00004210                    291 I1  POS_CLS_TYP1_POSCTL1_115:                               ;
21752 00004210 D103               292 I1          MOV.L   #_INT_CLS_DYL_TIM,R1                    ;
21753 00004212 6011               293 I1          MOV.W   @R1,R0                                  ;遅延時間=0
21754 00004214 2008               294 I1          TST     R0,R0                                   ;
21755                             295 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_117             ;
21756 00004216 8905                   M           BT      POS_CLS_TYP1_POSCTL1_117
21757 00004218 70FF               296 I1          ADD     #-1,R0                                  ;
21758 0000421A 2101               297 I1          MOV.W   R0,@R1                                  ;
21759                             298 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;払出待ち完了待ち
21760 0000421C A0F5                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21761 0000421E 0009                   M           NOP
21762                                 I1  ***** BEGIN-POOL *****
21763 00004220 00000000               I1  DATA FOR SOURCE-LINE 292
21764                                 I1  ***** END-POOL *****
21765 00004224                    299 I1  POS_CLS_TYP1_POSCTL1_117:                               ;
21766                             300 I1  
21767                             301 I1  ;       ==== 停止した ====
21768                             302 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21769                             303 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
21770 00004224 D008                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21771 00004226 400B                   M           JSR     @R0                     ;
21772 00004228 0009                   M           NOP                                     ;
21773                             304 C           FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;
21774 0000422A D008                   M           MOV.L   #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21775 0000422C 400B                   M           JSR     @R0                     ;
21776 0000422E 0009                   M           NOP                                     ;
21777                             305 C           FAR_JSR #_POS_CLS_RNA_KJYU_NZ_CHEAK,R0          ;[1度ﾆｱｾﾞﾛに入ってからの処理]
21778 00004230 D007                   M           MOV.L   #_POS_CLS_RNA_KJYU_NZ_CHEAK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21779 00004232 400B                   M           JSR     @R0                     ;
21780 00004234 0009                   M           NOP                                     ;
21781                             306 I1          .AENDI
21782                             307 I1  
21783                             308 I1  
21784 00004236 8800               309 I1          CMP/EQ  #0,R0                                   ;
21785 00004238 8913               310 I1          BT      POS_CLS_TYP1_POSCTL1_ED050              ;[step3]今もﾆｱｾﾞﾛ内なら完了
21786                             311 I1  
21787                             312 I1          FAR_JSR #_OVER_DIG_CHK,R0                       ;
21788 0000423A D006                   M           MOV.L   #_OVER_DIG_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21789 0000423C 400B                   M           JSR     @R0                     ;
21790 0000423E 0009                   M           NOP                                     ;
21791 00004240 2008               313 I1          TST     R0,R0                                   ;
21792                             314 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_OVER99          ;
21793 00004242 8B0B                   M           BF      POS_CLS_TYP1_POSCTL1_OVER99
21794                             315 I1          M_BRA   POS_CLS_TYP1_POSCTL1_118                ;
21795 00004244 A02C                   M           BRA     POS_CLS_TYP1_POSCTL1_118
21796 00004246 0009                   M           NOP
21797                             316 I1  
21798                             317 I1  
21799                             318 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   283
PROGRAM NAME =

21800                             319 I1  
21801                             320 I1  ;       ===================================
21802                             321 I1  ;       ==== ﾆｱｾﾞﾛ範囲内 終了決定       ===
21803                             322 I1  ;       ===================================
21804                                 I1  ***** BEGIN-POOL *****
21805 00004248 00000000               I1  DATA FOR SOURCE-LINE 303
21806 0000424C 00000000               I1  DATA FOR SOURCE-LINE 304
21807 00004250 00000000               I1  DATA FOR SOURCE-LINE 305
21808 00004254 00000000               I1  DATA FOR SOURCE-LINE 312
21809                                 I1  ***** END-POOL *****
21810 00004258                    323 I1  POS_CLS_TYP1_POSCTL1_OVER98:                            ;
21811 00004258 0009               324 I1          nop
21812 0000425A 0009               325 I1          nop
21813 0000425C                    326 I1  POS_CLS_TYP1_POSCTL1_OVER99:                            ;
21814 0000425C 0009               327 I1          nop
21815 0000425E 0009               328 I1          nop
21816 00004260 0009               329 I1          nop
21817                             330 I1  
21818 00004262                    331 I1  POS_CLS_TYP1_POSCTL1_ED050:
21819 00004262 0009               332 I1          nop
21820 00004264 0009               333 I1          nop
21821                             334 I1  
21822                             335 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                 ;
21823 00004266 D009                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21824 00004268 400B                   M           JSR     @R0                     ;
21825 0000426A 0009                   M           NOP                                     ;
21826                             336 I1  ;       ====== 二重回路対策<CPUA>===========
21827 0000426C D108               337 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;やめる事を決定
21828 0000426E 6011               338 I1          MOV.W   @R1,R0                                  ;
21829 00004270 CB40               339 I1          OR      #BIT6,R0                                ;
21830 00004272 2101               340 I1          MOV.W   R0,@R1                                  ;
21831                             341 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
21832 00004274 D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21833 00004276 400B                   M           JSR     @R0                     ;
21834 00004278 0009                   M           NOP                                     ;
21835                             342 I1  
21836                             343 I1  ;       ==================================
21837                             344 I1          FAR_JSR #_POS_LSI_WORK_STOP2,R0
21838 0000427A D007                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21839 0000427C 400B                   M           JSR     @R0                     ;
21840 0000427E 0009                   M           NOP                                     ;
21841                             345 I1          FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
21842 00004280 D006                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21843 00004282 400B                   M           JSR     @R0                     ;
21844 00004284 0009                   M           NOP                                     ;
21845                             346 I1  ;       ==================================
21846                             347 I1  
21847                             348 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
21848 00004286 A0C0                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21849 00004288 0009                   M           NOP
21850                             349 I1  
21851                             350 I1  ;       ===========================
21852                             351 I1  ;       ====== ｲﾝﾁﾝｸﾞ処理==========
21853                             352 I1  ;       ===========================
21854                                 I1  ***** BEGIN-POOL *****
21855 0000428A 0000                   I1  ALIGNMENT CODE
21856 0000428C 00000000               I1  DATA FOR SOURCE-LINE 335
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   284
PROGRAM NAME =

21857 00004290 00000000               I1  DATA FOR SOURCE-LINE 337
21858 00004294 00000000               I1  DATA FOR SOURCE-LINE 341
21859 00004298 00000000               I1  DATA FOR SOURCE-LINE 344
21860 0000429C 00000000               I1  DATA FOR SOURCE-LINE 345
21861                                 I1  ***** END-POOL *****
21862 000042A0                    353 I1  POS_CLS_TYP1_POSCTL1_118:                               ;[step3 ﾊﾟﾙｽ出力停止し50msec後毎で
                                          ここにくる]
21863                             354 I1  ;       === 再起動処理(再起動時はKP=1) ====
21864                             355 I1  ;       (方向作成)
21865                             356 I1  ;       (ﾃﾞｰﾀ作成)
21866                             357 I1  
21867                             358 I1  ;       ----------- 2015-06-22[荷重・位置共通]--------------
21868 000042A0 D108               359 I1          MOV.L   #_SET1_INCPOS_KP01,R1           ;
21869 000042A2 6011               360 I1          MOV.W   @R1,R0                          ;
21870 000042A4 D108               361 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1      ;
21871 000042A6 2101               362 I1          MOV.W   R0,@R1                          ;
21872                             363 I1  
21873                             364 I1  
21874                             365 I1  ;       ------- 2015-03-15[R01:2014-07-15] ----------
21875                             366 I1          .AIF    1 EQ    1               ;
21876 000042A8 D108               367 C           MOV.L   #_FULCLS_MATHED,R1                      ;//0:位置 1:荷重
21877 000042AA 6011               368 C           MOV.W   @R1,R0                                  ;
21878 000042AC 2008               369 C           TST     R0,R0
21879                             370 C           TST_BIT_OF POS_CLS_TYP1_POSCTL1_119A            ;位置の速度JUMP
21880 000042AE 8913                   M           BT      POS_CLS_TYP1_POSCTL1_119A
21881                             371 C   
21882                             372 C   ;       -----------2015-06-22--------
21883                             373 C   ;       [未出力[ﾆｱｾﾞﾛ]/再起動ﾊﾟﾙｽ,遅延周期選択追加]
21884                             374 C           FAR_JSR #_RESTART_WAIT_PLS_DATA_SELECT,R0       ;
21885 000042B0 D007                   M           MOV.L   #_RESTART_WAIT_PLS_DATA_SELECT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21886 000042B2 400B                   M           JSR     @R0                     ;
21887 000042B4 0009                   M           NOP                                     ;
21888 000042B6 2008               375 C           TST     R0,R0                                   ;
21889                             376 C           TST_BIT_OF POS_CLS_TYP1_POSCTL1_119E_EX         ;
21890 000042B8 891F                   M           BT      POS_CLS_TYP1_POSCTL1_119E_EX
21891                             377 C   
21892                             378 C           FAR_JSR #_REVRSE_KAJYU_AREACHK_BASSET,R0        ;荷重:_SET_CLSINC_SPDBAS_PLSをｼｽﾊﾟ
                                          ﾗから
21893 000042BA D006                   M           MOV.L   #_REVRSE_KAJYU_AREACHK_BASSET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21894 000042BC 400B                   M           JSR     @R0                     ;
21895 000042BE 0009                   M           NOP                                     ;
21896                             379 C           M_BRA   POS_CLS_TYP1_POSCTL1_119E               ;
21897 000042C0 A00D                   M           BRA     POS_CLS_TYP1_POSCTL1_119E
21898 000042C2 0009                   M           NOP
21899                             380 C   
21900                             381 C   
21901                                 C   ***** BEGIN-POOL *****
21902 000042C4 00000000               C   DATA FOR SOURCE-LINE 359
21903 000042C8 00000000               C   DATA FOR SOURCE-LINE 361
21904 000042CC 00000000               C   DATA FOR SOURCE-LINE 367
21905 000042D0 00000000               C   DATA FOR SOURCE-LINE 374
21906 000042D4 00000000               C   DATA FOR SOURCE-LINE 378
21907                                 C   ***** END-POOL *****
21908 000042D8                    382 C   POS_CLS_TYP1_POSCTL1_119A:                              ;
21909                             383 C           FAR_JSR #_REVRSE_BASINC_SPDCALC,R0              ;位置_SET_CLSINC_SPDBAS_PLSをｼｽﾊﾟﾗ
                                          から
21910 000042D8 D009                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   285
PROGRAM NAME =

21911 000042DA 400B                   M           JSR     @R0                     ;
21912 000042DC 0009                   M           NOP                                     ;
21913 000042DE                    384 C   POS_CLS_TYP1_POSCTL1_119E:                              ;
21914                             385 I1          .AENDI
21915                             386 I1  
21916                             387 I1          FAR_JSR #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0        ;R6破壊
21917 000042DE D009                   M           MOV.L   #_POS_LSI_CLS_TOP_EQ_BAS_SET2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21918 000042E0 400B                   M           JSR     @R0                     ;
21919 000042E2 0009                   M           NOP                                     ;
21920                             388 I1  
21921                             389 I1  ;       ------ 2015-06-22 ---------
21922                             390 I1  ;;;;    MOV.L   #_SET1_INCPOS_KP01,R1                   ;
21923                             391 I1  ;;;;    MOV.W   @R1,R3                                  ;8ﾊﾟﾙｽ
21924 000042E4 D108               392 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1              ;
21925 000042E6 6311               393 I1          MOV.W   @R1,R3                                  ;8ﾊﾟﾙｽ
21926                             394 I1          FAR_JSR #_FUL_PLS_START,R0                      ;Input R6(SV),R7(PV),R3()
21927 000042E8 D008                   M           MOV.L   #_FUL_PLS_START,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21928 000042EA 400B                   M           JSR     @R0                     ;
21929 000042EC 0009                   M           NOP                                     ;
21930 000042EE E005               395 I1          MOV     #(BIT2+BIT0),R0                         ;1ﾊﾟﾙｽ制御 BIT2:1PLS制御
21931 000042F0 D107               396 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
21932 000042F2 2101               397 I1          MOV.W   R0,@R1                                  ;
21933                             398 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                 ;
21934 000042F4 D007                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21935 000042F6 400B                   M           JSR     @R0                     ;
21936 000042F8 0009                   M           NOP                                     ;
21937 000042FA                    399 I1  POS_CLS_TYP1_POSCTL1_119E_EX:                           ;
21938                             400 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
21939 000042FA A086                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21940 000042FC 0009                   M           NOP
21941                             401 I1  
21942                             402 I1  
21943                             403 I1  ;       =========通常運転(ﾆｱｾﾞﾛ待ち) =====
21944                                 I1  ***** BEGIN-POOL *****
21945 000042FE 0000                   I1  ALIGNMENT CODE
21946 00004300 00000000               I1  DATA FOR SOURCE-LINE 383
21947 00004304 00000000               I1  DATA FOR SOURCE-LINE 387
21948 00004308 00000000               I1  DATA FOR SOURCE-LINE 392
21949 0000430C 00000000               I1  DATA FOR SOURCE-LINE 394
21950 00004310 00000000               I1  DATA FOR SOURCE-LINE 396
21951 00004314 00000000               I1  DATA FOR SOURCE-LINE 398
21952                                 I1  ***** END-POOL *****
21953 00004318                    404 I1  POS_CLS_TYP1_POSCTL1_200:
21954                             405 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
21955                             406 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
21956 00004318 D00C                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21957 0000431A 400B                   M           JSR     @R0                     ;
21958 0000431C 0009                   M           NOP                                     ;
21959                             407 C           FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;
21960 0000431E D00C                   M           MOV.L   #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21961 00004320 400B                   M           JSR     @R0                     ;
21962 00004322 0009                   M           NOP                                     ;
21963                             408 C           FAR_JSR #_POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK,R0    ;
21964 00004324 D00B                   M           MOV.L   #_POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21965 00004326 400B                   M           JSR     @R0                     ;
21966 00004328 0009                   M           NOP                                     ;
21967                             409 C   
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   286
PROGRAM NAME =

21968                             410 I1          .AENDI
21969                             411 I1  
21970                             412 I1  
21971 0000432A 8800               413 I1          CMP/EQ  #0,R0                                                   ;
21972 0000432C 8B1C               414 I1          BF      POS_CLS_TYP1_POSCTL1_220                                        ;
21973                             415 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                                          ;[step2:停
                                          止]
21974 0000432E D00A                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21975 00004330 400B                   M           JSR     @R0                     ;
21976 00004332 0009                   M           NOP                                     ;
21977                             416 I1          FAR_JSR #_POS_LSI_SLOW_STOP,R0                                          ;
21978 00004334 D009                   M           MOV.L   #_POS_LSI_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21979 00004336 400B                   M           JSR     @R0                     ;
21980 00004338 0009                   M           NOP                                     ;
21981                             417 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_CLS_CTL_FLG,LG=W,BIT=BIT1,WKREG=R1     ;
21982 0000433A D109                   M           MOV.L   #_INT_CLS_CTL_FLG,R1            ;
21983 0000433C 6011                   M           MOV.W   @R1,R0          ;
21984 0000433E CB02                   M           OR      #BIT1,R0                ;
21985 00004340 2101                   M           MOV.W   R0,@R1          ;
21986                             418 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                                         ;
21987 00004342 D008                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
21988 00004344 400B                   M           JSR     @R0                     ;
21989 00004346 0009                   M           NOP                                     ;
21990                             419 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;ﾆｱｾﾞﾛにはいった
21991 00004348 A05F                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
21992 0000434A 0009                   M           NOP
21993                             420 I1  
21994                                 I1  ***** BEGIN-POOL *****
21995 0000434C 00000000               I1  DATA FOR SOURCE-LINE 406
21996 00004350 00000000               I1  DATA FOR SOURCE-LINE 407
21997 00004354 00000000               I1  DATA FOR SOURCE-LINE 408
21998 00004358 00000000               I1  DATA FOR SOURCE-LINE 415
21999 0000435C 00000000               I1  DATA FOR SOURCE-LINE 416
22000 00004360 00000000               I1  DATA FOR SOURCE-LINE 417
22001 00004364 00000000               I1  DATA FOR SOURCE-LINE 418
22002                                 I1  ***** END-POOL *****
22003 00004368                    421 I1  POS_CLS_TYP1_POSCTL1_220:
22004                             422 I1  
22005                             423 I1  ;       input R0
22006                             424 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
22007                             425 C   ;       -----------2015-03-15 荷重の場合ニアゼロにならないからここでオーバを見る--------
22008                             426 C           PUSH_REG1 R0
22009 00004368 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
22010                                 M                                           ;REG=>[SP]
22011                                 M                                           ;"-4" FF,FF,FF,FC
22012                             427 C           FAR_JSR #_OVER_DIG_CHK,R0
22013 0000436A D004                   M           MOV.L   #_OVER_DIG_CHK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22014 0000436C 400B                   M           JSR     @R0                     ;
22015 0000436E 0009                   M           NOP                                     ;
22016 00004370 6103               428 C           MOV     R0,R1                                                           ;
22017                             429 C           POP_REG1 R0
22018                                 M                                   ; RE"+4" 00,00,00,04
22019 00004372 60F6                   M           MOV.L   @R15+,R0        ;
22020                             430 C   
22021 00004374 2118               431 C           TST     R1,R1
22022                             432 C           TST_BIT_OF POS_CLS_TYP1_POSCTL1_222                     ;
22023 00004376 8903                   M           BT      POS_CLS_TYP1_POSCTL1_222
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   287
PROGRAM NAME =

22024                             433 C           M_BRA   POS_CLS_TYP1_POSCTL1_250                        ;
22025 00004378 A010                   M           BRA     POS_CLS_TYP1_POSCTL1_250
22026 0000437A 0009                   M           NOP
22027                             434 I1          .AENDI
22028                             435 I1  
22029                                 I1  ***** BEGIN-POOL *****
22030 0000437C 00000000               I1  DATA FOR SOURCE-LINE 427
22031                                 I1  ***** END-POOL *****
22032 00004380                    436 I1  POS_CLS_TYP1_POSCTL1_222:
22033                             437 I1  ;       -----------------------------------------------------------------------
22034                             438 I1  
22035                             439 I1  
22036                             440 I1  
22037                             441 I1  
22038 00004380 4011               442 I1          CMP/PZ  R0                                      ;+?
22039 00004382 8B07               443 I1          BF      POS_CLS_TYP1_POSCTL1_240                ;NO ﾏｲﾅｽ
22040                             444 I1  ;       === ＋方向へ行き過ぎている　ﾏｲﾅｽへ向かうべきだ  ;
22041 00004384 D402               445 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                   ;//BIT0
22042 00004386 6041               446 I1          MOV.W   @R4,R0                                  ;
22043 00004388 C801               447 I1          TST     #BIT0,R0                                ;
22044                             448 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_260             ;OK
22045 0000438A 8B21                   M           BF      POS_CLS_TYP1_POSCTL1_260
22046                             449 I1          M_BRA   POS_CLS_TYP1_POSCTL1_250                ;
22047 0000438C A006                   M           BRA     POS_CLS_TYP1_POSCTL1_250
22048 0000438E 0009                   M           NOP
22049                             450 I1  
22050                                 I1  ***** BEGIN-POOL *****
22051 00004390 00000000               I1  DATA FOR SOURCE-LINE 445
22052                                 I1  ***** END-POOL *****
22053 00004394                    451 I1  POS_CLS_TYP1_POSCTL1_240:
22054 00004394 D409               452 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                   ;//BIT0
22055 00004396 6041               453 I1          MOV.W   @R4,R0                                  ;
22056 00004398 C801               454 I1          TST     #BIT0,R0                                ;
22057                             455 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_260             ;OK
22058 0000439A 8919                   M           BT      POS_CLS_TYP1_POSCTL1_260
22059                             456 I1  
22060                             457 I1  ;       ======== 行き過ぎた ====
22061 0000439C                    458 I1  POS_CLS_TYP1_POSCTL1_250:
22062                             459 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                                          ;
22063 0000439C D008                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22064 0000439E 400B                   M           JSR     @R0                     ;
22065 000043A0 0009                   M           NOP                                     ;
22066                             460 I1          FAR_JSR #_POS_LSI_SLOW_STOP,R0                                          ;
22067 000043A2 D008                   M           MOV.L   #_POS_LSI_SLOW_STOP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22068 000043A4 400B                   M           JSR     @R0                     ;
22069 000043A6 0009                   M           NOP                                     ;
22070                             461 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_CLS_CTL_FLG,LG=W,BIT=BIT1,WKREG=R1     ;
22071 000043A8 D107                   M           MOV.L   #_INT_CLS_CTL_FLG,R1            ;
22072 000043AA 6011                   M           MOV.W   @R1,R0          ;
22073 000043AC CB02                   M           OR      #BIT1,R0                ;
22074 000043AE 2101                   M           MOV.W   R0,@R1          ;
22075                             462 I1          FAR_JSR #_CPUB_HENSA_FLG_CLR,R0                                         ;
22076 000043B0 D006                   M           MOV.L   #_CPUB_HENSA_FLG_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22077 000043B2 400B                   M           JSR     @R0                     ;
22078 000043B4 0009                   M           NOP                                     ;
22079                             463 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT                                   ;
22080 000043B6 A028                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   288
PROGRAM NAME =

22081 000043B8 0009                   M           NOP
22082                             464 I1  
22083                                 I1  ***** BEGIN-POOL *****
22084 000043BA 0000                   I1  ALIGNMENT CODE
22085 000043BC 00000000               I1  DATA FOR SOURCE-LINE 452
22086 000043C0 00000000               I1  DATA FOR SOURCE-LINE 459
22087 000043C4 00000000               I1  DATA FOR SOURCE-LINE 460
22088 000043C8 00000000               I1  DATA FOR SOURCE-LINE 461
22089 000043CC 00000000               I1  DATA FOR SOURCE-LINE 462
22090                                 I1  ***** END-POOL *****
22091 000043D0                    465 I1  POS_CLS_TYP1_POSCTL1_260:
22092                             466 I1  
22093                             467 I1  ;-------------------------2012-05-30 CHECK ----------------
22094                             468 I1  ;;[[neg]]
22095                             469 I1  ;;[[neg]]       MOV.L   #_PAR_NEGERR_ENB-_CB_SYS_PARAM000+_W_PARAM_TOP,R1       ;
22096                             470 I1  ;;[[neg]]       MOV.W   @R1,R0                                                  ;
22097                             471 I1  ;;[[neg]]       CMP/EQ  #1,R0                                                   ;
22098                             472 I1  ;;[[neg]]       BF      POS_CLS_TYP1_POSCTL1_280                                ;
22099                             473 I1  ;;[[neg]]
22100 000043D0 D108               474 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
22101 000043D2 6011               475 I1          MOV.W   @R1,R0                                  ;
22102 000043D4 C806               476 I1          TST     #(BIT2+BIT1),R0                         ;
22103                             477 I1          TST_BIT_ON POS_CLS_TYP1_POSCTL1_280             ;(通常制御)
22104 000043D6 8B0A                   M           BF      POS_CLS_TYP1_POSCTL1_280
22105                             478 I1  
22106                             479 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
22107 000043D8 D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22108 000043DA 400B                   M           JSR     @R0                     ;
22109 000043DC 0009                   M           NOP                                     ;
22110                             480 I1          FAR_JSR #_LOD_POS_STS_REG_POR,R1                ;
22111 000043DE D107                   M           MOV.L   #_LOD_POS_STS_REG_POR,R1                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22112 000043E0 410B                   M           JSR     @R1                     ;
22113 000043E2 0009                   M           NOP                                     ;
22114 000043E4 C804               481 I1          TST     #BIT2,R0                                ;
22115                             482 I1          TST_BIT_OF POS_CLS_TYP1_POSCTL1_280             ;まだﾊﾟﾙｽがある
22116 000043E6 8902                   M           BT      POS_CLS_TYP1_POSCTL1_280
22117                             483 I1  
22118                             484 I1  ;       ---ﾊﾟﾙｽがなくなった---
22119                             485 I1          FAR_JSR #_FULCLS_MAXOVER_ERR_WT,R0              ;2012-05-30/2012-10-05
22120 000043E8 D005                   M           MOV.L   #_FULCLS_MAXOVER_ERR_WT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22121 000043EA 400B                   M           JSR     @R0                     ;
22122 000043EC 0009                   M           NOP                                     ;
22123                             486 I1  
22124                             487 I1  ;       ----------------------------------------------------------
22125 000043EE                    488 I1  POS_CLS_TYP1_POSCTL1_280:
22126                             489 I1          M_BRA   POS_CLS_TYP1_POSCTL1_OUT_WAIT           ;
22127 000043EE A00C                   M           BRA     POS_CLS_TYP1_POSCTL1_OUT_WAIT
22128 000043F0 0009                   M           NOP
22129                             490 I1  
22130                             491 I1  
22131                             492 I1  
22132                                 I1  ***** BEGIN-POOL *****
22133 000043F2 0000                   I1  ALIGNMENT CODE
22134 000043F4 00000000               I1  DATA FOR SOURCE-LINE 474
22135 000043F8 00000000               I1  DATA FOR SOURCE-LINE 479
22136 000043FC 00000000               I1  DATA FOR SOURCE-LINE 480
22137 00004400 00000000               I1  DATA FOR SOURCE-LINE 485
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   289
PROGRAM NAME =

22138                                 I1  ***** END-POOL *****
22139 00004404                    493 I1  POS_CLS_TYP1_POSCTL1_PC_END:
22140 00004404 E004               494 I1          MOV     #BIT2,R0                                ;
22141                             495 I1          M_BRA   POS_CLS_TYP1_POSCTL1_END                ;
22142 00004406 A001                   M           BRA     POS_CLS_TYP1_POSCTL1_END
22143 00004408 0009                   M           NOP
22144                             496 I1  
22145 0000440A                    497 I1  POS_CLS_TYP1_POSCTL1_OUT_WAIT:                          ;
22146 0000440A 200A               498 I1          XOR     R0,R0                                   ;まだよ
22147 0000440C                    499 I1  POS_CLS_TYP1_POSCTL1_END:
22148                             500 I1          PUSH_REG1 R0
22149 0000440C 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
22150                                 M                                           ;REG=>[SP]
22151                                 M                                           ;"-4" FF,FF,FF,FC
22152                             501 I1          PUSH_REG1 R1
22153 0000440E 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
22154                                 M                                           ;REG=>[SP]
22155                                 M                                           ;"-4" FF,FF,FF,FC
22156 00004410 D104               502 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1          ;
22157 00004412 6011               503 I1          MOV.W   @R1,R0                          ;
22158 00004414 D104               504 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;247.0/247.1
22159 00004416 2101               505 I1          MOV.W   R0,@R1                          ;
22160                             506 I1          POP_REG1 R1
22161                                 M                                   ; RE"+4" 00,00,00,04
22162 00004418 61F6                   M           MOV.L   @R15+,R1        ;
22163                             507 I1          POP_REG1 R0
22164                                 M                                   ; RE"+4" 00,00,00,04
22165 0000441A 60F6                   M           MOV.L   @R15+,R0        ;
22166                             508 I1  
22167                             509 I1          SUB_END
22168                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22169 0000441C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22170                             510 I1          M_RTS
22171 0000441E 000B                   M           RTS                             ;RTSの後ろの
22172 00004420 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22173                             511 I1  
22174                             512 I1  
22175                             513 I1  ;       ***************************
22176                             514 I1  ;       ***                     ***
22177                             515 I1  ;       ***     2015-06-22      ***
22178                             516 I1  ;;      ***                     ***
22179                             517 I1  ;       ***************************
22180                             518 I1  ;       出力しない,ﾊﾟﾙｽ,遅延周期を設定
22181                             519 I1  ;       ANS:R0=0:出力しない
22182                             520 I1  ;
22183                                 I1  ***** BEGIN-POOL *****
22184 00004422 0000                   I1  ALIGNMENT CODE
22185 00004424 00000000               I1  DATA FOR SOURCE-LINE 502
22186 00004428 00000000               I1  DATA FOR SOURCE-LINE 504
22187                                 I1  ***** END-POOL *****
22188 0000442C                    521 I1  _RESTART_WAIT_PLS_DATA_SELECT:
22189                             522 I1          SUB_START
22190 0000442C 4F22                   M           STS.L   PR,@-R15                ;[必要]
22191                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22192                             523 I1  
22193                             524 I1  
22194                             525 I1          FAR_JSR #_KJYU_NEARZERO3_CHK,R0                 ;0,1,-1,-2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   290
PROGRAM NAME =

22195 0000442E D008                   M           MOV.L   #_KJYU_NEARZERO3_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22196 00004430 400B                   M           JSR     @R0                     ;
22197 00004432 0009                   M           NOP                                     ;
22198 00004434 2008               526 I1          TST     R0,R0                                   ;
22199                             527 I1          TST_BIT_OF RESTART_WAIT_PLS_DATASEL_END         ;[ﾘｽﾀｰﾄしない]
22200 00004436 891E                   M           BT      RESTART_WAIT_PLS_DATASEL_END
22201                             528 I1  
22202 00004438 4011               529 I1          CMP/PZ  R0                                      ;+()
22203 0000443A 8913               530 I1          BT      RESTART_WAIT_PLS_DATASEL_100            ;
22204                             531 I1  
22205                             532 I1  ;       ---------範囲外---------
22206                             533 I1  ;;;;H2W MOV.L   #_SVP_OUTPLS_HOSA,R1            ;44
22207                             534 I1  
22208 0000443C D105               535 I1          MOV.L   #_PAR_KAJYU_CTIM1-_CB_SYS_PARAM000+_W_PARAM_TOP,R1      ;368:範囲外
22209 0000443E 6011               536 I1          MOV.W   @R1,R0                          ;
22210 00004440 D105               537 I1          MOV.L   #_INT_CLS_DYL_TIM,R1            ;
22211 00004442 2101               538 I1          MOV.W   R0,@R1                          ;遅延時間=0
22212                             539 I1  
22213 00004444 D105               540 I1          MOV.L   #_SET1_INCPOS_KP01,R1           ;31
22214 00004446 6011               541 I1          MOV.W   @R1,R0                          ;
22215 00004448 D105               542 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1      ;
22216 0000444A 2101               543 I1          MOV.W   R0,@R1                          ;
22217                             544 I1  
22218                             545 I1          M_BRA   RESTART_WAIT_PLS_DATASEL_OUT            ;
22219 0000444C A012                   M           BRA     RESTART_WAIT_PLS_DATASEL_OUT
22220 0000444E 0009                   M           NOP
22221                             546 I1  
22222                             547 I1  ;       ------------ニアゼロ範囲内-------------
22223                                 I1  ***** BEGIN-POOL *****
22224 00004450 00000000               I1  DATA FOR SOURCE-LINE 525
22225 00004454 00000000               I1  DATA FOR SOURCE-LINE 535
22226 00004458 00000000               I1  DATA FOR SOURCE-LINE 537
22227 0000445C 00000000               I1  DATA FOR SOURCE-LINE 540
22228 00004460 00000000               I1  DATA FOR SOURCE-LINE 542
22229                                 I1  ***** END-POOL *****
22230 00004464                    548 I1  RESTART_WAIT_PLS_DATASEL_100:
22231                             549 I1  
22232                             550 I1  ;;;H2W  MOV.L   #_SVP_OUTPLS_HOSB,R1            ;45
22233 00004464 D105               551 I1          MOV.L   #_PAR_KAJYU_CTIM2-_CB_SYS_PARAM000+_W_PARAM_TOP,R1      ;369:範囲内
22234 00004466 6011               552 I1          MOV.W   @R1,R0                          ;
22235 00004468 D105               553 I1          MOV.L   #_INT_CLS_DYL_TIM,R1            ;
22236 0000446A 2101               554 I1          MOV.W   R0,@R1                          ;遅延時間=0
22237                             555 I1  
22238 0000446C D105               556 I1          MOV.L   #_SET1_RNAPOS_KP01,R1           ;
22239 0000446E 6011               557 I1          MOV.W   @R1,R0                          ;
22240 00004470 D105               558 I1          MOV.L   #_SETX_KJYU_INCPOS_KP01,R1      ;
22241 00004472 2101               559 I1          MOV.W   R0,@R1                          ;
22242                             560 I1  
22243 00004474                    561 I1  RESTART_WAIT_PLS_DATASEL_OUT:
22244 00004474 E001               562 I1          MOV.B   #1,R0                                   ;START
22245 00004476                    563 I1  RESTART_WAIT_PLS_DATASEL_END:
22246                             564 I1  
22247                             565 I1          SUB_END
22248                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22249 00004476 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22250                             566 I1          M_RTS
22251 00004478 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   291
PROGRAM NAME =

22252 0000447A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22253                             567 I1  
22254                             568 I1  
22255                             569 I1  
22256                             570 I1  ;       *******************************************
22257                             571 I1  ;       ***                                     ***
22258                             572 I1  ;       ***                                     ***
22259                             573 I1  ;       ***                                     ***
22260                             574 I1  ;       ***                                     ***
22261                             575 I1  ;       *******************************************
22262                             576 I1          .IMPORT _POSCHG_LINK_DIG_TO_LINK_PLS            ;
22263                             577 I1          .IMPORT _OBJ_POS_DIG_MAK                        ;2015-03-15[R01:2014-08-20]
22264                             578 I1  
22265                                 I1  ***** BEGIN-POOL *****
22266 0000447C 00000000               I1  DATA FOR SOURCE-LINE 551
22267 00004480 00000000               I1  DATA FOR SOURCE-LINE 553
22268 00004484 00000000               I1  DATA FOR SOURCE-LINE 556
22269 00004488 00000000               I1  DATA FOR SOURCE-LINE 558
22270                                 I1  ***** END-POOL *****
22271 0000448C                    579 I1          .ALIGN  4                                               ;
22272 0000448C                    580 I1  _FULCLS_MAXPLS_CALC:
22273                             581 I1          SUB_START
22274 0000448C 4F22                   M           STS.L   PR,@-R15                ;[必要]
22275                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22276                             582 I1  
22277                             583 I1  ;;;;DEBUG       MOV.L   #_SET1_FULCLS_MXPLS,R1          ;
22278                             584 I1  ;;;;DEBUG       MOV.W   @R1,R2                          ;
22279                             585 I1  ;;;;DEBUG       M_BRA   FULCLS_MAXPLSCAL_200            ;
22280                             586 I1  
22281                             587 I1  ;       -------- 2015-03-15 -----------
22282                             588 I1          FAR_JSR #_OBJ_POS_DIG_MAK,R0                    ;これがない 2015-03-15[R012014-08-
                                          20]
22283 0000448E D00A                   M           MOV.L   #_OBJ_POS_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22284 00004490 400B                   M           JSR     @R0                     ;
22285 00004492 0009                   M           NOP                                     ;
22286                             589 I1  ;       --------------------------
22287                             590 I1  
22288 00004494 D109               591 I1          MOV.L   #_SV_OBJ360,R1                          ;停止目標位置角度
22289 00004496 6311               592 I1          MOV.W   @R1,R3                                  ;
22290 00004498 940D               593 I1          MOV.W   #D'1800,R4                              ;
22291 0000449A 6243               594 I1          MOV     R4,R2                                   ;
22292 0000449C 3238               595 I1          SUB     R3,R2                                   ;
22293 0000449E 4211               596 I1          CMP/PZ  R2                                      ;
22294 000044A0 8900               597 I1          BT      FULCLS_MAXPLSCAL_100                    ;
22295 000044A2 324C               598 I1          ADD     R4,R2                                   ;角度0.1度
22296 000044A4                    599 I1  FULCLS_MAXPLSCAL_100:                                   ;
22297 000044A4 7201               600 I1          ADD     #1,R2                                   ;+0.1度
22298                             601 I1          FAR_JSR #_POSCHG_LINK_DIG_TO_LINK_PLS,R0        ;
22299 000044A6 D006                   M           MOV.L   #_POSCHG_LINK_DIG_TO_LINK_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22300 000044A8 400B                   M           JSR     @R0                     ;
22301 000044AA 0009                   M           NOP                                     ;
22302                             602 I1  
22303                             603 I1  
22304                             604 I1  
22305 000044AC                    605 I1  FULCLS_MAXPLSCAL_200:                                   ;
22306 000044AC D105               606 I1          MOV.L   #_CALC_FULCLS_MXPLS,R1                  ;
22307 000044AE 2122               607 I1          MOV.L   R2,@R1                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   292
PROGRAM NAME =

22308                             608 I1  
22309                             609 I1  ;;;     MOV.L   #_LINK_NOWROT_OFSPLS_P,R4       ;[[[目標]]]
22310                             610 I1  ;;;     MOV.L   @R4,R2                          ;
22311                             611 I1  ;;;
22312                             612 I1  ;;;     MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
22313                             613 I1  ;;;     MOV.L   R1,@R5                          ;
22314                             614 I1  ;;;     MOV.L   R2,@(4,R5)                      ;
22315                             615 I1  ;;;
22316                             616 I1  ;;;     MOV.L   #_CALC_FULCLS_MXPLS,R1          ;ｲﾝﾁﾝｸﾞMAX量
22317                             617 I1  ;;;     MOV.L   R0,@R1                          ;2BYTE->4BYTE 2012-10-05 型変更U2B->U4Bに
                                          変更
22318                             618 I1  
22319                             619 I1  
22320                             620 I1          SUB_END
22321                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22322 000044B0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22323                             621 I1          M_RTS
22324 000044B2 000B                   M           RTS                             ;RTSの後ろの
22325 000044B4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22326                             622 I1  
22327                             623 I1  
22328                             624 I1  ;       *******************************************
22329                             625 I1  ;       ***             2012-10-05              ***
22330                             626 I1  ;       ***                                     ***
22331                             627 I1  ;       ***     180.0度に達したらEXIT           ***
22332                             628 I1  ;       *******************************************
22333                                 I1  ***** BEGIN-POOL *****
22334 000044B6 0708                   I1  DATA FOR SOURCE-LINE 593
22335 000044B8 00000000               I1  DATA FOR SOURCE-LINE 588
22336 000044BC 00000000               I1  DATA FOR SOURCE-LINE 591
22337 000044C0 00000000               I1  DATA FOR SOURCE-LINE 601
22338 000044C4 00000000               I1  DATA FOR SOURCE-LINE 606
22339                                 I1  ***** END-POOL *****
22340 000044C8                    629 I1  _OVER_DIG_CHK:
22341                             630 I1          SUB_START
22342 000044C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
22343                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22344 000044CA D108               631 I1          MOV.L   #_INC_ENC360,R1                 ;
22345 000044CC 6211               632 I1          MOV.W   @R1,R2                          ;
22346 000044CE 900C               633 I1          MOV.W   #D'1798,R0                      ;179.8
22347 000044D0 3202               634 I1          CMP/HS  R0,R2                           ;
22348 000044D2 8B11               635 I1          BF      OVER_DIGCHK_NOMAL               ;ｵｰﾊﾞはしていない
22349                             636 I1  
22350 000044D4                    637 I1  OVER_DIGCHK_ERR:
22351                             638 I1          FAR_JSR #_FULCLS_MAXOVER_ERR,R0         ;ﾀｲﾏなし
22352 000044D4 D006                   M           MOV.L   #_FULCLS_MAXOVER_ERR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22353 000044D6 400B                   M           JSR     @R0                     ;
22354 000044D8 0009                   M           NOP                                     ;
22355 000044DA D106               639 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
22356 000044DC 6011               640 I1          MOV.W   @R1,R0                          ;
22357 000044DE C940               641 I1          AND     #BIT6,R0
22358 000044E0 2008               642 I1          TST     R0,R0                           ;
22359                             643 I1          TST_BIT_OF OVER_DIGCHK_NOMAL            ;R0=0SET
22360 000044E2 8909                   M           BT      OVER_DIGCHK_NOMAL
22361 000044E4 E001               644 I1          MOV.B   #1,R0                           ;R0=1
22362                             645 I1          M_BRA   OVER_DIGCHK_END
22363 000044E6 A008                   M           BRA     OVER_DIGCHK_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   293
PROGRAM NAME =

22364 000044E8 0009                   M           NOP
22365                                 I1  ***** BEGIN-POOL *****
22366 000044EA 0706                   I1  DATA FOR SOURCE-LINE 633
22367 000044EC 00000000               I1  DATA FOR SOURCE-LINE 631
22368 000044F0 00000000               I1  DATA FOR SOURCE-LINE 638
22369 000044F4 00000000               I1  DATA FOR SOURCE-LINE 639
22370                                 I1  ***** END-POOL *****
22371 000044F8                    646 I1  OVER_DIGCHK_NOMAL
22372 000044F8 200A               647 I1          XOR     R0,R0
22373 000044FA                    648 I1  OVER_DIGCHK_END
22374                             649 I1  
22375                             650 I1          SUB_END
22376                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22377 000044FA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22378                             651 I1          M_RTS
22379 000044FC 000B                   M           RTS                             ;RTSの後ろの
22380 000044FE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22381                             652 I1  
22382                             653 I1  
22383                             654 I1  ;       ***************************
22384                             655 I1  ;       ***     2012-05-30      ***
22385                             656 I1  ;       ***     反転オーバ      ***
22386                             657 I1  ;       ***************************
22387                             658 I1  ;       [[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
22388 00004500                    659 I1          .ALIGN  4                                               ;
22389 00004500                    660 I1  _FULCLS_MAXOVER_ERR:
22390                             661 I1          SUB_START
22391 00004500 4F22                   M           STS.L   PR,@-R15                ;[必要]
22392                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22393                             662 I1          M_BRA   FULCLS_MAXOVER_ERRSET           ;
22394 00004502 A00B                   M           BRA     FULCLS_MAXOVER_ERRSET
22395 00004504 0009                   M           NOP
22396                             663 I1  
22397 00004506                    664 I1  _FULCLS_MAXOVER_ERR_WT:
22398                             665 I1          SUB_START
22399 00004506 4F22                   M           STS.L   PR,@-R15                ;[必要]
22400                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22401                             666 I1  
22402 00004508 D103               667 I1          MOV.L   #_NEG_EXITTIM,R1                ;
22403 0000450A 6011               668 I1          MOV.W   @R1,R0                          ;
22404 0000450C 2008               669 I1          TST     R0,R0                           ;
22405                             670 I1          TST_BIT_OF FULCLS_MAXOVER_ERRSET        ;
22406 0000450E 8905                   M           BT      FULCLS_MAXOVER_ERRSET
22407 00004510 70FF               671 I1          ADD     #-1,R0                          ;
22408 00004512 2101               672 I1          MOV.W   R0,@R1                          ;
22409                             673 I1          M_BRA   FULCLS_MAXOVER_ERRWAT           ;
22410 00004514 A012                   M           BRA     FULCLS_MAXOVER_ERRWAT
22411 00004516 0009                   M           NOP
22412                             674 I1  
22413                                 I1  ***** BEGIN-POOL *****
22414 00004518 00000000               I1  DATA FOR SOURCE-LINE 667
22415                                 I1  ***** END-POOL *****
22416 0000451C                    675 I1  FULCLS_MAXOVER_ERRSET:
22417 0000451C D109               676 I1          MOV.L   #_PAR_NEGERR_ENB-_CB_SYS_PARAM000+_W_PARAM_TOP,R1       ;
22418 0000451E 6011               677 I1          MOV.W   @R1,R0                                                  ;
22419 00004520 8801               678 I1          CMP/EQ  #1,R0                                                   ;
22420 00004522 8B0B               679 I1          BF      FULCLS_MAXOVER_ERRWAT                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   294
PROGRAM NAME =

22421                             680 I1  
22422                             681 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_FUL_CLS_MAXOVER_F,LG=W,BIT=(BIT6+BIT0),WKREG=R1    ;B
                                          IT6:ERR BIT0:制御
22423 00004524 D108                   M           MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
22424 00004526 6011                   M           MOV.W   @R1,R0          ;
22425 00004528 CB41                   M           OR      #(BIT6+BIT0),R0         ;
22426 0000452A 2101                   M           MOV.W   R0,@R1          ;
22427                             682 I1  
22428                             683 I1  
22429                             684 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
22430                             685 C   ;       ------2015-03-15[R01:2014-08-20] 荷重制御情報追加-------------
22431 0000452C D107               686 C           MOV.L   #_FULCLS_MATHED,R1                      ;//0:位置 1:荷重
22432 0000452E 6011               687 C           MOV.W   @R1,R0                                  ;
22433 00004530 8801               688 C           CMP/EQ  #1,R0                                   ;
22434 00004532 8B03               689 C           BF      FULCLS_MAXOVER_ERRS100                  ;
22435                             690 C   
22436                             691 C           MEM1_BIT0_TO_BIT7_ORSET MEM=_FUL_CLS_MAXOVER_F,LG=W,BIT=(BIT5),WKREG=R1 ;BIT5:荷重
22437 00004534 D104                   M           MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
22438 00004536 6011                   M           MOV.W   @R1,R0          ;
22439 00004538 CB20                   M           OR      #(BIT5),R0              ;
22440 0000453A 2101                   M           MOV.W   R0,@R1          ;
22441                             692 C   
22442 0000453C                    693 C   FULCLS_MAXOVER_ERRS100:
22443                             694 C   ;       -----------------------------------------------
22444                             695 I1          .AENDI
22445                             696 I1  
22446                             697 I1  
22447 0000453C                    698 I1  FULCLS_MAXOVER_ERRWAT:
22448                             699 I1          SUB_END
22449                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22450 0000453C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22451                             700 I1          M_RTS
22452 0000453E 000B                   M           RTS                             ;RTSの後ろの
22453 00004540 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22454                             701 I1  
22455                             702 I1  ;       ***************************
22456                             703 I1  ;       ***     2012-05-30      ***
22457                             704 I1  ;       ***     反転オーバCLR   ***
22458                             705 I1  ;       ***************************
22459                             706 I1  ;       [[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
22460                                 I1  ***** BEGIN-POOL *****
22461 00004542 0000                   I1  ALIGNMENT CODE
22462 00004544 00000000               I1  DATA FOR SOURCE-LINE 676
22463 00004548 00000000               I1  DATA FOR SOURCE-LINE 681,691
22464 0000454C 00000000               I1  DATA FOR SOURCE-LINE 686
22465                                 I1  ***** END-POOL *****
22466 00004550                    707 I1          .ALIGN  4                                               ;
22467                             708 I1          .EXPORT _FULCLS_MAXOVER_CLR     ;
22468 00004550                    709 I1  _FULCLS_MAXOVER_CLR:
22469                             710 I1          SUB_START
22470 00004550 4F22                   M           STS.L   PR,@-R15                ;[必要]
22471                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22472 00004552 200A               711 I1          XOR     R0,R0                   ;
22473 00004554 D102               712 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1  ;
22474 00004556 2101               713 I1          MOV.W   R0,@R1                  ;
22475                             714 I1          SUB_END
22476                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   295
PROGRAM NAME =

22477 00004558 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22478                             715 I1          M_RTS
22479 0000455A 000B                   M           RTS                             ;RTSの後ろの
22480 0000455C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22481                             716 I1  
22482                             717 I1  ;       ***************************
22483                             718 I1  ;       ***     2012-05-30      ***
22484                             719 I1  ;       ***     反転オーバINI   ***
22485                             720 I1  ;       ***************************
22486                             721 I1  ;       [[neg]][[払い出して達しなければSQへ出力するが次へ進む]]-----------
22487                                 I1  ***** BEGIN-POOL *****
22488 0000455E 0000                   I1  ALIGNMENT CODE
22489 00004560 00000000               I1  DATA FOR SOURCE-LINE 712
22490                                 I1  ***** END-POOL *****
22491 00004564                    722 I1          .ALIGN  4                                               ;
22492 00004564                    723 I1  _FULCLS_MAXOVER_STEP_INI:
22493                             724 I1          SUB_START
22494 00004564 4F22                   M           STS.L   PR,@-R15                ;[必要]
22495                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22496                             725 I1  
22497                             726 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_FUL_CLS_MAXOVER_F,LG=W,BIT=~BIT0,WKREG=R1 ;
22498 00004566 D103                   M           MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
22499 00004568 6011                   M           MOV.W   @R1,R0          ;
22500 0000456A C9FE                   M           AND     #LOW ~BIT0,R0           ;
22501 0000456C 2101                   M           MOV.W   R0,@R1          ;
22502                             727 I1  
22503                             728 I1  
22504                             729 I1          SUB_END
22505                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22506 0000456E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22507                             730 I1          M_RTS
22508 00004570 000B                   M           RTS                             ;RTSの後ろの
22509 00004572 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22510                             731 I1  
22511                             732 I1  ;       ***********************************
22512                             733 I1  ;       ***                             ***
22513                             734 I1  ;       ***     追い込み達せず信号出力  ***
22514                             735 I1  ;       ***     224.9  各行程           ***
22515                             736 I1  ;       ***     224.10 1回でも          ***
22516                             737 I1  ;       ***                             ***
22517                             738 I1  ;       ***********************************
22518                             739 I1          .EXPORT _FULCLS_OVER_SIG
22519                             740 I1  
22520                                 I1  ***** BEGIN-POOL *****
22521 00004574 00000000               I1  DATA FOR SOURCE-LINE 726
22522                                 I1  ***** END-POOL *****
22523 00004578                    741 I1          .ALIGN  4                       ;2012-05-30
22524 00004578                    742 I1  _FULCLS_OVER_SIG
22525                             743 I1          SUB_START
22526 00004578 4F22                   M           STS.L   PR,@-R15                ;[必要]
22527                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22528                             744 I1  
22529 0000457A 233A               745 I1          XOR     R3,R3
22530 0000457C 244A               746 I1          XOR     R4,R4
22531 0000457E D10B               747 I1          MOV.L   #_FUL_CLS_MAXOVER_F,R1          ;
22532 00004580 6011               748 I1          MOV.W   @R1,R0                          ;
22533 00004582 C840               749 I1          TST     #BIT6,R0                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   296
PROGRAM NAME =

22534                             750 I1          TST_BIT_OF FULCLS_OVERSG_100            ;異常記憶なし
22535 00004584 8903                   M           BT      FULCLS_OVERSG_100
22536 00004586 930D               751 I1          MOV.W   #BIT9,R3                        ;異常有り・リセットまで保持
22537                             752 I1  
22538                             753 I1  
22539                             754 I1  
22540                             755 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
22541                             756 C   ;       --2015-03-15[R01:2014-08-20追加]---
22542 00004588 C820               757 C           TST     #BIT5,R0                        ;荷重?
22543                             758 C           TST_BIT_OF FULCLS_OVERSG_100            ;NO
22544 0000458A 8900                   M           BT      FULCLS_OVERSG_100
22545 0000458C 930B               759 C           MOV.W   #BIT10,R3                       ;
22546                             760 I1          .AENDI
22547                             761 I1  
22548 0000458E                    762 I1  FULCLS_OVERSG_100
22549                             763 I1  
22550                             764 I1  ;;;;;   TST     #BIT0,R0                        ;
22551                             765 I1  ;;;;;   TST_BIT_OF FULCLS_OVERSG_200            ;制御中なし
22552                             766 I1  ;;;;;   MOV.W   #BIT10,R4                       ;異常有り・記憶はしない
22553                             767 I1  ;;;;;FULCLS_OVERSG_200
22554                             768 I1  
22555 0000458E D108               769 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB224,R1     ;
22556 00004590 6011               770 I1          MOV.W   @R1,R0                          ;
22557 00004592 9209               771 I1          MOV.W   #(BIT10+BIT9),R2                ;
22558 00004594 6227               772 I1          NOT     R2,R2                           ;
22559 00004596 2029               773 I1          AND     R2,R0                           ;
22560 00004598 203B               774 I1          OR      R3,R0                           ;
22561 0000459A 204B               775 I1          OR      R4,R0                           ;
22562 0000459C 2101               776 I1          MOV.W   R0,@R1                          ;
22563                             777 I1  
22564                             778 I1          SUB_END
22565                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22566 0000459E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22567                             779 I1          M_RTS
22568 000045A0 000B                   M           RTS                             ;RTSの後ろの
22569 000045A2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22570                             780 I1  
22571                             781 I1  
22572                             782 I1  ;       ***********************************
22573                             783 I1  ;       ***                             ***
22574                             784 I1  ;       ***     ﾌﾙｸﾛｰｽﾞﾆｱｾﾞﾛ            ***
22575                             785 I1  ;       ***                             ***
22576                             786 I1  ;       ***********************************
22577                             787 I1  ;       ANS R0(ﾌﾙｸﾛｰｽﾞすべきかどうか R0=0しない R0 !=0(工程)ﾌﾙｸﾛｰｽﾞ)
22578                             788 I1  ;       ANS R6 1回転目標ﾊﾟﾙｽ
22579                             789 I1  ;       ANS R7 1回転ﾘﾆｱﾊﾟﾙｽ
22580                             790 I1  ;
22581                             791 I1  ;
22582                             792 I1  ;       設定=0度　==>312度を目標
22583                             793 I1  ;       180より大きい区間は　−扱いで考える(1)
22584                             794 I1  ;       もし1800より大きければ
22585                             795 I1  ;
22586                             796 I1  ;       -1*(3600-現在ﾊﾟﾙｽ)
22587                                 I1  ***** BEGIN-POOL *****
22588 000045A4 0200                   I1  DATA FOR SOURCE-LINE 751
22589 000045A6 0400                   I1  DATA FOR SOURCE-LINE 759
22590 000045A8 0600                   I1  DATA FOR SOURCE-LINE 771
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   297
PROGRAM NAME =

22591 000045AA 0000                   I1  ALIGNMENT CODE
22592 000045AC 00000000               I1  DATA FOR SOURCE-LINE 747
22593 000045B0 00000000               I1  DATA FOR SOURCE-LINE 769
22594                                 I1  ***** END-POOL *****
22595 000045B4                    797 I1          .ALIGN  4                                               ;
22596                             798 I1  ;       Input 工程=R5
22597                             799 I1  ;       Input R7
22598                             800 I1  ;       ANS     R0:0,1,-1
22599                             801 I1  ;       R0      =0 :ﾆｱｾﾞﾛ範囲内
22600                             802 I1  ;               =1 :正(正転運転では行き過ぎている/逆転運転では生きたりない)
22601                             803 I1  ;               =-1:負(正運転では行きたりない    /逆転運転では行き過ぎている)
22602                             804 I1  ;       ANS     R6:ﾘﾆｱPLS現在位置
22603                             805 I1  
22604                             806 I1  ;
22605 000045B4                    807 I1  _POS_CLS_TYP1_NEAR_ZERO_CHEAK:
22606                             808 I1          SUB_START
22607 000045B4 4F22                   M           STS.L   PR,@-R15                ;[必要]
22608                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22609 000045B6 D40D               809 I1          MOV.L   #_SDATCLS_TRG_STEP,R4           ;//速度連続の最後のｽﾃｯﾌﾟ
22610 000045B8 6041               810 I1          MOV.W   @R4,R0                          ;
22611 000045BA 70FF               811 I1          ADD     #-1,R0                          ;
22612 000045BC 4008               812 I1          SHLL2   R0                              ;
22613 000045BE 4000               813 I1          SHLL    R0                              ;8byte
22614 000045C0 D40B               814 I1          MOV.L   #_SDATCLS_OBJ_NEAR_UPDNPLS,R4   ;//+0*4:UP +1*4 DN
22615 000045C2 340C               815 I1          ADD     R0,R4                           ;
22616 000045C4 6346               816 I1          MOV.L   @R4+,R3                         ;目標位置+ALFA(結果"-")
22617 000045C6 6142               817 I1          MOV.L   @R4,R1                          ;目標位置-ALFA
22618 000045C8 3313               818 I1          CMP/GE  R1,R3                           ;
22619 000045CA 8902               819 I1          BT      POS_CLS_TYP1_NEAR_ZR_CHK_100    ;
22620 000045CC 6013               820 I1          MOV     R1,R0                           ;
22621 000045CE 6133               821 I1          MOV     R3,R1                           ;
22622 000045D0 6303               822 I1          MOV     R0,R3                           ;
22623 000045D2                    823 I1  POS_CLS_TYP1_NEAR_ZR_CHK_100:                   ;
22624                             824 I1  
22625                             825 I1  ;       ==== 2003-02-21 ===================
22626 000045D2 D008               826 I1          MOV.L   #_DBG_REVMOD_UPPLS,R0   ;
22627 000045D4 2032               827 I1          MOV.L   R3,@R0                  ;
22628 000045D6 D008               828 I1          MOV.L   #_DBG_REVMOD_DNPLS,R0   ;
22629 000045D8 2012               829 I1          MOV.L   R1,@R0                  ;
22630                             830 I1  
22631                             831 I1  ;       ===================================
22632                             832 I1  ;;;     MOV     #1,R0
22633                             833 I1  ;;;     CMP/GT  R3,R6                           ;
22634                             834 I1  ;;;     BT      POS_CLS_TYP1_NEAR_ZR_CHK_200    ;+側へｵｰﾊﾞ
22635                             835 I1  ;;;
22636                             836 I1  ;;;     MOV     #-1,R0                          ;
22637                             837 I1  ;;;     CMP/GE  R1,R6                           ;R1=< R6 NO
22638                             838 I1  ;;;     BF      POS_CLS_TYP1_NEAR_ZR_CHK_200    ;(範囲内 NO)
22639                             839 I1  ;;;     XOR     R0,R0                           ;
22640                             840 I1  ;;;POS_CLS_TYP1_NEAR_ZR_CHK_200:                        ;
22641                             841 I1  
22642 000045DA E001               842 I1          MOV     #1,R0
22643 000045DC 3637               843 I1          CMP/GT  R3,R6                           ;
22644 000045DE 890D               844 I1          BT      POS_CLS_TYP1_NEAR_ZR_CHK_200    ;+側へｵｰﾊﾞ
22645                             845 I1  
22646 000045E0 E0FF               846 I1          MOV     #-1,R0                          ;
22647 000045E2 3613               847 I1          CMP/GE  R1,R6                           ;R1=< R6 NO
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   298
PROGRAM NAME =

22648 000045E4 8B0D               848 I1          BF      POS_CLS_TYP1_NEAR_ZR_CHK_201    ;(範囲内 NO)
22649 000045E6 200A               849 I1          XOR     R0,R0                           ;
22650                             850 I1          M_BRA   POS_CLS_TYP1_NEAR_ZR_CHK_202
22651 000045E8 A00C                   M           BRA     POS_CLS_TYP1_NEAR_ZR_CHK_202
22652 000045EA 0009                   M           NOP
22653                             851 I1  
22654                                 I1  ***** BEGIN-POOL *****
22655 000045EC 00000000               I1  DATA FOR SOURCE-LINE 809
22656 000045F0 00000000               I1  DATA FOR SOURCE-LINE 814
22657 000045F4 00000000               I1  DATA FOR SOURCE-LINE 826
22658 000045F8 00000000               I1  DATA FOR SOURCE-LINE 828
22659                                 I1  ***** END-POOL *****
22660 000045FC                    852 I1  POS_CLS_TYP1_NEAR_ZR_CHK_200:                   ;
22661 000045FC 0009               853 I1          NOP
22662                             854 I1          M_BRA   POS_CLS_TYP1_NEAR_ZR_CHK_202
22663 000045FE A001                   M           BRA     POS_CLS_TYP1_NEAR_ZR_CHK_202
22664 00004600 0009                   M           NOP
22665 00004602                    855 I1  POS_CLS_TYP1_NEAR_ZR_CHK_201:                   ;
22666 00004602 0009               856 I1          NOP
22667 00004604                    857 I1  POS_CLS_TYP1_NEAR_ZR_CHK_202:                   ;
22668                             858 I1  
22669                             859 I1  ;       ===========================================
22670                             860 I1  ;       === <CPU-Aが終わりを告げたら終わり>     ===
22671                             861 I1  ;       === <CPU-Bが終わりを告げても終わり?>    ===
22672                             862 I1  ;       ===========================================
22673                             863 I1          PUSH_REG1 R2
22674 00004604 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
22675                                 M                                           ;REG=>[SP]
22676                                 M                                           ;"-4" FF,FF,FF,FC
22677                             864 I1          PUSH_REG1 R3
22678 00004606 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
22679                                 M                                           ;REG=>[SP]
22680                                 M                                           ;"-4" FF,FF,FF,FC
22681                             865 I1  
22682                             866 I1          PUSH_REG1 R0
22683 00004608 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
22684                                 M                                           ;REG=>[SP]
22685                                 M                                           ;"-4" FF,FF,FF,FC
22686                             867 I1          .AIF    1 EQ    0
22687                             868             XOR     R2,R2                           ;CPUAは自分から終わる
22688                             869             .AELSE
22689                             870 C           FAR_JSR #_CPU_BA_NZR_ON_JG,R0           ;
22690 0000460A D006                   M           MOV.L   #_CPU_BA_NZR_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22691 0000460C 400B                   M           JSR     @R0                     ;
22692 0000460E 0009                   M           NOP                                     ;
22693 00004610 6203               871 C           MOV     R0,R2                           ;
22694                             872 I1          .AENDI
22695                             873 I1          POP_REG1 R0                             ;
22696                                 M                                   ; RE"+4" 00,00,00,04
22697 00004612 60F6                   M           MOV.L   @R15+,R0        ;
22698                             874 I1  
22699 00004614 2228               875 I1          TST     R2,R2                           ;
22700                             876 I1          TST_BIT_OF POS_CLS_CPUB_TO_CPUA_100     ;
22701 00004616 8900                   M           BT      POS_CLS_CPUB_TO_CPUA_100
22702 00004618 200A               877 I1          XOR     R0,R0                           ;
22703 0000461A                    878 I1  POS_CLS_CPUB_TO_CPUA_100:                       ;
22704                             879 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   299
PROGRAM NAME =

22705                             880 I1          POP_REG1 R3
22706                                 M                                   ; RE"+4" 00,00,00,04
22707 0000461A 63F6                   M           MOV.L   @R15+,R3        ;
22708                             881 I1          POP_REG1 R2
22709                                 M                                   ; RE"+4" 00,00,00,04
22710 0000461C 62F6                   M           MOV.L   @R15+,R2        ;
22711                             882 I1          SUB_END
22712                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22713 0000461E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22714                             883 I1          M_RTS
22715 00004620 000B                   M           RTS                             ;RTSの後ろの
22716 00004622 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22717                             884 I1  
22718                             885 I1  
22719                             886 I1  ;       ***********************************
22720                             887 I1  ;       ***     Input R1,R2             ***
22721                             888 I1  ;       ***********************************
22722                             889 I1  ;       R1,R2 絶対値
22723                                 I1  ***** BEGIN-POOL *****
22724 00004624 00000000               I1  DATA FOR SOURCE-LINE 870
22725                                 I1  ***** END-POOL *****
22726 00004628                    890 I1  _CLS_POS_LENGTH_ADD_DATA:
22727                             891 I1          SUB_START
22728 00004628 4F22                   M           STS.L   PR,@-R15                ;[必要]
22729                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22730 0000462A D40A               892 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
22731 0000462C 6041               893 I1          MOV.W   @R4,R0                                                  ;
22732 0000462E C801               894 I1          TST     #BIT0,R0                                                ;
22733                             895 I1          TST_BIT_OF CLS_POS_LENGTH_ADDATA_050                            ;
22734 00004630 8905                   M           BT      CLS_POS_LENGTH_ADDATA_050
22735                             896 I1          NEG1_64 H_REG=R1,L_REG=R2,WKREG=R4                              ;|R1,R2|
22736 00004632 6227                   M           NOT     R2,R2                           ;
22737 00004634 6117                   M           NOT     R1,R1                           ;
22738 00004636 244A                   M           XOR     R4,R4                           ;
22739 00004638 0018                   M           SETT
22740 0000463A 324E                   M           ADDC    R4,R2                           ;0+1+R2
22741 0000463C 314E                   M           ADDC    R4,R1                           ;
22742 0000463E                    897 I1  CLS_POS_LENGTH_ADDATA_050:                                              ;
22743 0000463E D706               898 I1          MOV.L   #_LNGTH_TOTAL_OUTPLS,R7                                 ;//符号つき TOTAL=
                                          TOTAL+ADD ADD_DATA<=0
22744 00004640 6572               899 I1          MOV.L   @R7,R5                                                  ;
22745 00004642 5671               900 I1          MOV.L   @(4,R7),R6                                              ;
22746                             901 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
22747 00004644 0008                   M           CLRT
22748 00004646 326E                   M           ADDC    R6,R2
22749 00004648 315E                   M           ADDC    R5,R1
22750 0000464A 2712               902 I1          MOV.L   R1,@R7                                                  ;
22751 0000464C 1721               903 I1          MOV.L   R2,@(4,R7)                                              ;
22752                             904 I1          SUB_END
22753                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22754 0000464E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22755                             905 I1          M_RTS
22756 00004650 000B                   M           RTS                             ;RTSの後ろの
22757 00004652 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22758                             906 I1  
22759                             907 I1  
22760                             908 I1  ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   300
PROGRAM NAME =

22761                             909 I1  ;       ***     260から0度の間は"-"になる       ***
22762                             910 I1  ;       *******************************************
22763                             911 I1  ;       R0~R2
22764                             912 I1          .EXPORT _FUL_CLS_OBJPLS_CHK
22765                                 I1  ***** BEGIN-POOL *****
22766 00004654 00000000               I1  DATA FOR SOURCE-LINE 892
22767 00004658 00000000               I1  DATA FOR SOURCE-LINE 898
22768                                 I1  ***** END-POOL *****
22769 0000465C                    913 I1  _FUL_CLS_OBJPLS_CHK:    ;Input R2 もし260~0の間なら"-"のﾊﾟﾙｽになる
22770                             914 I1          SUB_START
22771 0000465C 4F22                   M           STS.L   PR,@-R15                ;[必要]
22772                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22773 0000465E D107               915 I1          MOV.L   #_SETX_FULCLS_AREA_PLS,R1       ;//260.0==>PLS
22774 00004660 6012               916 I1          MOV.L   @R1,R0                          ;
22775 00004662 3203               917 I1          CMP/GE  R0,R2                           ;R2 OK
22776 00004664 8B06               918 I1          BF      FUL_CLS_OBJPLSCK_050            ;
22777 00004666 D106               919 I1          MOV.L   #_LINK_1ROT_PLS,R1              ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
22778 00004668 6012               920 I1          MOV.L   @R1,R0                          ;
22779 0000466A 3028               921 I1          SUB     R2,R0                           ;360-359=1
22780 0000466C 620B               922 I1          NEG     R0,R2                           ;-1
22781 0000466E 4215               923 I1          CMP/PL  R2                              ;
22782 00004670 8B00               924 I1          BF      FUL_CLS_OBJPLSCK_050            ;
22783 00004672 222A               925 I1          XOR     R2,R2                           ;
22784 00004674                    926 I1  FUL_CLS_OBJPLSCK_050:                           ;
22785                             927 I1          SUB_END
22786                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22787 00004674 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22788                             928 I1          M_RTS
22789 00004676 000B                   M           RTS                             ;RTSの後ろの
22790 00004678 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22791                             929 I1  
22792                             930 I1  
22793                             931 I1  
22794                             932 I1  ;       ***********************************
22795                             933 I1  ;       ***                             ***
22796                             934 I1  ;       ***     目標位置→LENGTH        ***
22797                             935 I1  ;       ***                             ***
22798                             936 I1  ;       ***********************************
22799                             937 I1  ;       Input R1,R2(目標位置)
22800                             938 I1  ;       Output R1,R2
22801                             939 I1          .IMPORT _POSCHG_LINK_ABSPLS_ROTNUM_OFSPLS
22802                                 I1  ***** BEGIN-POOL *****
22803 0000467A 0000                   I1  ALIGNMENT CODE
22804 0000467C 00000000               I1  DATA FOR SOURCE-LINE 915
22805 00004680 00000000               I1  DATA FOR SOURCE-LINE 919
22806                                 I1  ***** END-POOL *****
22807 00004684                    940 I1  _FUL_CLS_LENGH_ADD_CALC:
22808                             941 I1          SUB_START
22809 00004684 4F22                   M           STS.L   PR,@-R15                ;[必要]
22810                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22811                             942 I1  
22812 00004686 D512               943 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R5 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
22813 00004688 2512               944 I1          MOV.L   R1,@R5                                          ;
22814 0000468A 1521               945 I1          MOV.L   R2,@(4,R5)                                      ;絶対目標位置
22815                             946 I1  
22816                             947 I1  ;       == ﾛｯﾄﾃﾞｰﾀを取り除く==                                  ;
22817                             948 I1          FAR_JSR #_POSCHG_LINK_ABSPLS_ROTNUM_OFSPLS,R0           ;R1,R2+/-回転数 余りパルス
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   301
PROGRAM NAME =

                                          (符号つき)
22818 0000468C D011                   M           MOV.L   #_POSCHG_LINK_ABSPLS_ROTNUM_OFSPLS,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22819 0000468E 400B                   M           JSR     @R0                     ;
22820 00004690 0009                   M           NOP                                     ;
22821 00004692 6233               949 I1          MOV     R3,R2                                           ;ﾊﾟﾙｽ
22822 00004694 4211               950 I1          CMP/PZ  R2                                              ;
22823 00004696 8905               951 I1          BT      FULCLS_LNG_ADD_CAL200                           ;
22824 00004698 D10F               952 I1          MOV.L   #_LINK_1ROT_PLS,R1                              ;<待機点340度   目標30度 3
                                          0-340+360>
22825 0000469A 6412               953 I1          MOV.L   @R1,R4                                          ;               <30>
22826 0000469C 324C               954 I1          ADD     R4,R2                                           ;
22827 0000469E 4211               955 I1          CMP/PZ  R2                                              ;
22828 000046A0 8900               956 I1          BT      FULCLS_LNG_ADD_CAL200                           ;
22829 000046A2 222A               957 I1          XOR     R2,R2                                           ;"演算誤差0":ありえないは
                                          ず?BREAK CHEAK
22830 000046A4                    958 I1  FULCLS_LNG_ADD_CAL200:                                          ;
22831                             959 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0
22832 000046A4 D00D                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22833 000046A6 400B                   M           JSR     @R0                     ;
22834 000046A8 0009                   M           NOP                                     ;
22835                             960 I1          PUSH_REG1 R2
22836 000046AA 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
22837                                 M                                           ;REG=>[SP]
22838                                 M                                           ;"-4" FF,FF,FF,FC
22839 000046AC D40C               961 I1          MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R4                   ;//余り角度 +ﾃﾞｰﾀ
22840 000046AE 6242               962 I1          MOV.L   @R4,R2                                          ;
22841                             963 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0         ;
22842 000046B0 D00A                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22843 000046B2 400B                   M           JSR     @R0                     ;
22844 000046B4 0009                   M           NOP                                     ;
22845 000046B6 6323               964 I1          MOV     R2,R3                           ;
22846                             965 I1          POP_REG1 R2                             ;
22847                                 M                                   ; RE"+4" 00,00,00,04
22848 000046B8 62F6                   M           MOV.L   @R15+,R2        ;
22849                             966 I1  ;       ==== 運転方向(CW/CCW)==
22850 000046BA D10A               967 I1          MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
22851 000046BC 6411               968 I1          MOV.W   @R1,R4                          ;ﾀｲﾏLOAD
22852 000046BE 74FF               969 I1          ADD     #-1,R4                          ;
22853 000046C0 4408               970 I1          SHLL2   R4                              ;
22854 000046C2 D009               971 I1          MOV.L   #_CPOS_SDAT1_INF1,R0            ;
22855 000046C4 004E               972 I1          MOV.L   @(R0,R4),R0                     ;BIT1=0 CW
22856 000046C6 C802               973 I1          TST     #BIT1,R0                        ;
22857                             974 I1          TST_BIT_ON FULCLS_LNG_ADD_CAL300        ;
22858 000046C8 8B10                   M           BF      FULCLS_LNG_ADD_CAL300
22859                             975 I1  ;       ====== 正転運転 ===
22860 000046CA 3238               976 I1          SUB     R3,R2                           ;
22861                             977 I1  ;;      CMP/PZ  R2                              ;
22862                             978 I1  ;;      BT      FULCLS_LNG_ADD_CAL250           ;
22863                             979 I1  ;;      MOV.L   #_LINK_1ROT_PLS,R1              ;
22864                             980 I1  ;;      MOV.L   @R1,R4                          ;
22865                             981 I1  ;;      ADD     R4,R2                           ;
22866                             982 I1  ;;FULCLS_LNG_ADD_CAL250:                                ;
22867                             983 I1          M_BRA   FULCLS_LNG_ADD_CAL400           ;
22868 000046CC A00F                   M           BRA     FULCLS_LNG_ADD_CAL400
22869 000046CE 0009                   M           NOP
22870                             984 I1  
22871                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   302
PROGRAM NAME =

22872 000046D0 00000000               I1  DATA FOR SOURCE-LINE 943
22873 000046D4 00000000               I1  DATA FOR SOURCE-LINE 948
22874 000046D8 00000000               I1  DATA FOR SOURCE-LINE 952
22875 000046DC 00000000               I1  DATA FOR SOURCE-LINE 959,963
22876 000046E0 00000000               I1  DATA FOR SOURCE-LINE 961
22877 000046E4 00000000               I1  DATA FOR SOURCE-LINE 967
22878 000046E8 00000000               I1  DATA FOR SOURCE-LINE 971
22879                                 I1  ***** END-POOL *****
22880 000046EC                    985 I1  FULCLS_LNG_ADD_CAL300:
22881                             986 I1  ;       ====== 逆転運転 ===
22882 000046EC 3238               987 I1          SUB     R3,R2                           ;
22883                             988 I1  ;;      CMP/PL  R2                              ;
22884                             989 I1  ;;      BF      FULCLS_LNG_ADD_CAL350           ;
22885                             990 I1  ;;      MOV.L   #_LINK_1ROT_PLS,R1              ;
22886                             991 I1  ;;      MOV.L   @R1,R4                          ;
22887                             992 I1  ;;      SUB     R4,R2                           ;
22888                             993 I1  ;;FULCLS_LNG_ADD_CAL350:
22889                             994 I1  ;;      NOP
22890 000046EE                    995 I1  FULCLS_LNG_ADD_CAL400:
22891 000046EE 211A               996 I1          XOR     R1,R1                                           ;
22892 000046F0 4211               997 I1          CMP/PZ  R2                                              ;
22893 000046F2 8900               998 I1          BT      FULCLS_LNG_ADD_CAL450                           ;
22894 000046F4 71FF               999 I1          ADD     #-1,R1                                          ;
22895 000046F6                   1000 I1  FULCLS_LNG_ADD_CAL450:
22896                            1001 I1  
22897                            1002 I1  ;       ====== 差分======
22898 000046F6 D403              1003 I1          MOV.L   #_LNGTH_ADD_DATA,R4             ;//符号付き
22899 000046F8 2412              1004 I1          MOV.L   R1,@R4                          ;
22900 000046FA 1421              1005 I1          MOV.L   R2,@(4,R4)                      ;
22901                            1006 I1          SUB_END
22902                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22903 000046FC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22904                            1007 I1          M_RTS
22905 000046FE 000B                   M           RTS                             ;RTSの後ろの
22906 00004700 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22907                            1008 I1  
22908                            1009 I1  
22909                            1010 I1          .EXPORT _FUL_DATA_INIT  ;USED R1,R0
22910                                 I1  ***** BEGIN-POOL *****
22911 00004702 0000                   I1  ALIGNMENT CODE
22912 00004704 00000000               I1  DATA FOR SOURCE-LINE 1003
22913                                 I1  ***** END-POOL *****
22914 00004708                   1011 I1  _FUL_DATA_INIT:
22915                            1012 I1          SUB_START
22916 00004708 4F22                   M           STS.L   PR,@-R15                ;[必要]
22917                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22918 0000470A D103              1013 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                    ;
22919 0000470C 200A              1014 I1          XOR     R0,R0                                   ;
22920 0000470E 2101              1015 I1          MOV.W   R0,@R1                                  ;
22921                            1016 I1          SUB_END
22922                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
22923 00004710 4F26                   M           LDS.L   @R15+,PR                ;[必要]
22924                            1017 I1          M_RTS
22925 00004712 000B                   M           RTS                             ;RTSの後ろの
22926 00004714 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
22927                            1018 I1  
22928                            1019 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   303
PROGRAM NAME =

22929                            1020 I1  ;       ***********************************
22930                            1021 I1  ;       ***                             ***
22931                            1022 I1  ;       ***********************************
22932                            1023 I1  ;
22933                            1024 I1  ;       Input R6:PV
22934                            1025 I1  ;       Input R7:SV
22935                            1026 I1  ;
22936                            1027 I1  ;       Input R3:ｲﾝﾁﾝｸﾞ量
22937                            1028 I1  ;
22938                                 I1  ***** BEGIN-POOL *****
22939 00004716 0000                   I1  ALIGNMENT CODE
22940 00004718 00000000               I1  DATA FOR SOURCE-LINE 1013
22941                                 I1  ***** END-POOL *****
22942 0000471C                   1029 I1  _FUL_PLS_START:
22943                            1030 I1          SUB_START
22944 0000471C 4F22                   M           STS.L   PR,@-R15                ;[必要]
22945                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
22946                            1031 I1          PUSH_REG1 R3
22947 0000471E 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
22948                                 M                                           ;REG=>[SP]
22949                                 M                                           ;"-4" FF,FF,FF,FC
22950                            1032 I1          FAR_JSR #_POS_LSI_WORK_STOP2,R0
22951 00004720 D014                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22952 00004722 400B                   M           JSR     @R0                     ;
22953 00004724 0009                   M           NOP                                     ;
22954                            1033 I1  
22955                            1034 I1          FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0
22956 00004726 D014                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22957 00004728 400B                   M           JSR     @R0                     ;
22958 0000472A 0009                   M           NOP                                     ;
22959                            1035 I1  
22960                            1036 I1  ;       ------2015-03-15
22961                            1037 I1          .AIF    1 EQ    1               ;YES:反転ﾓｰﾄﾞで荷重でのｸﾛｰｽﾞを行う
22962                            1038 C           FAR_JSR #_POS_CLS_START_CONF,R0                 ;
22963 0000472C D013                   M           MOV.L   #_POS_CLS_START_CONF,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22964 0000472E 400B                   M           JSR     @R0                     ;
22965 00004730 0009                   M           NOP                                     ;
22966                            1039 C           FAR_JSR #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;R7=100,R6=90 OBJ=100KN PV=90KN
22967 00004732 D013                   M           MOV.L   #_POS_CLS_OBJPLS_PVPLS_MAKE,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22968 00004734 400B                   M           JSR     @R0                     ;
22969 00004736 0009                   M           NOP                                     ;
22970                            1040             .AELSE
22971                            1041             FAR_JSR #_POS_CLS_TYP1_PROC_CHK,R0                              ;(目標位置､実測位
                                          置作成)
22972                            1042             .AENDI
22973                            1043 I1  
22974                            1044 I1          POP_REG1 R3
22975                                 M                                   ; RE"+4" 00,00,00,04
22976 00004738 63F6                   M           MOV.L   @R15+,R3        ;
22977 0000473A D412              1045 I1          MOV.L   #_POSLSI_DRIV_SHIN,R4                           ;
22978 0000473C 6041              1046 I1          MOV.W   @R4,R0
22979 0000473E C9FE              1047 I1          AND     #LOW ~BIT0,R0                           ;
22980 00004740 6273              1048 I1          MOV     R7,R2                                   ;R7:SV R6:PV
22981 00004742 3268              1049 I1          SUB     R6,R2                                   ;SV_-PV_RNA(偏差)
22982 00004744 4211              1050 I1          CMP/PZ  R2                                      ;
22983 00004746 8900              1051 I1          BT      FUL_PLS_ST120
22984 00004748 CB01              1052 I1          OR      #BIT0,R0                                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   304
PROGRAM NAME =

22985 0000474A                   1053 I1  FUL_PLS_ST120:                                          ;
22986 0000474A 2401              1054 I1          MOV.W   R0,@R4                                  ;方向作成
22987 0000474C 211A              1055 I1          XOR     R1,R1                                   ;R1,R2(絶対ﾊﾟﾙｽ)
22988 0000474E 6233              1056 I1          MOV     R3,R2                                   ;
22989                            1057 I1          FAR_JSR #_CLS_POS_LENGTH_ADD_DATA,R0            ;
22990 00004750 D00D                   M           MOV.L   #_CLS_POS_LENGTH_ADD_DATA,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22991 00004752 400B                   M           JSR     @R0                     ;
22992 00004754 0009                   M           NOP                                     ;
22993                            1058 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0                ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
22994 00004756 D00D                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22995 00004758 400B                   M           JSR     @R0                     ;
22996 0000475A 0009                   M           NOP                                     ;
22997                            1059 I1          FAR_JSR #_FWD_REV_START,R1                      ;起動
22998 0000475C D10C                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
22999 0000475E 410B                   M           JSR     @R1                     ;
23000 00004760 0009                   M           NOP                                     ;
23001 00004762 0009              1060 I1          NOP
23002 00004764 0009              1061 I1          NOP
23003 00004766 0009              1062 I1          NOP
23004                            1063 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                  ;
23005 00004768 D00A                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23006 0000476A 400B                   M           JSR     @R0                     ;
23007 0000476C 0009                   M           NOP                                     ;
23008                            1064 I1          SUB_END
23009                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23010 0000476E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23011                            1065 I1          M_RTS
23012 00004770 000B                   M           RTS                             ;RTSの後ろの
23013 00004772 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23014                            1066 I1  
23015                            1067 I1  
23016                            1068 I1  ;       ***********************************
23017                            1069 I1  ;       ***                             ***
23018                            1070 I1  ;       ***     2013-04-14              ***
23019                            1071 I1  ;       ***     (速度継続中のみCALL)    ***
23020                            1072 I1  ;       ***                             ***
23021                            1073 I1  ;       ***********************************
23022                            1074 I1  ;       位置１　停止位置２　手前にした結果　手前位置＜位置１＜位置２の場合、位置１の手前で
                                          停止する
23023                            1075 I1  ;       ANS     R0=1:切替必要
23024                            1076 I1  ;       ANS     R2=X:切替行程
23025                                 I1  ***** BEGIN-POOL *****
23026 00004774 00000000               I1  DATA FOR SOURCE-LINE 1032
23027 00004778 00000000               I1  DATA FOR SOURCE-LINE 1034
23028 0000477C 00000000               I1  DATA FOR SOURCE-LINE 1038
23029 00004780 00000000               I1  DATA FOR SOURCE-LINE 1039
23030 00004784 00000000               I1  DATA FOR SOURCE-LINE 1045
23031 00004788 00000000               I1  DATA FOR SOURCE-LINE 1057
23032 0000478C 00000000               I1  DATA FOR SOURCE-LINE 1058
23033 00004790 00000000               I1  DATA FOR SOURCE-LINE 1059
23034 00004794 00000000               I1  DATA FOR SOURCE-LINE 1063
23035                                 I1  ***** END-POOL *****
23036 00004798                   1077 I1  _REV_BEFORE_CHGKOUTEICHK:
23037                            1078 I1          SUB_START
23038 00004798 4F22                   M           STS.L   PR,@-R15                ;[必要]
23039                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23040                            1079 I1          PUSH_REG1 R5
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   305
PROGRAM NAME =

23041 0000479A 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
23042                                 M                                           ;REG=>[SP]
23043                                 M                                           ;"-4" FF,FF,FF,FC
23044                            1080 I1          PUSH_REG1 R9
23045 0000479C 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
23046                                 M                                           ;REG=>[SP]
23047                                 M                                           ;"-4" FF,FF,FF,FC
23048                            1081 I1          PUSH_REG1 R11
23049 0000479E 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
23050                                 M                                           ;REG=>[SP]
23051                                 M                                           ;"-4" FF,FF,FF,FC
23052                            1082 I1  
23053 000047A0 DB0F              1083 I1          MOV.L   #_INT_POS_CTL_STEP,R11                                  ;//内部制御工程1~1
                                          1
23054 000047A2 69B1              1084 I1          MOV.W   @R11,R9                                                 ;ﾀｲﾏLOAD
23055 000047A4 6593              1085 I1          MOV     R9,R5                                                   ;
23056 000047A6 75FF              1086 I1          ADD     #-1,R5                                                  ;
23057 000047A8 4508              1087 I1          SHLL2   R5                                                      ;
23058 000047AA 6253              1088 I1          MOV     R5,R2
23059 000047AC 4200              1089 I1          SHLL    R2
23060 000047AE D00D              1090 I1          MOV.L   #_CPOS_SDAT1_CHGAPOS,R0                                 ;
23061 000047B0 302C              1091 I1          ADD     R2,R0
23062 000047B2 6106              1092 I1          MOV.L   @R0+,R1                                                 ;位置
23063 000047B4 6202              1093 I1          MOV.L   @R0,R2                                                  ;
23064                            1094 I1  
23065 000047B6 255A              1095 I1          XOR     R5,R5                                                   ;
23066 000047B8 D40B              1096 I1          MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R4                             ;//目標−手前
23067 000047BA 6642              1097 I1          MOV.L   @R4,R6                                                  ;
23068 000047BC 7601              1098 I1          ADD     #D'1,R6                                         ;
23069                            1099 I1  
23070                            1100 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
23071 000047BE 0008                   M           CLRT
23072 000047C0 326A                   M           SUBC    R6,R2
23073 000047C2 315A                   M           SUBC    R5,R1
23074                            1101 I1  
23075 000047C4 D409              1102 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
23076 000047C6 6546              1103 I1          MOV.L   @R4+,R5                                                 ;
23077 000047C8 6642              1104 I1          MOV.L   @R4,R6                                                  ;R5,R6 実測位置-->
                                          目標位置
23078                            1105 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
23079 000047CA 0008                   M           CLRT
23080 000047CC 326A                   M           SUBC    R6,R2
23081 000047CE 315A                   M           SUBC    R5,R1
23082                            1106 I1  
23083 000047D0 4111              1107 I1          CMP/PZ  R1
23084 000047D2 8B0E              1108 I1          BF      REV_BEFORE_CHGKOUTEICK100                               ;"-" 過ぎた
23085                            1109 I1  
23086 000047D4 6013              1110 I1          MOV     R1,R0
23087 000047D6 202B              1111 I1          OR      R2,R0
23088 000047D8 2008              1112 I1          TST     R0,R0
23089                            1113 I1          TST_BIT_OF REV_BEFORE_CHGKOUTEICK090                            ;
23090 000047DA 8909                   M           BT      REV_BEFORE_CHGKOUTEICK090
23091                            1114 I1          M_BRA   REV_BEFORE_CHGKOUTEICK300                               ;
23092 000047DC A016                   M           BRA     REV_BEFORE_CHGKOUTEICK300
23093 000047DE 0009                   M           NOP
23094                            1115 I1  
23095                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   306
PROGRAM NAME =

23096 000047E0 00000000               I1  DATA FOR SOURCE-LINE 1083
23097 000047E4 00000000               I1  DATA FOR SOURCE-LINE 1090
23098 000047E8 00000000               I1  DATA FOR SOURCE-LINE 1096
23099 000047EC 00000000               I1  DATA FOR SOURCE-LINE 1102
23100                                 I1  ***** END-POOL *****
23101 000047F0                   1116 I1  REV_BEFORE_CHGKOUTEICK090:
23102 000047F0 0009              1117 I1          NOP
23103 000047F2                   1118 I1  REV_BEFORE_CHGKOUTEICK100:
23104 000047F2 6093              1119 I1          MOV     R9,R0                           ;
23105 000047F4 70FF              1120 I1          ADD     #-1,R0                          ;
23106 000047F6 4008              1121 I1          SHLL2   R0
23107 000047F8 D103              1122 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1         ;
23108 000047FA 021E              1123 I1          MOV.L   @(R0,R1),R2                     ;現状の工程の目標工程
23109 000047FC 3922              1124 I1          CMP/HS  R2,R9                           ;
23110 000047FE 8905              1125 I1          BT      REV_BEFORE_CHGKOUTEICK300       ;すでにこの行程
23111                            1126 I1  
23112 00004800                   1127 I1  REV_BEFORE_CHGKOUTEICK200:
23113 00004800 E001              1128 I1          MOV.B   #1,R0                           ;ANS R2,R0
23114                            1129 I1          M_BRA   REV_BEFORE_CHGKOUTEICK400
23115 00004802 A004                   M           BRA     REV_BEFORE_CHGKOUTEICK400
23116 00004804 0009                   M           NOP
23117                            1130 I1  
23118                                 I1  ***** BEGIN-POOL *****
23119 00004806 0000                   I1  ALIGNMENT CODE
23120 00004808 00000000               I1  DATA FOR SOURCE-LINE 1122
23121                                 I1  ***** END-POOL *****
23122 0000480C                   1131 I1  REV_BEFORE_CHGKOUTEICK300:
23123 0000480C 200A              1132 I1          XOR     R0,R0
23124 0000480E                   1133 I1  REV_BEFORE_CHGKOUTEICK400:
23125                            1134 I1  
23126                            1135 I1          POP_REG1 R11
23127                                 M                                   ; RE"+4" 00,00,00,04
23128 0000480E 6BF6                   M           MOV.L   @R15+,R11        ;
23129                            1136 I1          POP_REG1 R9
23130                                 M                                   ; RE"+4" 00,00,00,04
23131 00004810 69F6                   M           MOV.L   @R15+,R9        ;
23132                            1137 I1          POP_REG1 R5
23133                                 M                                   ; RE"+4" 00,00,00,04
23134 00004812 65F6                   M           MOV.L   @R15+,R5        ;
23135                            1138 I1  
23136                            1139 I1          SUB_END
23137                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23138 00004814 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23139                            1140 I1          M_RTS
23140 00004816 000B                   M           RTS                             ;RTSの後ろの
23141 00004818 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23142                            1141 I1  
23143                            1142 I1  
23144                            1143 I1  ;       *******************************************
23145                            1144 I1  ;       ***                                     ***
23146                            1145 I1  ;       ***                                     ***
23147                            1146 I1  ;       ***                                     ***
23148                            1147 I1  ;       ***                                     ***
23149                            1148 I1  ;       ****            荷重−位置変換          ***
23150                            1149 I1  ;       ***                                     ***
23151                            1150 I1  ;       ***                                     ***
23152                            1151 I1  ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   307
PROGRAM NAME =

23153                            1152 I1  ;       ***                                     ***
23154                            1153 I1  ;       *******************************************
23155                            1154 I1  ;       INPUT
23156                            1155 I1  ;       INPUT
23157                            1156 I1  ;       OUTPUT
23158                            1157 I1          .IMPORT _SVP_ORGRUP_DEG         ;原点右区間上[荷重ﾃﾞﾊﾞｯｸ]KN
23159                            1158 I1          .IMPORT _SVP_ORGRDN_DEG         ;原点右区間下[荷重ﾃﾞﾊﾞｯｸ]PLS
23160                            1159 I1          .IMPORT _SVP_ORGLUP_DEG         ;原点左区間上[荷重ﾃﾞﾊﾞｯｸ]KN
23161                            1160 I1          .IMPORT _SVP_ORGLDN_DEG         ;原点左区間下[荷重ﾃﾞﾊﾞｯｸ]PLS
23162                            1161 I1  
23163                            1162 I1  
23164                            1163 I1  
23165                            1164 I1  _SVPX_KTBL_MIN_KN       .DEFINE         "_SVP_ORGRUP_DEG"
23166                            1165 I1  _SVPX_KTBL_MIN_PLS      .DEFINE         "_SVP_ORGLUP_DEG"
23167                            1166 I1  
23168                            1167 I1  _SVPX_KTBL_MAX_KN       .DEFINE         "_SVP_ORGRDN_DEG"
23169                            1168 I1  _SVPX_KTBL_MAX_PLS      .DEFINE         "_SVP_ORGLDN_DEG"
23170                            1169 I1  
23171                            1170 I1  ;       R3:Yn_1         R5:Xn_1
23172                            1171 I1  ;       R2:Yn           R4:Xn
23173                            1172 I1  ;       ANS:R2=y        R1:x
23174                            1173 I1  ;       limit R6(Yn)
23175                            1174 I1  
23176 0000481A                   1175 I1  _CLS_KJYU_PLS_CHANGE
23177                            1176 I1          SUB_START
23178 0000481A 4F22                   M           STS.L   PR,@-R15                ;[必要]
23179                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23180                            1177 I1  
23181 0000481C D105              1178 I1          MOV.L   #_KJYUCLS_OBJ_KN,R1             ;//その行程のターゲット
23182 0000481E 6212              1179 I1          MOV.L   @R1,R2                          ;
23183 00004820 D105              1180 I1          MOV.L   #_W4_PV_CTL_KJYU_TTL_P,R1       ;//制御値=ﾌｨﾙﾀ値予定
23184 00004822 6012              1181 I1          MOV.L   @R1,R0                          ;荷重実測
23185 00004824 3208              1182 I1          SUB     R0,R2                           ;
23186 00004826 D105              1183 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1           ;//荷重の偏差
23187 00004828 2122              1184 I1          MOV.L   R2,@R1                          ;
23188                            1185 I1  
23189                            1186 I1  ;       ------KN->PLS換算は不要 KN=PLSにしてしますためコメントにする
23190 0000482A D105              1187 I1          MOV.L   #_KJYUCLS_KN_HENSA_PLS,R1       ;//荷重の偏差相当のパルス
23191 0000482C 2122              1188 I1          MOV.L   R2,@R1                          ;PLS="+":もっと正転していい
23192                            1189 I1  
23193                            1190 I1          SUB_END
23194                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23195 0000482E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23196                            1191 I1          M_RTS
23197 00004830 000B                   M           RTS                             ;RTSの後ろの
23198 00004832 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23199                            1192 I1  
23200                            1193 I1  
23201                            1194 I1  
23202                            1195 I1  
23203                            1196 I1  ;;      FAR_JSR #_POS_CLS_TYP1_PROC_CHK,R0                              ;(目標位置､実測位
                                          置作成)
23204                            1197 I1  ;;              @この段でフルクロを行うかどうか R0=0　しない R0 != フルクロする
23205                            1198 I1  ;;              AR6:目標停止位置[PLS],R7リニアの実測位置[PLS] 1回転上のオフセットパルス
23206                            1199 I1  ;;
23207                            1200 I1  ;;      FAR_JSR #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0                       ;ANS R0,R6(ﾘﾆｱ実測
                                          ﾊﾟﾙｽ),R7(1回転内目標ﾊﾟﾙｽ)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   308
PROGRAM NAME =

23208                            1201 I1  ;;              @ニアゼロの範囲内 R0=0, ＋側へオーバR0=1,-側へオーバR0=-1
23209                            1202 I1  ;;               CPUBはCPUAがニアゼロならニアＺロと認識
23210                            1203 I1  
23211                            1204 I1  ;       *******************************************
23212                            1205 I1  ;       ***                                     ***
23213                            1206 I1  ;       ***     ﾌﾙｸﾛｰｽﾞを行う段数かチェック     ***
23214                            1207 I1  ;       ***     [ﾘﾆｱ・荷重切替]                 ***
23215                            1208 I1  ;       *******************************************
23216                            1209 I1  ;       最終段の場合はﾌﾙｸﾛｰｽﾞしない。このソフトの上で見ている
23217                            1210 I1  ;       input INT_POS_CTL_STEP,CPOS_SDAT1_CNTSTEP
23218                            1211 I1  ;       ANS R0:0 ﾌﾙｸﾛｰｽﾞしない
23219                            1212 I1  ;             :0以外 ﾌﾙｸﾛｰｽﾞする
23220                            1213 I1  ;       ANS R5:この行程の停止行程
23221                            1214 I1  ;[_POS_CLS_START_CONFは_POS_CLS_TYP1_PROC_CHKの一部]
23222                            1215 I1  ;
23223                                 I1  ***** BEGIN-POOL *****
23224 00004834 00000000               I1  DATA FOR SOURCE-LINE 1178
23225 00004838 00000000               I1  DATA FOR SOURCE-LINE 1180
23226 0000483C 00000000               I1  DATA FOR SOURCE-LINE 1183
23227 00004840 00000000               I1  DATA FOR SOURCE-LINE 1187
23228                                 I1  ***** END-POOL *****
23229 00004844                   1216 I1  _POS_CLS_START_CONF:
23230                            1217 I1          SUB_START
23231 00004844 4F22                   M           STS.L   PR,@-R15                ;[必要]
23232                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23233 00004846 D107              1218 I1          MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
23234 00004848 6011              1219 I1          MOV.W   @R1,R0                          ;
23235 0000484A 6503              1220 I1          MOV     R0,R5                           ;工程PUSH
23236 0000484C 70FF              1221 I1          ADD     #-1,R0                          ;
23237 0000484E 4008              1222 I1          SHLL2   R0
23238 00004850 D105              1223 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1         ;
23239 00004852 001E              1224 I1          MOV.L   @(R0,R1),R0                     ;現状の工程の目標工程
23240 00004854 D105              1225 I1          MOV.L   #_SDATCLS_TRG_STEP,R1           ;//速度連続の最後のｽﾃｯﾌﾟ
23241 00004856 2101              1226 I1          MOV.W   R0,@R1
23242                            1227 I1  
23243 00004858 3500              1228 I1          CMP/EQ  R0,R5                           ;停止させる工程でのみﾌﾙｸﾛｰｽﾞは行う
23244 0000485A 8900              1229 I1          BT      POS_CLS_START_050               ;R0=R5 ANS R5=工程,R0
23245 0000485C 200A              1230 I1          XOR     R0,R0                           ;ANS MAK
23246 0000485E                   1231 I1  POS_CLS_START_050:                              ;
23247                            1232 I1  
23248                            1233 I1          SUB_END
23249                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23250 0000485E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23251                            1234 I1          M_RTS
23252 00004860 000B                   M           RTS                             ;RTSの後ろの
23253 00004862 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23254                            1235 I1  
23255                            1236 I1  ;       ***************************************************
23256                            1237 I1  ;       ***                                             ***
23257                            1238 I1  ;       ***     目標位置(ﾊﾟﾙｽ)と制御対象実測作成        ***
23258                            1239 I1  ;       ***     [ﾘﾆｱ・荷重切替]                         ***
23259                            1240 I1  ;       ***                                             ***
23260                            1241 I1  ;       ***************************************************
23261                            1242 I1  ;       input _SDATCLS_TRG_STEP ;//速度連続の最後のｽﾃｯﾌﾟ
23262                            1243 I1  ;       ANS
23263                            1244 I1  ;       R7:目標停止位置
23264                            1245 I1  ;       R6:ﾘﾆｱ位置　または　荷重からの位置
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   309
PROGRAM NAME =

23265                            1246 I1  ;               荷重の場合は(目標荷重-実測荷重)*K+目標位置
23266                            1247 I1  ;                               (完了幅内では+1,0,-1ﾊﾟﾙｽにする)
23267                            1248 I1  ;
23268                            1249 I1  ;[_POS_CLS_OBJPLS_PVPLS_MAKEは_POS_CLS_TYP1_PROC_CHKの一部]
23269                            1250 I1  ;
23270                            1251 I1  ;
23271                            1252 I1  ;
23272                                 I1  ***** BEGIN-POOL *****
23273 00004864 00000000               I1  DATA FOR SOURCE-LINE 1218
23274 00004868 00000000               I1  DATA FOR SOURCE-LINE 1223
23275 0000486C 00000000               I1  DATA FOR SOURCE-LINE 1225
23276                                 I1  ***** END-POOL *****
23277 00004870                   1253 I1  _POS_CLS_OBJPLS_PVPLS_MAKE
23278                            1254 I1          SUB_START
23279 00004870 4F22                   M           STS.L   PR,@-R15                ;[必要]
23280                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23281                            1255 I1  
23282 00004872 D111              1256 I1          MOV.L   #_SDATCLS_TRG_STEP,R1           ;//速度連続の最後のｽﾃｯﾌﾟ
23283 00004874 6011              1257 I1          MOV.W   @R1,R0                          ;[R5]
23284                            1258 I1  
23285 00004876 D511              1259 I1          MOV.L   #_SDATCLS_UPOBJ_PLS,R5          ;[目標位置=待機点]
23286 00004878 D111              1260 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;//設定
23287 0000487A 6211              1261 I1          MOV.W   @R1,R2                          ;
23288 0000487C 7201              1262 I1          ADD     #1,R2                           ;
23289 0000487E 3023              1263 I1          CMP/GE  R2,R0                           ;MAX=NOW
23290 00004880 8903              1264 I1          BT      POS_CLS_OBJPVPLSMAK100  ;
23291                            1265 I1  
23292 00004882 D510              1266 I1          MOV.L   #_SDATCLS_OBJPLS,R5             ;[目標位置=各段設定位置]
23293 00004884 70FF              1267 I1          ADD     #-1,R0                          ;
23294 00004886 4008              1268 I1          SHLL2   R0                              ;4BYTE
23295 00004888 350C              1269 I1          ADD     R0,R5                           ;
23296 0000488A                   1270 I1  POS_CLS_OBJPVPLSMAK100  ;
23297                            1271 I1  
23298 0000488A 6752              1272 I1          MOV.L   @R5,R7                          ;待機点または目標位置(停止)
23299 0000488C 6273              1273 I1          MOV     R7,R2
23300                            1274 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0         ;USED R0~R2(目標ﾊﾟﾙｽ+/-ﾊﾟﾙｽ変換)
23301 0000488E D00E                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23302 00004890 400B                   M           JSR     @R0                     ;
23303 00004892 0009                   M           NOP                                     ;
23304 00004894 6723              1275 I1          MOV     R2,R7                           ;R7:目標位置;ANS:目標位置(設定ﾚﾍﾞﾙ)
23305                            1276 I1  
23306 00004896 D40D              1277 I1          MOV.L   #_DBG_REVMOD_OBJPLS,R4          ;
23307 00004898 2422              1278 I1          MOV.L   R2,@R4                          ;ﾃﾞﾊﾞｯｸ用内部ﾃﾞｰﾀﾓﾆﾀ
23308                            1279 I1  
23309                            1280 I1  ;       ==========R7:停止目標位置============
23310 0000489A D10D              1281 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
23311 0000489C 6011              1282 I1          MOV.W   @R1,R0                          ;
23312 0000489E 2008              1283 I1          TST     R0,R0                           ;
23313                            1284 I1          TST_BIT_ON POS_CLS_OBJPVPLSMAK300       ;荷重 JUMP
23314 000048A0 8B1C                   M           BF      POS_CLS_OBJPVPLSMAK300
23315                            1285 I1  
23316                            1286 I1  ;       =====   R6:リニア       ======
23317 000048A2 D40C              1287 I1          MOV.L   #_RNA_LINK_NOWROT_OFSPLS_P,R4   ;//余り角度 +ﾃﾞｰﾀ
23318 000048A4 6642              1288 I1          MOV.L   @R4,R6                          ;
23319 000048A6 6263              1289 I1          MOV     R6,R2                           ;
23320                            1290 I1          FAR_JSR #_FUL_CLS_OBJPLS_CHK,R0         ;USED R0~R2(ﾘﾆｱｽｹｰﾙ==>+/-ﾊﾟﾙｽ変換)
23321 000048A8 D007                   M           MOV.L   #_FUL_CLS_OBJPLS_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   310
PROGRAM NAME =

23322 000048AA 400B                   M           JSR     @R0                     ;
23323 000048AC 0009                   M           NOP                                     ;
23324 000048AE 6623              1291 I1          MOV     R2,R6                           ;
23325 000048B0 D009              1292 I1          MOV.L   #_DBG_REVMOD_CTLPLS,R0          ;
23326 000048B2 2022              1293 I1          MOV.L   R2,@R0                          ;
23327                            1294 I1          M_BRA   POS_CLS_OBJPVPLSMAK500          ;
23328 000048B4 A01C                   M           BRA     POS_CLS_OBJPVPLSMAK500
23329 000048B6 0009                   M           NOP
23330                            1295 I1  
23331                            1296 I1  
23332                            1297 I1  ;       =====           荷重            ======
23333                                 I1  ***** BEGIN-POOL *****
23334 000048B8 00000000               I1  DATA FOR SOURCE-LINE 1256
23335 000048BC 00000000               I1  DATA FOR SOURCE-LINE 1259
23336 000048C0 00000000               I1  DATA FOR SOURCE-LINE 1260
23337 000048C4 00000000               I1  DATA FOR SOURCE-LINE 1266
23338 000048C8 00000000               I1  DATA FOR SOURCE-LINE 1274,1290
23339 000048CC 00000000               I1  DATA FOR SOURCE-LINE 1277
23340 000048D0 00000000               I1  DATA FOR SOURCE-LINE 1281
23341 000048D4 00000000               I1  DATA FOR SOURCE-LINE 1287
23342 000048D8 00000000               I1  DATA FOR SOURCE-LINE 1292
23343                                 I1  ***** END-POOL *****
23344 000048DC                   1298 I1  POS_CLS_OBJPVPLSMAK300:
23345                            1299 I1  ;;      S4b     KJYUCLS_OBJ_KN;         //各段の荷重目標
23346                            1300 I1  ;;      S4b     KJYUCLS_KN_HENSA;       //荷重の偏差
23347                            1301 I1  ;;      S4b     KJYUCLS_KN_HENSA_PLS;   //荷重の偏差相当のパルス
23348                            1302 I1  
23349                            1303 I1          PUSH_REG1 R7                            ;
23350 000048DC 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
23351                                 M                                           ;REG=>[SP]
23352                                 M                                           ;"-4" FF,FF,FF,FC
23353                            1304 I1          FAR_JSR #_CLS_KJYU_PLS_CHANGE,R0        ;OUTPUT R2:偏差ﾊﾟﾙｽ+/-
23354 000048DE D006                   M           MOV.L   #_CLS_KJYU_PLS_CHANGE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23355 000048E0 400B                   M           JSR     @R0                     ;
23356 000048E2 0009                   M           NOP                                     ;
23357                            1305 I1          POP_REG1 R7                             ;
23358                                 M                                   ; RE"+4" 00,00,00,04
23359 000048E4 67F6                   M           MOV.L   @R15+,R7        ;
23360                            1306 I1  
23361                            1307 I1  
23362 000048E6 2228              1308 I1          TST     R2,R2                           ;
23363                            1309 I1          TST_BIT_ON POS_CLS_OBJPVPLSMAK310       ;
23364 000048E8 8B00                   M           BF      POS_CLS_OBJPVPLSMAK310
23365                            1310 I1  
23366 000048EA E201              1311 I1          MOV.B   #1,R2                           ;0なら1にする
23367                            1312 I1  
23368 000048EC                   1313 I1  POS_CLS_OBJPVPLSMAK310:                         ;
23369                            1314 I1                                                  ;"R2=2"
23370 000048EC 6673              1315 I1          MOV     R7,R6                           ;OBJ=100PLS
23371 000048EE 3628              1316 I1          SUB     R2,R6                           ;PV = 98PLS
23372                            1317 I1  
23373                            1318 I1  
23374                            1319 I1  
23375                            1320 I1  
23376 000048F0                   1321 I1  POS_CLS_OBJPVPLSMAK500:
23377                            1322 I1  
23378                            1323 I1          SUB_END
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   311
PROGRAM NAME =

23379                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23380 000048F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23381                            1324 I1          M_RTS
23382 000048F2 000B                   M           RTS                             ;RTSの後ろの
23383 000048F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23384                            1325 I1  
23385                            1326 I1  ;       ***************************************************
23386                            1327 I1  ;       ***                                             ***
23387                            1328 I1  ;       ***     リニア　ニアゼロまたは荷重ニアゼロ      ***
23388                            1329 I1  ;       ***                                             ***
23389                            1330 I1  ;       ***************************************************
23390                            1331 I1  ;       input   R6:ﾘﾆｱ位置
23391                            1332 I1  ;       ANS     R0:-1,0,1
23392                            1333 I1          .IMPORT _SVP_KAJOBJ_HAB ;荷重完了範囲
23393                            1334 I1  
23394                                 I1  ***** BEGIN-POOL *****
23395 000048F6 0000                   I1  ALIGNMENT CODE
23396 000048F8 00000000               I1  DATA FOR SOURCE-LINE 1304
23397                                 I1  ***** END-POOL *****
23398 000048FC                   1335 I1  _POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK:
23399                            1336 I1          SUB_START
23400 000048FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
23401                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23402                            1337 I1  
23403 000048FE D104              1338 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
23404 00004900 6011              1339 I1          MOV.W   @R1,R0                          ;
23405 00004902 2008              1340 I1          TST     R0,R0                           ;
23406                            1341 I1          TST_BIT_ON POS_CLS_RNA_KJYU_FIRST_NZ_CHK100     ;
23407 00004904 8B08                   M           BF      POS_CLS_RNA_KJYU_FIRST_NZ_CHK100
23408                            1342 I1  
23409                            1343 I1          FAR_JSR #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0       ;目標位置とリニアスケールの論理は
                                          逆
23410 00004906 D003                   M           MOV.L   #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23411 00004908 400B                   M           JSR     @R0                     ;
23412 0000490A 0009                   M           NOP                                     ;
23413                            1344 I1          M_BRA   POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND
23414 0000490C A011                   M           BRA     POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND
23415 0000490E 0009                   M           NOP
23416                            1345 I1  
23417                                 I1  ***** BEGIN-POOL *****
23418 00004910 00000000               I1  DATA FOR SOURCE-LINE 1338
23419 00004914 00000000               I1  DATA FOR SOURCE-LINE 1343
23420                                 I1  ***** END-POOL *****
23421 00004918                   1346 I1  POS_CLS_RNA_KJYU_FIRST_NZ_CHK100:
23422                            1347 I1  
23423                            1348 I1          FAR_JSR #_KJYU_NEARZERO_CHK,R0          ;
23424 00004918 D007                   M           MOV.L   #_KJYU_NEARZERO_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23425 0000491A 400B                   M           JSR     @R0                     ;
23426 0000491C 0009                   M           NOP                                     ;
23427                            1349 I1  ;       -2015-06-22
23428 0000491E D107              1350 I1          MOV.L   #(_PAR_KAJYU_FIRST-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;
23429 00004920 6311              1351 I1          MOV.W   @R1,R3                                                  ;
23430 00004922 D107              1352 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差　＋：目標-実荷重:"+"まだ不足している
23431 00004924 6212              1353 I1          MOV.L   @R1,R2                  ;"+/-"
23432 00004926 4211              1354 I1          CMP/PZ  R2
23433 00004928 8900              1355 I1          BT      POS_CLS_RNA_KJYU_FIRST_NZ_CHK120
23434 0000492A 622B              1356 I1          NEG     R2,R2                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   312
PROGRAM NAME =

23435 0000492C                   1357 I1  POS_CLS_RNA_KJYU_FIRST_NZ_CHK120                        ;
23436 0000492C 3236              1358 I1          CMP/HI  R3,R2                                   ;R3<R2
23437 0000492E 8900              1359 I1          BT      POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND        ;
23438 00004930 200A              1360 I1          XOR     R0,R0                                   ;
23439                            1361 I1  
23440 00004932                   1362 I1  POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND:
23441                            1363 I1  
23442                            1364 I1          SUB_END
23443                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23444 00004932 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23445                            1365 I1          M_RTS
23446 00004934 000B                   M           RTS                             ;RTSの後ろの
23447 00004936 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23448                            1366 I1  
23449                            1367 I1  
23450                            1368 I1  
23451                            1369 I1  
23452                            1370 I1  
23453                                 I1  ***** BEGIN-POOL *****
23454 00004938 00000000               I1  DATA FOR SOURCE-LINE 1348
23455 0000493C 00000000               I1  DATA FOR SOURCE-LINE 1350
23456 00004940 00000000               I1  DATA FOR SOURCE-LINE 1352
23457                                 I1  ***** END-POOL *****
23458 00004944                   1371 I1  _POS_CLS_RNA_KJYU_NZ_CHEAK:
23459                            1372 I1          SUB_START
23460 00004944 4F22                   M           STS.L   PR,@-R15                ;[必要]
23461                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23462                            1373 I1  
23463 00004946 D104              1374 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
23464 00004948 6011              1375 I1          MOV.W   @R1,R0                          ;
23465 0000494A 2008              1376 I1          TST     R0,R0                           ;
23466                            1377 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK100   ;
23467 0000494C 8B08                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK100
23468                            1378 I1  
23469                            1379 I1          FAR_JSR #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0       ;目標位置とリニアスケールの論理は
                                          逆
23470 0000494E D003                   M           MOV.L   #_POS_CLS_TYP1_NEAR_ZERO_CHEAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23471 00004950 400B                   M           JSR     @R0                     ;
23472 00004952 0009                   M           NOP                                     ;
23473                            1380 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHKEND
23474 00004954 A03F                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHKEND
23475 00004956 0009                   M           NOP
23476                            1381 I1  
23477                                 I1  ***** BEGIN-POOL *****
23478 00004958 00000000               I1  DATA FOR SOURCE-LINE 1374
23479 0000495C 00000000               I1  DATA FOR SOURCE-LINE 1379
23480                                 I1  ***** END-POOL *****
23481 00004960                   1382 I1  POS_CLS_RNA_KJYU_NZ_CHK100:
23482                            1383 I1  
23483                            1384 I1  ;       ---------------------------------------------------
23484                            1385 I1          .IMPORT _SEQ_DP_TOP
23485                            1386 I1  
23486 00004960 D10C              1387 I1          MOV.L   #_CB_SEQ_CB_COM349,R1           ;[[[[[[[[[[[[
23487 00004962 6011              1388 I1          MOV.W   @R1,R0                          ;
23488 00004964 9414              1389 I1          MOV.W   #BIT12,R4                       ;
23489                            1390 I1  
23490 00004966 2048              1391 I1          TST     R4,R0                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   313
PROGRAM NAME =

23491                            1392 I1          TST_BIT_OF POS_CLS_RNA_KJYU_NZ_CHK500   ;ﾀｲﾏ中は制御しない
23492 00004968 8932                   M           BT      POS_CLS_RNA_KJYU_NZ_CHK500
23493                            1393 I1  
23494 0000496A D10B              1394 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1          ;//BIT0:SET BIT1:ﾀｲﾑｱｯﾌﾟ()
23495 0000496C 6011              1395 I1          MOV.W   @R1,R0                          ;
23496 0000496E C802              1396 I1          TST     #BIT1,R0
23497                            1397 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK400   ;
23498 00004970 8B1F                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK400
23499                            1398 I1  
23500 00004972 C801              1399 I1          TST     #BIT0,R0                        ;
23501                            1400 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK200   ;ﾆｱｾﾞﾛに入ったか？
23502 00004974 8B16                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK200
23503                            1401 I1  
23504                            1402 I1          FAR_JSR #_KJYU_NEARZERO_CHK,R0          ;
23505 00004976 D009                   M           MOV.L   #_KJYU_NEARZERO_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23506 00004978 400B                   M           JSR     @R0                     ;
23507 0000497A 0009                   M           NOP                                     ;
23508 0000497C 2008              1403 I1          TST     R0,R0                           ;ﾆｱｾﾞﾛか?
23509                            1404 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK490   ;ﾆｱｾﾞﾛではない
23510 0000497E 8B1F                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK490
23511                            1405 I1  
23512 00004980 E001              1406 I1          MOV.B   #BIT0,R0                        ;
23513 00004982 D105              1407 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1          ;
23514 00004984 2101              1408 I1          MOV.W   R0,@R1                          ;
23515                            1409 I1  
23516                            1410 I1          FAR_JSR #_FCLS_NZ_TIM_SET,R0            ;ﾀｲﾏｾｯﾄ
23517 00004986 D006                   M           MOV.L   #_FCLS_NZ_TIM_SET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23518 00004988 400B                   M           JSR     @R0                     ;
23519 0000498A 0009                   M           NOP                                     ;
23520                            1411 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHK490      ;
23521 0000498C A018                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHK490
23522 0000498E 0009                   M           NOP
23523                            1412 I1  
23524                                 I1  ***** BEGIN-POOL *****
23525 00004990 1000                   I1  DATA FOR SOURCE-LINE 1389
23526 00004992 0000                   I1  ALIGNMENT CODE
23527 00004994 00000000               I1  DATA FOR SOURCE-LINE 1387
23528 00004998 00000000               I1  DATA FOR SOURCE-LINE 1394,1407
23529 0000499C 00000000               I1  DATA FOR SOURCE-LINE 1402
23530 000049A0 00000000               I1  DATA FOR SOURCE-LINE 1410
23531                                 I1  ***** END-POOL *****
23532 000049A4                   1413 I1  POS_CLS_RNA_KJYU_NZ_CHK200:
23533                            1414 I1  
23534                            1415 I1  
23535 000049A4 D404              1416 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4            ;
23536 000049A6 6142              1417 I1          MOV.L   @R4,R1                          ;
23537 000049A8 2118              1418 I1          TST     R1,R1                           ;
23538                            1419 I1          TST_BIT_ON POS_CLS_RNA_KJYU_NZ_CHK490   ;ﾀｲﾏ中
23539 000049AA 8B09                   M           BF      POS_CLS_RNA_KJYU_NZ_CHK490
23540                            1420 I1  
23541                            1421 I1  ;       --------ﾀｲﾑｱｯﾌﾟ------------
23542 000049AC E003              1422 I1          MOV.B   #BIT1+BIT0,R0                   ;
23543 000049AE D103              1423 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1          ;
23544 000049B0 2101              1424 I1          MOV.W   R0,@R1                          ;
23545                            1425 I1  
23546 000049B2                   1426 I1  POS_CLS_RNA_KJYU_NZ_CHK400:
23547 000049B2 200A              1427 I1          XOR     R0,R0                           ;完了
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   314
PROGRAM NAME =

23548                            1428 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHKEND      ;
23549 000049B4 A00F                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHKEND
23550 000049B6 0009                   M           NOP
23551                            1429 I1  
23552                            1430 I1  
23553                                 I1  ***** BEGIN-POOL *****
23554 000049B8 00000000               I1  DATA FOR SOURCE-LINE 1416
23555 000049BC 00000000               I1  DATA FOR SOURCE-LINE 1423
23556                                 I1  ***** END-POOL *****
23557 000049C0                   1431 I1  POS_CLS_RNA_KJYU_NZ_CHK490:
23558                            1432 I1          FAR_JSR #_KJYU_OUT_DIRCT,R0             ;ANS R0=1(戻れ)/-1(進め)　終わらない
23559 000049C0 D002                   M           MOV.L   #_KJYU_OUT_DIRCT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23560 000049C2 400B                   M           JSR     @R0                     ;
23561 000049C4 0009                   M           NOP                                     ;
23562                            1433 I1          M_BRA   POS_CLS_RNA_KJYU_NZ_CHKEND      ;
23563 000049C6 A006                   M           BRA     POS_CLS_RNA_KJYU_NZ_CHKEND
23564 000049C8 0009                   M           NOP
23565                            1434 I1  
23566                            1435 I1  
23567                            1436 I1  ;       --------------------------------------------
23568                                 I1  ***** BEGIN-POOL *****
23569 000049CA 0000                   I1  ALIGNMENT CODE
23570 000049CC 00000000               I1  DATA FOR SOURCE-LINE 1432
23571                                 I1  ***** END-POOL *****
23572 000049D0                   1437 I1  POS_CLS_RNA_KJYU_NZ_CHK500:
23573                            1438 I1  
23574                            1439 I1          FAR_JSR #_KJYU_NEARZERO_CHK,R0          ;0(完了),1(戻れ),-1(進め)
23575 000049D0 D002                   M           MOV.L   #_KJYU_NEARZERO_CHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
23576 000049D2 400B                   M           JSR     @R0                     ;
23577 000049D4 0009                   M           NOP                                     ;
23578                            1440 I1  
23579 000049D6                   1441 I1  POS_CLS_RNA_KJYU_NZ_CHKEND:
23580                            1442 I1  
23581                            1443 I1  
23582                            1444 I1          SUB_END
23583                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23584 000049D6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23585                            1445 I1          M_RTS
23586 000049D8 000B                   M           RTS                             ;RTSの後ろの
23587 000049DA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23588                            1446 I1  
23589                            1447 I1  
23590                            1448 I1  
23591                            1449 I1  ;       *******************************************
23592                            1450 I1  ;       ***                                     ***
23593                            1451 I1  ;       ***     ユーザ設定荷重完了範囲との比較  ***
23594                            1452 I1  ;       ***                                     ***
23595                            1453 I1  ;       *******************************************
23596                                 I1  ***** BEGIN-POOL *****
23597 000049DC 00000000               I1  DATA FOR SOURCE-LINE 1439
23598                                 I1  ***** END-POOL *****
23599 000049E0                   1454 I1  _KJYU_NEARZERO_CHK:
23600                            1455 I1          SUB_START
23601 000049E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
23602                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23603                            1456 I1  
23604 000049E2 D108              1457 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差　＋：目標-実荷重:"+"まだ不足している
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   315
PROGRAM NAME =

23605 000049E4 6212              1458 I1          MOV.L   @R1,R2                  ;"+/-"
23606                            1459 I1  
23607 000049E6 D108              1460 I1          MOV.L   #_SVP_KAJOBJ_HAB,R1     ;荷重完了範囲
23608 000049E8 6311              1461 I1          MOV.W   @R1,R3                  ;
23609                            1462 I1  
23610 000049EA 643B              1463 I1          NEG     R3,R4                   ;-R4~+R3
23611                            1464 I1  
23612 000049EC E0FF              1465 I1          MOV.B   #-1,R0                          ;手前だ
23613 000049EE 3237              1466 I1          CMP/GT  R3,R2                           ;R3<R2
23614 000049F0 8903              1467 I1          BT      KJYU_NEARZERO_CK200             ;まだ荷重が上がっていない
23615                            1468 I1  
23616 000049F2 200A              1469 I1          XOR     R0,R0                           ;範囲内
23617 000049F4 3243              1470 I1          CMP/GE  R4,R2                           ;
23618 000049F6 8900              1471 I1          BT      KJYU_NEARZERO_CK200             ;
23619 000049F8 E001              1472 I1          MOV.B   #1,R0                           ;
23620 000049FA                   1473 I1  KJYU_NEARZERO_CK200:
23621                            1474 I1  
23622 000049FA D104              1475 I1          MOV.L   #_KJYU_CHK_NEARSIG,R1   ;-1:まだ不足(進め) 1:荷重オーバ(戻れ)
23623 000049FC 2101              1476 I1          MOV.W   R0,@R1                  ;
23624                            1477 I1  
23625                            1478 I1          SUB_END
23626                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23627 000049FE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23628                            1479 I1          M_RTS
23629 00004A00 000B                   M           RTS                             ;RTSの後ろの
23630 00004A02 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23631                            1480 I1  ;       ***************************************************
23632                            1481 I1  ;       ***                                             ***
23633                            1482 I1  ;       ***     ユーザ設定荷重完了範囲-シスパラとの比較 ***
23634                            1483 I1  ;       ***     [2015-03-15]                            ***
23635                            1484 I1  ;       ***************************************************
23636                            1485 I1  ;;;;;;;;;;_KJYU_NEARZERO2_CHK:
23637                            1486 I1  ;;;;;;;;;;      SUB_START
23638                            1487 I1  ;;;;;;;;;;
23639                            1488 I1  ;;;;;;;;;;      MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差　＋：目標-実荷重:"+"まだ不足
                                          している
23640                            1489 I1  ;;;;;;;;;;      MOV.L   @R1,R2                  ;"+/-"
23641                            1490 I1  ;;;;;;;;;;
23642                            1491 I1  ;;;;;;;;;;      MOV.L   #_SVP_KAJOBJ_HAB,R1     ;荷重完了範囲
23643                            1492 I1  ;;;;;;;;;;      MOV.W   @R1,R3                  ;
23644                            1493 I1  ;;;;;;;;;;
23645                            1494 I1  ;;;;;;;;;;      MOV.L   #(_PAR_KAJYU_CHGARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
23646                            1495 I1  ;;;;;;;;;;      MOV.W   @R1,R0                                                  ;
23647                            1496 I1  ;;;;;;;;;;      SUB     R0,R3                                                   ;
23648                            1497 I1  ;;;;;;;;;;      CMP/PL  R0                                                      ;
23649                            1498 I1  ;;;;;;;;;;      BT      KJYU_NEARZERO2_CK100                                    ;R0=
23650                            1499 I1  ;;;;;;;;;;
23651                            1500 I1  ;;;;;;;;;;      XOR     R0,R0                                                   ;荷重範囲
                                          内(設定が荷重いつでも荷重到達になる)
23652                            1501 I1  ;;;;;;;;;;      M_BRA   KJYU_NEARZERO2_CK200                                    ;
23653                            1502 I1  ;;;;;;;;;;
23654                            1503 I1  ;;;;;;;;;;KJYU_NEARZERO2_CK100                                                  ;
23655                            1504 I1  ;;;;;;;;;;
23656                            1505 I1  ;;;;;;;;;;      NEG     R3,R4                   ;-R4~+R3
23657                            1506 I1  ;;;;;;;;;;
23658                            1507 I1  ;;;;;;;;;;      MOV.B   #-1,R0                          ;手前だ
23659                            1508 I1  ;;;;;;;;;;      CMP/GT  R3,R2                           ;R3<R2
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   316
PROGRAM NAME =

23660                            1509 I1  ;;;;;;;;;;      BT      KJYU_NEARZERO2_CK200            ;まだ荷重が上がっていない
23661                            1510 I1  ;;;;;;;;;;
23662                            1511 I1  ;;;;;;;;;;      XOR     R0,R0                           ;範囲内
23663                            1512 I1  ;;;;;;;;;;      CMP/GE  R4,R2                           ;
23664                            1513 I1  ;;;;;;;;;;      BT      KJYU_NEARZERO2_CK200            ;
23665                            1514 I1  ;;;;;;;;;;      MOV.B   #1,R0                           ;
23666                            1515 I1  ;;;;;;;;;;KJYU_NEARZERO2_CK200:
23667                            1516 I1  ;;;;;;;;;;
23668                            1517 I1  ;;;;;;;;;;
23669                            1518 I1  ;;;;;;;;;;      SUB_END
23670                            1519 I1  ;;;;;;;;;;      M_RTS
23671                            1520 I1  
23672                            1521 I1  
23673                            1522 I1  ;;;     R0=0 範囲内
23674                            1523 I1  ;;;     R0=1:荷重ｵｰﾊﾞ,R0=-1荷重不足
23675                            1524 I1  ;;;     MOV.L   #_KJYU_CHK_NEARSIG,R1   ;-1:まだ不足(進め) 1:荷重オーバ(戻れ)
23676                            1525 I1  ;;;     MOV.W   R0,@R1                  ;
23677                            1526 I1  
23678                            1527 I1  
23679                            1528 I1  ;       ***************************************************
23680                            1529 I1  ;       ***                                             ***
23681                            1530 I1  ;       ***     各種荷重範囲比較                        ***
23682                            1531 I1  ;       ***     2015-06-11                              ***
23683                            1532 I1  ;       ***************************************************
23684                                 I1  ***** BEGIN-POOL *****
23685 00004A04 00000000               I1  DATA FOR SOURCE-LINE 1457
23686 00004A08 00000000               I1  DATA FOR SOURCE-LINE 1460
23687 00004A0C 00000000               I1  DATA FOR SOURCE-LINE 1475
23688                                 I1  ***** END-POOL *****
23689 00004A10                   1533 I1  _KJYU_NEARZERO3_CHK:
23690                            1534 I1          SUB_START
23691 00004A10 4F22                   M           STS.L   PR,@-R15                ;[必要]
23692                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23693                            1535 I1  
23694 00004A12 D10C              1536 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1                                   ;//荷重の偏差　＋
                                          ：目標-実荷重:"+"まだ不足している
23695 00004A14 6212              1537 I1          MOV.L   @R1,R2                                                  ;"+/-"
23696 00004A16 4211              1538 I1          CMP/PZ  R2                                                      ;
23697 00004A18 8900              1539 I1          BT      KJYU_NEARZERO3CHK_100                                   ;
23698 00004A1A 622B              1540 I1          NEG     R2,R2                                                   ;
23699 00004A1C                   1541 I1  KJYU_NEARZERO3CHK_100:
23700                            1542 I1  
23701 00004A1C D10A              1543 I1          MOV.L   #(_PAR_KAJYU_STPARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;[荷重停止範囲] 20
                                          15-06-22
23702 00004A1E 6311              1544 I1          MOV.W   @R1,R3                                                  ;
23703 00004A20 3322              1545 I1          CMP/HS  R2,R3                                                   ;
23704 00004A22 891C              1546 I1          BT      KJYU_NEARZERO3CHK_OUT_OFF                               ;R2<=R3
23705                            1547 I1  
23706 00004A24 D109              1548 I1          MOV.L   #_SVP_KAJOBJ_HAB,R1                                     ;荷重完了範囲
23707 00004A26 6411              1549 I1          MOV.W   @R1,R4                                                  ;
23708 00004A28 6343              1550 I1          MOV     R4,R3                                                   ;
23709                            1551 I1  
23710 00004A2A D109              1552 I1          MOV.L   #(_PAR_KAJYU_CHGARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
23711 00004A2C 6011              1553 I1          MOV.W   @R1,R0                                                  ;
23712 00004A2E 3308              1554 I1          SUB     R0,R3                                                   ;
23713 00004A30 4311              1555 I1          CMP/PZ  R3
23714 00004A32 8900              1556 I1          BT      KJYU_NEARZERO3CHK_200                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   317
PROGRAM NAME =

23715 00004A34 6343              1557 I1          MOV     R4,R3                                                   ;
23716 00004A36                   1558 I1  KJYU_NEARZERO3CHK_200:                                                  ;
23717 00004A36 3322              1559 I1          CMP/HS  R2,R3                                                   ;R2<=R3 到達範囲?
23718 00004A38 8914              1560 I1          BT      KJYU_NEARZERO3CHK_TOUTATU                               ;
23719                            1561 I1  
23720 00004A3A 3422              1562 I1          CMP/HS  R2,R4                                                   ;R2<=R4 荷重ニアゼ
                                          ロ範囲?
23721 00004A3C 8915              1563 I1          BT      KJYU_NEARZERO3CHK_YES
23722 00004A3E E0FE              1564 I1          MOV.B   #-2,R0                                                  ;範囲外
23723                            1565 I1          M_BRA   KJYU_NEARZERO3CHK_END                                   ;
23724 00004A40 A014                   M           BRA     KJYU_NEARZERO3CHK_END
23725 00004A42 0009                   M           NOP
23726                            1566 I1  
23727                            1567 I1  
23728                                 I1  ***** BEGIN-POOL *****
23729 00004A44 00000000               I1  DATA FOR SOURCE-LINE 1536
23730 00004A48 00000000               I1  DATA FOR SOURCE-LINE 1543
23731 00004A4C 00000000               I1  DATA FOR SOURCE-LINE 1548
23732 00004A50 00000000               I1  DATA FOR SOURCE-LINE 1552
23733                                 I1  ***** END-POOL *****
23734 00004A54                   1568 I1  KJYU_NEARZERO3_CK100                                                    ;
23735 00004A54 3233              1569 I1          CMP/GE  R3,R2                                                   ;
23736 00004A56 8905              1570 I1          BT      KJYU_NEARZERO3CHK_TOUTATU                               ;R3<=R2
23737 00004A58 E0FF              1571 I1          MOV.B   #-1,R0                                                  ;
23738                            1572 I1          M_BRA   KJYU_NEARZERO3CHK_END                                   ;
23739 00004A5A A007                   M           BRA     KJYU_NEARZERO3CHK_END
23740 00004A5C 0009                   M           NOP
23741                            1573 I1  
23742                            1574 I1  
23743 00004A5E                   1575 I1  KJYU_NEARZERO3CHK_OUT_OFF:
23744 00004A5E 200A              1576 I1          XOR     R0,R0                                                   ;一番小さい
23745                            1577 I1          M_BRA   KJYU_NEARZERO3CHK_END
23746 00004A60 A004                   M           BRA     KJYU_NEARZERO3CHK_END
23747 00004A62 0009                   M           NOP
23748                            1578 I1  
23749 00004A64                   1579 I1  KJYU_NEARZERO3CHK_TOUTATU:                                              ;
23750 00004A64 E001              1580 I1          MOV.B   #1,R0                                                   ;二番目小さい
23751                            1581 I1          M_BRA   KJYU_NEARZERO3CHK_END                                   ;
23752 00004A66 A001                   M           BRA     KJYU_NEARZERO3CHK_END
23753 00004A68 0009                   M           NOP
23754                            1582 I1  
23755 00004A6A                   1583 I1  KJYU_NEARZERO3CHK_YES
23756 00004A6A E002              1584 I1          MOV.B   #2,R0                                                   ;三番目小さい
23757                            1585 I1  
23758 00004A6C                   1586 I1  KJYU_NEARZERO3CHK_END
23759                            1587 I1          SUB_END
23760                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23761 00004A6C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23762                            1588 I1          M_RTS
23763 00004A6E 000B                   M           RTS                             ;RTSの後ろの
23764 00004A70 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23765                            1589 I1  
23766                            1590 I1  
23767                            1591 I1  
23768 00004A72                   1592 I1  _KJYU_OUT_DIRCT:
23769                            1593 I1          SUB_START
23770 00004A72 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   318
PROGRAM NAME =

23771                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23772                            1594 I1  
23773 00004A74 D103              1595 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差
23774 00004A76 6012              1596 I1          MOV.L   @R1,R0                  ;"+/-"
23775                            1597 I1  
23776 00004A78 4011              1598 I1          CMP/PZ  R0
23777 00004A7A 8905              1599 I1          BT      KJYU_OUTDIR100          ;
23778 00004A7C E001              1600 I1          MOV.B   #1,R0                   ;R0=1:"+"へ行き過ぎてる 戻れ
23779                            1601 I1          M_BRA   KJYU_OUTDIR200          ;
23780 00004A7E A004                   M           BRA     KJYU_OUTDIR200
23781 00004A80 0009                   M           NOP
23782                            1602 I1  
23783                                 I1  ***** BEGIN-POOL *****
23784 00004A82 0000                   I1  ALIGNMENT CODE
23785 00004A84 00000000               I1  DATA FOR SOURCE-LINE 1595
23786                                 I1  ***** END-POOL *****
23787 00004A88                   1603 I1  KJYU_OUTDIR100:
23788 00004A88 E0FF              1604 I1          MOV.B   #-1,R0                  ;R0=-1"-"進め
23789                            1605 I1  
23790 00004A8A                   1606 I1  KJYU_OUTDIR200:
23791                            1607 I1  
23792                            1608 I1  
23793                            1609 I1          SUB_END
23794                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23795 00004A8A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23796                            1610 I1          M_RTS
23797 00004A8C 000B                   M           RTS                             ;RTSの後ろの
23798 00004A8E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23799                            1611 I1  
23800                            1612 I1  ;       *******************************************
23801                            1613 I1  ;       ***                                     ***
23802                            1614 I1  ;       ***                                     ***
23803                            1615 I1  ;       ***                                     ***
23804                            1616 I1  ;       *******************************************
23805                            1617 I1  ;       荷重制御中　タイマ中も制御し続ける 349.12
23806                            1618 I1  ;       ニアゼロ
23807 00004A90                   1619 I1  _FCLS_NZ_TIM_SET
23808                            1620 I1          SUB_START
23809 00004A90 4F22                   M           STS.L   PR,@-R15                ;[必要]
23810                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23811                            1621 I1  
23812                            1622 I1  
23813 00004A92 D205              1623 I1          MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
23814 00004A94 6021              1624 I1          MOV.W   @R2,R0                  ;ﾀｲﾏLOAD
23815 00004A96 70FF              1625 I1          ADD     #-1,R0                  ;
23816 00004A98 D404              1626 I1          MOV.L   #_CPOS_SDAT1_TIM,R4     ;
23817 00004A9A 4008              1627 I1          SHLL2   R0                      ;
23818 00004A9C 014E              1628 I1          MOV.L   @(R0,R4),R1             ;TIM
23819 00004A9E D404              1629 I1          MOV.L   #_SDAT_WAIT_PVTIM,R4    ;
23820 00004AA0 2412              1630 I1          MOV.L   R1,@R4                  ;
23821                            1631 I1  
23822                            1632 I1          SUB_END
23823                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23824 00004AA2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23825                            1633 I1          M_RTS
23826 00004AA4 000B                   M           RTS                             ;RTSの後ろの
23827 00004AA6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   319
PROGRAM NAME =

23828                            1634 I1  
23829                            1635 I1  
23830                                 I1  ***** BEGIN-POOL *****
23831 00004AA8 00000000               I1  DATA FOR SOURCE-LINE 1623
23832 00004AAC 00000000               I1  DATA FOR SOURCE-LINE 1626
23833 00004AB0 00000000               I1  DATA FOR SOURCE-LINE 1629
23834                                 I1  ***** END-POOL *****
23835 00004AB4                   1636 I1  _FCLS_KJYU_STEPCHG_CLR
23836                            1637 I1          SUB_START
23837 00004AB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
23838                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23839 00004AB6 200A              1638 I1          XOR     R0,R0
23840 00004AB8 D103              1639 I1          MOV.L   #_FULCLS_TIM_SETFLG,R1  ;
23841 00004ABA 2101              1640 I1          MOV.W   R0,@R1                  ;
23842                            1641 I1  
23843 00004ABC D103              1642 I1          MOV.L   #_FULCLS_MATHED,R1
23844 00004ABE 2101              1643 I1          MOV.W   R0,@R1                  ;
23845                            1644 I1  
23846                            1645 I1          SUB_END
23847                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23848 00004AC0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23849                            1646 I1          M_RTS
23850 00004AC2 000B                   M           RTS                             ;RTSの後ろの
23851 00004AC4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23852                            1647 I1  
23853                            1648 I1  ;       ***************************************************
23854                            1649 I1  ;       ***                                             ***
23855                            1650 I1  ;       ***                                             ***
23856                            1651 I1  ;       ***                                             ***
23857                            1652 I1  ;       ***************************************************
23858                            1653 I1  ;       どこかで異常検出をする(仕様でないのに荷重ＳＷがＯＮだ)
23859                            1654 I1          .IMPORT _WORD_BIT_TBL1
23860                            1655 I1  
23861                                 I1  ***** BEGIN-POOL *****
23862 00004AC6 0000                   I1  ALIGNMENT CODE
23863 00004AC8 00000000               I1  DATA FOR SOURCE-LINE 1639
23864 00004ACC 00000000               I1  DATA FOR SOURCE-LINE 1642
23865                                 I1  ***** END-POOL *****
23866 00004AD0                   1656 I1  _KJYU_DATA_INFO_SEL
23867                            1657 I1          SUB_START
23868 00004AD0 4F22                   M           STS.L   PR,@-R15                ;[必要]
23869                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23870                            1658 I1  
23871 00004AD2 D110              1659 I1          MOV.L   #_SDATCLS_TRG_STEP,R1           ;//速度連続の最後のｽﾃｯﾌﾟ
23872 00004AD4 6011              1660 I1          MOV.W   @R1,R0                          ;1~10
23873 00004AD6 2008              1661 I1          TST     R0,R0                           ;
23874                            1662 I1          TST_BIT_OF KJYU_DATA_INFOSL100          ;
23875 00004AD8 892A                   M           BT      KJYU_DATA_INFOSL100
23876                            1663 I1  
23877 00004ADA D10F              1664 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;//設定
23878 00004ADC 6211              1665 I1          MOV.W   @R1,R2                          ;
23879 00004ADE 7201              1666 I1          ADD     #1,R2                           ;
23880 00004AE0 3200              1667 I1          CMP/EQ  R0,R2                           ;戻り行程?
23881 00004AE2 8925              1668 I1          BT      KJYU_DATA_INFOSL100             ;
23882                            1669 I1  
23883                            1670 I1  
23884 00004AE4 70FF              1671 I1          ADD     #-1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   320
PROGRAM NAME =

23885 00004AE6 4000              1672 I1          SHLL    R0                              ;
23886 00004AE8 D40C              1673 I1          MOV.L   #_WORD_BIT_TBL1,R4              ;R0=0のときにBIT0
23887 00004AEA 340C              1674 I1          ADD     R0,R4                           ;
23888 00004AEC 6241              1675 I1          MOV.W   @R4,R2                          ;ﾁｪｯｸﾋﾞｯﾄ
23889 00004AEE D10C              1676 I1          MOV.L   #_CPOS_FULCLS_MATEHD_SW,R1      ;
23890 00004AF0 6311              1677 I1          MOV.W   @R1,R3                          ;
23891 00004AF2 2328              1678 I1          TST     R2,R3                           ;
23892                            1679 I1          TST_BIT_OF KJYU_DATA_INFOSL100          ;位置
23893 00004AF4 891C                   M           BT      KJYU_DATA_INFOSL100
23894                            1680 I1  
23895 00004AF6 4000              1681 I1          SHLL    R0                              ;*2
23896 00004AF8 D10A              1682 I1          MOV.L   #_CPOS_KJYUCLS_OBJ,R1           ;
23897 00004AFA 310C              1683 I1          ADD     R0,R1                           ;
23898 00004AFC 6212              1684 I1          MOV.L   @R1,R2                          ;
23899 00004AFE D10A              1685 I1          MOV.L   #_KJYUCLS_OBJ_KN,R1             ;各段の荷重目標
23900 00004B00 2122              1686 I1          MOV.L   R2,@R1                          ;
23901                            1687 I1  
23902                            1688 I1          MEM1_BIT0_F_ORSET MEM=_SQ_CBWK_TOP+_WKSQCB227,LG=W,BIT=(BIT13),WKRG1=R1,WKRG2=R4
                                          ;
23903 00004B02 D10A                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB227,R1             ;
23904 00004B04 6011                   M           MOV.W   @R1,R0          ;
23905 00004B06 9404                   M           MOV.W   #(BIT13),R4             ;
23906 00004B08 204B                   M           OR      R4,R0           ;
23907 00004B0A 2101                   M           MOV.W   R0,@R1          ;
23908                            1689 I1  
23909 00004B0C E001              1690 I1          MOV.B   #BIT0,R0                        ;
23910                            1691 I1          M_BRA   KJYU_DATA_INFOSL300             ;
23911 00004B0E A015                   M           BRA     KJYU_DATA_INFOSL300
23912 00004B10 0009                   M           NOP
23913                            1692 I1  
23914                                 I1  ***** BEGIN-POOL *****
23915 00004B12 2000                   I1  DATA FOR SOURCE-LINE 1688
23916 00004B14 00000000               I1  DATA FOR SOURCE-LINE 1659
23917 00004B18 00000000               I1  DATA FOR SOURCE-LINE 1664
23918 00004B1C 00000000               I1  DATA FOR SOURCE-LINE 1673
23919 00004B20 00000000               I1  DATA FOR SOURCE-LINE 1676
23920 00004B24 00000000               I1  DATA FOR SOURCE-LINE 1682
23921 00004B28 00000000               I1  DATA FOR SOURCE-LINE 1685
23922 00004B2C 00000000               I1  DATA FOR SOURCE-LINE 1688
23923                                 I1  ***** END-POOL *****
23924 00004B30                   1693 I1  KJYU_DATA_INFOSL100
23925                            1694 I1          MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB227,LG=W,BIT=~(BIT13),WKRG1=R1,WKRG2=R4
23926 00004B30 D105                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB227,R1             ;
23927 00004B32 6011                   M           MOV.W   @R1,R0          ;
23928 00004B34 9407                   M           MOV.W   #LWORD ~(BIT13),R4      ;
23929 00004B36 2049                   M           AND     R4,R0           ;
23930 00004B38 2101                   M           MOV.W   R0,@R1          ;
23931 00004B3A 200A              1695 I1          XOR     R0,R0
23932 00004B3C                   1696 I1  KJYU_DATA_INFOSL300
23933 00004B3C D103              1697 I1          MOV.L   #_FULCLS_MATHED,R1              ;//0:位置 1:荷重
23934 00004B3E 2101              1698 I1          MOV.W   R0,@R1                  ;
23935                            1699 I1  
23936                            1700 I1          SUB_END
23937                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23938 00004B40 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23939                            1701 I1          M_RTS
23940 00004B42 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   321
PROGRAM NAME =

23941 00004B44 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23942                            1702 I1  
23943                            1703 I1  
23944                            1704 I1  
23945                            1705 I1  
23946                            1706 I1  
23947                            1707 I1  
23948                            1708 I1  ;       ***************************************************
23949                            1709 I1  ;       ***                                             ***
23950                            1710 I1  ;       ***     １回目の荷重制御開始時に荷重が高いか?   ***
23951                            1711 I1  ;       ***     [2015-03-15]                                    ***
23952                            1712 I1  ;       ***************************************************
23953                                 I1  ***** BEGIN-POOL *****
23954 00004B46 DFFF                   I1  DATA FOR SOURCE-LINE 1694
23955 00004B48 00000000               I1  DATA FOR SOURCE-LINE 1694
23956 00004B4C 00000000               I1  DATA FOR SOURCE-LINE 1697
23957                                 I1  ***** END-POOL *****
23958 00004B50                   1713 I1  _KAJYU_START_UPCHK:
23959                            1714 I1          SUB_START
23960 00004B50 4F22                   M           STS.L   PR,@-R15                ;[必要]
23961                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
23962 00004B52 D10B              1715 I1          MOV.L   #_FULCLS_MATHED,R1      ;//0:位置 1:荷重
23963 00004B54 6011              1716 I1          MOV.W   @R1,R0                  ;
23964 00004B56 8801              1717 I1          CMP/EQ  #1,R0                   ;
23965 00004B58 8B0E              1718 I1          BF      KAJYU_START_UPCK_EXT    ;荷重ではない
23966                            1719 I1  
23967 00004B5A D10A              1720 I1          MOV.L   #_FULCLS_ELSE_STS,R1    ;       //BIT0=0->1:初めての荷重制御開始
23968 00004B5C 6011              1721 I1          MOV.W   @R1,R0                  ;
23969 00004B5E C801              1722 I1          TST     #BIT0,R0                ;
23970                            1723 I1          TST_BIT_ON KAJYU_START_UPCK_EXT ;既にチェック済み
23971 00004B60 8B0A                   M           BF      KAJYU_START_UPCK_EXT
23972 00004B62 CB01              1724 I1          OR      #BIT0,R0                ;
23973 00004B64 2101              1725 I1          MOV.W   R0,@R1                  ;
23974                            1726 I1  
23975 00004B66 D108              1727 I1          MOV.L   #_KJYUCLS_KN_HENSA,R1   ;//荷重の偏差
23976 00004B68 6012              1728 I1          MOV.L   @R1,R0                  ;
23977 00004B6A 4011              1729 I1          CMP/PZ  R0                      ;
23978 00004B6C 8904              1730 I1          BT      KAJYU_START_UPCK_EXT    ;目標>=実測
23979                            1731 I1  
23980                            1732 I1          MEM1_BIT0_F_ORSET MEM=(_SQ_CBWK_TOP+_WKSQCB224),LG=W,BIT=(BIT12),WKRG1=R1,WKRG2=R4
23981 00004B6E D107                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB224),R1           ;
23982 00004B70 6011                   M           MOV.W   @R1,R0          ;
23983 00004B72 9404                   M           MOV.W   #(BIT12),R4             ;
23984 00004B74 204B                   M           OR      R4,R0           ;
23985 00004B76 2101                   M           MOV.W   R0,@R1          ;
23986                            1733 I1  
23987 00004B78                   1734 I1  KAJYU_START_UPCK_EXT:
23988                            1735 I1  
23989                            1736 I1          SUB_END
23990                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
23991 00004B78 4F26                   M           LDS.L   @R15+,PR                ;[必要]
23992                            1737 I1          M_RTS
23993 00004B7A 000B                   M           RTS                             ;RTSの後ろの
23994 00004B7C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
23995                            1738 I1  
23996                            1739 I1  ;       ---------起動、異常-------
23997                            1740 I1          .EXPORT _KAJYU_ELSE_STS_CLR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   322
PROGRAM NAME =

23998                                 I1  ***** BEGIN-POOL *****
23999 00004B7E 1000                   I1  DATA FOR SOURCE-LINE 1732
24000 00004B80 00000000               I1  DATA FOR SOURCE-LINE 1715
24001 00004B84 00000000               I1  DATA FOR SOURCE-LINE 1720
24002 00004B88 00000000               I1  DATA FOR SOURCE-LINE 1727
24003 00004B8C 00000000               I1  DATA FOR SOURCE-LINE 1732
24004                                 I1  ***** END-POOL *****
24005 00004B90                   1741 I1  _KAJYU_ELSE_STS_CLR:
24006                            1742 I1          SUB_START
24007 00004B90 4F22                   M           STS.L   PR,@-R15                ;[必要]
24008                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24009                            1743 I1  
24010                            1744 I1          FAR_JSR #_KAJYU_ELSE_STS_FLG_CLR,R0     ;
24011 00004B92 D006                   M           MOV.L   #_KAJYU_ELSE_STS_FLG_CLR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24012 00004B94 400B                   M           JSR     @R0                     ;
24013 00004B96 0009                   M           NOP                                     ;
24014                            1745 I1  
24015                            1746 I1          MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB224),LG=W,BIT=~(BIT12),WKRG1=R1,WKRG2=R
                                          4
24016 00004B98 D105                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB224),R1           ;
24017 00004B9A 6011                   M           MOV.W   @R1,R0          ;
24018 00004B9C 9404                   M           MOV.W   #LWORD ~(BIT12),R4      ;
24019 00004B9E 2049                   M           AND     R4,R0           ;
24020 00004BA0 2101                   M           MOV.W   R0,@R1          ;
24021                            1747 I1  
24022                            1748 I1          SUB_END
24023                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24024 00004BA2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24025                            1749 I1          M_RTS
24026 00004BA4 000B                   M           RTS                             ;RTSの後ろの
24027 00004BA6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24028                            1750 I1  
24029                                 I1  ***** BEGIN-POOL *****
24030 00004BA8 EFFF                   I1  DATA FOR SOURCE-LINE 1746
24031 00004BAA 0000                   I1  ALIGNMENT CODE
24032 00004BAC 00000000               I1  DATA FOR SOURCE-LINE 1744
24033 00004BB0 00000000               I1  DATA FOR SOURCE-LINE 1746
24034                                 I1  ***** END-POOL *****
24035 00004BB4                   1751 I1  _KAJYU_ELSE_STS_FLG_CLR:
24036                            1752 I1          SUB_START
24037 00004BB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
24038                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24039 00004BB6 200A              1753 I1          XOR     R0,R0
24040 00004BB8 D102              1754 I1          MOV.L   #_FULCLS_ELSE_STS,R1    ;       //BIT0=0->1:初めての荷重制御開始
24041 00004BBA 2101              1755 I1          MOV.W   R0,@R1                  ;
24042                            1756 I1          SUB_END
24043                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24044 00004BBC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24045                            1757 I1          M_RTS
24046 00004BBE 000B                   M           RTS                             ;RTSの後ろの
24047 00004BC0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24048                            1758 I1  
24049                            1759 I1  
24050                            1760 I1  
24051                            1761 I1  
24052                            1762 I1  
24053                            1763 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   323
PROGRAM NAME =

24054                            1764 I1  
24055                            1765 I1  
24056                            1766 I1  
24057                            1767 I1  
24058                            1768 I1  
24059                            1769 I1  
24060                            1770 I1  
24061                            1771 I1  
24062                            1772 I1  
24063                            1773 I1  
24064                            1774 I1  
24065                            1775 I1  
24066                            1776 I1  ;       H2WではDTMKだがＱ
24067                            1777 I1  ;       ***************************************************
24068                            1778 I1  ;       ***                                             ***
24069                            1779 I1  ;       ***             起動時荷重データ判断            ***
24070                            1780 I1  ;       ***                                             ***
24071                            1781 I1  ;       ***             範囲1                           ***
24072                            1782 I1  ;       ***             範囲2                           ***
24073                            1783 I1  ;       ***************************************************
24074                            1784 I1  ;       "既に荷重範囲に一度は入った前提"
24075                            1785 I1  ;
24076                            1786 I1  
24077                                 I1  ***** BEGIN-POOL *****
24078 00004BC2 0000                   I1  ALIGNMENT CODE
24079 00004BC4 00000000               I1  DATA FOR SOURCE-LINE 1754
24080                                 I1  ***** END-POOL *****
24081 00004BC8                   1787 I1  _REVRSE_KAJYU_AREACHK_BASSET:
24082                            1788 I1          SUB_START
24083 00004BC8 4F22                   M           STS.L   PR,@-R15                ;[必要]
24084                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24085 00004BCA D108              1789 I1          MOV.L   #(_PAR_KAJYU_CHGARA-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
24086 00004BCC 6011              1790 I1          MOV.W   @R1,R0                                                  ;到達範囲
24087 00004BCE 2008              1791 I1          TST     R0,R0                                                   ;
24088                            1792 I1          TST_BIT_OF REVRSE_KAJYU_AREACK_LASTSPD                          ;最終範囲を使用し
                                          ない
24089 00004BD0 8912                   M           BT      REVRSE_KAJYU_AREACK_LASTSPD
24090                            1793 I1  
24091                            1794 I1  ;;;;;2015-06-22
24092                            1795 I1  ;;;;;   FAR_JSR #_KJYU_NEARZERO2_CHK,R0
24093                            1796 I1  ;;;;;   TST     R0,R0                                   ;
24094                            1797 I1  ;;;;;   TST_BIT_OF REVRSE_KAJYU_AREACK_LASTSPD          ;到達範囲内
24095                            1798 I1  
24096                            1799 I1  ;       速度選択のニアゼロサブルーチン変更
24097                            1800 I1          FAR_JSR #_KJYU_NEARZERO3_CHK,R0
24098 00004BD2 D007                   M           MOV.L   #_KJYU_NEARZERO3_CHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24099 00004BD4 400B                   M           JSR     @R0                     ;
24100 00004BD6 0009                   M           NOP                                     ;
24101 00004BD8 8800              1801 I1          CMP/EQ  #0,R0
24102 00004BDA 890D              1802 I1          BT      REVRSE_KAJYU_AREACK_LASTSPD             ;到達範囲内 0,1
24103 00004BDC 8801              1803 I1          CMP/EQ  #1,R0
24104 00004BDE 890B              1804 I1          BT      REVRSE_KAJYU_AREACK_LASTSPD             ;到達範囲内 0,1
24105                            1805 I1  
24106                            1806 I1          FAR_JSR #_REVRSE_KAJYU1_BASINCSET,R0            ;
24107 00004BE0 D004                   M           MOV.L   #_REVRSE_KAJYU1_BASINCSET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24108 00004BE2 400B                   M           JSR     @R0                     ;
24109 00004BE4 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   324
PROGRAM NAME =

24110                            1807 I1          M_BRA   REVRSE_KAJYU_AREACK_END                 ;
24111 00004BE6 A00A                   M           BRA     REVRSE_KAJYU_AREACK_END
24112 00004BE8 0009                   M           NOP
24113                            1808 I1  
24114                            1809 I1  ;       --------------最後の範囲内の運転--------------
24115                                 I1  ***** BEGIN-POOL *****
24116 00004BEA 0000                   I1  ALIGNMENT CODE
24117 00004BEC 00000000               I1  DATA FOR SOURCE-LINE 1789
24118 00004BF0 00000000               I1  DATA FOR SOURCE-LINE 1800
24119 00004BF4 00000000               I1  DATA FOR SOURCE-LINE 1806
24120                                 I1  ***** END-POOL *****
24121 00004BF8                   1810 I1  REVRSE_KAJYU_AREACK_LASTSPD:
24122                            1811 I1          FAR_JSR #_REVRSE_KAJYU2_BASINCSET,R0
24123 00004BF8 D002                   M           MOV.L   #_REVRSE_KAJYU2_BASINCSET,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24124 00004BFA 400B                   M           JSR     @R0                     ;
24125 00004BFC 0009                   M           NOP                                     ;
24126                            1812 I1  
24127 00004BFE                   1813 I1  REVRSE_KAJYU_AREACK_END:
24128                            1814 I1  
24129                            1815 I1          SUB_END
24130                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24131 00004BFE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24132                            1816 I1          M_RTS
24133 00004C00 000B                   M           RTS                             ;RTSの後ろの
24134 00004C02 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24135                            1817 I1  
24136                            1818 I1  
24137                            1819 I1  
24138                            1820 I1  
24139                            1821 I1  ;もしﾊﾟ-ｾﾝﾃﾞｰﾀなら
24140                            1822 I1  ;DATA(%)*MAX(freq)/10000=freq
24141                            1823 I1  ;freq*FFFF/500,000=LATE
24142                            1824 I1  ;
24143                            1825 I1  ;
24144                            1826 I1  ;もしﾚｰﾄ(7pls/s)なら
24145                            1827 I1  ;DATA()*500,000/FFFF=PLS/S
24146                            1828 I1  
24147                            1829 I1  ;       ------ 2014-08-20-------------------------------------------------------------
24148                            1830 I1  ;       ---------------- 荷重制御の一旦荷重幅に入った＋最終幅に入っていない-----------
24149                                 I1  ***** BEGIN-POOL *****
24150 00004C04 00000000               I1  DATA FOR SOURCE-LINE 1811
24151                                 I1  ***** END-POOL *****
24152 00004C08                   1831 I1  _REVRSE_KAJYU1_BASINCSET:
24153                            1832 I1          SUB_START
24154 00004C08 4F22                   M           STS.L   PR,@-R15                ;[必要]
24155                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24156                            1833 I1  
24157 00004C0A D104              1834 I1          MOV.L   #(_PAR_KAJYU_ARASPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;Pno.362
24158 00004C0C 6211              1835 I1          MOV.W   @R1,R2                                                  ;[7PLS/S]
24159 00004C0E 2228              1836 I1          TST     R2,R2                                                   ;
24160                            1837 I1          TST_BIT_ON CLSINC1_SEL_020                                      ;
24161 00004C10 8B08                   M           BF      CLSINC1_SEL_020
24162                            1838 I1  
24163                            1839 I1          FAR_JSR #_REVRSE_BASINC_SPDCALC,R0                              ;
24164 00004C12 D003                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24165 00004C14 400B                   M           JSR     @R0                     ;
24166 00004C16 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   325
PROGRAM NAME =

24167                            1840 I1          M_BRA   CLSINC1_SEL_END                                         ;
24168 00004C18 A009                   M           BRA     CLSINC1_SEL_END
24169 00004C1A 0009                   M           NOP
24170                            1841 I1  
24171                                 I1  ***** BEGIN-POOL *****
24172 00004C1C 00000000               I1  DATA FOR SOURCE-LINE 1834
24173 00004C20 00000000               I1  DATA FOR SOURCE-LINE 1839
24174                                 I1  ***** END-POOL *****
24175 00004C24                   1842 I1  CLSINC1_SEL_020
24176                            1843 I1          FAR_JSR #_CHG_LSI_LATE_TO_PLS,R0                                ;R2*POS_FRQ_SPDMAX
                                          (500000)/POS_LSI_SPDMAX(FFFF)
24177 00004C24 D003                   M           MOV.L   #_CHG_LSI_LATE_TO_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24178 00004C26 400B                   M           JSR     @R0                     ;
24179 00004C28 0009                   M           NOP                                     ;
24180                            1844 I1  
24181 00004C2A D103              1845 I1          MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1                              ;
24182 00004C2C 2122              1846 I1          MOV.L   R2,@R1                                                  ;
24183 00004C2E                   1847 I1  CLSINC1_SEL_END
24184                            1848 I1  
24185                            1849 I1          SUB_END
24186                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24187 00004C2E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24188                            1850 I1          M_RTS
24189 00004C30 000B                   M           RTS                             ;RTSの後ろの
24190 00004C32 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24191                            1851 I1  
24192                            1852 I1  
24193                            1853 I1  ;       -------2014-07-14-----------
24194                            1854 I1  ;       ------ 2014-08-20-----------
24195                            1855 I1  ;       ---------------- 荷重制御の一旦荷重幅に入った＋最終幅に入った-----------
24196                                 I1  ***** BEGIN-POOL *****
24197 00004C34 00000000               I1  DATA FOR SOURCE-LINE 1843
24198 00004C38 00000000               I1  DATA FOR SOURCE-LINE 1845
24199                                 I1  ***** END-POOL *****
24200 00004C3C                   1856 I1  _REVRSE_KAJYU2_BASINCSET:
24201                            1857 I1          SUB_START
24202 00004C3C 4F22                   M           STS.L   PR,@-R15                ;[必要]
24203                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24204                            1858 I1  
24205 00004C3E D104              1859 I1          MOV.L   #(_PAR_KAJYU_HLDSPD-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;Pno.361
24206 00004C40 6211              1860 I1          MOV.W   @R1,R2                                                  ;[7PLS/S]
24207 00004C42 2228              1861 I1          TST     R2,R2                                                   ;
24208                            1862 I1          TST_BIT_ON CLSINC2_SEL_020                                      ;
24209 00004C44 8B08                   M           BF      CLSINC2_SEL_020
24210                            1863 I1  
24211                            1864 I1          FAR_JSR #_REVRSE_BASINC_SPDCALC,R0                              ;
24212 00004C46 D003                   M           MOV.L   #_REVRSE_BASINC_SPDCALC,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24213 00004C48 400B                   M           JSR     @R0                     ;
24214 00004C4A 0009                   M           NOP                                     ;
24215                            1865 I1          M_BRA   CLSINC2_SEL_END                                         ;
24216 00004C4C A009                   M           BRA     CLSINC2_SEL_END
24217 00004C4E 0009                   M           NOP
24218                            1866 I1  
24219                                 I1  ***** BEGIN-POOL *****
24220 00004C50 00000000               I1  DATA FOR SOURCE-LINE 1859
24221 00004C54 00000000               I1  DATA FOR SOURCE-LINE 1864
24222                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   326
PROGRAM NAME =

24223 00004C58                   1867 I1  CLSINC2_SEL_020
24224                            1868 I1          FAR_JSR #_CHG_LSI_LATE_TO_PLS,R0                                ;R2*POS_FRQ_SPDMAX
                                          (500000)/POS_LSI_SPDMAX(FFFF)
24225 00004C58 D003                   M           MOV.L   #_CHG_LSI_LATE_TO_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24226 00004C5A 400B                   M           JSR     @R0                     ;
24227 00004C5C 0009                   M           NOP                                     ;
24228                            1869 I1  
24229 00004C5E D103              1870 I1          MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1                              ;
24230 00004C60 2122              1871 I1          MOV.L   R2,@R1                                                  ;
24231 00004C62                   1872 I1  CLSINC2_SEL_END
24232                            1873 I1  
24233                            1874 I1          SUB_END
24234                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24235 00004C62 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24236                            1875 I1          M_RTS
24237 00004C64 000B                   M           RTS                             ;RTSの後ろの
24238 00004C66 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24239                            1876 I1  
24240                            1877 I1  
24241                            1878 I1  ;       ***********************************
24242                            1879 I1  ;       ***     S01~S09処理             ***
24243                            1880 I1  ;       ***********************************
24244                                 I1  ***** BEGIN-POOL *****
24245 00004C68 00000000               I1  DATA FOR SOURCE-LINE 1868
24246 00004C6C 00000000               I1  DATA FOR SOURCE-LINE 1870
24247                                 I1  ***** END-POOL *****
24248 00004C70                   1881 I1  _REVRSE_BASINC_SPDCALC:
24249                            1882 I1          SUB_START
24250 00004C70 4F22                   M           STS.L   PR,@-R15                ;[必要]
24251                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24252                            1883 I1  
24253                            1884 I1  ;       =======  2012-10-05 =========
24254 00004C72 D10B              1885 I1          MOV.L   #_CB_SEQ_CB_COM351,R1                                   ;ｲﾝﾁﾝｸﾞ速度選択
24255 00004C74 6011              1886 I1          MOV.W   @R1,R0                                                  ;
24256 00004C76 9411              1887 I1          MOV.W   #BIT9+BIT8+BIT7+BIT6+BIT5+BIT4+BIT3+BIT2+BIT1,R4        ;
24257 00004C78 2048              1888 I1          TST     R4,R0                                                   ;
24258                            1889 I1          TST_BIT_OF CLSINC_SEL_DEF                                       ;
24259 00004C7A 8915                   M           BT      CLSINC_SEL_DEF
24260                            1890 I1  
24261 00004C7C E308              1891 I1          MOV.B   #D'9-1,R3                                                       ;
24262 00004C7E E402              1892 I1          MOV.B   #BIT1,R4                                                ;
24263 00004C80 D108              1893 I1          MOV.L   #(_PAR_NEGCTL_SPDS1-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
24264                            1894 I1  
24265 00004C82                   1895 I1  CLSINC_SEL_050LOP:
24266 00004C82 2048              1896 I1          TST     R4,R0
24267                            1897 I1          TST_BIT_ON CLSINC_SEL_100       ;
24268 00004C84 8B04                   M           BF      CLSINC_SEL_100
24269 00004C86 4400              1898 I1          SHLL    R4
24270 00004C88 7102              1899 I1          ADD     #2,R1                   ;
24271 00004C8A 73FF              1900 I1          ADD     #-1,R3                  ;
24272 00004C8C 2338              1901 I1          TST     R3,R3                   ;
24273                            1902 I1          TST_BIT_ON CLSINC_SEL_050LOP    ;BIT1~BIT8
24274 00004C8E 8BF8                   M           BF      CLSINC_SEL_050LOP
24275 00004C90                   1903 I1  CLSINC_SEL_100:
24276 00004C90 6211              1904 I1          MOV.W   @R1,R2                  ;
24277 00004C92 2228              1905 I1          TST     R2,R2                   ;
24278                            1906 I1          TST_BIT_ON CLSINC_SEL_300       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   327
PROGRAM NAME =

24279 00004C94 8B0A                   M           BF      CLSINC_SEL_300
24280 00004C96 7201              1907 I1          ADD     #1,R2                   ;
24281                            1908 I1          M_BRA   CLSINC_SEL_300          ;
24282 00004C98 A008                   M           BRA     CLSINC_SEL_300
24283 00004C9A 0009                   M           NOP
24284                            1909 I1  
24285                            1910 I1  
24286                                 I1  ***** BEGIN-POOL *****
24287 00004C9C 03FE                   I1  DATA FOR SOURCE-LINE 1887
24288 00004C9E 0000                   I1  ALIGNMENT CODE
24289 00004CA0 00000000               I1  DATA FOR SOURCE-LINE 1885
24290 00004CA4 00000000               I1  DATA FOR SOURCE-LINE 1893
24291                                 I1  ***** END-POOL *****
24292 00004CA8                   1911 I1  CLSINC_SEL_DEF:
24293 00004CA8 D104              1912 I1          MOV.L   #_POS_LSI_CLSINC_SPDBAS,R1              ;ｲﾝﾁﾝｸﾞ時
24294 00004CAA 6212              1913 I1          MOV.L   @R1,R2
24295 00004CAC                   1914 I1  CLSINC_SEL_300
24296                            1915 I1          FAR_JSR #_CHG_LSI_LATE_TO_PLS,R0                ;
24297 00004CAC D004                   M           MOV.L   #_CHG_LSI_LATE_TO_PLS,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24298 00004CAE 400B                   M           JSR     @R0                     ;
24299 00004CB0 0009                   M           NOP                                     ;
24300 00004CB2 D104              1916 I1          MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1              ;//PLS/S
24301 00004CB4 2122              1917 I1          MOV.L   R2,@R1                                  ;
24302                            1918 I1                                                          ;
24303                            1919 I1  
24304                            1920 I1          SUB_END
24305                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24306 00004CB6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24307                            1921 I1          M_RTS
24308 00004CB8 000B                   M           RTS                             ;RTSの後ろの
24309 00004CBA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24310                            1922 I1  
24311                            1923 I1  
24312                                 I1  ***** BEGIN-POOL *****
24313 00004CBC 00000000               I1  DATA FOR SOURCE-LINE 1912
24314 00004CC0 00000000               I1  DATA FOR SOURCE-LINE 1915
24315 00004CC4 00000000               I1  DATA FOR SOURCE-LINE 1916
24316                                 I1  ***** END-POOL *****
24317 00004CC8                   1924 I1  _HANTEN_LAST_SIG_CLR
24318                            7430     
24319                            7431     
24320                            7432     
24321                            7433     ;       ***************************
24322                            7434     ;       ***                     ***
24323                            7435     ;       ***     異常履歴ﾃﾞｰﾀ    ***
24324                            7436     ;       ***                     ***
24325                            7437     ;       ***************************
24326 00004CC8                   7438             .ALIGN  4                               ;
24327 00004CC8                   7439     _HIST_INFO_DT_IN1:
24328                            7440             SUB_START
24329 00004CC8 4F22                   M           STS.L   PR,@-R15                ;[必要]
24330                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24331                            7441             PUSH_REG1 R0
24332 00004CCA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24333                                 M                                           ;REG=>[SP]
24334                                 M                                           ;"-4" FF,FF,FF,FC
24335                            7442             PUSH_REG1 R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   328
PROGRAM NAME =

24336 00004CCC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24337                                 M                                           ;REG=>[SP]
24338                                 M                                           ;"-4" FF,FF,FF,FC
24339                            7443             PUSH_REG1 R2
24340 00004CCE 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
24341                                 M                                           ;REG=>[SP]
24342                                 M                                           ;"-4" FF,FF,FF,FC
24343                            7444     
24344 00004CD0 D109              7445             MOV.L   #_LINK_SV_OBJ_ABSPLS,R1         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
24345 00004CD2 D20A              7446             MOV.L   #_LT_LINK_SV_OBJ_ABSPLS,R2              ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
24346 00004CD4 6016              7447             MOV.L   @R1+,R0                                 ;
24347 00004CD6 2202              7448             MOV.L   R0,@R2                                  ;
24348 00004CD8 7204              7449             ADD     #4,R2                                   ;
24349 00004CDA 6016              7450             MOV.L   @R1+,R0                                 ;
24350 00004CDC 2202              7451             MOV.L   R0,@R2                                  ;
24351                            7452     
24352 00004CDE D108              7453             MOV.L   #_LINK_PV_ABSPLS,R1             ;
24353 00004CE0 D208              7454             MOV.L   #_LT_INT_LINK_RL_OBJ_ABSPLS,R2          ;
24354 00004CE2 6016              7455             MOV.L   @R1+,R0                                 ;
24355 00004CE4 2202              7456             MOV.L   R0,@R2                                  ;
24356 00004CE6 7204              7457             ADD     #4,R2                                   ;
24357 00004CE8 6016              7458             MOV.L   @R1+,R0                                 ;
24358 00004CEA 2202              7459             MOV.L   R0,@R2                                  ;
24359                            7460     
24360                            7461             POP_REG1 R2
24361                                 M                                   ; RE"+4" 00,00,00,04
24362 00004CEC 62F6                   M           MOV.L   @R15+,R2        ;
24363                            7462             POP_REG1 R1
24364                                 M                                   ; RE"+4" 00,00,00,04
24365 00004CEE 61F6                   M           MOV.L   @R15+,R1        ;
24366                            7463             POP_REG1 R0
24367                                 M                                   ; RE"+4" 00,00,00,04
24368 00004CF0 60F6                   M           MOV.L   @R15+,R0        ;
24369                            7464             SUB_END
24370                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24371 00004CF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24372                            7465             M_RTS
24373 00004CF4 000B                   M           RTS                             ;RTSの後ろの
24374 00004CF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24375                            7466     
24376                            7467     ;       ***********************************
24377                            7468     ;       ***                             ***
24378                            7469     ;       ***     異常情報                ***
24379                            7470     ;       ***                             ***
24380                            7471     ;       ***********************************
24381                            7472             .MACRO  DATA_8B_0CHK MEM,ANSBIT
24382                            7473             MOV.L   #\MEM,R1        ;
24383                            7474             MOV.L   @R1+,R2                 ;HIGH
24384                            7475             MOV.L   @R1,R3                  ;LOW
24385                            7476             XOR     R1,R1                   ;
24386                            7477             OR      R3,R2                   ;
24387                            7478             TST     R2,R2                   ;
24388                            7479             TST_BIT_OF JMP01\@              ;ZERO
24389                            7480             MOV.W   #\ANSBIT,R1             ;
24390                            7481     JMP01\@                                 ;
24391                            7482             .ENDM
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   329
PROGRAM NAME =

24392                            7483     
24393                            7484             .MACRO  DATA_4B_0CHK MEM,ANSBIT
24394                            7485             MOV.L   #\MEM,R1        ;
24395                            7486             MOV.L   @R1+,R2                 ;HIGH
24396                            7487             XOR     R1,R1                   ;
24397                            7488             TST     R2,R2                   ;
24398                            7489             TST_BIT_OF JMP01\@              ;ZERO
24399                            7490             MOV.W   #\ANSBIT,R1             ;
24400                            7491     JMP01\@                                 ;
24401                            7492             .ENDM
24402                            7493     
24403                            7494     
24404                            7495     ;       ***************************
24405                            7496     ;       ***     data 記憶       ***
24406                            7497     ;       ***************************
24407                                     ***** BEGIN-POOL *****
24408 00004CF8 00000000                   DATA FOR SOURCE-LINE 7445
24409 00004CFC 00000000                   DATA FOR SOURCE-LINE 7446
24410 00004D00 00000000                   DATA FOR SOURCE-LINE 7453
24411 00004D04 00000000                   DATA FOR SOURCE-LINE 7454
24412                                     ***** END-POOL *****
24413 00004D08                   7498             .ALIGN  4                               ;
24414 00004D08                   7499     _ERR_INFO_DT_IN0:
24415                            7500             SUB_START
24416 00004D08 4F22                   M           STS.L   PR,@-R15                ;[必要]
24417                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24418 00004D0A D105              7501             MOV.L   #_PV_POWER_ON_CNT,R1                    ;
24419 00004D0C 6011              7502             MOV.W   @R1,R0                                  ;
24420 00004D0E D105              7503             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B01,R1  ;POWER
24421 00004D10 2101              7504             MOV.W   R0,@R1                                  ;
24422                            7505     
24423 00004D12 D105              7506             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B02,R1  ;TIM
24424 00004D14 6011              7507             MOV.W   @R1,R0                                  ;
24425 00004D16 7001              7508             ADD     #1,R0                                   ;
24426 00004D18 2101              7509             MOV.W   R0,@R1                                  ;
24427                            7510             SUB_END
24428                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24429 00004D1A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24430                            7511             M_RTS
24431 00004D1C 000B                   M           RTS                             ;RTSの後ろの
24432 00004D1E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24433                            7512     
24434                                     ***** BEGIN-POOL *****
24435 00004D20 00000000                   DATA FOR SOURCE-LINE 7501
24436 00004D24 00000000                   DATA FOR SOURCE-LINE 7503
24437 00004D28 00000000                   DATA FOR SOURCE-LINE 7506
24438                                     ***** END-POOL *****
24439 00004D2C                   7513             .ALIGN  4                               ;
24440 00004D2C                   7514     _ERR_INFO_DT_IN1:
24441                            7515             SUB_START
24442 00004D2C 4F22                   M           STS.L   PR,@-R15                ;[必要]
24443                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24444                            7516             PUSH_REG1 R0
24445 00004D2E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24446                                 M                                           ;REG=>[SP]
24447                                 M                                           ;"-4" FF,FF,FF,FC
24448                            7517             PUSH_REG1 R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   330
PROGRAM NAME =

24449 00004D30 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24450                                 M                                           ;REG=>[SP]
24451                                 M                                           ;"-4" FF,FF,FF,FC
24452                            7518     
24453                            7519     
24454 00004D32 D108              7520             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24455 00004D34 6011              7521             MOV.W   @R1,R0                          ;
24456 00004D36 2008              7522             TST     R0,R0                           ;
24457                            7523             TST_BIT_ON ERR_INFO_DTIN1_EXT           ;
24458 00004D38 8B07                   M           BF      ERR_INFO_DTIN1_EXT
24459                            7524     
24460 00004D3A D107              7525             MOV.L   #_MODE_SEL,R1   ;
24461 00004D3C 6011              7526             MOV.W   @R1,R0          ;
24462 00004D3E C804              7527             TST     #_W1SGL,R0      ;
24463                            7528             TST_BIT_OF ERR_INFO_DTIN1_EXT
24464 00004D40 8903                   M           BT      ERR_INFO_DTIN1_EXT
24465                            7529     
24466 00004D42 D106              7530             MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
24467 00004D44 6012              7531             MOV.L   @R1,R0                                  ;
24468 00004D46 D106              7532             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C01,R1  ;
24469 00004D48 2102              7533             MOV.L   R0,@R1                                  ;
24470                            7534     
24471 00004D4A                   7535     ERR_INFO_DTIN1_EXT:
24472                            7536     
24473                            7537             POP_REG1 R1
24474                                 M                                   ; RE"+4" 00,00,00,04
24475 00004D4A 61F6                   M           MOV.L   @R15+,R1        ;
24476                            7538             POP_REG1 R0
24477                                 M                                   ; RE"+4" 00,00,00,04
24478 00004D4C 60F6                   M           MOV.L   @R15+,R0        ;
24479                            7539             SUB_END
24480                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24481 00004D4E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24482                            7540             M_RTS
24483 00004D50 000B                   M           RTS                             ;RTSの後ろの
24484 00004D52 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24485                            7541     
24486                            7542     
24487                            7543     ;       ***************************
24488                            7544     ;       ***     data 記憶       ***
24489                            7545     ;       ***************************
24490                            7546     ;       (data-smp only)
24491                                     ***** BEGIN-POOL *****
24492 00004D54 00000000                   DATA FOR SOURCE-LINE 7520
24493 00004D58 00000000                   DATA FOR SOURCE-LINE 7525
24494 00004D5C 00000000                   DATA FOR SOURCE-LINE 7530
24495 00004D60 00000000                   DATA FOR SOURCE-LINE 7532
24496                                     ***** END-POOL *****
24497 00004D64                   7547             .ALIGN  4                               ;
24498 00004D64                   7548     _ERR_INFO_DT_IN2:
24499                            7549             SUB_START
24500 00004D64 4F22                   M           STS.L   PR,@-R15                ;[必要]
24501                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24502                            7550             PUSH_REG1 R0
24503 00004D66 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24504                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   331
PROGRAM NAME =

24505                                 M                                           ;"-4" FF,FF,FF,FC
24506                            7551             PUSH_REG1 R1
24507 00004D68 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24508                                 M                                           ;REG=>[SP]
24509                                 M                                           ;"-4" FF,FF,FF,FC
24510 00004D6A D10E              7552             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24511 00004D6C 6011              7553             MOV.W   @R1,R0                          ;
24512 00004D6E 2008              7554             TST     R0,R0                           ;
24513                            7555             TST_BIT_ON ERR_INFO_DTIN2_EXT           ;
24514 00004D70 8B13                   M           BF      ERR_INFO_DTIN2_EXT
24515                            7556     
24516 00004D72 D10D              7557             MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1               ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
24517 00004D74 6012              7558             MOV.L   @R1,R0                                  ;
24518 00004D76 D10D              7559             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C02,R1  ;
24519 00004D78 2102              7560             MOV.L   R0,@R1                                  ;
24520                            7561     
24521 00004D7A D10D              7562             MOV.L   #_LINK_PV_ABSPLS+4,R1           ;
24522 00004D7C 6012              7563             MOV.L   @R1,R0                                  ;
24523 00004D7E D10D              7564             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C03,R1  ;
24524 00004D80 2102              7565             MOV.L   R0,@R1                                  ;
24525                            7566     
24526 00004D82 D10D              7567             MOV.L   #_LNGTH_ADD_DATA+4,R1                   ;
24527 00004D84 6012              7568             MOV.L   @R1,R0                                  ;
24528 00004D86 D10D              7569             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C04,R1  ;
24529 00004D88 2102              7570             MOV.L   R0,@R1                                  ;
24530                            7571     
24531                            7572     
24532                            7573     ;       ----- 2010-10-25 ---------------
24533 00004D8A D10D              7574             MOV.L   #_LNGTH_ADD_DATA,R1                     ;
24534 00004D8C 6012              7575             MOV.L   @R1,R0                                  ;
24535 00004D8E D10D              7576             MOV.L   #_CHK_ADD_DATA_LATCH,R1                 ;
24536 00004D90 2102              7577             MOV.L   R0,@R1                                  ;
24537                            7578     
24538 00004D92 D109              7579             MOV.L   #_LNGTH_ADD_DATA+4,R1                   ;
24539 00004D94 6012              7580             MOV.L   @R1,R0                                  ;
24540 00004D96 D10C              7581             MOV.L   #_CHK_ADD_DATA_LATCH+4,R1               ;
24541 00004D98 2102              7582             MOV.L   R0,@R1                                  ;
24542                            7583     
24543                            7584     
24544                            7585     
24545                            7586     
24546                            7587     
24547                            7588     
24548 00004D9A                   7589     ERR_INFO_DTIN2_EXT
24549                            7590     
24550                            7591             POP_REG1 R1
24551                                 M                                   ; RE"+4" 00,00,00,04
24552 00004D9A 61F6                   M           MOV.L   @R15+,R1        ;
24553                            7592             POP_REG1 R0
24554                                 M                                   ; RE"+4" 00,00,00,04
24555 00004D9C 60F6                   M           MOV.L   @R15+,R0        ;
24556                            7593             SUB_END
24557                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24558 00004D9E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24559                            7594             M_RTS
24560 00004DA0 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   332
PROGRAM NAME =

24561 00004DA2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24562                            7595     
24563                            7596     ;       ***************************
24564                            7597     ;       ***     data 記憶       ***
24565                            7598     ;       ***************************
24566                                     ***** BEGIN-POOL *****
24567 00004DA4 00000000                   DATA FOR SOURCE-LINE 7552
24568 00004DA8 00000000                   DATA FOR SOURCE-LINE 7557
24569 00004DAC 00000000                   DATA FOR SOURCE-LINE 7559
24570 00004DB0 00000000                   DATA FOR SOURCE-LINE 7562
24571 00004DB4 00000000                   DATA FOR SOURCE-LINE 7564
24572 00004DB8 00000000                   DATA FOR SOURCE-LINE 7567,7579
24573 00004DBC 00000000                   DATA FOR SOURCE-LINE 7569
24574 00004DC0 00000000                   DATA FOR SOURCE-LINE 7574
24575 00004DC4 00000000                   DATA FOR SOURCE-LINE 7576
24576 00004DC8 00000000                   DATA FOR SOURCE-LINE 7581
24577                                     ***** END-POOL *****
24578 00004DCC                   7599             .ALIGN  4                               ;
24579 00004DCC                   7600     _ERR_INFO_DT_IN2A:
24580                            7601             SUB_START
24581 00004DCC 4F22                   M           STS.L   PR,@-R15                ;[必要]
24582                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24583                            7602             SUB_END
24584                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24585 00004DCE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24586                            7603             M_RTS
24587 00004DD0 000B                   M           RTS                             ;RTSの後ろの
24588 00004DD2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24589                            7604     
24590                            7605     ;       ***************************
24591                            7606     ;       ***     data 記憶       ***
24592                            7607     ;       ***************************
24593 00004DD4                   7608             .ALIGN  4                               ;
24594 00004DD4                   7609     _ERR_INFO_DT_IN3:
24595                            7610             SUB_START
24596 00004DD4 4F22                   M           STS.L   PR,@-R15                ;[必要]
24597                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24598                            7611             PUSH_REG1 R0
24599 00004DD6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24600                                 M                                           ;REG=>[SP]
24601                                 M                                           ;"-4" FF,FF,FF,FC
24602                            7612             PUSH_REG1 R1
24603 00004DD8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24604                                 M                                           ;REG=>[SP]
24605                                 M                                           ;"-4" FF,FF,FF,FC
24606 00004DDA D106              7613             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24607 00004DDC 6011              7614             MOV.W   @R1,R0                          ;
24608 00004DDE 2008              7615             TST     R0,R0                           ;
24609                            7616             TST_BIT_ON ERR_INFO_DTIN3_EXT           ;
24610 00004DE0 8B03                   M           BF      ERR_INFO_DTIN3_EXT
24611                            7617     
24612 00004DE2 D105              7618             MOV.L   #_LNGTH_TOTAL_OUTPLS+4,R1               ;
24613 00004DE4 6012              7619             MOV.L   @R1,R0                                  ;
24614 00004DE6 D105              7620             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C05,R1  ;
24615 00004DE8 2102              7621             MOV.L   R0,@R1                                  ;
24616                            7622     
24617 00004DEA                   7623     ERR_INFO_DTIN3_EXT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   333
PROGRAM NAME =

24618                            7624     
24619                            7625             POP_REG1 R1
24620                                 M                                   ; RE"+4" 00,00,00,04
24621 00004DEA 61F6                   M           MOV.L   @R15+,R1        ;
24622                            7626             POP_REG1 R0
24623                                 M                                   ; RE"+4" 00,00,00,04
24624 00004DEC 60F6                   M           MOV.L   @R15+,R0        ;
24625                            7627             SUB_END
24626                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24627 00004DEE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24628                            7628             M_RTS
24629 00004DF0 000B                   M           RTS                             ;RTSの後ろの
24630 00004DF2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24631                            7629     
24632                            7630     ;       ***********************************
24633                            7631     ;       ***     起動時の残りﾊﾟﾙｽ        ***
24634                            7632     ;       ***********************************
24635                                     ***** BEGIN-POOL *****
24636 00004DF4 00000000                   DATA FOR SOURCE-LINE 7613
24637 00004DF8 00000000                   DATA FOR SOURCE-LINE 7618
24638 00004DFC 00000000                   DATA FOR SOURCE-LINE 7620
24639                                     ***** END-POOL *****
24640 00004E00                   7633             .ALIGN  4                               ;
24641 00004E00                   7634     _ERR_INFO_DT_IN4:
24642                            7635             SUB_START
24643 00004E00 4F22                   M           STS.L   PR,@-R15                ;[必要]
24644                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24645                            7636             PUSH_REG1 R0
24646 00004E02 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24647                                 M                                           ;REG=>[SP]
24648                                 M                                           ;"-4" FF,FF,FF,FC
24649                            7637             PUSH_REG1 R1
24650 00004E04 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24651                                 M                                           ;REG=>[SP]
24652                                 M                                           ;"-4" FF,FF,FF,FC
24653 00004E06 D10A              7638             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24654 00004E08 6011              7639             MOV.W   @R1,R0                          ;
24655 00004E0A 2008              7640             TST     R0,R0                           ;
24656                            7641             TST_BIT_ON ERR_INFO_DTIN4_EXT           ;
24657 00004E0C 8B0A                   M           BF      ERR_INFO_DTIN4_EXT
24658                            7642     
24659 00004E0E D109              7643             MOV.L   #_MODE_SEL,R1   ;
24660 00004E10 6011              7644             MOV.W   @R1,R0          ;
24661 00004E12 C804              7645             TST     #_W1SGL,R0      ;
24662                            7646             TST_BIT_OF ERR_INFO_DTIN4_EXT
24663 00004E14 8906                   M           BT      ERR_INFO_DTIN4_EXT
24664                            7647     
24665                            7648     ;       ==========
24666                            7649             FAR_JSR #_LOAD_REST_PLS,R0              ;残りﾊﾟﾙｽ
24667 00004E16 D008                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
24668 00004E18 400B                   M           JSR     @R0                     ;
24669 00004E1A 0009                   M           NOP                                     ;
24670 00004E1C D107              7650             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C06,R1  ;
24671 00004E1E 2102              7651             MOV.L   R0,@R1                                  ;
24672 00004E20 D107              7652             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C07,R1  ;
24673 00004E22 2102              7653             MOV.L   R0,@R1                                  ;
24674                            7654     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   334
PROGRAM NAME =

24675 00004E24                   7655     ERR_INFO_DTIN4_EXT:
24676                            7656             POP_REG1 R1
24677                                 M                                   ; RE"+4" 00,00,00,04
24678 00004E24 61F6                   M           MOV.L   @R15+,R1        ;
24679                            7657             POP_REG1 R0
24680                                 M                                   ; RE"+4" 00,00,00,04
24681 00004E26 60F6                   M           MOV.L   @R15+,R0        ;
24682                            7658             SUB_END
24683                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24684 00004E28 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24685                            7659             M_RTS
24686 00004E2A 000B                   M           RTS                             ;RTSの後ろの
24687 00004E2C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24688                            7660     
24689                            7661     ;       ***********************************************************
24690                            7662     ;       ***     TOTAL,ADDが0であること                          ***
24691                            7663     ;       ***********************************************************
24692                                     ***** BEGIN-POOL *****
24693 00004E2E 0000                       ALIGNMENT CODE
24694 00004E30 00000000                   DATA FOR SOURCE-LINE 7638
24695 00004E34 00000000                   DATA FOR SOURCE-LINE 7643
24696 00004E38 00000000                   DATA FOR SOURCE-LINE 7649
24697 00004E3C 00000000                   DATA FOR SOURCE-LINE 7650
24698 00004E40 00000000                   DATA FOR SOURCE-LINE 7652
24699                                     ***** END-POOL *****
24700 00004E44                   7664             .ALIGN  4                               ;
24701 00004E44                   7665     _ERR_INFO_DT_CHK1:
24702                            7666             SUB_START
24703 00004E44 4F22                   M           STS.L   PR,@-R15                ;[必要]
24704                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24705                            7667             PUSH_REG1 R0
24706 00004E46 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24707                                 M                                           ;REG=>[SP]
24708                                 M                                           ;"-4" FF,FF,FF,FC
24709                            7668             PUSH_REG1 R1
24710 00004E48 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24711                                 M                                           ;REG=>[SP]
24712                                 M                                           ;"-4" FF,FF,FF,FC
24713                            7669             PUSH_REG1 R2
24714 00004E4A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
24715                                 M                                           ;REG=>[SP]
24716                                 M                                           ;"-4" FF,FF,FF,FC
24717                            7670             PUSH_REG1 R3
24718 00004E4C 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
24719                                 M                                           ;REG=>[SP]
24720                                 M                                           ;"-4" FF,FF,FF,FC
24721                            7671     
24722 00004E4E D11B              7672             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24723 00004E50 6011              7673             MOV.W   @R1,R0                          ;
24724 00004E52 2008              7674             TST     R0,R0                           ;
24725                            7675             TST_BIT_ON ERR_INFO_DTCHK1_EXT          ;
24726 00004E54 8B27                   M           BF      ERR_INFO_DTCHK1_EXT
24727                            7676     
24728 00004E56 D11A              7677             MOV.L   #_MODE_SEL,R1   ;
24729 00004E58 6011              7678             MOV.W   @R1,R0          ;
24730 00004E5A C804              7679             TST     #_W1SGL,R0      ;
24731                            7680             TST_BIT_OF ERR_INFO_DTCHK1_EXT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   335
PROGRAM NAME =

24732 00004E5C 8923                   M           BT      ERR_INFO_DTCHK1_EXT
24733                            7681     
24734 00004E5E D019              7682             MOV.L   #_CPOS_CTL_MATH,R0              ;
24735 00004E60 6001              7683             MOV.W   @R0,R0                          ;
24736 00004E62 C801              7684             TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
24737                            7685             TST_BIT_OF ERR_INFO_DTCHK1_EXT
24738 00004E64 891F                   M           BT      ERR_INFO_DTCHK1_EXT
24739                            7686     
24740                            7687     ;       -------------2011-09-14---------------
24741 00004E66 D118              7688             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
24742 00004E68 6011              7689             MOV.W   @R1,R0                          ;
24743 00004E6A C801              7690             TST     #BIT0,R0                        ;
24744                            7691             TST_BIT_ON ERR_INFO_DTCHK1_EXT          ;
24745 00004E6C 8B1B                   M           BF      ERR_INFO_DTCHK1_EXT
24746                            7692     
24747                            7693     
24748 00004E6E D117              7694             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A01,R1          ;
24749 00004E70 6011              7695             MOV.W   @R1,R0                                          ;
24750                            7696     
24751                            7697             DATA_8B_0CHK MEM=_LNGTH_ADD_DATA,ANSBIT=BIT0            ;
24752 00004E72 D117                   M           MOV.L   #_LNGTH_ADD_DATA,R1     ;
24753 00004E74 6216                   M           MOV.L   @R1+,R2                 ;HIGH
24754 00004E76 6312                   M           MOV.L   @R1,R3                  ;LOW
24755 00004E78 211A                   M           XOR     R1,R1                   ;
24756 00004E7A 223B                   M           OR      R3,R2                   ;
24757 00004E7C 2228                   M           TST     R2,R2                   ;
24758                                 M           TST_BIT_OF JMP0100016           ;ZERO
24759 00004E7E 8900                   M           BT      JMP0100016
24760 00004E80 9118                   M           MOV.W   #BIT0,R1                ;
24761 00004E82                        M   JMP0100016                                      ;
24762 00004E82 201B              7698             OR      R1,R0                                           ;
24763                            7699     
24764                            7700             DATA_8B_0CHK MEM=_LNGTH_TOTAL_OUTPLS,ANSBIT=BIT1        ;
24765 00004E84 D113                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS,R1 ;
24766 00004E86 6216                   M           MOV.L   @R1+,R2                 ;HIGH
24767 00004E88 6312                   M           MOV.L   @R1,R3                  ;LOW
24768 00004E8A 211A                   M           XOR     R1,R1                   ;
24769 00004E8C 223B                   M           OR      R3,R2                   ;
24770 00004E8E 2228                   M           TST     R2,R2                   ;
24771                                 M           TST_BIT_OF JMP0100017           ;ZERO
24772 00004E90 8900                   M           BT      JMP0100017
24773 00004E92 9110                   M           MOV.W   #BIT1,R1                ;
24774 00004E94                        M   JMP0100017                                      ;
24775 00004E94 201B              7701             OR      R1,R0                                           ;
24776                            7702     
24777                            7703             DATA_4B_0CHK MEM=_OUTPLS_MOD,ANSBIT=BIT2                ;
24778 00004E96 D110                   M           MOV.L   #_OUTPLS_MOD,R1 ;
24779 00004E98 6216                   M           MOV.L   @R1+,R2                 ;HIGH
24780 00004E9A 211A                   M           XOR     R1,R1                   ;
24781 00004E9C 2228                   M           TST     R2,R2                   ;
24782                                 M           TST_BIT_OF JMP0100018           ;ZERO
24783 00004E9E 8900                   M           BT      JMP0100018
24784 00004EA0 910A                   M           MOV.W   #BIT2,R1                ;
24785 00004EA2                        M   JMP0100018                                      ;
24786                            7704     
24787 00004EA2 D10A              7705             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A01,R1          ;
24788 00004EA4 2101              7706             MOV.W   R0,@R1                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   336
PROGRAM NAME =

24789 00004EA6                   7707     ERR_INFO_DTCHK1_EXT:
24790                            7708     
24791                            7709             POP_REG1 R3
24792                                 M                                   ; RE"+4" 00,00,00,04
24793 00004EA6 63F6                   M           MOV.L   @R15+,R3        ;
24794                            7710             POP_REG1 R2
24795                                 M                                   ; RE"+4" 00,00,00,04
24796 00004EA8 62F6                   M           MOV.L   @R15+,R2        ;
24797                            7711             POP_REG1 R1
24798                                 M                                   ; RE"+4" 00,00,00,04
24799 00004EAA 61F6                   M           MOV.L   @R15+,R1        ;
24800                            7712             POP_REG1 R0
24801                                 M                                   ; RE"+4" 00,00,00,04
24802 00004EAC 60F6                   M           MOV.L   @R15+,R0        ;
24803                            7713     
24804                            7714     
24805                            7715             SUB_END
24806                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
24807 00004EAE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
24808                            7716             M_RTS
24809 00004EB0 000B                   M           RTS                             ;RTSの後ろの
24810 00004EB2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
24811                            7717     
24812                            7718     ;       ***********************************************************
24813                            7719     ;       ***     TOTAL,ADDが0であること                          ***
24814                            7720     ;       ***********************************************************
24815                            7721     ;       SGL
24816                                     ***** BEGIN-POOL *****
24817 00004EB4 0001                       DATA FOR SOURCE-LINE 7697
24818 00004EB6 0002                       DATA FOR SOURCE-LINE 7700
24819 00004EB8 0004                       DATA FOR SOURCE-LINE 7703
24820 00004EBA 0000                       ALIGNMENT CODE
24821 00004EBC 00000000                   DATA FOR SOURCE-LINE 7672
24822 00004EC0 00000000                   DATA FOR SOURCE-LINE 7677
24823 00004EC4 00000000                   DATA FOR SOURCE-LINE 7682
24824 00004EC8 00000000                   DATA FOR SOURCE-LINE 7688
24825 00004ECC 00000000                   DATA FOR SOURCE-LINE 7694,7705
24826 00004ED0 00000000                   DATA FOR SOURCE-LINE 7697
24827 00004ED4 00000000                   DATA FOR SOURCE-LINE 7700
24828 00004ED8 00000000                   DATA FOR SOURCE-LINE 7703
24829                                     ***** END-POOL *****
24830 00004EDC                   7722             .ALIGN  4                               ;
24831 00004EDC                   7723     _ERR_INFO_DT_CHK2:
24832                            7724             SUB_START
24833 00004EDC 4F22                   M           STS.L   PR,@-R15                ;[必要]
24834                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
24835                            7725             PUSH_REG1 R0
24836 00004EDE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
24837                                 M                                           ;REG=>[SP]
24838                                 M                                           ;"-4" FF,FF,FF,FC
24839                            7726             PUSH_REG1 R1
24840 00004EE0 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
24841                                 M                                           ;REG=>[SP]
24842                                 M                                           ;"-4" FF,FF,FF,FC
24843                            7727             PUSH_REG1 R2
24844 00004EE2 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
24845                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   337
PROGRAM NAME =

24846                                 M                                           ;"-4" FF,FF,FF,FC
24847                            7728             PUSH_REG1 R3
24848 00004EE4 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
24849                                 M                                           ;REG=>[SP]
24850                                 M                                           ;"-4" FF,FF,FF,FC
24851                            7729     
24852                            7730     
24853                            7731     
24854 00004EE6 D129              7732             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
24855 00004EE8 6011              7733             MOV.W   @R1,R0                          ;
24856 00004EEA 2008              7734             TST     R0,R0                           ;
24857                            7735             TST_BIT_ON ERR_INFO_DTCHK2_EXT          ;
24858 00004EEC 8B6F                   M           BF      ERR_INFO_DTCHK2_EXT
24859                            7736     
24860 00004EEE D128              7737             MOV.L   #_MODE_SEL,R1                   ;
24861 00004EF0 6011              7738             MOV.W   @R1,R0                          ;
24862 00004EF2 C804              7739             TST     #_W1SGL,R0                      ;
24863                            7740             TST_BIT_OF ERR_INFO_DTCHK2_EXT          ;
24864 00004EF4 896B                   M           BT      ERR_INFO_DTCHK2_EXT
24865                            7741     
24866 00004EF6 D027              7742             MOV.L   #_CPOS_CTL_MATH,R0              ;
24867 00004EF8 6001              7743             MOV.W   @R0,R0                          ;
24868                            7744     ;;;;2010-10-25  TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
24869 00004EFA C805              7745             TST     #(_DMATH_CNTROT+_DMATH_DNDRIV),R0       ;2010-10-25 回転+ふりこ
24870                            7746             TST_BIT_OF ERR_INFO_DTCHK2_EXT          ;
24871 00004EFC 8967                   M           BT      ERR_INFO_DTCHK2_EXT
24872                            7747     
24873                            7748     ;       -------------2011-09-14---------------
24874 00004EFE D126              7749             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
24875 00004F00 6011              7750             MOV.W   @R1,R0                          ;
24876 00004F02 C801              7751             TST     #BIT0,R0                        ;
24877                            7752             TST_BIT_ON ERR_INFO_DTCHK2_EXT          ;
24878 00004F04 8B63                   M           BF      ERR_INFO_DTCHK2_EXT
24879                            7753     
24880                            7754     
24881 00004F06 D125              7755             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
24882 00004F08 6011              7756             MOV.W   @R1,R0                                          ;
24883                            7757     
24884                            7758             DATA_8B_0CHK MEM=_LNGTH_ADD_DATA,ANSBIT=BIT0            ;
24885 00004F0A D125                   M           MOV.L   #_LNGTH_ADD_DATA,R1     ;
24886 00004F0C 6216                   M           MOV.L   @R1+,R2                 ;HIGH
24887 00004F0E 6312                   M           MOV.L   @R1,R3                  ;LOW
24888 00004F10 211A                   M           XOR     R1,R1                   ;
24889 00004F12 223B                   M           OR      R3,R2                   ;
24890 00004F14 2228                   M           TST     R2,R2                   ;
24891                                 M           TST_BIT_OF JMP0100019           ;ZERO
24892 00004F16 8900                   M           BT      JMP0100019
24893 00004F18 9133                   M           MOV.W   #BIT0,R1                ;
24894 00004F1A                        M   JMP0100019                                      ;
24895 00004F1A 201B              7759             OR      R1,R0                                           ;
24896                            7760     
24897                            7761             DATA_8B_0CHK MEM=_LNGTH_TOTAL_OUTPLS,ANSBIT=BIT1        ;
24898 00004F1C D121                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS,R1 ;
24899 00004F1E 6216                   M           MOV.L   @R1+,R2                 ;HIGH
24900 00004F20 6312                   M           MOV.L   @R1,R3                  ;LOW
24901 00004F22 211A                   M           XOR     R1,R1                   ;
24902 00004F24 223B                   M           OR      R3,R2                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   338
PROGRAM NAME =

24903 00004F26 2228                   M           TST     R2,R2                   ;
24904                                 M           TST_BIT_OF JMP0100020           ;ZERO
24905 00004F28 8900                   M           BT      JMP0100020
24906 00004F2A 912B                   M           MOV.W   #BIT1,R1                ;
24907 00004F2C                        M   JMP0100020                                      ;
24908 00004F2C 201B              7762             OR      R1,R0                                           ;
24909                            7763     
24910                            7764             DATA_4B_0CHK MEM=_OUTPLS_MOD,ANSBIT=BIT2                ;
24911 00004F2E D11E                   M           MOV.L   #_OUTPLS_MOD,R1 ;
24912 00004F30 6216                   M           MOV.L   @R1+,R2                 ;HIGH
24913 00004F32 211A                   M           XOR     R1,R1                   ;
24914 00004F34 2228                   M           TST     R2,R2                   ;
24915                                 M           TST_BIT_OF JMP0100021           ;ZERO
24916 00004F36 8900                   M           BT      JMP0100021
24917 00004F38 9125                   M           MOV.W   #BIT2,R1                ;
24918 00004F3A                        M   JMP0100021                                      ;
24919                            7765     
24920 00004F3A D118              7766             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
24921 00004F3C 2101              7767             MOV.W   R0,@R1                                          ;
24922                            7768     
24923                            7769     ;       ==== ADD DATA CHK ===
24924 00004F3E D11B              7770             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C04,R1  ;ADD_
24925 00004F40 6212              7771             MOV.L   @R1,R2                                  ;
24926 00004F42 4211              7772             CMP/PZ  R2                                      ;
24927 00004F44 8900              7773             BT      ERR_INFO_DTCHK2_050                     ;
24928 00004F46 622B              7774             NEG     R2,R2
24929 00004F48                   7775     ERR_INFO_DTCHK2_050:
24930                            7776     
24931 00004F48 D119              7777             MOV.L   #_LINK_1ROT_PLS,R1                      ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
24932 00004F4A 6012              7778             MOV.L   @R1,R0                                  ;
24933 00004F4C 911C              7779             MOV.W   #_PLS_ERR_HABPLS1,R1                    ;
24934 00004F4E 301C              7780             ADD     R1,R0                                   ;1ROT-PLS+2000
24935 00004F50 3022              7781             CMP/HS  R2,R0                                   ;
24936 00004F52 8903              7782             BT      ERR_INFO_DTCHK2_100                     ;1ROT以下
24937                            7783             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//計算不良
24938 00004F54 D111                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
24939 00004F56 6011                   M           MOV.W   @R1,R0          ;
24940 00004F58 CB10                   M           OR      #BIT4,R0                ;
24941 00004F5A 2101                   M           MOV.W   R0,@R1          ;
24942 00004F5C                   7784     ERR_INFO_DTCHK2_100:
24943                            7785     
24944                            7786     ;       =====もう一個チェックが必要[2010-10-26] ふりこ時の対策 化け方が0000,0000,FFF,FFFF[
                                          +]====
24945 00004F5C D315              7787             MOV.L   #_CHK_ADD_DATA_LATCH,R3         ;
24946 00004F5E 6136              7788             MOV.L   @R3+,R1                         ;
24947 00004F60 6232              7789             MOV.L   @R3,R2                          ;
24948 00004F62 4111              7790             CMP/PZ  R1                              ;
24949 00004F64 8905              7791             BT      ERR_INFO_DTCHK2_150             ;
24950                            7792             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0      ;
24951 00004F66 6227                   M           NOT     R2,R2                           ;
24952 00004F68 6117                   M           NOT     R1,R1                           ;
24953 00004F6A 200A                   M           XOR     R0,R0                           ;
24954 00004F6C 0018                   M           SETT
24955 00004F6E 320E                   M           ADDC    R0,R2                           ;0+1+R2
24956 00004F70 310E                   M           ADDC    R0,R1                           ;
24957 00004F72                   7793     ERR_INFO_DTCHK2_150:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   339
PROGRAM NAME =

24958 00004F72 2118              7794             TST     R1,R1                           ;
24959                            7795             TST_BIT_OF ERR_INFO_DTCHK2_200          ;
24960 00004F74 8920                   M           BT      ERR_INFO_DTCHK2_200
24961                            7796             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//計算不良
24962 00004F76 D109                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
24963 00004F78 6011                   M           MOV.W   @R1,R0          ;
24964 00004F7A CB10                   M           OR      #BIT4,R0                ;
24965 00004F7C 2101                   M           MOV.W   R0,@R1          ;
24966                            7797             M_BRA   ERR_INFO_DTCHK2_300             ;
24967 00004F7E A025                   M           BRA     ERR_INFO_DTCHK2_300
24968 00004F80 0009                   M           NOP
24969                            7798     
24970                                     ***** BEGIN-POOL *****
24971 00004F82 0001                       DATA FOR SOURCE-LINE 7758
24972 00004F84 0002                       DATA FOR SOURCE-LINE 7761
24973 00004F86 0004                       DATA FOR SOURCE-LINE 7764
24974 00004F88 07D0                       DATA FOR SOURCE-LINE 7779
24975 00004F8A 0000                       ALIGNMENT CODE
24976 00004F8C 00000000                   DATA FOR SOURCE-LINE 7732
24977 00004F90 00000000                   DATA FOR SOURCE-LINE 7737
24978 00004F94 00000000                   DATA FOR SOURCE-LINE 7742
24979 00004F98 00000000                   DATA FOR SOURCE-LINE 7749
24980 00004F9C 00000000                   DATA FOR SOURCE-LINE 7755,7766,7783,7796
24981 00004FA0 00000000                   DATA FOR SOURCE-LINE 7758
24982 00004FA4 00000000                   DATA FOR SOURCE-LINE 7761
24983 00004FA8 00000000                   DATA FOR SOURCE-LINE 7764
24984 00004FAC 00000000                   DATA FOR SOURCE-LINE 7770
24985 00004FB0 00000000                   DATA FOR SOURCE-LINE 7777
24986 00004FB4 00000000                   DATA FOR SOURCE-LINE 7787
24987                                     ***** END-POOL *****
24988 00004FB8                   7799     ERR_INFO_DTCHK2_200:
24989 00004FB8 D109              7800             MOV.L   #_LINK_1ROT_PLS,R1                      ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
24990 00004FBA 6012              7801             MOV.L   @R1,R0                                  ;
24991 00004FBC 910E              7802             MOV.W   #_PLS_ERR_HABPLS1,R1                    ;
24992 00004FBE 301C              7803             ADD     R1,R0                                   ;1ROT-PLS+2000
24993 00004FC0 3022              7804             CMP/HS  R2,R0                                   ;
24994 00004FC2 8903              7805             BT      ERR_INFO_DTCHK2_300                     ;1ROT以下
24995                            7806             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//計算不良
24996 00004FC4 D107                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A02,R1          ;
24997 00004FC6 6011                   M           MOV.W   @R1,R0          ;
24998 00004FC8 CB10                   M           OR      #BIT4,R0                ;
24999 00004FCA 2101                   M           MOV.W   R0,@R1          ;
25000 00004FCC                   7807     ERR_INFO_DTCHK2_300:
25001 00004FCC 0009              7808             NOP
25002                            7809     
25003                            7810     
25004                            7811     
25005 00004FCE                   7812     ERR_INFO_DTCHK2_EXT:
25006                            7813     
25007                            7814     
25008                            7815             POP_REG1 R3
25009                                 M                                   ; RE"+4" 00,00,00,04
25010 00004FCE 63F6                   M           MOV.L   @R15+,R3        ;
25011                            7816             POP_REG1 R2
25012                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   340
PROGRAM NAME =

25013 00004FD0 62F6                   M           MOV.L   @R15+,R2        ;
25014                            7817             POP_REG1 R1
25015                                 M                                   ; RE"+4" 00,00,00,04
25016 00004FD2 61F6                   M           MOV.L   @R15+,R1        ;
25017                            7818             POP_REG1 R0
25018                                 M                                   ; RE"+4" 00,00,00,04
25019 00004FD4 60F6                   M           MOV.L   @R15+,R0        ;
25020                            7819             SUB_END
25021                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25022 00004FD6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25023                            7820             M_RTS
25024 00004FD8 000B                   M           RTS                             ;RTSの後ろの
25025 00004FDA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25026                            7821     
25027                            7822     ;       *******************************************
25028                            7823     ;       ***     CHEAK ﾚｽﾄﾊﾟﾙｽが減ること/        ***
25029                            7824     ;       *******************************************
25030                                     ***** BEGIN-POOL *****
25031 00004FDC 07D0                       DATA FOR SOURCE-LINE 7802
25032 00004FDE 0000                       ALIGNMENT CODE
25033 00004FE0 00000000                   DATA FOR SOURCE-LINE 7800
25034 00004FE4 00000000                   DATA FOR SOURCE-LINE 7806
25035                                     ***** END-POOL *****
25036 00004FE8                   7825             .ALIGN  4                               ;
25037 00004FE8                   7826     _ERR_INFO_DT_CHK3:
25038                            7827             SUB_START
25039 00004FE8 4F22                   M           STS.L   PR,@-R15                ;[必要]
25040                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25041                            7828     
25042 00004FEA D10C              7829             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
25043 00004FEC 6011              7830             MOV.W   @R1,R0                          ;
25044 00004FEE 2008              7831             TST     R0,R0                           ;
25045                            7832             TST_BIT_ON ERR_INFO_DTCHK3_EXT                  ;
25046 00004FF0 8B68                   M           BF      ERR_INFO_DTCHK3_EXT
25047                            7833     
25048 00004FF2 D10B              7834             MOV.L   #_MODE_SEL,R1                           ;
25049 00004FF4 6011              7835             MOV.W   @R1,R0                                  ;
25050 00004FF6 C804              7836             TST     #_W1SGL,R0                              ;
25051                            7837             TST_BIT_OF ERR_INFO_DTCHK3_EXT                          ;
25052 00004FF8 8964                   M           BT      ERR_INFO_DTCHK3_EXT
25053                            7838     
25054 00004FFA D00A              7839             MOV.L   #_CPOS_CTL_MATH,R0              ;
25055 00004FFC 6001              7840             MOV.W   @R0,R0                          ;
25056 00004FFE C801              7841             TST     #_DMATH_CNTROT,R0               ;2002-09-01 回転?
25057                            7842             TST_BIT_OF ERR_INFO_DTCHK3_EXT                          ;
25058 00005000 8960                   M           BT      ERR_INFO_DTCHK3_EXT
25059                            7843     
25060                            7844     ;       -------------2011-09-14---------------
25061 00005002 D109              7845             MOV.L   #_BRKTST_INPUT_CMD,R1           ;2011-09-14
25062 00005004 6011              7846             MOV.W   @R1,R0                          ;
25063 00005006 C801              7847             TST     #BIT0,R0                        ;
25064                            7848             TST_BIT_ON ERR_INFO_DTCHK3_EXT          ;
25065 00005008 8B5C                   M           BF      ERR_INFO_DTCHK3_EXT
25066                            7849     
25067                            7850     
25068 0000500A D108              7851             MOV.L   #_ERR_INFO_DLY_TIM,R1                           ;
25069 0000500C 6011              7852             MOV.W   @R1,R0                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   341
PROGRAM NAME =

25070 0000500E 2008              7853             TST     R0,R0                                           ;
25071                            7854             TST_BIT_OF ERR_INFO_DTCHK3_050                          ;
25072 00005010 890E                   M           BT      ERR_INFO_DTCHK3_050
25073 00005012 70FF              7855             ADD     #-1,R0                                          ;
25074 00005014 2101              7856             MOV.W   R0,@R1                                          ;
25075                            7857             M_BRA   ERR_INFO_DTCHK3_EXT                             ;(ﾚｽﾄﾊﾟﾙｽが安定しないので
                                          その判断はしない)
25076 00005016 A055                   M           BRA     ERR_INFO_DTCHK3_EXT
25077 00005018 0009                   M           NOP
25078                            7858     
25079                                     ***** BEGIN-POOL *****
25080 0000501A 0000                       ALIGNMENT CODE
25081 0000501C 00000000                   DATA FOR SOURCE-LINE 7829
25082 00005020 00000000                   DATA FOR SOURCE-LINE 7834
25083 00005024 00000000                   DATA FOR SOURCE-LINE 7839
25084 00005028 00000000                   DATA FOR SOURCE-LINE 7845
25085 0000502C 00000000                   DATA FOR SOURCE-LINE 7851
25086                                     ***** END-POOL *****
25087 00005030                   7859     ERR_INFO_DTCHK3_050:                                            ;
25088                            7860     
25089                            7861             FAR_JSR #_LOAD_REST_PLS,R0                              ;残りﾊﾟﾙｽ
25090 00005030 D026                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25091 00005032 400B                   M           JSR     @R0                     ;
25092 00005034 0009                   M           NOP                                     ;
25093 00005036 D126              7862             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C07,R1          ;
25094 00005038 6312              7863             MOV.L   @R1,R3                                          ;
25095 0000503A 2102              7864             MOV.L   R0,@R1                                          ;NOW =< OLD
25096 0000503C D125              7865             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C08,R1          ;
25097 0000503E 2132              7866             MOV.L   R3,@R1                                          ;OLD SAVE
25098                            7867     
25099 00005040 3302              7868             CMP/HS  R0,R3                                           ;
25100 00005042 890F              7869             BT      ERR_INFO_DTCHK3_100                             ;
25101                            7870     
25102                            7871             PUSH_REG1 R0                                            ;
25103 00005044 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25104                                 M                                           ;REG=>[SP]
25105                                 M                                           ;"-4" FF,FF,FF,FC
25106 00005046 D124              7872             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B03,R1          ;
25107 00005048 6211              7873             MOV.W   @R1,R2                                          ;
25108 0000504A 7201              7874             ADD     #1,R2                                           ;
25109 0000504C 2121              7875             MOV.W   R2,@R1                                          ;
25110                            7876     
25111 0000504E 3038              7877             SUB     R3,R0                                           ;DELT
25112 00005050 D122              7878             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B04,R1          ;増分
25113 00005052 6211              7879             MOV.W   @R1,R2                                          ;
25114 00005054 3022              7880             CMP/HS  R2,R0                                           ;R2<R0
25115 00005056 8B00              7881             BF      ERR_INFO_DTCHK3_060                             ;NO R2 > R0
25116 00005058 2101              7882             MOV.W   R0,@R1                                          ;MAX REFLASH
25117 0000505A                   7883     ERR_INFO_DTCHK3_060:                                            ;
25118                            7884     
25119                            7885             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT0,WKREG
                                          =R1 ;//位置増加
25120 0000505A D121                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
25121 0000505C 6011                   M           MOV.W   @R1,R0          ;
25122 0000505E CB01                   M           OR      #BIT0,R0                ;
25123 00005060 2101                   M           MOV.W   R0,@R1          ;
25124                            7886     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   342
PROGRAM NAME =

25125                            7887             POP_REG1 R0                                             ;
25126                                 M                                   ; RE"+4" 00,00,00,04
25127 00005062 60F6                   M           MOV.L   @R15+,R0        ;
25128 00005064                   7888     ERR_INFO_DTCHK3_100:                                            ;
25129                            7889     
25130                            7890     ;       ==== 起動時のRESETより生のﾊﾟﾙｽは小さいか===
25131                            7891     ;       R0:読み出したパルス
25132                            7892     
25133 00005064 D11F              7893             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C06,R1          ;
25134 00005066 6212              7894             MOV.L   @R1,R2                                          ;
25135 00005068 7201              7895             ADD     #1,R2                                           ;
25136 0000506A 3202              7896             CMP/HS  R0,R2                                           ;
25137 0000506C 8907              7897             BT      ERR_INFO_DTCHK3_200                             ;起動時より増えていない
25138                            7898     
25139 0000506E D11E              7899             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B05,R1          ;
25140 00005070 6011              7900             MOV.W   @R1,R0                                          ;
25141 00005072 7001              7901             ADD     #1,R0                                           ;
25142 00005074 2101              7902             MOV.W   R0,@R1                                          ;
25143                            7903     
25144                            7904             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT1,WKREG
                                          =R1 ;//
25145 00005076 D11A                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
25146 00005078 6011                   M           MOV.W   @R1,R0          ;
25147 0000507A CB02                   M           OR      #BIT1,R0                ;
25148 0000507C 2101                   M           MOV.W   R0,@R1          ;
25149                            7905     
25150 0000507E                   7906     ERR_INFO_DTCHK3_200:
25151                            7907     
25152                            7908     ;       ==== 起動時のADDより生ﾊﾟﾙｽは小さいか===
25153 0000507E D114              7909             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C07,R1          ;
25154 00005080 6212              7910             MOV.L   @R1,R2                                          ;
25155                            7911     
25156 00005082 D11A              7912             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_C04,R1  ;ADD-PLS
25157 00005084 6012              7913             MOV.L   @R1,R0                                  ;
25158 00005086 4011              7914             CMP/PZ  R0                                      ;
25159 00005088 8900              7915             BT      ERR_INFO_DTCHK3_220                     ;
25160 0000508A 600B              7916             NEG     R0,R0                                   ;
25161 0000508C                   7917     ERR_INFO_DTCHK3_220:                                    ;
25162 0000508C 7001              7918             ADD     #1,R0                                   ;
25163 0000508E 3022              7919             CMP/HS  R2,R0                                   ;R2<R0
25164 00005090 8907              7920             BT      ERR_INFO_DTCHK3_300                     ;
25165                            7921     
25166                            7922             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT2,WKREG
                                          =R1 ;//
25167 00005092 D113                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
25168 00005094 6011                   M           MOV.W   @R1,R0          ;
25169 00005096 CB04                   M           OR      #BIT2,R0                ;
25170 00005098 2101                   M           MOV.W   R0,@R1          ;
25171                            7923     
25172 0000509A D115              7924             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B06,R1          ;
25173 0000509C 6011              7925             MOV.W   @R1,R0                                          ;
25174 0000509E 7001              7926             ADD     #1,R0                                           ;
25175 000050A0 2101              7927             MOV.W   R0,@R1                                          ;
25176                            7928     
25177                            7929     
25178 000050A2                   7930     ERR_INFO_DTCHK3_300:
25179                            7931     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   343
PROGRAM NAME =

25180                            7932     ;       ==== ｱｸｾｽ不正異常 =====
25181 000050A2 9312              7933             MOV.W   #D'10,R3                ;
25182 000050A4 222A              7934             XOR     R2,R2                   ;
25183 000050A6 D113              7935             MOV.L   #_ACCESS_ERR1,R1        ;
25184 000050A8                   7936     ERR_INFO_DTCHK3_350:
25185 000050A8 6016              7937             MOV.L   @R1+,R0                 ;
25186 000050AA 220B              7938             OR      R0,R2                   ;
25187 000050AC 73FF              7939             ADD     #-1,R3                  ;
25188 000050AE 2338              7940             TST     R3,R3                   ;
25189                            7941             TST_BIT_ON ERR_INFO_DTCHK3_350  ;
25190 000050B0 8BFA                   M           BF      ERR_INFO_DTCHK3_350
25191 000050B2 2228              7942             TST     R2,R2                   ;
25192                            7943             TST_BIT_OF ERR_INFO_DTCHK3_380  ;
25193 000050B4 8903                   M           BT      ERR_INFO_DTCHK3_380
25194                            7944             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT3,WKREG
                                          =R1 ;//(不正ｱｸｾｽ有り)
25195 000050B6 D10A                   M           MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,R1          ;
25196 000050B8 6011                   M           MOV.W   @R1,R0          ;
25197 000050BA CB08                   M           OR      #BIT3,R0                ;
25198 000050BC 2101                   M           MOV.W   R0,@R1          ;
25199 000050BE                   7945     ERR_INFO_DTCHK3_380:
25200                            7946     
25201                            7947     
25202                            7948     ;       ==== REST PLS ﾁｪｯｸ(別次元かな)====
25203                            7949             FAR_JSR #_ERR_INFO_DT_CHK3X,R0          ;OVER
25204 000050BE D00E                   M           MOV.L   #_ERR_INFO_DT_CHK3X,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25205 000050C0 400B                   M           JSR     @R0                     ;
25206 000050C2 0009                   M           NOP                                     ;
25207                            7950     
25208                            7951     
25209 000050C4                   7952     ERR_INFO_DTCHK3_EXT:
25210                            7953     
25211                            7954             SUB_END
25212                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25213 000050C4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25214                            7955             M_RTS
25215 000050C6 000B                   M           RTS                             ;RTSの後ろの
25216 000050C8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25217                            7956     
25218                            7957     ;       ***************************************************
25219                            7958     ;       ***                                             ***
25220                            7959     ;       ***     目標位置+2000＜現在位置+RESETPULS       ***
25221                            7960     ;       ***     注意 REST-PLSは20msec後から読み出す     ***
25222                            7961     ;       ***                                             ***
25223                            7962     ;       ***************************************************
25224                                     ***** BEGIN-POOL *****
25225 000050CA 000A                       DATA FOR SOURCE-LINE 7933
25226 000050CC 00000000                   DATA FOR SOURCE-LINE 7861
25227 000050D0 00000000                   DATA FOR SOURCE-LINE 7862,7909
25228 000050D4 00000000                   DATA FOR SOURCE-LINE 7865
25229 000050D8 00000000                   DATA FOR SOURCE-LINE 7872
25230 000050DC 00000000                   DATA FOR SOURCE-LINE 7878
25231 000050E0 00000000                   DATA FOR SOURCE-LINE 7885,7904,7922,7944
25232 000050E4 00000000                   DATA FOR SOURCE-LINE 7893
25233 000050E8 00000000                   DATA FOR SOURCE-LINE 7899
25234 000050EC 00000000                   DATA FOR SOURCE-LINE 7912
25235 000050F0 00000000                   DATA FOR SOURCE-LINE 7924
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   344
PROGRAM NAME =

25236 000050F4 00000000                   DATA FOR SOURCE-LINE 7935
25237 000050F8 00000000                   DATA FOR SOURCE-LINE 7949
25238                                     ***** END-POOL *****
25239 000050FC                   7963             .ALIGN  4                               ;
25240 000050FC                   7964     _ERR_INFO_DT_CHK3X:
25241                            7965             SUB_START
25242 000050FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
25243                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25244                            7966     
25245 000050FE D103              7967             MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
25246 00005100 6011              7968             MOV.W   @R1,R0                  ;
25247 00005102 C801              7969             TST     #BIT0,R0                ;
25248                            7970             TST_BIT_OF ERR_INFO_DTCHK3X_100 ;
25249 00005104 8904                   M           BT      ERR_INFO_DTCHK3X_100
25250                            7971             M_BRA   ERR_INFO_DTCHK3X_200    ;
25251 00005106 A029                   M           BRA     ERR_INFO_DTCHK3X_200
25252 00005108 0009                   M           NOP
25253                            7972     ;       ==== 正転運転 =====
25254                                     ***** BEGIN-POOL *****
25255 0000510A 0000                       ALIGNMENT CODE
25256 0000510C 00000000                   DATA FOR SOURCE-LINE 7967
25257                                     ***** END-POOL *****
25258 00005110                   7973     ERR_INFO_DTCHK3X_100:
25259                            7974             FAR_JSR #_LOAD_REST_PLS,R0                      ;残りﾊﾟﾙｽ R0
25260 00005110 D00E                   M           MOV.L   #_LOAD_REST_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25261 00005112 400B                   M           JSR     @R0                     ;
25262 00005114 0009                   M           NOP                                     ;
25263                            7975     
25264 00005116 D10E              7976             MOV.L   #_LINK_SV_OBJ_ABSPLS,R1                 ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし
                                          )
25265 00005118 6216              7977             MOV.L   @R1+,R2                                 ;
25266 0000511A 6312              7978             MOV.L   @R1,R3                                  ;
25267 0000511C 211A              7979             XOR     R1,R1
25268 0000511E 9414              7980             MOV.W   #_PLS_ERR_HABPLS1,R4                    ;2000
25269                            7981             ADD8B DT_REGH=R1,DT_REGL=R4,DT_ANS_REGH=R2,DT_ANS_REGL=R3       ;OBJ+2000=R2,R3
25270 00005120 0008                   M           CLRT
25271 00005122 334E                   M           ADDC    R4,R3
25272 00005124 321E                   M           ADDC    R1,R2
25273                            7982     
25274                            7983     ;;;     MOV.L   #_LINK_RL_OBJ_ABSPLS,R1                                 ;
25275 00005126 D10B              7984             MOV.L   #_LINK_PV_ABSPLS,R1                                     ;20060919
25276 00005128 6416              7985             MOV.L   @R1+,R4                                                 ;
25277 0000512A 6512              7986             MOV.L   @R1,R5                                                  ;
25278 0000512C 211A              7987             XOR     R1,R1                                                   ;R1,R0(残りﾊﾟﾙｽ)
25279                            7988             ADD8B DT_REGH=R1,DT_REGL=R0,DT_ANS_REGH=R4,DT_ANS_REGL=R5       ;PV+REST=R4,R5
25280 0000512E 0008                   M           CLRT
25281 00005130 350E                   M           ADDC    R0,R5
25282 00005132 341E                   M           ADDC    R1,R4
25283                            7989     
25284                            7990             SUB8B DT_REGH=R4,DT_REGL=R5,DT_ANS_REGH=R2,DT_ANS_REGL=R3
25285 00005134 0008                   M           CLRT
25286 00005136 335A                   M           SUBC    R5,R3
25287 00005138 324A                   M           SUBC    R4,R2
25288                            7991     ;       R2,R3 - R4,R5= R2,R3 >=0 THEN NOMAL
25289 0000513A 4211              7992             CMP/PZ  R2                      ;
25290 0000513C 890E              7993             BT      ERR_INFO_DTCHK3X_300    ;
25291                            7994     ;       === "-" ===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   345
PROGRAM NAME =

25292                            7995             .AIF    1 EQ    0
25293                            7996             MEM1_BIT0_TO_BIT7_ORSET MEM=_WK_ERR_INFO_CPU_TOP+_ERR_INFO_A03,LG=W,BIT=BIT4,WKREG
                                          =R1 ;//OVER-RUN
25294                            7997             .AELSE
25295                            7998             .AENDI
25296 0000513E D106              7999             MOV.L   #_WK_ERR_INFO_CPU_TOP+_ERR_INFO_B07,R1          ;
25297 00005140 6011              8000             MOV.W   @R1,R0                                          ;
25298 00005142 7001              8001             ADD     #1,R0                                           ;
25299 00005144 2101              8002             MOV.W   R0,@R1                                          ;
25300                            8003     
25301                            8004             M_BRA   ERR_INFO_DTCHK3X_300    ;
25302 00005146 A009                   M           BRA     ERR_INFO_DTCHK3X_300
25303 00005148 0009                   M           NOP
25304                            8005     ;       ==== 逆転運転 =====
25305                                     ***** BEGIN-POOL *****
25306 0000514A 07D0                       DATA FOR SOURCE-LINE 7980
25307 0000514C 00000000                   DATA FOR SOURCE-LINE 7974
25308 00005150 00000000                   DATA FOR SOURCE-LINE 7976
25309 00005154 00000000                   DATA FOR SOURCE-LINE 7984
25310 00005158 00000000                   DATA FOR SOURCE-LINE 7999
25311                                     ***** END-POOL *****
25312 0000515C                   8006     ERR_INFO_DTCHK3X_200:
25313 0000515C                   8007     ERR_INFO_DTCHK3X_300:
25314                            8008     
25315                            8009             SUB_END
25316                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25317 0000515C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25318                            8010             M_RTS
25319 0000515E 000B                   M           RTS                             ;RTSの後ろの
25320 00005160 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25321                            8011     
25322                            8012     ;       ***********************************
25323                            8013     ;       ***                             ***
25324                            8014     ;       ***     残りﾊﾟﾙｽﾁｪｯｸ            ***
25325                            8015     ;       ***     二重回路                ***
25326                            8016     ;       ***                             ***
25327                            8017     ;       ***********************************
25328                            8018             .MACRO REST_PLSCMP2_ERRCHK1 REG1,REG2,IMD,ERRBIT        ;
25329                            8019             XOR     R0,R0                                           ;
25330                            8020             SUB     \REG1,\REG2                                     ;
25331                            8021             CMP/PZ  \REG2                                           ;
25332                            8022             BT      JMP01\@                                         ;DATA=<MAX
25333                            8023             NEG     \REG2,\REG2                                     ;
25334                            8024     JMP01\@:                                                        ;
25335                            8025             MOV.L   #\IMD,\REG1                                     ;
25336                            8026             CMP/HI  \REG2,\REG1                                     ;REG1<REG2
25337                            8027             BT      JMP02\@                                         ;DATA=<MAX
25338                            8028             MOV.W   #\ERRBIT,R0                                     ;
25339                            8029     JMP02\@:                                                        ;
25340                            8030     
25341                            8031             .ENDM
25342                            8032     
25343                            8033     ;       ---2005-04-14-E(4/18)
25344                            8034             .MACRO REST_PLSCMP2_ERRCHK2 REG1,REG2,IMD,ERRBIT,CNT_ADR,CNT_MAX;
25345                            8035             XOR     R0,R0                                           ;
25346                            8036             SUB     \REG1,\REG2                                     ;
25347                            8037             CMP/PZ  \REG2                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   346
PROGRAM NAME =

25348                            8038             BT      JMP01\@                                         ;DATA=<MAX
25349                            8039             NEG     \REG2,\REG2                                     ;
25350                            8040     JMP01\@:                                                        ;
25351                            8041             MOV.L   #\IMD,\REG1                                     ;
25352                            8042             CMP/HI  \REG2,\REG1                                     ;REG1<REG2
25353                            8043             BT      JMP02\@                                         ;DATA=<MAX
25354                            8044             MOV.L   #\CNT_ADR,\REG1                                 ;
25355                            8045             MOV.W   @\REG1,R0                                       ;CNT+1
25356                            8046             ADD     #1,R0                                           ;
25357                            8047             MOV.W   R0,@\REG1                                       ;
25358                            8048             MOV.W   #\CNT_MAX,\REG1                                 ;
25359                            8049             CMP/HS  \REG1,R0                                        ;MAX =< R0
25360                            8050             BF      JMP03\@                                         ;
25361                            8051             MOV.W   #\ERRBIT,R0                                     ;
25362                            8052             M_BRA   JMP04\@                                         ;ERR
25363                            8053     JMP02\@:                                                        ;
25364                            8054             XOR     R0,R0                                           ;
25365                            8055             MOV.L   #\CNT_ADR,\REG1                                 ;
25366                            8056             MOV.W   R0,@\REG1                                       ;0CLR + ANS=0
25367                            8057     JMP03\@:                                                        ;
25368                            8058             XOR     R0,R0                                           ;
25369                            8059     JMP04\@:                                                        ;
25370                            8060             .ENDM
25371                            8061     
25372                            8062     
25373                            8063     
25374                            8064     
25375                            8065     
25376                            8066     
25377                            8067     
25378                            8068     
25379                            8069     
25380                            8070     
25381                            8071     
25382                            8072     ;       ***********************************
25383                            8073     ;       ***     ﾊﾞｯｸｱｯﾌﾟ条件ﾁｪｯｸ        ***
25384                            8074     ;       ***     非常停止の中で呼ばれる  ***
25385                            8075     ;       ***********************************
25386                            8076             .EXPORT _ERR_INFO_BAKUP_START
25387                            8077     
25388                            8078     
25389                            8079     
25390 00005164                   8080             .ALIGN  4                               ;
25391 00005164                   8081     _ERR_INFO_BAKUP_START
25392                            8082             SUB_START
25393 00005164 4F22                   M           STS.L   PR,@-R15                ;[必要]
25394                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25395 00005166 D107              8083             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
25396 00005168 6011              8084             MOV.W   @R1,R0                          ;
25397 0000516A 2008              8085             TST     R0,R0                           ;
25398                            8086             TST_BIT_ON ERR_INFO_BAKUP_ST_END        ;
25399 0000516C 8B07                   M           BF      ERR_INFO_BAKUP_ST_END
25400                            8087             MEM1_BIT0_TO_BIT7_ORSET MEM=_ERR_INFO_SAVE_LATCH,LG=W,BIT=BIT0,WKREG=R1 ;//SAVE-LA
                                          TCH
25401 0000516E D105                   M           MOV.L   #_ERR_INFO_SAVE_LATCH,R1                ;
25402 00005170 6011                   M           MOV.W   @R1,R0          ;
25403 00005172 CB01                   M           OR      #BIT0,R0                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   347
PROGRAM NAME =

25404 00005174 2101                   M           MOV.W   R0,@R1          ;
25405                            8088             MEM1_BIT0_TO_BIT7_ORSET MEM=_ERR_INFO_SAVE_FLG,LG=W,BIT=BIT0,WKREG=R1 ;//SAVE-STAR
                                          T
25406 00005176 D104                   M           MOV.L   #_ERR_INFO_SAVE_FLG,R1          ;
25407 00005178 6011                   M           MOV.W   @R1,R0          ;
25408 0000517A CB01                   M           OR      #BIT0,R0                ;
25409 0000517C 2101                   M           MOV.W   R0,@R1          ;
25410                            8089     
25411                            8090     
25412 0000517E                   8091     ERR_INFO_BAKUP_ST_END
25413                            8092             SUB_END
25414                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25415 0000517E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25416                            8093             M_RTS
25417 00005180 000B                   M           RTS                             ;RTSの後ろの
25418 00005182 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25419                            8094     
25420                            8095             .EXPORT         _ERR_INFO_RST_CLR
25421                                     ***** BEGIN-POOL *****
25422 00005184 00000000                   DATA FOR SOURCE-LINE 8083,8087
25423 00005188 00000000                   DATA FOR SOURCE-LINE 8088
25424                                     ***** END-POOL *****
25425 0000518C                   8096             .ALIGN  4                               ;
25426 0000518C                   8097     _ERR_INFO_RST_CLR:
25427                            8098             SUB_START
25428 0000518C 4F22                   M           STS.L   PR,@-R15                ;[必要]
25429                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25430                            8099             FAR_JSR #_ERR_INFO_WK_CLR,R0
25431 0000518E D005                   M           MOV.L   #_ERR_INFO_WK_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25432 00005190 400B                   M           JSR     @R0                     ;
25433 00005192 0009                   M           NOP                                     ;
25434                            8100     
25435 00005194 200A              8101             XOR     R0,R0
25436 00005196 D104              8102             MOV.L   #_ERR_INFO_SAVE_FLG,R1
25437 00005198 2101              8103             MOV.W   R0,@R1                          ;
25438                            8104     
25439 0000519A D104              8105             MOV.L   #_ERR_INFO_SAVE_LATCH,R1        ;
25440 0000519C 2101              8106             MOV.W   R0,@R1                          ;
25441                            8107             SUB_END
25442                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25443 0000519E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25444                            8108             M_RTS
25445 000051A0 000B                   M           RTS                             ;RTSの後ろの
25446 000051A2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25447                            8109     
25448                            8110     ;       ***************************
25449                            8111     ;       ***                     ***
25450                            8112     ;       ***                     ***
25451                            8113     ;       ***                     ***
25452                            8114     ;       ***************************
25453                                     ***** BEGIN-POOL *****
25454 000051A4 00000000                   DATA FOR SOURCE-LINE 8099
25455 000051A8 00000000                   DATA FOR SOURCE-LINE 8102
25456 000051AC 00000000                   DATA FOR SOURCE-LINE 8105
25457                                     ***** END-POOL *****
25458 000051B0                   8115             .ALIGN  4                               ;
25459 000051B0                   8116     _ERR_INFO_WK_CLR:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   348
PROGRAM NAME =

25460                            8117             SUB_START
25461 000051B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
25462                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25463 000051B2 200A              8118             XOR     R0,R0
25464 000051B4 D107              8119             MOV.L   #_WK_ERR_INFO_CPU_TOP,R1
25465 000051B6 920B              8120             MOV.W   #_CB_ERR_INFO_MEM/4,R2          ;
25466                            8121     
25467 000051B8                   8122     ERR_INFO_WKCLR_LOP:
25468 000051B8 2102              8123             MOV.L   R0,@R1                          ;
25469 000051BA 7104              8124             ADD     #4,R1                           ;
25470 000051BC 72FF              8125             ADD     #-1,R2                          ;
25471 000051BE 2228              8126             TST     R2,R2                           ;
25472                            8127             TST_BIT_ON ERR_INFO_WKCLR_LOP           ;
25473 000051C0 8BFA                   M           BF      ERR_INFO_WKCLR_LOP
25474                            8128     
25475                            8129     ;       ------- 2010-10-25---
25476 000051C2 D105              8130             MOV.L   #_CHK_ADD_DATA_LATCH,R1         ;
25477 000051C4 2102              8131             MOV.L   R0,@R1                          ;
25478 000051C6 7104              8132             ADD     #4,R1                           ;
25479 000051C8 2102              8133             MOV.L   R0,@R1                          ;
25480                            8134     
25481                            8135             SUB_END
25482                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25483 000051CA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25484                            8136             M_RTS
25485 000051CC 000B                   M           RTS                             ;RTSの後ろの
25486 000051CE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25487                            8137     
25488                            8138     ;       ***********************************
25489                            8139     ;       ***                             ***
25490                            8140     ;       ***     １つだけ                ***
25491                            8141     ;       ***     自分の情報を相手に送り  ***
25492                            8142     ;       ***     相手の情報を取り込む    ***
25493                            8143     ;       ***     ﾃﾞｰﾀｸﾞﾗﾌを作成          ***
25494                            8144     ;       ***                             ***
25495                            8145     ;       ***********************************
25496                                     ***** BEGIN-POOL *****
25497 000051D0 0020                       DATA FOR SOURCE-LINE 8120
25498 000051D2 0000                       ALIGNMENT CODE
25499 000051D4 00000000                   DATA FOR SOURCE-LINE 8119
25500 000051D8 00000000                   DATA FOR SOURCE-LINE 8130
25501                                     ***** END-POOL *****
25502 000051DC                   8146             .ALIGN  4                               ;
25503 000051DC                   8147     _CHG_STEP_INFO_MAKE_STEP_DAT:
25504                            8148             SUB_START
25505 000051DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
25506                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25507                            8149             PUSH_REG1 R0
25508 000051DE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25509                                 M                                           ;REG=>[SP]
25510                                 M                                           ;"-4" FF,FF,FF,FC
25511                            8150             PUSH_REG1 R1
25512 000051E0 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25513                                 M                                           ;REG=>[SP]
25514                                 M                                           ;"-4" FF,FF,FF,FC
25515                            8151             PUSH_REG1 R2
25516 000051E2 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   349
PROGRAM NAME =

25517                                 M                                           ;REG=>[SP]
25518                                 M                                           ;"-4" FF,FF,FF,FC
25519                            8152             PUSH_REG1 R3
25520 000051E4 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25521                                 M                                           ;REG=>[SP]
25522                                 M                                           ;"-4" FF,FF,FF,FC
25523                            8153             PUSH_REG1 R4
25524 000051E6 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
25525                                 M                                           ;REG=>[SP]
25526                                 M                                           ;"-4" FF,FF,FF,FC
25527                            8154             FAR_JSR #_LOAD_FREQ_PLS,R0
25528 000051E8 D015                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25529 000051EA 400B                   M           JSR     @R0                     ;
25530 000051EC 0009                   M           NOP                                     ;
25531 000051EE D115              8155             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
25532 000051F0 2101              8156             MOV.W   R0,@R1
                                          ;
25533                            8157             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH2_STEP_SV_PLS       ,L
                                          ,R1,R2,R3       ;
25534 000051F2 D115                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
25535 000051F4 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25536 000051F6 D315                   M           MOV.L   #_SH2_STEP_SV_PLS,R3    ;DST_ADR
25537 000051F8 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25538                            8158             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4               ,L      ,_SH2_STEP_PV_PLS       ,L
                                          ,R1,R2,R3       ;
25539 000051FA D115                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
25540 000051FC 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25541 000051FE D315                   M           MOV.L   #_SH2_STEP_PV_PLS,R3    ;DST_ADR
25542 00005200 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25543                            8159             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH2_STEP_REST_P       ,L
                                          ,R1,R2,R3       ;
25544 00005202 D115                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
25545 00005204 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25546 00005206 D315                   M           MOV.L   #_SH2_STEP_REST_P,R3    ;DST_ADR
25547 00005208 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25548                            8160             MEM_MOV_TO_MEM  _LNGTH_TOTAL_OUTPLS             ,L      ,_SH2_TOTAL_PLS ,L,R1,R2,R
                                          3       ;
25549 0000520A D115                   M           MOV.L   #_LNGTH_TOTAL_OUTPLS,R1
25550 0000520C 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25551 0000520E D315                   M           MOV.L   #_SH2_TOTAL_PLS,R3      ;DST_ADR
25552 00005210 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25553                            8161     ;;      MEM_MOV_TO_MEM  _IN_POS_GPOINT_POS              ,L      ,_SH2_ADD_PLS           ,L
                                          ,R1,R2,R3       ;
25554                            8162     
25555                            8163             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH2_STEP_FRQ          ,W
                                          ,R1,R2,R3       ;
25556 00005212 D10C                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
25557 00005214 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25558 00005216 D314                   M           MOV.L   #_SH2_STEP_FRQ,R3       ;DST_ADR
25559 00005218 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25560                            8164             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH2_STEP_TIM          ,W
                                          ,R1,R2,R3       ;
25561 0000521A D114                   M           MOV.L   #_CPU_CTRL_CLK,R1
25562 0000521C 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25563 0000521E D314                   M           MOV.L   #_SH2_STEP_TIM,R3       ;DST_ADR
25564 00005220 2321                   M           MOV.W   R2,@R3  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   350
PROGRAM NAME =

25565                            8165             MEM_MOV_TO_MEM  _INT_POS_CTL_STEP               ,W      ,_SH2_NOW_STEP          ,W
                                          ,R1,R2,R3       ;
25566 00005222 D114                   M           MOV.L   #_INT_POS_CTL_STEP,R1
25567 00005224 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25568 00005226 D314                   M           MOV.L   #_SH2_NOW_STEP,R3       ;DST_ADR
25569 00005228 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25570                            8166     
25571                            8167             FAR_JSR #_DATA_GRF_CNT_DATA_MAKE,R0
25572 0000522A D014                   M           MOV.L   #_DATA_GRF_CNT_DATA_MAKE,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25573 0000522C 400B                   M           JSR     @R0                     ;
25574 0000522E 0009                   M           NOP                                     ;
25575                            8168             POP_REG1 R4
25576                                 M                                   ; RE"+4" 00,00,00,04
25577 00005230 64F6                   M           MOV.L   @R15+,R4        ;
25578                            8169             POP_REG1 R3
25579                                 M                                   ; RE"+4" 00,00,00,04
25580 00005232 63F6                   M           MOV.L   @R15+,R3        ;
25581                            8170             POP_REG1 R2
25582                                 M                                   ; RE"+4" 00,00,00,04
25583 00005234 62F6                   M           MOV.L   @R15+,R2        ;
25584                            8171             POP_REG1 R1
25585                                 M                                   ; RE"+4" 00,00,00,04
25586 00005236 61F6                   M           MOV.L   @R15+,R1        ;
25587                            8172             POP_REG1 R0
25588                                 M                                   ; RE"+4" 00,00,00,04
25589 00005238 60F6                   M           MOV.L   @R15+,R0        ;
25590                            8173             SUB_END
25591                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25592 0000523A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25593                            8174             M_RTS
25594 0000523C 000B                   M           RTS                             ;RTSの後ろの
25595 0000523E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25596                            8175     
25597                            8176     ;       ***********************************
25598                            8177     ;       ***     連続の行程切り替わり    ***
25599                            8178     ;       ***********************************
25600                            8179     ;       行程3->1のときの演算前のﾃﾞｰﾀ を4へ
25601                            8180     ;       ﾓﾆﾀ用
25602                                     ***** BEGIN-POOL *****
25603 00005240 00000000                   DATA FOR SOURCE-LINE 8154
25604 00005244 00000000                   DATA FOR SOURCE-LINE 8155,8163
25605 00005248 00000000                   DATA FOR SOURCE-LINE 8157
25606 0000524C 00000000                   DATA FOR SOURCE-LINE 8157
25607 00005250 00000000                   DATA FOR SOURCE-LINE 8158
25608 00005254 00000000                   DATA FOR SOURCE-LINE 8158
25609 00005258 00000000                   DATA FOR SOURCE-LINE 8159
25610 0000525C 00000000                   DATA FOR SOURCE-LINE 8159
25611 00005260 00000000                   DATA FOR SOURCE-LINE 8160
25612 00005264 00000000                   DATA FOR SOURCE-LINE 8160
25613 00005268 00000000                   DATA FOR SOURCE-LINE 8163
25614 0000526C 00000000                   DATA FOR SOURCE-LINE 8164
25615 00005270 00000000                   DATA FOR SOURCE-LINE 8164
25616 00005274 00000000                   DATA FOR SOURCE-LINE 8165
25617 00005278 00000000                   DATA FOR SOURCE-LINE 8165
25618 0000527C 00000000                   DATA FOR SOURCE-LINE 8167
25619                                     ***** END-POOL *****
25620 00005280                   8181             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   351
PROGRAM NAME =

25621 00005280                   8182     _CHG_STEP_INFO_MAKE_ESTEP_BEFOR
25622                            8183             SUB_START
25623 00005280 4F22                   M           STS.L   PR,@-R15                ;[必要]
25624                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25625                            8184             PUSH_REG1 R0
25626 00005282 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25627                                 M                                           ;REG=>[SP]
25628                                 M                                           ;"-4" FF,FF,FF,FC
25629                            8185             PUSH_REG1 R1
25630 00005284 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25631                                 M                                           ;REG=>[SP]
25632                                 M                                           ;"-4" FF,FF,FF,FC
25633                            8186             PUSH_REG1 R2
25634 00005286 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25635                                 M                                           ;REG=>[SP]
25636                                 M                                           ;"-4" FF,FF,FF,FC
25637                            8187             PUSH_REG1 R3
25638 00005288 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25639                                 M                                           ;REG=>[SP]
25640                                 M                                           ;"-4" FF,FF,FF,FC
25641                            8188             FAR_JSR #_LOAD_FREQ_PLS,R0
25642 0000528A D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25643 0000528C 400B                   M           JSR     @R0                     ;
25644 0000528E 0009                   M           NOP                                     ;
25645 00005290 D10F              8189             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
25646 00005292 2101              8190             MOV.W   R0,@R1
                                          ;
25647                            8191             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH2_STEP4_SV_PLS      ,L
                                          ,R1,R2,R3       ;
25648 00005294 D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
25649 00005296 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25650 00005298 D30F                   M           MOV.L   #_SH2_STEP4_SV_PLS,R3   ;DST_ADR
25651 0000529A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25652                            8192             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4               ,L      ,_SH2_STEP4_PV_PLS      ,L
                                          ,R1,R2,R3;
25653 0000529C D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
25654 0000529E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25655 000052A0 D30F                   M           MOV.L   #_SH2_STEP4_PV_PLS,R3   ;DST_ADR
25656 000052A2 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25657                            8193             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH2_STEP4_REST_P      ,L
                                          ,R1,R2,R3;
25658 000052A4 D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
25659 000052A6 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25660 000052A8 D30F                   M           MOV.L   #_SH2_STEP4_REST_P,R3   ;DST_ADR
25661 000052AA 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25662                            8194             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH2_STEP4_FRQ ,W,R1,R2,R
                                          3;
25663 000052AC D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
25664 000052AE 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25665 000052B0 D30E                   M           MOV.L   #_SH2_STEP4_FRQ,R3      ;DST_ADR
25666 000052B2 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25667                            8195             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH2_STEP4_TIM ,W,R1,R2,R
                                          3;
25668 000052B4 D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
25669 000052B6 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25670 000052B8 D30E                   M           MOV.L   #_SH2_STEP4_TIM,R3      ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   352
PROGRAM NAME =

25671 000052BA 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25672                            8196     
25673                            8197             POP_REG1 R3
25674                                 M                                   ; RE"+4" 00,00,00,04
25675 000052BC 63F6                   M           MOV.L   @R15+,R3        ;
25676                            8198             POP_REG1 R2
25677                                 M                                   ; RE"+4" 00,00,00,04
25678 000052BE 62F6                   M           MOV.L   @R15+,R2        ;
25679                            8199             POP_REG1 R1
25680                                 M                                   ; RE"+4" 00,00,00,04
25681 000052C0 61F6                   M           MOV.L   @R15+,R1        ;
25682                            8200             POP_REG1 R0
25683                                 M                                   ; RE"+4" 00,00,00,04
25684 000052C2 60F6                   M           MOV.L   @R15+,R0        ;
25685                            8201             SUB_END
25686                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25687 000052C4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25688                            8202             M_RTS
25689 000052C6 000B                   M           RTS                             ;RTSの後ろの
25690 000052C8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25691                            8203     
25692                            8204     ;       行程3->1のときの演算後のﾃﾞｰﾀ を1へ
25693                                     ***** BEGIN-POOL *****
25694 000052CA 0000                       ALIGNMENT CODE
25695 000052CC 00000000                   DATA FOR SOURCE-LINE 8188
25696 000052D0 00000000                   DATA FOR SOURCE-LINE 8189,8194
25697 000052D4 00000000                   DATA FOR SOURCE-LINE 8191
25698 000052D8 00000000                   DATA FOR SOURCE-LINE 8191
25699 000052DC 00000000                   DATA FOR SOURCE-LINE 8192
25700 000052E0 00000000                   DATA FOR SOURCE-LINE 8192
25701 000052E4 00000000                   DATA FOR SOURCE-LINE 8193
25702 000052E8 00000000                   DATA FOR SOURCE-LINE 8193
25703 000052EC 00000000                   DATA FOR SOURCE-LINE 8194
25704 000052F0 00000000                   DATA FOR SOURCE-LINE 8195
25705 000052F4 00000000                   DATA FOR SOURCE-LINE 8195
25706                                     ***** END-POOL *****
25707 000052F8                   8205             .ALIGN  4                               ;
25708 000052F8                   8206     _CHG_STEP_INFO_MAKE_ESTEP_AFTER
25709                            8207             SUB_START
25710 000052F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
25711                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25712                            8208             PUSH_REG1 R0
25713 000052FA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25714                                 M                                           ;REG=>[SP]
25715                                 M                                           ;"-4" FF,FF,FF,FC
25716                            8209             PUSH_REG1 R1
25717 000052FC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25718                                 M                                           ;REG=>[SP]
25719                                 M                                           ;"-4" FF,FF,FF,FC
25720                            8210             PUSH_REG1 R2
25721 000052FE 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25722                                 M                                           ;REG=>[SP]
25723                                 M                                           ;"-4" FF,FF,FF,FC
25724                            8211             PUSH_REG1 R3
25725 00005300 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25726                                 M                                           ;REG=>[SP]
25727                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   353
PROGRAM NAME =

25728                            8212             FAR_JSR #_LOAD_FREQ_PLS,R0
25729 00005302 D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25730 00005304 400B                   M           JSR     @R0                     ;
25731 00005306 0009                   M           NOP                                     ;
25732 00005308 D10F              8213             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
25733 0000530A 2101              8214             MOV.W   R0,@R1
                                          ;
25734                            8215             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH2_STEP1_SV_PLS      ,L
                                          ,R1,R2,R3       ;
25735 0000530C D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
25736 0000530E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25737 00005310 D30F                   M           MOV.L   #_SH2_STEP1_SV_PLS,R3   ;DST_ADR
25738 00005312 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25739                            8216             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4       ,L      ,_SH2_STEP1_PV_PLS      ,L,R1,R2,R
                                          3;
25740 00005314 D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
25741 00005316 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25742 00005318 D30F                   M           MOV.L   #_SH2_STEP1_PV_PLS,R3   ;DST_ADR
25743 0000531A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25744                            8217             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH2_STEP1_REST_P      ,L
                                          ,R1,R2,R3;
25745 0000531C D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
25746 0000531E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25747 00005320 D30F                   M           MOV.L   #_SH2_STEP1_REST_P,R3   ;DST_ADR
25748 00005322 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25749                            8218             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH2_STEP1_FRQ ,W,R1,R2,R
                                          3;
25750 00005324 D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
25751 00005326 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25752 00005328 D30E                   M           MOV.L   #_SH2_STEP1_FRQ,R3      ;DST_ADR
25753 0000532A 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25754                            8219             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH2_STEP1_TIM ,W,R1,R2,R
                                          3;
25755 0000532C D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
25756 0000532E 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25757 00005330 D30E                   M           MOV.L   #_SH2_STEP1_TIM,R3      ;DST_ADR
25758 00005332 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25759                            8220     
25760                            8221             POP_REG1 R3
25761                                 M                                   ; RE"+4" 00,00,00,04
25762 00005334 63F6                   M           MOV.L   @R15+,R3        ;
25763                            8222             POP_REG1 R2
25764                                 M                                   ; RE"+4" 00,00,00,04
25765 00005336 62F6                   M           MOV.L   @R15+,R2        ;
25766                            8223             POP_REG1 R1
25767                                 M                                   ; RE"+4" 00,00,00,04
25768 00005338 61F6                   M           MOV.L   @R15+,R1        ;
25769                            8224             POP_REG1 R0
25770                                 M                                   ; RE"+4" 00,00,00,04
25771 0000533A 60F6                   M           MOV.L   @R15+,R0        ;
25772                            8225             SUB_END
25773                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25774 0000533C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25775                            8226             M_RTS
25776 0000533E 000B                   M           RTS                             ;RTSの後ろの
25777 00005340 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   354
PROGRAM NAME =

25778                            8227     
25779                            8228     
25780                            8229     ;       ***********************************
25781                            8230     ;       ***                             ***
25782                            8231     ;       ***********************************
25783                                     ***** BEGIN-POOL *****
25784 00005342 0000                       ALIGNMENT CODE
25785 00005344 00000000                   DATA FOR SOURCE-LINE 8212
25786 00005348 00000000                   DATA FOR SOURCE-LINE 8213,8218
25787 0000534C 00000000                   DATA FOR SOURCE-LINE 8215
25788 00005350 00000000                   DATA FOR SOURCE-LINE 8215
25789 00005354 00000000                   DATA FOR SOURCE-LINE 8216
25790 00005358 00000000                   DATA FOR SOURCE-LINE 8216
25791 0000535C 00000000                   DATA FOR SOURCE-LINE 8217
25792 00005360 00000000                   DATA FOR SOURCE-LINE 8217
25793 00005364 00000000                   DATA FOR SOURCE-LINE 8218
25794 00005368 00000000                   DATA FOR SOURCE-LINE 8219
25795 0000536C 00000000                   DATA FOR SOURCE-LINE 8219
25796                                     ***** END-POOL *****
25797 00005370                   8232             .ALIGN  4                               ;
25798 00005370                   8233     _CHG_STEP_INFO_MAKE_STEP_END:
25799                            8234             SUB_START
25800 00005370 4F22                   M           STS.L   PR,@-R15                ;[必要]
25801                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25802                            8235             PUSH_REG1 R0
25803 00005372 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25804                                 M                                           ;REG=>[SP]
25805                                 M                                           ;"-4" FF,FF,FF,FC
25806                            8236             PUSH_REG1 R1
25807 00005374 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25808                                 M                                           ;REG=>[SP]
25809                                 M                                           ;"-4" FF,FF,FF,FC
25810 00005376 D104              8237             MOV.L   #_INT_POS_CTL_STEP,R1           ;
25811 00005378 6011              8238             MOV.W   @R1,R0                          ;
25812 0000537A 8802              8239             CMP/EQ  #2,R0                           ;
25813 0000537C 8B08              8240             BF      CHG_STEP_INFO_MAKSTP_END_010    ;
25814                            8241             FAR_JSR #_CHG_STEP_INFO_MAKE_1STEP_END,R0
25815 0000537E D003                   M           MOV.L   #_CHG_STEP_INFO_MAKE_1STEP_END,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25816 00005380 400B                   M           JSR     @R0                     ;
25817 00005382 0009                   M           NOP                                     ;
25818                            8242             M_BRA   CHG_STEP_INFO_MAKSTP_END_EXT
25819 00005384 A00E                   M           BRA     CHG_STEP_INFO_MAKSTP_END_EXT
25820 00005386 0009                   M           NOP
25821                            8243     
25822                                     ***** BEGIN-POOL *****
25823 00005388 00000000                   DATA FOR SOURCE-LINE 8237
25824 0000538C 00000000                   DATA FOR SOURCE-LINE 8241
25825                                     ***** END-POOL *****
25826 00005390                   8244     CHG_STEP_INFO_MAKSTP_END_010:
25827 00005390 8803              8245             CMP/EQ  #3,R0                                   ;
25828 00005392 8B07              8246             BF      CHG_STEP_INFO_MAKSTP_END_020            ;
25829                            8247             FAR_JSR #_CHG_STEP_INFO_MAKE_2STEP_END,R0       ;
25830 00005394 D002                   M           MOV.L   #_CHG_STEP_INFO_MAKE_2STEP_END,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25831 00005396 400B                   M           JSR     @R0                     ;
25832 00005398 0009                   M           NOP                                     ;
25833                            8248             M_BRA   CHG_STEP_INFO_MAKSTP_END_EXT            ;
25834 0000539A A003                   M           BRA     CHG_STEP_INFO_MAKSTP_END_EXT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   355
PROGRAM NAME =

25835 0000539C 0009                   M           NOP
25836                                     ***** BEGIN-POOL *****
25837 0000539E 0000                       ALIGNMENT CODE
25838 000053A0 00000000                   DATA FOR SOURCE-LINE 8247
25839                                     ***** END-POOL *****
25840 000053A4                   8249     CHG_STEP_INFO_MAKSTP_END_020:
25841                            8250     
25842 000053A4                   8251     CHG_STEP_INFO_MAKSTP_END_EXT:
25843                            8252             POP_REG1 R1
25844                                 M                                   ; RE"+4" 00,00,00,04
25845 000053A4 61F6                   M           MOV.L   @R15+,R1        ;
25846                            8253             POP_REG1 R0
25847                                 M                                   ; RE"+4" 00,00,00,04
25848 000053A6 60F6                   M           MOV.L   @R15+,R0        ;
25849                            8254             SUB_END
25850                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25851 000053A8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25852                            8255             M_RTS
25853 000053AA 000B                   M           RTS                             ;RTSの後ろの
25854 000053AC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25855                            8256     
25856                            8257     
25857                            8258     ;       === 1->2 1の情報を2へ==
25858 000053B0                   8259             .ALIGN  4                               ;
25859 000053B0                   8260     _CHG_STEP_INFO_MAKE_1STEP_END
25860                            8261             SUB_START
25861 000053B0 4F22                   M           STS.L   PR,@-R15                ;[必要]
25862                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25863                            8262             PUSH_REG1 R0
25864 000053B2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25865                                 M                                           ;REG=>[SP]
25866                                 M                                           ;"-4" FF,FF,FF,FC
25867                            8263             PUSH_REG1 R1
25868 000053B4 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25869                                 M                                           ;REG=>[SP]
25870                                 M                                           ;"-4" FF,FF,FF,FC
25871                            8264             PUSH_REG1 R2
25872 000053B6 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25873                                 M                                           ;REG=>[SP]
25874                                 M                                           ;"-4" FF,FF,FF,FC
25875                            8265             PUSH_REG1 R3
25876 000053B8 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25877                                 M                                           ;REG=>[SP]
25878                                 M                                           ;"-4" FF,FF,FF,FC
25879                            8266             FAR_JSR #_LOAD_FREQ_PLS,R0
25880 000053BA D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25881 000053BC 400B                   M           JSR     @R0                     ;
25882 000053BE 0009                   M           NOP                                     ;
25883 000053C0 D10F              8267             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
25884 000053C2 2101              8268             MOV.W   R0,@R1
                                          ;
25885                            8269             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH2_STEP2_SV_PLS      ,L
                                          ,R1,R2,R3       ;
25886 000053C4 D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
25887 000053C6 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25888 000053C8 D30F                   M           MOV.L   #_SH2_STEP2_SV_PLS,R3   ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   356
PROGRAM NAME =

25889 000053CA 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25890                            8270             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4               ,L      ,_SH2_STEP2_PV_PLS      ,L
                                          ,R1,R2,R3       ;
25891 000053CC D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
25892 000053CE 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25893 000053D0 D30F                   M           MOV.L   #_SH2_STEP2_PV_PLS,R3   ;DST_ADR
25894 000053D2 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25895                            8271             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH2_STEP2_REST_P      ,L
                                          ,R1,R2,R3       ;
25896 000053D4 D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
25897 000053D6 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25898 000053D8 D30F                   M           MOV.L   #_SH2_STEP2_REST_P,R3   ;DST_ADR
25899 000053DA 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25900                            8272             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH2_STEP2_FRQ ,W,R1,R2,R
                                          3       ;
25901 000053DC D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
25902 000053DE 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25903 000053E0 D30E                   M           MOV.L   #_SH2_STEP2_FRQ,R3      ;DST_ADR
25904 000053E2 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25905                            8273             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH2_STEP2_TIM ,W,R1,R2,R
                                          3       ;
25906 000053E4 D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
25907 000053E6 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25908 000053E8 D30E                   M           MOV.L   #_SH2_STEP2_TIM,R3      ;DST_ADR
25909 000053EA 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25910                            8274             POP_REG1 R3
25911                                 M                                   ; RE"+4" 00,00,00,04
25912 000053EC 63F6                   M           MOV.L   @R15+,R3        ;
25913                            8275             POP_REG1 R2
25914                                 M                                   ; RE"+4" 00,00,00,04
25915 000053EE 62F6                   M           MOV.L   @R15+,R2        ;
25916                            8276             POP_REG1 R1
25917                                 M                                   ; RE"+4" 00,00,00,04
25918 000053F0 61F6                   M           MOV.L   @R15+,R1        ;
25919                            8277             POP_REG1 R0
25920                                 M                                   ; RE"+4" 00,00,00,04
25921 000053F2 60F6                   M           MOV.L   @R15+,R0        ;
25922                            8278             SUB_END
25923                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
25924 000053F4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
25925                            8279             M_RTS
25926 000053F6 000B                   M           RTS                             ;RTSの後ろの
25927 000053F8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
25928                            8280     
25929                            8281     ;       === 2->3 3の情報 ==
25930                                     ***** BEGIN-POOL *****
25931 000053FA 0000                       ALIGNMENT CODE
25932 000053FC 00000000                   DATA FOR SOURCE-LINE 8266
25933 00005400 00000000                   DATA FOR SOURCE-LINE 8267,8272
25934 00005404 00000000                   DATA FOR SOURCE-LINE 8269
25935 00005408 00000000                   DATA FOR SOURCE-LINE 8269
25936 0000540C 00000000                   DATA FOR SOURCE-LINE 8270
25937 00005410 00000000                   DATA FOR SOURCE-LINE 8270
25938 00005414 00000000                   DATA FOR SOURCE-LINE 8271
25939 00005418 00000000                   DATA FOR SOURCE-LINE 8271
25940 0000541C 00000000                   DATA FOR SOURCE-LINE 8272
25941 00005420 00000000                   DATA FOR SOURCE-LINE 8273
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   357
PROGRAM NAME =

25942 00005424 00000000                   DATA FOR SOURCE-LINE 8273
25943                                     ***** END-POOL *****
25944 00005428                   8282             .ALIGN  4                               ;
25945 00005428                   8283     _CHG_STEP_INFO_MAKE_2STEP_END
25946                            8284             SUB_START
25947 00005428 4F22                   M           STS.L   PR,@-R15                ;[必要]
25948                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
25949                            8285             PUSH_REG1 R0
25950 0000542A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
25951                                 M                                           ;REG=>[SP]
25952                                 M                                           ;"-4" FF,FF,FF,FC
25953                            8286             PUSH_REG1 R1
25954 0000542C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
25955                                 M                                           ;REG=>[SP]
25956                                 M                                           ;"-4" FF,FF,FF,FC
25957                            8287             PUSH_REG1 R2
25958 0000542E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
25959                                 M                                           ;REG=>[SP]
25960                                 M                                           ;"-4" FF,FF,FF,FC
25961                            8288             PUSH_REG1 R3
25962 00005430 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
25963                                 M                                           ;REG=>[SP]
25964                                 M                                           ;"-4" FF,FF,FF,FC
25965                            8289             FAR_JSR #_LOAD_FREQ_PLS,R0
25966 00005432 D010                   M           MOV.L   #_LOAD_FREQ_PLS,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
25967 00005434 400B                   M           JSR     @R0                     ;
25968 00005436 0009                   M           NOP                                     ;
25969 00005438 D10F              8290             MOV.L   #_POSLSI_DRV_FRQ,R1
                                          ;
25970 0000543A 2101              8291             MOV.W   R0,@R1
                                          ;
25971                            8292             MEM_MOV_TO_MEM  _LINK_SV_OBJ_ABSPLS+4           ,L      ,_SH2_STEP3_SV_PLS      ,L
                                          ,R1,R2,R3       ;
25972 0000543C D10F                   M           MOV.L   #_LINK_SV_OBJ_ABSPLS+4,R1
25973 0000543E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25974 00005440 D30F                   M           MOV.L   #_SH2_STEP3_SV_PLS,R3   ;DST_ADR
25975 00005442 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25976                            8293             MEM_MOV_TO_MEM  _LINK_PV_ABSPLS+4       ,L      ,_SH2_STEP3_PV_PLS      ,L,R1,R2,R
                                          3       ;
25977 00005444 D10F                   M           MOV.L   #_LINK_PV_ABSPLS+4,R1
25978 00005446 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25979 00005448 D30F                   M           MOV.L   #_SH2_STEP3_PV_PLS,R3   ;DST_ADR
25980 0000544A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25981                            8294             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS             ,L      ,_SH2_STEP3_REST_P      ,L
                                          ,R1,R2,R3       ;
25982 0000544C D10F                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
25983 0000544E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
25984 00005450 D30F                   M           MOV.L   #_SH2_STEP3_REST_P,R3   ;DST_ADR
25985 00005452 2322                   M           MOV.L   R2,@R3  ;DST_ADR
25986                            8295             MEM_MOV_TO_MEM  _POSLSI_DRV_FRQ                 ,W      ,_SH2_STEP3_FRQ ,W,R1,R2,R
                                          3       ;
25987 00005454 D108                   M           MOV.L   #_POSLSI_DRV_FRQ,R1
25988 00005456 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25989 00005458 D30E                   M           MOV.L   #_SH2_STEP3_FRQ,R3      ;DST_ADR
25990 0000545A 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25991                            8296             MEM_MOV_TO_MEM  _CPU_CTRL_CLK                   ,W      ,_SH2_STEP3_TIM ,W,R1,R2,R
                                          3       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   358
PROGRAM NAME =

25992 0000545C D10E                   M           MOV.L   #_CPU_CTRL_CLK,R1
25993 0000545E 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
25994 00005460 D30E                   M           MOV.L   #_SH2_STEP3_TIM,R3      ;DST_ADR
25995 00005462 2321                   M           MOV.W   R2,@R3  ;DST_ADR
25996                            8297     
25997                            8298             POP_REG1 R3
25998                                 M                                   ; RE"+4" 00,00,00,04
25999 00005464 63F6                   M           MOV.L   @R15+,R3        ;
26000                            8299             POP_REG1 R2
26001                                 M                                   ; RE"+4" 00,00,00,04
26002 00005466 62F6                   M           MOV.L   @R15+,R2        ;
26003                            8300             POP_REG1 R1
26004                                 M                                   ; RE"+4" 00,00,00,04
26005 00005468 61F6                   M           MOV.L   @R15+,R1        ;
26006                            8301             POP_REG1 R0
26007                                 M                                   ; RE"+4" 00,00,00,04
26008 0000546A 60F6                   M           MOV.L   @R15+,R0        ;
26009                            8302             SUB_END
26010                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26011 0000546C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26012                            8303             M_RTS
26013 0000546E 000B                   M           RTS                             ;RTSの後ろの
26014 00005470 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26015                            8304     
26016                            8305     
26017                            8306     
26018                            8307             .EXPORT _MONI_CHG_PROC1
26019                                     ***** BEGIN-POOL *****
26020 00005472 0000                       ALIGNMENT CODE
26021 00005474 00000000                   DATA FOR SOURCE-LINE 8289
26022 00005478 00000000                   DATA FOR SOURCE-LINE 8290,8295
26023 0000547C 00000000                   DATA FOR SOURCE-LINE 8292
26024 00005480 00000000                   DATA FOR SOURCE-LINE 8292
26025 00005484 00000000                   DATA FOR SOURCE-LINE 8293
26026 00005488 00000000                   DATA FOR SOURCE-LINE 8293
26027 0000548C 00000000                   DATA FOR SOURCE-LINE 8294
26028 00005490 00000000                   DATA FOR SOURCE-LINE 8294
26029 00005494 00000000                   DATA FOR SOURCE-LINE 8295
26030 00005498 00000000                   DATA FOR SOURCE-LINE 8296
26031 0000549C 00000000                   DATA FOR SOURCE-LINE 8296
26032                                     ***** END-POOL *****
26033 000054A0                   8308             .ALIGN  4                               ;
26034 000054A0                   8309     _MONI_CHG_PROC1:
26035                            8310             SUB_START
26036 000054A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
26037                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26038                            8311     ;;      MNP_MOV_TO_MEM  _SH2_STEP1_REST_P       ,L,_PVP_MONALM_C01,L,R1,R2,H'3FFFFFF
26039                            8312     ;;      MNP_MOV_TO_MEM  _SH2_STEP1_PV_PLS       ,L,_PVP_MONALM_C02,L,R1,R2,H'3FFFFFF
26040                            8313     ;;      MEM_MOV_TO_MEM  _SH2_STEP1_FRQ          ,W,_PVP_MONALM_A01,W,R1,R2,R3;
26041                            8314     ;;      MEM_MOV_TO_MEM  _SH2_STEP1_TIM          ,W,_PVP_MONALM_A02,W,R1,R2,R3;
26042                            8315     
26043                            8316             SUB_END
26044                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26045 000054A2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26046                            8317             M_RTS
26047 000054A4 000B                   M           RTS                             ;RTSの後ろの
26048 000054A6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   359
PROGRAM NAME =

26049                            8318     
26050                            8319     
26051                            8320     
26052                            8321     ;       ****************************
26053                            8322     ;       ***                     ****
26054                            8323     ;       ****************************
26055                            8324     
26056                            8325             .IMPORT _PVP_MONALM_C01
26057                            8326             .IMPORT _PVP_MONALM_C02
26058                            8327             .IMPORT _PVP_MONALM_C03
26059                            8328             .IMPORT _PVP_MONALM_C04
26060                            8329             .IMPORT _PVP_MONALM_C05
26061                            8330             .IMPORT _PVP_MONALM_C06
26062                            8331             .IMPORT _PVP_MONALM_C07
26063                            8332             .IMPORT _PVP_MONALM_C08
26064                            8333             .IMPORT _PVP_MONALM_A01
26065                            8334             .IMPORT _PVP_MONALM_A02
26066                            8335             .IMPORT _PVP_MONALM_A03
26067                            8336             .IMPORT _PVP_MONALM_A04
26068                            8337             .IMPORT _PVP_MONALM_A05
26069                            8338             .IMPORT _PVP_MONALM_A06
26070                            8339             .IMPORT _PVP_MONALM_A07
26071                            8340             .IMPORT _PVP_MONALM_A08
26072                            8341             .IMPORT _PVP_MONALM_B01
26073                            8342             .IMPORT _PVP_MONALM_B02
26074                            8343             .IMPORT _PVP_MONALM_B03
26075                            8344             .IMPORT _PVP_MONALM_B04
26076                            8345             .IMPORT _PVP_MONALM_B05
26077                            8346             .IMPORT _PVP_MONALM_B06
26078                            8347             .IMPORT _PVP_MONALM_B07
26079                            8348             .IMPORT _PVP_MONALM_B08
26080                            8349     
26081                            8350             .IMPORT _PVP_MONALM_P01
26082                            8351             .IMPORT _PVP_MONALM_P02
26083                            8352             .IMPORT _PVP_MONALM_P03
26084                            8353             .IMPORT _PVP_MONALM_P04
26085                            8354     
26086                            8355     ;       ***********************************
26087                            8356     ;       ***     NO.15 ERR情報           ***
26088                            8357     ;       ***********************************
26089                            8358     ;;;;;;;;;;;;;;;;;;;
26090                            8359     ;;;;;;;;;;;;;;;;;;;     .EXPORT _DBG_DISP_POS_LSI
26091                            8360     ;;;;;;;;;;;;;;;;;;;     .EXPORT _DBG_DISP_POS_LSI2
26092                            8361     ;;;;;;;;;;;;;;;;;;;     .ALIGN  4                               ;
26093                            8362     ;;;;;;;;;;;;;;;;;;;_DBG_DISP_POS_LSI:
26094                            8363     ;;;;;;;;;;;;;;;;;;;     SUB_START
26095                            8364     ;;;;;;;;;;;;;;;;;;;
26096                            8365     ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
26097                            8366     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_LSI_ACS_ERR_INF1,W         ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;SQ222
26098                            8367     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_CALC_ERR_INF1,W            ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;SQ222
26099                            8368     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_RETRY_CNT1,W        ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;ﾘｾｯﾄ失敗
26100                            8369     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_RETRY_CNT1,W        ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;ﾍﾞﾘﾌｧｲ
26101                            8370     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCMP_RETRY_CNT1,W        ,_PVP_MONALM_A05,W
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   360
PROGRAM NAME =

                                          ,R1,R2,R3;二重回路のﾘﾄﾗｲ
26102                            8371     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_NG_CNT1,L           ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;ﾘｾｯﾄｺﾏﾝﾄﾞ MISS
26103                            8372     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_NG_CNT2,L           ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;-500ﾊﾟﾙｽ
26104                            8373     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_NG_CNT3,L           ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;+500ﾊﾟﾙｽ
26105                            8374     ;;;;;;;;;;;;;;;;;;;
26106                            8375     ;;;;;;;;;;;;;;;;;;;
26107                            8376     ;;;;;;;;;;;;;;;;;;;;    =========== B01~B08 =======
26108                            8377     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSRD_NG_CNT1,W            ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3       ;
26109                            8378     ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
26110                            8379     ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B02         ,L1=W,DT_REG=R0,WK
                                          REG1=R1 ;
26111                            8380     ;;;;;;;;;;;;;;;;;;;
26112                            8381     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_NG_CNT2,L           ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;ﾘｾｯﾄ失敗　TOTAL
26113                            8382     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_NG_CNT1,L           ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;ﾍﾞﾘﾌｧｲ失敗 TOTAL
26114                            8383     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCMP_NG_CNT1,W           ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;二重回路 TOTAL
26115                            8384     ;;;;;;;;;;;;;;;;;;;
26116                            8385     ;;;;;;;;;;;;;;;;;;;
26117                            8386     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCLR_AC_CNT1,L           ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;起動正常回数
26118                            8387     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSSET_AC_CNT2,L           ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;残り演算正常回数
26119                            8388     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_PLSCMP_AC_CNT1,W           ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;回路正常回数
26120                            8389     ;;;;;;;;;;;;;;;;;;;;;   MEM_MOV_TO_MEM  _LSI_PLSSET_AC_CNT1,L           ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;(NO/USE)
26121                            8390     ;;;;;;;;;;;;;;;;;;;
26122                            8391     ;;;;;;;;;;;;;;;;;;;
26123                            8392     ;;;;;;;;;;;;;;;;;;;;    =========== C01~C08 =======
26124                            8393     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_LNGH_ADD_SR,L              ,_PVP_MONALM_C01,L
                                          ,R1,R2,R3;
26125                            8394     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_LNGH_ADD_SR,L              ,_PVP_MONALM_C02,L
                                          ,R1,R2,R3;
26126                            8395     ;;;;;;;;;;;;;;;;;;;
26127                            8396     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_REST_PLS_SR,L              ,_PVP_MONALM_C03,L
                                          ,R1,R2,R3;
26128                            8397     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_REST_PLS_SR,L              ,_PVP_MONALM_C04,L
                                          ,R1,R2,R3;
26129                            8398     ;;;;;;;;;;;;;;;;;;;
26130                            8399     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_REST_PLS_RL,L              ,_PVP_MONALM_C05,L
                                          ,R1,R2,R3;
26131                            8400     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_REST_PLS_RL,L              ,_PVP_MONALM_C06,L
                                          ,R1,R2,R3;
26132                            8401     ;;;;;;;;;;;;;;;;;;;
26133                            8402     ;;;;;;;;;;;;;;;;;;;
26134                            8403     ;;;;;;;;;;;;;;;;;;;;040304
26135                            8404     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_CMPCPUAB_POS_RL,L          ,_PVP_MONALM_C07,L
                                          ,R1,R2,R3       ;残りﾊﾟﾙｽの差,ABS
26136                            8405     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _LSI_CMPCPUAB_POSMAX,L          ,_PVP_MONALM_C08,L
                                          ,R1,R2,R3       ;残りﾊﾟﾙｽの差,+側だけ
26137                            8406     ;;;;;;;;;;;;;;;;;;;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   361
PROGRAM NAME =

26138                            8407     ;;;;;;;;;;;;;;;;;;;
26139                            8408     ;;;;;;;;;;;;;;;;;;;
26140                            8409     ;;;;;;;;;;;;;;;;;;;     SUB_END
26141                            8410     ;;;;;;;;;;;;;;;;;;;     M_RTS
26142                            8411     
26143                            8412     ;;;;;;;;;;;;;;;;;;;;    ***********************************
26144                            8413     ;;;;;;;;;;;;;;;;;;;;    ***     NO.16 ERR情報           ***
26145                            8414     ;;;;;;;;;;;;;;;;;;;;    ***********************************
26146                            8415     ;;;;;;;;;;;;;;;;;;;     .ALIGN  4                               ;
26147                            8416     ;;;;;;;;;;;;;;;;;;;_DBG_DISP_POS_LSI2:
26148                            8417     ;;;;;;;;;;;;;;;;;;;     SUB_START
26149                            8418     ;;;;;;;;;;;;;;;;;;;
26150                            8419     ;;;;;;;;;;;;;;;;;;;;;;  MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_CtrlReg,R1         ;
26151                            8420     ;;;;;;;;;;;;;;;;;;;;;;  MOV.W   @R1,R0                                          ;
26152                            8421     ;;;;;;;;;;;;;;;;;;;;;;  MOV.L   #_POS_CTRL_WORD_DAT,R1                          ;
26153                            8422     ;;;;;;;;;;;;;;;;;;;;;;  MOV.W   R0,@R1                                          ;
26154                            8423     ;;;;;;;;;;;;;;;;;;;
26155                            8424     ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
26156                            8425     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_CALC_ERR_INF1,W            ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;SQ222
26157                            8426     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _POS_CALC_ERR_INF2,W            ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;SQ222(詳細)
26158                            8427     ;;;;;;;;;;;;;;;;;;;
26159                            8428     ;;;;;;;;;;;;;;;;;;;;;;  MEM_MOV_TO_MEM  _POS_CTRL_WORD_DAT,W            ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
26160                            8429     ;;;;;;;;;;;;;;;;;;;
26161                            8430     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_ACC_TOTAL_NG_CNT,W        ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
26162                            8431     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_BAS_TOTAL_NG_CNT,W        ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
26163                            8432     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_TOP_TOTAL_NG_CNT,W        ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
26164                            8433     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_NOW_TOTAL_NG_CNT,W        ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;
26165                            8434     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CMP2_LAT_TOTAL_NG_CNT,W        ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;
26166                            8435     ;;;;;;;;;;;;;;;;;;;
26167                            8436     ;;;;;;;;;;;;;;;;;;;;    =========== B01~B08 =======
26168                            8437     ;;;;;;;;;;;;;;;;;;;
26169                            8438     ;;;;;;;;;;;;;;;;;;;
26170                            8439     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_PLSI_ACCS,W                ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
26171                            8440     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_PLSI_ACCS,W                ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
26172                            8441     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_PLSI_LATE,W                ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
26173                            8442     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_PLSI_LATE,W                ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
26174                            8443     ;;;;;;;;;;;;;;;;;;;
26175                            8444     ;;;;;;;;;;;;;;;;;;;;    =========== C01~C08 =======
26176                            8445     ;;;;;;;;;;;;;;;;;;;
26177                            8446     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_BAS_FRQ_SV,L               ,_PVP_MONALM_C01,L
                                          ,R1,R2,R3;
26178                            8447     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_BAS_FRQ_SV,L               ,_PVP_MONALM_C02,L
                                          ,R1,R2,R3;
26179                            8448     ;;;;;;;;;;;;;;;;;;;
26180                            8449     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_TOP_FRQ_SV,L               ,_PVP_MONALM_C03,L
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   362
PROGRAM NAME =

                                          ,R1,R2,R3;
26181                            8450     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_TOP_FRQ_SV,L               ,_PVP_MONALM_C04,L
                                          ,R1,R2,R3;
26182                            8451     ;;;;;;;;;;;;;;;;;;;
26183                            8452     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_NOW_FRQ_PV,L               ,_PVP_MONALM_C05,L
                                          ,R1,R2,R3;
26184                            8453     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_NOW_FRQ_PV,L               ,_PVP_MONALM_C06,L
                                          ,R1,R2,R3;
26185                            8454     ;;;;;;;;;;;;;;;;;;;
26186                            8455     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _FREQ_SV_SPD,L                  ,_PVP_MONALM_C07,L
                                          ,R1,R2,R3;設定周波数(MEM)
26187                            8456     ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _FREQ_PLSI_MAX_FRQ,L            ,_PVP_MONALM_C08,L
                                          ,R1,R2,R3;最大周波数
26188                            8457     ;;;;;;;;;;;;;;;;;;;
26189                            8458     ;;;;;;;;;;;;;;;;;;;
26190                            8459     ;;;;;;;;;;;;;;;;;;;
26191                            8460     ;;;;;;;;;;;;;;;;;;;     SUB_END
26192                            8461     ;;;;;;;;;;;;;;;;;;;     M_RTS
26193                            8462     ;;;;;;;;;;;;;;;;;;;
26194                            8463     ;;;;;;;;;;;;;;;;;;;
26195                            8464     ;;;;;;;;;;;;;;;;;;;
26196                            8465     ;       ***********************************
26197                            8466     ;       ***                             ***
26198                            8467     ;       ***     調査機能                ***
26199                            8468     ;       ***                             ***
26200                            8469     ;       ***********************************
26201                            8470     ;
26202                            8471     ;       === 2004-03-04===
26203                            8472     ;       EMG,EXQ
26204 000054A8                   8473             .ALIGN  4                               ;
26205 000054A8                   8474     _LSI_REST_PLS_CHK_STOP_CLR:
26206                            8475             SUB_START
26207 000054A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
26208                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26209                            8476     
26210                            8477     
26211 000054AA 200A              8478             XOR     R0,R0
26212                            8479             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSCMP_RETRY_CNT1  ,L1=W,DT_REG=R0,WKREG1=R1       ;
26213 000054AC D107                   M           MOV.L   #_LSI_PLSCMP_RETRY_CNT1,R1      ;DST_ADR
26214 000054AE 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26215                            8480     
26216                            8481             REG_MOV_TO_MEM  DST_ADR=_SH2_LOT_CNT_A          ,L1=W,DT_REG=R0,WKREG1=R1       ;
                                          上記のﾃﾞｰﾀ書き込み時の回転ロット数
26217 000054B0 D107                   M           MOV.L   #_SH2_LOT_CNT_A,R1      ;DST_ADR
26218 000054B2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26219                            8482             REG_MOV_TO_MEM  DST_ADR=_SH2_LOT_STEP_A ,L1=W,DT_REG=R0,WKREG1=R1       ;上記のﾃﾞｰ
                                          ﾀ書き込み時のｽﾃｯﾌﾟ数
26220 000054B4 D107                   M           MOV.L   #_SH2_LOT_STEP_A,R1     ;DST_ADR
26221 000054B6 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26222                            8483             REG_MOV_TO_MEM  DST_ADR=_SH2_REST_SR_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!起動時移動量
26223 000054B8 D107                   M           MOV.L   #_SH2_REST_SR_HF,R1     ;DST_ADR
26224 000054BA 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26225                            8484             REG_MOV_TO_MEM  DST_ADR=_SH2_REST_RL_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!残りﾊﾟﾙｽ
26226 000054BC D107                   M           MOV.L   #_SH2_REST_RL_HF,R1     ;DST_ADR
26227 000054BE 2101                   M           MOV.W   R0,@R1  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   363
PROGRAM NAME =

26228                            8485     
26229                            8486             REG_MOV_TO_MEM  DST_ADR=_CPUy_RESTPLS_LTFLG     ,L1=W,DT_REG=R0,WKREG1=R1       ;2
                                          004-04-12
26230 000054C0 D107                   M           MOV.L   #_CPUy_RESTPLS_LTFLG,R1 ;DST_ADR
26231 000054C2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26232                            8487     
26233                            8488             SUB_END
26234                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26235 000054C4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26236                            8489             M_RTS
26237 000054C6 000B                   M           RTS                             ;RTSの後ろの
26238 000054C8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26239                            8490     
26240                            8491     ;       === 2004-03-04===
26241                                     ***** BEGIN-POOL *****
26242 000054CA 0000                       ALIGNMENT CODE
26243 000054CC 00000000                   DATA FOR SOURCE-LINE 8479
26244 000054D0 00000000                   DATA FOR SOURCE-LINE 8481
26245 000054D4 00000000                   DATA FOR SOURCE-LINE 8482
26246 000054D8 00000000                   DATA FOR SOURCE-LINE 8483
26247 000054DC 00000000                   DATA FOR SOURCE-LINE 8484
26248 000054E0 00000000                   DATA FOR SOURCE-LINE 8486
26249                                     ***** END-POOL *****
26250 000054E4                   8492             .ALIGN  4                               ;
26251 000054E4                   8493     _LSI_REST_PLS_CHK_START_CLR:
26252                            8494             SUB_START
26253 000054E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
26254                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26255                            8495     
26256 000054E6 200A              8496             XOR     R0,R0
26257                            8497             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSCMP_AC_CNT1     ,L1=W,DT_REG=R0,WKREG1=R1       ;
                                          回路正常回数
26258 000054E8 D12F                   M           MOV.L   #_LSI_PLSCMP_AC_CNT1,R1 ;DST_ADR
26259 000054EA 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26260                            8498             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSSET_AC_CNT2     ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          残り演算正常回数
26261 000054EC D12F                   M           MOV.L   #_LSI_PLSSET_AC_CNT2,R1 ;DST_ADR
26262 000054EE 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26263                            8499     
26264                            8500             REG_MOV_TO_MEM  DST_ADR=_LSI_CMPCPUAB_POS_RL    ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          残りﾊﾟﾙｽの差,+/-
26265 000054F0 D12F                   M           MOV.L   #_LSI_CMPCPUAB_POS_RL,R1        ;DST_ADR
26266 000054F2 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26267                            8501             REG_MOV_TO_MEM  DST_ADR=_LSI_CMPCPUAB_POSMAX    ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          残りﾊﾟﾙｽの差 MAX
26268 000054F4 D12F                   M           MOV.L   #_LSI_CMPCPUAB_POSMAX,R1        ;DST_ADR
26269 000054F6 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26270                            8502     
26271                            8503     ;       ==== 上は表示を見やすくするため１サイクルデータにする====
26272                            8504     
26273 000054F8 200A              8505             XOR     R0,R0
26274                            8506             REG_MOV_TO_MEM  DST_ADR=_LSI_PLSCMP_RETRY_CNT1  ,L1=W,DT_REG=R0,WKREG1=R1       ;
26275 000054FA D12F                   M           MOV.L   #_LSI_PLSCMP_RETRY_CNT1,R1      ;DST_ADR
26276 000054FC 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26277                            8507     
26278 000054FE 200A              8508             XOR     R0,R0
26279                            8509             REG_MOV_TO_MEM  DST_ADR=_SH2_LOT_CNT_A          ,L1=W,DT_REG=R0,WKREG1=R1       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   364
PROGRAM NAME =

                                          上記のﾃﾞｰﾀ書き込み時の回転ロット数
26280 00005500 D12E                   M           MOV.L   #_SH2_LOT_CNT_A,R1      ;DST_ADR
26281 00005502 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26282                            8510             REG_MOV_TO_MEM  DST_ADR=_SH2_LOT_STEP_A ,L1=W,DT_REG=R0,WKREG1=R1       ;上記のﾃﾞｰ
                                          ﾀ書き込み時のｽﾃｯﾌﾟ数
26283 00005504 D12E                   M           MOV.L   #_SH2_LOT_STEP_A,R1     ;DST_ADR
26284 00005506 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26285                            8511             REG_MOV_TO_MEM  DST_ADR=_SH2_REST_SR_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!起動時移動量
26286 00005508 D12E                   M           MOV.L   #_SH2_REST_SR_HF,R1     ;DST_ADR
26287 0000550A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26288                            8512             REG_MOV_TO_MEM  DST_ADR=_SH2_REST_RL_HF ,L1=W,DT_REG=R0,WKREG1=R1       ;ﾊﾝﾄﾞｼｪｲｸﾌ
                                          ﾗｸﾞ SH4=>SH2 書いたぞ!残りﾊﾟﾙｽ
26289 0000550C D12E                   M           MOV.L   #_SH2_REST_RL_HF,R1     ;DST_ADR
26290 0000550E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26291                            8513     
26292                            8514             REG_MOV_TO_MEM  DST_ADR=_SH2_LNGH_ADD_SR        ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          安全一行程,一行程 起動時移動量
26293 00005510 D12E                   M           MOV.L   #_SH2_LNGH_ADD_SR,R1    ;DST_ADR
26294 00005512 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26295                            8515             REG_MOV_TO_MEM  DST_ADR=_SH2_REST_PLS_SR        ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          安全一行程,一行程 起動時残ﾊﾟﾙｽ
26296 00005514 D12E                   M           MOV.L   #_SH2_REST_PLS_SR,R1    ;DST_ADR
26297 00005516 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26298                            8516             REG_MOV_TO_MEM  DST_ADR=_SH2_REST_PLS_RL        ,L1=L,DT_REG=R0,WKREG1=R1       ;
                                          安全一行程,一行程 REAL-TIME残ﾊﾟﾙｽ
26299 00005518 D12E                   M           MOV.L   #_SH2_REST_PLS_RL,R1    ;DST_ADR
26300 0000551A 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26301                            8517     
26302 0000551C 200A              8518             XOR     R0,R0
26303                            8519             REG_MOV_TO_MEM  DST_ADR=_CMP2_BAS_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26304 0000551E D12E                   M           MOV.L   #_CMP2_BAS_NG_CNT,R1    ;DST_ADR
26305 00005520 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26306                            8520             REG_MOV_TO_MEM  DST_ADR=_CMP2_TOP_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26307 00005522 D12E                   M           MOV.L   #_CMP2_TOP_NG_CNT,R1    ;DST_ADR
26308 00005524 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26309                            8521             REG_MOV_TO_MEM  DST_ADR=_CMP2_LAT_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26310 00005526 D12E                   M           MOV.L   #_CMP2_LAT_NG_CNT,R1    ;DST_ADR
26311 00005528 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26312                            8522             REG_MOV_TO_MEM  DST_ADR=_CMP2_ACC_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26313 0000552A D12E                   M           MOV.L   #_CMP2_ACC_NG_CNT,R1    ;DST_ADR
26314 0000552C 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26315                            8523             REG_MOV_TO_MEM  DST_ADR=_CMP2_NOW_NG_CNT        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26316 0000552E D12E                   M           MOV.L   #_CMP2_NOW_NG_CNT,R1    ;DST_ADR
26317 00005530 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26318                            8524     
26319                            8525     
26320                            8526             FAR_JSR #_CNT_REST_CHK_CLR,R0           ;
26321 00005532 D02E                   M           MOV.L   #_CNT_REST_CHK_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26322 00005534 400B                   M           JSR     @R0                     ;
26323 00005536 0009                   M           NOP                                     ;
26324                            8527     
26325                            8528     ;       ======= 連続のチェック ======
26326 00005538 200A              8529             XOR     R0,R0
26327                            8530             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP1_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26328 0000553A D12D                   M           MOV.L   #_SH2_STEP1_SV_PLS,R1   ;DST_ADR
26329 0000553C 2102                   M           MOV.L   R0,@R1  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   365
PROGRAM NAME =

26330                            8531             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP2_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26331 0000553E D12D                   M           MOV.L   #_SH2_STEP2_SV_PLS,R1   ;DST_ADR
26332 00005540 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26333                            8532             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP3_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26334 00005542 D12D                   M           MOV.L   #_SH2_STEP3_SV_PLS,R1   ;DST_ADR
26335 00005544 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26336                            8533             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP4_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26337 00005546 D12D                   M           MOV.L   #_SH2_STEP4_SV_PLS,R1   ;DST_ADR
26338 00005548 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26339                            8534             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP5_SV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26340 0000554A D12D                   M           MOV.L   #_SH2_STEP5_SV_PLS,R1   ;DST_ADR
26341 0000554C 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26342                            8535             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP1_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          1->2の演算前の残り)
26343 0000554E D12D                   M           MOV.L   #_SH2_STEP1_REST_P,R1   ;DST_ADR
26344 00005550 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26345                            8536             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP2_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          2->3)
26346 00005552 D12D                   M           MOV.L   #_SH2_STEP2_REST_P,R1   ;DST_ADR
26347 00005554 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26348                            8537             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP3_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          3->1)
26349 00005556 D12D                   M           MOV.L   #_SH2_STEP3_REST_P,R1   ;DST_ADR
26350 00005558 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26351                            8538             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP4_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          3->1)
26352 0000555A D12D                   M           MOV.L   #_SH2_STEP4_REST_P,R1   ;DST_ADR
26353 0000555C 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26354                            8539             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP5_REST_P       ,L1=L,DT_REG=R0,WKREG1=R1       ;(
                                          3->1)
26355 0000555E D12D                   M           MOV.L   #_SH2_STEP5_REST_P,R1   ;DST_ADR
26356 00005560 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26357                            8540             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP1_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26358 00005562 D12D                   M           MOV.L   #_SH2_STEP1_PV_PLS,R1   ;DST_ADR
26359 00005564 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26360                            8541             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP2_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26361 00005566 D12D                   M           MOV.L   #_SH2_STEP2_PV_PLS,R1   ;DST_ADR
26362 00005568 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26363                            8542             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP3_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26364 0000556A D12D                   M           MOV.L   #_SH2_STEP3_PV_PLS,R1   ;DST_ADR
26365 0000556C 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26366                            8543             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP4_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26367 0000556E D12D                   M           MOV.L   #_SH2_STEP4_PV_PLS,R1   ;DST_ADR
26368 00005570 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26369                            8544             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP5_PV_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26370 00005572 D12D                   M           MOV.L   #_SH2_STEP5_PV_PLS,R1   ;DST_ADR
26371 00005574 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26372                            8545             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP1_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26373 00005576 D12D                   M           MOV.L   #_SH2_STEP1_FRQ,R1      ;DST_ADR
26374 00005578 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26375                            8546             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP2_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26376 0000557A D12D                   M           MOV.L   #_SH2_STEP2_FRQ,R1      ;DST_ADR
26377 0000557C 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26378                            8547             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP3_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26379 0000557E D12D                   M           MOV.L   #_SH2_STEP3_FRQ,R1      ;DST_ADR
26380 00005580 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26381                            8548             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP4_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   366
PROGRAM NAME =

26382 00005582 D12D                   M           MOV.L   #_SH2_STEP4_FRQ,R1      ;DST_ADR
26383 00005584 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26384                            8549             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP5_FRQ          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26385 00005586 D12D                   M           MOV.L   #_SH2_STEP5_FRQ,R1      ;DST_ADR
26386 00005588 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26387                            8550             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP1_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26388 0000558A D12D                   M           MOV.L   #_SH2_STEP1_TIM,R1      ;DST_ADR
26389 0000558C 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26390                            8551             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP2_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26391 0000558E D12D                   M           MOV.L   #_SH2_STEP2_TIM,R1      ;DST_ADR
26392 00005590 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26393                            8552             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP3_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26394 00005592 D12D                   M           MOV.L   #_SH2_STEP3_TIM,R1      ;DST_ADR
26395 00005594 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26396                            8553             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP4_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26397 00005596 D12D                   M           MOV.L   #_SH2_STEP4_TIM,R1      ;DST_ADR
26398 00005598 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26399                            8554             REG_MOV_TO_MEM  DST_ADR=_SH2_STEP5_TIM          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26400 0000559A D12D                   M           MOV.L   #_SH2_STEP5_TIM,R1      ;DST_ADR
26401 0000559C 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26402                            8555     
26403                            8556             REG_MOV_TO_MEM  DST_ADR=_CNT_GRF_POINT          ,L1=W,DT_REG=R0,WKREG1=R1       ;
26404 0000559E D12D                   M           MOV.L   #_CNT_GRF_POINT,R1      ;DST_ADR
26405 000055A0 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26406                            8557     
26407                            8558             SUB_END
26408                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26409 000055A2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26410                            8559             M_RTS
26411 000055A4 000B                   M           RTS                             ;RTSの後ろの
26412 000055A6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26413                            8560     
26414                            8561     ;       ***************************************************
26415                            8562     ;       ***                                             ***
26416                            8563     ;       ***             連続残りﾊﾟﾙｽ修正                ***
26417                            8564     ;       ***                                             ***
26418                            8565     ;       ***************************************************
26419                                     ***** BEGIN-POOL *****
26420 000055A8 00000000                   DATA FOR SOURCE-LINE 8497
26421 000055AC 00000000                   DATA FOR SOURCE-LINE 8498
26422 000055B0 00000000                   DATA FOR SOURCE-LINE 8500
26423 000055B4 00000000                   DATA FOR SOURCE-LINE 8501
26424 000055B8 00000000                   DATA FOR SOURCE-LINE 8506
26425 000055BC 00000000                   DATA FOR SOURCE-LINE 8509
26426 000055C0 00000000                   DATA FOR SOURCE-LINE 8510
26427 000055C4 00000000                   DATA FOR SOURCE-LINE 8511
26428 000055C8 00000000                   DATA FOR SOURCE-LINE 8512
26429 000055CC 00000000                   DATA FOR SOURCE-LINE 8514
26430 000055D0 00000000                   DATA FOR SOURCE-LINE 8515
26431 000055D4 00000000                   DATA FOR SOURCE-LINE 8516
26432 000055D8 00000000                   DATA FOR SOURCE-LINE 8519
26433 000055DC 00000000                   DATA FOR SOURCE-LINE 8520
26434 000055E0 00000000                   DATA FOR SOURCE-LINE 8521
26435 000055E4 00000000                   DATA FOR SOURCE-LINE 8522
26436 000055E8 00000000                   DATA FOR SOURCE-LINE 8523
26437 000055EC 00000000                   DATA FOR SOURCE-LINE 8526
26438 000055F0 00000000                   DATA FOR SOURCE-LINE 8530
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   367
PROGRAM NAME =

26439 000055F4 00000000                   DATA FOR SOURCE-LINE 8531
26440 000055F8 00000000                   DATA FOR SOURCE-LINE 8532
26441 000055FC 00000000                   DATA FOR SOURCE-LINE 8533
26442 00005600 00000000                   DATA FOR SOURCE-LINE 8534
26443 00005604 00000000                   DATA FOR SOURCE-LINE 8535
26444 00005608 00000000                   DATA FOR SOURCE-LINE 8536
26445 0000560C 00000000                   DATA FOR SOURCE-LINE 8537
26446 00005610 00000000                   DATA FOR SOURCE-LINE 8538
26447 00005614 00000000                   DATA FOR SOURCE-LINE 8539
26448 00005618 00000000                   DATA FOR SOURCE-LINE 8540
26449 0000561C 00000000                   DATA FOR SOURCE-LINE 8541
26450 00005620 00000000                   DATA FOR SOURCE-LINE 8542
26451 00005624 00000000                   DATA FOR SOURCE-LINE 8543
26452 00005628 00000000                   DATA FOR SOURCE-LINE 8544
26453 0000562C 00000000                   DATA FOR SOURCE-LINE 8545
26454 00005630 00000000                   DATA FOR SOURCE-LINE 8546
26455 00005634 00000000                   DATA FOR SOURCE-LINE 8547
26456 00005638 00000000                   DATA FOR SOURCE-LINE 8548
26457 0000563C 00000000                   DATA FOR SOURCE-LINE 8549
26458 00005640 00000000                   DATA FOR SOURCE-LINE 8550
26459 00005644 00000000                   DATA FOR SOURCE-LINE 8551
26460 00005648 00000000                   DATA FOR SOURCE-LINE 8552
26461 0000564C 00000000                   DATA FOR SOURCE-LINE 8553
26462 00005650 00000000                   DATA FOR SOURCE-LINE 8554
26463 00005654 00000000                   DATA FOR SOURCE-LINE 8556
26464                                     ***** END-POOL *****
26465 00005658                   8566             .ALIGN  4                               ;
26466 00005658                   8567     _CNT_REST_CHK_CLR:
26467                            8568             SUB_START
26468 00005658 4F22                   M           STS.L   PR,@-R15                ;[必要]
26469                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26470 0000565A 200A              8569             XOR     R0,R0
26471                            8570             REG_MOV_TO_MEM  DST_ADR=_SH2_CNT_REST_PLS       ,L1=L,DT_REG=R0,WKREG1=R1       ;
26472 0000565C D10C                   M           MOV.L   #_SH2_CNT_REST_PLS,R1   ;DST_ADR
26473 0000565E 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26474                            8571             REG_MOV_TO_MEM  DST_ADR=_SH2_CNT_REST_HF        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26475 00005660 D10C                   M           MOV.L   #_SH2_CNT_REST_HF,R1    ;DST_ADR
26476 00005662 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26477                            8572     
26478                            8573             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_DAT1      ,L1=L,DT_REG=R0,WKREG1=R1       ;
26479 00005664 D10C                   M           MOV.L   #_CNT_SYNC_HOS_DAT1,R1  ;DST_ADR
26480 00005666 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26481                            8574             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_DAT2      ,L1=L,DT_REG=R0,WKREG1=R1       ;
26482 00005668 D10C                   M           MOV.L   #_CNT_SYNC_HOS_DAT2,R1  ;DST_ADR
26483 0000566A 2102                   M           MOV.L   R0,@R1  ;DST_ADR
26484                            8575             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_FLAG      ,L1=W,DT_REG=R0,WKREG1=R1       ;
26485 0000566C D10C                   M           MOV.L   #_CNT_SYNC_HOS_FLAG,R1  ;DST_ADR
26486 0000566E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26487                            8576             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_CHK_CNT2      ,L1=W,DT_REG=R0,WKREG1=R1       ;
26488 00005670 D10C                   M           MOV.L   #_CNT_SYNC_CHK_CNT2,R1  ;DST_ADR
26489 00005672 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26490                            8577     
26491                            8578             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_STS_FLG       ,L1=W,DT_REG=R0,WKREG1=R1       ;
26492 00005674 D10C                   M           MOV.L   #_CNT_SYNC_STS_FLG,R1   ;DST_ADR
26493 00005676 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26494                            8579             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_ERR_FLG       ,L1=W,DT_REG=R0,WKREG1=R1       ;
26495 00005678 D10C                   M           MOV.L   #_CNT_SYNC_ERR_FLG,R1   ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   368
PROGRAM NAME =

26496 0000567A 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26497                            8580             REG_MOV_TO_MEM  DST_ADR=_CNT_PLSOUT_STOP_CNT    ,L1=W,DT_REG=R0,WKREG1=R1       ;
26498 0000567C D10C                   M           MOV.L   #_CNT_PLSOUT_STOP_CNT,R1        ;DST_ADR
26499 0000567E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26500                            8581             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_CNT1      ,L1=W,DT_REG=R0,WKREG1=R1       ;
26501 00005680 D10C                   M           MOV.L   #_CNT_SYNC_HOS_CNT1,R1  ;DST_ADR
26502 00005682 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26503                            8582             REG_MOV_TO_MEM  DST_ADR=_CPUy_RESTPLS_LTFLG     ,L1=W,DT_REG=R0,WKREG1=R1       ;2
                                          004-04-12
26504 00005684 D10C                   M           MOV.L   #_CPUy_RESTPLS_LTFLG,R1 ;DST_ADR
26505 00005686 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26506                            8583     
26507                            8584     
26508                            8585     
26509                            8586             SUB_END
26510                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26511 00005688 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26512                            8587             M_RTS
26513 0000568A 000B                   M           RTS                             ;RTSの後ろの
26514 0000568C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26515                            8588     
26516                            8589     
26517                            8590     
26518                            8591     
26519                            8592             .EXPORT _EXQ_STOP_LEV_POS_CLR           ;
26520                                     ***** BEGIN-POOL *****
26521 0000568E 0000                       ALIGNMENT CODE
26522 00005690 00000000                   DATA FOR SOURCE-LINE 8570
26523 00005694 00000000                   DATA FOR SOURCE-LINE 8571
26524 00005698 00000000                   DATA FOR SOURCE-LINE 8573
26525 0000569C 00000000                   DATA FOR SOURCE-LINE 8574
26526 000056A0 00000000                   DATA FOR SOURCE-LINE 8575
26527 000056A4 00000000                   DATA FOR SOURCE-LINE 8576
26528 000056A8 00000000                   DATA FOR SOURCE-LINE 8578
26529 000056AC 00000000                   DATA FOR SOURCE-LINE 8579
26530 000056B0 00000000                   DATA FOR SOURCE-LINE 8580
26531 000056B4 00000000                   DATA FOR SOURCE-LINE 8581
26532 000056B8 00000000                   DATA FOR SOURCE-LINE 8582
26533                                     ***** END-POOL *****
26534 000056BC                   8593             .ALIGN  4                               ;
26535 000056BC                   8594     _EXQ_STOP_LEV_POS_CLR:
26536                            8595             SUB_START
26537 000056BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
26538                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26539 000056BE 200A              8596             XOR     R0,R0
26540                            8597             REG_MOV_TO_MEM  DST_ADR=_SH2_CNT_REST_HF        ,L1=W,DT_REG=R0,WKREG1=R1       ;
26541 000056C0 D104                   M           MOV.L   #_SH2_CNT_REST_HF,R1    ;DST_ADR
26542 000056C2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26543                            8598             REG_MOV_TO_MEM  DST_ADR=_CNT_SYNC_HOS_FLAG      ,L1=W,DT_REG=R0,WKREG1=R1       ;
26544 000056C4 D104                   M           MOV.L   #_CNT_SYNC_HOS_FLAG,R1  ;DST_ADR
26545 000056C6 2101                   M           MOV.W   R0,@R1  ;DST_ADR
26546                            8599     
26547                            8600     ;       ===== 2005-04-14-E(4/18) ===
26548                            8601             FAR_JSR #_SGL_CMP_ERR_DT_CLR,R0
26549 000056C8 D004                   M           MOV.L   #_SGL_CMP_ERR_DT_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
26550 000056CA 400B                   M           JSR     @R0                     ;
26551 000056CC 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   369
PROGRAM NAME =

26552                            8602     
26553                            8603             SUB_END
26554                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26555 000056CE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26556                            8604             M_RTS
26557 000056D0 000B                   M           RTS                             ;RTSの後ろの
26558 000056D2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26559                            8605     
26560                            8606     ;       ***********************************
26561                            8607     ;       ***                             ***
26562                            8608     ;       ***     連続時の補正ﾃﾞｰﾀ        ***
26563                            8609     ;       ***     (CPU-Bのみ)             ***
26564                            8610     ;       ***********************************
26565                                     ***** BEGIN-POOL *****
26566 000056D4 00000000                   DATA FOR SOURCE-LINE 8597
26567 000056D8 00000000                   DATA FOR SOURCE-LINE 8598
26568 000056DC 00000000                   DATA FOR SOURCE-LINE 8601
26569                                     ***** END-POOL *****
26570 000056E0                   8611             .ALIGN  4                               ;
26571 000056E0                   8612     _CNT_HOS_DT_MAK:
26572                            8613             SUB_START
26573 000056E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
26574                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26575                            8614     ;       CCSのみCALL
26576                            8615             SUB_END
26577                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26578 000056E2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26579                            8616             M_RTS
26580 000056E4 000B                   M           RTS                             ;RTSの後ろの
26581 000056E6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26582                            8617     
26583                            8618     
26584                            8619     ;       ***************************
26585                            8620     ;       ***     修正機能        ***
26586                            8621     ;       ***************************
26587 000056E8                   8622             .ALIGN  4                               ;
26588 000056E8                   8623     _CNT_SYNC_HOS_CALC
26589                            8624             SUB_START
26590 000056E8 4F22                   M           STS.L   PR,@-R15                ;[必要]
26591                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26592                            8625     ;       CCSのみCALL
26593                            8626             SUB_END
26594                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26595 000056EA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26596                            8627             M_RTS
26597 000056EC 000B                   M           RTS                             ;RTSの後ろの
26598 000056EE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26599                            8628     
26600                            8629     
26601                            8630     
26602                            8631     
26603                            8632     ;       ***************************************************
26604                            8633     ;       ***                                             ***
26605                            8634     ;       ***     回転・連続・ALLVﾓｰﾄﾞ時の減速補正        ***
26606                            8635     ;       ***                                             ***
26607                            8636     ;       ***************************************************
26608                            8637     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   370
PROGRAM NAME =

26609                            8638     ;       ***************************************************
26610                            8639     ;       ***     急停止・異常時                          ***
26611                            8640     ;       ***************************************************
26612                            8641             .EXPORT _GPOSIN_HOS_RESET
26613 000056F0                   8642             .ALIGN  4                               ;
26614 000056F0                   8643     _GPOSIN_HOS_RESET:
26615                            8644             SUB_START
26616 000056F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
26617                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26618                            8645             SUB_END
26619                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26620 000056F2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26621                            8646             M_RTS
26622 000056F4 000B                   M           RTS                             ;RTSの後ろの
26623 000056F6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26624                            8647     
26625                            8648     ;       ***************************************************
26626                            8649     ;       ***     運転開始時                              ***
26627                            8650     ;       ***************************************************
26628 000056F8                   8651             .ALIGN  4                               ;
26629 000056F8                   8652     _GPOSIN_HOS_DRV_INI:
26630                            8653             SUB_START
26631 000056F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
26632                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26633                            8654             SUB_END
26634                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26635 000056FA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26636                            8655             M_RTS
26637 000056FC 000B                   M           RTS                             ;RTSの後ろの
26638 000056FE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26639                            8656     
26640                            8657     
26641                            8658     ;       ***********************************
26642                            8659     ;       ***     演算                    ***
26643                            8660     ;       ***********************************
26644                            8661     ;       (1)減速距離+5を基準値とする
26645                            8662     ;       (2)+1/-1以内になるまで補正する
26646                            8663     ;       (3)記憶値から100ﾊﾟﾙｽ以上離れたら再度記憶しなおす
26647 00005700                   8664             .ALIGN  4                               ;
26648 00005700                   8665     _GPOINT_HOS_CALC:
26649                            8666             SUB_START
26650 00005700 4F22                   M           STS.L   PR,@-R15                ;[必要]
26651                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26652                            8667             SUB_END
26653                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26654 00005702 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26655                            8668             M_RTS
26656 00005704 000B                   M           RTS                             ;RTSの後ろの
26657 00005706 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26658                            8669     
26659                            8670     
26660                            8671     
26661                            8672     
26662                            8673     
26663                            8674     
26664                            8675             .EXPORT _DEBUG_SIGNAL_OFF
26665 00005708                   8676             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   371
PROGRAM NAME =

26666 00005708                   8677     _DEBUG_SIGNAL_OFF:
26667                            8678             SUB_START
26668 00005708 4F22                   M           STS.L   PR,@-R15                ;[必要]
26669                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26670                            8679             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT2                ;VERIFAY ERR(OFFない)
26671                                 M   
26672                                 M           .AIF    1 EQ    0
26673                                     ;;      (波形測定時)
26674                                             PUSH_REG1 R0
26675                                             PUSH_REG1 R1
26676                                             PUSH_REG1 R2
26677                                             MOV.L   #_PDTRA,R1                      ;
26678                                             MOV.W   @R1,R0                          ;
26679                                             MOV.W   #LWORD ~BIT2,R2         ;
26680                                             AND     R2,R0                           ;
26681                                             MOV.W   R0,@R1                          ;
26682                                             POP_REG1 R2
26683                                             POP_REG1 R1
26684                                             POP_REG1 R0
26685                                             .AENDI
26686                                 M   
26687                            8680             DEBUG_LSI_ACS_OF2_BIT BITDT=BIT6                ;RETRY ERR
26688                                 M   
26689                                 M           .AIF    1 EQ    0
26690                                     ;;      (波形測定時)
26691                                             PUSH_REG1 R0
26692                                             PUSH_REG1 R1
26693                                             PUSH_REG1 R2
26694                                             MOV.L   #_PDTRA,R1                      ;
26695                                             MOV.W   @R1,R0                          ;
26696                                             MOV.W   #LWORD ~BIT6,R2         ;
26697                                             AND     R2,R0                           ;
26698                                             MOV.W   R0,@R1                          ;
26699                                             POP_REG1 R2
26700                                             POP_REG1 R1
26701                                             POP_REG1 R0
26702                                             .AENDI
26703                                 M   
26704                            8681             SUB_END
26705                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26706 0000570A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26707                            8682             M_RTS
26708 0000570C 000B                   M           RTS                             ;RTSの後ろの
26709 0000570E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26710                            8683     
26711                            8684     ;       ***************************************************************************
26712                            8685     ;       ***                                                                     ***
26713                            8686     ;       ***     工程を自分が切り替えた時点の自分のデータと相手のデータを収集    ***
26714                            8687     ;       ***     モニタ専用                                                      ***
26715                            8688     ;       ***************************************************************************
26716          000000C8          8689     _CNT_GRF_MAX            .EQU    200     ;MAX 500
26717                            8690     
26718          00000040          8691     _CNT_GRF_1BLOCK         .EQU    64              ;64byte
26719          00000000          8692     _CGRF_iSTEP_SV_PLS              .EQU    0
26720          00000004          8693     _CGRF_iSTEP_PV_PLS              .EQU    4
26721          00000008          8694     _CGRF_iSTEP_REST                .EQU    8
26722          0000000C          8695     _CGRF_iTOTAL_PLS                .EQU    12
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   372
PROGRAM NAME =

26723          00000010          8696     _CGRF_iADD_PLS                  .EQU    16
26724          00000014          8697     _CGRF_GENSOK_LNG1               .EQU    20
26725          00000018          8698     _CGRF_iSTEP_FRQ                 .EQU    24
26726          0000001A          8699     _CGRF_iSTEP_TIM                 .EQU    26
26727          0000001C          8700     _CGRF_iNOW_STEP                 .EQU    28
26728          0000001E          8701     _CGRF_SYNC_STS                  .EQU    30
26729          00000020          8702     _CGRF_SYNC_ERR                  .EQU    32
26730                            8703     
26731          00000024          8704     _CGRF_ySTEP_SV_PLS              .EQU    36
26732          00000028          8705     _CGRF_ySTEP_PV_PLS              .EQU    40
26733          0000002C          8706     _CGRF_ySTEP_REST                .EQU    44
26734          00000030          8707     _CGRF_yTOTAL_PLS                .EQU    48
26735          00000034          8708     _CGRF_yADD_PLS                  .EQU    52
26736          00000038          8709     _CGRF_ySTEP_FRQ                 .EQU    56
26737          0000003C          8710     _CGRF_ySTEP_TIM                 .EQU    60
26738          0000003E          8711     _CGRF_yNOW_STEP                 .EQU    62
26739                            8712     
26740                            8713     
26741                            8714             .MACRO  MEM_MOV2B_GBR   MEM,GBROFS,WKREG1
26742                            8715             MOV.L   #\MEM,\WKREG1           ;
26743                            8716             MOV.W   @\WKREG1,R0             ;
26744                            8717             MOV.W   R0,@(\GBROFS,GBR)       ;
26745                            8718             .ENDM
26746                            8719     
26747                            8720             .MACRO  MEM_MOV4B_GBR   MEM,GBROFS,WKREG1
26748                            8721             MOV.L   #\MEM,\WKREG1           ;
26749                            8722             MOV.W   @\WKREG1+,R0            ;
26750                            8723             MOV.W   R0,@(\GBROFS,GBR)       ;
26751                            8724             MOV.W   @\WKREG1,R0             ;
26752                            8725             MOV.W   R0,@(\GBROFS+2,GBR)     ;
26753                            8726             .ENDM
26754                            8727     
26755                            8728             .MACRO  GBR_MOV2B_MEM   MEM,GBROFS,WKREG1
26756                            8729             MOV.W   @(\GBROFS,GBR),R0       ;
26757                            8730             MOV.L   #\MEM,\WKREG1           ;
26758                            8731             MOV.W   R0,@\WKREG1             ;
26759                            8732             .ENDM
26760                            8733     
26761                            8734             .MACRO  GBR_MOV4B_MEM   MEM,GBROFS,WKREG1
26762                            8735             MOV.W   @(\GBROFS,GBR),R0       ;
26763                            8736             MOV.L   #\MEM,\WKREG1           ;
26764                            8737             MOV.W   R0,@\WKREG1             ;
26765                            8738             MOV.W   @(\GBROFS+2,GBR),R0     ;
26766                            8739             ADD     #2,\WKREG1              ;
26767                            8740             MOV.W   R0,@\WKREG1             ;
26768                            8741             .ENDM
26769                            8742             .MACRO  GBR_MOV4B_MEM_ALMT      MEM,GBROFS,WKREG1,WKREG2
26770                            8743             MOV.W   @(\GBROFS,GBR),R0       ;
26771                            8744             MOV.W   #H'3FF,\WKREG2          ;
26772                            8745             AND     \WKREG2,R0              ;
26773                            8746     
26774                            8747             MOV.L   #\MEM,\WKREG1           ;
26775                            8748             MOV.W   R0,@\WKREG1             ;
26776                            8749             MOV.W   @(\GBROFS+2,GBR),R0     ;
26777                            8750             ADD     #2,\WKREG1              ;
26778                            8751             MOV.W   R0,@\WKREG1             ;
26779                            8752             .ENDM
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   373
PROGRAM NAME =

26780                            8753     
26781                            8754     ;       ===== EMG にも呼ばれる======
26782                            8755             .EXPORT _DATA_GRF_CNT_DATA_MAKE
26783 00005710                   8756             .ALIGN  4                               ;
26784 00005710                   8757     _DATA_GRF_CNT_DATA_MAKE:
26785                            8758             SUB_START
26786 00005710 4F22                   M           STS.L   PR,@-R15                ;[必要]
26787                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26788                            8759             SUB_END
26789                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26790 00005712 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26791                            8760             M_RTS
26792 00005714 000B                   M           RTS                             ;RTSの後ろの
26793 00005716 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26794                            8761     
26795                            8762     
26796                            8763             .INCLUDE "ssa_disp.inc"         ;ﾃﾞﾊﾞｯｸﾓﾆﾀ
26797                               1 I1  ;       *******************************************
26798                               2 I1  ;       ***                                     ***
26799                               3 I1  ;       ***                                     ***
26800                               4 I1  ;       ***                                     ***
26801                               5 I1  ;       ***                                     ***
26802                               6 I1  ;       ***                                     ***
26803                               7 I1  ;       ***                                     ***
26804                               8 I1  ;       *******************************************
26805                               9 I1  ;       debug-monitor
26806                              10 I1  ;       ***********************************
26807                              11 I1  ;       ***     表示機能                ***
26808                              12 I1  ;       ***********************************
26809                              13 I1          .EXPORT _MONI_CNT_NOW_INFO_DISP         ;17
26810                              14 I1          .EXPORT _MONI_CNT_HIST_INFO_DISP        ;18
26811                              15 I1  ;       ***********************************
26812                              16 I1  ;       ***     現在値モニタ            ***
26813                              17 I1  ;       ***********************************
26814                              18 I1  ;       ***********************************
26815                              19 I1  ;       ***     NO.17                   ***
26816                              20 I1  ;       ***********************************
26817                              21 I1  
26818                              22 I1  ;       Inout R2 S02 (頁)
26819                              23 I1  ;       Input R3 S03 (詳細)
26820                              24 I1  ;
26821 00005718                     25 I1  _MONI_CNT_NOW_INFO_DISP
26822                              26 I1          SUB_START
26823 00005718 4F22                   M           STS.L   PR,@-R15                ;[必要]
26824                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26825                              27 I1  ;;;;;;;;;;;;;;;;;;;     MOV     R3,R0                           ;
26826                              28 I1  ;;;;;;;;;;;;;;;;;;;     CMP/EQ  #00,R0                          ;
26827                              29 I1  ;;;;;;;;;;;;;;;;;;;     BF      MONI_CNT_NOW_INFO_DSP_010       ;
26828                              30 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP1,R0     ;17-00
26829                              31 I1  ;;;;;;;;;;;;;;;;;;;     M_BRA   MONI_CNT_NOW_INFO_DSP_EXT       ;
26830                              32 I1  ;;;;;;;;;;;;;;;;;;;
26831                              33 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_010                    ;
26832                              34 I1  ;;;;;;;;;;;;;;;;;;;     CMP/EQ  #01,R0                          ;
26833                              35 I1  ;;;;;;;;;;;;;;;;;;;     BF      MONI_CNT_NOW_INFO_DSP_020
26834                              36 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP2,R0     ;17-1
26835                              37 I1  ;;;;;;;;;;;;;;;;;;;     M_BRA   MONI_CNT_NOW_INFO_DSP_EXT       ;
26836                              38 I1  ;;;;;;;;;;;;;;;;;;;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   374
PROGRAM NAME =

26837                              39 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_020                    ;
26838                              40 I1  ;;;;;;;;;;;;;;;;;;;     CMP/EQ  #02,R0                          ;
26839                              41 I1  ;;;;;;;;;;;;;;;;;;;     BF      MONI_CNT_NOW_INFO_DSP_030
26840                              42 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP3,R0     ;17-2
26841                              43 I1  ;;;;;;;;;;;;;;;;;;;     M_BRA   MONI_CNT_NOW_INFO_DSP_EXT       ;
26842                              44 I1  ;;;;;;;;;;;;;;;;;;;
26843                              45 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_030
26844                              46 I1  ;;;;;;;;;;;;;;;;;;;     FAR_JSR #_MONI_CNT_NOW_INFO_DSP4,R0     ;17-3
26845                              47 I1  ;;;;;;;;;;;;;;;;;;;MONI_CNT_NOW_INFO_DSP_EXT                    ;
26846                              48 I1  
26847                              49 I1          SUB_END
26848                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26849 0000571A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26850                              50 I1          M_RTS
26851 0000571C 000B                   M           RTS                             ;RTSの後ろの
26852 0000571E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26853                              51 I1  
26854                              52 I1  ;       ***********************************
26855                              53 I1  ;       ***                             ***
26856                              54 I1  ;       ***     現在値モニタ            ***
26857                              55 I1  ;       ***     17-0-0-1/2              ***
26858                              56 I1  ;       ***                             ***
26859                              57 I1  ;       ***********************************
26860                              58 I1  ;       ====== 17-0 =====
26861 00005720                     59 I1  _MONI_CNT_NOW_INFO_DSP1
26862                              60 I1          SUB_START
26863 00005720 4F22                   M           STS.L   PR,@-R15                ;[必要]
26864                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26865                              61 I1  ;;;;;;;;;;;;;;;;;;;;;   DATA_STD_SHN_MOV        SRC=_PV_POWER_ON_CNT,L1=W,DST=_PVP_MONALM_
                                          P01,L2=W
26866                              62 I1  ;;;;;;;;;;;;;;;;;;;;;   DATA_STD_SHN_MOV        SRC=_PV_CB_STS_POINT,L1=W,DST=_PVP_MONALM_
                                          P02,L2=W
26867                              63 I1  ;;;;;;;;;;;;;;;;;;;
26868                              64 I1  ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08(同じことを確認) =======
26869                              65 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_FRQ          ,W      ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;
26870                              66 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP2_FRQ          ,W      ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;
26871                              67 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP3_FRQ          ,W      ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
26872                              68 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_FRQ          ,W      ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
26873                              69 I1  ;;;;;;;;;;;;;;;;;;;
26874                              70 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_FRQ          ,W      ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
26875                              71 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP2_FRQ          ,W      ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
26876                              72 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP3_FRQ          ,W      ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;
26877                              73 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_FRQ          ,W      ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;
26878                              74 I1  ;;;;;;;;;;;;;;;;;;;
26879                              75 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_TIM          ,W      ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3;
26880                              76 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP2_TIM          ,W      ,_PVP_MONALM_B02,W
                                          ,R1,R2,R3;
26881                              77 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP3_TIM          ,W      ,_PVP_MONALM_B03,W
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   375
PROGRAM NAME =

                                          ,R1,R2,R3;
26882                              78 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_TIM          ,W      ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;
26883                              79 I1  ;;;;;;;;;;;;;;;;;;;
26884                              80 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_TIM          ,W      ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
26885                              81 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP2_TIM          ,W      ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
26886                              82 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP3_TIM          ,W      ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
26887                              83 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_TIM          ,W      ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
26888                              84 I1  ;;;;;;;;;;;;;;;;;;;
26889                              85 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP1_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C01,L,R1,R2,R3,H'3FFFFFF;
26890                              86 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP2_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C02,L,R1,R2,R3,H'3FFFFFF;
26891                              87 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP3_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C03,L,R1,R2,R3,H'3FFFFFF;
26892                              88 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP4_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C04,L,R1,R2,R3,H'3FFFFFF;
26893                              89 I1  ;;;;;;;;;;;;;;;;;;;
26894                              90 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP1_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C05,L,R1,R2,R3,H'3FFFFFF;
26895                              91 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP2_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C06,L,R1,R2,R3,H'3FFFFFF;
26896                              92 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP3_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C07,L,R1,R2,R3,H'3FFFFFF;
26897                              93 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP4_PV_PLS       ,L      ,_PVP_MONA
                                          LM_C08,L,R1,R2,R3,H'3FFFFFF;
26898                              94 I1  
26899                              95 I1  
26900                              96 I1          SUB_END
26901                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26902 00005722 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26903                              97 I1          M_RTS
26904 00005724 000B                   M           RTS                             ;RTSの後ろの
26905 00005726 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
26906                              98 I1  
26907                              99 I1  ;       ***********************************
26908                             100 I1  ;       ***                             ***
26909                             101 I1  ;       ***     現在値モニタ            ***
26910                             102 I1  ;       ***     17-0-1-1/2              ***
26911                             103 I1  ;       ***                             ***
26912                             104 I1  ;       ***********************************
26913                             105 I1  ;       ====== 17-1 =====
26914 00005728                    106 I1  _MONI_CNT_NOW_INFO_DSP2
26915                             107 I1          SUB_START
26916 00005728 4F22                   M           STS.L   PR,@-R15                ;[必要]
26917                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26918                             108 I1  ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
26919                             109 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_SV_PLS+0     ,W      ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;
26920                             110 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP1_SV_PLS+2     ,W      ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;
26921                             111 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_SV_PLS+0     ,W      ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   376
PROGRAM NAME =

26922                             112 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_STEP4_SV_PLS+2     ,W      ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
26923                             113 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_SV_PLS+0     ,W      ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
26924                             114 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP1_SV_PLS+2     ,W      ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
26925                             115 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_SV_PLS+0     ,W      ,_PVP_MONALM_A07,W
                                          ,R1,R2,R3;
26926                             116 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_STEP4_SV_PLS+2     ,W      ,_PVP_MONALM_A08,W
                                          ,R1,R2,R3;
26927                             117 I1  ;;;;;;;;;;;;;;;;;;;
26928                             118 I1  ;;;;;;;;;;;;;;;;;;;
26929                             119 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_A_LOT_CNT3         ,W      ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3;
26930                             120 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_B_LOT_CNT3         ,W      ,_PVP_MONALM_B02,W
                                          ,R1,R2,R3;
26931                             121 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_FLAG      ,W      ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;
26932                             122 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT1      ,W      ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;
26933                             123 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT2      ,W      ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
26934                             124 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT1      ,L      ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
26935                             125 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_CNT_REST_PLS       ,L      ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
26936                             126 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_CNT_REST_PLS       ,L      ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
26937                             127 I1  ;;;;;;;;;;;;;;;;;;;
26938                             128 I1  ;;;;;;;;;;;;;;;;;;;
26939                             129 I1  ;;;;;;;;;;;;;;;;;;;;    ===========================<<<偏差>>>===========
26940                             130 I1  ;;;;;;;;;;;;;;;;;;;
26941                             131 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _HENSA_OVER_MOVE_CNT            ,L      ,_
                                          PVP_MONALM_C01,L,R1,R2,R3,H'3FFFFFF;
26942                             132 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _POSLSI_OUTPUT_TOTAL_PLS+4      ,L      ,_
                                          PVP_MONALM_C02,L,R1,R2,R3,H'3FFFFFF;
26943                             133 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _POSLSI_HENSA_LATCH+4           ,L      ,_
                                          PVP_MONALM_C03,L,R1,R2,R3,H'3FFFFFF;
26944                             134 I1  ;;;;;;;;;;;;;;;;;;;
26945                             135 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SV_CONST_SUB_PV                ,L      ,_
                                          PVP_MONALM_C04,L,R1,R2,R3,H'3FFFFFF;
26946                             136 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SV_REAL_SUB_PV                 ,L      ,_
                                          PVP_MONALM_C05,L,R1,R2,R3,H'3FFFFFF;
26947                             137 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SV_REAL_PLS                    ,L      ,_
                                          PVP_MONALM_C06,L,R1,R2,R3,H'3FFFFFF;
26948                             138 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _LINK_SV_OBJ_ABSPLS+4           ,L      ,_
                                          PVP_MONALM_C07,L,R1,R2,R3,H'3FFFFFF;
26949                             139 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _LINK_PV_ABSPLS+4       ,L      ,_PVP_MONA
                                          LM_C08,L,R1,R2,R3,H'3FFFFFF;
26950                             140 I1  ;;;;;;;;;;;;;;;;;;;
26951                             141 I1  ;;;;;;;;;;;;;;;;;;;
26952                             142 I1          SUB_END
26953                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
26954 0000572A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
26955                             143 I1          M_RTS
26956 0000572C 000B                   M           RTS                             ;RTSの後ろの
26957 0000572E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   377
PROGRAM NAME =

26958                             144 I1  
26959                             145 I1  
26960                             146 I1  ;       ***********************************
26961                             147 I1  ;       ***                             ***
26962                             148 I1  ;       ***     現在値モニタ            ***
26963                             149 I1  ;       ***     17-0-2-1/2              ***
26964                             150 I1  ;       ***                             ***
26965                             151 I1  ;       ***********************************
26966                             152 I1  ;       ====== 17-2 =====
26967 00005730                    153 I1  _MONI_CNT_NOW_INFO_DSP3
26968                             154 I1          SUB_START
26969 00005730 4F22                   M           STS.L   PR,@-R15                ;[必要]
26970                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
26971                             155 I1  ;;;;;;;;;;;;;;;;;;;;    =========== A01~A08 =======
26972                             156 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_NOW_STEP           ,W      ,_PVP_MONALM_A01,W
                                          ,R1,R2,R3;
26973                             157 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_NOW_STEP           ,W      ,_PVP_MONALM_A02,W
                                          ,R1,R2,R3;
26974                             158 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _INT_POS_CTL_STEP       ,W      ,_PVP_MONALM_A03,W
                                          ,R1,R2,R3;
26975                             159 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SV_POS_CTL_STEP        ,W      ,_PVP_MONALM_A04,W
                                          ,R1,R2,R3;
26976                             160 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_PLSOUT_STOP_CNT    ,W      ,_PVP_MONALM_A05,W
                                          ,R1,R2,R3;
26977                             161 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_CNT1      ,W      ,_PVP_MONALM_A06,W
                                          ,R1,R2,R3;
26978                             162 I1  ;;;;;;;;;;;;;;;;;;;
26979                             163 I1  ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
26980                             164 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A07 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26981                             165 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A08 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
26982                             166 I1  ;;;;;;;;;;;;;;;;;;;
26983                             167 I1  ;;;;;;;;;;;;;;;;;;;
26984                             168 I1  ;;;;;;;;;;;;;;;;;;;
26985                             169 I1  ;;;;;;;;;;;;;;;;;;;;    ======================================
26986                             170 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_A_LOT_CNT3         ,W      ,_PVP_MONALM_B01,W
                                          ,R1,R2,R3;
26987                             171 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _PVP_B_LOT_CNT3         ,W      ,_PVP_MONALM_B02,W
                                          ,R1,R2,R3;
26988                             172 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT1      ,W      ,_PVP_MONALM_B03,W
                                          ,R1,R2,R3;
26989                             173 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT2      ,W      ,_PVP_MONALM_B04,W
                                          ,R1,R2,R3;
26990                             174 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT1      ,L      ,_PVP_MONALM_B05,W
                                          ,R1,R2,R3;
26991                             175 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT2      ,L      ,_PVP_MONALM_B06,W
                                          ,R1,R2,R3;
26992                             176 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH2_CNT_REST_PLS       ,L      ,_PVP_MONALM_B07,W
                                          ,R1,R2,R3;
26993                             177 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _SH4_CNT_REST_PLS       ,L      ,_PVP_MONALM_B08,W
                                          ,R1,R2,R3;
26994                             178 I1  ;;;;;;;;;;;;;;;;;;;
26995                             179 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP1_REST_P       ,L      ,_PVP_MONA
                                          LM_C01,L,R1,R2,R3,H'3FFFFFF;
26996                             180 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP2_REST_P       ,L      ,_PVP_MONA
                                          LM_C02,L,R1,R2,R3,H'3FFFFFF;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   378
PROGRAM NAME =

26997                             181 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP3_REST_P       ,L      ,_PVP_MONA
                                          LM_C03,L,R1,R2,R3,H'3FFFFFF;
26998                             182 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH2_STEP4_REST_P       ,L      ,_PVP_MONA
                                          LM_C04,L,R1,R2,R3,H'3FFFFFF;
26999                             183 I1  ;;;;;;;;;;;;;;;;;;;
27000                             184 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP1_REST_P       ,L      ,_PVP_MONA
                                          LM_C05,L,R1,R2,R3,H'3FFFFFF;
27001                             185 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP2_REST_P       ,L      ,_PVP_MONA
                                          LM_C06,L,R1,R2,R3,H'3FFFFFF;
27002                             186 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP3_REST_P       ,L      ,_PVP_MONA
                                          LM_C07,L,R1,R2,R3,H'3FFFFFF;
27003                             187 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM_ALMT     _SH4_STEP4_REST_P       ,L      ,_PVP_MONA
                                          LM_C08,L,R1,R2,R3,H'3FFFFFF;
27004                             188 I1  ;;;;;;;;;;;;;;;;;;;
27005                             189 I1  ;;;;;;;;;;;;;;;;;;;
27006                             190 I1  
27007                             191 I1          SUB_END
27008                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27009 00005732 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27010                             192 I1          M_RTS
27011 00005734 000B                   M           RTS                             ;RTSの後ろの
27012 00005736 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27013                             193 I1  
27014                             194 I1  ;       ***********************************
27015                             195 I1  ;       ***                             ***
27016                             196 I1  ;       ***     現在値モニタ            ***
27017                             197 I1  ;       ***     17-0-3-1/2              ***
27018                             198 I1  ;       ***                             ***
27019                             199 I1  ;       ***********************************
27020          00000000           200 I1  _SH4_4B         .EQU    0
27021          00000004           201 I1  _SH2_4B         .EQU    4
27022          00000000           202 I1  _SH4_8B         .EQU    0
27023          00000008           203 I1  _SH2_8B         .EQU    8
27024                             204 I1  
27025                             205 I1  
27026                             206 I1  ;       ====== 17-3 =====
27027 00005738                    207 I1  _MONI_CNT_NOW_INFO_DSP4
27028                             208 I1          SUB_START
27029 00005738 4F22                   M           STS.L   PR,@-R15                ;[必要]
27030                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27031                             209 I1  
27032                             210 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_REST_SPD_HOSEI_FLG,W,_PVP_MONALM_A01,W,R1,R2,
                                          R3      ;
27033                             211 I1  ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
27034                             212 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A02 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27035                             213 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A03 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27036                             214 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A04 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27037                             215 I1  ;;;;;;;;;;;;;;;;;;;
27038                             216 I1  ;;;;;;;;;;;;;;;;;;;
27039                             217 I1  ;;;;;;;;;;;;;;;;;;;;    -------------------------- HENSAﾃﾞｰﾀ---------
27040                             218 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_MONI_CPUAB_PLSDELT,R1
27041                             219 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @(0,R1),R5
                                          ;
27042                             220 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @(4,R1),R6
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   379
PROGRAM NAME =

                                          ;
27043                             221 I1  ;;;;;;;;;;;;;;;;;;;     MOV     R5,R0
                                          ;
27044                             222 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A05 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;H
27045                             223 I1  ;;;;;;;;;;;;;;;;;;;     SHLR16  R0
                                          ;
27046                             224 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A06 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;L
27047                             225 I1  ;;;;;;;;;;;;;;;;;;;     MOV     R6,R0
27048                             226 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A07 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27049                             227 I1  ;;;;;;;;;;;;;;;;;;;     SHLR16  R0
                                          ;
27050                             228 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_A08 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27051                             229 I1  ;;;;;;;;;;;;;;;;;;;
27052                             230 I1  ;;;;;;;;;;;;;;;;;;;
27053                             231 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_LSIFREQ+_SH4_4B,R4
                                          ;CPUA
27054                             232 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0
                                          ;
27055                             233 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B01 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27056                             234 I1  ;;;;;;;;;;;;;;;;;;;
27057                             235 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_LSIFREQ+_SH2_4B,R4
                                          ;CPU
27058                             236 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0
                                          ;
27059                             237 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B02 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27060                             238 I1  ;;;;;;;;;;;;;;;;;;;
27061                             239 I1  ;;;;;;;;;;;;;;;;;;;
27062                             240 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_CAL_REST+_SH4_4B,R4
                                          ;
27063                             241 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0
                                          ;
27064                             242 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B03 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27065                             243 I1  ;;;;;;;;;;;;;;;;;;;
27066                             244 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_CAL_REST+_SH2_4B,R4
                                          ;
27067                             245 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0
                                          ;
27068                             246 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B04 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27069                             247 I1  ;;;;;;;;;;;;;;;;;;;
27070                             248 I1  ;;;;;;;;;;;;;;;;;;;     XOR     R0,R0
27071                             249 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_B05 ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27072                             250 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_CHK_CNT2,W,_PVP_MONALM_B06,W,R1,R2,R3;
27073                             251 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT1,L,_PVP_MONALM_B07,W,R1,R2,R3;
27074                             252 I1  ;;;;;;;;;;;;;;;;;;;     MEM_MOV_TO_MEM  _CNT_SYNC_HOS_DAT2,L,_PVP_MONALM_B08,W,R1,R2,R3;
27075                             253 I1  ;;;;;;;;;;;;;;;;;;;
27076                             254 I1  ;;;;;;;;;;;;;;;;;;;
27077                             255 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_SPD+_SH4_4B,R4   ;OK
27078                             256 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   380
PROGRAM NAME =

27079                             257 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C01 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27080                             258 I1  ;;;;;;;;;;;;;;;;;;;
27081                             259 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_SPD+_SH2_4B,R4   ;OK
27082                             260 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
27083                             261 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C02 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27084                             262 I1  ;;;;;;;;;;;;;;;;;;;
27085                             263 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_REST_PLS+_SH4_4B,R4 ;
27086                             264 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
27087                             265 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C03 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27088                             266 I1  ;;;;;;;;;;;;;;;;;;;
27089                             267 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_REST_PLS+_SH2_4B,R4 ;
27090                             268 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4+,R0                         ;
27091                             269 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C04 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27092                             270 I1  ;;;;;;;;;;;;;;;;;;;
27093                             271 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_ABSPLS+_SH4_8B+4,R4              ;20060919
27094                             272 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
27095                             273 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
27096                             274 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
27097                             275 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C05 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27098                             276 I1  ;;;;;;;;;;;;;;;;;;;
27099                             277 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_RL_ABSPLS+_SH2_8B+4,R4              ;20060919
27100                             278 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
27101                             279 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
27102                             280 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
27103                             281 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C06 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27104                             282 I1  ;;;;;;;;;;;;;;;;;;;
27105                             283 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_PV_ABSPLS+_SH4_8B+4,R4              ;
27106                             284 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
27107                             285 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
27108                             286 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
27109                             287 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C07 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27110                             288 I1  ;;;;;;;;;;;;;;;;;;;
27111                             289 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #_SH_POSCTL_PV_ABSPLS+_SH2_8B+4,R4              ;
27112                             290 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   @R4,R0                                                  ;
27113                             291 I1  ;;;;;;;;;;;;;;;;;;;     MOV.L   #H'3FFFFFF,R4
                                          ;
27114                             292 I1  ;;;;;;;;;;;;;;;;;;;     AND     R4,R0
27115                             293 I1  ;;;;;;;;;;;;;;;;;;;     REG_MOV_TO_MEM  DST_ADR=_PVP_MONALM_C08 ,L1=L,DT_REG=R0,WKREG1=R1
                                          ;
27116                             294 I1  ;;;;;;;;;;;;;;;;;;;
27117                             295 I1  
27118                             296 I1          SUB_END
27119                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27120 0000573A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27121                             297 I1          M_RTS
27122 0000573C 000B                   M           RTS                             ;RTSの後ろの
27123 0000573E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   381
PROGRAM NAME =

27124                             298 I1  
27125                             299 I1  
27126                             300 I1  
27127                             301 I1  ;       =========== C01~C08 =======
27128                             302 I1  
27129                             303 I1  
27130                             304 I1  
27131                             305 I1  ;       ***********************************
27132                             306 I1  ;       ***     履歴モニタ              ***
27133                             307 I1  ;       ***                             ***
27134                             308 I1  ;       ***     18-(0~199)-0/1-1/2      ***
27135                             309 I1  ;       ***                             ***
27136                             310 I1  ;       ***********************************
27137                             311 I1  ;       R2 頁
27138                             312 I1  ;       R3 詳細 0:自分　1:相手
27139 00005740                    313 I1  _MONI_CNT_HIST_INFO_DISP
27140                             314 I1          SUB_START
27141 00005740 4F22                   M           STS.L   PR,@-R15                ;[必要]
27142                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27143                             315 I1          SUB_END
27144                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27145 00005742 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27146                             316 I1          M_RTS
27147 00005744 000B                   M           RTS                             ;RTSの後ろの
27148 00005746 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27149                             317 I1  
27150                            8764     
27151                            8765     ;       ***************************
27152                            8766     ;       ***                     ***
27153                            8767     ;       ***************************
27154                            8768             .EXPORT _HENSA_DAT_MONI_MAK
27155 00005748                   8769             .ALIGN  4                               ;
27156 00005748                   8770     _HENSA_DAT_MONI_MAK:
27157                            8771             SUB_START
27158 00005748 4F22                   M           STS.L   PR,@-R15                ;[必要]
27159                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27160                            8772     
27161                            8773     ;       ===== 遅れ分払い出したことにする====
27162 0000574A D30F              8774             MOV.L   #_LINK_SV_OBJ_ABSPLS,R3                                 ;
27163 0000574C 6132              8775             MOV.L   @R3,R1                                                  ;
27164 0000574E 5231              8776             MOV.L   @(4,R3),R2                                              ;
27165                            8777     
27166 00005750 D00E              8778             MOV.L   #_LINK_PV_ABSPLS,R0                             ;
27167 00005752 6502              8779             MOV.L   @R0,R5                                                  ;
27168 00005754 5601              8780             MOV.L   @(4,R0),R6                                              ;
27169                            8781     
27170                            8782             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
27171 00005756 0008                   M           CLRT
27172 00005758 326A                   M           SUBC    R6,R2
27173 0000575A 315A                   M           SUBC    R5,R1
27174                            8783     
27175 0000575C D00C              8784             MOV.L   #_SV_CONST_SUB_PV,R0                                    ;
27176 0000575E 4211              8785             CMP/PZ  R2
27177 00005760 8900              8786             BT      HENSA_DAT_MONMK_050                                     ;
27178 00005762 622B              8787             NEG     R2,R2
27179 00005764                   8788     HENSA_DAT_MONMK_050:
27180 00005764 2022              8789             MOV.L   R2,@R0                                                  ;SV(CONST)-PV=
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   382
PROGRAM NAME =

27181                            8790     
27182                            8791     ;       ===== 遅れ分払い出したことにする====
27183 00005766 D308              8792             MOV.L   #_LINK_SV_OBJ_ABSPLS,R3                                 ;
27184 00005768 6132              8793             MOV.L   @R3,R1                                                  ;
27185 0000576A 5231              8794             MOV.L   @(4,R3),R2                                              ;SV-REST-PLS
27186                            8795     
27187 0000576C D109              8796             MOV.L   #_POSLSI_CHK_RESTPLS,R1                                 ;
27188 0000576E 6612              8797             MOV.L   @R1,R6                                                  ;
27189 00005770 255A              8798             XOR     R5,R5                                                   ;
27190                            8799             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
27191 00005772 0008                   M           CLRT
27192 00005774 326A                   M           SUBC    R6,R2
27193 00005776 315A                   M           SUBC    R5,R1
27194 00005778 4211              8800             CMP/PZ  R2
27195 0000577A 8900              8801             BT      HENSA_DAT_MONMK_100                                     ;
27196 0000577C 622B              8802             NEG     R2,R2
27197 0000577E                   8803     HENSA_DAT_MONMK_100:
27198                            8804     
27199 0000577E D006              8805             MOV.L   #_SV_REAL_SUB_PV,R0
27200 00005780 2022              8806             MOV.L   R2,@R0
27201                            8807     
27202                            8808             SUB_END
27203                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27204 00005782 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27205                            8809             M_RTS
27206 00005784 000B                   M           RTS                             ;RTSの後ろの
27207 00005786 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27208                            8810     
27209                            8811     
27210                            8812     
27211                            8813     ;//     ===================================================
27212                            8814     ;//     ===     対策ソフト部分 2005-04-14-E(4/18)       ===
27213                            8815     ;//     ===================================================
27214                            8816             .EXPORT _SGL_CMP_ERR_DT_CLR
27215                                     ***** BEGIN-POOL *****
27216 00005788 00000000                   DATA FOR SOURCE-LINE 8774,8792
27217 0000578C 00000000                   DATA FOR SOURCE-LINE 8778
27218 00005790 00000000                   DATA FOR SOURCE-LINE 8784
27219 00005794 00000000                   DATA FOR SOURCE-LINE 8796
27220 00005798 00000000                   DATA FOR SOURCE-LINE 8805
27221                                     ***** END-POOL *****
27222 0000579C                   8817             .ALIGN  4                               ;
27223 0000579C                   8818     _SGL_CMP_ERR_DT_CLR:
27224                            8819             SUB_START
27225 0000579C 4F22                   M           STS.L   PR,@-R15                ;[必要]
27226                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27227 0000579E 200A              8820             XOR     R0,R0
27228                            8821             REG_MOV_TO_MEM  DST_ADR=_CMP_LNGTH_AD_ERR_CNT           ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27229 000057A0 D103                   M           MOV.L   #_CMP_LNGTH_AD_ERR_CNT,R1       ;DST_ADR
27230 000057A2 2101                   M           MOV.W   R0,@R1  ;DST_ADR
27231                            8822             REG_MOV_TO_MEM  DST_ADR=_CMP_RESTP_SR_ERR_CNT           ,L1=W,DT_REG=R0,WKREG1=R1
                                          ;
27232 000057A4 D103                   M           MOV.L   #_CMP_RESTP_SR_ERR_CNT,R1       ;DST_ADR
27233 000057A6 2101                   M           MOV.W   R0,@R1  ;DST_ADR
27234                            8823             SUB_END
27235                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   383
PROGRAM NAME =

27236 000057A8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27237                            8824             M_RTS
27238 000057AA 000B                   M           RTS                             ;RTSの後ろの
27239 000057AC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27240                            8825     
27241                            8826             .INCLUDE        "ssa_cntc.inc"          ;//2004-12-15
27242                                 I1  ***** BEGIN-POOL *****
27243 000057AE 0000                   I1  ALIGNMENT CODE
27244 000057B0 00000000               I1  DATA FOR SOURCE-LINE 8821
27245 000057B4 00000000               I1  DATA FOR SOURCE-LINE 8822
27246                                 I1  ***** END-POOL *****
27247 000057B8                      1 I1  _BANK_CNT_STEP_NEXT_CHK:
27248                               2 I1          SUB_START
27249 000057B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
27250                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27251                               3 I1  ;       ===== 最終工程で最終目標位置を超えたら次の回転数への切り替えを行う
27252 000057BA DB06                 4 I1          MOV.L   #_INT_POS_CTL_STEP,R11                  ;//内部制御工程1~11
27253 000057BC 60B1                 5 I1          MOV.W   @R11,R0                                 ;
27254 000057BE 70FF                 6 I1          ADD     #-1,R0                                  ;
27255 000057C0 4008                 7 I1          SHLL2   R0
27256 000057C2 D105                 8 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1                 ;
27257 000057C4 021E                 9 I1          MOV.L   @(R0,R1),R2                             ;現状の工程の目標工程
27258 000057C6 D105                10 I1          MOV.L   #_CPOS_STEP_MAX,R1                      ;
27259 000057C8 6311                11 I1          MOV.W   @R1,R3                                  ;
27260 000057CA 7301                12 I1          ADD     #1,R3                                   ;設定+1(帰りも1ｽﾃｯﾌﾟ)
27261 000057CC 3320                13 I1          CMP/EQ  R2,R3                                   ;
27262 000057CE 8907                14 I1          BT      BCNT_STEP_NEXTCHK_100                   ;(最終工程相当)
27263                              15 I1          M_BRA   BCNT_STEP_NEXTCHK_EXT                   ;最終工程を行おうとしていないが残
                                          り量を引くことは有り
27264 000057D0 A04F                   M           BRA     BCNT_STEP_NEXTCHK_EXT
27265 000057D2 0009                   M           NOP
27266                              16 I1                                                          ;...不要
27267                              17 I1  ;       ======= 最終工程相当の状態=======
27268                              18 I1  ;       ======= 減速距離と残り距離=====
27269                                 I1  ***** BEGIN-POOL *****
27270 000057D4 00000000               I1  DATA FOR SOURCE-LINE 4
27271 000057D8 00000000               I1  DATA FOR SOURCE-LINE 8
27272 000057DC 00000000               I1  DATA FOR SOURCE-LINE 10
27273                                 I1  ***** END-POOL *****
27274 000057E0                     19 I1  BCNT_STEP_NEXTCHK_100:
27275 000057E0 D408                20 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4                                 ;
27276 000057E2 6203                21 I1          MOV     R0,R2                                                   ;
27277 000057E4 4200                22 I1          SHLL    R2                                                      ;
27278 000057E6 342C                23 I1          ADD     R2,R4                                                   ;
27279 000057E8 6146                24 I1          MOV.L   @R4+,R1                                                 ;
27280 000057EA 6242                25 I1          MOV.L   @R4,R2                                                  ;目標位置(SV_OBJ_A
                                          BSPLS)
27281                              26 I1  
27282 000057EC D406                27 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                 ;
27283 000057EE 6546                28 I1          MOV.L   @R4+,R5                                                 ;
27284 000057F0 6642                29 I1          MOV.L   @R4,R6                                                  ;
27285                              30 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
27286 000057F2 0008                   M           CLRT
27287 000057F4 326A                   M           SUBC    R6,R2
27288 000057F6 315A                   M           SUBC    R5,R1
27289                              31 I1  
27290 000057F8 4111                32 I1          CMP/PZ  R1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   384
PROGRAM NAME =

27291 000057FA 8B0B                33 I1          BF      BCNT_STEP_NEXTCHK_200                   ;"-" 超えたJUMP
27292 000057FC 2118                34 I1          TST     R1,R1                                   ;
27293                              35 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_120                ;
27294 000057FE 8905                   M           BT      BCNT_STEP_NEXTCHK_120
27295                              36 I1          M_BRA   BCNT_STEP_NEXTCHK_CHK                   ;
27296 00005800 A030                   M           BRA     BCNT_STEP_NEXTCHK_CHK
27297 00005802 0009                   M           NOP
27298                                 I1  ***** BEGIN-POOL *****
27299 00005804 00000000               I1  DATA FOR SOURCE-LINE 20
27300 00005808 00000000               I1  DATA FOR SOURCE-LINE 27
27301                                 I1  ***** END-POOL *****
27302 0000580C                     37 I1  BCNT_STEP_NEXTCHK_120:
27303 0000580C 2228                38 I1          TST     R2,R2                                   ;
27304                              39 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_200                ;
27305 0000580E 8901                   M           BT      BCNT_STEP_NEXTCHK_200
27306                              40 I1          M_BRA   BCNT_STEP_NEXTCHK_CHK                   ;
27307 00005810 A028                   M           BRA     BCNT_STEP_NEXTCHK_CHK
27308 00005812 0009                   M           NOP
27309                              41 I1  
27310                              42 I1  ;       --- 超えた(サイクル変更を行なう)---
27311 00005814                     43 I1  BCNT_STEP_NEXTCHK_200:
27312                              44 I1  ;(停止指令が出ていれば足さない)
27313 00005814 D108                45 I1          MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
27314 00005816 6011                46 I1          MOV.W   @R1,R0                                                  ;
27315 00005818 C804                47 I1          TST     #BIT2,R0                                                ;
27316                              48 I1          TST_BIT_ON BCNT_STEP_NEXTCHK_250                                ;待機点停止しない
                                          運転
27317 0000581A 8B15                   M           BF      BCNT_STEP_NEXTCHK_250
27318                              49 I1  
27319 0000581C D107                50 I1          MOV.L   #_STOP_LATCH_B,R1                                       ;//BIT0:ｽﾄｯﾌﾟ釦
27320 0000581E 6011                51 I1          MOV.W   @R1,R0                                                  ;
27321 00005820 C801                52 I1          TST     #BIT0,R0                                                ;
27322                              53 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_250                                ;
27323 00005822 8911                   M           BT      BCNT_STEP_NEXTCHK_250
27324                              54 I1  
27325                              55 I1  ;       ----- 停止ｺﾏﾝﾄﾞON(ありえない) -----
27326                              56 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1  ;
27327 00005824 D106                   M           MOV.L   #_STOP_LATCH,R1         ;
27328 00005826 6011                   M           MOV.W   @R1,R0          ;
27329 00005828 CB01                   M           OR      #BIT0,R0                ;
27330 0000582A 2101                   M           MOV.W   R0,@R1          ;
27331                              57 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT0,WKREG=R1   ;
27332 0000582C D105                   M           MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
27333 0000582E 6011                   M           MOV.W   @R1,R0          ;
27334 00005830 CB01                   M           OR      #BIT0,R0                ;
27335 00005832 2101                   M           MOV.W   R0,@R1          ;
27336                              58 I1          M_BRA   BCNT_STEP_NEXTCHK_EXT                                   ;
27337 00005834 A01D                   M           BRA     BCNT_STEP_NEXTCHK_EXT
27338 00005836 0009                   M           NOP
27339                              59 I1  
27340                              60 I1  
27341                                 I1  ***** BEGIN-POOL *****
27342 00005838 00000000               I1  DATA FOR SOURCE-LINE 45
27343 0000583C 00000000               I1  DATA FOR SOURCE-LINE 50
27344 00005840 00000000               I1  DATA FOR SOURCE-LINE 56
27345 00005844 00000000               I1  DATA FOR SOURCE-LINE 57
27346                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   385
PROGRAM NAME =

27347 00005848                     61 I1  BCNT_STEP_NEXTCHK_250:
27348                              62 I1  
27349 00005848 D104                63 I1          MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
27350 0000584A 6011                64 I1          MOV.W   @R1,R0                                                  ;
27351 0000584C C808                65 I1          TST     #BIT3,R0                                                ;
27352                              66 I1          TST_BIT_OF BCNT_STEP_NEXTCHK_300                                ;(停止のない運転時
                                          のみ補正する)
27353 0000584E 89FF                   M           BT      BCNT_STEP_NEXTCHK_300
27354                              67 I1  
27355                              68 I1  ;       ========== 減速点補正(タイマが全くない運転) ============
27356                              69 I1  ;;;     FAR_JSR #_GPOINT_HOS_CALC,R0                    ;CPU-A/B()
27357                              70 I1  ;       ==================================
27358                              71 I1  ;;;;;;;;20060919        .AIF    1 EQ    1       ;
27359                              72 I1  ;;;;;;;;        FAR_JSR #_CNT_SYNC_HOS_SPD_TYP,R0               ;
27360                              73 I1  ;;;;;;;;        .AENDI                                  ;
27361                              74 I1  
27362                              75 I1  ;       ========== 新残りﾊﾟﾙｽ補正===============
27363                              76 I1  ;       誤差が1000PLSを超えたら周波数を変える 1HZ
27364                              77 I1  ;       誤差が2000PLSを超えたら周波数を変える 2HZ
27365                              78 I1  ;       誤差が3000PLSを超えたら周波数を変える 4HZ
27366                              79 I1  ;
27367                              80 I1  ;
27368                              81 I1  ;
27369                              82 I1  ;       ====================================
27370 00005850                     83 I1  BCNT_STEP_NEXTCHK_300:
27371                              84 I1  
27372                              85 I1          FAR_JSR #_CNT_VMODE_NEXT_CYCL_START,R0          ;(STOPﾗｯﾁはまずここでﾁｪｯｸされる)
27373 00005850 D003                   M           MOV.L   #_CNT_VMODE_NEXT_CYCL_START,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27374 00005852 400B                   M           JSR     @R0                     ;
27375 00005854 0009                   M           NOP                                     ;
27376                              86 I1  
27377                              87 I1          M_BRA   BCNT_STEP_NEXTCHK_EXT                   ;
27378 00005856 A00C                   M           BRA     BCNT_STEP_NEXTCHK_EXT
27379 00005858 0009                   M           NOP
27380                              88 I1  
27381                              89 I1  
27382                              90 I1  ;       ====(最終工程相当でここにくる)=====
27383                                 I1  ***** BEGIN-POOL *****
27384 0000585A 0000                   I1  ALIGNMENT CODE
27385 0000585C 00000000               I1  DATA FOR SOURCE-LINE 63
27386 00005860 00000000               I1  DATA FOR SOURCE-LINE 85
27387                                 I1  ***** END-POOL *****
27388 00005864                     91 I1  BCNT_STEP_NEXTCHK_CHK:
27389 00005864 D104                92 I1          MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
27390 00005866 6011                93 I1          MOV.W   @R1,R0                          ;
27391 00005868 2008                94 I1          TST     R0,R0                           ;
27392                              95 I1          TST_BIT_ON BCNT_STEP_NEXTCHK_EXT        ;
27393 0000586A 8B02                   M           BF      BCNT_STEP_NEXTCHK_EXT
27394                              96 I1  ;       === 停止の減算はどこでも良い====
27395                              97 I1  ;       === 停止がある場合は停止で行うから結局は最終工程相当で引く===
27396                              98 I1          FAR_JSR #_CNT_GPOINT_STOP_TYP2,R0       ;連続停止時減速可能かどうかチェック
27397 0000586C D003                   M           MOV.L   #_CNT_GPOINT_STOP_TYP2,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27398 0000586E 400B                   M           JSR     @R0                     ;
27399 00005870 0009                   M           NOP                                     ;
27400                              99 I1  
27401                             100 I1  
27402 00005872                    101 I1  BCNT_STEP_NEXTCHK_EXT:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   386
PROGRAM NAME =

27403                             102 I1          SUB_END
27404                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27405 00005872 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27406                             103 I1          M_RTS
27407 00005874 000B                   M           RTS                             ;RTSの後ろの
27408 00005876 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27409                             104 I1  
27410                             105 I1  
27411                             106 I1  
27412                             107 I1  ;       ***********************************
27413                             108 I1  ;       ***                             ***
27414                             109 I1  ;       ***     工程切り替え            ***
27415                             110 I1  ;       ***     data add                ***
27416                             111 I1  ;       ***                             ***
27417                             112 I1  ;       ***********************************
27418                                 I1  ***** BEGIN-POOL *****
27419 00005878 00000000               I1  DATA FOR SOURCE-LINE 92
27420 0000587C 00000000               I1  DATA FOR SOURCE-LINE 98
27421                                 I1  ***** END-POOL *****
27422 00005880                    113 I1  _CNT_VMODE_NEXT_CYCL_START:
27423                             114 I1          SUB_START
27424 00005880 4F22                   M           STS.L   PR,@-R15                ;[必要]
27425                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27426                             115 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_ESTEP_BEFOR,R0     ;ﾓﾆﾀ用
27427 00005882 D018                   M           MOV.L   #_CHG_STEP_INFO_MAKE_ESTEP_BEFOR,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27428 00005884 400B                   M           JSR     @R0                     ;
27429 00005886 0009                   M           NOP                                     ;
27430                             116 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_DAT,R0        ;ﾓﾆﾀ用
27431 00005888 D017                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27432 0000588A 400B                   M           JSR     @R0                     ;
27433 0000588C 0009                   M           NOP                                     ;
27434                             117 I1  
27435                             118 I1          FAR_JSR #_CPU_AB_CST_ON_OUT2,R0                 ;次へいくぞ!
27436 0000588E D017                   M           MOV.L   #_CPU_AB_CST_ON_OUT2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27437 00005890 400B                   M           JSR     @R0                     ;
27438 00005892 0009                   M           NOP                                     ;
27439                             119 I1          FAR_JSR #_MOTION_CYCLE_END,R0                   ;
27440 00005894 D016                   M           MOV.L   #_MOTION_CYCLE_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27441 00005896 400B                   M           JSR     @R0                     ;
27442 00005898 0009                   M           NOP                                     ;
27443                             120 I1          FAR_JSR #_MOTION_CYCLE_ED2,R0                   ;2003-07-09
27444 0000589A D016                   M           MOV.L   #_MOTION_CYCLE_ED2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27445 0000589C 400B                   M           JSR     @R0                     ;
27446 0000589E 0009                   M           NOP                                     ;
27447                             121 I1          FAR_JSR #_LOT_SIG_FLG_CLR,R0                    ;通常の連続
27448 000058A0 D015                   M           MOV.L   #_LOT_SIG_FLG_CLR,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27449 000058A2 400B                   M           JSR     @R0                     ;
27450 000058A4 0009                   M           NOP                                     ;
27451                             122 I1  ;;2016-10-31    FAR_JSR #_DBG_END_CNT3,R0                       ;
27452                             123 I1  
27453                             124 I1  ;       --------- 2020-05-07-----------
27454 000058A6 D415               125 I1          MOV.L   #_M_LINK_AREASIG,R4                     ;
27455 000058A8 6041               126 I1          MOV.W   @R4,R0                                          ;
27456 000058AA C802               127 I1          TST     #(BIT1),R0                                              ;下降からの開始
27457                             128 I1          TST_BIT_OF VMODE_LOT_SIG_ON                     ;
27458 000058AC 8903                   M           BT      VMODE_LOT_SIG_ON
27459 000058AE D114               129 I1          MOV.L   #_LOT_CHK_FLG,R1                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   387
PROGRAM NAME =

27460 000058B0 6011               130 I1          MOV.W   @R1,R0                                          ;
27461 000058B2 CB07               131 I1          OR      #(BIT2+BIT1+BIT0),R0                    ;(待機点は通過)
27462 000058B4 2101               132 I1          MOV.W   R0,@R1                                          ;
27463 000058B6                    133 I1  VMODE_LOT_SIG_ON:
27464                             134 I1  
27465                             135 I1  ;;;     MOV.L   #_SQ_CBWK_TOP+_WKSQCB260,R4     ;
27466                             136 I1  ;;;     MOV.W   R0,@R4                                          ;
27467                             137 I1  ;;;
27468                             138 I1  ;;;     MOV.L   #_SQ_CBWK_TOP+_WKSQCB257,R1             ;257.0,1,2,3(END),4
27469                             139 I1  ;;;     MOV.W   @R1,R0
27470                             140 I1  ;;;     ADD             #1,R0
27471                             141 I1  ;;;     MOV.W   R0,@R1
27472                             142 I1  ;       -----------------------------------
27473                             143 I1  
27474                             144 I1  
27475 000058B6 200A               145 I1          XOR     R0,R0                                   ;
27476 000058B8 D112               146 I1          MOV.L   #_INT_POS_STEP_FLG,R1                   ;//ｽﾃｯﾌﾟ,段取り共通
27477 000058BA 2101               147 I1          MOV.W   R0,@R1                                  ;
27478                             148 I1  
27479                             149 I1          FAR_JSR #_BANK_CHK_NEXT_CYCL_STR1,R0            ;
27480 000058BC D012                   M           MOV.L   #_BANK_CHK_NEXT_CYCL_STR1,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27481 000058BE 400B                   M           JSR     @R0                     ;
27482 000058C0 0009                   M           NOP                                     ;
27483                             150 I1  
27484                             151 I1  ;       ------------------2006-12-18----------------------
27485                             152 I1          FAR_JSR #_OVER_RID_UPDN_LAT_DTMK,R0             ;20060919:
27486 000058C2 D012                   M           MOV.L   #_OVER_RID_UPDN_LAT_DTMK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27487 000058C4 400B                   M           JSR     @R0                     ;
27488 000058C6 0009                   M           NOP                                     ;
27489                             153 I1  ;       --------------------------------------------------
27490                             154 I1  
27491 000058C8 D111               155 I1          MOV.L   #_SV_POS_CTL_STEP,R1                    ;//1msec 制御上の見かけ
27492 000058CA 6411               156 I1          MOV.W   @R1,R4                                  ;
27493 000058CC D211               157 I1          MOV.L   #_INT_POS_CTL_STEP,R2                   ;//内部制御工程1~11
27494 000058CE 2241               158 I1          MOV.W   R4,@R2                                  ;
27495                             159 I1  
27496                             160 I1  
27497                             161 I1  ;;      FAR_JSR #_POS_1STEP_DATA_MAK2,R0                ;_LNGTH,SHIN,SPEED<設定から求める>
27498                             162 I1  
27499                             163 I1  
27500                             164 I1  ;       ==== 最終工程相当でなければ速度を切り替えるだけ===
27501                             165 I1  ;       LINKX-->LINKは
27502                             166 I1  ;       その前の処理で行われているはずなので不要
27503 000058D0 D111               167 I1          MOV.L   #_CPOS_MOD_FLG1,R1                      ;
27504 000058D2 6011               168 I1          MOV.W   @R1,R0                                  ;
27505 000058D4 C808               169 I1          TST     #BIT3,R0                                ;
27506                             170 I1          TST_BIT_ON CNT_VMODE_NEXT_CYCLSTR_050           ;
27507 000058D6 8B23                   M           BF      CNT_VMODE_NEXT_CYCLSTR_050
27508                             171 I1  
27509                             172 I1  ;       === ﾀｲﾏ停止有り ===ここで移動量は作成しない===
27510                             173 I1          FAR_JSR #_CNT_SPD_SET,R0                        ;(これではステップ上の運転開始とは
                                          いえ自起動まで落ちているから良い)
27511 000058D8 D010                   M           MOV.L   #_CNT_SPD_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27512 000058DA 400B                   M           JSR     @R0                     ;
27513 000058DC 0009                   M           NOP                                     ;
27514                             174 I1          M_BRA   CNT_VMODE_NEXT_CYCLSTR_100
27515 000058DE A025                   M           BRA     CNT_VMODE_NEXT_CYCLSTR_100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   388
PROGRAM NAME =

27516 000058E0 0009                   M           NOP
27517                             175 I1  
27518                             176 I1  
27519                                 I1  ***** BEGIN-POOL *****
27520 000058E2 0000                   I1  ALIGNMENT CODE
27521 000058E4 00000000               I1  DATA FOR SOURCE-LINE 115
27522 000058E8 00000000               I1  DATA FOR SOURCE-LINE 116
27523 000058EC 00000000               I1  DATA FOR SOURCE-LINE 118
27524 000058F0 00000000               I1  DATA FOR SOURCE-LINE 119
27525 000058F4 00000000               I1  DATA FOR SOURCE-LINE 120
27526 000058F8 00000000               I1  DATA FOR SOURCE-LINE 121
27527 000058FC 00000000               I1  DATA FOR SOURCE-LINE 125
27528 00005900 00000000               I1  DATA FOR SOURCE-LINE 129
27529 00005904 00000000               I1  DATA FOR SOURCE-LINE 146
27530 00005908 00000000               I1  DATA FOR SOURCE-LINE 149
27531 0000590C 00000000               I1  DATA FOR SOURCE-LINE 152
27532 00005910 00000000               I1  DATA FOR SOURCE-LINE 155
27533 00005914 00000000               I1  DATA FOR SOURCE-LINE 157
27534 00005918 00000000               I1  DATA FOR SOURCE-LINE 167
27535 0000591C 00000000               I1  DATA FOR SOURCE-LINE 173
27536                                 I1  ***** END-POOL *****
27537 00005920                    177 I1  CNT_VMODE_NEXT_CYCLSTR_050:
27538                             178 I1  ;       === ﾀｲﾏ停止全くなし ===ここで移動量を作成===
27539                             179 I1          FAR_JSR #_POS_CNT_BANK_DTMAK2,R0                ;CNT_SPD
27540 00005920 D014                   M           MOV.L   #_POS_CNT_BANK_DTMAK2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27541 00005922 400B                   M           JSR     @R0                     ;
27542 00005924 0009                   M           NOP                                     ;
27543                             180 I1          FAR_JSR #_BANK_CNT_STOP_CHK_TYP1,R0             ;
27544 00005926 D014                   M           MOV.L   #_BANK_CNT_STOP_CHK_TYP1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27545 00005928 400B                   M           JSR     @R0                     ;
27546 0000592A 0009                   M           NOP                                     ;
27547                             181 I1  
27548 0000592C                    182 I1  CNT_VMODE_NEXT_CYCLSTR_100:
27549                             183 I1  
27550                             184 I1  
27551                             185 I1  
27552                             186 I1  ;;;だめ FAR_JSR #_POS_CNT_BANK_DTMAK2,R0                ;
27553                             187 I1  
27554                             188 I1  ;       ==== 2004-03-29 ====
27555                             189 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0        ;OK!
27556 0000592C D013                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27557 0000592E 400B                   M           JSR     @R0                     ;
27558 00005930 0009                   M           NOP                                     ;
27559                             190 I1          FAR_JSR #_MOTION_CYCLE_START,R0         ;
27560 00005932 D013                   M           MOV.L   #_MOTION_CYCLE_START,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27561 00005934 400B                   M           JSR     @R0                     ;
27562 00005936 0009                   M           NOP                                     ;
27563 00005938 D112               191 I1          MOV.L   #_CAM_CNT_CHG_FLG,R1    ;       //連続が１ｽﾃｯﾌﾟになった
27564 0000593A 9019               192 I1          MOV.W   #BIT0,R0                ;
27565 0000593C 2101               193 I1          MOV.W   R0,@R1                  ;
27566                             194 I1  
27567                             195 I1  
27568                             196 I1  ;       ==================================
27569                             197 I1          FAR_JSR #_CMPCYC_START_CLR,R0
27570 0000593E D012                   M           MOV.L   #_CMPCYC_START_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27571 00005940 400B                   M           JSR     @R0                     ;
27572 00005942 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   389
PROGRAM NAME =

27573                             198 I1  ;       ===============================================
27574                             199 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_NEAR_IN_FLG,LG=W,BIT=~BIT0,WKREG=R1 ;//
27575 00005944 D111                   M           MOV.L   #_NEAR_IN_FLG,R1                ;
27576 00005946 6011                   M           MOV.W   @R1,R0          ;
27577 00005948 C9FE                   M           AND     #LOW ~BIT0,R0           ;
27578 0000594A 2101                   M           MOV.W   R0,@R1          ;
27579                             200 I1          FAR_JSR #_SET_NZ_TIM_DAT,R0     ;2003-06-13
27580 0000594C D010                   M           MOV.L   #_SET_NZ_TIM_DAT,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27581 0000594E 400B                   M           JSR     @R0                     ;
27582 00005950 0009                   M           NOP                                     ;
27583                             201 I1  ;       ===============================================
27584                             202 I1          FAR_JSR #_FUL_DATA_INIT,R0
27585 00005952 D010                   M           MOV.L   #_FUL_DATA_INIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27586 00005954 400B                   M           JSR     @R0                     ;
27587 00005956 0009                   M           NOP                                     ;
27588                             203 I1  ;       ==================================
27589                             204 I1          FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
27590 00005958 D00F                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27591 0000595A 400B                   M           JSR     @R0                     ;
27592 0000595C 0009                   M           NOP                                     ;
27593                             205 I1  ;       ================<<<2004-03-25>>>==========
27594                             206 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_ESTEP_AFTER,R0             ;ﾓﾆﾀ用
27595 0000595E D00F                   M           MOV.L   #_CHG_STEP_INFO_MAKE_ESTEP_AFTER,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27596 00005960 400B                   M           JSR     @R0                     ;
27597 00005962 0009                   M           NOP                                     ;
27598                             207 I1          FAR_JSR #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾓﾆﾀ用
27599 00005964 D00E                   M           MOV.L   #_CHG_STEP_INFO_MAKE_STEP_DAT,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27600 00005966 400B                   M           JSR     @R0                     ;
27601 00005968 0009                   M           NOP                                     ;
27602                             208 I1          SUB_END
27603                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27604 0000596A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27605                             209 I1          M_RTS
27606 0000596C 000B                   M           RTS                             ;RTSの後ろの
27607 0000596E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27608                             210 I1  
27609                             211 I1  
27610                             212 I1  ;       *******************************************
27611                             213 I1  ;       ***                                     ***
27612                             214 I1  ;       ***                                     ***
27613                             215 I1  ;       *******************************************
27614                             216 I1  ;       ***********************************
27615                             217 I1  ;       ***                             ***
27616                             218 I1  ;       ***     移動距離のみ+SPEED      ***
27617                             219 I1  ;       ***                             ***
27618                             220 I1  ;       ***********************************
27619                             221 I1  ;       FAR_JSR #_LENGH_ADD_CALC,R0     ;
27620                             222 I1  ;       が
27621                             223 I1  ;       FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
27622                             224 I1  ;       になっているだけ
27623                             225 I1  ;       (回転途中の演算　１回転分)
27624                             226 I1  
27625                             227 I1  ;       ===== タイマ停止後起動時===
27626                                 I1  ***** BEGIN-POOL *****
27627 00005970 0001                   I1  DATA FOR SOURCE-LINE 192
27628 00005972 0000                   I1  ALIGNMENT CODE
27629 00005974 00000000               I1  DATA FOR SOURCE-LINE 179
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   390
PROGRAM NAME =

27630 00005978 00000000               I1  DATA FOR SOURCE-LINE 180
27631 0000597C 00000000               I1  DATA FOR SOURCE-LINE 189
27632 00005980 00000000               I1  DATA FOR SOURCE-LINE 190
27633 00005984 00000000               I1  DATA FOR SOURCE-LINE 191
27634 00005988 00000000               I1  DATA FOR SOURCE-LINE 197
27635 0000598C 00000000               I1  DATA FOR SOURCE-LINE 199
27636 00005990 00000000               I1  DATA FOR SOURCE-LINE 200
27637 00005994 00000000               I1  DATA FOR SOURCE-LINE 202
27638 00005998 00000000               I1  DATA FOR SOURCE-LINE 204
27639 0000599C 00000000               I1  DATA FOR SOURCE-LINE 206
27640 000059A0 00000000               I1  DATA FOR SOURCE-LINE 207
27641                                 I1  ***** END-POOL *****
27642 000059A4                    228 I1  _POS_CNT_BANK_DTMAK3:                           ;上死点ﾀｲﾏ=0で途中で止まる時
27643                             229 I1          SUB_START
27644 000059A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
27645                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27646                             230 I1  
27647                             231 I1  ;       -------debug break-point set----------
27648                             232 I1          PUSH_REG1 R0
27649 000059A6 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
27650                                 M                                           ;REG=>[SP]
27651                                 M                                           ;"-4" FF,FF,FF,FC
27652                             233 I1          PUSH_REG1 R1
27653 000059A8 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
27654                                 M                                           ;REG=>[SP]
27655                                 M                                           ;"-4" FF,FF,FF,FC
27656 000059AA D10C               234 I1          MOV.L   #_di2_cb_ctl2,R1        ;
27657 000059AC 6011               235 I1          MOV.W   @R1,R0                  ;
27658 000059AE C880               236 I1          TST     #BIT7,R0                ;連続ｾｯﾄｱｯﾌﾟ釦
27659                             237 I1          TST_BIT_OF CNTBANK_DBGBRK_100   ;
27660 000059B0 8904                   M           BT      CNTBANK_DBGBRK_100
27661                             238 I1  
27662 000059B2 0009               239 I1          NOP
27663 000059B4 0009               240 I1          NOP
27664 000059B6 0009               241 I1          NOP
27665 000059B8 0009               242 I1          NOP
27666 000059BA 0009               243 I1          NOP
27667                             244 I1  
27668                             245 I1  
27669 000059BC                    246 I1  CNTBANK_DBGBRK_100
27670                             247 I1  
27671                             248 I1  
27672                             249 I1          POP_REG1 R1
27673                                 M                                   ; RE"+4" 00,00,00,04
27674 000059BC 61F6                   M           MOV.L   @R15+,R1        ;
27675                             250 I1          POP_REG1 R0
27676                                 M                                   ; RE"+4" 00,00,00,04
27677 000059BE 60F6                   M           MOV.L   @R15+,R0        ;
27678                             251 I1  
27679                             252 I1  
27680                             253 I1  
27681                             254 I1  
27682                             255 I1          FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
27683 000059C0 D007                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27684 000059C2 400B                   M           JSR     @R0                     ;
27685 000059C4 0009                   M           NOP                                     ;
27686                             256 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   391
PROGRAM NAME =

27687                             257 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;
27688 000059C6 D007                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27689 000059C8 400B                   M           JSR     @R0                     ;
27690 000059CA 0009                   M           NOP                                     ;
27691                             258 I1  
27692 000059CC D406               259 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4                 ;//起動時,その他で演算 8byte data
27693 000059CE 2008               260 I1          TST     R0,R0                                   ;
27694                             261 I1          TST_BIT_OF POS_CNT_BANKDTMAK12_COM              ;最終工程でなければ
27695 000059D0 8932                   M           BT      POS_CNT_BANKDTMAK12_COM
27696                             262 I1  
27697 000059D2 D406               263 I1          MOV.L   #_CPOS_SDAT1_STPAPOS2,R4                ;//起動時,その他で演算 8byte data
27698 000059D4 9001               264 I1          MOV.W   #1,R0                                   ;
27699                             265 I1          M_BRA   POS_CNT_BANKDTMAK123_COM                ;最終工程相当なら
27700 000059D6 A038                   M           BRA     POS_CNT_BANKDTMAK123_COM
27701 000059D8 0009                   M           NOP
27702                             266 I1  
27703                             267 I1  
27704                                 I1  ***** BEGIN-POOL *****
27705 000059DA 0001                   I1  DATA FOR SOURCE-LINE 264
27706 000059DC 00000000               I1  DATA FOR SOURCE-LINE 234
27707 000059E0 00000000               I1  DATA FOR SOURCE-LINE 255
27708 000059E4 00000000               I1  DATA FOR SOURCE-LINE 257
27709 000059E8 00000000               I1  DATA FOR SOURCE-LINE 259
27710 000059EC 00000000               I1  DATA FOR SOURCE-LINE 263
27711                                 I1  ***** END-POOL *****
27712 000059F0                    268 I1  _POS_CNT_BANK_DTMAK2:                                   ;どこにも止まらないとき
27713                             269 I1          SUB_START
27714 000059F0 4F22                   M           STS.L   PR,@-R15                ;[必要]
27715                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27716                             270 I1          M_BRA   POS_CNT_BANKDTMAK12_COM
27717 000059F2 A021                   M           BRA     POS_CNT_BANKDTMAK12_COM
27718 000059F4 0009                   M           NOP
27719                             271 I1  
27720                             272 I1  ;       ===== 初回の起動時===
27721 000059F6                    273 I1  _POS_CNT_BANK_DTMAK1:
27722                             274 I1          SUB_START
27723 000059F6 4F22                   M           STS.L   PR,@-R15                ;[必要]
27724                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27725                             275 I1  
27726                             276 I1  ;;;;2014-09-14  ----------------------------------------------
27727                             277 I1  ;;;;2014-09-14  MOV.L   #_POS_HOLD_RDY_EXITF2,R1        ;//しょうがない
27728                             278 I1  ;;;;2014-09-14  MOV.W   @R1,R0                          ;
27729                             279 I1  ;;;;2014-09-14  TST     #BIT0,R0                        ;
27730                             280 I1  ;;;;2014-09-14  TST_BIT_OF POSCNT_BANKDT050             ;
27731                             281 I1  ;;;;2014-09-14
27732                             282 I1  ;;;;2014-09-14  MOV.L   #_LINK_RL_OBJ_ABSPLS,R4         ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
27733                             283 I1  ;;;;2014-09-14  MOV.L   @(0,R4),R1                      ;
27734                             284 I1  ;;;;2014-09-14  MOV.L   @(4,R4),R2                      ;
27735                             285 I1  ;;;;2014-09-14  M_BRA   POSCNT_BANKDT075                ;
27736                             286 I1  ;;;;2014-09-14
27737                             287 I1  ;;;;2014-09-14
27738                             288 I1  ;;;;2014-09-14POSCNT_BANKDT050
27739                             289 I1  ;;;;2014-09-14
27740                             290 I1  ;;;;2014-09-14  FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0                      ;20060919
27741                             291 I1  ;;;;2014-09-14
27742                             292 I1  ;;;;2014-09-14  MOV.L   #_LINK_PV_ABSPLS,R4     ;(ﾌﾙｸﾛｰｽﾞ時は対象を変える)
27743                             293 I1  ;;;;2014-09-14  MOV.L   @R4+,R1                         ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   392
PROGRAM NAME =

27744                             294 I1  ;;;;2014-09-14  MOV.L   @R4,R2                          ;
27745                             295 I1  ;;;;2014-09-14
27746                             296 I1  ;;;;2014-09-14POSCNT_BANKDT075
27747                             297 I1  
27748 000059F8 D409               298 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4         ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
27749 000059FA 5140               299 I1          MOV.L   @(0,R4),R1                      ;
27750 000059FC 5241               300 I1          MOV.L   @(4,R4),R2                      ;
27751                             301 I1  
27752 000059FE D509               302 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R5         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
27753 00005A00 2512               303 I1          MOV.L   R1,@R5                          ;
27754 00005A02 1521               304 I1          MOV.L   R2,@(4,R5)                      ;
27755 00005A04 D508               305 I1          MOV.L   #_LINKX_SV_OBJ_ABSPLS,R5        ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
27756 00005A06 2512               306 I1          MOV.L   R1,@R5                          ;
27757 00005A08 1521               307 I1          MOV.L   R2,@(4,R5)                      ;
27758                             308 I1  
27759 00005A0A                    309 I1  POSCNT_BANKDT100
27760                             310 I1  
27761                             311 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;上死点タイマなしで止まる時・止まらない時
27762 00005A0A D008                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27763 00005A0C 400B                   M           JSR     @R0                     ;
27764 00005A0E 0009                   M           NOP                                     ;
27765                             312 I1  
27766 00005A10 D407               313 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4         ;
27767 00005A12 2008               314 I1          TST     R0,R0                           ;
27768                             315 I1          TST_BIT_OF POS_CNT_BANKDTMAK12_COM      ;最終工程でなければ
27769 00005A14 8910                   M           BT      POS_CNT_BANKDTMAK12_COM
27770                             316 I1  
27771 00005A16 D407               317 I1          MOV.L   #_CPOS_SDAT1_STPAPOS2,R4        ;//起動時,その他で演算 8byte data
27772 00005A18 9001               318 I1          MOV.W   #1,R0                           ;
27773                             319 I1          M_BRA   POS_CNT_BANKDTMAK123_COM        ;最終工程相当なら
27774 00005A1A A016                   M           BRA     POS_CNT_BANKDTMAK123_COM
27775 00005A1C 0009                   M           NOP
27776                             320 I1  
27777                             321 I1  
27778                             322 I1  
27779                             323 I1  
27780                             324 I1  
27781                             325 I1  
27782                             326 I1  
27783                             327 I1  
27784                             328 I1  
27785                             329 I1  
27786                             330 I1  
27787                             331 I1  
27788                             332 I1  
27789                                 I1  ***** BEGIN-POOL *****
27790 00005A1E 0001                   I1  DATA FOR SOURCE-LINE 318
27791 00005A20 00000000               I1  DATA FOR SOURCE-LINE 298
27792 00005A24 00000000               I1  DATA FOR SOURCE-LINE 302
27793 00005A28 00000000               I1  DATA FOR SOURCE-LINE 305
27794 00005A2C 00000000               I1  DATA FOR SOURCE-LINE 311
27795 00005A30 00000000               I1  DATA FOR SOURCE-LINE 313
27796 00005A34 00000000               I1  DATA FOR SOURCE-LINE 317
27797                                 I1  ***** END-POOL *****
27798 00005A38                    333 I1  POS_CNT_BANKDTMAK12_COM:
27799                             334 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;
27800 00005A38 D00B                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   393
PROGRAM NAME =

27801 00005A3A 400B                   M           JSR     @R0                     ;
27802 00005A3C 0009                   M           NOP                                     ;
27803                             335 I1  
27804 00005A3E D40B               336 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4         ;//起動時,その他で演算 8byte data
27805 00005A40 2008               337 I1          TST     R0,R0                           ;
27806                             338 I1          TST_BIT_OF POS_CNT_BANKDTMAK12_050      ;
27807 00005A42 8900                   M           BT      POS_CNT_BANKDTMAK12_050
27808 00005A44 D40A               339 I1          MOV.L   #_CPOS_SDAT1_STPAPOS2,R4        ;//起動時,その他で演算 8byte data
27809 00005A46                    340 I1  POS_CNT_BANKDTMAK12_050:
27810                             341 I1  
27811                             342 I1  
27812                             343 I1  
27813 00005A46 D20B               344 I1          MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
27814 00005A48 6021               345 I1          MOV.W   @R2,R0                          ;
27815 00005A4A                    346 I1  POS_CNT_BANKDTMAK123_COM:
27816 00005A4A 70FF               347 I1          ADD     #-1,R0                          ;
27817 00005A4C 4008               348 I1          SHLL2   R0                              ;
27818 00005A4E 4000               349 I1          SHLL    R0                              ;*2
27819 00005A50 340C               350 I1          ADD     R0,R4                           ;
27820 00005A52 6146               351 I1          MOV.L   @R4+,R1                         ;
27821 00005A54 6242               352 I1          MOV.L   @R4,R2                          ;(目標位置)
27822                             353 I1          FAR_JSR #_POS_CNT_BANK_DTMAK_CM,R0      ;LINKXから計算するADDDATA作成
27823 00005A56 D008                   M           MOV.L   #_POS_CNT_BANK_DTMAK_CM,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27824 00005A58 400B                   M           JSR     @R0                     ;
27825 00005A5A 0009                   M           NOP                                     ;
27826                             354 I1          FAR_JSR #_CNT_SPD_SET,R0                ;
27827 00005A5C D007                   M           MOV.L   #_CNT_SPD_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27828 00005A5E 400B                   M           JSR     @R0                     ;
27829 00005A60 0009                   M           NOP                                     ;
27830                             355 I1  
27831                             356 I1  
27832                             357 I1  
27833                             358 I1          SUB_END
27834                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27835 00005A62 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27836                             359 I1          M_RTS
27837 00005A64 000B                   M           RTS                             ;RTSの後ろの
27838 00005A66 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27839                             360 I1  
27840                             361 I1  
27841                             362 I1  
27842                             363 I1  
27843                             364 I1  ;       ***************************************************
27844                             365 I1  ;       ***     速度継続結果の最終ステップ相当か        ***
27845                             366 I1  ;       ***************************************************
27846                             367 I1  ;       ANS R0!=0 最終
27847                                 I1  ***** BEGIN-POOL *****
27848 00005A68 00000000               I1  DATA FOR SOURCE-LINE 334
27849 00005A6C 00000000               I1  DATA FOR SOURCE-LINE 336
27850 00005A70 00000000               I1  DATA FOR SOURCE-LINE 339
27851 00005A74 00000000               I1  DATA FOR SOURCE-LINE 344
27852 00005A78 00000000               I1  DATA FOR SOURCE-LINE 353
27853 00005A7C 00000000               I1  DATA FOR SOURCE-LINE 354
27854                                 I1  ***** END-POOL *****
27855 00005A80                    368 I1  _POS_CNT_LAST_STEP_CHK:
27856                             369 I1          SUB_START
27857 00005A80 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   394
PROGRAM NAME =

27858                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27859                             370 I1          PUSH_REG1 R1
27860 00005A82 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
27861                                 M                                           ;REG=>[SP]
27862                                 M                                           ;"-4" FF,FF,FF,FC
27863                             371 I1          PUSH_REG1 R2
27864 00005A84 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
27865                                 M                                           ;REG=>[SP]
27866                                 M                                           ;"-4" FF,FF,FF,FC
27867                             372 I1          PUSH_REG1 R3
27868 00005A86 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
27869                                 M                                           ;REG=>[SP]
27870                                 M                                           ;"-4" FF,FF,FF,FC
27871                             373 I1  
27872 00005A88 D209               374 I1          MOV.L   #_INT_POS_CTL_STEP,R2           ;//内部制御工程1~11
27873 00005A8A 6021               375 I1          MOV.W   @R2,R0                          ;
27874 00005A8C 70FF               376 I1          ADD     #-1,R0                          ;
27875 00005A8E 4008               377 I1          SHLL2   R0
27876 00005A90 D108               378 I1          MOV.L   #_CPOS_SDAT1_CNTSTEP,R1         ;
27877 00005A92 021E               379 I1          MOV.L   @(R0,R1),R2                     ;現状の工程の目標工程
27878 00005A94 D108               380 I1          MOV.L   #_CPOS_STEP_MAX,R1              ;
27879 00005A96 6311               381 I1          MOV.W   @R1,R3                          ;
27880 00005A98 7301               382 I1          ADD     #1,R3                           ;設定+1(帰りも1ｽﾃｯﾌﾟ)
27881                             383 I1  
27882 00005A9A 200A               384 I1          XOR     R0,R0                           ;
27883 00005A9C 3320               385 I1          CMP/EQ  R2,R3                           ;
27884 00005A9E 8B00               386 I1          BF      POS_CNT_LASTSTEPCHK_END         ;
27885 00005AA0 E0FF               387 I1          MOV     #-1,R0                          ;LAST相当
27886 00005AA2                    388 I1  POS_CNT_LASTSTEPCHK_END:                        ;
27887                             389 I1  
27888                             390 I1          POP_REG1 R3
27889                                 M                                   ; RE"+4" 00,00,00,04
27890 00005AA2 63F6                   M           MOV.L   @R15+,R3        ;
27891                             391 I1          POP_REG1 R2
27892                                 M                                   ; RE"+4" 00,00,00,04
27893 00005AA4 62F6                   M           MOV.L   @R15+,R2        ;
27894                             392 I1          POP_REG1 R1
27895                                 M                                   ; RE"+4" 00,00,00,04
27896 00005AA6 61F6                   M           MOV.L   @R15+,R1        ;
27897                             393 I1  
27898                             394 I1          SUB_END
27899                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27900 00005AA8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27901                             395 I1          M_RTS
27902 00005AAA 000B                   M           RTS                             ;RTSの後ろの
27903 00005AAC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27904                             396 I1  
27905                             397 I1  
27906                             398 I1  
27907                             399 I1  ;       ***********************************
27908                             400 I1  ;       ***                             ***
27909                             401 I1  ;       ***     移動距離のみ            ***
27910                             402 I1  ;       ***                             ***
27911                             403 I1  ;       ***********************************
27912                             404 I1  ;       FAR_JSR #_LENGH_ADD_CALC,R0     ;
27913                             405 I1  ;       が
27914                             406 I1  ;       FAR_JSR #_LENGH_ADD_CALC_SV_TYPE,R0     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   395
PROGRAM NAME =

27915                             407 I1  ;       になっているだけ
27916                             408 I1  ;       (回転途中の演算　１回転分)
27917                                 I1  ***** BEGIN-POOL *****
27918 00005AAE 0000                   I1  ALIGNMENT CODE
27919 00005AB0 00000000               I1  DATA FOR SOURCE-LINE 374
27920 00005AB4 00000000               I1  DATA FOR SOURCE-LINE 378
27921 00005AB8 00000000               I1  DATA FOR SOURCE-LINE 380
27922                                 I1  ***** END-POOL *****
27923 00005ABC                    409 I1  _CNT_SPD_SET:
27924                             410 I1          SUB_START
27925 00005ABC 4F22                   M           STS.L   PR,@-R15                ;[必要]
27926                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27927 00005ABE D207               411 I1          MOV.L   #_INT_POS_CTL_STEP,R2                   ;//内部制御工程1~11
27928 00005AC0 6021               412 I1          MOV.W   @R2,R0                                  ;
27929 00005AC2 70FF               413 I1          ADD     #-1,R0                                  ;
27930 00005AC4 4008               414 I1          SHLL2   R0                                      ;
27931 00005AC6 D406               415 I1          MOV.L   #_CPOS_SDAT1_SPD,R4                     ;       //SETX-->起動時COPY
27932 00005AC8 024E               416 I1          MOV.L   @(R0,R4),R2                             ;
27933 00005ACA D106               417 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1                 ;//目標速度
27934 00005ACC 2122               418 I1          MOV.L   R2,@R1                                  ;
27935                             419 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SETX,R1             ;
27936 00005ACE D106                   M           MOV.L   #_POS_LSI_TOP_SPEED_SETX,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27937 00005AD0 410B                   M           JSR     @R1                     ;
27938 00005AD2 0009                   M           NOP                                     ;
27939                             420 I1          SUB_END
27940                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27941 00005AD4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27942                             421 I1          M_RTS
27943 00005AD6 000B                   M           RTS                             ;RTSの後ろの
27944 00005AD8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27945                             422 I1  
27946                                 I1  ***** BEGIN-POOL *****
27947 00005ADA 0000                   I1  ALIGNMENT CODE
27948 00005ADC 00000000               I1  DATA FOR SOURCE-LINE 411
27949 00005AE0 00000000               I1  DATA FOR SOURCE-LINE 415
27950 00005AE4 00000000               I1  DATA FOR SOURCE-LINE 417
27951 00005AE8 00000000               I1  DATA FOR SOURCE-LINE 419
27952                                 I1  ***** END-POOL *****
27953 00005AEC                    423 I1  _POS_CNT_BANK_DTMAK_CM:
27954                             424 I1          SUB_START
27955 00005AEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
27956                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
27957                             425 I1  
27958                             426 I1          FAR_JSR #_BANK_LENGH_ADD_CALC_SV_TYPE,R0        ;LINKXのみ+
27959 00005AEE D007                   M           MOV.L   #_BANK_LENGH_ADD_CALC_SV_TYPE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
27960 00005AF0 400B                   M           JSR     @R0                     ;
27961 00005AF2 0009                   M           NOP                                     ;
27962                             427 I1  
27963 00005AF4 233A               428 I1          XOR     R3,R3                           ;
27964 00005AF6 4111               429 I1          CMP/PZ  R1                              ;+正転?
27965 00005AF8 8900               430 I1          BT      POS_CNT_BANKDTMKCM_050          ;
27966 00005AFA E301               431 I1          MOV     #BIT0,R3                        ;
27967 00005AFC                    432 I1  POS_CNT_BANKDTMKCM_050
27968 00005AFC D104               433 I1          MOV.L   #_POSLSI_DRIV_SHIN,R1   ;//BIT0
27969 00005AFE 6011               434 I1          MOV.W   @R1,R0                  ;
27970 00005B00 C9FE               435 I1          AND     #LOW ~BIT0,R0           ;
27971 00005B02 203B               436 I1          OR      R3,R0                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   396
PROGRAM NAME =

27972 00005B04 2101               437 I1          MOV.W   R0,@R1                  ;
27973                             438 I1  
27974 00005B06                    439 I1  POS_CNT_BANKDTMKCM_EXT:
27975                             440 I1          SUB_END
27976                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
27977 00005B06 4F26                   M           LDS.L   @R15+,PR                ;[必要]
27978                             441 I1          M_RTS
27979 00005B08 000B                   M           RTS                             ;RTSの後ろの
27980 00005B0A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
27981                             442 I1  
27982                             443 I1  
27983                             444 I1  
27984                             445 I1  
27985                             446 I1  
27986                             447 I1  
27987                             448 I1  
27988                             449 I1  
27989                             450 I1  ;       ***************************************************
27990                             451 I1  ;       ***                                             ***
27991                             452 I1  ;       ***     BANK2 ﾃﾞｰﾀ作成                          ***
27992                             453 I1  ;       ***     起動時BANK1ﾃﾞｰﾀを作成直後に呼ばれる     ***
27993                             454 I1  ;       ***     MODE関係なしで呼ばれるのでこの中でﾁｬｯｸ  ***
27994                             455 I1  ;       ***                                             ***
27995                             456 I1  ;       ***************************************************
27996                             457 I1  ;
27997                                 I1  ***** BEGIN-POOL *****
27998 00005B0C 00000000               I1  DATA FOR SOURCE-LINE 426
27999 00005B10 00000000               I1  DATA FOR SOURCE-LINE 433
28000                                 I1  ***** END-POOL *****
28001 00005B14                    458 I1  _START_CNT_BANK2_MAK_CHK:
28002                             459 I1          SUB_START
28003 00005B14 4F22                   M           STS.L   PR,@-R15                ;[必要]
28004                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28005 00005B16 D108               460 I1          MOV.L   #_CPOS_BANK_USELFUL,R1          ;
28006 00005B18 6011               461 I1          MOV.W   @R1,R0                          ;
28007 00005B1A C801               462 I1          TST     #BIT0,R0                        ;
28008                             463 I1          TST_BIT_OF START_CNT_BANK2_MAKCHK_END   ;
28009 00005B1C 8908                   M           BT      START_CNT_BANK2_MAKCHK_END
28010                             464 I1  
28011 00005B1E D107               465 I1          MOV.L   #_BANK1_CALC_ROT_NUM_ZR,R1      ;
28012 00005B20 6212               466 I1          MOV.L   @R1,R2                          ;
28013 00005B22 7201               467 I1          ADD     #1,R2                           ;
28014                             468 I1          FAR_JSR #_BANK2_CPOS_ABS_POS_SET,R0     ;
28015 00005B24 D006                   M           MOV.L   #_BANK2_CPOS_ABS_POS_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28016 00005B26 400B                   M           JSR     @R0                     ;
28017 00005B28 0009                   M           NOP                                     ;
28018                             469 I1  
28019                             470 I1  ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
28020                             471 I1          FAR_JSR #_HLDCAM_BANK2_ABS_POS_SET,R0   ;ssa_dtmk.src 2014-08-30
28021 00005B2A D006                   M           MOV.L   #_HLDCAM_BANK2_ABS_POS_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28022 00005B2C 400B                   M           JSR     @R0                     ;
28023 00005B2E 0009                   M           NOP                                     ;
28024                             472 I1  
28025 00005B30                    473 I1  START_CNT_BANK2_MAKCHK_END:
28026                             474 I1          SUB_END
28027                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28028 00005B30 4F26                   M           LDS.L   @R15+,PR                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   397
PROGRAM NAME =

28029                             475 I1          M_RTS
28030 00005B32 000B                   M           RTS                             ;RTSの後ろの
28031 00005B34 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28032                             476 I1  
28033                             477 I1  
28034                             478 I1  ;       ***********************************
28035                             479 I1  ;       ***                             ***
28036                             480 I1  ;       ***     工程切り替え            ***
28037                             481 I1  ;       ***     前の機能もここで行う    ***
28038                             482 I1  ;       ***                             ***
28039                             483 I1  ;       ***********************************
28040                             484 I1  ;       Input R2
28041                                 I1  ***** BEGIN-POOL *****
28042 00005B36 0000                   I1  ALIGNMENT CODE
28043 00005B38 00000000               I1  DATA FOR SOURCE-LINE 460
28044 00005B3C 00000000               I1  DATA FOR SOURCE-LINE 465
28045 00005B40 00000000               I1  DATA FOR SOURCE-LINE 468
28046 00005B44 00000000               I1  DATA FOR SOURCE-LINE 471
28047                                 I1  ***** END-POOL *****
28048 00005B48                    485 I1  _BANK_CHK_NEXT_CYCL_STR1;
28049                             486 I1          SUB_START
28050 00005B48 4F22                   M           STS.L   PR,@-R15                ;[必要]
28051                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28052                             487 I1  
28053 00005B4A D10F               488 I1          MOV.L   #_CPOS_BANK_USELFUL,R1          ;
28054 00005B4C 6011               489 I1          MOV.W   @R1,R0                          ;
28055 00005B4E C801               490 I1          TST     #BIT0,R0                        ;
28056                             491 I1          TST_BIT_OF BANKCHKNEXT_CYCL_STR1_020    ;
28057 00005B50 892A                   M           BT      BANKCHKNEXT_CYCL_STR1_020
28058                             492 I1  
28059 00005B52 9417               493 I1          MOV.W   #1,R4                           ;
28060 00005B54 D10D               494 I1          MOV.L   #_SV_POS_CTL_STEP,R1            ;
28061 00005B56 2141               495 I1          MOV.W   R4,@R1                          ;W
28062                             496 I1  
28063                             497 I1          FAR_JSR #_BANK2_TO_BANK1_MOV,R0         ;
28064 00005B58 D00D                   M           MOV.L   #_BANK2_TO_BANK1_MOV,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28065 00005B5A 400B                   M           JSR     @R0                     ;
28066 00005B5C 0009                   M           NOP                                     ;
28067 00005B5E D10D               498 I1          MOV.L   #_BANK2_LINK_OBJROT_NUM_ZR,R1   ;//NOW ROTATION 番号
28068 00005B60 6212               499 I1          MOV.L   @R1,R2                          ;
28069                             500 I1          PUSH_REG1 R2                            ;
28070 00005B62 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
28071                                 M                                           ;REG=>[SP]
28072                                 M                                           ;"-4" FF,FF,FF,FC
28073                             501 I1          FAR_JSR #_CPOS_ROT_NUM_SET,R1           ;
28074 00005B64 D10C                   M           MOV.L   #_CPOS_ROT_NUM_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28075 00005B66 410B                   M           JSR     @R1                     ;
28076 00005B68 0009                   M           NOP                                     ;
28077                             502 I1          POP_REG1 R2                             ;
28078                                 M                                   ; RE"+4" 00,00,00,04
28079 00005B6A 62F6                   M           MOV.L   @R15+,R2        ;
28080 00005B6C 7201               503 I1          ADD     #1,R2                           ;NEW-ROT
28081                             504 I1          FAR_JSR #_BANK2_CPOS_ABS_POS_SET,R0     ;
28082 00005B6E D00B                   M           MOV.L   #_BANK2_CPOS_ABS_POS_SET,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28083 00005B70 400B                   M           JSR     @R0                     ;
28084 00005B72 0009                   M           NOP                                     ;
28085                             505 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   398
PROGRAM NAME =

28086                             506 I1  ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
28087                             507 I1          FAR_JSR #_HLDCAM_BANK2_ABS_POS_SET,R0   ;ssa_dtmk.src 2014-08-30
28088 00005B74 D00A                   M           MOV.L   #_HLDCAM_BANK2_ABS_POS_SET,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28089 00005B76 400B                   M           JSR     @R0                     ;
28090 00005B78 0009                   M           NOP                                     ;
28091                             508 I1  
28092                             509 I1  ;--------2011-05-11----
28093                             510 I1          FAR_JSR #_CNT_BEF_LOT_SIGCHK,R0         ;ｻﾌﾞﾙｰﾁﾝ 2011-05-11
28094 00005B7A D00A                   M           MOV.L   #_CNT_BEF_LOT_SIGCHK,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28095 00005B7C 400B                   M           JSR     @R0                     ;
28096 00005B7E 0009                   M           NOP                                     ;
28097                             511 I1  
28098                             512 I1  ;--------2011-05-05----
28099                             513 I1  ;;      MOV.L   #_CNT_STOP_CMD_BEF1,R1          ;//減速が長い時のロットカウンタの１回転オ
                                          ーバを防ぐ
28100                             514 I1  ;;      MOV.W   @R1,R0                          ;
28101                             515 I1  ;;      TST     R0,R0                           ;
28102                             516 I1  ;;      TST_BIT_OF BANKCHKNEXT_CYCL_STR1_010    ;
28103                             517 I1  ;;      MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
28104                             518 I1  ;;      MOV.W   @R1,R0                          ;
28105                             519 I1  ;;      OR      #BIT0,R0                        ;
28106                             520 I1  ;;      MOV.W   R0,@R1                          ;
28107                             521 I1  ;;BANKCHKNEXT_CYCL_STR1_010:
28108                             522 I1  
28109                             523 I1          M_BRA   BANKCHKNEXT_CYCL_STR1_100       ;
28110 00005B80 A025                   M           BRA     BANKCHKNEXT_CYCL_STR1_100
28111 00005B82 0009                   M           NOP
28112                             524 I1  
28113                                 I1  ***** BEGIN-POOL *****
28114 00005B84 0001                   I1  DATA FOR SOURCE-LINE 493
28115 00005B86 0000                   I1  ALIGNMENT CODE
28116 00005B88 00000000               I1  DATA FOR SOURCE-LINE 488
28117 00005B8C 00000000               I1  DATA FOR SOURCE-LINE 494
28118 00005B90 00000000               I1  DATA FOR SOURCE-LINE 497
28119 00005B94 00000000               I1  DATA FOR SOURCE-LINE 498
28120 00005B98 00000000               I1  DATA FOR SOURCE-LINE 501
28121 00005B9C 00000000               I1  DATA FOR SOURCE-LINE 504
28122 00005BA0 00000000               I1  DATA FOR SOURCE-LINE 507
28123 00005BA4 00000000               I1  DATA FOR SOURCE-LINE 510
28124                                 I1  ***** END-POOL *****
28125 00005BA8                    525 I1  BANKCHKNEXT_CYCL_STR1_020:
28126 00005BA8 D10E               526 I1          MOV.L   #_CPOS_CTL_MATH,R1              ;
28127 00005BAA 6011               527 I1          MOV.W   @R1,R0                          ;
28128 00005BAC C801               528 I1          TST     #_DMATH_CNTROT,R0               ;回転?
28129                             529 I1          TST_BIT_OF BANKCHKNEXT_CYCL_STR1_050
28130 00005BAE 8900                   M           BT      BANKCHKNEXT_CYCL_STR1_050
28131 00005BB0 7201               530 I1          ADD     #1,R2                           ;回転数+1<反転>
28132 00005BB2                    531 I1  BANKCHKNEXT_CYCL_STR1_050:
28133                             532 I1  
28134 00005BB2 9415               533 I1          MOV.W   #1,R4
28135 00005BB4 D10C               534 I1          MOV.L   #_SV_POS_CTL_STEP,R1            ;
28136 00005BB6 2141               535 I1          MOV.W   R4,@R1                          ;(1だけでいいのか/つくり直す必要があるのか
                                          )
28137                             536 I1          PUSH_REG1 R2
28138 00005BB8 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
28139                                 M                                           ;REG=>[SP]
28140                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   399
PROGRAM NAME =

28141                             537 I1          FAR_JSR #_CPOS_ROT_NUM_SET,R1           ;Input R2 回転
28142 00005BBA D10C                   M           MOV.L   #_CPOS_ROT_NUM_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28143 00005BBC 410B                   M           JSR     @R1                     ;
28144 00005BBE 0009                   M           NOP                                     ;
28145                             538 I1          POP_REG1 R2
28146                                 M                                   ; RE"+4" 00,00,00,04
28147 00005BC0 62F6                   M           MOV.L   @R15+,R2        ;
28148                             539 I1          FAR_JSR #_CPOS_ABS_POS_SET,R1           ;Input R2 回転
28149 00005BC2 D10B                   M           MOV.L   #_CPOS_ABS_POS_SET,R1           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28150 00005BC4 410B                   M           JSR     @R1                     ;
28151 00005BC6 0009                   M           NOP                                     ;
28152                             540 I1  
28153                             541 I1  ;       --------- 2014-08-30 ﾎｰﾙﾄﾞ位置-----------
28154                             542 I1          FAR_JSR #_HLDCAM_ABS_POS_SET,R0         ;2014-08-30
28155 00005BC8 D00A                   M           MOV.L   #_HLDCAM_ABS_POS_SET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28156 00005BCA 400B                   M           JSR     @R0                     ;
28157 00005BCC 0009                   M           NOP                                     ;
28158                             543 I1  
28159 00005BCE                    544 I1  BANKCHKNEXT_CYCL_STR1_100:
28160                             545 I1  ;       =====2003-07-09 速度============
28161                             546 I1          FAR_JSR #_CPOS_SPD_DTMOV,R0             ;
28162 00005BCE D00A                   M           MOV.L   #_CPOS_SPD_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28163 00005BD0 400B                   M           JSR     @R0                     ;
28164 00005BD2 0009                   M           NOP                                     ;
28165                             547 I1  ;       ===== 2003-07-14 TIME ======
28166                             548 I1          FAR_JSR #_CPOS_TIM_DTMOV,R0             ;
28167 00005BD4 D009                   M           MOV.L   #_CPOS_TIM_DTMOV,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28168 00005BD6 400B                   M           JSR     @R0                     ;
28169 00005BD8 0009                   M           NOP                                     ;
28170                             549 I1  
28171                             550 I1  
28172                             551 I1  
28173                             552 I1          SUB_END
28174                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28175 00005BDA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28176                             553 I1          M_RTS
28177 00005BDC 000B                   M           RTS                             ;RTSの後ろの
28178 00005BDE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28179                             554 I1  
28180                             555 I1  ;       ***************************************************
28181                             556 I1  ;       ***                                             ***
28182                             557 I1  ;       ***     2011-05-11                              ***
28183                             558 I1  ;       ***     ロットカウンタUPの1回転前信号           ***
28184                             559 I1  ;       ***     起動時点でこれがONならこの回転で止める  ***
28185                             560 I1  ;       ***                                             ***
28186                             561 I1  ;       ***************************************************
28187                             562 I1  ;
28188                                 I1  ***** BEGIN-POOL *****
28189 00005BE0 0001                   I1  DATA FOR SOURCE-LINE 533
28190 00005BE2 0000                   I1  ALIGNMENT CODE
28191 00005BE4 00000000               I1  DATA FOR SOURCE-LINE 526
28192 00005BE8 00000000               I1  DATA FOR SOURCE-LINE 534
28193 00005BEC 00000000               I1  DATA FOR SOURCE-LINE 537
28194 00005BF0 00000000               I1  DATA FOR SOURCE-LINE 539
28195 00005BF4 00000000               I1  DATA FOR SOURCE-LINE 542
28196 00005BF8 00000000               I1  DATA FOR SOURCE-LINE 546
28197 00005BFC 00000000               I1  DATA FOR SOURCE-LINE 548
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   400
PROGRAM NAME =

28198                                 I1  ***** END-POOL *****
28199 00005C00                    563 I1          .ALIGN  4                               ;
28200 00005C00                    564 I1  _CNT_BEF_LOT_SIGCHK:
28201                             565 I1          SUB_START
28202 00005C00 4F22                   M           STS.L   PR,@-R15                ;[必要]
28203                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28204                             566 I1  
28205 00005C02 D105               567 I1          MOV.L   #_CNT_STOP_CMD_BEF1,R1          ;//減速が長い時のロットカウンタの１回転オ
                                          ーバを防ぐ
28206 00005C04 6011               568 I1          MOV.W   @R1,R0                          ;
28207 00005C06 2008               569 I1          TST     R0,R0                           ;
28208                             570 I1          TST_BIT_OF BANKCHKNEXT_CYCL_STR1_010    ;
28209 00005C08 8903                   M           BT      BANKCHKNEXT_CYCL_STR1_010
28210 00005C0A D104               571 I1          MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
28211 00005C0C 6011               572 I1          MOV.W   @R1,R0                          ;
28212 00005C0E CB01               573 I1          OR      #BIT0,R0                        ;
28213 00005C10 2101               574 I1          MOV.W   R0,@R1                          ;
28214 00005C12                    575 I1  BANKCHKNEXT_CYCL_STR1_010:
28215                             576 I1  
28216                             577 I1          SUB_END
28217                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28218 00005C12 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28219                             578 I1          M_RTS
28220 00005C14 000B                   M           RTS                             ;RTSの後ろの
28221 00005C16 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28222                             579 I1  
28223                             580 I1  ;       ***************************************************
28224                             581 I1  ;       ***     停止があるタイプ                        ***
28225                             582 I1  ;       ***     停止がないタイプでも１回転部では可能    ***
28226                             583 I1  ;       ***     BIT3=0 BIT2=1                           ***
28227                             584 I1  ;       ***************************************************
28228                                 I1  ***** BEGIN-POOL *****
28229 00005C18 00000000               I1  DATA FOR SOURCE-LINE 567
28230 00005C1C 00000000               I1  DATA FOR SOURCE-LINE 571
28231                                 I1  ***** END-POOL *****
28232 00005C20                    585 I1          .ALIGN  4                               ;
28233 00005C20                    586 I1  _BANK_CNT_STOP_CHK_TYP1
28234                             587 I1          SUB_START
28235 00005C20 4F22                   M           STS.L   PR,@-R15                ;[必要]
28236                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28237                             588 I1  
28238 00005C22 D10F               589 I1          MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
28239 00005C24 6011               590 I1          MOV.W   @R1,R0                          ;
28240 00005C26 2008               591 I1          TST     R0,R0                           ;
28241                             592 I1          TST_BIT_ON BANK_CNT_STOPCHK_TYP1_200    ;停止減算完了
28242 00005C28 8B16                   M           BF      BANK_CNT_STOPCHK_TYP1_200
28243                             593 I1  
28244                             594 I1          FAR_JSR #_POS_CNT_LAST_STEP_CHK,R0      ;
28245 00005C2A D00E                   M           MOV.L   #_POS_CNT_LAST_STEP_CHK,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28246 00005C2C 400B                   M           JSR     @R0                     ;
28247 00005C2E 0009                   M           NOP                                     ;
28248 00005C30 2008               595 I1          TST     R0,R0                           ;
28249                             596 I1          TST_BIT_OF BANK_CNT_STOPCHK_TYP1_200
28250 00005C32 8911                   M           BT      BANK_CNT_STOPCHK_TYP1_200
28251                             597 I1  
28252                             598 I1          FAR_JSR #_CNT_SUB_DATA_CALC,R0          ;
28253 00005C34 D00C                   M           MOV.L   #_CNT_SUB_DATA_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   401
PROGRAM NAME =

28254 00005C36 400B                   M           JSR     @R0                     ;
28255 00005C38 0009                   M           NOP                                     ;
28256                             599 I1  
28257 00005C3A D10C               600 I1          MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
28258 00005C3C 6011               601 I1          MOV.W   @R1,R0                          ;
28259 00005C3E C801               602 I1          TST     #BIT0,R0                        ;
28260                             603 I1          TST_BIT_OF BANK_CNT_STOPCHK_TYP1_200;
28261 00005C40 890A                   M           BT      BANK_CNT_STOPCHK_TYP1_200
28262                             604 I1  
28263                             605 I1  ;       ----- 停止ｺﾏﾝﾄﾞON -----
28264                             606 I1          FAR_JSR #_CNT_STOP_CMD_DATA_SUB1,R0     ;(連続ALL-ではこの処理はない：足しにいく処
                                          理にこない)
28265 00005C42 D00B                   M           MOV.L   #_CNT_STOP_CMD_DATA_SUB1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28266 00005C44 400B                   M           JSR     @R0                     ;
28267 00005C46 0009                   M           NOP                                     ;
28268                             607 I1  
28269                             608 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1  ;
28270 00005C48 D10A                   M           MOV.L   #_STOP_LATCH,R1         ;
28271 00005C4A 6011                   M           MOV.W   @R1,R0          ;
28272 00005C4C CB01                   M           OR      #BIT0,R0                ;
28273 00005C4E 2101                   M           MOV.W   R0,@R1          ;
28274                             609 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT1,WKREG=R1   ;
28275 00005C50 D103                   M           MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
28276 00005C52 6011                   M           MOV.W   @R1,R0          ;
28277 00005C54 CB02                   M           OR      #BIT1,R0                ;
28278 00005C56 2101                   M           MOV.W   R0,@R1          ;
28279                             610 I1  
28280                             611 I1  
28281                             612 I1  
28282 00005C58                    613 I1  BANK_CNT_STOPCHK_TYP1_200
28283                             614 I1  
28284                             615 I1          SUB_END
28285                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28286 00005C58 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28287                             616 I1          M_RTS
28288 00005C5A 000B                   M           RTS                             ;RTSの後ろの
28289 00005C5C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28290                             617 I1  
28291                             618 I1  
28292                             619 I1  ;       *******************************************
28293                             620 I1  ;       ***                                     ***
28294                             621 I1  ;       ***     通常運転状態での停止処理        ***
28295                             622 I1  ;       ***                                     ***
28296                             623 I1  ;       *******************************************
28297                                 I1  ***** BEGIN-POOL *****
28298 00005C5E 0000                   I1  ALIGNMENT CODE
28299 00005C60 00000000               I1  DATA FOR SOURCE-LINE 589,609
28300 00005C64 00000000               I1  DATA FOR SOURCE-LINE 594
28301 00005C68 00000000               I1  DATA FOR SOURCE-LINE 598
28302 00005C6C 00000000               I1  DATA FOR SOURCE-LINE 600
28303 00005C70 00000000               I1  DATA FOR SOURCE-LINE 606
28304 00005C74 00000000               I1  DATA FOR SOURCE-LINE 608
28305                                 I1  ***** END-POOL *****
28306          000007D0           624 I1  _PROC_2MS_PLS   .EQU    2000    ;2000pls 500KHZ=500pls
28307                             625 I1  
28308 00005C78                    626 I1  _CNT_GPOINT_STOP_TYP2:
28309                             627 I1          SUB_START
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   402
PROGRAM NAME =

28310 00005C78 4F22                   M           STS.L   PR,@-R15                ;[必要]
28311                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28312 00005C7A D11F               628 I1          MOV.L   #_STOP_LATCH_B,R1                       ;//BIT0:ｽﾄｯﾌﾟ釦
28313 00005C7C 6011               629 I1          MOV.W   @R1,R0                                  ;
28314 00005C7E C801               630 I1          TST     #BIT0,R0                                ;
28315                             631 I1          TST_BIT_OF CNT_GPOINT_STOPTYP2_100              ;
28316 00005C80 8937                   M           BT      CNT_GPOINT_STOPTYP2_100
28317                             632 I1  
28318                             633 I1          FAR_JSR #_CNT_SUB_DATA_CALC,R0                  ;引きたい量
28319 00005C82 D01E                   M           MOV.L   #_CNT_SUB_DATA_CALC,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28320 00005C84 400B                   M           JSR     @R0                     ;
28321 00005C86 0009                   M           NOP                                     ;
28322                             634 I1  
28323                             635 I1  ;;2007-03-02    TST     R0,R0                                   ;
28324                             636 I1  ;;2007-03-02    TST_BIT_ON CNT_GPOINT_STOPTYP2_100              ;減算不可JUMP
28325                             637 I1  
28326                             638 I1  ;       -------- 2007-03-02------
28327                             639 I1          FAR_JSR #_CMP_CNT_CTLGENSOK,R0                  ;
28328 00005C88 D01D                   M           MOV.L   #_CMP_CNT_CTLGENSOK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28329 00005C8A 400B                   M           JSR     @R0                     ;
28330 00005C8C 0009                   M           NOP                                     ;
28331 00005C8E 88FF               640 I1          CMP/EQ  #-1,R0                                  ;
28332 00005C90 892F               641 I1          BT      CNT_GPOINT_STOPTYP2_100                 ;減算不可JUMP(ERR)
28333                             642 I1  
28334 00005C92 2008               643 I1          TST     R0,R0                                   ;
28335                             644 I1          TST_BIT_OF CNT_GPOINT_STOPTYP2_050              ;止まれる
28336 00005C94 8908                   M           BT      CNT_GPOINT_STOPTYP2_050
28337                             645 I1  
28338                             646 I1  ;       ---- 相手CPUはなんていっているの-----
28339                             647 I1          FAR_JSR #_CPU_BA_CST_ON_JG,R0                   ;
28340 00005C96 D01B                   M           MOV.L   #_CPU_BA_CST_ON_JG,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28341 00005C98 400B                   M           JSR     @R0                     ;
28342 00005C9A 0009                   M           NOP                                     ;
28343 00005C9C 2008               648 I1          TST     R0,R0                                   ;
28344                             649 I1          TST_BIT_OF CNT_GPOINT_STOPTYP2_100              ;相手は停まるといっていいないJUMP
28345 00005C9E 8928                   M           BT      CNT_GPOINT_STOPTYP2_100
28346                             650 I1  
28347                             651 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CMP_RECOVER_FLG,LG=W,BIT=BIT1,WKREG=R1     ;bit-set
28348 00005CA0 D119                   M           MOV.L   #_CMP_RECOVER_FLG,R1            ;
28349 00005CA2 6011                   M           MOV.W   @R1,R0          ;
28350 00005CA4 CB02                   M           OR      #BIT1,R0                ;
28351 00005CA6 2101                   M           MOV.W   R0,@R1          ;
28352                             652 I1  
28353 00005CA8                    653 I1  CNT_GPOINT_STOPTYP2_050:
28354 00005CA8 D418               654 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4                                       ;
28355 00005CAA 6242               655 I1          MOV.L   @R4,R2                                                          ;
28356 00005CAC 632B               656 I1          NEG     R2,R3                                                           ;
28357                             657 I1  
28358                             658 I1          POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R1,DAT_REG=R3           ;
28359                                 M           PUSH_REG1 R1
28360 00005CAE 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
28361                                 M                                           ;REG=>[SP]
28362                                 M                                           ;"-4" FF,FF,FF,FC
28363                                 M           PUSH_REG1 R3
28364 00005CB0 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
28365                                 M                                           ;REG=>[SP]
28366                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   403
PROGRAM NAME =

28367                                 M           POS_LSI_WORD_DUM_LOD                                    ;
28368                                 M           PUSH_REG1 R0
28369 00005CB2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28370                                 M                                           ;REG=>[SP]
28371                                 M                                           ;"-4" FF,FF,FF,FC
28372 00005CB4 D016                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
28373 00005CB6 6001                   M           MOV.W   @R0,R0
28374                                 M           POP_REG1 R0
28375                                 M                                   ; RE"+4" 00,00,00,04
28376 00005CB8 60F6                   M           MOV.L   @R15+,R0        ;
28377 00005CBA D116                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_OutPposL,R1                ;
28378 00005CBC 2131                   M           MOV.W   R3,@R1                          ;(LOW)
28379 00005CBE 7102                   M           ADD     #2,R1                                   ;
28380 00005CC0 6339                   M           SWAP.W  R3,R3                           ;
28381                                 M           POS_LSI_WORD_DUM_LOD                                    ;
28382                                 M           PUSH_REG1 R0
28383 00005CC2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28384                                 M                                           ;REG=>[SP]
28385                                 M                                           ;"-4" FF,FF,FF,FC
28386 00005CC4 D012                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
28387 00005CC6 6001                   M           MOV.W   @R0,R0
28388                                 M           POP_REG1 R0
28389                                 M                                   ; RE"+4" 00,00,00,04
28390 00005CC8 60F6                   M           MOV.L   @R15+,R0        ;
28391 00005CCA 2131                   M           MOV.W   R3,@R1                          ;(HIGH)
28392                                 M           POS_LSI_WORD_DUM_LOD                                    ;
28393                                 M           PUSH_REG1 R0
28394 00005CCC 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28395                                 M                                           ;REG=>[SP]
28396                                 M                                           ;"-4" FF,FF,FF,FC
28397 00005CCE D010                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
28398 00005CD0 6001                   M           MOV.W   @R0,R0
28399                                 M           POP_REG1 R0
28400                                 M                                   ; RE"+4" 00,00,00,04
28401 00005CD2 60F6                   M           MOV.L   @R15+,R0        ;
28402                                 M           POP_REG1 R3
28403                                 M                                   ; RE"+4" 00,00,00,04
28404 00005CD4 63F6                   M           MOV.L   @R15+,R3        ;
28405                                 M           POP_REG1 R1
28406                                 M                                   ; RE"+4" 00,00,00,04
28407 00005CD6 61F6                   M           MOV.L   @R15+,R1        ;
28408                             659 I1  
28409                             660 I1          FAR_JSR #_CNT_STOP_CMD_DATA_SUB1,R0                                     ;LINK_SV_O
                                          BJ_ABSPLS-ESUB
28410 00005CD8 D00F                   M           MOV.L   #_CNT_STOP_CMD_DATA_SUB1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28411 00005CDA 400B                   M           JSR     @R0                     ;
28412 00005CDC 0009                   M           NOP                                     ;
28413                             661 I1          FAR_JSR #_CNT_STOP_CMD_DATA_SUB2,R0                                     ;
28414 00005CDE D00F                   M           MOV.L   #_CNT_STOP_CMD_DATA_SUB2,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28415 00005CE0 400B                   M           JSR     @R0                     ;
28416 00005CE2 0009                   M           NOP                                     ;
28417                             662 I1  
28418                             663 I1  ;;;;    MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1          ;
28419                             664 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT1,WKREG=R1   ;
28420 00005CE4 D10E                   M           MOV.L   #_CNT_STOP_CTRL_FLG,R1          ;
28421 00005CE6 6011                   M           MOV.W   @R1,R0          ;
28422 00005CE8 CB02                   M           OR      #BIT1,R0                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   404
PROGRAM NAME =

28423 00005CEA 2101                   M           MOV.W   R0,@R1          ;
28424                             665 I1  
28425                             666 I1  ;       ----- 2007-03-02---
28426                             667 I1          FAR_JSR #_STOP_LTH_OUT,R0
28427 00005CEC D00D                   M           MOV.L   #_STOP_LTH_OUT,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28428 00005CEE 400B                   M           JSR     @R0                     ;
28429 00005CF0 0009                   M           NOP                                     ;
28430                             668 I1  
28431                             669 I1  
28432 00005CF2                    670 I1  CNT_GPOINT_STOPTYP2_100:
28433                             671 I1          SUB_END
28434                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28435 00005CF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28436                             672 I1          M_RTS
28437 00005CF4 000B                   M           RTS                             ;RTSの後ろの
28438 00005CF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28439                             673 I1  
28440                             674 I1  
28441                             675 I1  ;;_CNT_GPOINT_STOP_TYP2:
28442                             676 I1  ;;      SUB_START
28443                             677 I1  ;;      MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
28444                             678 I1  ;;      MOV.W   @R1,R0                          ;
28445                             679 I1  ;       TST     #BIT0,R0                        ;
28446                             680 I1  ;;      TST_BIT_OF CNT_GPOINT_STOPTYP2_100      ;
28447                             681 I1  ;;
28448                             682 I1  ;;      FAR_JSR #_CNT_SUB_DATA_CALC,R0          ;引きたい量
28449                             683 I1  ;;
28450                             684 I1  ;;      MOV.L   #_CONT_STOP_END_SUBPLS,R4       ;
28451                             685 I1  ;;      MOV.L   @R4,R2                          ;
28452                             686 I1  ;;      NEG     R2,R3                           ;
28453                             687 I1  ;;
28454                             688 I1  ;;      MOV.W   #_PROC_2MS_PLS,R4               ;
28455                             689 I1  ;;      ADD     R4,R2                           ;
28456                             690 I1  ;;      FAR_JSR #_LOAD_GPOINT_PLS,R0            ;2004-12-19
28457                             691 I1  ;;      MOV     R0,R6                           ;R/W 減速点=R6
28458                             692 I1  ;;      ADD     R6,R2                           ;
28459                             693 I1  ;;
28460                             694 I1  ;;      FAR_JSR #_LOAD_REST_PLS,R0                              ;ANS R0
28461                             695 I1  ;;      SUBPLS+GPOSINT+1000PLS ≦残りﾊﾟﾙｽ                       ;
28462                             696 I1  ;;      CMP/GE  R2,R0                                           ;
28463                             697 I1  ;;      BF      CNT_GPOINT_STOPTYP2_100                         ;減算不可JUMP
28464                             698 I1  ;;
28465                             699 I1  ;;      POS_LSI_32BIT_DAT_SET ADR=_PLS_OutPposL,ADR_REG=R1,DAT_REG=R3           ;
28466                             700 I1  ;;
28467                             701 I1  ;;      FAR_JSR #_CNT_STOP_CMD_DATA_SUB1,R0                                     ;
28468                             702 I1  ;;      FAR_JSR #_CNT_STOP_CMD_DATA_SUB2,R0                                     ;
28469                             703 I1  ;;
28470                             704 I1  ;;      MEM1_BIT0_TO_BIT7_ORSET MEM=_STOP_LATCH,LG=W,BIT=BIT0,WKREG=R1          ;
28471                             705 I1  ;;      MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_STOP_CTRL_FLG,LG=W,BIT=BIT1,WKREG=R1   ;
28472                             706 I1  ;;
28473                             707 I1  ;;
28474                             708 I1  ;;CNT_GPOINT_STOPTYP2_100:
28475                             709 I1  ;;
28476                             710 I1  ;;
28477                             711 I1  ;;      SUB_END
28478                             712 I1  ;;      M_RTS
28479                             713 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   405
PROGRAM NAME =

28480                             714 I1  ;       ***************************
28481                             715 I1  ;       ***     停止演算        ***
28482                             716 I1  ;       ***************************
28483                             717 I1  ;       CASE1:完全連続  --->    止まれる位置：残りパルス≧１回転(SV_OBJ_-最終)＋今の減速点
28484                             718 I1  ;       CASE2:ﾀｲﾏ有り   --->    最終工程相当の動作開始時にﾊﾟﾙｽを足さない(減算処理完了)
28485                             719 I1  ;                               動作中最終工程相当にパルスを減らす(SV-OBJ-最終)
28486                             720 I1  ;(起動時)
28487                                 I1  ***** BEGIN-POOL *****
28488 00005CF8 00000000               I1  DATA FOR SOURCE-LINE 628
28489 00005CFC 00000000               I1  DATA FOR SOURCE-LINE 633
28490 00005D00 00000000               I1  DATA FOR SOURCE-LINE 639
28491 00005D04 00000000               I1  DATA FOR SOURCE-LINE 647
28492 00005D08 00000000               I1  DATA FOR SOURCE-LINE 651
28493 00005D0C 00000000               I1  DATA FOR SOURCE-LINE 654
28494 00005D10 00000000               I1  DATA FOR SOURCE-LINE 658,658,658
28495 00005D14 00000000               I1  DATA FOR SOURCE-LINE 658
28496 00005D18 00000000               I1  DATA FOR SOURCE-LINE 660
28497 00005D1C 00000000               I1  DATA FOR SOURCE-LINE 661
28498 00005D20 00000000               I1  DATA FOR SOURCE-LINE 664
28499 00005D24 00000000               I1  DATA FOR SOURCE-LINE 667
28500                                 I1  ***** END-POOL *****
28501 00005D28                    721 I1  _CNT_SUB_DATA_CALC:
28502                             722 I1          SUB_START
28503 00005D28 4F22                   M           STS.L   PR,@-R15                ;[必要]
28504                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28505                             723 I1  
28506 00005D2A D111               724 I1          MOV.L   #_CPOS_STEP_MAX,R1                              ;
28507 00005D2C 6011               725 I1          MOV.W   @R1,R0                                          ;+1して-1した計算
28508 00005D2E D411               726 I1          MOV.L   #_CPOS_SDAT1_STPAPOS,R4                                 ;
28509 00005D30 4008               727 I1          SHLL2   R0                                                      ;
28510 00005D32 4000               728 I1          SHLL    R0                                                      ;
28511 00005D34 340C               729 I1          ADD     R0,R4                                                   ;
28512 00005D36 6546               730 I1          MOV.L   @R4+,R5                                                 ;
28513 00005D38 6642               731 I1          MOV.L   @R4,R6                                                  ;目標位置(SV_OBJ_A
                                          BSPLS)
28514                             732 I1  
28515 00005D3A D40F               733 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;
28516 00005D3C 6146               734 I1          MOV.L   @R4+,R1                                                 ;
28517 00005D3E 6242               735 I1          MOV.L   @R4,R2                                                  ;
28518                             736 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
28519 00005D40 0008                   M           CLRT
28520 00005D42 326A                   M           SUBC    R6,R2
28521 00005D44 315A                   M           SUBC    R5,R1
28522                             737 I1  
28523 00005D46 4111               738 I1          CMP/PZ  R1                              ;
28524 00005D48 8901               739 I1          BT      CNT_SUB_DATACALC_100            ;
28525 00005D4A 211A               740 I1          XOR     R1,R1                           ;
28526 00005D4C 222A               741 I1          XOR     R2,R2                           ;ERR(-)
28527                             742 I1  
28528 00005D4E                    743 I1  CNT_SUB_DATACALC_100:
28529 00005D4E 2118               744 I1          TST     R1,R1                           ;
28530                             745 I1          TST_BIT_ON CNT_SUB_DATACALC_120         ;ERR(over)
28531 00005D50 8B02                   M           BF      CNT_SUB_DATACALC_120
28532                             746 I1  
28533 00005D52 D10A               747 I1          MOV.L   #H'3FFFFFF,R1                   ;(本当はPLS*2+)
28534 00005D54 3122               748 I1          CMP/HS  R2,R1                           ;
28535 00005D56 8905               749 I1          BT      CNT_SUB_DATACALC_150            ;許す
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   406
PROGRAM NAME =

28536 00005D58                    750 I1  CNT_SUB_DATACALC_120:
28537 00005D58 211A               751 I1          XOR     R1,R1                           ;
28538 00005D5A 222A               752 I1          XOR     R2,R2                           ;ERR(over)
28539                             753 I1  
28540                             754 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_BANK_CALC_ERR,LG=W,BIT=BIT0,WKREG=R1   ;
28541 00005D5C D108                   M           MOV.L   #_CNT_BANK_CALC_ERR,R1          ;
28542 00005D5E 6011                   M           MOV.W   @R1,R0          ;
28543 00005D60 CB01                   M           OR      #BIT0,R0                ;
28544 00005D62 2101                   M           MOV.W   R0,@R1          ;
28545                             755 I1  
28546 00005D64                    756 I1  CNT_SUB_DATACALC_150:
28547 00005D64 D407               757 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4       ;
28548 00005D66 2422               758 I1          MOV.L   R2,@R4                          ;
28549                             759 I1  
28550                             760 I1  ;       (目標)-R2(待機点)
28551                             761 I1          SUB_END
28552                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28553 00005D68 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28554                             762 I1          M_RTS
28555 00005D6A 000B                   M           RTS                             ;RTSの後ろの
28556 00005D6C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28557                             763 I1  
28558                             764 I1  
28559                             765 I1  
28560                             766 I1  
28561                             767 I1  
28562                             768 I1  
28563                             769 I1  
28564                             770 I1  
28565                             771 I1  
28566                             772 I1  
28567                             773 I1  
28568                             774 I1  ;       ***********************************
28569                             775 I1  ;       ***     データの減算1           ***
28570                             776 I1  ;       ***********************************
28571                             777 I1  ;       条件はこの上で見る
28572                                 I1  ***** BEGIN-POOL *****
28573 00005D6E 0000                   I1  ALIGNMENT CODE
28574 00005D70 00000000               I1  DATA FOR SOURCE-LINE 724
28575 00005D74 00000000               I1  DATA FOR SOURCE-LINE 726
28576 00005D78 00000000               I1  DATA FOR SOURCE-LINE 733
28577 00005D7C 03FFFFFF               I1  DATA FOR SOURCE-LINE 747
28578 00005D80 00000000               I1  DATA FOR SOURCE-LINE 754
28579 00005D84 00000000               I1  DATA FOR SOURCE-LINE 757
28580                                 I1  ***** END-POOL *****
28581 00005D88                    778 I1  _CNT_STOP_CMD_DATA_SUB1:
28582                             779 I1          SUB_START
28583 00005D88 4F22                   M           STS.L   PR,@-R15                ;[必要]
28584                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28585                             780 I1  
28586 00005D8A D410               781 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4                               ;
28587 00005D8C 6642               782 I1          MOV.L   @R4,R6                                                  ;
28588 00005D8E 255A               783 I1          XOR     R5,R5                                                   ;
28589                             784 I1  
28590 00005D90 D40F               785 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;
28591 00005D92 6142               786 I1          MOV.L   @R4,R1                                                  ;
28592 00005D94 5241               787 I1          MOV.L   @(4,R4),R2                                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   407
PROGRAM NAME =

28593                             788 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
28594 00005D96 0008                   M           CLRT
28595 00005D98 326A                   M           SUBC    R6,R2
28596 00005D9A 315A                   M           SUBC    R5,R1
28597 00005D9C 2412               789 I1          MOV.L   R1,@R4                                                  ;
28598 00005D9E 1421               790 I1          MOV.L   R2,@(4,R4)                                              ;
28599 00005DA0 D40C               791 I1          MOV.L   #_LINKX_SV_OBJ_ABSPLS,R4                                ;
28600 00005DA2 2412               792 I1          MOV.L   R1,@R4                                                  ;
28601 00005DA4 1421               793 I1          MOV.L   R2,@(4,R4)                                              ;
28602                             794 I1  
28603 00005DA6 D40C               795 I1          MOV.L   #_LNGTH_ADD_DATA,R4                                     ;//符号付き
28604 00005DA8 6142               796 I1          MOV.L   @R4,R1                                                  ;
28605 00005DAA 5241               797 I1          MOV.L   @(4,R4),R2                                              ;
28606                             798 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
28607 00005DAC 0008                   M           CLRT
28608 00005DAE 326A                   M           SUBC    R6,R2
28609 00005DB0 315A                   M           SUBC    R5,R1
28610                             799 I1  
28611 00005DB2 4111               800 I1          CMP/PZ  R1
28612 00005DB4 8901               801 I1          BT      CNT_STOP_CMD_DATSUB1_100                                ;
28613 00005DB6 211A               802 I1          XOR     R1,R1                                                   ;
28614 00005DB8 222A               803 I1          XOR     R2,R2                                                   ;
28615 00005DBA                    804 I1  CNT_STOP_CMD_DATSUB1_100:                                               ;
28616                             805 I1  
28617 00005DBA 2412               806 I1          MOV.L   R1,@R4                                                  ;
28618 00005DBC 1421               807 I1          MOV.L   R2,@(4,R4)                                              ;
28619                             808 I1  
28620 00005DBE D407               809 I1          MOV.L   #_LT_LNGTH_ADD_DATA,R4                                  ;//符号付き
28621 00005DC0 2412               810 I1          MOV.L   R1,@R4                                                  ;
28622 00005DC2 1421               811 I1          MOV.L   R2,@(4,R4)                                              ;
28623                             812 I1  
28624                             813 I1  
28625                             814 I1          SUB_END
28626                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28627 00005DC4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28628                             815 I1          M_RTS
28629 00005DC6 000B                   M           RTS                             ;RTSの後ろの
28630 00005DC8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28631                             816 I1  
28632                             817 I1  
28633                                 I1  ***** BEGIN-POOL *****
28634 00005DCA 0000                   I1  ALIGNMENT CODE
28635 00005DCC 00000000               I1  DATA FOR SOURCE-LINE 781
28636 00005DD0 00000000               I1  DATA FOR SOURCE-LINE 785
28637 00005DD4 00000000               I1  DATA FOR SOURCE-LINE 791
28638 00005DD8 00000000               I1  DATA FOR SOURCE-LINE 795
28639 00005DDC 00000000               I1  DATA FOR SOURCE-LINE 809
28640                                 I1  ***** END-POOL *****
28641 00005DE0                    818 I1  _CNT_STOP_CMD_DATA_SUB2:
28642                             819 I1          SUB_START
28643 00005DE0 4F22                   M           STS.L   PR,@-R15                ;[必要]
28644                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28645 00005DE2 D40A               820 I1          MOV.L   #_CONT_STOP_END_SUBPLS,R4                               ;
28646 00005DE4 6642               821 I1          MOV.L   @R4,R6                                                  ;
28647 00005DE6 255A               822 I1          XOR     R5,R5                                                   ;
28648                             823 I1  
28649 00005DE8 D409               824 I1          MOV.L   #_LNGTH_TOTAL_OUTPLS,R4                                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   408
PROGRAM NAME =

28650 00005DEA 6142               825 I1          MOV.L   @R4,R1                                                  ;
28651 00005DEC 5241               826 I1          MOV.L   @(4,R4),R2                                              ;
28652                             827 I1          SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;
28653 00005DEE 0008                   M           CLRT
28654 00005DF0 326A                   M           SUBC    R6,R2
28655 00005DF2 315A                   M           SUBC    R5,R1
28656                             828 I1  
28657 00005DF4 4111               829 I1          CMP/PZ  R1                                                      ;
28658 00005DF6 8901               830 I1          BT      CNT_STOP_CMD_DATSUB2_100                                ;
28659 00005DF8 211A               831 I1          XOR     R1,R1
28660 00005DFA 222A               832 I1          XOR     R2,R2
28661 00005DFC                    833 I1  CNT_STOP_CMD_DATSUB2_100:
28662 00005DFC 2412               834 I1          MOV.L   R1,@R4                                                  ;
28663 00005DFE 1421               835 I1          MOV.L   R2,@(4,R4)                                              ;
28664                             836 I1  
28665 00005E00 D404               837 I1          MOV.L   #_LT_LNGTH_TOTAL_OUTPLS,R4                              ;
28666 00005E02 2412               838 I1          MOV.L   R1,@R4                                                  ;
28667 00005E04 1421               839 I1          MOV.L   R2,@(4,R4)                                              ;
28668                             840 I1  
28669                             841 I1          SUB_END
28670                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28671 00005E06 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28672                             842 I1          M_RTS
28673 00005E08 000B                   M           RTS                             ;RTSの後ろの
28674 00005E0A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28675                             843 I1  
28676                             844 I1  
28677                            8827     
28678                            8828     
28679                            8829     ;       ***********************************
28680                            8830     ;       ***                             ***
28681                            8831     ;       ***     2006-05-09              ***
28682                            8832     ;       ***                             ***
28683                            8833     ;       ***********************************
28684                            8834             .EXPORT _SELF_POS_START_WORK_CLR
28685                                     ***** BEGIN-POOL *****
28686 00005E0C 00000000                   DATA FOR SOURCE-LINE 820
28687 00005E10 00000000                   DATA FOR SOURCE-LINE 824
28688 00005E14 00000000                   DATA FOR SOURCE-LINE 837
28689                                     ***** END-POOL *****
28690 00005E18                   8835             .ALIGN  4                               ;
28691 00005E18                   8836     _SELF_POS_START_WORK_CLR:
28692                            8837             SUB_START
28693 00005E18 4F22                   M           STS.L   PR,@-R15                ;[必要]
28694                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28695                            8838             FAR_JSR #_POS_LSI_WORK_STOP_CLR,R0      ;
28696 00005E1A D004                   M           MOV.L   #_POS_LSI_WORK_STOP_CLR,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28697 00005E1C 400B                   M           JSR     @R0                     ;
28698 00005E1E 0009                   M           NOP                                     ;
28699                            8839             FAR_JSR #_POS_LSI_WORK_STOP2,R0
28700 00005E20 D003                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28701 00005E22 400B                   M           JSR     @R0                     ;
28702 00005E24 0009                   M           NOP                                     ;
28703                            8840             SUB_END
28704                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28705 00005E26 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28706                            8841             M_RTS
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   409
PROGRAM NAME =

28707 00005E28 000B                   M           RTS                             ;RTSの後ろの
28708 00005E2A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28709                            8842     
28710                            8843     ;       ***********************************
28711                            8844     ;       ***                             ***
28712                            8845     ;       ***     2006-07-28              ***
28713                            8846     ;       ***                             ***
28714                            8847     ;       ***********************************
28715                                     ***** BEGIN-POOL *****
28716 00005E2C 00000000                   DATA FOR SOURCE-LINE 8838
28717 00005E30 00000000                   DATA FOR SOURCE-LINE 8839
28718                                     ***** END-POOL *****
28719 00005E34                   8848             .ALIGN  4                               ;
28720 00005E34                   8849     _POS_CALC_MISS0:
28721                            8850             SUB_START
28722 00005E34 4F22                   M           STS.L   PR,@-R15                ;[必要]
28723                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28724                            8851             PUSH_REG1 R0
28725 00005E36 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28726                                 M                                           ;REG=>[SP]
28727                                 M                                           ;"-4" FF,FF,FF,FC
28728                            8852             PUSH_REG1 R1
28729 00005E38 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
28730                                 M                                           ;REG=>[SP]
28731                                 M                                           ;"-4" FF,FF,FF,FC
28732                            8853             MEM1_BIT0_TO_BIT7_ORSET MEM=_CALC_MISS_FLG1,LG=W,BIT=BIT0,WKREG=R1      ;
28733 00005E3A D104                   M           MOV.L   #_CALC_MISS_FLG1,R1             ;
28734 00005E3C 6011                   M           MOV.W   @R1,R0          ;
28735 00005E3E CB01                   M           OR      #BIT0,R0                ;
28736 00005E40 2101                   M           MOV.W   R0,@R1          ;
28737                            8854             POP_REG1 R1
28738                                 M                                   ; RE"+4" 00,00,00,04
28739 00005E42 61F6                   M           MOV.L   @R15+,R1        ;
28740                            8855             POP_REG1 R0
28741                                 M                                   ; RE"+4" 00,00,00,04
28742 00005E44 60F6                   M           MOV.L   @R15+,R0        ;
28743                            8856             SUB_END
28744                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28745 00005E46 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28746                            8857             M_RTS
28747 00005E48 000B                   M           RTS                             ;RTSの後ろの
28748 00005E4A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28749                            8858     
28750                                     ***** BEGIN-POOL *****
28751 00005E4C 00000000                   DATA FOR SOURCE-LINE 8853
28752                                     ***** END-POOL *****
28753 00005E50                   8859             .ALIGN  4                               ;
28754 00005E50                   8860     _POS_CALC_MISS1:
28755                            8861             SUB_START
28756 00005E50 4F22                   M           STS.L   PR,@-R15                ;[必要]
28757                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28758                            8862             PUSH_REG1 R0
28759 00005E52 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28760                                 M                                           ;REG=>[SP]
28761                                 M                                           ;"-4" FF,FF,FF,FC
28762                            8863             PUSH_REG1 R1
28763 00005E54 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   410
PROGRAM NAME =

28764                                 M                                           ;REG=>[SP]
28765                                 M                                           ;"-4" FF,FF,FF,FC
28766                            8864             MEM1_BIT0_TO_BIT7_ORSET MEM=_CALC_MISS_FLG1,LG=W,BIT=BIT1,WKREG=R1      ;
28767 00005E56 D104                   M           MOV.L   #_CALC_MISS_FLG1,R1             ;
28768 00005E58 6011                   M           MOV.W   @R1,R0          ;
28769 00005E5A CB02                   M           OR      #BIT1,R0                ;
28770 00005E5C 2101                   M           MOV.W   R0,@R1          ;
28771                            8865             POP_REG1 R1
28772                                 M                                   ; RE"+4" 00,00,00,04
28773 00005E5E 61F6                   M           MOV.L   @R15+,R1        ;
28774                            8866             POP_REG1 R0
28775                                 M                                   ; RE"+4" 00,00,00,04
28776 00005E60 60F6                   M           MOV.L   @R15+,R0        ;
28777                            8867             SUB_END
28778                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28779 00005E62 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28780                            8868             M_RTS
28781 00005E64 000B                   M           RTS                             ;RTSの後ろの
28782 00005E66 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28783                            8869     
28784                                     ***** BEGIN-POOL *****
28785 00005E68 00000000                   DATA FOR SOURCE-LINE 8864
28786                                     ***** END-POOL *****
28787 00005E6C                   8870             .ALIGN  4                               ;
28788 00005E6C                   8871     _POS_CALC_MISS2:
28789                            8872             SUB_START
28790 00005E6C 4F22                   M           STS.L   PR,@-R15                ;[必要]
28791                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28792                            8873             PUSH_REG1 R0
28793 00005E6E 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
28794                                 M                                           ;REG=>[SP]
28795                                 M                                           ;"-4" FF,FF,FF,FC
28796                            8874             PUSH_REG1 R1
28797 00005E70 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
28798                                 M                                           ;REG=>[SP]
28799                                 M                                           ;"-4" FF,FF,FF,FC
28800                            8875             MEM1_BIT0_TO_BIT7_ORSET MEM=_CALC_MISS_FLG1,LG=W,BIT=BIT2,WKREG=R1      ;
28801 00005E72 D104                   M           MOV.L   #_CALC_MISS_FLG1,R1             ;
28802 00005E74 6011                   M           MOV.W   @R1,R0          ;
28803 00005E76 CB04                   M           OR      #BIT2,R0                ;
28804 00005E78 2101                   M           MOV.W   R0,@R1          ;
28805                            8876             POP_REG1 R1
28806                                 M                                   ; RE"+4" 00,00,00,04
28807 00005E7A 61F6                   M           MOV.L   @R15+,R1        ;
28808                            8877             POP_REG1 R0
28809                                 M                                   ; RE"+4" 00,00,00,04
28810 00005E7C 60F6                   M           MOV.L   @R15+,R0        ;
28811                            8878             SUB_END
28812                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28813 00005E7E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28814                            8879     
28815                            8880             M_RTS
28816 00005E80 000B                   M           RTS                             ;RTSの後ろの
28817 00005E82 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28818                            8881     ;       ===================================================================
28819                            8882     ;       ====                                                            ===
28820                            8883     ;       ====                                                            ===
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   411
PROGRAM NAME =

28821                            8884     ;       ====                                                            ===
28822                            8885     ;       ====            2006-09-19オーバライド周波数対応                ===
28823                            8886     ;       ====                                                            ===
28824                            8887     ;       ====                                                            ===
28825                            8888     ;       ====                                                            ===
28826                            8889     ;       ====    <1>:基本は指令パルスに対しての制御とする                ===
28827                            8890     ;       ====    <2>:位置の切り替えは指令パルスで行なう                  ===
28828                            8891     ;       ====    <3>:減速の補正は行なわない                              ===
28829                            8892     ;       ====    <4>:残りパルスの補正は行なうがとりあえずなし/ありも可能 ===
28830                            8893     ;       ====    <5>:ﾆｱｾﾞﾛは実測                                         ===
28831                            8894     ;       ====                                                            ===
28832                            8895     ;       ====                                                            ===
28833                            8896     ;       ===================================================================
28834                            8897     
28835                            8898     
28836                            8899     
28837                            8900     
28838                            8901     ;       ***************************************************
28839                            8902     ;       ***                                             ***
28840                            8903     ;       ***     SEQからのｵｰﾊﾞﾗｲﾄﾞﾃﾞｰﾀの取り込み         ***
28841                            8904     ;       ***                                             ***
28842                            8905     ;       ***************************************************
28843                                     ***** BEGIN-POOL *****
28844 00005E84 00000000                   DATA FOR SOURCE-LINE 8875
28845                                     ***** END-POOL *****
28846 00005E88                   8906             .ALIGN  4                               ;
28847 00005E88                   8907     _OVER_LIDE_SEQREF:
28848                            8908             SUB_START
28849 00005E88 4F22                   M           STS.L   PR,@-R15                ;[必要]
28850                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28851                            8909     
28852 00005E8A D10A              8910             MOV.L   #_CB_SEQ_CB_COM346,R1
                                          ;
28853 00005E8C 6011              8911             MOV.W   @R1,R0
                                          ;
28854 00005E8E 6503              8912             MOV     R0,R5
                                          ;
28855 00005E90 C880              8913             TST     #BIT7,R0
                                          ;
28856                            8914             TST_BIT_ON OVER_LIDE_SQRF100
                                          ;
28857 00005E92 8B15                   M           BF      OVER_LIDE_SQRF100
28858                            8915     
28859 00005E94 D108              8916             MOV.L   #_OVER_RIDE_LATE_FLG,R1         ;
28860 00005E96 6011              8917             MOV.W   @R1,R0                          ;
28861 00005E98 C802              8918             TST     #BIT1,R0                        ;
28862                            8919             TST_BIT_OF OVER_LIDE_SQRF300            ;
28863 00005E9A 8935                   M           BT      OVER_LIDE_SQRF300
28864                            8920             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_LATE_FLG,LG=W,BIT=~BIT1,WKREG=R1
                                          ;//
28865 00005E9C D106                   M           MOV.L   #_OVER_RIDE_LATE_FLG,R1         ;
28866 00005E9E 6011                   M           MOV.W   @R1,R0          ;
28867 00005EA0 C9FD                   M           AND     #LOW ~BIT1,R0           ;
28868 00005EA2 2101                   M           MOV.W   R0,@R1          ;
28869                            8921             MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB230),LG=W,BIT=(~BIT7),WKRG1=R1,WKRG2=R4
                                                  ;
28870 00005EA4 D105                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB230),R1           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   412
PROGRAM NAME =

28871 00005EA6 6011                   M           MOV.W   @R1,R0          ;
28872 00005EA8 9403                   M           MOV.W   #LWORD (~BIT7),R4       ;
28873 00005EAA 2049                   M           AND     R4,R0           ;
28874 00005EAC 2101                   M           MOV.W   R0,@R1          ;
28875                            8922             M_BRA   OVER_LIDE_SQRF300
                                          ;
28876 00005EAE A02B                   M           BRA     OVER_LIDE_SQRF300
28877 00005EB0 0009                   M           NOP
28878                            8923     
28879                            8924     
28880                            8925     ;       --- REQ ON(ON EDGE 取込)--------
28881                                     ***** BEGIN-POOL *****
28882 00005EB2 FF7F                       DATA FOR SOURCE-LINE 8921
28883 00005EB4 00000000                   DATA FOR SOURCE-LINE 8910
28884 00005EB8 00000000                   DATA FOR SOURCE-LINE 8916,8920
28885 00005EBC 00000000                   DATA FOR SOURCE-LINE 8921
28886                                     ***** END-POOL *****
28887 00005EC0                   8926     OVER_LIDE_SQRF100:
28888 00005EC0 D114              8927             MOV.L   #_OVER_RIDE_LATE_FLG,R1                                 ;
28889 00005EC2 6011              8928             MOV.W   @R1,R0                                                  ;
28890 00005EC4 C802              8929             TST     #BIT1,R0                                                ;
28891                            8930             TST_BIT_ON OVER_LIDE_SQRF300                                    ;
28892 00005EC6 8B1F                   M           BF      OVER_LIDE_SQRF300
28893                            8931     
28894 00005EC8 D113              8932             MOV.L   #_CB_SEQ_CB_COM346,R1                                   ;//20030524
28895 00005ECA 6011              8933             MOV.W   @R1,R0                                                  ;T-LINK=>OVER-RIDE
28896 00005ECC 941F              8934             MOV.W   #(BIT6+BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R4                ;
28897 00005ECE 2049              8935             AND     R4,R0                                                   ;
28898 00005ED0 D112              8936             MOV.L   #_OVER_RIDE_LATE_REQ,R1                                 ;//1~127% OVER-RID
                                          E無効時100%
28899 00005ED2 2101              8937             MOV.W   R0,@R1                                                  ;
28900                            8938     ;       ------------ ANS MAKE ----------------------
28901 00005ED4 D412              8939             MOV.L   #_OVER_RIDE_LATE_ANS,R4                                         ;//1~127%
                                          OVER-RIDE無効時100%
28902 00005ED6 2401              8940             MOV.W   R0,@R4                                                          ;
28903 00005ED8 D312              8941             MOV.L   #_SQ_CBWK_TOP+_WKSQCB230,R3                                     ;
28904 00005EDA 6231              8942             MOV.W   @R3,R2                                                          ;
28905 00005EDC D410              8943             MOV.L   #_OVER_RIDE_LATE_ANS,R4                                         ;//1~127%
                                          OVER-RIDE無効時100%
28906 00005EDE 6041              8944             MOV.W   @R4,R0                                                          ;
28907 00005EE0 CB80              8945             OR      #BIT7,R0                                                        ;ANS+ACK
28908 00005EE2 9115              8946             MOV.W   #H'FF00,R1                                                      ;
28909 00005EE4 2219              8947             AND     R1,R2                                                           ;
28910 00005EE6 6117              8948             NOT     R1,R1                                                           ;
28911 00005EE8 2019              8949             AND     R1,R0                                                           ;
28912 00005EEA 220B              8950             OR      R0,R2                                                           ;
28913 00005EEC 2321              8951             MOV.W   R2,@R3                                                          ;
28914                            8952     
28915 00005EEE D40C              8953             MOV.L   #_OVER_RIDE_LATE_ANS,R4                                         ;//1~127%
                                          OVER-RIDE無効時100%
28916 00005EF0 6041              8954             MOV.W   @R4,R0                                                          ;
28917 00005EF2 2008              8955             TST     R0,R0                                                           ;
28918                            8956             TST_BIT_ON OVER_LIDE_SQRF220                                            ;
28919 00005EF4 8B00                   M           BF      OVER_LIDE_SQRF220
28920 00005EF6 E001              8957             MOV     #1,R0                                                           ;
28921 00005EF8                   8958     OVER_LIDE_SQRF220:
28922 00005EF8 D10B              8959             MOV.L   #_SET_SEQ_SPD_OVRLIDE,R1                                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   413
PROGRAM NAME =

28923 00005EFA 2101              8960             MOV.W   R0,@R1                                                          ;
28924 00005EFC D10B              8961             MOV.L   #_SET_SEQ_ACC_OVRLIDE,R1                                        ;
28925 00005EFE 2101              8962             MOV.W   R0,@R1
28926                            8963     
28927                            8964             MEM1_BIT0_TO_BIT7_ORSET MEM=_OVER_RIDE_LATE_FLG,LG=W,BIT=BIT1,WKREG=R4  ;
28928 00005F00 D404                   M           MOV.L   #_OVER_RIDE_LATE_FLG,R4         ;
28929 00005F02 6041                   M           MOV.W   @R4,R0          ;
28930 00005F04 CB02                   M           OR      #BIT1,R0                ;
28931 00005F06 2401                   M           MOV.W   R0,@R4          ;
28932                            8965     
28933 00005F08                   8966     OVER_LIDE_SQRF300:
28934                            8967             SUB_END
28935                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
28936 00005F08 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28937                            8968             M_RTS
28938 00005F0A 000B                   M           RTS                             ;RTSの後ろの
28939 00005F0C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28940                            8969     
28941                            8970     
28942                            8971     
28943                            8972     
28944                            8973     ;       ***********************************
28945                            8974     ;       ***                             ***
28946                            8975     ;       ***     EMG時初期値にする       ***
28947                            8976     ;       ***                             ***
28948                            8977     ;       ***********************************
28949                                     ***** BEGIN-POOL *****
28950 00005F0E 007F                       DATA FOR SOURCE-LINE 8934
28951 00005F10 FF00                       DATA FOR SOURCE-LINE 8946
28952 00005F12 0000                       ALIGNMENT CODE
28953 00005F14 00000000                   DATA FOR SOURCE-LINE 8927,8964
28954 00005F18 00000000                   DATA FOR SOURCE-LINE 8932
28955 00005F1C 00000000                   DATA FOR SOURCE-LINE 8936
28956 00005F20 00000000                   DATA FOR SOURCE-LINE 8939,8943,8953
28957 00005F24 00000000                   DATA FOR SOURCE-LINE 8941
28958 00005F28 00000000                   DATA FOR SOURCE-LINE 8959
28959 00005F2C 00000000                   DATA FOR SOURCE-LINE 8961
28960                                     ***** END-POOL *****
28961 00005F30                   8978             .ALIGN  4                               ;
28962 00005F30                   8979     _OVERLID_DEF_SET:
28963                            8980             SUB_START
28964 00005F30 4F22                   M           STS.L   PR,@-R15                ;[必要]
28965                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28966                            8981             FAR_JSR #_OVERLID_SEQ_DEF_SET,R0
28967 00005F32 D006                   M           MOV.L   #_OVERLID_SEQ_DEF_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28968 00005F34 400B                   M           JSR     @R0                     ;
28969 00005F36 0009                   M           NOP                                     ;
28970                            8982             FAR_JSR #_OVERLID_GMN_DEF_SET,R0
28971 00005F38 D005                   M           MOV.L   #_OVERLID_GMN_DEF_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28972 00005F3A 400B                   M           JSR     @R0                     ;
28973 00005F3C 0009                   M           NOP                                     ;
28974                            8983             FAR_JSR #_OVERLID_CTL_DEF_SET,R0
28975 00005F3E D005                   M           MOV.L   #_OVERLID_CTL_DEF_SET,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
28976 00005F40 400B                   M           JSR     @R0                     ;
28977 00005F42 0009                   M           NOP                                     ;
28978                            8984             SUB_END
28979                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   414
PROGRAM NAME =

28980 00005F44 4F26                   M           LDS.L   @R15+,PR                ;[必要]
28981                            8985             M_RTS
28982 00005F46 000B                   M           RTS                             ;RTSの後ろの
28983 00005F48 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
28984                            8986     
28985                                     ***** BEGIN-POOL *****
28986 00005F4A 0000                       ALIGNMENT CODE
28987 00005F4C 00000000                   DATA FOR SOURCE-LINE 8981
28988 00005F50 00000000                   DATA FOR SOURCE-LINE 8982
28989 00005F54 00000000                   DATA FOR SOURCE-LINE 8983
28990                                     ***** END-POOL *****
28991 00005F58                   8987             .ALIGN  4                               ;
28992 00005F58                   8988     _OVERLID_SEQ_DEF_SET:
28993                            8989             SUB_START
28994 00005F58 4F22                   M           STS.L   PR,@-R15                ;[必要]
28995                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
28996 00005F5A 9206              8990             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
28997                            8991             REG_MOV_TO_MEM  DST_ADR=_SET_SEQ_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
28998 00005F5C D103                   M           MOV.L   #_SET_SEQ_SPD_OVRLIDE,R1        ;DST_ADR
28999 00005F5E 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29000                            8992             REG_MOV_TO_MEM  DST_ADR=_SET_SEQ_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
29001 00005F60 D103                   M           MOV.L   #_SET_SEQ_ACC_OVRLIDE,R1        ;DST_ADR
29002 00005F62 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29003                            8993             SUB_END
29004                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29005 00005F64 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29006                            8994             M_RTS
29007 00005F66 000B                   M           RTS                             ;RTSの後ろの
29008 00005F68 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29009                            8995     
29010                                     ***** BEGIN-POOL *****
29011 00005F6A 0064                       DATA FOR SOURCE-LINE 8990
29012 00005F6C 00000000                   DATA FOR SOURCE-LINE 8991
29013 00005F70 00000000                   DATA FOR SOURCE-LINE 8992
29014                                     ***** END-POOL *****
29015 00005F74                   8996             .ALIGN  4                               ;
29016 00005F74                   8997     _OVERLID_GMN_DEF_SET:
29017                            8998             SUB_START
29018 00005F74 4F22                   M           STS.L   PR,@-R15                ;[必要]
29019                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29020 00005F76 9206              8999             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
29021                            9000             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
29022 00005F78 D103                   M           MOV.L   #_SET_GMN_SPD_OVRLIDE,R1        ;DST_ADR
29023 00005F7A 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29024                            9001             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
29025 00005F7C D103                   M           MOV.L   #_SET_GMN_ACC_OVRLIDE,R1        ;DST_ADR
29026 00005F7E 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29027                            9002             SUB_END
29028                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29029 00005F80 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29030                            9003             M_RTS
29031 00005F82 000B                   M           RTS                             ;RTSの後ろの
29032 00005F84 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29033                            9004     
29034                                     ***** BEGIN-POOL *****
29035 00005F86 0064                       DATA FOR SOURCE-LINE 8999
29036 00005F88 00000000                   DATA FOR SOURCE-LINE 9000
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   415
PROGRAM NAME =

29037 00005F8C 00000000                   DATA FOR SOURCE-LINE 9001
29038                                     ***** END-POOL *****
29039 00005F90                   9005             .ALIGN  4                               ;
29040 00005F90                   9006     _OVERLID_CTL_DEF_SET:
29041                            9007             SUB_START
29042 00005F90 4F22                   M           STS.L   PR,@-R15                ;[必要]
29043                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29044 00005F92 920A              9008             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
29045                            9009             REG_MOV_TO_MEM  DST_ADR=_SET_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1
29046 00005F94 D105                   M           MOV.L   #_SET_SPD_OVRLIDE,R1    ;DST_ADR
29047 00005F96 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29048                            9010             REG_MOV_TO_MEM  DST_ADR=_SET_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
29049 00005F98 D105                   M           MOV.L   #_SET_ACC_OVRLIDE,R1    ;DST_ADR
29050 00005F9A 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29051                            9011     
29052                            9012             REG_MOV_TO_MEM  DST_ADR=_POSCTL_OVER_SPD_LAT,L1=W,DT_REG=R2,WKREG1=R1
29053 00005F9C D105                   M           MOV.L   #_POSCTL_OVER_SPD_LAT,R1        ;DST_ADR
29054 00005F9E 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29055                            9013             REG_MOV_TO_MEM  DST_ADR=_POSCTL_OVER_ACC_LAT,L1=W,DT_REG=R2,WKREG1=R1   ;
29056 00005FA0 D105                   M           MOV.L   #_POSCTL_OVER_ACC_LAT,R1        ;DST_ADR
29057 00005FA2 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29058                            9014             SUB_END
29059                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29060 00005FA4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29061                            9015             M_RTS
29062 00005FA6 000B                   M           RTS                             ;RTSの後ろの
29063 00005FA8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29064                            9016     
29065                            9017     
29066                            9018     ;       ***********************************
29067                            9019     ;       ***                             ***
29068                            9020     ;       ***     2006-07-28              ***
29069                            9021     ;       ***     画面ｵｰﾊﾞﾗｲﾄﾞ            ***
29070                            9022     ;       ***                             ***
29071                            9023     ;       ***********************************
29072                            9024     ;------2013-02-08 ---
29073                            9025             .IMPORT _SVP_OVERLIDE_COF
29074                            9026     
29075                                     ***** BEGIN-POOL *****
29076 00005FAA 0064                       DATA FOR SOURCE-LINE 9008
29077 00005FAC 00000000                   DATA FOR SOURCE-LINE 9009
29078 00005FB0 00000000                   DATA FOR SOURCE-LINE 9010
29079 00005FB4 00000000                   DATA FOR SOURCE-LINE 9012
29080 00005FB8 00000000                   DATA FOR SOURCE-LINE 9013
29081                                     ***** END-POOL *****
29082 00005FBC                   9027             .ALIGN  4                               ;
29083 00005FBC                   9028     _GAMEN_OVER_RIDE:
29084                            9029             SUB_START
29085 00005FBC 4F22                   M           STS.L   PR,@-R15                ;[必要]
29086                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29087                            9030     
29088                            9031     ;------2013-02-08 ---
29089 00005FBE D108              9032             MOV.L   #_SVP_OVERLIDE_COF,R1           ;
29090 00005FC0 6211              9033             MOV.W   @R1,R2                          ;
29091 00005FC2 D108              9034             MOV.L   #_SET1_OVERLIDE_COF,R1          ;
29092 00005FC4 2121              9035             MOV.W   R2,@R1                          ;
29093                            9036     ;       ----------------------------
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   416
PROGRAM NAME =

29094                            9037     
29095                            9038     
29096 00005FC6 D107              9039             MOV.L   #_SET1_OVERLIDE_COF,R1                                          ;
29097 00005FC8 6211              9040             MOV.W   @R1,R2                                                          ;
29098 00005FCA 2228              9041             TST     R2,R2                                                           ;
29099                            9042             TST_BIT_ON GAMEN_OVRIDE_100                                             ;
29100 00005FCC 8B00                   M           BF      GAMEN_OVRIDE_100
29101 00005FCE 9206              9043             MOV.W   #1,R2                                                           ;
29102 00005FD0                   9044     GAMEN_OVRIDE_100:                                                               ;
29103                            9045             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1   ;
29104 00005FD0 D105                   M           MOV.L   #_SET_GMN_SPD_OVRLIDE,R1        ;DST_ADR
29105 00005FD2 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29106                            9046             REG_MOV_TO_MEM  DST_ADR=_SET_GMN_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1   ;
29107 00005FD4 D105                   M           MOV.L   #_SET_GMN_ACC_OVRLIDE,R1        ;DST_ADR
29108 00005FD6 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29109                            9047             SUB_END
29110                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29111 00005FD8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29112                            9048             M_RTS
29113 00005FDA 000B                   M           RTS                             ;RTSの後ろの
29114 00005FDC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29115                            9049     
29116                            9050     ;       ***************************************************
29117                            9051     ;       ***                                             ***
29118                            9052     ;       ***                                             ***
29119                            9053     ;       ***                                             ***
29120                            9054     ;       ***************************************************
29121                                     ***** BEGIN-POOL *****
29122 00005FDE 0001                       DATA FOR SOURCE-LINE 9043
29123 00005FE0 00000000                   DATA FOR SOURCE-LINE 9032
29124 00005FE4 00000000                   DATA FOR SOURCE-LINE 9034,9039
29125 00005FE8 00000000                   DATA FOR SOURCE-LINE 9045
29126 00005FEC 00000000                   DATA FOR SOURCE-LINE 9046
29127                                     ***** END-POOL *****
29128 00005FF0                   9055             .ALIGN  4                               ;
29129 00005FF0                   9056     _SET_OVER_RIDE:
29130                            9057             SUB_START
29131 00005FF0 4F22                   M           STS.L   PR,@-R15                ;[必要]
29132                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29133 00005FF2 D10D              9058             MOV.L   #_MODE_SEL,R1                                                   ;
29134 00005FF4 6011              9059             MOV.W   @R1,R0                                                          ;
29135 00005FF6 C81E              9060             TST     #_W1CNT+_W1SGL+_W1INC+_W1OPT,R0                                 ;
29136                            9061             TST_BIT_OF SET_OVERID500                                                ;
29137 00005FF8 8948                   M           BT      SET_OVERID500
29138                            9062     
29139 00005FFA D10C              9063             MOV.L   #_OVERLIDE_DT_SEL,R1                                            ;画面ｵｰﾊﾞﾗ
                                          ｲﾄﾞ有効
29140 00005FFC 6011              9064             MOV.W   @R1,R0                                                          ;
29141 00005FFE 8801              9065             CMP/EQ  #1,R0                                                           ;
29142 00006000 8B20              9066             BF      SET_OVERID200                                                   ;
29143                            9067     ;       ------ 画面ﾃﾞｰﾀ有効--------
29144                            9068             MEM_MOV_TO_MEM  _SET_GMN_SPD_OVRLIDE,W,_SET_SPD_OVRLIDE,W,R1,R2,R3      ;
29145 00006002 D10B                   M           MOV.L   #_SET_GMN_SPD_OVRLIDE,R1
29146 00006004 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29147 00006006 D30B                   M           MOV.L   #_SET_SPD_OVRLIDE,R3    ;DST_ADR
29148 00006008 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29149                            9069             MEM_MOV_TO_MEM  _SET_GMN_ACC_OVRLIDE,W,_SET_ACC_OVRLIDE,W,R1,R2,R3      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   417
PROGRAM NAME =

29150 0000600A D10B                   M           MOV.L   #_SET_GMN_ACC_OVRLIDE,R1
29151 0000600C 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29152 0000600E D30B                   M           MOV.L   #_SET_ACC_OVRLIDE,R3    ;DST_ADR
29153 00006010 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29154                            9070             MEM1_BIT0_TO_BIT7_ORSET MEM=_OVER_RIDE_USEFUL,LG=W,BIT=BIT0,WKREG=R4    ;
29155 00006012 D40B                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29156 00006014 6041                   M           MOV.W   @R4,R0          ;
29157 00006016 CB01                   M           OR      #BIT0,R0                ;
29158 00006018 2401                   M           MOV.W   R0,@R4          ;
29159                            9071             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT1,WKREG=R4  ;
29160 0000601A D409                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29161 0000601C 6041                   M           MOV.W   @R4,R0          ;
29162 0000601E C9FD                   M           AND     #LOW ~BIT1,R0           ;
29163 00006020 2401                   M           MOV.W   R0,@R4          ;
29164                            9072             M_BRA   SET_OVERID900
29165 00006022 A040                   M           BRA     SET_OVERID900
29166 00006024 0009                   M           NOP
29167                            9073     
29168                                     ***** BEGIN-POOL *****
29169 00006026 0000                       ALIGNMENT CODE
29170 00006028 00000000                   DATA FOR SOURCE-LINE 9058
29171 0000602C 00000000                   DATA FOR SOURCE-LINE 9063
29172 00006030 00000000                   DATA FOR SOURCE-LINE 9068
29173 00006034 00000000                   DATA FOR SOURCE-LINE 9068
29174 00006038 00000000                   DATA FOR SOURCE-LINE 9069
29175 0000603C 00000000                   DATA FOR SOURCE-LINE 9069
29176 00006040 00000000                   DATA FOR SOURCE-LINE 9070,9071
29177                                     ***** END-POOL *****
29178 00006044                   9074     SET_OVERID200:
29179                            9075             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT0,WKREG=R4  ;
29180 00006044 D40B                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29181 00006046 6041                   M           MOV.W   @R4,R0          ;
29182 00006048 C9FE                   M           AND     #LOW ~BIT0,R0           ;
29183 0000604A 2401                   M           MOV.W   R0,@R4          ;
29184                            9076     
29185                            9077     ;       ===========================
29186                            9078     ;       ===     ｼｰｹﾝｽ           ===
29187                            9079     ;       ===========================
29188 0000604C D10A              9080             MOV.L   #_CB_SEQ_CB_COM346,R1                                           ;
29189 0000604E 6311              9081             MOV.W   @R1,R3                                                          ;
29190 00006050 940F              9082             MOV.W   #BIT15,R4                                                       ;
29191 00006052 2348              9083             TST     R4,R3                                                           ;
29192                            9084             TST_BIT_OF SET_OVERID500
29193 00006054 891A                   M           BT      SET_OVERID500
29194                            9085             MEM_MOV_TO_MEM  _SET_SEQ_SPD_OVRLIDE,W,_SET_SPD_OVRLIDE,W,R1,R2,R3      ;
29195 00006056 D109                   M           MOV.L   #_SET_SEQ_SPD_OVRLIDE,R1
29196 00006058 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29197 0000605A D309                   M           MOV.L   #_SET_SPD_OVRLIDE,R3    ;DST_ADR
29198 0000605C 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29199                            9086             MEM_MOV_TO_MEM  _SET_SEQ_ACC_OVRLIDE,W,_SET_ACC_OVRLIDE,W,R1,R2,R3      ;
29200 0000605E D109                   M           MOV.L   #_SET_SEQ_ACC_OVRLIDE,R1
29201 00006060 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29202 00006062 D309                   M           MOV.L   #_SET_ACC_OVRLIDE,R3    ;DST_ADR
29203 00006064 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29204                            9087             MEM1_BIT0_TO_BIT7_ORSET MEM=_OVER_RIDE_USEFUL,LG=W,BIT=BIT1,WKREG=R4    ;
29205 00006066 D403                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29206 00006068 6041                   M           MOV.W   @R4,R0          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   418
PROGRAM NAME =

29207 0000606A CB02                   M           OR      #BIT1,R0                ;
29208 0000606C 2401                   M           MOV.W   R0,@R4          ;
29209                            9088             M_BRA   SET_OVERID900                                                   ;
29210 0000606E A01A                   M           BRA     SET_OVERID900
29211 00006070 0009                   M           NOP
29212                            9089     
29213                                     ***** BEGIN-POOL *****
29214 00006072 8000                       DATA FOR SOURCE-LINE 9082
29215 00006074 00000000                   DATA FOR SOURCE-LINE 9075,9087
29216 00006078 00000000                   DATA FOR SOURCE-LINE 9080
29217 0000607C 00000000                   DATA FOR SOURCE-LINE 9085
29218 00006080 00000000                   DATA FOR SOURCE-LINE 9085
29219 00006084 00000000                   DATA FOR SOURCE-LINE 9086
29220 00006088 00000000                   DATA FOR SOURCE-LINE 9086
29221                                     ***** END-POOL *****
29222 0000608C                   9090     SET_OVERID500:
29223 0000608C 920E              9091             MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
29224                            9092             REG_MOV_TO_MEM  DST_ADR=_SET_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
29225 0000608E D108                   M           MOV.L   #_SET_SPD_OVRLIDE,R1    ;DST_ADR
29226 00006090 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29227                            9093             REG_MOV_TO_MEM  DST_ADR=_SET_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
29228 00006092 D108                   M           MOV.L   #_SET_ACC_OVRLIDE,R1    ;DST_ADR
29229 00006094 2121                   M           MOV.W   R2,@R1  ;DST_ADR
29230                            9094             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT1,WKREG=R4  ;
29231 00006096 D408                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29232 00006098 6041                   M           MOV.W   @R4,R0          ;
29233 0000609A C9FD                   M           AND     #LOW ~BIT1,R0           ;
29234 0000609C 2401                   M           MOV.W   R0,@R4          ;
29235                            9095     
29236                            9096             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~(BIT1+BIT0),WKREG=R4   ;
29237 0000609E D406                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
29238 000060A0 6041                   M           MOV.W   @R4,R0          ;
29239 000060A2 C9FC                   M           AND     #LOW ~(BIT1+BIT0),R0            ;
29240 000060A4 2401                   M           MOV.W   R0,@R4          ;
29241                            9097     
29242 000060A6                   9098     SET_OVERID900:
29243                            9099     
29244                            9100             SUB_END
29245                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29246 000060A6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29247                            9101             M_RTS
29248 000060A8 000B                   M           RTS                             ;RTSの後ろの
29249 000060AA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29250                            9102     
29251                            9103     
29252                            9104     
29253                            9105     
29254                            9106     ;       ***********************************************************
29255                            9107     ;       ***                                                     ***
29256                            9108     ;       ***                                                     ***
29257                            9109     ;       ***                     化石                            ***
29258                            9110     ;       ***                                                     ***
29259                            9111     ;       ***                                                     ***
29260                            9112     ;       ***********************************************************
29261                            9113     
29262                            9114     
29263                            9115     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   419
PROGRAM NAME =

29264                            9116     
29265                            9117     
29266                            9118     
29267                            9119     
29268                            9120     
29269                            9121     
29270                            9122     
29271                            9123     
29272                            9124     
29273                            9125     
29274                            9126     
29275                            9127     
29276                            9128     
29277                            9129     ;       ***********************************************************
29278                            9130     ;       ***                                                     ***
29279                            9131     ;       ***                                                     ***
29280                            9132     ;       ***                                                     ***
29281                            9133     ;       ***             その他からのＣＡＬＬ                    ***
29282                            9134     ;       ***                                                     ***
29283                            9135     ;       ***                                                     ***
29284                            9136     ;       ***                                                     ***
29285                            9137     ;       ***********************************************************
29286                            9138     ;       *******************************************
29287                            9139     ;       ***                                     ***
29288                            9140     ;       ***             運転釦ON起動時          ***
29289                            9141     ;       ***                                     ***
29290                            9142     ;       *******************************************
29291                            9143             .EXPORT _OVER_RID_UPDN_LAT_DTMK
29292                                     ***** BEGIN-POOL *****
29293 000060AC 0064                       DATA FOR SOURCE-LINE 9091
29294 000060AE 0000                       ALIGNMENT CODE
29295 000060B0 00000000                   DATA FOR SOURCE-LINE 9092
29296 000060B4 00000000                   DATA FOR SOURCE-LINE 9093
29297 000060B8 00000000                   DATA FOR SOURCE-LINE 9094,9096
29298                                     ***** END-POOL *****
29299 000060BC                   9144             .ALIGN  4                               ;
29300 000060BC                   9145     _OVER_RID_UPDN_LAT_DTMK:
29301                            9146             SUB_START
29302 000060BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
29303                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29304 000060BE D10B              9147             MOV.L   #_OVER_UPDN_DBGCNT,R1
29305 000060C0 6011              9148             MOV.W   @R1,R0
29306 000060C2 7001              9149             ADD     #1,R0
29307 000060C4 2101              9150             MOV.W   R0,@R1                          ;
29308                            9151             FAR_JSR #_SET_OVER_RIDE,R0              ;起動時
29309 000060C6 D00A                   M           MOV.L   #_SET_OVER_RIDE,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29310 000060C8 400B                   M           JSR     @R0                     ;
29311 000060CA 0009                   M           NOP                                     ;
29312                            9152     
29313                            9153             FAR_JSR #_OVERRIDE_CALC_LATE_SEL,R0     ;
29314 000060CC D009                   M           MOV.L   #_OVERRIDE_CALC_LATE_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29315 000060CE 400B                   M           JSR     @R0                     ;
29316 000060D0 0009                   M           NOP                                     ;
29317                            9154             FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;
29318 000060D2 D009                   M           MOV.L   #_OVERRIDE_CALC_SPED_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29319 000060D4 400B                   M           JSR     @R0                     ;
29320 000060D6 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   420
PROGRAM NAME =

29321                            9155     
29322                            9156     ;       --------- ﾌﾞﾚｰｷ異常ﾃﾞｰﾀ1　ｵｰﾊﾞﾗｲﾄﾞにも対応しておく----
29323                            9157             FAR_JSR #_ACCBRK1_SV_MAKE,R0            ;
29324 000060D8 D008                   M           MOV.L   #_ACCBRK1_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29325 000060DA 400B                   M           JSR     @R0                     ;
29326 000060DC 0009                   M           NOP                                     ;
29327                            9158             FAR_JSR #_ACCBRK2_SV_MAKE,R0            ;
29328 000060DE D008                   M           MOV.L   #_ACCBRK2_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29329 000060E0 400B                   M           JSR     @R0                     ;
29330 000060E2 0009                   M           NOP                                     ;
29331                            9159     
29332                            9160             SUB_END
29333                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29334 000060E4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29335                            9161             M_RTS
29336 000060E6 000B                   M           RTS                             ;RTSの後ろの
29337 000060E8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29338                            9162     
29339                            9163     
29340                            9164     ;       *******************************************
29341                            9165     ;       ***                                     ***
29342                            9166     ;       ***                                     ***
29343                            9167     ;       ***     起動時及び１回転毎              ***
29344                            9168     ;       ***                                     ***
29345                            9169     ;       ***                                     ***
29346                            9170     ;       *******************************************
29347                                     ***** BEGIN-POOL *****
29348 000060EA 0000                       ALIGNMENT CODE
29349 000060EC 00000000                   DATA FOR SOURCE-LINE 9147
29350 000060F0 00000000                   DATA FOR SOURCE-LINE 9151
29351 000060F4 00000000                   DATA FOR SOURCE-LINE 9153
29352 000060F8 00000000                   DATA FOR SOURCE-LINE 9154
29353 000060FC 00000000                   DATA FOR SOURCE-LINE 9157
29354 00006100 00000000                   DATA FOR SOURCE-LINE 9158
29355                                     ***** END-POOL *****
29356 00006104                   9171             .ALIGN  4                               ;
29357 00006104                   9172     _OVERRIDE_CALC_LATE_SEL:                                                        ;
29358                            9173             SUB_START                                                               ;
29359 00006104 4F22                   M           STS.L   PR,@-R15                ;[必要]
29360                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29361                            9174     
29362                            9175             MEM_MOV_TO_MEM  _SET_ACC_OVRLIDE,W,_POSCTL_OVER_ACC_LAT,W,R1,R2,R3      ;%
29363 00006106 D106                   M           MOV.L   #_SET_ACC_OVRLIDE,R1
29364 00006108 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29365 0000610A D306                   M           MOV.L   #_POSCTL_OVER_ACC_LAT,R3        ;DST_ADR
29366 0000610C 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29367                            9176             FAR_JSR #_ACCLAT1_SV_MAK_OVR,R0                                         ;
29368 0000610E D006                   M           MOV.L   #_ACCLAT1_SV_MAK_OVR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29369 00006110 400B                   M           JSR     @R0                     ;
29370 00006112 0009                   M           NOP                                     ;
29371                            9177             FAR_JSR #_ACCBRK1_SV_MAK_OVR,R0                                         ;
29372 00006114 D005                   M           MOV.L   #_ACCBRK1_SV_MAK_OVR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29373 00006116 400B                   M           JSR     @R0                     ;
29374 00006118 0009                   M           NOP                                     ;
29375                            9178     
29376                            9179             SUB_END
29377                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   421
PROGRAM NAME =

29378 0000611A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29379                            9180             M_RTS
29380 0000611C 000B                   M           RTS                             ;RTSの後ろの
29381 0000611E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29382                            9181     
29383                                     ***** BEGIN-POOL *****
29384 00006120 00000000                   DATA FOR SOURCE-LINE 9175
29385 00006124 00000000                   DATA FOR SOURCE-LINE 9175
29386 00006128 00000000                   DATA FOR SOURCE-LINE 9176
29387 0000612C 00000000                   DATA FOR SOURCE-LINE 9177
29388                                     ***** END-POOL *****
29389 00006130                   9182             .ALIGN  4                               ;
29390 00006130                   9183     _OVERRIDE_CALC_SPED_SEL:                                                ;
29391                            9184             SUB_START                                                       ;
29392 00006130 4F22                   M           STS.L   PR,@-R15                ;[必要]
29393                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29394                            9185     
29395                            9186             MEM_MOV_TO_MEM  _SET_SPD_OVRLIDE,W,_POSCTL_OVER_SPD_LAT,W,R1,R2,R3      ;
29396 00006132 D103                   M           MOV.L   #_SET_SPD_OVRLIDE,R1
29397 00006134 6211                   M           MOV.W   @R1,R2  ;WK1=SRC_ADR WK2=data
29398 00006136 D303                   M           MOV.L   #_POSCTL_OVER_SPD_LAT,R3        ;DST_ADR
29399 00006138 2321                   M           MOV.W   R2,@R3  ;DST_ADR
29400                            9187     
29401                            9188             SUB_END
29402                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29403 0000613A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29404                            9189             M_RTS
29405 0000613C 000B                   M           RTS                             ;RTSの後ろの
29406 0000613E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29407                            9190     
29408                            9191     
29409                            9192     
29410                            9193     
29411                            9194     
29412                            9195     
29413                            9196     
29414                            9197     
29415                            9198     
29416                            9199     
29417                            9200     ;       *******************************************
29418                            9201     ;       ***                                     ***
29419                            9202     ;       ***     Input  R1:時間                  ***
29420                            9203     ;       ***     Output R1:時間×100/OVER        ***
29421                            9204     ;       ***                                     ***
29422                            9205     ;       *******************************************
29423                            9206     ;       ===================
29424                            9207     ;       ==== 2005-01-17 ===
29425                            9208             .EXPORT _OVER_RIDE_ERR_TIMCHG
29426                                     ***** BEGIN-POOL *****
29427 00006140 00000000                   DATA FOR SOURCE-LINE 9186
29428 00006144 00000000                   DATA FOR SOURCE-LINE 9186
29429                                     ***** END-POOL *****
29430 00006148                   9209             .ALIGN  4                               ;
29431 00006148                   9210     _OVER_RIDE_ERR_TIMCHG:
29432                            9211             SUB_START
29433 00006148 4F22                   M           STS.L   PR,@-R15                ;[必要]
29434                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   422
PROGRAM NAME =

29435                            9212             PUSH_REG1 R2
29436 0000614A 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
29437                                 M                                           ;REG=>[SP]
29438                                 M                                           ;"-4" FF,FF,FF,FC
29439                            9213     
29440 0000614C 6213              9214             MOV     R1,R2                                           ;R1-->R2
29441                            9215     
29442 0000614E D107              9216             MOV.L   #_OVER_RIDE_USEFUL,R1                           ;
29443 00006150 6011              9217             MOV.W   @R1,R0                                          ;
29444 00006152 C801              9218             TST     #BIT0,R0                                        ;
29445                            9219             TST_BIT_OF OVER_RIDE_ERRTIMCHG_100
29446 00006154 8904                   M           BT      OVER_RIDE_ERRTIMCHG_100
29447                            9220     
29448 00006156 D006              9221             MOV.L   #_POSCTL_OVER_ACC_LAT,R0                        ;ｵｰﾊﾞﾗｲﾄﾞ%
29449 00006158 6401              9222             MOV.W   @R0,R4                                          ;
29450                            9223     
29451                            9224     ;       ============ 2005-04-06(距離一定) =========
29452                            9225                                                                     ;
29453                            9226             FAR_JSR #_OVRLIDE_LATE_MULDIV,R0                        ;
29454 0000615A D006                   M           MOV.L   #_OVRLIDE_LATE_MULDIV,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29455 0000615C 400B                   M           JSR     @R0                     ;
29456 0000615E 0009                   M           NOP                                     ;
29457                            9227                                                                     ;
29458                            9228     ;       ===========================================
29459                            9229     
29460 00006160                   9230     OVER_RIDE_ERRTIMCHG_100                                         ;
29461 00006160 6123              9231             MOV     R2,R1                                           ;
29462                            9232     
29463                            9233             POP_REG1 R2                                             ;ANS:R1
29464                                 M                                   ; RE"+4" 00,00,00,04
29465 00006162 62F6                   M           MOV.L   @R15+,R2        ;
29466                            9234             SUB_END
29467                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29468 00006164 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29469                            9235             M_RTS
29470 00006166 000B                   M           RTS                             ;RTSの後ろの
29471 00006168 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29472                            9236     
29473                            9237     
29474                            9238     ;       *******************************************
29475                            9239     ;       ***                                     ***
29476                            9240     ;       ***     時間の次元                      ***
29477                            9241     ;       ***     2005-01-17                      ***
29478                            9242     ;       ***     Input R2        ANS R2          ***
29479                            9243     ;       *******************************************
29480                            9244     ;       R0,R2 DESTROY
29481                            9245     ;       ANS:R2:_POS_LSI_ACCLT1
29482                            9246     ;       (R2)data * 100/SV
29483                            9247     ;       BREAK ERR用
29484                                     ***** BEGIN-POOL *****
29485 0000616A 0000                       ALIGNMENT CODE
29486 0000616C 00000000                   DATA FOR SOURCE-LINE 9216
29487 00006170 00000000                   DATA FOR SOURCE-LINE 9221
29488 00006174 00000000                   DATA FOR SOURCE-LINE 9226
29489                                     ***** END-POOL *****
29490 00006178                   9248             .ALIGN  4                               ;
29491 00006178                   9249     _OVER_RID_UPDN_LAT_CALC:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   423
PROGRAM NAME =

29492                            9250             SUB_START
29493 00006178 4F22                   M           STS.L   PR,@-R15                ;[必要]
29494                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29495                            9251     
29496                            9252             SUB_END
29497                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29498 0000617A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29499                            9253             M_RTS
29500 0000617C 000B                   M           RTS                             ;RTSの後ろの
29501 0000617E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29502                            9254     
29503                            9255     
29504                            9256     ;       ===================================================================
29505                            9257     ;       ====                                                            ===
29506                            9258     ;       ====                                                            ===
29507                            9259     ;       ====                                                            ===
29508                            9260     ;       ====            2006-09-19オーバライド周波数対応                ===
29509                            9261     ;       ====                                                            ===
29510                            9262     ;       ====                                                            ===
29511                            9263     ;       ====                                                            ===
29512                            9264     ;       ====    <1>:基本は指令パルスに対しての制御とする                ===
29513                            9265     ;       ====    <2>:位置の切り替えは指令パルスで行なう                  ===
29514                            9266     ;       ====    <3>:減速の補正は行なわない                              ===
29515                            9267     ;       ====    <4>:残りパルスの補正は行なうがとりあえずなし/ありも可能 ===
29516                            9268     ;       ====    <5>:ﾆｱｾﾞﾛは実測                                         ===
29517                            9269     ;       ====                                                            ===
29518                            9270     ;       ====                                                            ===
29519                            9271     ;       ===================================================================
29520                            9272     
29521                            9273             .EXPORT _PRESET_PV_ABS_TO_OBJ
29522 00006180                   9274     _PRESET_PV_ABS_TO_OBJ:
29523                            9275             SUB_START
29524 00006180 4F22                   M           STS.L   PR,@-R15                ;[必要]
29525                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29526 00006182 D106              9276             MOV.L   #_ERR_FIRST_ST,R1
29527 00006184 6011              9277             MOV.W   @R1,R0
29528 00006186 C801              9278             TST     #BIT0,R0
29529                            9279             TST_BIT_ON PRESET_PVABSTOOBJ_100
29530 00006188 8B0C                   M           BF      PRESET_PVABSTOOBJ_100
29531                            9280     
29532                            9281             FAR_JSR #_SET_PV_ABS_TO_OBJ,R0                                          ;
29533 0000618A D005                   M           MOV.L   #_SET_PV_ABS_TO_OBJ,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29534 0000618C 400B                   M           JSR     @R0                     ;
29535 0000618E 0009                   M           NOP                                     ;
29536                            9282             MEM1_BIT0_TO_BIT7_ORSET MEM=_ERR_FIRST_ST,LG=W,BIT=BIT0,WKREG=R1        ;
29537 00006190 D102                   M           MOV.L   #_ERR_FIRST_ST,R1               ;
29538 00006192 6011                   M           MOV.W   @R1,R0          ;
29539 00006194 CB01                   M           OR      #BIT0,R0                ;
29540 00006196 2101                   M           MOV.W   R0,@R1          ;
29541                            9283             M_BRA   PRESET_PVABSTOOBJ_EXT                                           ;
29542 00006198 A007                   M           BRA     PRESET_PVABSTOOBJ_EXT
29543 0000619A 0009                   M           NOP
29544                            9284     
29545                                     ***** BEGIN-POOL *****
29546 0000619C 00000000                   DATA FOR SOURCE-LINE 9276,9282
29547 000061A0 00000000                   DATA FOR SOURCE-LINE 9281
29548                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   424
PROGRAM NAME =

29549 000061A4                   9285     PRESET_PVABSTOOBJ_100:
29550                            9286             .AIF    1 EQ    0
29551                            9287     
29552                            9288             .AELSE
29553                            9289 C   
29554                            9290 C           FAR_JSR #_CPUB_GET_CPUA_OBJPOS,R0
29555 000061A4 D002                   M           MOV.L   #_CPUB_GET_CPUA_OBJPOS,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29556 000061A6 400B                   M           JSR     @R0                     ;
29557 000061A8 0009                   M           NOP                                     ;
29558                            9291 C   
29559                            9292             .AENDI
29560                            9293     
29561                            9294     
29562 000061AA                   9295     PRESET_PVABSTOOBJ_EXT:
29563                            9296             SUB_END
29564                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29565 000061AA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29566                            9297             M_RTS
29567 000061AC 000B                   M           RTS                             ;RTSの後ろの
29568 000061AE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29569                            9298     
29570                            9299     
29571                            9300             .EXPORT _PRESET_PV_FLGCLR
29572                                     ***** BEGIN-POOL *****
29573 000061B0 00000000                   DATA FOR SOURCE-LINE 9290
29574                                     ***** END-POOL *****
29575 000061B4                   9301     _PRESET_PV_FLGCLR
29576                            9302             SUB_START
29577 000061B4 4F22                   M           STS.L   PR,@-R15                ;[必要]
29578                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29579 000061B6 200A              9303             XOR     R0,R0
29580 000061B8 D102              9304             MOV.L   #_ERR_FIRST_ST,R1       ;
29581 000061BA 2101              9305             MOV.W   R0,@R1                  ;
29582                            9306     
29583                            9307             SUB_END
29584                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29585 000061BC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29586                            9308             M_RTS
29587 000061BE 000B                   M           RTS                             ;RTSの後ろの
29588 000061C0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29589                            9309     
29590                            9310     
29591                            9311     
29592                            9312     
29593                                     ***** BEGIN-POOL *****
29594 000061C2 0000                       ALIGNMENT CODE
29595 000061C4 00000000                   DATA FOR SOURCE-LINE 9304
29596                                     ***** END-POOL *****
29597 000061C8                   9313     _CPUB_GET_CPUA_OBJPOS
29598                            9314             SUB_START
29599 000061C8 4F22                   M           STS.L   PR,@-R15                ;[必要]
29600                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29601                            9315     
29602                            9316     ;;;;;;;;;;2015-04-08 全ﾓｰﾄﾞ対象
29603                            9317     ;;;;;;;;;;      MOV.L   #_MODE_SEL,R1                           ;
29604                            9318     ;;;;;;;;;;      MOV.W   @R1,R0                                  ;
29605                            9319     ;;;;;;;;;;      TST     #_W1CNT+_W1SGL,R0               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   425
PROGRAM NAME =

29606                            9320     ;;;;;;;;;;      TST_BIT_OF CPUB_GET_OBJPOS_EXT                  ;
29607                            9321     
29608                            9322     
29609 000061CA D409              9323             MOV.L   #_SH_POSCTL_RL_ABSPLS,R4                ;[CPUAのﾃﾞｰﾀをCPUB側で使用する2014
                                          -11-07]
29610 000061CC 5140              9324             MOV.L   @(0,R4),R1                              ;
29611 000061CE 5241              9325             MOV.L   @(4,R4),R2                              ;
29612                            9326     
29613 000061D0 5540              9327             MOV.L   @(0,R4),R5                              ;
29614 000061D2 5641              9328             MOV.L   @(4,R4),R6                              ;
29615 000061D4 3518              9329             SUB     R1,R5
29616 000061D6 3628              9330             SUB     R2,R6                                   ;
29617 000061D8 265B              9331             OR      R5,R6                                   ;
29618 000061DA 2668              9332             TST     R6,R6                                   ;
29619                            9333             TST_BIT_OF CPUB_GET_OBJPOS_100                  ;8ﾊﾞｲﾄｱｸｾｽ中の問題
29620 000061DC 8901                   M           BT      CPUB_GET_OBJPOS_100
29621                            9334     
29622 000061DE 5140              9335             MOV.L   @(0,R4),R1                              ;
29623 000061E0 5241              9336             MOV.L   @(4,R4),R2                              ;
29624                            9337     
29625                            9338     
29626 000061E2                   9339     CPUB_GET_OBJPOS_100
29627 000061E2 D404              9340             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
29628 000061E4 1410              9341             MOV.L   R1,@(0,R4)
29629 000061E6 1421              9342             MOV.L   R2,@(4,R4)
29630                            9343     
29631 000061E8                   9344     CPUB_GET_OBJPOS_EXT
29632                            9345     
29633                            9346             SUB_END
29634                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29635 000061E8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29636                            9347             M_RTS
29637 000061EA 000B                   M           RTS                             ;RTSの後ろの
29638 000061EC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29639                            9348     
29640                            9349     
29641                            9350     ;       *******************************************
29642                            9351     ;       ***                                     ***
29643                            9352     ;       ***     2006-09-19                      ***
29644                            9353     ;       ***                                     ***
29645                            9354     ;       ***     起動または異常時の位置あわせ    ***
29646                            9355     ;       ***                                     ***
29647                            9356     ;       *******************************************
29648                                     ***** BEGIN-POOL *****
29649 000061EE 0000                       ALIGNMENT CODE
29650 000061F0 00000000                   DATA FOR SOURCE-LINE 9323
29651 000061F4 00000000                   DATA FOR SOURCE-LINE 9340
29652                                     ***** END-POOL *****
29653 000061F8                   9357             .ALIGN  4                               ;
29654 000061F8                   9358     _SET_PV_ABS_TO_OBJ:
29655                            9359             SUB_START
29656 000061F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
29657                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29658                            9360             PUSH_REG1 R0                            ;
29659 000061FA 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
29660                                 M                                           ;REG=>[SP]
29661                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   426
PROGRAM NAME =

29662                            9361             PUSH_REG1 R1
29663 000061FC 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
29664                                 M                                           ;REG=>[SP]
29665                                 M                                           ;"-4" FF,FF,FF,FC
29666                            9362             PUSH_REG1 R2
29667 000061FE 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
29668                                 M                                           ;REG=>[SP]
29669                                 M                                           ;"-4" FF,FF,FF,FC
29670                            9363             PUSH_REG1 R4
29671 00006200 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
29672                                 M                                           ;REG=>[SP]
29673                                 M                                           ;"-4" FF,FF,FF,FC
29674                            9364     
29675                            9365     ;       ----------------------------------------------
29676                            9366     ;;;;;;; MOV.L   #_POS_HOLD_RDY_EXITF,R1         ;//しょうがない
29677                            9367     ;;;;;;; MOV.W   @R1,R0                          ;
29678                            9368     ;;;;;;; MOV.L   #_POS_HOLD_RDY_EXITF2,R1        ;//しょうがない
29679                            9369     ;;;;;;; MOV.W   @R1,R2                          ;
29680                            9370     ;;;;;;; OR      R2,R0
29681                            9371     ;;;;;;; TST     #BIT0,R0                        ;
29682                            9372     ;;;;;;; TST_BIT_ON SETPVABSTOOBJ_EXT
29683                            9373     
29684 00006202 D406              9374             MOV.L   #_LINK_PV_ABSPLS,R4             ;
29685 00006204 6146              9375             MOV.L   @R4+,R1                                 ;
29686 00006206 6242              9376             MOV.L   @R4,R2                                  ;
29687 00006208 D405              9377             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
29688 0000620A 1410              9378             MOV.L   R1,@(0,R4)
29689 0000620C 1421              9379             MOV.L   R2,@(4,R4)
29690                            9380     
29691                            9381     ;;;;;;;SETPVABSTOOBJ_EXT:
29692                            9382     
29693                            9383             POP_REG1 R4
29694                                 M                                   ; RE"+4" 00,00,00,04
29695 0000620E 64F6                   M           MOV.L   @R15+,R4        ;
29696                            9384             POP_REG1 R2
29697                                 M                                   ; RE"+4" 00,00,00,04
29698 00006210 62F6                   M           MOV.L   @R15+,R2        ;
29699                            9385             POP_REG1 R1
29700                                 M                                   ; RE"+4" 00,00,00,04
29701 00006212 61F6                   M           MOV.L   @R15+,R1        ;
29702                            9386             POP_REG1 R0
29703                                 M                                   ; RE"+4" 00,00,00,04
29704 00006214 60F6                   M           MOV.L   @R15+,R0        ;
29705                            9387             SUB_END
29706                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29707 00006216 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29708                            9388             M_RTS
29709 00006218 000B                   M           RTS                             ;RTSの後ろの
29710 0000621A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29711                            9389     ;       *******************************************
29712                            9390     ;       ***                                     ***
29713                            9391     ;       ***     2006-09-19                      ***
29714                            9392     ;       ***                                     ***
29715                            9393     ;       ***     ﾊﾟﾙｽ管理                        ***
29716                            9394     ;       ***     (位置決め部分での処理)          ***
29717                            9395     ;       ***                                     ***
29718                            9396     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   427
PROGRAM NAME =

29719                            9397     ;       *******************************************
29720                            9398     ;       ***                                     ***
29721                            9399     ;       ***                                     ***
29722                            9400     ;       ***             演算INI                 ***
29723                            9401     ;       ***                                     ***
29724                            9402     ;       ***                                     ***
29725                            9403     ;       ***                                     ***
29726                            9404     ;       *******************************************
29727                                     ***** BEGIN-POOL *****
29728 0000621C 00000000                   DATA FOR SOURCE-LINE 9374
29729 00006220 00000000                   DATA FOR SOURCE-LINE 9377
29730                                     ***** END-POOL *****
29731 00006224                   9405             .ALIGN  4                               ;
29732 00006224                   9406     _PLS_LSI_CTL_INI:
29733                            9407             SUB_START
29734 00006224 4F22                   M           STS.L   PR,@-R15                ;[必要]
29735                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29736                            9408     
29737                            9409     
29738                            9410     
29739                            9411             SUB_END
29740                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29741 00006226 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29742                            9412             M_RTS
29743 00006228 000B                   M           RTS                             ;RTSの後ろの
29744 0000622A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29745                            9413     
29746                            9414     
29747                            9415     ;       *******************************************
29748                            9416     ;       ***                                     ***
29749                            9417     ;       ***                                     ***
29750                            9418     ;       ***             演算END                 ***
29751                            9419     ;       ***             どうするか？            ***
29752                            9420     ;       ***                                     ***
29753                            9421     ;       ***                                     ***
29754                            9422     ;       *******************************************
29755 0000622C                   9423             .ALIGN  4                               ;
29756 0000622C                   9424     _PLS_LSI_SPEED_OFF:
29757                            9425             SUB_START
29758 0000622C 4F22                   M           STS.L   PR,@-R15                ;[必要]
29759                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29760                            9426     
29761                            9427             FAR_JSR #_PLS_LSI_STOP_END,R0                                           ;
29762 0000622E D003                   M           MOV.L   #_PLS_LSI_STOP_END,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29763 00006230 400B                   M           JSR     @R0                     ;
29764 00006232 0009                   M           NOP                                     ;
29765                            9428     
29766                            9429             SUB_END
29767                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29768 00006234 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29769                            9430             M_RTS
29770 00006236 000B                   M           RTS                             ;RTSの後ろの
29771 00006238 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29772                            9431     
29773                            9432     ;       ***********************************
29774                            9433     ;       ***                             ***
29775                            9434     ;       ***     SPD * OVER LIMIT-->SPD  ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   428
PROGRAM NAME =

29776                            9435     ;       ***                             ***
29777                            9436     ;       ***********************************
29778                            9437     ;       input R2 output R2
29779                                     ***** BEGIN-POOL *****
29780 0000623A 0000                       ALIGNMENT CODE
29781 0000623C 00000000                   DATA FOR SOURCE-LINE 9427
29782                                     ***** END-POOL *****
29783 00006240                   9438     _OVER_LIDE_SPD_CALC
29784                            9439             SUB_START
29785 00006240 4F22                   M           STS.L   PR,@-R15                ;[必要]
29786                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29787 00006242 D307              9440             MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
29788 00006244 6131              9441             MOV.W   @R3,R1                                  ;
29789 00006246 940A              9442             MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;
29790                            9443             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
29791 00006248 D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29792 0000624A 400B                   M           JSR     @R0                     ;
29793 0000624C 0009                   M           NOP                                     ;
29794 0000624E D106              9444             MOV.L   #_POSCTL_SV_OFS_SPD,R1                  ;//自起動 PLS/S
29795 00006250 6312              9445             MOV.L   @R1,R3                                  ;
29796 00006252 3233              9446             CMP/GE  R3,R2                                   ;
29797 00006254 8900              9447             BT      OVER_LIDE_SPDCAL100                     ;
29798 00006256 6233              9448             MOV     R3,R2                                   ;
29799 00006258                   9449     OVER_LIDE_SPDCAL100
29800                            9450     
29801                            9451             SUB_END
29802                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29803 00006258 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29804                            9452             M_RTS
29805 0000625A 000B                   M           RTS                             ;RTSの後ろの
29806 0000625C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29807                            9453     
29808                            9454     
29809                            9455     ;       ***********************************
29810                            9456     ;       ***                             ***
29811                            9457     ;       ***     上限リミット            ***
29812                            9458     ;       ***     2013-02-15              ***
29813                            9459     ;       ***********************************
29814                            9460     ;       input R2[PLS/S] output R2[PLS/S]
29815                            9461     ;
29816                                     ***** BEGIN-POOL *****
29817 0000625E 0064                       DATA FOR SOURCE-LINE 9442
29818 00006260 00000000                   DATA FOR SOURCE-LINE 9440
29819 00006264 00000000                   DATA FOR SOURCE-LINE 9443
29820 00006268 00000000                   DATA FOR SOURCE-LINE 9444
29821                                     ***** END-POOL *****
29822 0000626C                   9462     _SPD_UPLIMT_CALC
29823                            9463             SUB_START
29824 0000626C 4F22                   M           STS.L   PR,@-R15                ;[必要]
29825                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29826 0000626E D106              9464             MOV.L   #_UPLIMIT_START_F,R1    ;//BIT0:寸動からの指令
29827 00006270 6011              9465             MOV.W   @R1,R0                  ;
29828 00006272 2008              9466             TST     R0,R0                   ;
29829                            9467             TST_BIT_OF SPD_UPLIMT_CALEND    ;LIMITしない
29830 00006274 8904                   M           BT      SPD_UPLIMT_CALEND
29831                            9468     
29832 00006276 D105              9469             MOV.L   #_UPLIMIT_SV_SPD,R1     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   429
PROGRAM NAME =

29833 00006278 6312              9470             MOV.L   @R1,R3                  ;
29834 0000627A 3323              9471             CMP/GE  R2,R3                   ;R2=< R3
29835 0000627C 8900              9472             BT      SPD_UPLIMT_CALEND       ;
29836 0000627E 6233              9473             MOV     R3,R2                   ;UP LIMIT
29837 00006280                   9474     SPD_UPLIMT_CALEND                       ;
29838                            9475             SUB_END
29839                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29840 00006280 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29841                            9476             M_RTS
29842 00006282 000B                   M           RTS                             ;RTSの後ろの
29843 00006284 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29844                            9477     
29845                            9478     ;       ***********************************************************
29846                            9479     ;       ***                                                     ***
29847                            9480     ;       ***     減速すべき距離か（現在の速度で停止可能かどうか）***
29848                            9481     ;       ***     位置決め部演算                                  ***
29849                            9482     ;       ***********************************************************
29850                            9483     ;       Input   R1,R2:残り距離 +/-
29851                            9484     ;               R11
29852                            9485     ;               R12
29853                            9486     ;
29854                            9487     
29855                            9488     
29856                                     ***** BEGIN-POOL *****
29857 00006286 0000                       ALIGNMENT CODE
29858 00006288 00000000                   DATA FOR SOURCE-LINE 9464
29859 0000628C 00000000                   DATA FOR SOURCE-LINE 9469
29860                                     ***** END-POOL *****
29861 00006290                   9489             .ALIGN  4                               ;
29862 00006290                   9490     _CMP_POSLSI_CTLGENSOK:
29863                            9491             SUB_START
29864 00006290 4F22                   M           STS.L   PR,@-R15                ;[必要]
29865                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29866                            9492     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
29867 00006292 D40F              9493             MOV.L   #_POSCTL_SV_PLS,R4                                      ;SV
29868 00006294 5140              9494             MOV.L   @(0,R4),R1                                              ;
29869 00006296 5241              9495             MOV.L   @(4,R4),R2                                              ;
29870                            9496     
29871                            9497     ;       ---------------リアルタイム目標位置-----------
29872 00006298 D40E              9498             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
29873 0000629A 5540              9499             MOV.L   @(0,R4),R5                                              ;
29874 0000629C 5641              9500             MOV.L   @(4,R4),R6                                              ;
29875                            9501             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
29876 0000629E 0008                   M           CLRT
29877 000062A0 326A                   M           SUBC    R6,R2
29878 000062A2 315A                   M           SUBC    R5,R1
29879                            9502     
29880 000062A4 D40C              9503             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
29881 000062A6 6041              9504             MOV.W   @R4,R0                                                  ;
29882 000062A8 C801              9505             TST     #BIT0,R0                                                ;
29883                            9506             TST_BIT_OF CMP_PLSLSI_CTLCAL_200                                        ;正転
29884 000062AA 8905                   M           BT      CMP_PLSLSI_CTLCAL_200
29885                            9507             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
29886 000062AC 6227                   M           NOT     R2,R2                           ;
29887 000062AE 6117                   M           NOT     R1,R1                           ;
29888 000062B0 200A                   M           XOR     R0,R0                           ;
29889 000062B2 0018                   M           SETT
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   430
PROGRAM NAME =

29890 000062B4 320E                   M           ADDC    R0,R2                           ;0+1+R2
29891 000062B6 310E                   M           ADDC    R0,R1                           ;
29892 000062B8                   9508     CMP_PLSLSI_CTLCAL_200:                                                  ;
29893                            9509     
29894                            9510     
29895 000062B8 D408              9511             MOV.L   #_POSCTL_RL_SPD,R4                                      ;
29896 000062BA 6942              9512             MOV.L   @R4,R9                                                  ;
29897                            9513     
29898 000062BC D408              9514             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
29899 000062BE 6A42              9515             MOV.L   @R4,R10                                                 ;
29900                            9516     
29901 000062C0 D408              9517             MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
29902 000062C2 6B42              9518             MOV.L   @R4,R11                                                 ;
29903                            9519     
29904                            9520             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
29905 000062C4 D008                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29906 000062C6 400B                   M           JSR     @R0                     ;
29907 000062C8 0009                   M           NOP                                     ;
29908                            9521     
29909                            9522             SUB_END
29910                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29911 000062CA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29912                            9523             M_RTS
29913 000062CC 000B                   M           RTS                             ;RTSの後ろの
29914 000062CE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29915                            9524     
29916                            9525     
29917                            9526     ;       ***********************************************************
29918                            9527     ;       ***                                                     ***
29919                            9528     ;       ***     減速すべき距離か（現在の速度で停止可能かどうか）***
29920                            9529     ;       ***     連続切り替え条件演算                            ***
29921                            9530     ;       ***********************************************************
29922                            9531     ;       Input   R1,R2:残り距離 +/-
29923                            9532     ;               R11
29924                            9533     ;               R12
29925                            9534     ;
29926                                     ***** BEGIN-POOL *****
29927 000062D0 00000000                   DATA FOR SOURCE-LINE 9493
29928 000062D4 00000000                   DATA FOR SOURCE-LINE 9498
29929 000062D8 00000000                   DATA FOR SOURCE-LINE 9503
29930 000062DC 00000000                   DATA FOR SOURCE-LINE 9511
29931 000062E0 00000000                   DATA FOR SOURCE-LINE 9514
29932 000062E4 00000000                   DATA FOR SOURCE-LINE 9517
29933 000062E8 00000000                   DATA FOR SOURCE-LINE 9520
29934                                     ***** END-POOL *****
29935 000062EC                   9535             .ALIGN  4                               ;
29936 000062EC                   9536     _CMP_CNT_CTLGENSOK:
29937                            9537             SUB_START
29938 000062EC 4F22                   M           STS.L   PR,@-R15                ;[必要]
29939                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
29940                            9538     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
29941 000062EE D414              9539             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;LINKX_SV_OBJ_ABSP
                                          LSの場合があるかも
29942 000062F0 6146              9540             MOV.L   @R4+,R1                                                 ;
29943 000062F2 6242              9541             MOV.L   @R4,R2                                                  ;
29944                            9542     
29945 000062F4 D413              9543             MOV.L   #_CONT_STOP_END_SUBPLS,R4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   431
PROGRAM NAME =

29946 000062F6 6442              9544             MOV.L   @R4,R4                                                  ;
29947 000062F8 233A              9545             XOR     R3,R3                                                   ;3FFF,FFFF以下
29948 000062FA 901F              9546             MOV.W   #_PROC_2MS_PLS,R0                                       ;
29949 000062FC 340C              9547             ADD     R0,R4                                                   ;R3,R4
29950                            9548             SUB8B DT_REGH=R3,DT_REGL=R4,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-DT = 目標'
29951 000062FE 0008                   M           CLRT
29952 00006300 324A                   M           SUBC    R4,R2
29953 00006302 313A                   M           SUBC    R3,R1
29954                            9549     
29955                            9550     ;       ---------------リアルタイム目標位置-----------
29956 00006304 D410              9551             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
29957 00006306 5540              9552             MOV.L   @(0,R4),R5                                              ;
29958 00006308 5641              9553             MOV.L   @(4,R4),R6                                              ;
29959                            9554             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
29960 0000630A 0008                   M           CLRT
29961 0000630C 326A                   M           SUBC    R6,R2
29962 0000630E 315A                   M           SUBC    R5,R1
29963                            9555     
29964 00006310 D40E              9556             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
29965 00006312 6041              9557             MOV.W   @R4,R0                                                  ;
29966 00006314 C801              9558             TST     #BIT0,R0                                                ;
29967                            9559             TST_BIT_OF CMP_CNT_CTLCAL_200                                   ;正転
29968 00006316 8905                   M           BT      CMP_CNT_CTLCAL_200
29969                            9560             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
29970 00006318 6227                   M           NOT     R2,R2                           ;
29971 0000631A 6117                   M           NOT     R1,R1                           ;
29972 0000631C 200A                   M           XOR     R0,R0                           ;
29973 0000631E 0018                   M           SETT
29974 00006320 320E                   M           ADDC    R0,R2                           ;0+1+R2
29975 00006322 310E                   M           ADDC    R0,R1                           ;
29976 00006324                   9561     CMP_CNT_CTLCAL_200:                                                     ;
29977                            9562     
29978 00006324 D40A              9563             MOV.L   #_POSCTL_RL_SPD,R4                                      ;
29979 00006326 6942              9564             MOV.L   @R4,R9                                                  ;
29980                            9565     
29981 00006328 D40A              9566             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
29982 0000632A 6A42              9567             MOV.L   @R4,R10                                                 ;
29983                            9568     
29984 0000632C D40A              9569             MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
29985 0000632E 6B42              9570             MOV.L   @R4,R11                                                 ;
29986                            9571     
29987                            9572             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
29988 00006330 D00A                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
29989 00006332 400B                   M           JSR     @R0                     ;
29990 00006334 0009                   M           NOP                                     ;
29991                            9573             SUB_END
29992                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
29993 00006336 4F26                   M           LDS.L   @R15+,PR                ;[必要]
29994                            9574             M_RTS
29995 00006338 000B                   M           RTS                             ;RTSの後ろの
29996 0000633A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
29997                            9575     
29998                            9576     ;       ***********************************************************
29999                            9577     ;       ***                                                     ***
30000                            9578     ;       ***     減速すべき距離か（現在の速度で停止可能かどうか）***
30001                            9579     ;       ***     ブレーキ異常条件演算                            ***
30002                            9580     ;       ***********************************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   432
PROGRAM NAME =

30003                            9581     ;       Input   R1,R2:残り距離 +/-
30004                            9582     ;               R11
30005                            9583     ;               R12
30006                            9584     ;
30007                            9585             .EXPORT _CMP_BRK2_CTLGENSOK
30008                                     ***** BEGIN-POOL *****
30009 0000633C 07D0                       DATA FOR SOURCE-LINE 9546
30010 0000633E 0000                       ALIGNMENT CODE
30011 00006340 00000000                   DATA FOR SOURCE-LINE 9539
30012 00006344 00000000                   DATA FOR SOURCE-LINE 9543
30013 00006348 00000000                   DATA FOR SOURCE-LINE 9551
30014 0000634C 00000000                   DATA FOR SOURCE-LINE 9556
30015 00006350 00000000                   DATA FOR SOURCE-LINE 9563
30016 00006354 00000000                   DATA FOR SOURCE-LINE 9566
30017 00006358 00000000                   DATA FOR SOURCE-LINE 9569
30018 0000635C 00000000                   DATA FOR SOURCE-LINE 9572
30019                                     ***** END-POOL *****
30020 00006360                   9586             .ALIGN  4                               ;
30021 00006360                   9587     _CMP_BRK2_CTLGENSOK:
30022                            9588             SUB_START
30023 00006360 4F22                   M           STS.L   PR,@-R15                ;[必要]
30024                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30025                            9589     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
30026 00006362 D40F              9590             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;LINKX_SV_OBJ_ABSP
                                          LSの場合があるかも
30027 00006364 6146              9591             MOV.L   @R4+,R1                                                 ;
30028 00006366 6242              9592             MOV.L   @R4,R2                                                  ;
30029                            9593     
30030                            9594     
30031                            9595     ;       ---------------実測目標位置-----------
30032 00006368 D40E              9596             MOV.L   #_LINK_PV_ABSPLS,R4             ;
30033 0000636A 5540              9597             MOV.L   @(0,R4),R5                                              ;
30034 0000636C 5641              9598             MOV.L   @(4,R4),R6                                              ;
30035                            9599             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
30036 0000636E 0008                   M           CLRT
30037 00006370 326A                   M           SUBC    R6,R2
30038 00006372 315A                   M           SUBC    R5,R1
30039                            9600     
30040 00006374 D40C              9601             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
30041 00006376 6041              9602             MOV.W   @R4,R0                                                  ;
30042 00006378 C801              9603             TST     #BIT0,R0                                                ;
30043                            9604             TST_BIT_OF CMP_BRK2_CTLCAL_200                                  ;正転
30044 0000637A 8905                   M           BT      CMP_BRK2_CTLCAL_200
30045                            9605             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
30046 0000637C 6227                   M           NOT     R2,R2                           ;
30047 0000637E 6117                   M           NOT     R1,R1                           ;
30048 00006380 200A                   M           XOR     R0,R0                           ;
30049 00006382 0018                   M           SETT
30050 00006384 320E                   M           ADDC    R0,R2                           ;0+1+R2
30051 00006386 310E                   M           ADDC    R0,R1                           ;
30052 00006388                   9606     CMP_BRK2_CTLCAL_200:                                                    ;
30053 00006388 D408              9607             MOV.L   #_ABS_ENC_PLS_SPD,R4                                    ;実測
30054 0000638A 6942              9608             MOV.L   @R4,R9                                                  ;
30055                            9609     
30056 0000638C D408              9610             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
30057 0000638E 6A42              9611             MOV.L   @R4,R10                                                 ;
30058                            9612     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   433
PROGRAM NAME =

30059 00006390 D408              9613             MOV.L   #_BRK2_SV_DN_ACC,R4                                     ;500,000/1000
30060 00006392 6B42              9614             MOV.L   @R4,R11                                                 ;
30061                            9615     
30062                            9616             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
30063 00006394 D008                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30064 00006396 400B                   M           JSR     @R0                     ;
30065 00006398 0009                   M           NOP                                     ;
30066                            9617             SUB_END
30067                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30068 0000639A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30069                            9618             M_RTS
30070 0000639C 000B                   M           RTS                             ;RTSの後ろの
30071 0000639E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30072                            9619     
30073                            9620     
30074                            9621     
30075                            9622     
30076                            9623     
30077                            9624     
30078                            9625     ;       *******************************************
30079                            9626     ;       ***                                     ***
30080                            9627     ;       ***     一旦停止                        ***
30081                            9628     ;       ***                                     ***
30082                            9629     ;       *******************************************
30083                                     ***** BEGIN-POOL *****
30084 000063A0 00000000                   DATA FOR SOURCE-LINE 9590
30085 000063A4 00000000                   DATA FOR SOURCE-LINE 9596
30086 000063A8 00000000                   DATA FOR SOURCE-LINE 9601
30087 000063AC 00000000                   DATA FOR SOURCE-LINE 9607
30088 000063B0 00000000                   DATA FOR SOURCE-LINE 9610
30089 000063B4 00000000                   DATA FOR SOURCE-LINE 9613
30090 000063B8 00000000                   DATA FOR SOURCE-LINE 9616
30091                                     ***** END-POOL *****
30092 000063BC                   9630             .ALIGN  4                               ;
30093                            9631             .EXPORT _CMP_HOLD_CTLGENSOK
30094 000063BC                   9632     _CMP_HOLD_CTLGENSOK:
30095                            9633             SUB_START
30096 000063BC 4F22                   M           STS.L   PR,@-R15                ;[必要]
30097                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30098                            9634     ;       ----------- 減速演算 Ｖ×Ｖ ＝  ２×α×Ｓ + β*β---------------
30099                            9635     ;;;input        MOV.L   #_POSCTL_SV_PLS,R4                                      ;SV
30100                            9636     ;;;     MOV.L   @(0,R4),R1                                              ;
30101                            9637     ;;;     MOV.L   @(4,R4),R2                                              ;
30102                            9638     
30103                            9639     ;       ---------------リアルタイム目標位置-----------
30104 000063BE D40E              9640             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
30105 000063C0 5540              9641             MOV.L   @(0,R4),R5                                              ;
30106 000063C2 5641              9642             MOV.L   @(4,R4),R6                                              ;
30107                            9643             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
30108 000063C4 0008                   M           CLRT
30109 000063C6 326A                   M           SUBC    R6,R2
30110 000063C8 315A                   M           SUBC    R5,R1
30111                            9644     
30112 000063CA D40C              9645             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
30113 000063CC 6041              9646             MOV.W   @R4,R0                                                  ;
30114 000063CE C801              9647             TST     #BIT0,R0                                                ;
30115                            9648             TST_BIT_OF CMP_HODL_CTL200                                      ;正転
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   434
PROGRAM NAME =

30116 000063D0 8905                   M           BT      CMP_HODL_CTL200
30117                            9649             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
30118 000063D2 6227                   M           NOT     R2,R2                           ;
30119 000063D4 6117                   M           NOT     R1,R1                           ;
30120 000063D6 200A                   M           XOR     R0,R0                           ;
30121 000063D8 0018                   M           SETT
30122 000063DA 320E                   M           ADDC    R0,R2                           ;0+1+R2
30123 000063DC 310E                   M           ADDC    R0,R1                           ;
30124 000063DE                   9650     CMP_HODL_CTL200:                                                        ;
30125                            9651     
30126 000063DE D408              9652             MOV.L   #_POSCTL_RL_SPD,R4                                      ;
30127 000063E0 6942              9653             MOV.L   @R4,R9                                                  ;
30128                            9654     
30129 000063E2 D408              9655             MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
30130 000063E4 6A42              9656             MOV.L   @R4,R10                                                 ;
30131                            9657     
30132                            9658     ;;;;    MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
30133                            9659     ;;;;    MOV.L   @R4,R11                                                 ;
30134                            9660     
30135 000063E6 D408              9661             MOV.L   #_POSHLD_SET_DN_ACC,R4                                  ;500,000/1000
30136 000063E8 6B42              9662             MOV.L   @R4,R11                                                 ;
30137                            9663     
30138                            9664             FAR_JSR #_CMP_SPD_REST_PLSCHKCOM,R0                             ;
30139 000063EA D008                   M           MOV.L   #_CMP_SPD_REST_PLSCHKCOM,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30140 000063EC 400B                   M           JSR     @R0                     ;
30141 000063EE 0009                   M           NOP                                     ;
30142                            9665     
30143                            9666             SUB_END
30144                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30145 000063F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30146                            9667             M_RTS
30147 000063F2 000B                   M           RTS                             ;RTSの後ろの
30148 000063F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30149                            9668     
30150                            9669     
30151                            9670     
30152                            9671     ;       *******************************************************************
30153                            9672     ;       ***                                                             ***
30154                            9673     ;       ***                                                             ***
30155                            9674     ;       ***                     クラッチ位置決め部                      ***
30156                            9675     ;       ***                                                             ***
30157                            9676     ;       ***                                                             ***
30158                            9677     ;       ***                                                             ***
30159                            9678     ;       *******************************************************************
30160                            9679     
30161                            9680     ;       *******************************************
30162                            9681     ;       ***                                     ***
30163                            9682     ;       ***     PLS/S --> 位置決めLSI           ***
30164                            9683     ;       ***                                     ***
30165                            9684     ;       *******************************************
30166                            9685     ;       _POS_LSI_SPDMAX=FFFF            ;16bit
30167                            9686     ;       _POS_FRQ_SPDMAX=500000          ;500KHZ(500000PLS/S)
30168                            9687     ;       Input R2:設定PLS/S
30169                                     ***** BEGIN-POOL *****
30170 000063F6 0000                       ALIGNMENT CODE
30171 000063F8 00000000                   DATA FOR SOURCE-LINE 9640
30172 000063FC 00000000                   DATA FOR SOURCE-LINE 9645
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   435
PROGRAM NAME =

30173 00006400 00000000                   DATA FOR SOURCE-LINE 9652
30174 00006404 00000000                   DATA FOR SOURCE-LINE 9655
30175 00006408 00000000                   DATA FOR SOURCE-LINE 9661
30176 0000640C 00000000                   DATA FOR SOURCE-LINE 9664
30177                                     ***** END-POOL *****
30178 00006410                   9688             .ALIGN  4                               ;
30179 00006410                   9689     _PLS_LSI_CTL_SPDINI:                                                    ;初回起動時
30180                            9690             SUB_START
30181 00006410 4F22                   M           STS.L   PR,@-R15                ;[必要]
30182                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30183                            9691     
30184 00006412 D114              9692             MOV.L   #_POSCTL_SET_SPD,R1                                             ;速度
30185 00006414 2122              9693             MOV.L   R2,@R1                                                          ;
30186                            9694     
30187                            9695             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L,_POSCTL_RL_SPD,L,R1,R2,R3          ;開始は自
                                          動起動
30188 00006416 D114                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
30189 00006418 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
30190 0000641A D314                   M           MOV.L   #_POSCTL_RL_SPD,R3      ;DST_ADR
30191 0000641C 2322                   M           MOV.L   R2,@R3  ;DST_ADR
30192 0000641E D112              9696             MOV.L   #_POSCTL_SV_OFS_SPD,R1                                          ;
30193 00006420 6212              9697             MOV.L   @R1,R2                                                          ;
30194                            9698     ;       ------ BASE時のみ変換が必要---------
30195                            9699             FAR_JSR #_PLS_CHG_PLS_TO_LSI,R0                                         ;
30196 00006422 D013                   M           MOV.L   #_PLS_CHG_PLS_TO_LSI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30197 00006424 400B                   M           JSR     @R0                     ;
30198 00006426 0009                   M           NOP                                     ;
30199 00006428 D112              9700             MOV.L   #_FREQ_BAS_SV_SPD,R1                                            ;BASE設定
30200 0000642A 2122              9701             MOV.L   R2,@R1                                                          ;
30201                            9702             POS_LSI_32BIT_DAT_SET ADR=_PLS_BasFreqL,ADR_REG=R6,DAT_REG=R2           ;R2 KEEP
30202                                 M           PUSH_REG1 R6
30203 0000642C 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
30204                                 M                                           ;REG=>[SP]
30205                                 M                                           ;"-4" FF,FF,FF,FC
30206                                 M           PUSH_REG1 R2
30207 0000642E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
30208                                 M                                           ;REG=>[SP]
30209                                 M                                           ;"-4" FF,FF,FF,FC
30210                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30211                                 M           PUSH_REG1 R0
30212 00006430 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30213                                 M                                           ;REG=>[SP]
30214                                 M                                           ;"-4" FF,FF,FF,FC
30215 00006432 D011                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30216 00006434 6001                   M           MOV.W   @R0,R0
30217                                 M           POP_REG1 R0
30218                                 M                                   ; RE"+4" 00,00,00,04
30219 00006436 60F6                   M           MOV.L   @R15+,R0        ;
30220 00006438 D610                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BasFreqL,R6                ;
30221 0000643A 2621                   M           MOV.W   R2,@R6                          ;(LOW)
30222 0000643C 7602                   M           ADD     #2,R6                                   ;
30223 0000643E 6229                   M           SWAP.W  R2,R2                           ;
30224                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30225                                 M           PUSH_REG1 R0
30226 00006440 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30227                                 M                                           ;REG=>[SP]
30228                                 M                                           ;"-4" FF,FF,FF,FC
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   436
PROGRAM NAME =

30229 00006442 D00D                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30230 00006444 6001                   M           MOV.W   @R0,R0
30231                                 M           POP_REG1 R0
30232                                 M                                   ; RE"+4" 00,00,00,04
30233 00006446 60F6                   M           MOV.L   @R15+,R0        ;
30234 00006448 2621                   M           MOV.W   R2,@R6                          ;(HIGH)
30235                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30236                                 M           PUSH_REG1 R0
30237 0000644A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30238                                 M                                           ;REG=>[SP]
30239                                 M                                           ;"-4" FF,FF,FF,FC
30240 0000644C D00A                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30241 0000644E 6001                   M           MOV.W   @R0,R0
30242                                 M           POP_REG1 R0
30243                                 M                                   ; RE"+4" 00,00,00,04
30244 00006450 60F6                   M           MOV.L   @R15+,R0        ;
30245                                 M           POP_REG1 R2
30246                                 M                                   ; RE"+4" 00,00,00,04
30247 00006452 62F6                   M           MOV.L   @R15+,R2        ;
30248                                 M           POP_REG1 R6
30249                                 M                                   ; RE"+4" 00,00,00,04
30250 00006454 66F6                   M           MOV.L   @R15+,R6        ;
30251                            9703     
30252                            9704     
30253                            9705             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;PLS/S-->
30254 00006456 D00A                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30255 00006458 400B                   M           JSR     @R0                     ;
30256 0000645A 0009                   M           NOP                                     ;
30257                            9706             SUB_END
30258                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30259 0000645C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30260                            9707             M_RTS
30261 0000645E 000B                   M           RTS                             ;RTSの後ろの
30262 00006460 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30263                            9708     
30264                            9709     
30265                                     ***** BEGIN-POOL *****
30266 00006462 0000                       ALIGNMENT CODE
30267 00006464 00000000                   DATA FOR SOURCE-LINE 9692
30268 00006468 00000000                   DATA FOR SOURCE-LINE 9695,9696
30269 0000646C 00000000                   DATA FOR SOURCE-LINE 9695
30270 00006470 00000000                   DATA FOR SOURCE-LINE 9699
30271 00006474 00000000                   DATA FOR SOURCE-LINE 9700
30272 00006478 00000000                   DATA FOR SOURCE-LINE 9702,9702,9702
30273 0000647C 00000000                   DATA FOR SOURCE-LINE 9702
30274 00006480 00000000                   DATA FOR SOURCE-LINE 9705
30275                                     ***** END-POOL *****
30276 00006484                   9710             .ALIGN  4                               ;
30277 00006484                   9711     _PLS_LSI_CTL_SPDCNT:                                                            ;運転中の
                                          速度変動時
30278                            9712             SUB_START
30279 00006484 4F22                   M           STS.L   PR,@-R15                ;[必要]
30280                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30281 00006486 D104              9713             MOV.L   #_POSCTL_SET_SPD,R1                                             ;速度
30282 00006488 2122              9714             MOV.L   R2,@R1                                                          ;SAVE 設定
                                          速度
30283                            9715     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   437
PROGRAM NAME =

30284                            9716             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;
30285 0000648A D004                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30286 0000648C 400B                   M           JSR     @R0                     ;
30287 0000648E 0009                   M           NOP                                     ;
30288                            9717             SUB_END
30289                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30290 00006490 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30291                            9718             M_RTS
30292 00006492 000B                   M           RTS                             ;RTSの後ろの
30293 00006494 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30294                            9719     
30295                            9720     
30296                            9721     ;       -------------------------------------------
30297                            9722     ;       ---     input _POSCTL_RL_SPD            ---
30298                            9723     ;       -------------------------------------------
30299                                     ***** BEGIN-POOL *****
30300 00006496 0000                       ALIGNMENT CODE
30301 00006498 00000000                   DATA FOR SOURCE-LINE 9713
30302 0000649C 00000000                   DATA FOR SOURCE-LINE 9716
30303                                     ***** END-POOL *****
30304 000064A0                   9724             .ALIGN  4                               ;
30305 000064A0                   9725     _PLS_LSI_CTL_SPDSET
30306                            9726             SUB_START
30307 000064A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
30308                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30309 000064A2 D00F              9727             MOV.L   #_POSCTL_RL_SPD,R0                                      ;内部演算リアルタ
                                          イム速度(PLS/S)
30310 000064A4 6202              9728             MOV.L   @R0,R2                                                  ;
30311                            9729             FAR_JSR #_PLS_CHG_PLS_TO_LSI,R0                                 ;
30312 000064A6 D00F                   M           MOV.L   #_PLS_CHG_PLS_TO_LSI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30313 000064A8 400B                   M           JSR     @R0                     ;
30314 000064AA 0009                   M           NOP                                     ;
30315                            9730     
30316 000064AC D60E              9731             MOV.L   #_FREQ_SV_SPD,R6                                        ;2003-07-01(二重化
                                          対象速度)
30317 000064AE 2622              9732             MOV.L   R2,@R6                                                  ;
30318                            9733             POS_LSI_32BIT_DAT_SET ADR=_PLS_TopFreqL,ADR_REG=R6,DAT_REG=R2   ;
30319                                 M           PUSH_REG1 R6
30320 000064B0 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
30321                                 M                                           ;REG=>[SP]
30322                                 M                                           ;"-4" FF,FF,FF,FC
30323                                 M           PUSH_REG1 R2
30324 000064B2 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
30325                                 M                                           ;REG=>[SP]
30326                                 M                                           ;"-4" FF,FF,FF,FC
30327                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30328                                 M           PUSH_REG1 R0
30329 000064B4 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30330                                 M                                           ;REG=>[SP]
30331                                 M                                           ;"-4" FF,FF,FF,FC
30332 000064B6 D00D                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30333 000064B8 6001                   M           MOV.W   @R0,R0
30334                                 M           POP_REG1 R0
30335                                 M                                   ; RE"+4" 00,00,00,04
30336 000064BA 60F6                   M           MOV.L   @R15+,R0        ;
30337 000064BC D60C                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_TopFreqL,R6                ;
30338 000064BE 2621                   M           MOV.W   R2,@R6                          ;(LOW)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   438
PROGRAM NAME =

30339 000064C0 7602                   M           ADD     #2,R6                                   ;
30340 000064C2 6229                   M           SWAP.W  R2,R2                           ;
30341                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30342                                 M           PUSH_REG1 R0
30343 000064C4 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30344                                 M                                           ;REG=>[SP]
30345                                 M                                           ;"-4" FF,FF,FF,FC
30346 000064C6 D009                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30347 000064C8 6001                   M           MOV.W   @R0,R0
30348                                 M           POP_REG1 R0
30349                                 M                                   ; RE"+4" 00,00,00,04
30350 000064CA 60F6                   M           MOV.L   @R15+,R0        ;
30351 000064CC 2621                   M           MOV.W   R2,@R6                          ;(HIGH)
30352                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30353                                 M           PUSH_REG1 R0
30354 000064CE 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30355                                 M                                           ;REG=>[SP]
30356                                 M                                           ;"-4" FF,FF,FF,FC
30357 000064D0 D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30358 000064D2 6001                   M           MOV.W   @R0,R0
30359                                 M           POP_REG1 R0
30360                                 M                                   ; RE"+4" 00,00,00,04
30361 000064D4 60F6                   M           MOV.L   @R15+,R0        ;
30362                                 M           POP_REG1 R2
30363                                 M                                   ; RE"+4" 00,00,00,04
30364 000064D6 62F6                   M           MOV.L   @R15+,R2        ;
30365                                 M           POP_REG1 R6
30366                                 M                                   ; RE"+4" 00,00,00,04
30367 000064D8 66F6                   M           MOV.L   @R15+,R6        ;
30368                            9734             SUB_END
30369                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30370 000064DA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30371                            9735             M_RTS
30372 000064DC 000B                   M           RTS                             ;RTSの後ろの
30373 000064DE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30374                            9736     
30375                            9737     
30376                            9738     ;       ***********************************
30377                            9739     ;       ***                             ***
30378                            9740     ;       ***     停止処理                ***
30379                            9741     ;       ***                             ***
30380                            9742     ;       ***********************************
30381                            9743     ;       (1)自起動速度になったらEMGｺﾏﾝﾄﾞを発行する
30382                            9744     ;       (2)速度=0にして残りパルスを0にする
30383                            9745     ;       とりあえず(1)を行なう。
30384                                     ***** BEGIN-POOL *****
30385 000064E0 00000000                   DATA FOR SOURCE-LINE 9727
30386 000064E4 00000000                   DATA FOR SOURCE-LINE 9729
30387 000064E8 00000000                   DATA FOR SOURCE-LINE 9731
30388 000064EC 00000000                   DATA FOR SOURCE-LINE 9733,9733,9733
30389 000064F0 00000000                   DATA FOR SOURCE-LINE 9733
30390                                     ***** END-POOL *****
30391 000064F4                   9746             .ALIGN  4                               ;
30392 000064F4                   9747     _PLS_LSI_STOP_END:
30393                            9748             SUB_START
30394 000064F4 4F22                   M           STS.L   PR,@-R15                ;[必要]
30395                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   439
PROGRAM NAME =

30396 000064F6 D41A              9749             MOV.L   #(BIT11*H'10000),R4                                     ;
30397                            9750             POS_LSI_BIT_SET_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
30398 000064F8 D61A                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
30399 000064FA 6562                   M           MOV.L   @R6,R5                                          ;
30400 000064FC 254B                   M           OR      R4,R5                                           ;
30401 000064FE 2652                   M           MOV.L   R5,@R6                                          ;SAVE
30402                                 M   
30403 00006500 D619                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
30404                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
30405 00006502 6559                   M           SWAP.W  R5,R5                           ;
30406                                 M   
30407 00006504 2651                   M           MOV.W   R5,@R6
30408 00006506 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
30409 00006508 6559                   M           SWAP.W  R5,R5                           ;
30410                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30411                                 M           PUSH_REG1 R0
30412 0000650A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30413                                 M                                           ;REG=>[SP]
30414                                 M                                           ;"-4" FF,FF,FF,FC
30415 0000650C D017                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30416 0000650E 6001                   M           MOV.W   @R0,R0
30417                                 M           POP_REG1 R0
30418                                 M                                   ; RE"+4" 00,00,00,04
30419 00006510 60F6                   M           MOV.L   @R15+,R0        ;
30420 00006512 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
30421                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30422                                 M           PUSH_REG1 R0
30423 00006514 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30424                                 M                                           ;REG=>[SP]
30425                                 M                                           ;"-4" FF,FF,FF,FC
30426 00006516 D015                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30427 00006518 6001                   M           MOV.W   @R0,R0
30428                                 M           POP_REG1 R0
30429                                 M                                   ; RE"+4" 00,00,00,04
30430 0000651A 60F6                   M           MOV.L   @R15+,R0        ;
30431 0000651C 0009              9751             NOP
30432 0000651E 0009              9752             NOP
30433 00006520 0009              9753             NOP
30434                            9754             PUSH_REG1 R4
30435 00006522 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
30436                                 M                                           ;REG=>[SP]
30437                                 M                                           ;"-4" FF,FF,FF,FC
30438 00006524 200A              9755             XOR     R0,R0                                                           ;
30439                            9756             REG_MOV_TO_MEM  DST_ADR=_POSCTL_SV_OFS_SPD,L1=L,DT_REG=R0,WKREG1=R1     ;
30440 00006526 D112                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1  ;DST_ADR
30441 00006528 2102                   M           MOV.L   R0,@R1  ;DST_ADR
30442                            9757             POP_REG1 R4                                                             ;
30443                                 M                                   ; RE"+4" 00,00,00,04
30444 0000652A 64F6                   M           MOV.L   @R15+,R4        ;
30445 0000652C 0009              9758             NOP
30446 0000652E 0009              9759             NOP
30447 00006530 0009              9760             NOP
30448 00006532 D410              9761             MOV.L   #~(BIT11*H'10000),R4            ;
30449                            9762             POS_LSI_BIT_CLR_LG ADR=_PLS_BitComdL,MEM=_LSI_BUF_PLS_BitComdL  ;
30450 00006534 D60B                   M           MOV.L   #_LSI_BUF_PLS_BitComdL,R6                                       ;
30451 00006536 6562                   M           MOV.L   @R6,R5                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   440
PROGRAM NAME =

30452 00006538 2549                   M           AND     R4,R5                                           ;
30453 0000653A 2652                   M           MOV.L   R5,@R6                                          ;SAVE
30454                                 M   
30455 0000653C D60A                   M           MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_BitComdL,R6                        ;
30456                                 M           POS_LSI_CMD_WR ADR_REG=R6,DAT_REG=R5                    ;
30457 0000653E 6559                   M           SWAP.W  R5,R5                           ;
30458                                 M   
30459 00006540 2651                   M           MOV.W   R5,@R6
30460 00006542 7602                   M           ADD     #2,R6                                           ;MEM HIGH WORD==>LOW WORD
                                          SAVE
30461 00006544 6559                   M           SWAP.W  R5,R5                           ;
30462                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30463                                 M           PUSH_REG1 R0
30464 00006546 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30465                                 M                                           ;REG=>[SP]
30466                                 M                                           ;"-4" FF,FF,FF,FC
30467 00006548 D008                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30468 0000654A 6001                   M           MOV.W   @R0,R0
30469                                 M           POP_REG1 R0
30470                                 M                                   ; RE"+4" 00,00,00,04
30471 0000654C 60F6                   M           MOV.L   @R15+,R0        ;
30472 0000654E 2651                   M           MOV.W   R5,@R6                          ;HIGH WORD SAVE
30473                                 M           POS_LSI_WORD_DUM_LOD                                    ;
30474                                 M           PUSH_REG1 R0
30475 00006550 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
30476                                 M                                           ;REG=>[SP]
30477                                 M                                           ;"-4" FF,FF,FF,FC
30478 00006552 D006                   M           MOV.L   #_PVP_CB_A_VER,R0       ;
30479 00006554 6001                   M           MOV.W   @R0,R0
30480                                 M           POP_REG1 R0
30481                                 M                                   ; RE"+4" 00,00,00,04
30482 00006556 60F6                   M           MOV.L   @R15+,R0        ;
30483                            9763     
30484                            9764             SUB_END
30485                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30486 00006558 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30487                            9765             M_RTS
30488 0000655A 000B                   M           RTS                             ;RTSの後ろの
30489 0000655C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30490                            9766     
30491                            9767     
30492                            9768     
30493                            9769     
30494                            9770     
30495                            9771     
30496                            9772     ;       ***************************************************
30497                            9773     ;       ***                                             ***
30498                            9774     ;       ***     Input R2 PLS/SEC-->LSI(0-FFFF)data      ***
30499                            9775     ;       ***                                             ***
30500                            9776     ;       ***************************************************
30501                            9777     ;       Input R2
30502                            9778             .IMPORT _POS_LSI_FRQ_DATA_MAK
30503                            9779     
30504                                     ***** BEGIN-POOL *****
30505 0000655E 0000                       ALIGNMENT CODE
30506 00006560 08000000                   DATA FOR SOURCE-LINE 9749
30507 00006564 00000000                   DATA FOR SOURCE-LINE 9750,9762
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   441
PROGRAM NAME =

30508 00006568 00000000                   DATA FOR SOURCE-LINE 9750,9762
30509 0000656C 00000000                   DATA FOR SOURCE-LINE 9750,9750,9762,9762
30510 00006570 00000000                   DATA FOR SOURCE-LINE 9756
30511 00006574 F7FFFFFF                   DATA FOR SOURCE-LINE 9761
30512                                     ***** END-POOL *****
30513 00006578                   9780             .ALIGN  4                               ;
30514 00006578                   9781     _PLS_CHG_PLS_TO_LSI
30515                            9782             SUB_START
30516 00006578 4F22                   M           STS.L   PR,@-R15                ;[必要]
30517                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30518                            9783             FAR_JSR #_POS_LSI_FRQ_DATA_MAK,R0                       ;PLS/S → 65535=500KHZ
30519 0000657A D009                   M           MOV.L   #_POS_LSI_FRQ_DATA_MAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30520 0000657C 400B                   M           JSR     @R0                     ;
30521 0000657E 0009                   M           NOP                                     ;
30522                            9784     
30523                            9785     ;       ========== MAX ========
30524 00006580 D108              9786             MOV.L   #_LSI_SET_SPD_MAXLMT,R1                                 ;(周波数上のﾘﾐｯﾀ)
30525 00006582 6312              9787             MOV.L   @R1,R3                                                  ;
30526 00006584 3322              9788             CMP/HS  R2,R3                                                   ;R2 =< R3
30527 00006586 8900              9789             BT      PLS_CHG_PLSTOLSI_100                                    ;
30528 00006588 6233              9790             MOV     R3,R2                                                   ;LIMIT
30529 0000658A                   9791     PLS_CHG_PLSTOLSI_100:
30530                            9792     ;============================ とりあえず策　本当はﾃﾞｰﾀﾚﾍﾞﾙでやるべき==========
30531                            9793     ;       === SIT4は未出荷(SIT3:20070914)(COP2:2007-07-20)===
30532 0000658A D107              9794             MOV.L   #_INT_CLS_CTL_FLG,R1            ;
30533 0000658C 6011              9795             MOV.W   @R1,R0                          ;
30534 0000658E C801              9796             TST     #BIT0,R0                        ;
30535                            9797             TST_BIT_OF PLS_CHG_PLSTOLSI_120         ;
30536 00006590 890E                   M           BT      PLS_CHG_PLSTOLSI_120
30537 00006592 C840              9798             TST     #BIT6,R0                        ;
30538                            9799             TST_BIT_ON PLS_CHG_PLSTOLSI_120         ;
30539 00006594 8B0C                   M           BF      PLS_CHG_PLSTOLSI_120
30540 00006596 D105              9800             MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1      ;//65535=500KHZ
30541 00006598 6312              9801             MOV.L   @R1,R3                          ;
30542                            9802             M_BRA   PLS_CHG_PLSTOLSI_150            ;
30543 0000659A A017                   M           BRA     PLS_CHG_PLSTOLSI_150
30544 0000659C 0009                   M           NOP
30545                            9803     
30546                                     ***** BEGIN-POOL *****
30547 0000659E 0000                       ALIGNMENT CODE
30548 000065A0 00000000                   DATA FOR SOURCE-LINE 9783
30549 000065A4 00000000                   DATA FOR SOURCE-LINE 9786
30550 000065A8 00000000                   DATA FOR SOURCE-LINE 9794
30551 000065AC 00000000                   DATA FOR SOURCE-LINE 9800
30552                                     ***** END-POOL *****
30553 000065B0                   9804     PLS_CHG_PLSTOLSI_120:
30554                            9805     
30555                            9806     ;       -----------2013-06-12-----
30556 000065B0 D103              9807             MOV.L   #_TEP_MODE_DRV,R1               ;//起動時に判定
30557 000065B2 6011              9808             MOV.W   @R1,R0                          ;
30558 000065B4 2008              9809             TST     R0,R0                           ;
30559                            9810             TST_BIT_OF PLS_CHG_PLSTOLSI_130         ;
30560 000065B6 8907                   M           BT      PLS_CHG_PLSTOLSI_130
30561                            9811     
30562                            9812     
30563                            9813     
30564 000065B8 D102              9814             MOV.L   #_TEP_MIN_SPD_FRQ,R1            ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   442
PROGRAM NAME =

30565 000065BA 6312              9815             MOV.L   @R1,R3                          ;FREQ 500.000/65535= 7.62PLS/S
30566                            9816             M_BRA   PLS_CHG_PLSTOLSI_150            ;
30567 000065BC A006                   M           BRA     PLS_CHG_PLSTOLSI_150
30568 000065BE 0009                   M           NOP
30569                            9817     
30570                                     ***** BEGIN-POOL *****
30571 000065C0 00000000                   DATA FOR SOURCE-LINE 9807
30572 000065C4 00000000                   DATA FOR SOURCE-LINE 9814
30573                                     ***** END-POOL *****
30574 000065C8                   9818     PLS_CHG_PLSTOLSI_130:
30575                            9819     
30576                            9820     
30577                            9821     ;       ========== MIN ========
30578 000065C8 D103              9822             MOV.L   #_POS_LSI_SPDBAS,R1             ;65535=500KHZ
30579 000065CA 6312              9823             MOV.L   @R1,R3                          ;
30580 000065CC                   9824     PLS_CHG_PLSTOLSI_150:
30581                            9825     
30582 000065CC 3232              9826             CMP/HS  R3,R2                                                   ;R3 =< R2
30583 000065CE 8900              9827             BT      PLS_CHG_PLSTOLSI_200                                    ;
30584 000065D0 6233              9828             MOV     R3,R2                                                   ;LIMIT
30585 000065D2                   9829     PLS_CHG_PLSTOLSI_200                                                    ;
30586                            9830             SUB_END
30587                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30588 000065D2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30589                            9831             M_RTS
30590 000065D4 000B                   M           RTS                             ;RTSの後ろの
30591 000065D6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30592                            9832     
30593                            9833     ;       *******************************************************************
30594                            9834     ;       ***                                                             ***
30595                            9835     ;       ***                                                             ***
30596                            9836     ;       ***                     データ作成                              ***
30597                            9837     ;       ***                                                             ***
30598                            9838     ;       ***                                                             ***
30599                            9839     ;       ***                                                             ***
30600                            9840     ;       *******************************************************************
30601                            9841     ;       起動時または1CYCLE終了時
30602                            9842     
30603                            9843     
30604                            9844     
30605                            9845     ;       ***********************************
30606                            9846     ;       ***                             ***
30607                            9847     ;       ***     加速度データの作成      ***
30608                            9848     ;       ***     _POSCTL_SV_UP_ACC       ***
30609                            9849     ;       ***                             ***
30610                            9850     ;       ***********************************
30611                            9851     ;       1回転CYCLE
30612                            9852     ;       ｵｰﾊﾞﾗｲﾄﾞなし
30613                            9853             .EXPORT _ACCLAT1_SV_MAK_COM                     ;
30614                            9854     
30615                                     ***** BEGIN-POOL *****
30616 000065D8 00000000                   DATA FOR SOURCE-LINE 9822
30617                                     ***** END-POOL *****
30618 000065DC                   9855             .ALIGN  4                               ;
30619 000065DC                   9856     _ACCLAT1_SV_MAK_OVR:                                    ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
30620                            9857             SUB_START
30621 000065DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   443
PROGRAM NAME =

30622                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30623 000065DE D007              9858             MOV.L   #_POSCTL_OVER_ACC_LAT,R0                ;time* 100/(1~127)
30624 000065E0 6401              9859             MOV.W   @R0,R4                                  ;1~100
30625                            9860     
30626 000065E2 D007              9861             MOV.L   #_SET1_ACCLAT_TIM1,R0                   ;
30627 000065E4 6201              9862             MOV.W   @R0,R2                                  ;R2:時間
30628                            9863     
30629                            9864             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
30630 000065E6 D007                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30631 000065E8 400B                   M           JSR     @R0                     ;
30632 000065EA 0009                   M           NOP                                     ;
30633                            9865     
30634 000065EC D106              9866             MOV.L   #_SET_UP_ACC_LATE,R1                            ;//目標加速度(PLS/S/S)
30635 000065EE 2122              9867             MOV.L   R2,@R1                                          ;
30636 000065F0 D106              9868             MOV.L   #_SET_DN_ACC_LATE,R1                            ;//目標加速度(PLS/S/S)
30637 000065F2 2122              9869             MOV.L   R2,@R1                                          ;(最終減速専用)
30638                            9870     
30639                            9871             SUB_END
30640                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30641 000065F4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30642                            9872             M_RTS
30643 000065F6 000B                   M           RTS                             ;RTSの後ろの
30644 000065F8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30645                            9873     
30646                            9874     ;       -----------------------------------------------------------
30647                            9875     ;       ---     INPUT R2(TIME),R4 OVER-LIDE DATA 1~100,100      ---
30648                            9876     ;       -----------------------------------------------------------
30649                                     ***** BEGIN-POOL *****
30650 000065FA 0000                       ALIGNMENT CODE
30651 000065FC 00000000                   DATA FOR SOURCE-LINE 9858
30652 00006600 00000000                   DATA FOR SOURCE-LINE 9861
30653 00006604 00000000                   DATA FOR SOURCE-LINE 9864
30654 00006608 00000000                   DATA FOR SOURCE-LINE 9866
30655 0000660C 00000000                   DATA FOR SOURCE-LINE 9868
30656                                     ***** END-POOL *****
30657 00006610                   9877             .ALIGN  4                               ;
30658 00006610                   9878     _ACCLAT1_SV_MAK_COM:
30659                            9879             SUB_START
30660 00006610 4F22                   M           STS.L   PR,@-R15                ;[必要]
30661                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30662                            9880     
30663                            9881             FAR_JSR #_OVRLIDE_LATE_MULDIV,R0                ;Input R2,R4 ANS R2
30664 00006612 D008                   M           MOV.L   #_OVRLIDE_LATE_MULDIV,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30665 00006614 400B                   M           JSR     @R0                     ;
30666 00006616 0009                   M           NOP                                     ;
30667 00006618 D107              9882             MOV.L   #_OVER_LIDE_ANS_TIM,R1                  ;TIME *100*100/1*1 = 10000*
30668 0000661A 2122              9883             MOV.L   R2,@R1                                  ;(ﾃﾞﾊﾞｯｸ用)
30669                            9884     ;
30670                            9885     ;       ====時間の次元==>加速度の次元===
30671                            9886     ;;      MOV.L   #_POS_FRQ_SPDMAX,R0                     ;500KHZ(500000PLS/S)
30672                            9887     ;       ------- こっちがわかりよい-------
30673 0000661C 6423              9888             MOV     R2,R4                                   ;
30674 0000661E D007              9889             MOV.L   #_LINK_MAX_SPD_PLS,R0                           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　p
                                          ls/s
30675 00006620 6202              9890             MOV.L   @R0,R2                                          ;
30676                            9891             FAR_JSR #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0        ;R2/R4
30677 00006622 D007                   M           MOV.L   #_FPU_DIVS_32REG2_32REG1_R4_32REG2_R2,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   444
PROGRAM NAME =

                                          をREGへ
30678 00006624 400B                   M           JSR     @R0                     ;
30679 00006626 0009                   M           NOP                                     ;
30680                            9892     
30681 00006628 2228              9893             TST     R2,R2                                           ;
30682                            9894             TST_BIT_ON ACCLAT1_SV_MAKCOM_200                        ;
30683 0000662A 8B00                   M           BF      ACCLAT1_SV_MAKCOM_200
30684 0000662C E201              9895             MOV     #1,R2                                           ;
30685 0000662E                   9896     ACCLAT1_SV_MAKCOM_200:                                          ;
30686                            9897     
30687                            9898             SUB_END
30688                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30689 0000662E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30690                            9899             M_RTS
30691 00006630 000B                   M           RTS                             ;RTSの後ろの
30692 00006632 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30693                            9900     
30694                            9901     
30695                            9902     ;       *******************************************
30696                            9903     ;       ***                                     ***
30697                            9904     ;       ***     OVERLIDE 加速度への演算         ***
30698                            9905     ;       ***                                     ***
30699                            9906     ;       *******************************************
30700                            9907     ;       Input R2(ACC時間),R4(0~100per)/OUTPUT R2,R4
30701                                     ***** BEGIN-POOL *****
30702 00006634 00000000                   DATA FOR SOURCE-LINE 9881
30703 00006638 00000000                   DATA FOR SOURCE-LINE 9882
30704 0000663C 00000000                   DATA FOR SOURCE-LINE 9889
30705 00006640 00000000                   DATA FOR SOURCE-LINE 9891
30706                                     ***** END-POOL *****
30707 00006644                   9908             .ALIGN  4                               ;
30708 00006644                   9909     _OVRLIDE_LATE_MULDIV:
30709                            9910             SUB_START
30710 00006644 4F22                   M           STS.L   PR,@-R15                ;[必要]
30711                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30712                            9911     
30713                            9912     ;       ------- 2010-10-06-- ふりこ
30714                            9913             PUSH_REG1 R2
30715 00006646 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
30716                                 M                                           ;REG=>[SP]
30717                                 M                                           ;"-4" FF,FF,FF,FC
30718                            9914             PUSH_REG1 R4
30719 00006648 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
30720                                 M                                           ;REG=>[SP]
30721                                 M                                           ;"-4" FF,FF,FF,FC
30722                            9915             FAR_JSR #_CHK_DNM_SPEC_MOD1,R0
30723 0000664A D007                   M           MOV.L   #_CHK_DNM_SPEC_MOD1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30724 0000664C 400B                   M           JSR     @R0                     ;
30725 0000664E 0009                   M           NOP                                     ;
30726                            9916             POP_REG1 R4
30727                                 M                                   ; RE"+4" 00,00,00,04
30728 00006650 64F6                   M           MOV.L   @R15+,R4        ;
30729                            9917             POP_REG1 R2
30730                                 M                                   ; RE"+4" 00,00,00,04
30731 00006652 62F6                   M           MOV.L   @R15+,R2        ;
30732                            9918     
30733 00006654 2008              9919             TST     R0,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   445
PROGRAM NAME =

30734                            9920             TST_BIT_ON OVRLIDE_LATMULDIV200         ;ふりこ時時間一定
30735 00006656 8B0B                   M           BF      OVRLIDE_LATMULDIV200
30736                            9921     
30737                            9922     
30738                            9923     
30739 00006658 D004              9924             MOV.L   #_WPAR_ACCTYP_SEL,R0                            ;0:加速距離一定(SIT3ｴｸｾﾃﾞｨ
                                          ) 1:加速時間一定 2:加速度一定
30740 0000665A 6001              9925             MOV.W   @R0,R0                                          ;
30741 0000665C 8800              9926             CMP/EQ  #0,R0                                           ;0:距離一定(LATE*LATE)
30742 0000665E 890B              9927             BT      OVRLIDE_LATMULDIV300                            ;
30743 00006660 8801              9928             CMP/EQ  #1,R0                                           ;
30744 00006662 8905              9929             BT      OVRLIDE_LATMULDIV200                            ;加速時間一定JUMP
30745                            9930             M_BRA   OVRLIDE_LATMULDIV550                            ;加速度一定
30746 00006664 A017                   M           BRA     OVRLIDE_LATMULDIV550
30747 00006666 0009                   M           NOP
30748                            9931     
30749                            9932     
30750                                     ***** BEGIN-POOL *****
30751 00006668 00000000                   DATA FOR SOURCE-LINE 9915
30752 0000666C 00000000                   DATA FOR SOURCE-LINE 9924
30753                                     ***** END-POOL *****
30754 00006670                   9933     OVRLIDE_LATMULDIV200:                                           ;
30755 00006670 9101              9934             MOV.W   #_OVRLIDE_LATE_MAX,R1                           ;R2(時間)*(100 R1)/(PER R4
                                          )加速時間一定
30756                            9935             M_BRA   OVRLIDE_LATMULDIV400                            ;V=Vmax/Tmax V*0.5 Tmax->T
                                          max/0.5
30757 00006672 A005                   M           BRA     OVRLIDE_LATMULDIV400
30758 00006674 0009                   M           NOP
30759                            9936     
30760                                     ***** BEGIN-POOL *****
30761 00006676 0064                       DATA FOR SOURCE-LINE 9934
30762                                     ***** END-POOL *****
30763 00006678                   9937     OVRLIDE_LATMULDIV300:                                           ;
30764 00006678 6043              9938             MOV     R4,R0                                           ;
30765 0000667A 204E              9939             MULU.W  R4,R0                                           ;
30766 0000667C 041A              9940             STS     MACL,R4                                         ;V*V=2*Vmax/Tmax*S
30767 0000667E 910D              9941             MOV.W   #_OVRLIDE_LATE_MAX*_OVRLIDE_LATE_MAX,R1         ;R2(時間)*(100*100 R1)/(PE
                                          R*PER R4)
30768                            9942     
30769 00006680                   9943     OVRLIDE_LATMULDIV400:                                           ;
30770                            9944     
30771 00006680 622D              9945             EXTU.W  R2,R2                                           ;R2(TIME)*R1/R4
30772                            9946             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
30773 00006682 D007                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30774 00006684 400B                   M           JSR     @R0                     ;
30775 00006686 0009                   M           NOP                                     ;
30776                            9947     
30777 00006688 D406              9948             MOV.L   #H'0000FFFF,R4                                  ;
30778 0000668A 3422              9949             CMP/HS  R2,R4                                           ;
30779 0000668C 8900              9950             BT      OVRLIDE_LATMULDIV500                            ;
30780 0000668E 6243              9951             MOV     R4,R2                                           ;
30781 00006690                   9952     OVRLIDE_LATMULDIV500                                            ;
30782 00006690 2228              9953             TST     R2,R2                                           ;
30783                            9954             TST_BIT_ON OVRLIDE_LATMULDIV550                         ;
30784 00006692 8B00                   M           BF      OVRLIDE_LATMULDIV550
30785 00006694 E201              9955             MOV     #1,R2                                           ;
30786 00006696                   9956     OVRLIDE_LATMULDIV550:                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   446
PROGRAM NAME =

30787                            9957     
30788                            9958             SUB_END
30789                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30790 00006696 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30791                            9959             M_RTS
30792 00006698 000B                   M           RTS                             ;RTSの後ろの
30793 0000669A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30794                            9960     
30795                            9961     
30796                            9962     ;       ***********************************
30797                            9963     ;       ***                             ***
30798                            9964     ;       ***     BRK1ﾃﾞｰﾀMAKE            ***
30799                            9965     ;       ***                             ***
30800                            9966     ;       ***********************************
30801                                     ***** BEGIN-POOL *****
30802 0000669C 2710                       DATA FOR SOURCE-LINE 9941
30803 0000669E 0000                       ALIGNMENT CODE
30804 000066A0 00000000                   DATA FOR SOURCE-LINE 9946
30805 000066A4 0000FFFF                   DATA FOR SOURCE-LINE 9948
30806                                     ***** END-POOL *****
30807 000066A8                   9967             .ALIGN  4                               ;
30808 000066A8                   9968     _ACCBRK1_SV_MAKE:                                       ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
30809                            9969             SUB_START
30810 000066A8 4F22                   M           STS.L   PR,@-R15                ;[必要]
30811                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30812 000066AA 9409              9970             MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;100%
30813 000066AC D005              9971             MOV.L   #_WPAR_BRK1_ACCTM,R0                    ;//38 msec
30814 000066AE 6201              9972             MOV.W   @R0,R2                                  ;
30815                            9973     
30816                            9974             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
30817 000066B0 D005                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30818 000066B2 400B                   M           JSR     @R0                     ;
30819 000066B4 0009                   M           NOP                                     ;
30820                            9975     
30821 000066B6 D105              9976             MOV.L   #_BRK1_SV_DN_ACC,R1;//目標加速度((PLS/1000)/S/S)
30822 000066B8 2122              9977             MOV.L   R2,@R1                                          ;
30823                            9978             SUB_END
30824                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30825 000066BA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30826                            9979             M_RTS
30827 000066BC 000B                   M           RTS                             ;RTSの後ろの
30828 000066BE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30829                            9980     
30830                                     ***** BEGIN-POOL *****
30831 000066C0 0064                       DATA FOR SOURCE-LINE 9970
30832 000066C2 0000                       ALIGNMENT CODE
30833 000066C4 00000000                   DATA FOR SOURCE-LINE 9971
30834 000066C8 00000000                   DATA FOR SOURCE-LINE 9974
30835 000066CC 00000000                   DATA FOR SOURCE-LINE 9976
30836                                     ***** END-POOL *****
30837 000066D0                   9981             .ALIGN  4                               ;
30838 000066D0                   9982     _ACCBRK1_SV_MAK_OVR:                                    ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
30839                            9983             SUB_START
30840 000066D0 4F22                   M           STS.L   PR,@-R15                ;[必要]
30841                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30842 000066D2 D006              9984             MOV.L   #_POSCTL_OVER_ACC_LAT,R0                ;
30843 000066D4 6401              9985             MOV.W   @R0,R4                                  ;1~100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   447
PROGRAM NAME =

30844                            9986     
30845 000066D6 D006              9987             MOV.L   #_WPAR_BRK1_ACCTM,R0                    ;//38 msec
30846 000066D8 6201              9988             MOV.W   @R0,R2                                  ;
30847                            9989     
30848                            9990             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
30849 000066DA D006                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30850 000066DC 400B                   M           JSR     @R0                     ;
30851 000066DE 0009                   M           NOP                                     ;
30852                            9991     
30853 000066E0 D105              9992             MOV.L   #_BRK1_SV_DN_ACC,R1;//目標加速度((PLS/1000)/S/S)
30854 000066E2 2122              9993             MOV.L   R2,@R1                                          ;
30855                            9994             SUB_END
30856                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30857 000066E4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30858                            9995             M_RTS
30859 000066E6 000B                   M           RTS                             ;RTSの後ろの
30860 000066E8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30861                            9996     
30862                            9997     
30863                            9998     ;       ***********************************
30864                            9999     ;       ***                             ***
30865                           10000     ;       ***     BRK2ﾃﾞｰﾀMAKE            ***
30866                           10001     ;       ***                             ***
30867                           10002     ;       ***********************************
30868                                     ***** BEGIN-POOL *****
30869 000066EA 0000                       ALIGNMENT CODE
30870 000066EC 00000000                   DATA FOR SOURCE-LINE 9984
30871 000066F0 00000000                   DATA FOR SOURCE-LINE 9987
30872 000066F4 00000000                   DATA FOR SOURCE-LINE 9990
30873 000066F8 00000000                   DATA FOR SOURCE-LINE 9992
30874                                     ***** END-POOL *****
30875 000066FC                  10003             .ALIGN  4                               ;
30876 000066FC                  10004     _ACCBRK2_SV_MAKE:                                       ;ｵｰﾊﾞﾗｲﾄﾞ演算有り
30877                           10005             SUB_START
30878 000066FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
30879                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30880 000066FE 9409             10006             MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;100%
30881 00006700 D005             10007             MOV.L   #_WPAR_BRK2_ACCTM,R0                    ;//38 msec
30882 00006702 6201             10008             MOV.W   @R0,R2                                  ;
30883                           10009     
30884                           10010             FAR_JSR #_ACCLAT1_SV_MAK_COM,R0                 ;INPUT R2,R4
30885 00006704 D005                   M           MOV.L   #_ACCLAT1_SV_MAK_COM,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30886 00006706 400B                   M           JSR     @R0                     ;
30887 00006708 0009                   M           NOP                                     ;
30888                           10011     
30889 0000670A D105             10012             MOV.L   #_BRK2_SV_DN_ACC,R1;//目標加速度((PLS/1000)/S/S)
30890 0000670C 2122             10013             MOV.L   R2,@R1                                          ;
30891                           10014     
30892                           10015     
30893                           10016             SUB_END
30894                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30895 0000670E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30896                           10017             M_RTS
30897 00006710 000B                   M           RTS                             ;RTSの後ろの
30898 00006712 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30899                           10018     
30900                           10019     ;       S2b     WPAR_BRK1_ACCTM                 ;//37 msec
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   448
PROGRAM NAME =

30901                           10020     ;       S4b     BRK1_SV_DN_ACC;//目標加速度((PLS/1000)/S/S)
30902                           10021     ;       S4b     BRK1_CAL_DN_ACC;//OVER LIDE 含む
30903                           10022     
30904                           10023     
30905                           10024     ;       *******************************************************************
30906                           10025     ;       ***                                                             ***
30907                           10026     ;       ***                                                             ***
30908                           10027     ;       ***                     演算                                    ***
30909                           10028     ;       ***                                                             ***
30910                           10029     ;       ***                                                             ***
30911                           10030     ;       ***                                                             ***
30912                           10031     ;       *******************************************************************
30913                           10032     
30914                           10033     ;       *******************************************
30915                           10034     ;       ***                                     ***
30916                           10035     ;       ***     2006-09-19                      ***
30917                           10036     ;       ***     演算                            ***
30918                           10037     ;       ***     速度LSI設定→PLS/Sにする        ***
30919                           10038     ;       ***                                     ***
30920                           10039     ;       *******************************************
30921                           10040     ;
30922                                     ***** BEGIN-POOL *****
30923 00006714 0064                       DATA FOR SOURCE-LINE 10006
30924 00006716 0000                       ALIGNMENT CODE
30925 00006718 00000000                   DATA FOR SOURCE-LINE 10007
30926 0000671C 00000000                   DATA FOR SOURCE-LINE 10010
30927 00006720 00000000                   DATA FOR SOURCE-LINE 10012
30928                                     ***** END-POOL *****
30929 00006724                  10041             .ALIGN  4                               ;
30930 00006724                  10042     _CHG_LSI_LATE_TO_PLS            ;2006-09-19
30931                           10043             SUB_START
30932 00006724 4F22                   M           STS.L   PR,@-R15                ;[必要]
30933                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30934 00006726 D005             10044             MOV.L   #_POS_FRQ_SPDMAX,R0                             ;500KHZ(500000PLS/S)
30935 00006728 6102             10045             MOV.L   @R0,R1                                          ;
30936 0000672A D005             10046             MOV.L   #_POS_LSI_SPDMAX,R0                             ;FFFF
30937 0000672C 6402             10047             MOV.L   @R0,R4                                          ;
30938 0000672E 6043             10048             MOV     R4,R0                                           ;
30939                           10049     ;;      ADD     #-1,R0                                          ;
30940                           10050     ;;      ADD     R0,R2                                           ;切上
30941                           10051             FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0                       ;
30942 00006730 D004                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
30943 00006732 400B                   M           JSR     @R0                     ;
30944 00006734 0009                   M           NOP                                     ;
30945                           10052     
30946                           10053             SUB_END
30947                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30948 00006736 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30949                           10054             M_RTS
30950 00006738 000B                   M           RTS                             ;RTSの後ろの
30951 0000673A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30952                           10055     
30953                           10056     
30954                           10057     
30955                           10058     
30956                           10059     ;       ***********************************
30957                           10060     ;       ***                             ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   449
PROGRAM NAME =

30958                           10061     ;       ***     起動コマンド            ***
30959                           10062     ;       ***                             ***
30960                           10063     ;       ***********************************
30961                                     ***** BEGIN-POOL *****
30962 0000673C 00000000                   DATA FOR SOURCE-LINE 10044
30963 00006740 00000000                   DATA FOR SOURCE-LINE 10046
30964 00006744 00000000                   DATA FOR SOURCE-LINE 10051
30965                                     ***** END-POOL *****
30966 00006748                  10064             .ALIGN  4                               ;
30967 00006748                  10065     _SPD_CTL_START
30968                           10066             SUB_START
30969 00006748 4F22                   M           STS.L   PR,@-R15                ;[必要]
30970                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
30971                           10067     
30972 0000674A 900F             10068             MOV.W   #1,R0                                                           ;
30973                           10069             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1       ;
30974 0000674C D108                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
30975 0000674E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
30976                           10070     
30977 00006750 D108             10071             MOV.L   #_POSCTL_STEP_FLG,R1                                            ;//0(IDLE)
                                           BIT0:起動 BIT6:END
30978 00006752 6011             10072             MOV.W   @R1,R0                                                          ;
30979 00006754 C801             10073             TST     #BIT0,R0                                                        ;
30980                           10074             TST_BIT_OF SPD_CTL_ST100                                                ;
30981 00006756 8903                   M           BT      SPD_CTL_ST100
30982                           10075             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_CALC_ERR,LG=W,BIT=BIT0,WKREG=R1     ;
30983 00006758 D107                   M           MOV.L   #_POSCTL_CALC_ERR,R1            ;
30984 0000675A 6011                   M           MOV.W   @R1,R0          ;
30985 0000675C CB01                   M           OR      #BIT0,R0                ;
30986 0000675E 2101                   M           MOV.W   R0,@R1          ;
30987 00006760                  10076     SPD_CTL_ST100
30988 00006760 200A             10077             XOR     R0,R0                   ;
30989                           10078             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_FLG,L1=W,DT_REG=R0,WKREG1=R1
30990 00006762 D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1    ;DST_ADR
30991 00006764 2101                   M           MOV.W   R0,@R1  ;DST_ADR
30992                           10079     
30993                           10080             SUB_END
30994                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
30995 00006766 4F26                   M           LDS.L   @R15+,PR                ;[必要]
30996                           10081             M_RTS
30997 00006768 000B                   M           RTS                             ;RTSの後ろの
30998 0000676A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
30999                           10082     
31000                           10083     ;       -------------------------------------------
31001                           10084     ;       ---                                     ---
31002                           10085     ;       -------------------------------------------
31003                           10086     ;       ***********************************
31004                           10087     ;       ***                             ***
31005                           10088     ;       ***     EMG停止コマンド         ***
31006                           10089     ;       ***                             ***
31007                           10090     ;       ***********************************
31008                                     ***** BEGIN-POOL *****
31009 0000676C 0001                       DATA FOR SOURCE-LINE 10068
31010 0000676E 0000                       ALIGNMENT CODE
31011 00006770 00000000                   DATA FOR SOURCE-LINE 10069
31012 00006774 00000000                   DATA FOR SOURCE-LINE 10071,10078
31013 00006778 00000000                   DATA FOR SOURCE-LINE 10075
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   450
PROGRAM NAME =

31014                                     ***** END-POOL *****
31015 0000677C                  10091             .ALIGN  4                               ;
31016 0000677C                  10092     _SPD_CTL_EMG_STOP
31017                           10093             SUB_START
31018 0000677C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31019                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31020 0000677E 9004             10094             MOV.W   #3,R0                                                           ;0:EMG
31021                           10095             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1       ;
31022 00006780 D102                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
31023 00006782 2101                   M           MOV.W   R0,@R1  ;DST_ADR
31024                           10096             SUB_END
31025                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31026 00006784 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31027                           10097             M_RTS
31028 00006786 000B                   M           RTS                             ;RTSの後ろの
31029 00006788 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31030                           10098     
31031                           10099     ;       -------------------------------------------
31032                           10100     ;       ---                                     ---
31033                           10101     ;       -------------------------------------------
31034                           10102     ;       ***********************************
31035                           10103     ;       ***                             ***
31036                           10104     ;       ***     SLOW停止コマンド        ***
31037                           10105     ;       ***                             ***
31038                           10106     ;       ***********************************
31039                                     ***** BEGIN-POOL *****
31040 0000678A 0003                       DATA FOR SOURCE-LINE 10094
31041 0000678C 00000000                   DATA FOR SOURCE-LINE 10095
31042                                     ***** END-POOL *****
31043 00006790                  10107             .ALIGN  4                               ;
31044 00006790                  10108     _SPD_CTL_SLOW_STOP
31045                           10109             SUB_START
31046 00006790 4F22                   M           STS.L   PR,@-R15                ;[必要]
31047                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31048 00006792 9004             10110             MOV.W   #2,R0                                                           ;2:SLOW
31049                           10111             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1       ;
31050 00006794 D102                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
31051 00006796 2101                   M           MOV.W   R0,@R1  ;DST_ADR
31052                           10112             SUB_END
31053                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31054 00006798 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31055                           10113             M_RTS
31056 0000679A 000B                   M           RTS                             ;RTSの後ろの
31057 0000679C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31058                           10114     
31059                           10115     
31060                           10116     ;       ***********************************************************
31061                           10117     ;       ***                                                     ***
31062                           10118     ;       ***                                                     ***
31063                           10119     ;       ***                     前回I/F                         ***
31064                           10120     ;       ***                                                     ***
31065                           10121     ;       ***                                                     ***
31066                           10122     ;       ***********************************************************
31067                           10123     ;       *******************************************
31068                           10124     ;       ***     トップ周波数    起動            ***
31069                           10125     ;       *******************************************
31070                           10126     ;       65535へ正規化または7FFFへ正規化
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   451
PROGRAM NAME =

31071                           10127     ;       Input R2:
31072                                     ***** BEGIN-POOL *****
31073 0000679E 0002                       DATA FOR SOURCE-LINE 10110
31074 000067A0 00000000                   DATA FOR SOURCE-LINE 10111
31075                                     ***** END-POOL *****
31076 000067A4                  10128             .ALIGN  4                               ;
31077 000067A4                  10129     _POS_LSI_TOP_SPEED_SET:
31078                           10130             SUB_START
31079 000067A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
31080                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31081                           10131             FAR_JSR #_PLS_LSI_CTL_SPDINI,R0
31082 000067A6 D003                   M           MOV.L   #_PLS_LSI_CTL_SPDINI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31083 000067A8 400B                   M           JSR     @R0                     ;
31084 000067AA 0009                   M           NOP                                     ;
31085                           10132             SUB_END
31086                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31087 000067AC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31088                           10133             M_RTS
31089 000067AE 000B                   M           RTS                             ;RTSの後ろの
31090 000067B0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31091                           10134     
31092                           10135     ;       *******************************************
31093                           10136     ;       ***     トップ周波数    速度可変        ***
31094                           10137     ;       *******************************************
31095                                     ***** BEGIN-POOL *****
31096 000067B2 0000                       ALIGNMENT CODE
31097 000067B4 00000000                   DATA FOR SOURCE-LINE 10131
31098                                     ***** END-POOL *****
31099 000067B8                  10138             .ALIGN  4                               ;
31100 000067B8                  10139     _POS_LSI_TOP_SPEED_SETX:
31101                           10140             SUB_START
31102 000067B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
31103                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31104                           10141             FAR_JSR #_PLS_LSI_CTL_SPDCNT,R0
31105 000067BA D003                   M           MOV.L   #_PLS_LSI_CTL_SPDCNT,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31106 000067BC 400B                   M           JSR     @R0                     ;
31107 000067BE 0009                   M           NOP                                     ;
31108                           10142             SUB_END
31109                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31110 000067C0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31111                           10143             M_RTS
31112 000067C2 000B                   M           RTS                             ;RTSの後ろの
31113 000067C4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31114                           10144     
31115                           10145     ;       ***********************************
31116                           10146     ;       ***     ベース周波数            ***
31117                           10147     ;       ***********************************
31118                           10148     ;       (1回だけ)
31119                                     ***** BEGIN-POOL *****
31120 000067C6 0000                       ALIGNMENT CODE
31121 000067C8 00000000                   DATA FOR SOURCE-LINE 10141
31122                                     ***** END-POOL *****
31123 000067CC                  10149             .ALIGN  4                               ;
31124 000067CC                  10150     _POS_LSI_BAS_SPEED_SET:
31125                           10151             SUB_START
31126 000067CC 4F22                   M           STS.L   PR,@-R15                ;[必要]
31127                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   452
PROGRAM NAME =

31128                           10152             MEM_MOV_TO_MEM  _SET_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3 ;
31129 000067CE D103                   M           MOV.L   #_SET_SPDBAS_PLS,R1
31130 000067D0 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31131 000067D2 D303                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
31132 000067D4 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31133                           10153             SUB_END
31134                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31135 000067D6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31136                           10154             M_RTS
31137 000067D8 000B                   M           RTS                             ;RTSの後ろの
31138 000067DA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31139                           10155     
31140                           10156     ;       *******************************************
31141                           10157     ;       ***     ベース周波数(HAIF-CLOSE)        ***
31142                           10158     ;       *******************************************
31143                           10159             .EXPORT _POS_LSI_CLS_BAS_SPD_SET
31144                                     ***** BEGIN-POOL *****
31145 000067DC 00000000                   DATA FOR SOURCE-LINE 10152
31146 000067E0 00000000                   DATA FOR SOURCE-LINE 10152
31147                                     ***** END-POOL *****
31148 000067E4                  10160             .ALIGN  4                               ;
31149 000067E4                  10161     _POS_LSI_CLS_BAS_SPD_SET:
31150                           10162             SUB_START
31151 000067E4 4F22                   M           STS.L   PR,@-R15                ;[必要]
31152                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31153                           10163             MEM_MOV_TO_MEM  _SET_CLS_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3     ;
31154 000067E6 D103                   M           MOV.L   #_SET_CLS_SPDBAS_PLS,R1
31155 000067E8 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31156 000067EA D303                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
31157 000067EC 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31158                           10164             SUB_END
31159                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31160 000067EE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31161                           10165             M_RTS
31162 000067F0 000B                   M           RTS                             ;RTSの後ろの
31163 000067F2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31164                           10166     
31165                           10167     
31166                           10168     
31167                           10169     ;       ***********************************
31168                           10170     ;       ***     ベース周波数            ***
31169                           10171     ;       ***********************************
31170                           10172     ;       2013-06-13
31171                           10173             .EXPORT _POS_LSI_TEP_BAS_SPEED_SET
31172                                     ***** BEGIN-POOL *****
31173 000067F4 00000000                   DATA FOR SOURCE-LINE 10163
31174 000067F8 00000000                   DATA FOR SOURCE-LINE 10163
31175                                     ***** END-POOL *****
31176 000067FC                  10174             .ALIGN  4                               ;
31177 000067FC                  10175     _POS_LSI_TEP_BAS_SPEED_SET:
31178                           10176             SUB_START
31179 000067FC 4F22                   M           STS.L   PR,@-R15                ;[必要]
31180                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31181                           10177             MEM_MOV_TO_MEM  _TEP_MIN_SPD_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3        ;
31182 000067FE D103                   M           MOV.L   #_TEP_MIN_SPD_PLS,R1
31183 00006800 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31184 00006802 D303                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   453
PROGRAM NAME =

31185 00006804 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31186                           10178             SUB_END
31187                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31188 00006806 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31189                           10179             M_RTS
31190 00006808 000B                   M           RTS                             ;RTSの後ろの
31191 0000680A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31192                           10180     
31193                           10181     
31194                           10182     
31195                           10183     ;
31196                           10184     ;       *******************************************
31197                           10185     ;       ***     トップSPEED=自起動=ｲﾝﾁﾝｸﾞ       ***
31198                           10186     ;       *******************************************
31199                           10187     ;       65535へ正規化または7FFFへ正規化
31200                           10188     ;       Input R2:
31201                           10189             .EXPORT _POS_LSI_CLS_TOP_EQ_BAS_SET1
31202                                     ***** BEGIN-POOL *****
31203 0000680C 00000000                   DATA FOR SOURCE-LINE 10177
31204 00006810 00000000                   DATA FOR SOURCE-LINE 10177
31205                                     ***** END-POOL *****
31206 00006814                  10190             .ALIGN  4                               ;
31207 00006814                  10191     _POS_LSI_CLS_TOP_EQ_BAS_SET1:
31208                           10192             SUB_START
31209 00006814 4F22                   M           STS.L   PR,@-R15                ;[必要]
31210                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31211                           10193             MEM_MOV_TO_MEM  _SET_CLS_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3     ;
31212 00006816 D106                   M           MOV.L   #_SET_CLS_SPDBAS_PLS,R1
31213 00006818 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31214 0000681A D306                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
31215 0000681C 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31216 0000681E D105             10194             MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
31217 00006820 6212             10195             MOV.L   @R1,R2                          ;
31218                           10196             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R0
31219 00006822 D005                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31220 00006824 400B                   M           JSR     @R0                     ;
31221 00006826 0009                   M           NOP                                     ;
31222                           10197             SUB_END
31223                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31224 00006828 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31225                           10198             M_RTS
31226 0000682A 000B                   M           RTS                             ;RTSの後ろの
31227 0000682C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31228                           10199     
31229                           10200             .EXPORT _POS_LSI_CLS_TOP_EQ_BAS_SET2
31230                                     ***** BEGIN-POOL *****
31231 0000682E 0000                       ALIGNMENT CODE
31232 00006830 00000000                   DATA FOR SOURCE-LINE 10193
31233 00006834 00000000                   DATA FOR SOURCE-LINE 10193,10194
31234 00006838 00000000                   DATA FOR SOURCE-LINE 10196
31235                                     ***** END-POOL *****
31236 0000683C                  10201             .ALIGN  4                               ;
31237 0000683C                  10202     _POS_LSI_CLS_TOP_EQ_BAS_SET2:
31238                           10203             SUB_START
31239 0000683C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31240                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31241                           10204             MEM_MOV_TO_MEM  _SET_CLSINC_SPDBAS_PLS,L,_POSCTL_SV_OFS_SPD,L,R1,R2,R3  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   454
PROGRAM NAME =

31242 0000683E D106                   M           MOV.L   #_SET_CLSINC_SPDBAS_PLS,R1
31243 00006840 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31244 00006842 D306                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R3  ;DST_ADR
31245 00006844 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31246 00006846 D105             10205             MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
31247 00006848 6212             10206             MOV.L   @R1,R2                          ;
31248                           10207             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R0
31249 0000684A D005                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31250 0000684C 400B                   M           JSR     @R0                     ;
31251 0000684E 0009                   M           NOP                                     ;
31252                           10208     
31253                           10209             SUB_END
31254                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31255 00006850 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31256                           10210             M_RTS
31257 00006852 000B                   M           RTS                             ;RTSの後ろの
31258 00006854 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31259                           10211     
31260                           10212     ;       ***********************************
31261                           10213     ;       ***     通常加減速              ***
31262                           10214     ;       ***********************************
31263                           10215     ;       (1回だけ):加速度
31264                                     ***** BEGIN-POOL *****
31265 00006856 0000                       ALIGNMENT CODE
31266 00006858 00000000                   DATA FOR SOURCE-LINE 10204
31267 0000685C 00000000                   DATA FOR SOURCE-LINE 10204,10205
31268 00006860 00000000                   DATA FOR SOURCE-LINE 10207
31269                                     ***** END-POOL *****
31270 00006864                  10216             .ALIGN  4                               ;
31271 00006864                  10217     _POS_LSI_ACC1_SET:
31272                           10218             SUB_START
31273 00006864 4F22                   M           STS.L   PR,@-R15                ;[必要]
31274                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31275 00006866 D003             10219             MOV.L   #_POS_LSI_ACCLT1,R0             ;
31276 00006868 6201             10220             MOV.W   @R0,R2
31277 0000686A D603             10221             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_AccLate1,R6        ;
31278 0000686C 2621             10222             MOV.W   R2,@R6                                          ;
31279                           10223             SUB_END
31280                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31281 0000686E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31282                           10224             M_RTS
31283 00006870 000B                   M           RTS                             ;RTSの後ろの
31284 00006872 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31285                           10225     
31286                           10226     ;       ***********************************
31287                           10227     ;       ***     急停止加減速            ***
31288                           10228     ;       ***********************************
31289                           10229     ;       (1回だけ):加速度
31290                                     ***** BEGIN-POOL *****
31291 00006874 00000000                   DATA FOR SOURCE-LINE 10219
31292 00006878 00000000                   DATA FOR SOURCE-LINE 10221
31293                                     ***** END-POOL *****
31294 0000687C                  10230             .ALIGN  4                               ;
31295 0000687C                  10231     _POS_LSI_ACC2_SET:
31296                           10232             SUB_START
31297 0000687C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31298                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   455
PROGRAM NAME =

31299 0000687E D003             10233             MOV.L   #_POS_LSI_ACCLT2,R0
31300 00006880 6201             10234             MOV.W   @R0,R2
31301 00006882 D603             10235             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_AccLate2,R6        ;
31302 00006884 2621             10236             MOV.W   R2,@R6                                          ;
31303                           10237             SUB_END
31304                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31305 00006886 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31306                           10238             M_RTS
31307 00006888 000B                   M           RTS                             ;RTSの後ろの
31308 0000688A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31309                           10239     
31310                           10240     ;       ***********************************
31311                           10241     ;       ***     速度LATE                ***
31312                           10242     ;       ***********************************
31313                           10243     ;       (1回だけ):
31314                                     ***** BEGIN-POOL *****
31315 0000688C 00000000                   DATA FOR SOURCE-LINE 10233
31316 00006890 00000000                   DATA FOR SOURCE-LINE 10235
31317                                     ***** END-POOL *****
31318 00006894                  10244             .ALIGN  4                               ;
31319 00006894                  10245     _POS_LSI_SPDLATE_SET:
31320                           10246             SUB_START
31321 00006894 4F22                   M           STS.L   PR,@-R15                ;[必要]
31322                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31323 00006896 D003             10247             MOV.L   #_POS_LSI_SPDLAT,R0                             ;
31324 00006898 6201             10248             MOV.W   @R0,R2
31325 0000689A D603             10249             MOV.L   #_poslsi1_top+_PLSI_CH1+_PLS_SpedLate,R6        ;
31326 0000689C 2621             10250             MOV.W   R2,@R6                                          ;
31327                           10251             SUB_END
31328                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31329 0000689E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31330                           10252             M_RTS
31331 000068A0 000B                   M           RTS                             ;RTSの後ろの
31332 000068A2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31333                           10253     
31334                           10254     
31335                           10255     
31336                           10256     
31337                           10257     
31338                           10258     ;       ***********************************
31339                           10259     ;       ***                             ***
31340                           10260     ;       ***     REAL TIME MONITOR       ***
31341                           10261     ;       ***                             ***
31342                           10262     ;       ***********************************
31343                           10263     ;       ============== 20060919 DBG=====================
31344                           10264             .GLOBAL         _SH_POSCTL_SV_SPD       ;.SRES  4*2     ;[+0:SH4 +4:SH2]
31345                           10265             .GLOBAL         _SH_POSCTL_RL_SPD       ;.SRES  4*2     ;[+0:SH4 +4:SH2]
31346                           10266             .GLOBAL         _SH_POSCTL_ACC          ;.SRES  4*2     ;
31347                           10267             .GLOBAL         _SH_POSCTL_OFS          ;.SRES  4*2     ;
31348                           10268             .GLOBAL         _SH_POSCTL_SV_ABSPLS    ;.SRES  8*2     ;
31349                           10269             .GLOBAL         _SH_POSCTL_RL_ABSPLS    ;.SRES  8*2     ;
31350                           10270             .GLOBAL         _SH_POSCTL_PV_ABSPLS    ;.SRES  8*2     ;
31351                           10271             .GLOBAL         _SH_POSCTL_REST_PLS     ;.SRES  4*2     ;
31352                           10272             .GLOBAL         _SH_POSCTL_CAL_REST     ;.SRES  4*2     ;演算(SV-PV)
31353                           10273             .GLOBAL         _SH_POSCTL_HENSA        ;.SRES  4*2     ;演算(SV-PV)
31354                           10274             .GLOBAL         _SH_POSCTL_LSIFREQ      ;.SRES  4*2     ;LSI
31355                           10275     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   456
PROGRAM NAME =

31356                           10276             .AIF    1 EQ    0
31357                           10277     _SH_2B  .EQU    0
31358                           10278     _SH_4B  .EQU    0
31359                           10279     _SH_8B  .EQU    0
31360                           10280             .AELSE
31361                                 C   ***** BEGIN-POOL *****
31362 000068A4 00000000               C   DATA FOR SOURCE-LINE 10247
31363 000068A8 00000000               C   DATA FOR SOURCE-LINE 10249
31364                                 C   ***** END-POOL *****
31365          00000002         10281 C   _SH_2B  .EQU    2
31366          00000004         10282 C   _SH_4B  .EQU    4
31367          00000008         10283 C   _SH_8B  .EQU    8
31368                           10284             .AENDI
31369                           10285     
31370                           10286     
31371                           10287     
31372                           10288     
31373                           10289     
31374 000068AC                  10290             .ALIGN  4                               ;
31375 000068AC                  10291     _MONI_SEINOU_CMP_OUTPUT:
31376                           10292             SUB_START
31377 000068AC 4F22                   M           STS.L   PR,@-R15                ;[必要]
31378                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31379                           10293     
31380                           10294     ;       設定速度
31381                           10295             MEM_MOV_TO_MEM  _POSCTL_SV_SPD,L        ,_SH_POSCTL_SV_SPD+_SH_4B       ,L,R1,R2,R
                                          3       ;[+0:SH4 +4:SH2]
31382 000068AE D12E                   M           MOV.L   #_POSCTL_SV_SPD,R1
31383 000068B0 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31384 000068B2 D32E                   M           MOV.L   #_SH_POSCTL_SV_SPD+_SH_4B,R3    ;DST_ADR
31385 000068B4 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31386                           10296     ;       制御速度
31387                           10297             MEM_MOV_TO_MEM  _POSCTL_RL_SPD,L        ,_SH_POSCTL_RL_SPD+_SH_4B       ,L,R1,R2,R
                                          3       ;[+0:SH4 +4:SH2]
31388 000068B6 D12E                   M           MOV.L   #_POSCTL_RL_SPD,R1
31389 000068B8 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31390 000068BA D32E                   M           MOV.L   #_SH_POSCTL_RL_SPD+_SH_4B,R3    ;DST_ADR
31391 000068BC 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31392                           10298             MEM_MOV_TO_MEM  _POSCTL_SV_UP_ACC,L     ,_SH_POSCTL_ACC+_SH_4B          ,L,R1,R2,R
                                          3       ;
31393 000068BE D12E                   M           MOV.L   #_POSCTL_SV_UP_ACC,R1
31394 000068C0 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31395 000068C2 D32E                   M           MOV.L   #_SH_POSCTL_ACC+_SH_4B,R3       ;DST_ADR
31396 000068C4 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31397                           10299             MEM_MOV_TO_MEM  _POSCTL_SV_OFS_SPD,L    ,_SH_POSCTL_OFS+_SH_4B          ,L,R1,R2,R
                                          3       ;
31398 000068C6 D12E                   M           MOV.L   #_POSCTL_SV_OFS_SPD,R1
31399 000068C8 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31400 000068CA D32E                   M           MOV.L   #_SH_POSCTL_OFS+_SH_4B,R3       ;DST_ADR
31401 000068CC 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31402                           10300             MEM_MOV_TO_MEM  _NEW_POSLSI_RESTPLS,L   ,_SH_POSCTL_REST_PLS+_SH_4B     ,L,R1,R2,R
                                          3       ;
31403 000068CE D12E                   M           MOV.L   #_NEW_POSLSI_RESTPLS,R1
31404 000068D0 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
31405 000068D2 D32E                   M           MOV.L   #_SH_POSCTL_REST_PLS+_SH_4B,R3  ;DST_ADR
31406 000068D4 2322                   M           MOV.L   R2,@R3  ;DST_ADR
31407                           10301     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   457
PROGRAM NAME =

31408                           10302     ;       目標位置
31409 000068D6 D42E             10303             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                                 ;LINKX_SV_OBJ_ABSP
                                          LSの場合があるかも
31410 000068D8 6146             10304             MOV.L   @R4+,R1                                                 ;
31411 000068DA 6242             10305             MOV.L   @R4,R2                                                  ;
31412 000068DC D42D             10306             MOV.L   #_SH_POSCTL_SV_ABSPLS+_SH_8B,R4                         ;
31413 000068DE 1410             10307             MOV.L   R1,@(0,R4)
31414 000068E0 1421             10308             MOV.L   R2,@(4,R4)
31415                           10309     
31416                           10310     ;       ﾘｱﾙﾀｲﾑ目標位置
31417 000068E2 D42D             10311             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                                                 ;
31418 000068E4 6546             10312             MOV.L   @R4+,R5                                                                 ;
31419 000068E6 6642             10313             MOV.L   @R4,R6                                                                  ;
31420 000068E8 D42C             10314             MOV.L   #_SH_POSCTL_RL_ABSPLS+_SH_8B,R4                                         ;[
                                          CPUB側で使用する2014-11-07]
31421 000068EA 1450             10315             MOV.L   R5,@(0,R4)                                                              ;
31422 000068EC 1461             10316             MOV.L   R6,@(4,R4)                                                              ;
31423                           10317             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2                       ;
31424 000068EE 0008                   M           CLRT
31425 000068F0 326A                   M           SUBC    R6,R2
31426 000068F2 315A                   M           SUBC    R5,R1
31427                           10318             REG_MOV_TO_MEM  DST_ADR=_SH_POSCTL_CAL_REST+_SH_4B,L1=L,DT_REG=R2,WKREG1=R1     ;
31428 000068F4 D12A                   M           MOV.L   #_SH_POSCTL_CAL_REST+_SH_4B,R1  ;DST_ADR
31429 000068F6 2122                   M           MOV.L   R2,@R1  ;DST_ADR
31430                           10319     
31431                           10320     ;       実測位置
31432 000068F8 D42A             10321             MOV.L   #_LINK_PV_ABSPLS,R4                                                     ;
31433 000068FA 6146             10322             MOV.L   @R4+,R1                                                                 ;
31434 000068FC 6242             10323             MOV.L   @R4,R2                                                                  ;
31435 000068FE D42A             10324             MOV.L   #_SH_POSCTL_PV_ABSPLS+_SH_8B,R4                                         ;
31436 00006900 1410             10325             MOV.L   R1,@(0,R4)                                                              ;
31437 00006902 1421             10326             MOV.L   R2,@(4,R4)                                                              ;
31438                           10327             SUB8B DT_REGH=R1,DT_REGL=R2,DT_ANS_REGH=R5,DT_ANS_REGL=R6                       ;
31439 00006904 0008                   M           CLRT
31440 00006906 362A                   M           SUBC    R2,R6
31441 00006908 351A                   M           SUBC    R1,R5
31442                           10328             REG_MOV_TO_MEM  DST_ADR=_SH_POSCTL_HENSA+_SH_4B,L1=L,DT_REG=R6,WKREG1=R1        ;
31443 0000690A D128                   M           MOV.L   #_SH_POSCTL_HENSA+_SH_4B,R1     ;DST_ADR
31444 0000690C 2162                   M           MOV.L   R6,@R1  ;DST_ADR
31445                           10329     
31446                           10330             FAR_JSR #_LOAD_NOW_FREQ_PLS,R0                                                  ;
31447 0000690E D028                   M           MOV.L   #_LOAD_NOW_FREQ_PLS,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31448 00006910 400B                   M           JSR     @R0                     ;
31449 00006912 0009                   M           NOP                                     ;
31450                           10331             REG_MOV_TO_MEM  DST_ADR=_SH_POSCTL_LSIFREQ+_SH_4B,L1=L,DT_REG=R0,WKREG1=R1      ;
31451 00006914 D127                   M           MOV.L   #_SH_POSCTL_LSIFREQ+_SH_4B,R1   ;DST_ADR
31452 00006916 2102                   M           MOV.L   R0,@R1  ;DST_ADR
31453                           10332     
31454                           10333     
31455                           10334     ;       ------------------- 2007-03-02--------------------
31456                           10335             .GLOBAL         _SH_SQ200_IN            ;
31457                           10336             .GLOBAL         _SH_CNTSTOP_FLG         ;
31458 00006918 D127             10337             MOV.L   #_di1_cb_ctl1_dt,R1                     ;// ﾚﾍﾞﾙﾃﾞ-ﾀ
31459 0000691A 6211             10338             MOV.W   @R1,R2                                  ;
31460 0000691C 9422             10339             MOV.W   #(BIT11+BIT10+BIT9+BIT8),R4             ;
31461 0000691E 6447             10340             NOT     R4,R4                                   ;
31462 00006920 2249             10341             AND     R4,R2                                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   458
PROGRAM NAME =

31463                           10342     
31464 00006922 D126             10343             MOV.L   #_BTTN_FLG,R1                           ;
31465 00006924 6011             10344             MOV.W   @R1,R0                                  ;BIT8,9,10,11
31466 00006926 4018             10345             SHLL8   R0                                      ;BIT8,9,10
31467 00006928 220B             10346             OR      R0,R2                                   ;
31468 0000692A 941C             10347             MOV.W   #BIT7,R4                        ;
31469 0000692C 6447             10348             NOT     R4,R4                                   ;
31470 0000692E 2249             10349             AND     R4,R2                                   ;
31471                           10350     
31472 00006930 D123             10351             MOV.L   #_CNT_STOP_CMD,R1                       ;
31473 00006932 6011             10352             MOV.W   @R1,R0                                  ;
31474 00006934 2008             10353             TST     R0,R0                                   ;
31475                           10354             TST_BIT_OF MONI_DI_CHK_050                      ;
31476 00006936 8901                   M           BT      MONI_DI_CHK_050
31477 00006938 9415             10355             MOV.W   #BIT7,R4                                ;
31478 0000693A 224B             10356             OR      R4,R2                                   ;
31479 0000693C                  10357     MONI_DI_CHK_050:
31480                           10358             REG_MOV_TO_MEM  DST_ADR=_SH_SQ200_IN+_SH_2B,L1=W,DT_REG=R2,WKREG1=R1    ;
31481 0000693C D121                   M           MOV.L   #_SH_SQ200_IN+_SH_2B,R1 ;DST_ADR
31482 0000693E 2121                   M           MOV.W   R2,@R1  ;DST_ADR
31483                           10359     
31484                           10360     
31485 00006940 D121             10361             MOV.L   #_STOP_LATCH_B,R1               ;//BIT0:ｽﾄｯﾌﾟ釦
31486 00006942 6011             10362             MOV.W   @R1,R0                          ;IN
31487 00006944 C901             10363             AND     #BIT0,R0                        ;
31488 00006946 4000             10364             SHLL    R0
31489 00006948 6203             10365             MOV     R0,R2                           ;
31490                           10366     
31491 0000694A D120             10367             MOV.L   #_STOP_LATCH,R1                 ;//BIT0:ｽﾄｯﾌﾟ釦
31492 0000694C 6011             10368             MOV.W   @R1,R0                          ;LATCH
31493 0000694E C901             10369             AND     #BIT0,R0                        ;
31494 00006950 220B             10370             OR      R0,R2                           ;
31495                           10371             REG_MOV_TO_MEM  DST_ADR=_SH_CNTSTOP_FLG+_SH_2B,L1=W,DT_REG=R2,WKREG1=R1 ;
31496 00006952 D11F                   M           MOV.L   #_SH_CNTSTOP_FLG+_SH_2B,R1      ;DST_ADR
31497 00006954 2121                   M           MOV.W   R2,@R1  ;DST_ADR
31498                           10372     
31499                           10373             .IMPORT _SH_OUTPLS_DELT
31500 00006956 D11F             10374             MOV.L   #_OUTPLS_DELT,R1                        ;
31501 00006958 6211             10375             MOV.W   @R1,R2
31502                           10376             REG_MOV_TO_MEM  DST_ADR=_SH_OUTPLS_DELT+_SH_2B,L1=W,DT_REG=R2,WKREG1=R1 ;
31503 0000695A D11F                   M           MOV.L   #_SH_OUTPLS_DELT+_SH_2B,R1      ;DST_ADR
31504 0000695C 2121                   M           MOV.W   R2,@R1  ;DST_ADR
31505                           10377     
31506                           10378             SUB_END
31507                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31508 0000695E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31509                           10379             M_RTS
31510 00006960 000B                   M           RTS                             ;RTSの後ろの
31511 00006962 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31512                           10380     
31513                           10381     
31514                           10382     
31515                           10383     
31516                           10384     ;       *******************************************
31517                           10385     ;       ***                                     ***
31518                           10386     ;       ***                                     ***
31519                           10387     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   459
PROGRAM NAME =

31520                           10388     ;       *******************************************
31521                                     ***** BEGIN-POOL *****
31522 00006964 0F00                       DATA FOR SOURCE-LINE 10339
31523 00006966 0080                       DATA FOR SOURCE-LINE 10347,10355
31524 00006968 00000000                   DATA FOR SOURCE-LINE 10295
31525 0000696C 00000000                   DATA FOR SOURCE-LINE 10295
31526 00006970 00000000                   DATA FOR SOURCE-LINE 10297
31527 00006974 00000000                   DATA FOR SOURCE-LINE 10297
31528 00006978 00000000                   DATA FOR SOURCE-LINE 10298
31529 0000697C 00000000                   DATA FOR SOURCE-LINE 10298
31530 00006980 00000000                   DATA FOR SOURCE-LINE 10299
31531 00006984 00000000                   DATA FOR SOURCE-LINE 10299
31532 00006988 00000000                   DATA FOR SOURCE-LINE 10300
31533 0000698C 00000000                   DATA FOR SOURCE-LINE 10300
31534 00006990 00000000                   DATA FOR SOURCE-LINE 10303
31535 00006994 00000000                   DATA FOR SOURCE-LINE 10306
31536 00006998 00000000                   DATA FOR SOURCE-LINE 10311
31537 0000699C 00000000                   DATA FOR SOURCE-LINE 10314
31538 000069A0 00000000                   DATA FOR SOURCE-LINE 10318
31539 000069A4 00000000                   DATA FOR SOURCE-LINE 10321
31540 000069A8 00000000                   DATA FOR SOURCE-LINE 10324
31541 000069AC 00000000                   DATA FOR SOURCE-LINE 10328
31542 000069B0 00000000                   DATA FOR SOURCE-LINE 10330
31543 000069B4 00000000                   DATA FOR SOURCE-LINE 10331
31544 000069B8 00000000                   DATA FOR SOURCE-LINE 10337
31545 000069BC 00000000                   DATA FOR SOURCE-LINE 10343
31546 000069C0 00000000                   DATA FOR SOURCE-LINE 10351
31547 000069C4 00000000                   DATA FOR SOURCE-LINE 10358
31548 000069C8 00000000                   DATA FOR SOURCE-LINE 10361
31549 000069CC 00000000                   DATA FOR SOURCE-LINE 10367
31550 000069D0 00000000                   DATA FOR SOURCE-LINE 10371
31551 000069D4 00000000                   DATA FOR SOURCE-LINE 10374
31552 000069D8 00000000                   DATA FOR SOURCE-LINE 10376
31553                                     ***** END-POOL *****
31554 000069DC                  10389             .ALIGN  4                               ;
31555 000069DC                  10390     _RL_POS_DATA_CHK:
31556                           10391             SUB_START
31557 000069DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
31558                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31559 000069DE D40B             10392             MOV.L   #_MONI_CPUAB_PLSDELT,R4
31560                           10393             .AIF    1 EQ    0
31561                           10394             MOV.L   #_SH_POSCTL_RL_ABSPLS+0,R7                      ;自分
31562                           10395             MOV.L   #_SH_POSCTL_RL_ABSPLS+8,R9                      ;相手
31563                           10396             .AELSE
31564 000069E0 D90B             10397 C           MOV.L   #_SH_POSCTL_RL_ABSPLS+0,R9                      ;相手
31565 000069E2 D70C             10398 C           MOV.L   #_SH_POSCTL_RL_ABSPLS+8,R7                      ;自分
31566                           10399             .AENDI
31567                           10400     
31568 000069E4                  10401     RL_POSDTCHK_SECOND_RD:
31569 000069E4 5590             10402             MOV.L   @(0,R9),R5                                              ;
31570 000069E6 5691             10403             MOV.L   @(4,R9),R6                                              ;
31571 000069E8 5190             10404             MOV.L   @(0,R9),R1                                              ;
31572 000069EA 5291             10405             MOV.L   @(4,R9),R2                                              ;
31573 000069EC 3510             10406             CMP/EQ  R1,R5                                                   ;相手
31574 000069EE 8BF9             10407             BF      RL_POSDTCHK_SECOND_RD
31575 000069F0 3620             10408             CMP/EQ  R2,R6                                                   ;
31576 000069F2 8BF7             10409             BF      RL_POSDTCHK_SECOND_RD
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   460
PROGRAM NAME =

31577                           10410     
31578 000069F4 5370             10411             MOV.L   @(0,R7),R3                                              ;
31579 000069F6 5471             10412             MOV.L   @(4,R7),R4                                              ;
31580                           10413             SUB8B DT_REGH=R3,DT_REGL=R4,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2(相手-自分)
31581 000069F8 0008                   M           CLRT
31582 000069FA 324A                   M           SUBC    R4,R2
31583 000069FC 313A                   M           SUBC    R3,R1
31584                           10414     
31585 000069FE D003             10415             MOV.L   #_MONI_CPUAB_PLSDELT,R0                                 ;相手-自分
31586 00006A00 1010             10416             MOV.L   R1,@(0,R0)
31587 00006A02 1021             10417             MOV.L   R2,@(4,R0)                                              ;
31588                           10418     
31589                           10419     
31590                           10420     
31591                           10421             SUB_END
31592                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31593 00006A04 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31594                           10422             M_RTS
31595 00006A06 000B                   M           RTS                             ;RTSの後ろの
31596 00006A08 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31597                           10423     
31598                           10424     ;       ***************************************************
31599                           10425     ;       ***                                             ***
31600                           10426     ;       ***             ためし                          ***
31601                           10427     ;       ***                                             ***
31602                           10428     ;       ***************************************************
31603                           10429     ;       Input R2
31604                                     ***** BEGIN-POOL *****
31605 00006A0A 0000                       ALIGNMENT CODE
31606 00006A0C 00000000                   DATA FOR SOURCE-LINE 10392,10415
31607 00006A10 00000000                   DATA FOR SOURCE-LINE 10397
31608 00006A14 00000000                   DATA FOR SOURCE-LINE 10398
31609                                     ***** END-POOL *****
31610 00006A18                  10430             .ALIGN  4                               ;
31611 00006A18                  10431     _CNT_HOSEI_CHK_CALC:
31612                           10432             SUB_START
31613 00006A18 4F22                   M           STS.L   PR,@-R15                ;[必要]
31614                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31615                           10433             .AIF    1 EQ    1                       ;ﾊﾟﾙｽ補正
31616 00006A1A D10A             10434 C           MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
31617 00006A1C 6011             10435 C           MOV.W   @R1,R0                          ;
31618 00006A1E 2008             10436 C           TST     R0,R0                           ;
31619                           10437 C           TST_BIT_ON CNT_HOSEI_CHKCAL_050         ;
31620 00006A20 8B0B                   M           BF      CNT_HOSEI_CHKCAL_050
31621 00006A22 D109             10438 C           MOV.L   #_exq_err_flg,R1                ;//異常ﾗｯﾁ
31622 00006A24 6011             10439 C           MOV.W   @R1,R0                          ;
31623 00006A26 2008             10440 C           TST     R0,R0                           ;
31624                           10441 C           TST_BIT_ON CNT_HOSEI_CHKCAL_050                                 ;
31625 00006A28 8B07                   M           BF      CNT_HOSEI_CHKCAL_050
31626                           10442 C   
31627 00006A2A D108             10443 C           MOV.L   #_MODE_SEL,R1                                           ;
31628 00006A2C 6011             10444 C           MOV.W   @R1,R0                                                  ;
31629 00006A2E C808             10445 C           TST     #_W1CNT,R0                                              ;
31630                           10446 C           TST_BIT_OF CNT_HOSEI_CHKCAL_050                                 ;
31631 00006A30 8903                   M           BT      CNT_HOSEI_CHKCAL_050
31632                           10447 C   
31633 00006A32 D107             10448 C           MOV.L   #_CPOS_MOD_FLG1,R1                                      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   461
PROGRAM NAME =

31634 00006A34 6011             10449 C           MOV.W   @R1,R0                                                  ;
31635 00006A36 C808             10450 C           TST     #BIT3,R0                                                ;
31636                           10451 C           TST_BIT_ON CNT_HOSEI_CHKCAL_100                                 ;VMODE
31637 00006A38 8B0E                   M           BF      CNT_HOSEI_CHKCAL_100
31638 00006A3A                  10452 C   CNT_HOSEI_CHKCAL_050:
31639                           10453 C           FAR_JSR #_CNTREST_HOS_RESET,R0                                  ;
31640 00006A3A D006                   M           MOV.L   #_CNTREST_HOS_RESET,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31641 00006A3C 400B                   M           JSR     @R0                     ;
31642 00006A3E 0009                   M           NOP                                     ;
31643                           10454 C           M_BRA   CNT_HOSEI_SPDSET_EXT                                    ;
31644 00006A40 A014                   M           BRA     CNT_HOSEI_SPDSET_EXT
31645 00006A42 0009                   M           NOP
31646                           10455 C   
31647                                 C   ***** BEGIN-POOL *****
31648 00006A44 00000000               C   DATA FOR SOURCE-LINE 10434
31649 00006A48 00000000               C   DATA FOR SOURCE-LINE 10438
31650 00006A4C 00000000               C   DATA FOR SOURCE-LINE 10443
31651 00006A50 00000000               C   DATA FOR SOURCE-LINE 10448
31652 00006A54 00000000               C   DATA FOR SOURCE-LINE 10453
31653                                 C   ***** END-POOL *****
31654 00006A58                  10456 C   CNT_HOSEI_CHKCAL_100:
31655 00006A58 D006             10457 C           MOV.L   #_MONI_CPUAB_PLSDELT,R0
31656 00006A5A 5100             10458 C           MOV.L   @(0,R0),R1                      ;(0or1)
31657 00006A5C 5201             10459 C           MOV.L   @(4,R0),R2                      ;
31658 00006A5E 6323             10460 C           MOV     R2,R3                           ;+/-
31659 00006A60 4111             10461 C           CMP/PZ  R1                              ;+
31660 00006A62 8900             10462 C           BT      CNT_HOSEI_CHKCAL_200            ;相手-自分
31661 00006A64 622B             10463 C           NEG     R2,R2                           ;
31662 00006A66                  10464 C   CNT_HOSEI_CHKCAL_200:                           ;
31663                           10465 C           FAR_JSR #_CNT_SYNC_HOS_SPD_TYP,R0       ;
31664 00006A66 D004                   M           MOV.L   #_CNT_SYNC_HOS_SPD_TYP,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
31665 00006A68 400B                   M           JSR     @R0                     ;
31666 00006A6A 0009                   M           NOP                                     ;
31667                           10466 C   
31668                           10467 C   
31669 00006A6C                  10468 C   CNT_HOSEI_SPDSET_EXT:
31670                           10469             .AENDI
31671                           10470     
31672                           10471     
31673                           10472             SUB_END
31674                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31675 00006A6C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31676                           10473             M_RTS
31677 00006A6E 000B                   M           RTS                             ;RTSの後ろの
31678 00006A70 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31679                           10474     
31680                           10475     
31681                           10476     ;       *******************************************
31682                           10477     ;       ***                                     ***
31683                           10478     ;       ***                                     ***
31684                           10479     ;       ***                                     ***
31685                           10480     ;       *******************************************
31686                           10481     ;       HOS1 1000:1000~  1:7HZ
31687                           10482     ;       HOS1 2000:2000~  2:14HZ
31688                           10483     ;       HOS1 3000:3000~  4:28HZ
31689                           10484     ;       HOS1 4000:ERR
31690                                     ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   462
PROGRAM NAME =

31691 00006A72 0000                       ALIGNMENT CODE
31692 00006A74 00000000                   DATA FOR SOURCE-LINE 10457
31693 00006A78 00000000                   DATA FOR SOURCE-LINE 10465
31694                                     ***** END-POOL *****
31695          00001F40         10485     _SYNC2_ERR_HABPLS1      .EQU    8000    ;16000
31696                           10486     
31697          0000012C         10487     _SYNC2_ERR_HOSHAB1      .EQU    300     ;
31698          00000190         10488     _SYNC2_ERR_HOSHAB2      .EQU    400     ;(100)
31699          000001F4         10489     _SYNC2_ERR_HOSHAB3      .EQU    500     ;(500)
31700          000003E8         10490     _SYNC2_ERR_HOSHAB4      .EQU    1000    ;(500)
31701          000005DC         10491     _SYNC2_ERR_HOSHAB5      .EQU    1500    ;(500)
31702          000007D0         10492     _SYNC2_ERR_HOSHAB6      .EQU    2000    ;(500)
31703          000009C4         10493     _SYNC2_ERR_HOSHAB7      .EQU    2500    ;(500)
31704                           10494     
31705                           10495     
31706          00000001         10496     _SYNC2_HOS_SPD1         .EQU    1       ;
31707          00000004         10497     _SYNC2_HOS_SPD2         .EQU    4       ;
31708          00000008         10498     _SYNC2_HOS_SPD3         .EQU    8       ;
31709          00000020         10499     _SYNC2_HOS_SPD4         .EQU    32      ;
31710          00000040         10500     _SYNC2_HOS_SPD5         .EQU    64      ;
31711          00000080         10501     _SYNC2_HOS_SPD6         .EQU    128     ;
31712          00000100         10502     _SYNC2_HOS_SPD7         .EQU    256     ;2000khz
31713          00000200         10503     _SYNC2_HOS_SPD8         .EQU    512     ;2000khz 2006-10-28
31714                           10504     
31715 00006A7C                  10505             .ALIGN  4                               ;
31716 00006A7C                  10506     _CNT_SYNC_HOS_SPD_TYP:
31717                           10507             SUB_START
31718 00006A7C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31719                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31720                           10508     
31721 00006A7E D105             10509             MOV.L   #_CNT_SYNC_HOS_DAT2,R1          ;相手-自分
31722 00006A80 2132             10510             MOV.L   R3,@R1                          ;(+/-生ﾃﾞｰﾀ)
31723                           10511     
31724 00006A82 9105             10512             MOV.W   #_SYNC2_ERR_HABPLS1,R1          ;
31725 00006A84 3122             10513             CMP/HS  R2,R1                           ;
31726 00006A86 8909             10514             BT      CNT_SYNCHOS_SPDTYP_080          ;
31727                           10515     
31728                           10516     ;       -------- 2006-10-23--
31729 00006A88 E401             10517             MOV     #BIT0,R4                        ;
31730 00006A8A D503             10518             MOV.L   #_SYNC2_HOS_SPD8,R5             ;MAX
31731                           10519             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31732 00006A8C A049                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31733 00006A8E 0009                   M           NOP
31734                           10520     
31735                           10521     
31736                           10522     ;;;     MEM1_BIT0_TO_BIT7_ORSET MEM=_CNT_SYNC_ERR_FLG,LG=W,BIT=(BIT1+BIT0),WKREG=R1     ;S
                                          YNC_ERR
31737                           10523     ;;;
31738                           10524     ;;;     M_BRA   CNT_SYNCHOS_SPDTYP_EXT                                                  ;
31739                           10525     
31740                                     ***** BEGIN-POOL *****
31741 00006A90 1F40                       DATA FOR SOURCE-LINE 10512
31742 00006A92 0000                       ALIGNMENT CODE
31743 00006A94 00000000                   DATA FOR SOURCE-LINE 10509
31744 00006A98 00000200                   DATA FOR SOURCE-LINE 10518
31745                                     ***** END-POOL *****
31746 00006A9C                  10526     CNT_SYNCHOS_SPDTYP_080:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   463
PROGRAM NAME =

31747                           10527     
31748 00006A9C 9105             10528             MOV.W   #_SYNC2_ERR_HOSHAB1,R1          ;
31749 00006A9E 3216             10529             CMP/HI  R1,R2                           ;=<data1(1000)
31750 00006AA0 8904             10530             BT      CNT_SYNCHOS_SPDTYP_200          ;R1(1000)<R2(PLS) JUMP
31751 00006AA2                  10531     CNT_SYNCHOS_SPDTYP_100:
31752                           10532     ;       === 正常補正なし====
31753 00006AA2 244A             10533             XOR     R4,R4                           ;FLG_BIT
31754 00006AA4 255A             10534             XOR     R5,R5                           ;data
31755                           10535             M_BRA   CNT_SYNCHOS_SPDTYP_450          ;
31756 00006AA6 A043                   M           BRA     CNT_SYNCHOS_SPDTYP_450
31757 00006AA8 0009                   M           NOP
31758                           10536     
31759                                     ***** BEGIN-POOL *****
31760 00006AAA 012C                       DATA FOR SOURCE-LINE 10528
31761                                     ***** END-POOL *****
31762 00006AAC                  10537     CNT_SYNCHOS_SPDTYP_200:
31763 00006AAC 9105             10538             MOV.W   #_SYNC2_ERR_HOSHAB2,R1          ;
31764 00006AAE 3216             10539             CMP/HI  R1,R2                           ;=<data2(2000)
31765 00006AB0 8905             10540             BT      CNT_SYNCHOS_SPDTYP_250          ;R1(2000)<R2(PLS) JUMP
31766 00006AB2 E401             10541             MOV     #BIT0,R4                        ;
31767 00006AB4 9502             10542             MOV.W   #_SYNC2_HOS_SPD1,R5
31768                           10543             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31769 00006AB6 A034                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31770 00006AB8 0009                   M           NOP
31771                           10544     
31772                                     ***** BEGIN-POOL *****
31773 00006ABA 0190                       DATA FOR SOURCE-LINE 10538
31774 00006ABC 0001                       DATA FOR SOURCE-LINE 10542
31775                                     ***** END-POOL *****
31776 00006ABE                  10545     CNT_SYNCHOS_SPDTYP_250:
31777 00006ABE 9105             10546             MOV.W   #_SYNC2_ERR_HOSHAB3,R1          ;
31778 00006AC0 3216             10547             CMP/HI  R1,R2                           ;=<data3(3000)
31779 00006AC2 8905             10548             BT      CNT_SYNCHOS_SPDTYP_300          ;R1(3000)<R2(PLS) JUMP
31780 00006AC4 E401             10549             MOV     #BIT0,R4                        ;
31781 00006AC6 9502             10550             MOV.W   #_SYNC2_HOS_SPD2,R5
31782                           10551             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31783 00006AC8 A02B                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31784 00006ACA 0009                   M           NOP
31785                           10552     
31786                                     ***** BEGIN-POOL *****
31787 00006ACC 01F4                       DATA FOR SOURCE-LINE 10546
31788 00006ACE 0004                       DATA FOR SOURCE-LINE 10550
31789                                     ***** END-POOL *****
31790 00006AD0                  10553     CNT_SYNCHOS_SPDTYP_300:
31791                           10554     
31792 00006AD0 9105             10555             MOV.W   #_SYNC2_ERR_HOSHAB4,R1          ;
31793 00006AD2 3216             10556             CMP/HI  R1,R2                           ;=<data4(3000)
31794 00006AD4 8905             10557             BT      CNT_SYNCHOS_SPDTYP_310          ;R1(3000)<R2(PLS) JUMP
31795 00006AD6 E401             10558             MOV     #BIT0,R4                        ;
31796 00006AD8 9502             10559             MOV.W   #_SYNC2_HOS_SPD3,R5
31797                           10560             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31798 00006ADA A022                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31799 00006ADC 0009                   M           NOP
31800                           10561     
31801                                     ***** BEGIN-POOL *****
31802 00006ADE 03E8                       DATA FOR SOURCE-LINE 10555
31803 00006AE0 0008                       DATA FOR SOURCE-LINE 10559
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   464
PROGRAM NAME =

31804                                     ***** END-POOL *****
31805 00006AE2                  10562     CNT_SYNCHOS_SPDTYP_310:
31806 00006AE2 9105             10563             MOV.W   #_SYNC2_ERR_HOSHAB5,R1          ;
31807 00006AE4 3216             10564             CMP/HI  R1,R2                           ;=<data4(3000)
31808 00006AE6 8905             10565             BT      CNT_SYNCHOS_SPDTYP_320          ;R1(3000)<R2(PLS) JUMP
31809 00006AE8 E401             10566             MOV     #BIT0,R4                        ;
31810 00006AEA 9502             10567             MOV.W   #_SYNC2_HOS_SPD4,R5
31811                           10568             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31812 00006AEC A019                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31813 00006AEE 0009                   M           NOP
31814                           10569     
31815                                     ***** BEGIN-POOL *****
31816 00006AF0 05DC                       DATA FOR SOURCE-LINE 10563
31817 00006AF2 0020                       DATA FOR SOURCE-LINE 10567
31818                                     ***** END-POOL *****
31819 00006AF4                  10570     CNT_SYNCHOS_SPDTYP_320:
31820 00006AF4 9105             10571             MOV.W   #_SYNC2_ERR_HOSHAB6,R1          ;
31821 00006AF6 3216             10572             CMP/HI  R1,R2                           ;=<data4(3000)
31822 00006AF8 8905             10573             BT      CNT_SYNCHOS_SPDTYP_330          ;R1(3000)<R2(PLS) JUMP
31823 00006AFA E401             10574             MOV     #BIT0,R4                        ;
31824 00006AFC 9502             10575             MOV.W   #_SYNC2_HOS_SPD5,R5
31825                           10576             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31826 00006AFE A010                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31827 00006B00 0009                   M           NOP
31828                           10577     
31829                                     ***** BEGIN-POOL *****
31830 00006B02 07D0                       DATA FOR SOURCE-LINE 10571
31831 00006B04 0040                       DATA FOR SOURCE-LINE 10575
31832                                     ***** END-POOL *****
31833 00006B06                  10578     CNT_SYNCHOS_SPDTYP_330:
31834 00006B06 9105             10579             MOV.W   #_SYNC2_ERR_HOSHAB7,R1          ;
31835 00006B08 3216             10580             CMP/HI  R1,R2                           ;=<data4(3000)
31836 00006B0A 8905             10581             BT      CNT_SYNCHOS_SPDTYP_390          ;R1(3000)<R2(PLS) JUMP
31837 00006B0C E401             10582             MOV     #BIT0,R4                        ;
31838 00006B0E 9502             10583             MOV.W   #_SYNC2_HOS_SPD6,R5
31839                           10584             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31840 00006B10 A007                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31841 00006B12 0009                   M           NOP
31842                           10585     
31843                                     ***** BEGIN-POOL *****
31844 00006B14 09C4                       DATA FOR SOURCE-LINE 10579
31845 00006B16 0080                       DATA FOR SOURCE-LINE 10583
31846                                     ***** END-POOL *****
31847 00006B18                  10586     CNT_SYNCHOS_SPDTYP_390:
31848 00006B18 E401             10587             MOV     #BIT0,R4                        ;
31849 00006B1A 9501             10588             MOV.W   #_SYNC2_HOS_SPD7,R5
31850                           10589             M_BRA   CNT_SYNCHOS_SPDTYP_400          ;
31851 00006B1C A001                   M           BRA     CNT_SYNCHOS_SPDTYP_400
31852 00006B1E 0009                   M           NOP
31853                           10590     
31854                                     ***** BEGIN-POOL *****
31855 00006B20 0100                       DATA FOR SOURCE-LINE 10588
31856                                     ***** END-POOL *****
31857 00006B22                  10591     CNT_SYNCHOS_SPDTYP_400:
31858 00006B22 D109             10592             MOV.L   #_CNT_SYNC_CHK_CNT2,R1
31859 00006B24 6011             10593             MOV.W   @R1,R0
31860 00006B26 7001             10594             ADD     #1,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   465
PROGRAM NAME =

31861 00006B28 2101             10595             MOV.W   R0,@R1                          ;
31862                           10596     
31863 00006B2A 4311             10597             CMP/PZ  R3                              ;相手-自分= 10 +に溜まっている.速度UP
31864 00006B2C 8900             10598             BT      CNT_SYNCHOS_SPDTYP_450          ;          -10 -に溜まっている.速度DN
31865 00006B2E 655B             10599             NEG     R5,R5                           ;
31866 00006B30                  10600     CNT_SYNCHOS_SPDTYP_450:                         ;
31867 00006B30 D106             10601             MOV.L   #_CNT_REST_SPD_HOSEI_FLG,R1     ;
31868 00006B32 2141             10602             MOV.W   R4,@R1                          ;
31869 00006B34 D106             10603             MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;
31870 00006B36 2152             10604             MOV.L   R5,@R1                          ;
31871                           10605     
31872 00006B38                  10606     CNT_SYNCHOS_SPDTYP_EXT:
31873 00006B38 D105             10607             MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;
31874 00006B3A 6012             10608             MOV.L   @R1,R0                          ;
31875 00006B3C D105             10609             MOV.L   #_CNT_SYNC_HOS_DAT1,R1          ;
31876 00006B3E 2102             10610             MOV.L   R0,@R1                          ;
31877                           10611     
31878                           10612             SUB_END
31879                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31880 00006B40 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31881                           10613             M_RTS
31882 00006B42 000B                   M           RTS                             ;RTSの後ろの
31883 00006B44 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31884                           10614     
31885                           10615     ;       ***********************************
31886                           10616     ;       ***                             ***
31887                           10617     ;       ***     速度設定                ***
31888                           10618     ;       ***     FFFF(500Kはありえない)  ***
31889                           10619     ;       ***                             ***
31890                           10620     ;       ***********************************
31891                           10621     ;       input R2 speed
31892                                     ***** BEGIN-POOL *****
31893 00006B46 0000                       ALIGNMENT CODE
31894 00006B48 00000000                   DATA FOR SOURCE-LINE 10592
31895 00006B4C 00000000                   DATA FOR SOURCE-LINE 10601
31896 00006B50 00000000                   DATA FOR SOURCE-LINE 10603,10607
31897 00006B54 00000000                   DATA FOR SOURCE-LINE 10609
31898                                     ***** END-POOL *****
31899 00006B58                  10622             .ALIGN  4                               ;
31900 00006B58                  10623     _CNT_REST_HOSEI_SPD_TYP:
31901                           10624             SUB_START
31902 00006B58 4F22                   M           STS.L   PR,@-R15                ;[必要]
31903                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31904 00006B5A D105             10625             MOV.L   #_CNT_REST_SPD_HOSEI_FLG,R1     ;
31905 00006B5C 6011             10626             MOV.W   @R1,R0                          ;
31906 00006B5E C801             10627             TST     #BIT0,R0                        ;
31907                           10628             TST_BIT_OF CNT_REST_HOSEI_SPDTYP_EXT    ;
31908 00006B60 8902                   M           BT      CNT_REST_HOSEI_SPDTYP_EXT
31909 00006B62 D104             10629             MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;
31910 00006B64 6012             10630             MOV.L   @R1,R0                          ;
31911 00006B66 320C             10631             ADD     R0,R2                           ;
31912 00006B68                  10632     CNT_REST_HOSEI_SPDTYP_EXT:
31913                           10633             SUB_END
31914                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31915 00006B68 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31916                           10634             M_RTS
31917 00006B6A 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   466
PROGRAM NAME =

31918 00006B6C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31919                           10635     
31920                           10636             .EXPORT _CNTREST_HOS_RESET
31921                                     ***** BEGIN-POOL *****
31922 00006B6E 0000                       ALIGNMENT CODE
31923 00006B70 00000000                   DATA FOR SOURCE-LINE 10625
31924 00006B74 00000000                   DATA FOR SOURCE-LINE 10629
31925                                     ***** END-POOL *****
31926 00006B78                  10637             .ALIGN  4                               ;
31927 00006B78                  10638     _CNTREST_HOS_RESET
31928                           10639             SUB_START
31929 00006B78 4F22                   M           STS.L   PR,@-R15                ;[必要]
31930                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31931 00006B7A 200A             10640             XOR     R0,R0
31932                           10641             REG_MOV_TO_MEM  DST_ADR=_CNT_REST_SPD_HOSEI_FLG ,L1=W,DT_REG=R0,WKREG1=R1       ;
31933 00006B7C D103                   M           MOV.L   #_CNT_REST_SPD_HOSEI_FLG,R1     ;DST_ADR
31934 00006B7E 2101                   M           MOV.W   R0,@R1  ;DST_ADR
31935                           10642             REG_MOV_TO_MEM  DST_ADR=_CNT_REST_SPD_HOSEI_DAT ,L1=L,DT_REG=R0,WKREG1=R1       ;
31936 00006B80 D103                   M           MOV.L   #_CNT_REST_SPD_HOSEI_DAT,R1     ;DST_ADR
31937 00006B82 2102                   M           MOV.L   R0,@R1  ;DST_ADR
31938                           10643             SUB_END
31939                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31940 00006B84 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31941                           10644             M_RTS
31942 00006B86 000B                   M           RTS                             ;RTSの後ろの
31943 00006B88 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31944                           10645     
31945                           10646     
31946                           10647     
31947                           10648     ;       *******************************************
31948                           10649     ;       ***                                     ***
31949                           10650     ;       ***     2010-10-05                      ***
31950                           10651     ;       ***                                     ***
31951                           10652     ;       ***                                     ***
31952                           10653     ;       *******************************************
31953                                     ***** BEGIN-POOL *****
31954 00006B8A 0000                       ALIGNMENT CODE
31955 00006B8C 00000000                   DATA FOR SOURCE-LINE 10641
31956 00006B90 00000000                   DATA FOR SOURCE-LINE 10642
31957                                     ***** END-POOL *****
31958 00006B94                  10654             .ALIGN  4                               ;
31959 00006B94                  10655     _dum_SET_PV_ABS_TO_OBJ:
31960                           10656             SUB_START
31961 00006B94 4F22                   M           STS.L   PR,@-R15                ;[必要]
31962                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31963                           10657             SUB_END
31964                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31965 00006B96 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31966                           10658             M_RTS
31967 00006B98 000B                   M           RTS                             ;RTSの後ろの
31968 00006B9A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31969                           10659     
31970                           10660     ;       ***************************************************
31971                           10661     ;       ***                                             ***
31972                           10662     ;       ***     反転のタイマ途中からの再起動            ***
31973                           10663     ;       ***     (安全一、寸動、連続寸動一、連続タイマ)  ***
31974                           10664     ;       ***     2012-05-15                              ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   467
PROGRAM NAME =

31975                           10665     ;       ***                                             ***
31976                           10666     ;       ***************************************************
31977                           10667     ;       起動時,
31978                           10668     ;
31979 00006B9C                  10669             .ALIGN  4                               ;
31980 00006B9C                  10670     _DURING_TIM_CNTINUE_CHK
31981                           10671             SUB_START
31982 00006B9C 4F22                   M           STS.L   PR,@-R15                ;[必要]
31983                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
31984 00006B9E D102             10672             MOV.L   #_DURING_TIM_FX,R1                              ;
31985 00006BA0 6011             10673             MOV.W   @R1,R0                                          ;
31986 00006BA2                  10674     DURING_TIM_CNTCK_END
31987                           10675             SUB_END
31988                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
31989 00006BA2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
31990                           10676             M_RTS
31991 00006BA4 000B                   M           RTS                             ;RTSの後ろの
31992 00006BA6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
31993                           10677     
31994                           10678     
31995                           10679     ;       ------------- 再度0から行うか,途中から行うか,ﾀｲﾌﾟｱｯﾌﾟから行うか
31996                           10680     ;       input R1:設定
31997                           10681     ;
31998                                     ***** BEGIN-POOL *****
31999 00006BA8 00000000                   DATA FOR SOURCE-LINE 10672
32000                                     ***** END-POOL *****
32001 00006BAC                  10682     _DURING_TIM_PRESET_CALC
32002                           10683             SUB_START
32003 00006BAC 4F22                   M           STS.L   PR,@-R15                ;[必要]
32004                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32005                           10684     
32006 00006BAE D007             10685             MOV.L   #_DURING_TIM_FX,R0                                      ;
32007 00006BB0 6001             10686             MOV.W   @R0,R0                                                  ;
32008 00006BB2 2008             10687             TST     R0,R0                                                   ;
32009                           10688             TST_BIT_OF DURING_TIM_PRECALC200                                ;通常の処理
32010 00006BB4 890F                   M           BT      DURING_TIM_PRECALC200
32011                           10689     
32012 00006BB6 2118             10690             TST     R1,R1                                                   ;
32013                           10691             TST_BIT_OF DURING_TIM_PRECALC200                                ;ﾃﾞｰﾀが0
32014 00006BB8 890D                   M           BT      DURING_TIM_PRECALC200
32015                           10692     
32016 00006BBA D005             10693             MOV.L   #(_PAR_STOPTIM_SEL-_CB_SYS_PARAM000+_W_PARAM_TOP),R0    ;
32017 00006BBC 6001             10694             MOV.W   @R0,R0                                                  ;
32018 00006BBE 8802             10695             CMP/EQ  #2,R0                                                   ;
32019 00006BC0 8908             10696             BT      DURING_TIM_PRECALC100                                   ;"ｸﾘｱ":ﾀｲﾑｱｯﾌﾟから
                                          はじめる
32020                           10697     
32021 00006BC2 8801             10698             CMP/EQ  #1,R0                                                   ;
32022 00006BC4 8B07             10699             BF      DURING_TIM_PRECALC200                                   ;0:(2,1以外):(設定
                                          をｾｯﾄする)
32023                           10700             M_BRA   DURING_TIM_PRECALCEND                                   ;1:設定しない:継続
32024 00006BC6 A008                   M           BRA     DURING_TIM_PRECALCEND
32025 00006BC8 0009                   M           NOP
32026                           10701     
32027                           10702     
32028                                     ***** BEGIN-POOL *****
32029 00006BCA 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   468
PROGRAM NAME =

32030 00006BCC 00000000                   DATA FOR SOURCE-LINE 10685
32031 00006BD0 00000000                   DATA FOR SOURCE-LINE 10693
32032                                     ***** END-POOL *****
32033 00006BD4                  10703     DURING_TIM_PRECALC100
32034 00006BD4 211A             10704             XOR     R1,R1                                                   ;
32035 00006BD6                  10705     DURING_TIM_PRECALC200
32036 00006BD6 D402             10706             MOV.L   #_SDAT_WAIT_PVTIM,R4                                    ;
32037 00006BD8 2412             10707             MOV.L   R1,@R4                                                  ;
32038 00006BDA                  10708     DURING_TIM_PRECALCEND
32039                           10709             SUB_END
32040                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32041 00006BDA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32042                           10710             M_RTS
32043 00006BDC 000B                   M           RTS                             ;RTSの後ろの
32044 00006BDE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32045                           10711     
32046                           10712     
32047                           10713     
32048                           10714     ;       *******************************************
32049                           10715     ;       ***                                     ***
32050                           10716     ;       ***             2013-02-08              ***
32051                           10717     ;       ***             CPUB_CURVSEL[4]         ***
32052                           10718     ;       *******************************************
32053                           10719     ;;      CPUA=CPUB=TBLCURV時に生かす
32054                           10720             .IMPORT         _PAR_DNMDEND_DLY
32055                           10721     
32056                                     ***** BEGIN-POOL *****
32057 00006BE0 00000000                   DATA FOR SOURCE-LINE 10706
32058                                     ***** END-POOL *****
32059 00006BE4                  10722     _DNMODE_ENDWAIT_TIM_SET                         ;[[[2013-03-24復活]]]
32060                           10723             SUB_START                               ;[[[2013-03-24復活]]]
32061 00006BE4 4F22                   M           STS.L   PR,@-R15                ;[必要]
32062                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32063                           10724     
32064 00006BE6 D106             10725             MOV.L   #_SETX_POS_CTL_MATH,R1          ;[[[2013-03-24復活]]]
32065 00006BE8 6011             10726             MOV.W   @R1,R0                          ;[[[2013-03-24復活]]]
32066 00006BEA C804             10727             TST     #_DMATH_DNDRIV,R0               ;[[[2013-03-24復活]]]
32067                           10728             TST_BIT_OF DNMODE_ENDWAIT_TIMST100      ;[[[2013-03-24復活]]]
32068 00006BEC 890E                   M           BT      DNMODE_ENDWAIT_TIMST100
32069                           10729     
32070 00006BEE D105             10730             MOV.L   #_MODE_SEL,R1                   ;[[[2013-03-24復活]]]
32071 00006BF0 6011             10731             MOV.W   @R1,R0                          ;[[[2013-03-24復活]]]
32072 00006BF2 C808             10732             TST     #_W1CNT,R0                      ;[[[2013-03-24復活]]]
32073                           10733             TST_BIT_OF DNMODE_ENDWAIT_TIMST100      ;[[[2013-03-24復活]]]
32074 00006BF4 890A                   M           BT      DNMODE_ENDWAIT_TIMST100
32075                           10734     
32076 00006BF6 D104             10735             MOV.L   #(_PAR_DNMDEND_DLY-_CB_SYS_PARAM000+_W_PARAM_TOP),R1    ;[[[2013-03-24復活
                                          ]]]
32077 00006BF8 6011             10736             MOV.W   @R1,R0                                                  ;[[[2013-03-24復活
                                          ]]]
32078                           10737             M_BRA   DNMODE_ENDWAIT_TIMST200                                 ;[[[2013-03-24復活
                                          ]]]
32079 00006BFA A008                   M           BRA     DNMODE_ENDWAIT_TIMST200
32080 00006BFC 0009                   M           NOP
32081                           10738     
32082                                     ***** BEGIN-POOL *****
32083 00006BFE 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   469
PROGRAM NAME =

32084 00006C00 00000000                   DATA FOR SOURCE-LINE 10725
32085 00006C04 00000000                   DATA FOR SOURCE-LINE 10730
32086 00006C08 00000000                   DATA FOR SOURCE-LINE 10735
32087                                     ***** END-POOL *****
32088 00006C0C                  10739     DNMODE_ENDWAIT_TIMST100                                                 ;[[[2013-03-24復活
                                          ]]]
32089 00006C0C 200A             10740             XOR     R0,R0                                                   ;[[[2013-03-24復活
                                          ]]]
32090 00006C0E                  10741     DNMODE_ENDWAIT_TIMST200                                                 ;
32091 00006C0E D102             10742             MOV.L   #_PVX_DNMOD_DLYTIM,R1                                   ;[[[2013-03-24復活
                                          ]]]
32092 00006C10 2101             10743             MOV.W   R0,@R1                                                  ;[[[2013-03-24復活
                                          ]]]
32093                           10744                                                                             ;
32094                           10745             SUB_END                                                         ;[[[2013-03-24復活
                                          ]]]
32095                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32096 00006C12 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32097                           10746             M_RTS                                                           ;
32098 00006C14 000B                   M           RTS                             ;RTSの後ろの
32099 00006C16 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32100                           10747     
32101                                     ***** BEGIN-POOL *****
32102 00006C18 00000000                   DATA FOR SOURCE-LINE 10742
32103                                     ***** END-POOL *****
32104 00006C1C                  10748     _DNMODE_ENDWAIT_TIM_CHK                                                 ;[[[2013-03-24復活
                                          ]]]
32105                           10749             SUB_START                                                       ;[[[2013-03-24復活
                                          ]]]
32106 00006C1C 4F22                   M           STS.L   PR,@-R15                ;[必要]
32107                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32108 00006C1E D105             10750             MOV.L   #_PVX_DNMOD_DLYTIM,R1                                   ;[[[2013-03-24復活
                                          ]]]
32109 00006C20 6011             10751             MOV.W   @R1,R0                                                  ;[[[2013-03-24復活
                                          ]]]
32110 00006C22 2008             10752             TST     R0,R0                                                   ;[[[2013-03-24復活
                                          ]]]
32111                           10753             TST_BIT_OF DNMODE_ENDWAIT_TIMCK_END                             ;ANS R0=0 [[[2013-
                                          03-24復活]]]
32112 00006C24 8902                   M           BT      DNMODE_ENDWAIT_TIMCK_END
32113                           10754                                                                             ;[[[2013-03-24復活
                                          ]]]
32114 00006C26 70FF             10755             ADD     #-1,R0                                                  ;[[[2013-03-24復活
                                          ]]]
32115 00006C28 2101             10756             MOV.W   R0,@R1                                                  ;[[[2013-03-24復活
                                          ]]]
32116 00006C2A E001             10757             MOV.B   #1,R0                                                   ;R0=1 NOT TIM UP[[
                                          [2013-03-24復活]]]
32117                           10758     
32118 00006C2C                  10759     DNMODE_ENDWAIT_TIMCK_END                                                ;[[[2013-03-24復活
                                          ]]]
32119                           10760     
32120                           10761             SUB_END                                                         ;[[[2013-03-24復活
                                          ]]]
32121                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32122 00006C2C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32123                           10762             M_RTS                                                           ;[[[2013-03-24復活
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   470
PROGRAM NAME =

                                          ]]]
32124 00006C2E 000B                   M           RTS                             ;RTSの後ろの
32125 00006C30 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32126                           10763     
32127                           10764     ;       ***************************************************
32128                           10765     ;       ***                                             ***
32129                           10766     ;       ***             寸動時上限制限をかける          ***
32130                           10767     ;       ***             2013-02-15                      ***
32131                           10768     ;       ***************************************************
32132                                     ***** BEGIN-POOL *****
32133 00006C32 0000                       ALIGNMENT CODE
32134 00006C34 00000000                   DATA FOR SOURCE-LINE 10750
32135                                     ***** END-POOL *****
32136 00006C38                  10769     _INC_UPLIMT_CALC:
32137                           10770             SUB_START
32138 00006C38 4F22                   M           STS.L   PR,@-R15                ;[必要]
32139                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32140 00006C3A D10A             10771             MOV.L   #_MODE_SEL,R1                           ;
32141 00006C3C 6011             10772             MOV.W   @R1,R0                                  ;
32142 00006C3E C802             10773             TST     #(_W1INC),R0                            ;
32143                           10774             TST_BIT_OF INC_UPLIMT_CAL100                    ;
32144 00006C40 891A                   M           BT      INC_UPLIMT_CAL100
32145                           10775     
32146 00006C42 D109             10776             MOV.L   #_CB_SEQ_CB_COM349,R1                   ;
32147 00006C44 6011             10777             MOV.W   @R1,R0                                  ;
32148 00006C46 940B             10778             MOV.W   #BIT8,R4                                ;
32149 00006C48 2048             10779             TST     R4,R0                                   ;
32150                           10780             TST_BIT_OF INC_UPLIMT_CAL100                    ;
32151 00006C4A 8915                   M           BT      INC_UPLIMT_CAL100
32152                           10781     
32153 00006C4C D107             10782             MOV.L   #(_PAR_INCSPD_UPLMT-_CB_SYS_PARAM000+_W_PARAM_TOP),R1   ;
32154 00006C4E 6211             10783             MOV.W   @R1,R2                                                  ;
32155                           10784             FAR_JSR #_CYCLE_SPD1,R0                                         ;
32156 00006C50 D007                   M           MOV.L   #_CYCLE_SPD1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32157 00006C52 400B                   M           JSR     @R0                     ;
32158 00006C54 0009                   M           NOP                                     ;
32159 00006C56 D107             10785             MOV.L   #_UPLIMIT_SV_SPD,R1                     ;//(上限共通DATA)PLS/S
32160 00006C58 2122             10786             MOV.L   R2,@R1                                  ;
32161                           10787     
32162 00006C5A 9002             10788             MOV.W   #BIT0,R0                                ;
32163                           10789             M_BRA   INC_UPLIMT_CAL200                       ;
32164 00006C5C A00D                   M           BRA     INC_UPLIMT_CAL200
32165 00006C5E 0009                   M           NOP
32166                           10790     
32167                                     ***** BEGIN-POOL *****
32168 00006C60 0100                       DATA FOR SOURCE-LINE 10778
32169 00006C62 0001                       DATA FOR SOURCE-LINE 10788
32170 00006C64 00000000                   DATA FOR SOURCE-LINE 10771
32171 00006C68 00000000                   DATA FOR SOURCE-LINE 10776
32172 00006C6C 00000000                   DATA FOR SOURCE-LINE 10782
32173 00006C70 00000000                   DATA FOR SOURCE-LINE 10784
32174 00006C74 00000000                   DATA FOR SOURCE-LINE 10785
32175                                     ***** END-POOL *****
32176 00006C78                  10791     INC_UPLIMT_CAL100:
32177 00006C78 200A             10792             XOR     R0,R0
32178 00006C7A                  10793     INC_UPLIMT_CAL200:
32179 00006C7A D102             10794             MOV.L   #_UPLIMIT_START_F,R1    ;//BIT0:寸動からの指令
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   471
PROGRAM NAME =

32180 00006C7C 2101             10795             MOV.W   R0,@R1                  ;
32181 00006C7E                  10796     INC_UPLIMT_CALEND:
32182                           10797     
32183                           10798             SUB_END
32184                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32185 00006C7E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32186                           10799             M_RTS
32187 00006C80 000B                   M           RTS                             ;RTSの後ろの
32188 00006C82 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32189                           10800     
32190                           10801     
32191                           10802     ;       *******************************************
32192                           10803     ;       ***                                     ***
32193                           10804     ;       ***     2009-10-07                      ***
32194                           10805     ;       ***     下振子                          ***
32195                           10806     ;       ***     非常停止                        ***
32196                           10807     ;       *******************************************
32197                                     ***** BEGIN-POOL *****
32198 00006C84 00000000                   DATA FOR SOURCE-LINE 10794
32199                                     ***** END-POOL *****
32200 00006C88                  10808             .ALIGN  4                               ;
32201 00006C88                  10809     _DNM_DATA_CLR:
32202                           10810             SUB_START
32203 00006C88 4F22                   M           STS.L   PR,@-R15                ;[必要]
32204                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32205                           10811     
32206                           10812              .AIF   1 EQ 1  ;
32207                           10813 C   ;       -------- 2016-10-31 ADD 二重回路対策
32208                           10814              .AENDI
32209                           10815     ;       ---2016-06-13--
32210                           10816             UP_TIME LG=W,MEM_ADR=_DBG_DNM_CLR_CNT,WKREG1=R1,WKREG2=R0
32211 00006C8A D107                   M           MOV.L   #_DBG_DNM_CLR_CNT,R1            ;SORCE ADRESS SET
32212 00006C8C 6011                   M           MOV.W   @R1,R0          ;
32213 00006C8E 7001                   M           ADD     #1,R0                   ;
32214 00006C90 2008                   M           TST     R0,R0                   ;
32215                                 M           TST_BIT_OF JMP_0100022                  ;ZERO THEN JUMP
32216 00006C92 8900                   M           BT      JMP_0100022
32217 00006C94 2101                   M           MOV.W   R0,@R1          ;STORE
32218 00006C96                        M   JMP_0100022:                                    ;
32219                           10817     
32220 00006C96 200A             10818             XOR     R0,R0
32221 00006C98 D104             10819             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//2BYTE 0:往路 1:復路(動作中保証：停止時
                                          に切り替わり)
32222 00006C9A 2101             10820             MOV.W   R0,@R1
32223 00006C9C D104             10821             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//運転釦起動時
32224 00006C9E 2101             10822             MOV.W   R0,@R1
32225                           10823             SUB_END
32226                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32227 00006CA0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32228                           10824             M_RTS
32229 00006CA2 000B                   M           RTS                             ;RTSの後ろの
32230 00006CA4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32231                           10825     
32232                           10826     ;       *******************************************
32233                           10827     ;       ***                                     ***
32234                           10828     ;       ***     2014-09-17                      ***
32235                           10829     ;       ***     下振子                          ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   472
PROGRAM NAME =

32236                           10830     ;       ***     左待機点からの開始              ***
32237                           10831     ;       ***                                     ***
32238                           10832     ;       *******************************************
32239                           10833     ;       初期値は0：右
32240                           10834             .EXPORT _DNM_DATA_REV_SET
32241                                     ***** BEGIN-POOL *****
32242 00006CA6 0000                       ALIGNMENT CODE
32243 00006CA8 00000000                   DATA FOR SOURCE-LINE 10816
32244 00006CAC 00000000                   DATA FOR SOURCE-LINE 10819
32245 00006CB0 00000000                   DATA FOR SOURCE-LINE 10821
32246                                     ***** END-POOL *****
32247 00006CB4                  10835     _DNM_DATA_REV_SET:
32248                           10836             SUB_START
32249 00006CB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
32250                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32251 00006CB6 E001             10837             MOV.B   #BIT0,R0                        ;
32252 00006CB8 D102             10838             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//2BYTE 0:往路 1:復路(動作中保証：停止時
                                          に切り替わり)
32253 00006CBA 2101             10839             MOV.W   R0,@R1
32254                           10840     
32255                           10841     ;;;;;;; MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//運転釦起動時,次のｻｲｸﾙ起動時 SET_FLG=>NO
                                          W_FLG
32256                           10842     ;;;;;;; MOV.W   R0,@R1
32257                           10843     
32258                           10844             SUB_END
32259                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32260 00006CBC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32261                           10845             M_RTS
32262 00006CBE 000B                   M           RTS                             ;RTSの後ろの
32263 00006CC0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32264                           10846     
32265                           10847     
32266                           10848             .EXPORT _DNM_CYCLE_END                  ;2016-04-16
32267                                     ***** BEGIN-POOL *****
32268 00006CC2 0000                       ALIGNMENT CODE
32269 00006CC4 00000000                   DATA FOR SOURCE-LINE 10838
32270                                     ***** END-POOL *****
32271 00006CC8                  10849     _DNM_CYCLE_END:                                 ;
32272                           10850             SUB_START                               ;
32273 00006CC8 4F22                   M           STS.L   PR,@-R15                ;[必要]
32274                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32275                           10851     
32276                           10852              .AIF   1 EQ 1  ;
32277                           10853 C   ;       -------- 2016-10-31 ADD 二重回路対策
32278                           10854              .AENDI
32279                           10855     
32280                           10856     ;       ---2016-06-13--
32281                           10857             UP_TIME LG=W,MEM_ADR=_DBG_DNM_END_CNT,WKREG1=R1,WKREG2=R0
32282 00006CCA D10B                   M           MOV.L   #_DBG_DNM_END_CNT,R1            ;SORCE ADRESS SET
32283 00006CCC 6011                   M           MOV.W   @R1,R0          ;
32284 00006CCE 7001                   M           ADD     #1,R0                   ;
32285 00006CD0 2008                   M           TST     R0,R0                   ;
32286                                 M           TST_BIT_OF JMP_0100023                  ;ZERO THEN JUMP
32287 00006CD2 8900                   M           BT      JMP_0100023
32288 00006CD4 2101                   M           MOV.W   R0,@R1          ;STORE
32289 00006CD6                        M   JMP_0100023:                                    ;
32290                           10858     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   473
PROGRAM NAME =

32291 00006CD6 222A             10859             XOR     R2,R2                           ;
32292 00006CD8 D108             10860             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
32293 00006CDA 6011             10861             MOV.W   @R1,R0                          ;
32294 00006CDC C804             10862             TST     #_DMATH_DNDRIV,R0
32295                           10863             TST_BIT_OF DNM_CYCLE_ED_100             ;
32296 00006CDE 8904                   M           BT      DNM_CYCLE_ED_100
32297                           10864     
32298 00006CE0 D107             10865             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//
32299 00006CE2 6011             10866             MOV.W   @R1,R0                          ;
32300 00006CE4 2008             10867             TST     R0,R0                           ;
32301                           10868             TST_BIT_ON DNM_CYCLE_ED_100             ;
32302 00006CE6 8B00                   M           BF      DNM_CYCLE_ED_100
32303 00006CE8 E201             10869             MOV     #1,R2                           ;
32304 00006CEA                  10870     DNM_CYCLE_ED_100:                               ;
32305 00006CEA D106             10871             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//
32306 00006CEC 2121             10872             MOV.W   R2,@R1                          ;NEXT-SET
32307                           10873     
32308                           10874     ;       ----------------[2014-11-10 add]---------
32309 00006CEE D106             10875             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1;     //ふりこの場合の前回までの動作方向(今回動
                                          きべき方向)
32310 00006CF0 2121             10876             MOV.W   R2,@R1                          ;
32311                           10877     ;       ---------------------------------------------
32312                           10878     
32313                           10879             SUB_END
32314                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32315 00006CF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32316                           10880             M_RTS
32317 00006CF4 000B                   M           RTS                             ;RTSの後ろの
32318 00006CF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32319                           10881     
32320                           10882     ;       ***************************************************
32321                           10883     ;       ***                                             ***
32322                           10884     ;       ***     ふりこ　連続の次のサイクル開始          ***
32323                           10885     ;       ***                                             ***
32324                           10886     ;       ***************************************************
32325                           10887     ;       ここでオーバライド演算も追加する(2010-10-05)
32326                           10888     
32327                                     ***** BEGIN-POOL *****
32328 00006CF8 00000000                   DATA FOR SOURCE-LINE 10857
32329 00006CFC 00000000                   DATA FOR SOURCE-LINE 10860
32330 00006D00 00000000                   DATA FOR SOURCE-LINE 10865
32331 00006D04 00000000                   DATA FOR SOURCE-LINE 10871
32332 00006D08 00000000                   DATA FOR SOURCE-LINE 10875
32333                                     ***** END-POOL *****
32334 00006D0C                  10889     _DNM_CYCLE_START:                               ;
32335                           10890             SUB_START                               ;
32336 00006D0C 4F22                   M           STS.L   PR,@-R15                ;[必要]
32337                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32338                           10891     
32339                           10892              .AIF   1 EQ 1  ;
32340                           10893 C   ;       -------- 2016-10-31 ADD 二重回路対策
32341                           10894              .AENDI
32342                           10895     ;       ---2016-06-13--
32343                           10896             UP_TIME LG=W,MEM_ADR=_DBG_DNM_STR_CNT,WKREG1=R1,WKREG2=R0
32344 00006D0E D10B                   M           MOV.L   #_DBG_DNM_STR_CNT,R1            ;SORCE ADRESS SET
32345 00006D10 6011                   M           MOV.W   @R1,R0          ;
32346 00006D12 7001                   M           ADD     #1,R0                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   474
PROGRAM NAME =

32347 00006D14 2008                   M           TST     R0,R0                   ;
32348                                 M           TST_BIT_OF JMP_0100024                  ;ZERO THEN JUMP
32349 00006D16 8900                   M           BT      JMP_0100024
32350 00006D18 2101                   M           MOV.W   R0,@R1          ;STORE
32351 00006D1A                        M   JMP_0100024:                                    ;
32352                           10897     
32353 00006D1A 222A             10898             XOR     R2,R2                           ;
32354 00006D1C D108             10899             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
32355 00006D1E 6011             10900             MOV.W   @R1,R0                          ;
32356 00006D20 C804             10901             TST     #_DMATH_DNDRIV,R0               ;
32357                           10902             TST_BIT_OF DNM_CYCLE_STR_100            ;
32358 00006D22 8917                   M           BT      DNM_CYCLE_STR_100
32359                           10903     
32360 00006D24 D107             10904             MOV.L   #_DNM_DIR_SET_FLG,R1            ;//
32361 00006D26 6211             10905             MOV.W   @R1,R2                          ;
32362 00006D28 D107             10906             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//
32363 00006D2A 2121             10907             MOV.W   R2,@R1                          ;
32364                           10908     
32365                           10909     ;       ----------------[2014-11-10 add]---------
32366 00006D2C D107             10910             MOV.L   #_DNM_DIR_FLG_INC_LATCH,R1;     //ふりこの場合の前回までの動作方向
32367 00006D2E 2121             10911             MOV.W   R2,@R1                          ;
32368                           10912     ;       ---------------------------------------------
32369                           10913     
32370                           10914             FAR_JSR #_CPOS_INI1_DTMOV2,R0
32371 00006D30 D007                   M           MOV.L   #_CPOS_INI1_DTMOV2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32372 00006D32 400B                   M           JSR     @R0                     ;
32373 00006D34 0009                   M           NOP                                     ;
32374                           10915             M_BRA   DNM_CYCLE_STR_200               ;
32375 00006D36 A00F                   M           BRA     DNM_CYCLE_STR_200
32376 00006D38 0009                   M           NOP
32377                           10916     
32378                                     ***** BEGIN-POOL *****
32379 00006D3A 0000                       ALIGNMENT CODE
32380 00006D3C 00000000                   DATA FOR SOURCE-LINE 10896
32381 00006D40 00000000                   DATA FOR SOURCE-LINE 10899
32382 00006D44 00000000                   DATA FOR SOURCE-LINE 10904
32383 00006D48 00000000                   DATA FOR SOURCE-LINE 10906
32384 00006D4C 00000000                   DATA FOR SOURCE-LINE 10910
32385 00006D50 00000000                   DATA FOR SOURCE-LINE 10914
32386                                     ***** END-POOL *****
32387 00006D54                  10917     DNM_CYCLE_STR_100:
32388 00006D54 D102             10918             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;//
32389 00006D56 2121             10919             MOV.W   R2,@R1                          ;
32390                           10920     
32391 00006D58                  10921     DNM_CYCLE_STR_200:
32392                           10922     
32393                           10923     
32394                           10924             SUB_END
32395                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32396 00006D58 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32397                           10925             M_RTS
32398 00006D5A 000B                   M           RTS                             ;RTSの後ろの
32399 00006D5C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32400                           10926     
32401                           10927     ;       ***************************
32402                           10928     ;       ***     1MS-MAINでCALL  ***
32403                           10929     ;       ***************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   475
PROGRAM NAME =

32404                           10930             .EXPORT _DNM_MATH_ELSE_DAT_MAKE
32405                           10931     
32406                           10932     
32407                                     ***** BEGIN-POOL *****
32408 00006D5E 0000                       ALIGNMENT CODE
32409 00006D60 00000000                   DATA FOR SOURCE-LINE 10918
32410                                     ***** END-POOL *****
32411 00006D64                  10933     _DNM_MATH_ELSE_DAT_MAKE:
32412                           10934             SUB_START
32413 00006D64 4F22                   M           STS.L   PR,@-R15                ;[必要]
32414                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32415 00006D66 D10D             10935             MOV.L   #_INC_ENC360,R1                                 ;
32416 00006D68 6211             10936             MOV.W   @R1,R2
32417                           10937     
32418 00006D6A D10D             10938             MOV.L   #_SETX_POS_CTL_MATH,R1          ;
32419 00006D6C 6011             10939             MOV.W   @R1,R0                          ;
32420 00006D6E C804             10940             TST     #_DMATH_DNDRIV,R0               ;
32421                           10941             TST_BIT_OF DNM_MATH_ELSE_DATMK100       ;
32422 00006D70 890E                   M           BT      DNM_MATH_ELSE_DATMK100
32423                           10942     
32424 00006D72 D10C             10943             MOV.L   #_MODE_SEL,R1                                           ;
32425 00006D74 6011             10944             MOV.W   @R1,R0                                                  ;
32426 00006D76 C81E             10945             TST     #_W1CNT+_W1SGL+_W1INC+_W1OPT,R0                         ;
32427                           10946             TST_BIT_OF DNM_MATH_ELSE_DATMK100                               ;
32428 00006D78 890A                   M           BT      DNM_MATH_ELSE_DATMK100
32429                           10947     
32430 00006D7A D10B             10948             MOV.L   #_DNM_DIR_NOW_FLG,R1            ;
32431 00006D7C 6011             10949             MOV.W   @R1,R0                          ;
32432                           10950     
32433                           10951     ;;;;2013-02-15不要      MOV.W   @R1,R3                          ;必ず同じになる
32434                           10952     ;;;;2013-02-15不要      CMP/EQ  R0,R3                           ;
32435                           10953     ;;;;2013-02-15不要      BF      DNM_MATH_ELSE_DATMK050          ;違ったら更新したかったの
                                          かな？
32436                           10954     
32437 00006D7E D10B             10955             MOV.L   #_DNM_DIR_SAM_FLG,R1            ;//2BYTE 0:往路 1:復路(動作中保証：停止時
                                          に切り替わり)
32438 00006D80 2101             10956             MOV.W   R0,@R1                          ;動作・動かしたいデータが同じ
32439                           10957     
32440                           10958     ;;;;2013-02-15不要      DNM_MATH_ELSE_DATMK050:
32441 00006D82 D10A             10959             MOV.L   #_DNM_DIR_SAM_FLG,R1            ;
32442 00006D84 6011             10960             MOV.W   @R1,R0                          ;
32443 00006D86 2008             10961             TST     R0,R0                           ;
32444                           10962             TST_BIT_OF DNM_MATH_ELSE_DATMK100       ;180
32445 00006D88 8902                   M           BT      DNM_MATH_ELSE_DATMK100
32446                           10963     
32447                           10964             FAR_JSR #_DIG01_CHG_DN_DATA_MAKE,R0     ;上限が0度　下限が180で左右同じじゃないとｸ
                                          ﾗﾝｸに戻す必要有り
32448 00006D8A D009                   M           MOV.L   #_DIG01_CHG_DN_DATA_MAKE,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32449 00006D8C 400B                   M           JSR     @R0                     ;
32450 00006D8E 0009                   M           NOP                                     ;
32451                           10965     
32452 00006D90                  10966     DNM_MATH_ELSE_DATMK100:
32453 00006D90 D108             10967             MOV.L   #_DNM_CTL_INC3600,R1            ;//CAM、ﾛｯﾄｶｳﾝﾀ、荷重用
32454 00006D92 2121             10968             MOV.W   R2,@R1                          ;
32455                           10969     
32456                           10970             SUB_END
32457                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   476
PROGRAM NAME =

32458 00006D94 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32459                           10971             M_RTS
32460 00006D96 000B                   M           RTS                             ;RTSの後ろの
32461 00006D98 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32462                           10972     
32463                           10973     ;       ***********************************
32464                           10974     ;       ***     2015-04-08              ***
32465                           10975     ;       ***     工程集終了ﾊﾝﾄﾞｼｪｲｸ      ***
32466                           10976     ;       ***********************************
32467                                     ***** BEGIN-POOL *****
32468 00006D9A 0000                       ALIGNMENT CODE
32469 00006D9C 00000000                   DATA FOR SOURCE-LINE 10935
32470 00006DA0 00000000                   DATA FOR SOURCE-LINE 10938
32471 00006DA4 00000000                   DATA FOR SOURCE-LINE 10943
32472 00006DA8 00000000                   DATA FOR SOURCE-LINE 10948
32473 00006DAC 00000000                   DATA FOR SOURCE-LINE 10955,10959
32474 00006DB0 00000000                   DATA FOR SOURCE-LINE 10964
32475 00006DB4 00000000                   DATA FOR SOURCE-LINE 10967
32476                                     ***** END-POOL *****
32477 00006DB8                  10977     _ENDHAND_WAIT_TIMCNT
32478                           10978             SUB_START
32479 00006DB8 4F22                   M           STS.L   PR,@-R15                ;[必要]
32480                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32481                           10979     
32482 00006DBA D105             10980             MOV.L   #_CMPSTEP_STEP_END,R1           ;
32483 00006DBC 6011             10981             MOV.W   @R1,R0                          ;
32484 00006DBE 2008             10982             TST     R0,R0                           ;
32485                           10983             TST_BIT_ON ENDHAND_WAIT_TIMC100         ;[ﾆｱｾﾞﾛ確認が終わっている]
32486 00006DC0 8B0A                   M           BF      ENDHAND_WAIT_TIMC100
32487 00006DC2 9203             10984             MOV.W   #D'10,R2                        ;10msec
32488 00006DC4 D103             10985             MOV.L   #_ENDHAND_TIMOUT_PV,R1          ;
32489 00006DC6 2121             10986             MOV.W   R2,@R1                          ;
32490                           10987             M_BRA   ENDHAND_WAIT_TIMC200
32491 00006DC8 A00C                   M           BRA     ENDHAND_WAIT_TIMC200
32492 00006DCA 0009                   M           NOP
32493                           10988     
32494                                     ***** BEGIN-POOL *****
32495 00006DCC 000A                       DATA FOR SOURCE-LINE 10984
32496 00006DCE 0000                       ALIGNMENT CODE
32497 00006DD0 00000000                   DATA FOR SOURCE-LINE 10980
32498 00006DD4 00000000                   DATA FOR SOURCE-LINE 10985
32499                                     ***** END-POOL *****
32500 00006DD8                  10989     ENDHAND_WAIT_TIMC100
32501                           10990             DN_TIME LG=W,MEM_ADR=_ENDHAND_TIMOUT_PV,WKREG1=R1,WKREG2=R2     ;
32502 00006DD8 D104                   M           MOV.L   #_ENDHAND_TIMOUT_PV,R1          ;SORCE ADRESS SET
32503 00006DDA 6211                   M           MOV.W   @R1,R2          ;
32504 00006DDC 2228                   M           TST     R2,R2                   ;
32505 00006DDE 8901                   M           BT      JMP_0100025                     ;ZERO THEN JUMP
32506 00006DE0 4210                   M           DT      R2                              ;
32507 00006DE2 2121                   M           MOV.W   R2,@R1          ;STORE
32508 00006DE4                        M   JMP_0100025:
32509 00006DE4                  10991     ENDHAND_WAIT_TIMC200
32510                           10992             SUB_END
32511                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32512 00006DE4 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32513                           10993             M_RTS
32514 00006DE6 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   477
PROGRAM NAME =

32515 00006DE8 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32516                           10994     
32517                           10995     ;       ANS R0!=0 ﾊﾝﾄﾞｼｪｲｸを強制実行
32518                           10996             .EXPORT _API_ENDHAND_SIGCHK
32519                                     ***** BEGIN-POOL *****
32520 00006DEA 0000                       ALIGNMENT CODE
32521 00006DEC 00000000                   DATA FOR SOURCE-LINE 10990
32522                                     ***** END-POOL *****
32523 00006DF0                  10997     _API_ENDHAND_SIGCHK
32524                           10998             SUB_START
32525 00006DF0 4F22                   M           STS.L   PR,@-R15                ;[必要]
32526                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32527 00006DF2 D107             10999             MOV.L   #_CMPSTEP_STEP_END,R1   ;
32528 00006DF4 6011             11000             MOV.W   @R1,R0                  ;
32529 00006DF6 C804             11001             TST     #BIT2,R0                ;
32530                           11002             TST_BIT_ON API_ENDHANDSIGCHK_EXT
32531 00006DF8 8B06                   M           BF      API_ENDHANDSIGCHK_EXT
32532                           11003     
32533 00006DFA C803             11004             TST     #(BIT1+BIT0),R0                 ;
32534                           11005             TST_BIT_OF API_ENDHANDSIGCHK_100        ;
32535 00006DFC 8903                   M           BT      API_ENDHANDSIGCHK_100
32536                           11006     
32537 00006DFE D105             11007             MOV.L   #_ENDHAND_TIMOUT_PV,R1          ;
32538 00006E00 6111             11008             MOV.W   @R1,R1                          ;
32539 00006E02 2118             11009             TST     R1,R1                           ;
32540                           11010             TST_BIT_ON API_ENDHANDSIGCHK_EXT        ;TIME ｱｯﾌﾟ前
32541 00006E04 8B00                   M           BF      API_ENDHANDSIGCHK_EXT
32542 00006E06                  11011     API_ENDHANDSIGCHK_100
32543 00006E06 200A             11012             XOR     R0,R0
32544 00006E08                  11013     API_ENDHANDSIGCHK_EXT
32545                           11014     
32546                           11015             SUB_END
32547                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32548 00006E08 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32549                           11016             M_RTS
32550 00006E0A 000B                   M           RTS                             ;RTSの後ろの
32551 00006E0C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32552                           11017     
32553                           11018     ;       *******************************************
32554                           11019     ;       ***                                     ***
32555                           11020     ;       ***                                     ***
32556                           11021     ;       ***                                     ***
32557                           11022     ;       ***     モーション繰り返し              ***
32558                           11023     ;       ***     位置決め部                      ***
32559                           11024     ;       ***                                     ***
32560                           11025     ;       *******************************************
32561                           11026     ;
32562                           11027     ;非常停止,ｻｲｸﾙ終了後の初起動時
32563                           11028     ;非常停止(exqは運転継続だからCLRしない)
32564                           11029     ;ｻｲｸﾙ終了
32565                           11030     ;ﾘﾋﾟｰﾄ終了
32566                           11031     ;[EXQはｸﾘｱしない：運転継続だから]
32567                           11032     ;
32568                           11033     ;BIT0(ﾘﾋﾟｰﾄ戻り中)
32569                           11034     ;BIT1(ﾚﾋﾟｰﾄ戻演算しろ)
32570                           11035     ;BIT2(ﾘﾋﾟｰﾄ戻り→ﾘﾋﾟｰﾄ開始)
32571                           11036     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   478
PROGRAM NAME =

32572                           11037     
32573                                     ***** BEGIN-POOL *****
32574 00006E0E 0000                       ALIGNMENT CODE
32575 00006E10 00000000                   DATA FOR SOURCE-LINE 10999
32576 00006E14 00000000                   DATA FOR SOURCE-LINE 11007
32577                                     ***** END-POOL *****
32578 00006E18                  11038             .ALIGN  4                                       ;
32579 00006E18                  11039     _MOT_REP_CLR                                    ;
32580                           11040             SUB_START
32581 00006E18 4F22                   M           STS.L   PR,@-R15                ;[必要]
32582                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32583 00006E1A 200A             11041             XOR     R0,R0                           ;
32584 00006E1C D103             11042             MOV.L   #_MOT_REP_CNT,R1                ;
32585 00006E1E 2101             11043             MOV.W   R0,@R1                          ;
32586 00006E20 D103             11044             MOV.L   #_MOT_REP_F,R1                  ;
32587 00006E22 2101             11045             MOV.W   R0,@R1                          ;
32588                           11046             SUB_END
32589                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32590 00006E24 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32591                           11047             M_RTS
32592 00006E26 000B                   M           RTS                             ;RTSの後ろの
32593 00006E28 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32594                           11048     
32595                           11049     ;       -----------ｽﾃｯﾌﾟ終了時CHECK-------------
32596                                     ***** BEGIN-POOL *****
32597 00006E2A 0000                       ALIGNMENT CODE
32598 00006E2C 00000000                   DATA FOR SOURCE-LINE 11042
32599 00006E30 00000000                   DATA FOR SOURCE-LINE 11044
32600                                     ***** END-POOL *****
32601 00006E34                  11050     _MOT_REP_STEPCHK
32602                           11051             SUB_START
32603 00006E34 4F22                   M           STS.L   PR,@-R15                ;[必要]
32604                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32605                           11052     
32606 00006E36 D108             11053             MOV.L   #_SET1_MOTREP_USEFUL,R1         ;
32607 00006E38 6011             11054             MOV.W   @R1,R0                          ;
32608 00006E3A 2008             11055             TST     R0,R0                           ;
32609                           11056             TST_BIT_OF MOT_REP_STEPCK_EXT           ;
32610 00006E3C 8935                   M           BT      MOT_REP_STEPCK_EXT
32611                           11057     
32612 00006E3E D107             11058             MOV.L   #_MOT_REP_F,R1                  ;
32613 00006E40 6011             11059             MOV.W   @R1,R0                          ;
32614 00006E42 C801             11060             TST     #BIT0,R0                        ;ﾘﾋﾟｰﾄ戻り実行中?
32615                           11061             TST_BIT_OF MOT_REP_STEPCK_100           ;NO
32616 00006E44 890E                   M           BT      MOT_REP_STEPCK_100
32617                           11062     
32618 00006E46 E004             11063             MOV.B   #BIT2,R0                        ;戻り開始工程演算しろ
32619 00006E48 D104             11064             MOV.L   #_MOT_REP_F,R1                  ;BIT2:CLR
32620 00006E4A 2101             11065             MOV.W   R0,@R1                          ;
32621                           11066     
32622                           11067     
32623                           11068             FAR_JSR #_DEBUG_BRK_POINT1,R0           ;
32624 00006E4C D004                   M           MOV.L   #_DEBUG_BRK_POINT1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32625 00006E4E 400B                   M           JSR     @R0                     ;
32626 00006E50 0009                   M           NOP                                     ;
32627                           11069     
32628                           11070             M_BRA   MOT_REP_STEPCK_EXT              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   479
PROGRAM NAME =

32629 00006E52 A02A                   M           BRA     MOT_REP_STEPCK_EXT
32630 00006E54 0009                   M           NOP
32631                           11071     
32632                           11072     
32633                           11073     
32634                           11074     
32635                                     ***** BEGIN-POOL *****
32636 00006E56 0000                       ALIGNMENT CODE
32637 00006E58 00000000                   DATA FOR SOURCE-LINE 11053
32638 00006E5C 00000000                   DATA FOR SOURCE-LINE 11058,11064
32639 00006E60 00000000                   DATA FOR SOURCE-LINE 11068
32640                                     ***** END-POOL *****
32641 00006E64                  11075     MOT_REP_STEPCK_100
32642 00006E64 D10A             11076             MOV.L   #_INT_POS_CTL_STEP,R1           ;//内部制御工程1~11
32643 00006E66 6011             11077             MOV.W   @R1,R0                          ;
32644 00006E68 D10A             11078             MOV.L   #_SET1_MOTREP_STGE,R1           ;//繰り返し終了行程[この工程は停止工程とす
                                          る]
32645 00006E6A 6211             11079             MOV.W   @R1,R2                          ;
32646 00006E6C 3020             11080             CMP/EQ  R2,R0                           ;
32647 00006E6E 8B1C             11081             BF      MOT_REP_STEPCK_EXT              ;終了ｽﾃｯﾌﾟ?
32648                           11082     
32649 00006E70 D109             11083             MOV.L   #_SET1_MOTREP_CNT,R1            ;//繰り返し回数
32650 00006E72 6311             11084             MOV.W   @R1,R3                          ;
32651 00006E74 2338             11085             TST     R3,R3                           ;
32652                           11086             TST_BIT_OF MOT_REP_STEPCK_EXT
32653 00006E76 8918                   M           BT      MOT_REP_STEPCK_EXT
32654                           11087     
32655 00006E78 D408             11088             MOV.L   #_MOT_REP_CNT,R4                ;
32656 00006E7A 6241             11089             MOV.W   @R4,R2                          ;
32657 00006E7C 3232             11090             CMP/HS  R3,R2                           ;設定<=CNT
32658 00006E7E 8911             11091             BT      MOT_REP_STEPCK_200              ;終了
32659 00006E80 7201             11092             ADD     #1,R2                           ;
32660 00006E82 2421             11093             MOV.W   R2,@R4                          ;
32661                           11094     
32662                           11095     ;       ------- 戻る----------
32663 00006E84 E003             11096             MOV.B   #(BIT1+BIT0),R0                 ;戻り実行中、戻り演算しろ
32664 00006E86 D106             11097             MOV.L   #_MOT_REP_F,R1                  ;
32665 00006E88 2101             11098             MOV.W   R0,@R1                          ;
32666                           11099             M_BRA   MOT_REP_STEPCK_EXT              ;
32667 00006E8A A00E                   M           BRA     MOT_REP_STEPCK_EXT
32668 00006E8C 0009                   M           NOP
32669                           11100     
32670                           11101     
32671                                     ***** BEGIN-POOL *****
32672 00006E8E 0000                       ALIGNMENT CODE
32673 00006E90 00000000                   DATA FOR SOURCE-LINE 11076
32674 00006E94 00000000                   DATA FOR SOURCE-LINE 11078
32675 00006E98 00000000                   DATA FOR SOURCE-LINE 11083
32676 00006E9C 00000000                   DATA FOR SOURCE-LINE 11088
32677 00006EA0 00000000                   DATA FOR SOURCE-LINE 11097
32678                                     ***** END-POOL *****
32679 00006EA4                  11102     MOT_REP_STEPCK_200
32680                           11103             FAR_JSR #_MOT_REP_CLR,R0                ;
32681 00006EA4 D002                   M           MOV.L   #_MOT_REP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32682 00006EA6 400B                   M           JSR     @R0                     ;
32683 00006EA8 0009                   M           NOP                                     ;
32684                           11104     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   480
PROGRAM NAME =

32685 00006EAA                  11105     MOT_REP_STEPCK_EXT
32686                           11106             SUB_END
32687                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32688 00006EAA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32689                           11107             M_RTS
32690 00006EAC 000B                   M           RTS                             ;RTSの後ろの
32691 00006EAE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32692                           11108     
32693                           11109     
32694                                     ***** BEGIN-POOL *****
32695 00006EB0 00000000                   DATA FOR SOURCE-LINE 11103
32696                                     ***** END-POOL *****
32697 00006EB4                  11110     _MOT_REPSTART_CALC:
32698                           11111             SUB_START
32699 00006EB4 4F22                   M           STS.L   PR,@-R15                ;[必要]
32700                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32701                           11112     
32702 00006EB6 D108             11113             MOV.L   #_SET1_MOTREP_SPD,R1            ;//一定速度時の速度
32703 00006EB8 6212             11114             MOV.L   @R1,R2                          ;
32704 00006EBA D108             11115             MOV.L   #_LINK_SV_OBJ_SPDPLS,R1         ;//目標速度
32705 00006EBC 2122             11116             MOV.L   R2,@R1                          ;
32706                           11117     
32707                           11118     
32708                           11119             FAR_JSR #_POS_LSI_TOP_SPEED_SET,R1      ;
32709 00006EBE D108                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32710 00006EC0 410B                   M           JSR     @R1                     ;
32711 00006EC2 0009                   M           NOP                                     ;
32712                           11120     
32713 00006EC4 D407             11121             MOV.L   #_SET1_MOTREP_STGS,R4           ;//繰り返し終了行程[この工程は停止工程とす
                                          る]
32714 00006EC6 6041             11122             MOV.W   @R4,R0                          ;
32715 00006EC8 8801             11123             CMP/EQ  #1,R0                           ;
32716 00006ECA 8B0F             11124             BF      MOT_REPSTART_CL050              ;
32717 00006ECC D406             11125             MOV.L   #_CPOS_SDAT1_UP_POS,R4          ;//待機点または各段
32718 00006ECE 6146             11126             MOV.L   @R4+,R1                         ;
32719 00006ED0 6242             11127             MOV.L   @R4,R2                          ;(目標位置)
32720                           11128             M_BRA   MOT_REPSTART_CL100              ;
32721 00006ED2 A012                   M           BRA     MOT_REPSTART_CL100
32722 00006ED4 0009                   M           NOP
32723                           11129     
32724                                     ***** BEGIN-POOL *****
32725 00006ED6 0000                       ALIGNMENT CODE
32726 00006ED8 00000000                   DATA FOR SOURCE-LINE 11113
32727 00006EDC 00000000                   DATA FOR SOURCE-LINE 11115
32728 00006EE0 00000000                   DATA FOR SOURCE-LINE 11119
32729 00006EE4 00000000                   DATA FOR SOURCE-LINE 11121
32730 00006EE8 00000000                   DATA FOR SOURCE-LINE 11125
32731                                     ***** END-POOL *****
32732 00006EEC                  11130     MOT_REPSTART_CL050:
32733 00006EEC 70FE             11131             ADD     #-2,R0
32734 00006EEE 4008             11132             SHLL2   R0
32735 00006EF0 4000             11133             SHLL    R0
32736 00006EF2 D40C             11134             MOV.L   #_CPOS_SDAT1_CHGAPOS,R4         ;8byte
32737 00006EF4 340C             11135             ADD     R0,R4
32738 00006EF6 6146             11136             MOV.L   @R4+,R1                         ;
32739 00006EF8 6242             11137             MOV.L   @R4,R2                          ;(目標位置)
32740 00006EFA                  11138     MOT_REPSTART_CL100:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   481
PROGRAM NAME =

32741                           11139     
32742                           11140     
32743                           11141     ;       --------- 反転用---------------
32744 00006EFA D40B             11142             MOV.L   #_NEG_CTL_OBJ_POS_PUSH,R4       ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
32745 00006EFC 2412             11143             MOV.L   R1,@R4                          ;
32746 00006EFE 1421             11144             MOV.L   R2,@(4,R4)                      ;save
32747                           11145     
32748 00006F00 D40A             11146             MOV.L   #_NEG_CTRL_BEFOR_OBJ_PLS,R4     ;//目標−手前
32749 00006F02 2412             11147             MOV.L   R1,@R4                          ;
32750 00006F04 1421             11148             MOV.L   R2,@(4,R4)                      ;save
32751                           11149     
32752                           11150     ;       -------- 通常用-----------------
32753                           11151             FAR_JSR #_LENGH_ADD_CALC,R0             ;
32754 00006F06 D00A                   M           MOV.L   #_LENGH_ADD_CALC,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32755 00006F08 400B                   M           JSR     @R0                     ;
32756 00006F0A 0009                   M           NOP                                     ;
32757                           11152     
32758 00006F0C 233A             11153             XOR     R3,R3                           ;
32759 00006F0E 4111             11154             CMP/PZ  R1                              ;+正転?
32760 00006F10 8900             11155             BT      MOT_REPSTART_CL200              ;
32761 00006F12 E301             11156             MOV     #BIT0,R3                        ;
32762 00006F14                  11157     MOT_REPSTART_CL200:
32763 00006F14 D107             11158             MOV.L   #_POSLSI_DRIV_SHIN,R1           ;//BIT0
32764 00006F16 6011             11159             MOV.W   @R1,R0                          ;
32765 00006F18 C9FE             11160             AND     #LOW ~BIT0,R0                   ;
32766 00006F1A 203B             11161             OR      R3,R0                           ;
32767 00006F1C 2101             11162             MOV.W   R0,@R1                          ;
32768                           11163     ;       ----------------------------------------
32769                           11164     
32770                           11165             SUB_END
32771                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
32772 00006F1E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
32773                           11166             M_RTS
32774 00006F20 000B                   M           RTS                             ;RTSの後ろの
32775 00006F22 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
32776                           11167     
32777                           11168     ;       *******************************************
32778                           11169     ;       ***                                     ***
32779                           11170     ;       ***                                     ***
32780                           11171     ;       ***                                     ***
32781                           11172     ;       ***     制動性能試験                    ***
32782                           11173     ;       ***                                     ***
32783                           11174     ;       ***                                     ***
32784                           11175     ;       *******************************************
32785                                     ***** BEGIN-POOL *****
32786 00006F24 00000000                   DATA FOR SOURCE-LINE 11134
32787 00006F28 00000000                   DATA FOR SOURCE-LINE 11142
32788 00006F2C 00000000                   DATA FOR SOURCE-LINE 11146
32789 00006F30 00000000                   DATA FOR SOURCE-LINE 11151
32790 00006F34 00000000                   DATA FOR SOURCE-LINE 11158
32791                                     ***** END-POOL *****
32792 00006F38                  11176             .ALIGN  4                                               ;
32793                           11177             .INCLUDE        "ssa_btst.inc"          ;//2010-08-30
32794                               1 I1  ;       ***********************************
32795                               2 I1  ;       ***                             ***
32796                               3 I1  ;       ***     制動制御                ***
32797                               4 I1  ;       ***     位置決め部              ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   482
PROGRAM NAME =

32798                               5 I1  ;       ***                             ***
32799                               6 I1  ;       ***********************************
32800                               7 I1  ;       ------- 2010-08-20[制動モード]
32801                               8 I1          .EXPORT _BRKTST_POS_START
32802                               9 I1  
32803 00006F38                     10 I1          .ALIGN  4                               ;
32804 00006F38                     11 I1  _BRKTST_POS_CTL:
32805                              12 I1          SUB_START
32806 00006F38 4F22                   M           STS.L   PR,@-R15                ;[必要]
32807                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
32808 00006F3A D103                13 I1          MOV.L   #_INT_POS_CTL_FLAG,R1           ;
32809 00006F3C 6011                14 I1          MOV.W   @R1,R0                          ;
32810 00006F3E C808                15 I1          TST     #BIT3,R0                        ;
32811                              16 I1          TST_BIT_OF BRKTST_POSCTL_0020           ;
32812 00006F40 8904                   M           BT      BRKTST_POSCTL_0020
32813                              17 I1          M_BRA   BRKTST_POSCTL_0800              ;非常停止中
32814 00006F42 A099                   M           BRA     BRKTST_POSCTL_0800
32815 00006F44 0009                   M           NOP
32816                              18 I1  
32817                                 I1  ***** BEGIN-POOL *****
32818 00006F46 0000                   I1  ALIGNMENT CODE
32819 00006F48 00000000               I1  DATA FOR SOURCE-LINE 13
32820                                 I1  ***** END-POOL *****
32821 00006F4C                     19 I1  BRKTST_POSCTL_0020:
32822 00006F4C C801                20 I1          TST     #BIT0,R0                        ;
32823                              21 I1          TST_BIT_OF BRKTST_POSCTL_0040           ;
32824 00006F4E 8901                   M           BT      BRKTST_POSCTL_0040
32825                              22 I1          M_BRA   BRKTST_POSCTL_0200              ;起動中
32826 00006F50 A064                   M           BRA     BRKTST_POSCTL_0200
32827 00006F52 0009                   M           NOP
32828                              23 I1  
32829                              24 I1  
32830 00006F54                     25 I1  BRKTST_POSCTL_0040:
32831 00006F54 D603                26 I1          MOV.L   #_MNWR_POS_CMD,R6       ;ﾊﾟﾙｽ払出即停止
32832 00006F56 6061                27 I1          MOV.W   @R6,R0                  ;
32833 00006F58 C907                28 I1          AND     #(BIT2+BIT1+BIT0),R0    ;
32834 00006F5A 8801                29 I1          CMP/EQ  #BIT0,R0                ;
32835 00006F5C 8904                30 I1          BT      BRKTST_POSCTL_0048              ;001
32836                              31 I1          M_BRA   BRKTST_POSCTL_0190              ;EXIT
32837 00006F5E A035                   M           BRA     BRKTST_POSCTL_0190
32838 00006F60 0009                   M           NOP
32839                              32 I1  ;       ==== 通常の位置決め起動コマンド状態
32840                                 I1  ***** BEGIN-POOL *****
32841 00006F62 0000                   I1  ALIGNMENT CODE
32842 00006F64 00000000               I1  DATA FOR SOURCE-LINE 26
32843                                 I1  ***** END-POOL *****
32844 00006F68                     33 I1  BRKTST_POSCTL_0048:
32845                              34 I1  
32846 00006F68 222A                35 I1          XOR     R2,R2
32847 00006F6A D11A                36 I1          MOV.L   #_INT_POS_STEP_FLG,R1   ;
32848 00006F6C 2121                37 I1          MOV.W   R2,@R1                  ;
32849 00006F6E D11A                38 I1          MOV.L   #_INT_DND_CTL_STEP,R1;
32850 00006F70 2121                39 I1          MOV.W   R2,@R1
32851 00006F72 D11A                40 I1          MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
32852 00006F74 2121                41 I1          MOV.W   R2,@R1                  ;
32853 00006F76 D11A                42 I1          MOV.L   #_CAM_CNT_CHG_FLG,R1            ;//連続が１ｽﾃｯﾌﾟになった
32854 00006F78 2121                43 I1          MOV.W   R2,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   483
PROGRAM NAME =

32855                              44 I1  
32856                              45 I1  ;       ------ ﾓｰｼｮﾝ運転 --------
32857 00006F7A D11A                46 I1          MOV.L   #_SV_POS_CTL_STEP,R1    ;//1msec 制御上の見かけ
32858 00006F7C 6411                47 I1          MOV.W   @R1,R4                  ;
32859 00006F7E D21A                48 I1          MOV.L   #_INT_POS_CTL_STEP,R2   ;//内部制御工程1~11
32860 00006F80 2241                49 I1          MOV.W   R4,@R2                  ;
32861                              50 I1  
32862                              51 I1  
32863                              52 I1          FAR_JSR #_POS_LSI_START_INITAL,R0       ;((((((((((((段取・原点起動スキャン)))))))
                                          ))))
32864 00006F82 D01A                   M           MOV.L   #_POS_LSI_START_INITAL,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32865 00006F84 400B                   M           JSR     @R0                     ;
32866 00006F86 0009                   M           NOP                                     ;
32867                              53 I1          FAR_JSR #_DND_1STEP_DATA_MAK1,R0        ;_LNGTH,SHIN,SPEED
32868 00006F88 D019                   M           MOV.L   #_DND_1STEP_DATA_MAK1,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32869 00006F8A 400B                   M           JSR     @R0                     ;
32870 00006F8C 0009                   M           NOP                                     ;
32871                              54 I1  
32872                              55 I1  
32873                              56 I1          FAR_JSR #_POS_LENGTH_ADD_DATA,R0
32874 00006F8E D019                   M           MOV.L   #_POS_LENGTH_ADD_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32875 00006F90 400B                   M           JSR     @R0                     ;
32876 00006F92 0009                   M           NOP                                     ;
32877                              57 I1          FAR_JSR #_ERR_INFO_DT_IN3,R0            ;2004-01-28ADD,TOTAL(起動開始)
32878 00006F94 D018                   M           MOV.L   #_ERR_INFO_DT_IN3,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32879 00006F96 400B                   M           JSR     @R0                     ;
32880 00006F98 0009                   M           NOP                                     ;
32881                              58 I1  
32882                              59 I1          FAR_JSR #_POS_PLSOUT_SET_RETRY,R0       ;(停止時からの起動の場合のみ有効・安一のみ
                                          )
32883 00006F9A D018                   M           MOV.L   #_POS_PLSOUT_SET_RETRY,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32884 00006F9C 400B                   M           JSR     @R0                     ;
32885 00006F9E 0009                   M           NOP                                     ;
32886                              60 I1  
32887                              61 I1  ;       == 2004-03 ===
32888                              62 I1          FAR_JSR #_ERR_INFO_DT_CHK2,R0           ; SGL ONLY
32889 00006FA0 D017                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32890 00006FA2 400B                   M           JSR     @R0                     ;
32891 00006FA4 0009                   M           NOP                                     ;
32892 00006FA6 9013                63 I1          MOV.W   #D'2,R0                 ;
32893 00006FA8 D116                64 I1          MOV.L   #_ERR_INFO_DLY_TIM,R1           ;
32894 00006FAA 2101                65 I1          MOV.W   R0,@R1                          ;
32895                              66 I1  
32896                              67 I1          FAR_JSR #_ERR_INFO_DT_IN4,R0            ;
32897 00006FAC D016                   M           MOV.L   #_ERR_INFO_DT_IN4,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32898 00006FAE 400B                   M           JSR     @R0                     ;
32899 00006FB0 0009                   M           NOP                                     ;
32900                              68 I1          FAR_JSR #_FWD_REV_START,R1              ;起動
32901 00006FB2 D116                   M           MOV.L   #_FWD_REV_START,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32902 00006FB4 410B                   M           JSR     @R1                     ;
32903 00006FB6 0009                   M           NOP                                     ;
32904                              69 I1  
32905                              70 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT0,WKREG=R1    ;
32906 00006FB8 D115                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
32907 00006FBA 6011                   M           MOV.W   @R1,R0          ;
32908 00006FBC CB01                   M           OR      #BIT0,R0                ;
32909 00006FBE 2101                   M           MOV.W   R0,@R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   484
PROGRAM NAME =

32910                              71 I1  
32911                              72 I1          FAR_JSR #_BRK_ERR_WORK_CLR1,R0          ;_BRK_ERR_CHK_START2    ;2003-07-01
32912 00006FC0 D014                   M           MOV.L   #_BRK_ERR_WORK_CLR1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32913 00006FC2 400B                   M           JSR     @R0                     ;
32914 00006FC4 0009                   M           NOP                                     ;
32915                              73 I1  
32916                              74 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0
32917 00006FC6 D014                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32918 00006FC8 400B                   M           JSR     @R0                     ;
32919 00006FCA 0009                   M           NOP                                     ;
32920                              75 I1  
32921 00006FCC                     76 I1  BRKTST_POSCTL_0190:
32922                              77 I1          M_BRA   BRKTST_POSCTL_0800                      ;
32923 00006FCC A054                   M           BRA     BRKTST_POSCTL_0800
32924 00006FCE 0009                   M           NOP
32925                              78 I1  
32926                              79 I1  ;       ===========================================
32927                              80 I1  ;       ===             起動中                  ===
32928                              81 I1  ;       ===========================================
32929                                 I1  ***** BEGIN-POOL *****
32930 00006FD0 0002                   I1  DATA FOR SOURCE-LINE 63
32931 00006FD2 0000                   I1  ALIGNMENT CODE
32932 00006FD4 00000000               I1  DATA FOR SOURCE-LINE 36
32933 00006FD8 00000000               I1  DATA FOR SOURCE-LINE 38
32934 00006FDC 00000000               I1  DATA FOR SOURCE-LINE 40
32935 00006FE0 00000000               I1  DATA FOR SOURCE-LINE 42
32936 00006FE4 00000000               I1  DATA FOR SOURCE-LINE 46
32937 00006FE8 00000000               I1  DATA FOR SOURCE-LINE 48
32938 00006FEC 00000000               I1  DATA FOR SOURCE-LINE 52
32939 00006FF0 00000000               I1  DATA FOR SOURCE-LINE 53
32940 00006FF4 00000000               I1  DATA FOR SOURCE-LINE 56
32941 00006FF8 00000000               I1  DATA FOR SOURCE-LINE 57
32942 00006FFC 00000000               I1  DATA FOR SOURCE-LINE 59
32943 00007000 00000000               I1  DATA FOR SOURCE-LINE 62
32944 00007004 00000000               I1  DATA FOR SOURCE-LINE 64
32945 00007008 00000000               I1  DATA FOR SOURCE-LINE 67
32946 0000700C 00000000               I1  DATA FOR SOURCE-LINE 68
32947 00007010 00000000               I1  DATA FOR SOURCE-LINE 70
32948 00007014 00000000               I1  DATA FOR SOURCE-LINE 72
32949 00007018 00000000               I1  DATA FOR SOURCE-LINE 74
32950                                 I1  ***** END-POOL *****
32951 0000701C                     82 I1  BRKTST_POSCTL_0200:
32952 0000701C D609                83 I1          MOV.L   #_MNWR_POS_CMD,R6                                               ;
32953 0000701E 6061                84 I1          MOV.W   @R6,R0                                                          ;
32954 00007020 8801                85 I1          CMP/EQ  #BIT0,R0                                                        ;
32955 00007022 8919                86 I1          BT      BRKTST_POSCTL_0240                                              ;
32956                              87 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_INT_POS_CTL_FLAG,LG=W,BIT=BIT3,WKREG=R1    ;
32957 00007024 D108                   M           MOV.L   #_INT_POS_CTL_FLAG,R1           ;
32958 00007026 6011                   M           MOV.W   @R1,R0          ;
32959 00007028 CB08                   M           OR      #BIT3,R0                ;
32960 0000702A 2101                   M           MOV.W   R0,@R1          ;
32961                              88 I1          FAR_JSR #_FWD_REV_STSIG_OFF,R0                          ;
32962 0000702C D007                   M           MOV.L   #_FWD_REV_STSIG_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32963 0000702E 400B                   M           JSR     @R0                     ;
32964 00007030 0009                   M           NOP                                     ;
32965                              89 I1          FAR_JSR #_POS_LSI_EMG_STOP,R0                                           ;急停止
32966 00007032 D007                   M           MOV.L   #_POS_LSI_EMG_STOP,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   485
PROGRAM NAME =

32967 00007034 400B                   M           JSR     @R0                     ;
32968 00007036 0009                   M           NOP                                     ;
32969                              90 I1          FAR_JSR #_LSI_REST_PLS_CHK_STOP_CLR,R0                                  ;2004-03-0
                                          3
32970 00007038 D006                   M           MOV.L   #_LSI_REST_PLS_CHK_STOP_CLR,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32971 0000703A 400B                   M           JSR     @R0                     ;
32972 0000703C 0009                   M           NOP                                     ;
32973                              91 I1          M_BRA   BRKTST_POSCTL_0800                                                      ;
32974 0000703E A01B                   M           BRA     BRKTST_POSCTL_0800
32975 00007040 0009                   M           NOP
32976                              92 I1  
32977                              93 I1  
32978                                 I1  ***** BEGIN-POOL *****
32979 00007042 0000                   I1  ALIGNMENT CODE
32980 00007044 00000000               I1  DATA FOR SOURCE-LINE 83
32981 00007048 00000000               I1  DATA FOR SOURCE-LINE 87
32982 0000704C 00000000               I1  DATA FOR SOURCE-LINE 88
32983 00007050 00000000               I1  DATA FOR SOURCE-LINE 89
32984 00007054 00000000               I1  DATA FOR SOURCE-LINE 90
32985                                 I1  ***** END-POOL *****
32986 00007058                     94 I1  BRKTST_POSCTL_0240:
32987                              95 I1          FAR_JSR #_POS_PLS_OUTPUT_DATA,R0        ;位置決めLSIｱｸｾｽ(毎ｽｷｬﾝ)
32988 00007058 D009                   M           MOV.L   #_POS_PLS_OUTPUT_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
32989 0000705A 400B                   M           JSR     @R0                     ;
32990 0000705C 0009                   M           NOP                                     ;
32991                              96 I1  
32992                              97 I1  ;       === FLAG SET(REST-PLS REFLASH-END)====
32993                              98 I1          eSHi_SET_IM_MOV DST=_SH2_REST_RL_HF,L1=W,WKREG1=R1,WKREG2=R0,IMD=1      ;
32994                                 M           PUSH_REG1 R1            ;
32995 0000705E 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
32996                                 M                                           ;REG=>[SP]
32997                                 M                                           ;"-4" FF,FF,FF,FC
32998                                 M           PUSH_REG1 R0            ;
32999 00007060 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
33000                                 M                                           ;REG=>[SP]
33001                                 M                                           ;"-4" FF,FF,FF,FC
33002 00007062 900C                   M           MOV.W   #1,R0           ;
33003 00007064 D107                   M           MOV.L   #_SH2_REST_RL_HF,R1             ;
33004 00007066 2101                   M           MOV.W   R0,@R1  ;
33005                                 M           POP_REG1 R0             ;
33006                                 M                                   ; RE"+4" 00,00,00,04
33007 00007068 60F6                   M           MOV.L   @R15+,R0        ;
33008                                 M           POP_REG1 R1             ;
33009                                 M                                   ; RE"+4" 00,00,00,04
33010 0000706A 61F6                   M           MOV.L   @R15+,R1        ;
33011                              99 I1  
33012                             100 I1  
33013                             101 I1  ;       === 2004-01-28===
33014                             102 I1          FAR_JSR #_ERR_INFO_DT_CHK2,R0           ;0CHEAK(起動中常時) SGL-ONLY
33015 0000706C D006                   M           MOV.L   #_ERR_INFO_DT_CHK2,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33016 0000706E 400B                   M           JSR     @R0                     ;
33017 00007070 0009                   M           NOP                                     ;
33018                             103 I1          FAR_JSR #_ERR_INFO_DT_CHK3,R0           ;PLS SGL-OMLY
33019 00007072 D006                   M           MOV.L   #_ERR_INFO_DT_CHK3,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33020 00007074 400B                   M           JSR     @R0                     ;
33021 00007076 0009                   M           NOP                                     ;
33022                             104 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   486
PROGRAM NAME =

33023                             105 I1          .AIF 0  EQ 1    ;2006-09-19
33024                             106             FAR_JSR #_ERR_INFO_DT_CHK_CMP2,R0       ;SGL-ONLY
33025                             107             .AENDI
33026                             108 I1  
33027                             109 I1  
33028 00007078                    110 I1  BRKTST_POSCTL_0800:
33029                             111 I1  
33030                             112 I1          SUB_END
33031                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33032 00007078 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33033                             113 I1          M_RTS
33034 0000707A 000B                   M           RTS                             ;RTSの後ろの
33035 0000707C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33036                             114 I1  
33037                             115 I1  ;       *******************************************
33038                             116 I1  ;       ***                                     ***
33039                             117 I1  ;       ***             目標位置作成            ***
33040                             118 I1  ;       ***                                     ***
33041                             119 I1  ;       *******************************************
33042                                 I1  ***** BEGIN-POOL *****
33043 0000707E 0001                   I1  DATA FOR SOURCE-LINE 98
33044 00007080 00000000               I1  DATA FOR SOURCE-LINE 95
33045 00007084 00000000               I1  DATA FOR SOURCE-LINE 98
33046 00007088 00000000               I1  DATA FOR SOURCE-LINE 102
33047 0000708C 00000000               I1  DATA FOR SOURCE-LINE 103
33048                                 I1  ***** END-POOL *****
33049 00007090                    120 I1          .ALIGN  4                               ;
33050 00007090                    121 I1  _BRKTST_POS_START:
33051                             122 I1          SUB_START
33052 00007090 4F22                   M           STS.L   PR,@-R15                ;[必要]
33053                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33054                             123 I1  
33055                             124 I1  ;       ----------2014-11-10------------
33056 00007092 200A               125 I1          XOR     R0,R0
33057 00007094 D12C               126 I1          MOV.L   #_MOVE_MODE_MATH_LATCH,R1       ;//0:(ふりこ以外 または 段取・原点モード)1
                                          :(ふりこでﾓｰｼｮﾝしていた)
33058 00007096 2101               127 I1          MOV.W   R0,@R1                          ;
33059                             128 I1  ;       ----------------------------------
33060                             129 I1  
33061                             130 I1  
33062                             131 I1  ;       === 目標位置生成=========
33063                             132 I1          FAR_JSR #_BRKTST_OBJ_MAKE,R0
33064 00007098 D02C                   M           MOV.L   #_BRKTST_OBJ_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33065 0000709A 400B                   M           JSR     @R0                     ;
33066 0000709C 0009                   M           NOP                                     ;
33067                             133 I1  
33068                             134 I1          FAR_JSR #_dum_SET_PV_ABS_TO_OBJ,R0
33069 0000709E D02C                   M           MOV.L   #_dum_SET_PV_ABS_TO_OBJ,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33070 000070A0 400B                   M           JSR     @R0                     ;
33071 000070A2 0009                   M           NOP                                     ;
33072                             135 I1          FAR_JSR #_SGL_CMP_ERR_DT_CLR,R0
33073 000070A4 D02B                   M           MOV.L   #_SGL_CMP_ERR_DT_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33074 000070A6 400B                   M           JSR     @R0                     ;
33075 000070A8 0009                   M           NOP                                     ;
33076                             136 I1  
33077                             137 I1          FAR_JSR #_LSI_REST_PLS_CHK_START_CLR,R0 ;
33078 000070AA D02B                   M           MOV.L   #_LSI_REST_PLS_CHK_START_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   487
PROGRAM NAME =

33079 000070AC 400B                   M           JSR     @R0                     ;
33080 000070AE 0009                   M           NOP                                     ;
33081                             138 I1          FAR_JSR #_GPOSIN_HOS_DRV_INI,R0
33082 000070B0 D02A                   M           MOV.L   #_GPOSIN_HOS_DRV_INI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33083 000070B2 400B                   M           JSR     @R0                     ;
33084 000070B4 0009                   M           NOP                                     ;
33085                             139 I1  
33086 000070B6 222A               140 I1          XOR     R2,R2
33087 000070B8 D129               141 I1          MOV.L   #_INT_DND_CTL_STEP,R1;
33088 000070BA 2121               142 I1          MOV.W   R2,@R1
33089 000070BC D129               143 I1          MOV.L   #_INT_DND_STEP_FLG,R1   ;//(上死点復帰の工程管理)
33090 000070BE 2121               144 I1          MOV.W   R2,@R1
33091                             145 I1  
33092 000070C0 200A               146 I1          XOR     R0,R0                           ;(1ｻｲｸﾙ完了時にOFFしていないとならない信号
                                          なのに)
33093 000070C2 D129               147 I1          MOV.L   #_INT_POS_CTL_FLAG,R1           ;
33094 000070C4 2101               148 I1          MOV.W   R0,@R1                          ;
33095                             149 I1  
33096                             150 I1  ;       === 2004-12-20 ===
33097 000070C6 D129               151 I1          MOV.L   #_CNT_STOP_CTRL_FLG,R1  ;//BIT0,BIT1:差し引き終了
33098 000070C8 2101               152 I1          MOV.W   R0,@R1                          ;
33099                             153 I1  
33100                             154 I1          FAR_JSR #_CNTREST_HOS_RESET,R1  ;
33101 000070CA D129                   M           MOV.L   #_CNTREST_HOS_RESET,R1          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33102 000070CC 410B                   M           JSR     @R1                     ;
33103 000070CE 0009                   M           NOP                                     ;
33104                             155 I1  
33105                             156 I1  ;       === 2004-01-26 CCS===
33106 000070D0 200A               157 I1          XOR     R0,R0
33107 000070D2 D128               158 I1          MOV.L   #_CCS_BTTN_OFF,R1               ;両手ON以外の状態が運転中にあった。必ずい
                                          つか止める
33108 000070D4 2101               159 I1          MOV.W   R0,@R1                          ;
33109                             160 I1  
33110                             161 I1  
33111                             162 I1  ;       ====== 一旦停止信号OFF=====
33112                             163 I1          MEM1_BIT0_F_ADCLR MEM=(_SQ_CBWK_TOP+_WKSQCB206),LG=W,BIT=(~BIT9),WKRG1=R1,WKRG2=R4
33113 000070D6 D128                   M           MOV.L   #(_SQ_CBWK_TOP+_WKSQCB206),R1           ;
33114 000070D8 6011                   M           MOV.W   @R1,R0          ;
33115 000070DA 9432                   M           MOV.W   #LWORD (~BIT9),R4       ;
33116 000070DC 2049                   M           AND     R4,R0           ;
33117 000070DE 2101                   M           MOV.W   R0,@R1          ;
33118                             164 I1  
33119                             165 I1          FAR_JSR #_CMPCYC_START_CLR,R0           ;
33120 000070E0 D026                   M           MOV.L   #_CMPCYC_START_CLR,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33121 000070E2 400B                   M           JSR     @R0                     ;
33122 000070E4 0009                   M           NOP                                     ;
33123                             166 I1          FAR_JSR #_CMPSTP_CNT_STOP_CLR,R0        ;起動時のみ連続停止クリア（後はサイクル完
                                          了時も）
33124 000070E6 D026                   M           MOV.L   #_CMPSTP_CNT_STOP_CLR,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33125 000070E8 400B                   M           JSR     @R0                     ;
33126 000070EA 0009                   M           NOP                                     ;
33127                             167 I1  
33128                             168 I1          FAR_JSR #_POS_CMP_1STEP_START_INI,R0    ;
33129 000070EC D025                   M           MOV.L   #_POS_CMP_1STEP_START_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33130 000070EE 400B                   M           JSR     @R0                     ;
33131 000070F0 0009                   M           NOP                                     ;
33132                             169 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   488
PROGRAM NAME =

33133                             170 I1          FAR_JSR #_DAI_MOSTPOS_SMPINI,R0         ;2003-02-03
33134 000070F2 D025                   M           MOV.L   #_DAI_MOSTPOS_SMPINI,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33135 000070F4 400B                   M           JSR     @R0                     ;
33136 000070F6 0009                   M           NOP                                     ;
33137                             171 I1          FAR_JSR #_KJPHOS_SMPINI,R0              ;2004-07-05
33138 000070F8 D024                   M           MOV.L   #_KJPHOS_SMPINI,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33139 000070FA 400B                   M           JSR     @R0                     ;
33140 000070FC 0009                   M           NOP                                     ;
33141                             172 I1  
33142                             173 I1          FAR_JSR #_POS_LSI_WORK_STOP2,R0
33143 000070FE D024                   M           MOV.L   #_POS_LSI_WORK_STOP2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33144 00007100 400B                   M           JSR     @R0                     ;
33145 00007102 0009                   M           NOP                                     ;
33146                             174 I1  
33147 00007104 200A               175 I1          XOR     R0,R0                   ;
33148 00007106 D123               176 I1          MOV.L   #_INT_CYC_DRV_STS,R1    ;
33149 00007108 2101               177 I1          MOV.W   R0,@R1                  ;
33150 0000710A D123               178 I1          MOV.L   #_STOP_LATCH,R1         ;//BIT0:ｽﾄｯﾌﾟ釦
33151 0000710C 2101               179 I1          MOV.W   R0,@R1                  ;
33152 0000710E D123               180 I1          MOV.L   #_STOP_LATCH_B,R1       ;//BIT0:ｽﾄｯﾌﾟ釦
33153 00007110 2101               181 I1          MOV.W   R0,@R1                  ;
33154 00007112 D123               182 I1          MOV.L   #_INT_CLS_CTL_FLG,R1    ;//BIT0=1 START 起動時ｸﾘｱ
33155 00007114 2101               183 I1          MOV.W   R0,@R1                  ;
33156                             184 I1  ;;2016-10-31未使用      MOV.L   #_LOT_CNT_TO_MOD,R1     ;
33157                             185 I1  ;;2016-10-31未使用      MOV.W   R0,@R1                  ;
33158                             186 I1  
33159                             187 I1  
33160                             188 I1  
33161                             189 I1  
33162 00007116 D123               190 I1          MOV.L   #_ORIGN_OBJ_CTL_FLG,R1          ;2004-05-24
33163 00007118 200A               191 I1          XOR     R0,R0                           ;
33164 0000711A 2101               192 I1          MOV.W   R0,@R1                          ;
33165                             193 I1  
33166                             194 I1  
33167 0000711C 9012               195 I1          MOV.W   #BIT0,R0                        ;起動
33168 0000711E D122               196 I1          MOV.L   #_MNWR_POS_CMD,R1               ;
33169 00007120 2101               197 I1          MOV.W   R0,@R1                          ;
33170                             198 I1  
33171                             199 I1  ;       --------2009-04-01 起動したらフラグクリア[原点時の]
33172                             200 I1          MEM1_BIT0_F_ADCLR MEM=_ORIGN_180ARA_FLG,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1      ;
                                          原点起動で使用
33173 00007122 D422                   M           MOV.L   #_ORIGN_180ARA_FLG,R4           ;
33174 00007124 6041                   M           MOV.W   @R4,R0          ;
33175 00007126 910E                   M           MOV.W   #LWORD (~BIT5),R1       ;
33176 00007128 2019                   M           AND     R1,R0           ;
33177 0000712A 2401                   M           MOV.W   R0,@R4          ;
33178                             201 I1          MEM1_BIT0_F_ADCLR MEM=_SQ_CBWK_TOP+_WKSQCB207,LG=W,BIT=(~BIT5),WKRG1=R4,WKRG2=R1
33179 0000712C D420                   M           MOV.L   #_SQ_CBWK_TOP+_WKSQCB207,R4             ;
33180 0000712E 6041                   M           MOV.W   @R4,R0          ;
33181 00007130 9109                   M           MOV.W   #LWORD (~BIT5),R1       ;
33182 00007132 2019                   M           AND     R1,R0           ;
33183 00007134 2401                   M           MOV.W   R0,@R4          ;
33184                             202 I1  
33185                             203 I1  ;       ------- 起動------------
33186 00007136 9005               204 I1          MOV.W   #BIT0,R0                ;
33187 00007138 D11E               205 I1          MOV.L   #_BRKTST_STR_FLG,R1     ;
33188 0000713A 2101               206 I1          MOV.W   R0,@R1                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   489
PROGRAM NAME =

33189                             207 I1  
33190                             208 I1          SUB_END
33191                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33192 0000713C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33193                             209 I1          M_RTS
33194 0000713E 000B                   M           RTS                             ;RTSの後ろの
33195 00007140 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33196                             210 I1  
33197                             211 I1  
33198                                 I1  ***** BEGIN-POOL *****
33199 00007142 FDFF                   I1  DATA FOR SOURCE-LINE 163
33200 00007144 0001                   I1  DATA FOR SOURCE-LINE 195,204
33201 00007146 FFDF                   I1  DATA FOR SOURCE-LINE 200,201
33202 00007148 00000000               I1  DATA FOR SOURCE-LINE 126
33203 0000714C 00000000               I1  DATA FOR SOURCE-LINE 132
33204 00007150 00000000               I1  DATA FOR SOURCE-LINE 134
33205 00007154 00000000               I1  DATA FOR SOURCE-LINE 135
33206 00007158 00000000               I1  DATA FOR SOURCE-LINE 137
33207 0000715C 00000000               I1  DATA FOR SOURCE-LINE 138
33208 00007160 00000000               I1  DATA FOR SOURCE-LINE 141
33209 00007164 00000000               I1  DATA FOR SOURCE-LINE 143
33210 00007168 00000000               I1  DATA FOR SOURCE-LINE 147
33211 0000716C 00000000               I1  DATA FOR SOURCE-LINE 151
33212 00007170 00000000               I1  DATA FOR SOURCE-LINE 154
33213 00007174 00000000               I1  DATA FOR SOURCE-LINE 158
33214 00007178 00000000               I1  DATA FOR SOURCE-LINE 163
33215 0000717C 00000000               I1  DATA FOR SOURCE-LINE 165
33216 00007180 00000000               I1  DATA FOR SOURCE-LINE 166
33217 00007184 00000000               I1  DATA FOR SOURCE-LINE 168
33218 00007188 00000000               I1  DATA FOR SOURCE-LINE 170
33219 0000718C 00000000               I1  DATA FOR SOURCE-LINE 171
33220 00007190 00000000               I1  DATA FOR SOURCE-LINE 173
33221 00007194 00000000               I1  DATA FOR SOURCE-LINE 176
33222 00007198 00000000               I1  DATA FOR SOURCE-LINE 178
33223 0000719C 00000000               I1  DATA FOR SOURCE-LINE 180
33224 000071A0 00000000               I1  DATA FOR SOURCE-LINE 182
33225 000071A4 00000000               I1  DATA FOR SOURCE-LINE 190
33226 000071A8 00000000               I1  DATA FOR SOURCE-LINE 196
33227 000071AC 00000000               I1  DATA FOR SOURCE-LINE 200
33228 000071B0 00000000               I1  DATA FOR SOURCE-LINE 201
33229 000071B4 00000000               I1  DATA FOR SOURCE-LINE 205
33230                                 I1  ***** END-POOL *****
33231 000071B8                    212 I1          .ALIGN  4                               ;
33232 000071B8                    213 I1  _BRKTST_OBJ_MAKE
33233                             214 I1          SUB_START
33234 000071B8 4F22                   M           STS.L   PR,@-R15                ;[必要]
33235                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33236                             215 I1  ;       --------------------------------------------
33237 000071BA D024               216 I1          MOV.L   #_CTL_ENC360,R0                         ;//360.0度(いまのところ不要)
33238 000071BC 6101               217 I1          MOV.W   @R0,R1                                  ;
33239 000071BE D424               218 I1          MOV.L   #_STR_ENC3600_DIG,R4                    ;//運転開始時の360.0角度
33240 000071C0 2411               219 I1          MOV.W   R1,@R4                                  ;
33241                             220 I1  
33242                             221 I1  ;       -----------------------------------------
33243 000071C2 D424               222 I1          MOV.L   #_LINK_PV_ABSPLS,R4                     ;
33244 000071C4 6146               223 I1          MOV.L   @R4+,R1                                 ;
33245 000071C6 6242               224 I1          MOV.L   @R4,R2                                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   490
PROGRAM NAME =

33246 000071C8 D423               225 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
33247 000071CA 1410               226 I1          MOV.L   R1,@(0,R4)                              ;
33248 000071CC 1421               227 I1          MOV.L   R2,@(4,R4)                              ;
33249                             228 I1  
33250                             229 I1  ;       ---------- 目標位置設定------
33251 000071CE D423               230 I1          MOV.L   #_LINK_1ROT_PLS,R4                      ;//1回転ﾊﾟﾙｽ(設定ﾚﾍﾞﾙ)
33252 000071D0 6642               231 I1          MOV.L   @R4,R6                                  ;
33253 000071D2 255A               232 I1          XOR     R5,R5                                   ;
33254                             233 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R5,R6 +R1,R2=>R1,
                                          R2
33255 000071D4 0008                   M           CLRT
33256 000071D6 326E                   M           ADDC    R6,R2
33257 000071D8 315E                   M           ADDC    R5,R1
33258                             234 I1  
33259 000071DA D421               235 I1          MOV.L   #_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止目標位置(設定ﾊﾞｯｸﾗｯｼなし)
33260 000071DC 2412               236 I1          MOV.L   R1,@R4                          ;
33261 000071DE 1421               237 I1          MOV.L   R2,@(1*4,R4)                    ;目標位置ｾｯﾄ
33262                             238 I1  
33263                             239 I1  
33264                             240 I1  ;       ---------- 方向------
33265 000071E0 200A               241 I1          XOR     R0,R0                           ;BIT0=0:正
33266 000071E2 D120               242 I1          MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
33267 000071E4 2101               243 I1          MOV.W   R0,@R1
33268                             244 I1  
33269                             245 I1  
33270                             246 I1  ;       ---------- 目標位置設定------
33271                             247 I1  ;;;;;2011-09-14 MOV.L   #_POS_DRV_DIRECT,R1             ;起動時(SV-LEVEL)
33272                             248 I1  ;;;;;2011-09-14 MOV.W   @R1,R0
33273                             249 I1  ;;;;;2011-09-14 FAR_JSR #_LINK_P_M_MAX,R4               ;Input R0:BIT0 DIRECT
33274                             250 I1                                                  ;_LINK_SV_OBJ_ABSPLS,R4         ;//abs停止
                                          目標位置(設定ﾊﾞｯｸﾗｯｼなし)
33275                             251 I1  
33276                             252 I1  
33277                             253 I1  
33278                             254 I1  
33279                             255 I1          FAR_JSR #_NOW_INC_DIG_MAK,R0                    ;
33280 000071E6 D020                   M           MOV.L   #_NOW_INC_DIG_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33281 000071E8 400B                   M           JSR     @R0                     ;
33282 000071EA 0009                   M           NOP                                     ;
33283                             256 I1  
33284                             257 I1  ;       ---------- SPEED SET---------------
33285                             258 I1  ;;      MOV.L   #_FREQ_PLSI_MAX_FRQ,R1  ;
33286                             259 I1  ;;;     MOV.L   #_LINK_MAX_SPD_PLS,R1
33287                             260 I1  
33288 000071EC D11F               261 I1          MOV.L   #_BRKTST_OUTSPD_PLS,R1  ;
33289 000071EE 6212               262 I1          MOV.L   @R1,R2                  ;
33290 000071F0 D11F               263 I1          MOV.L   #_LINK_SV_OBJ_SPDPLS,R1 ;//目標速度
33291 000071F2 2122               264 I1          MOV.L   R2,@R1                  ;
33292                             265 I1  
33293                             266 I1          FAR_JSR #_POS_LSI_TOP_SPEED_SET,R0      ;input R2
33294 000071F4 D01F                   M           MOV.L   #_POS_LSI_TOP_SPEED_SET,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33295 000071F6 400B                   M           JSR     @R0                     ;
33296 000071F8 0009                   M           NOP                                     ;
33297                             267 I1  
33298                             268 I1  
33299                             269 I1  
33300                             270 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   491
PROGRAM NAME =

33301                             271 I1  ;       -------------------ｵｰﾊﾞﾗｲﾄﾞﾃﾞｰﾀMAX-----------
33302 000071FA 9226               272 I1          MOV.W   #_OVRLIDE_LATE_MAX,R2                                           ;
33303                             273 I1          REG_MOV_TO_MEM  DST_ADR=_SET_SPD_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
33304 000071FC D11E                   M           MOV.L   #_SET_SPD_OVRLIDE,R1    ;DST_ADR
33305 000071FE 2121                   M           MOV.W   R2,@R1  ;DST_ADR
33306                             274 I1          REG_MOV_TO_MEM  DST_ADR=_SET_ACC_OVRLIDE,L1=W,DT_REG=R2,WKREG1=R1       ;
33307 00007200 D11E                   M           MOV.L   #_SET_ACC_OVRLIDE,R1    ;DST_ADR
33308 00007202 2121                   M           MOV.W   R2,@R1  ;DST_ADR
33309                             275 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~BIT1,WKREG=R4  ;
33310 00007204 D41E                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
33311 00007206 6041                   M           MOV.W   @R4,R0          ;
33312 00007208 C9FD                   M           AND     #LOW ~BIT1,R0           ;
33313 0000720A 2401                   M           MOV.W   R0,@R4          ;
33314                             276 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_OVER_RIDE_USEFUL,LG=W,BIT=~(BIT1+BIT0),WKREG=R4   ;
33315 0000720C D41C                   M           MOV.L   #_OVER_RIDE_USEFUL,R4           ;
33316 0000720E 6041                   M           MOV.W   @R4,R0          ;
33317 00007210 C9FC                   M           AND     #LOW ~(BIT1+BIT0),R0            ;
33318 00007212 2401                   M           MOV.W   R0,@R4          ;
33319                             277 I1  
33320                             278 I1          FAR_JSR #_OVERRIDE_CALC_LATE_SEL,R0     ;
33321 00007214 D01B                   M           MOV.L   #_OVERRIDE_CALC_LATE_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33322 00007216 400B                   M           JSR     @R0                     ;
33323 00007218 0009                   M           NOP                                     ;
33324                             279 I1          FAR_JSR #_OVERRIDE_CALC_SPED_SEL,R0     ;
33325 0000721A D01B                   M           MOV.L   #_OVERRIDE_CALC_SPED_SEL,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33326 0000721C 400B                   M           JSR     @R0                     ;
33327 0000721E 0009                   M           NOP                                     ;
33328                             280 I1  
33329                             281 I1  ;       --------- ﾌﾞﾚｰｷ異常ﾃﾞｰﾀ1　ｵｰﾊﾞﾗｲﾄﾞにも対応しておく----
33330                             282 I1          FAR_JSR #_ACCBRK1_SV_MAKE,R0            ;
33331 00007220 D01A                   M           MOV.L   #_ACCBRK1_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33332 00007222 400B                   M           JSR     @R0                     ;
33333 00007224 0009                   M           NOP                                     ;
33334                             283 I1          FAR_JSR #_ACCBRK2_SV_MAKE,R0            ;
33335 00007226 D01A                   M           MOV.L   #_ACCBRK2_SV_MAKE,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33336 00007228 400B                   M           JSR     @R0                     ;
33337 0000722A 0009                   M           NOP                                     ;
33338                             284 I1  
33339                             285 I1  
33340                             286 I1  ;       ------------------2011-09-14----------停止位置-----
33341 0000722C D40A               287 I1          MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;//ﾘｱﾙﾀｲﾑ目標絶対位置(ﾊﾞｯｸﾗｯｼなし)
33342 0000722E 5140               288 I1          MOV.L   @(0,R4),R1
33343 00007230 5241               289 I1          MOV.L   @(4,R4),R2
33344                             290 I1  
33345 00007232 D418               291 I1          MOV.L   #_WPARX_BRKTST_STPLNG,R4                ;//相対ﾊﾟﾙｽ
33346 00007234 6642               292 I1          MOV.L   @R4,R6                                  ;
33347 00007236 255A               293 I1          XOR     R5,R5                                   ;
33348                             294 I1          ADD8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R5,R6 +R1,R2=>R1,
                                          R2
33349 00007238 0008                   M           CLRT
33350 0000723A 326E                   M           ADDC    R6,R2
33351 0000723C 315E                   M           ADDC    R5,R1
33352                             295 I1  
33353 0000723E D416               296 I1          MOV.L   #_BRKTST_STP_ABSPLS,R4                                  ;
33354 00007240 2412               297 I1          MOV.L   R1,@R4                                                  ;
33355 00007242 1421               298 I1          MOV.L   R2,@(1*4,R4)                                            ;
33356                             299 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   492
PROGRAM NAME =

33357                             300 I1  
33358                             301 I1          SUB_END
33359                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33360 00007244 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33361                             302 I1          M_RTS
33362 00007246 000B                   M           RTS                             ;RTSの後ろの
33363 00007248 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33364                             303 I1  
33365                           11178     
33366                           11179     
33367                           11180     ;       *******************************************
33368                           11181     ;       ***                                     ***
33369                           11182     ;       ***                                     ***
33370                           11183     ;       ***                                     ***
33371                           11184     ;       ***     ポジショナ- CPUA                ***
33372                           11185     ;       ***                                     ***
33373                           11186     ;       ***                                     ***
33374                           11187     ;       *******************************************
33375                                     ***** BEGIN-POOL *****
33376 0000724A 0064                       DATA FOR SOURCE-LINE 272
33377 0000724C 00000000                   DATA FOR SOURCE-LINE 216
33378 00007250 00000000                   DATA FOR SOURCE-LINE 218
33379 00007254 00000000                   DATA FOR SOURCE-LINE 222
33380 00007258 00000000                   DATA FOR SOURCE-LINE 225,287
33381 0000725C 00000000                   DATA FOR SOURCE-LINE 230
33382 00007260 00000000                   DATA FOR SOURCE-LINE 235
33383 00007264 00000000                   DATA FOR SOURCE-LINE 242
33384 00007268 00000000                   DATA FOR SOURCE-LINE 255
33385 0000726C 00000000                   DATA FOR SOURCE-LINE 261
33386 00007270 00000000                   DATA FOR SOURCE-LINE 263
33387 00007274 00000000                   DATA FOR SOURCE-LINE 266
33388 00007278 00000000                   DATA FOR SOURCE-LINE 273
33389 0000727C 00000000                   DATA FOR SOURCE-LINE 274
33390 00007280 00000000                   DATA FOR SOURCE-LINE 275,276
33391 00007284 00000000                   DATA FOR SOURCE-LINE 278
33392 00007288 00000000                   DATA FOR SOURCE-LINE 279
33393 0000728C 00000000                   DATA FOR SOURCE-LINE 282
33394 00007290 00000000                   DATA FOR SOURCE-LINE 283
33395 00007294 00000000                   DATA FOR SOURCE-LINE 291
33396 00007298 00000000                   DATA FOR SOURCE-LINE 296
33397                                     ***** END-POOL *****
33398 0000729C                  11188             .ALIGN  4                                       ;
33399                           11189             .INCLUDE        "ssa_cop1pos.inc"               ; //
33400                               1 I1  ;       ***********************************
33401                               2 I1  ;       ***                             ***
33402                               3 I1  ;       ***     ﾎﾟｼﾞｼｮﾅ動作             ***
33403                               4 I1  ;       ***                             ***
33404                               5 I1  ;       ***********************************
33405                               6 I1  ;       cpuaだけ
33406                               7 I1  ;
33407                               8 I1  ;       @"自動ﾀﾞｲﾊｲﾄｽﾀｰﾄ":手動ﾀﾞｲﾊｲﾄと同一演算にてﾀﾞｲﾊｲﾄ位置を表示する
33408                               9 I1  ;       A位置比較
33409                              10 I1  ;
33410                              11 I1  ;       341.9
33411                              12 I1          .IMPORT         _SVP_ATSLID_OBJ1        ; スライド自動調節設定値（現在動作中）0.00
                                          1mm
33412                              13 I1          .IMPORT         _SVP_ATSLID_DNOBJ1      ; スライド自動調節　下降停止 0~99
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   493
PROGRAM NAME =

33413                              14 I1          .IMPORT         _SVP_ATSLID_UPOBJ1      ; スライド自動調節　上昇停止 "
33414                              15 I1          .IMPORT         _SVP_ATSLID_BAKLNG      ; スライド自動調節　戻り量   "
33415                              16 I1          .IMPORT         _SVP_ATSLID_COEF1       ; スライド自動調節　制御精度 "
33416                              17 I1          .IMPORT         _SVP_SLPOS_DIR          ;位置決め方向 0(上昇)/1(下降)
33417                              18 I1          .IMPORT         _SVP_SL_TENPOS          ;小数点
33418                              19 I1  
33419                              20 I1          .IMPORT         _PVP_ATSLID_OBJ1        ;2021-06-24 CPUDﾃﾞｰﾀﾁｪｯｸ用ANSﾊﾞｯｸ
33420                              21 I1  
33421                              22 I1  
33422                              23 I1          .EXPORT _POSITIONER_DAIHAITO
33423 0000729C                     24 I1  _POSITIONER_DAIHAITO
33424                              25 I1          SUB_START
33425 0000729C 4F22                   M           STS.L   PR,@-R15                ;[必要]
33426                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33427                              26 I1  
33428                              27 I1  ;---------- 2021-06-24[H2W-CE3:2020-08-11 SV ANS BAK]----------------
33429 0000729E D109                28 I1          MOV.L   #_SVP_ATSLID_OBJ1,R1                            ; スライド自動調節設定値（
                                          現在動作中）0.001mm
33430 000072A0 6212                29 I1          MOV.L   @R1,R2                                                          ;0.001mm 6
                                          553.5
33431 000072A2 D109                30 I1          MOV.L   #_PVP_ATSLID_OBJ1,R1                            ;
33432 000072A4 2122                31 I1          MOV.L   R2,@R1                                                          ;
33433                              32 I1  ;       ----------------------------------------------
33434                              33 I1  
33435                              34 I1          FAR_JSR #_POSITINER_POS_CMP,R0          ;2021-06-24
33436 000072A6 D009                   M           MOV.L   #_POSITINER_POS_CMP,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33437 000072A8 400B                   M           JSR     @R0                     ;
33438 000072AA 0009                   M           NOP                                     ;
33439                              35 I1  
33440 000072AC D508                36 I1          MOV.L   #_POSINER_FLG,R5                ;
33441 000072AE 6051                37 I1          MOV.W   @R5,R0                          ;
33442 000072B0 2008                38 I1          TST     R0,R0                           ;
33443                              39 I1          TST_BIT_ON POSITIONER_DAICTL_100        ;
33444 000072B2 8B2B                   M           BF      POSITIONER_DAICTL_100
33445                              40 I1  
33446 000072B4 D107                41 I1          MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341.9
33447 000072B6 6011                42 I1          MOV.W   @R1,R0                          ;
33448 000072B8 9403                43 I1          MOV.W   #BIT9,R4                        ;
33449 000072BA 2048                44 I1          TST     R4,R0                           ;
33450                              45 I1          TST_BIT_ON POSITIONER_DAICTL_020        ;
33451 000072BC 8B0C                   M           BF      POSITIONER_DAICTL_020
33452                              46 I1          M_BRA   POSITIONER_DAICTL_EXT           ;
33453 000072BE A0E6                   M           BRA     POSITIONER_DAICTL_EXT
33454 000072C0 0009                   M           NOP
33455                              47 I1  
33456                              48 I1  ;       -------------- 起動-----------------
33457                                 I1  ***** BEGIN-POOL *****
33458 000072C2 0200                   I1  DATA FOR SOURCE-LINE 43
33459 000072C4 00000000               I1  DATA FOR SOURCE-LINE 28
33460 000072C8 00000000               I1  DATA FOR SOURCE-LINE 30
33461 000072CC 00000000               I1  DATA FOR SOURCE-LINE 34
33462 000072D0 00000000               I1  DATA FOR SOURCE-LINE 36
33463 000072D4 00000000               I1  DATA FOR SOURCE-LINE 41
33464                                 I1  ***** END-POOL *****
33465 000072D8                     49 I1  POSITIONER_DAICTL_020
33466 000072D8 E001                50 I1          MOV.B   #BIT0,R0                        ;
33467 000072DA 2501                51 I1          MOV.W   R0,@R5                          ;FLG.0=1
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   494
PROGRAM NAME =

33468                              52 I1  
33469                              53 I1  ;       ------------------------------------
33470 000072DC 200A                54 I1          XOR     R0,R0                           ;
33471 000072DE D107                55 I1          MOV.L   #_POSINER_RETRY_CNT,R1          ;
33472 000072E0 2101                56 I1          MOV.W   R0,@R1                          ;
33473                              57 I1  
33474                              58 I1  
33475 000072E2 E002                59 I1          MOV.B   #BIT1,R0                        ;上昇からの+位置決め中
33476 000072E4 D106                60 I1          MOV.L   #_SVP_SLPOS_DIR,R1              ;位置決め方向
33477 000072E6 6411                61 I1          MOV.W   @R1,R4                          ;
33478 000072E8 2448                62 I1          TST     R4,R4                           ;
33479                              63 I1          TST_BIT_OF POSITIONER_DAICTL_040        ;
33480 000072EA 8900                   M           BT      POSITIONER_DAICTL_040
33481 000072EC E042                64 I1          MOV.B   #BIT6+BIT1,R0                   ;下降からの+位置決め中
33482 000072EE                     65 I1  POSITIONER_DAICTL_040:
33483 000072EE D105                66 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
33484 000072F0 2101                67 I1          MOV.W   R0,@R1                          ;
33485                              68 I1          FAR_JSR #_POSITIONER_DAI_DATA,R0
33486 000072F2 D005                   M           MOV.L   #_POSITIONER_DAI_DATA,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33487 000072F4 400B                   M           JSR     @R0                     ;
33488 000072F6 0009                   M           NOP                                     ;
33489                              69 I1          M_BRA   POSITIONER_DAICTL_800
33490 000072F8 A0BE                   M           BRA     POSITIONER_DAICTL_800
33491 000072FA 0009                   M           NOP
33492                              70 I1  
33493                              71 I1  
33494                              72 I1  
33495                              73 I1  ;       ----------------------------------------------
33496                                 I1  ***** BEGIN-POOL *****
33497 000072FC 00000000               I1  DATA FOR SOURCE-LINE 55
33498 00007300 00000000               I1  DATA FOR SOURCE-LINE 60
33499 00007304 00000000               I1  DATA FOR SOURCE-LINE 66
33500 00007308 00000000               I1  DATA FOR SOURCE-LINE 68
33501                                 I1  ***** END-POOL *****
33502 0000730C                     74 I1  POSITIONER_DAICTL_100
33503                              75 I1  
33504 0000730C D108                76 I1          MOV.L   #_PVX_DAI_POS1,R1               ;ﾀﾞｲﾊｲﾄ表示値・制御値
33505 0000730E 6212                77 I1          MOV.L   @R1,R2                          ;SAVE R2 -->NEXT CALC USED
33506 00007310 D108                78 I1          MOV.L   #_POSINER_PV_POS,R1             ;//目標位置
33507 00007312 2122                79 I1          MOV.L   R2,@R1                          ;
33508                              80 I1  
33509 00007314 D108                81 I1          MOV.L   #_CB_SEQ_CB_SEL341,R1           ;341.9
33510 00007316 6211                82 I1          MOV.W   @R1,R2                          ;
33511 00007318 9408                83 I1          MOV.W   #BIT9,R4                        ;
33512 0000731A 2248                84 I1          TST     R4,R2                           ;
33513                              85 I1          TST_BIT_ON POSITIONER_DAICTL_200        ;
33514 0000731C 8B12                   M           BF      POSITIONER_DAICTL_200
33515                              86 I1  
33516                              87 I1  ;       --------------- 指令OFF 終了---------------
33517 0000731E 200A                88 I1          XOR     R0,R0                           ;
33518 00007320 D506                89 I1          MOV.L   #_POSINER_FLG,R5                ;
33519 00007322 2501                90 I1          MOV.W   R0,@R5                          ;
33520 00007324 D106                91 I1          MOV.L   #_POSINER_STS,R1                ;
33521 00007326 2101                92 I1          MOV.W   R0,@R1                          ;
33522                              93 I1          M_BRA   POSITIONER_DAICTL_800
33523 00007328 A0A6                   M           BRA     POSITIONER_DAICTL_800
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   495
PROGRAM NAME =

33524 0000732A 0009                   M           NOP
33525                              94 I1  
33526                              95 I1  ;       -------------- 運転--------------------
33527                                 I1  ***** BEGIN-POOL *****
33528 0000732C 0200                   I1  DATA FOR SOURCE-LINE 83
33529 0000732E 0000                   I1  ALIGNMENT CODE
33530 00007330 00000000               I1  DATA FOR SOURCE-LINE 76
33531 00007334 00000000               I1  DATA FOR SOURCE-LINE 78
33532 00007338 00000000               I1  DATA FOR SOURCE-LINE 81
33533 0000733C 00000000               I1  DATA FOR SOURCE-LINE 89
33534 00007340 00000000               I1  DATA FOR SOURCE-LINE 91
33535                                 I1  ***** END-POOL *****
33536 00007344                     96 I1  POSITIONER_DAICTL_200
33537 00007344 D506                97 I1          MOV.L   #_POSINER_FLG,R5                ;
33538 00007346 6051                98 I1          MOV.W   @R5,R0                          ;
33539 00007348 C802                99 I1          TST     #BIT1,R0                        ;
33540                             100 I1          TST_BIT_ON POSITIONER_DAICTL_300        ;
33541 0000734A 8B0D                   M           BF      POSITIONER_DAICTL_300
33542                             101 I1  
33543                             102 I1  ;       ------- 初期演算--------
33544                             103 I1          FAR_JSR #_POSITIONER_DAI_OBJ1MAK,R0                             ;
33545 0000734C D005                   M           MOV.L   #_POSITIONER_DAI_OBJ1MAK,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33546 0000734E 400B                   M           JSR     @R0                     ;
33547 00007350 0009                   M           NOP                                     ;
33548                             104 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT1,WKREG=R1 ;
33549 00007352 D103                   M           MOV.L   #_POSINER_FLG,R1                ;
33550 00007354 6011                   M           MOV.W   @R1,R0          ;
33551 00007356 CB02                   M           OR      #BIT1,R0                ;
33552 00007358 2101                   M           MOV.W   R0,@R1          ;
33553                             105 I1          M_BRA   POSITIONER_DAICTL_800
33554 0000735A A08D                   M           BRA     POSITIONER_DAICTL_800
33555 0000735C 0009                   M           NOP
33556                             106 I1  
33557                             107 I1  ;       ----------------------------------------
33558                                 I1  ***** BEGIN-POOL *****
33559 0000735E 0000                   I1  ALIGNMENT CODE
33560 00007360 00000000               I1  DATA FOR SOURCE-LINE 97,104
33561 00007364 00000000               I1  DATA FOR SOURCE-LINE 103
33562                                 I1  ***** END-POOL *****
33563 00007368                    108 I1  POSITIONER_DAICTL_300
33564 00007368 C804               109 I1          TST     #BIT2,R0                        ;
33565                             110 I1          TST_BIT_ON POSITIONER_DAICTL_400        ;
33566 0000736A 8B15                   M           BF      POSITIONER_DAICTL_400
33567                             111 I1  
33568                             112 I1          FAR_JSR #_POSITIONER_DAI_OBJ1CMP,R0     ;//目標位置+ｵｰﾊﾞ量
33569 0000736C D007                   M           MOV.L   #_POSITIONER_DAI_OBJ1CMP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33570 0000736E 400B                   M           JSR     @R0                     ;
33571 00007370 0009                   M           NOP                                     ;
33572                             113 I1          PUSH_REG1 R0                            ;
33573 00007372 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
33574                                 M                                           ;REG=>[SP]
33575                                 M                                           ;"-4" FF,FF,FF,FC
33576                             114 I1          FAR_JSR #_POSITIONER_DAI_OUT,R1         ;input R0
33577 00007374 D106                   M           MOV.L   #_POSITIONER_DAI_OUT,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33578 00007376 410B                   M           JSR     @R1                     ;
33579 00007378 0009                   M           NOP                                     ;
33580                             115 I1          POP_REG1 R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   496
PROGRAM NAME =

33581                                 M                                   ; RE"+4" 00,00,00,04
33582 0000737A 60F6                   M           MOV.L   @R15+,R0        ;
33583 0000737C 2008               116 I1          TST     R0,R0
33584                             117 I1          TST_BIT_ON POSITIONER_DAICTL_350
33585 0000737E 8B03                   M           BF      POSITIONER_DAICTL_350
33586                             118 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT2,WKREG=R1 ;
33587 00007380 D104                   M           MOV.L   #_POSINER_FLG,R1                ;
33588 00007382 6011                   M           MOV.W   @R1,R0          ;
33589 00007384 CB04                   M           OR      #BIT2,R0                ;
33590 00007386 2101                   M           MOV.W   R0,@R1          ;
33591 00007388                    119 I1  POSITIONER_DAICTL_350
33592                             120 I1          M_BRA   POSITIONER_DAICTL_800
33593 00007388 A076                   M           BRA     POSITIONER_DAICTL_800
33594 0000738A 0009                   M           NOP
33595                             121 I1  
33596                             122 I1  
33597                             123 I1  ;       ----------------------------------------
33598                                 I1  ***** BEGIN-POOL *****
33599 0000738C 00000000               I1  DATA FOR SOURCE-LINE 112
33600 00007390 00000000               I1  DATA FOR SOURCE-LINE 114
33601 00007394 00000000               I1  DATA FOR SOURCE-LINE 118
33602                                 I1  ***** END-POOL *****
33603 00007398                    124 I1  POSITIONER_DAICTL_400
33604 00007398 C808               125 I1          TST     #BIT3,R0                        ;
33605                             126 I1          TST_BIT_ON POSITIONER_DAICTL_500        ;
33606 0000739A 8B2B                   M           BF      POSITIONER_DAICTL_500
33607                             127 I1          FAR_JSR #_POSITIONER_DAI_OBJ2CMP,R0     ;//目標位置+ｵｰﾊﾞ量-すべり
33608 0000739C D00D                   M           MOV.L   #_POSITIONER_DAI_OBJ2CMP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33609 0000739E 400B                   M           JSR     @R0                     ;
33610 000073A0 0009                   M           NOP                                     ;
33611                             128 I1          PUSH_REG1 R0                            ;
33612 000073A2 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
33613                                 M                                           ;REG=>[SP]
33614                                 M                                           ;"-4" FF,FF,FF,FC
33615                             129 I1          FAR_JSR #_POSITIONER_DAI_OUT,R1         ;input R0
33616 000073A4 D10C                   M           MOV.L   #_POSITIONER_DAI_OUT,R1         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33617 000073A6 410B                   M           JSR     @R1                     ;
33618 000073A8 0009                   M           NOP                                     ;
33619                             130 I1          POP_REG1 R0
33620                                 M                                   ; RE"+4" 00,00,00,04
33621 000073AA 60F6                   M           MOV.L   @R15+,R0        ;
33622 000073AC 2008               131 I1          TST     R0,R0
33623                             132 I1          TST_BIT_ON POSITIONER_DAICTL_450
33624 000073AE 8B0E                   M           BF      POSITIONER_DAICTL_450
33625                             133 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT3,WKREG=R1 ;
33626 000073B0 D10A                   M           MOV.L   #_POSINER_FLG,R1                ;
33627 000073B2 6011                   M           MOV.W   @R1,R0          ;
33628 000073B4 CB08                   M           OR      #BIT3,R0                ;
33629 000073B6 2101                   M           MOV.W   R0,@R1          ;
33630                             134 I1  
33631                             135 I1  
33632 000073B8 D109               136 I1          MOV.L   #_POSINER_STOPCHK_TIM1,R1;//1000 1秒
33633 000073BA 920A               137 I1          MOV.W   #D'1000,R2              ;
33634 000073BC 2121               138 I1          MOV.W   R2,@R1                  ;
33635 000073BE D109               139 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R1;//1000 1秒
33636 000073C0 2121               140 I1          MOV.W   R2,@R1                  ;
33637                             141 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   497
PROGRAM NAME =

33638                             142 I1  
33639 000073C2 D109               143 I1          MOV.L   #_POSINER_PV_POS,R1     ;
33640 000073C4 6212               144 I1          MOV.L   @R1,R2                  ;
33641 000073C6 D109               145 I1          MOV.L   #_POSINER_OLDPV_POS,R1  ;
33642 000073C8 2122               146 I1          MOV.L   R2,@R1                  ;
33643 000073CA D109               147 I1          MOV.L   #_POSINER_MOSTPV_POS,R1 ;//指令OFF後のｲﾝﾎﾟｼﾞｼｮﾝにもっとも近い位置
33644 000073CC 2122               148 I1          MOV.L   R2,@R1                  ;
33645                             149 I1  
33646 000073CE                    150 I1  POSITIONER_DAICTL_450
33647                             151 I1          M_BRA   POSITIONER_DAICTL_800
33648 000073CE A053                   M           BRA     POSITIONER_DAICTL_800
33649 000073D0 0009                   M           NOP
33650                             152 I1  
33651                             153 I1  
33652                             154 I1  ;       -------------- 停止待ち------------------
33653                                 I1  ***** BEGIN-POOL *****
33654 000073D2 03E8                   I1  DATA FOR SOURCE-LINE 137
33655 000073D4 00000000               I1  DATA FOR SOURCE-LINE 127
33656 000073D8 00000000               I1  DATA FOR SOURCE-LINE 129
33657 000073DC 00000000               I1  DATA FOR SOURCE-LINE 133
33658 000073E0 00000000               I1  DATA FOR SOURCE-LINE 136
33659 000073E4 00000000               I1  DATA FOR SOURCE-LINE 139
33660 000073E8 00000000               I1  DATA FOR SOURCE-LINE 143
33661 000073EC 00000000               I1  DATA FOR SOURCE-LINE 145
33662 000073F0 00000000               I1  DATA FOR SOURCE-LINE 147
33663                                 I1  ***** END-POOL *****
33664 000073F4                    155 I1  POSITIONER_DAICTL_500
33665 000073F4 C810               156 I1          TST     #BIT4,R0                        ;
33666                             157 I1          TST_BIT_ON POSITIONER_DAICTL_800        ;
33667 000073F6 8B3F                   M           BF      POSITIONER_DAICTL_800
33668                             158 I1  
33669                             159 I1          FAR_JSR #_POSITIONER_DAI_STPCHK,R1      ;
33670 000073F8 D10A                   M           MOV.L   #_POSITIONER_DAI_STPCHK,R1              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33671 000073FA 410B                   M           JSR     @R1                     ;
33672 000073FC 0009                   M           NOP                                     ;
33673 000073FE 2008               160 I1          TST     R0,R0                           ;
33674                             161 I1          TST_BIT_OF POSITIONER_DAICTL_590        ;"R0=1 END R0=-1 END(失敗)
33675 00007400 8935                   M           BT      POSITIONER_DAICTL_590
33676                             162 I1  
33677 00007402 8801               163 I1          CMP/EQ  #1,R0                           ;
33678 00007404 8B14               164 I1          BF      POSITIONER_DAICTL_530           ;
33679                             165 I1  
33680                             166 I1  ;       正常終了
33681                             167 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT4,WKREG=R1 ;
33682 00007406 D108                   M           MOV.L   #_POSINER_FLG,R1                ;
33683 00007408 6011                   M           MOV.W   @R1,R0          ;
33684 0000740A CB10                   M           OR      #BIT4,R0                ;
33685 0000740C 2101                   M           MOV.W   R0,@R1          ;
33686                             168 I1  
33687                             169 I1  ;       位置決め完了ON
33688                             170 I1  ;       BIT0(完了),BIT1(位置決め中),BIT2(失敗),BIT3(上昇),BIT4(下降), BIT6:(DIR)
33689                             171 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POSINER_STS,LG=W,BIT=(~(BIT4|BIT3|BIT1)),WKREG=R1 ;
33690 0000740E D107                   M           MOV.L   #_POSINER_STS,R1                ;
33691 00007410 6011                   M           MOV.W   @R1,R0          ;
33692 00007412 C9E5                   M           AND     #LOW (~(BIT4|BIT3|BIT1)),R0             ;
33693 00007414 2101                   M           MOV.W   R0,@R1          ;
33694                             172 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_STS,LG=W,BIT=BIT0,WKREG=R1 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   498
PROGRAM NAME =

33695 00007416 D105                   M           MOV.L   #_POSINER_STS,R1                ;
33696 00007418 6011                   M           MOV.W   @R1,R0          ;
33697 0000741A CB01                   M           OR      #BIT0,R0                ;
33698 0000741C 2101                   M           MOV.W   R0,@R1          ;
33699                             173 I1          M_BRA   POSITIONER_DAICTL_800
33700 0000741E A02B                   M           BRA     POSITIONER_DAICTL_800
33701 00007420 0009                   M           NOP
33702                             174 I1  
33703                             175 I1  
33704                                 I1  ***** BEGIN-POOL *****
33705 00007422 0000                   I1  ALIGNMENT CODE
33706 00007424 00000000               I1  DATA FOR SOURCE-LINE 159
33707 00007428 00000000               I1  DATA FOR SOURCE-LINE 167
33708 0000742C 00000000               I1  DATA FOR SOURCE-LINE 171,172
33709                                 I1  ***** END-POOL *****
33710 00007430                    176 I1  POSITIONER_DAICTL_530
33711                             177 I1  ;       異常終了
33712 00007430 D10A               178 I1          MOV.L   #_POSINER_RETRY_CNT,R1
33713 00007432 6211               179 I1          MOV.W   @R1,R2
33714 00007434 7201               180 I1          ADD     #1,R2
33715 00007436 2121               181 I1          MOV.W   R2,@R1
33716 00007438 E403               182 I1          MOV.B   #3,R4
33717 0000743A 3422               183 I1          CMP/HS  R2,R4                   ;
33718 0000743C 8914               184 I1          BT      POSITIONER_DAICTL_550   ;R2=<R4(3) ﾘﾄﾗｲ(通常+ﾘﾄﾗｲ3回=4回までやる)
33719                             185 I1  
33720                             186 I1  ;       異常終了
33721                             187 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_FLG,LG=W,BIT=BIT4,WKREG=R1 ;
33722 0000743E D108                   M           MOV.L   #_POSINER_FLG,R1                ;
33723 00007440 6011                   M           MOV.W   @R1,R0          ;
33724 00007442 CB10                   M           OR      #BIT4,R0                ;
33725 00007444 2101                   M           MOV.W   R0,@R1          ;
33726                             188 I1  ;       異常完了ON
33727                             189 I1  ;       BIT0(完了),BIT1(位置決め中),BIT2(失敗),BIT3(上昇),BIT4(下降), BIT6:(DIR)
33728                             190 I1          MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POSINER_STS,LG=W,BIT=(~(BIT4|BIT3|BIT1)),WKREG=R1 ;
33729 00007446 D107                   M           MOV.L   #_POSINER_STS,R1                ;
33730 00007448 6011                   M           MOV.W   @R1,R0          ;
33731 0000744A C9E5                   M           AND     #LOW (~(BIT4|BIT3|BIT1)),R0             ;
33732 0000744C 2101                   M           MOV.W   R0,@R1          ;
33733                             191 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSINER_STS,LG=W,BIT=BIT2,WKREG=R1 ;
33734 0000744E D105                   M           MOV.L   #_POSINER_STS,R1                ;
33735 00007450 6011                   M           MOV.W   @R1,R0          ;
33736 00007452 CB04                   M           OR      #BIT2,R0                ;
33737 00007454 2101                   M           MOV.W   R0,@R1          ;
33738                             192 I1          M_BRA   POSITIONER_DAICTL_800
33739 00007456 A00F                   M           BRA     POSITIONER_DAICTL_800
33740 00007458 0009                   M           NOP
33741                             193 I1  
33742                             194 I1  ;       ----------------ﾘﾄﾗｲ開始-----------
33743                                 I1  ***** BEGIN-POOL *****
33744 0000745A 0000                   I1  ALIGNMENT CODE
33745 0000745C 00000000               I1  DATA FOR SOURCE-LINE 178
33746 00007460 00000000               I1  DATA FOR SOURCE-LINE 187
33747 00007464 00000000               I1  DATA FOR SOURCE-LINE 190,191
33748                                 I1  ***** END-POOL *****
33749 00007468                    195 I1  POSITIONER_DAICTL_550
33750 00007468 E001               196 I1          MOV.B   #BIT0,R0                        ;
33751 0000746A D102               197 I1          MOV.L   #_POSINER_FLG,R1                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   499
PROGRAM NAME =

33752 0000746C 2101               198 I1          MOV.W   R0,@R1                          ;初期化
33753                             199 I1  
33754 0000746E                    200 I1  POSITIONER_DAICTL_590
33755                             201 I1          M_BRA   POSITIONER_DAICTL_800
33756 0000746E A003                   M           BRA     POSITIONER_DAICTL_800
33757 00007470 0009                   M           NOP
33758                             202 I1  
33759                             203 I1  
33760                             204 I1  
33761                             205 I1  ;       -----------------------------------
33762                                 I1  ***** BEGIN-POOL *****
33763 00007472 0000                   I1  ALIGNMENT CODE
33764 00007474 00000000               I1  DATA FOR SOURCE-LINE 197
33765                                 I1  ***** END-POOL *****
33766 00007478                    206 I1  POSITIONER_DAICTL_800
33767                             207 I1  
33768                             208 I1  
33769                             209 I1  
33770                             210 I1  
33771                             211 I1  
33772 00007478 D107               212 I1          MOV.L   #_POSINER_STS,R1                        ;
33773 0000747A 6011               213 I1          MOV.W   @R1,R0                                  ;
33774 0000747C D107               214 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;251
33775 0000747E 6211               215 I1          MOV.W   @R1,R2                                  ;
33776 00007480 9408               216 I1          MOV.W   #(BIT5+BIT4+BIT3+BIT2+BIT1+BIT0),R4     ;
33777 00007482 2049               217 I1          AND     R4,R0
33778 00007484 6447               218 I1          NOT     R4,R4
33779 00007486 2249               219 I1          AND     R4,R2
33780 00007488 220B               220 I1          OR      R0,R2
33781 0000748A D104               221 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;251
33782 0000748C 2121               222 I1          MOV.W   R2,@R1                                  ;
33783                             223 I1  
33784                             224 I1  
33785                             225 I1  
33786                             226 I1  
33787                             227 I1  
33788 0000748E                    228 I1  POSITIONER_DAICTL_EXT
33789                             229 I1  
33790                             230 I1          SUB_END
33791                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33792 0000748E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33793                             231 I1          M_RTS
33794 00007490 000B                   M           RTS                             ;RTSの後ろの
33795 00007492 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33796                             232 I1  
33797                             233 I1  
33798                             234 I1  ;_SVP_KANDO_A21                         .SRES   4       ;感度
33799                             235 I1  ;_SVP_UPDATA_A21                        .SRES   4       ;上限
33800                             236 I1  ;_SVP_DNDATA_A21                        .SRES   4       ;下限
33801                             237 I1  ;_SVP_GENITI_A21                        .SRES   4       ;現位置
33802                             238 I1  ;_SVP_MODORI_A21                        .SRES   2       ;戻り量
33803                             239 I1  ;_SVP_DNSTOP_A21                        .SRES   2       ;下降停止
33804                             240 I1  ;_SVP_UPSTOP_A21                        .SRES   2       ;上昇停止
33805                             241 I1  ;_SVP_SSEIDO_A21                        .SRES   2       ;制御精度
33806                             242 I1  
33807                             243 I1  
33808                             244 I1  ;_SVP_SLID_POS1         .SRES   4       ;ｽﾗｲﾄﾞ位置　生産
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   500
PROGRAM NAME =

33809                             245 I1  ;_SVP_SLID_POS2         .SRES   4       ;ｽﾗｲﾄﾞ位置　段取1
33810                             246 I1  ;_SVP_SLID_POS3         .SRES   4       ;ｽﾗｲﾄﾞ位置　段取2
33811                             247 I1  ;
33812                             248 I1  ;       ***********************************************************
33813                             249 I1  ;       ***                                                     ***
33814                             250 I1  ;       ***     [上昇から開始]                                  ***
33815                             251 I1  ;       ***     設定+戻り量(現在位置＋戻り量)                   ***
33816                             252 I1  ;       ***     設定+戻り量-下降量(現在位置＋戻り量-下降量)     ***
33817                             253 I1  ;       ***                                                     ***
33818                             254 I1  ;       ***********************************************************
33819                             255 I1  
33820                                 I1  ***** BEGIN-POOL *****
33821 00007494 003F                   I1  DATA FOR SOURCE-LINE 216
33822 00007496 0000                   I1  ALIGNMENT CODE
33823 00007498 00000000               I1  DATA FOR SOURCE-LINE 212
33824 0000749C 00000000               I1  DATA FOR SOURCE-LINE 214,221
33825                                 I1  ***** END-POOL *****
33826 000074A0                    256 I1  _POSITIONER_DAI_OBJ1MAK:
33827                             257 I1          SUB_START
33828 000074A0 4F22                   M           STS.L   PR,@-R15                ;[必要]
33829                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33830                             258 I1  
33831 000074A2 D109               259 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置
33832 000074A4 6212               260 I1          MOV.L   @R1,R2                          ;
33833                             261 I1  
33834 000074A6 D109               262 I1          MOV.L   #_POSINER_RETRY_CNT,R1          ;
33835 000074A8 6011               263 I1          MOV.W   @R1,R0                          ;
33836 000074AA 2008               264 I1          TST     R0,R0                           ;
33837                             265 I1          TST_BIT_OF POSITIONER_DAIOBJ1MK_100     ;
33838 000074AC 8901                   M           BT      POSITIONER_DAIOBJ1MK_100
33839                             266 I1  
33840 000074AE D108               267 I1          MOV.L   #_POSINER_PV_POS,R1             ;
33841 000074B0 6212               268 I1          MOV.L   @R1,R2                          ;[R5目標位置]
33842                             269 I1  
33843 000074B2                    270 I1  POSITIONER_DAIOBJ1MK_100:
33844                             271 I1  
33845                             272 I1  ;       in R2
33846                             273 I1  
33847 000074B2 D108               274 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
33848 000074B4 6011               275 I1          MOV.W   @R1,R0                          ;
33849 000074B6 C840               276 I1          TST     #BIT6,R0                        ;方向
33850                             277 I1          TST_BIT_ON POSITIONER_DAIOBJ1MK_200     ;
33851 000074B8 8B12                   M           BF      POSITIONER_DAIOBJ1MK_200
33852                             278 I1  
33853                             279 I1  ;       ---------- 上昇から開始-----------
33854 000074BA D107               280 I1          MOV.L   #_SET1_ATSLID_BAKLNG,R1         ;//スライド自動調節　戻り量   "
33855 000074BC 6312               281 I1          MOV.L   @R1,R3                          ;0.001mm(ADD)
33856                             282 I1  
33857 000074BE D107               283 I1          MOV.L   #_SET1_ATSLID_DNOBJ1,R1         ;//スライド自動調節　下降停止 0~99
33858 000074C0 6412               284 I1          MOV.L   @R1,R4                          ;0.001mm
33859                             285 I1          M_BRA   POSITIONER_DAIOBJ1MK_300
33860 000074C2 A013                   M           BRA     POSITIONER_DAIOBJ1MK_300
33861 000074C4 0009                   M           NOP
33862                             286 I1  
33863                             287 I1  
33864                                 I1  ***** BEGIN-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   501
PROGRAM NAME =

33865 000074C6 0000                   I1  ALIGNMENT CODE
33866 000074C8 00000000               I1  DATA FOR SOURCE-LINE 259
33867 000074CC 00000000               I1  DATA FOR SOURCE-LINE 262
33868 000074D0 00000000               I1  DATA FOR SOURCE-LINE 267
33869 000074D4 00000000               I1  DATA FOR SOURCE-LINE 274
33870 000074D8 00000000               I1  DATA FOR SOURCE-LINE 280
33871 000074DC 00000000               I1  DATA FOR SOURCE-LINE 283
33872                                 I1  ***** END-POOL *****
33873 000074E0                    288 I1  POSITIONER_DAIOBJ1MK_200:
33874                             289 I1  ;       ------- 下降から開始 -------------
33875 000074E0 D10B               290 I1          MOV.L   #_SET1_ATSLID_BAKLNG,R1         ;//スライド自動調節　戻り量   "
33876 000074E2 6312               291 I1          MOV.L   @R1,R3                          ;0.001mm(ADD)
33877 000074E4 633B               292 I1          NEG     R3,R3
33878                             293 I1  
33879 000074E6 D10B               294 I1          MOV.L   #_SET1_ATSLID_UPOBJ1,R1         ;//スライド自動調節　上昇停止 0~99
33880 000074E8 6412               295 I1          MOV.L   @R1,R4                          ;0.001mm
33881 000074EA 644B               296 I1          NEG     R4,R4                           ;
33882                             297 I1  
33883 000074EC                    298 I1  POSITIONER_DAIOBJ1MK_300:
33884                             299 I1  
33885                             300 I1  
33886 000074EC 323C               301 I1          ADD     R3,R2                           ;
33887                             302 I1          FAR_JSR #_POSITIONER_UPDN_LIMIT,R0      ;
33888 000074EE D00A                   M           MOV.L   #_POSITIONER_UPDN_LIMIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33889 000074F0 400B                   M           JSR     @R0                     ;
33890 000074F2 0009                   M           NOP                                     ;
33891                             303 I1  
33892                             304 I1  
33893                             305 I1  ;       -------------停止位置は一定--------------
33894 000074F4 D109               306 I1          MOV.L   #_POSINER_SV_OVRPOS,R1          ;//目標位置+ｵｰﾊﾞ量
33895 000074F6 2122               307 I1          MOV.L   R2,@R1                          ;
33896                             308 I1  
33897                             309 I1  
33898 000074F8 D109               310 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置
33899 000074FA 6212               311 I1          MOV.L   @R1,R2                          ;
33900                             312 I1  
33901 000074FC 324C               313 I1          ADD     R4,R2                           ;目標+β
33902                             314 I1          FAR_JSR #_POSITIONER_UPDN_LIMIT,R0      ;
33903 000074FE D006                   M           MOV.L   #_POSITIONER_UPDN_LIMIT,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
33904 00007500 400B                   M           JSR     @R0                     ;
33905 00007502 0009                   M           NOP                                     ;
33906 00007504 D107               315 I1          MOV.L   #_POSINER_SV_STPPOS,R1          ;//目標位置+停止量
33907 00007506 2122               316 I1          MOV.L   R2,@R1                          ;
33908                             317 I1  
33909                             318 I1          SUB_END
33910                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33911 00007508 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33912                             319 I1          M_RTS
33913 0000750A 000B                   M           RTS                             ;RTSの後ろの
33914 0000750C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33915                             320 I1  
33916                             321 I1  
33917                             322 I1  ;       INPU R2,DESTORY R1,R3,ANS R2
33918                                 I1  ***** BEGIN-POOL *****
33919 0000750E 0000                   I1  ALIGNMENT CODE
33920 00007510 00000000               I1  DATA FOR SOURCE-LINE 290
33921 00007514 00000000               I1  DATA FOR SOURCE-LINE 294
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   502
PROGRAM NAME =

33922 00007518 00000000               I1  DATA FOR SOURCE-LINE 302,314
33923 0000751C 00000000               I1  DATA FOR SOURCE-LINE 306
33924 00007520 00000000               I1  DATA FOR SOURCE-LINE 310
33925 00007524 00000000               I1  DATA FOR SOURCE-LINE 315
33926                                 I1  ***** END-POOL *****
33927 00007528                    323 I1  _POSITIONER_UPDN_LIMIT
33928                             324 I1          SUB_START
33929 00007528 4F22                   M           STS.L   PR,@-R15                ;[必要]
33930                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33931                             325 I1  
33932 0000752A D106               326 I1          MOV.L   #_SET1_RNAPOS_MAXP,R1   ;19機械上限機械 ?0.001mm
33933 0000752C 6312               327 I1          MOV.L   @R1,R3                  ;UP
33934 0000752E 3323               328 I1          CMP/GE  R2,R3                   ;
33935 00007530 8900               329 I1          BT      POSITIONER_UPDNLMT100   ;R2(SV)=<R3(MAX) OK
33936 00007532 6233               330 I1          MOV     R3,R2                   ;
33937 00007534                    331 I1  POSITIONER_UPDNLMT100                   ;
33938                             332 I1  
33939 00007534 D104               333 I1          MOV.L   #_SET1_RNAPOS_MINP,R1   ;1A 機械下限機械
33940 00007536 6312               334 I1          MOV.L   @R1,R3                  ;DN
33941 00007538 3233               335 I1          CMP/GE  R3,R2                   ;
33942 0000753A 8900               336 I1          BT      POSITIONER_UPDNLMT200   ;R3(MIN)=<R2(MAX) OK
33943 0000753C 6233               337 I1          MOV     R3,R2                   ;
33944 0000753E                    338 I1  POSITIONER_UPDNLMT200                   ;
33945                             339 I1  
33946                             340 I1          SUB_END
33947                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
33948 0000753E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
33949                             341 I1          M_RTS
33950 00007540 000B                   M           RTS                             ;RTSの後ろの
33951 00007542 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
33952                             342 I1  
33953                             343 I1  
33954                             344 I1  
33955                             345 I1  ;       *******************************************
33956                             346 I1  ;       ***                                     ***
33957                             347 I1  ;       ***     設定データを0.001mmにする       ***
33958                             348 I1  ;       ***                                     ***
33959                             349 I1  ;       *******************************************
33960                                 I1  ***** BEGIN-POOL *****
33961 00007544 00000000               I1  DATA FOR SOURCE-LINE 326
33962 00007548 00000000               I1  DATA FOR SOURCE-LINE 333
33963                                 I1  ***** END-POOL *****
33964 0000754C                    350 I1  _POSITIONER_DAI_DATA
33965                             351 I1          SUB_START
33966 0000754C 4F22                   M           STS.L   PR,@-R15                ;[必要]
33967                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
33968                             352 I1  
33969 0000754E D118               353 I1          MOV.L   #_SVP_SL_TENPOS,R1              ;
33970 00007550 6011               354 I1          MOV.W   @R1,R0                          ;
33971 00007552 D118               355 I1          MOV.L   #_SET1_ATDAT_DOTPOS,R1          ;//小数点
33972 00007554 2101               356 I1          MOV.W   R0,@R1                          ;
33973                             357 I1  
33974 00007556 9327               358 I1          MOV.W   #D'1,R3                         ;LATE
33975 00007558 8803               359 I1          CMP/EQ  #3,R0
33976 0000755A 8906               360 I1          BT      POSITIONER_DAIDAT_100           ;小数点3桁
33977                             361 I1  
33978 0000755C 9325               362 I1          MOV.W   #D'10,R3                        ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   503
PROGRAM NAME =

33979 0000755E 8802               363 I1          CMP/EQ  #2,R0
33980 00007560 8903               364 I1          BT      POSITIONER_DAIDAT_100           ;小数点2桁
33981                             365 I1  
33982 00007562 9323               366 I1          MOV.W   #D'100,R3                       ;
33983 00007564 8801               367 I1          CMP/EQ  #1,R0
33984 00007566 8900               368 I1          BT      POSITIONER_DAIDAT_100           ;小数点1桁
33985                             369 I1  
33986 00007568 9321               370 I1          MOV.W   #D'1000,R3                      ;小数点無し
33987                             371 I1  
33988 0000756A                    372 I1  POSITIONER_DAIDAT_100                           ;
33989                             373 I1  
33990                             374 I1  
33991 0000756A D113               375 I1          MOV.L   #_SVP_ATSLID_DNOBJ1,R1          ; スライド自動調節　下降停止 0~99
33992 0000756C 6211               376 I1          MOV.W   @R1,R2                          ;
33993 0000756E 332D               377 I1          DMULS.L R2,R3                           ;
33994 00007570 021A               378 I1          STS.L   MACL,R2                         ;
33995 00007572 D112               379 I1          MOV.L   #_SET1_ATSLID_DNOBJ1,R1         ;//スライド自動調節　下降停止 0~99
33996 00007574 2122               380 I1          MOV.L   R2,@R1                          ;0.001mm
33997                             381 I1  
33998 00007576 D112               382 I1          MOV.L   #_SVP_ATSLID_UPOBJ1,R1          ; スライド自動調節　上昇停止 "
33999 00007578 6211               383 I1          MOV.W   @R1,R2                          ;
34000 0000757A 332D               384 I1          DMULS.L R2,R3                           ;
34001 0000757C 021A               385 I1          STS.L   MACL,R2                         ;
34002 0000757E D111               386 I1          MOV.L   #_SET1_ATSLID_UPOBJ1,R1         ;//スライド自動調節　上昇停止 "
34003 00007580 2122               387 I1          MOV.L   R2,@R1                          ;0.001mm
34004                             388 I1  
34005 00007582 D111               389 I1          MOV.L   #_SVP_ATSLID_BAKLNG,R1          ; スライド自動調節　戻り量   "
34006 00007584 6211               390 I1          MOV.W   @R1,R2                          ;
34007 00007586 332D               391 I1          DMULS.L R2,R3                           ;
34008 00007588 021A               392 I1          STS.L   MACL,R2                         ;
34009 0000758A D110               393 I1          MOV.L   #_SET1_ATSLID_BAKLNG,R1         ;//スライド自動調節　戻り量   "
34010 0000758C 2122               394 I1          MOV.L   R2,@R1                          ;0.001mm
34011                             395 I1  
34012 0000758E D110               396 I1          MOV.L   #_SVP_ATSLID_COEF1,R1           ; スライド自動調節　制御精度 "
34013 00007590 6211               397 I1          MOV.W   @R1,R2                          ;
34014 00007592 332D               398 I1          DMULS.L R2,R3                           ;
34015 00007594 021A               399 I1          STS.L   MACL,R2                         ;
34016 00007596 D10F               400 I1          MOV.L   #_SET1_ATSLID_COEF1,R1          ;
34017 00007598 2122               401 I1          MOV.L   R2,@R1                          ;0.001mm
34018                             402 I1  
34019                             403 I1  
34020 0000759A D10F               404 I1          MOV.L   #_SVP_ATSLID_OBJ1,R1            ; スライド自動調節設定値（現在動作中）0.00
                                          1mm
34021 0000759C 6212               405 I1          MOV.L   @R1,R2                          ;0.001mm
34022 0000759E D10F               406 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置0.001mm
34023 000075A0 2122               407 I1          MOV.L   R2,@R1                          ;
34024                             408 I1  
34025                             409 I1  
34026                             410 I1          SUB_END
34027                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34028 000075A2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34029                             411 I1          M_RTS
34030 000075A4 000B                   M           RTS                             ;RTSの後ろの
34031 000075A6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34032                             412 I1  
34033                             413 I1  ;       *******************************************
34034                             414 I1  ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   504
PROGRAM NAME =

34035                             415 I1  ;       ***             戻り位置比較            ***
34036                             416 I1  ;       ***                                     ***
34037                             417 I1  ;       *******************************************
34038                                 I1  ***** BEGIN-POOL *****
34039 000075A8 0001                   I1  DATA FOR SOURCE-LINE 358
34040 000075AA 000A                   I1  DATA FOR SOURCE-LINE 362
34041 000075AC 0064                   I1  DATA FOR SOURCE-LINE 366
34042 000075AE 03E8                   I1  DATA FOR SOURCE-LINE 370
34043 000075B0 00000000               I1  DATA FOR SOURCE-LINE 353
34044 000075B4 00000000               I1  DATA FOR SOURCE-LINE 355
34045 000075B8 00000000               I1  DATA FOR SOURCE-LINE 375
34046 000075BC 00000000               I1  DATA FOR SOURCE-LINE 379
34047 000075C0 00000000               I1  DATA FOR SOURCE-LINE 382
34048 000075C4 00000000               I1  DATA FOR SOURCE-LINE 386
34049 000075C8 00000000               I1  DATA FOR SOURCE-LINE 389
34050 000075CC 00000000               I1  DATA FOR SOURCE-LINE 393
34051 000075D0 00000000               I1  DATA FOR SOURCE-LINE 396
34052 000075D4 00000000               I1  DATA FOR SOURCE-LINE 400
34053 000075D8 00000000               I1  DATA FOR SOURCE-LINE 404
34054 000075DC 00000000               I1  DATA FOR SOURCE-LINE 406
34055                                 I1  ***** END-POOL *****
34056 000075E0                    418 I1  _POSITIONER_DAI_OBJ1CMP:
34057                             419 I1          SUB_START
34058 000075E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
34059                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34060                             420 I1  
34061                             421 I1  
34062 000075E2 D106               422 I1          MOV.L   #_POSINER_PV_POS,R1             ;//目標位置
34063 000075E4 6212               423 I1          MOV.L   @R1,R2                          ;
34064                             424 I1  
34065 000075E6 D106               425 I1          MOV.L   #_POSINER_SV_OVRPOS,R1          ;//目標位置+ｵｰﾊﾞ量
34066 000075E8 6312               426 I1          MOV.L   @R1,R3                          ;
34067                             427 I1  
34068 000075EA D106               428 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
34069 000075EC 6011               429 I1          MOV.W   @R1,R0                          ;
34070 000075EE C840               430 I1          TST     #BIT6,R0                        ;方向
34071                             431 I1          TST_BIT_ON POSITIONER_DAI_OBJ1CP_100    ;
34072 000075F0 8B0A                   M           BF      POSITIONER_DAI_OBJ1CP_100
34073                             432 I1  
34074                             433 I1  ;       上昇
34075 000075F2 3233               434 I1          CMP/GE  R3,R2                           ;SV(R3)=<PV(R2)?
34076 000075F4 8912               435 I1          BT POSITIONER_DAI_OBJ1CP_OVR            ;YES
34077                             436 I1          M_BRA   POSITIONER_DAI_OBJ1CP_WATUP     ;
34078 000075F6 A00B                   M           BRA     POSITIONER_DAI_OBJ1CP_WATUP
34079 000075F8 0009                   M           NOP
34080                             437 I1  
34081                                 I1  ***** BEGIN-POOL *****
34082 000075FA 0000                   I1  ALIGNMENT CODE
34083 000075FC 00000000               I1  DATA FOR SOURCE-LINE 422
34084 00007600 00000000               I1  DATA FOR SOURCE-LINE 425
34085 00007604 00000000               I1  DATA FOR SOURCE-LINE 428
34086                                 I1  ***** END-POOL *****
34087 00007608                    438 I1  POSITIONER_DAI_OBJ1CP_100:
34088                             439 I1  
34089                             440 I1  ;       下降
34090 00007608 3323               441 I1          CMP/GE  R2,R3                           ;PV(R2)=<SV(R3)?
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   505
PROGRAM NAME =

34091 0000760A 8907               442 I1          BT POSITIONER_DAI_OBJ1CP_OVR            ;YES
34092                             443 I1          M_BRA   POSITIONER_DAI_OBJ1CP_WATDN     ;
34093 0000760C A003                   M           BRA     POSITIONER_DAI_OBJ1CP_WATDN
34094 0000760E 0009                   M           NOP
34095                             444 I1  
34096                             445 I1  
34097                             446 I1  
34098 00007610                    447 I1  POSITIONER_DAI_OBJ1CP_WATUP:
34099 00007610 E001               448 I1          MOV.B   #1,R0
34100                             449 I1          M_BRA   POSITIONER_DAI_OBJ1CP_END
34101 00007612 A004                   M           BRA     POSITIONER_DAI_OBJ1CP_END
34102 00007614 0009                   M           NOP
34103                             450 I1  
34104 00007616                    451 I1  POSITIONER_DAI_OBJ1CP_WATDN:
34105 00007616 E0FF               452 I1          MOV.B   #-1,R0
34106                             453 I1          M_BRA   POSITIONER_DAI_OBJ1CP_END
34107 00007618 A001                   M           BRA     POSITIONER_DAI_OBJ1CP_END
34108 0000761A 0009                   M           NOP
34109                             454 I1  
34110 0000761C                    455 I1  POSITIONER_DAI_OBJ1CP_OVR:
34111 0000761C 200A               456 I1          XOR     R0,R0                           ;
34112 0000761E                    457 I1  POSITIONER_DAI_OBJ1CP_END:
34113                             458 I1  
34114                             459 I1          SUB_END
34115                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34116 0000761E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34117                             460 I1          M_RTS
34118 00007620 000B                   M           RTS                             ;RTSの後ろの
34119 00007622 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34120                             461 I1  
34121                             462 I1  
34122                             463 I1  ;       *******************************************
34123                             464 I1  ;       ***                                     ***
34124                             465 I1  ;       ***             指令OFF位置比較         ***
34125                             466 I1  ;       ***                                     ***
34126                             467 I1  ;       *******************************************
34127 00007624                    468 I1  _POSITIONER_DAI_OBJ2CMP:
34128                             469 I1          SUB_START
34129 00007624 4F22                   M           STS.L   PR,@-R15                ;[必要]
34130                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34131                             470 I1  
34132                             471 I1  
34133 00007626 D106               472 I1          MOV.L   #_POSINER_PV_POS,R1             ;//目標位置
34134 00007628 6212               473 I1          MOV.L   @R1,R2                          ;
34135                             474 I1  
34136 0000762A D106               475 I1          MOV.L   #_POSINER_SV_STPPOS,R1          ;//目標位置+ｵｰﾊ量-下降量
34137 0000762C 6312               476 I1          MOV.L   @R1,R3                          ;
34138                             477 I1  
34139 0000762E D106               478 I1          MOV.L   #_POSINER_STS,R1                ;BIT0(完了),BIT1(位置決め中),BIT2(失敗),BI
                                          T3(上昇),BIT4(下降), BIT6:(DIR)
34140 00007630 6011               479 I1          MOV.W   @R1,R0                          ;
34141 00007632 C840               480 I1          TST     #BIT6,R0                        ;方向
34142                             481 I1          TST_BIT_ON POSITIONER_DAI_OBJ2CP_100    ;
34143 00007634 8B0A                   M           BF      POSITIONER_DAI_OBJ2CP_100
34144                             482 I1  
34145                             483 I1  ;       上昇から開始の下降中
34146 00007636 3323               484 I1          CMP/GE  R2,R3                           ;PV(R2)=<SV(R3)?
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   506
PROGRAM NAME =

34147 00007638 8912               485 I1          BT POSITIONER_DAI_OBJ2CP_STP            ;YES
34148                             486 I1          M_BRA   POSITIONER_DAI_OBJ2CP_WATDN     ;
34149 0000763A A00E                   M           BRA     POSITIONER_DAI_OBJ2CP_WATDN
34150 0000763C 0009                   M           NOP
34151                             487 I1  
34152                                 I1  ***** BEGIN-POOL *****
34153 0000763E 0000                   I1  ALIGNMENT CODE
34154 00007640 00000000               I1  DATA FOR SOURCE-LINE 472
34155 00007644 00000000               I1  DATA FOR SOURCE-LINE 475
34156 00007648 00000000               I1  DATA FOR SOURCE-LINE 478
34157                                 I1  ***** END-POOL *****
34158 0000764C                    488 I1  POSITIONER_DAI_OBJ2CP_100:
34159                             489 I1  
34160                             490 I1  ;       下降から開始の上昇中
34161 0000764C 3233               491 I1          CMP/GE  R3,R2                           ;SV(R3)=<PV(R2)?
34162 0000764E 8907               492 I1          BT POSITIONER_DAI_OBJ2CP_STP            ;YES
34163                             493 I1          M_BRA   POSITIONER_DAI_OBJ2CP_WATUP     ;
34164 00007650 A000                   M           BRA     POSITIONER_DAI_OBJ2CP_WATUP
34165 00007652 0009                   M           NOP
34166                             494 I1  
34167                             495 I1  
34168                             496 I1  
34169 00007654                    497 I1  POSITIONER_DAI_OBJ2CP_WATUP:
34170 00007654 E001               498 I1          MOV.B   #1,R0
34171                             499 I1          M_BRA   POSITIONER_DAI_OBJ2CP_END
34172 00007656 A004                   M           BRA     POSITIONER_DAI_OBJ2CP_END
34173 00007658 0009                   M           NOP
34174 0000765A                    500 I1  POSITIONER_DAI_OBJ2CP_WATDN:
34175 0000765A E0FF               501 I1          MOV.B   #-1,R0                          ;
34176                             502 I1          M_BRA   POSITIONER_DAI_OBJ2CP_END
34177 0000765C A001                   M           BRA     POSITIONER_DAI_OBJ2CP_END
34178 0000765E 0009                   M           NOP
34179                             503 I1  
34180 00007660                    504 I1  POSITIONER_DAI_OBJ2CP_STP:
34181 00007660 200A               505 I1          XOR     R0,R0
34182 00007662                    506 I1  POSITIONER_DAI_OBJ2CP_END:
34183                             507 I1  
34184                             508 I1          SUB_END
34185                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34186 00007662 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34187                             509 I1          M_RTS
34188 00007664 000B                   M           RTS                             ;RTSの後ろの
34189 00007666 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34190                             510 I1  
34191                             511 I1  
34192                             512 I1  
34193 00007668                    513 I1  _POSITIONER_DAI_OUT:
34194                             514 I1          SUB_START
34195 00007668 4F22                   M           STS.L   PR,@-R15                ;[必要]
34196                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34197                             515 I1  
34198 0000766A 222A               516 I1          XOR     R2,R2           ;停止
34199                             517 I1  
34200 0000766C 2008               518 I1          TST     R0,R0
34201                             519 I1          TST_BIT_OF POSITIONER_DAIOUT_100
34202 0000766E 8903                   M           BT      POSITIONER_DAIOUT_100
34203                             520 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   507
PROGRAM NAME =

34204 00007670 E208               521 I1          MOV.B   #BIT3,R2
34205 00007672 8801               522 I1          CMP/EQ  #1,R0
34206 00007674 8900               523 I1          BT      POSITIONER_DAIOUT_100
34207                             524 I1  
34208 00007676 E210               525 I1          MOV.B   #BIT4,R2
34209                             526 I1  
34210 00007678                    527 I1  POSITIONER_DAIOUT_100:
34211 00007678 D103               528 I1          MOV.L   #_POSINER_STS,R1
34212 0000767A 6011               529 I1          MOV.W   @R1,R0
34213 0000767C C9E7               530 I1          AND     #LOW ~(BIT4+BIT3),R0
34214 0000767E 202B               531 I1          OR      R2,R0
34215 00007680 2101               532 I1          MOV.W   R0,@R1                  ;
34216                             533 I1  
34217                             534 I1          SUB_END
34218                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34219 00007682 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34220                             535 I1          M_RTS
34221 00007684 000B                   M           RTS                             ;RTSの後ろの
34222 00007686 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34223                             536 I1  
34224                             537 I1  ;       *******************************************
34225                             538 I1  ;       ***                                     ***
34226                             539 I1  ;       ***             停止待ち                ***
34227                             540 I1  ;       ***                                     ***
34228                             541 I1  ;       *******************************************
34229                             542 I1  ;       基本は１秒間動作しなくなって、インポジ内にいるか
34230                             543 I1  ;       R0=0(動作中) R0=1(停止　ｲﾝﾎﾟｼﾞOK) R0=-1(停止,ｲﾝﾎﾟｼﾞ異常)
34231                             544 I1  ;       ・動作方向の位置が１秒間更新されなかったとき
34232                             545 I1  ;               MOV.L   #_POSINER_STOPCHK_TIM1,R1;//1000 1秒
34233                             546 I1  ;       ・0.01mmの移動が1秒間無い
34234                                 I1  ***** BEGIN-POOL *****
34235 00007688 00000000               I1  DATA FOR SOURCE-LINE 528
34236                                 I1  ***** END-POOL *****
34237 0000768C                    547 I1  _POSITIONER_DAI_STPCHK:
34238                             548 I1          SUB_START
34239 0000768C 4F22                   M           STS.L   PR,@-R15                ;[必要]
34240                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34241                             549 I1  
34242 0000768E D106               550 I1          MOV.L   #_POSINER_PV_POS,R1     ;
34243 00007690 6212               551 I1          MOV.L   @R1,R2                  ;
34244                             552 I1  
34245 00007692 D506               553 I1          MOV.L   #_POSINER_MOSTPV_POS,R5 ;//指令OFF後のｲﾝﾎﾟｼﾞｼｮﾝにもっとも近い位置
34246 00007694 6452               554 I1          MOV.L   @R5,R4                          ;
34247                             555 I1  
34248 00007696 D106               556 I1          MOV.L   #_POSINER_STS,R1                ;
34249 00007698 6011               557 I1          MOV.W   @R1,R0                          ;
34250 0000769A C840               558 I1          TST     #BIT6,R0                        ;方向 0:下降(減少)で終了
34251                             559 I1          TST_BIT_ON POSITIONER_DAI_STPCK100      ;
34252 0000769C 8B0A                   M           BF      POSITIONER_DAI_STPCK100
34253                             560 I1  
34254 0000769E 3243               561 I1          CMP/GE  R4,R2                           ;最下位置(R4)=<現在位置(R2)
34255 000076A0 8910               562 I1          BT      POSITIONER_DAI_STPCK200         ;OK
34256                             563 I1          M_BRA   POSITIONER_DAI_STPCK150         ;移動した
34257 000076A2 A009                   M           BRA     POSITIONER_DAI_STPCK150
34258 000076A4 0009                   M           NOP
34259                             564 I1  
34260                             565 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   508
PROGRAM NAME =

34261                                 I1  ***** BEGIN-POOL *****
34262 000076A6 0000                   I1  ALIGNMENT CODE
34263 000076A8 00000000               I1  DATA FOR SOURCE-LINE 550
34264 000076AC 00000000               I1  DATA FOR SOURCE-LINE 553
34265 000076B0 00000000               I1  DATA FOR SOURCE-LINE 556
34266                                 I1  ***** END-POOL *****
34267 000076B4                    566 I1  POSITIONER_DAI_STPCK100:
34268 000076B4 3423               567 I1          CMP/GE  R2,R4                           ;現在位置(R2)=<最上位置(R4)
34269 000076B6 8905               568 I1          BT      POSITIONER_DAI_STPCK200         ;OK
34270 000076B8                    569 I1  POSITIONER_DAI_STPCK150:                        ;
34271                             570 I1  
34272 000076B8 2522               571 I1          MOV.L   R2,@R5                          ;最下位置(最上位置)更新:動いた
34273                             572 I1  
34274 000076BA 900F               573 I1          MOV.W   #D'1000,R0
34275 000076BC D108               574 I1          MOV.L   #_POSINER_STOPCHK_TIM1,R1       ;
34276 000076BE 2101               575 I1          MOV.W   R0,@R1
34277 000076C0 D108               576 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R1       ;
34278 000076C2 2101               577 I1          MOV.W   R0,@R1
34279                             578 I1  
34280                             579 I1  
34281 000076C4                    580 I1  POSITIONER_DAI_STPCK200:
34282 000076C4 D406               581 I1          MOV.L   #_POSINER_STOPCHK_TIM1,R4
34283 000076C6 6041               582 I1          MOV.W   @R4,R0
34284 000076C8 2008               583 I1          TST     R0,R0
34285                             584 I1          TST_BIT_OF POSITIONER_DAI_STPCK250              ;
34286 000076CA 890F                   M           BT      POSITIONER_DAI_STPCK250
34287 000076CC 70FF               585 I1          ADD     #-1,R0
34288 000076CE 2401               586 I1          MOV.W   R0,@R4                                  ;
34289 000076D0 2008               587 I1          TST     R0,R0                                   ;
34290                             588 I1          TST_BIT_ON POSITIONER_DAI_STPCK230
34291 000076D2 8B01                   M           BF      POSITIONER_DAI_STPCK230
34292 000076D4 D104               589 I1          MOV.L   #_POSINER_OLDPV_POS,R1                  ;
34293 000076D6 2122               590 I1          MOV.L   R2,@R1                                  ;R2(NOW),R3(OLD)
34294 000076D8                    591 I1  POSITIONER_DAI_STPCK230:
34295                             592 I1          M_BRA   POSITIONER_DAI_STPCKWAT                 ;
34296 000076D8 A03A                   M           BRA     POSITIONER_DAI_STPCKWAT
34297 000076DA 0009                   M           NOP
34298                             593 I1  
34299                             594 I1  
34300                                 I1  ***** BEGIN-POOL *****
34301 000076DC 03E8                   I1  DATA FOR SOURCE-LINE 573
34302 000076DE 0000                   I1  ALIGNMENT CODE
34303 000076E0 00000000               I1  DATA FOR SOURCE-LINE 574,581
34304 000076E4 00000000               I1  DATA FOR SOURCE-LINE 576
34305 000076E8 00000000               I1  DATA FOR SOURCE-LINE 589
34306                                 I1  ***** END-POOL *****
34307 000076EC                    595 I1  POSITIONER_DAI_STPCK250:
34308                             596 I1  ;       ---FIRSTﾀｲﾏOK---
34309 000076EC D513               597 I1          MOV.L   #_POSINER_OLDPV_POS,R5
34310 000076EE 6352               598 I1          MOV.L   @R5,R3                  ;R2(NOW),R3(OLD)
34311 000076F0 3328               599 I1          SUB     R2,R3                   ;
34312 000076F2 4311               600 I1          CMP/PZ  R3                      ;
34313 000076F4 8900               601 I1          BT      POSITIONER_DAI_STPCK280 ;
34314 000076F6 633B               602 I1          NEG     R3,R3                   ;
34315 000076F8                    603 I1  POSITIONER_DAI_STPCK280:                ;
34316 000076F8 901D               604 I1          MOV.W   #D'10,R0
34317 000076FA 3036               605 I1          CMP/HI  R3,R0                   ;R3<R0(10 0.01mm)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   509
PROGRAM NAME =

34318 000076FC 8903               606 I1          BT      POSITIONER_DAI_STPCK300 ;
34319                             607 I1  
34320                             608 I1  ;       ------------- 0.01mm動いた------------
34321 000076FE 2522               609 I1          MOV.L   R2,@R5                          ;前回位置更新
34322 00007700 901A               610 I1          MOV.W   #D'1000,R0                      ;
34323 00007702 D10F               611 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R1       ;
34324 00007704 2101               612 I1          MOV.W   R0,@R1                          ;
34325                             613 I1  
34326 00007706                    614 I1  POSITIONER_DAI_STPCK300:                        ;
34327                             615 I1  
34328                             616 I1  
34329                             617 I1          DN_TIME LG=W,MEM_ADR=_POSINER_STOPCHK_TIM2,WKREG1=R1,WKREG2=R4  ;10msec 定周期
34330 00007706 D10E                   M           MOV.L   #_POSINER_STOPCHK_TIM2,R1               ;SORCE ADRESS SET
34331 00007708 6411                   M           MOV.W   @R1,R4          ;
34332 0000770A 2448                   M           TST     R4,R4                   ;
34333 0000770C 8901                   M           BT      JMP_0100026                     ;ZERO THEN JUMP
34334 0000770E 4410                   M           DT      R4                              ;
34335 00007710 2141                   M           MOV.W   R4,@R1          ;STORE
34336 00007712                        M   JMP_0100026:
34337                             618 I1  
34338 00007712 D40B               619 I1          MOV.L   #_POSINER_STOPCHK_TIM2,R4
34339 00007714 6041               620 I1          MOV.W   @R4,R0
34340 00007716 2008               621 I1          TST     R0,R0
34341                             622 I1          TST_BIT_ON POSITIONER_DAI_STPCKWAT              ;
34342 00007718 8B1A                   M           BF      POSITIONER_DAI_STPCKWAT
34343                             623 I1  
34344                             624 I1  
34345                             625 I1  ;       停止終了,ｲﾝﾎﾟｼﾞｼｮﾝ
34346 0000771A D10A               626 I1          MOV.L   #_POSINER_PV_POS,R1             ;
34347 0000771C 6212               627 I1          MOV.L   @R1,R2                          ;
34348 0000771E D10A               628 I1          MOV.L   #_POSINER_SV_POS,R1             ;//目標位置
34349 00007720 6312               629 I1          MOV.L   @R1,R3                          ;
34350 00007722 3328               630 I1          SUB     R2,R3                           ;
34351 00007724 4311               631 I1          CMP/PZ  R3
34352 00007726 8900               632 I1          BT      POSITIONER_DAI_STPCK320         ;
34353 00007728 633B               633 I1          NEG     R3,R3
34354 0000772A                    634 I1  POSITIONER_DAI_STPCK320:                        ;
34355                             635 I1  
34356 0000772A D108               636 I1          MOV.L   #_SET1_ATSLID_COEF1,R1          ;
34357 0000772C 6012               637 I1          MOV.L   @R1,R0                          ;0.001mm
34358 0000772E 3033               638 I1          CMP/GE  R3,R0                           ;
34359 00007730 8914               639 I1          BT      POSITIONER_DAI_STPCKINP         ;ｲﾝﾎﾟｼﾞｼｮﾝ
34360                             640 I1          M_BRA   POSITIONER_DAI_STPCKERR         ;
34361 00007732 A010                   M           BRA     POSITIONER_DAI_STPCKERR
34362 00007734 0009                   M           NOP
34363                             641 I1  
34364                             642 I1  
34365                                 I1  ***** BEGIN-POOL *****
34366 00007736 000A                   I1  DATA FOR SOURCE-LINE 604
34367 00007738 03E8                   I1  DATA FOR SOURCE-LINE 610
34368 0000773A 0000                   I1  ALIGNMENT CODE
34369 0000773C 00000000               I1  DATA FOR SOURCE-LINE 597
34370 00007740 00000000               I1  DATA FOR SOURCE-LINE 611,617,619
34371 00007744 00000000               I1  DATA FOR SOURCE-LINE 626
34372 00007748 00000000               I1  DATA FOR SOURCE-LINE 628
34373 0000774C 00000000               I1  DATA FOR SOURCE-LINE 636
34374                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   510
PROGRAM NAME =

34375 00007750                    643 I1  POSITIONER_DAI_STPCKWAT:
34376 00007750 200A               644 I1          XOR     R0,R0
34377                             645 I1          M_BRA   POSITIONER_DAI_STPCKEND         ;
34378 00007752 A004                   M           BRA     POSITIONER_DAI_STPCKEND
34379 00007754 0009                   M           NOP
34380                             646 I1  
34381 00007756                    647 I1  POSITIONER_DAI_STPCKERR:                        ;
34382 00007756 E0FF               648 I1          MOV.B   #-1,R0                          ;
34383                             649 I1          M_BRA   POSITIONER_DAI_STPCKEND         ;
34384 00007758 A001                   M           BRA     POSITIONER_DAI_STPCKEND
34385 0000775A 0009                   M           NOP
34386                             650 I1  
34387 0000775C                    651 I1  POSITIONER_DAI_STPCKINP:                        ;
34388 0000775C E001               652 I1          MOV.B   #1,R0                           ;
34389                             653 I1  
34390 0000775E                    654 I1  POSITIONER_DAI_STPCKEND:
34391                             655 I1  
34392                             656 I1          SUB_END
34393                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34394 0000775E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34395                             657 I1          M_RTS
34396 00007760 000B                   M           RTS                             ;RTSの後ろの
34397 00007762 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34398                             658 I1  
34399                             659 I1  ;       ***************************************
34400                             660 I1  ;       ***                                                                     ***
34401                             661 I1  ;       ***             2021-06-24(2019-11-11)          ***
34402                             662 I1  ;       ***                                                                     ***
34403                             663 I1  ;       ***************************************
34404                             664 I1  
34405                             665 I1          .MACRO  AREA_CHK_BITSET  UP_REG,DN_REG,PV_REG,ANS_REG,BITn,WKREG
34406                             666 I1          CMP/GE  \DN_REG,\PV_REG
                                                  ;PV >= MIN
34407                             667 I1          BF      JMPED\@                                                         ;"T=0"
34408                             668 I1          CMP/GE  \PV_REG,\UP_REG                                 ;
34409                             669 I1          BF      JMPED\@                                                         ;
34410                             670 I1          MOV.W   #\BITn,\WKREG                                   ;
34411                             671 I1          OR              \WKREG,\ANS_REG                                 ;
34412                             672 I1  
34413                             673 I1  JMPED\@:                                                                        ;
34414                             674 I1          .ENDM
34415                             675 I1  
34416                             676 I1          .IMPORT         _SVP_SLID_POS1                  ;ｽﾗｲﾄﾞ位置　生産
34417                             677 I1          .IMPORT         _SVP_SLID_POS2                  ;ｽﾗｲﾄﾞ位置　段取1
34418                             678 I1          .IMPORT         _SVP_SLID_POS3                  ;ｽﾗｲﾄﾞ位置　段取2
34419                             679 I1  
34420 00007764                    680 I1  _POSITINER_POS_CMP
34421                             681 I1          SUB_START
34422 00007764 4F22                   M           STS.L   PR,@-R15                ;[必要]
34423                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34424                             682 I1  
34425 00007766 D128               683 I1          MOV.L   #_SVP_SL_TENPOS,R1              ;
34426 00007768 6011               684 I1          MOV.W   @R1,R0                                  ;
34427 0000776A 9343               685 I1          MOV.W   #D'1,R3                                 ;LATE
34428 0000776C 8803               686 I1          CMP/EQ  #3,R0
34429 0000776E 8906               687 I1          BT      POSITINER_POSCMP_100            ;小数点3桁
34430 00007770 9341               688 I1          MOV.W   #D'10,R3                                ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   511
PROGRAM NAME =

34431 00007772 8802               689 I1          CMP/EQ  #2,R0                                   ;
34432 00007774 8903               690 I1          BT      POSITINER_POSCMP_100            ;小数点2桁
34433 00007776 933F               691 I1          MOV.W   #D'100,R3                               ;
34434 00007778 8801               692 I1          CMP/EQ  #1,R0                                   ;
34435 0000777A 8900               693 I1          BT      POSITINER_POSCMP_100            ;小数点1桁
34436 0000777C 933D               694 I1          MOV.W   #D'1000,R3                              ;小数点無し
34437 0000777E                    695 I1  POSITINER_POSCMP_100
34438                             696 I1  
34439                             697 I1  
34440 0000777E D123               698 I1          MOV.L   #_SVP_ATSLID_COEF1,R1           ; スライド自動調節　制御精度 "
34441 00007780 6211               699 I1          MOV.W   @R1,R2                                          ;
34442 00007782 332D               700 I1          DMULS.L R2,R3                                           ;
34443 00007784 021A               701 I1          STS.L   MACL,R2                                         ;
34444 00007786 D122               702 I1          MOV.L   #_SET1_ATSLID_COEF2,R1          ;
34445 00007788 2122               703 I1          MOV.L   R2,@R1                                          ;0.001mm
34446                             704 I1  
34447 0000778A 6623               705 I1          MOV             R2,R6                                           ;R6:精度(幅)
34448 0000778C 277A               706 I1          XOR             R7,R7                                           ;ANS
34449                             707 I1  
34450                             708 I1  ;-----------TEST------------
34451 0000778E 9235               709 I1          MOV.W   #D'30000,R2                                     ;30.000
34452                             710 I1  ;;;2021-07-02   MOV.L   #_POSINER_PV_POS,R1                     ;//目標位置
34453                             711 I1  ;;;2021-07-02   MOV.L   @R1,R2                                          ;
34454 00007790 D120               712 I1          MOV.L   #_PVX_DAI_POS1,R1                       ;ﾀﾞｲﾊｲﾄ表示値・制御値
34455 00007792 6212               713 I1          MOV.L   @R1,R2                                          ;SAVE R2 -->NEXT CALC USED
34456                             714 I1  
34457 00007794 D120               715 I1          mov.l   #_PVP_MONALM_C01,r1                     ;A/B/Cは連続した空間である事
34458 00007796 2122               716 I1          mov.l   r2,@r1                                          ;
34459                             717 I1  
34460                             718 I1  
34461                             719 I1  ;       -------------------------------
34462 00007798 D120               720 I1          MOV.L   #_SVP_SLID_POS1,R1                      ;ｽﾗｲﾄﾞ位置　生産 0.001mm
34463 0000779A 6312               721 I1          MOV.L   @R1,R3                                          ;
34464 0000779C 6063               722 I1          MOV             R6,R0
34465 0000779E 303C               723 I1          ADD             R3,R0                                           ;R0 +
34466 000077A0 3368               724 I1          SUB             R6,R3                                           ;R3 -
34467                             725 I1          AREA_CHK_BITSET  UP_REG=R0,DN_REG=R3,PV_REG=R2,ANS_REG=R7,BITn=BIT13,WKREG=R4
34468 000077A2 3233                   M           CMP/GE  R3,R2
                                          ;PV >= MIN
34469 000077A4 8B03                   M           BF      JMPED00027                                                              ;"
                                          T=0"
34470 000077A6 3023                   M           CMP/GE  R2,R0                                   ;
34471 000077A8 8B01                   M           BF      JMPED00027                                                              ;
34472 000077AA 9428                   M           MOV.W   #BIT13,R4                                       ;
34473 000077AC 274B                   M           OR              R4,R7                                   ;
34474                                 M   
34475 000077AE                        M   JMPED00027:                                                                     ;
34476                             726 I1  
34477                             727 I1  ;       ----------DEBUG --------------
34478                             728 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
34479                             729 I1  ;;      MOV.W   R0,@R1                                          ;+data ok
34480                             730 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;
34481                             731 I1  ;;      MOV.W   R3,@R1                                          ;-data ok
34482                             732 I1  
34483 000077AE D11C               733 I1          MOV.L   #_SVP_SLID_POS2,R1              ;.SRES  4       ;ｽﾗｲﾄﾞ位置　段取1
34484 000077B0 6312               734 I1          MOV.L   @R1,R3                                  ;
34485 000077B2 6063               735 I1          MOV             R6,R0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   512
PROGRAM NAME =

34486 000077B4 303C               736 I1          ADD             R3,R0                                           ;R0 +
34487 000077B6 3368               737 I1          SUB             R6,R3                                           ;R3 -
34488                             738 I1          AREA_CHK_BITSET  UP_REG=R0,DN_REG=R3,PV_REG=R2,ANS_REG=R7,BITn=BIT14,WKREG=R4
34489 000077B8 3233                   M           CMP/GE  R3,R2
                                          ;PV >= MIN
34490 000077BA 8B03                   M           BF      JMPED00028                                                              ;"
                                          T=0"
34491 000077BC 3023                   M           CMP/GE  R2,R0                                   ;
34492 000077BE 8B01                   M           BF      JMPED00028                                                              ;
34493 000077C0 941E                   M           MOV.W   #BIT14,R4                                       ;
34494 000077C2 274B                   M           OR              R4,R7                                   ;
34495                                 M   
34496 000077C4                        M   JMPED00028:                                                                     ;
34497                             739 I1  
34498                             740 I1  ;       ----------DEBUG --------------
34499                             741 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
34500                             742 I1  ;;      MOV.W   R0,@R1                                          ;+data ok
34501                             743 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;
34502                             744 I1  ;;      MOV.W   R3,@R1                                          ;-data ok
34503                             745 I1  
34504 000077C4 D117               746 I1          MOV.L   #_SVP_SLID_POS3,R1              ;.SRES  4       ;ｽﾗｲﾄﾞ位置　段取2
34505 000077C6 6312               747 I1          MOV.L   @R1,R3                                  ;
34506 000077C8 6063               748 I1          MOV             R6,R0
34507 000077CA 303C               749 I1          ADD             R3,R0                                           ;R0 +
34508 000077CC 3368               750 I1          SUB             R6,R3                                           ;R3 -
34509                             751 I1          AREA_CHK_BITSET  UP_REG=R0,DN_REG=R3,PV_REG=R2,ANS_REG=R7,BITn=BIT15,WKREG=R4
34510 000077CE 3233                   M           CMP/GE  R3,R2
                                          ;PV >= MIN
34511 000077D0 8B03                   M           BF      JMPED00029                                                              ;"
                                          T=0"
34512 000077D2 3023                   M           CMP/GE  R2,R0                                   ;
34513 000077D4 8B01                   M           BF      JMPED00029                                                              ;
34514 000077D6 9414                   M           MOV.W   #BIT15,R4                                       ;
34515 000077D8 274B                   M           OR              R4,R7                                   ;
34516                                 M   
34517 000077DA                        M   JMPED00029:                                                                     ;
34518                             752 I1  
34519                             753 I1  ;;;2021-06-24   MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
34520                             754 I1  ;;;2021-06-24   MOV.W   R0,@R1                                          ;+data ok
34521                             755 I1  ;;;2021-06-24   MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;
34522                             756 I1  ;;;2021-06-24   MOV.W   R3,@R1                                          ;-data ok
34523                             757 I1  
34524                             758 I1  
34525 000077DA 6073               759 I1          MOV             R7,R0                                                   ;
34526 000077DC D112               760 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;251
34527 000077DE 6211               761 I1          MOV.W   @R1,R2                                                  ;
34528 000077E0 9410               762 I1          MOV.W   #(BIT15|BIT14|BIT13),R4         ;
34529 000077E2 2049               763 I1          AND             R4,R0
34530 000077E4 6447               764 I1          NOT             R4,R4
34531 000077E6 2249               765 I1          AND             R4,R2
34532 000077E8 220B               766 I1          OR              R0,R2
34533 000077EA D10F               767 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB251,R1             ;251
34534 000077EC 2121               768 I1          MOV.W   R2,@R1                                          ;ok
34535                             769 I1  
34536                             770 I1  
34537                             771 I1  ;--------------------------------------
34538                             772 I1  ;;      MOV.L   #_SET1_ATSLID_COEF1,R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   513
PROGRAM NAME =

34539                             773 I1  ;;      MOV.L   @R1,R2                                          ;
34540                             774 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
34541                             775 I1  ;;      MOV.W   R2,@R1                                          ;
34542                             776 I1  
34543                             777 I1  ;;      MOV.L   #_SET1_ATSLID_COEF2,R1          ;
34544                             778 I1  ;;      MOV.L   @R1,R2                                          ;
34545                             779 I1  ;;      MOV.L   #_SQ_CBWK_TOP+_WKSQCB246,R1     ;
34546                             780 I1  ;;      MOV.W   R2,@R1                                          ;
34547                             781 I1  
34548                             782 I1          SUB_END
34549                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34550 000077EE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34551                             783 I1          M_RTS
34552 000077F0 000B                   M           RTS                             ;RTSの後ろの
34553 000077F2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34554                             784 I1  
34555                             785 I1  
34556                           11190     
34557                           11191     
34558                           11192     
34559                           11193     
34560                           11194     
34561                           11195     
34562                           11196     
34563                           11197     
34564                           11198     
34565                           11199     
34566                           11200     
34567                           11201     
34568                           11202     
34569                           11203     
34570                           11204     
34571                           11205     
34572                           11206     
34573                           11207     
34574                           11208     
34575                           11209     
34576                           11210     
34577                           11211     
34578                           11212     
34579                           11213     
34580                           11214     
34581                           11215     
34582                           11216     
34583                           11217     ;       ***************************************************
34584                           11218     ;       ***                                             ***
34585                           11219     ;       ***                                             ***
34586                           11220     ;       ***                                             ***
34587                           11221     ;       ***                                             ***
34588                           11222     ;       ***             CPUBの高速化                    ***
34589                           11223     ;       ***             2013-03-15                      ***
34590                           11224     ;       ***                                             ***
34591                           11225     ;       ***                                             ***
34592                           11226     ;       ***                                             ***
34593                           11227     ;       ***                                             ***
34594                           11228     ;       ***                                             ***
34595                           11229     ;       ***************************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   514
PROGRAM NAME =

34596                                     ***** BEGIN-POOL *****
34597 000077F4 0001                       DATA FOR SOURCE-LINE 685
34598 000077F6 000A                       DATA FOR SOURCE-LINE 688
34599 000077F8 0064                       DATA FOR SOURCE-LINE 691
34600 000077FA 03E8                       DATA FOR SOURCE-LINE 694
34601 000077FC 7530                       DATA FOR SOURCE-LINE 709
34602 000077FE 2000                       DATA FOR SOURCE-LINE 725
34603 00007800 4000                       DATA FOR SOURCE-LINE 738
34604 00007802 8000                       DATA FOR SOURCE-LINE 751
34605 00007804 E000                       DATA FOR SOURCE-LINE 762
34606 00007806 0000                       ALIGNMENT CODE
34607 00007808 00000000                   DATA FOR SOURCE-LINE 683
34608 0000780C 00000000                   DATA FOR SOURCE-LINE 698
34609 00007810 00000000                   DATA FOR SOURCE-LINE 702
34610 00007814 00000000                   DATA FOR SOURCE-LINE 712
34611 00007818 00000000                   DATA FOR SOURCE-LINE 715
34612 0000781C 00000000                   DATA FOR SOURCE-LINE 720
34613 00007820 00000000                   DATA FOR SOURCE-LINE 733
34614 00007824 00000000                   DATA FOR SOURCE-LINE 746
34615 00007828 00000000                   DATA FOR SOURCE-LINE 760,767
34616                                     ***** END-POOL *****
34617 0000782C                  11230             .ALIGN  4                                       ;
34618                           11231             .AIF    3 EQ 3          ;
34619 00000000                  11232 C           .SECTION        PHiROM,CODE                     ;
34620                           11233             .AENDI                                          ;
34621                           11234     
34622                           11235     ;
34623                           11236     ;
34624                           11237     ;
34625                           11238     ;
34626                           11239     ;
34627 00000000                  11240             .ALIGN  4                                               ;
34628                           11241     ;       *******************************************
34629                           11242     ;       ***                                     ***
34630                           11243     ;       ***     2006-09-19                      ***
34631                           11244     ;       ***                                     ***
34632                           11245     ;       ***     ﾊﾟﾙｽ管理                        ***
34633                           11246     ;       ***     (位置決め部分での処理)          ***
34634                           11247     ;       ***                                     ***
34635                           11248     ;       *******************************************
34636                           11249     ;       Input :現在位置(出力ﾊﾟﾙｽ側)    [8byte]
34637                           11250     ;       Input :最終停止位置(出力ﾊﾟﾙｽ上)[8byte]
34638                           11251     ;       Input :設定速度(0.01%単位)     [4byte]
34639                           11252     ;       Input :制御周期 TIME-LATE:1/1000
34640                           11253     ;       Input :加速度(0.001%/s/s)[4byte]
34641                           11254     ;       Input :
34642                           11255     ;       Input :処理状態：起動/減速停止/処理継続
34643                           11256     ;       Output:加速度書換え
34644                           11257     ;
34645                           11258     ;       *******************************************
34646                           11259     ;       ***                                     ***
34647                           11260     ;       ***                                     ***
34648                           11261     ;       ***             主制御                  ***
34649                           11262     ;       ***     (ここは標準・ふりこ共通)        ***
34650                           11263     ;       ***                                     ***
34651                           11264     ;       ***                                     ***
34652                           11265     ;       *******************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   515
PROGRAM NAME =

34653                           11266     ;_POSCTL_STEP_FLG BIT0 ACTIVE
34654                           11267     ;                 BIT1 減速ｺﾏﾝﾄﾞ
34655                           11268     ;                 BIT2 最終減速ﾗｯﾁ：解除は目標位置変更
34656                           11269     ;                 BIT6:END
34657 00000000                  11270             .ALIGN  4                               ;
34658 00000000                  11271     _PLS_LSI_CTRL:
34659                           11272             SUB_START
34660 00000000 4F22                   M           STS.L   PR,@-R15                ;[必要]
34661                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34662                           11273     
34663                           11274     
34664                           11275     ;       ---------------最終目標位置-----------
34665 00000002 D410             11276             MOV.L   #_LINK_SV_OBJ_ABSPLS,R4                 ;LINKX_SV_OBJ_ABSPLSの場合があるか
                                          も
34666 00000004 6146             11277             MOV.L   @R4+,R1                                 ;
34667 00000006 6242             11278             MOV.L   @R4,R2                                  ;
34668 00000008 D40F             11279             MOV.L   #_POSCTL_SV_PLS,R4                      ;SV
34669 0000000A 5540             11280             MOV.L   @(0,R4),R5                              ;
34670 0000000C 5641             11281             MOV.L   @(4,R4),R6                              ;
34671 0000000E 1410             11282             MOV.L   R1,@(0,R4)                              ;
34672 00000010 1421             11283             MOV.L   R2,@(4,R4)                              ;
34673                           11284     
34674 00000012 251A             11285             XOR     R1,R5
34675 00000014 262A             11286             XOR     R2,R6                                   ;
34676 00000016 265B             11287             OR      R5,R6                                   ;
34677 00000018 2668             11288             TST     R6,R6                                   ;
34678                           11289             TST_BIT_OF PLS_LSICTRL_050                      ;
34679 0000001A 8903                   M           BT      PLS_LSICTRL_050
34680                           11290             MEM1_BIT0_TO_BIT7_ANDCLR MEM=_POSCTL_STEP_FLG,LG=W,BIT=~BIT2,WKREG=R1   ;
34681 0000001C D10B                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
34682 0000001E 6011                   M           MOV.W   @R1,R0          ;
34683 00000020 C9FB                   M           AND     #LOW ~BIT2,R0           ;
34684 00000022 2101                   M           MOV.W   R0,@R1          ;
34685                           11291     
34686 00000024                  11292     PLS_LSICTRL_050                 ;
34687                           11293     
34688                           11294     
34689                           11295     ;       ---------------リアルタイム目標位置-----------
34690 00000024 D40A             11296             MOV.L   #_LINK_RL_OBJ_ABSPLS,R4                 ;
34691 00000026 6146             11297             MOV.L   @R4+,R1                                 ;
34692 00000028 6242             11298             MOV.L   @R4,R2                                  ;
34693 0000002A D40A             11299             MOV.L   #_POSCTL_RL_PLS,R4                      ;RL
34694 0000002C 1410             11300             MOV.L   R1,@(0,R4)                              ;
34695 0000002E 1421             11301             MOV.L   R2,@(4,R4)                              ;
34696                           11302     
34697                           11303     
34698                           11304     ;       ==================================================
34699 00000030 D109             11305             MOV.L   #_POS_HLDSTOP1_FLG,R1                   ;
34700 00000032 6011             11306             MOV.W   @R1,R0                                  ;
34701 00000034 C801             11307             TST     #BIT0,R0                                ;HOLD減速
34702                           11308             TST_BIT_OF PLS_LSICTRL_070                      ;
34703 00000036 8915                   M           BT      PLS_LSICTRL_070
34704                           11309     
34705                           11310     ;       ---------------------------------
34706 00000038 D108             11311             MOV.L   #_POSHLD_SET_DN_ACC,R1                  ;//位置決めキャンセル減速
34707 0000003A 6212             11312             MOV.L   @R1,R2                                  ;
34708 0000003C D108             11313             MOV.L   #_POSCTL_SV_DN_ACC,R1                   ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   516
PROGRAM NAME =

34709 0000003E 2122             11314             MOV.L   R2,@R1                                  ;
34710                           11315             M_BRA   PLS_LSICTRL_080                         ;
34711 00000040 A018                   M           BRA     PLS_LSICTRL_080
34712 00000042 0009                   M           NOP
34713                           11316     
34714                                     ***** BEGIN-POOL *****
34715 00000044 00000000                   DATA FOR SOURCE-LINE 11276
34716 00000048 00000000                   DATA FOR SOURCE-LINE 11279
34717 0000004C 00000000                   DATA FOR SOURCE-LINE 11290
34718 00000050 00000000                   DATA FOR SOURCE-LINE 11296
34719 00000054 00000000                   DATA FOR SOURCE-LINE 11299
34720 00000058 00000000                   DATA FOR SOURCE-LINE 11305
34721 0000005C 00000000                   DATA FOR SOURCE-LINE 11311
34722 00000060 00000000                   DATA FOR SOURCE-LINE 11313
34723                                     ***** END-POOL *****
34724 00000064                  11317     PLS_LSICTRL_070                                 ;
34725                           11318     ;       --------- ｵｰﾊﾞﾗｲﾄﾞ転送---- -----------
34726                           11319             MEM_MOV_TO_MEM  _SET_UP_ACC_LATE,L,_POSCTL_SV_UP_ACC,L,R1,R2,R3 ;
34727 00000064 D119                   M           MOV.L   #_SET_UP_ACC_LATE,R1
34728 00000066 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
34729 00000068 D319                   M           MOV.L   #_POSCTL_SV_UP_ACC,R3   ;DST_ADR
34730 0000006A 2322                   M           MOV.L   R2,@R3  ;DST_ADR
34731                           11320             MEM_MOV_TO_MEM  _SET_DN_ACC_LATE,L,_POSCTL_SV_DN_ACC,L,R1,R2,R3 ;
34732 0000006C D119                   M           MOV.L   #_SET_DN_ACC_LATE,R1
34733 0000006E 6212                   M           MOV.L   @R1,R2  ;WK1=SRC_ADR WK2=data
34734 00000070 D319                   M           MOV.L   #_POSCTL_SV_DN_ACC,R3   ;DST_ADR
34735 00000072 2322                   M           MOV.L   R2,@R3  ;DST_ADR
34736                           11321     
34737 00000074                  11322     PLS_LSICTRL_080                                 ;
34738                           11323     
34739                           11324     
34740                           11325     
34741                           11326     
34742 00000074 D319             11327             MOV.L   #_POSCTL_SET_SPD,R3                     ;速度
34743 00000076 6232             11328             MOV.L   @R3,R2                                  ;
34744                           11329             FAR_JSR #_OVER_LIDE_SPD_CALC,R0                 ;INPUT R2-OUTPUT R2
34745 00000078 D019                   M           MOV.L   #_OVER_LIDE_SPD_CALC,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34746 0000007A 400B                   M           JSR     @R0                     ;
34747 0000007C 0009                   M           NOP                                     ;
34748                           11330     
34749                           11331     
34750                           11332     ;       -------------2013-02-15 速度上限制限[ここはふりこも共通]-----------------------
34751                           11333             FAR_JSR #_SPD_UPLIMT_CALC,R0                    ;INPUT R2-OUTPUT R2
34752 0000007E D019                   M           MOV.L   #_SPD_UPLIMT_CALC,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34753 00000080 400B                   M           JSR     @R0                     ;
34754 00000082 0009                   M           NOP                                     ;
34755                           11334     ;       --------------------------------------------------------------
34756                           11335     
34757                           11336             FAR_JSR #_CNT_REST_HOSEI_SPD_TYP,R0             ;INPUT R2 OUTPUT R2
34758 00000084 D018                   M           MOV.L   #_CNT_REST_HOSEI_SPD_TYP,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34759 00000086 400B                   M           JSR     @R0                     ;
34760 00000088 0009                   M           NOP                                     ;
34761                           11337     
34762                           11338     
34763 0000008A D118             11339             MOV.L   #_POSCTL_SV_SPD,R1                      ;
34764 0000008C 2122             11340             MOV.L   R2,@R1                                  ;
34765                           11341     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   517
PROGRAM NAME =

34766                           11342     ;       ========== 管理=============
34767 0000008E D118             11343             MOV.L   #_POSCTL_STEP_FLG,R1                    ;//0(IDLE) BIT0/BIT6 (BIT2,3,4 減
                                          速関連)
34768 00000090 6011             11344             MOV.W   @R1,R0                                  ;
34769 00000092 C840             11345             TST     #BIT6,R0                                ;終了?
34770                           11346             TST_BIT_ON PLS_LSICTRL_END                      ;
34771 00000094 8B45                   M           BF      PLS_LSICTRL_END
34772                           11347     
34773 00000096 C801             11348             TST     #BIT0,R0                                ;ACTIVE
34774                           11349             TST_BIT_ON PLS_LSICTRL_100                      ;
34775 00000098 8B09                   M           BF      PLS_LSICTRL_100
34776                           11350     
34777                           11351     ;       --- 停止中---
34778 0000009A D116             11352             MOV.L   #_POSCTL_STEP_CMD,R1                    ;
34779 0000009C 6011             11353             MOV.W   @R1,R0                                  ;
34780 0000009E 8801             11354             CMP/EQ  #1,R0                                   ;起動?
34781 000000A0 8B3F             11355             BF      PLS_LSICTRL_END                         ;NO
34782                           11356     
34783                           11357             FAR_JSR #_PLS_LSI_CTL_INI,R0                    ;起動
34784 000000A2 D015                   M           MOV.L   #_PLS_LSI_CTL_INI,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34785 000000A4 400B                   M           JSR     @R0                     ;
34786 000000A6 0009                   M           NOP                                     ;
34787 000000A8 900F             11358             MOV.W   #BIT0,R0                                ;
34788                           11359             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_FLG,L1=W,DT_REG=R0,WKREG1=R1
34789 000000AA D111                   M           MOV.L   #_POSCTL_STEP_FLG,R1    ;DST_ADR
34790 000000AC 2101                   M           MOV.W   R0,@R1  ;DST_ADR
34791                           11360     
34792 000000AE                  11361     PLS_LSICTRL_100:
34793 000000AE D111             11362             MOV.L   #_POSCTL_STEP_CMD,R1                    ;//3:EMG停止(速度=0) 1:起動ｺﾏﾝﾄﾞ 2
                                          :(減速停止)
34794 000000B0 6011             11363             MOV.W   @R1,R0                                  ;EMG-STOP
34795 000000B2 8803             11364             CMP/EQ  #3,R0                                   ;
34796 000000B4 8B24             11365             BF      PLS_LSICTRL_200                         ;
34797                           11366     
34798 000000B6 200A             11367             XOR     R0,R0                                   ;
34799                           11368             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_FLG,L1=W,DT_REG=R0,WKREG1=R1
34800 000000B8 D10D                   M           MOV.L   #_POSCTL_STEP_FLG,R1    ;DST_ADR
34801 000000BA 2101                   M           MOV.W   R0,@R1  ;DST_ADR
34802                           11369             REG_MOV_TO_MEM  DST_ADR=_POSCTL_STEP_CMD,L1=W,DT_REG=R0,WKREG1=R1
34803 000000BC D10D                   M           MOV.L   #_POSCTL_STEP_CMD,R1    ;DST_ADR
34804 000000BE 2101                   M           MOV.W   R0,@R1  ;DST_ADR
34805                           11370     
34806                           11371             FAR_JSR #_PLS_LSI_SPEED_OFF,R0                  ;
34807 000000C0 D00E                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34808 000000C2 400B                   M           JSR     @R0                     ;
34809 000000C4 0009                   M           NOP                                     ;
34810                           11372             M_BRA   PLS_LSICTRL_END                         ;
34811 000000C6 A02C                   M           BRA     PLS_LSICTRL_END
34812 000000C8 0009                   M           NOP
34813                           11373     
34814                                     ***** BEGIN-POOL *****
34815 000000CA 0001                       DATA FOR SOURCE-LINE 11358
34816 000000CC 00000000                   DATA FOR SOURCE-LINE 11319
34817 000000D0 00000000                   DATA FOR SOURCE-LINE 11319
34818 000000D4 00000000                   DATA FOR SOURCE-LINE 11320
34819 000000D8 00000000                   DATA FOR SOURCE-LINE 11320
34820 000000DC 00000000                   DATA FOR SOURCE-LINE 11327
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   518
PROGRAM NAME =

34821 000000E0 00000000                   DATA FOR SOURCE-LINE 11329
34822 000000E4 00000000                   DATA FOR SOURCE-LINE 11333
34823 000000E8 00000000                   DATA FOR SOURCE-LINE 11336
34824 000000EC 00000000                   DATA FOR SOURCE-LINE 11339
34825 000000F0 00000000                   DATA FOR SOURCE-LINE 11343,11359,11368
34826 000000F4 00000000                   DATA FOR SOURCE-LINE 11352,11362,11369
34827 000000F8 00000000                   DATA FOR SOURCE-LINE 11357
34828 000000FC 00000000                   DATA FOR SOURCE-LINE 11371
34829                                     ***** END-POOL *****
34830 00000100                  11374     PLS_LSICTRL_200:
34831                           11375     
34832                           11376     ;       ----------- ふりこ加減速と通常加減速を分ける---
34833                           11377     ;;;;2010-09-27 ふりこのため     FAR_JSR #_PLS_LSI_CTL_CALC,R0                   ;
34834                           11378     
34835 00000100 D104             11379             MOV.L   #_DNM_ACC_CALFLG,R1             ;//0/1
34836 00000102 6011             11380             MOV.W   @R1,R0                          ;
34837 00000104 8801             11381             CMP/EQ  #1,R0                           ;
34838 00000106 8B09             11382             BF      PLS_LSICTRL_220                 ;
34839                           11383             FAR_JSR #_DNM_PLS_LSICTL_CALC,R0        ;
34840 00000108 D003                   M           MOV.L   #_DNM_PLS_LSICTL_CALC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34841 0000010A 400B                   M           JSR     @R0                     ;
34842 0000010C 0009                   M           NOP                                     ;
34843                           11384             M_BRA   PLS_LSICTRL_END                 ;ふりこ加減速
34844 0000010E A008                   M           BRA     PLS_LSICTRL_END
34845 00000110 0009                   M           NOP
34846                           11385     
34847                                     ***** BEGIN-POOL *****
34848 00000112 0000                       ALIGNMENT CODE
34849 00000114 00000000                   DATA FOR SOURCE-LINE 11379
34850 00000118 00000000                   DATA FOR SOURCE-LINE 11383
34851                                     ***** END-POOL *****
34852 0000011C                  11386     PLS_LSICTRL_220:
34853                           11387             FAR_JSR #_PLS_LSI_CTL_CALC,R0           ;通常減速
34854 0000011C D002                   M           MOV.L   #_PLS_LSI_CTL_CALC,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34855 0000011E 400B                   M           JSR     @R0                     ;
34856 00000120 0009                   M           NOP                                     ;
34857                           11388     
34858 00000122                  11389     PLS_LSICTRL_END:
34859                           11390     
34860                           11391     ;       -------- 2013-07-18 DEBUG ----------
34861                           11392     ;;;;;;;;;;;;;;;;        MOV.L   #_POSCTL_CALC_ERR,R1                    ;BIT0:起動時
34862                           11393     ;;;;;;;;;;;;;;;;        MOV.W   @R1,R0                                  ;BIT1:減速時
34863                           11394     ;;;;;;;;;;;;;;;;        MOV.L   #_SQ_CBWK_TOP+_WKSQCB239,R1             ;
34864                           11395     ;;;;;;;;;;;;;;;;        MOV.W   R0,@R1                                  ;
34865                           11396     
34866                           11397             SUB_END
34867                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
34868 00000122 4F26                   M           LDS.L   @R15+,PR                ;[必要]
34869                           11398             M_RTS
34870 00000124 000B                   M           RTS                             ;RTSの後ろの
34871 00000126 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
34872                           11399     
34873                           11400     ;       *******************************************
34874                           11401     ;       ***                                     ***
34875                           11402     ;       ***                                     ***
34876                           11403     ;       ***             加減速演算              ***
34877                           11404     ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   519
PROGRAM NAME =

34878                           11405     ;       ***                                     ***
34879                           11406     ;       ***                                     ***
34880                           11407     ;       *******************************************
34881                           11408     
34882                                     ***** BEGIN-POOL *****
34883 00000128 00000000                   DATA FOR SOURCE-LINE 11387
34884                                     ***** END-POOL *****
34885 0000012C                  11409             .ALIGN  4                               ;
34886 0000012C                  11410     _PLS_LSI_CTL_CALC:
34887                           11411             SUB_START
34888 0000012C 4F22                   M           STS.L   PR,@-R15                ;[必要]
34889                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
34890                           11412     
34891                           11413     ;       --------- 2010-09-27 残りパルス演算の共通化----
34892                           11414             FAR_JSR #_ACC_REST_INFO_MAKE,R0
34893 0000012E D005                   M           MOV.L   #_ACC_REST_INFO_MAKE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34894 00000130 400B                   M           JSR     @R0                     ;
34895 00000132 0009                   M           NOP                                     ;
34896                           11415     
34897                           11416     
34898 00000134 D104             11417             MOV.L   #_POSCTL_STEP_FLG,R1                                            ;//0(IDLE)
                                           BIT0/BIT6 END (BIT1 LATCH)
34899 00000136 6011             11418             MOV.W   @R1,R0                                                          ;
34900 00000138 C802             11419             TST     #BIT1,R0                                                        ;
34901                           11420             TST_BIT_ON PLS_LSI_CTLCAL_020                                           ;強制減速
                                          停止中(寸動停止)
34902 0000013A 8B07                   M           BF      PLS_LSI_CTLCAL_020
34903 0000013C C804             11421             TST     #BIT2,R0                                                        ;
34904                           11422             TST_BIT_ON PLS_LSI_CTLCAL_050                                           ;最終減速
                                          状態YES
34905 0000013E 8B11                   M           BF      PLS_LSI_CTLCAL_050
34906                           11423             M_BRA   PLS_LSI_CTLCAL_100                                              ;
34907 00000140 A012                   M           BRA     PLS_LSI_CTLCAL_100
34908 00000142 0009                   M           NOP
34909                           11424     
34910                                     ***** BEGIN-POOL *****
34911 00000144 00000000                   DATA FOR SOURCE-LINE 11414
34912 00000148 00000000                   DATA FOR SOURCE-LINE 11417
34913                                     ***** END-POOL *****
34914 0000014C                  11425     PLS_LSI_CTLCAL_020
34915                           11426     ;       --- 減速コマンドラッチ---
34916 0000014C D103             11427             MOV.L   #_POSCTL_SV_OFS_SPD,R1                                          ;//自起動
                                          PLS/S
34917 0000014E 6212             11428             MOV.L   @R1,R2                                                          ;
34918 00000150 D503             11429             MOV.L   #_POSCTL_RL_SPD,R5                                              ;
34919 00000152 6352             11430             MOV.L   @R5,R3                                                          ;
34920 00000154 3326             11431             CMP/HI  R2,R3                                                           ;R2(SV) <
                                          R3(NOW)
34921 00000156 8905             11432             BT      PLS_LSI_CTLCAL_050                                              ;YES
34922                           11433             M_BRA   PLS_LSI_CTLCAL_800                                              ;(減速停止
                                          )終了処理
34923 00000158 A076                   M           BRA     PLS_LSI_CTLCAL_800
34924 0000015A 0009                   M           NOP
34925                                     ***** BEGIN-POOL *****
34926 0000015C 00000000                   DATA FOR SOURCE-LINE 11427
34927 00000160 00000000                   DATA FOR SOURCE-LINE 11429
34928                                     ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   520
PROGRAM NAME =

34929 00000164                  11434     PLS_LSI_CTLCAL_050:
34930                           11435             M_BRA   PLS_LSI_CTLCAL_700                                              ;減速処理
34931 00000164 A040                   M           BRA     PLS_LSI_CTLCAL_700
34932 00000166 0009                   M           NOP
34933                           11436     
34934 00000168                  11437     PLS_LSI_CTLCAL_100:
34935 00000168 D104             11438             MOV.L   #_POSCTL_STEP_CMD,R1                                            ;//3:EMG停
                                          止(速度=0) 1:起動ｺﾏﾝﾄﾞ 2:(減速停止)
34936 0000016A 6011             11439             MOV.W   @R1,R0                                                          ;EMG-STOP
34937 0000016C 8802             11440             CMP/EQ  #2,R0                                                           ;減速停止
34938 0000016E 8B09             11441             BF      PLS_LSI_CTLCAL_150                                              ;NO
34939                           11442             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1     ;強制減速
                                          停止指令(寸動停止)
34940 00000170 D103                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
34941 00000172 6011                   M           MOV.W   @R1,R0          ;
34942 00000174 CB02                   M           OR      #BIT1,R0                ;
34943 00000176 2101                   M           MOV.W   R0,@R1          ;
34944                           11443             M_BRA   PLS_LSI_CTLCAL_500                                              ;
34945 00000178 A01E                   M           BRA     PLS_LSI_CTLCAL_500
34946 0000017A 0009                   M           NOP
34947                           11444     
34948                           11445     ;-------通常制御----
34949                                     ***** BEGIN-POOL *****
34950 0000017C 00000000                   DATA FOR SOURCE-LINE 11438
34951 00000180 00000000                   DATA FOR SOURCE-LINE 11442
34952                                     ***** END-POOL *****
34953 00000184                  11446     PLS_LSI_CTLCAL_150:
34954 00000184 D102             11447             MOV.L   #_INT_CLS_CTL_FLG,R1                                            ;
34955 00000186 6011             11448             MOV.W   @R1,R0                                                          ;
34956 00000188 C801             11449             TST     #BIT0,R0                                                        ;
34957                           11450             TST_BIT_OF PLS_LSI_CTLCAL_160                                           ;
34958 0000018A 8903                   M           BT      PLS_LSI_CTLCAL_160
34959                           11451     ;       -----------やるべきことが今一不明--------
34960                           11452             M_BRA   PLS_LSI_CTLCAL_EXT                                              ;
34961 0000018C A079                   M           BRA     PLS_LSI_CTLCAL_EXT
34962 0000018E 0009                   M           NOP
34963                           11453     
34964                           11454     
34965                                     ***** BEGIN-POOL *****
34966 00000190 00000000                   DATA FOR SOURCE-LINE 11447
34967                                     ***** END-POOL *****
34968 00000194                  11455     PLS_LSI_CTLCAL_160:
34969                           11456     
34970                           11457     ;<<<2010-09-21>>>
34971                           11458             FAR_JSR #_CMP_POSLSI_CTLGENSOK,R0                                       ;<<<2010-0
                                          9-21>>>
34972 00000194 D006                   M           MOV.L   #_CMP_POSLSI_CTLGENSOK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
34973 00000196 400B                   M           JSR     @R0                     ;
34974 00000198 0009                   M           NOP                                     ;
34975                           11459     
34976 0000019A 2008             11460             TST     R0,R0                                                           ;
34977                           11461             TST_BIT_OF PLS_LSI_CTLCAL_500
34978 0000019C 890C                   M           BT      PLS_LSI_CTLCAL_500
34979 0000019E 8801             11462             CMP/EQ  #1,R0                                                           ;
34980 000001A0 8922             11463             BT      PLS_LSI_CTLCAL_700
34981                           11464     ;       ----- ABNOMAL CALC------                                                ;
34982                           11465             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_CALC_ERR,LG=W,BIT=BIT1,WKREG=R4     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   521
PROGRAM NAME =

34983 000001A2 D404                   M           MOV.L   #_POSCTL_CALC_ERR,R4            ;
34984 000001A4 6041                   M           MOV.W   @R4,R0          ;
34985 000001A6 CB02                   M           OR      #BIT1,R0                ;
34986 000001A8 2401                   M           MOV.W   R0,@R4          ;
34987                           11466             M_BRA   PLS_LSI_CTLCAL_700
34988 000001AA A01D                   M           BRA     PLS_LSI_CTLCAL_700
34989 000001AC 0009                   M           NOP
34990                           11467     ;;;;;;  M_BRA   PLS_LSI_CTLCAL_ERR      手動ﾊﾟﾙｻでうまくいかない 2013-06-20
34991                           11468     
34992                           11469     ;       ===== 距離がありそう =====
34993                                     ***** BEGIN-POOL *****
34994 000001AE 0000                       ALIGNMENT CODE
34995 000001B0 00000000                   DATA FOR SOURCE-LINE 11458
34996 000001B4 00000000                   DATA FOR SOURCE-LINE 11465
34997                                     ***** END-POOL *****
34998 000001B8                  11470     PLS_LSI_CTLCAL_500:                                                             ;
34999                           11471     ;<<<2010-09-21>>>
35000                           11472     ;;;;;;2015-03-10        FAR_JSR #_PLS_LSI_SPD_ACC_ADD,R0
                                          ;<<<2010-09-21>>>
35001                           11473     ;;;;;;2015-03-10
35002                           11474     ;;;;;;2015-03-10        TST     R0,R0
                                          ;
35003                           11475     ;;;;;;2015-03-10        TST_BIT_OF PLS_LSI_CTLCAL_EXT
                                          ;書き換えない
35004                           11476     ;;;;;;2015-03-10        FAR_JSR #_PLS_LSI_CTL_SPDSET,R0
                                          ;LSI SET
35005                           11477     ;;;;;;2015-03-10        M_BRA   PLS_LSI_CTLCAL_900
                                          ;
35006                           11478     
35007                           11479     ;       --------- 自起動速度設定の動作も対応[各機種共通事項]-----------
35008                           11480             FAR_JSR #_PLS_LSI_SPD_ACC_ADD,R0                                        ;<<<2010-0
                                          9-21>>>
35009 000001B8 D005                   M           MOV.L   #_PLS_LSI_SPD_ACC_ADD,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35010 000001BA 400B                   M           JSR     @R0                     ;
35011 000001BC 0009                   M           NOP                                     ;
35012 000001BE 2008             11481             TST     R0,R0                                                           ;
35013                           11482             TST_BIT_ON PLS_LSI_CTLCAL_580
35014 000001C0 8B0A                   M           BF      PLS_LSI_CTLCAL_580
35015                           11483     
35016                           11484     ;       ---払い出し完了ならやめる---------
35017                           11485             FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;
35018 000001C2 D004                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35019 000001C4 400B                   M           JSR     @R0                     ;
35020 000001C6 0009                   M           NOP                                     ;
35021 000001C8 C804             11486             TST     #BIT2,R0                        ;停止?
35022                           11487             TST_BIT_ON PLS_LSI_CTLCAL_800           ;YES:
35023 000001CA 8B3D                   M           BF      PLS_LSI_CTLCAL_800
35024                           11488             M_BRA   PLS_LSI_CTLCAL_EXT              ;
35025 000001CC A059                   M           BRA     PLS_LSI_CTLCAL_EXT
35026 000001CE 0009                   M           NOP
35027                           11489     
35028                                     ***** BEGIN-POOL *****
35029 000001D0 00000000                   DATA FOR SOURCE-LINE 11480
35030 000001D4 00000000                   DATA FOR SOURCE-LINE 11485
35031                                     ***** END-POOL *****
35032 000001D8                  11490     PLS_LSI_CTLCAL_580:
35033                           11491             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;LSI SET
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   522
PROGRAM NAME =

35034 000001D8 D002                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35035 000001DA 400B                   M           JSR     @R0                     ;
35036 000001DC 0009                   M           NOP                                     ;
35037                           11492             M_BRA   PLS_LSI_CTLCAL_900                                              ;
35038 000001DE A042                   M           BRA     PLS_LSI_CTLCAL_900
35039 000001E0 0009                   M           NOP
35040                           11493     
35041                           11494     
35042                           11495     
35043                           11496     ;------------最終減速処理(自動・手動ともこの演算を行なう)----------
35044                                     ***** BEGIN-POOL *****
35045 000001E2 0000                       ALIGNMENT CODE
35046 000001E4 00000000                   DATA FOR SOURCE-LINE 11491
35047                                     ***** END-POOL *****
35048 000001E8                  11497     PLS_LSI_CTLCAL_700:
35049                           11498             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT2,WKREG=R1     ;減速中
35050 000001E8 D111                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
35051 000001EA 6011                   M           MOV.W   @R1,R0          ;
35052 000001EC CB04                   M           OR      #BIT2,R0                ;
35053 000001EE 2101                   M           MOV.W   R0,@R1          ;
35054                           11499     ;       ---払い出し完了ならやめる---------
35055                           11500             FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;
35056 000001F0 D010                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35057 000001F2 400B                   M           JSR     @R0                     ;
35058 000001F4 0009                   M           NOP                                     ;
35059 000001F6 C804             11501             TST     #BIT2,R0                        ;停止?
35060                           11502             TST_BIT_ON PLS_LSI_CTLCAL_820           ;YES:ﾌﾗｸﾞ終了
35061 000001F8 8B2D                   M           BF      PLS_LSI_CTLCAL_820
35062                           11503     
35063                           11504     ;<<<2010-09-21>>>
35064                           11505     ;       ----ここにきたら目標位置が変わるまで加速はしない------
35065 000001FA D50F             11506             MOV.L   #_POSCTL_RL_SPD,R5              ;
35066 000001FC 6252             11507             MOV.L   @R5,R2                          ;
35067 000001FE D40F             11508             MOV.L   #_POSCTL_SV_DN_ACC,R4           ;
35068 00000200 6342             11509             MOV.L   @R4,R3                          ;
35069 00000202 2338             11510             TST     R3,R3                           ;
35070                           11511             TST_BIT_ON PLS_LSI_CTLCAL_720           ;
35071 00000204 8B00                   M           BF      PLS_LSI_CTLCAL_720
35072 00000206 E301             11512             MOV     #1,R3                           ;
35073 00000208                  11513     PLS_LSI_CTLCAL_720:                             ;
35074 00000208 3238             11514             SUB     R3,R2                           ;
35075 0000020A 4211             11515             CMP/PZ  R2                              ;
35076 0000020C 8900             11516             BT      PLS_LSI_CTLCAL_740              ;
35077 0000020E 222A             11517             XOR     R2,R2                           ;
35078 00000210                  11518     PLS_LSI_CTLCAL_740:                             ;
35079                           11519     
35080                           11520     
35081                           11521     
35082 00000210 D10B             11522             MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
35083 00000212 6312             11523             MOV.L   @R1,R3                          ;
35084 00000214 3236             11524             CMP/HI  R3,R2                           ;
35085 00000216 8904             11525             BT      PLS_LSI_CTLCAL_760              ;OFS < CALC
35086 00000218 6233             11526             MOV     R3,R2                           ;MNINLINIT
35087                           11527     ;       -------------------
35088 0000021A D105             11528             MOV.L   #_POSCTL_STEP_FLG,R1            ;
35089 0000021C 6011             11529             MOV.W   @R1,R0                          ;
35090 0000021E C802             11530             TST     #BIT1,R0                        ;手動減速中
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   523
PROGRAM NAME =

35091                           11531             TST_BIT_ON PLS_LSI_CTLCAL_800           ;
35092 00000220 8B12                   M           BF      PLS_LSI_CTLCAL_800
35093                           11532     
35094 00000222                  11533     PLS_LSI_CTLCAL_760:                             ;
35095 00000222 2522             11534             MOV.L   R2,@R5                          ;
35096                           11535             FAR_JSR #_PLS_LSI_CTL_SPDSET,R0         ;LSI SET
35097 00000224 D007                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35098 00000226 400B                   M           JSR     @R0                     ;
35099 00000228 0009                   M           NOP                                     ;
35100                           11536             M_BRA   PLS_LSI_CTLCAL_900              ;
35101 0000022A A01C                   M           BRA     PLS_LSI_CTLCAL_900
35102 0000022C 0009                   M           NOP
35103                           11537     
35104                           11538     ;       -------------終了処理(STEP STOP)----------
35105                                     ***** BEGIN-POOL *****
35106 0000022E 0000                       ALIGNMENT CODE
35107 00000230 00000000                   DATA FOR SOURCE-LINE 11498,11528
35108 00000234 00000000                   DATA FOR SOURCE-LINE 11500
35109 00000238 00000000                   DATA FOR SOURCE-LINE 11506
35110 0000023C 00000000                   DATA FOR SOURCE-LINE 11508
35111 00000240 00000000                   DATA FOR SOURCE-LINE 11522
35112 00000244 00000000                   DATA FOR SOURCE-LINE 11535
35113                                     ***** END-POOL *****
35114 00000248                  11539     PLS_LSI_CTLCAL_800:
35115                           11540             FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
35116 00000248 D008                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35117 0000024A 400B                   M           JSR     @R0                     ;
35118 0000024C 0009                   M           NOP                                     ;
35119                           11541             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT5,WKREG=R1     ;DEBUG
35120 0000024E D108                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
35121 00000250 6011                   M           MOV.W   @R1,R0          ;
35122 00000252 CB20                   M           OR      #BIT5,R0                ;
35123 00000254 2101                   M           MOV.W   R0,@R1          ;
35124 00000256                  11542     PLS_LSI_CTLCAL_820:
35125                           11543             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
35126 00000256 D106                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
35127 00000258 6011                   M           MOV.W   @R1,R0          ;
35128 0000025A CB40                   M           OR      #BIT6,R0                ;
35129 0000025C 2101                   M           MOV.W   R0,@R1          ;
35130                           11544             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT3,WKREG=R1     ;DEBUG
35131 0000025E D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
35132 00000260 6011                   M           MOV.W   @R1,R0          ;
35133 00000262 CB08                   M           OR      #BIT3,R0                ;
35134 00000264 2101                   M           MOV.W   R0,@R1          ;
35135                           11545     
35136                           11546             .AIF    1 EQ    0
35137                           11547     
35138                           11548             FAR_JSR #_VIB_PLS_OUT_OF,R0     ;2010-08-23加振動制御
35139                           11549             .AENDI
35140                           11550     
35141 00000266                  11551     PLS_LSI_CTLCAL_900:
35142                           11552             M_BRA   PLS_LSI_CTLCAL_EXT                                              ;
35143 00000266 A00C                   M           BRA     PLS_LSI_CTLCAL_EXT
35144 00000268 0009                   M           NOP
35145                           11553     
35146                                     ***** BEGIN-POOL *****
35147 0000026A 0000                       ALIGNMENT CODE
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   524
PROGRAM NAME =

35148 0000026C 00000000                   DATA FOR SOURCE-LINE 11540
35149 00000270 00000000                   DATA FOR SOURCE-LINE 11541,11543,11544
35150                                     ***** END-POOL *****
35151 00000274                  11554     PLS_LSI_CTLCAL_ERR:
35152                           11555             FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
35153 00000274 D004                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35154 00000276 400B                   M           JSR     @R0                     ;
35155 00000278 0009                   M           NOP                                     ;
35156                           11556             MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
35157 0000027A D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
35158 0000027C 6011                   M           MOV.W   @R1,R0          ;
35159 0000027E CB40                   M           OR      #BIT6,R0                ;
35160 00000280 2101                   M           MOV.W   R0,@R1          ;
35161                           11557     
35162 00000282                  11558     PLS_LSI_CTLCAL_EXT:
35163                           11559     
35164                           11560     
35165                           11561     
35166                           11562     
35167                           11563     
35168                           11564     
35169                           11565             SUB_END
35170                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35171 00000282 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35172                           11566             M_RTS
35173 00000284 000B                   M           RTS                             ;RTSの後ろの
35174 00000286 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35175                           11567     
35176                           11568     ;       *******************************************
35177                           11569     ;       ***                                     ***
35178                           11570     ;       ***                                     ***
35179                           11571     ;       ***             加速・減速              ***
35180                           11572     ;       ***                                     ***
35181                           11573     ;       ***                                     ***
35182                           11574     ;       ***                                     ***
35183                           11575     ;       *******************************************
35184                           11576     ;
35185                           11577     ;       ANS R0:0ﾃﾞｰﾀ変更なし R0:1ﾃﾞｰﾀ変更有り
35186                           11578     ;
35187                                     ***** BEGIN-POOL *****
35188 00000288 00000000                   DATA FOR SOURCE-LINE 11555
35189 0000028C 00000000                   DATA FOR SOURCE-LINE 11556
35190                                     ***** END-POOL *****
35191 00000290                  11579             .ALIGN  4                               ;
35192 00000290                  11580     _PLS_LSI_SPD_ACC_ADD:
35193                           11581             SUB_START
35194 00000290 4F22                   M           STS.L   PR,@-R15                ;[必要]
35195                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35196 00000292 200A             11582             XOR     R0,R0                                           ;
35197 00000294 D107             11583             MOV.L   #_POSCTL_SV_SPD,R1                              ;
35198 00000296 6312             11584             MOV.L   @R1,R3                                          ;
35199 00000298 D507             11585             MOV.L   #_POSCTL_RL_SPD,R5                              ;
35200 0000029A 6252             11586             MOV.L   @R5,R2                                          ;
35201 0000029C 3320             11587             CMP/EQ  R2,R3                                           ;
35202 0000029E 8917             11588             BT      PLS_LSI_SPD_ACCADD_END                          ;SV=REAL
35203 000002A0 3323             11589             CMP/GE  R2,R3                                           ;R2<R3
35204 000002A2 8B0D             11590             BF      PLS_LSI_SPD_ACCADD_200                                  ;NO 減速しろ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   525
PROGRAM NAME =

35205                           11591     ;       ---加速しろ----
35206 000002A4 D405             11592             MOV.L   #_POSCTL_SV_UP_ACC,R4                                   ;500,000/1000
35207 000002A6 6142             11593             MOV.L   @R4,R1                                                  ;
35208 000002A8 321C             11594             ADD     R1,R2
35209 000002AA 3327             11595             CMP/GT  R2,R3                                                   ;
35210 000002AC 890E             11596             BT      PLS_LSI_SPD_ACCADD_300                                  ;R2<R3(SV) THEN そ
                                          のまま加速
35211 000002AE 6233             11597             MOV     R3,R2                                                   ;SV→REAL
35212                           11598             M_BRA   PLS_LSI_SPD_ACCADD_300                                  ;
35213 000002B0 A00C                   M           BRA     PLS_LSI_SPD_ACCADD_300
35214 000002B2 0009                   M           NOP
35215                           11599     
35216                                     ***** BEGIN-POOL *****
35217 000002B4 00000000                   DATA FOR SOURCE-LINE 11583
35218 000002B8 00000000                   DATA FOR SOURCE-LINE 11585
35219 000002BC 00000000                   DATA FOR SOURCE-LINE 11592
35220                                     ***** END-POOL *****
35221 000002C0                  11600     PLS_LSI_SPD_ACCADD_200:
35222                           11601     ;       ---減速しろ---
35223 000002C0 D405             11602             MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
35224 000002C2 6142             11603             MOV.L   @R4,R1                                                  ;
35225 000002C4 3218             11604             SUB     R1,R2                                                   ;
35226 000002C6 3237             11605             CMP/GT  R3,R2                                                   ;
35227 000002C8 8900             11606             BT      PLS_LSI_SPD_ACCADD_300                                  ;R3<R2
35228 000002CA 6233             11607             MOV     R3,R2                                                   ;
35229 000002CC                  11608     PLS_LSI_SPD_ACCADD_300:                                                 ;
35230 000002CC 2522             11609             MOV.L   R2,@R5                                                  ;
35231 000002CE E001             11610             MOV     #1,R0                                                   ;
35232 000002D0                  11611     PLS_LSI_SPD_ACCADD_END:
35233                           11612             SUB_END
35234                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35235 000002D0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35236                           11613             M_RTS
35237 000002D2 000B                   M           RTS                             ;RTSの後ろの
35238 000002D4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35239                           11614     
35240                           11615     
35241                           11616     
35242                           11617     
35243                           11618     ;       *******************************************
35244                           11619     ;       ***                                     ***
35245                           11620     ;       ***     Input R1,R2(残り距離)           ***
35246                           11621     ;       ***     Input R9:SPEED  DATA            ***
35247                           11622     ;       ***     Input R10:OFFSET SPEED          ***
35248                           11623     ;       ***     Input R11:ACC_LATE              ***
35249                           11624     ;       ***                                     ***
35250                           11625     ;       *******************************************
35251                           11626     ;       ANS
35252                           11627     ;       00:KEEP
35253                           11628     ;       01:STOP
35254                           11629     ;       -1:ERR
35255                           11630     ;
35256                                     ***** BEGIN-POOL *****
35257 000002D6 0000                       ALIGNMENT CODE
35258 000002D8 00000000                   DATA FOR SOURCE-LINE 11602
35259                                     ***** END-POOL *****
35260 000002DC                  11631             .ALIGN  4                               ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   526
PROGRAM NAME =

35261 000002DC                  11632     _CMP_SPD_REST_PLSCHKCOM:
35262                           11633             SUB_START
35263 000002DC 4F22                   M           STS.L   PR,@-R15                ;[必要]
35264                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35265 000002DE 4111             11634             CMP/PZ  R1                                              ;
35266 000002E0 8901             11635             BT      CMPSPD_RSTPLS_250                               ;NOMAL
35267                           11636     ;       ----- ABNOMAL CALC------                                ;
35268                           11637             M_BRA   CMP_SPD_REST_ERR                                ;
35269 000002E2 A024                   M           BRA     CMP_SPD_REST_ERR
35270 000002E4 0009                   M           NOP
35271                           11638     
35272 000002E6                  11639     CMPSPD_RSTPLS_250:
35273                           11640     
35274 000002E6 2118             11641             TST     R1,R1                                           ;
35275                           11642             TST_BIT_OF CMPSPD_RSTPLS_280                            ;
35276 000002E8 8901                   M           BT      CMPSPD_RSTPLS_280
35277                           11643             M_BRA   CMP_SPD_REST_MOV                                ;まだまだ残り距離がある(32
                                          bit以上残り距離がある)
35278 000002EA A01D                   M           BRA     CMP_SPD_REST_MOV
35279 000002EC 0009                   M           NOP
35280 000002EE                  11644     CMPSPD_RSTPLS_280:
35281 000002EE D40D             11645             MOV.L   #_GENSOK_LNGTH_MAX,R4                           ;30秒*500KHよりも距離があ
                                          る
35282 000002F0 3243             11646             CMP/GE  R4,R2                                           ;
35283 000002F2 8919             11647             BT      CMP_SPD_REST_MOV                                ;減速距離がまだまだ大きい(
                                          連続でもありえない)
35284                           11648     ;       ---------------------------------------------------
35285                           11649     
35286                           11650     ;       -------減速距離比較------------
35287                           11651     ;       (R2:距離S)
35288                           11652     ;;      MOV.L   #_POSCTL_SV_DN_ACC,R4                                   ;500,000/1000
35289                           11653     ;;      MOV.L   @R4,R11                                                 ;
35290                           11654     
35291 000002F4 9415             11655             MOV.W   #_ACC_UNIT,R4                                           ;α:(PLS/1000)/s/s
35292 000002F6 3B4D             11656             DMULS.L R4,R11                                                  ;α'=α*1000
35293 000002F8 031A             11657             STS     MACL,R3                                                 ;
35294 000002FA 333C             11658             ADD     R3,R3                                                   ;2*α*1000
35295                           11659     
35296 000002FC 332D             11660             DMULS.L R2,R3                                                   ;2*α'*S
35297 000002FE 081A             11661             STS     MACL,R8                                                 ;
35298 00000300 070A             11662             STS     MACH,R7                                                 ;R7,R8=2*α*S
35299                           11663     ;;      MOV.L   #_POSCTL_SV_OFS_SPD,R4                                  ;
35300                           11664     ;;      MOV.L   @R4,R10                                                 ;
35301 00000302 3AAD             11665             DMULS.L R10,R10                                                 ;
35302 00000304 021A             11666             STS     MACL,R2                                                 ;
35303 00000306 010A             11667             STS     MACH,R1                                                 ;
35304                           11668             ADD8B DT_REGH=R7,DT_REGL=R8,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;R1,R2=2*α*S+β*
                                          β
35305 00000308 0008                   M           CLRT
35306 0000030A 328E                   M           ADDC    R8,R2
35307 0000030C 317E                   M           ADDC    R7,R1
35308                           11669     
35309                           11670     ;加速しないならこれでよい。
35310                           11671     ;この状態で演算し、且つ加速した結果でも演算する必要がある。             ;
35311                           11672     ;;      MOV.L   #_POSCTL_RL_SPD,R4                                      ;
35312                           11673     ;;      MOV.L   @R4,R9                                                  ;
35313 0000030E 399D             11674             DMULS.L R9,R9                                                   ;V*V
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   527
PROGRAM NAME =

35314 00000310 061A             11675             STS     MACL,R6                                                 ;
35315 00000312 050A             11676             STS     MACH,R5                                                 ;R5,R6=V*V
35316                           11677     
35317                           11678             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;2*α*S+β*β - V*
                                          V
35318 00000314 0008                   M           CLRT
35319 00000316 326A                   M           SUBC    R6,R2
35320 00000318 315A                   M           SUBC    R5,R1
35321 0000031A 4111             11679             CMP/PZ  R1                                                      ;
35322 0000031C 8904             11680             BT      CMP_SPD_REST_MOV                                        ;
35323                           11681             M_BRA   CMP_SPD_REST_STOP                                       ;
35324 0000031E A009                   M           BRA     CMP_SPD_REST_STOP
35325 00000320 0009                   M           NOP
35326                           11682     
35327                                     ***** BEGIN-POOL *****
35328 00000322 03E8                       DATA FOR SOURCE-LINE 11655
35329 00000324 00E4E1C0                   DATA FOR SOURCE-LINE 11645
35330                                     ***** END-POOL *****
35331 00000328                  11683     CMP_SPD_REST_MOV:
35332 00000328 200A             11684             XOR     R0,R0
35333                           11685             M_BRA   CMP_SPD_REST_END
35334 0000032A A004                   M           BRA     CMP_SPD_REST_END
35335 0000032C 0009                   M           NOP
35336                           11686     
35337                           11687     ;       ====== 減速開始すべき位置======
35338 0000032E                  11688     CMP_SPD_REST_ERR:
35339 0000032E E0FF             11689             MOV     #-1,R0
35340                           11690             M_BRA   CMP_SPD_REST_END        ;
35341 00000330 A001                   M           BRA     CMP_SPD_REST_END
35342 00000332 0009                   M           NOP
35343 00000334                  11691     CMP_SPD_REST_STOP:
35344 00000334 E001             11692             MOV     #1,R0
35345 00000336                  11693     CMP_SPD_REST_END:
35346                           11694             SUB_END
35347                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35348 00000336 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35349                           11695             M_RTS
35350 00000338 000B                   M           RTS                             ;RTSの後ろの
35351 0000033A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35352                           11696     
35353                           11697     
35354                           11698     
35355                           11699     ;       ***************************************************
35356                           11700     ;       ***                                             ***
35357                           11701     ;       ***             残距離作成                      ***
35358                           11702     ;       ***             2010-09-22                      ***
35359                           11703     ;       ***             演算の簡略化                    ***
35360                           11704     ;       ***                                             ***
35361                           11705     ;       ***************************************************
35362 0000033C                  11706             .ALIGN  4                               ;
35363 0000033C                  11707     _ACC_REST_INFO_MAKE
35364                           11708             SUB_START
35365 0000033C 4F22                   M           STS.L   PR,@-R15                ;[必要]
35366                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35367                           11709     ;       ----------- 設定目標位置        ---------
35368 0000033E D411             11710             MOV.L   #_POSCTL_SV_PLS,R4                                      ;SV
35369 00000340 5140             11711             MOV.L   @(0,R4),R1                                              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   528
PROGRAM NAME =

35370 00000342 5241             11712             MOV.L   @(4,R4),R2                                              ;
35371                           11713     
35372                           11714     ;       ---------------リアルタイム目標位置-----------
35373 00000344 D410             11715             MOV.L   #_POSCTL_RL_PLS,R4                                      ;RL
35374 00000346 5540             11716             MOV.L   @(0,R4),R5                                              ;
35375 00000348 5641             11717             MOV.L   @(4,R4),R6                                              ;
35376                           11718             SUB8B DT_REGH=R5,DT_REGL=R6,DT_ANS_REGH=R1,DT_ANS_REGL=R2       ;目標-実測
35377 0000034A 0008                   M           CLRT
35378 0000034C 326A                   M           SUBC    R6,R2
35379 0000034E 315A                   M           SUBC    R5,R1
35380                           11719     
35381 00000350 D40E             11720             MOV.L   #_POSLSI_DRIV_SHIN,R4                                   ;
35382 00000352 6041             11721             MOV.W   @R4,R0                                                  ;
35383 00000354 C801             11722             TST     #BIT0,R0                                                ;
35384                           11723             TST_BIT_OF ACC_REST_INFMK_100                                   ;正転
35385 00000356 8905                   M           BT      ACC_REST_INFMK_100
35386                           11724             NEG1_64 H_REG=R1,L_REG=R2,WKREG=R0                              ;|R1,R2|
35387 00000358 6227                   M           NOT     R2,R2                           ;
35388 0000035A 6117                   M           NOT     R1,R1                           ;
35389 0000035C 200A                   M           XOR     R0,R0                           ;
35390 0000035E 0018                   M           SETT
35391 00000360 320E                   M           ADDC    R0,R2                           ;0+1+R2
35392 00000362 310E                   M           ADDC    R0,R1                           ;
35393 00000364                  11725     ACC_REST_INFMK_100                                                      ;正転
35394                           11726     
35395 00000364 D50A             11727             MOV.L   #_ACC_REST_ABS_PLS,R5   ;
35396 00000366 2512             11728             MOV.L   R1,@R5                  ;
35397 00000368 1521             11729             MOV.L   R2,@(4,R5)              ;
35398                           11730     
35399                           11731     
35400 0000036A 200A             11732             XOR     R0,R0
35401 0000036C 2118             11733             TST     R1,R1                                   ;8byteの上位4byteがあるか？
35402                           11734             TST_BIT_ON ACC_REST_INFMK_200                   ;まだ4BYTE以上ある
35403 0000036E 8B03                   M           BF      ACC_REST_INFMK_200
35404                           11735     
35405 00000370 D408             11736             MOV.L   #_GENSOK_LNGTH_MAX,R4                           ;30秒*500KHよりも距離があ
                                          る
35406 00000372 3243             11737             CMP/GE  R4,R2                                           ;
35407 00000374 8900             11738             BT      ACC_REST_INFMK_200                              ;減速距離がまだまだ大きい(
                                          連続でもありえない)
35408                           11739     
35409 00000376 E0FF             11740             MOV.B   #-1,R0                                          ;4BYTE以下なので減速演算し
                                          てもいい
35410                           11741                                                             ;演算オーバフロー対策
35411                           11742     
35412 00000378                  11743     ACC_REST_INFMK_200                                                      ;
35413 00000378 D407             11744             MOV.L   #_ACC_REST_FLG,R4                                       ;
35414 0000037A 2401             11745             MOV.W   R0,@R4                                                  ;0:まだまだ距離が
                                          十分ある
35415                           11746     
35416                           11747             SUB_END
35417                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35418 0000037C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35419                           11748             M_RTS
35420 0000037E 000B                   M           RTS                             ;RTSの後ろの
35421 00000380 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35422                           11749     
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   529
PROGRAM NAME =

35423                           11750     ;       *******************************************
35424                           11751     ;       ***                                     ***
35425                           11752     ;       ***                                     ***
35426                           11753     ;       ***                                     ***
35427                           11754     ;       ***     振り子加速・減速演算            ***
35428                           11755     ;       ***                                     ***
35429                           11756     ;       ***                                     ***
35430                           11757     ;       *******************************************
35431                           11758             .EXPORT _DNM_TBL_CALC
35432                           11759             .EXPORT _DNM_START_ACC_CALC
35433                           11760             .EXPORT _DNM_STEP_ACC_CHANGE
35434                           11761     
35435                           11762             .EXPORT _DNM_SPD_CALC
35436                           11763             .EXPORT _DNM_ACC_CALC
35437                           11764             .IMPORT _DATA_CMP2B_R5R6_REF            ;DTMK
35438                           11765     
35439                           11766     ;       ===================================
35440                           11767     ;       ===  SCURVが有効であれば生かす  ===
35441                           11768     ;       ===================================
35442                           11769     
35443                           11770             .EXPORT _USE_IN_TBL_MOV                 ;
35444                           11771             .INCLUDE        "ssa_acct.inc"          ;//2010-09-21ふりこテーブル演算
35445                               1 I1  ;       ***************************************************
35446                               2 I1  ;       ***                                             ***
35447                               3 I1  ;       ***                                             ***
35448                               4 I1  ;       ***                                             ***
35449                               5 I1  ;       ***             振り子加速度演算                ***
35450                               6 I1  ;       ***                                             ***
35451                               7 I1  ;       ***                                             ***
35452                               8 I1  ;       ***                                             ***
35453                               9 I1  ;       ***************************************************
35454                              10 I1  ;       SSA_POS1.SRCにｲﾝｸﾙｰﾄﾞされる
35455                                 I1  ***** BEGIN-POOL *****
35456 00000382 0000                   I1  ALIGNMENT CODE
35457 00000384 00000000               I1  DATA FOR SOURCE-LINE 11710
35458 00000388 00000000               I1  DATA FOR SOURCE-LINE 11715
35459 0000038C 00000000               I1  DATA FOR SOURCE-LINE 11720
35460 00000390 00000000               I1  DATA FOR SOURCE-LINE 11727
35461 00000394 00E4E1C0               I1  DATA FOR SOURCE-LINE 11736
35462 00000398 00000000               I1  DATA FOR SOURCE-LINE 11744
35463                                 I1  ***** END-POOL *****
35464          00002710            11 I1  _ACC_PER_V_MAX  .EQU    10000   ;10000換算
35465          000003E8            12 I1  _ACC_CALC_TIM   .EQU    1000    ;1/1000msec
35466                              13 I1  ;
35467                              14 I1          .INCLUDE        "ssa_acrm.ext"          ; //
35468                               1 I2  ;//     *******************************************
35469                               2 I2  ;//     ***             振り子加速              ***
35470                               3 I2  ;//     *******************************************
35471                               4 I2  
35472                               5 I2  
35473                               6 I2  
35474                               7 I2          .GLOBAL         _ACC_LAST_SPD           ;最大速度から求まる
35475                               8 I2          .GLOBAL         _ACC_STOP_SPD           ;ステップ速度停止の中で求まる（停止予定の
                                          行程）
35476                               9 I2          .GLOBAL         _ACC_STEP_SPD           ;ステップ
35477                              10 I2  
35478                              11 I2          .GLOBAL         _ACC_LAST_POINT         ;最大速度から求まる
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   530
PROGRAM NAME =

35479                              12 I2          .GLOBAL         _ACC_STOP_POINT         ;ステップ速度停止の中で求まる（停止予定の
                                          行程）
35480                              13 I2          .GLOBAL         _ACC_STEP_POINT         ;ステップ
35481                              14 I2  
35482                              15 I2          .GLOBAL         _ACC_STEP_FLG           ;BIT0:START BIT1:CALC BIT2:LIMIT
35483                              16 I2          .GLOBAL         _ACC_CTRL_STS1          ;
35484                              17 I2          .GLOBAL         _ACC_CTRL_STS2          ;
35485                              18 I2  
35486                              19 I2          .GLOBAL         _ACC_POS_STEP           ;
35487                              20 I2          .GLOBAL         _ACC_STR_STEP           ;
35488                              21 I2  
35489                              22 I2          .GLOBAL         _ACC_STOP_NUMBER        ;停止に使用するデータ番号=停止ステップ
35490                              23 I2          .GLOBAL         _ACC_STEP_NUMBER        ;加減速に使用するデータ番号=動作ステップ
35491                              24 I2          .GLOBAL         _ACC_ANS_ACCDAT         ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
35492                              25 I2  
35493                              26 I2  
35494                              27 I2  
35495                              28 I2  ;       ------------------------------------------
35496                              29 I2          .GLOBAL         _ACCB_ACCLAT_TIM1       ;最大加減速時間 設定
35497                              30 I2  
35498                              31 I2  
35499                              32 I2  ;
35500                              33 I2  ;       ・各段に変速テーブル（加速または減速）と停止テーブルが存在する
35501                              34 I2  ;       ・変速状態（加速中または減速）での停止は、そのテーブルの停止テーブルに従う
35502                              35 I2  ;       ・停止テーブルは常に増加方向:パルスが必要(パルスでサーチする)
35503                              36 I2  ;       ・加速テーブルも常に増加方向:パルスは不要(速度でサーチする)
35504                              37 I2  ;       ・減速テーブルは常に増加方向:パルスは不要(速度でサーチする)
35505                              38 I2  ;
35506                              39 I2  
35507                              40 I2  
35508                              41 I2  
35509                              42 I2          .GLOBAL         _ACC_INF1_STEPSP01      ;000%[前状態],050%[設定]
35510                              43 I2          .GLOBAL         _ACC_INF1_STEPSP02      ;050%[前状態],100%[設定]
35511                              44 I2          .GLOBAL         _ACC_INF1_STEPSP03      ;100%[前状態],100%[設定](この場合は前の状
                                          態の加減速をCOPY)
35512                              45 I2          .GLOBAL         _ACC_INF1_STEPSP04      ;
35513                              46 I2          .GLOBAL         _ACC_INF1_STEPSP05      ;
35514                              47 I2          .GLOBAL         _ACC_INF1_STEPSP06      ;
35515                              48 I2          .GLOBAL         _ACC_INF1_STEPSP07      ;
35516                              49 I2          .GLOBAL         _ACC_INF1_STEPSP08      ;
35517                              50 I2          .GLOBAL         _ACC_INF1_STEPSP09      ;
35518                              51 I2          .GLOBAL         _ACC_INF1_STEPSP10      ;
35519                              52 I2          .GLOBAL         _ACC_INF1_STEPSP11      ;
35520                              53 I2  
35521                              54 I2  
35522                              55 I2                                          ;INFOMAINTION
35523                              56 I2          .GLOBAL         _ACC_INF1_STEP001       ;//(加速:0/減速:1)
35524                              57 I2          .GLOBAL         _ACC_INF1_STEP002       ;//
35525                              58 I2          .GLOBAL         _ACC_INF1_STEP003       ;
35526                              59 I2          .GLOBAL         _ACC_INF1_STEP004       ;
35527                              60 I2          .GLOBAL         _ACC_INF1_STEP005       ;
35528                              61 I2          .GLOBAL         _ACC_INF1_STEP006       ;
35529                              62 I2          .GLOBAL         _ACC_INF1_STEP007       ;
35530                              63 I2          .GLOBAL         _ACC_INF1_STEP008       ;
35531                              64 I2          .GLOBAL         _ACC_INF1_STEP009       ;
35532                              65 I2          .GLOBAL         _ACC_INF1_STEP010       ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   531
PROGRAM NAME =

35533                              66 I2          .GLOBAL         _ACC_INF1_STEP011       ;
35534                              67 I2  
35535                              68 I2  
35536                              69 I2  
35537                              70 I2  
35538                              71 I2  ;       ----------------------------------------------
35539                              72 I2  ;;;[2013-05-20 前から未使用];   最大速度時の加減速時間(設定値と同じもの：上下限チェック済
                                          み)
35540                              73 I2  ;;;[2013-05-20 前から未使用]    .GLOBAL         _ACC_BASEDAT_ACCTM      ;加減速時間
35541                              74 I2  ;;;[2013-05-20 前から未使用]
35542                              75 I2  ;;;[2013-05-20 前から未使用];   最大速度時の減速速度
35543                              76 I2  ;;;[2013-05-20 前から未使用]    .GLOBAL         _ACC_BASEDAT_STPVTBL    ;//
35544                              77 I2  ;;;[2013-05-20 前から未使用]
35545                              78 I2  ;;;[2013-05-20 前から未使用];   最大速度時の減速パルス
35546                              79 I2  ;;;[2013-05-20 前から未使用]    .GLOBAL         _ACC_BASEDAT_STPPTBL    ;//
35547                              80 I2  
35548                              81 I2  
35549                              82 I2  ;
35550                              83 I2  ;       ---------------------------------------------------
35551                              84 I2  ;各段可変速用の加減速速度
35552                              85 I2  
35553                              86 I2          .GLOBAL         _ACC_STEP001_VTBL       ;//
35554                              87 I2          .GLOBAL         _ACC_STEP002_VTBL       ;//
35555                              88 I2          .GLOBAL         _ACC_STEP003_VTBL       ;//
35556                              89 I2          .GLOBAL         _ACC_STEP004_VTBL       ;//
35557                              90 I2          .GLOBAL         _ACC_STEP005_VTBL       ;//
35558                              91 I2          .GLOBAL         _ACC_STEP006_VTBL       ;//
35559                              92 I2          .GLOBAL         _ACC_STEP007_VTBL       ;//
35560                              93 I2          .GLOBAL         _ACC_STEP008_VTBL       ;//
35561                              94 I2          .GLOBAL         _ACC_STEP009_VTBL       ;//
35562                              95 I2          .GLOBAL         _ACC_STEP010_VTBL       ;//
35563                              96 I2          .GLOBAL         _ACC_STEP011_VTBL       ;//
35564                              97 I2  
35565                              98 I2  
35566                              99 I2  ;       ---------------------------------------------------
35567                             100 I2  ;各段可変速用の加減速時間
35568                             101 I2  
35569                             102 I2          .GLOBAL         _ACC_STEP001_ACTM       ;
35570                             103 I2          .GLOBAL         _ACC_STEP002_ACTM       ;
35571                             104 I2          .GLOBAL         _ACC_STEP003_ACTM       ;
35572                             105 I2          .GLOBAL         _ACC_STEP004_ACTM       ;
35573                             106 I2          .GLOBAL         _ACC_STEP005_ACTM       ;
35574                             107 I2          .GLOBAL         _ACC_STEP006_ACTM       ;
35575                             108 I2          .GLOBAL         _ACC_STEP007_ACTM       ;
35576                             109 I2          .GLOBAL         _ACC_STEP008_ACTM       ;
35577                             110 I2          .GLOBAL         _ACC_STEP009_ACTM       ;
35578                             111 I2          .GLOBAL         _ACC_STEP010_ACTM       ;
35579                             112 I2          .GLOBAL         _ACC_STEP011_ACTM       ;
35580                             113 I2  
35581                             114 I2  ;       ================================================
35582                             115 I2  ;
35583                             116 I2  ;各段停止用の減速速度
35584                             117 I2  ;                                       格段の停止時
35585                             118 I2  
35586                             119 I2          .GLOBAL         _ACC_STOP001_VTBL       ;//
35587                             120 I2          .GLOBAL         _ACC_STOP002_VTBL       ;//
35588                             121 I2          .GLOBAL         _ACC_STOP003_VTBL       ;//
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   532
PROGRAM NAME =

35589                             122 I2          .GLOBAL         _ACC_STOP004_VTBL       ;//
35590                             123 I2          .GLOBAL         _ACC_STOP005_VTBL       ;//
35591                             124 I2          .GLOBAL         _ACC_STOP006_VTBL       ;//
35592                             125 I2          .GLOBAL         _ACC_STOP007_VTBL       ;//
35593                             126 I2          .GLOBAL         _ACC_STOP008_VTBL       ;//
35594                             127 I2          .GLOBAL         _ACC_STOP009_VTBL       ;//
35595                             128 I2          .GLOBAL         _ACC_STOP010_VTBL       ;//
35596                             129 I2          .GLOBAL         _ACC_STOP011_VTBL       ;//
35597                             130 I2  
35598                             131 I2  ;各段停止用の減速パルス
35599                             132 I2  
35600                             133 I2          .GLOBAL         _ACC_STOP001_PTBL       ;//
35601                             134 I2          .GLOBAL         _ACC_STOP002_PTBL       ;//
35602                             135 I2          .GLOBAL         _ACC_STOP003_PTBL       ;//
35603                             136 I2          .GLOBAL         _ACC_STOP004_PTBL       ;//
35604                             137 I2          .GLOBAL         _ACC_STOP005_PTBL       ;//
35605                             138 I2          .GLOBAL         _ACC_STOP006_PTBL       ;//
35606                             139 I2          .GLOBAL         _ACC_STOP007_PTBL       ;//
35607                             140 I2          .GLOBAL         _ACC_STOP008_PTBL       ;//
35608                             141 I2          .GLOBAL         _ACC_STOP009_PTBL       ;//
35609                             142 I2          .GLOBAL         _ACC_STOP010_PTBL       ;//
35610                             143 I2          .GLOBAL         _ACC_STOP011_PTBL       ;//
35611                             144 I2  
35612                             145 I2  
35613                             146 I2          .GLOBAL         _ACC_STOP001_ACTM       ;
35614                             147 I2          .GLOBAL         _ACC_STOP002_ACTM       ;
35615                             148 I2          .GLOBAL         _ACC_STOP003_ACTM       ;
35616                             149 I2          .GLOBAL         _ACC_STOP004_ACTM       ;
35617                             150 I2          .GLOBAL         _ACC_STOP005_ACTM       ;
35618                             151 I2          .GLOBAL         _ACC_STOP006_ACTM       ;
35619                             152 I2          .GLOBAL         _ACC_STOP007_ACTM       ;
35620                             153 I2          .GLOBAL         _ACC_STOP008_ACTM       ;
35621                             154 I2          .GLOBAL         _ACC_STOP009_ACTM       ;
35622                             155 I2          .GLOBAL         _ACC_STOP010_ACTM       ;
35623                             156 I2          .GLOBAL         _ACC_STOP011_ACTM       ;
35624                             157 I2  
35625                             158 I2  ;       *******************************************
35626                             159 I2  ;       ***                                     ***
35627                             160 I2  ;       ***     加速度パターン入れ替え          ***
35628                             161 I2  ;       ***                                     ***
35629                             162 I2  ;       *******************************************
35630                             163 I2          .GLOBAL         _ACC_IN_TBL_TIM         ;255msec時間 ループ数は256
35631                             164 I2          .GLOBAL         _ACC_IN_TBLUSE          ;
35632                             165 I2  
35633                             166 I2  
35634                             167 I2  ;       -----------------------------------
35635                             168 I2  ;       ---                             ---
35636                             169 I2  ;       ---     ｵｰﾊﾞﾗｲﾄﾞ対策            ---
35637                             170 I2  ;       ---                             ---
35638                             171 I2  ;       -----------------------------------
35639                             172 I2          .GLOBAL         _ACC_REST_ABS_PLSX      ;//比率倍(CPUAのみ使用)
35640                             173 I2          .GLOBAL         _ACC_CALC_SPDX          ;
35641                             174 I2          .GLOBAL         _ACC_CALC_SPD           ;
35642                             175 I2          .GLOBAL         _ACC_POSCTL_SV_SPDX             ;                               ;･
                                          ････
35643                             176 I2          .GLOBAL         _ACC_POSCTL_RL_SPDX             ;
35644                             177 I2          .GLOBAL         _ACC_POSCTL_SV_UP_ACCX          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   533
PROGRAM NAME =

35645                             178 I2          .GLOBAL         _ACC_POSCTL_SV_DN_ACCX          ;
35646                             179 I2  
35647                             180 I2  
35648                             181 I2  ;//     -----------------------------------
35649                             182 I2  ;//     ---     2013-02-05              ---
35650                             183 I2  ;//     -----------------------------------
35651                             184 I2          .GLOBAL _SVX_OBJ_SPD_OLDTOP;
35652                             185 I2          .GLOBAL _SVX_UPAREA_SPD0OLD;
35653                             186 I2  
35654                              15 I1  
35655                              16 I1  
35656                              17 I1  
35657                              18 I1          .IMPORT         _DNM_MAXSPM_ACCLAT_MAK          ;2010-10-05
35658                              19 I1  
35659                              20 I1  
35660                              21 I1  ;//     *******************************************
35661                              22 I1  ;//     ***             振り子加速              ***
35662                              23 I1  ;//     *******************************************
35663                              24 I1  ;       ***************************************************
35664                              25 I1  ;       ***                                             ***
35665                              26 I1  ;       ***             ふりこ加速テーブル              ***
35666                              27 I1  ;       ***             パラメータに入れる              ***
35667                              28 I1  ;       ***                                             ***
35668                              29 I1  ;       ***************************************************
35669                              30 I1          .GLOBAL         _CB_SYS_PARTBL001       ;CODE:ｺｰﾄﾞ存在なければﾃﾞｰﾀなし
35670                              31 I1          .GLOBAL         _CB_SYS_PARTBL002       ;1:加速度ﾃｰﾌﾞﾙ使用NO.[1個より増えた場合用]
35671                              32 I1          .GLOBAL         _CB_SYS_PARTBL003       ;1:最大回転速度/加減速時間ﾃｰﾌﾞﾙ使用[1個よ
                                          り増えた場合用]
35672                              33 I1          .GLOBAL         _CB_SYS_PARTBL004       ;加速度ﾃｰﾌﾞﾙ1　<設定位置１未満
35673                              34 I1          .GLOBAL         _CB_SYS_PARTBL005       ;加速度ﾃｰﾌﾞﾙ2　位置1≦＜位置2
35674                              35 I1  
35675                              36 I1  
35676                              37 I1  ;       ***************************************************
35677                              38 I1  ;       ***                                             ***
35678                              39 I1  ;       ***             mm-最大回転数,加減速時間        ***
35679                              40 I1  ;       ***                                             ***
35680                              41 I1  ;       ***************************************************
35681                              42 I1          .GLOBAL         _CB_SYS_DNMTBL1_CNT             ;
35682                              43 I1          .GLOBAL         _CB_SYS_DNMTBL1_DATA_TOP        ;
35683                              44 I1          .GLOBAL         _CB_SYS_ACCTBL1_CNT             ;
35684                              45 I1          .GLOBAL         _CB_SYS_ACCTBL1_IN_TOP          ;
35685                              46 I1          .GLOBAL         _CB_SYS_ACCTBL2_CNT             ;
35686                              47 I1          .GLOBAL         _CB_SYS_ACCTBL2_IN_TOP          ;
35687                              48 I1          .GLOBAL         _CB_SYS_ACCTBL3_CNT             ;
35688                              49 I1          .GLOBAL         _CB_SYS_ACCTBL3_IN_TOP          ;
35689                              50 I1  
35690                              51 I1          .import         _SYS2_DT_LOAD
35691                              52 I1  
35692                              53 I1  ;       ***************************************************
35693                              54 I1  ;       ***                                             ***
35694                              55 I1  ;       ***             速度テーブル                    ***
35695                              56 I1  ;       ***                                             ***
35696                              57 I1  ;       ***************************************************
35697 0000039C                     58 I1          .ALIGN  4                                               ;
35698                              59 I1  ;;;;;   .INCLUDE        "ssa_atbl.inc"          ;//2010-09-21
35699                              60 I1  
35700                              61 I1          .AIF    1 EQ    0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   534
PROGRAM NAME =

35701                              62     
35702                              63             .IMPORT _PDTRB
35703                              64             .MACRO  _A_WDT_CLR
35704                              65             PUSH_REG1 R10
35705                              66             PUSH_REG1 R11
35706                              67             PUSH_REG1 R12
35707                              68     
35708                              69             DI_PUSH_SR_SHn  WK_REG1=R10,WK_REG2=R11
35709                              70     
35710                              71             MOV.L   #_PDTRB,R10
35711                              72             MOV.W   @R10,R11
35712                              73             MOV.W   #NBIT2,R12              ;;;;2012-10-18  MOV.W   #NBIT0,R12      ; PORT18
35713                              74             AND     R12,R11                 ;
35714                              75             MOV.W   R11,@R10                ;
35715                              76             MOV.W   #BIT2,R12               ;;;;2012-10-18  MOV.W   #BIT0,R12       ;
35716                              77             OR      R12,R11                 ;
35717                              78             MOV.W   R11,@R10                ;
35718                              79     
35719                              80             EI_POP_SR_SHn                   ;
35720                              81     
35721                              82             POP_REG1 R12
35722                              83             POP_REG1 R11
35723                              84             POP_REG1 R10
35724                              85             .ENDM
35725                              86     
35726                              87             .AELSE
35727                              88 C   ;CPU-Bは5msecでたたいているから不要
35728                              89 C           .MACRO  _A_WDT_CLR
35729                              90 C           .ENDM
35730                              91 C   
35731                              92 C   
35732                              93 I1          .AENDI
35733                              94 I1  
35734                              95 I1  ;
35735                              96 I1  ;       _DNM_TBL_CALC:  ﾃｰﾌﾞﾙ作成[DTMK]
35736                              97 I1  ;       _DNM_START_ACC_CALC:API 起動 往路/復路CHANGE [POS1]
35737                              98 I1  ;       _DNM_STEP_ACC_CHANGE:API 工程切替 ;[POS1]
35738                              99 I1  ;       _DNM_SPD_CALC:速度演算→ACC算出,反映[POS1]
35739                             100 I1  ;
35740                             101 I1  
35741                             102 I1  
35742                             103 I1  ;       ***************************************************
35743                             104 I1  ;       ***                                             ***
35744                             105 I1  ;       ***                                             ***
35745                             106 I1  ;       ***                                             ***
35746                             107 I1  ;       ***                                             ***
35747                             108 I1  ;       ***                                             ***
35748                             109 I1  ;       ***                                             ***
35749                             110 I1  ;       ***             振り子加速度テーブル作成        ***
35750                             111 I1  ;       ***                                             ***
35751                             112 I1  ;       ***                                             ***
35752                             113 I1  ;       ***                                             ***
35753                             114 I1  ;       ***                                             ***
35754                             115 I1  ;       ***                                             ***
35755                             116 I1  ;       ***                                             ***
35756                             117 I1  ;       ***************************************************
35757                             118 I1  ;       dtmkにて演算(WDT-CLR必要)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   535
PROGRAM NAME =

35758 0000039C                    119 I1          .ALIGN  4                                               ;
35759 0000039C                    120 I1  _DNM_TBL_CALC:
35760                             121 I1          SUB_START
35761 0000039C 4F22                   M           STS.L   PR,@-R15                ;[必要]
35762                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35763                             122 I1  
35764                             123 I1          FAR_JSR #_CHK_DNM_SPEC_MOD1,R0          ;
35765 0000039E D006                   M           MOV.L   #_CHK_DNM_SPEC_MOD1,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35766 000003A0 400B                   M           JSR     @R0                     ;
35767 000003A2 0009                   M           NOP                                     ;
35768 000003A4 2008               124 I1          TST     R0,R0
35769                             125 I1          TST_BIT_OF DNM_TBLCAL_200                               ;ふりこでない
35770 000003A6 890B                   M           BT      DNM_TBLCAL_200
35771                             126 I1  
35772                             127 I1          FAR_JSR #_DNM_MOTION_DATA_MAK,R0                        ;振り子時
35773 000003A8 D004                   M           MOV.L   #_DNM_MOTION_DATA_MAK,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35774 000003AA 400B                   M           JSR     @R0                     ;
35775 000003AC 0009                   M           NOP                                     ;
35776 000003AE 9001               128 I1          MOV.W   #1,R0
35777                             129 I1          M_BRA   DNM_TBLCAL_300                                  ;
35778 000003B0 A007                   M           BRA     DNM_TBLCAL_300
35779 000003B2 0009                   M           NOP
35780                             130 I1  
35781                                 I1  ***** BEGIN-POOL *****
35782 000003B4 0001                   I1  DATA FOR SOURCE-LINE 128
35783 000003B6 0000                   I1  ALIGNMENT CODE
35784 000003B8 00000000               I1  DATA FOR SOURCE-LINE 123
35785 000003BC 00000000               I1  DATA FOR SOURCE-LINE 127
35786                                 I1  ***** END-POOL *****
35787 000003C0                    131 I1  DNM_TBLCAL_200:
35788 000003C0 200A               132 I1          XOR     R0,R0
35789 000003C2                    133 I1  DNM_TBLCAL_300:
35790 000003C2 D104               134 I1          MOV.L   #_DNM_ACC_CALFLG,R1                             ;//0/1
35791 000003C4 2101               135 I1          MOV.W   R0,@R1                                          ;
35792                             136 I1  
35793                             137 I1  
35794                             138 I1  
35795                             139 I1  ;       ============ ﾃﾞﾊﾞｯｸ===========
35796                             140 I1   .AIF   1 EQ    0
35797                             141             MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
35798                             142      .AELSE
35799 000003C6 D104               143 C           MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
35800                             144 I1   .AENDI
35801 000003C8 6011               145 I1          MOV.W   @R1,R0
35802 000003CA D104               146 I1          MOV.L   #_SQ_CBWK_TOP+_WKSQCB258,R1     ;258,328
35803 000003CC 2101               147 I1          MOV.W   R0,@R1
35804                             148 I1  
35805                             149 I1          SUB_END
35806                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35807 000003CE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35808                             150 I1          M_RTS
35809 000003D0 000B                   M           RTS                             ;RTSの後ろの
35810 000003D2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35811                             151 I1  
35812                             152 I1  
35813                             153 I1  ;       *******************************************
35814                             154 I1  ;       ***                                     ***
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   536
PROGRAM NAME =

35815                             155 I1  ;       ***             各データ作成CALL        ***
35816                             156 I1  ;       ***                                     ***
35817                             157 I1  ;       *******************************************
35818                             158 I1  ;       速度演算結果 * 速度比率/100　･･･速度
35819                             159 I1  ;       ﾃｰﾌﾞﾙの距離を速度比率/100････残距離比較
35820                             160 I1  ;       残り距離*100/速度比率
35821                             161 I1  ;
35822                             162 I1  ;       [起動時に比率を取込む]
35823                             163 I1  ;
35824                             164 I1  ;       --------2015-03-15[ふりこの設定状態]
35825                             165 I1  
35826                             166 I1          .MACRO  DNM_INFO_SET SETCOD
35827                             167 I1  
35828                             168 I1          MOV.W   #\SETCOD,R0
35829                             169 I1   .AIF   1 EQ    0
35830                             170 I1          MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
35831                             171 I1   .AELSE
35832                             172 I1          MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
35833                             173 I1   .AENDI
35834                             174 I1          MOV.W   R0,@R1                          ;
35835                             175 I1  
35836                             176 I1          .ENDM
35837                             177 I1  
35838                             178 I1          .IMPORT _SH4_DNM_CALC_INFO              ;
35839                             179 I1          .IMPORT _SH2_DNM_CALC_INFO              ;
35840                             180 I1  
35841                             181 I1  
35842                                 I1  ***** BEGIN-POOL *****
35843 000003D4 00000000               I1  DATA FOR SOURCE-LINE 134
35844 000003D8 00000000               I1  DATA FOR SOURCE-LINE 143
35845 000003DC 00000000               I1  DATA FOR SOURCE-LINE 146
35846                                 I1  ***** END-POOL *****
35847 000003E0                    182 I1  _DNM_MOTION_DATA_MAK:
35848                             183 I1          SUB_START
35849 000003E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
35850                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
35851                             184 I1  
35852                             185 I1  
35853                             186 I1  
35854 000003E2 277A               187 I1          XOR     R7,R7                           ;
35855 000003E4 D50E               188 I1          MOV.L   #_SVP_UPAREA_SPD0,R5            ;基準速度(戻速度)
35856 000003E6 D60F               189 I1          MOV.L   #_SVX_UPAREA_SPD0OLD,R6         ;
35857                             190 I1          FAR_JSR #_DATA_CMP2B_R5R6_REF,R0        ;
35858 000003E8 D00F                   M           MOV.L   #_DATA_CMP2B_R5R6_REF,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35859 000003EA 400B                   M           JSR     @R0                     ;
35860 000003EC 0009                   M           NOP                                     ;
35861                             191 I1  
35862                             192 I1  
35863 000003EE 9315               193 I1          MOV.W   #D'20,R3                        ;
35864 000003F0 D50E               194 I1          MOV.L   #_SVP_OBJECT_SPD_TOP,R5         ;
35865 000003F2 D60F               195 I1          MOV.L   #_SVX_OBJ_SPD_OLDTOP,R6         ;
35866                             196 I1  
35867 000003F4                    197 I1  ACC_INFMAK1_DTCHGCHKLOP
35868                             198 I1          FAR_JSR #_DATA_CMP2B_R5R6_REF,R0        ;
35869 000003F4 D00C                   M           MOV.L   #_DATA_CMP2B_R5R6_REF,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35870 000003F6 400B                   M           JSR     @R0                     ;
35871 000003F8 0009                   M           NOP                                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   537
PROGRAM NAME =

35872 000003FA 73FF               199 I1          ADD     #-1,R3                          ;
35873 000003FC 2338               200 I1          TST     R3,R3                           ;
35874                             201 I1          TST_BIT_ON ACC_INFMAK1_DTCHGCHKLOP      ;
35875 000003FE 8BF9                   M           BF      ACC_INFMAK1_DTCHGCHKLOP
35876 00000400 2778               202 I1          TST     R7,R7                           ;
35877                             203 I1          TST_BIT_ON ACC_INFMAK1_START            ;[速度設定変更有り]
35878 00000402 8B1D                   M           BF      ACC_INFMAK1_START
35879                             204 I1  
35880 00000404 D10B               205 I1          MOV.L   #_emg_err_flg,R1                ;//異常ﾗｯﾁ
35881 00000406 6011               206 I1          MOV.W   @R1,R0                          ;
35882 00000408 D10B               207 I1          MOV.L   #_exq_err_flg,R1                ;//異常ﾗｯﾁ
35883 0000040A 6211               208 I1          MOV.W   @R1,R2                          ;
35884 0000040C 202B               209 I1          OR      R2,R0                           ;
35885 0000040E 2008               210 I1          TST     R0,R0                           ;
35886                             211 I1          TST_BIT_ON ACC_INFMAK1_START050         ;異常状態での演算
35887 00000410 8B1E                   M           BF      ACC_INFMAK1_START050
35888                             212 I1  
35889                             213 I1          FAR_JSR #_API_SETACC_STS_CLR,R0         ;
35890 00000412 D00A                   M           MOV.L   #_API_SETACC_STS_CLR,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35891 00000414 400B                   M           JSR     @R0                     ;
35892 00000416 0009                   M           NOP                                     ;
35893                             214 I1  
35894                             215 I1          M_BRA   ACC_INFMAK1_EXT                 ;
35895 00000418 A029                   M           BRA     ACC_INFMAK1_EXT
35896 0000041A 0009                   M           NOP
35897                             216 I1  
35898                             217 I1  ;       ----------[CPUA/B間で演算完了状態であれば 反映して良い]--------
35899                                 I1  ***** BEGIN-POOL *****
35900 0000041C 0014                   I1  DATA FOR SOURCE-LINE 193
35901 0000041E 0000                   I1  ALIGNMENT CODE
35902 00000420 00000000               I1  DATA FOR SOURCE-LINE 188
35903 00000424 00000000               I1  DATA FOR SOURCE-LINE 189
35904 00000428 00000000               I1  DATA FOR SOURCE-LINE 190,198
35905 0000042C 00000000               I1  DATA FOR SOURCE-LINE 194
35906 00000430 00000000               I1  DATA FOR SOURCE-LINE 195
35907 00000434 00000000               I1  DATA FOR SOURCE-LINE 205
35908 00000438 00000000               I1  DATA FOR SOURCE-LINE 207
35909 0000043C 00000000               I1  DATA FOR SOURCE-LINE 213
35910                                 I1  ***** END-POOL *****
35911 00000440                    218 I1  ACC_INFMAK1_START
35912                             219 I1          DNM_INFO_SET SETCOD=BIT0;       ;演算中
35913                                 M   
35914 00000440 9003                   M           MOV.W   #BIT0,R0
35915                                 M    .AIF   1 EQ    0
35916                                             MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
35917                                      .AELSE
35918 00000442 D102                   C           MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
35919                                 M    .AENDI
35920 00000444 2101                   M           MOV.W   R0,@R1                          ;
35921                                 M   
35922                             220 I1          M_BRA   ACC_INFMAK1_START100            ;
35923 00000446 A006                   M           BRA     ACC_INFMAK1_START100
35924 00000448 0009                   M           NOP
35925                             221 I1  
35926                                 I1  ***** BEGIN-POOL *****
35927 0000044A 0001                   I1  DATA FOR SOURCE-LINE 219
35928 0000044C 00000000               I1  DATA FOR SOURCE-LINE 219
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   538
PROGRAM NAME =

35929                                 I1  ***** END-POOL *****
35930 00000450                    222 I1  ACC_INFMAK1_START050:
35931                             223 I1          DNM_INFO_SET SETCOD=BIT1                ;演算中
35932                                 M   
35933 00000450 9010                   M           MOV.W   #BIT1,R0
35934                                 M    .AIF   1 EQ    0
35935                                             MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
35936                                      .AELSE
35937 00000452 D109                   C           MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
35938                                 M    .AENDI
35939 00000454 2101                   M           MOV.W   R0,@R1                          ;
35940                                 M   
35941                             224 I1  
35942 00000456                    225 I1  ACC_INFMAK1_START100:
35943                             226 I1  
35944                             227 I1          FAR_JSR #_SYS2_DT_LOAD,R0                       ;
35945 00000456 D009                   M           MOV.L   #_SYS2_DT_LOAD,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35946 00000458 400B                   M           JSR     @R0                     ;
35947 0000045A 0009                   M           NOP                                     ;
35948                             228 I1  
35949                             229 I1  
35950                             230 I1          FAR_JSR #_ACC_STEP_INF_MAKE1,R0         ;
35951 0000045C D008                   M           MOV.L   #_ACC_STEP_INF_MAKE1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35952 0000045E 400B                   M           JSR     @R0                     ;
35953 00000460 0009                   M           NOP                                     ;
35954                             231 I1                                                  ;_ACC_INF1_STEPSP01     ;000%[前状態],050%
                                          [設定]
35955                             232 I1                                                  ;_ACC_INF1_STEP001      ;BIT2=[0=加速/1=減
                                          速]
35956                             233 I1                                                  ;
35957                             234 I1          FAR_JSR #_ACC_TBL_MAKE1,R0              ;
35958 00000462 D008                   M           MOV.L   #_ACC_TBL_MAKE1,R0              ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
35959 00000464 400B                   M           JSR     @R0                     ;
35960 00000466 0009                   M           NOP                                     ;
35961                             235 I1  
35962                             236 I1  
35963                             237 I1          DNM_INFO_SET SETCOD=BIT2                ;演算すべき状態、演算結果を反映して良い状
                                          態
35964                                 M   
35965 00000468 9005                   M           MOV.W   #BIT2,R0
35966                                 M    .AIF   1 EQ    0
35967                                             MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
35968                                      .AELSE
35969 0000046A D103                   C           MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
35970                                 M    .AENDI
35971 0000046C 2101                   M           MOV.W   R0,@R1                          ;
35972                                 M   
35973                             238 I1  
35974 0000046E                    239 I1  ACC_INFMAK1_EXT
35975                             240 I1  
35976                             241 I1          SUB_END
35977                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
35978 0000046E 4F26                   M           LDS.L   @R15+,PR                ;[必要]
35979                             242 I1          M_RTS
35980 00000470 000B                   M           RTS                             ;RTSの後ろの
35981 00000472 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
35982                             243 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   539
PROGRAM NAME =

35983                             244 I1  ;       ***************************************************
35984                             245 I1  ;       ***                                             ***
35985                             246 I1  ;       *** 自分がBIT2=1で相手がBIT2=1またはBIT3=1      ***
35986                             247 I1  ;       *** なら演算を反映する                          ***
35987                             248 I1  ;       ***                                             ***
35988                             249 I1  ;       ***************************************************
35989                             250 I1  ;
35990                             251 I1  ;
35991                             252 I1          .EXPORT _API_SETACC_INFO_GET
35992                                 I1  ***** BEGIN-POOL *****
35993 00000474 0002                   I1  DATA FOR SOURCE-LINE 223
35994 00000476 0004                   I1  DATA FOR SOURCE-LINE 237
35995 00000478 00000000               I1  DATA FOR SOURCE-LINE 223,237
35996 0000047C 00000000               I1  DATA FOR SOURCE-LINE 227
35997 00000480 00000000               I1  DATA FOR SOURCE-LINE 230
35998 00000484 00000000               I1  DATA FOR SOURCE-LINE 234
35999                                 I1  ***** END-POOL *****
36000 00000488                    253 I1  _API_SETACC_INFO_GET:
36001                             254 I1          SUB_START
36002 00000488 4F22                   M           STS.L   PR,@-R15                ;[必要]
36003                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36004                             255 I1  
36005                             256 I1  
36006                             257 I1   .AIF   1 EQ    0
36007                             258             MOV.L   #_SH4_DNM_CALC_INFO,R5          ;SH4 TO SH2 +SH4演算部
36008                             259             MOV.L   #_SH2_DNM_CALC_INFO,R6          ;SH2 TO SH4 +SH2演算部
36009                             260     
36010                             261      .AELSE
36011 0000048A D507               262 C           MOV.L   #_SH2_DNM_CALC_INFO,R5          ;SH2 TO SH4 +SH2演算部
36012 0000048C D607               263 C           MOV.L   #_SH4_DNM_CALC_INFO,R6          ;SH4 TO SH2 +SH4演算部
36013                             264 I1   .AENDI
36014 0000048E 6051               265 I1          MOV.W   @R5,R0                          ;
36015 00000490 6261               266 I1          MOV.W   @R6,R2
36016 00000492 6423               267 I1          MOV     R2,R4
36017 00000494 240B               268 I1          OR      R0,R4
36018                             269 I1  
36019 00000496 2448               270 I1          TST     R4,R4                           ;
36020                             271 I1          TST_BIT_OF API_SETACC_INFOGET_CALOK2    ;演算してもいいよ
36021 00000498 890D                   M           BT      API_SETACC_INFOGET_CALOK2
36022                             272 I1  
36023 0000049A C804               273 I1          TST     #BIT2,R0                        ;自分がON
36024                             274 I1          TST_BIT_OF API_SETACC_INFOGET_CALNG     ;
36025 0000049C 890E                   M           BT      API_SETACC_INFOGET_CALNG
36026                             275 I1  
36027 0000049E E40C               276 I1          MOV.B   #(BIT3+BIT2),R4                 ;
36028 000004A0 2248               277 I1          TST     R4,R2                           ;
36029                             278 I1          TST_BIT_ON API_SETACC_INFOGET_CALOK1    ;
36030 000004A2 8B05                   M           BF      API_SETACC_INFOGET_CALOK1
36031                             279 I1          M_BRA   API_SETACC_INFOGET_CALNG        ;
36032 000004A4 A00A                   M           BRA     API_SETACC_INFOGET_CALNG
36033 000004A6 0009                   M           NOP
36034                             280 I1  
36035                             281 I1  
36036                                 I1  ***** BEGIN-POOL *****
36037 000004A8 00000000               I1  DATA FOR SOURCE-LINE 262
36038 000004AC 00000000               I1  DATA FOR SOURCE-LINE 263
36039                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   540
PROGRAM NAME =

36040 000004B0                    282 I1  API_SETACC_INFOGET_CALOK1:
36041 000004B0 E001               283 I1          MOV.B   #BIT0,R0                        ;演算しろ[完了にしてね！！]
36042                             284 I1          M_BRA   API_SETACC_INFOGET_CALEXT       ;
36043 000004B2 A004                   M           BRA     API_SETACC_INFOGET_CALEXT
36044 000004B4 0009                   M           NOP
36045                             285 I1  
36046 000004B6                    286 I1  API_SETACC_INFOGET_CALOK2:
36047 000004B6 E002               287 I1          MOV.B   #BIT1,R0                        ;完了にしないでね
36048                             288 I1          M_BRA   API_SETACC_INFOGET_CALEXT
36049 000004B8 A001                   M           BRA     API_SETACC_INFOGET_CALEXT
36050 000004BA 0009                   M           NOP
36051                             289 I1  
36052 000004BC                    290 I1  API_SETACC_INFOGET_CALNG:
36053 000004BC 200A               291 I1          XOR     R0,R0
36054 000004BE                    292 I1  API_SETACC_INFOGET_CALEXT:
36055                             293 I1  
36056                             294 I1          SUB_END
36057                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36058 000004BE 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36059                             295 I1          M_RTS
36060 000004C0 000B                   M           RTS                             ;RTSの後ろの
36061 000004C2 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36062                             296 I1  
36063                             297 I1          .EXPORT _API_SETACC_STS_END             ;
36064                             298 I1  
36065 000004C4                    299 I1  _API_SETACC_STS_END:
36066                             300 I1          SUB_START
36067 000004C4 4F22                   M           STS.L   PR,@-R15                ;[必要]
36068                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36069                             301 I1  
36070                             302 I1          DNM_INFO_SET SETCOD=BIT3                ;演算終了した状態
36071                                 M   
36072 000004C6 9004                   M           MOV.W   #BIT3,R0
36073                                 M    .AIF   1 EQ    0
36074                                             MOV.L   #_SH4_DNM_CALC_INFO,R1          ;SH4 TO SH2 +SH4演算部
36075                                      .AELSE
36076 000004C8 D102                   C           MOV.L   #_SH2_DNM_CALC_INFO,R1          ;SH2 TO SH4 +SH2演算部
36077                                 M    .AENDI
36078 000004CA 2101                   M           MOV.W   R0,@R1                          ;
36079                                 M   
36080                             303 I1  
36081                             304 I1          SUB_END
36082                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36083 000004CC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36084                             305 I1          M_RTS
36085 000004CE 000B                   M           RTS                             ;RTSの後ろの
36086 000004D0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36087                             306 I1  
36088                             307 I1  ;       ----CLRはCPUAはCPUAとCPUBを行う-----------
36089                                 I1  ***** BEGIN-POOL *****
36090 000004D2 0008                   I1  DATA FOR SOURCE-LINE 302
36091 000004D4 00000000               I1  DATA FOR SOURCE-LINE 302
36092                                 I1  ***** END-POOL *****
36093 000004D8                    308 I1  _API_SETACC_STS_CLR:
36094                             309 I1          SUB_START
36095 000004D8 4F22                   M           STS.L   PR,@-R15                ;[必要]
36096                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   541
PROGRAM NAME =

36097                             310 I1   .AIF   1 EQ    0
36098                             311             MOV.L   #_SH4_DNM_CALC_INFO,R5          ;SH4 TO SH2 +SH4演算部
36099                             312             MOV.W   @R5,R0                          ;
36100                             313             MOV.L   #_SH2_DNM_CALC_INFO,R6          ;SH2 TO SH4 +SH2演算部
36101                             314             MOV.W   @R6,R2                          ;
36102                             315     ;;;;[本当はこっち]      MOV.B   #BIT3,R4
36103                             316             MOV.B   #BIT2,R4                        ;ｽｷｬﾝﾃｽﾄ
36104                             317             CMP/EQ  R4,R2                           ;(R2==R0 R0?BIT3　の論理は危険 )
36105                             318             BF      API_SETACC_STSCLR_EXT           ;
36106                             319             CMP/EQ  R4,R0                           ;完了？
36107                             320             BF      API_SETACC_STSCLR_EXT           ;
36108                             321     
36109                             322             XOR     R0,R0                           ;IDEL
36110                             323             MOV.W   R0,@R5                          ;
36111                             324             MOV.W   R0,@R6                          ;
36112                             325     
36113                             326     API_SETACC_STSCLR_EXT:
36114                             327     
36115                             328      .AENDI
36116                             329 I1  
36117                             330 I1          SUB_END
36118                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36119 000004DA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36120                             331 I1          M_RTS
36121 000004DC 000B                   M           RTS                             ;RTSの後ろの
36122 000004DE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36123                             332 I1  
36124                             333 I1  
36125                             334 I1  
36126                             335 I1  ;       *******************************************
36127                             336 I1  ;       ***                                     ***
36128                             337 I1  ;       ***             ステップINFOMATION      ***
36129                             338 I1  ;       ***                                     ***
36130                             339 I1  ;       *******************************************
36131                             340 I1  
36132                             341 I1  
36133 000004E0                    342 I1  _ACC_STEP_INF_MAKE1:
36134                             343 I1          SUB_START
36135 000004E0 4F22                   M           STS.L   PR,@-R15                ;[必要]
36136                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36137                             344 I1  
36138                             345 I1  
36139 000004E2 DE0F               346 I1          MOV.L   #_SETX_POS_SDAT1_INF1,R14               ;往路情報 long data(BIT1=0正/1逆,
                                          BIT0=0 速度停止)
36140                             347 I1  
36141 000004E4 D10F               348 I1          MOV.L   #_SETX_POS_STEP_MAX,R1                  ;//SETXは設定=1~10 戻り分+1してな
                                          い
36142 000004E6 6511               349 I1          MOV.W   @R1,R5                                  ;
36143 000004E8 7501               350 I1          ADD     #1,R5
36144                             351 I1  
36145                             352 I1  
36146 000004EA D80F               353 I1          MOV.L   #_ACC_INF1_STEP001,R8                   ;BIT2=[0=加速/1=減速]
36147                             354 I1                                                          ;BIT1=[0=正,1=逆]
36148                             355 I1                                                          ;BIT0=[0=停/1=連続]
36149                             356 I1  
36150 000004EC D90F               357 I1          MOV.L   #_ACC_INF1_STEPSP01,R9                  ;000%[前状態],050%[設定]
36151                             358 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   542
PROGRAM NAME =

36152 000004EE 277A               359 I1          XOR     R7,R7                                   ;(前回速度)
36153 000004F0 DA0F               360 I1          MOV.L   #_SVP_OBJECT_SPD_TOP,R10                ;
36154                             361 I1  
36155 000004F2                    362 I1  ACC_STEPINF_MAK1_100LOP:                                        ;
36156                             363 I1  
36157                             364 I1  
36158 000004F2 62A5               365 I1          MOV.W   @R10+,R2                                ;
36159                             366 I1  
36160 000004F4 9412               367 I1          MOV.W   #1,R4                                   ;
36161 000004F6 3540               368 I1          CMP/EQ  R4,R5                                   ;"残りｽﾃｯﾌﾟ数=1"(戻りﾃﾞｰﾀ)
36162 000004F8 8B01               369 I1          BF      ACC_STEPINF_MAK1_120                    ;
36163 000004FA D10E               370 I1          MOV.L   #_SVP_UPAREA_SPD0,R1                    ;0.1%　戻り速度
36164 000004FC 6211               371 I1          MOV.W   @R1,R2                                  ;
36165 000004FE                    372 I1  ACC_STEPINF_MAK1_120:
36166                             373 I1          FAR_JSR #_R2_MUL10_ANS_R2,R1                    ;
36167 000004FE D10E                   M           MOV.L   #_R2_MUL10_ANS_R2,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36168 00000500 410B                   M           JSR     @R1                     ;
36169 00000502 0009                   M           NOP                                     ;
36170                             374 I1  
36171                             375 I1  
36172                             376 I1  ;R7=0,R2=sv
36173                             377 I1  
36174 00000504 60E6               378 I1          MOV.L   @R14+,R0                                ;
36175 00000506 C9FB               379 I1          AND     #LOW ~BIT2,R0                           ;
36176                             380 I1  
36177 00000508 3270               381 I1          CMP/EQ  R7,R2                                   ;R7(OLD)==R2
36178 0000050A 8B17               382 I1          BF      ACC_STEPINF_MAK1_180                    ;NO
36179                             383 I1  
36180                             384 I1  ;       ====== 速度が同じ場合、前の段の加速・減速情報を使用する
36181 0000050C 78FE               385 I1          ADD     #-2,R8                                  ;
36182 0000050E 6185               386 I1          MOV.W   @R8+,R1                                 ;
36183 00000510 9405               387 I1          MOV.W   #BIT2,R4                                ;
36184 00000512 2148               388 I1          TST     R4,R1                                   ;
36185                             389 I1          TST_BIT_OF ACC_STEPINF_MAK1_200                 ;
36186 00000514 8915                   M           BT      ACC_STEPINF_MAK1_200
36187 00000516 CB04               390 I1          OR      #BIT2,R0                                ;
36188                             391 I1          M_BRA   ACC_STEPINF_MAK1_200                    ;
36189 00000518 A013                   M           BRA     ACC_STEPINF_MAK1_200
36190 0000051A 0009                   M           NOP
36191                             392 I1  
36192                             393 I1  
36193                             394 I1  
36194                                 I1  ***** BEGIN-POOL *****
36195 0000051C 0001                   I1  DATA FOR SOURCE-LINE 367
36196 0000051E 0004                   I1  DATA FOR SOURCE-LINE 387
36197 00000520 00000000               I1  DATA FOR SOURCE-LINE 346
36198 00000524 00000000               I1  DATA FOR SOURCE-LINE 348
36199 00000528 00000000               I1  DATA FOR SOURCE-LINE 353
36200 0000052C 00000000               I1  DATA FOR SOURCE-LINE 357
36201 00000530 00000000               I1  DATA FOR SOURCE-LINE 360
36202 00000534 00000000               I1  DATA FOR SOURCE-LINE 370
36203 00000538 00000000               I1  DATA FOR SOURCE-LINE 373
36204                                 I1  ***** END-POOL *****
36205 0000053C                    395 I1  ACC_STEPINF_MAK1_180:                                   ;
36206 0000053C 3273               396 I1          CMP/GE  R7,R2                                   ;R7(OLD)=<R2
36207                             397 I1          TST_BIT_OF ACC_STEPINF_MAK1_200                 ;加速JUMP
36208 0000053E 8900                   M           BT      ACC_STEPINF_MAK1_200
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   543
PROGRAM NAME =

36209 00000540 CB04               398 I1          OR      #BIT2,R0                                ;
36210 00000542                    399 I1  ACC_STEPINF_MAK1_200:                                   ;
36211 00000542 2801               400 I1          MOV.W   R0,@R8                                  ;BIT2,BIT1,BIT0 SAVE
36212 00000544 7802               401 I1          ADD     #2,R8                                   ;
36213                             402 I1  
36214 00000546 2971               403 I1          MOV.W   R7,@R9                                  ;OLD
36215 00000548 7902               404 I1          ADD     #2,R9                                   ;
36216 0000054A 2921               405 I1          MOV.W   R2,@R9                                  ;TARGET
36217 0000054C 7902               406 I1          ADD     #2,R9                                   ;
36218                             407 I1  
36219                             408 I1  
36220 0000054E C801               409 I1          TST     #BIT0,R0                                ;
36221                             410 I1          TST_BIT_ON ACC_STEPINF_MAK1_250                 ;BIT0=0(停止) NO! JUMP
36222 00000550 8B00                   M           BF      ACC_STEPINF_MAK1_250
36223 00000552 222A               411 I1          XOR     R2,R2                                   ;
36224 00000554                    412 I1  ACC_STEPINF_MAK1_250:                                   ;
36225 00000554 6723               413 I1          MOV     R2,R7                                   ;
36226 00000556 75FF               414 I1          ADD     #-1,R5                                  ;
36227 00000558 2558               415 I1          TST     R5,R5                                   ;
36228                             416 I1          TST_BIT_OF ACC_STEPINF_MAK1_300                 ;
36229 0000055A 8901                   M           BT      ACC_STEPINF_MAK1_300
36230                             417 I1          M_BRA   ACC_STEPINF_MAK1_100LOP                 ;
36231 0000055C AFC9                   M           BRA     ACC_STEPINF_MAK1_100LOP
36232 0000055E 0009                   M           NOP
36233                             418 I1  
36234 00000560                    419 I1  ACC_STEPINF_MAK1_300:                                   ;
36235                             420 I1  
36236                             421 I1          SUB_END
36237                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36238 00000560 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36239                             422 I1          M_RTS
36240 00000562 000B                   M           RTS                             ;RTSの後ろの
36241 00000564 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36242                             423 I1  
36243                             424 I1  
36244 00000566                    425 I1  _R2_MUL10_ANS_R2:
36245                             426 I1          SUB_START
36246 00000566 4F22                   M           STS.L   PR,@-R15                ;[必要]
36247                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36248                             427 I1          PUSH_REG1 R1
36249 00000568 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
36250                                 M                                           ;REG=>[SP]
36251                                 M                                           ;"-4" FF,FF,FF,FC
36252 0000056A 9105               428 I1          MOV.W   #D'10,R1        ;
36253 0000056C 321D               429 I1          DMULS.L R1,R2           ;
36254 0000056E 021A               430 I1          STS     MACL,R2         ;
36255                             431 I1          POP_REG1 R1
36256                                 M                                   ; RE"+4" 00,00,00,04
36257 00000570 61F6                   M           MOV.L   @R15+,R1        ;
36258                             432 I1          SUB_END
36259                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36260 00000572 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36261                             433 I1          M_RTS
36262 00000574 000B                   M           RTS                             ;RTSの後ろの
36263 00000576 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36264                             434 I1  
36265                             435 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   544
PROGRAM NAME =

36266                             436 I1  ;       ***************************************************
36267                             437 I1  ;       ***                                             ***
36268                             438 I1  ;       ***     振り子加速度テーブル作成                ***
36269                             439 I1  ;       ***                                             ***
36270                             440 I1  ;       ***                                             ***
36271                             441 I1  ;       ***                                             ***
36272                             442 I1  ;       ***************************************************
36273                             443 I1  ;       256個　0番目=0と255番目=10000とすること
36274                             444 I1  ;;_ACC_IN_TBL_TIM       .DATA.W         255             ;255msec時間 ループ数は256
36275                             445 I1  ;;_ACC_IN_TBL_TIM       .DATA.W         50              ;255msec時間 ループ数は256
36276                             446 I1  ;
36277                             447 I1  ;
36278                             448 I1  ;       演算タイミングは
36279                             449 I1  ;                       「速度設定変更時」
36280                             450 I1  ;                       「非常停止時」
36281                             451 I1  ;                       「起動中」
36282                             452 I1  ;
36283                             453 I1  ;
36284                                 I1  ***** BEGIN-POOL *****
36285 00000578 000A                   I1  DATA FOR SOURCE-LINE 428
36286                                 I1  ***** END-POOL *****
36287 0000057A                    454 I1  _ACC_TBL_MAKE1
36288                             455 I1          SUB_START
36289 0000057A 4F22                   M           STS.L   PR,@-R15                ;[必要]
36290                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36291                             456 I1  
36292                             457 I1  
36293                             458 I1  
36294                             459 I1  ;;;;2013-02-05[移動]    FAR_JSR #_USE_IN_TBL_MOV,R0             ;2010-10-20
36295                             460 I1  ;;;;2013-02-05[移動];   ---------<<<<<加減速時間 1~1000>>>>>-----------
36296                             461 I1  ;;;;2013-02-05[移動]    MOV.L   #_TBL_ANS_ACCTIM,R1                             ;2010-10-2
                                          5
36297                             462 I1  ;;;;2013-02-05[移動]    MOV.W   @R1,R2                                          ;
36298                             463 I1  ;;;;2013-02-05[移動]    TST     R2,R2
36299                             464 I1  ;;;;2013-02-05[移動]    TST_BIT_ON ACC_TBLMAK1_DTCHK050                         ;
36300                             465 I1  ;;;;2013-02-05[移動]    MOV.W   #1,R2                                           ;
36301                             466 I1  ;;;;2013-02-05[移動]ACC_TBLMAK1_DTCHK050                                                ;
36302                             467 I1  ;;;;2013-02-05[移動]    MOV.W   #D'1000,R0                                      ;
36303                             468 I1  ;;;;2013-02-05[移動]    CMP/HS  R2,R0                                           ;
36304                             469 I1  ;;;;2013-02-05[移動]    BT      ACC_TBLMAK1_DTCHK100                            ;
36305                             470 I1  ;;;;2013-02-05[移動]    MOV     R0,R2                                           ;1msec~100
                                          0でﾘﾐｯﾄ
36306                             471 I1  ;;;;2013-02-05[移動]ACC_TBLMAK1_DTCHK100                                                ;
36307                             472 I1  ;;;;2013-02-05[移動]    MOV.L   #_ACCB_ACCLAT_TIM1,R1                           ;
36308                             473 I1  ;;;;2013-02-05[移動]    MOV.W   R2,@R1                                          ;
36309                             474 I1  
36310                             475 I1  
36311                             476 I1  ;;;[2013-05-20 前から未使用];   ----------------------------------------------------------
                                          -
36312                             477 I1  ;;;[2013-05-20 前から未使用];   ---                                                     --
                                          -
36313                             478 I1  ;;;[2013-05-20 前から未使用];   ---     BASE(0%->100%=100%→0% 最終減速)ﾃﾞｰﾀの作成      --
                                          -
36314                             479 I1  ;;;[2013-05-20 前から未使用];   ---                                                     --
                                          -
36315                             480 I1  ;;;[2013-05-20 前から未使用];   ----------------------------------------------------------
                                          -
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   545
PROGRAM NAME =

36316                             481 I1  ;;;[2013-05-20 前から未使用]
36317                             482 I1  ;;;[2013-05-20 前から未使用];   -------------- BASE(0~100.00%の加速時間,速度ﾃｰﾌﾞﾙ作成)----
                                          -----------
36318                             483 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_IN_TBLUSE,R11                             ;
                                          元ﾃｰﾌﾞﾙADR(2byte)
36319                             484 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_IN_TBL_TIM,R1                             ;2
                                          55msec ﾙｰﾌﾟは256回
36320                             485 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R1,R12                                         ;
36321                             486 I1  ;;;[2013-05-20 前から未使用]
36322                             487 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACCB_ACCLAT_TIM1,R1                           ;_
                                          SET1_ACCLAT_TIM1
36323                             488 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R1,R7                                          ;R
                                          7=最大加速時間
36324                             489 I1  ;;;[2013-05-20 前から未使用]
36325                             490 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #0,R8                                           ;R
                                          8:BASE SPEED速度
36326                             491 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #_ACC_PER_V_MAX,R9                              ;R
                                          9:目標速度
36327                             492 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPVTBL,R13                       ;R
                                          13:速度格納用//
36328                             493 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPVTBL,R5                        ;(
                                          このｹｰｽでは不要)前の段の速度-RAM
36329                             494 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_ACCTM,R14                         ;R
                                          14:加減速時間
36330                             495 I1  ;;;[2013-05-20 前から未使用]                                                            ;
36331                             496 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          5:前の段の速度-RAM
36332                             497 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          7:最大加減速時間
36333                             498 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          8:OLD-SPD
36334                             499 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          9:TARGET
36335                             500 I1  ;;;[2013-05-20 前から未使用]    MOV     R7,R10                                          ;2
                                          013-05-20 R10:(前段の加速時間/PLS TABLE用/)
36336                             501 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          11:SRC - SPD TABLE
36337                             502 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          12:SRC - 時間
36338                             503 I1  ;;;[2013-05-20 前から未使用]                                                            ;<
                                          R13:Output - SPD RAM>
36339                             504 I1  ;;;[2013-05-20 前から未使用]                                                            ;<
                                          R14:Output - ACC RAM>
36340                             505 I1  ;;;[2013-05-20 前から未使用]
36341                             506 I1  ;;;[2013-05-20 前から未使用]    PUSH_ALL                                                ;
36342                             507 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_ACC_TBL_MAKSPD1_SUB,R0                        ;
36343                             508 I1  ;;;[2013-05-20 前から未使用]    POP_ALL                                                 ;
36344                             509 I1  ;;;[2013-05-20 前から未使用]
36345                             510 I1  ;;;[2013-05-20 前から未使用];   -------------- BASE(速度ﾃｰﾌﾞﾙ作成→ﾊﾟﾙｽﾃｰﾌﾞﾙ作成)---------
                                          --
36346                             511 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_LINK_MAX_SPD_PLS,R1                           ;
36347                             512 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @R1,R6                                          ;
36348                             513 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPPTBL,R10                       ;
36349                             514 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          6=MAX pls/s
36350                             515 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          13=_ACC_BASEDAT_STPVTBL
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   546
PROGRAM NAME =

36351                             516 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          14=_ACC_BASEDAT_ACCTM
36352                             517 I1  ;;;[2013-05-20 前から未使用]                                                            ;R
                                          10=_ACC_BASEDAT_STPPTBL
36353                             518 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_ACC_TBL_MAKPLS1_SUB,R0                        ;
36354                             519 I1  ;;;[2013-05-20 前から未使用]
36355                             520 I1  ;;;[2013-05-20 前から未使用];   -------- 2013-02-25 ﾃﾞｰﾀﾁｪｯｸ及び金型ﾀｯﾁ用 ----------
36356                             521 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_DNM_MAX_GENSOK_LENGTH,R1                      ;/
                                          /100%時→0時の減速距離
36357                             522 I1  ;;;[2013-05-20 前から未使用]    MOV.L   R7,@R1                                          ;
36358                             523 I1  
36359                             524 I1  
36360                             525 I1                                                                  ;
36361                             526 I1  
36362                             527 I1  ;       -----------------------------------------------------------
36363                             528 I1  ;       ---                                                     ---
36364                             529 I1  ;       ---     1段目Data(old-sv%->sv%)ﾃﾞｰﾀの作成               ---
36365                             530 I1  ;       ---     1段目Data(0%->sv%)ﾃﾞｰﾀの作成[再起動,減速用]     ---
36366                             531 I1  ;       ---                                                     ---
36367                             532 I1  ;       -----------------------------------------------------------
36368 0000057C D00C               533 I1          MOV.L   #_ACC_STEP01_TBL_TOP,R0                         ;
36369 0000057E 401E               534 I1          LDC     R0,GBR                                          ;
36370                             535 I1          FAR_JSR #_ACC_INFO_CHNAGE_TBL_MAK,R0                    ;
36371 00000580 D00C                   M           MOV.L   #_ACC_INFO_CHNAGE_TBL_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36372 00000582 400B                   M           JSR     @R0                     ;
36373 00000584 0009                   M           NOP                                     ;
36374                             536 I1  
36375                             537 I1  ;       -----------------------------------------------------------
36376                             538 I1  ;       ---                                                     ---
36377                             539 I1  ;       ---     2段目Data(old-sv%->sv%)ﾃﾞｰﾀの作成               ---
36378                             540 I1  ;       ---     2段目Data(0%->sv%)ﾃﾞｰﾀの作成[再起動,減速用]     ---
36379                             541 I1  ;       ---                                                     ---
36380                             542 I1  ;       -----------------------------------------------------------
36381 00000586 D10C               543 I1          MOV.L   #_SETX_POS_STEP_MAX,R1                  ;//SETXは設定=1~10 戻り分+1してな
                                          い
36382 00000588 6511               544 I1          MOV.W   @R1,R5                                          ;
36383 0000058A 7501               545 I1          ADD     #1,R5
36384                             546 I1  
36385 0000058C D60B               547 I1          MOV.L   #_ACC_TBL_CAL_IN_TOP,R6                         ;
36386 0000058E 6066               548 I1          MOV.L   @R6+,R0                                         ;1段目分
36387 00000590 75FF               549 I1          ADD     #-1,R5                                          ;
36388                             550 I1  
36389 00000592                    551 I1  ACC_TBLMAK1_200LOP
36390 00000592 6066               552 I1          MOV.L   @R6+,R0                                         ;
36391                             553 I1          PUSH_REG1 R5
36392 00000594 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
36393                                 M                                           ;REG=>[SP]
36394                                 M                                           ;"-4" FF,FF,FF,FC
36395                             554 I1          PUSH_REG1 R6
36396 00000596 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
36397                                 M                                           ;REG=>[SP]
36398                                 M                                           ;"-4" FF,FF,FF,FC
36399                             555 I1  
36400 00000598 401E               556 I1          LDC     R0,GBR                                          ;
36401                             557 I1          FAR_JSR #_ACC_INFO_CHNAGE_TBL_MAK,R0                    ;
36402 0000059A D006                   M           MOV.L   #_ACC_INFO_CHNAGE_TBL_MAK,R0            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36403 0000059C 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   547
PROGRAM NAME =

36404 0000059E 0009                   M           NOP                                     ;
36405                             558 I1  
36406                             559 I1          POP_REG1 R6
36407                                 M                                   ; RE"+4" 00,00,00,04
36408 000005A0 66F6                   M           MOV.L   @R15+,R6        ;
36409                             560 I1          POP_REG1 R5
36410                                 M                                   ; RE"+4" 00,00,00,04
36411 000005A2 65F6                   M           MOV.L   @R15+,R5        ;
36412 000005A4 75FF               561 I1          ADD     #-1,R5
36413 000005A6 2558               562 I1          TST     R5,R5                                           ;
36414                             563 I1          TST_BIT_ON ACC_TBLMAK1_200LOP                           ;
36415 000005A8 8BF3                   M           BF      ACC_TBLMAK1_200LOP
36416                             564 I1  
36417                             565 I1  
36418                             566 I1  
36419                             567 I1          SUB_END
36420                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36421 000005AA 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36422                             568 I1          M_RTS
36423 000005AC 000B                   M           RTS                             ;RTSの後ろの
36424 000005AE 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36425                             569 I1  
36426                             570 I1  
36427                             571 I1  
36428                             572 I1  
36429                             573 I1  ;       *******************************************
36430                             574 I1  ;       ***                                     ***
36431                             575 I1  ;       ***     加速度パターン選択+転送         ***
36432                             576 I1  ;       ***                                     ***
36433                             577 I1  ;       *******************************************
36434                                 I1  ***** BEGIN-POOL *****
36435 000005B0 00000000               I1  DATA FOR SOURCE-LINE 533
36436 000005B4 00000000               I1  DATA FOR SOURCE-LINE 535,557
36437 000005B8 00000000               I1  DATA FOR SOURCE-LINE 543
36438 000005BC 00000000               I1  DATA FOR SOURCE-LINE 547
36439                                 I1  ***** END-POOL *****
36440 000005C0                    578 I1  _USE_IN_TBL_MOV:
36441                             579 I1          SUB_START
36442 000005C0 4F22                   M           STS.L   PR,@-R15                ;[必要]
36443                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36444                             580 I1  
36445                             581 I1  
36446                             582 I1  ;       -----------------------------------------------
36447                             583 I1  ;;;;2013-02-05  MOV.L   #_TBL_ANS_ACC_SEL,R1                            ;(0,1),2[TBL2],3[T
                                          BL3]
36448                             584 I1  ;;;;2013-02-05  MOV.W   @R1,R0                                          ;
36449                             585 I1  ;;;;2013-02-05
36450                             586 I1  ;;;;2013-02-05
36451                             587 I1  ;;;;2013-02-05
36452                             588 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL3_CNT,R7                         ;
36453                             589 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL3_IN_TOP,R5                      ;
36454                             590 I1  ;;;;2013-02-05
36455                             591 I1  ;;;;2013-02-05  CMP/EQ  #3,R0                                           ;
36456                             592 I1  ;;;;2013-02-05  BT      USE_IN_TBLMV_100                                ;
36457                             593 I1  ;;;;2013-02-05
36458                             594 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL2_CNT,R7                         ;
36459                             595 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL2_IN_TOP,R5
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   548
PROGRAM NAME =

36460                             596 I1  ;;;;2013-02-05  CMP/EQ  #2,R0                                           ;
36461                             597 I1  ;;;;2013-02-05  BT      USE_IN_TBLMV_100                                ;
36462                             598 I1  ;;;;2013-02-05
36463                             599 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL1_CNT,R7                         ;
36464                             600 I1  ;;;;2013-02-05  MOV.L   #_CB_SYS_ACCTBL1_IN_TOP,R5                      ;
36465                             601 I1  ;;;;2013-02-05
36466                             602 I1  ;;;;2013-02-05  USE_IN_TBLMV_100:
36467                             603 I1  
36468 000005C2 D707               604 I1          MOV.L   #_CB_SYS_ACCTBL1_CNT,R7                         ;
36469 000005C4 D507               605 I1          MOV.L   #_CB_SYS_ACCTBL1_IN_TOP,R5                      ;
36470 000005C6 6371               606 I1          MOV.W   @R7,R3                                          ;
36471 000005C8 D107               607 I1          MOV.L   #_ACC_IN_TBL_TIM,R1                             ;255msec ﾙｰﾌﾟは256回
36472 000005CA 2131               608 I1          MOV.W   R3,@R1                                          ;
36473 000005CC 7302               609 I1          ADD     #2,R3                                           ;
36474                             610 I1  
36475 000005CE D607               611 I1          MOV.L   #_ACC_IN_TBLUSE,R6                              ;元ﾃｰﾌﾞﾙADR(2byte)
36476                             612 I1  
36477 000005D0                    613 I1  USE_IN_TBLMV_100LOP:
36478 000005D0 2338               614 I1          TST     R3,R3
36479                             615 I1          TST_BIT_OF USE_IN_TBLMV_500
36480 000005D2 890D                   M           BT      USE_IN_TBLMV_500
36481 000005D4 6055               616 I1          MOV.W   @R5+,R0
36482 000005D6 2601               617 I1          MOV.W   R0,@R6
36483 000005D8 7602               618 I1          ADD     #2,R6                           ;
36484 000005DA 73FF               619 I1          ADD     #-1,R3                          ;
36485                             620 I1          M_BRA   USE_IN_TBLMV_100LOP             ;
36486 000005DC AFF8                   M           BRA     USE_IN_TBLMV_100LOP
36487 000005DE 0009                   M           NOP
36488                             621 I1  
36489                                 I1  ***** BEGIN-POOL *****
36490 000005E0 00000000               I1  DATA FOR SOURCE-LINE 604
36491 000005E4 00000000               I1  DATA FOR SOURCE-LINE 605
36492 000005E8 00000000               I1  DATA FOR SOURCE-LINE 607
36493 000005EC 00000000               I1  DATA FOR SOURCE-LINE 611
36494                                 I1  ***** END-POOL *****
36495 000005F0                    622 I1  USE_IN_TBLMV_500:
36496                             623 I1  
36497                             624 I1          SUB_END
36498                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36499 000005F0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36500                             625 I1          M_RTS
36501 000005F2 000B                   M           RTS                             ;RTSの後ろの
36502 000005F4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36503                             626 I1  
36504                             627 I1  
36505                             628 I1  ;       ***************************************************
36506                             629 I1  ;       ***                                             ***
36507                             630 I1  ;       ***             INFO->TABLE                     ***
36508                             631 I1  ;       ***                                             ***
36509                             632 I1  ;       ***************************************************
36510                             633 I1  ;       Input GBR
36511 000005F6                    634 I1  _ACC_INFO_CHNAGE_TBL_MAK:
36512                             635 I1          SUB_START
36513 000005F6 4F22                   M           STS.L   PR,@-R15                ;[必要]
36514                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
36515 000005F8 C600               636 I1          MOV.L   @(AFM_SRC_TBL_TOP-ACC_FORM_TOP,GBR),R0          ;
36516 000005FA 6B03               637 I1          MOV     R0,R11                                          ;ACC_IN_TBL1;元ﾃｰﾌﾞﾙADR(2b
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   549
PROGRAM NAME =

                                          yte)
36517                             638 I1  
36518 000005FC C601               639 I1          MOV.L   @(AFM_SRC_TBL_MEM-ACC_FORM_TOP,GBR),R0          ;
36519 000005FE 6C01               640 I1          MOV.W   @R0,R12                                         ;_ACC_IN_TBL_TIM
36520                             641 I1  
36521 00000600 D136               642 I1          MOV.L   #_ACCB_ACCLAT_TIM1,R1                           ;_SET1_ACCLAT_TIM1
36522 00000602 6711               643 I1          MOV.W   @R1,R7                                          ;R7=最大加速時間
36523                             644 I1  
36524 00000604 C602               645 I1          MOV.L   @(AFM_STEP_INF_SPD-ACC_FORM_TOP,GBR),R0         ;
36525 00000606 6805               646 I1          MOV.W   @R0+,R8                                         ;R8:BASE SPEED速度
36526 00000608 6901               647 I1          MOV.W   @R0,R9                                          ;R9:目標速度
36527                             648 I1  
36528 0000060A C604               649 I1          MOV.L   @(AFM_OLD_CTLVTBL-ACC_FORM_TOP,GBR),R0          ;前段の速度TBL(前段=現段速
                                          度時使用)
36529 0000060C 6503               650 I1          MOV     R0,R5                                           ;
36530 0000060E C606               651 I1          MOV.L   @(AFM_DST_CTLVTBL-ACC_FORM_TOP,GBR),R0          ;今回の速度格納用
36531 00000610 6D03               652 I1          MOV     R0,R13                                          ;
36532                             653 I1  
36533 00000612 C607               654 I1          MOV.L   @(AFM_DST_CTLACTM-ACC_FORM_TOP,GBR),R0          ;
36534 00000614 6E03               655 I1          MOV     R0,R14                                          ;今回の加速時間格納用
36535                             656 I1  
36536 00000616 C605               657 I1          MOV.L   @(AFM_OLD_CTLACTM-ACC_FORM_TOP,GBR),R0          ;2013-05-20
36537 00000618 6A01               658 I1          MOV.W   @R0,R10                                         ;注意　前段の加速時間(前段
                                          =現段速度時使用)
36538                             659 I1  
36539                             660 I1  
36540                             661 I1  
36541                             662 I1          PUSH_ALL                                                ;
36542                                 M           PUSH_REG1       R0      ;
36543 0000061A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
36544                                 M                                           ;REG=>[SP]
36545                                 M                                           ;"-4" FF,FF,FF,FC
36546                                 M           PUSH_REG1       R1      ;
36547 0000061C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
36548                                 M                                           ;REG=>[SP]
36549                                 M                                           ;"-4" FF,FF,FF,FC
36550                                 M           PUSH_REG1       R2      ;
36551 0000061E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
36552                                 M                                           ;REG=>[SP]
36553                                 M                                           ;"-4" FF,FF,FF,FC
36554                                 M           PUSH_REG1       R3      ;
36555 00000620 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
36556                                 M                                           ;REG=>[SP]
36557                                 M                                           ;"-4" FF,FF,FF,FC
36558                                 M           PUSH_REG1       R4      ;
36559 00000622 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
36560                                 M                                           ;REG=>[SP]
36561                                 M                                           ;"-4" FF,FF,FF,FC
36562                                 M           PUSH_REG1       R5      ;
36563 00000624 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
36564                                 M                                           ;REG=>[SP]
36565                                 M                                           ;"-4" FF,FF,FF,FC
36566                                 M           PUSH_REG1       R6      ;
36567 00000626 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
36568                                 M                                           ;REG=>[SP]
36569                                 M                                           ;"-4" FF,FF,FF,FC
36570                                 M           PUSH_REG1       R7      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   550
PROGRAM NAME =

36571 00000628 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
36572                                 M                                           ;REG=>[SP]
36573                                 M                                           ;"-4" FF,FF,FF,FC
36574                                 M           PUSH_REG1       R8      ;
36575 0000062A 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
36576                                 M                                           ;REG=>[SP]
36577                                 M                                           ;"-4" FF,FF,FF,FC
36578                                 M           PUSH_REG1       R9      ;
36579 0000062C 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
36580                                 M                                           ;REG=>[SP]
36581                                 M                                           ;"-4" FF,FF,FF,FC
36582                                 M           PUSH_REG1       R10     ;
36583 0000062E 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
36584                                 M                                           ;REG=>[SP]
36585                                 M                                           ;"-4" FF,FF,FF,FC
36586                                 M           PUSH_REG1       R11     ;
36587 00000630 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
36588                                 M                                           ;REG=>[SP]
36589                                 M                                           ;"-4" FF,FF,FF,FC
36590                                 M           PUSH_REG1       R12     ;
36591 00000632 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
36592                                 M                                           ;REG=>[SP]
36593                                 M                                           ;"-4" FF,FF,FF,FC
36594                                 M           PUSH_REG1       R13     ;
36595 00000634 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
36596                                 M                                           ;REG=>[SP]
36597                                 M                                           ;"-4" FF,FF,FF,FC
36598                                 M           PUSH_REG1       R14     ;
36599 00000636 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
36600                                 M                                           ;REG=>[SP]
36601                                 M                                           ;"-4" FF,FF,FF,FC
36602                                 M           PUSH_MACHL              ;
36603 00000638 4F02                   M           STS.L   MACH,@-R15
36604 0000063A 4F12                   M           STS.L   MACL,@-R15
36605                                 M           PUSH_SYS_REG    GBR     ;
36606 0000063C 4F13                   M           STC.L   GBR,@-R15
36607                                 M           .AIF    3 EQ 3
36608                                             .AELSE
36609                                             PUSH_FPU_ALL            ;2001-07-08
36610                                             .AENDI
36611                             663 I1          FAR_JSR #_ACC_TBL_MAKSPD1_SUB,R0                        ;X%(OLD)->Y%(NEW:ﾀｰｹﾞｯﾄ作
                                          成)ANS R13,R14
36612 0000063E D028                   M           MOV.L   #_ACC_TBL_MAKSPD1_SUB,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36613 00000640 400B                   M           JSR     @R0                     ;
36614 00000642 0009                   M           NOP                                     ;
36615                             664 I1          POP_ALL                                                 ;
36616                                 M           .AIF    3 EQ 3
36617                                             .AELSE
36618                                             POP_FPU_ALL             ;2001-07-08
36619                                             .AENDI
36620                                 M           POP_SYS_REG     GBR     ;
36621 00000644 4F17                   M           LDC.L   @R15+,GBR
36622                                 M           POP_MACHL               ;
36623 00000646 4F16                   M           LDS.L   @R15+,MACL
36624 00000648 4F06                   M           LDS.L   @R15+,MACH
36625                                 M           POP_REG1        R14     ;
36626                                 M                                   ; RE"+4" 00,00,00,04
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   551
PROGRAM NAME =

36627 0000064A 6EF6                   M           MOV.L   @R15+,R14        ;
36628                                 M           POP_REG1        R13     ;
36629                                 M                                   ; RE"+4" 00,00,00,04
36630 0000064C 6DF6                   M           MOV.L   @R15+,R13        ;
36631                                 M           POP_REG1        R12     ;
36632                                 M                                   ; RE"+4" 00,00,00,04
36633 0000064E 6CF6                   M           MOV.L   @R15+,R12        ;
36634                                 M           POP_REG1        R11     ;
36635                                 M                                   ; RE"+4" 00,00,00,04
36636 00000650 6BF6                   M           MOV.L   @R15+,R11        ;
36637                                 M           POP_REG1        R10     ;
36638                                 M                                   ; RE"+4" 00,00,00,04
36639 00000652 6AF6                   M           MOV.L   @R15+,R10        ;
36640                                 M           POP_REG1        R9      ;
36641                                 M                                   ; RE"+4" 00,00,00,04
36642 00000654 69F6                   M           MOV.L   @R15+,R9        ;
36643                                 M           POP_REG1        R8      ;
36644                                 M                                   ; RE"+4" 00,00,00,04
36645 00000656 68F6                   M           MOV.L   @R15+,R8        ;
36646                                 M           POP_REG1        R7      ;
36647                                 M                                   ; RE"+4" 00,00,00,04
36648 00000658 67F6                   M           MOV.L   @R15+,R7        ;
36649                                 M           POP_REG1        R6      ;
36650                                 M                                   ; RE"+4" 00,00,00,04
36651 0000065A 66F6                   M           MOV.L   @R15+,R6        ;
36652                                 M           POP_REG1        R5      ;
36653                                 M                                   ; RE"+4" 00,00,00,04
36654 0000065C 65F6                   M           MOV.L   @R15+,R5        ;
36655                                 M           POP_REG1        R4      ;
36656                                 M                                   ; RE"+4" 00,00,00,04
36657 0000065E 64F6                   M           MOV.L   @R15+,R4        ;
36658                                 M           POP_REG1        R3      ;
36659                                 M                                   ; RE"+4" 00,00,00,04
36660 00000660 63F6                   M           MOV.L   @R15+,R3        ;
36661                                 M           POP_REG1        R2      ;
36662                                 M                                   ; RE"+4" 00,00,00,04
36663 00000662 62F6                   M           MOV.L   @R15+,R2        ;
36664                                 M           POP_REG1        R1      ;
36665                                 M                                   ; RE"+4" 00,00,00,04
36666 00000664 61F6                   M           MOV.L   @R15+,R1        ;
36667                                 M           POP_REG1        R0      ;
36668                                 M                                   ; RE"+4" 00,00,00,04
36669 00000666 60F6                   M           MOV.L   @R15+,R0        ;
36670                             665 I1  
36671                             666 I1  
36672                             667 I1  ;       -----------------(停止演算 0->設定% 速度)--------
36673 00000668 288A               668 I1          XOR     R8,R8                                           ;0(R8)--設定(R9)
36674 0000066A C608               669 I1          MOV.L   @(AFM_OLD_STPVTBL-ACC_FORM_TOP,GBR),R0          ;
36675 0000066C 6503               670 I1          MOV     R0,R5                                           ;(暴走対策/ありえない)
36676 0000066E C60A               671 I1          MOV.L   @(AFM_DST_STPVTBL-ACC_FORM_TOP,GBR),R0          ;
36677 00000670 6D03               672 I1          MOV     R0,R13                                          ;
36678 00000672 C60B               673 I1          MOV.L   @(AFM_DST_STPACTM-ACC_FORM_TOP,GBR),R0          ;
36679 00000674 6E03               674 I1          MOV     R0,R14                                          ;
36680                             675 I1  
36681 00000676 C609               676 I1          MOV.L   @(AFM_OLD_STPACTM-ACC_FORM_TOP,GBR),R0          ;2013-05-20
36682 00000678 6A01               677 I1          MOV.W   @R0,R10                                         ;注意　前段の加速時間(前段
                                          =現段速度時使用)
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   552
PROGRAM NAME =

36683                             678 I1  
36684                             679 I1          PUSH_ALL                                                ;
36685                                 M           PUSH_REG1       R0      ;
36686 0000067A 2F06                   M           MOV.L   R0,@-R15                ;PUSH=SP-4
36687                                 M                                           ;REG=>[SP]
36688                                 M                                           ;"-4" FF,FF,FF,FC
36689                                 M           PUSH_REG1       R1      ;
36690 0000067C 2F16                   M           MOV.L   R1,@-R15                ;PUSH=SP-4
36691                                 M                                           ;REG=>[SP]
36692                                 M                                           ;"-4" FF,FF,FF,FC
36693                                 M           PUSH_REG1       R2      ;
36694 0000067E 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
36695                                 M                                           ;REG=>[SP]
36696                                 M                                           ;"-4" FF,FF,FF,FC
36697                                 M           PUSH_REG1       R3      ;
36698 00000680 2F36                   M           MOV.L   R3,@-R15                ;PUSH=SP-4
36699                                 M                                           ;REG=>[SP]
36700                                 M                                           ;"-4" FF,FF,FF,FC
36701                                 M           PUSH_REG1       R4      ;
36702 00000682 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
36703                                 M                                           ;REG=>[SP]
36704                                 M                                           ;"-4" FF,FF,FF,FC
36705                                 M           PUSH_REG1       R5      ;
36706 00000684 2F56                   M           MOV.L   R5,@-R15                ;PUSH=SP-4
36707                                 M                                           ;REG=>[SP]
36708                                 M                                           ;"-4" FF,FF,FF,FC
36709                                 M           PUSH_REG1       R6      ;
36710 00000686 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
36711                                 M                                           ;REG=>[SP]
36712                                 M                                           ;"-4" FF,FF,FF,FC
36713                                 M           PUSH_REG1       R7      ;
36714 00000688 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
36715                                 M                                           ;REG=>[SP]
36716                                 M                                           ;"-4" FF,FF,FF,FC
36717                                 M           PUSH_REG1       R8      ;
36718 0000068A 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
36719                                 M                                           ;REG=>[SP]
36720                                 M                                           ;"-4" FF,FF,FF,FC
36721                                 M           PUSH_REG1       R9      ;
36722 0000068C 2F96                   M           MOV.L   R9,@-R15                ;PUSH=SP-4
36723                                 M                                           ;REG=>[SP]
36724                                 M                                           ;"-4" FF,FF,FF,FC
36725                                 M           PUSH_REG1       R10     ;
36726 0000068E 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
36727                                 M                                           ;REG=>[SP]
36728                                 M                                           ;"-4" FF,FF,FF,FC
36729                                 M           PUSH_REG1       R11     ;
36730 00000690 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
36731                                 M                                           ;REG=>[SP]
36732                                 M                                           ;"-4" FF,FF,FF,FC
36733                                 M           PUSH_REG1       R12     ;
36734 00000692 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
36735                                 M                                           ;REG=>[SP]
36736                                 M                                           ;"-4" FF,FF,FF,FC
36737                                 M           PUSH_REG1       R13     ;
36738 00000694 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
36739                                 M                                           ;REG=>[SP]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   553
PROGRAM NAME =

36740                                 M                                           ;"-4" FF,FF,FF,FC
36741                                 M           PUSH_REG1       R14     ;
36742 00000696 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
36743                                 M                                           ;REG=>[SP]
36744                                 M                                           ;"-4" FF,FF,FF,FC
36745                                 M           PUSH_MACHL              ;
36746 00000698 4F02                   M           STS.L   MACH,@-R15
36747 0000069A 4F12                   M           STS.L   MACL,@-R15
36748                                 M           PUSH_SYS_REG    GBR     ;
36749 0000069C 4F13                   M           STC.L   GBR,@-R15
36750                                 M           .AIF    3 EQ 3
36751                                             .AELSE
36752                                             PUSH_FPU_ALL            ;2001-07-08
36753                                             .AENDI
36754                             680 I1          FAR_JSR #_ACC_TBL_MAKSPD1_SUB,R0                        ;0%->Y%(NEW:ﾀｰｹﾞｯﾄ作成)ANS
                                           R13,R14
36755 0000069E D010                   M           MOV.L   #_ACC_TBL_MAKSPD1_SUB,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36756 000006A0 400B                   M           JSR     @R0                     ;
36757 000006A2 0009                   M           NOP                                     ;
36758                             681 I1          POP_ALL                                                 ;
36759                                 M           .AIF    3 EQ 3
36760                                             .AELSE
36761                                             POP_FPU_ALL             ;2001-07-08
36762                                             .AENDI
36763                                 M           POP_SYS_REG     GBR     ;
36764 000006A4 4F17                   M           LDC.L   @R15+,GBR
36765                                 M           POP_MACHL               ;
36766 000006A6 4F16                   M           LDS.L   @R15+,MACL
36767 000006A8 4F06                   M           LDS.L   @R15+,MACH
36768                                 M           POP_REG1        R14     ;
36769                                 M                                   ; RE"+4" 00,00,00,04
36770 000006AA 6EF6                   M           MOV.L   @R15+,R14        ;
36771                                 M           POP_REG1        R13     ;
36772                                 M                                   ; RE"+4" 00,00,00,04
36773 000006AC 6DF6                   M           MOV.L   @R15+,R13        ;
36774                                 M           POP_REG1        R12     ;
36775                                 M                                   ; RE"+4" 00,00,00,04
36776 000006AE 6CF6                   M           MOV.L   @R15+,R12        ;
36777                                 M           POP_REG1        R11     ;
36778                                 M                                   ; RE"+4" 00,00,00,04
36779 000006B0 6BF6                   M           MOV.L   @R15+,R11        ;
36780                                 M           POP_REG1        R10     ;
36781                                 M                                   ; RE"+4" 00,00,00,04
36782 000006B2 6AF6                   M           MOV.L   @R15+,R10        ;
36783                                 M           POP_REG1        R9      ;
36784                                 M                                   ; RE"+4" 00,00,00,04
36785 000006B4 69F6                   M           MOV.L   @R15+,R9        ;
36786                                 M           POP_REG1        R8      ;
36787                                 M                                   ; RE"+4" 00,00,00,04
36788 000006B6 68F6                   M           MOV.L   @R15+,R8        ;
36789                                 M           POP_REG1        R7      ;
36790                                 M                                   ; RE"+4" 00,00,00,04
36791 000006B8 67F6                   M           MOV.L   @R15+,R7        ;
36792                                 M           POP_REG1        R6      ;
36793                                 M                                   ; RE"+4" 00,00,00,04
36794 000006BA 66F6                   M           MOV.L   @R15+,R6        ;
36795                                 M           POP_REG1        R5      ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   554
PROGRAM NAME =

36796                                 M                                   ; RE"+4" 00,00,00,04
36797 000006BC 65F6                   M           MOV.L   @R15+,R5        ;
36798                                 M           POP_REG1        R4      ;
36799                                 M                                   ; RE"+4" 00,00,00,04
36800 000006BE 64F6                   M           MOV.L   @R15+,R4        ;
36801                                 M           POP_REG1        R3      ;
36802                                 M                                   ; RE"+4" 00,00,00,04
36803 000006C0 63F6                   M           MOV.L   @R15+,R3        ;
36804                                 M           POP_REG1        R2      ;
36805                                 M                                   ; RE"+4" 00,00,00,04
36806 000006C2 62F6                   M           MOV.L   @R15+,R2        ;
36807                                 M           POP_REG1        R1      ;
36808                                 M                                   ; RE"+4" 00,00,00,04
36809 000006C4 61F6                   M           MOV.L   @R15+,R1        ;
36810                                 M           POP_REG1        R0      ;
36811                                 M                                   ; RE"+4" 00,00,00,04
36812 000006C6 60F6                   M           MOV.L   @R15+,R0        ;
36813                             682 I1  
36814                             683 I1  
36815                             684 I1  ;       ---------------(停止演算 0->設定% pls)--------
36816                             685 I1  ;       -------------- (速度ﾃｰﾌﾞﾙ作成→ﾊﾟﾙｽﾃｰﾌﾞﾙ作成)-----------
36817 000006C8 D106               686 I1          MOV.L   #_LINK_MAX_SPD_PLS,R1                           ;
36818 000006CA 6612               687 I1          MOV.L   @R1,R6                                          ;
36819 000006CC C60C               688 I1          MOV.L   @(AFM_DST_STPPTBL-ACC_FORM_TOP,GBR),R0          ;
36820 000006CE 6A03               689 I1          MOV     R0,R10                                          ;
36821                             690 I1                                                                  ;
36822                             691 I1                                                                  ;R6=MAX pls/s
36823                             692 I1                                                                  ;R13=_ACC_****_STPVTBL(ﾃﾞｰ
                                          ﾀ元)
36824                             693 I1                                                                  ;R14=_ACC_****_ACTM(LOOP個
                                          数)
36825                             694 I1                                                                  ;R10=_ACC_****_STPPTBL ANS
36826                             695 I1          FAR_JSR #_ACC_TBL_MAKPLS1_SUB,R0                        ;
36827 000006D0 D005                   M           MOV.L   #_ACC_TBL_MAKPLS1_SUB,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
36828 000006D2 400B                   M           JSR     @R0                     ;
36829 000006D4 0009                   M           NOP                                     ;
36830                             696 I1  
36831                             697 I1          SUB_END
36832                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
36833 000006D6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
36834                             698 I1          M_RTS
36835 000006D8 000B                   M           RTS                             ;RTSの後ろの
36836 000006DA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
36837                             699 I1  
36838                             700 I1  
36839                             701 I1  
36840                             702 I1  
36841                                 I1  ***** BEGIN-POOL *****
36842 000006DC 00000000               I1  DATA FOR SOURCE-LINE 642
36843 000006E0 00000000               I1  DATA FOR SOURCE-LINE 663,680
36844 000006E4 00000000               I1  DATA FOR SOURCE-LINE 686
36845 000006E8 00000000               I1  DATA FOR SOURCE-LINE 695
36846                                 I1  ***** END-POOL *****
36847 000006EC                    703 I1          .ALIGN  4                                       ;
36848 000006EC                    704 I1  _ACC_TBL_CAL_IN_TOP
36849 000006EC 00000000           705 I1          .DATA.L _ACC_STEP01_TBL_TOP
36850 000006F0 00000000           706 I1          .DATA.L _ACC_STEP02_TBL_TOP
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   555
PROGRAM NAME =

36851 000006F4 00000000           707 I1          .DATA.L _ACC_STEP03_TBL_TOP
36852 000006F8 00000000           708 I1          .DATA.L _ACC_STEP04_TBL_TOP
36853 000006FC 00000000           709 I1          .DATA.L _ACC_STEP05_TBL_TOP
36854 00000700 00000000           710 I1          .DATA.L _ACC_STEP06_TBL_TOP
36855 00000704 00000000           711 I1          .DATA.L _ACC_STEP07_TBL_TOP
36856 00000708 00000000           712 I1          .DATA.L _ACC_STEP08_TBL_TOP
36857 0000070C 00000000           713 I1          .DATA.L _ACC_STEP09_TBL_TOP
36858 00000710 00000000           714 I1          .DATA.L _ACC_STEP10_TBL_TOP
36859 00000714 00000000           715 I1          .DATA.L _ACC_STEP11_TBL_TOP
36860                             716 I1  
36861                             717 I1  
36862                             718 I1  
36863 00000718                    719 I1          .ALIGN  4                                       ;
36864 00000718                    720 I1  _ACC_STEP01_TBL_TOP
36865 00000718                    721 I1  ACC_FORM_TOP
36866 00000718 00000000           722 I1  AFM_SRC_TBL_TOP         .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
36867 0000071C 00000000           723 I1  AFM_SRC_TBL_MEM         .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
36868 00000720 00000000           724 I1  AFM_STEP_INF_SPD        .DATA.L         _ACC_INF1_STEPSP01      ;[03]000%[前状態],050%[設
                                          定]
36869 00000724 00000000           725 I1  AFM_STEP_INF_FLG        .DATA.L         _ACC_INF1_STEP001       ;[04]//BIT2=[加速:0/減速:1
                                          ] BIT1=[]   BIT0=0(停止) =1(連続)
36870 00000728 00000000           726 I1  AFM_OLD_CTLVTBL         .DATA.L         _ACC_STEP001_VTBL       ;[05]前回速度(前段=現段速
                                          度)1段では使用しない
36871 0000072C 00000000           727 I1  AFM_OLD_CTLACTM         .DATA.L         _ACC_STEP001_ACTM       ;[06]前回時間(前段=現段速
                                          度)1段では使用しない
36872 00000730 00000000           728 I1  AFM_DST_CTLVTBL         .DATA.L         _ACC_STEP001_VTBL       ;[07]
36873 00000734 00000000           729 I1  AFM_DST_CTLACTM         .DATA.L         _ACC_STEP001_ACTM       ;[08]
36874 00000738 00000000           730 I1  AFM_OLD_STPVTBL         .DATA.L         _ACC_STOP001_VTBL       ;[09]前回速度(前段=現段速
                                          度)1段では使用しない
36875 0000073C 00000000           731 I1  AFM_OLD_STPACTM         .DATA.L         _ACC_STOP001_ACTM       ;[10]前回時間(前段=現段速
                                          度)1段では使用しない
36876 00000740 00000000           732 I1  AFM_DST_STPVTBL         .DATA.L         _ACC_STOP001_VTBL       ;[11]
36877 00000744 00000000           733 I1  AFM_DST_STPACTM         .DATA.L         _ACC_STOP001_ACTM       ;[12]
36878 00000748 00000000           734 I1  AFM_DST_STPPTBL         .DATA.L         _ACC_STOP001_PTBL       ;[13]
36879                             735 I1  
36880                             736 I1  
36881                             737 I1  
36882 0000074C                    738 I1  _ACC_STEP02_TBL_TOP
36883 0000074C 00000000           739 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
36884 00000750 00000000           740 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
36885 00000754 00000000           741 I1          .DATA.L         _ACC_INF1_STEPSP02      ;[03]000%[前状態],050%[設定]
36886 00000758 00000000           742 I1          .DATA.L         _ACC_INF1_STEP002       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
36887 0000075C 00000000           743 I1          .DATA.L         _ACC_STEP001_VTBL       ;[05]前回速度(前段=現段速度)
36888 00000760 00000000           744 I1          .DATA.L         _ACC_STEP001_ACTM       ;[06]前回時間(前段=現段速度)
36889 00000764 00000000           745 I1          .DATA.L         _ACC_STEP002_VTBL       ;[07]
36890 00000768 00000000           746 I1          .DATA.L         _ACC_STEP002_ACTM       ;[08]
36891 0000076C 00000000           747 I1          .DATA.L         _ACC_STOP001_VTBL       ;[09]前回速度(前段=現段速度)
36892 00000770 00000000           748 I1          .DATA.L         _ACC_STOP001_ACTM       ;[10]前回時間(前段=現段速度)
36893 00000774 00000000           749 I1          .DATA.L         _ACC_STOP002_VTBL       ;[11]
36894 00000778 00000000           750 I1          .DATA.L         _ACC_STOP002_ACTM       ;[12]
36895 0000077C 00000000           751 I1          .DATA.L         _ACC_STOP002_PTBL       ;[13]
36896                             752 I1  
36897 00000780                    753 I1  _ACC_STEP03_TBL_TOP
36898 00000780 00000000           754 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
36899 00000784 00000000           755 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
36900 00000788 00000000           756 I1          .DATA.L         _ACC_INF1_STEPSP03      ;[03]000%[前状態],050%[設定]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   556
PROGRAM NAME =

36901 0000078C 00000000           757 I1          .DATA.L         _ACC_INF1_STEP003       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
36902 00000790 00000000           758 I1          .DATA.L         _ACC_STEP002_VTBL       ;[05]
36903 00000794 00000000           759 I1          .DATA.L         _ACC_STEP002_ACTM       ;[06]
36904 00000798 00000000           760 I1          .DATA.L         _ACC_STEP003_VTBL       ;[07]
36905 0000079C 00000000           761 I1          .DATA.L         _ACC_STEP003_ACTM       ;[08]
36906 000007A0 00000000           762 I1          .DATA.L         _ACC_STOP002_VTBL       ;[09]
36907 000007A4 00000000           763 I1          .DATA.L         _ACC_STOP002_ACTM       ;[10]
36908 000007A8 00000000           764 I1          .DATA.L         _ACC_STOP003_VTBL       ;[11]
36909 000007AC 00000000           765 I1          .DATA.L         _ACC_STOP003_ACTM       ;[12]
36910 000007B0 00000000           766 I1          .DATA.L         _ACC_STOP003_PTBL       ;[13]
36911                             767 I1  
36912 000007B4                    768 I1  _ACC_STEP04_TBL_TOP
36913 000007B4 00000000           769 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
36914 000007B8 00000000           770 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
36915 000007BC 00000000           771 I1          .DATA.L         _ACC_INF1_STEPSP04      ;[03]000%[前状態],050%[設定]
36916 000007C0 00000000           772 I1          .DATA.L         _ACC_INF1_STEP004       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
36917 000007C4 00000000           773 I1          .DATA.L         _ACC_STEP003_VTBL       ;[05](STEP1では使用しない)
36918 000007C8 00000000           774 I1          .DATA.L         _ACC_STEP003_ACTM       ;[06]
36919 000007CC 00000000           775 I1          .DATA.L         _ACC_STEP004_VTBL       ;[07]
36920 000007D0 00000000           776 I1          .DATA.L         _ACC_STEP004_ACTM       ;[08]
36921 000007D4 00000000           777 I1          .DATA.L         _ACC_STOP003_VTBL       ;[09]
36922 000007D8 00000000           778 I1          .DATA.L         _ACC_STOP003_ACTM       ;[10]
36923 000007DC 00000000           779 I1          .DATA.L         _ACC_STOP004_VTBL       ;[11]
36924 000007E0 00000000           780 I1          .DATA.L         _ACC_STOP004_ACTM       ;[12]
36925 000007E4 00000000           781 I1          .DATA.L         _ACC_STOP004_PTBL       ;[13]
36926                             782 I1  
36927                             783 I1  
36928 000007E8                    784 I1  _ACC_STEP05_TBL_TOP
36929 000007E8 00000000           785 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
36930 000007EC 00000000           786 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
36931 000007F0 00000000           787 I1          .DATA.L         _ACC_INF1_STEPSP05      ;[03]000%[前状態],050%[設定]
36932 000007F4 00000000           788 I1          .DATA.L         _ACC_INF1_STEP005       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
36933 000007F8 00000000           789 I1          .DATA.L         _ACC_STEP004_VTBL       ;[05](STEP1では使用しない)
36934 000007FC 00000000           790 I1          .DATA.L         _ACC_STEP004_ACTM       ;[06]
36935 00000800 00000000           791 I1          .DATA.L         _ACC_STEP005_VTBL       ;[07]
36936 00000804 00000000           792 I1          .DATA.L         _ACC_STEP005_ACTM       ;[08]
36937 00000808 00000000           793 I1          .DATA.L         _ACC_STOP004_VTBL       ;[09]
36938 0000080C 00000000           794 I1          .DATA.L         _ACC_STOP004_ACTM       ;[10]
36939 00000810 00000000           795 I1          .DATA.L         _ACC_STOP005_VTBL       ;[11]
36940 00000814 00000000           796 I1          .DATA.L         _ACC_STOP005_ACTM       ;[12]
36941 00000818 00000000           797 I1          .DATA.L         _ACC_STOP005_PTBL       ;[13]
36942                             798 I1  
36943 0000081C                    799 I1  _ACC_STEP06_TBL_TOP
36944 0000081C 00000000           800 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
36945 00000820 00000000           801 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
36946 00000824 00000000           802 I1          .DATA.L         _ACC_INF1_STEPSP06      ;[03]000%[前状態],050%[設定]
36947 00000828 00000000           803 I1          .DATA.L         _ACC_INF1_STEP006       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
36948 0000082C 00000000           804 I1          .DATA.L         _ACC_STEP005_VTBL       ;[05](STEP1では使用しない)
36949 00000830 00000000           805 I1          .DATA.L         _ACC_STEP005_ACTM       ;[06]
36950 00000834 00000000           806 I1          .DATA.L         _ACC_STEP006_VTBL       ;[07]
36951 00000838 00000000           807 I1          .DATA.L         _ACC_STEP006_ACTM       ;[08]
36952 0000083C 00000000           808 I1          .DATA.L         _ACC_STOP005_VTBL       ;[09]
36953 00000840 00000000           809 I1          .DATA.L         _ACC_STOP005_ACTM       ;[10]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   557
PROGRAM NAME =

36954 00000844 00000000           810 I1          .DATA.L         _ACC_STOP006_VTBL       ;[11]
36955 00000848 00000000           811 I1          .DATA.L         _ACC_STOP006_ACTM       ;[12]
36956 0000084C 00000000           812 I1          .DATA.L         _ACC_STOP006_PTBL       ;[13]
36957                             813 I1  
36958 00000850                    814 I1  _ACC_STEP07_TBL_TOP
36959 00000850 00000000           815 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
36960 00000854 00000000           816 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
36961 00000858 00000000           817 I1          .DATA.L         _ACC_INF1_STEPSP07      ;[03]000%[前状態],050%[設定]
36962 0000085C 00000000           818 I1          .DATA.L         _ACC_INF1_STEP007       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
36963 00000860 00000000           819 I1          .DATA.L         _ACC_STEP006_VTBL       ;[05](STEP1では使用しない)
36964 00000864 00000000           820 I1          .DATA.L         _ACC_STEP006_ACTM       ;[06]
36965 00000868 00000000           821 I1          .DATA.L         _ACC_STEP007_VTBL       ;[07]
36966 0000086C 00000000           822 I1          .DATA.L         _ACC_STEP007_ACTM       ;[08]
36967 00000870 00000000           823 I1          .DATA.L         _ACC_STOP006_VTBL       ;[09]
36968 00000874 00000000           824 I1          .DATA.L         _ACC_STOP006_ACTM       ;[10]
36969 00000878 00000000           825 I1          .DATA.L         _ACC_STOP007_VTBL       ;[11]
36970 0000087C 00000000           826 I1          .DATA.L         _ACC_STOP007_ACTM       ;[12]
36971 00000880 00000000           827 I1          .DATA.L         _ACC_STOP007_PTBL       ;[13]
36972                             828 I1  
36973 00000884                    829 I1  _ACC_STEP08_TBL_TOP
36974 00000884 00000000           830 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
36975 00000888 00000000           831 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
36976 0000088C 00000000           832 I1          .DATA.L         _ACC_INF1_STEPSP08      ;[03]000%[前状態],050%[設定]
36977 00000890 00000000           833 I1          .DATA.L         _ACC_INF1_STEP008       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
36978 00000894 00000000           834 I1          .DATA.L         _ACC_STEP007_VTBL       ;[05](STEP1では使用しない)
36979 00000898 00000000           835 I1          .DATA.L         _ACC_STEP007_ACTM       ;[06]
36980 0000089C 00000000           836 I1          .DATA.L         _ACC_STEP008_VTBL       ;[07]
36981 000008A0 00000000           837 I1          .DATA.L         _ACC_STEP008_ACTM       ;[08]
36982 000008A4 00000000           838 I1          .DATA.L         _ACC_STOP007_VTBL       ;[09]
36983 000008A8 00000000           839 I1          .DATA.L         _ACC_STOP007_ACTM       ;[10]
36984 000008AC 00000000           840 I1          .DATA.L         _ACC_STOP008_VTBL       ;[11]
36985 000008B0 00000000           841 I1          .DATA.L         _ACC_STOP008_ACTM       ;[12]
36986 000008B4 00000000           842 I1          .DATA.L         _ACC_STOP008_PTBL       ;[13]
36987                             843 I1  
36988 000008B8                    844 I1  _ACC_STEP09_TBL_TOP
36989 000008B8 00000000           845 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
36990 000008BC 00000000           846 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
36991 000008C0 00000000           847 I1          .DATA.L         _ACC_INF1_STEPSP09      ;[03]000%[前状態],050%[設定]
36992 000008C4 00000000           848 I1          .DATA.L         _ACC_INF1_STEP009       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
36993 000008C8 00000000           849 I1          .DATA.L         _ACC_STEP008_VTBL       ;[05](STEP1では使用しない)
36994 000008CC 00000000           850 I1          .DATA.L         _ACC_STEP008_ACTM       ;[06]
36995 000008D0 00000000           851 I1          .DATA.L         _ACC_STEP009_VTBL       ;[07]
36996 000008D4 00000000           852 I1          .DATA.L         _ACC_STEP009_ACTM       ;[08]
36997 000008D8 00000000           853 I1          .DATA.L         _ACC_STOP008_VTBL       ;[09]
36998 000008DC 00000000           854 I1          .DATA.L         _ACC_STOP008_ACTM       ;[10]
36999 000008E0 00000000           855 I1          .DATA.L         _ACC_STOP009_VTBL       ;[11]
37000 000008E4 00000000           856 I1          .DATA.L         _ACC_STOP009_ACTM       ;[12]
37001 000008E8 00000000           857 I1          .DATA.L         _ACC_STOP009_PTBL       ;[13]
37002                             858 I1  
37003 000008EC                    859 I1  _ACC_STEP10_TBL_TOP
37004 000008EC 00000000           860 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
37005 000008F0 00000000           861 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
37006 000008F4 00000000           862 I1          .DATA.L         _ACC_INF1_STEPSP10      ;[03]000%[前状態],050%[設定]
37007 000008F8 00000000           863 I1          .DATA.L         _ACC_INF1_STEP010       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   558
PROGRAM NAME =

                                          =0(停止) =1(連続)
37008 000008FC 00000000           864 I1          .DATA.L         _ACC_STEP009_VTBL       ;[05](STEP1では使用しない)
37009 00000900 00000000           865 I1          .DATA.L         _ACC_STEP009_ACTM       ;[06]
37010 00000904 00000000           866 I1          .DATA.L         _ACC_STEP010_VTBL       ;[07]
37011 00000908 00000000           867 I1          .DATA.L         _ACC_STEP010_ACTM       ;[08]
37012 0000090C 00000000           868 I1          .DATA.L         _ACC_STOP009_VTBL       ;[09]
37013 00000910 00000000           869 I1          .DATA.L         _ACC_STOP009_ACTM       ;[10]
37014 00000914 00000000           870 I1          .DATA.L         _ACC_STOP010_VTBL       ;[11]
37015 00000918 00000000           871 I1          .DATA.L         _ACC_STOP010_ACTM       ;[12]
37016 0000091C 00000000           872 I1          .DATA.L         _ACC_STOP010_PTBL       ;[13]
37017                             873 I1  
37018 00000920                    874 I1  _ACC_STEP11_TBL_TOP
37019 00000920 00000000           875 I1          .DATA.L         _ACC_IN_TBLUSE          ;[01]元ﾃｰﾌﾞﾙADR(2byte)
37020 00000924 00000000           876 I1          .DATA.L         _ACC_IN_TBL_TIM         ;[02]255msec WOD
37021 00000928 00000000           877 I1          .DATA.L         _ACC_INF1_STEPSP11      ;[03]000%[前状態],050%[設定]
37022 0000092C 00000000           878 I1          .DATA.L         _ACC_INF1_STEP011       ;[04]//BIT2=[加速:0/減速:1] BIT1=[]   BIT0
                                          =0(停止) =1(連続)
37023 00000930 00000000           879 I1          .DATA.L         _ACC_STEP010_VTBL       ;[05](STEP1では使用しない)
37024 00000934 00000000           880 I1          .DATA.L         _ACC_STEP010_ACTM       ;[06]
37025 00000938 00000000           881 I1          .DATA.L         _ACC_STEP011_VTBL       ;[07]
37026 0000093C 00000000           882 I1          .DATA.L         _ACC_STEP011_ACTM       ;[08]
37027 00000940 00000000           883 I1          .DATA.L         _ACC_STOP010_VTBL       ;[09]
37028 00000944 00000000           884 I1          .DATA.L         _ACC_STOP010_ACTM       ;[10]
37029 00000948 00000000           885 I1          .DATA.L         _ACC_STOP011_VTBL       ;[11]
37030 0000094C 00000000           886 I1          .DATA.L         _ACC_STOP011_ACTM       ;[12]
37031 00000950 00000000           887 I1          .DATA.L         _ACC_STOP011_PTBL       ;[13]
37032                             888 I1  
37033                             889 I1  
37034                             890 I1  
37035                             891 I1  
37036                             892 I1  
37037                             893 I1  
37038                             894 I1  
37039                             895 I1  
37040                             896 I1  
37041                             897 I1  
37042                             898 I1  ;       ***********************************************************
37043                             899 I1  ;       ***                                                     ***
37044                             900 I1  ;       ***     振り子加速度テーブル作成SUB1                    ***
37045                             901 I1  ;       ***                                                     ***
37046                             902 I1  ;       ***     速度のみを算出する                              ***
37047                             903 I1  ;       ***     ﾃﾞｰﾀ元ﾃｰﾌﾞﾙ→最大加速時間と速度の変化量から     ***
37048                             904 I1  ;       ***     加速時間と速度ﾃｰﾌﾞﾙを求める                     ***
37049                             905 I1  ;       ***     [完成済み]                                      ***
37050                             906 I1  ;       ***                                                     ***
37051                             907 I1  ;       ***********************************************************
37052                             908 I1  ;       input    R5:前段のOUTPUT-TABLE-TOP
37053                             909 I1  ;       Input   R11:BASE-TABLE-TOP         :ﾃｰﾌﾞﾙは1~1000または1~255まで使用する。
37054                             910 I1  ;       Input   R12:BASE-TABLE-時間 1000(ROM),255(ROM),設定(1~1000)加減速時間
37055                             911 I1  ;       Input   R13:OUTPUT-TABLE-TOP       :
37056                             912 I1  ;       Input   R14:OUTPUT-ACC時間　　　　 :加減速時間
37057                             913 I1  ;
37058                             914 I1  ;       Input   R7 :最大加減速時間
37059                             915 I1  ;       Input   R8:BASE  -SPD
37060                             916 I1  ;       Input   R9:TARGET-SPD  BASE=< TARGET SPD
37061                             917 I1  ;               (R10:ﾊﾟﾙｽﾃｰﾌﾞﾙ)
37062                             918 I1  ;       Output ﾃｰﾌﾞﾙに速度を周波数で記述
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   559
PROGRAM NAME =

37063                             919 I1  ;       [1ﾃｰﾌﾞﾙ作成前にWDTを叩く]
37064                             920 I1  ;
37065                             921 I1  ;       ・速度は0.01%で扱う
37066                             922 I1  ;
37067 00000954                    923 I1  _ACC_TBL_MAKSPD1_SUB
37068                             924 I1          SUB_START
37069 00000954 4F22                   M           STS.L   PR,@-R15                ;[必要]
37070                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37071                             925 I1          _A_WDT_CLR                              ;
37072                             926 I1  
37073                             927 I1  
37074                             928 I1  
37075 00000956 3987               929 I1          CMP/GT  R8,R9                           ;R8[前段]<R9[今回]
37076 00000958 8902               930 I1          BT      ACC_TBLMKSPD1_SB100
37077 0000095A 6083               931 I1          MOV     R8,R0                           ;
37078 0000095C 6893               932 I1          MOV     R9,R8                           ;
37079 0000095E 6903               933 I1          MOV     R0,R9                           ;
37080 00000960                    934 I1  ACC_TBLMKSPD1_SB100:                            ;
37081 00000960 3988               935 I1          SUB     R8,R9                           ;R9=R9-R8
37082 00000962 2998               936 I1          TST     R9,R9                           ;
37083                             937 I1          TST_BIT_ON ACC_TBLMKSPD1_SB200          ;
37084 00000964 8B0A                   M           BF      ACC_TBLMKSPD1_SB200
37085                             938 I1  
37086                             939 I1  ;       ----速度が同じ場合、前段の速度データをＣＯＰＹする---
37087 00000966 6373               940 I1          MOV     R7,R3                           ;最大時間1000
37088 00000968 7301               941 I1          ADD     #1,R3                           ;ﾙｰﾌﾟ数は1001個ﾙｰﾌﾟ
37089 0000096A                    942 I1  ACC_TBLMKSPD1_SB150:                            ;
37090 0000096A 6055               943 I1          MOV.W   @R5+,R0                         ;前段ﾃｰﾌﾞﾙ速度
37091 0000096C 2D01               944 I1          MOV.W   R0,@R13                         ;今回ﾃｰﾌﾞﾙ速度
37092 0000096E 7D02               945 I1          ADD     #2,R13                          ;
37093 00000970 73FF               946 I1          ADD     #-1,R3                          ;
37094 00000972 2338               947 I1          TST     R3,R3                           ;(2013-05-15 COPY されていない)
37095                             948 I1          TST_BIT_ON ACC_TBLMKSPD1_SB150          ;
37096 00000974 8BF9                   M           BF      ACC_TBLMKSPD1_SB150
37097                             949 I1  
37098 00000976 2EA1               950 I1          MOV.W   R10,@R14                        ;前段の加速時間を今回に使用
37099                             951 I1          M_BRA   ACC_TBLMKSPD1_SB900             ;
37100 00000978 A03B                   M           BRA     ACC_TBLMKSPD1_SB900
37101 0000097A 0009                   M           NOP
37102                             952 I1  
37103 0000097C                    953 I1  ACC_TBLMKSPD1_SB200:                            ;
37104 0000097C 6273               954 I1          MOV     R7,R2                           ;最大時間
37105 0000097E 6193               955 I1          MOV     R9,R1                           ;変化率
37106 00000980 9431               956 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
37107                             957 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
37108 00000982 D019                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37109 00000984 400B                   M           JSR     @R0                     ;
37110 00000986 0009                   M           NOP                                     ;
37111 00000988 6423               958 I1          MOV     R2,R4
37112                             959 I1  
37113 0000098A 2448               960 I1          TST     R4,R4                           ;
37114                             961 I1          TST_BIT_ON ACC_TBLMKSPD1_SB220          ;
37115 0000098C 8B00                   M           BF      ACC_TBLMKSPD1_SB220
37116 0000098E 7401               962 I1          ADD     #1,R4                           ;
37117 00000990                    963 I1  ACC_TBLMKSPD1_SB220:                            ;
37118 00000990 2E41               964 I1          MOV.W   R4,@R14                         ;時間
37119                             965 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   560
PROGRAM NAME =

37120                             966 I1  ;       R8はオフセット速度
37121                             967 I1  ;       R9は変化率
37122                             968 I1  ;       @R14=R4=時間　+すればﾙｰﾌﾟ回数1
37123                             969 I1  
37124 00000992 6343               970 I1          MOV     R4,R3                           ;R4:減速時間
37125 00000994 7301               971 I1          ADD     #1,R3                           ;
37126                             972 I1  
37127 00000996 222A               973 I1          XOR     R2,R2                           ;Tx
37128                             974 I1  
37129 00000998                    975 I1  ACC_TBLMKSPD1_SB250LOP:                         ;
37130 00000998 2338               976 I1          TST     R3,R3                           ;
37131                             977 I1          TST_BIT_OF ACC_TBLMKSPD1_SB500          ;
37132 0000099A 8929                   M           BT      ACC_TBLMKSPD1_SB500
37133                             978 I1          PUSH_REG1 R2
37134 0000099C 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
37135                                 M                                           ;REG=>[SP]
37136                                 M                                           ;"-4" FF,FF,FF,FC
37137                             979 I1  
37138                             980 I1  
37139 0000099E 61C3               981 I1          MOV     R12,R1                          ;R12 ﾃﾞｰﾀ元側MAX時間
37140                             982 I1  
37141                             983 I1          PUSH_REG1 R4                            ;R4 ﾃﾞｰﾀ格納側MAX時間
37142 000009A0 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
37143                                 M                                           ;REG=>[SP]
37144                                 M                                           ;"-4" FF,FF,FF,FC
37145                             984 I1  ;R2*R1/R4 =data･･･MOD
37146 000009A2 312D               985 I1          DMULS.L R2,R1                                           ;
37147 000009A4 021A               986 I1          STS     MACL,R2                                         ;
37148                             987 I1          FAR_JSR #_FPU_DIVS_32REG2_DIV_32REG4_R2_MOD_R1,R0       ;R2...R1
37149 000009A6 D011                   M           MOV.L   #_FPU_DIVS_32REG2_DIV_32REG4_R2_MOD_R1,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容
                                          をREGへ
37150 000009A8 400B                   M           JSR     @R0                     ;
37151 000009AA 0009                   M           NOP                                     ;
37152                             988 I1  
37153 000009AC 65B3               989 I1          MOV     R11,R5                          ;ﾃﾞｰﾀ元側 TOP
37154 000009AE 352C               990 I1          ADD     R2,R5                           ;TOP+NUM*2byte
37155 000009B0 352C               991 I1          ADD     R2,R5                           ;
37156 000009B2 6655               992 I1          MOV.W   @R5+,R6                         ;Fn[]
37157                             993 I1  
37158 000009B4 3C26               994 I1          CMP/HI  R2,R12                          ;
37159 000009B6 8900               995 I1          BT      ACC_TBLMKSPD1_SB300             ;
37160 000009B8 75FE               996 I1          ADD     #-2,R5                          ;
37161 000009BA                    997 I1  ACC_TBLMKSPD1_SB300:                            ;
37162 000009BA 6251               998 I1          MOV.W   @R5,R2                          ;Fn+1
37163 000009BC 3268               999 I1          SUB     R6,R2                           ;R2=(Fn+1 -Fn )
37164                            1000 I1          POP_REG1 R4                             ;
37165                                 M                                   ; RE"+4" 00,00,00,04
37166 000009BE 64F6                   M           MOV.L   @R15+,R4        ;
37167                            1001 I1  
37168                            1002 I1  
37169                            1003 I1          PUSH_REG1 R4                            ;
37170 000009C0 2F46                   M           MOV.L   R4,@-R15                ;PUSH=SP-4
37171                                 M                                           ;REG=>[SP]
37172                                 M                                           ;"-4" FF,FF,FF,FC
37173                            1004 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;[R2](Fn+1 -Fn ) * [R1]MOD/[R4]格納側Tmax
37174 000009C2 D009                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37175 000009C4 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   561
PROGRAM NAME =

37176 000009C6 0009                   M           NOP                                     ;
37177 000009C8 326C              1005 I1          ADD     R6,R2                           ;R2速度
37178                            1006 I1  
37179 000009CA 6193              1007 I1          MOV     R9,R1                           ;
37180 000009CC 940B              1008 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
37181                            1009 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;[R2](速度) * [R1]変化率/[R4]100.00
37182 000009CE D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37183 000009D0 400B                   M           JSR     @R0                     ;
37184 000009D2 0009                   M           NOP                                     ;
37185                            1010 I1          POP_REG1 R4                             ;
37186                                 M                                   ; RE"+4" 00,00,00,04
37187 000009D4 64F6                   M           MOV.L   @R15+,R4        ;
37188                            1011 I1  
37189 000009D6 328C              1012 I1          ADD     R8,R2                           ;+ｵﾌｾｯﾄ
37190                            1013 I1  
37191 000009D8 2D21              1014 I1          MOV.W   R2,@R13                         ;速度SAVE
37192                            1015 I1  
37193                            1016 I1          POP_REG1 R2
37194                                 M                                   ; RE"+4" 00,00,00,04
37195 000009DA 62F6                   M           MOV.L   @R15+,R2        ;
37196 000009DC 7D02              1017 I1          ADD     #2,R13                          ;
37197 000009DE 73FF              1018 I1          ADD     #-1,R3                          ;
37198 000009E0 7201              1019 I1          ADD     #1,R2                           ;
37199                            1020 I1          M_BRA   ACC_TBLMKSPD1_SB250LOP          ;
37200 000009E2 AFD9                   M           BRA     ACC_TBLMKSPD1_SB250LOP
37201 000009E4 0009                   M           NOP
37202                            1021 I1  
37203                                 I1  ***** BEGIN-POOL *****
37204 000009E6 2710                   I1  DATA FOR SOURCE-LINE 956,1008
37205 000009E8 00000000               I1  DATA FOR SOURCE-LINE 957,1004,1009
37206 000009EC 00000000               I1  DATA FOR SOURCE-LINE 987
37207                                 I1  ***** END-POOL *****
37208 000009F0                   1022 I1  ACC_TBLMKSPD1_SB500:                            ;
37209 000009F0 0009              1023 I1          NOP                                     ;
37210                            1024 I1  
37211 000009F2                   1025 I1  ACC_TBLMKSPD1_SB900:                            ;
37212                            1026 I1          _A_WDT_CLR                              ;
37213                            1027 I1          SUB_END
37214                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37215 000009F2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37216                            1028 I1          M_RTS
37217 000009F4 000B                   M           RTS                             ;RTSの後ろの
37218 000009F6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37219                            1029 I1  
37220                            1030 I1  ;       ***************************************************
37221                            1031 I1  ;       ***                                             ***
37222                            1032 I1  ;       ***     振り子加速度テーブル作成SUB1            ***
37223                            1033 I1  ;       ***                                             ***
37224                            1034 I1  ;       ***     速度テーブルをパルスに変換する          ***
37225                            1035 I1  ;       ***     [完成済み]                              ***
37226                            1036 I1  ;       ***************************************************
37227                            1037 I1  ;       Input   R6:最大周波数　PLS/Sec
37228                            1038 I1  ;       Input   R13:V-TABLE-TOP
37229                            1039 I1  ;       Input   R14:加減速時間-MEM WORD: ﾙｰﾌﾟ数は0番目を含むから+1回
37230                            1040 I1  ;       Input   R10:ﾊﾟﾙｽﾃｰﾌﾞﾙ
37231                            1041 I1  ;
37232 000009F8                   1042 I1  _ACC_TBL_MAKPLS1_SUB
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   562
PROGRAM NAME =

37233                            1043 I1          SUB_START
37234 000009F8 4F22                   M           STS.L   PR,@-R15                ;[必要]
37235                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37236                            1044 I1          _A_WDT_CLR                                      ;
37237                            1045 I1  
37238 000009FA 65E1              1046 I1          MOV.W   @R14,R5                                         ;時間
37239 000009FC 7501              1047 I1          ADD     #1,R5                                           ;LOOPは+1
37240                            1048 I1  
37241 000009FE 277A              1049 I1          XOR     R7,R7                                           ;積算数 500,000HZ/1000*100
                                          0=4byte
37242 00000A00 6163              1050 I1          MOV     R6,R1                                           ;data(0~10000) *500,000/(1
                                          0000*1/1000(msec)
37243 00000A02 D408              1051 I1          MOV.L   #_ACC_PER_V_MAX*_ACC_CALC_TIM,R4                ;
37244                            1052 I1  
37245 00000A04                   1053 I1  ACC_TBLMKPLS1_SBLOP200
37246 00000A04 2558              1054 I1          TST     R5,R5                           ;
37247                            1055 I1          TST_BIT_OF ACC_TBLMKPLS1_SB_END         ;
37248 00000A06 8911                   M           BT      ACC_TBLMKPLS1_SB_END
37249 00000A08 62D5              1056 I1          MOV.W   @R13+,R2                        ;V% LOAD
37250                            1057 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;V%*FREQ/100.00% *1/1000=deltV
37251 00000A0A D007                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37252 00000A0C 400B                   M           JSR     @R0                     ;
37253 00000A0E 0009                   M           NOP                                     ;
37254                            1058 I1                                                  ;R2(10000)*500000 8BYTE
37255                            1059 I1  
37256                            1060 I1  
37257                            1061 I1  
37258                            1062 I1  
37259                            1063 I1  
37260                            1064 I1  
37261                            1065 I1  ;;      ADD     #1,R2                           ;(1ﾊﾟﾙｽはMOD分･･最大1000ﾊﾟﾙｽ程度の+側に誤
                                          差がでる)
37262 00000A10 2228              1066 I1          TST     R2,R2
37263                            1067 I1          TST_BIT_ON ACC_TBLMKPLS1_SBLOP220       ;
37264 00000A12 8B00                   M           BF      ACC_TBLMKPLS1_SBLOP220
37265 00000A14 7201              1068 I1          ADD     #1,R2
37266 00000A16                   1069 I1  ACC_TBLMKPLS1_SBLOP220
37267                            1070 I1  
37268 00000A16 372C              1071 I1          ADD     R2,R7                           ;S=S+deltV
37269 00000A18 2A72              1072 I1          MOV.L   R7,@R10                         ;
37270 00000A1A 7A04              1073 I1          ADD     #4,R10                          ;
37271                            1074 I1  
37272 00000A1C 75FF              1075 I1          ADD     #-1,R5
37273                            1076 I1          M_BRA   ACC_TBLMKPLS1_SBLOP200          ;
37274 00000A1E AFF1                   M           BRA     ACC_TBLMKPLS1_SBLOP200
37275 00000A20 0009                   M           NOP
37276                            1077 I1  
37277                            1078 I1  
37278                                 I1  ***** BEGIN-POOL *****
37279 00000A22 0000                   I1  ALIGNMENT CODE
37280 00000A24 00989680               I1  DATA FOR SOURCE-LINE 1051
37281 00000A28 00000000               I1  DATA FOR SOURCE-LINE 1057
37282                                 I1  ***** END-POOL *****
37283 00000A2C                   1079 I1  ACC_TBLMKPLS1_SB_END
37284                            1080 I1  
37285                            1081 I1          SUB_END
37286                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   563
PROGRAM NAME =

37287 00000A2C 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37288                            1082 I1          M_RTS
37289 00000A2E 000B                   M           RTS                             ;RTSの後ろの
37290 00000A30 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37291                            1083 I1  
37292                            1084 I1  
37293                            1085 I1  
37294                            1086 I1  
37295                            1087 I1  
37296                            1088 I1  
37297                            1089 I1  
37298                            1090 I1  
37299                            1091 I1  
37300                            1092 I1  ;       ***************************************************
37301                            1093 I1  ;       ***                                             ***
37302                            1094 I1  ;       ***                                             ***
37303                            1095 I1  ;       ***                                             ***
37304                            1096 I1  ;       ***             振り子API                       ***
37305                            1097 I1  ;       ***                                             ***
37306                            1098 I1  ;       ***                                             ***
37307                            1099 I1  ;       ***************************************************
37308                            1100 I1  ;       サイクル開始(往路/復路),停止からの起動,タイマ停止からの起動
37309 00000A32                   1101 I1  _DNM_START_ACC_CALC:
37310                            1102 I1          SUB_START
37311 00000A32 4F22                   M           STS.L   PR,@-R15                ;[必要]
37312                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37313                            1103 I1  
37314 00000A34 200A              1104 I1          XOR     R0,R0
37315 00000A36 D108              1105 I1          MOV.L   #_ACC_STEP_POINT,R1     ;
37316 00000A38 2101              1106 I1          MOV.W   R0,@R1                  ;
37317 00000A3A D108              1107 I1          MOV.L   #_ACC_STEP_FLG,R1       ;
37318 00000A3C 2101              1108 I1          MOV.W   R0,@R1                  ;
37319 00000A3E D108              1109 I1          MOV.L   #_ACC_STR_STEP,R1       ;
37320 00000A40 2101              1110 I1          MOV.W   R0,@R1                  ;
37321 00000A42 D108              1111 I1          MOV.L   #_ACC_CTRL_STS1,R1              ;
37322 00000A44 2101              1112 I1          MOV.W   R0,@R1                  ;
37323                            1113 I1  
37324                            1114 I1  ;       ---- 2010-09-29---
37325 00000A46 200A              1115 I1          XOR     R0,R0
37326 00000A48 D107              1116 I1          MOV.L   #_ACC_LAST_POINT,R1     ;
37327 00000A4A 2101              1117 I1          MOV.W   R0,@R1                  ;
37328 00000A4C D107              1118 I1          MOV.L   #_ACC_STOP_POINT,R1     ;
37329 00000A4E 2101              1119 I1          MOV.W   R0,@R1                  ;
37330                            1120 I1  
37331                            1121 I1          SUB_END
37332                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37333 00000A50 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37334                            1122 I1          M_RTS
37335 00000A52 000B                   M           RTS                             ;RTSの後ろの
37336 00000A54 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37337                            1123 I1  
37338                            1124 I1  ;       工程切替
37339                                 I1  ***** BEGIN-POOL *****
37340 00000A56 0000                   I1  ALIGNMENT CODE
37341 00000A58 00000000               I1  DATA FOR SOURCE-LINE 1105
37342 00000A5C 00000000               I1  DATA FOR SOURCE-LINE 1107
37343 00000A60 00000000               I1  DATA FOR SOURCE-LINE 1109
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   564
PROGRAM NAME =

37344 00000A64 00000000               I1  DATA FOR SOURCE-LINE 1111
37345 00000A68 00000000               I1  DATA FOR SOURCE-LINE 1116
37346 00000A6C 00000000               I1  DATA FOR SOURCE-LINE 1118
37347                                 I1  ***** END-POOL *****
37348 00000A70                   1125 I1  _DNM_STEP_ACC_CHANGE:
37349                            1126 I1          SUB_START
37350 00000A70 4F22                   M           STS.L   PR,@-R15                ;[必要]
37351                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37352                            1127 I1  
37353 00000A72 D10F              1128 I1          MOV.L   #_INT_POS_CTL_STEP,R1   ;//内部制御工程1~11
37354 00000A74 6011              1129 I1          MOV.W   @R1,R0                  ;
37355 00000A76 2008              1130 I1          TST     R0,R0
37356                            1131 I1          TST_BIT_OF DNM_STEP_ACC_CHG_100 ;WHY
37357 00000A78 8916                   M           BT      DNM_STEP_ACC_CHG_100
37358                            1132 I1  
37359 00000A7A D10E              1133 I1          MOV.L   #_ACC_POS_STEP,R1       ;
37360 00000A7C 6211              1134 I1          MOV.W   @R1,R2                  ;
37361 00000A7E 2101              1135 I1          MOV.W   R0,@R1                  ;
37362 00000A80 3200              1136 I1          CMP/EQ  R0,R2                   ;
37363 00000A82 8911              1137 I1          BT      DNM_STEP_ACC_CHG_100    ;変更なし
37364 00000A84 D10C              1138 I1          MOV.L   #_ACC_STR_STEP,R1       ;
37365 00000A86 2101              1139 I1          MOV.W   R0,@R1                  ;
37366                            1140 I1  
37367 00000A88 8801              1141 I1          cmp/eq  #1,r0                   ;
37368 00000A8A 8B00              1142 I1          BF      DNM_STEP_ACC_CHGDBG10
37369 00000A8C 0009              1143 I1          NOP
37370 00000A8E                   1144 I1  DNM_STEP_ACC_CHGDBG10:
37371 00000A8E 8802              1145 I1          cmp/eq  #2,r0                   ;
37372 00000A90 8B00              1146 I1          BF      DNM_STEP_ACC_CHGDBG20   ;
37373 00000A92 0009              1147 I1          NOP
37374 00000A94                   1148 I1  DNM_STEP_ACC_CHGDBG20:                  ;
37375                            1149 I1  
37376 00000A94 200A              1150 I1          XOR     R0,R0
37377 00000A96 D109              1151 I1          MOV.L   #_ACC_STEP_POINT,R1     ;
37378 00000A98 2101              1152 I1          MOV.W   R0,@R1
37379 00000A9A D109              1153 I1          MOV.L   #_ACC_STEP_FLG,R1       ;
37380 00000A9C 2101              1154 I1          MOV.W   R0,@R1
37381                            1155 I1  
37382                            1156 I1  
37383                            1157 I1  
37384                            1158 I1  ;       ---- 2010-09-29---
37385 00000A9E 200A              1159 I1          XOR     R0,R0
37386 00000AA0 D108              1160 I1          MOV.L   #_ACC_LAST_POINT,R1     ;
37387 00000AA2 2101              1161 I1          MOV.W   R0,@R1                  ;
37388 00000AA4 D108              1162 I1          MOV.L   #_ACC_STOP_POINT,R1     ;
37389 00000AA6 2101              1163 I1          MOV.W   R0,@R1                  ;
37390                            1164 I1  
37391                            1165 I1  
37392                            1166 I1  
37393 00000AA8                   1167 I1  DNM_STEP_ACC_CHG_100:
37394                            1168 I1  
37395                            1169 I1          SUB_END
37396                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37397 00000AA8 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37398                            1170 I1          M_RTS
37399 00000AAA 000B                   M           RTS                             ;RTSの後ろの
37400 00000AAC 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   565
PROGRAM NAME =

37401                            1171 I1  
37402                            1172 I1  
37403                            1173 I1  ;       ***************************************************
37404                            1174 I1  ;       ***                                             ***
37405                            1175 I1  ;       ***                                             ***
37406                            1176 I1  ;       ***                                             ***
37407                            1177 I1  ;       ***                                             ***
37408                            1178 I1  ;       ***                                             ***
37409                            1179 I1  ;       ***                                             ***
37410                            1180 I1  ;       ***             振り子加速度演算                ***
37411                            1181 I1  ;       ***             (LSIの演算部の代わり)           ***
37412                            1182 I1  ;       ***                                             ***
37413                            1183 I1  ;       ***                                             ***
37414                            1184 I1  ;       ***                                             ***
37415                            1185 I1  ;       ***                                             ***
37416                            1186 I1  ;       ***                                             ***
37417                            1187 I1  ;       ***************************************************
37418                            1188 I1  ;       _PLS_LSI_CTRL
37419                            1189 I1  ;               _PLS_LSI_CTL_CALC
37420                            1190 I1  ;                       POSCTL_SV_SPD
37421                                 I1  ***** BEGIN-POOL *****
37422 00000AAE 0000                   I1  ALIGNMENT CODE
37423 00000AB0 00000000               I1  DATA FOR SOURCE-LINE 1128
37424 00000AB4 00000000               I1  DATA FOR SOURCE-LINE 1133
37425 00000AB8 00000000               I1  DATA FOR SOURCE-LINE 1138
37426 00000ABC 00000000               I1  DATA FOR SOURCE-LINE 1151
37427 00000AC0 00000000               I1  DATA FOR SOURCE-LINE 1153
37428 00000AC4 00000000               I1  DATA FOR SOURCE-LINE 1160
37429 00000AC8 00000000               I1  DATA FOR SOURCE-LINE 1162
37430                                 I1  ***** END-POOL *****
37431 00000ACC                   1191 I1  _DNM_SPD_CALC:
37432                            1192 I1          SUB_START
37433 00000ACC 4F22                   M           STS.L   PR,@-R15                ;[必要]
37434                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37435 00000ACE 200A              1193 I1          XOR     R0,R0
37436 00000AD0 D123              1194 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
37437 00000AD2 2102              1195 I1          MOV.L   R0,@R1                          ;
37438                            1196 I1  
37439                            1197 I1  
37440 00000AD4 200A              1198 I1          XOR     R0,R0                           ;
37441 00000AD6 D123              1199 I1          MOV.L   #_ACC_CTRL_STS2,R1              ;
37442 00000AD8 2101              1200 I1          MOV.W   R0,@R1                          ;
37443                            1201 I1  
37444                            1202 I1          FAR_JSR #_DNM_STEP_ACC_CHANGE,R0        ;
37445 00000ADA D023                   M           MOV.L   #_DNM_STEP_ACC_CHANGE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37446 00000ADC 400B                   M           JSR     @R0                     ;
37447 00000ADE 0009                   M           NOP                                     ;
37448                            1203 I1  
37449                            1204 I1          FAR_JSR #_DNM_ACC_CALC,R0               ;
37450 00000AE0 D022                   M           MOV.L   #_DNM_ACC_CALC,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37451 00000AE2 400B                   M           JSR     @R0                     ;
37452 00000AE4 0009                   M           NOP                                     ;
37453                            1205 I1  
37454                            1206 I1  ;       -------- DEBUG OUT ------------------
37455 00000AE6 D122              1207 I1          MOV.L   #_ACC_CTRL_STS1,R1              ;
37456 00000AE8 6011              1208 I1          MOV.W   @R1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   566
PROGRAM NAME =

37457 00000AEA D11E              1209 I1          MOV.L   #_ACC_CTRL_STS2,R1              ;
37458 00000AEC 6211              1210 I1          MOV.W   @R1,R2                          ;
37459 00000AEE 202B              1211 I1          OR      R2,R0                           ;
37460                            1212 I1  
37461 00000AF0 D120              1213 I1          MOV.L   #_ACC_STEP_FLG,R1               ;
37462 00000AF2 6311              1214 I1          MOV.W   @R1,R3                          ;
37463 00000AF4 4318              1215 I1          SHLL8   R3                              ;
37464 00000AF6 203B              1216 I1          OR      R3,R0                           ;
37465                            1217 I1  
37466                            1218 I1  ;;;;;;;;2015-07-22      MOV.L   #_SQ_CBWK_TOP+_WKSQCB247,R1     ;
37467                            1219 I1  ;;;;;;;;2015-07-22      MOV.W   R0,@R1                          ;
37468                            1220 I1  
37469 00000AF8 D119              1221 I1          MOV.L   #_ACC_ANS_ACCDAT,R1     ;(加速または減速すべき　加速度):0変化するﾃﾞｰﾀがな
                                          い
37470 00000AFA 6212              1222 I1          MOV.L   @R1,R2                  ;
37471 00000AFC D11E              1223 I1          MOV.L   #_ACC_MONITOR_DAT1,R1   ;リニア
37472 00000AFE 2122              1224 I1          MOV.L   R2,@R1                  ;+/-1
37473                            1225 I1  
37474 00000B00 D11E              1226 I1          MOV.L   #_ACC_LAST_POINT,R1     ;最大速度から求まる
37475 00000B02 6211              1227 I1          MOV.W   @R1,R2                  ;
37476                            1228 I1          FAR_JSR #_R2_MUL10_ANS_R2,R1    ;*10
37477 00000B04 D11E                   M           MOV.L   #_R2_MUL10_ANS_R2,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37478 00000B06 410B                   M           JSR     @R1                     ;
37479 00000B08 0009                   M           NOP                                     ;
37480 00000B0A D11E              1229 I1          MOV.L   #_ACC_MONITOR_DAT2,R1   ;ｴﾝｺｰﾀﾞ角度
37481 00000B0C 2122              1230 I1          MOV.L   R2,@R1                  ;
37482                            1231 I1  
37483 00000B0E D11E              1232 I1          MOV.L   #_ACC_STOP_POINT,R1     ;ステップ速度停止の中で求まる（停止予定の行程）
37484 00000B10 6211              1233 I1          MOV.W   @R1,R2                  ;
37485                            1234 I1          FAR_JSR #_R2_MUL10_ANS_R2,R1    ;*10
37486 00000B12 D11B                   M           MOV.L   #_R2_MUL10_ANS_R2,R1            ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37487 00000B14 410B                   M           JSR     @R1                     ;
37488 00000B16 0009                   M           NOP                                     ;
37489 00000B18 D11C              1235 I1          MOV.L   #_ACC_MONITOR_DAT3,R1   ;PG角度
37490 00000B1A 2122              1236 I1          MOV.L   R2,@R1                  ;
37491                            1237 I1  
37492 00000B1C D11C              1238 I1          MOV.L   #_ACC_STEP_POINT,R1     ;ステップ
37493 00000B1E 6211              1239 I1          MOV.W   @R1,R2                  ;
37494 00000B20 D11C              1240 I1          MOV.L   #_ACC_MONITOR_DAT4,R1   ;負荷率
37495 00000B22 2122              1241 I1          MOV.L   R2,@R1                  ;
37496                            1242 I1  
37497                            1243 I1  
37498                            1244 I1  ;DAT5
37499                            1245 I1  
37500                            1246 I1  
37501 00000B24 D11C              1247 I1          MOV.L   #_ACC_LAST_SPD,R1       ;
37502 00000B26 6212              1248 I1          MOV.L   @R1,R2                  ;
37503 00000B28 4201              1249 I1          SHLR    R2
37504 00000B2A 4201              1250 I1          SHLR    R2
37505 00000B2C 4201              1251 I1          SHLR    R2
37506 00000B2E 4201              1252 I1          SHLR    R2
37507 00000B30 4201              1253 I1          SHLR    R2
37508 00000B32 D11A              1254 I1          MOV.L   #_ACC_MONITOR_DAT6,R1   ;左
37509 00000B34 2122              1255 I1          MOV.L   R2,@R1                  ;
37510                            1256 I1  
37511 00000B36 D11A              1257 I1          MOV.L   #_ACC_STOP_SPD,R1       ;
37512 00000B38 6212              1258 I1          MOV.L   @R1,R2                  ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   567
PROGRAM NAME =

37513 00000B3A 4201              1259 I1          SHLR    R2
37514 00000B3C 4201              1260 I1          SHLR    R2
37515 00000B3E 4201              1261 I1          SHLR    R2
37516 00000B40 4201              1262 I1          SHLR    R2
37517 00000B42 4201              1263 I1          SHLR    R2
37518 00000B44 D117              1264 I1          MOV.L   #_ACC_MONITOR_DAT7,R1   ;右
37519 00000B46 2122              1265 I1          MOV.L   R2,@R1                  ;
37520                            1266 I1  
37521 00000B48 D117              1267 I1          MOV.L   #_ACC_STEP_SPD,R1       ;
37522 00000B4A 6212              1268 I1          MOV.L   @R1,R2                  ;
37523 00000B4C 4201              1269 I1          SHLR    R2
37524 00000B4E 4201              1270 I1          SHLR    R2
37525 00000B50 4201              1271 I1          SHLR    R2
37526 00000B52 4201              1272 I1          SHLR    R2
37527 00000B54 4201              1273 I1          SHLR    R2
37528 00000B56 D115              1274 I1          MOV.L   #_ACC_MONITOR_DAT8,R1   ;合計
37529 00000B58 2122              1275 I1          MOV.L   R2,@R1                  ;
37530                            1276 I1  
37531                            1277 I1  
37532                            1278 I1  
37533                            1279 I1  
37534                            1280 I1          SUB_END
37535                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37536 00000B5A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37537                            1281 I1          M_RTS
37538 00000B5C 000B                   M           RTS                             ;RTSの後ろの
37539 00000B5E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37540                            1282 I1  
37541                            1283 I1  
37542                            1284 I1  
37543                                 I1  ***** BEGIN-POOL *****
37544 00000B60 00000000               I1  DATA FOR SOURCE-LINE 1194,1221
37545 00000B64 00000000               I1  DATA FOR SOURCE-LINE 1199,1209
37546 00000B68 00000000               I1  DATA FOR SOURCE-LINE 1202
37547 00000B6C 00000000               I1  DATA FOR SOURCE-LINE 1204
37548 00000B70 00000000               I1  DATA FOR SOURCE-LINE 1207
37549 00000B74 00000000               I1  DATA FOR SOURCE-LINE 1213
37550 00000B78 00000000               I1  DATA FOR SOURCE-LINE 1223
37551 00000B7C 00000000               I1  DATA FOR SOURCE-LINE 1226
37552 00000B80 00000000               I1  DATA FOR SOURCE-LINE 1228,1234
37553 00000B84 00000000               I1  DATA FOR SOURCE-LINE 1229
37554 00000B88 00000000               I1  DATA FOR SOURCE-LINE 1232
37555 00000B8C 00000000               I1  DATA FOR SOURCE-LINE 1235
37556 00000B90 00000000               I1  DATA FOR SOURCE-LINE 1238
37557 00000B94 00000000               I1  DATA FOR SOURCE-LINE 1240
37558 00000B98 00000000               I1  DATA FOR SOURCE-LINE 1247
37559 00000B9C 00000000               I1  DATA FOR SOURCE-LINE 1254
37560 00000BA0 00000000               I1  DATA FOR SOURCE-LINE 1257
37561 00000BA4 00000000               I1  DATA FOR SOURCE-LINE 1264
37562 00000BA8 00000000               I1  DATA FOR SOURCE-LINE 1267
37563 00000BAC 00000000               I1  DATA FOR SOURCE-LINE 1274
37564                                 I1  ***** END-POOL *****
37565 00000BB0                   1285 I1  _DNM_ACC_CALC
37566                            1286 I1          SUB_START
37567 00000BB0 4F22                   M           STS.L   PR,@-R15                ;[必要]
37568                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37569                            1287 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   568
PROGRAM NAME =

37570                            1288 I1          FAR_JSR #_DNM_ACC_OVER_PLS_MAK,R0
37571 00000BB2 D024                   M           MOV.L   #_DNM_ACC_OVER_PLS_MAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37572 00000BB4 400B                   M           JSR     @R0                     ;
37573 00000BB6 0009                   M           NOP                                     ;
37574                            1289 I1  
37575 00000BB8 D123              1290 I1          MOV.L   #_ACC_POS_STEP,R1       ;//内部制御工程1~11
37576 00000BBA 6011              1291 I1          MOV.W   @R1,R0                  ;
37577                            1292 I1  ;----------必要か？  2011-03-22
37578 00000BBC 2008              1293 I1          TST     R0,R0
37579                            1294 I1          TST_BIT_ON DNM_ACCCALC_020
37580 00000BBE 8B00                   M           BF      DNM_ACCCALC_020
37581 00000BC0 903C              1295 I1          MOV.W   #1,R0                   ;
37582 00000BC2                   1296 I1  DNM_ACCCALC_020
37583                            1297 I1  
37584                            1298 I1  
37585 00000BC2 D122              1299 I1          MOV.L   #_ACC_STOP_NUMBER,R1    ;停止に使用するデータ番号=停止ステップ
37586 00000BC4 2101              1300 I1          MOV.W   R0,@R1                  ;
37587                            1301 I1  
37588 00000BC6 D122              1302 I1          MOV.L   #_ACC_STEP_NUMBER,R1    ;加減速に使用するデータ番号=動作ステップ
37589 00000BC8 2101              1303 I1          MOV.W   R0,@R1                  ;
37590                            1304 I1  
37591 00000BCA 200A              1305 I1          XOR     R0,R0
37592 00000BCC D121              1306 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
37593 00000BCE 2102              1307 I1          MOV.L   R0,@R1                          ;
37594                            1308 I1  
37595                            1309 I1  ;;;     FAR_JSR #_TBLACC_LAST_SP_MAKE,R0        ;最終減速演算：現在速度より高ければこれに
                                          置き換える
37596                            1310 I1  
37597 00000BD0 D121              1311 I1          MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
37598 00000BD2 6012              1312 I1          MOV.L   @R1,R0                          ;
37599 00000BD4 D121              1313 I1          MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求まる
37600 00000BD6 2102              1314 I1          MOV.L   R0,@R1                          ;PLS/S
37601                            1315 I1  
37602                            1316 I1  
37603                            1317 I1  
37604                            1318 I1          FAR_JSR #_TBLACC_STOP_SP_MAKE,R0        ;現行ｽﾃｯﾌﾟからの減速演算：最大以下であれば
                                          最大
37605 00000BD8 D021                   M           MOV.L   #_TBLACC_STOP_SP_MAKE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37606 00000BDA 400B                   M           JSR     @R0                     ;
37607 00000BDC 0009                   M           NOP                                     ;
37608                            1319 I1  
37609                            1320 I1          FAR_JSR #_TBLACC_STEP_SP_MAKE,R0        ;減速演算２つより低い範囲で加速または減速
                                          する
37610 00000BDE D021                   M           MOV.L   #_TBLACC_STEP_SP_MAKE,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37611 00000BE0 400B                   M           JSR     @R0                     ;
37612 00000BE2 0009                   M           NOP                                     ;
37613                            1321 I1  
37614                            1322 I1  ;       比較結果を加速度で表す
37615                            1323 I1  
37616 00000BE4 288A              1324 I1          XOR     R8,R8                           ;FLAG
37617 00000BE6 D11D              1325 I1          MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求まる
37618 00000BE8 6612              1326 I1          MOV.L   @R1,R6                          ;PLS/S
37619 00000BEA D11F              1327 I1          MOV.L   #_ACC_STOP_SPD,R1               ;停止ステップのデータから求まる
37620 00000BEC 6512              1328 I1          MOV.L   @R1,R5                          ;
37621 00000BEE 3653              1329 I1          CMP/GE  R5,R6                           ;
37622 00000BF0 8902              1330 I1          BT      DNM_ACCCALC_100                 ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   569
PROGRAM NAME =

37623 00000BF2 9423              1331 I1          MOV.W   #BIT0,R4                        ;
37624 00000BF4 284B              1332 I1          OR      R4,R8                           ;
37625 00000BF6 6563              1333 I1          MOV     R6,R5                           ;R5:LIMIT
37626 00000BF8                   1334 I1  DNM_ACCCALC_100
37627                            1335 I1  
37628                            1336 I1  
37629 00000BF8 D11C              1337 I1          MOV.L   #_ACC_STEP_SPD,R1               ;これから変化させようと考えている速度
37630 00000BFA 6212              1338 I1          MOV.L   @R1,R2                          ;
37631 00000BFC 3523              1339 I1          CMP/GE  R2,R5                           ;
37632 00000BFE 8902              1340 I1          BT      DNM_ACCCALC_200                 ;
37633                            1341 I1  
37634                            1342 I1  ;       --- limit on----
37635 00000C00 941D              1343 I1          MOV.W   #BIT1,R4                        ;
37636 00000C02 284B              1344 I1          OR      R4,R8                           ;
37637 00000C04 6253              1345 I1          MOV     R5,R2                           ;LIMIT
37638                            1346 I1  
37639 00000C06                   1347 I1  DNM_ACCCALC_200
37640 00000C06 D11A              1348 I1          MOV.L   #_ACC_CALC_SPDX,R1              ;
37641 00000C08 2122              1349 I1          MOV.L   R2,@R1                          ;
37642                            1350 I1  
37643                            1351 I1          FAR_JSR #_DNM_ACC_OVER_SPD_MAK,R0               ;
37644 00000C0A D01A                   M           MOV.L   #_DNM_ACC_OVER_SPD_MAK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37645 00000C0C 400B                   M           JSR     @R0                     ;
37646 00000C0E 0009                   M           NOP                                     ;
37647 00000C10 D119              1352 I1          MOV.L   #_ACC_CALC_SPD,R1               ;
37648 00000C12 6212              1353 I1          MOV.L   @R1,R2                          ;
37649                            1354 I1  
37650                            1355 I1  
37651 00000C14 D119              1356 I1          MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
37652 00000C16 6312              1357 I1          MOV.L   @R1,R3                          ;
37653 00000C18 3233              1358 I1          CMP/GE  R3,R2                           ;
37654 00000C1A 8902              1359 I1          BT      DNM_ACCCALC_300                 ;
37655                            1360 I1  
37656                            1361 I1  ;       --- UNDER　LIMIT----
37657 00000C1C 9410              1362 I1          MOV.W   #BIT2,R4                        ;[BIT2はにせもの]
37658 00000C1E 284B              1363 I1          OR      R4,R8                           ;
37659 00000C20 6233              1364 I1          MOV     R3,R2                           ;
37660                            1365 I1  
37661 00000C22                   1366 I1  DNM_ACCCALC_300
37662 00000C22 D117              1367 I1          MOV.L   #_ACC_CTRL_STS1,R1              ;
37663 00000C24 6011              1368 I1          MOV.W   @R1,R0                          ;
37664 00000C26 C9FB              1369 I1          AND     #LOW ~BIT2,R0
37665 00000C28 208B              1370 I1          OR      R8,R0                           ;
37666 00000C2A 2101              1371 I1          MOV.W   R0,@R1                          ;
37667                            1372 I1  
37668 00000C2C D115              1373 I1          MOV.L   #_POSCTL_RL_SPD,R1              ;現在速度
37669 00000C2E 6312              1374 I1          MOV.L   @R1,R3                          ;
37670 00000C30 3238              1375 I1          SUB     R3,R2                           ;
37671 00000C32 D108              1376 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;(加速または減速すべき　加速度):0変化するﾃ
                                          ﾞｰﾀがない
37672 00000C34 2122              1377 I1          MOV.L   R2,@R1                          ;
37673                            1378 I1  
37674                            1379 I1          SUB_END
37675                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37676 00000C36 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37677                            1380 I1          M_RTS
37678 00000C38 000B                   M           RTS                             ;RTSの後ろの
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   570
PROGRAM NAME =

37679 00000C3A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37680                            1381 I1  
37681                            1382 I1  
37682                            1383 I1  
37683                            1384 I1  
37684                            1385 I1  
37685                            1386 I1  
37686                            1387 I1  ;       *******************************************
37687                            1388 I1  ;       ***                                     ***
37688                            1389 I1  ;       ***     演算上で使用するデータ          ***
37689                            1390 I1  ;       ***                                     ***
37690                            1391 I1  ;       *******************************************
37691                                 I1  ***** BEGIN-POOL *****
37692 00000C3C 0001                   I1  DATA FOR SOURCE-LINE 1295,1331
37693 00000C3E 0002                   I1  DATA FOR SOURCE-LINE 1343
37694 00000C40 0004                   I1  DATA FOR SOURCE-LINE 1362
37695 00000C42 0000                   I1  ALIGNMENT CODE
37696 00000C44 00000000               I1  DATA FOR SOURCE-LINE 1288
37697 00000C48 00000000               I1  DATA FOR SOURCE-LINE 1290
37698 00000C4C 00000000               I1  DATA FOR SOURCE-LINE 1299
37699 00000C50 00000000               I1  DATA FOR SOURCE-LINE 1302
37700 00000C54 00000000               I1  DATA FOR SOURCE-LINE 1306,1376
37701 00000C58 00000000               I1  DATA FOR SOURCE-LINE 1311
37702 00000C5C 00000000               I1  DATA FOR SOURCE-LINE 1313,1325
37703 00000C60 00000000               I1  DATA FOR SOURCE-LINE 1318
37704 00000C64 00000000               I1  DATA FOR SOURCE-LINE 1320
37705 00000C68 00000000               I1  DATA FOR SOURCE-LINE 1327
37706 00000C6C 00000000               I1  DATA FOR SOURCE-LINE 1337
37707 00000C70 00000000               I1  DATA FOR SOURCE-LINE 1348
37708 00000C74 00000000               I1  DATA FOR SOURCE-LINE 1351
37709 00000C78 00000000               I1  DATA FOR SOURCE-LINE 1352
37710 00000C7C 00000000               I1  DATA FOR SOURCE-LINE 1356
37711 00000C80 00000000               I1  DATA FOR SOURCE-LINE 1367
37712 00000C84 00000000               I1  DATA FOR SOURCE-LINE 1373
37713                                 I1  ***** END-POOL *****
37714 00000C88                   1392 I1  _DNM_ACC_OVER_PLS_MAK:
37715                            1393 I1          SUB_START
37716 00000C88 4F22                   M           STS.L   PR,@-R15                ;[必要]
37717                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37718 00000C8A D50A              1394 I1          MOV.L   #_ACC_REST_ABS_PLS,R5   ;//
37719 00000C8C 6156              1395 I1          MOV.L   @R5+,R1                 ;
37720 00000C8E 6252              1396 I1          MOV.L   @R5,R2                  ;
37721                            1397 I1  
37722                            1398 I1  ;       *1/比率
37723 00000C90 D409              1399 I1          MOV.L   #_ACC_REST_FLG,R4               ;//0:減速ﾁｪｯｸしなくていい(500,000*30sec以
                                          上距離がある)
37724 00000C92 6041              1400 I1          MOV.W   @R4,R0                          ;
37725 00000C94 2008              1401 I1          TST     R0,R0                           ;
37726                            1402 I1          TST_BIT_OF DNM_ACC_OVER_PLSMK200        ;
37727 00000C96 891A                   M           BT      DNM_ACC_OVER_PLSMK200
37728                            1403 I1  
37729 00000C98 D308              1404 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
37730 00000C9A 6431              1405 I1          MOV.W   @R3,R4                                  ;
37731 00000C9C 9109              1406 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
37732                            1407 I1          FAR_JSR #_MULDIV_R2S32mR1S32dR4S32aR1R2S64,R0   ;
37733 00000C9E D008                   M           MOV.L   #_MULDIV_R2S32mR1S32dR4S32aR1R2S64,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37734 00000CA0 400B                   M           JSR     @R0                     ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   571
PROGRAM NAME =

37735 00000CA2 0009                   M           NOP                                     ;
37736                            1408 I1  
37737 00000CA4 2118              1409 I1          TST     R1,R1                                   ;
37738                            1410 I1          TST_BIT_ON DNM_ACC_OVER_PLSMK100                ;まだ4byte以上ある
37739 00000CA6 8B0F                   M           BF      DNM_ACC_OVER_PLSMK100
37740                            1411 I1  
37741 00000CA8 D406              1412 I1          MOV.L   #_GENSOK_LNGTH_MAX,R4                   ;30秒*500KHよりも距離がある
37742 00000CAA 3243              1413 I1          CMP/GE  R4,R2                                   ;
37743 00000CAC 890C              1414 I1          BT      DNM_ACC_OVER_PLSMK100                   ;
37744                            1415 I1          M_BRA   DNM_ACC_OVER_PLSMK200                   ;
37745 00000CAE A00E                   M           BRA     DNM_ACC_OVER_PLSMK200
37746 00000CB0 0009                   M           NOP
37747                            1416 I1  
37748                                 I1  ***** BEGIN-POOL *****
37749 00000CB2 0064                   I1  DATA FOR SOURCE-LINE 1406
37750 00000CB4 00000000               I1  DATA FOR SOURCE-LINE 1394
37751 00000CB8 00000000               I1  DATA FOR SOURCE-LINE 1399
37752 00000CBC 00000000               I1  DATA FOR SOURCE-LINE 1404
37753 00000CC0 00000000               I1  DATA FOR SOURCE-LINE 1407
37754 00000CC4 00E4E1C0               I1  DATA FOR SOURCE-LINE 1412
37755                                 I1  ***** END-POOL *****
37756 00000CC8                   1417 I1  DNM_ACC_OVER_PLSMK100
37757 00000CC8 902F              1418 I1          MOV.W   #-1,R0
37758 00000CCA D419              1419 I1          MOV.L   #_ACC_REST_FLG,R4               ;//0:減速ﾁｪｯｸしなくていい(500,000*30sec以
                                          上距離がある)
37759 00000CCC 2401              1420 I1          MOV.W   R0,@R4                          ;
37760                            1421 I1  
37761 00000CCE                   1422 I1  DNM_ACC_OVER_PLSMK200:
37762 00000CCE D619              1423 I1          MOV.L   #_ACC_REST_ABS_PLSX,R6  ;//これで演算
37763 00000CD0 2612              1424 I1          MOV.L   R1,@R6                  ;
37764 00000CD2 1621              1425 I1          MOV.L   R2,@(4,R6)              ;
37765                            1426 I1  
37766                            1427 I1  
37767                            1428 I1  ;       _TBLACC_ACC_ADDCHKの演算に使用している箇所の拡大
37768                            1429 I1  ;       設定速度の拡大 DATA*MAX/比率
37769 00000CD4 D118              1430 I1          MOV.L   #_POSCTL_SV_SPD,R1                      ;
37770 00000CD6 6212              1431 I1          MOV.L   @R1,R2                                  ;
37771 00000CD8 D318              1432 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
37772 00000CDA 6431              1433 I1          MOV.W   @R3,R4                                  ;
37773 00000CDC 9126              1434 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
37774                            1435 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
37775 00000CDE D018                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37776 00000CE0 400B                   M           JSR     @R0                     ;
37777 00000CE2 0009                   M           NOP                                     ;
37778 00000CE4 D117              1436 I1          MOV.L   #_ACC_POSCTL_SV_SPDX,R1                 ;
37779 00000CE6 2122              1437 I1          MOV.L   R2,@R1                                  ;
37780                            1438 I1  
37781                            1439 I1  
37782                            1440 I1  
37783                            1441 I1  ;       実速度の拡大 DATA*MAX/比率(ACC_)
37784 00000CE8 D117              1442 I1          MOV.L   #_POSCTL_RL_SPD,R1                      ;
37785 00000CEA 6212              1443 I1          MOV.L   @R1,R2                                  ;
37786 00000CEC D313              1444 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
37787 00000CEE 6431              1445 I1          MOV.W   @R3,R4                                  ;
37788 00000CF0 911C              1446 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
37789                            1447 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
37790 00000CF2 D013                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   572
PROGRAM NAME =

37791 00000CF4 400B                   M           JSR     @R0                     ;
37792 00000CF6 0009                   M           NOP                                     ;
37793 00000CF8 D114              1448 I1          MOV.L   #_ACC_POSCTL_RL_SPDX,R1                 ;
37794 00000CFA 2122              1449 I1          MOV.L   R2,@R1                                  ;
37795                            1450 I1  
37796                            1451 I1  
37797                            1452 I1  
37798                            1453 I1  ;       加速度の拡大 DATA*MAX/比率
37799 00000CFC D114              1454 I1          MOV.L   #_POSCTL_SV_UP_ACC,R1                   ;
37800 00000CFE 6212              1455 I1          MOV.L   @R1,R2                                  ;
37801 00000D00 D30E              1456 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
37802 00000D02 6431              1457 I1          MOV.W   @R3,R4                                  ;
37803 00000D04 9112              1458 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
37804                            1459 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
37805 00000D06 D00E                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37806 00000D08 400B                   M           JSR     @R0                     ;
37807 00000D0A 0009                   M           NOP                                     ;
37808 00000D0C D111              1460 I1          MOV.L   #_ACC_POSCTL_SV_UP_ACCX,R1              ;
37809 00000D0E 2122              1461 I1          MOV.L   R2,@R1                                  ;
37810                            1462 I1  
37811                            1463 I1  
37812                            1464 I1  ;       加速度の拡大 DATA*MAX/比率
37813 00000D10 D111              1465 I1          MOV.L   #_POSCTL_SV_DN_ACC,R1                   ;
37814 00000D12 6212              1466 I1          MOV.L   @R1,R2                                  ;
37815 00000D14 D309              1467 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
37816 00000D16 6431              1468 I1          MOV.W   @R3,R4                                  ;
37817 00000D18 9108              1469 I1          MOV.W   #_OVRLIDE_LATE_MAX,R1                   ;
37818                            1470 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
37819 00000D1A D009                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37820 00000D1C 400B                   M           JSR     @R0                     ;
37821 00000D1E 0009                   M           NOP                                     ;
37822 00000D20 D10E              1471 I1          MOV.L   #_ACC_POSCTL_SV_DN_ACCX,R1              ;
37823 00000D22 2122              1472 I1          MOV.L   R2,@R1                                  ;
37824                            1473 I1  
37825                            1474 I1  
37826                            1475 I1  
37827                            1476 I1  
37828                            1477 I1  
37829                            1478 I1  
37830                            1479 I1          SUB_END
37831                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37832 00000D24 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37833                            1480 I1          M_RTS
37834 00000D26 000B                   M           RTS                             ;RTSの後ろの
37835 00000D28 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37836                            1481 I1  
37837                            1482 I1  
37838                                 I1  ***** BEGIN-POOL *****
37839 00000D2A FFFF                   I1  DATA FOR SOURCE-LINE 1418
37840 00000D2C 0064                   I1  DATA FOR SOURCE-LINE 1434,1446,1458,1469
37841 00000D2E 0000                   I1  ALIGNMENT CODE
37842 00000D30 00000000               I1  DATA FOR SOURCE-LINE 1419
37843 00000D34 00000000               I1  DATA FOR SOURCE-LINE 1423
37844 00000D38 00000000               I1  DATA FOR SOURCE-LINE 1430
37845 00000D3C 00000000               I1  DATA FOR SOURCE-LINE 1432,1444,1456,1467
37846 00000D40 00000000               I1  DATA FOR SOURCE-LINE 1435,1447,1459,1470
37847 00000D44 00000000               I1  DATA FOR SOURCE-LINE 1436
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   573
PROGRAM NAME =

37848 00000D48 00000000               I1  DATA FOR SOURCE-LINE 1442
37849 00000D4C 00000000               I1  DATA FOR SOURCE-LINE 1448
37850 00000D50 00000000               I1  DATA FOR SOURCE-LINE 1454
37851 00000D54 00000000               I1  DATA FOR SOURCE-LINE 1460
37852 00000D58 00000000               I1  DATA FOR SOURCE-LINE 1465
37853 00000D5C 00000000               I1  DATA FOR SOURCE-LINE 1471
37854                                 I1  ***** END-POOL *****
37855 00000D60                   1483 I1  _DNM_ACC_OVER_SPD_MAK:
37856                            1484 I1          SUB_START
37857 00000D60 4F22                   M           STS.L   PR,@-R15                ;[必要]
37858                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37859 00000D62 D107              1485 I1          MOV.L   #_ACC_CALC_SPDX,R1                      ;
37860 00000D64 6212              1486 I1          MOV.L   @R1,R2                                  ;
37861                            1487 I1  
37862                            1488 I1  ;      *比率
37863 00000D66 D307              1489 I1          MOV.L   #_POSCTL_OVER_SPD_LAT,R3                ;
37864 00000D68 6131              1490 I1          MOV.W   @R3,R1                                  ;
37865 00000D6A 9407              1491 I1          MOV.W   #_OVRLIDE_LATE_MAX,R4                   ;
37866                            1492 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0               ;
37867 00000D6C D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37868 00000D6E 400B                   M           JSR     @R0                     ;
37869 00000D70 0009                   M           NOP                                     ;
37870                            1493 I1  
37871                            1494 I1  
37872 00000D72 D106              1495 I1          MOV.L   #_ACC_CALC_SPD,R1               ;
37873 00000D74 2122              1496 I1          MOV.L   R2,@R1                          ;
37874                            1497 I1          SUB_END
37875                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
37876 00000D76 4F26                   M           LDS.L   @R15+,PR                ;[必要]
37877                            1498 I1          M_RTS
37878 00000D78 000B                   M           RTS                             ;RTSの後ろの
37879 00000D7A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
37880                            1499 I1  
37881                            1500 I1  
37882                            1501 I1  
37883                            1502 I1  ;       ***************************************************
37884                            1503 I1  ;       ***                                             ***
37885                            1504 I1  ;       ***             最終減速演算                    ***
37886                            1505 I1  ;       ***             100%->0%                        ***
37887                            1506 I1  ;       ***             距離を使用する                  ***
37888                            1507 I1  ;       ***                                             ***
37889                            1508 I1  ;       ***************************************************
37890                            1509 I1  ;@全工程
37891                            1510 I1  ;;;[2013-05-20 前から未使用]_TBLACC_LAST_SP_MAKE
37892                            1511 I1  ;;;[2013-05-20 前から未使用]    SUB_START
37893                            1512 I1  ;;;[2013-05-20 前から未使用]
37894                            1513 I1  ;;;[2013-05-20 前から未使用];最大速度時の減速速度
37895                            1514 I1  ;;;[2013-05-20 前から未使用];最大速度時の減速パルス
37896                            1515 I1  ;;;[2013-05-20 前から未使用]
37897                            1516 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
37898                            1517 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R1,R6                          ;
37899                            1518 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
37900                            1519 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
37901                            1520 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ
                                          換算値　pls/s
37902                            1521 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @R1,R5                          ;
37903                            1522 I1  ;;;[2013-05-20 前から未使用]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   574
PROGRAM NAME =

37904                            1523 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_REST_ABS_PLSX,R0          ;
37905                            1524 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @R0,R1                          ;
37906                            1525 I1  ;;;[2013-05-20 前から未使用]    MOV.L   @(4,R0),R2                      ;USED R2
37907                            1526 I1  ;;;[2013-05-20 前から未使用]
37908                            1527 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_POINT_SERCH_PLS1,R0
37909                            1528 I1  ;;;[2013-05-20 前から未使用]
37910                            1529 I1  ;;;[2013-05-20 前から未使用]
37911                            1530 I1  ;;;[2013-05-20 前から未使用];;  MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求ま
                                          る
37912                            1531 I1  ;;;[2013-05-20 前から未使用];;  MOV.L   R2,@R1                          ;PLS/S
37913                            1532 I1  ;;;[2013-05-20 前から未使用]
37914                            1533 I1  ;;;[2013-05-20 前から未使用];;  MOV.L   #_ACC_LAST_POINT,R1             ;
37915                            1534 I1  ;;;[2013-05-20 前から未使用];;  MOV.W   R0,@R1
37916                            1535 I1  ;;;[2013-05-20 前から未使用]
37917                            1536 I1  ;;;[2013-05-20 前から未使用]
37918                            1537 I1  ;;;[2013-05-20 前から未使用]
37919                            1538 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0
37920                            1539 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_LASTSP_MK100          ;
37921                            1540 I1  ;;;[2013-05-20 前から未使用]    NOP
37922                            1541 I1  ;;;[2013-05-20 前から未使用]    M_BRA   TBLACC_LASTSP_MK150
37923                            1542 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK100
37924                            1543 I1  ;;;[2013-05-20 前から未使用]    NOP
37925                            1544 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK150
37926                            1545 I1  ;;;[2013-05-20 前から未使用]
37927                            1546 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_LAST_POINT,R5             ;
37928                            1547 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R5,R3                          ;
37929                            1548 I1  ;;;[2013-05-20 前から未使用]    TST     R3,R3                           ;
37930                            1549 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_LASTSP_MK500          ;
37931                            1550 I1  ;;;[2013-05-20 前から未使用]
37932                            1551 I1  ;;;[2013-05-20 前から未使用]
37933                            1552 I1  ;;;[2013-05-20 前から未使用]    CMP/HS  R3,R0                           ;R3=<R0
37934                            1553 I1  ;;;[2013-05-20 前から未使用]    BF      TBLACC_LASTSP_MK200             ;NO! R0<R3 ok減速
                                          した
37935                            1554 I1  ;;;[2013-05-20 前から未使用]
37936                            1555 I1  ;;;[2013-05-20 前から未使用]    ADD     #-1,R3                          ;
37937                            1556 I1  ;;;[2013-05-20 前から未使用]    MOV     R3,R0                           ;
37938                            1557 I1  ;;;[2013-05-20 前から未使用]
37939                            1558 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK200:
37940                            1559 I1  ;;;[2013-05-20 前から未使用]
37941                            1560 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0                           ;
37942                            1561 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_ON TBLACC_LASTSP_MK400
37943                            1562 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #1,R0                           ;
37944                            1563 I1  ;;;[2013-05-20 前から未使用]
37945                            1564 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK400
37946                            1565 I1  ;;;[2013-05-20 前から未使用]    PUSH_REG1 R0
37947                            1566 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_POINT_GET_SPD1,R1             ;
37948                            1567 I1  ;;;[2013-05-20 前から未使用]    POP_REG1 R0                             ;
37949                            1568 I1  ;;;[2013-05-20 前から未使用]
37950                            1569 I1  ;;;[2013-05-20 前から未使用]
37951                            1570 I1  ;;;[2013-05-20 前から未使用]
37952                            1571 I1  ;;;[2013-05-20 前から未使用]TBLACC_LASTSP_MK500                         ;
37953                            1572 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_LAST_POINT,R5             ;
37954                            1573 I1  ;;;[2013-05-20 前から未使用]    MOV.W   R0,@R5
37955                            1574 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_LAST_SPD,R1               ;最終速度から求ま
                                          る
37956                            1575 I1  ;;;[2013-05-20 前から未使用]    MOV.L   R2,@R1                          ;PLS/S
37957                            1576 I1  ;;;[2013-05-20 前から未使用]
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   575
PROGRAM NAME =

37958                            1577 I1  ;;;[2013-05-20 前から未使用];   ----------- 使用しない---
37959                            1578 I1  ;;;[2013-05-20 前から未使用]
37960                            1579 I1  ;;;[2013-05-20 前から未使用]
37961                            1580 I1  ;;;[2013-05-20 前から未使用]    SUB_END
37962                            1581 I1  ;;;[2013-05-20 前から未使用]    M_RTS
37963                            1582 I1  
37964                            1583 I1  
37965                            1584 I1  
37966                            1585 I1  ;       ***************************************************
37967                            1586 I1  ;       ***                                             ***
37968                            1587 I1  ;       ***             停止減速演算                    ***
37969                            1588 I1  ;       ***             x%->0%                          ***
37970                            1589 I1  ;       ***             距離を使用する                  ***
37971                            1590 I1  ;       ***                                             ***
37972                            1591 I1  ;       ***************************************************
37973                            1592 I1  ;A全工程(全段数に対して存在する)
37974                                 I1  ***** BEGIN-POOL *****
37975 00000D7C 0064                   I1  DATA FOR SOURCE-LINE 1491
37976 00000D7E 0000                   I1  ALIGNMENT CODE
37977 00000D80 00000000               I1  DATA FOR SOURCE-LINE 1485
37978 00000D84 00000000               I1  DATA FOR SOURCE-LINE 1489
37979 00000D88 00000000               I1  DATA FOR SOURCE-LINE 1492
37980 00000D8C 00000000               I1  DATA FOR SOURCE-LINE 1495
37981                                 I1  ***** END-POOL *****
37982 00000D90                   1593 I1  _TBLACC_STOP_SP_MAKE
37983                            1594 I1          SUB_START
37984 00000D90 4F22                   M           STS.L   PR,@-R15                ;[必要]
37985                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
37986                            1595 I1  
37987 00000D92 D107              1596 I1          MOV.L   #_ACC_STOP_NUMBER,R1    ;停止に使用するデータ番号=停止ステップ
37988 00000D94 6511              1597 I1          MOV.W   @R1,R5                  ;
37989                            1598 I1  
37990                            1599 I1          FAR_JSR #_ACC_NUMBER_SELTBL1,R0 ;
37991 00000D96 D007                   M           MOV.L   #_ACC_NUMBER_SELTBL1,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
37992 00000D98 400B                   M           JSR     @R0                     ;
37993 00000D9A 0009                   M           NOP                                     ;
37994                            1600 I1  
37995 00000D9C D106              1601 I1          MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
37996 00000D9E 6512              1602 I1          MOV.L   @R1,R5                          ;
37997                            1603 I1  
37998 00000DA0 D006              1604 I1          MOV.L   #_ACC_REST_ABS_PLSX,R0          ;
37999 00000DA2 6102              1605 I1          MOV.L   @R0,R1                          ;
38000 00000DA4 5201              1606 I1          MOV.L   @(4,R0),R2                      ;USED R2
38001                            1607 I1  
38002                            1608 I1          FAR_JSR #_POINT_SERCH_PLS_HOKAN1,R0     ;
38003 00000DA6 D006                   M           MOV.L   #_POINT_SERCH_PLS_HOKAN1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38004 00000DA8 400B                   M           JSR     @R0                     ;
38005 00000DAA 0009                   M           NOP                                     ;
38006                            1609 I1          M_BRA   TBLACC_STOPSP_MK500
38007 00000DAC A00A                   M           BRA     TBLACC_STOPSP_MK500
38008 00000DAE 0009                   M           NOP
38009                            1610 I1  
38010                            1611 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0
38011                            1612 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_STOPSP_MK100          ;
38012                            1613 I1  ;;;[2013-05-20 前から未使用]    NOP
38013                            1614 I1  ;;;[2013-05-20 前から未使用]    M_BRA   TBLACC_STOPSP_MK150
38014                            1615 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK100
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   576
PROGRAM NAME =

38015                            1616 I1  ;;;[2013-05-20 前から未使用]    NOP
38016                            1617 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK150
38017                            1618 I1  ;;;[2013-05-20 前から未使用]
38018                            1619 I1  ;;;[2013-05-20 前から未使用]    MOV.L   #_ACC_STOP_POINT,R5             ;
38019                            1620 I1  ;;;[2013-05-20 前から未使用]    MOV.W   @R5,R3                          ;
38020                            1621 I1  ;;;[2013-05-20 前から未使用]    TST     R3,R3                           ;
38021                            1622 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_OF TBLACC_STOPSP_MK500          ;
38022                            1623 I1  ;;;[2013-05-20 前から未使用]
38023                            1624 I1  ;;;[2013-05-20 前から未使用]
38024                            1625 I1  ;;;[2013-05-20 前から未使用]    CMP/HS  R3,R0                           ;R3=<R0
38025                            1626 I1  ;;;[2013-05-20 前から未使用]    BF      TBLACC_STOPSP_MK200             ;NO! R0<R3 ok減速
                                          した
38026                            1627 I1  ;;;[2013-05-20 前から未使用]
38027                            1628 I1  ;;;[2013-05-20 前から未使用]    ADD     #-1,R3                          ;
38028                            1629 I1  ;;;[2013-05-20 前から未使用]    MOV     R3,R0                           ;
38029                            1630 I1  ;;;[2013-05-20 前から未使用]
38030                            1631 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK200:
38031                            1632 I1  ;;;[2013-05-20 前から未使用]
38032                            1633 I1  ;;;[2013-05-20 前から未使用]    TST     R0,R0                           ;
38033                            1634 I1  ;;;[2013-05-20 前から未使用]    TST_BIT_ON TBLACC_STOPSP_MK400
38034                            1635 I1  ;;;[2013-05-20 前から未使用]    MOV.W   #1,R0                           ;
38035                            1636 I1  ;;;[2013-05-20 前から未使用]
38036                            1637 I1  ;;;[2013-05-20 前から未使用]TBLACC_STOPSP_MK400
38037                            1638 I1  ;;;[2013-05-20 前から未使用]    PUSH_REG1 R0
38038                            1639 I1  ;;;[2013-05-20 前から未使用]    FAR_JSR #_POINT_GET_SPD1,R1             ;
38039                            1640 I1  ;;;[2013-05-20 前から未使用]    POP_REG1 R0                             ;
38040                            1641 I1  ;;;[2013-05-20 前から未使用]
38041                            1642 I1  ;;;[2013-05-20 前から未使用]
38042                            1643 I1  ;;;[2013-05-20 前から未使用]
38043                                 I1  ***** BEGIN-POOL *****
38044 00000DB0 00000000               I1  DATA FOR SOURCE-LINE 1596
38045 00000DB4 00000000               I1  DATA FOR SOURCE-LINE 1599
38046 00000DB8 00000000               I1  DATA FOR SOURCE-LINE 1601
38047 00000DBC 00000000               I1  DATA FOR SOURCE-LINE 1604
38048 00000DC0 00000000               I1  DATA FOR SOURCE-LINE 1608
38049                                 I1  ***** END-POOL *****
38050 00000DC4                   1644 I1  TBLACC_STOPSP_MK500                             ;
38051 00000DC4 D503              1645 I1          MOV.L   #_ACC_STOP_POINT,R5             ;
38052 00000DC6 2501              1646 I1          MOV.W   R0,@R5
38053 00000DC8 D103              1647 I1          MOV.L   #_ACC_STOP_SPD,R1               ;最終速度から求まる
38054 00000DCA 2122              1648 I1          MOV.L   R2,@R1                          ;PLS/S
38055                            1649 I1  
38056                            1650 I1          SUB_END
38057                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38058 00000DCC 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38059                            1651 I1          M_RTS
38060 00000DCE 000B                   M           RTS                             ;RTSの後ろの
38061 00000DD0 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38062                            1652 I1  
38063                            1653 I1  ;       ***************************************************
38064                            1654 I1  ;       ***                                             ***
38065                            1655 I1  ;       ***                                             ***
38066                            1656 I1  ;       ***             加速演算                        ***
38067                            1657 I1  ;       ***             減速演算                        ***
38068                            1658 I1  ;       ***                                             ***
38069                            1659 I1  ;       ***                                             ***
38070                            1660 I1  ;       ***************************************************
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   577
PROGRAM NAME =

38071                            1661 I1  
38072                                 I1  ***** BEGIN-POOL *****
38073 00000DD2 0000                   I1  ALIGNMENT CODE
38074 00000DD4 00000000               I1  DATA FOR SOURCE-LINE 1645
38075 00000DD8 00000000               I1  DATA FOR SOURCE-LINE 1647
38076                                 I1  ***** END-POOL *****
38077 00000DDC                   1662 I1  _TBLACC_STEP_SP_MAKE
38078                            1663 I1          SUB_START
38079 00000DDC 4F22                   M           STS.L   PR,@-R15                ;[必要]
38080                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38081                            1664 I1  
38082 00000DDE D115              1665 I1          MOV.L   #_ACC_STEP_NUMBER,R1            ;加減速に使用するデータ番号=動作ステップ
38083 00000DE0 6511              1666 I1          MOV.W   @R1,R5                          ;
38084                            1667 I1          FAR_JSR #_ACC_NUMBER_SELTBL2,R0         ;
38085 00000DE2 D015                   M           MOV.L   #_ACC_NUMBER_SELTBL2,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38086 00000DE4 400B                   M           JSR     @R0                     ;
38087 00000DE6 0009                   M           NOP                                     ;
38088                            1668 I1  
38089                            1669 I1  
38090 00000DE8 D114              1670 I1          MOV.L   #_ACC_STEP_FLG,R1               ;BIT0:START BIT1:CALC BIT2:LIMIT
38091 00000DEA 6011              1671 I1          MOV.W   @R1,R0                          ;
38092 00000DEC C804              1672 I1          TST     #BIT2,R0                        ;
38093                            1673 I1          TST_BIT_ON TBLACC_STEP_SPMAK_400        ;
38094 00000DEE 8B5F                   M           BF      TBLACC_STEP_SPMAK_400
38095 00000DF0 C803              1674 I1          TST     #(BIT1+BIT0),R0                 ;
38096                            1675 I1          TST_BIT_ON TBLACC_STEP_SPMAK_200        ;
38097 00000DF2 8B36                   M           BF      TBLACC_STEP_SPMAK_200
38098                            1676 I1  
38099 00000DF4 D112              1677 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
38100 00000DF6 6011              1678 I1          MOV.W   @R1,R0                          ;
38101 00000DF8 2008              1679 I1          TST     R0,R0                           ;
38102                            1680 I1          TST_BIT_ON TBLACC_STEP_SPMAK_200        ;
38103 00000DFA 8B32                   M           BF      TBLACC_STEP_SPMAK_200
38104                            1681 I1  
38105                            1682 I1  ;;;;    MOV.L   #_POSCTL_RL_SPD,R0              ;pls/s
38106 00000DFC D011              1683 I1          MOV.L   #_ACC_POSCTL_RL_SPDX,R0         ;
38107 00000DFE 6202              1684 I1          MOV.L   @R0,R2                          ;
38108                            1685 I1  
38109                            1686 I1  
38110                            1687 I1  ;       ========= DEBUG
38111 00000E00 D10C              1688 I1          MOV.L   #_ACC_STEP_NUMBER,R1            ;加減速に使用するデータ番号=動作ステップ
38112 00000E02 6011              1689 I1          MOV.W   @R1,R0                          ;
38113 00000E04 8802              1690 I1          CMP/EQ  #2,R0                           ;
38114 00000E06 8B02              1691 I1          BF      DEBUG_JMP10                     ;
38115 00000E08 0009              1692 I1          NOP
38116 00000E0A 0009              1693 I1          NOP
38117 00000E0C 0009              1694 I1          NOP
38118 00000E0E                   1695 I1  DEBUG_JMP10
38119                            1696 I1  
38120                            1697 I1  ;       -------------加減速直線演算固定させたいだけ2014-09-22
38121 00000E0E D10E              1698 I1          MOV.L   #_MOT_REP_F,R1                  ;//BIT0
38122 00000E10 6011              1699 I1          MOV.W   @R1,R0                          ;
38123 00000E12 C801              1700 I1          TST     #BIT0,R0                        ;
38124                            1701 I1          TST_BIT_ON TBLACC_STEP_SPMAK_CNST050
38125 00000E14 8B04                   M           BF      TBLACC_STEP_SPMAK_CNST050
38126                            1702 I1  
38127                            1703 I1          FAR_JSR #_POINT_SERCH_SPD1,R0           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   578
PROGRAM NAME =

38128 00000E16 D00D                   M           MOV.L   #_POINT_SERCH_SPD1,R0           ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38129 00000E18 400B                   M           JSR     @R0                     ;
38130 00000E1A 0009                   M           NOP                                     ;
38131                            1704 I1  
38132 00000E1C 2008              1705 I1          TST     R0,R0                           ;
38133                            1706 I1          TST_BIT_ON TBLACC_STEP_SPMAK_100        ;範囲内でいる JUMP
38134 00000E1E 8B1B                   M           BF      TBLACC_STEP_SPMAK_100
38135                            1707 I1  
38136 00000E20                   1708 I1  TBLACC_STEP_SPMAK_CNST050:
38137                            1709 I1  
38138                            1710 I1  ;一定加速・一定減速演算
38139                            1711 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACC_CTRL_STS2,LG=W,BIT=BIT4,WKREG=R1       ;
38140 00000E20 D10B                   M           MOV.L   #_ACC_CTRL_STS2,R1              ;
38141 00000E22 6011                   M           MOV.W   @R1,R0          ;
38142 00000E24 CB10                   M           OR      #BIT4,R0                ;
38143 00000E26 2101                   M           MOV.W   R0,@R1          ;
38144                            1712 I1          FAR_JSR #_TBLACC_ACC_ADDCHK,R0          ;ANS R2
38145 00000E28 D00A                   M           MOV.L   #_TBLACC_ACC_ADDCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38146 00000E2A 400B                   M           JSR     @R0                     ;
38147 00000E2C 0009                   M           NOP                                     ;
38148                            1713 I1          M_BRA   TBLACC_STEP_SPMAK_500   ;
38149 00000E2E A046                   M           BRA     TBLACC_STEP_SPMAK_500
38150 00000E30 0009                   M           NOP
38151                            1714 I1  
38152                            1715 I1  
38153                                 I1  ***** BEGIN-POOL *****
38154 00000E32 0000                   I1  ALIGNMENT CODE
38155 00000E34 00000000               I1  DATA FOR SOURCE-LINE 1665,1688
38156 00000E38 00000000               I1  DATA FOR SOURCE-LINE 1667
38157 00000E3C 00000000               I1  DATA FOR SOURCE-LINE 1670
38158 00000E40 00000000               I1  DATA FOR SOURCE-LINE 1677
38159 00000E44 00000000               I1  DATA FOR SOURCE-LINE 1683
38160 00000E48 00000000               I1  DATA FOR SOURCE-LINE 1698
38161 00000E4C 00000000               I1  DATA FOR SOURCE-LINE 1703
38162 00000E50 00000000               I1  DATA FOR SOURCE-LINE 1711
38163 00000E54 00000000               I1  DATA FOR SOURCE-LINE 1712
38164                                 I1  ***** END-POOL *****
38165 00000E58                   1716 I1  TBLACC_STEP_SPMAK_100
38166 00000E58 D108              1717 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
38167 00000E5A 2101              1718 I1          MOV.W   R0,@R1                          ;
38168                            1719 I1  
38169 00000E5C 900C              1720 I1          MOV.W   #BIT0,R0
38170 00000E5E D108              1721 I1          MOV.L   #_ACC_STEP_FLG,R1               ;BIT0:START BIT1:CALC BIT2:LIMIT
38171 00000E60 2101              1722 I1          MOV.W   R0,@R1                          ;
38172                            1723 I1  
38173                            1724 I1  
38174 00000E62                   1725 I1  TBLACC_STEP_SPMAK_200
38175 00000E62 6083              1726 I1          MOV     R8,R0                           ;
38176 00000E64 C804              1727 I1          TST     #BIT2,R0                        ;BIT2=0加速
38177                            1728 I1          TST_BIT_OF TBLACC_STEP_SPMAK_250        ;
38178 00000E66 890D                   M           BT      TBLACC_STEP_SPMAK_250
38179                            1729 I1  ;       ---減速--
38180 00000E68 D104              1730 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
38181 00000E6A 6011              1731 I1          MOV.W   @R1,R0                          ;
38182 00000E6C 8801              1732 I1          CMP/EQ  #1,R0                           ;
38183 00000E6E 891F              1733 I1          BT      TBLACC_STEP_SPMAK_400           ;LIMIT
38184 00000E70 70FF              1734 I1          ADD     #-1,R0                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   579
PROGRAM NAME =

38185 00000E72 2101              1735 I1          MOV.W   R0,@R1                          ;
38186                            1736 I1          M_BRA   TBLACC_STEP_SPMAK_300           ;
38187 00000E74 A00C                   M           BRA     TBLACC_STEP_SPMAK_300
38188 00000E76 0009                   M           NOP
38189                            1737 I1  
38190                                 I1  ***** BEGIN-POOL *****
38191 00000E78 0001                   I1  DATA FOR SOURCE-LINE 1720
38192 00000E7A 0000                   I1  ALIGNMENT CODE
38193 00000E7C 00000000               I1  DATA FOR SOURCE-LINE 1717,1730
38194 00000E80 00000000               I1  DATA FOR SOURCE-LINE 1721
38195                                 I1  ***** END-POOL *****
38196 00000E84                   1738 I1  TBLACC_STEP_SPMAK_250
38197                            1739 I1  ;       ---加速--
38198 00000E84 D107              1740 I1          MOV.L   #_ACC_STEP_POINT,R1             ;0:ｻｰﾁ前(目標速度切り替わり時:0)
38199 00000E86 6011              1741 I1          MOV.W   @R1,R0                          ;
38200 00000E88 3062              1742 I1          CMP/HS  R6,R0                           ;
38201 00000E8A 8911              1743 I1          BT      TBLACC_STEP_SPMAK_400           ;LIMIT
38202 00000E8C 7001              1744 I1          ADD     #1,R0                           ;
38203 00000E8E 2101              1745 I1          MOV.W   R0,@R1                          ;
38204 00000E90                   1746 I1  TBLACC_STEP_SPMAK_300
38205                            1747 I1          FAR_JSR #_POINT_GET_SPD1,R1             ;input R0
38206 00000E90 D105                   M           MOV.L   #_POINT_GET_SPD1,R1             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38207 00000E92 410B                   M           JSR     @R1                     ;
38208 00000E94 0009                   M           NOP                                     ;
38209                            1748 I1  
38210 00000E96 9003              1749 I1          MOV.W   #(BIT1+BIT0),R0                 ;
38211 00000E98 D104              1750 I1          MOV.L   #_ACC_STEP_FLG,R1               ;BIT0:START BIT1:CALC BIT2:LIMIT
38212 00000E9A 2101              1751 I1          MOV.W   R0,@R1                          ;
38213                            1752 I1          M_BRA   TBLACC_STEP_SPMAK_500           ;
38214 00000E9C A00F                   M           BRA     TBLACC_STEP_SPMAK_500
38215 00000E9E 0009                   M           NOP
38216                            1753 I1  
38217                            1754 I1  ;       ---------LIMIT-ON  ---------
38218                                 I1  ***** BEGIN-POOL *****
38219 00000EA0 0003                   I1  DATA FOR SOURCE-LINE 1749
38220 00000EA2 0000                   I1  ALIGNMENT CODE
38221 00000EA4 00000000               I1  DATA FOR SOURCE-LINE 1740
38222 00000EA8 00000000               I1  DATA FOR SOURCE-LINE 1747
38223 00000EAC 00000000               I1  DATA FOR SOURCE-LINE 1750
38224                                 I1  ***** END-POOL *****
38225 00000EB0                   1755 I1  TBLACC_STEP_SPMAK_400
38226                            1756 I1  ;;;不要 MOV.L   #_POSCTL_RL_SPD,R0              ;pls/s
38227                            1757 I1  ;;不要  MOV.L   @R0,R2                          ;
38228                            1758 I1          FAR_JSR #_TBLACC_ACC_ADDCHK,R0          ;ANS R2
38229 00000EB0 D005                   M           MOV.L   #_TBLACC_ACC_ADDCHK,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38230 00000EB2 400B                   M           JSR     @R0                     ;
38231 00000EB4 0009                   M           NOP                                     ;
38232                            1759 I1  
38233                            1760 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACC_STEP_FLG,LG=W,BIT=BIT2,WKREG=R1        ;
38234 00000EB6 D105                   M           MOV.L   #_ACC_STEP_FLG,R1               ;
38235 00000EB8 6011                   M           MOV.W   @R1,R0          ;
38236 00000EBA CB04                   M           OR      #BIT2,R0                ;
38237 00000EBC 2101                   M           MOV.W   R0,@R1          ;
38238                            1761 I1  
38239 00000EBE                   1762 I1  TBLACC_STEP_SPMAK_500
38240 00000EBE D104              1763 I1          MOV.L   #_ACC_STEP_SPD,R1               ;ステップ
38241 00000EC0 2122              1764 I1          MOV.L   R2,@R1                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   580
PROGRAM NAME =

38242                            1765 I1  
38243                            1766 I1          SUB_END
38244                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38245 00000EC2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38246                            1767 I1          M_RTS
38247 00000EC4 000B                   M           RTS                             ;RTSの後ろの
38248 00000EC6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38249                            1768 I1  
38250                            1769 I1  
38251                            1770 I1  
38252                            1771 I1  ;       *******************************************
38253                            1772 I1  ;       ***                                     ***
38254                            1773 I1  ;       ***     各工程時のインフォメーション    ***
38255                            1774 I1  ;       ***                                     ***
38256                            1775 I1  ;       *******************************************
38257                            1776 I1  ;;      MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
38258                            1777 I1  ;;      MOV.W   @R1,R6                          ;
38259                            1778 I1  ;;      MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
38260                            1779 I1  ;;      MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
38261                            1780 I1  ;       MOV.L   @(AFM_STEP_INF_FLG-ACC_FORM_TOP,GBR),R0 ;
38262                            1781 I1  ;       MOV.W   R0,R8                                   ;BIT2=[0=加速/1=減速]
38263                                 I1  ***** BEGIN-POOL *****
38264 00000EC8 00000000               I1  DATA FOR SOURCE-LINE 1758
38265 00000ECC 00000000               I1  DATA FOR SOURCE-LINE 1760
38266 00000ED0 00000000               I1  DATA FOR SOURCE-LINE 1763
38267                                 I1  ***** END-POOL *****
38268 00000ED4                   1782 I1  _ACC_NUMBER_SELTBL1:
38269                            1783 I1          SUB_START
38270 00000ED4 4F22                   M           STS.L   PR,@-R15                ;[必要]
38271                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38272                            1784 I1  
38273 00000ED6 75FF              1785 I1          ADD     #-1,R5                                          ;
38274 00000ED8 4508              1786 I1          SHLL2   R5                                              ;*4byte
38275 00000EDA D607              1787 I1          MOV.L   #_ACC_TBL_CAL_IN_TOP,R6                         ;
38276 00000EDC 365C              1788 I1          ADD     R5,R6                                           ;
38277 00000EDE 6062              1789 I1          MOV.L   @R6,R0
38278 00000EE0 401E              1790 I1          LDC     R0,GBR
38279                            1791 I1  
38280 00000EE2 C60B              1792 I1          MOV.L   @(AFM_DST_STPACTM-ACC_FORM_TOP,GBR),R0  ;
38281 00000EE4 6601              1793 I1          MOV.W   @R0,R6                                  ;
38282 00000EE6 C60C              1794 I1          MOV.L   @(AFM_DST_STPPTBL-ACC_FORM_TOP,GBR),R0  ;
38283 00000EE8 6D03              1795 I1          MOV     R0,R13
38284 00000EEA C60A              1796 I1          MOV.L   @(AFM_DST_STPVTBL-ACC_FORM_TOP,GBR),R0  ;
38285 00000EEC 6B03              1797 I1          MOV     R0,R11                                  ;
38286 00000EEE C603              1798 I1          MOV.L   @(AFM_STEP_INF_FLG-ACC_FORM_TOP,GBR),R0 ;
38287 00000EF0 6801              1799 I1          MOV.W   @R0,R8                                  ;BIT2=[0=加速/1=減速]
38288                            1800 I1  
38289                            1801 I1          SUB_END
38290                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38291 00000EF2 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38292                            1802 I1          M_RTS
38293 00000EF4 000B                   M           RTS                             ;RTSの後ろの
38294 00000EF6 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38295                            1803 I1  
38296                                 I1  ***** BEGIN-POOL *****
38297 00000EF8 00000000               I1  DATA FOR SOURCE-LINE 1787
38298                                 I1  ***** END-POOL *****
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   581
PROGRAM NAME =

38299 00000EFC                   1804 I1  _ACC_NUMBER_SELTBL2:
38300                            1805 I1          SUB_START
38301 00000EFC 4F22                   M           STS.L   PR,@-R15                ;[必要]
38302                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38303                            1806 I1  
38304 00000EFE 75FF              1807 I1          ADD     #-1,R5                                          ;
38305 00000F00 4508              1808 I1          SHLL2   R5                                              ;*4byte
38306 00000F02 D607              1809 I1          MOV.L   #_ACC_TBL_CAL_IN_TOP,R6                         ;
38307 00000F04 365C              1810 I1          ADD     R5,R6                                           ;
38308 00000F06 6062              1811 I1          MOV.L   @R6,R0
38309 00000F08 401E              1812 I1          LDC     R0,GBR
38310                            1813 I1  
38311 00000F0A C607              1814 I1          MOV.L   @(AFM_DST_CTLACTM-ACC_FORM_TOP,GBR),R0  ;
38312 00000F0C 6601              1815 I1          MOV.W   @R0,R6                                  ;
38313                            1816 I1  ;;;;;   MOV.L   @(AFM_DST_STPPTBL-ACC_FORM_TOP,GBR),R0  ;
38314                            1817 I1  ;;;;;   MOV     R0,R13
38315 00000F0E C606              1818 I1          MOV.L   @(AFM_DST_CTLVTBL-ACC_FORM_TOP,GBR),R0  ;
38316 00000F10 6B03              1819 I1          MOV     R0,R11                                  ;
38317 00000F12 6D03              1820 I1          MOV     R0,R13                                  ;
38318 00000F14 C603              1821 I1          MOV.L   @(AFM_STEP_INF_FLG-ACC_FORM_TOP,GBR),R0 ;
38319 00000F16 6801              1822 I1          MOV.W   @R0,R8                                  ;BIT2=[0=加速/1=減速]
38320                            1823 I1  
38321                            1824 I1          SUB_END
38322                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38323 00000F18 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38324                            1825 I1          M_RTS
38325 00000F1A 000B                   M           RTS                             ;RTSの後ろの
38326 00000F1C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38327                            1826 I1  
38328                            1827 I1  
38329                            1828 I1  ;AFM_SRC_TBL_TOP                .DATA.L         _ACC_IN_TBLUSE          ;元ﾃｰﾌﾞﾙADR(2byte)
38330                            1829 I1  ;AFM_SRC_TBL_MEM                .DATA.L         _ACC_IN_TBL_TIM         ;255msec WOD
38331                            1830 I1  ;AFM_STEP_INF_SPD       .DATA.L         _ACC_INF1_STEPSP01      ;000%[前状態],050%[設定]
38332                            1831 I1  ;AFM_STEP_INF_FLG       .DATA.L         _ACC_INF1_STEP001       ;//BIT2=[加速:0/減速:1] BI
                                          T1=[]   BIT0=0(停止) =1(連続)
38333                            1832 I1  ;AFM_OLD_CTLVTBL                .DATA.L         _ACC_STEP001_VTBL       ;(STEP1では使用し
                                          ない)
38334                            1833 I1  ;AFM_DST_CTLVTBL                .DATA.L         _ACC_STEP001_VTBL       ;
38335                            1834 I1  ;AFM_DST_CTLACTM                .DATA.L         _ACC_STEP001_ACTM       ;
38336                            1835 I1  ;AFM_OLD_STPVTBL                .DATA.L         _ACC_STOP001_VTBL       ;
38337                            1836 I1  ;AFM_DST_STPVTBL                .DATA.L         _ACC_STOP001_VTBL       ;
38338                            1837 I1  ;AFM_DST_STPACTM                .DATA.L         _ACC_STOP001_ACTM       ;
38339                            1838 I1  ;AFM_DST_STPPTBL                .DATA.L         _ACC_STOP001_PTBL       ;
38340                            1839 I1  
38341                            1840 I1  ;       *******************************************
38342                            1841 I1  ;       ***                                     ***
38343                            1842 I1  ;       ***             サーチ                  ***
38344                            1843 I1  ;       ***             速度型サーチ            ***
38345                            1844 I1  ;       ***                                     ***
38346                            1845 I1  ;       *******************************************
38347                            1846 I1  ;       テーブルは増加方向である
38348                            1847 I1  ;       サーチは加速方向と減速方向がある。
38349                            1848 I1  ;
38350                            1849 I1  ;       Input 現在速度 R2 ()
38351                            1850 I1  ;             TABEL_TOP_ADR R13
38352                            1851 I1  ;             TABEL個数(加減速時間+1)をもらう R6
38353                            1852 I1  ;               ﾃｰﾌﾞﾙ方向
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   582
PROGRAM NAME =

38354                            1853 I1  ;               ｻｰﾁ方向   0:加速(大きくなる点をサーチする) 1:減速（小さくなる限界点をサー
                                          チする）
38355                            1854 I1  ;       Output:ﾎﾟｲﾝﾀ 1~ﾃｰﾌﾞﾙ個数 0(ﾃｰﾌﾞﾙ範囲外),-1(ﾃｰﾌﾞﾙ範囲外)
38356                            1855 I1  ;
38357                            1856 I1  ;       MAX 10回:1023まで
38358                            1857 I1  ;       0~15(16個)   4回   5bit
38359                            1858 I1  ;       0~31(32個)   5回   6
38360                            1859 I1  ;       0~63(64個)   6回   7
38361                            1860 I1  ;       0~127(128個) 7回   8
38362                            1861 I1  ;       0~255(256個) 8回   9
38363                            1862 I1  ;       0~511(512個) 9回   10
38364                            1863 I1  ;       0~1023(1024個)10回 11
38365                            1864 I1  ;
38366                            1865 I1  ;       MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
38367                            1866 I1  ;       MOV.W   @R1,R6                          ;
38368                            1867 I1  ;       MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
38369                            1868 I1  ;       MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
38370                            1869 I1  ;       MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
38371                            1870 I1  ;       MOV.L   @R1,R5                          ;
38372                            1871 I1  ;
38373                            1872 I1  ;
38374                            1873 I1  ;
38375                            1874 I1  ;
38376                            1875 I1  ;
38377                                 I1  ***** BEGIN-POOL *****
38378 00000F1E 0000                   I1  ALIGNMENT CODE
38379 00000F20 00000000               I1  DATA FOR SOURCE-LINE 1809
38380                                 I1  ***** END-POOL *****
38381 00000F24                   1876 I1  _POINT_SERCH_SPD1
38382                            1877 I1          SUB_START
38383 00000F24 4F22                   M           STS.L   PR,@-R15                ;[必要]
38384                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38385                            1878 I1          PUSH_REG1 R2
38386 00000F26 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
38387                                 M                                           ;REG=>[SP]
38388                                 M                                           ;"-4" FF,FF,FF,FC
38389                            1879 I1  
38390 00000F28 D00A              1880 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
38391 00000F2A 6402              1881 I1          MOV.L   @R0,R4                          ;
38392 00000F2C 9110              1882 I1          MOV.W   #_ACC_PER_V_MAX,R1              ;
38393                            1883 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;
38394 00000F2E D00A                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38395 00000F30 400B                   M           JSR     @R0                     ;
38396 00000F32 0009                   M           NOP                                     ;
38397                            1884 I1  
38398 00000F34 6063              1885 I1          MOV     R6,R0                           ;加減速時間
38399 00000F36 4000              1886 I1          SHLL    R0                              ;2byte
38400 00000F38 01BD              1887 I1          MOV.W   @(R0,R11),R1                    ;(V)
38401 00000F3A 3216              1888 I1          CMP/HI  R1,R2                           ;
38402 00000F3C 8910              1889 I1          BT      POINT_SERCHSPD1_100             ;最大よりも大きい:範囲外
38403                            1890 I1  
38404 00000F3E 61B1              1891 I1          MOV.W   @R11,R1                         ;(V)MIN
38405 00000F40 3126              1892 I1          CMP/HI  R2,R1                           ;
38406 00000F42 890D              1893 I1          BT      POINT_SERCHSPD1_100             ;最小よりも小さい:範囲外
38407                            1894 I1  
38408                            1895 I1          FAR_JSR #_POINT_SERCH_BIG_2B,R0         ;
38409 00000F44 D005                   M           MOV.L   #_POINT_SERCH_BIG_2B,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   583
PROGRAM NAME =

38410 00000F46 400B                   M           JSR     @R0                     ;
38411 00000F48 0009                   M           NOP                                     ;
38412 00000F4A 6093              1896 I1          MOV     R9,R0                           ;
38413                            1897 I1          M_BRA   POINT_SERCHSPD1_END             ;
38414 00000F4C A00B                   M           BRA     POINT_SERCHSPD1_END
38415 00000F4E 0009                   M           NOP
38416                            1898 I1  
38417                            1899 I1  
38418                            1900 I1  
38419                                 I1  ***** BEGIN-POOL *****
38420 00000F50 2710                   I1  DATA FOR SOURCE-LINE 1882
38421 00000F52 0000                   I1  ALIGNMENT CODE
38422 00000F54 00000000               I1  DATA FOR SOURCE-LINE 1880
38423 00000F58 00000000               I1  DATA FOR SOURCE-LINE 1883
38424 00000F5C 00000000               I1  DATA FOR SOURCE-LINE 1895
38425                                 I1  ***** END-POOL *****
38426 00000F60                   1901 I1  POINT_SERCHSPD1_100:                            ;
38427 00000F60 200A              1902 I1          XOR     R0,R0                           ;範囲外
38428                            1903 I1          M_BRA   POINT_SERCHSPD1_END             ;
38429 00000F62 A000                   M           BRA     POINT_SERCHSPD1_END
38430 00000F64 0009                   M           NOP
38431                            1904 I1  
38432 00000F66                   1905 I1  POINT_SERCHSPD1_END:                            ;
38433                            1906 I1  
38434                            1907 I1          POP_REG1 R2
38435                                 M                                   ; RE"+4" 00,00,00,04
38436 00000F66 62F6                   M           MOV.L   @R15+,R2        ;
38437                            1908 I1          SUB_END
38438                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38439 00000F68 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38440                            1909 I1          M_RTS
38441 00000F6A 000B                   M           RTS                             ;RTSの後ろの
38442 00000F6C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38443                            1910 I1  
38444                            1911 I1  
38445                            1912 I1  ;input R0
38446 00000F6E                   1913 I1  _POINT_GET_SPD1
38447                            1914 I1          SUB_START
38448 00000F6E 4F22                   M           STS.L   PR,@-R15                ;[必要]
38449                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38450 00000F70 4000              1915 I1          SHLL    R0                              ;2byte
38451 00000F72 02BD              1916 I1          MOV.W   @(R0,R11),R2                    ;
38452 00000F74 D004              1917 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
38453 00000F76 6102              1918 I1          MOV.L   @R0,R1                          ;
38454 00000F78 9405              1919 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
38455                            1920 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;ANS R2
38456 00000F7A D004                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38457 00000F7C 400B                   M           JSR     @R0                     ;
38458 00000F7E 0009                   M           NOP                                     ;
38459                            1921 I1          SUB_END
38460                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38461 00000F80 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38462                            1922 I1          M_RTS
38463 00000F82 000B                   M           RTS                             ;RTSの後ろの
38464 00000F84 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38465                            1923 I1  
38466                            1924 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   584
PROGRAM NAME =

38467                            1925 I1  
38468                            1926 I1  
38469                            1927 I1  
38470                            1928 I1  
38471                            1929 I1  ;       *******************************************
38472                            1930 I1  ;       ***                                     ***
38473                            1931 I1  ;       ***             サーチ                  ***
38474                            1932 I1  ;       ***             位置型サーチ            ***
38475                            1933 I1  ;       ***                                     ***
38476                            1934 I1  ;       *******************************************
38477                            1935 I1  ;       MOV.L   #_ACC_BASEDAT_ACCTM,R1          ;加減速時間
38478                            1936 I1  ;       MOV.W   @R1,R6                          ;
38479                            1937 I1  ;       MOV.L   #_ACC_BASEDAT_STPPTBL,R13       ;
38480                            1938 I1  ;       MOV.L   #_ACC_BASEDAT_STPVTBL,R11       ;
38481                            1939 I1  ;       MOV.L   #_LINK_MAX_SPD_PLS,R1           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
38482                            1940 I1  ;       MOV.L   @R1,R5                          ;
38483                            1941 I1  ;
38484                            1942 I1  ;       [減速位置のため]
38485                            1943 I1  ;
38486                                 I1  ***** BEGIN-POOL *****
38487 00000F86 2710                   I1  DATA FOR SOURCE-LINE 1919
38488 00000F88 00000000               I1  DATA FOR SOURCE-LINE 1917
38489 00000F8C 00000000               I1  DATA FOR SOURCE-LINE 1920
38490                                 I1  ***** END-POOL *****
38491 00000F90                   1944 I1  _POINT_SERCH_PLS1
38492                            1945 I1          SUB_START
38493 00000F90 4F22                   M           STS.L   PR,@-R15                ;[必要]
38494                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38495                            1946 I1  
38496 00000F92 D40E              1947 I1          MOV.L   #_ACC_REST_FLG,R4               ;
38497 00000F94 6041              1948 I1          MOV.W   @R4,R0                          ;
38498 00000F96 2008              1949 I1          TST     R0,R0                           ;
38499                            1950 I1          TST_BIT_OF POINT_SERCHPLS1_100          ;R0=0まだまだ残り距離が十分あるから減速演
                                          算不要[いまやってもｵｰﾊﾞﾌﾛする]
38500 00000F98 8920                   M           BT      POINT_SERCHPLS1_100
38501                            1951 I1  
38502 00000F9A 6063              1952 I1          MOV     R6,R0                           ;加減速時間
38503 00000F9C 4008              1953 I1          SHLL2   R0                              ;4byte
38504 00000F9E 01DE              1954 I1          MOV.L   @(R0,R13),R1                    ;(P)
38505 00000FA0 3216              1955 I1          CMP/HI  R1,R2                           ;SV(最も大きいパルス)<PV
38506 00000FA2 891B              1956 I1          BT      POINT_SERCHPLS1_100             ;
38507                            1957 I1  
38508                            1958 I1          FAR_JSR #_POINT_SERCH_BIG_4B,R0         ;ANS R9 大きい順に探した超えた最も近い点
38509 00000FA4 D00A                   M           MOV.L   #_POINT_SERCH_BIG_4B,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38510 00000FA6 400B                   M           JSR     @R0                     ;
38511 00000FA8 0009                   M           NOP                                     ;
38512                            1959 I1  ;;;;不要        ADD     #-1,R9                          ;
38513 00000FAA 4915              1960 I1          CMP/PL  R9                              ;
38514 00000FAC 8900              1961 I1          BT      POINT_SERCHPLS1_050             ;
38515 00000FAE 990A              1962 I1          MOV.W   #1,R9                           ;
38516 00000FB0                   1963 I1  POINT_SERCHPLS1_050:
38517 00000FB0 6093              1964 I1          MOV     R9,R0                           ;
38518 00000FB2 4000              1965 I1          SHLL    R0                              ;2byte
38519 00000FB4 01BD              1966 I1          MOV.W   @(R0,R11),R1                    ;(V)SPEED
38520 00000FB6 D007              1967 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
38521 00000FB8 6202              1968 I1          MOV.L   @R0,R2                          ;
38522 00000FBA 9405              1969 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   585
PROGRAM NAME =

38523                            1970 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;V%*FREQ/100.00% *1/1000=deltV
38524 00000FBC D006                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38525 00000FBE 400B                   M           JSR     @R0                     ;
38526 00000FC0 0009                   M           NOP                                     ;
38527                            1971 I1          M_BRA   POINT_SERCHPLS1_200             ;PLS/sec
38528 00000FC2 A00F                   M           BRA     POINT_SERCHPLS1_200
38529 00000FC4 0009                   M           NOP
38530                            1972 I1  
38531                                 I1  ***** BEGIN-POOL *****
38532 00000FC6 0001                   I1  DATA FOR SOURCE-LINE 1962
38533 00000FC8 2710                   I1  DATA FOR SOURCE-LINE 1969
38534 00000FCA 0000                   I1  ALIGNMENT CODE
38535 00000FCC 00000000               I1  DATA FOR SOURCE-LINE 1947
38536 00000FD0 00000000               I1  DATA FOR SOURCE-LINE 1958
38537 00000FD4 00000000               I1  DATA FOR SOURCE-LINE 1967
38538 00000FD8 00000000               I1  DATA FOR SOURCE-LINE 1970
38539                                 I1  ***** END-POOL *****
38540 00000FDC                   1973 I1  POINT_SERCHPLS1_100:
38541 00000FDC 6253              1974 I1          MOV     R5,R2
38542 00000FDE 200A              1975 I1          XOR     R0,R0
38543                            1976 I1          M_BRA   POINT_SERCHPLS1_END             ;
38544 00000FE0 A001                   M           BRA     POINT_SERCHPLS1_END
38545 00000FE2 0009                   M           NOP
38546 00000FE4                   1977 I1  POINT_SERCHPLS1_200:                            ;
38547 00000FE4 6093              1978 I1          MOV     R9,R0                           ;POINTER(0以外)
38548 00000FE6                   1979 I1  POINT_SERCHPLS1_END:
38549                            1980 I1  
38550                            1981 I1          SUB_END
38551                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38552 00000FE6 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38553                            1982 I1          M_RTS
38554 00000FE8 000B                   M           RTS                             ;RTSの後ろの
38555 00000FEA 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38556                            1983 I1  
38557                            1984 I1  
38558                            1985 I1  
38559                            1986 I1  ;       *******************************************
38560                            1987 I1  ;       ***                                     ***
38561                            1988 I1  ;       ***             サーチ                  ***
38562                            1989 I1  ;       ***             位置型サーチ            ***
38563                            1990 I1  ;       ***                                     ***
38564                            1991 I1  ;       *******************************************
38565                            1992 I1  ;R5
38566 00000FEC                   1993 I1  _POINT_SERCH_PLS_HOKAN1
38567                            1994 I1          SUB_START
38568 00000FEC 4F22                   M           STS.L   PR,@-R15                ;[必要]
38569                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38570                            1995 I1          PUSH_REG1 R6
38571 00000FEE 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
38572                                 M                                           ;REG=>[SP]
38573                                 M                                           ;"-4" FF,FF,FF,FC
38574                            1996 I1          PUSH_REG1 R7
38575 00000FF0 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
38576                                 M                                           ;REG=>[SP]
38577                                 M                                           ;"-4" FF,FF,FF,FC
38578                            1997 I1          PUSH_REG1 R8
38579 00000FF2 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   586
PROGRAM NAME =

38580                                 M                                           ;REG=>[SP]
38581                                 M                                           ;"-4" FF,FF,FF,FC
38582                            1998 I1  
38583 00000FF4 D416              1999 I1          MOV.L   #_ACC_REST_FLG,R4               ;
38584 00000FF6 6041              2000 I1          MOV.W   @R4,R0                          ;
38585 00000FF8 2008              2001 I1          TST     R0,R0                           ;
38586                            2002 I1          TST_BIT_OF POINT_SERCHPLS_HKN1_400      ;R0=0まだまだ残り距離が十分あるから減速演
                                          算不要[いまやってもｵｰﾊﾞﾌﾛする]
38587 00000FFA 8933                   M           BT      POINT_SERCHPLS_HKN1_400
38588                            2003 I1  ;-----ｵｰﾊﾞﾌﾛｰはしない-----
38589 00000FFC 6063              2004 I1          MOV     R6,R0                           ;加減速時間
38590 00000FFE 4008              2005 I1          SHLL2   R0                              ;4byte
38591 00001000 01DE              2006 I1          MOV.L   @(R0,R13),R1                    ;(P)
38592 00001002 3216              2007 I1          CMP/HI  R1,R2                           ;SV(最も大きいパルス)<PV
38593 00001004 892E              2008 I1          BT      POINT_SERCHPLS_HKN1_400         ;
38594                            2009 I1  
38595                            2010 I1          PUSH_REG1 R2                            ;残り距離ﾊﾟﾙｽ
38596 00001006 2F26                   M           MOV.L   R2,@-R15                ;PUSH=SP-4
38597                                 M                                           ;REG=>[SP]
38598                                 M                                           ;"-4" FF,FF,FF,FC
38599                            2011 I1  
38600                            2012 I1  
38601                            2013 I1          FAR_JSR #_POINT_SERCH_BIG_4B,R0         ;ANS R9 大きい順に探した超えた最も近い点
38602 00001008 D012                   M           MOV.L   #_POINT_SERCH_BIG_4B,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38603 0000100A 400B                   M           JSR     @R0                     ;
38604 0000100C 0009                   M           NOP                                     ;
38605 0000100E 6893              2014 I1          MOV     R9,R8                           ;
38606                            2015 I1  
38607 00001010 4915              2016 I1          CMP/PL  R9                              ;
38608 00001012 8900              2017 I1          BT      POINT_SERCHPLS_HKN1_050         ;
38609 00001014 991A              2018 I1          MOV.W   #1,R9                           ;
38610 00001016                   2019 I1  POINT_SERCHPLS_HKN1_050:                        ;
38611 00001016 6093              2020 I1          MOV     R9,R0                           ;
38612 00001018 4000              2021 I1          SHLL    R0                              ;2byte
38613 0000101A 03BD              2022 I1          MOV.W   @(R0,R11),R3                    ;(Yn_1)SPEED
38614 0000101C 4000              2023 I1          SHLL    R0
38615 0000101E 05DE              2024 I1          MOV.L   @(R0,R13),R5                    ;(Xn_1)POS
38616                            2025 I1  
38617 00001020 7801              2026 I1          ADD     #1,R8                           ;
38618 00001022 3682              2027 I1          CMP/HS  R8,R6                           ;
38619 00001024 8900              2028 I1          BT      POINT_SERCHPLS_HKN1_100         ;
38620 00001026 6863              2029 I1          MOV     R6,R8                           ;加減速時間
38621 00001028                   2030 I1  POINT_SERCHPLS_HKN1_100:                        ;
38622 00001028 6083              2031 I1          MOV     R8,R0                           ;
38623 0000102A 4000              2032 I1          SHLL    R0                              ;2byte
38624 0000102C 02BD              2033 I1          MOV.W   @(R0,R11),R2                    ;(Yn)SPEED
38625 0000102E 4000              2034 I1          SHLL    R0
38626 00001030 04DE              2035 I1          MOV.L   @(R0,R13),R4                    ;(Xn_1)POS
38627                            2036 I1  
38628                            2037 I1          POP_REG1 R1                             ;残り距離ﾊﾟﾙｽ
38629                                 M                                   ; RE"+4" 00,00,00,04
38630 00001032 61F6                   M           MOV.L   @R15+,R1        ;
38631 00001034 6623              2038 I1          MOV     R2,R6                           ;
38632                            2039 I1  
38633                            2040 I1  ;       R3:Yn_1         R5:Xn_1
38634                            2041 I1  ;       R2:Yn           R4:Xn
38635                            2042 I1  ;       ANS:R2=y        R1:x
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   587
PROGRAM NAME =

38636                            2043 I1  ;       limit R6(Yn)
38637                            2044 I1  
38638                            2045 I1          FAR_JSR #_FPU_POS_HOKAN1,R0             ;V%=算出 R2
38639 00001036 D008                   M           MOV.L   #_FPU_POS_HOKAN1,R0             ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38640 00001038 400B                   M           JSR     @R0                     ;
38641 0000103A 0009                   M           NOP                                     ;
38642                            2046 I1  
38643 0000103C D007              2047 I1          MOV.L   #_LINK_MAX_SPD_PLS,R0           ;//ｲﾝｸﾘﾒﾝﾀﾙｴﾝｺｰﾀﾞ換算値　pls/s
38644 0000103E 6102              2048 I1          MOV.L   @R0,R1                          ;
38645 00001040 9405              2049 I1          MOV.W   #_ACC_PER_V_MAX,R4              ;
38646                            2050 I1          FAR_JSR #_FPU_R2_MUL_R1_DIV_R4,R0       ;V%*FREQ/100.00% *1/1000=deltV
38647 00001042 D007                   M           MOV.L   #_FPU_R2_MUL_R1_DIV_R4,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
38648 00001044 400B                   M           JSR     @R0                     ;
38649 00001046 0009                   M           NOP                                     ;
38650                            2051 I1          M_BRA   POINT_SERCHPLS_HKN1_500         ;PLS/sec
38651 00001048 A010                   M           BRA     POINT_SERCHPLS_HKN1_500
38652 0000104A 0009                   M           NOP
38653                            2052 I1  
38654                                 I1  ***** BEGIN-POOL *****
38655 0000104C 0001                   I1  DATA FOR SOURCE-LINE 2018
38656 0000104E 2710                   I1  DATA FOR SOURCE-LINE 2049
38657 00001050 00000000               I1  DATA FOR SOURCE-LINE 1999
38658 00001054 00000000               I1  DATA FOR SOURCE-LINE 2013
38659 00001058 00000000               I1  DATA FOR SOURCE-LINE 2045
38660 0000105C 00000000               I1  DATA FOR SOURCE-LINE 2047
38661 00001060 00000000               I1  DATA FOR SOURCE-LINE 2050
38662                                 I1  ***** END-POOL *****
38663 00001064                   2053 I1  POINT_SERCHPLS_HKN1_400:
38664 00001064 6253              2054 I1          MOV     R5,R2
38665 00001066 200A              2055 I1          XOR     R0,R0
38666                            2056 I1          M_BRA   POINT_SERCHPLS_HKN1_END         ;
38667 00001068 A001                   M           BRA     POINT_SERCHPLS_HKN1_END
38668 0000106A 0009                   M           NOP
38669                            2057 I1  
38670 0000106C                   2058 I1  POINT_SERCHPLS_HKN1_500:                        ;
38671 0000106C 6093              2059 I1          MOV     R9,R0                           ;POINTER(0以外)
38672 0000106E                   2060 I1  POINT_SERCHPLS_HKN1_END:
38673                            2061 I1  
38674                            2062 I1  
38675                            2063 I1          POP_REG1 R8
38676                                 M                                   ; RE"+4" 00,00,00,04
38677 0000106E 68F6                   M           MOV.L   @R15+,R8        ;
38678                            2064 I1          POP_REG1 R7
38679                                 M                                   ; RE"+4" 00,00,00,04
38680 00001070 67F6                   M           MOV.L   @R15+,R7        ;
38681                            2065 I1          POP_REG1 R6
38682                                 M                                   ; RE"+4" 00,00,00,04
38683 00001072 66F6                   M           MOV.L   @R15+,R6        ;
38684                            2066 I1  
38685                            2067 I1          SUB_END
38686                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38687 00001074 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38688                            2068 I1          M_RTS
38689 00001076 000B                   M           RTS                             ;RTSの後ろの
38690 00001078 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38691                            2069 I1  
38692                            2070 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   588
PROGRAM NAME =

38693                            2071 I1  
38694                            2072 I1  
38695                            2073 I1  
38696                            2074 I1  ;       *******************************************
38697                            2075 I1  ;       ***                                     ***
38698                            2076 I1  ;       ***             サーチ                  ***
38699                            2077 I1  ;       ***                                     ***
38700                            2078 I1  ;       *******************************************
38701                            2079 I1  ;       テーブルは増加方向である
38702                            2080 I1  ;       サーチは加速方向で行う
38703                            2081 I1  ;
38704                            2082 I1  ;       Input 現在速度 R2 ()     table-V(n) =< R2 =<table-V(n+1) となる　ﾃｰﾌﾞﾙ番号
38705                            2083 I1  ;                                加速時はnをそのまま使用する
38706                            2084 I1  ;                                減速時はn-1を使用
38707                            2085 I1  ;             TABEL_TOP_ADR R13
38708                            2086 I1  ;             TABEL個数-1(加減速時間)をもらう R6
38709                            2087 I1  ;               ﾃｰﾌﾞﾙ方向
38710                            2088 I1  ;               ｻｰﾁ方向   0:加速(大きくなる点をサーチする)
38711                            2089 I1  ;       Output:ﾎﾟｲﾝﾀ 1~ﾃｰﾌﾞﾙ個数 0(ﾃｰﾌﾞﾙ範囲外),-1(ﾃｰﾌﾞﾙ範囲外)
38712                            2090 I1  ;
38713                            2091 I1  ;       MAX 10回:1023まで
38714                            2092 I1  ;       0~15(16個)   4回   5bit
38715                            2093 I1  ;       0~31(32個)   5回   6
38716                            2094 I1  ;       0~63(64個)   6回   7
38717                            2095 I1  ;       0~127(128個) 7回   8
38718                            2096 I1  ;       0~255(256個) 8回   9
38719                            2097 I1  ;       0~511(512個) 9回   10
38720                            2098 I1  ;       0~1023(1024個)10回 11
38721                            2099 I1  
38722                            2100 I1  ;       *******************************************
38723                            2101 I1  ;       ***                                     ***
38724                            2102 I1  ;       ***     2byte ｻｰﾁ                       ***
38725                            2103 I1  ;       ***                                     ***
38726                            2104 I1  ;       *******************************************
38727                            2105 I1  ;       ANS R9
38728                            2106 I1  ;
38729 0000107A                   2107 I1  _POINT_SERCH_BIG_2B
38730                            2108 I1          SUB_START
38731 0000107A 4F22                   M           STS.L   PR,@-R15                ;[必要]
38732                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38733                            2109 I1          PUSH_REG1 R6
38734 0000107C 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
38735                                 M                                           ;REG=>[SP]
38736                                 M                                           ;"-4" FF,FF,FF,FC
38737                            2110 I1          PUSH_REG1 R7
38738 0000107E 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
38739                                 M                                           ;REG=>[SP]
38740                                 M                                           ;"-4" FF,FF,FF,FC
38741                            2111 I1          PUSH_REG1 R8
38742 00001080 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
38743                                 M                                           ;REG=>[SP]
38744                                 M                                           ;"-4" FF,FF,FF,FC
38745                            2112 I1          PUSH_REG1 R10
38746 00001082 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
38747                                 M                                           ;REG=>[SP]
38748                                 M                                           ;"-4" FF,FF,FF,FC
38749                            2113 I1          PUSH_REG1 R11
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   589
PROGRAM NAME =

38750 00001084 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
38751                                 M                                           ;REG=>[SP]
38752                                 M                                           ;"-4" FF,FF,FF,FC
38753                            2114 I1          PUSH_REG1 R12
38754 00001086 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
38755                                 M                                           ;REG=>[SP]
38756                                 M                                           ;"-4" FF,FF,FF,FC
38757                            2115 I1          PUSH_REG1 R13
38758 00001088 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
38759                                 M                                           ;REG=>[SP]
38760                                 M                                           ;"-4" FF,FF,FF,FC
38761                            2116 I1          PUSH_REG1 R14
38762 0000108A 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
38763                                 M                                           ;REG=>[SP]
38764                                 M                                           ;"-4" FF,FF,FF,FC
38765                            2117 I1  
38766 0000108C 6763              2118 I1          MOV     R6,R7                           ;カウンタ個数
38767                            2119 I1  
38768 0000108E 288A              2120 I1          XOR     R8,R8                           ;min
38769 00001090 6A73              2121 I1          MOV     R7,R10                          ;max
38770 00001092 4701              2122 I1          SHLR    R7                              ;IF 11bitの場合10回ｻｰﾁする
38771 00001094 6973              2123 I1          MOV     R7,R9                           ;今回=(MAX=1024+MIN=0)/2=512
38772                            2124 I1                                                  ;R8(MIN=0)=< R9(R10+R8)/2 =< R10(MAX)
38773                            2125 I1  
38774 00001096 277A              2126 I1          XOR     R7,R7                           ;ﾃﾞﾊﾞｯｸ
38775                            2127 I1  
38776 00001098 6B83              2128 I1          MOV     R8,R11                          ;MIN
38777 0000109A 6CA3              2129 I1          MOV     R10,R12                         ;MAX
38778                            2130 I1  
38779                            2131 I1  
38780 0000109C                   2132 I1  PINT_SERCH_BIG2B_200LOP
38781                            2133 I1  
38782                            2134 I1  ;======= 2byte/4byteの相違部分=====
38783 0000109C 6093              2135 I1          MOV     R9,R0                           ;ANS R9
38784 0000109E 4000              2136 I1          SHLL    R0                              ;2byte
38785 000010A0 01DD              2137 I1          MOV.W   @(R0,R13),R1                    ;2byte SV
38786                            2138 I1  
38787 000010A2 3210              2139 I1          CMP/EQ  R1,R2                           ;
38788 000010A4 8914              2140 I1          BT      PINT_SERCH_BIG2B_800            ;ﾋﾟｯﾀﾘ賞
38789 000010A6 3212              2141 I1          CMP/HS  R1,R2                           ;SV=<PV
38790 000010A8 8904              2142 I1          BT      PINT_SERCH_BIG2B_300            ;YES:大きい
38791                            2143 I1  
38792                            2144 I1  ;       R8(MIN)=< [R2] =<R9(MAX/MIN)/2 =<R10(MAX)
38793 000010AA 6A93              2145 I1          MOV     R9,R10                          ;
38794 000010AC 398C              2146 I1          ADD     R8,R9                           ;(R8[MIN]+R10[MAX])
38795 000010AE 4901              2147 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
38796                            2148 I1          M_BRA   PINT_SERCH_BIG2B_500            ;
38797 000010B0 A003                   M           BRA     PINT_SERCH_BIG2B_500
38798 000010B2 0009                   M           NOP
38799                            2149 I1  
38800                            2150 I1  
38801                            2151 I1  ;       R8(MIN)=< R9(MAX/MIN)/2 =< [R2] =<R10(MAX)
38802 000010B4                   2152 I1  PINT_SERCH_BIG2B_300
38803 000010B4 6893              2153 I1          MOV     R9,R8                           ;
38804 000010B6 39AC              2154 I1          ADD     R10,R9                          ;(R8[MIN]+R10[MAX])
38805 000010B8 4901              2155 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
38806                            2156 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   590
PROGRAM NAME =

38807 000010BA                   2157 I1  PINT_SERCH_BIG2B_500
38808 000010BA 7701              2158 I1          ADD     #1,R7                           ;デバック
38809                            2159 I1  ;(MAX,MINがかわらなくなったら終わりを入れるか?)
38810 000010BC 3B80              2160 I1          CMP/EQ  R8,R11                          ;
38811 000010BE 8B03              2161 I1          BF      PINT_SERCH_BIG2B_600            ;MIN=OLD-MIN NO
38812 000010C0 3CA0              2162 I1          CMP/EQ  R10,R12                         ;
38813 000010C2 8B01              2163 I1          BF      PINT_SERCH_BIG2B_600            ;MAX=OLD-MAX NO
38814                            2164 I1          M_BRA   PINT_SERCH_BIG4B_900            ;終了でいい(更新されない・・・終了)
38815 000010C4 A038                   M           BRA     PINT_SERCH_BIG4B_900
38816 000010C6 0009                   M           NOP
38817                            2165 I1  
38818                            2166 I1  
38819 000010C8                   2167 I1  PINT_SERCH_BIG2B_600
38820 000010C8 6B83              2168 I1          MOV     R8,R11                          ;
38821 000010CA 6CA3              2169 I1          MOV     R10,R12                         ;
38822                            2170 I1          M_BRA   PINT_SERCH_BIG2B_200LOP         ;
38823 000010CC AFE6                   M           BRA     PINT_SERCH_BIG2B_200LOP
38824 000010CE 0009                   M           NOP
38825                            2171 I1  
38826                            2172 I1  ;       ----------- ピッタリ賞 R9:ANS--------------
38827 000010D0                   2173 I1  PINT_SERCH_BIG2B_800
38828                            2174 I1  ;       ----------- R9:ANS--------------
38829 000010D0                   2175 I1  PINT_SERCH_BIG2B_900
38830                            2176 I1  
38831                            2177 I1          POP_REG1 R14
38832                                 M                                   ; RE"+4" 00,00,00,04
38833 000010D0 6EF6                   M           MOV.L   @R15+,R14        ;
38834                            2178 I1          POP_REG1 R13
38835                                 M                                   ; RE"+4" 00,00,00,04
38836 000010D2 6DF6                   M           MOV.L   @R15+,R13        ;
38837                            2179 I1          POP_REG1 R12
38838                                 M                                   ; RE"+4" 00,00,00,04
38839 000010D4 6CF6                   M           MOV.L   @R15+,R12        ;
38840                            2180 I1          POP_REG1 R11
38841                                 M                                   ; RE"+4" 00,00,00,04
38842 000010D6 6BF6                   M           MOV.L   @R15+,R11        ;
38843                            2181 I1          POP_REG1 R10
38844                                 M                                   ; RE"+4" 00,00,00,04
38845 000010D8 6AF6                   M           MOV.L   @R15+,R10        ;
38846                            2182 I1          POP_REG1 R8
38847                                 M                                   ; RE"+4" 00,00,00,04
38848 000010DA 68F6                   M           MOV.L   @R15+,R8        ;
38849                            2183 I1          POP_REG1 R7
38850                                 M                                   ; RE"+4" 00,00,00,04
38851 000010DC 67F6                   M           MOV.L   @R15+,R7        ;
38852                            2184 I1          POP_REG1 R6
38853                                 M                                   ; RE"+4" 00,00,00,04
38854 000010DE 66F6                   M           MOV.L   @R15+,R6        ;
38855                            2185 I1          SUB_END
38856                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
38857 000010E0 4F26                   M           LDS.L   @R15+,PR                ;[必要]
38858                            2186 I1          M_RTS
38859 000010E2 000B                   M           RTS                             ;RTSの後ろの
38860 000010E4 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
38861                            2187 I1  
38862                            2188 I1  
38863                            2189 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   591
PROGRAM NAME =

38864                            2190 I1  ;       *******************************************
38865                            2191 I1  ;       ***                                     ***
38866                            2192 I1  ;       ***     4byte ｻｰﾁ                       ***
38867                            2193 I1  ;       ***                                     ***
38868                            2194 I1  ;       *******************************************
38869                            2195 I1  ;       Input 現在ﾊﾟﾙｽ R2 ()     table-V(n) =< R2 =<table-V(n+1) となる　ﾃｰﾌﾞﾙ番号
38870                            2196 I1  ;                                減速時はn-1を使用する
38871                            2197 I1  ;       Input TABEL_TOP_ADR R13
38872                            2198 I1  ;       Input TABEL個数-1(加減速時間)をもらう R6
38873                            2199 I1  ;
38874                            2200 I1  ;       ANS R9 TABLE NO.
38875                            2201 I1  ;
38876 000010E6                   2202 I1  _POINT_SERCH_BIG_4B
38877                            2203 I1          SUB_START
38878 000010E6 4F22                   M           STS.L   PR,@-R15                ;[必要]
38879                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
38880                            2204 I1          PUSH_REG1 R6
38881 000010E8 2F66                   M           MOV.L   R6,@-R15                ;PUSH=SP-4
38882                                 M                                           ;REG=>[SP]
38883                                 M                                           ;"-4" FF,FF,FF,FC
38884                            2205 I1          PUSH_REG1 R7
38885 000010EA 2F76                   M           MOV.L   R7,@-R15                ;PUSH=SP-4
38886                                 M                                           ;REG=>[SP]
38887                                 M                                           ;"-4" FF,FF,FF,FC
38888                            2206 I1          PUSH_REG1 R8
38889 000010EC 2F86                   M           MOV.L   R8,@-R15                ;PUSH=SP-4
38890                                 M                                           ;REG=>[SP]
38891                                 M                                           ;"-4" FF,FF,FF,FC
38892                            2207 I1          PUSH_REG1 R10
38893 000010EE 2FA6                   M           MOV.L   R10,@-R15               ;PUSH=SP-4
38894                                 M                                           ;REG=>[SP]
38895                                 M                                           ;"-4" FF,FF,FF,FC
38896                            2208 I1          PUSH_REG1 R11
38897 000010F0 2FB6                   M           MOV.L   R11,@-R15               ;PUSH=SP-4
38898                                 M                                           ;REG=>[SP]
38899                                 M                                           ;"-4" FF,FF,FF,FC
38900                            2209 I1          PUSH_REG1 R12
38901 000010F2 2FC6                   M           MOV.L   R12,@-R15               ;PUSH=SP-4
38902                                 M                                           ;REG=>[SP]
38903                                 M                                           ;"-4" FF,FF,FF,FC
38904                            2210 I1          PUSH_REG1 R13
38905 000010F4 2FD6                   M           MOV.L   R13,@-R15               ;PUSH=SP-4
38906                                 M                                           ;REG=>[SP]
38907                                 M                                           ;"-4" FF,FF,FF,FC
38908                            2211 I1          PUSH_REG1 R14
38909 000010F6 2FE6                   M           MOV.L   R14,@-R15               ;PUSH=SP-4
38910                                 M                                           ;REG=>[SP]
38911                                 M                                           ;"-4" FF,FF,FF,FC
38912                            2212 I1  
38913 000010F8 6763              2213 I1          MOV     R6,R7                           ;カウンタ個数
38914                            2214 I1  
38915 000010FA 288A              2215 I1          XOR     R8,R8                           ;min
38916 000010FC 6A73              2216 I1          MOV     R7,R10                          ;max
38917 000010FE 4701              2217 I1          SHLR    R7                              ;IF 11bitの場合10回ｻｰﾁする
38918 00001100 6973              2218 I1          MOV     R7,R9                           ;今回=(MAX=1024+MIN=0)/2=512
38919                            2219 I1                                                  ;R8(MIN=0)=< R9(R10+R8)/2 =< R10(MAX)
38920 00001102 277A              2220 I1          XOR     R7,R7                           ;ﾃﾞﾊﾞｯｸ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   592
PROGRAM NAME =

38921                            2221 I1  
38922 00001104                   2222 I1  PINT_SERCH_BIG4B_200LOP
38923                            2223 I1  
38924                            2224 I1  ;======= 2byte/4byteの相違部分=====
38925 00001104 6093              2225 I1          MOV     R9,R0                           ;ANS R9
38926 00001106 4008              2226 I1          SHLL2   R0                              ;4byte
38927 00001108 01DE              2227 I1          MOV.L   @(R0,R13),R1                    ;4byte SV
38928                            2228 I1  
38929 0000110A 3210              2229 I1          CMP/EQ  R1,R2                           ;
38930 0000110C 8914              2230 I1          BT      PINT_SERCH_BIG4B_800            ;ﾋﾟｯﾀﾘ賞
38931 0000110E 3212              2231 I1          CMP/HS  R1,R2                           ;SV=<PV
38932 00001110 8904              2232 I1          BT      PINT_SERCH_BIG4B_300            ;YES:大きい
38933                            2233 I1  
38934                            2234 I1  ;       R8(MIN)=< [R2] =<R9(MAX/MIN)/2 =<R10(MAX)
38935 00001112 6A93              2235 I1          MOV     R9,R10                          ;
38936 00001114 398C              2236 I1          ADD     R8,R9                           ;(R8[MIN]+R10[MAX])
38937 00001116 4901              2237 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
38938                            2238 I1          M_BRA   PINT_SERCH_BIG4B_500            ;
38939 00001118 A003                   M           BRA     PINT_SERCH_BIG4B_500
38940 0000111A 0009                   M           NOP
38941                            2239 I1  
38942                            2240 I1  
38943                            2241 I1  ;       R8(MIN)=< R9(MAX/MIN)/2 =< [R2] =<R10(MAX)
38944 0000111C                   2242 I1  PINT_SERCH_BIG4B_300
38945 0000111C 6893              2243 I1          MOV     R9,R8                           ;
38946 0000111E 39AC              2244 I1          ADD     R10,R9                          ;(R8[MIN]+R10[MAX])
38947 00001120 4901              2245 I1          SHLR    R9                              ;R9=(R8[MIN]+R10[MAX])/2
38948                            2246 I1  
38949 00001122                   2247 I1  PINT_SERCH_BIG4B_500
38950 00001122 7701              2248 I1          ADD     #1,R7                           ;デバック
38951                            2249 I1  
38952                            2250 I1  ;(MAX,MINがかわらなくなったら終わりを入れるか?)
38953 00001124 3B80              2251 I1          CMP/EQ  R8,R11                          ;
38954 00001126 8B03              2252 I1          BF      PINT_SERCH_BIG4B_600            ;MIN=OLD-MIN NO
38955 00001128 3CA0              2253 I1          CMP/EQ  R10,R12                         ;
38956 0000112A 8B01              2254 I1          BF      PINT_SERCH_BIG4B_600            ;MAX=OLD-MAX NO
38957                            2255 I1  
38958                            2256 I1          M_BRA   PINT_SERCH_BIG4B_900            ;終了でいい(更新されない・・・終了)
38959 0000112C A004                   M           BRA     PINT_SERCH_BIG4B_900
38960 0000112E 0009                   M           NOP
38961                            2257 I1  
38962 00001130                   2258 I1  PINT_SERCH_BIG4B_600
38963 00001130 6B83              2259 I1          MOV     R8,R11                          ;
38964 00001132 6CA3              2260 I1          MOV     R10,R12                         ;
38965                            2261 I1          M_BRA   PINT_SERCH_BIG4B_200LOP         ;
38966 00001134 AFE6                   M           BRA     PINT_SERCH_BIG4B_200LOP
38967 00001136 0009                   M           NOP
38968                            2262 I1  
38969                            2263 I1  ;       ----------- ピッタリ賞 R9:ANS--------------
38970 00001138                   2264 I1  PINT_SERCH_BIG4B_800
38971                            2265 I1  ;       ----------- R9:ANS--------------
38972 00001138                   2266 I1  PINT_SERCH_BIG4B_900
38973                            2267 I1  
38974                            2268 I1          POP_REG1 R14
38975                                 M                                   ; RE"+4" 00,00,00,04
38976 00001138 6EF6                   M           MOV.L   @R15+,R14        ;
38977                            2269 I1          POP_REG1 R13
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   593
PROGRAM NAME =

38978                                 M                                   ; RE"+4" 00,00,00,04
38979 0000113A 6DF6                   M           MOV.L   @R15+,R13        ;
38980                            2270 I1          POP_REG1 R12
38981                                 M                                   ; RE"+4" 00,00,00,04
38982 0000113C 6CF6                   M           MOV.L   @R15+,R12        ;
38983                            2271 I1          POP_REG1 R11
38984                                 M                                   ; RE"+4" 00,00,00,04
38985 0000113E 6BF6                   M           MOV.L   @R15+,R11        ;
38986                            2272 I1          POP_REG1 R10
38987                                 M                                   ; RE"+4" 00,00,00,04
38988 00001140 6AF6                   M           MOV.L   @R15+,R10        ;
38989                            2273 I1          POP_REG1 R8
38990                                 M                                   ; RE"+4" 00,00,00,04
38991 00001142 68F6                   M           MOV.L   @R15+,R8        ;
38992                            2274 I1          POP_REG1 R7
38993                                 M                                   ; RE"+4" 00,00,00,04
38994 00001144 67F6                   M           MOV.L   @R15+,R7        ;
38995                            2275 I1          POP_REG1 R6
38996                                 M                                   ; RE"+4" 00,00,00,04
38997 00001146 66F6                   M           MOV.L   @R15+,R6        ;
38998                            2276 I1          SUB_END
38999                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39000 00001148 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39001                            2277 I1          M_RTS
39002 0000114A 000B                   M           RTS                             ;RTSの後ろの
39003 0000114C 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39004                            2278 I1  
39005                            2279 I1  
39006                            2280 I1  
39007                            2281 I1  
39008                            2282 I1  ;       ***************************************************
39009                            2283 I1  ;       ***                                             ***
39010                            2284 I1  ;       ***                                             ***
39011                            2285 I1  ;       ***             直線加速・減速                  ***
39012                            2286 I1  ;       ***                                             ***
39013                            2287 I1  ;       ***                                             ***
39014                            2288 I1  ;       ***                                             ***
39015                            2289 I1  ;       ***************************************************
39016                            2290 I1  ;       ANS R0:0ﾃﾞｰﾀ変更なし R0:1ﾃﾞｰﾀ変更有り
39017                            2291 I1  ;       ANS R2
39018 0000114E                   2292 I1  _TBLACC_ACC_ADDCHK:
39019                            2293 I1          SUB_START
39020 0000114E 4F22                   M           STS.L   PR,@-R15                ;[必要]
39021                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39022                            2294 I1  
39023                            2295 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_ACC_CTRL_STS2,LG=W,BIT=BIT5,WKREG=R1       ;
39024 00001150 D10A                   M           MOV.L   #_ACC_CTRL_STS2,R1              ;
39025 00001152 6011                   M           MOV.W   @R1,R0          ;
39026 00001154 CB20                   M           OR      #BIT5,R0                ;
39027 00001156 2101                   M           MOV.W   R0,@R1          ;
39028                            2296 I1  
39029                            2297 I1  
39030                            2298 I1  
39031 00001158 200A              2299 I1          XOR     R0,R0                                           ;変化してない　R0=0
39032                            2300 I1  
39033 0000115A D109              2301 I1          MOV.L   #_ACC_POSCTL_SV_SPDX,R1                         ;･････
39034 0000115C 6312              2302 I1          MOV.L   @R1,R3                                          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   594
PROGRAM NAME =

39035 0000115E D509              2303 I1          MOV.L   #_ACC_POSCTL_RL_SPDX,R5                         ;
39036 00001160 6252              2304 I1          MOV.L   @R5,R2                                          ;
39037 00001162 3320              2305 I1          CMP/EQ  R2,R3                                           ;
39038 00001164 8919              2306 I1          BT      TBLACC_ACC_ADD_END                              ;SV=REAL
39039 00001166 3323              2307 I1          CMP/GE  R2,R3                                           ;R2<R3
39040 00001168 8B10              2308 I1          BF      TBLACC_ACC_ADD_200                                      ;NO 減速しろ
39041                            2309 I1  ;       ---加速しろ----
39042 0000116A D407              2310 I1          MOV.L   #_ACC_POSCTL_SV_UP_ACCX,R4                              ;500,000/1000
39043 0000116C 6142              2311 I1          MOV.L   @R4,R1                                                  ;
39044 0000116E 321C              2312 I1          ADD     R1,R2                                                   ;
39045 00001170 3327              2313 I1          CMP/GT  R2,R3                                                   ;
39046 00001172 8911              2314 I1          BT      TBLACC_ACC_ADD_300                                      ;R2<R3(SV) THEN そ
                                          のまま加速
39047 00001174 6233              2315 I1          MOV     R3,R2                                                   ;SV→REAL
39048                            2316 I1          M_BRA   TBLACC_ACC_ADD_300                                      ;
39049 00001176 A00F                   M           BRA     TBLACC_ACC_ADD_300
39050 00001178 0009                   M           NOP
39051                            2317 I1  
39052                                 I1  ***** BEGIN-POOL *****
39053 0000117A 0000                   I1  ALIGNMENT CODE
39054 0000117C 00000000               I1  DATA FOR SOURCE-LINE 2295
39055 00001180 00000000               I1  DATA FOR SOURCE-LINE 2301
39056 00001184 00000000               I1  DATA FOR SOURCE-LINE 2303
39057 00001188 00000000               I1  DATA FOR SOURCE-LINE 2310
39058                                 I1  ***** END-POOL *****
39059 0000118C                   2318 I1  TBLACC_ACC_ADD_200:
39060                            2319 I1  ;       ---減速しろ---
39061 0000118C D404              2320 I1          MOV.L   #_ACC_POSCTL_SV_DN_ACCX,R4                              ;500,000/1000
39062 0000118E 6142              2321 I1          MOV.L   @R4,R1                                                  ;
39063 00001190 3218              2322 I1          SUB     R1,R2                                                   ;
39064 00001192 3237              2323 I1          CMP/GT  R3,R2                                                   ;
39065 00001194 8900              2324 I1          BT      TBLACC_ACC_ADD_300                                      ;R3<R2
39066 00001196 6233              2325 I1          MOV     R3,R2                                                   ;
39067 00001198                   2326 I1  TBLACC_ACC_ADD_300:                                                     ;
39068 00001198 E001              2327 I1          MOV     #1,R0                                                   ;変化した R0=1
39069 0000119A                   2328 I1  TBLACC_ACC_ADD_END:
39070                            2329 I1          SUB_END
39071                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39072 0000119A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39073                            2330 I1          M_RTS
39074 0000119C 000B                   M           RTS                             ;RTSの後ろの
39075 0000119E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39076                            2331 I1  
39077                            2332 I1  
39078                            2333 I1  
39079                            2334 I1  
39080                            2335 I1  
39081                            2336 I1  
39082                            2337 I1  
39083                            2338 I1  
39084                            2339 I1  
39085                            2340 I1  
39086                            2341 I1  
39087                            2342 I1  
39088                            2343 I1  
39089                            2344 I1  
39090                            2345 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   595
PROGRAM NAME =

39091                            2346 I1  
39092                            2347 I1  
39093                            2348 I1  
39094                            2349 I1  
39095                            2350 I1  
39096                            2351 I1  
39097                            2352 I1  
39098                            2353 I1  
39099                            2354 I1  
39100                            2355 I1  
39101                            2356 I1  
39102                            2357 I1  
39103                            2358 I1  
39104                            2359 I1  
39105                            2360 I1  
39106                            2361 I1  
39107                            2362 I1  ;       *******************************************
39108                            2363 I1  ;       ***                                     ***
39109                            2364 I1  ;       ***                                     ***
39110                            2365 I1  ;       ***             演算                    ***
39111                            2366 I1  ;       ***                                     ***
39112                            2367 I1  ;       ***             (等身大結果で扱う)      ***
39113                            2368 I1  ;       ***                                     ***
39114                            2369 I1  ;       *******************************************
39115                                 I1  ***** BEGIN-POOL *****
39116 000011A0 00000000               I1  DATA FOR SOURCE-LINE 2320
39117                                 I1  ***** END-POOL *****
39118 000011A4                   2370 I1  _DNM_PLS_LSICTL_CALC:
39119                            2371 I1          SUB_START
39120 000011A4 4F22                   M           STS.L   PR,@-R15                ;[必要]
39121                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39122                            2372 I1  
39123                            2373 I1  ;       --------- 2010-09-27 残りパルス演算の共通化----
39124                            2374 I1          FAR_JSR #_ACC_REST_INFO_MAKE,R0
39125 000011A6 D009                   M           MOV.L   #_ACC_REST_INFO_MAKE,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39126 000011A8 400B                   M           JSR     @R0                     ;
39127 000011AA 0009                   M           NOP                                     ;
39128                            2375 I1  
39129 000011AC D108              2376 I1          MOV.L   #_DNM_ACC_CALFLG,R1                     ;//0/1
39130 000011AE 6011              2377 I1          MOV.W   @R1,R0                                  ;
39131 000011B0 8801              2378 I1          CMP/EQ  #1,R0                                   ;
39132 000011B2 8B02              2379 I1          BF      DNM_PLS_LSICTLCAL_010                   ;
39133                            2380 I1          FAR_JSR #_DNM_SPD_CALC,R0                       ;
39134 000011B4 D007                   M           MOV.L   #_DNM_SPD_CALC,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39135 000011B6 400B                   M           JSR     @R0                     ;
39136 000011B8 0009                   M           NOP                                     ;
39137 000011BA                   2381 I1  DNM_PLS_LSICTLCAL_010:
39138                            2382 I1  
39139                            2383 I1  
39140 000011BA D107              2384 I1          MOV.L   #_POSCTL_STEP_FLG,R1                                            ;//0(IDLE)
                                           BIT0/BIT6 END (BIT1 LATCH)
39141 000011BC 6011              2385 I1          MOV.W   @R1,R0                                                          ;
39142 000011BE C802              2386 I1          TST     #BIT1,R0                                                        ;
39143                            2387 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_020                                        ;強制減速
                                          停止中(寸動停止)
39144 000011C0 8B0C                   M           BF      DNM_PLS_LSICTLCAL_020
39145                            2388 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   596
PROGRAM NAME =

39146 000011C2 C804              2389 I1          TST     #BIT2,R0                                                        ;
39147                            2390 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_050                                        ;最終減速
                                          状態YES
39148 000011C4 8B16                   M           BF      DNM_PLS_LSICTLCAL_050
39149                            2391 I1          M_BRA   DNM_PLS_LSICTLCAL_100                                           ;
39150 000011C6 A017                   M           BRA     DNM_PLS_LSICTLCAL_100
39151 000011C8 0009                   M           NOP
39152                            2392 I1  
39153                                 I1  ***** BEGIN-POOL *****
39154 000011CA 0000                   I1  ALIGNMENT CODE
39155 000011CC 00000000               I1  DATA FOR SOURCE-LINE 2374
39156 000011D0 00000000               I1  DATA FOR SOURCE-LINE 2376
39157 000011D4 00000000               I1  DATA FOR SOURCE-LINE 2380
39158 000011D8 00000000               I1  DATA FOR SOURCE-LINE 2384
39159                                 I1  ***** END-POOL *****
39160 000011DC                   2393 I1  DNM_PLS_LSICTLCAL_020
39161                            2394 I1  ;       --- 減速コマンドラッチ---
39162 000011DC D103              2395 I1          MOV.L   #_POSCTL_SV_OFS_SPD,R1                                          ;//自起動
                                          PLS/S
39163 000011DE 6212              2396 I1          MOV.L   @R1,R2                                                          ;
39164 000011E0 D503              2397 I1          MOV.L   #_POSCTL_RL_SPD,R5                                              ;
39165 000011E2 6352              2398 I1          MOV.L   @R5,R3                                                          ;
39166 000011E4 3326              2399 I1          CMP/HI  R2,R3                                                           ;R2(SV) <
                                          R3(NOW)
39167 000011E6 8905              2400 I1          BT      DNM_PLS_LSICTLCAL_050                                           ;YES
39168                            2401 I1          M_BRA   DNM_PLS_LSICTLCAL_800                                           ;(減速停止
                                          )終了処理
39169 000011E8 A092                   M           BRA     DNM_PLS_LSICTLCAL_800
39170 000011EA 0009                   M           NOP
39171                                 I1  ***** BEGIN-POOL *****
39172 000011EC 00000000               I1  DATA FOR SOURCE-LINE 2395
39173 000011F0 00000000               I1  DATA FOR SOURCE-LINE 2397
39174                                 I1  ***** END-POOL *****
39175 000011F4                   2402 I1  DNM_PLS_LSICTLCAL_050:
39176                            2403 I1          M_BRA   DNM_PLS_LSICTLCAL_700                                           ;減速処理
39177 000011F4 A04A                   M           BRA     DNM_PLS_LSICTLCAL_700
39178 000011F6 0009                   M           NOP
39179                            2404 I1  
39180                            2405 I1  
39181                            2406 I1  
39182                            2407 I1  
39183 000011F8                   2408 I1  DNM_PLS_LSICTLCAL_100:
39184 000011F8 D104              2409 I1          MOV.L   #_POSCTL_STEP_CMD,R1                                            ;//3:EMG停
                                          止(速度=0) 1:起動ｺﾏﾝﾄﾞ 2:(減速停止)
39185 000011FA 6011              2410 I1          MOV.W   @R1,R0                                                          ;EMG-STOP
39186 000011FC 8802              2411 I1          CMP/EQ  #2,R0                                                           ;減速停止
39187 000011FE 8B09              2412 I1          BF      DNM_PLS_LSICTLCAL_150                                           ;NO
39188                            2413 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT1,WKREG=R1     ;強制減速
                                          停止指令(寸動停止)
39189 00001200 D103                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
39190 00001202 6011                   M           MOV.W   @R1,R0          ;
39191 00001204 CB02                   M           OR      #BIT1,R0                ;
39192 00001206 2101                   M           MOV.W   R0,@R1          ;
39193                            2414 I1          M_BRA   DNM_PLS_LSICTLCAL_500                                           ;
39194 00001208 A032                   M           BRA     DNM_PLS_LSICTLCAL_500
39195 0000120A 0009                   M           NOP
39196                            2415 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   597
PROGRAM NAME =

39197                            2416 I1  ;-------通常制御----
39198                                 I1  ***** BEGIN-POOL *****
39199 0000120C 00000000               I1  DATA FOR SOURCE-LINE 2409
39200 00001210 00000000               I1  DATA FOR SOURCE-LINE 2413
39201                                 I1  ***** END-POOL *****
39202 00001214                   2417 I1  DNM_PLS_LSICTLCAL_150:
39203 00001214 D102              2418 I1          MOV.L   #_INT_CLS_CTL_FLG,R1                                            ;
39204 00001216 6011              2419 I1          MOV.W   @R1,R0                                                          ;
39205 00001218 C801              2420 I1          TST     #BIT0,R0                                                        ;
39206                            2421 I1          TST_BIT_OF DNM_PLS_LSICTLCAL_160                                                ;
39207 0000121A 8903                   M           BT      DNM_PLS_LSICTLCAL_160
39208                            2422 I1  ;       -----------やるべきことが今一不明--------
39209                            2423 I1          M_BRA   DNM_PLS_LSICTLCAL_EXT                                           ;
39210 0000121C A095                   M           BRA     DNM_PLS_LSICTLCAL_EXT
39211 0000121E 0009                   M           NOP
39212                            2424 I1  
39213                            2425 I1  
39214                                 I1  ***** BEGIN-POOL *****
39215 00001220 00000000               I1  DATA FOR SOURCE-LINE 2418
39216                                 I1  ***** END-POOL *****
39217 00001224                   2426 I1  DNM_PLS_LSICTLCAL_160:
39218                            2427 I1  
39219                            2428 I1  ;;;;ふりこ      FAR_JSR #_CMP_POSLSI_CTLGENSOK,R0                                       ;<
                                          <<2010-09-21>>>
39220                            2429 I1  
39221                            2430 I1  ;<<<2010-09-21>>>
39222 00001224 D106              2431 I1          MOV.L   #_DNM_ACC_CALFLG,R1                     ;//0/1
39223 00001226 6011              2432 I1          MOV.W   @R1,R0                                          ;
39224 00001228 8801              2433 I1          CMP/EQ  #1,R0                                           ;
39225 0000122A 8B0F              2434 I1          BF      DNM_PLS_LSICTLCAL_180                           ;
39226 0000122C D105              2435 I1          MOV.L   #_ACC_CTRL_STS1,R1                              ;
39227 0000122E 6011              2436 I1          MOV.W   @R1,R0                                          ;
39228 00001230 C906              2437 I1          AND     #(BIT2+BIT1),R0                                 ;
39229 00001232 8806              2438 I1          CMP/EQ  #(BIT2+BIT1),R0                                 ;
39230 00001234 892A              2439 I1          BT      DNM_PLS_LSICTLCAL_700                           ;
39231                            2440 I1          FAR_JSR #_DNM_AUTO_UP_DN_CALC,R0                        ;
39232 00001236 D004                   M           MOV.L   #_DNM_AUTO_UP_DN_CALC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39233 00001238 400B                   M           JSR     @R0                     ;
39234 0000123A 0009                   M           NOP                                     ;
39235                            2441 I1          M_BRA   DNM_PLS_LSICTLCAL_510                           ;
39236 0000123C A01B                   M           BRA     DNM_PLS_LSICTLCAL_510
39237 0000123E 0009                   M           NOP
39238                            2442 I1  
39239                            2443 I1  
39240                                 I1  ***** BEGIN-POOL *****
39241 00001240 00000000               I1  DATA FOR SOURCE-LINE 2431
39242 00001244 00000000               I1  DATA FOR SOURCE-LINE 2435
39243 00001248 00000000               I1  DATA FOR SOURCE-LINE 2440
39244                                 I1  ***** END-POOL *****
39245 0000124C                   2444 I1  DNM_PLS_LSICTLCAL_180:
39246                            2445 I1          FAR_JSR #_CMP_POSLSI_CTLGENSOK,R0                                       ;
39247 0000124C D006                   M           MOV.L   #_CMP_POSLSI_CTLGENSOK,R0               ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39248 0000124E 400B                   M           JSR     @R0                     ;
39249 00001250 0009                   M           NOP                                     ;
39250 00001252                   2446 I1  DNM_PLS_LSICTLCAL_190:
39251                            2447 I1  
39252 00001252 2008              2448 I1          TST     R0,R0                                                           ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   598
PROGRAM NAME =

39253                            2449 I1          TST_BIT_OF DNM_PLS_LSICTLCAL_500
39254 00001254 890C                   M           BT      DNM_PLS_LSICTLCAL_500
39255 00001256 8801              2450 I1          CMP/EQ  #1,R0                                                           ;
39256 00001258 8918              2451 I1          BT      DNM_PLS_LSICTLCAL_700
39257                            2452 I1  ;       ----- ABNOMAL CALC------                                                ;
39258                            2453 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_CALC_ERR,LG=W,BIT=BIT1,WKREG=R4     ;
39259 0000125A D404                   M           MOV.L   #_POSCTL_CALC_ERR,R4            ;
39260 0000125C 6041                   M           MOV.W   @R4,R0          ;
39261 0000125E CB02                   M           OR      #BIT1,R0                ;
39262 00001260 2401                   M           MOV.W   R0,@R4          ;
39263                            2454 I1          M_BRA   DNM_PLS_LSICTLCAL_ERR
39264 00001262 A06B                   M           BRA     DNM_PLS_LSICTLCAL_ERR
39265 00001264 0009                   M           NOP
39266                            2455 I1  
39267                            2456 I1  ;       ===== 距離がありそう =====
39268                                 I1  ***** BEGIN-POOL *****
39269 00001266 0000                   I1  ALIGNMENT CODE
39270 00001268 00000000               I1  DATA FOR SOURCE-LINE 2445
39271 0000126C 00000000               I1  DATA FOR SOURCE-LINE 2453
39272                                 I1  ***** END-POOL *****
39273 00001270                   2457 I1  DNM_PLS_LSICTLCAL_500:                                                          ;
39274                            2458 I1  ;<<<2010-09-21>>>
39275                            2459 I1          FAR_JSR #_PLS_LSI_SPD_ACC_ADD,R0                                        ;<<<2010-0
                                          9-21>>>
39276 00001270 D004                   M           MOV.L   #_PLS_LSI_SPD_ACC_ADD,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39277 00001272 400B                   M           JSR     @R0                     ;
39278 00001274 0009                   M           NOP                                     ;
39279 00001276                   2460 I1  DNM_PLS_LSICTLCAL_510:                                                          ;
39280                            2461 I1  
39281 00001276 2008              2462 I1          TST     R0,R0                                                           ;
39282                            2463 I1          TST_BIT_OF DNM_PLS_LSICTLCAL_EXT                                                ;
                                          書き換えない
39283 00001278 8967                   M           BT      DNM_PLS_LSICTLCAL_EXT
39284                            2464 I1          FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;LSI SET
39285 0000127A D003                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39286 0000127C 400B                   M           JSR     @R0                     ;
39287 0000127E 0009                   M           NOP                                     ;
39288                            2465 I1          M_BRA   DNM_PLS_LSICTLCAL_900                                           ;
39289 00001280 A055                   M           BRA     DNM_PLS_LSICTLCAL_900
39290 00001282 0009                   M           NOP
39291                            2466 I1  
39292                            2467 I1  
39293                            2468 I1  
39294                            2469 I1  ;------------最終減速処理(自動・手動ともこの演算を行なう)----------
39295                                 I1  ***** BEGIN-POOL *****
39296 00001284 00000000               I1  DATA FOR SOURCE-LINE 2459
39297 00001288 00000000               I1  DATA FOR SOURCE-LINE 2464
39298                                 I1  ***** END-POOL *****
39299 0000128C                   2470 I1  DNM_PLS_LSICTLCAL_700:
39300                            2471 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT2,WKREG=R1     ;減速中
39301 0000128C D10A                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
39302 0000128E 6011                   M           MOV.W   @R1,R0          ;
39303 00001290 CB04                   M           OR      #BIT2,R0                ;
39304 00001292 2101                   M           MOV.W   R0,@R1          ;
39305                            2472 I1  ;       ---払い出し完了ならやめる---------
39306                            2473 I1          FAR_JSR #_LOD_POS_STS_REG_IN,R0         ;
39307 00001294 D009                   M           MOV.L   #_LOD_POS_STS_REG_IN,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   599
PROGRAM NAME =

39308 00001296 400B                   M           JSR     @R0                     ;
39309 00001298 0009                   M           NOP                                     ;
39310 0000129A C804              2474 I1          TST     #BIT2,R0                        ;停止?
39311                            2475 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_820        ;YES:ﾌﾗｸﾞ終了
39312 0000129C 8B3F                   M           BF      DNM_PLS_LSICTLCAL_820
39313                            2476 I1  
39314                            2477 I1  ;       ============================================
39315                            2478 I1  ;<<<2010-09-21>>>
39316 0000129E D108              2479 I1          MOV.L   #_DNM_ACC_CALFLG,R1             ;//0/1
39317 000012A0 6011              2480 I1          MOV.W   @R1,R0                          ;
39318 000012A2 8801              2481 I1          CMP/EQ  #1,R0                           ;
39319 000012A4 8B10              2482 I1          BF      DNM_PLS_LSICTLCAL_710           ;
39320                            2483 I1  
39321 000012A6 D104              2484 I1          MOV.L   #_POSCTL_STEP_FLG,R1            ;
39322 000012A8 6011              2485 I1          MOV.W   @R1,R0                          ;
39323 000012AA C802              2486 I1          TST     #BIT1,R0                        ;
39324                            2487 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_710        ;
39325 000012AC 8B0C                   M           BF      DNM_PLS_LSICTLCAL_710
39326                            2488 I1  
39327                            2489 I1  ;       自動減速
39328                            2490 I1          FAR_JSR #_DNM_AUTO_UP_DN_CALC,R0        ;
39329 000012AE D005                   M           MOV.L   #_DNM_AUTO_UP_DN_CALC,R0                ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39330 000012B0 400B                   M           JSR     @R0                     ;
39331 000012B2 0009                   M           NOP                                     ;
39332                            2491 I1          M_BRA   DNM_PLS_LSICTLCAL_740           ;
39333 000012B4 A013                   M           BRA     DNM_PLS_LSICTLCAL_740
39334 000012B6 0009                   M           NOP
39335                            2492 I1  
39336                            2493 I1  
39337                                 I1  ***** BEGIN-POOL *****
39338 000012B8 00000000               I1  DATA FOR SOURCE-LINE 2471,2484
39339 000012BC 00000000               I1  DATA FOR SOURCE-LINE 2473
39340 000012C0 00000000               I1  DATA FOR SOURCE-LINE 2479
39341 000012C4 00000000               I1  DATA FOR SOURCE-LINE 2490
39342                                 I1  ***** END-POOL *****
39343 000012C8                   2494 I1  DNM_PLS_LSICTLCAL_710:
39344                            2495 I1  ;       ============================================
39345                            2496 I1  
39346                            2497 I1  ;       ----ここにきたら目標位置が変わるまで加速はしない------
39347 000012C8 D50C              2498 I1          MOV.L   #_POSCTL_RL_SPD,R5              ;
39348 000012CA 6252              2499 I1          MOV.L   @R5,R2                          ;
39349 000012CC D40C              2500 I1          MOV.L   #_POSCTL_SV_DN_ACC,R4           ;
39350 000012CE 6342              2501 I1          MOV.L   @R4,R3                          ;
39351 000012D0 2338              2502 I1          TST     R3,R3                           ;
39352                            2503 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_720                ;
39353 000012D2 8B00                   M           BF      DNM_PLS_LSICTLCAL_720
39354 000012D4 E301              2504 I1          MOV     #1,R3                           ;
39355 000012D6                   2505 I1  DNM_PLS_LSICTLCAL_720:                          ;
39356 000012D6 3238              2506 I1          SUB     R3,R2                           ;
39357 000012D8 4211              2507 I1          CMP/PZ  R2                              ;
39358 000012DA 8900              2508 I1          BT      DNM_PLS_LSICTLCAL_740           ;
39359 000012DC 222A              2509 I1          XOR     R2,R2                           ;
39360 000012DE                   2510 I1  DNM_PLS_LSICTLCAL_740:                          ;
39361                            2511 I1  
39362                            2512 I1  
39363                            2513 I1  
39364 000012DE D109              2514 I1          MOV.L   #_POSCTL_SV_OFS_SPD,R1          ;
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   600
PROGRAM NAME =

39365 000012E0 6312              2515 I1          MOV.L   @R1,R3                          ;
39366 000012E2 3236              2516 I1          CMP/HI  R3,R2                           ;
39367 000012E4 8904              2517 I1          BT      DNM_PLS_LSICTLCAL_760           ;OFS < CALC
39368 000012E6 6233              2518 I1          MOV     R3,R2                           ;MNINLINIT
39369                            2519 I1  ;       -------------------
39370 000012E8 D107              2520 I1          MOV.L   #_POSCTL_STEP_FLG,R1            ;
39371 000012EA 6011              2521 I1          MOV.W   @R1,R0                          ;
39372 000012EC C802              2522 I1          TST     #BIT1,R0                        ;手動減速中
39373                            2523 I1          TST_BIT_ON DNM_PLS_LSICTLCAL_800        ;手動減速中なら終了
39374 000012EE 8B0F                   M           BF      DNM_PLS_LSICTLCAL_800
39375                            2524 I1  
39376 000012F0                   2525 I1  DNM_PLS_LSICTLCAL_760:                          ;
39377 000012F0 2522              2526 I1          MOV.L   R2,@R5                          ;
39378                            2527 I1          FAR_JSR #_PLS_LSI_CTL_SPDSET,R0                                         ;LSI SET
39379 000012F2 D006                   M           MOV.L   #_PLS_LSI_CTL_SPDSET,R0         ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39380 000012F4 400B                   M           JSR     @R0                     ;
39381 000012F6 0009                   M           NOP                                     ;
39382                            2528 I1          M_BRA   DNM_PLS_LSICTLCAL_900           ;
39383 000012F8 A019                   M           BRA     DNM_PLS_LSICTLCAL_900
39384 000012FA 0009                   M           NOP
39385                            2529 I1  
39386                            2530 I1  ;       -------------終了処理(STEP STOP)----------
39387                                 I1  ***** BEGIN-POOL *****
39388 000012FC 00000000               I1  DATA FOR SOURCE-LINE 2498
39389 00001300 00000000               I1  DATA FOR SOURCE-LINE 2500
39390 00001304 00000000               I1  DATA FOR SOURCE-LINE 2514
39391 00001308 00000000               I1  DATA FOR SOURCE-LINE 2520
39392 0000130C 00000000               I1  DATA FOR SOURCE-LINE 2527
39393                                 I1  ***** END-POOL *****
39394 00001310                   2531 I1  DNM_PLS_LSICTLCAL_800:
39395                            2532 I1          FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
39396 00001310 D008                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39397 00001312 400B                   M           JSR     @R0                     ;
39398 00001314 0009                   M           NOP                                     ;
39399                            2533 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT5,WKREG=R1     ;DEBUG
39400 00001316 D108                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
39401 00001318 6011                   M           MOV.W   @R1,R0          ;
39402 0000131A CB20                   M           OR      #BIT5,R0                ;
39403 0000131C 2101                   M           MOV.W   R0,@R1          ;
39404 0000131E                   2534 I1  DNM_PLS_LSICTLCAL_820:
39405                            2535 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
39406 0000131E D106                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
39407 00001320 6011                   M           MOV.W   @R1,R0          ;
39408 00001322 CB40                   M           OR      #BIT6,R0                ;
39409 00001324 2101                   M           MOV.W   R0,@R1          ;
39410                            2536 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT3,WKREG=R1     ;DEBUG
39411 00001326 D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
39412 00001328 6011                   M           MOV.W   @R1,R0          ;
39413 0000132A CB08                   M           OR      #BIT3,R0                ;
39414 0000132C 2101                   M           MOV.W   R0,@R1          ;
39415                            2537 I1  
39416                            2538 I1          .AIF    1 EQ    0
39417                            2539     
39418                            2540             FAR_JSR #_VIB_PLS_OUT_OF,R0     ;2010-08-23加振動制御
39419                            2541             .AENDI
39420                            2542 I1  
39421 0000132E                   2543 I1  DNM_PLS_LSICTLCAL_900:
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   601
PROGRAM NAME =

39422                            2544 I1          M_BRA   DNM_PLS_LSICTLCAL_EXT                                           ;
39423 0000132E A00C                   M           BRA     DNM_PLS_LSICTLCAL_EXT
39424 00001330 0009                   M           NOP
39425                            2545 I1  
39426                                 I1  ***** BEGIN-POOL *****
39427 00001332 0000                   I1  ALIGNMENT CODE
39428 00001334 00000000               I1  DATA FOR SOURCE-LINE 2532
39429 00001338 00000000               I1  DATA FOR SOURCE-LINE 2533,2535,2536
39430                                 I1  ***** END-POOL *****
39431 0000133C                   2546 I1  DNM_PLS_LSICTLCAL_ERR:
39432                            2547 I1          FAR_JSR #_PLS_LSI_SPEED_OFF,R0                                          ;
39433 0000133C D004                   M           MOV.L   #_PLS_LSI_SPEED_OFF,R0          ;ﾃｰﾌﾞﾙｱﾄﾞﾚｽの内容をREGへ
39434 0000133E 400B                   M           JSR     @R0                     ;
39435 00001340 0009                   M           NOP                                     ;
39436                            2548 I1          MEM1_BIT0_TO_BIT7_ORSET MEM=_POSCTL_STEP_FLG,LG=W,BIT=BIT6,WKREG=R1     ;
39437 00001342 D104                   M           MOV.L   #_POSCTL_STEP_FLG,R1            ;
39438 00001344 6011                   M           MOV.W   @R1,R0          ;
39439 00001346 CB40                   M           OR      #BIT6,R0                ;
39440 00001348 2101                   M           MOV.W   R0,@R1          ;
39441                            2549 I1  
39442 0000134A                   2550 I1  DNM_PLS_LSICTLCAL_EXT:
39443                            2551 I1          SUB_END
39444                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39445 0000134A 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39446                            2552 I1          M_RTS
39447 0000134C 000B                   M           RTS                             ;RTSの後ろの
39448 0000134E 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39449                            2553 I1  
39450                            2554 I1  
39451                            2555 I1  ;
39452                            2556 I1  ;
39453                            2557 I1  ;
39454                            2558 I1  ;
39455                            2559 I1  ;
39456                                 I1  ***** BEGIN-POOL *****
39457 00001350 00000000               I1  DATA FOR SOURCE-LINE 2547
39458 00001354 00000000               I1  DATA FOR SOURCE-LINE 2548
39459                                 I1  ***** END-POOL *****
39460 00001358                   2560 I1  _DNM_AUTO_UP_DN_CALC:
39461                            2561 I1          SUB_START
39462 00001358 4F22                   M           STS.L   PR,@-R15                ;[必要]
39463                                 M   ;;;;;;; ADD     #-4,R15                 ;[不要?]
39464 0000135A D104              2562 I1          MOV.L   #_ACC_ANS_ACCDAT,R1             ;
39465 0000135C 6012              2563 I1          MOV.L   @R1,R0                          ;
39466 0000135E D504              2564 I1          MOV.L   #_POSCTL_RL_SPD,R5              ;
39467 00001360 6252              2565 I1          MOV.L   @R5,R2                          ;
39468 00001362 320C              2566 I1          ADD     R0,R2                           ;
39469 00001364 2522              2567 I1          MOV.L   R2,@R5                          ;
39470                            2568 I1          SUB_END
39471                                 M   ;;;;;;; ADD     #4,R15                  ;[不要?]
39472 00001366 4F26                   M           LDS.L   @R15+,PR                ;[必要]
39473                            2569 I1          M_RTS
39474 00001368 000B                   M           RTS                             ;RTSの後ろの
39475 0000136A 0009                   M           NOP                             ;@R15+,PRはﾀﾞﾒ
39476                            2570 I1  
39477                            2571 I1  
39478                            2572 I1  
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   602
PROGRAM NAME =

39479                            2573 I1  
39480                            2574 I1  ;
39481                           11772     
39482                           11773     ;       ***************************************************
39483                           11774     ;       ***                                             ***
39484                           11775     ;       ***             CPUBの高速化終了                ***
39485                           11776     ;       ***             2013-03-15                      ***
39486                           11777     ;       ***                                             ***
39487                           11778     ;       ***************************************************
39488                                     ***** BEGIN-POOL *****
39489 0000136C 00000000                   DATA FOR SOURCE-LINE 2562
39490 00001370 00000000                   DATA FOR SOURCE-LINE 2564
39491                                     ***** END-POOL *****
39492 00001374                  11779             .ALIGN  4                                       ;
39493                           11780             .AIF    3 EQ 3          ;
39494 0000782C                  11781 C           .SECTION        P,CODE                          ;
39495                           11782             .AENDI                                          ;
39496                           11783     
39497                           11784     
39498                           11785     
39499                           11786             .END
  *****TOTAL ERRORS       0
  *****TOTAL WARNINGS     0
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   603

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ACCLAT1_SV_MAKCOM_200            P             0000662E  30683 30685*
ACC_FORM_TOP                     PHiROM        00000718  36515 36518 36524 36528 36530 36533 36536 36674 36676 36678 36681 36819 
                                                         36865*38280 38282 38284 38286 38311 38315 38318 
ACC_INFMAK1_DTCHGCHKLOP          PHiROM        000003F4  35867*35875 
ACC_INFMAK1_EXT                  PHiROM        0000046E  35895 35974*
ACC_INFMAK1_START                PHiROM        00000440  35878 35911*
ACC_INFMAK1_START050             PHiROM        00000450  35887 35930*
ACC_INFMAK1_START100             PHiROM        00000456  35923 35942*
ACC_REST_INFMK_100               PHiROM        00000364  35385 35393*
ACC_REST_INFMK_200               PHiROM        00000378  35403 35407 35412*
ACC_STEPINF_MAK1_100LOP          PHiROM        000004F2  36155*36231 
ACC_STEPINF_MAK1_120             PHiROM        000004FE  36162 36165*
ACC_STEPINF_MAK1_180             PHiROM        0000053C  36178 36205*
ACC_STEPINF_MAK1_200             PHiROM        00000542  36186 36189 36208 36210*
ACC_STEPINF_MAK1_250             PHiROM        00000554  36222 36224*
ACC_STEPINF_MAK1_300             PHiROM        00000560  36229 36234*
ACC_TBLMAK1_200LOP               PHiROM        00000592  36389*36415 
ACC_TBLMKPLS1_SBLOP200           PHiROM        00000A04  37245*37274 
ACC_TBLMKPLS1_SBLOP220           PHiROM        00000A16  37264 37266*
ACC_TBLMKPLS1_SB_END             PHiROM        00000A2C  37248 37283*
ACC_TBLMKSPD1_SB100              PHiROM        00000960  37076 37080*
ACC_TBLMKSPD1_SB150              PHiROM        0000096A  37089*37096 
ACC_TBLMKSPD1_SB200              PHiROM        0000097C  37084 37103*
ACC_TBLMKSPD1_SB220              PHiROM        00000990  37115 37117*
ACC_TBLMKSPD1_SB250LOP           PHiROM        00000998  37129*37200 
ACC_TBLMKSPD1_SB300              PHiROM        000009BA  37159 37161*
ACC_TBLMKSPD1_SB500              PHiROM        000009F0  37132 37208*
ACC_TBLMKSPD1_SB900              PHiROM        000009F2  37100 37211*
AFM_DST_CTLACTM                  PHiROM        00000734  36533 36873*38311 
AFM_DST_CTLVTBL                  PHiROM        00000730  36530 36872*38315 
AFM_DST_STPACTM                  PHiROM        00000744  36678 36877*38280 
AFM_DST_STPPTBL                  PHiROM        00000748  36819 36878*38282 
AFM_DST_STPVTBL                  PHiROM        00000740  36676 36876*38284 
AFM_OLD_CTLACTM                  PHiROM        0000072C  36536 36871*
AFM_OLD_CTLVTBL                  PHiROM        00000728  36528 36870*
AFM_OLD_STPACTM                  PHiROM        0000073C  36681 36875*
AFM_OLD_STPVTBL                  PHiROM        00000738  36674 36874*
AFM_SRC_TBL_MEM                  PHiROM        0000071C  36518 36867*
AFM_SRC_TBL_TOP                  PHiROM        00000718  36515 36866*
AFM_STEP_INF_FLG                 PHiROM        00000724  36869*38286 38318 
AFM_STEP_INF_SPD                 PHiROM        00000720  36524 36868*
API_ENDHANDSIGCHK_100            P             00006E06  32535 32542*
API_ENDHANDSIGCHK_EXT            P             00006E08  32531 32541 32544*
API_SETACC_INFOGET_CALEXT        PHiROM        000004BE  36043 36049 36054*
API_SETACC_INFOGET_CALNG         PHiROM        000004BC  36025 36032 36052*
API_SETACC_INFOGET_CALOK1        PHiROM        000004B0  36030 36040*
API_SETACC_INFOGET_CALOK2        PHiROM        000004B6  36021 36046*
BANKCHKNEXT_CYCL_STR1_010        P             00005C12  28209 28214*
BANKCHKNEXT_CYCL_STR1_020        P             00005BA8  28057 28125*
BANKCHKNEXT_CYCL_STR1_050        P             00005BB2  28130 28132*
BANKCHKNEXT_CYCL_STR1_100        P             00005BCE  28110 28159*
BANK_CNT_STOPCHK_TYP1_200        P             00005C58  28242 28250 28261 28282*
BCNT_STEP_NEXTCHK_100            P             000057E0  27262 27274*
BCNT_STEP_NEXTCHK_120            P             0000580C  27294 27302*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   604

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BCNT_STEP_NEXTCHK_200            P             00005814  27291 27305 27311*
BCNT_STEP_NEXTCHK_250            P             00005848  27317 27323 27347*
BCNT_STEP_NEXTCHK_300            P             00005850  27353 27370*
BCNT_STEP_NEXTCHK_CHK            P             00005864  27296 27307 27388*
BCNT_STEP_NEXTCHK_EXT            P             00005872  27264 27337 27378 27393 27402*
BIT0                                      EQU  00000001     15* 2029  2333  2348  6502  6745  6752  6912  6963  7141  7275  7433 
                                                          7628  7717  7787  7867  8086  8573  8580  8930  8937  9000  9007  9158 
                                                          9342  9349  9513  9520  9805  9842  9934 10026 10090 10149 10160 10161 
                                                         10234 10275 10326 10485 11120 11124 11251 11255 11459 11463 11556 11560 
                                                         11624 11750 11774 11809 11834 11887 11906 11988 12005 12021 12035 12089 
                                                         12172 12333 12360 12456 12518 12591 13431 13684 13695 13739 13799 13820 
                                                         13823 13885 13982 14175 14228 14291 14321 14504 14579 14580 14692 14693 
                                                         14851 14852 14855 15073 15090 15197 15234 15346 15518 15811 15818 15971 
                                                         16230 16269 17241 17958 18359 18997 19101 19207 19497 19622 19918 20053 
                                                         20076 20081 20089 20140 20164 20170 20573 21279 21395 21451 21502 21556 
                                                         21695 21698 21930 22043 22056 22425 22500 22732 22979 22984 23500 23512 
                                                         23542 23909 23969 23972 24743 24760 24876 24893 25063 25122 25247 25403 
                                                         25408 27321 27329 27334 27461 27564 27577 27966 27970 28007 28055 28212 
                                                         28259 28272 28314 28543 28735 28896 29157 29182 29239 29444 29528 29539 
                                                         29882 29966 30042 30114 30534 30979 30985 31487 31493 31729 31766 31780 
                                                         31795 31809 31823 31837 31848 31906 32162 32251 32533 32614 32663 32761 
                                                         32765 32822 32833 32834 32908 32954 33167 33186 33317 33466 33697 33750 
                                                         33776 34701 34773 34787 34956 35383 35914 36041 36220 37623 38095 38123 
                                                         38169 38210 39205 
BIT1                                      EQU  00000002     16* 2030  2334  2349  7269  7275  7433  8066  9940 10090 10160 10567 
                                                         10864 10888 10940 11210 11624 11857 12071 12132 12208 12357 12518 13434 
                                                         13681 13695 13751 13771 13787 14030 14228 14333 14365 14504 14579 14580 
                                                         14692 14693 14851 14852 15184 15267 16006 16166 17958 20058 20094 20145 
                                                         20175 21267 21719 21984 22073 22102 22856 23496 23542 24256 24262 24773 
                                                         24906 25147 27456 27461 28277 28350 28422 28769 28861 28867 28890 28896 
                                                         28930 29162 29207 29233 29239 32533 32663 32833 33312 33317 33475 33481 
                                                         33539 33551 33692 33731 33776 34900 34942 34985 35090 35933 36047 37635 
                                                         38095 38210 39142 39191 39228 39229 39261 39323 39372 
BIT10                                     EQU  00000400     25* 2359 18239 18280 22545 22557 31460 
BIT11                                     EQU  00000800     26* 2360 11765 18138 18179 30396 30448 31460 
BIT12                                     EQU  00001000     27* 2365 11765 17705 17788 23488 23983 24018 
BIT13                                     EQU  00002000     28* 2366  9852 12139 23905 23928 34472 34528 
BIT14                                     EQU  00004000     29* 2367  9847 34493 34528 
BIT15                                     EQU  00008000     30* 2368  6766 29190 34514 34528 
BIT16                                     EQU  00010000     31*
BIT17                                     EQU  00020000     32*
BIT18                                     EQU  00040000     33*
BIT19                                     EQU  00080000     34*
BIT2                                      EQU  00000004     17* 2031  2335  2350  2370 10138 10160 10573 10736 10783 11704 11958 
                                                         12258 12330 12518 13713 14249 14530 15209 15260 15649 17383 17387 18048 
                                                         18100 18423 18508 18582 18686 18695 18729 18997 19101 20442 21254 21267 
                                                         21438 21469 21539 21660 21698 21719 21740 21930 22102 22114 22140 24256 
                                                         24784 24917 25169 27315 27461 28803 28896 32529 32618 32833 33564 33589 
                                                         33736 33776 34683 34903 35021 35052 35059 35965 36023 36027 36175 36183 
                                                         36187 36209 37657 37664 38092 38176 38236 39146 39228 39229 39303 39310 
BIT20                                     EQU  00100000     35*
BIT21                                     EQU  00200000     36*
BIT22                                     EQU  00400000     37*
BIT23                                     EQU  00800000     38*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   605

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

BIT24                                     EQU  01000000     39*
BIT25                                     EQU  02000000     40*
BIT26                                     EQU  04000000     41*
BIT27                                     EQU  08000000     42*
BIT28                                     EQU  10000000     43*
BIT29                                     EQU  20000000     44*
BIT3                                      EQU  00000008     18* 2032  2336  2351  2371  6066  7709  7779  7860  7963  8072 10138 
                                                         10540 10733 10763 11983 12496 12518 13500 14108 18357 24256 25197 27351 
                                                         27505 28896 31635 32810 32959 33604 33628 33692 33731 33776 34204 34213 
                                                         35133 36027 36072 39413 
BIT30                                     EQU  40000000     45*
BIT31                                     EQU  80000000     46*
BIT4                                      EQU  00000010     19* 2337  2352  2372 10138 11731 12513 14182 15633 16249 24256 24940 
                                                         24964 24998 28896 33665 33684 33692 33724 33731 33776 34208 34213 38142 
BIT5                                      EQU  00000020     20* 2338  2353  2373  6971  6977  8807  9095  9138  9594  9619 14518 
                                                         14604 15636 16235 20573 22439 22542 24256 28896 33175 33181 33776 35122 
                                                         39026 39402 
BIT6                                      EQU  00000040     21* 2339  2354  2374  7048  8643 10118 10138 10602 10626 10730 10789 
                                                         10808 10811 11612 12770 13660 14101 17009 17241 18691 21652 21829 22357 
                                                         22425 22533 24256 28896 30537 33481 33849 34070 34141 34250 34769 35128 
                                                         35159 39408 39439 
BIT7                                      EQU  00000080     22* 2340  2355  2375  8692 12776 12828 12874 12920 24256 27658 28855 
                                                         28872 28907 31468 31477 
BIT8                                      EQU  00000100     23* 2341  2356 24256 31460 32148 
BIT9                                      EQU  00000200     24* 2342  2357  6614 12146 12163 22536 22557 24256 31460 33115 33448 
                                                         33511 
BRKTST_POSCTL_0020               P             00006F4C  32812 32821*
BRKTST_POSCTL_0040               P             00006F54  32824 32830*
BRKTST_POSCTL_0048               P             00006F68  32835 32844*
BRKTST_POSCTL_0190               P             00006FCC  32837 32921*
BRKTST_POSCTL_0200               P             0000701C  32826 32951*
BRKTST_POSCTL_0240               P             00007058  32955 32986*
BRKTST_POSCTL_0800               P             00007078  32814 32923 32974 33028*
CHG_STEP_INFO_MAKSTP_END_010     P             00005390  25813 25826*
CHG_STEP_INFO_MAKSTP_END_020     P             000053A4  25828 25840*
CHG_STEP_INFO_MAKSTP_END_EXT     P             000053A4  25819 25834 25842*
CLSINC1_SEL_020                  P             00004C24  24161 24175*
CLSINC1_SEL_END                  P             00004C2E  24168 24183*
CLSINC2_SEL_020                  P             00004C58  24209 24223*
CLSINC2_SEL_END                  P             00004C62  24216 24231*
CLSINC_SEL_050LOP                P             00004C82  24265*24274 
CLSINC_SEL_100                   P             00004C90  24268 24275*
CLSINC_SEL_300                   P             00004CAC  24279 24282 24295*
CLSINC_SEL_DEF                   P             00004CA8  24259 24292*
CLS_POS_LENGTH_ADDATA_050        P             0000463E  22734 22742*
CMPSPD_RSTPLS_250                PHiROM        000002E6  35266 35272*
CMPSPD_RSTPLS_280                PHiROM        000002EE  35276 35280*
CMP_BRK2_CTLCAL_200              P             00006388  30044 30052*
CMP_CNT_CTLCAL_200               P             00006324  29968 29976*
CMP_HODL_CTL200                  P             000063DE  30116 30124*
CMP_PLSLSI_CTLCAL_200            P             000062B8  29884 29892*
CMP_SPD_REST_END                 PHiROM        00000336  35334 35341 35345*
CMP_SPD_REST_ERR                 PHiROM        0000032E  35269 35338*
CMP_SPD_REST_MOV                 PHiROM        00000328  35278 35283 35322 35331*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   606

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

CMP_SPD_REST_STOP                PHiROM        00000334  35324 35343*
CNTBANK_DBGBRK_100               P             000059BC  27660 27669*
CNT_GPOINT_STOPTYP2_050          P             00005CA8  28336 28353*
CNT_GPOINT_STOPTYP2_100          P             00005CF2  28316 28332 28345 28432*
CNT_HOSEI_CHKCAL_050             P             00006A3A  31620 31625 31631 31638*
CNT_HOSEI_CHKCAL_100             P             00006A58  31637 31654*
CNT_HOSEI_CHKCAL_200             P             00006A66  31660 31662*
CNT_HOSEI_SPDSET_EXT             P             00006A6C  31644 31669*
CNT_REST_HOSEI_SPDTYP_EXT        P             00006B68  31908 31912*
CNT_STOP_CMD_DATSUB1_100         P             00005DBA  28612 28615*
CNT_STOP_CMD_DATSUB2_100         P             00005DFC  28658 28661*
CNT_SUB_DATACALC_100             P             00005D4E  28524 28528*
CNT_SUB_DATACALC_120             P             00005D58  28531 28536*
CNT_SUB_DATACALC_150             P             00005D64  28535 28546*
CNT_SYNCHOS_SPDTYP_080           P             00006A9C  31726 31746*
CNT_SYNCHOS_SPDTYP_100           P             00006AA2  31751*
CNT_SYNCHOS_SPDTYP_200           P             00006AAC  31750 31762*
CNT_SYNCHOS_SPDTYP_250           P             00006ABE  31765 31776*
CNT_SYNCHOS_SPDTYP_300           P             00006AD0  31779 31790*
CNT_SYNCHOS_SPDTYP_310           P             00006AE2  31794 31805*
CNT_SYNCHOS_SPDTYP_320           P             00006AF4  31808 31819*
CNT_SYNCHOS_SPDTYP_330           P             00006B06  31822 31833*
CNT_SYNCHOS_SPDTYP_390           P             00006B18  31836 31847*
CNT_SYNCHOS_SPDTYP_400           P             00006B22  31732 31769 31783 31798 31812 31826 31840 31851 31857*
CNT_SYNCHOS_SPDTYP_450           P             00006B30  31756 31864 31866*
CNT_SYNCHOS_SPDTYP_EXT           P             00006B38  31872*
CNT_VMODE_NEXT_CYCLSTR_050       P             00005920  27507 27537*
CNT_VMODE_NEXT_CYCLSTR_100       P             0000592C  27515 27548*
CPUB_GET_OBJPOS_100              P             000061E2  29620 29626*
CPUB_GET_OBJPOS_EXT              P             000061E8  29631*
DAI_CHK01_100                    P             00003950  19565 19573*
DAI_CHK01_200                    P             000002A8   7102  7107*
DAI_CHK03_300                    P             000039AA  19637 19653*
DEBUG_BRK_PNT1_100               P             00001C5C  12830 12839*
DEBUG_BRK_PNT2_100               P             00001C84  12876 12885*
DEBUG_BRK_PNT3_100               P             00001CAC  12922 12931*
DEBUG_JMP10                      PHiROM        00000E0E  38114 38118*
DEBUG_SIGINC_100                 P             0000133A  10939 10941*
DELT_POS_SPDCG1_020              P             00003F3C  21073 21075*
DELT_POS_SPDCG1_050              P             00003F4E  21082 21090*
DELT_POS_SPDCG1_100              P             00003F52  21087 21096*
DELT_POS_SPDCG1_150              P             00003FFA  21221*21227 
DELT_POS_SPDCG1_200              P             00003F5A  21079 21085 21093 21106*
DELT_POS_SPDCG1_250              P             00003F76  21119 21121*
DELT_POS_SPDCG1_300              P             00003F8E  21135 21138*
DELT_POS_SPDCG1_350              P             00003F90  21131 21140*
DELT_POS_SPDCG1_380              P             00003F9A  21146 21148*
DELT_POS_SPDCG1_430              P             00003FC6  21178 21180*
DNDINC_MAKOBJPOS_100             P             000025D0  14853 14865*
DNDINC_MAKOBJPOS_120             P             000025DA  14857 14871*
DNDINC_MAKOBJPOS_150             P             000025EC  14859 14870 14883*
DNDINC_MAKOBJPOS_200             P             000025F0  14875 14887*
DNDINC_SPDSET_100                P             00000878   8645  8651  8653*
DNDINC_STEP_MK100                P             000024C8  14644 14654 14664 14681*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   607

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DNDINC_STEP_MK150                P             00002500  14666 14694 14712*
DNDINC_STEP_MK180                P             0000253C  14717 14751*
DNDINC_STEP_MK200                P             0000255A  14740 14774*
DNDINC_STEP_MK220                P             000025A4  14811 14822*
DNDINC_STEP_MK300                P             000025AA  14700 14816 14826*
DNDINC_ST_100                    P             000003F8   7416  7430*
DNDINC_ST_250                    P             00000440   7462  7479*
DNDINC_ST_290                    P             00000446   7468  7484*
DNDINC_ST_350                    P             00000458   7440  7498*
DNDINC_ST_380                    P             0000046A   7490  7515*
DNDINC_ST_520                    P             00000484   7435  7532*
DNDINC_ST_550                    P             000004BC   7536  7568*
DNDINC_ST_580                    P             000004CC   7558  7582*
DNDINC_ST_END                    P             000004D2   7423  7521  7587*
DND_1STEP_DATMK1_050             P             0000161C  11555 11557*
DND_ALLSTEPCTL_005               P             00001F6C  13605 13619*
DND_ALLSTEPCTL_010               P             00001F88  13625 13641*
DND_ALLSTEPCTL_020               P             00001F98  13598 13657*
DND_ALLSTEPCTL_050               P             00001FA8  13662 13670*
DND_ALLSTEPCTL_060               P             00001FC0  13683 13686 13691*
DND_ALLSTEPCTL_100               P             00001FDC  13697 13708*
DND_ALLSTEPCTL_200               P             00001FF8  13715 13731*
DND_ALLSTEPCTL_300               P             00002014  13699 13750*
DND_ALLSTEPCTL_320               P             00002034  13767 13773*
DND_ALLSTEPCTL_400               P             00002040  13753 13784*
DND_ALLSTEPCTL_420               P             00002050  13789 13796*
DND_ALLSTEPCTL_425               P             00002058  13801 13805*
DND_ALLSTEPCTL_450               P             0000214C  13815 13957*
DND_ALLSTEPCTL_500               P             00002198  13803 14002*
DND_ALLSTEPCTL_580               P             000021C4  13990 14040*
DND_ALLSTEPCTL_600               P             00002238  13791 14097*
DND_ALLSTEPCTL_900               P             0000225A  13611 13633 13647 13664 13721 13742 13775 13939 14077 14136*
DND_LNKPLS_OBJMK1_END            P             0000076A   8322  8342  8363*
DND_LNKPLS_OBJ_CHG050            P             0000072A   8312  8316*
DND_LNKPLS_OBJ_DNPOS1            P             00000748   8289  8334*
DND_LNKPLS_OBJ_STOPPOS1          P             00000760   8294  8296  8356*
DND_LNKPLS_OBJ_UPPOS0            P             0000071A   8303*
DND_LNKPLS_OBJ_UPPOS1            P             0000071A   8286  8291  8302*
DND_LNK_STEP_CHG0_100            P             0000056E   7789  7791*
DND_LNK_STEP_CHG0_400            P             0000057C   7781  7802*
DND_LNK_STEP_CHG0_423            P             00000590   7807  7816*
DND_LNK_STEP_CHG0_425            P             00000592   7794  7810  7819*
DND_LNK_STEP_CHG0_END            P             00000596   7825*
DND_LNK_STEP_CHG2_300            P             0000061C   7965  7975*
DND_LNK_STEP_CHG2_320            P             00000638   7985  7997*
DND_LNK_STEP_CHG2_400            P             0000063A   7989  8000*
DND_LNK_STEP_CHG2_END            P             0000063E   7967  7981  8005*
DND_LNK_STEP_CHK0_100            P             0000052A   7719  7721*
DND_LNK_STEP_CHK0_200            P             00000538   7711  7733*
DND_LNK_STEP_CHK0_400            P             00000548   7738  7746*
DND_LNK_STEP_CHK0_450            P             0000054A   7724  7749*
DND_LNK_STEP_CHK0_END            P             0000054E   7740  7753*
DND_LNK_STEP_CHK2_100            P             000005D0   7869  7891*
DND_LNK_STEP_CHK2_199            P             000005DE   7879  7882  7900  7902*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   608

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DND_LNK_STEP_CHK2_300            P             000005E8   7862  7913*
DND_LNK_STEP_CHK2_400            P             000005F8   7918  7926*
DND_LNK_STEP_CHK2_450            P             000005FA   7905  7929*
DND_LNK_STEP_CHK2_END            P             000005FE   7920  7933*
DND_NEGSTEPCTL_100               P             000022C4  14230 14239*
DND_NEGSTEPCTL_200               P             000022E0  14251 14264*
DND_NEGSTEPCTL_250               P             00002318  14284 14307*
DND_NEGSTEPCTL_300               P             00002338  14232 14332*
DND_NEGSTEPCTL_320               P             00002358  14353 14361*
DND_NEGSTEPCTL_400               P             00002368  14335 14376*
DND_NEGSTEPCTL_420               P             0000237C  14387 14396*
DND_NEGSTEPCTL_580               P             0000238E  14429*
DND_NEGSTEPCTL_900               P             000023B2  14253 14272 14296 14324 14355 14368 14389 14454*
DND_NEG_AREA_JD1_050             P             000006AE   8193  8195*
DND_NEG_AREA_JD1_100             P             000006BE   8202  8205  8209*
DND_NEG_AREA_JD2_100             P             000006EC   8243  8246  8250*
DND_NEG_STOP_SVCK_EXT            P             00000682   8092*
DND_NEG_STOP_SVCK_OFF            P             0000067E   8068  8074  8083  8087*
DND_NEG_STOP_SVCK_ON             P             0000067C   8085*
DND_NEG_STOP_SVCK_SET            P             0000067E   8088*
DND_ORGIN_SIG_FORON_EXT          P             00002298  14165 14171 14177 14185*
DND_ORGIN_STEP_050               P             000020D4  13822 13884*
DND_ORGIN_STEP_100               P             00002116  13867 13933*
DND_ROTSTEPCTL_050               P             000023F0  14506 14515*
DND_ROTSTEPCTL_080               P             00002408  14520 14533*
DND_ROTSTEPCTL_200               P             00002418  14532 14547*
DND_ROTSTEPCTL_400               P             00002418  14548*
DND_ROTSTEPCTL_420               P             0000242C  14559 14568*
DND_ROTSTEPCTL_440               P             00002454  14581 14592*
DND_ROTSTEPCTL_500               P             0000245E  14584 14596 14598*
DND_ROTSTEPCTL_900               P             0000246E  14535 14561 14613*
DND_ROTSTEPCTL_EXT               P             00002470  14508 14615*
DND_SPD_SEQSET_100               P             000008B0   8703  8705*
DND_SPD_SEQSET_END               P             000008BE   8694  8699  8715*
DND_TEPSTEPCTL_020               P             00002730  15186 15195*
DND_TEPSTEPCTL_180               P             00002760  15211 15225 15237*
DND_TEPSTEPCTL_200               P             0000277C  15199 15251*
DND_TEPSTEPCTL_220               P             000027C0  15262 15293*
DND_TEPSTEPCTL_290               P             000027C6  15301*
DND_TEPSTEPCTL_400               P             000027D0  15188 15312*
DND_TEPSTEPCTL_420               P             000027E4  15317 15330*
DND_TEPSTEPCTL_800               P             0000280C  15337 15360*
DND_TEPSTEPCTL_900               P             00002812  15239 15281 15303 15323 15349 15367*
DND_TEPSTEPCTL_EXT               P             00002814  15369*
DNMODE_ENDWAIT_TIMCK_END         P             00006C2C  32112 32118*
DNMODE_ENDWAIT_TIMST100          P             00006C0C  32068 32074 32088*
DNMODE_ENDWAIT_TIMST200          P             00006C0E  32079 32090*
DNM_ACCCALC_020                  PHiROM        00000BC2  37580 37582*
DNM_ACCCALC_100                  PHiROM        00000BF8  37622 37626*
DNM_ACCCALC_200                  PHiROM        00000C06  37632 37639*
DNM_ACCCALC_300                  PHiROM        00000C22  37654 37661*
DNM_ACC_OVER_PLSMK100            PHiROM        00000CC8  37739 37743 37756*
DNM_ACC_OVER_PLSMK200            PHiROM        00000CCE  37727 37745 37761*
DNM_CYCLE_ED_100                 P             00006CEA  32296 32302 32304*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   609

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

DNM_CYCLE_STR_100                P             00006D54  32358 32387*
DNM_CYCLE_STR_200                P             00006D58  32375 32391*
DNM_MATH_ELSE_DATMK100           P             00006D90  32422 32428 32445 32452*
DNM_PLS_LSICTLCAL_010            PHiROM        000011BA  39132 39137*
DNM_PLS_LSICTLCAL_020            PHiROM        000011DC  39144 39160*
DNM_PLS_LSICTLCAL_050            PHiROM        000011F4  39148 39167 39175*
DNM_PLS_LSICTLCAL_100            PHiROM        000011F8  39150 39183*
DNM_PLS_LSICTLCAL_150            PHiROM        00001214  39187 39202*
DNM_PLS_LSICTLCAL_160            PHiROM        00001224  39207 39217*
DNM_PLS_LSICTLCAL_180            PHiROM        0000124C  39225 39245*
DNM_PLS_LSICTLCAL_190            PHiROM        00001252  39250*
DNM_PLS_LSICTLCAL_500            PHiROM        00001270  39194 39254 39273*
DNM_PLS_LSICTLCAL_510            PHiROM        00001276  39236 39279*
DNM_PLS_LSICTLCAL_700            PHiROM        0000128C  39177 39230 39256 39299*
DNM_PLS_LSICTLCAL_710            PHiROM        000012C8  39319 39325 39343*
DNM_PLS_LSICTLCAL_720            PHiROM        000012D6  39353 39355*
DNM_PLS_LSICTLCAL_740            PHiROM        000012DE  39333 39358 39360*
DNM_PLS_LSICTLCAL_760            PHiROM        000012F0  39367 39376*
DNM_PLS_LSICTLCAL_800            PHiROM        00001310  39169 39374 39394*
DNM_PLS_LSICTLCAL_820            PHiROM        0000131E  39312 39404*
DNM_PLS_LSICTLCAL_900            PHiROM        0000132E  39289 39383 39421*
DNM_PLS_LSICTLCAL_ERR            PHiROM        0000133C  39264 39431*
DNM_PLS_LSICTLCAL_EXT            PHiROM        0000134A  39210 39283 39423 39442*
DNM_STEP_ACC_CHGDBG10            PHiROM        00000A8E  37368 37370*
DNM_STEP_ACC_CHGDBG20            PHiROM        00000A94  37372 37374*
DNM_STEP_ACC_CHG_100             PHiROM        00000AA8  37357 37363 37393*
DNM_TBLCAL_200                   PHiROM        000003C0  35770 35787*
DNM_TBLCAL_300                   PHiROM        000003C2  35778 35789*
DURING_TIM_CNTCK_END             P             00006BA2  31986*
DURING_TIM_PRECALC100            P             00006BD4  32019 32033*
DURING_TIM_PRECALC200            P             00006BD6  32010 32014 32022 32035*
DURING_TIM_PRECALCEND            P             00006BDA  32024 32038*
ENDHAND_WAIT_TIMC100             P             00006DD8  32486 32500*
ENDHAND_WAIT_TIMC200             P             00006DE4  32491 32509*
ERR_INFO_BAKUP_ST_END            P             0000517E  25399 25412*
ERR_INFO_DTCHK1_EXT              P             00004EA6  24726 24732 24738 24745 24789*
ERR_INFO_DTCHK2_050              P             00004F48  24927 24929*
ERR_INFO_DTCHK2_100              P             00004F5C  24936 24942*
ERR_INFO_DTCHK2_150              P             00004F72  24949 24957*
ERR_INFO_DTCHK2_200              P             00004FB8  24960 24988*
ERR_INFO_DTCHK2_300              P             00004FCC  24967 24994 25000*
ERR_INFO_DTCHK2_EXT              P             00004FCE  24858 24864 24871 24878 25005*
ERR_INFO_DTCHK3X_100             P             00005110  25249 25258*
ERR_INFO_DTCHK3X_200             P             0000515C  25251 25312*
ERR_INFO_DTCHK3X_300             P             0000515C  25290 25302 25313*
ERR_INFO_DTCHK3_050              P             00005030  25072 25087*
ERR_INFO_DTCHK3_060              P             0000505A  25115 25117*
ERR_INFO_DTCHK3_100              P             00005064  25100 25128*
ERR_INFO_DTCHK3_200              P             0000507E  25137 25150*
ERR_INFO_DTCHK3_220              P             0000508C  25159 25161*
ERR_INFO_DTCHK3_300              P             000050A2  25164 25178*
ERR_INFO_DTCHK3_350              P             000050A8  25184*25190 
ERR_INFO_DTCHK3_380              P             000050BE  25193 25199*
ERR_INFO_DTCHK3_EXT              P             000050C4  25046 25052 25058 25065 25076 25209*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   610

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

ERR_INFO_DTIN1_EXT               P             00004D4A  24458 24464 24471*
ERR_INFO_DTIN2_EXT               P             00004D9A  24514 24548*
ERR_INFO_DTIN3_EXT               P             00004DEA  24610 24617*
ERR_INFO_DTIN4_EXT               P             00004E24  24657 24663 24675*
ERR_INFO_WKCLR_LOP               P             000051B8  25467*25473 
ERR_STOP_MOVCK050                P             00003CE0  20444 20446*
FULCLS_LNG_ADD_CAL200            P             000046A4  22823 22828 22830*
FULCLS_LNG_ADD_CAL300            P             000046EC  22858 22880*
FULCLS_LNG_ADD_CAL400            P             000046EE  22868 22890*
FULCLS_LNG_ADD_CAL450            P             000046F6  22893 22895*
FULCLS_MAXOVER_ERRS100           P             0000453C  22434 22442*
FULCLS_MAXOVER_ERRSET            P             0000451C  22394 22406 22416*
FULCLS_MAXOVER_ERRWAT            P             0000453C  22410 22420 22447*
FULCLS_MAXPLSCAL_100             P             000044A4  22294 22296*
FULCLS_MAXPLSCAL_200             P             000044AC  22305*
FULCLS_OVERSG_100                P             0000458E  22535 22544 22548*
FUL_BEFOR_CAL100                 P             0000153C  11317 11329*
FUL_BEFOR_CAL500                 P             00001542  11309 11319 11336*
FUL_CLS_OBJPLSCK_050             P             00004674  22776 22782 22784*
FUL_PLS_ST120                    P             0000474A  22983 22985*
FWD_REV_STR_050                  P             0000347E  18361 18363*
FWD_REV_STR_055                  P             0000348C  18369 18372*
FWD_REV_STSIG_OFSPEC_050         P             00003594  18581 18617*
GAMEN_OVRIDE_100                 P             00005FD0  29100 29102*
GENSOK_SIGMK_050                 P             00004020  21256 21264*
GENSOK_SIGMK_END                 P             00004038  21281 21285*
GENSOK_SIGMK_OF                  P             00004036  21258 21271 21283*
GENSOK_SIGMK_ON                  P             00004030  21269 21278*
HENSA_DAT_MONMK_050              P             00005764  27177 27179*
HENSA_DAT_MONMK_100              P             0000577E  27195 27197*
H_BYTE                                    EQU  00000000     82*
INCENC_SV_HENSA_MK050            P             00003C1A  20273 20281*
INCENC_SV_HENSA_MK100            P             00003C20  20284 20286*
INC_UPLIMT_CAL100                P             00006C78  32144 32151 32176*
INC_UPLIMT_CAL200                P             00006C7A  32164 32178*
INC_UPLIMT_CALEND                P             00006C7E  32181*
INT_POSCTL_0020                  P             00000EE4  10120 10135*
INT_POSCTL_0040                  P             00000EF4  10140 10148*
INT_POSCTL_0045                  P             00000EFC  10151 10155*
INT_POSCTL_0048                  P             00000F10  10162 10171*
INT_POSCTL_0080                  P             00000F38  10192 10204*
INT_POSCTL_0100                  P             00000F40  10217*
INT_POSCTL_0102                  P             00000F84  10230 10253*
INT_POSCTL_0102A                 P             00000FB8  10277 10297*
INT_POSCTL_0103                  P             00001008  10328 10348*
INT_POSCTL_0105                  P             0000100E  10336 10354*
INT_POSCTL_0110                  P             00001020  10303 10368*
INT_POSCTL_0115                  P             0000102C  10285 10361 10380*
INT_POSCTL_0120                  P             00001044  10262 10397*
INT_POSCTL_0130                  P             0000107C  10403 10431*
INT_POSCTL_0140                  P             00001088  10386 10420 10442*
INT_POSCTL_0190                  P             000010D2  10164 10237 10504*
INT_POSCTL_0200                  P             00001110  10153 10526*
INT_POSCTL_0220                  P             0000114C  10536 10566*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   611

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

INT_POSCTL_0240                  P             00001180  10569 10598*
INT_POSCTL_0250                  P             000011BC  10604 10641*
INT_POSCTL_0260                  P             000011DC  10646 10650 10667*
INT_POSCTL_0280                  P             000011E2  10659 10672*
INT_POSCTL_0300                  P             0000121C  10142 10729*
INT_POSCTL_0320                  P             0000122C  10738 10743*
INT_POSCTL_0500                  P             0000125C  10735 10751 10778*
INT_POSCTL_0700                  P             0000127C  10122 10732 10805*
INT_POSCTL_0800                  P             0000128E  10506 10555 10588 10629 10714 10766 10785 10792 10820*
INT_POSCTL_0900                  P             00001290  10740 10810 10822*
INT_POSCTL_0910                  P             000012AE  10011 10036 10846*
INT_POSCTL_0920                  P             000012F4  10860 10884*
INT_POSCTL_0950                  P             000012FE  10868 10891*
INT_POSCTL_CHK00                 P             00000E74  10009 10021*
INT_POSCTL_CHK10                 P             00000E90  10028 10044*
JMP0100000                       P             000007B8   8463  8483*
JMP0100001                       P             0000093C   8816  8839*
JMP0100002                       P             00000B00   9232  9250*
JMP0100003                       P             00000D5A   9758  9761*
JMP0100007                       P             00002518  14725 14728*
JMP0100008                       P             00002526  14735 14738*
JMP0100009                       P             0000254C  14760 14762*
JMP0100010                       P             0000255A  14770 14772*
JMP0100011                       P             00002584  14780 14801*
JMP0100013                       P             00002A04  15763 15765*
JMP0100014                       P             00003FB0  21163 21165*
JMP0100016                       P             00004E82  24759 24761*
JMP0100017                       P             00004E94  24772 24774*
JMP0100018                       P             00004EA2  24783 24785*
JMP0100019                       P             00004F1A  24892 24894*
JMP0100020                       P             00004F2C  24905 24907*
JMP0100021                       P             00004F3A  24916 24918*
JMP0200000                       P             000007C4   8467  8469  8472  8486  8488  8490*
JMP0200001                       P             00000948   8820  8822  8825  8842  8844  8846*
JMP0200002                       P             00000B0C   9236  9238  9241  9253  9255  9257*
JMP0200003                       P             00000D72   9768  9772  9775*
JMP0200011                       P             00002590  14784 14786 14789 14804 14806 14808*
JMP0200014                       P             00003FB8  21168 21170*
JMPED00027                       P             000077AE  34469 34471 34475*
JMPED00028                       P             000077C4  34490 34492 34496*
JMPED00029                       P             000077DA  34511 34513 34517*
JMP_0100004                      P             0000190E  12179 12182*
JMP_0100005                      P             00002024  13759 13762*
JMP_0100006                      P             00002348  14343 14346*
JMP_0100012                      P             00002712  15171 15174*
JMP_0100015                      P             00004188  21641 21644*
JMP_0100022                      P             00006C96  32216 32218*
JMP_0100023                      P             00006CD6  32287 32289*
JMP_0100024                      P             00006D1A  32349 32351*
JMP_0100025                      P             00006DE4  32505 32508*
JMP_0100026                      P             00007712  34333 34336*
KAJYU_START_UPCK_EXT             P             00004B78  23965 23971 23978 23987*
KJYU_DATA_INFOSL100              P             00004B30  23875 23881 23893 23924*
KJYU_DATA_INFOSL300              P             00004B3C  23911 23932*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   612

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

KJYU_NEARZERO3CHK_100            P             00004A1C  23697 23699*
KJYU_NEARZERO3CHK_200            P             00004A36  23714 23716*
KJYU_NEARZERO3CHK_END            P             00004A6C  23724 23739 23746 23752 23758*
KJYU_NEARZERO3CHK_OUT_OFF        P             00004A5E  23704 23743*
KJYU_NEARZERO3CHK_TOUTATU        P             00004A64  23718 23736 23749*
KJYU_NEARZERO3CHK_YES            P             00004A6A  23721 23755*
KJYU_NEARZERO3_CK100             P             00004A54  23734*
KJYU_NEARZERO_CK200              P             000049FA  23614 23618 23620*
KJYU_OUTDIR100                   P             00004A88  23777 23787*
KJYU_OUTDIR200                   P             00004A8A  23780 23790*
LINK_DIR_OBJMK3_250              P             00000BD4   9418  9423  9425*
LINK_DIR_OBJMK3_280              P             00000BE0   9432  9434*
LINK_DIR_OBJMK3_300              P             00000BFC   9414  9448*
LINK_DIR_OBJMK3_400              P             00000C10   9452  9457  9459*
LINK_DIR_OBJMK3_450              P             00000C1C   9467  9469*
LINK_DIR_OBJMK3_500              P             00000C1E   9436  9472*
LINK_DIR_OBJMK3_600              P             00000C28   9476  9478*
LINK_DIR_OBJMK3_750              P             00000C50   9512  9514*
LINK_PM_MX50                     P             00000D96   9807  9811*
LINK_UPPLSDN_DRV050              P             00000C9C   9564  9575*
LINK_UPPLSDN_DRV130              P             00000CC8   9566  9590  9596  9602  9613*
LINK_UPPLSDN_DRV135              P             00000CCE   9618*
LINK_UPPLSDN_DRV140              P             00000CD0   9616  9621*
LINK_UPPLS_A_OBJMK1_100          P             000008F4   8782  8784*
LINK_UPPLS_A_OBJMK1_110          P             000008FA   8788  8790*
LINK_UPPLS_A_OBJMK1_145          P             0000094E   8809  8851*
LINK_UPPLS_A_OBJMK1_150          P             00000950   8850  8853*
LINK_UPPLS_A_OBJMK1_300          P             00000970   8857  8876*
LINK_UPPLS_A_OBJMK1_400          P             00000984   8880  8885  8887*
LINK_UPPLS_A_OBJMK1_500          P             00000986   8861  8866  8869  8889*
LINK_UPPLS_A_OBJMK1_600          P             00000990   8893  8895*
LINK_UPPLS_A_OBJMK1_700          P             000009B8   8929  8931*
LINK_UPPLS_A_OBJMK2_030          P             000009FA   8978  8980*
LINK_UPPLS_A_OBJMK2_050          P             00000A1A   8999  9001*
LINK_UPPLS_OBJ_SEL_050           P             00000AA4   9140  9153*
LINK_UPPLS_OBJ_SEL_100A          P             00000ABC   9160  9174*
LINK_UPPLS_OBJ_SEL_110B          P             00000ACC   9145  9165  9186*
LINK_UPPLS_OBJ_SEL_END           P             00000ACE   9179  9189*
LNKPLS_OBJ_DAT_MK1_150           P             000007CC   8494  8496*
LNKPLS_OBJ_DAT_MK1_300           P             000007EC   8500  8519*
LNKPLS_OBJ_DAT_MK1_400           P             00000800   8523  8528  8530*
LNKPLS_OBJ_DAT_MK1_500           P             00000802   8504  8509  8512  8532*
LNKPLS_OBJ_DAT_MK1_600           P             0000080C   8536  8538*
LNKPLS_OBJ_DAT_MK1_750           P             00000834   8572  8574*
LNKPLS_OBJ_DAT_MK2_050           P             00002642  14966 14971 14977*
LNKPLS_OBJ_DAT_MK2_080           P             00002650  14982 14986*
LNKPLS_OBJ_DAT_MK2_100           P             0000266C  14962 15001*
LNKPLS_OBJ_DAT_MK2_150           P             00002678  15004 15008*
LNKPLS_OBJ_DAT_MK2_200           P             00002684  15010 15016*
LNKPLS_OBJ_DAT_MK2_280           P             00002694  15023 15027*
LNKPLS_OBJ_DAT_MK2_300           P             00002694  14988 15031*
LNKPLS_OBJ_DAT_MK2_600           P             0000269E  15035 15037*
LNKPLS_OBJ_DAT_MK2_750           P             000026C6  15072 15074*
LNKPLS_OBJ_DAT_MK2_800           P             000026D8  15081 15086*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   613

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

LOAD_RESTPLS_050                 P             00003D38  20549 20551 20560*
LOAD_RESTPLS_END                 P             00003D4E  20553 20578*
LOAD_RESTPLS_LOP                 P             00003D08  20525*20568 
LOD_POS_STSRG00                  P             000035FA  18730*18791 
LOD_POS_STS_REGSLOW_END          P             000035E2  18688 18694 18697*
L_BYTE                                    EQU  00000001     81*
MN_POSCTL_ST050                  P             00000016   6494  6500  6504*
MN_POSCTL_START_110              P             00000128   6659  6694*
MN_POSCTL_START_200              P             0000013C   6699  6742*
MN_POSCTL_START_220              P             00000180   6747  6754  6762  6769  6843*
MN_POSCTL_START_500              P             000001AC   6661  6874*
MN_POSCTL_START_540              P             000001E8   6914  6945*
MN_POSCTL_START_600              P             000001F8   6895  6931  6956*
MN_POSCTL_START_800              P             000001FE   6707  6778  6865  6960*
MN_POS_CTLACT_100                P             00000278   7050  7059*
MN_POS_CTLACT_130                P             00000294   7067  7084*
MN_POS_CTLACT_150                P             0000029A   7076  7091*
MN_POS_CTLACT_800                P             000002C4   7052  7124*
MN_POS_CTLACT_CONTINUE           P             000002EC   7114  7135  7155*
MN_POS_CTLACT_CYCLE_END          P             000002F8   7143  7166*
MN_POS_CTLACT_EXIT               P             000002FA   7158  7164  7168*
MN_POS_CTLACT_STOP_END           P             000002F2   7145  7161*
MONI_DI_CHK_050                  P             0000693C  31476 31479*
MOST_DISP_DATSMP_050             P             00003C88  20362 20364*
MOST_DISP_DATSMP_100             P             00003C98  20372 20374*
MOST_DISP_DATSMP_150             P             00003CA8  20385 20387*
MOTCYC_ED2_050                   P             00003A02  19742 19745*
MOTION_CYC_ST200                 P             00003956  19558 19580*
MOT_REPSTART_CL050               P             00006EEC  32716 32732*
MOT_REPSTART_CL100               P             00006EFA  32721 32740*
MOT_REPSTART_CL200               P             00006F14  32760 32762*
MOT_REP_STEPCK_100               P             00006E64  32616 32641*
MOT_REP_STEPCK_200               P             00006EA4  32658 32679*
MOT_REP_STEPCK_EXT               P             00006EAA  32610 32629 32647 32653 32667 32685*
NBIT0                                     EQU  000000FE     49*
NBIT1                                     EQU  000000FD     50*
NBIT10                                    EQU  0000FBFF     60*
NBIT11                                    EQU  0000F7FF     61*
NBIT12                                    EQU  0000EFFF     62*
NBIT13                                    EQU  0000DFFF     63*
NBIT14                                    EQU  0000BFFF     64*
NBIT15                                    EQU  00007FFF     65*
NBIT2                                     EQU  000000FB     51*
NBIT3                                     EQU  000000F7     52*
NBIT4                                     EQU  000000EF     53*
NBIT5                                     EQU  000000DF     54*
NBIT6                                     EQU  000000BF     55*
NBIT7                                     EQU  0000007F     56*
NBIT8                                     EQU  0000FEFF     58*
NBIT9                                     EQU  0000FDFF     59*
NEG_TEPA_ARACHK100               P             00002AB4  15908 15924*
NEG_TEPA_ARACHK200               P             00002ABA  15893 15931*
NEG_TEPA_ARACHK300               P             00002ABC  15912 15927 15933*
NEXT_CYCL_STR1_050               P             00001DF8  13266 13278 13291 13307 13309*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   614

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

OBJ_NEAR_CK_030                  P             00000D18   9696  9698*
OBJ_NEAR_CK_050                  P             00000D28   9701  9711*
OBJ_NEAR_CK_EXT                  P             00000D34   9704  9716  9718*
OPEN_ROT_NEAR1_ZR_CK100          P             00003B3A  20063 20099*
OPEN_ROT_NEAR1_ZR_CK20           P             00003AF0  20017 20024 20031 20043*
OPEN_ROT_NEAR1_ZR_CK40           P             00003AF4  20033 20046*
OPEN_ROT_NEAR1_ZR_CK50           P             00003B18  20048 20071*
OPEN_ROT_NEAR2_ZR_CK100          P             00003B9E  20150 20180*
OPEN_ROT_NEAR2_ZR_CK50           P             00003B84  20135 20159*
ORGIN_OBJ_POSCTLST2_EXT          P             00000E3E   9936  9943*
ORGIN_OBJ_POS_CTLST1_100         P             00000DEC   9850  9872*
ORGIN_OBJ_POS_CTLST1_150         P             00000E08   9878  9898*
ORGIN_OBJ_POS_CTLST1_200         P             00000E0E   9859  9887  9903*
OUTPLS_CNT_CHK010                P             00003A28  19884 19887*
OUTPLS_CNT_CHK020                P             00003A38  19898 19900*
OUTPLS_CNT_CHK050                P             00003A4C  19911 19913*
OUTPLS_CNT_CHK100                P             00003A66  19926 19929 19931*
OVERRIDE_CHG050                  P             00000EBA  10084 10092 10099*
OVER_DIGCHK_END                  P             000044FA  22363 22373*
OVER_DIGCHK_ERR                  P             000044D4  22350*
OVER_DIGCHK_NOMAL                P             000044F8  22348 22360 22371*
OVER_LIDE_SPDCAL100              P             00006258  29797 29799*
OVER_LIDE_SQRF100                P             00005EC0  28857 28887*
OVER_LIDE_SQRF220                P             00005EF8  28919 28921*
OVER_LIDE_SQRF300                P             00005F08  28863 28876 28892 28933*
OVER_RIDE_ERRTIMCHG_100          P             00006160  29446 29460*
OVRLIDE_LATMULDIV200             P             00006670  30735 30744 30754*
OVRLIDE_LATMULDIV300             P             00006678  30742 30763*
OVRLIDE_LATMULDIV400             P             00006680  30757 30769*
OVRLIDE_LATMULDIV500             P             00006690  30779 30781*
OVRLIDE_LATMULDIV550             P             00006696  30746 30784 30786*
OutputPLS_REGCLR_100             P             00003260  17830 17846*
OutputPLS_REGCLR_150             P             000032B8  17917 17928*
OutputPLS_REGCLR_END             P             000032E8  17832 17919 17961*
OutputPLS_REGCLR_ERR             P             000032E0  17938 17953*
OutputPLS_REGCLR_LOP             P             000031A8  17700*17945 
P                                P        SCT  00000000   6046*39494*
PHiROM                           PHiROM   SCT  00000000  34619*
PINT_SERCH_BIG2B_200LOP          PHiROM        0000109C  38780*38823 
PINT_SERCH_BIG2B_300             PHiROM        000010B4  38790 38802*
PINT_SERCH_BIG2B_500             PHiROM        000010BA  38797 38807*
PINT_SERCH_BIG2B_600             PHiROM        000010C8  38811 38813 38819*
PINT_SERCH_BIG2B_800             PHiROM        000010D0  38788 38827*
PINT_SERCH_BIG2B_900             PHiROM        000010D0  38829*
PINT_SERCH_BIG4B_200LOP          PHiROM        00001104  38922*38966 
PINT_SERCH_BIG4B_300             PHiROM        0000111C  38932 38944*
PINT_SERCH_BIG4B_500             PHiROM        00001122  38939 38949*
PINT_SERCH_BIG4B_600             PHiROM        00001130  38954 38956 38962*
PINT_SERCH_BIG4B_800             PHiROM        00001138  38930 38970*
PINT_SERCH_BIG4B_900             PHiROM        00001138  38815 38959 38972*
PLS_CHG_PLSTOLSI_100             P             0000658A  30527 30529*
PLS_CHG_PLSTOLSI_120             P             000065B0  30536 30539 30553*
PLS_CHG_PLSTOLSI_130             P             000065C8  30560 30574*
PLS_CHG_PLSTOLSI_150             P             000065CC  30543 30567 30580*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   615

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

PLS_CHG_PLSTOLSI_200             P             000065D2  30583 30585*
PLS_LSICTRL_050                  PHiROM        00000024  34679 34686*
PLS_LSICTRL_070                  PHiROM        00000064  34703 34724*
PLS_LSICTRL_080                  PHiROM        00000074  34711 34737*
PLS_LSICTRL_100                  PHiROM        000000AE  34775 34792*
PLS_LSICTRL_200                  PHiROM        00000100  34796 34830*
PLS_LSICTRL_220                  PHiROM        0000011C  34838 34852*
PLS_LSICTRL_END                  PHiROM        00000122  34771 34781 34811 34844 34858*
PLS_LSI_CTLCAL_020               PHiROM        0000014C  34902 34914*
PLS_LSI_CTLCAL_050               PHiROM        00000164  34905 34921 34929*
PLS_LSI_CTLCAL_100               PHiROM        00000168  34907 34934*
PLS_LSI_CTLCAL_150               PHiROM        00000184  34938 34953*
PLS_LSI_CTLCAL_160               PHiROM        00000194  34958 34968*
PLS_LSI_CTLCAL_500               PHiROM        000001B8  34945 34978 34998*
PLS_LSI_CTLCAL_580               PHiROM        000001D8  35014 35032*
PLS_LSI_CTLCAL_700               PHiROM        000001E8  34931 34980 34988 35048*
PLS_LSI_CTLCAL_720               PHiROM        00000208  35071 35073*
PLS_LSI_CTLCAL_740               PHiROM        00000210  35076 35078*
PLS_LSI_CTLCAL_760               PHiROM        00000222  35085 35094*
PLS_LSI_CTLCAL_800               PHiROM        00000248  34923 35023 35092 35114*
PLS_LSI_CTLCAL_820               PHiROM        00000256  35061 35124*
PLS_LSI_CTLCAL_900               PHiROM        00000266  35038 35101 35141*
PLS_LSI_CTLCAL_ERR               PHiROM        00000274  35151*
PLS_LSI_CTLCAL_EXT               PHiROM        00000282  34961 35025 35143 35162*
PLS_LSI_SPD_ACCADD_200           PHiROM        000002C0  35204 35221*
PLS_LSI_SPD_ACCADD_300           PHiROM        000002CC  35210 35213 35227 35229*
PLS_LSI_SPD_ACCADD_END           PHiROM        000002D0  35202 35232*
POINT_SERCHPLS1_050              PHiROM        00000FB0  38514 38516*
POINT_SERCHPLS1_100              PHiROM        00000FDC  38500 38506 38540*
POINT_SERCHPLS1_200              PHiROM        00000FE4  38528 38546*
POINT_SERCHPLS1_END              PHiROM        00000FE6  38544 38548*
POINT_SERCHPLS_HKN1_050          PHiROM        00001016  38608 38610*
POINT_SERCHPLS_HKN1_100          PHiROM        00001028  38619 38621*
POINT_SERCHPLS_HKN1_400          PHiROM        00001064  38587 38593 38663*
POINT_SERCHPLS_HKN1_500          PHiROM        0000106C  38651 38670*
POINT_SERCHPLS_HKN1_END          PHiROM        0000106E  38667 38672*
POINT_SERCHSPD1_100              PHiROM        00000F60  38402 38406 38426*
POINT_SERCHSPD1_END              PHiROM        00000F66  38414 38429 38432*
POSCNT_BANKDT100                 P             00005A0A  27759*
POSITINER_POSCMP_100             P             0000777E  34429 34432 34435 34437*
POSITIONER_DAICTL_020            P             000072D8  33451 33465*
POSITIONER_DAICTL_040            P             000072EE  33480 33482*
POSITIONER_DAICTL_100            P             0000730C  33444 33502*
POSITIONER_DAICTL_200            P             00007344  33514 33536*
POSITIONER_DAICTL_300            P             00007368  33541 33563*
POSITIONER_DAICTL_350            P             00007388  33585 33591*
POSITIONER_DAICTL_400            P             00007398  33566 33603*
POSITIONER_DAICTL_450            P             000073CE  33624 33646*
POSITIONER_DAICTL_500            P             000073F4  33606 33664*
POSITIONER_DAICTL_530            P             00007430  33678 33710*
POSITIONER_DAICTL_550            P             00007468  33718 33749*
POSITIONER_DAICTL_590            P             0000746E  33675 33754*
POSITIONER_DAICTL_800            P             00007478  33490 33523 33554 33593 33648 33667 33700 33739 33756 33766*
POSITIONER_DAICTL_EXT            P             0000748E  33453 33788*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   616

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POSITIONER_DAIDAT_100            P             0000756A  33976 33980 33984 33988*
POSITIONER_DAIOBJ1MK_100         P             000074B2  33838 33843*
POSITIONER_DAIOBJ1MK_200         P             000074E0  33851 33873*
POSITIONER_DAIOBJ1MK_300         P             000074EC  33860 33883*
POSITIONER_DAIOUT_100            P             00007678  34202 34206 34210*
POSITIONER_DAI_OBJ1CP_100        P             00007608  34072 34087*
POSITIONER_DAI_OBJ1CP_END        P             0000761E  34101 34107 34112*
POSITIONER_DAI_OBJ1CP_OVR        P             0000761C  34076 34091 34110*
POSITIONER_DAI_OBJ1CP_WATDN      P             00007616  34093 34104*
POSITIONER_DAI_OBJ1CP_WATUP      P             00007610  34078 34098*
POSITIONER_DAI_OBJ2CP_100        P             0000764C  34143 34158*
POSITIONER_DAI_OBJ2CP_END        P             00007662  34172 34177 34182*
POSITIONER_DAI_OBJ2CP_STP        P             00007660  34147 34162 34180*
POSITIONER_DAI_OBJ2CP_WATDN      P             0000765A  34149 34174*
POSITIONER_DAI_OBJ2CP_WATUP      P             00007654  34164 34169*
POSITIONER_DAI_STPCK100          P             000076B4  34252 34267*
POSITIONER_DAI_STPCK150          P             000076B8  34257 34270*
POSITIONER_DAI_STPCK200          P             000076C4  34255 34269 34281*
POSITIONER_DAI_STPCK230          P             000076D8  34291 34294*
POSITIONER_DAI_STPCK250          P             000076EC  34286 34307*
POSITIONER_DAI_STPCK280          P             000076F8  34313 34315*
POSITIONER_DAI_STPCK300          P             00007706  34318 34326*
POSITIONER_DAI_STPCK320          P             0000772A  34352 34354*
POSITIONER_DAI_STPCKEND          P             0000775E  34378 34384 34390*
POSITIONER_DAI_STPCKERR          P             00007756  34361 34381*
POSITIONER_DAI_STPCKINP          P             0000775C  34359 34387*
POSITIONER_DAI_STPCKWAT          P             00007750  34296 34342 34375*
POSITIONER_UPDNLMT100            P             00007534  33935 33937*
POSITIONER_UPDNLMT200            P             0000753E  33942 33944*
POS_1STEP_DATA_MKSL100           P             00001CD8  12969 12985*
POS_1STEP_DATA_MKSL200           P             00001CDE  12977 12990*
POS_1STEP_DATMK1CL_020           P             000014CC  11212 11232*
POS_1STEP_DATMK1CL_040           P             000014D2  11219 11239*
POS_1STEP_DATMK1CL_050           P             000014E0  11250 11252*
POS_1STEP_DATMK1_050             P             00001436  11119 11121*
POS_1STEP_DATMK2_050             P             000015CA  11458 11460*
POS_ALLSTEPCTL_020               P             00001654  11614 11623*
POS_ALLSTEPCTL_100               P             0000165C  11626 11631*
POS_ALLSTEPCTL_101               P             00001670  11641 11650*
POS_ALLSTEPCTL_105               P             00001690  11666 11676*
POS_ALLSTEPCTL_120               P             00001694  11657 11681*
POS_ALLSTEPCTL_189               P             00001728  11758 11764 11768 11805*
POS_ALLSTEPCTL_189A              P             00001744  11776 11811 11825*
POS_ALLSTEPCTL_190               P             00001746  11752 11784 11817 11828*
POS_ALLSTEPCTL_200               P             00001760  11706 11853*
POS_ALLSTEPCTL_210               P             00001790  11884 11889*
POS_ALLSTEPCTL_211               P             000017A6  11902 11908*
POS_ALLSTEPCTL_220               P             000017CC  11875 11925*
POS_ALLSTEPCTL_225               P             000017E0  11941 11950*
POS_ALLSTEPCTL_230               P             00001800  11643 11668 11967 11977*
POS_ALLSTEPCTL_280               P             00001860  12053 12063 12065*
POS_ALLSTEPCTL_285               P             0000186A  12073 12075*
POS_ALLSTEPCTL_300               P             000018C8  11628 12131*
POS_ALLSTEPCTL_310               P             000018F0  12142 12159*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   617

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POS_ALLSTEPCTL_320               P             00001928  12188 12199*
POS_ALLSTEPCTL_400               P             00001944  12134 12227*
POS_ALLSTEPCTL_415               P             00001972  12237 12244 12253 12260 12266 12272*
POS_ALLSTEPCTL_420               P             000019A4  12293 12307*
POS_ALLSTEPCTL_428               P             000019F0  12332 12356*
POS_ALLSTEPCTL_430               P             00001A10  12359 12381*
POS_ALLSTEPCTL_450               P             00001A4C  12393 12420*
POS_ALLSTEPCTL_530               P             00001A98  12451 12493*
POS_ALLSTEPCTL_550               P             00001AAC  12474 12499 12509*
POS_ALLSTEPCTL_580               P             00001AEA  12342 12409 12566*
POS_ALLSTEPCTL_583               P             00001B58  12593 12621*
POS_ALLSTEPCTL_585               P             00001B70  12587 12639*
POS_ALLSTEPCTL_590               P             00001B76  12373 12599 12632 12650*
POS_ALLSTEPCTL_600               P             00001C04  12480 12501 12748*
POS_ALLSTEPCTL_600X              P             00001A7A  12447 12458 12478*
POS_ALLSTEPCTL_900               P             00001C28  11616 11678 11842 11911 11943 11969 12108 12150 12190 12217 12295 12727 
                                                         12780*
POS_ALLSTEPCTL_REP231            P             00001848  12037 12039*
POS_CLS_CPUB_TO_CPUA_100         P             0000461A  22701 22703*
POS_CLS_OBJPVPLSMAK100           P             0000488A  23290 23296*
POS_CLS_OBJPVPLSMAK300           P             000048DC  23314 23344*
POS_CLS_OBJPVPLSMAK310           P             000048EC  23364 23368*
POS_CLS_OBJPVPLSMAK500           P             000048F0  23328 23376*
POS_CLS_RNA_KJYU_FIRST_NZ_CHK100 P             00004918  23407 23421*
POS_CLS_RNA_KJYU_FIRST_NZ_CHK120 P             0000492C  23433 23435*
POS_CLS_RNA_KJYU_FIRST_NZ_CHKEND P             00004932  23414 23437 23440*
POS_CLS_RNA_KJYU_NZ_CHK100       P             00004960  23467 23481*
POS_CLS_RNA_KJYU_NZ_CHK200       P             000049A4  23502 23532*
POS_CLS_RNA_KJYU_NZ_CHK400       P             000049B2  23498 23546*
POS_CLS_RNA_KJYU_NZ_CHK490       P             000049C0  23510 23521 23539 23557*
POS_CLS_RNA_KJYU_NZ_CHK500       P             000049D0  23492 23572*
POS_CLS_RNA_KJYU_NZ_CHKEND       P             000049D6  23474 23549 23563 23579*
POS_CLS_START_050                P             0000485E  23244 23246*
POS_CLS_TYP1_NEAR_ZR_CHK_100     P             000045D2  22619 22623*
POS_CLS_TYP1_NEAR_ZR_CHK_200     P             000045FC  22644 22660*
POS_CLS_TYP1_NEAR_ZR_CHK_201     P             00004602  22648 22665*
POS_CLS_TYP1_NEAR_ZR_CHK_202     P             00004604  22651 22663 22667*
POS_CLS_TYP1_POSCTL1_000         P             000040E2  21404 21499*
POS_CLS_TYP1_POSCTL1_050         P             00004114  21541 21555*
POS_CLS_TYP1_POSCTL1_100         P             0000417C  21504 21634*
POS_CLS_TYP1_POSCTL1_105         P             0000417C  21635*
POS_CLS_TYP1_POSCTL1_107         P             000041A4  21662 21671*
POS_CLS_TYP1_POSCTL1_108         P             000041B8  21670 21682*
POS_CLS_TYP1_POSCTL1_110         P             000041BC  21654 21690*
POS_CLS_TYP1_POSCTL1_112         P             000041E4  21697 21715*
POS_CLS_TYP1_POSCTL1_113         P             000041F4  21721 21729*
POS_CLS_TYP1_POSCTL1_115         P             00004210  21742 21751*
POS_CLS_TYP1_POSCTL1_117         P             00004224  21756 21765*
POS_CLS_TYP1_POSCTL1_118         P             000042A0  21795 21862*
POS_CLS_TYP1_POSCTL1_119A        P             000042D8  21880 21908*
POS_CLS_TYP1_POSCTL1_119E        P             000042DE  21897 21913*
POS_CLS_TYP1_POSCTL1_119E_EX     P             000042FA  21890 21937*
POS_CLS_TYP1_POSCTL1_200         P             00004318  21723 21953*
POS_CLS_TYP1_POSCTL1_220         P             00004368  21972 22003*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   618

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

POS_CLS_TYP1_POSCTL1_222         P             00004380  22023 22032*
POS_CLS_TYP1_POSCTL1_240         P             00004394  22039 22053*
POS_CLS_TYP1_POSCTL1_250         P             0000439C  22025 22047 22061*
POS_CLS_TYP1_POSCTL1_260         P             000043D0  22045 22058 22091*
POS_CLS_TYP1_POSCTL1_280         P             000043EE  22104 22116 22125*
POS_CLS_TYP1_POSCTL1_ED050       P             00004262  21785 21818*
POS_CLS_TYP1_POSCTL1_END         P             0000440C  21471 21490 22142 22147*
POS_CLS_TYP1_POSCTL1_NOT         P             0000406A  21390 21407*
POS_CLS_TYP1_POSCTL1_NOT20       P             00004070  21397 21416*
POS_CLS_TYP1_POSCTL1_OUT_WAIT    P             0000440A  21543 21618 21673 21744 21760 21848 21939 21991 22080 22127 22145*
POS_CLS_TYP1_POSCTL1_OVER98      P             00004258  21706 21810*
POS_CLS_TYP1_POSCTL1_OVER99      P             0000425C  21793 21813*
POS_CLS_TYP1_POSCTL1_PC_END      P             00004404  21684 22139*
POS_CNT_BANKDTMAK123_COM         P             00005A4A  27700 27774 27815*
POS_CNT_BANKDTMAK12_050          P             00005A46  27807 27809*
POS_CNT_BANKDTMAK12_COM          P             00005A38  27695 27717 27769 27798*
POS_CNT_BANKDTMKCM_050           P             00005AFC  27965 27967*
POS_CNT_BANKDTMKCM_EXT           P             00005B06  27974*
POS_CNT_LASTSTEPCHK_END          P             00005AA2  27884 27886*
POS_ENDMYUTTIM_KEEP              P             0000035C   7281*
POS_ENDMYUTTIM_STOP              P             00000362   7265  7271  7277  7287*
POS_ENDWAIT_TIMSET_END           P             0000031C   7201  7208  7215*
POS_LSI_EMGSTOP_END              P             00003336  18050 18066*
POS_LSI_SLWSTOP_END              P             00003364  18102 18114*
POS_PLSOUT_SETRY100              P             000036C0  18906 18922*
POS_PLSOUT_SETRY120              P             00003706  18980 18988*
POS_PLSOUT_SETRY130              P             0000373C  18991 19017*
POS_PLSOUT_SETRY900              P             000037AC  19004 19035 19038 19041 19128*
POS_PLSOUT_SETRYERR              P             0000379C  19077 19097*
POS_PLSOUT_SETRYEXT              P             000037BA  18913 19122 19149*
POS_PLSOUT_SETRYLOP              P             000036DE  18954*19084 
POS_PLS_OUTDAT_050               P             000037E8  19203 19210*
POS_PLS_OUTDAT_080               P             00003814  19224 19237*
POS_PLS_OUTDAT_100               P             00003826  19243 19251*
POS_PLS_OUTDAT_200               P             00003830  19254 19256 19258*
POS_PLS_OUTDAT_250               P             0000384A  19268 19276*
POS_PLS_OUTDAT_300               P             0000384E  19227 19281*
POS_PLS_OUTDAT_320_ECK10         P             000038AC  19421 19423*
POS_PLS_OUTDAT_320_END           P             000038E8  19425 19462*
POS_PLS_OUTDAT_320_ERR1          P             000038D8  19415 19447*
POS_PLS_OUTDAT_320_EXT           P             000038F0  19434 19456 19468*
POS_PLS_OUTDAT_400               P             00003916  19499 19507*
POS_START_ROT_CAL_040            P             00001D80  13159 13163 13168 13193*
POS_START_ROT_CAL_050            P             00001D84  13153 13200*
POS_START_ROT_CAL_100            P             00001DA4  13177 13215 13221 13237*
POS_START_ROT_CAL_200            P             00001DB0  13239 13248*
POS_START_ROT_CAL_900            P             00001DC0  13195 13225 13244 13250 13254 13262*
POS_START_ROT_CAL_950            P             00001DCC  13242 13273*
POS_START_ROT_CAL_999            P             00001DDC  13227 13256 13286*
PRESET_PVABSTOOBJ_100            P             000061A4  29530 29549*
PRESET_PVABSTOOBJ_EXT            P             000061AA  29542 29562*
RESTART_WAIT_PLS_DATASEL_100     P             00004464  22203 22230*
RESTART_WAIT_PLS_DATASEL_END     P             00004476  22200 22245*
RESTART_WAIT_PLS_DATASEL_OUT     P             00004474  22219 22243*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   619

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

REVRSE_KAJYU_AREACK_END          P             00004BFE  24111 24127*
REVRSE_KAJYU_AREACK_LASTSPD      P             00004BF8  24089 24102 24104 24121*
REV_BEFORE_CHGKOUTEICK090        P             000047F0  23090 23101*
REV_BEFORE_CHGKOUTEICK100        P             000047F2  23084 23103*
REV_BEFORE_CHGKOUTEICK200        P             00004800  23112*
REV_BEFORE_CHGKOUTEICK300        P             0000480C  23092 23110 23122*
REV_BEFORE_CHGKOUTEICK400        P             0000480E  23115 23124*
RL_POSDTCHK_SECOND_RD            P             000069E4  31568*31574 31576 
SET_OVERID200                    P             00006044  29142 29178*
SET_OVERID500                    P             0000608C  29137 29193 29222*
SET_OVERID900                    P             000060A6  29165 29210 29242*
SPD_CTL_ST100                    P             00006760  30981 30987*
SPD_STEP_CHGFWD_090              P             00001EBC  13450 13458 13472*
SPD_STEP_CHGFWD_100              P             00001EC0  13436 13478*
SPD_STEP_CHGFWD_200              P             00001ECA  13443 13486*
SPD_STEP_CHGFWD_202              P             00001ECC  13461 13489*
SPD_STEP_CHGFWD_250              P             00001EEC  13494 13511*
SPD_STEP_CHGFWD_EXT              P             00001F1C  13433 13474 13485 13503 13553*
SPD_UPLIMT_CALEND                P             00006280  29830 29835 29837*
START_CNT_BANK2_MAKCHK_END       P             00005B30  28009 28025*
TBLACC_ACC_ADD_200               PHiROM        0000118C  39040 39059*
TBLACC_ACC_ADD_300               PHiROM        00001198  39046 39049 39065 39067*
TBLACC_ACC_ADD_END               PHiROM        0000119A  39038 39069*
TBLACC_STEP_SPMAK_100            PHiROM        00000E58  38134 38165*
TBLACC_STEP_SPMAK_200            PHiROM        00000E62  38097 38103 38174*
TBLACC_STEP_SPMAK_250            PHiROM        00000E84  38178 38196*
TBLACC_STEP_SPMAK_300            PHiROM        00000E90  38187 38204*
TBLACC_STEP_SPMAK_400            PHiROM        00000EB0  38094 38183 38201 38225*
TBLACC_STEP_SPMAK_500            PHiROM        00000EBE  38149 38214 38239*
TBLACC_STEP_SPMAK_CNST050        PHiROM        00000E20  38125 38136*
TBLACC_STOPSP_MK500              PHiROM        00000DC4  38007 38050*
TEPA_ADDLSI_010                  P             00002BDC  16233 16248*
TEPA_ADDLSI_020                  P             00002BE4  16237 16251 16256*
TEPA_ADDLSI_025                  P             00002BF8  16216 16272*
TEPA_ADDLSI_030                  P             00002C08  16226 16239 16253 16283*
TEPA_ADDLSI_EXT                  P             00002C50  16274 16289 16300 16312 16343*
TEPA_PLSCNTCHK_050               P             00002B86  16162 16170*
TEPA_PLSCNTCHK_100               P             00002B8C  16156 16168 16176*
TEPA_STARTCHK_050                P             00002B04  16013 16015*
TEPA_STARTCHK_END                P             00002B28  16022 16038*
TEPA_STARTCHK_NG                 P             00002B0A  16002 16008 16019*
TEPA_STARTCHK_OK                 P             00002B20  16018 16032*
TEP_1STEP_DATMK1_050             P             000029E8  15730 15744*
TEP_1STEP_DATMK1_070             P             000029EC  15733 15747*
TEP_1STEP_DATMK1_080             P             000029F2  15717 15725 15735 15746 15753*
TEP_1STEP_DATMK1_100             P             00002A2A  15810 15812*
TEP_ADD_PLSMK_020                P             0000295A  15635 15637*
TEP_ADD_PLSMK_030                P             00002962  15631 15642*
TEP_ADD_PLSMK_050                P             0000296E  15651 15653*
TEP_ADD_PLSMK_100                P             00002978  15657 15659*
TEP_ADD_PLSMK_150                P             0000297E  15662 15664*
TEP_SPD_CALCCOM_100              P             00002CE4  16456 16458*
TEP_SPD_CALCCOM_200              P             00002CF2  16468 16470*
TEP_SPD_CALCCOM_300              P             00002CFC  16478 16480*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   620

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

TEP_SPD_CALCCOM_400              P             00002D06  16488 16490*
TEP_SYS_SET080                   P             00002D92  16610 16612*
TEP_SYS_SET100                   P             00002DA2  16622 16624*
TEP_SYS_SET200                   P             00002DBA  16639 16641*
TYP1_OPEN_PRC_050                P             00004098  21448 21453*
TYP1_OPEN_PRC_200                P             000040DC  21440 21459 21467 21487*
UPPLS1_OBJMAK_COM_145            P             00000B12   9227  9262*
UPPLS1_OBJMAK_COM_150            P             00000B14   9261  9264*
UPPLS1_OBJMAK_COM_300            P             00000B34   9268  9287*
UPPLS1_OBJMAK_COM_400            P             00000B48   9291  9296  9298*
UPPLS1_OBJMAK_COM_500            P             00000B4A   9272  9277  9280  9300*
UPPLS1_OBJMAK_COM_600            P             00000B54   9304  9306*
UPPLS1_OBJMAK_COM_750            P             00000B7C   9341  9343*
USE_IN_TBLMV_100LOP              PHiROM        000005D0  36477*36486 
USE_IN_TBLMV_500                 PHiROM        000005F0  36480 36495*
VMODE_LOT_SIG_ON                 P             000058B6  27458 27463*
XBIT0                                     EQU  00000000     68*
XBIT1                                     EQU  00000001     69*
XBIT2                                     EQU  00000002     70*
XBIT3                                     EQU  00000003     71*
XBIT4                                     EQU  00000004     72*
XBIT5                                     EQU  00000005     73*
XBIT6                                     EQU  00000006     74*
XBIT7                                     EQU  00000007     75*
_ABS_ENC_PLS_SPD                          IMPT 00000000   3425 20956 21014 30053 
_ABS_OUT_PLS_SPD                          IMPT 00000000   3435 20905 
_ACCBRK1_SV_MAKE                 P             000066A8  29324 30808*33331 
_ACCBRK1_SV_MAK_OVR              P             000066D0  29372 30838*
_ACCBRK2_SV_MAKE                 P             000066FC  29328 30876*33335 
_ACCB_ACCLAT_TIM1                         IMPT 00000000  35496 36521 
_ACCERR_ACC_HENSA                         IMPT 00000000   4442 
_ACCERR_ACC_OBJ                           IMPT 00000000   4441 
_ACCERR_ACC_PV                            IMPT 00000000   4440 
_ACCERR_DLY_PV_TIM                        IMPT 00000000   4451 
_ACCERR_ERR_CNT                           IMPT 00000000   4443 
_ACCESS_ERR1                              IMPT 00000000   3521 25183 
_ACCLAT1_SV_MAK_COM              P        EXPT 00006610  30613 30630 30658*30817 30849 30885 
_ACCLAT1_SV_MAK_OVR              P             000065DC  29368 30619*
_ACC_ANS_ACCDAT                           IMPT 00000000  35491 37436 37469 37592 37671 39464 
_ACC_CALC_SPD                             IMPT 00000000  35641 37647 37872 
_ACC_CALC_SPDX                            IMPT 00000000  35640 37640 37859 
_ACC_CALC_TIM                             EQU  000003E8  35465*37243 
_ACC_CTRL_STS1                            IMPT 00000000  35483 37321 37455 37662 39226 
_ACC_CTRL_STS2                            IMPT 00000000  35484 37441 37457 38140 39024 
_ACC_INF1_STEP001                         IMPT 00000000  35523 36146 36869 
_ACC_INF1_STEP002                         IMPT 00000000  35524 36886 
_ACC_INF1_STEP003                         IMPT 00000000  35525 36901 
_ACC_INF1_STEP004                         IMPT 00000000  35526 36916 
_ACC_INF1_STEP005                         IMPT 00000000  35527 36932 
_ACC_INF1_STEP006                         IMPT 00000000  35528 36947 
_ACC_INF1_STEP007                         IMPT 00000000  35529 36962 
_ACC_INF1_STEP008                         IMPT 00000000  35530 36977 
_ACC_INF1_STEP009                         IMPT 00000000  35531 36992 
_ACC_INF1_STEP010                         IMPT 00000000  35532 37007 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   621

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACC_INF1_STEP011                         IMPT 00000000  35533 37022 
_ACC_INF1_STEPSP01                        IMPT 00000000  35509 36150 36868 
_ACC_INF1_STEPSP02                        IMPT 00000000  35510 36885 
_ACC_INF1_STEPSP03                        IMPT 00000000  35511 36900 
_ACC_INF1_STEPSP04                        IMPT 00000000  35512 36915 
_ACC_INF1_STEPSP05                        IMPT 00000000  35513 36931 
_ACC_INF1_STEPSP06                        IMPT 00000000  35514 36946 
_ACC_INF1_STEPSP07                        IMPT 00000000  35515 36961 
_ACC_INF1_STEPSP08                        IMPT 00000000  35516 36976 
_ACC_INF1_STEPSP09                        IMPT 00000000  35517 36991 
_ACC_INF1_STEPSP10                        IMPT 00000000  35518 37006 
_ACC_INF1_STEPSP11                        IMPT 00000000  35519 37021 
_ACC_INFO_CHNAGE_TBL_MAK         PHiROM        000005F6  36371 36402 36511*
_ACC_IN_TBLUSE                            IMPT 00000000  35631 36475 36866 36883 36898 36913 36929 36944 36959 36974 36989 37004 
                                                         37019 
_ACC_IN_TBL_TIM                           IMPT 00000000  35630 36471 36867 36884 36899 36914 36930 36945 36960 36975 36990 37005 
                                                         37020 
_ACC_LAST_POINT                           IMPT 00000000  35478 37326 37386 37474 
_ACC_LAST_SPD                             IMPT 00000000  35474 37501 37599 37617 
_ACC_MONITOR_DAT1                         IMPT 00000000   4254 37471 
_ACC_MONITOR_DAT2                         IMPT 00000000   4255 37480 
_ACC_MONITOR_DAT3                         IMPT 00000000   4256 37489 
_ACC_MONITOR_DAT4                         IMPT 00000000   4257 37494 
_ACC_MONITOR_DAT5                         IMPT 00000000   4258 
_ACC_MONITOR_DAT6                         IMPT 00000000   4259 37508 
_ACC_MONITOR_DAT7                         IMPT 00000000   4260 37518 
_ACC_MONITOR_DAT8                         IMPT 00000000   4261 37528 
_ACC_NUMBER_SELTBL1              PHiROM        00000ED4  37991 38268*
_ACC_NUMBER_SELTBL2              PHiROM        00000EFC  38085 38299*
_ACC_PER_V_MAX                            EQU  00002710  35464*37106 37180 37243 38392 38454 38522 38645 
_ACC_POSCTL_RL_SPDX                       IMPT 00000000  35643 37793 38106 39035 
_ACC_POSCTL_SV_DN_ACCX                    IMPT 00000000  35645 37822 39061 
_ACC_POSCTL_SV_SPDX                       IMPT 00000000  35642 37778 39033 
_ACC_POSCTL_SV_UP_ACCX                    IMPT 00000000  35644 37808 39042 
_ACC_POS_STEP                             IMPT 00000000  35486 37359 37575 
_ACC_REST_ABS_PLS                         IMPT 00000000   4211 35395 37718 
_ACC_REST_ABS_PLSX                        IMPT 00000000  35639 37762 37998 
_ACC_REST_FLG                             IMPT 00000000   4212 35413 37723 37758 38496 38583 
_ACC_REST_INFO_MAKE              PHiROM        0000033C  34893 35363*39125 
_ACC_STEP001_ACTM                         IMPT 00000000  35569 36871 36873 36888 
_ACC_STEP001_VTBL                         IMPT 00000000  35553 36870 36872 36887 
_ACC_STEP002_ACTM                         IMPT 00000000  35570 36890 36903 
_ACC_STEP002_VTBL                         IMPT 00000000  35554 36889 36902 
_ACC_STEP003_ACTM                         IMPT 00000000  35571 36905 36918 
_ACC_STEP003_VTBL                         IMPT 00000000  35555 36904 36917 
_ACC_STEP004_ACTM                         IMPT 00000000  35572 36920 36934 
_ACC_STEP004_VTBL                         IMPT 00000000  35556 36919 36933 
_ACC_STEP005_ACTM                         IMPT 00000000  35573 36936 36949 
_ACC_STEP005_VTBL                         IMPT 00000000  35557 36935 36948 
_ACC_STEP006_ACTM                         IMPT 00000000  35574 36951 36964 
_ACC_STEP006_VTBL                         IMPT 00000000  35558 36950 36963 
_ACC_STEP007_ACTM                         IMPT 00000000  35575 36966 36979 
_ACC_STEP007_VTBL                         IMPT 00000000  35559 36965 36978 
_ACC_STEP008_ACTM                         IMPT 00000000  35576 36981 36994 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   622

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACC_STEP008_VTBL                         IMPT 00000000  35560 36980 36993 
_ACC_STEP009_ACTM                         IMPT 00000000  35577 36996 37009 
_ACC_STEP009_VTBL                         IMPT 00000000  35561 36995 37008 
_ACC_STEP010_ACTM                         IMPT 00000000  35578 37011 37024 
_ACC_STEP010_VTBL                         IMPT 00000000  35562 37010 37023 
_ACC_STEP011_ACTM                         IMPT 00000000  35579 37026 
_ACC_STEP011_VTBL                         IMPT 00000000  35563 37025 
_ACC_STEP01_TBL_TOP              PHiROM        00000718  36368 36849 36864*
_ACC_STEP02_TBL_TOP              PHiROM        0000074C  36850 36882*
_ACC_STEP03_TBL_TOP              PHiROM        00000780  36851 36897*
_ACC_STEP04_TBL_TOP              PHiROM        000007B4  36852 36912*
_ACC_STEP05_TBL_TOP              PHiROM        000007E8  36853 36928*
_ACC_STEP06_TBL_TOP              PHiROM        0000081C  36854 36943*
_ACC_STEP07_TBL_TOP              PHiROM        00000850  36855 36958*
_ACC_STEP08_TBL_TOP              PHiROM        00000884  36856 36973*
_ACC_STEP09_TBL_TOP              PHiROM        000008B8  36857 36988*
_ACC_STEP10_TBL_TOP              PHiROM        000008EC  36858 37003*
_ACC_STEP11_TBL_TOP              PHiROM        00000920  36859 37018*
_ACC_STEP_FLG                             IMPT 00000000  35482 37317 37379 37461 38090 38170 38211 38234 
_ACC_STEP_INF_MAKE1              PHiROM        000004E0  35951 36133*
_ACC_STEP_NUMBER                          IMPT 00000000  35490 37588 38082 38111 
_ACC_STEP_POINT                           IMPT 00000000  35480 37315 37377 37492 38099 38166 38180 38198 
_ACC_STEP_SPD                             IMPT 00000000  35476 37521 37629 38240 
_ACC_STOP001_ACTM                         IMPT 00000000  35613 36875 36877 36892 
_ACC_STOP001_PTBL                         IMPT 00000000  35600 36878 
_ACC_STOP001_VTBL                         IMPT 00000000  35586 36874 36876 36891 
_ACC_STOP002_ACTM                         IMPT 00000000  35614 36894 36907 
_ACC_STOP002_PTBL                         IMPT 00000000  35601 36895 
_ACC_STOP002_VTBL                         IMPT 00000000  35587 36893 36906 
_ACC_STOP003_ACTM                         IMPT 00000000  35615 36909 36922 
_ACC_STOP003_PTBL                         IMPT 00000000  35602 36910 
_ACC_STOP003_VTBL                         IMPT 00000000  35588 36908 36921 
_ACC_STOP004_ACTM                         IMPT 00000000  35616 36924 36938 
_ACC_STOP004_PTBL                         IMPT 00000000  35603 36925 
_ACC_STOP004_VTBL                         IMPT 00000000  35589 36923 36937 
_ACC_STOP005_ACTM                         IMPT 00000000  35617 36940 36953 
_ACC_STOP005_PTBL                         IMPT 00000000  35604 36941 
_ACC_STOP005_VTBL                         IMPT 00000000  35590 36939 36952 
_ACC_STOP006_ACTM                         IMPT 00000000  35618 36955 36968 
_ACC_STOP006_PTBL                         IMPT 00000000  35605 36956 
_ACC_STOP006_VTBL                         IMPT 00000000  35591 36954 36967 
_ACC_STOP007_ACTM                         IMPT 00000000  35619 36970 36983 
_ACC_STOP007_PTBL                         IMPT 00000000  35606 36971 
_ACC_STOP007_VTBL                         IMPT 00000000  35592 36969 36982 
_ACC_STOP008_ACTM                         IMPT 00000000  35620 36985 36998 
_ACC_STOP008_PTBL                         IMPT 00000000  35607 36986 
_ACC_STOP008_VTBL                         IMPT 00000000  35593 36984 36997 
_ACC_STOP009_ACTM                         IMPT 00000000  35621 37000 37013 
_ACC_STOP009_PTBL                         IMPT 00000000  35608 37001 
_ACC_STOP009_VTBL                         IMPT 00000000  35594 36999 37012 
_ACC_STOP010_ACTM                         IMPT 00000000  35622 37015 37028 
_ACC_STOP010_PTBL                         IMPT 00000000  35609 37016 
_ACC_STOP010_VTBL                         IMPT 00000000  35595 37014 37027 
_ACC_STOP011_ACTM                         IMPT 00000000  35623 37030 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   623

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ACC_STOP011_PTBL                         IMPT 00000000  35610 37031 
_ACC_STOP011_VTBL                         IMPT 00000000  35596 37029 
_ACC_STOP_NUMBER                          IMPT 00000000  35489 37585 37987 
_ACC_STOP_POINT                           IMPT 00000000  35479 37328 37388 37483 38051 
_ACC_STOP_SPD                             IMPT 00000000  35475 37511 37619 38053 
_ACC_STR_STEP                             IMPT 00000000  35487 37319 37364 
_ACC_TBL_CAL_IN_TOP              PHiROM        000006EC  36385 36848*38275 38306 
_ACC_TBL_MAKE1                   PHiROM        0000057A  35958 36287*
_ACC_TBL_MAKPLS1_SUB             PHiROM        000009F8  36827 37232*
_ACC_TBL_MAKSPD1_SUB             PHiROM        00000954  36612 36755 37067*
_ACC_UNIT                                 EQU  000003E8   6070*35291 
_ADDR56_R12_ANS_R12_LIMIT_MAX_MI*P             00000D40   8982  9741*
_ANTI_OF                                  IMPT 00000000   5472 
_ANTI_ON                                  IMPT 00000000   5471 
_API_BREAK_VALV_FLG_OF                    IMPT 00000000   6185 14128 14609 
_API_BREAK_VALV_FLG_ON                    IMPT 00000000   6184 
_API_ENDHAND_SIGCHK              P        EXPT 00006DF0  32518 32523*
_API_SETACC_INFO_GET             PHiROM   EXPT 00000488  35991 36000*
_API_SETACC_STS_CLR              PHiROM        000004D8  35890 36093*
_API_SETACC_STS_END              PHiROM   EXPT 000004C4  36063 36065*
_AREACHK_0DIG_TO_180             P             00000CE0   9581  9640*
_AUTO_OF                                  IMPT 00000000   5474 
_AUTO_ON                                  IMPT 00000000   5473 
_BANK1_CALC_ROT_NUM_ZR                    IMPT 00000000   3668 13312 28011 
_BANK1_LK_END_OBJ_ABSPLS                  IMPT 00000000   3661 
_BANK2_CPOS_ABS_POS_SET                   IMPT 00000000   6165 28015 28082 
_BANK2_LINK_OBJROT_NUMPLS_ZR              IMPT 00000000   3666 
_BANK2_LINK_OBJROT_NUM_ZR                 IMPT 00000000   3665 28067 
_BANK2_LK_END_OBJ_ABSPLS                  IMPT 00000000   3662 
_BANK2_TO_BANK1_MOV                       IMPT 00000000   6166 28064 
_BANK_CHK_NEXT_CYCL_STR1         P             00005B48  12547 27480 28048*
_BANK_CNT_STEP_NEXT_CHK          P             000057B8  11780 11813 27247*
_BANK_CNT_STOP_CHK_TYP1          P             00005C20  12628 27544 28233*
_BANK_LENGH_ADD_CALC_SV_TYPE     P             00002EAC  16888*27959 
_BASE_TIM010MS                            IMPT 00000000   2483 
_BASE_TIM100MS                            IMPT 00000000   2484 
_BBN_MESURE_DLY_POINT                     IMPT 00000000   4427 
_BBN_MESURE_DLY_SSPD                      IMPT 00000000   4426 
_BBN_MESURE_POINT                         IMPT 00000000   4421 
_BBN_MESURE_PPOS_BUF                      IMPT 00000000   4411 
_BBN_MESURE_PSPD                          IMPT 00000000   4413 
_BBN_MESURE_PSPD_BUF                      IMPT 00000000   4412 
_BBN_MESURE_SPOS_BUF                      IMPT 00000000   4407 
_BBN_MESURE_SSPD                          IMPT 00000000   4409 
_BBN_MESURE_SSPD_BUF                      IMPT 00000000   4408 
_BBN_MESURE_SSPD_DLYBUF                   IMPT 00000000   4425 
_BBN_MEUSRE_PV_ACC                        IMPT 00000000   4419 
_BBN_MEUSRE_PV_ACC_SRC                    IMPT 00000000   4416 
_BBN_MEUSRE_SV_ACC                        IMPT 00000000   4418 
_BBN_MEUSRE_SV_ACC_SRC                    IMPT 00000000   4415 
_BBN_SET_TIME                             IMPT 00000000   4422 
_BKTMCL_ACCDAT                            IMPT 00000000   4613 
_BKTMCL_ACCDAT_UNIT                       IMPT 00000000   4614 
_BKTMCL_ACCPOINT                          IMPT 00000000   4616 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   624

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BKTMCL_BBNFLT_TIMPV                      IMPT 00000000   4630 
_BKTMCL_BRKSTP_SPD                        IMPT 00000000   4638 
_BKTMCL_BRKSTR_SPD                        IMPT 00000000   4637 
_BKTMCL_BRKSTX_SPD                        IMPT 00000000   4643 
_BKTMCL_BRKSTX_TIMPV                      IMPT 00000000   4644 
_BKTMCL_BRKSTX_TIMSV                      IMPT 00000000   4645 
_BKTMCL_BRK_TIMPV                         IMPT 00000000   4640 
_BKTMCL_BRX_AREA_IN                       IMPT 00000000   4648 
_BKTMCL_BRX_AREA_INLT                     IMPT 00000000   4649 
_BKTMCL_ENC_DIR                           IMPT 00000000   4621 
_BKTMCL_OLD_PLSPOS                        IMPT 00000000   4620 
_BKTMCL_POINTMAX                          IMPT 00000000   4617 
_BKTMCL_SETX_TMDEF                        IMPT 00000000   4632 
_BKTMCL_SPDBUF                            IMPT 00000000   4612 
_BKTMCL_STOP_SPD                          IMPT 00000000   4636 
_BKTMCL_STOP_TIMPV                        IMPT 00000000   4629 
_BKTMCL_TMDEF_PV                          IMPT 00000000   4631 
_BKTMCL_TMSTEP_FLG                        IMPT 00000000   4625 
_BKTMCL_TMSTEP_STS                        IMPT 00000000   4626 
_BKTMCL_TOTAL_TIMPV                       IMPT 00000000   4628 
_BRK1_CAL_DN_ACC                          IMPT 00000000   3414 
_BRK1_CHKDLY_TM                           IMPT 00000000   3402 
_BRK1_GEN_PV_ACCTM                        IMPT 00000000   3410 
_BRK1_GEN_PV_DLYTM                        IMPT 00000000   3409 
_BRK1_GEN_SV_ACCTM                        IMPT 00000000   3408 
_BRK1_GEN_SV_DLYTM                        IMPT 00000000   3407 
_BRK1_GEN_SV_FRQ1                         IMPT 00000000   3405 
_BRK1_GEN_SV_FRQ2                         IMPT 00000000   3406 
_BRK1_SV_DN_ACC                           IMPT 00000000   3413 30821 30853 
_BRK2_CHKDLY_TM                           IMPT 00000000   3403 
_BRK2_SV_DN_ACC                           IMPT 00000000   3415 30059 30889 
_BRKTST_AREA_SIG                          IMPT 00000000   4152 
_BRKTST_BAKUP_FLG_PV1                     IMPT 00000000   4162 
_BRKTST_BAKUP_FLG_PV2                     IMPT 00000000   4163 
_BRKTST_BAKUP_FLG_SV1                     IMPT 00000000   4160 
_BRKTST_BAKUP_FLG_SV2                     IMPT 00000000   4161 
_BRKTST_CHKSPD_PLS                        IMPT 00000000   4142 
_BRKTST_CLNK_UP_POS_DN                    IMPT 00000000   4155 
_BRKTST_CLNK_UP_POS_UP                    IMPT 00000000   4154 
_BRKTST_INPUT_CMD                         IMPT 00000000   4145 24741 24874 25061 
_BRKTST_LINK_UP_POS_DN                    IMPT 00000000   4157 
_BRKTST_LINK_UP_POS_UP                    IMPT 00000000   4156 
_BRKTST_MOD_FLG                           IMPT 00000000   4140 10024 
_BRKTST_OBJ_MAKE                 P             000071B8  33064 33232*
_BRKTST_OUTSPD_PLS                        IMPT 00000000   4141 33288 
_BRKTST_POS_CTL                  P             00006F38  10031 32804*
_BRKTST_POS_START                P        EXPT 00007090  32801 33050*
_BRKTST_STP_ABSPLS                        IMPT 00000000   4149 33353 
_BRKTST_STR_FLG                           IMPT 00000000   4150 33187 
_BRKTST_SW_IN                             IMPT 00000000   4151  9156 
_BRK_CHK_COM                              IMPT 00000000   3399 
_BRK_CHK_FLG                              IMPT 00000000   3400 
_BRK_ERR_CHK_START4                       IMPT 00000000   6159 11684 
_BRK_ERR_WORK_CLR1                        IMPT 00000000   6155 10489 12706 14069 15521 27590 32912 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   625

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_BTTN_FLG                                 IMPT 00000000   2551 16004 16164 31464 
_BTTN_ON_TIME                             IMPT 00000000   3691 
_BVLV_CTL_FLG                             IMPT 00000000   4799 
_BVLV_CTL_ON                              IMPT 00000000   4800 
_BVLV_START_IN                            IMPT 00000000   4803 
_CALC_FULCLS_MXPLS                        IMPT 00000000   3172 21601 22306 
_CALC_MEM_1REV_ML_NROT_ML36               IMPT 00000000   2897 
_CALC_MEM_1REV_MUL_NROT                   IMPT 00000000   2896 
_CALC_MISS_FLG1                           IMPT 00000000   3774 28733 28767 28801 
_CALC_PLS_MMIN_H32                        EQU  C0000000   2078* 9765  9774  9808 
_CALC_PLS_MMIN_L32                        EQU  00000001   2079* 9763  9773  9809 
_CALC_PLS_PMAX_H32                        EQU  3FFFFFFF   2074* 9755  9760  9802 
_CALC_PLS_PMAX_L32                        EQU  FFFFFFFF   2075* 9753  9759  9803 
_CALC_ROT_MAX                             EQU  60000000   2070*
_CAM_1STEP_END_SIG1              P             00003BAC  12104 20200*
_CAM_1STEP_END_SIG2              P             00003BD0  12317 20226*
_CAM_CNT_CHG_FLG                          IMPT 00000000   3271 10182 11022 12398 12538 13531 27563 32853 
_CAM_CTL_STEP                             IMPT 00000000   2627 
_CAM_DT_FLG                               EQU  0000000E   2188*
_CAM_INF_D1                               EQU  00000010   2189*
_CAM_INF_D2                               EQU  00000012   2190*
_CAM_NOW_DIG                              IMPT 00000000   3268 
_CAM_OF_DGT                               EQU  0000000C   2187*
_CAM_OF_DIG                               EQU  00000008   2184* 2185 
_CAM_OF_DIR                               EQU  0000000A   2186*
_CAM_OF_STP                               EQU  00000006   2183*
_CAM_OF_TIM                               EQU  00000008   2185*
_CAM_OLD_DIG                              IMPT 00000000   3269 
_CAM_ON_DIG                               EQU  00000002   2181*
_CAM_ON_DIR                               EQU  00000004   2182*
_CAM_ON_STP                               EQU  00000000   2180*
_CAM_OUTPUT_DT                            IMPT 00000000   3262 
_CAM_OUTPUT_SW                            IMPT 00000000   3260 
_CAM_POS_CTL_STEP                         IMPT 00000000   3270 
_CAM_POS_STEP_END_FLG1                    IMPT 00000000   3027 20210 
_CAM_POS_STEP_END_FLG2                    IMPT 00000000   3028 20236 
_CAM_SELECT_SW                            IMPT 00000000   3261 
_CAM_START_FLG                            IMPT 00000000   3263 
_CAM_START_MODE                           IMPT 00000000   3264 
_CAM_STEP_MAX                             IMPT 00000000   3267 
_CAM_STEP_NO                              IMPT 00000000   3265 
_CAM_STEP_NO_OLD                          IMPT 00000000   3266 
_CAM_STRCUT                               EQU  00000014   2179*
_CBSTS_LOAD_FLG                           IMPT 00000000   4562 
_CBSTS_SAVE_CMDWK                         IMPT 00000000   4570 
_CBSTS_SAVE_DAT                           IMPT 00000000   4579 
_CB_BAKUP_CMD1                            EQU  00005678    114*
_CB_BAKUP_CMD2                            EQU  00001234    115*
_CB_BAK_SUM_COD1                          EQU  5AA51234    112*
_CB_BAK_SUM_COD2                          EQU  A55A4321    113*
_CB_ERR_INFO_MEM                          EQU  00000080    138*25465 
_CB_ERR_INFO_PSIZE                        EQU  00000008    139*
_CB_INT_START_OK                          IMPT 00000000   2480 
_CB_IN_HANYO                              IMPT 00000000   4838 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   626

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CB_SEQ_CB_COM340                         IMPT 00000000   3013 12137 
_CB_SEQ_CB_COM345                         IMPT 00000000   3016 
_CB_SEQ_CB_COM345X                        IMPT 00000000   5433 
_CB_SEQ_CB_COM346                         IMPT 00000000   3017  9845 28852 28894 29188 
_CB_SEQ_CB_COM347                         IMPT 00000000   3018 
_CB_SEQ_CB_COM348                         IMPT 00000000   3019 
_CB_SEQ_CB_COM349                         IMPT 00000000   3020  8641  9136 23486 32146 
_CB_SEQ_CB_COM350                         IMPT 00000000   3022 
_CB_SEQ_CB_COM351                         IMPT 00000000   3023 24254 
_CB_SEQ_CB_COM352                         IMPT 00000000   3024 
_CB_SEQ_CB_COM356                         IMPT 00000000   5285  8690 
_CB_SEQ_CB_SEL341                         IMPT 00000000   3014  6764  7626  7715  7785  7865 15647 33446 33509 
_CB_SEQ_CB_SEL342                         IMPT 00000000   3015  7707  7777  7858  7961  8070 
_CB_SEQ_SW_SEL022                         IMPT 00000000   3008 
_CB_SEQ_SW_SEL024                         IMPT 00000000   3009 
_CB_SEQ_SW_SEL028                         IMPT 00000000   3010 12494 
_CB_SEQ_SW_SEL029                         IMPT 00000000   3011 
_CB_SEQ_SW_SEL058                         IMPT 00000000   4888 
_CB_STS_BUF_1BLK                          EQU  00000040    117*  119 
_CB_STS_BUF_BLKMAX                        EQU  00000008    118*  119 
_CB_STS_BUF_MAX                           EQU  00000200    119*
_CB_SYS_ACCTBL1_CNT                       IMPT 00000000  35683 36468 
_CB_SYS_ACCTBL1_IN_TOP                    IMPT 00000000  35684 36469 
_CB_SYS_ACCTBL2_CNT                       IMPT 00000000  35685 
_CB_SYS_ACCTBL2_IN_TOP                    IMPT 00000000  35686 
_CB_SYS_ACCTBL3_CNT                       IMPT 00000000  35687 
_CB_SYS_ACCTBL3_IN_TOP                    IMPT 00000000  35688 
_CB_SYS_DNMTBL1_CNT                       IMPT 00000000  35681 
_CB_SYS_DNMTBL1_DATA_TOP                  IMPT 00000000  35682 
_CB_SYS_PARAM000                          IMPT 00000000   6213  7064  7194  7211  7256 14313 16606 16618 16635 21567 22208 22233 
                                                         22417 23428 23701 23710 24085 24157 24205 24263 32016 32076 32153 
_CB_SYS_PARTBL001                         IMPT 00000000  35669 
_CB_SYS_PARTBL002                         IMPT 00000000  35670 
_CB_SYS_PARTBL003                         IMPT 00000000  35671 
_CB_SYS_PARTBL004                         IMPT 00000000  35672 
_CB_SYS_PARTBL005                         IMPT 00000000  35673 
_CB_TIME                                  EQU  0000000A   1997* 2010  2011  2012  2017 
_CB_TRD_BEFORE                            EQU  00000060    127*
_CB_TRD_BUF_DP_MAX                        EQU  00000080    131*
_CB_TRD_BUF_MAX                           EQU  00000800    128*
_CB_TRD_DP_1CNT                           EQU  00000008    130*
_CB_TRD_DP_CH                             EQU  00000004    123*
_CB_TRD_SMP_CNT                           EQU  00000080    126*
_CCS_BTTN_OFF                             IMPT 00000000   3513  6606 33107 
_CGRF_GENSOK_LNG1                         EQU  00000014  26724*
_CGRF_SYNC_ERR                            EQU  00000020  26729*
_CGRF_SYNC_STS                            EQU  0000001E  26728*
_CGRF_iADD_PLS                            EQU  00000010  26723*
_CGRF_iNOW_STEP                           EQU  0000001C  26727*
_CGRF_iSTEP_FRQ                           EQU  00000018  26725*
_CGRF_iSTEP_PV_PLS                        EQU  00000004  26720*
_CGRF_iSTEP_REST                          EQU  00000008  26721*
_CGRF_iSTEP_SV_PLS                        EQU  00000000  26719*
_CGRF_iSTEP_TIM                           EQU  0000001A  26726*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   627

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CGRF_iTOTAL_PLS                          EQU  0000000C  26722*
_CGRF_yADD_PLS                            EQU  00000034  26735*
_CGRF_yNOW_STEP                           EQU  0000003E  26738*
_CGRF_ySTEP_FRQ                           EQU  00000038  26736*
_CGRF_ySTEP_PV_PLS                        EQU  00000028  26732*
_CGRF_ySTEP_REST                          EQU  0000002C  26733*
_CGRF_ySTEP_SV_PLS                        EQU  00000024  26731*
_CGRF_ySTEP_TIM                           EQU  0000003C  26737*
_CGRF_yTOTAL_PLS                          EQU  00000030  26734*
_CHG_LSI_LATE_TO_PLS             P        EXPT 00006724   6272 24177 24225 24297 30930*
_CHG_STEP_INFO_MAKE_1STEP_END    P             000053B0  25815 25859*
_CHG_STEP_INFO_MAKE_2STEP_END    P             00005428  25830 25945*
_CHG_STEP_INFO_MAKE_ESTEP_AFTER  P             000052F8  25708*27595 
_CHG_STEP_INFO_MAKE_ESTEP_BEFOR  P             00005280  25621*27427 
_CHG_STEP_INFO_MAKE_STEP_DAT     P             000051DC  13540 25503*27431 27599 
_CHG_STEP_INFO_MAKE_STEP_END     P             00005370  13536 25798*
_CHKPOSANSDIG                             IMPT 00000000   4733 
_CHKPOSWORK1                              IMPT 00000000   4720 
_CHKPOSWORK2                              IMPT 00000000   4721 
_CHKPOSWORKANS                            IMPT 00000000   4726 
_CHKSPDANSPER                             IMPT 00000000   4725 
_CHKSPDPERWORK1                           IMPT 00000000   4728 
_CHKSPDPERWORK2                           IMPT 00000000   4729 
_CHKSPDPOSINFO                            IMPT 00000000   4731 
_CHKSPDPOSOFS                             IMPT 00000000   4732 
_CHKSPDWORK1                              IMPT 00000000   4718 
_CHKSPDWORK2                              IMPT 00000000   4719 
_CHKSPDWORKANS                            IMPT 00000000   4722 
_CHKSPDWORKTMAX                           IMPT 00000000   4724 
_CHKSPDWORKVMAX                           IMPT 00000000   4723 
_CHK_ADD_DATA_LATCH                       IMPT 00000000   4251 24535 24540 24945 25476 
_CHK_CLK_SIG                              IMPT 00000000   4764 
_CHK_DNM_SPEC_MOD1                        IMPT 00000000   6086 10079 30723 35765 
_CHK_LSI_LOAD_OUT_CNT                     IMPT 00000000   4000 19880 
_CHK_LSI_LOAD_POS_CNT                     IMPT 00000000   3999 
_CHK_OBJECT_TIM_TOP                       IMPT 00000000   3216 
_CLS_INC_MOST_DOWN_PLS                    IMPT 00000000   2763 20329 20369 
_CLS_KJYU_PLS_CHANGE             P             0000481A  23176*23354 
_CLS_POS_LENGTH_ADD_DATA         P             00004628  22726*22990 
_CLS_RNA_MOST_DOWN_POS                    IMPT 00000000   2762 20324 20359 
_CMP2_ACC_NG_CNT                          IMPT 00000000   3580 26313 
_CMP2_ACC_TOTAL_NG_CNT                    IMPT 00000000   3574 
_CMP2_BAS_NG_CNT                          IMPT 00000000   3577 26304 
_CMP2_BAS_TOTAL_NG_CNT                    IMPT 00000000   3571 
_CMP2_LAT_NG_CNT                          IMPT 00000000   3579 26310 
_CMP2_LAT_TOTAL_NG_CNT                    IMPT 00000000   3573 
_CMP2_NOW_NG_CNT                          IMPT 00000000   3581 26316 
_CMP2_NOW_TOTAL_NG_CNT                    IMPT 00000000   3575 
_CMP2_TOP_NG_CNT                          IMPT 00000000   3578 26307 
_CMP2_TOP_TOTAL_NG_CNT                    IMPT 00000000   3572 
_CMPAB_NEAR_END_PROC                      IMPT 00000000   6133 11962 21462 21665 
_CMPAB_STEP_END_PROC                      IMPT 00000000   6134 12288 14382 14554 
_CMPCYC_END_CLR                           IMPT 00000000   6144 
_CMPCYC_START_CLR                         IMPT 00000000   6143  6619 27570 33120 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   628

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CMPEMG_EXQ_FLG_CLR                       IMPT 00000000   6146 
_CMPSTEP_CNT_STOP                         IMPT 00000000   2671 
_CMPSTEP_CTRL_BUSY                        IMPT 00000000   2667 
_CMPSTEP_CTRL_REDY                        IMPT 00000000   2666 
_CMPSTEP_NEAR_ZERO                        IMPT 00000000   2670 
_CMPSTEP_POS_START                        IMPT 00000000   2668 
_CMPSTEP_SFTY_AUTO                        IMPT 00000000   2669 
_CMPSTEP_STEP_END                         IMPT 00000000   2672 12233 32482 32527 
_CMPSTP_CNT_STOP_CLR                      IMPT 00000000   6141  6623 33124 
_CMPSTP_CTRL_BUSY_CLR                     IMPT 00000000   6137 
_CMPSTP_CTRL_REDY_CLR                     IMPT 00000000   6136 
_CMPSTP_NEAR_ZERO_CLR                     IMPT 00000000   6140 12009 
_CMPSTP_POS_START_CLR                     IMPT 00000000   6138 
_CMPSTP_SFTY_AUTO_CLR                     IMPT 00000000   6139 
_CMPSTP_STEP_END_CLR                      IMPT 00000000   6142 12309 14398 14570 
_CMP_BRK2_CTLGENSOK              P        EXPT 00006360  30007 30021*
_CMP_CNT_CTLGENSOK               P             000062EC  28328 29936*
_CMP_ERR_CHK_STSA                         IMPT 00000000   2880 
_CMP_ERR_CHK_STSB                         IMPT 00000000   2881 
_CMP_ERR_STEP_A                           IMPT 00000000   2886 
_CMP_ERR_STEP_B                           IMPT 00000000   2887 
_CMP_ERR_STSA_INF1                        IMPT 00000000   2882 
_CMP_ERR_STSA_INF2                        IMPT 00000000   2883 
_CMP_ERR_STSA_INF3                        IMPT 00000000   2884 
_CMP_ERR_STSA_INF4                        IMPT 00000000   2885 
_CMP_ERR_STS_REF                 P             00003CC8  20412*
_CMP_ERR_TIM1                             IMPT 00000000   2583 
_CMP_HOLD_CTLGENSOK              P        EXPT 000063BC  30093 30094*
_CMP_LNGTH_AD_ERR_CNT                     IMPT 00000000   3684 27229 
_CMP_POSLSI_CTLGENSOK            P             00006290  29862*34972 39247 
_CMP_POS_LSI_ACCLT1                       IMPT 00000000   3889 
_CMP_RECOVER_FLG                          IMPT 00000000   3994 28348 
_CMP_RESTP_SR_ERR_CNT                     IMPT 00000000   3685 27232 
_CMP_SPD_REST_PLSCHKCOM          PHiROM        000002DC  29905 29988 30063 30139 35261*
_CMP_STEP_ERR_TIM1                        IMPT 00000000   2585 
_CNTREST_HOS_RESET               P        EXPT 00006B78   6600 31640 31920 31927*33101 
_CNT_BANK_CALC_ERR                        IMPT 00000000   3671 28541 
_CNT_BEF_LOT_SIGCHK              P             00005C00   6984 28094 28200*
_CNT_GPOINT_STOP_TYP2            P             00005C78  27397 28308*
_CNT_GRF_1BLOCK                           EQU  00000040  26718*
_CNT_GRF_I_DATA                           IMPT 00000000   5426 
_CNT_GRF_MAX                              EQU  000000C8  26716*
_CNT_GRF_POINT                            IMPT 00000000   5428 26404 
_CNT_GRF_Y_DATA                           IMPT 00000000   5427 
_CNT_HOSEI_CHK_CALC              P             00006A18  10904 31611*
_CNT_HOS_DT_MAK                  P             000056E0  26571*
_CNT_NEAR_TIM_CHK                P             00001CE8  13019*
_CNT_PLSOUT_STOP_CNT                      IMPT 00000000   3938 11861 26498 
_CNT_REST_CHK_CLR                P             00005658  26321 26466*
_CNT_REST_HOSEI_SPD_TYP          P             00006B58  31900*34758 
_CNT_REST_SPD_HOSEI_DAT                   IMPT 00000000   3677 31869 31873 31909 31936 
_CNT_REST_SPD_HOSEI_FLG                   IMPT 00000000   3678 31867 31904 31933 
_CNT_SPD_SET                     P             00005ABC  27511 27827 27923*
_CNT_STOP_CMD                             IMPT 00000000   2506 31472 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   629

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CNT_STOP_CMD_BEF1                        IMPT 00000000   4388 28205 
_CNT_STOP_CMD_DATA_SUB1          P             00005D88  28265 28410 28581*
_CNT_STOP_CMD_DATA_SUB2          P             00005DE0  28414 28641*
_CNT_STOP_CTRL_FLG                        IMPT 00000000   3658  6596 27332 27389 28238 28275 28420 33097 
_CNT_STOP_DBG_CNT                         IMPT 00000000   5341 
_CNT_STOP_LNGTH                           IMPT 00000000   3664 
_CNT_STOP_WAIT_TIM                        IMPT 00000000   5340 12240 12284 
_CNT_SUB_DATA_CALC               P             00005D28  28253 28319 28501*
_CNT_SYNC_CHK_CNT1                        IMPT 00000000   3953 
_CNT_SYNC_CHK_CNT2                        IMPT 00000000   3954 26488 31858 
_CNT_SYNC_ERR_FLG                         IMPT 00000000   3936 26495 
_CNT_SYNC_HOS_CALC               P             000056E8  26588*
_CNT_SYNC_HOS_CNT1                        IMPT 00000000   3955 26501 
_CNT_SYNC_HOS_DAT1                        IMPT 00000000   3950 26479 31875 
_CNT_SYNC_HOS_DAT2                        IMPT 00000000   3951 26482 31721 
_CNT_SYNC_HOS_FLAG                        IMPT 00000000   3952 26485 26544 
_CNT_SYNC_HOS_SPD_TYP            P             00006A7C  31664 31716*
_CNT_SYNC_STS_FLG                         IMPT 00000000   3937 26492 
_CNT_VMODE_NEXT_CYCL_START       P             00005880  27373 27422*
_CONT_MOD_CNT_PV                          IMPT 00000000   3084 
_CONT_MOD_TIM_PV                          IMPT 00000000   3086 
_CONT_STOP_END_SUBPLS                     IMPT 00000000   3670 28354 28547 28586 28645 29945 
_COP_CB_LD_MONI_SIG                       IMPT 00000000   3331 
_COP_DIG_SIG_FLG                          IMPT 00000000   3330 
_COP_OLD_ENC3600                          IMPT 00000000   3349 
_CPOS_ABS_POS_SET                         IMPT 00000000   6097 13330 28149 
_CPOS_BANK_USELFUL                        IMPT 00000000   3657 10324 11772 11807 12589 28005 28053 
_CPOS_CTL_MATH                            IMPT 00000000   2747  6490  7098 10299 11653 12583 12965 13155 13211 13303 13446 15712 
                                                         19560 19632 24734 24866 25054 28126 
_CPOS_DND_DIGTOP                          IMPT 00000000   3766 14720 14730 14754 14764 
_CPOS_DND_PLSTOP                          IMPT 00000000   3767 14872 14884 
_CPOS_DND_STOP_DIRECTOLD                  IMPT 00000000   3765 14658 14689 
_CPOS_DND_STOP_SW                         IMPT 00000000   3763  7431 14502 14577 14646 14682 14849 
_CPOS_DND_STOP_SWOLD                      IMPT 00000000   3764 14648 14684 
_CPOS_FULCLS_MATEHD_SW                    IMPT 00000000   4823 23889 
_CPOS_INI1_DTMOV1                         IMPT 00000000   6094  6568 
_CPOS_INI1_DTMOV2                         IMPT 00000000   6095  6876 32371 
_CPOS_KJYUCLS_OBJ                         IMPT 00000000   4825 23896 
_CPOS_MOD_FLG1                            IMPT 00000000   2746 12256 27313 27349 27503 31633 
_CPOS_ROT_NUM_SET                         IMPT 00000000   6096 13323 28074 28142 
_CPOS_SDAT1_CHGAPOS                       IMPT 00000000   2744 13420 23060 32736 
_CPOS_SDAT1_CHGAPOS2                      IMPT 00000000   3659 
_CPOS_SDAT1_CNTSTEP                       IMPT 00000000   2741 12387 23107 23238 27256 27876 
_CPOS_SDAT1_INF1                          IMPT 00000000   2742 11207 13429 22854 
_CPOS_SDAT1_NUM                           IMPT 00000000   2743 
_CPOS_SDAT1_OFSPOS                        IMPT 00000000   2738 13137 
_CPOS_SDAT1_SPD                           IMPT 00000000   2739 11090 11172 11430 13520 27931 
_CPOS_SDAT1_STPAPOS                       IMPT 00000000   2745 11108 11196 11447 27275 27692 27766 27804 28508 
_CPOS_SDAT1_STPAPOS2                      IMPT 00000000   3660 27697 27771 27808 
_CPOS_SDAT1_TIM                           IMPT 00000000   2740 12028 23816 
_CPOS_SDAT1_UP_OFSPOS                     IMPT 00000000   2766 
_CPOS_SDAT1_UP_POS                        IMPT 00000000   2767 32717 
_CPOS_SPD_DTMOV                           IMPT 00000000   6098 13336 28162 
_CPOS_STEP_MAX                            IMPT 00000000   2748 11313 12059 12389 13490 21400 23286 23877 27258 27878 28506 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   630

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPOS_TIM_DTMOV                           IMPT 00000000   6099 13341 28167 
_CPOS_UPAREA_PLS                          IMPT 00000000   2761 13130 
_CPUABD_WDTOK_FLG                         IMPT 00000000   5064 
_CPUA_PLS_OUTF                            IMPT 00000000  20429 
_CPUBX_MEM1_BUF                           IMPT 00000000   5442 
_CPUBX_MEM1_ENDFLG                        IMPT 00000000   5441 
_CPUBX_MEM1_RCVFLG                        IMPT 00000000   5440 
_CPUBX_MEM1_SNDEVN                        IMPT 00000000   5451 
_CPUBX_MEM1_SNDFLG                        IMPT 00000000   5453 
_CPUBX_MEM1_SNDKND                        IMPT 00000000   5452 
_CPUBX_SEND_MAXCNT                        IMPT 00000000   5448 
_CPUBX_SEND_NOWCNT                        IMPT 00000000   5449 
_CPUBX_SEND_TOPADR                        IMPT 00000000   5447 
_CPUB_GET_CPUA_OBJPOS            P             000061C8  29555 29597*
_CPUB_HENSA_FLG_CLR                       IMPT 00000000   6479  6516 13547 21823 21934 21987 22076 
_CPUB_PARAM_ERR_NO                        IMPT 00000000   5162 
_CPUB_PLS_OUTF                            IMPT 00000000  20430 20455 
_CPUC_PARAM_ERR_NO                        IMPT 00000000   5161 
_CPUDX_MEM1_ENDFLG                        IMPT 00000000   5444 
_CPUDX_MEM1_RCVFLG                        IMPT 00000000   5443 
_CPUD_CHK_OLDCNT                          IMPT 00000000   5055 
_CPUD_CHK_TIME                            IMPT 00000000   5056 
_CPUX_PARAM_SEND_FLG                      IMPT 00000000   5151 
_CPUX_PARAM_SEND_NO                       IMPT 00000000   5152 
_CPU_AB_BSY_OF_JG                         IMPT 00000000   5519 
_CPU_AB_BSY_OF_OUT                        IMPT 00000000   5515 
_CPU_AB_BSY_ON_OUT                        IMPT 00000000   5517 
_CPU_AB_CED_OF_JG                         IMPT 00000000   5582 
_CPU_AB_CED_OF_OUT                        IMPT 00000000   5578 
_CPU_AB_CED_ON_OUT                        IMPT 00000000   5580 
_CPU_AB_CST_OF_JG                         IMPT 00000000   5571 
_CPU_AB_CST_OF_OUT1                       IMPT 00000000   5565 
_CPU_AB_CST_OF_OUT2                       IMPT 00000000   5566 
_CPU_AB_CST_ON_OUT1                       IMPT 00000000   5568 
_CPU_AB_CST_ON_OUT2                       IMPT 00000000   5569 27436 
_CPU_AB_DRVHLDSTOP_OF_OUT                 IMPT 00000000   5597 
_CPU_AB_DRVHLDSTOP_ON_OUT                 IMPT 00000000   5596 
_CPU_AB_DRVSTOP_OF_OUT                    IMPT 00000000   5537 
_CPU_AB_DRVSTOP_ON_OUT                    IMPT 00000000   5538 
_CPU_AB_NZR_OF_JG                         IMPT 00000000   5557 
_CPU_AB_NZR_OF_OUT                        IMPT 00000000   5553 
_CPU_AB_NZR_ON_OUT                        IMPT 00000000   5555 
_CPU_AB_RDY_OF_JG                         IMPT 00000000   5508 
_CPU_AB_RDY_OF_OUT                        IMPT 00000000   5504 
_CPU_AB_RDY_ON_OUT                        IMPT 00000000   5506 
_CPU_AB_STR_OF_JG                         IMPT 00000000   5530 
_CPU_AB_STR_OF_OUT                        IMPT 00000000   5526 
_CPU_AB_STR_ON_OUT                        IMPT 00000000   5528 
_CPU_BA_BSY_OF_OUT                        IMPT 00000000   5516 
_CPU_BA_BSY_ON_JG                         IMPT 00000000   5518 
_CPU_BA_CED_OF_OUT                        IMPT 00000000   5579 
_CPU_BA_CED_ON_JG                         IMPT 00000000   5581 
_CPU_BA_CST_OF_OUT                        IMPT 00000000   5567 
_CPU_BA_CST_ON_JG                         IMPT 00000000   5570 28340 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   631

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_CPU_BA_DRVHLDSTOP_OF_JG                  IMPT 00000000   5599 
_CPU_BA_DRVHLDSTOP_ON_JG                  IMPT 00000000   5598 
_CPU_BA_DRVSTOP_OF_OUT                    IMPT 00000000   5540 
_CPU_BA_DRVSTOP_ON_JG                     IMPT 00000000   5539 
_CPU_BA_NZR_OF_OUT                        IMPT 00000000   5554 
_CPU_BA_NZR_ON_JG                         IMPT 00000000   5556 11879 21443 22690 
_CPU_BA_RDY_OF_OUT                        IMPT 00000000   5505 
_CPU_BA_RDY_ON_JG                         IMPT 00000000   5507 
_CPU_BA_STEP_LOAD                         IMPT 00000000   5589 
_CPU_BA_STR_OF_OUT                        IMPT 00000000   5527 
_CPU_BA_STR_ON_JG                         IMPT 00000000   5529 
_CPU_CTRL_CLK                             IMPT 00000000   6083 25561 25668 25755 25906 25992 
_CPU_SV_HAND_IN                           IMPT 00000000   2508 
_CPU_SV_HAND_IN_ON                        IMPT 00000000   2509 
_CPU_SV_HAND_OUT                          IMPT 00000000   2511 
_CPUy_RESTPLS_LTFLG                       IMPT 00000000   3956 26230 26504 
_CTL_ENC360                               IMPT 00000000   2520  7621 33237 
_CTL_ENC360_OLD                           IMPT 00000000   4040 
_CYCLE_SPD1                               IMPT 00000000   6282 16643 32156 
_CYCLE_SPD_CMP_FLG1                       IMPT 00000000   4298 
_CYCLE_SPD_CMP_PV_DAT                     IMPT 00000000   4299 
_CYCLE_TIME_DAT                           IMPT 00000000   3000 
_CYCLE_TIME_FLG                           IMPT 00000000   3002 
_CYCLE_TIME_PV                            IMPT 00000000   3001 
_CYCLE_TIME_REFLASH_CLR                   IMPT 00000000   6118 
_CYCLE_TIME_REFLASH_END                   IMPT 00000000   6117 19627 
_CYCLE_TIME_REFLASH_START                 IMPT 00000000   6116 19576 
_CYCL_DOWN_POS_REF               P             000039DC  19668 19705*
_CYCL_DSP_CNT_PV                          IMPT 00000000   3465 19738 
_CYCL_DSP_DISENB                          IMPT 00000000   3464 
_CYCL_START_CNT                           IMPT 00000000   2764 20309 
_CYC_END_POS_FLG_CLR             P        EXPT 0000304C  10610 17005 17207 17208*
_CYC_END_POS_FLG_SET             P             00003060  10606 17235*
_DAIHAI_CALC_WORK1                        IMPT 00000000   4339 
_DAIHAI_CALC_WORK10                       IMPT 00000000   4348 
_DAIHAI_CALC_WORK11                       IMPT 00000000   4350 
_DAIHAI_CALC_WORK12                       IMPT 00000000   4351 
_DAIHAI_CALC_WORK13X                      IMPT 00000000   4352 
_DAIHAI_CALC_WORK2                        IMPT 00000000   4340 
_DAIHAI_CALC_WORK3                        IMPT 00000000   4341 
_DAIHAI_CALC_WORK4                        IMPT 00000000   4342 
_DAIHAI_CALC_WORK5                        IMPT 00000000   4343 
_DAIHAI_CALC_WORK6                        IMPT 00000000   4344 
_DAIHAI_CALC_WORK7X                       IMPT 00000000   4345 
_DAIHAI_CALC_WORK8                        IMPT 00000000   4346 
_DAIHAI_CALC_WORK9X                       IMPT 00000000   4347 
_DAI_CMP_SMPSTART                         IMPT 00000000   2944 
_DAI_FULL_SCALE_SMPLE                     IMPT 00000000   6128  7104 
_DAI_FULL_SCALE_SMP_END                   IMPT 00000000   6129 19640 
_DAI_FULL_SCALE_SMP_INI                   IMPT 00000000   6127 19569 
_DAI_HOSEI1_FLG                           IMPT 00000000   2934 
_DAI_MOSTPOS_CMPARE                       IMPT 00000000   6125 19644 
_DAI_MOSTPOS_SMPINI                       IMPT 00000000   6123 19546 33134 
_DAI_MOSTPOS_SMPLE                        IMPT 00000000   6124 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   632

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DATA_CMP2B_R5R6_REF                      IMPT 00000000  35437 35858 35869 
_DATA_GRF_CNT_DATA_MAKE          P        EXPT 00005710  25572 26782 26784*
_DAT_MOSTPOS_SIG_CLR                      IMPT 00000000   6122 
_DBG_ATO_DRV_START_FLG                    IMPT 00000000   5085 
_DBG_ATO_DRV_TIME_PV                      IMPT 00000000   5086 
_DBG_ATO_DRV_TIME_PV2                     IMPT 00000000   5091 
_DBG_ATO_DRV_TIME_SV                      IMPT 00000000   5087 
_DBG_ATO_DRV_TIME_SV2                     IMPT 00000000   5092 
_DBG_CNT_GPOSINT                          IMPT 00000000   3595 
_DBG_CNT_STOP_CNT                         IMPT 00000000   3589 
_DBG_CNT_STOP_FLG                         IMPT 00000000   3588 
_DBG_CNT_STOP_SPC                         IMPT 00000000   3590 
_DBG_DNM_CLR_CNT                          IMPT 00000000   5324 32211 
_DBG_DNM_END_CNT                          IMPT 00000000   5323 32282 
_DBG_DNM_STR_CNT                          IMPT 00000000   5322 32344 
_DBG_REVMOD_CTLPLS                        IMPT 00000000   3229 23325 
_DBG_REVMOD_DNPLS                         IMPT 00000000   3231 22628 
_DBG_REVMOD_OBJPLS                        IMPT 00000000   3228 23306 
_DBG_REVMOD_UPPLS                         IMPT 00000000   3230 22626 
_DBG_STEP12_CHG_DIG                       IMPT 00000000   3598 
_DBG_STEP12_CHG_POS                       IMPT 00000000   3602 
_DBG_STEP12_CHG_RSTP                      IMPT 00000000   3610 
_DBG_STEP12_CHG_SPD                       IMPT 00000000   3606 
_DBG_STEP12_CHG_TIM                       IMPT 00000000   3592 
_DBG_STEP23_CHG_DIG                       IMPT 00000000   3599 
_DBG_STEP23_CHG_POS                       IMPT 00000000   3603 
_DBG_STEP23_CHG_RSTP                      IMPT 00000000   3611 
_DBG_STEP23_CHG_SPD                       IMPT 00000000   3607 
_DBG_STEP23_CHG_TIM                       IMPT 00000000   3593 
_DBG_STEPCD_CHG_DIG                       IMPT 00000000   3600 
_DBG_STEPCD_CHG_GPS                       IMPT 00000000   3614 
_DBG_STEPCD_CHG_POS                       IMPT 00000000   3604 
_DBG_STEPCD_CHG_RSTP                      IMPT 00000000   3612 
_DBG_STEPCD_CHG_SPD                       IMPT 00000000   3608 
_DBG_STEPCD_CHG_TIM                       IMPT 00000000   3594 
_DBG_XOR_SIG                              EQU  00080000   6066*18370 
_DEBUG_BRK_POINT1                P             00001C44  12813*32624 
_DEBUG_BRK_POINT2                P             00001C6C  12364 12859*
_DEBUG_BRK_POINT3                P             00001C94  12905*
_DEBUG_ENC360_STS                         IMPT 00000000   4652 
_DEBUG_ENC360_STS2                        IMPT 00000000   4653 
_DEBUG_MOD_CODE                           IMPT 00000000   5083 
_DEBUG_SIGNAL_OFF                P        EXPT 00005708  26664 26666*
_DEF_DAI_POS_PV                           IMPT 00000000   2973 
_DELT_POS_SPD_CHG1               P             00003F34  20910 20960 21066*
_DELT_POS_SPD_CLR                P             00003FE8  21005 21098 21207*
_DG_PS_INF_CHK1                           EQU  00000000   2197*
_DG_PS_INF_CHK2                           EQU  0000003C   2202*
_DG_PS_INF_CONT                           EQU  00000004   2198*
_DG_PS_INF_LATE                           EQU  00000010   2201*
_DG_PS_INF_STLK                           EQU  0000000C   2200*
_DG_PS_INF_UNIT                           EQU  00000008   2199*
_DIG01_CHG_DN_DATA_MAKE                   IMPT 00000000   6275 32448 
_DIG36000_CHG_RENEA1                      IMPT 00000000   6277 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   633

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DIG_AREA_CHK0                            IMPT 00000000   5621  9654 
_DIG_AREA_CHK1                            IMPT 00000000   5622 15889 15905 
_DIG_LNGTH_CALC1                          IMPT 00000000   6105 
_DIR_FLG                                  IMPT 00000000   4052 
_DISP_ENC360                              IMPT 00000000   2524 
_DISP_RE_VIEW_FLG                         IMPT 00000000   3003 19620 
_DISP_SV_DG_DAT                           IMPT 00000000   3315 
_DISP_SV_MM_DAT                           IMPT 00000000   3316 
_DIVS_32REG2_32REG1_R4_32REG2_R2          IMPT 00000000   5604 
_DIVS_64R1R2_32R4_32R2                    IMPT 00000000   5605 
_DIVS_64R1R2_32R4_64R1R2                  IMPT 00000000   5618 
_DIVU_64R1R2_32R4_32R2                    IMPT 00000000   5606 
_DIVU_64R1R2_32R4_64R1R2                  IMPT 00000000   5619 
_DMATH_CNTROT                             EQU  00000001   2029* 7100 10301 11655 12585 12967 13157 13305 13448 15715 19563 19635 
                                                         24736 24869 25056 28128 
_DMATH_DNDRIV                             EQU  00000004   2031* 6492  7100  9876 10301 11655 12967 13213 13448 15715 19563 19635 
                                                         20029 24869 32066 32294 32356 32420 
_DMATH_REVRSE                             EQU  00000002   2030* 7439  7535 13623 
_DMATH_UPDRIV                             EQU  00000008   2032*
_DNDINC_CTRL_STEP                         IMPT 00000000   3762 14575 14640 14696 14812 14823 14866 17022 
_DNDINC_DIRECT_MAKE1             P             000004E8   7503  7573  7617*
_DNDINC_MAKE_OBJPOS              P             000025B8   7511 14844*
_DNDINC_SPD_SET                  P             0000085C   7517  7584  8620*15418 
_DNDINC_STEP_MAKE                P             00002484   7507 14636*
_DNDUPS_CLEEP_SPD_SET            P             000003C4   7381*13839 13900 13968 14018 
_DNDUPS_SPD_SET                  P             000003AC   6857  7361* 9907 14035 
_DND_1STEP_DATA_MAK1             P             000015FC  10437 11534*14431 32868 
_DND_ALL_STEP_CTRL               P             00001F44  10669 13590*
_DND_AREA_HIS                             EQU  00000014  14635*14719 14753 
_DND_CALC_WORK                            IMPT 00000000   2790 
_DND_LNKPLS_OBJMAK1              P             00000700   7486  7554  8276*14422 
_DND_LNK_STEP_CHECK0             P             00000514   7464  7550  7701*
_DND_LNK_STEP_CHECK2             P             000005A0   7481  7847*
_DND_NEG_AREA_JUDE1              P             0000069C   7873  8181*
_DND_NEG_AREA_JUDE2              P             000006D0   7893  8227*
_DND_NEG_LNK_STEP_CHANGE0        P             00000558   7770*14418 
_DND_NEG_LNK_STEP_CHANGE2        P             00000608   7955*14287 
_DND_NEG_START_FLG_CLR           P             00000648   7453  7546  8022*17064 
_DND_NEG_STEP_CTRL               P             000022B0  13629 14221*
_DND_NEG_STOP_SVCHK              P             0000065C   7449  7542  8056*14276 
_DND_ORGIN_SIG_FORCE_ON          P             00002274  14115 14158*
_DND_OVERCHK_DIG                          IMPT 00000000   4252 
_DND_POS_START_DAT_INI                    IMPT 00000000   6169  6572 
_DND_ROT_STEP_CTRL               P             000023DC  13643 14497*
_DND_SPD_SEQ_SET                 P             00000894   8636  8682*
_DND_TEP_STEP_CTRL               P             00002704  13607 15161*
_DNMODE_ENDWAIT_TIM_CHK          P             00006C1C  11936 32104*
_DNMODE_ENDWAIT_TIM_SET          P             00006BE4  11721 32059*
_DNM_ACC_CALC                    PHiROM   EXPT 00000BB0  35436 37450 37565*
_DNM_ACC_CALFLG                           IMPT 00000000   4222 34835 35790 39129 39222 39316 
_DNM_ACC_OVER_PLS_MAK            PHiROM        00000C88  37571 37714*
_DNM_ACC_OVER_SPD_MAK            PHiROM        00000D60  37644 37855*
_DNM_AUTO_UP_DN_CALC             PHiROM        00001358  39232 39329 39460*
_DNM_CTL_INC3600                          IMPT 00000000   4090 32453 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   634

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DNM_CYCLE_END                   P        EXPT 00006CC8  10619 12526 32266 32271*
_DNM_CYCLE_START                 P             00006D0C   6563 12532 32334*
_DNM_DATA_CLR                    P             00006C88  17036 32201*
_DNM_DATA_REV_SET                P        EXPT 00006CB4  32240 32247*
_DNM_DEBUG_CNT                            IMPT 00000000   4693 
_DNM_DEBUG_STS1                           IMPT 00000000   4692 11729 11855 11956 11981 12511 12516 20079 
_DNM_DIR_CHG_FLG                          IMPT 00000000   4088 
_DNM_DIR_CHG_TIM                          IMPT 00000000   4089 
_DNM_DIR_FLG_INC_LATCH                    IMPT 00000000   5049 10935 32309 32366 
_DNM_DIR_FLG_OLD                          IMPT 00000000   4128 
_DNM_DIR_NOW_FLG                          IMPT 00000000   4086 13217 32223 32298 32362 32388 32430 
_DNM_DIR_SAM_FLG                          IMPT 00000000   4087 32437 32441 
_DNM_DIR_SET_FLG                          IMPT 00000000   4085 32221 32252 32305 32360 
_DNM_MATH_ELSE_DAT_MAKE          P        EXPT 00006D64  32404 32411*
_DNM_MAXSPM_ACCLAT_MAK                    IMPT 00000000  35657 
_DNM_MAX_GENSOK_LENGTH                    IMPT 00000000   4741 
_DNM_MOTION_DATA_MAK             PHiROM        000003E0  35773 35847*
_DNM_PLS_LSICTL_CALC             PHiROM        000011A4  34840 39118*
_DNM_RESET_AREA                           IMPT 00000000   5004 
_DNM_RST_SPEC_AREASIG                     IMPT 00000000   5314 
_DNM_SET1_OBJECT_DIG_TOP                  IMPT 00000000   4084 
_DNM_SET1_OBJECT_PLS_TOP                  IMPT 00000000   4082 
_DNM_SET1_UPAREA_DIG0                     IMPT 00000000   4083 
_DNM_SET1_UPAREA_PLS0                     IMPT 00000000   4081 
_DNM_SETX_HOLD_CMP1_DEG                   IMPT 00000000   4457 
_DNM_SETX_LINK_UP_POS_DN                  IMPT 00000000   4098 
_DNM_SETX_LINK_UP_POS_UP                  IMPT 00000000   4097 
_DNM_SETX_MOTREP_DIR                      IMPT 00000000   5029 
_DNM_SETX_UPAREA_DIG                      IMPT 00000000   4093 
_DNM_SETX_UPAREA_PLS                      IMPT 00000000   4092  9599 
_DNM_SPD_CALC                    PHiROM   EXPT 00000ACC  35435 37431*39134 
_DNM_START_ACC_CALC              PHiROM   EXPT 00000A32  10478 12701 35432 37309*
_DNM_STEP_ACC_CHANGE             PHiROM   EXPT 00000A70  35433 37348*37445 
_DNM_TBL_CALC                    PHiROM   EXPT 0000039C  35431 35759*
_DNM_WSVX_CLNK_UP_POS                     IMPT 00000000   4094 
_DNM_WSVX_CLNK_UP_POS_DN                  IMPT 00000000   4096 
_DNM_WSVX_CLNK_UP_POS_UP                  IMPT 00000000   4095 
_DPCHK_CPU_ERR_TIM                        IMPT 00000000   5134 
_DPCHK_DI_ERR_TIM                         IMPT 00000000   5143 
_DPCHK_ERR_SIG                            IMPT 00000000   5133 
_DPCHK_WR_COD                             IMPT 00000000   5135 
_DPSQ022                                  EQU  0000002C   2084*
_DPSQ024                                  EQU  00000030   2085*
_DPSQ028                                  EQU  00000038   2086*
_DPSQ029                                  EQU  0000003A   2087*
_DPSQ058                                  EQU  00000074   2088*
_DPSQ287                                  EQU  0000023E   2099*
_DPSQ288                                  EQU  00000240   2100*
_DPSQ340                                  EQU  000002A8   2090*
_DPSQ341                                  EQU  000002AA   2091*
_DPSQ356                                  EQU  000002C8   2092*
_DPSQ358                                  EQU  000002CC   2093*
_DPSQ359                                  EQU  000002CE   2094*
_DPSQ367                                  EQU  000002DE   2095*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   635

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_DPSQ368                                  EQU  000002E0   2096*
_DPSQ369                                  EQU  000002E2   2097*
_DRVHOS_CAL_RNA_POS                       IMPT 00000000   2966 
_DRVHOS_DEF_CNT_PV                        IMPT 00000000   2958 
_DRVHOS_DEF_RNA_POS                       IMPT 00000000   2965 
_DRVHOS_IDO_BUF                           IMPT 00000000   2970 
_DRVHOS_IDO_CNT                           IMPT 00000000   2961 
_DRVHOS_IDO_POINT                         IMPT 00000000   2959 
_DRVHOS_IDO_TOTAL                         IMPT 00000000   2969 
_DRVHOS_MOST_DN_RNAPOS                    IMPT 00000000   2967 
_DRVHOS_USE_FLG                           IMPT 00000000   2956 
_DRVHOS_WAIT_CNT_PV                       IMPT 00000000   2957 
_DRVHOS_WORK_BUF                          IMPT 00000000   2971 
_DRV_ACT_FLG                              IMPT 00000000   2657 
_DRV_START_KEEP                           IMPT 00000000   3988 
_DT_100PER_0                              EQU  00000064   2001*
_DT_100PER_1                              EQU  000003E8   2000*
_DUMMY_SUM_CODE                           EQU  5AA53CC3    105*
_DUM_MRTION_SEL1                          IMPT 00000000   3325 
_DUM_MTSTEP_MAXM                          IMPT 00000000   3324 
_DUM_SET1_DIG_TOP                         IMPT 00000000   3323 
_DUM_SET1_SPD_TOP                         IMPT 00000000   5110 
_DUM_SET2_SPD_TOP                         IMPT 00000000   5111 
_DUM_UPAREA_DIG0                          IMPT 00000000   3322 
_DURING_TIM_CNTINUE_CHK          P             00006B9C  10225 11636 31980*
_DURING_TIM_FX                            IMPT 00000000   4655 10916 12170 12214 13350 31984 32006 
_DURING_TIM_PRESET_CALC          P             00006BAC  12080 32001*
_ELSE_ERR_FLG1                            IMPT 00000000   2579 
_ELSE_ERR_FLG2                            IMPT 00000000   2580 
_EMG_OUT                                  IMPT 00000000   5459 
_EMG_POS_FLG_PROC                P        EXPT 00002F30   6250 17000*
_EMG_SCANCUT_FLG                          IMPT 00000000   4777 
_ENC360_BITERR_CNT                        IMPT 00000000   2544 
_ENC360_BITFLW_CNT                        IMPT 00000000   2543 
_ENC360_BITNML_CNT                        IMPT 00000000   2545 
_ENC360_HEX                               IMPT 00000000   2519 
_ENC360_INDT                              IMPT 00000000   2518 
_ENC360_INOLD                             IMPT 00000000   2517 
_ENC360_LINK_AREASIG                      IMPT 00000000   3637 
_ENC360_OVER_ENC                          IMPT 00000000   3529 
_ENC360_OVER_FLG                          IMPT 00000000   3528 
_ENCPLS_1000MSEC_LAT                      IMPT 00000000   3431 20954 
_ENCPLS_DELT                              IMPT 00000000   3427 20944 20996 
_ENCPLS_POINT_SEL                         IMPT 00000000   3430 20949 21001 
_ENCPLS_SPD_AVL_TOP                       IMPT 00000000   3428 20948 21000 
_ENCPLS_SPD_POINT                         IMPT 00000000   3429 20952 21003 
_ENCPLS_SPD_TOTAL                         IMPT 00000000   3423 20947 20999 
_ENC_PLS_SPD                              IMPT 00000000   3424 20955 21012 
_ENC_PLS_SPD_CALC                P        EXPT 00003E84  20878 20938*
_ENC_PLS_SPD_CLR                 P             00003EDC  20990*
_ENC_PLS_SPD_DIR                          IMPT 00000000   3426 20953 
_ENC_SYSRST_CMD                           IMPT 00000000   2535 
_ENC_TIMEXT_FLG                           IMPT 00000000   2536 
_ENDHAND_TIMOUT_PV                        IMPT 00000000   5101 32488 32502 32537 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   636

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ENDHAND_WAIT_TIMCNT             P             00006DB8  10001 32477*
_END_CMD_LATCH                            IMPT 00000000   2630 
_EPCHK_COM                                IMPT 00000000   4923 
_EPCHK_DLY_TIM                            IMPT 00000000   4926 
_EPCHK_ERR_TIM                            IMPT 00000000   4927 
_EPCHK_FLG                                IMPT 00000000   4924 
_EPCHK_FORCE_VONCMD                       IMPT 00000000   4930 
_EPCHK_RETRY_CNT                          IMPT 00000000   4928 
_EPCHK_STEP                               IMPT 00000000   4925 
_EPCHK_STOP_DISENB                        IMPT 00000000   5247 
_EPCHK_STS                                IMPT 00000000   4929 
_EQ_DND_MAX                               EQU  00000002   2034*
_EQ_STEP_MAX                              EQU  00000005   2027*
_EQ_STEP_MX2                              EQU  0000000A   2028*
_EQ_STOP_START_WAIT_DND                   EQU  00000064  13586*
_EQ_STOP_START_WAIT_ORG                   EQU  000001F4  13585*13732 
_ERRCHK_ENC360                            IMPT 00000000   4604 
_ERR_FIRST_ST                             IMPT 00000000   4992 29526 29537 29580 
_ERR_INFO_A01                             EQU  00000020   2253*24748 24787 
_ERR_INFO_A02                             EQU  00000022   2254*24881 24920 24938 24962 24996 
_ERR_INFO_A03                             EQU  00000024   2255*25120 25145 25167 25195 
_ERR_INFO_A04                             EQU  00000026   2256*
_ERR_INFO_A05                             EQU  00000028   2257*
_ERR_INFO_A06                             EQU  0000002A   2258*
_ERR_INFO_A07                             EQU  0000002C   2259*
_ERR_INFO_A08                             EQU  0000002E   2260*
_ERR_INFO_B01                             EQU  00000030   2261*24420 
_ERR_INFO_B02                             EQU  00000032   2262*24423 
_ERR_INFO_B03                             EQU  00000034   2263*25106 
_ERR_INFO_B04                             EQU  00000036   2264*25112 
_ERR_INFO_B05                             EQU  00000038   2265*25139 
_ERR_INFO_B06                             EQU  0000003A   2266*25172 
_ERR_INFO_B07                             EQU  0000003C   2267*25296 
_ERR_INFO_B08                             EQU  0000003E   2268*
_ERR_INFO_BAKUP_START            P        EXPT 00005164  25386 25391*
_ERR_INFO_C01                             EQU  00000000   2245*24468 
_ERR_INFO_C02                             EQU  00000004   2246*24518 
_ERR_INFO_C03                             EQU  00000008   2247*24523 
_ERR_INFO_C04                             EQU  0000000C   2248*24528 24924 25156 
_ERR_INFO_C05                             EQU  00000010   2249*24614 
_ERR_INFO_C06                             EQU  00000014   2250*24670 25133 
_ERR_INFO_C07                             EQU  00000018   2251*24672 25093 25153 
_ERR_INFO_C08                             EQU  0000001C   2252*25096 
_ERR_INFO_DLY_TIM                         IMPT 00000000   3523 10464 12687 25068 32893 
_ERR_INFO_DT_CHK1                P             00004E44  10316 24701*
_ERR_INFO_DT_CHK2                P             00004EDC  10460 10701 12683 24831*32889 33015 
_ERR_INFO_DT_CHK3                P             00004FE8  10705 25037*33019 
_ERR_INFO_DT_CHK3X               P             000050FC  25204 25240*
_ERR_INFO_DT_IN0                 P             00004D08   9995 24414*
_ERR_INFO_DT_IN1                 P             00004D2C  10320 24440*
_ERR_INFO_DT_IN2                 P             00004D64  10357 12660 24498*
_ERR_INFO_DT_IN2A                P             00004DCC  24579*
_ERR_INFO_DT_IN3                 P             00004DD4  10448 12669 24594*32878 
_ERR_INFO_DT_IN4                 P             00004E00  10468 12691 24641*32897 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   637

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_ERR_INFO_RST_CLR                P        EXPT 0000518C  25420 25426*
_ERR_INFO_SAVE_FLG                        IMPT 00000000   3524 25406 25436 
_ERR_INFO_SAVE_LATCH                      IMPT 00000000   3525 24454 24510 24606 24653 24722 24854 25042 25395 25401 25439 
_ERR_INFO_WK_CLR                 P             000051B0  25431 25459*
_ERR_LEV_IN2                              IMPT 00000000   4277 
_ERR_LEV_IN3                              IMPT 00000000   4278 
_ERR_LEV_IN4                              IMPT 00000000   4279 
_ERR_LEV_IN5                              IMPT 00000000   4280 
_ERR_LEV_IN6                              IMPT 00000000   4281 
_ERR_STOP_MOV_CHK                P             00003CD0  10855 20433*
_EXQ_LT_CMPSTEP_STEP_END                  IMPT 00000000   5298 
_EXQ_LT_GET_FLG                           IMPT 00000000   5297 
_EXQ_LT_PROC_CNT1                         IMPT 00000000   5299 
_EXQ_LT_PROC_CNT2                         IMPT 00000000   5300 
_EXQ_LT_PROC_CNT3                         IMPT 00000000   5301 
_EXQ_LT_PROC_CNT4                         IMPT 00000000   5302 
_EXQ_OUT                                  IMPT 00000000   5460 
_EXQ_POS_FLG_PROC                P        EXPT 00002FBC   6251 17047 17094*
_EXQ_STOP_LEV_POS_CLR            P        EXPT 000056BC  26519 26535*
_EXTDRV_BTTN_ERR_TIM                      IMPT 00000000   4846 
_EXTDRV_BTTN_USE                          IMPT 00000000   4839 
_EXTDRV_UTINUKI_FLG                       IMPT 00000000   4840 
_EXT_BTTN_FLG                             IMPT 00000000   4843 
_FCLS_KJYU_STEPCHG_CLR           P             00004AB4   6998 12095 17151 23835*
_FCLS_NZ_TIM_SET                 P             00004A90  23517 23807*
_FPU_DIVS_32REG2_32REG1_R4_32REG*         IMPT 00000000   5611 30677 
_FPU_DIVS_32REG2_DIV_32REG4_R2_M*         IMPT 00000000   5612 37149 
_FPU_POS_HOKAN1                           IMPT 00000000   5624 38639 
_FPU_R2_MUL_R1_DIV_R4                     IMPT 00000000   5609  8711 16462 16654 21157 29791 30773 30942 37108 37174 37182 37251 
                                                         37775 37790 37805 37819 37867 38394 38456 38524 38647 
_FPU_R2_MUL_R1_R3_DIV_R4                  IMPT 00000000   5610 
_FPU_TIM_HOKAN1                           IMPT 00000000   5625 
_FRCYCL_OF                                IMPT 00000000   5475 
_FRCYCL_ON                                IMPT 00000000   5476 
_FREQ_BAS_SV_SPD                          IMPT 00000000   3570 30199 
_FREQ_PLSI_MAX_FRQ                        IMPT 00000000   3569 
_FREQ_SV_SPD                              IMPT 00000000   3502 30316 
_FR_CYL_MASK_FLG                          IMPT 00000000   2629  7273 
_FULCLS_ELSE_STS                          IMPT 00000000   4829 23967 24040 
_FULCLS_MATHED                            IMPT 00000000   4819 21876 22431 23310 23403 23463 23843 23933 23962 
_FULCLS_MAXOVER_CLR              P        EXPT 00004550   6991 17144 22467 22468*
_FULCLS_MAXOVER_ERR              P             00004500  22352 22389*
_FULCLS_MAXOVER_ERR_WT           P             00004506  22120 22397*
_FULCLS_MAXOVER_STEP_INI         P             00004564  21563 21702 22492*
_FULCLS_MAXPLS_CALC              P             0000448C  21523 22272*
_FULCLS_OVER_SIG                 P        EXPT 00004578  22518 22524*
_FULCLS_TIM_SETFLG                        IMPT 00000000   4827 12069 22156 23494 23513 23543 23840 
_FULL_CLS_OBJ_MM                          IMPT 00000000   3065 
_FUL_BEFOR_CALC                  P             000014FC  11235 11275*
_FUL_CLS_DLYTM_SV                         IMPT 00000000   4659 21575 
_FUL_CLS_LENGH_ADD_CALC          P             00004684  22807*
_FUL_CLS_MAXOVER_F                        IMPT 00000000   4660 10920 21693 22355 22423 22437 22473 22498 22531 
_FUL_CLS_OBJPLS_CHK              P        EXPT 0000465C  22764 22769*22832 22842 23301 23321 
_FUL_CLS_RNADIG                           EQU  00000320   2005*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   638

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_FUL_DATA_INIT                   P        EXPT 00004708  11998 22909 22914*27585 
_FUL_PLS_START                   P             0000471C  21605 21927 22942*
_FUL_START_FUL_OBJ_SET           P             00001554  11362*
_FWD_REV_START                   P        EXPT 00003468   6266 10472 12695 13863 13925 14064 14443 15512 18346*22998 32901 
_FWD_REV_STSIG_OFF               P        EXPT 0000351C   6256 10543 10576 10753 17026 17103 18040 18092 18351 18504*21419 21532 
                                                         21733 21832 21974 22063 22107 23005 32962 
_FWD_REV_STSIG_OFF_SPEC          P        EXPT 0000355C   6269 11736 13717 14241 14523 15202 15253 18562*
_GAMEN_OVER_RIDE                 P             00005FBC  10051 29083*
_GENSOK_LNGTH_MAX                         EQU  00E4E1C0   6069*35281 35405 37741 
_GENSOK_SIG_MAK                  P        EXPT 0000400C  21243 21245*
_GMN_HANYO_DI1                            IMPT 00000000   5359 
_GMN_HANYO_OUT1_SQ                        IMPT 00000000   5360 
_GMN_OVER_LIDE_FLG                        IMPT 00000000   3868 
_GPOINT_HOS_CALC                 P             00005700  26648*
_GPOSIN_HOS_DRV_INI              P             000056F8   6581 26629*33082 
_GPOSIN_HOS_RESET                P        EXPT 000056F0  26612 26614*
_HANTEN_LAST_SIG_CLR             P             00004CC8  24317*
_HENSA_DAT_MONI_MAK              P        EXPT 00005748  27154 27156*
_HENSA_OVER_MOVE_CNT                      IMPT 00000000   3944 
_HENSA_OVER_STOP_CNT                      IMPT 00000000   3945 
_HENSA_OVR_ENCPOS                         IMPT 00000000   2865 
_HENSA_OVR_OUTPLS                         IMPT 00000000   2864 
_HIGH_DIVS_32REG2_16REG1_R4_16RE*         IMPT 00000000   5607 
_HIGH_S32R2_MUL_S32R1_DIV_S32R4_*         IMPT 00000000   5608 
_HIST_DAT_SEND_COM                        IMPT 00000000   5420 
_HIST_DAT_SEND_DIS                        IMPT 00000000   5419 
_HIST_EVENT_COD                           IMPT 00000000   5421 
_HIST_INFO_DT_IN1                P             00004CC8  10306 24327*
_HIST_KEP_SEND_COM                        IMPT 00000000   5422 
_HLDCAM_ABS_POS_SET                       IMPT 00000000   6101 13356 28155 
_HLDCAM_BANK2_ABS_POS_SET                 IMPT 00000000   6102 28021 28088 
_INCENC_ADD                               EQU  00000000   2056*
_INCENC_LINK_NOWROT_NUMPLS_ZR             IMPT 00000000   2686 
_INCENC_LINK_NOWROT_NUM_ZR                IMPT 00000000   2685 
_INCENC_LINK_NOWROT_OFSPLS                IMPT 00000000   2687 
_INCENC_SV_HENSA_MAKE            P        EXPT 00003BF4  20008 20126 20250 20257*
_INCHEN_ADD                               EQU  00000000   2055*
_INCREV_ADD                               EQU  00000000   2060*
_INCRNA_ADD                               EQU  00000000   2057*
_INCSTP_ADD                               EQU  00000000   2058*
_INC_ABS_ORGWORK                          IMPT 00000000   2912 
_INC_ABS_ORGWORK2                         IMPT 00000000   4331 
_INC_ABS_ORGWORK2A                        IMPT 00000000   4332 
_INC_ENC360                               IMPT 00000000   2523  9648 14775 15886 15902 22344 32415 
_INC_ENC_MM_POS                           IMPT 00000000   2707 
_INC_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2688 
_INC_OFS_ORGWORK2A                        IMPT 00000000   4333 
_INC_RESET_STEP                           IMPT 00000000   5044 10194 13170 
_INC_RESET_USE_F                          IMPT 00000000   5045 10188 13149 
_INC_RST_WORK_CLR                         IMPT 00000000   6284 10200 
_INC_STOP_CNT                             IMPT 00000000   3243 
_INC_UPLIMT_CALC                 P             00006C38   6550 32136*
_INFO_CHK1_COD                            EQU  5AA51234   2195*
_INFO_CHK2_COD                            EQU  4321A55A   2196*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   639

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_INPUT_MODE_SW                            IMPT 00000000   2578 
_INP_ERR_FLG                              IMPT 00000000   4595 11904 
_INP_MODE                                 IMPT 00000000   2610 
_INSERT_MOT_SV_CHGF                       IMPT 00000000   5109 
_INT1MS_SCAN_02MS                         IMPT 00000000   4270 
_INT1MS_SCAN_03MS                         IMPT 00000000   4271 
_INT1MS_SCAN_05MS1                        IMPT 00000000   4272 
_INT1MS_SCAN_05MS2                        IMPT 00000000   4273 
_INT1MS_SCAN_10MS                         IMPT 00000000   4274 
_INT_CLS_CTL_FLG                          IMPT 00000000   2831  6648 10929 21500 21557 21650 21699 21717 21827 21931 21982 22071 
                                                         22100 22918 30532 33154 34954 39203 
_INT_CLS_DYL_TIM                          IMPT 00000000   2832 21577 21752 22210 22235 
_INT_CYC_DRV_STS                          IMPT 00000000   2830  6642  6910  7046  7139 10116 10806 17010 17240 33148 
_INT_DND_CTL_STEP                         IMPT 00000000   2826  6586  9938 10176 11026 13679 13785 13980 14028 32849 33087 
_INT_DND_NEG_STEP                         IMPT 00000000   2834  7734  7750  7804  7821  7914  7930  7977  8001  8282 17020 
_INT_DND_STEP_FLG                         IMPT 00000000   2829  6588 10178 11028 13658 13693 13737 13769 13935 14074 14099 14226 
                                                         14319 14363 14447 14516 14602 32851 33089 
_INT_LINK_TOTAL_ABSPLS                    IMPT 00000000   2843 
_INT_POS_CTL_END                 P             00001394  10817 11010*
_INT_POS_CTL_FLAG                         IMPT 00000000   2827  6592 10136 10232 10483 10538 10571 10624 10761 10787 11015 15516 
                                                         32808 32906 32957 33093 
_INT_POS_CTL_STEP                         IMPT 00000000   2824 10208 11019 11086 11168 11311 11426 12025 12057 12337 12383 12553 
                                                         13413 19481 20204 20230 22850 23053 23233 23813 25566 25810 27252 27493 
                                                         27813 27872 27927 32642 32859 37353 
_INT_POS_CTRL                    P        EXPT 00000E4C   6247  9989*
_INT_POS_DATA_REF                P        EXPT 00003A0C   6248 19839*
_INT_POS_STEP_FLG                         IMPT 00000000   2828 10174 10600 11017 11610 12087 12206 12541 12711 12768 17113 27476 
                                                         32847 
_INT_SFY_INP_DAT                          IMPT 00000000   3630 
_INT_STP_INP_DAT                          IMPT 00000000   3631 
_INT_STP_INP_DAT1                         IMPT 00000000   3632 
_INT_STP_INP_DAT2                         IMPT 00000000   3633 
_INT_STP_INP_DAT3                         IMPT 00000000   3634 
_INT_TEP_RESTART                 P             00002878  15228 15340 15457*
_IN_PARAM_RNA_CHK                         IMPT 00000000   4027 
_IN_POS_GPOINT_POS                        IMPT 00000000   3929 
_IN_RDY_FLG                               IMPT 00000000   2618 
_IRQ_EMG_CNT                              IMPT 00000000   3624 
_IRQ_EMG_FLG                              IMPT 00000000   3623 
_IRQ_SFY_CNT                              IMPT 00000000   3626 
_IRQ_SFY_FLG                              IMPT 00000000   3625 
_IRQ_STP_CNT                              IMPT 00000000   3628 
_IRQ_STP_FLG                              IMPT 00000000   3627 
_KAJLIV_TTL_IDOBUF                        IMPT 00000000   4185 
_KAJLIV_TTL_POINT                         IMPT 00000000   4184 
_KAJLIV_TTL_TOTAL                         IMPT 00000000   4182 
_KAJYU_ELSE_STS_CLR              P        EXPT 00004B90   7002 17155 23997 24005*
_KAJYU_ELSE_STS_FLG_CLR          P             00004BB4  24011 24035*
_KAJYU_START_UPCHK               P             00004B50  21612 23958*
_KJPHOS_CAL_PRS                           IMPT 00000000   2993 
_KJPHOS_DEF_CNT_PV                        IMPT 00000000   2985 
_KJPHOS_IDO_BUF                           IMPT 00000000   2988 
_KJPHOS_IDO_CNT                           IMPT 00000000   2982 
_KJPHOS_IDO_POINT                         IMPT 00000000   2981 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   640

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_KJPHOS_IDO_TOTAL                         IMPT 00000000   2987 
_KJPHOS_SMPINI                            IMPT 00000000   6232 19550 33138 
_KJPHOS_SMPLING_END1                      IMPT 00000000   6233 19649 
_KJPHOS_USE_FLG                           IMPT 00000000   2980 
_KJPHOS_WAIT_CNT_PV                       IMPT 00000000   2984 
_KJYUCLS_KN_HENSA                         IMPT 00000000   4816 23186 23430 23604 23694 23773 23975 
_KJYUCLS_KN_HENSA_PLS                     IMPT 00000000   4817 23190 
_KJYUCLS_OBJ_KN                           IMPT 00000000   4815 23181 23899 
_KJYUU_DEF_DAT_PV                         IMPT 00000000   2991 
_KJYUU_IN_DAT_PV                          IMPT 00000000   2990 
_KJYUU_NEW_DAT_PV                         IMPT 00000000   2992 
_KJYU_CHK_NEARSIG                         IMPT 00000000   4826 23622 
_KJYU_CMP_CMD                             IMPT 00000000   4885 
_KJYU_CMP_SEQHABA                         IMPT 00000000   4891 
_KJYU_CMP_SEQMINS                         IMPT 00000000   4890 
_KJYU_DATA_INFO_SEL              P             00004AD0  21370 23866*
_KJYU_NEARZERO3_CHK              P             00004A10  22195 23689*24098 
_KJYU_NEARZERO_CHK               P             000049E0  23424 23505 23575 23599*
_KJYU_OUT_DIRCT                  P             00004A72  23559 23768*
_KJ_AREATRD_SIG                           IMPT 00000000   4867 
_KJ_AREATRD_SIG_OLD                       IMPT 00000000   4868 
_KJ_AREA_BT0_OLD                          IMPT 00000000   3748 
_KJ_AREA_SIG                              IMPT 00000000   3747 
_KOMA_ASM_RAM_TOP                         IMPT 00000000   2471 
_LENGH_ADD_CALC                  P        EXPT 00002E28   6261 11113 11244 11550 13851 13913 14052 16783*32754 
_LENGH_ADD_CALC_SV_TYPE          P        EXPT 00002E6C   6262 11452 16838*
_LINKX_SV_OBJ_ABSPLS                      IMPT 00000000   3663 15796 16796 16852 16892 27755 28599 
_LINK_1000ROT_PLS                         IMPT 00000000   4203 
_LINK_1ROT_PLS                            IMPT 00000000   2758  8505  8524  8777  8862  8881  9273  9292  9419  9453  9712 13132 
                                                         14967 14983 15005 15024 22777 22824 24931 24989 33251 
_LINK_2ROT_PLS                            IMPT 00000000   4200 
_LINK_3ROT_PLS                            IMPT 00000000   4201 
_LINK_4ROT_PLS                            IMPT 00000000   4202 
_LINK_CLANK_PV                            IMPT 00000000   3480  8197  8238 
_LINK_DIR_OBJMAK3                P             00000BA4   9380* 9855 
_LINK_MAX_SPD_PLS                         IMPT 00000000   3033  8707 30674 36817 37597 37995 38390 38452 38520 38643 
_LINK_NOWROT_NUMPLS_ZR                    IMPT 00000000   2681 
_LINK_NOWROT_NUM_ZR                       IMPT 00000000   2680 13125 13263 13274 13287 
_LINK_NOWROT_OFSPLS                       IMPT 00000000   2682 
_LINK_NOWROT_OFSPLS_P                     IMPT 00000000   2683  8454  8796  9217  9404 13128 14951 
_LINK_OBJROT_NUMPLS_ZR                    IMPT 00000000   2752 
_LINK_OBJROT_NUM_ZR                       IMPT 00000000   2751  6946 12543 
_LINK_POS_OFFSET1                         IMPT 00000000   2845 
_LINK_POS_OFFSET2                         IMPT 00000000   2846 
_LINK_PV_ABSPLS                           IMPT 00000000   2844 20264 24352 24521 25275 25539 25653 25740 25891 25977 27166 29684 
                                                         30032 31432 33243 
_LINK_P_M_MAX                    P             00000D88   7579  9797*
_LINK_RL_OBJ_ABSPLS                       IMPT 00000000   2805  8540  8898  8990  9309  9481 11380 13425 15040 15400 16805 19963 
                                                         23075 27282 27748 29627 29687 31417 33246 33341 34690 
_LINK_SV_OBJ_ABSPLS                       IMPT 00000000   2813  8556  8914  8971  8986  9325  9496  9812 11371 11546 13847 13909 
                                                         14048 15056 15403 15754 15793 16787 16842 16901 20261 22812 24344 24466 
                                                         24516 25264 25534 25648 25735 25886 25972 27162 27183 27752 28515 28590 
                                                         29941 30026 31409 33259 34665 
_LINK_SV_OBJ_SPDPLS                       IMPT 00000000   2814  7367  7387  8656 10409 11092 11174 11432 11538 13522 14041 15492 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   641

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

                                                         16544 16569 27933 32704 33290 
_LINK_UPPLS_A_OBJMAK1            P             000008D8   6853  8760*13896 
_LINK_UPPLS_A_OBJMAK2            P             000009E0   8962*13835 13964 
_LINK_UPPLS_A_OBJMAK3            P             00000A4C   9036* 9900 14013 
_LINK_UPPLS_DNDRIV               P             00000C7C   9547* 9883 
_LINK_UPPLS_OBJ_SELECT1          P             00000A88   9055  9130* 9559 
_LNGTH_ADD_DATA                           IMPT 00000000   2839 11031 15800 16812 16864 16914 16950 18853 22898 24526 24533 24538 
                                                         24752 24885 28603 
_LNGTH_TOTAL_OUTPLS                       IMPT 00000000   2840 11035 16947 18860 18936 18956 19067 19217 22743 24612 24765 24898 
                                                         25549 28649 
_LNKPLS_OBJ_DAT_MAK1             P             00000778   8318  8338  8360  8426*
_LNKPLS_OBJ_DAT_MAK2             P             0000260C  14891 14919*
_LOAD_ACCS1_LATE                 P        EXPT 00003DA0  20483 20680*
_LOAD_BASE_FREQ_PLS              P        EXPT 00003D84  20484 20647*
_LOAD_FREQ_PLS                   P        EXPT 00003D68  20478 20612*25528 25642 25729 25880 25966 
_LOAD_GPOINT_PLS                 P        EXPT 00003DE4  20480 20781*
_LOAD_NOW_FREQ_PLS               P        EXPT 00003DC8  20479 20744*31447 
_LOAD_REST_PLS                   P        EXPT 00003CFC  16304 17702 17824 17856 17912 18571 19020 19193 19283 19389 20477 20503*
                                                         24667 25090 25260 
_LOAD_SPD_LATE                   P        EXPT 00003DB4  20482 20710*
_LOD_POS_STS_REG                 P        EXPT 000035B0   6267 14246 14527 15206 15257 18045 18097 18638*20438 21251 
_LOD_POS_STS_REG_IN              P             000035F4  18648 18683 18720*35018 35056 39307 
_LOD_POS_STS_REG_POR             P        EXPT 000035C8   6268 11701 13710 18672*21435 21536 21657 21737 22111 
_LOD_POS_STS_REG_SLOW            P             000035C8  10780 18673*
_LONG_BIT_TBL0                            IMPT 00000000   6190 20207 20233 
_LOT_CHK_DBG_CNT1                         IMPT 00000000   3467 
_LOT_CHK_DBG_CNT2                         IMPT 00000000   3468 
_LOT_CHK_FLG                              IMPT 00000000   2650 27459 
_LOT_CNT_FLG                              IMPT 00000000   2648 
_LOT_SIG_FLG_CLR                          IMPT 00000000   6150 12436 12758 27448 
_LOT_SIG_SET                              IMPT 00000000   6114 
_LSA1_FILETR_TIM                          IMPT 00000000   3729 
_LSA2_FILETR_TIM                          IMPT 00000000   3730 
_LSA_CHK_DELAY_TM                         IMPT 00000000   3735 
_LSA_ENC_DIG                              IMPT 00000000   3722 
_LSA_ENC_MOV_LNG1A                        IMPT 00000000   3723 
_LSA_ENC_MOV_LNG1B                        IMPT 00000000   3724 
_LSA_ENC_MOV_LNG2                         IMPT 00000000   3725 
_LSA_ERR_SIG                              IMPT 00000000   3734 
_LSA_SIG_DT                               IMPT 00000000   3726 
_LSA_SIG_DT2                              IMPT 00000000   4051 
_LSA_SIG_OLD_DT                           IMPT 00000000   3727 
_LSA_SIG_OLD_WRK                          IMPT 00000000   3728 
_LSI_BUF_PLS_BitComdL                     IMPT 00000000   3586 17384 17389 17707 17790 18140 18181 18241 18282 18376 18425 18510 
                                                         18584 30398 30450 
_LSI_CHK_DBG_CNT1                         IMPT 00000000   4459 
_LSI_CHK_DBG_CNT2                         IMPT 00000000   4460 
_LSI_CHK_DBG_CNT3                         IMPT 00000000   4461 
_LSI_CHK_DBG_CNT4                         IMPT 00000000   4462 
_LSI_CMPCPUAB_POSMAX                      IMPT 00000000   3565 26268 
_LSI_CMPCPUAB_POS_RL                      IMPT 00000000   3564 26265 
_LSI_CMP_ERR_MAX                          EQU  0000000A   6062*
_LSI_G_HOS_SPD                            EQU  0000000F   6065*
_LSI_LOAD_32BIT_DATA             P             00003E00  20529 20536 20543 20624 20658 20756 20792 20817*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   642

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_LSI_LOAD_PLS                             IMPT 00000000   5171 
_LSI_PLSCLR_AC_CNT1                       IMPT 00000000   3554 17694 
_LSI_PLSCLR_NG_CNT1                       IMPT 00000000   3555 17850 
_LSI_PLSCLR_NG_CNT2                       IMPT 00000000   3556 17940 
_LSI_PLSCLR_RETRY_CNT1                    IMPT 00000000   3537 17690 17930 17934 
_LSI_PLSCMP_AC_CNT1                       IMPT 00000000   3550 26258 
_LSI_PLSCMP_NG_CNT1                       IMPT 00000000   3548 
_LSI_PLSCMP_RETRY_CNT1                    IMPT 00000000   3547 26213 26275 
_LSI_PLSRD_NG_CNT1                        IMPT 00000000   3551 20561 
_LSI_PLSSET_AC_CNT1                       IMPT 00000000   3557 
_LSI_PLSSET_AC_CNT2                       IMPT 00000000   3558 19464 26261 
_LSI_PLSSET_NG_CNT1                       IMPT 00000000   3559 19079 
_LSI_PLSSET_NG_CNT2                       IMPT 00000000   3560 19428 
_LSI_PLSSET_NG_CNT3                       IMPT 00000000   3561 19450 
_LSI_PLSSET_RETRY_CNT1                    IMPT 00000000   3538 18924 19071 
_LSI_REST_PLS_CHK_START_CLR      P             000054E4   6577 26251*33078 
_LSI_REST_PLS_CHK_STOP_CLR       P             000054A8  10551 10584 11866 17128 26205*32970 
_LSI_RETRY_ERR_MAX                        EQU  00000003   6061*17936 19073 
_LSI_SET_SPD_MAXLMT                       IMPT 00000000   3648 30524 
_LSI_SET_SPD_MINLMT                       IMPT 00000000   3649 
_LSI_SET_SPD_SV                           IMPT 00000000   3647 
_LT_INT_LINK_RL_OBJ_ABSPLS                IMPT 00000000   3498 24353 
_LT_LINK_SV_OBJ_ABSPLS                    IMPT 00000000   3497 24345 
_LT_LNGTH_ADD_DATA                        IMPT 00000000   3499 15804 16817 16868 16918 28620 
_LT_LNGTH_TOTAL_OUTPLS                    IMPT 00000000   3500 18871 28665 
_MAIN_CLK                                 IMPT 00000000   4763 
_MAIN_START_OK                            IMPT 00000000   2481 
_MCN_DBG_COD11                            EQU  00000063   2230*
_MCN_DBG_COD21                            EQU  00000059   2232*
_MCN_DBG_COD22                            EQU  00000058   2233*
_MCN_DBG_COD23                            EQU  00000058   2234*
_MCN_DBG_COD31                            EQU  0000004F   2236*
_MCN_DBG_COD32                            EQU  0000004E   2237*
_MCN_DBG_COD33                            EQU  0000004D   2238*
_MCN_FUJI_DBG1                            EQU  000004D2   2240*
_MISS_KEN_CAM_IN                          IMPT 00000000   5376 
_MISS_KEN_CAM_OF_EDG                      IMPT 00000000   5377 
_MISS_KEN_CNT_STOP_SQ                     IMPT 00000000   5379 
_MISS_KEN_DI                              IMPT 00000000   5372 
_MISS_KEN_DI_REC_ON                       IMPT 00000000   5373 
_MISS_KEN_EMG_STOP_SQ                     IMPT 00000000   5380 
_MISS_KEN_INIT_FLG                        IMPT 00000000   5369 
_MISS_KEN_INIT_TIM                        IMPT 00000000   5370 
_MNWR_POS_CMD                             IMPT 00000000   2774  6964  7126 10158 10532 10747 17013 17099 32831 32952 33168 
_MN_DNDINC_START                 P             000003DC   6703  7408*
_MN_POS_CTRL_ACT                 P        EXPT 00000264   6254  7041*
_MN_POS_CTRL_START               P        EXPT 00000000   6253  6482*
_MN_TEP_START                    P             00002820   7419 15387*
_MODE_SEL                                 IMPT 00000000   2611  6496  6655  7197  7261 10258 10642 11760 12049 12249 12443 13594 
                                                         14167 18901 19554 20013 24460 24659 24728 24860 25048 29133 31627 32070 
                                                         32140 32424 
_MONI_CHG_PROC1                  P        EXPT 000054A0  26018 26034*
_MONI_CNT_HIST_INFO_DISP         P        EXPT 00005740  26810 27139*
_MONI_CNT_NOW_INFO_DISP          P        EXPT 00005718  26809 26821*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   643

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_MONI_CNT_NOW_INFO_DSP1          P             00005720  26861*
_MONI_CNT_NOW_INFO_DSP2          P             00005728  26914*
_MONI_CNT_NOW_INFO_DSP3          P             00005730  26967*
_MONI_CNT_NOW_INFO_DSP4          P             00005738  27027*
_MONI_CPUAB_PLSDELT                       IMPT 00000000   3904 31559 31585 31655 
_MONI_DISP_MOD                            IMPT 00000000   5424 
_MONI_RDY_STEP                            IMPT 00000000   4985 
_MONI_RESET_STEP                          IMPT 00000000   4984 
_MONI_SEINOU_CMP_OUTPUT          P             000068AC  10895 31375*
_MONI_SELF_STS1                           IMPT 00000000   4986 
_MONI_SELF_STS2                           IMPT 00000000   4987 
_MOST_DISP_DAT_INI               P             00003C34  19583 20305*
_MOST_DISP_DAT_SMP               P             00003C78   7110 20352*
_MOTION_CYCLE_ED2                P             000039F4  12432 12754 19732*27444 
_MOTION_CYCLE_END                P             00003980  12422 12750 19614*27440 
_MOTION_CYCLE_START              P             0000392C   6632 12558 19533*27560 
_MOT_REPSTART_CALC               P             00006EB4  10281 12369 32697*
_MOT_REP_CLR                     P             00006E18  17058 19679 32579*32681 
_MOT_REP_CNT                              IMPT 00000000   5031 32584 32655 
_MOT_REP_F                                IMPT 00000000   5030 10273 12033 12328 21393 32586 32612 32619 32664 38121 
_MOT_REP_STEPCHK                 P             00006E34  12324 32601*
_MOVE_MODE_MATH_LATCH                     IMPT 00000000   5048  6505 33057 
_MOV_DATA_ERR_FLG1                        IMPT 00000000   2584 
_MOV_ERR_FLG1                             IMPT 00000000   2581 
_MRTION_SEL                               IMPT 00000000   2616 
_MULDIV_R1R2S64mR3S32dR4S32aR1R2*         IMPT 00000000   5615 
_MULDIV_R2S32mR1S32dR4S32aR1R2S6*         IMPT 00000000   5614 37733 
_MUL_R1R2S64mR3S32aR1R2S64                IMPT 00000000   5616 
_MYUTING_MOD_STOPSEL                      IMPT 00000000   4712 
_M_LINK_AREASIG                           IMPT 00000000   2690 27454 
_M_LINK_RL_OBJ_ABSPLS                     IMPT 00000000   2798 
_NEAR_IN_FLG                              IMPT 00000000   2673 11871 11885 12003 20074 20162 21449 21455 27575 
_NEAR_ZERO_IN_CHK                P             00001CF8  13041*
_NEG_CTL_OBJ_POS_PUSH                     IMPT 00000000   4311 11215 11300 11367 32744 
_NEG_CTRL_BEFOR_OBJ_PLS                   IMPT 00000000   4309 11304 23066 32748 
_NEG_CTRL_BEFOR_SLW_PLS                   IMPT 00000000   4310 
_NEG_DND_STOP_POS_END_F                   IMPT 00000000   5388  8028 14268 14292 
_NEG_DND_STOP_USE_F                       IMPT 00000000   5387  7458  8089 14280 
_NEG_EXITTIM                              IMPT 00000000   4681 21569 22402 
_NEG_TEPA_AREA_CHK               P             00002A68  15720 15873*
_NEW_POSLSI_RESTPLS                       IMPT 00000000   3566 19392 25544 25658 25745 25896 25982 31403 
_NEW_TEP_CNT                              IMPT 00000000   3794 16103 16146 
_NEXT_CYCL_START1                P             00001DEC   6949 13299*
_NEXT_CYCL_START2                P             00001D10   6918 13116*
_NOW_INC_DIG_MAK                          IMPT 00000000   6120  8442  8767  9049  9397  9553 13122 14945 15407 33280 
_NOW_MOTREP_DIR                           IMPT 00000000   5032 
_NZ_TIM_CHK1                              IMPT 00000000   6162 11892 
_NZ_TIM_OUT_PV1                           IMPT 00000000   3382 
_NZ_TIM_OUT_PV2                           IMPT 00000000   3383 11898 
_NZ_TIM_OUT_SV1                           IMPT 00000000   3380 
_NZ_TIM_OUT_SV2                           IMPT 00000000   3381 
_OBJDIG_CLANK                             IMPT 00000000   4684 
_OBJ_ENC360                               IMPT 00000000   2525 
_OBJ_NEAR_CHK1                   P             00000D08   9427  9462  9687*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   644

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_OBJ_POS_DIG_MAK                          IMPT 00000000  22263 22283 
_OLD_RNAORG_POS1                          IMPT 00000000   2512 
_OPEN_ROT_NEAR1_ZERO_CHK         P             00003ABC  11695 20003*
_OPEN_ROT_NEAR2_ZERO_CHK         P             00003B4C  20121*21429 
_ORGIN2_STEP_FLG                          IMPT 00000000   4320 
_ORGIN_END_FLG1                           IMPT 00000000   3055  6743 
_ORGIN_MOD2_CHKTIM                        IMPT 00000000   3818 
_ORGIN_MOD2_SEL                           IMPT 00000000   3817  6758 
_ORGIN_MOD2_START_FLG                     IMPT 00000000   3819 
_ORGIN_MODE_END                           IMPT 00000000   6111 14005 
_ORGIN_MODE_INI                           IMPT 00000000   6109 13977 
_ORGIN_MODE_SMP                           IMPT 00000000   6110 13688 
_ORGIN_OBJ_POS_CTRL_ST1          P             00000DB8   6772  9837*
_ORGIN_OBJ_POS_CTRL_ST2          P             00000E2C   9928*13673 
_ORGPOS_LATCH1_INC_OFFSET_PLS             IMPT 00000000   4376 
_ORGPOS_LATCH1_RNA_ABS_DAT                IMPT 00000000   4377 
_ORGPOS_SERCH_RNA_ABS_DAT                 IMPT 00000000   4378 
_ORG_DND_NOMAL_FLG1                       IMPT 00000000   2588 
_ORG_DRV_CNT_PV                           IMPT 00000000   3454 13811 13929 
_ORG_ELSE_NOMAL_FLG1                      IMPT 00000000   2587  6750 
_ORG_END_SIG_CLR                          IMPT 00000000   6131  6861  9911 
_ORG_FIRST_OBJPLS                         IMPT 00000000   3046  8774 
_ORG_PRESET_TIM                           IMPT 00000000   2596 
_ORG_RDY_CTL_FLG                          IMPT 00000000   3455 13818 14106 
_ORG_SECOND_OBJPLS                        IMPT 00000000   3047  8974 
_ORIGIN_POS_CHK_INI2                      IMPT 00000000   6235 14122 
_ORIGN_180ARA_FLG                         IMPT 00000000   4012  6969  8805  9093  9592 33173 
_ORIGN_OBJ_CTL_FLG                        IMPT 00000000   3650  6844  9841  9932 14173 33162 
_OUTPLS_1000MSEC_LAT                      IMPT 00000000   3441 20903 
_OUTPLS_DELT                              IMPT 00000000   3437 19934 20888 31500 
_OUTPLS_DIV                               IMPT 00000000   2848 
_OUTPLS_MOD                               IMPT 00000000   2847 11045 16953 24778 24911 
_OUTPLS_POINT_SEL                         IMPT 00000000   3440 20898 
_OUTPLS_SPD_AVL_TOP                       IMPT 00000000   3438 20897 
_OUTPLS_SPD_POINT                         IMPT 00000000   3439 20901 
_OUTPLS_SPD_TOTAL                         IMPT 00000000   3433 20896 
_OUT_PLS_SPD                              IMPT 00000000   3434 20904 
_OUT_PLS_SPD_CALC                P        EXPT 00003E2C  20877 20884*
_OUT_PLS_SPD_DIR                          IMPT 00000000   3436 20902 
_OUT_UP_DN_TOTAL_CNT             P        EXPT 00003A14  19854 19856*
_OVER1_JGDIG                              EQU  00000032   2039*
_OVERH_CALC_USE                           IMPT 00000000   4678 
_OVERH_MODE_SEL                           IMPT 00000000   4676 
_OVERLIDE_DT_SEL                          IMPT 00000000   3866 29139 
_OVERLID_CTL_DEF_SET             P             00005F90  28975 29040*
_OVERLID_DEF_SET                 P        EXPT 00005F30   6273 28962*
_OVERLID_GMN_DEF_SET             P             00005F74  28971 29016*
_OVERLID_SEQ_DEF_SET             P             00005F58  28967 28992*
_OVERRIDE_CALC_LATE_SEL          P             00006104  29314 29357*33321 
_OVERRIDE_CALC_SPED_SEL          P             00006130  10095 29318 29390*33325 
_OVER_DIG_CHK                    P             000044C8  21788 22013 22340*
_OVER_LIDE_ANS_TIM                        IMPT 00000000   3893 30667 
_OVER_LIDE_SEQREF                P             00005E88  10055 28847*
_OVER_LIDE_SPD_CALC              P             00006240  29783*34745 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   645

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_OVER_RIDE_ERR_TIMCHG            P        EXPT 00006148  29425 29431*
_OVER_RIDE_LATE_ANS                       IMPT 00000000   3856 28901 28905 28915 
_OVER_RIDE_LATE_FLG                       IMPT 00000000   3854 28859 28865 28888 28928 
_OVER_RIDE_LATE_REQ                       IMPT 00000000   3855 28898 
_OVER_RIDE_USEFUL                         IMPT 00000000   3888 10088 29155 29160 29180 29205 29231 29237 29442 33310 33315 
_OVER_RID_UPDN_LAT_CALC          P             00006178  29491*
_OVER_RID_UPDN_LAT_DTMK          P        EXPT 000060BC  12579 27486 29291 29300*
_OVER_UPDN_DBGCNT                         IMPT 00000000   3890 29304 
_OVRLIDE_LATE_MAX                         EQU  00000064   2271*28996 29020 29044 29223 29789 30755 30767 30767 30812 30880 33302 
                                                         37731 37773 37788 37803 37817 37865 
_OVRLIDE_LATE_MULDIV             P             00006644  29454 30664 30708*
_OutputPLS_REG_CLR               P             00003174  16978 17615*19000 19064 
_PAR_DNMDEND_DLY                          IMPT 00000000  32054 32076 
_PAR_INCSPD_UPLMT                         IMPT 00000000   6214 32153 
_PAR_INSERT_SMPTM                         IMPT 00000000   6212 
_PAR_KAJYU_ARASPD                         IMPT 00000000  21308 24157 
_PAR_KAJYU_CHGARA                         IMPT 00000000  21309 23710 24085 
_PAR_KAJYU_CTIM1                          IMPT 00000000  21313 22208 
_PAR_KAJYU_CTIM2                          IMPT 00000000  21314 22233 
_PAR_KAJYU_FIRST                          IMPT 00000000  21316 23428 
_PAR_KAJYU_HLDSPD                         IMPT 00000000  21307 24205 
_PAR_KAJYU_STPARA                         IMPT 00000000  21315 23701 
_PAR_MYUBRK_TIM1                          IMPT 00000000   6289  7211 
_PAR_MYUBRK_TIM2                          IMPT 00000000   6290  7194 
_PAR_MYU_BRK_SEL                          IMPT 00000000   6291  7064 
_PAR_NEGCTL_SPDS1                         IMPT 00000000  21311 24263 
_PAR_NEGERR_ENB                           IMPT 00000000  21304 22417 
_PAR_NEG_EXITTIM                          IMPT 00000000  21305 21567 
_PAR_ORGDRV_CNT                           IMPT 00000000   6210 
_PAR_ORGDRV_MOD                           IMPT 00000000   6209 
_PAR_SELF_WAIT_TM                         IMPT 00000000   6292  7256 
_PAR_START_WAIT_DND                       IMPT 00000000  13726 14313 
_PAR_STOPTIM_SEL                          IMPT 00000000   6215 32016 
_PAR_TEP_BEFPLS                           IMPT 00000000  15145 16606 
_PAR_TEP_MINSPD                           IMPT 00000000  15146 16635 
_PAR_TEP_WATTIM                           IMPT 00000000  15144 16618 
_PAR_WTSEL_USE                            IMPT 00000000   6042  8309 13165 14162 
_PLSI_CH1                                 EQU  00000000   6320*17361 17394 17712 17764 17795 17879 18145 18186 18246 18287 18383 
                                                         18430 18515 18589 18741 18770 18822 19327 19876 19885 20527 20534 20541 
                                                         20622 20656 20690 20719 20754 20790 28377 30220 30337 30403 30455 31277 
                                                         31301 31325 
_PLSI_CH2                                 EQU  00000030   6321*
_PLSI_CH_COM                              EQU  00000000   6347*20848 
_PLSOUTEND_FLG                            IMPT 00000000   5194 
_PLSOUTEND_PVPLS                          IMPT 00000000   5192 
_PLSOUTEND_SHIN                           IMPT 00000000   5193 
_PLSOUT_STEP_END_TIMSET          P             00001D00  13052*
_PLS_AccLate1                             EQU  0000001C   6337*20690 31277 
_PLS_AccLate2                             EQU  0000001E   6338*31301 
_PLS_BasFreqL                             EQU  0000000C   6329*20656 30220 
_PLS_BitComdL                             EQU  00000000   6323*17394 17712 17795 18145 18186 18246 18287 18383 18430 18515 18589 
                                                         30403 30455 
_PLS_BitInfoL                             EQU  00000004   6325*18741 18770 
_PLS_CHG_PLS_TO_LSI              P             00006578  30196 30312 30514*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   646

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PLS_CtrlReg                              EQU  0000002A   6344*17361 
_PLS_ERR_HABPLS1                          EQU  000007D0   6050*24933 24991 25268 
_PLS_GNpointL                             EQU  00000018   6335*20790 
_PLS_LSI_CTL_CALC                PHiROM        0000012C  34854 34886*
_PLS_LSI_CTL_INI                 P             00006224  29732*34784 
_PLS_LSI_CTL_SPDCNT              P             00006484  30277*31105 
_PLS_LSI_CTL_SPDINI              P             00006410  30179*31082 
_PLS_LSI_CTL_SPDSET              P             000064A0  30254 30285 30305*35034 35097 39285 39379 
_PLS_LSI_CTRL                    PHiROM        00000000  10910 34658*
_PLS_LSI_SPD_ACC_ADD             PHiROM        00000290  35009 35192*39276 
_PLS_LSI_SPEED_OFF               P             0000622C  29756*34807 35116 35153 39396 39433 
_PLS_LSI_STOP_END                P             000064F4  29762 30392*
_PLS_LTCHReg                              EQU  0000007E   6348*20848 
_PLS_NowFreqL                             EQU  00000010   6331*20754 
_PLS_NowPos1L                             EQU  00000024   6341*18822 
_PLS_NowPos2                              EQU  00000028   6343*
_PLS_OUTPUT_FLG                           IMPT 00000000   3373 20448 
_PLS_OUTPUT_MAX                           EQU  00FFFFFF   6319*19200 
_PLS_OUT_END_STS                          IMPT 00000000   4746 
_PLS_OutPposL                             EQU  00000014   6333*17764 17879 19327 20527 20534 20541 28377 
_PLS_OutcntPS                             EQU  00000022   6340*19876 19885 
_PLS_SpedLate                             EQU  00000020   6339*20719 31325 
_PLS_TopFreqL                             EQU  00000008   6327*20622 30337 
_POINT_GET_SPD1                  PHiROM        00000F6E  38206 38446*
_POINT_SERCH_BIG_2B              PHiROM        0000107A  38409 38729*
_POINT_SERCH_BIG_4B              PHiROM        000010E6  38509 38602 38876*
_POINT_SERCH_PLS1                PHiROM        00000F90  38491*
_POINT_SERCH_PLS_HOKAN1          PHiROM        00000FEC  38003 38566*
_POINT_SERCH_SPD1                PHiROM        00000F24  38128 38381*
_PON_ERR_WAIT_TIM                         IMPT 00000000   5124 
_POSCANSEL_CMD                            IMPT 00000000   5313 
_POSCHG_LINK_ABSPLS_ROTNUMBER             IMPT 00000000   8736 
_POSCHG_LINK_ABSPLS_ROTNUM_OFSPL*         IMPT 00000000  22801 22818 
_POSCHG_LINK_DIG_TO_LINK_PLS              IMPT 00000000  22262 22299 
_POSCHG_LINK_ROTNUM_PLS                   IMPT 00000000   8737 
_POSCTL_CALC_ERR                          IMPT 00000000   3841 17053 17162 30983 34983 39259 
_POSCTL_OVER_ACC_LAT                      IMPT 00000000   3897 29056 29365 29448 30623 30842 
_POSCTL_OVER_SPD_LAT                      IMPT 00000000   3896 29053 29398 29787 37729 37771 37786 37801 37815 37863 
_POSCTL_RL_PLS                            IMPT 00000000   3828 11384 29872 29956 30104 34693 35373 
_POSCTL_RL_SPD                            IMPT 00000000   3832 17459 17502 17547 17588 29895 29978 30126 30190 30309 31388 34918 
                                                         35065 35199 37668 37784 39164 39347 39466 
_POSCTL_SET_SPD                           IMPT 00000000   3830 30184 30281 34742 
_POSCTL_STEP_CMD                          IMPT 00000000   3839 30974 31022 31050 34778 34793 34803 34935 39184 
_POSCTL_STEP_FLG                          IMPT 00000000   3840 10963 18689 21265 30977 30990 34681 34767 34789 34800 34898 34940 
                                                         35050 35088 35120 35126 35131 35157 39140 39189 39301 39321 39370 39400 
                                                         39406 39411 39437 
_POSCTL_SV_DN_ACC                         IMPT 00000000   3835 29901 29984 34708 34734 35067 35223 37813 39349 
_POSCTL_SV_OFS_SPD                        IMPT 00000000   3837 17457 17500 17545 17586 29794 29898 29981 30056 30129 30188 30192 
                                                         30440 31131 31156 31184 31214 31216 31244 31246 31398 34916 35082 37651 
                                                         39162 39364 
_POSCTL_SV_PLS                            IMPT 00000000   3827 11375 29867 34668 35368 
_POSCTL_SV_SPD                            IMPT 00000000   3831 31382 34763 35197 37769 
_POSCTL_SV_UP_ACC                         IMPT 00000000   3834 31393 34729 35206 37799 
_POSHLD1_CHKLST_FLG                       IMPT 00000000   4979 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   647

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POSHLD1_GENSKPOSWK                       IMPT 00000000   4958 
_POSHLD1_GENSK_STEP                       IMPT 00000000   4959 
_POSHLD1_SDAT1_HOLDPOS                    IMPT 00000000   4961 
_POSHLD1_SDAT2_HOLDPOS                    IMPT 00000000   4962 
_POSHLD1_STOPLATCH                        IMPT 00000000   4967 
_POSHLD1_STOPSPDWK                        IMPT 00000000   4956 
_POSHLD1_STOP_STEP                        IMPT 00000000   4955 
_POSHLD1_STOP_STEPWK                      IMPT 00000000   4954 
_POSHLD_SET_DN_ACC                        IMPT 00000000   4966 30135 34706 
_POSINER_FLG                              IMPT 00000000   4907 33440 33518 33537 33549 33587 33626 33682 33722 33751 
_POSINER_MOSTPV_POS                       IMPT 00000000   4903 33643 34245 
_POSINER_OLDPV_POS                        IMPT 00000000   4902 33641 34292 34309 
_POSINER_PV_POS                           IMPT 00000000   4901 33506 33639 33840 34062 34133 34242 34346 
_POSINER_RETRY_CNT                        IMPT 00000000   4909 33471 33712 33834 
_POSINER_STOPCHK_TIM1                     IMPT 00000000   4910 33632 34275 34282 
_POSINER_STOPCHK_TIM2                     IMPT 00000000   4911 33635 34277 34323 34330 34338 
_POSINER_STS                              IMPT 00000000   4908 33483 33520 33690 33695 33729 33734 33772 33847 34068 34139 34211 
                                                         34248 
_POSINER_SV_OVRPOS                        IMPT 00000000   4905 33894 34065 
_POSINER_SV_POS                           IMPT 00000000   4904 33831 33898 34022 34348 
_POSINER_SV_STPPOS                        IMPT 00000000   4906 33906 34136 
_POSITINER_POS_CMP               P             00007764  33436 34420*
_POSITIONER_DAIHAITO             P        EXPT 0000729C  33422 33423*
_POSITIONER_DAI_DATA             P             0000754C  33486 33964*
_POSITIONER_DAI_OBJ1CMP          P             000075E0  33569 34056*
_POSITIONER_DAI_OBJ1MAK          P             000074A0  33545 33826*
_POSITIONER_DAI_OBJ2CMP          P             00007624  33608 34127*
_POSITIONER_DAI_OUT              P             00007668  33577 33616 34193*
_POSITIONER_DAI_STPCHK           P             0000768C  33670 34237*
_POSITIONER_UPDN_LIMIT           P             00007528  33888 33903 33927*
_POSLSI_CHK_CNT                           IMPT 00000000   2857 19903 
_POSLSI_CHK_DLT                           IMPT 00000000   2858 19914 
_POSLSI_CHK_RESTPLS                       IMPT 00000000   2851 19197 27187 
_POSLSI_CHK_STS                           IMPT 00000000   2859 13498 19205 
_POSLSI_CMP_DATA                          IMPT 00000000   2841 11039 16982 
_POSLSI_DELT_POS                          IMPT 00000000   2842 11042 
_POSLSI_DRIV_SHIN                         IMPT 00000000   2850  8578  8935  9005  9347  9518 10951 11122 11253 11461 11558 15088 
                                                         15816 18355 19495 19916 22041 22054 22730 22977 25245 27968 29880 29964 
                                                         30040 30112 32763 35381 
_POSLSI_DRV_FRQ                           IMPT 00000000   3567 25531 25556 25645 25663 25732 25750 25883 25901 25969 25987 
_POSLSI_HENSA_LATCH                       IMPT 00000000   2855 
_POSLSI_OUTPUT_TOTAL_PLS                  IMPT 00000000   2853 19946 
_POS_1STEP_DATA_MAK1             P             000013FC  10331 11077*
_POS_1STEP_DATA_MAK1CL           P             00001468  10375 11158*12973 
_POS_1STEP_DATA_MAK2             P             00001590  11416*12595 12987 
_POS_1STEP_DATA_MAK_SEL          P             00001CBC  12642 12960*
_POS_ALLSTEP_STOP_SPD_CHK        P             00001CF0  13030*
_POS_ALL_STEP_CTRL               P             00001640  10654 11589*
_POS_CALC_ERR_FLG1                        IMPT 00000000   3540 10824 17121 18995 
_POS_CALC_ERR_FLG2                        IMPT 00000000   3541 10829 17124 
_POS_CALC_ERR_INF1                        IMPT 00000000   3544 10826 
_POS_CALC_ERR_INF2                        IMPT 00000000   3545 10831 
_POS_CALC_MISS0                  P             00005E34  14973 15012 15083 28720*
_POS_CALC_MISS1                  P             00005E50  28754*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   648

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POS_CALC_MISS2                  P             00005E6C  28788*
_POS_CLS_OBJPLS_PVPLS_MAKE       P             00004870  21774 21960 22967 23277*
_POS_CLS_RNA_KJYU_FIRST_NZ_CHEAK P             000048FC  21964 23398*
_POS_CLS_RNA_KJYU_NZ_CHEAK       P             00004944  21778 23458*
_POS_CLS_START_CONF              P             00004844  21358 21770 21956 22963 23229*
_POS_CLS_TYP1_NEAR_ZERO_CHEAK    P             000045B4  22605*23410 23470 
_POS_CLS_TYP1_POS_CTL1           P             0000403E  11661 21344*
_POS_CMP_1STEP_START_INI                  IMPT 00000000   6147  6627 10494 12716 14450 15525 32917 33129 
_POS_CNT_BANK_DTMAK1             P             000059F6  10350 27721*
_POS_CNT_BANK_DTMAK2             P             000059F0  27540 27712*
_POS_CNT_BANK_DTMAK3             P             000059A4  12624 27642*
_POS_CNT_BANK_DTMAK_CM           P             00005AEC  27823 27953*
_POS_CNT_LAST_STEP_CHK           P             00005A80  27688 27762 27800 27855*28245 
_POS_CTRL_SQ_STS                          IMPT 00000000   2821 11832 11986 12019 20051 20056 20087 20092 20138 20143 20168 20173 
_POS_DRV_DIRECT                           IMPT 00000000   2815  7576  7630  8575  8932  9002  9344  9515 14656 14687 14713 14888 
                                                         15075 15813 16228 33266 
_POS_ENDMYUT_TIM_SET             P             0000033C   7087  7251*
_POS_ENDWAIT_TIM_SET             P             00000300   7072  7187*
_POS_END_MYUTIG_KEEPTIM                   IMPT 00000000   5213  7290  7324 
_POS_END_MYUTIG_STOPTIM                   IMPT 00000000   5212  7288  7321 
_POS_END_MYUTIG_TIMER_CLR        P             00000388   7316*17173 
_POS_END_WAIT_TIM                         IMPT 00000000   5203  7131  7216  7327 
_POS_FRQ_SPDMAX                           IMPT 00000000   3039 16651 30934 
_POS_GEN_BEFORE_LNG                       EQU  000003E8  21301*
_POS_GPOINT_POS                           IMPT 00000000   3930 
_POS_HLDSTOP1_CHKTIM                      IMPT 00000000   4938 
_POS_HLDSTOP1_FLG                         IMPT 00000000   4939 34699 
_POS_HLDSTOP1_SIG1TIM                     IMPT 00000000   4940 
_POS_HLDSTOP1_SIG2TIM                     IMPT 00000000   4941 
_POS_HOLDABS_CALCF                        IMPT 00000000   4978 
_POS_HOLD_CMD                             IMPT 00000000   4973 
_POS_HOLD_FLG                             IMPT 00000000   4974 
_POS_HOLD_FLG_STR2CLR                     IMPT 00000000   6242 10382 
_POS_HOLD_RDY_EXITF                       IMPT 00000000   4975 
_POS_HOLD_RDY_EXITF2                      IMPT 00000000   4976 
_POS_HOLD_RESTARTCMD                      IMPT 00000000   4972 
_POS_LATE1                                EQU  000003E8  21300*
_POS_LATE_CALC_MAX                        EQU  000003E8  21302*
_POS_LENGTH_ADD_DATA             P        EXPT 00003668   6264 10444 12665 13855 13917 14056 14435 15504 16330 18849*27556 32874 
_POS_LSI_ABSPLS                           IMPT 00000000   2903 
_POS_LSI_ACC1_SET                P             00006864  31271*
_POS_LSI_ACC2_SET                P             0000687C  31295*
_POS_LSI_ACCLT1                           IMPT 00000000   3043 31275 
_POS_LSI_ACCLT2                           IMPT 00000000   3044 31299 
_POS_LSI_ACS_ERR_FLG1                     IMPT 00000000   3539 10834 17118 17956 19099 20571 
_POS_LSI_ACS_ERR_INF1                     IMPT 00000000   3543 10836 
_POS_LSI_BAS_SPEED_SET           P             000067CC  17453 17496 31124*
_POS_LSI_CLSINC_SPDBAS                    IMPT 00000000   3061 24293 
_POS_LSI_CLS_BAS_SPD_SET         P        EXPT 000067E4  17541 31143 31149*
_POS_LSI_CLS_SPDBAS                       IMPT 00000000   3060 
_POS_LSI_CLS_TOP_EQ_BAS_SET1     P        EXPT 00006814  31201 31207*
_POS_LSI_CLS_TOP_EQ_BAS_SET2     P        EXPT 0000683C  21595 21917 31229 31237*
_POS_LSI_CNT_LOAD_R1reg          P        EXPT 00003654  18811 18818*
_POS_LSI_CTL_NOWPLS                       IMPT 00000000   2907 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   649

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_POS_LSI_DATA_INITAL             P        EXPT 000030C4  17275 17444*
_POS_LSI_EMG_STOP                P             00003318  10547 10757 17030 17107 18034*32966 
_POS_LSI_EMG_STOP_CMD            P             00003378  18058 18134*
_POS_LSI_FRQ_DATA_MAK                     IMPT 00000000  30502 30519 
_POS_LSI_HARD_INITAL             P        EXPT 00003074  17274 17356*
_POS_LSI_OFFSET1                          IMPT 00000000   2905 
_POS_LSI_OFFSET2                          IMPT 00000000   2906 
_POS_LSI_OLDCNT                           IMPT 00000000   2909 
_POS_LSI_SLOW_STOP               P        EXPT 0000334C   6257 10580 18086*21978 22067 
_POS_LSI_SLOW_STOP_CMD           P             000033F0  18235*
_POS_LSI_SPDBAS                           IMPT 00000000   3042 30578 
_POS_LSI_SPDLAT                           IMPT 00000000   3041 31323 
_POS_LSI_SPDLATE_SET             P             00006894  17449 31319*
_POS_LSI_SPDMAX                           IMPT 00000000   3040 16649 30936 
_POS_LSI_START_INITAL            P        EXPT 000030F0   6259 10311 10433 12569 17487*32864 
_POS_LSI_START_INITAL_TEP        P             00003148  10406 15488 17576*
_POS_LSI_START_INITL2            P             0000311C  10371 17533*
_POS_LSI_TEP_BAS_SPEED_SET       P        EXPT 000067FC  17582 31171 31177*
_POS_LSI_TOP_SPEED_SET           P        EXPT 000067A4   6260 10412 11101 11183 11440 11542 13843 13904 13972 14022 14044 15495 
                                                         31077*31219 31249 32709 33294 
_POS_LSI_TOP_SPEED_SETX          P             000067B8  13525 16573 27936 31100*
_POS_LSI_TOTAL_PLS                        IMPT 00000000   2902 
_POS_LSI_WORK_STOP2              P             00002F14   6637 16973*21838 22951 28700 33143 
_POS_LSI_WORK_STOP_CLR           P             00002EEC  16941*17511 17553 17591 18175 18276 21842 22956 28696 
_POS_OVER_RUN_CHK1                        IMPT 00000000   6153 10842 
_POS_PLSOUT_SET_RETRY            P             000036A0  10454 12677 15508 18897*32883 
_POS_PLS_OUTPUT_DATA             P        EXPT 000037C8   6265 10674 13859 13921 14060 14439 16334 18909 18968 19186*22994 32988 
_PRD_DAI_CMP_ENB                          IMPT 00000000   3492 
_PRD_DAI_POS0                             IMPT 00000000   3490 
_PRD_DAI_POS1                             IMPT 00000000   3491 
_PRD_KJP_CMP_ENB                          IMPT 00000000   3978 
_PRESET_PV_ABS_TO_OBJ            P        EXPT 00006180   6540 29521 29522*
_PRESET_PV_FLGCLR                P        EXPT 000061B4  17166 29571 29575*
_PROC_2MS_PLS                             EQU  000007D0  28306*29948 
_PS_DG_INF_CHK1                           EQU  00000000   2204*
_PS_DG_INF_CHK2                           EQU  0000003C   2209*
_PS_DG_INF_CONT                           EQU  00000004   2205*
_PS_DG_INF_LATE                           EQU  00000010   2208*
_PS_DG_INF_STLK                           EQU  0000000C   2207*
_PS_DG_INF_UNIT                           EQU  00000008   2206*
_PS_TIME                                  EQU  00000002   1998*
_PVCK_STOP_SMPTIM                         IMPT 00000000   3241 
_PVC_BRK_ENC_SPD                          IMPT 00000000   3445 20958 21018 
_PVC_BRK_OUT_SPD                          IMPT 00000000   3446 20907 
_PVPAB_KAJLIV_TTL                         IMPT 00000000   6239 
_PVP_ATSLID_OBJ1                          IMPT 00000000  33419 33431 
_PVP_CB_A_VER                             IMPT 00000000   6228 17406 17417 17724 17735 17747 17771 17782 17807 17818 17874 17888 
                                                         17899 18157 18168 18198 18209 18258 18269 18299 18310 18395 18406 18416 
                                                         18442 18453 18463 18527 18538 18601 18612 18736 18749 18765 18777 19322 
                                                         19336 19347 20838 20858 28372 28386 28397 30215 30229 30240 30332 30346 
                                                         30357 30415 30426 30467 30478 
_PVP_CPUA_TEPPLS                          IMPT 00000000  16083 
_PVP_CPUB_TEPPLS                          IMPT 00000000  16084 16099 16142 
_PVP_MONALM_A01                           IMPT 00000000  26064 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   650

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PVP_MONALM_A02                           IMPT 00000000  26065 
_PVP_MONALM_A03                           IMPT 00000000  26066 
_PVP_MONALM_A04                           IMPT 00000000  26067 
_PVP_MONALM_A05                           IMPT 00000000  26068 
_PVP_MONALM_A06                           IMPT 00000000  26069 
_PVP_MONALM_A07                           IMPT 00000000  26070 
_PVP_MONALM_A08                           IMPT 00000000  26071 
_PVP_MONALM_B01                           IMPT 00000000  26072 
_PVP_MONALM_B02                           IMPT 00000000  26073 
_PVP_MONALM_B03                           IMPT 00000000  26074 
_PVP_MONALM_B04                           IMPT 00000000  26075 
_PVP_MONALM_B05                           IMPT 00000000  26076 
_PVP_MONALM_B06                           IMPT 00000000  26077 
_PVP_MONALM_B07                           IMPT 00000000  26078 
_PVP_MONALM_B08                           IMPT 00000000  26079 
_PVP_MONALM_C01                           IMPT 00000000  26056 34457 
_PVP_MONALM_C02                           IMPT 00000000  26057 
_PVP_MONALM_C03                           IMPT 00000000  26058 
_PVP_MONALM_C04                           IMPT 00000000  26059 
_PVP_MONALM_C05                           IMPT 00000000  26060 
_PVP_MONALM_C06                           IMPT 00000000  26061 
_PVP_MONALM_C07                           IMPT 00000000  26062 
_PVP_MONALM_C08                           IMPT 00000000  26063 
_PVP_MONALM_P01                           IMPT 00000000  26081 
_PVP_MONALM_P02                           IMPT 00000000  26082 
_PVP_MONALM_P03                           IMPT 00000000  26083 
_PVP_MONALM_P04                           IMPT 00000000  26084 
_PVX_AMPERR_TIM1                          IMPT 00000000   3179 
_PVX_AMPERR_TIM2                          IMPT 00000000   3180 
_PVX_AMPERR_TIM3                          IMPT 00000000   3181 
_PVX_CKAGL_OVBIT                          IMPT 00000000   4736 
_PVX_CKSPD_OVBIT                          IMPT 00000000   4717 
_PVX_DAI_POS0                             IMPT 00000000   2923 
_PVX_DAI_POS1                             IMPT 00000000   2924 33504 34454 
_PVX_DNMOD_DLYTIM                         IMPT 00000000   4701 32091 32108 
_PVX_DYHITO_POS                           IMPT 00000000   2931 
_PVX_IAMP_VLT                             IMPT 00000000   3182 
_PVX_INPPOS_TIM1                          IMPT 00000000   3155 
_PVX_MOTINS_AG2                           IMPT 00000000   4521 
_PVX_MOTINS_AG2X                          IMPT 00000000   4522 
_PVX_MOTINS_AG3                           IMPT 00000000   4527 
_PVX_MOTINS_AG3X                          IMPT 00000000   4528 
_PVX_MOTINS_AGL                           IMPT 00000000   4524 
_PVX_MOTINS_AGLX                          IMPT 00000000   4525 
_PVX_MOTINS_DAN                           IMPT 00000000   4532 
_PVX_MOTINS_DANAFT                        IMPT 00000000   4533 
_PVX_MOTINS_DANBEF                        IMPT 00000000   4531 
_PVX_MOTINS_INF                           IMPT 00000000   4535 
_PVX_MOTINS_POS                           IMPT 00000000   4518 
_PVX_MOTINS_PS2                           IMPT 00000000   4517 
_PVX_MOTINS_PS3                           IMPT 00000000   4519 
_PVX_RNA_STLORK                           IMPT 00000000   2925 
_PV_ENC_SPD_PER                           IMPT 00000000   3443 20957 21016 
_PV_OUT_SPD_PER                           IMPT 00000000   3444 20906 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   651

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_PV_POWER_ON_CNT                          IMPT 00000000   6082 24418 
_R2_MUL10_ANS_R2                 PHiROM        00000566  36167 36244*37477 37486 
_RDY_OF                                   IMPT 00000000   5470 
_RDY_ON                                   IMPT 00000000   5469 
_RDY_SFTY_LOCK                            IMPT 00000000   3714 
_RDY_SFTY_WAIT_TIM                        IMPT 00000000   3715 
_REP_CAMOBJ_DIG                           IMPT 00000000   5033 
_RESET_END_OUT                            IMPT 00000000   5462 
_RESET_OUT                                IMPT 00000000   5461 
_RESET_ROTNUMPLS_ZR                       IMPT 00000000   2715 
_RESET_ROTNUM_ZR                          IMPT 00000000   2714 
_RESTART_WAIT_PLS_DATA_SELECT    P             0000442C  21885 22188*
_REVCHK_DRIV_SHIN                         IMPT 00000000   4602 
_REVCHK_MASK_PVTIM                        IMPT 00000000   4603 
_REVMOD_REVDN_DIG                         IMPT 00000000   4605 
_REVRSE_BASINC_SPDCALC           P        EXPT 00004C70  21318 21591 21910 24164 24212 24248*
_REVRSE_KAJYU1_BASINCSET         P             00004C08  24107 24152*
_REVRSE_KAJYU2_BASINCSET         P             00004C3C  24123 24200*
_REVRSE_KAJYU_AREACHK_BASSET     P             00004BC8  21893 24081*
_REV_BEFORE_CHGKOUTEICHK         P             00004798  13453 23036*
_REV_CALC_WORK0                           IMPT 00000000   3232 
_REV_CALC_WORK1                           IMPT 00000000   3233 
_REV_CALC_WORK2                           IMPT 00000000   3234 
_REV_ERR_FLG                              IMPT 00000000   5234 
_REV_ERR_LT_PGPOS                         IMPT 00000000   5237 
_REV_ERR_LT_SVPOS                         IMPT 00000000   5238 
_REV_ERR_WAIT_TIMPV                       IMPT 00000000   4601 
_REV_LATCH_ENCPOS                         IMPT 00000000   2873 
_REV_LATCH_OUTPLS                         IMPT 00000000   2872 
_REV_LATCH_RNAPOS                         IMPT 00000000   2874 
_RL_POS_DATA_CHK                 P             000069DC  10899 31555*
_RM1_CHK_OLDSTS                           IMPT 00000000   5058 
_RM1_CHK_TIME                             IMPT 00000000   5059 
_RM2_CHK_OLDSTS                           IMPT 00000000   5061 
_RM2_CHK_TIME                             IMPT 00000000   5062 
_RNAREV_ADD                               EQU  00000000   2061*
_RNASTP_ADD                               EQU  00000000   2059*
_RNA_ABS_DRVHOS_DT                        IMPT 00000000   2964 
_RNA_ABS_MAXPOS                           IMPT 00000000   2943 
_RNA_ABS_MD2_C1                           IMPT 00000000   4335 
_RNA_ABS_MD2_C1A                          IMPT 00000000   4336 
_RNA_ABS_MD2_C2                           IMPT 00000000   4337 
_RNA_ABS_MD_DT0                           IMPT 00000000   2927 
_RNA_ABS_MD_DT1                           IMPT 00000000   2928 
_RNA_ABS_MEMORG                           IMPT 00000000   2920 
_RNA_ABS_MINPOS                           IMPT 00000000   2942 
_RNA_ABS_ORGWORK                          IMPT 00000000   2911 
_RNA_ABS_ORGWORK2                         IMPT 00000000   4329 
_RNA_ABS_ORGWORK2A                        IMPT 00000000   4330 
_RNA_ABS_POS                              IMPT 00000000   2919 20315 20380 
_RNA_ABS_WKMAXPOS                         IMPT 00000000   2941 
_RNA_ABS_WKMINPOS                         IMPT 00000000   2940 
_RNA_BBN_MESURE_POINT                     IMPT 00000000   4476 
_RNA_BBN_MESURE_SPOS_BUF                  IMPT 00000000   4469 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   652

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_RNA_BBN_MESURE_SSPD                      IMPT 00000000   4471 
_RNA_BBN_MESURE_SSPD_BUF                  IMPT 00000000   4470 
_RNA_BBN_MEUSRE_ACC                       IMPT 00000000   4473 
_RNA_BBN_MEUSRE_ACC_SRC                   IMPT 00000000   4472 
_RNA_BBN_SET_TIME                         IMPT 00000000   4475 
_RNA_CMD_RD_CNT                           IMPT 00000000   2538 
_RNA_CMD_SND_CNT                          IMPT 00000000   2537 
_RNA_COM_ERR_CNT                          IMPT 00000000   2530 
_RNA_COM_NML_CNT                          IMPT 00000000   2531 
_RNA_CTL_POS0                             IMPT 00000000   2929 
_RNA_CTL_POS1                             IMPT 00000000   2930 20322 20357 
_RNA_ENC360                               IMPT 00000000   2522 
_RNA_HOS_DELT                             IMPT 00000000   2932 
_RNA_INSERT_CHKFLG                        IMPT 00000000   4488 
_RNA_LINK_NOWROT_OFSPLS_P                 IMPT 00000000   2706 20327 20367 22839 23317 
_RNA_OLD_STEP                             IMPT 00000000   4491 
_RNA_POS_OFFSET1                          IMPT 00000000   2917 
_RNA_POS_OFFSET2                          IMPT 00000000   2918 
_RNA_PROTOCOL_SEL                         IMPT 00000000   4028 
_RNA_PROTOCOL_X                           IMPT 00000000   4031 
_RNA_RESET_FLG                            IMPT 00000000   2533 
_RNA_RESET_TIM                            IMPT 00000000   2534 
_RNA_STLORK                               IMPT 00000000   2922 
_RNA_STLORK_HALF                          IMPT 00000000   4327 
_RNA_STOP_CNT                             IMPT 00000000   3242 
_RNA_TECH_POINT                           IMPT 00000000   4487 
_RNA_TECH_POSBUF                          IMPT 00000000   4486 
_ROOT_MAIN_INP                            IMPT 00000000   5430 
_ROOT_MAIN_OUT                            IMPT 00000000   5431 
_RST_DLY_TM                               EQU  000000C8   2017*
_RST_ERR_CHK_ERR                          IMPT 00000000   2878 
_RST_ERR_CHK_FLG                          IMPT 00000000   2876 13987 
_SAME_TIM                                 IMPT 00000000   2658 
_SCAN_DBG_CNT                             IMPT 00000000   4782 
_SCAN_SMP_SIG                             IMPT 00000000   4769 
_SCAN_TIM_IDOBUF                          IMPT 00000000   4760 
_SCAN_TIM_IN                              IMPT 00000000   4765 
_SCAN_TIM_POINT                           IMPT 00000000   4761 
_SCAN_TIM_TOTAL                           IMPT 00000000   4759 
_SDATCLS_OBJMM                            IMPT 00000000   3067 
_SDATCLS_OBJPLS                           IMPT 00000000   3066 23292 
_SDATCLS_OBJ_NEAR_UPDNPLS                 IMPT 00000000   3068 22614 
_SDATCLS_TRG_STEP                         IMPT 00000000   3070 22609 23240 23282 23871 
_SDATCLS_UPOBJ_PLS                        IMPT 00000000   3069 23285 
_SDAT_WAIT_PVTIM                          IMPT 00000000   2760 12176 12184 13733 13756 13763 14315 14340 14349 21638 23535 23819 
                                                         32036 
_SELF_AD_LATCH                            IMPT 00000000   3703 
_SELF_BRK_LOCK                            IMPT 00000000   3699 
_SELF_CHK_MATHED                          IMPT 00000000   3698 
_SELF_CHK_SEL                             IMPT 00000000   2605 
_SELF_COM                                 IMPT 00000000   2603 
_SELF_FIRST_END_FLG                       IMPT 00000000   3696 
_SELF_FLG                                 IMPT 00000000   2601 
_SELF_LOCK_FLG                            IMPT 00000000   3983 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   653

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SELF_MOV_LENGTH                          IMPT 00000000   3706 
_SELF_MOV_SPEED                           IMPT 00000000   3707 
_SELF_POS_START_WORK_CLR         P        EXPT 00005E18  28684 28691*
_SELF_SECOND_ACT_FLG                      IMPT 00000000   3701 
_SELF_SECOND_STEP                         IMPT 00000000   3702 
_SELF_START_POS_LATCH                     IMPT 00000000   3705 
_SELF_START_WAIT_TM                       IMPT 00000000   2604 
_SELF_TIMING_SIG                          IMPT 00000000   3697 
_SEQ_DP_TOP                               IMPT 00000000  23484 
_SET1_ACCLAT_TIM1                         IMPT 00000000   3142 30626 
_SET1_AMP100P_VLT                         IMPT 00000000   3176 
_SET1_ARACHK_LNG1                         IMPT 00000000   3157 
_SET1_ATDAT_DOTPOS                        IMPT 00000000   4919 33971 
_SET1_ATSLID_BAKLNG                       IMPT 00000000   4914 33854 33875 34009 
_SET1_ATSLID_COEF1                        IMPT 00000000   4917 34016 34356 
_SET1_ATSLID_COEF2                        IMPT 00000000   4918 34444 
_SET1_ATSLID_DNOBJ1                       IMPT 00000000   4915 33857 33995 
_SET1_ATSLID_UPOBJ1                       IMPT 00000000   4916 33879 34002 
_SET1_BREAK_DIG                           IMPT 00000000   3478 
_SET1_BREAK_TIM1                          IMPT 00000000   3476 
_SET1_CNT_CNT                             IMPT 00000000   3085 
_SET1_CNT_TIM                             IMPT 00000000   3083 
_SET1_DAIHAI_LNG1                         IMPT 00000000   3168 
_SET1_DAIHAI_LNG2                         IMPT 00000000   3169 
_SET1_DAIHAI_LNG3                         IMPT 00000000   3170 
_SET1_DAIHAI_ORG0                         IMPT 00000000   3187 
_SET1_DAIORG0_CMP1DN                      IMPT 00000000   3189 
_SET1_DAIORG0_CMP1UP                      IMPT 00000000   3188 
_SET1_DAIORG0_CMP2DN                      IMPT 00000000   3191 
_SET1_DAIORG0_CMP2UP                      IMPT 00000000   3190 
_SET1_DAIORG0_CMP3DN                      IMPT 00000000   3193 
_SET1_DAIORG0_CMP3UP                      IMPT 00000000   3192 
_SET1_DAIORG0_CMP4DN                      IMPT 00000000   3195 
_SET1_DAIORG0_CMP4UP                      IMPT 00000000   3194 
_SET1_DNAREA_INPX                         IMPT 00000000   3145 
_SET1_DNAREA_INPXPLS                      IMPT 00000000   3149 
_SET1_DNAREA_JUDG                         IMPT 00000000   3119 
_SET1_DNDINC_SPD1                         IMPT 00000000   3128  8687 16473 16516 
_SET1_DND_DIGTOP                          IMPT 00000000   3757 
_SET1_DND_PLSTOP                          IMPT 00000000   3758  8357 
_SET1_DND_STOPDIG_UP                      IMPT 00000000   3756 
_SET1_DND_STOP_SW                         IMPT 00000000   3755  8064 
_SET1_DND_UPPLS                           IMPT 00000000   3759 
_SET1_EJECAM_OFR                          IMPT 00000000   5022 
_SET1_EJECAM_ONR                          IMPT 00000000   5021 
_SET1_ENC360_HOS1                         IMPT 00000000   3159 
_SET1_FULCLS_MXPLS                        IMPT 00000000   3171 
_SET1_INCDIR_SEL1                         IMPT 00000000   3100 
_SET1_INCENC_ELNG                         IMPT 00000000   3162 
_SET1_INCHEN_ELNG                         IMPT 00000000   3161 
_SET1_INCPLS_1REV                         IMPT 00000000   3097 
_SET1_INCPLS_HOSM                         IMPT 00000000   3102 
_SET1_INCPLS_HOSN                         IMPT 00000000   3101 
_SET1_INCPOS_KP01                         IMPT 00000000   3140 21868 22213 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   654

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_INCREV_ELNG                         IMPT 00000000   3166 
_SET1_INCRNA_ELNG                         IMPT 00000000   3163 
_SET1_INCSTP_ELNG                         IMPT 00000000   3164 
_SET1_INPPOS_TIM1                         IMPT 00000000   3154 
_SET1_INTLIM_AGL                          IMPT 00000000   4944 
_SET1_INTLIM_PLS                          IMPT 00000000   4946 
_SET1_KAJAREA_ENO                         IMPT 00000000   4855 
_SET1_KAJAREA_SEL                         IMPT 00000000   4869 
_SET1_KAJAREA_SNO                         IMPT 00000000   4854 
_SET1_KATTCH_EAG                          IMPT 00000000   4877 
_SET1_KATTCH_SAG                          IMPT 00000000   4876 
_SET1_KATTCH_SPD                          IMPT 00000000   4545 
_SET1_KJEND_DIG1                          IMPT 00000000   3746 
_SET1_KJEND_DIG2                          IMPT 00000000   4858 
_SET1_KJEND_STEP1                         IMPT 00000000   3745 
_SET1_KJSTR_DIG1                          IMPT 00000000   3744 
_SET1_KJSTR_DIG2                          IMPT 00000000   4857 
_SET1_KJSTR_STEP1                         IMPT 00000000   3743 
_SET1_LSAABN_AGL1                         IMPT 00000000   3732 
_SET1_LSAABN_AGL2                         IMPT 00000000   3733 
_SET1_MAX_KJYU                            IMPT 00000000   4188 
_SET1_MISCAM_OFR                          IMPT 00000000   5024 
_SET1_MISCAM_ONR                          IMPT 00000000   5023 
_SET1_MOTMAX_FREQ                         IMPT 00000000   3114 
_SET1_MOTREP_CNT                          IMPT 00000000   5014 32649 
_SET1_MOTREP_SPD                          IMPT 00000000   5013 32702 
_SET1_MOTREP_STGE                         IMPT 00000000   5012 32644 
_SET1_MOTREP_STGS                         IMPT 00000000   5011 12335 32713 
_SET1_MOTREP_USEFUL                       IMPT 00000000   5010 32606 
_SET1_MOTRPM_MAXM                         IMPT 00000000   3104 
_SET1_MRTION_SEL1                         IMPT 00000000   3197 
_SET1_MTSTEP_MAXM                         IMPT 00000000   3198 
_SET1_NEG_OFS_LNG                         IMPT 00000000   3175 
_SET1_OBJARA_INPX                         IMPT 00000000   3146 
_SET1_OBJARA_INPXPLS                      IMPT 00000000   3150  9692 14979 15019 20044 20129 
_SET1_OBJARA_INPXPSX                      IMPT 00000000   3152 20020 
_SET1_OBJECT_DIG_TOP                      IMPT 00000000   3222 
_SET1_OBJECT_PLS_TOP                      IMPT 00000000   3208 
_SET1_OBJECT_POS_TOP                      IMPT 00000000   3203 
_SET1_OBJECT_SPD_TOP                      IMPT 00000000   3211 
_SET1_OBJECT_TIM_TOP                      IMPT 00000000   3215 
_SET1_OBJ_CAM_DIG_TOP                     IMPT 00000000   3256 
_SET1_OVERLIDE_COF                        IMPT 00000000   3867 29091 29096 
_SET1_PLSAHI_PLS                          IMPT 00000000   3783 15652 
_SET1_PLSALO_PLS                          IMPT 00000000   3782 15646 
_SET1_RCAMON_POS_TOP                      IMPT 00000000   3258 
_SET1_RCAMON_TIM_TOP                      IMPT 00000000   3259 
_SET1_REVDAT_SPD1                         IMPT 00000000   3131 
_SET1_REVDAT_SPD2                         IMPT 00000000   3134 
_SET1_REVDAT_SPD3                         IMPT 00000000   3135 
_SET1_RNADIR_SEL1                         IMPT 00000000   3099 
_SET1_RNAORG_POS1                         IMPT 00000000   3115 
_SET1_RNAPOS_KP01                         IMPT 00000000   3141 22238 
_SET1_RNAPOS_MAXP                         IMPT 00000000   3116 33932 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   655

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET1_RNAPOS_MINP                         IMPT 00000000   3117 33939 
_SET1_RNAREV_ELNG                         IMPT 00000000   3167 
_SET1_RNASTP_ELNG                         IMPT 00000000   3165 
_SET1_ROTCAM_OFR                          IMPT 00000000   5020 
_SET1_ROTCAM_ONR                          IMPT 00000000   5019 
_SET1_RPARAM_TOP1                         IMPT 00000000   3093 
_SET1_SSCURV_TIM1                         IMPT 00000000   3143 
_SET1_STDINC_SPD1                         IMPT 00000000   3130 
_SET1_TEPCTL_SPD1                         IMPT 00000000   3790 
_SET1_TEPLAT_DAT1                         IMPT 00000000   3137 
_SET1_TEPLAT_DAT2                         IMPT 00000000   3138 
_SET1_UPAREA_DIG0                         IMPT 00000000   3221 
_SET1_UPAREA_DIG1                         IMPT 00000000   3158  9645 15884 
_SET1_UPAREA_INPX                         IMPT 00000000   3144 
_SET1_UPAREA_INPXPLS                      IMPT 00000000   3148 
_SET1_UPAREA_JUDG                         IMPT 00000000   3118 
_SET1_UPAREA_PLS0                         IMPT 00000000   3206 
_SET1_UPAREA_PLS1                         IMPT 00000000   3207  8304  8772 
_SET1_UPAREA_POS0                         IMPT 00000000   3202 
_SET1_UPAREA_POS1                         IMPT 00000000   3038 
_SET1_UPAREA_SPD0                         IMPT 00000000   3210 
_SET1_UPAREA_SPD1                         IMPT 00000000   3129  7365 
_SET1_UPAREA_TIM0                         IMPT 00000000   3214 
_SET1_UPCLEEP_SPD                         IMPT 00000000   3132  7385 
_SET1_VIB_KJYU_TTL                        IMPT 00000000   4187 
_SET2_INTLIM_AGL                          IMPT 00000000   4945 
_SET2_INTLIM_PLS                          IMPT 00000000   4947 
_SET360_UPAREA_DIG1                       IMPT 00000000   4043 
_SET360_UPAREA_PLS1                       IMPT 00000000   4044 
_SETC_KJEND_DIG1                          IMPT 00000000   4126 
_SETC_KJEND_DIG2                          IMPT 00000000   4865 
_SETC_KJSTR_DIG1                          IMPT 00000000   4125 
_SETC_KJSTR_DIG2                          IMPT 00000000   4864 
_SETD_DEGSPD_MAX                          IMPT 00000000   3294 
_SETD_LINK_MAX_SPD_PLS                    IMPT 00000000   4236 21153 
_SETD_MOTRPM_MAXM                         IMPT 00000000   4237 
_SETXY_LINK_UP_POS_DN                     IMPT 00000000   4107 
_SETXY_LINK_UP_POS_UP                     IMPT 00000000   4106 
_SETXY_UPAREA_DIG                         IMPT 00000000   4102 
_SETXY_UPAREA_PLS                         IMPT 00000000   4101 
_SETX_ACCERR_DLY1                         IMPT 00000000   4444 
_SETX_ACCERR_ERR3DAT                      IMPT 00000000   4439 
_SETX_ACCERR_SEL                          IMPT 00000000   4449 
_SETX_BANK_USELFUL                        IMPT 00000000   3656 
_SETX_BREAK_DIG2                          IMPT 00000000   4172 
_SETX_BREAK_TIM2                          IMPT 00000000   4173 
_SETX_DAIPOS_MAXP                         IMPT 00000000   3124 
_SETX_DAIPOS_MINP                         IMPT 00000000   3125 
_SETX_DNAREA_JG_LNK                       IMPT 00000000   3120 15896 
_SETX_DNAREA_JG_PLS                       IMPT 00000000   3121  8335 
_SETX_FULCLS_AREA_DIG                     IMPT 00000000   3063 
_SETX_FULCLS_AREA_PLS                     IMPT 00000000   3064 22773 
_SETX_FULCLS_MATEHD_SW                    IMPT 00000000   4822 
_SETX_HOLD_CMP1_DEG                       IMPT 00000000   4456 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   656

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SETX_INCPLS_HOSM                         IMPT 00000000   3103 
_SETX_KJEND_DIG1                          IMPT 00000000   4121 
_SETX_KJEND_DIG2                          IMPT 00000000   4861 
_SETX_KJSTR_DIG1                          IMPT 00000000   4120 
_SETX_KJSTR_DIG2                          IMPT 00000000   4860 
_SETX_KJYUCLS_OBJ                         IMPT 00000000   4824 
_SETX_KJYU_INCPOS_KP01                    IMPT 00000000   5114 21870 21924 22215 22240 
_SETX_LINK_UP_POS_DN                      IMPT 00000000   2701 
_SETX_LINK_UP_POS_UP                      IMPT 00000000   2700 
_SETX_MAX_ACC_LATE                        IMPT 00000000   4433 
_SETX_MOTREP_DIR                          IMPT 00000000   5028 
_SETX_OUTPLS_HOSA                         IMPT 00000000   3111 
_SETX_OUTPLS_HOSB                         IMPT 00000000   3112 
_SETX_OVERH_AMP                           IMPT 00000000   4675 
_SETX_OVERH_LNGTH                         IMPT 00000000   4674 
_SETX_POS_CTL_MATH                        IMPT 00000000   2734  7437  7533  9874 13621 20026 32064 32292 32354 32418 
_SETX_POS_MOD_FLG1                        IMPT 00000000   2733 
_SETX_POS_SDAT1_CNTSTEP                   IMPT 00000000   2725 
_SETX_POS_SDAT1_INF1                      IMPT 00000000   2726 36139 
_SETX_POS_SDAT1_OFSPOS                    IMPT 00000000   2722 
_SETX_POS_SDAT1_SPD                       IMPT 00000000   2723 
_SETX_POS_SDAT1_TIM                       IMPT 00000000   2724 
_SETX_POS_SDAT2_INF1                      IMPT 00000000   2732 
_SETX_POS_SDAT2_OFSPOS                    IMPT 00000000   2728 
_SETX_POS_STEP_MAX                        IMPT 00000000   2735 36141 36381 
_SETX_RNA_ACC_BEFTIM                      IMPT 00000000   4489 
_SETX_RNA_ACC_CHKPOS                      IMPT 00000000   4490 
_SETX_SDAT1_INTLIMOFS                     IMPT 00000000   4948 
_SETX_SDAT2_INTLIMOFS                     IMPT 00000000   4949 
_SETX_UPAREA_DIG                          IMPT 00000000   3036 
_SETX_UPAREA_PLS                          IMPT 00000000   3034  8314  9175  9402 
_SETX_UPAREA_RNA                          IMPT 00000000   3035 
_SETX_UPDN_CHK_DN_DIG                     IMPT 00000000   3051 15879 15898 
_SETX_UPDN_CHK_DN_PLS                     IMPT 00000000   3053  8457  8799  9220 
_SETX_UPDN_CHK_UP_DIG                     IMPT 00000000   3050 
_SETX_UPDN_CHK_UP_PLS                     IMPT 00000000   3052 
_SETX_UPERR_ERRCMPDAT                     IMPT 00000000   4455 
_SETY_INCPLS_HOSM0001                     IMPT 00000000   3109 
_SETY_INCPLS_HOSM001                      IMPT 00000000   3108 
_SETY_INCPLS_HOSM01X                      IMPT 00000000   3107 
_SETY_INCPLS_HOSM1XX                      IMPT 00000000   3106 
_SETY_KJEND_DIG1                          IMPT 00000000   4123 
_SETY_KJEND_DIG2                          IMPT 00000000   4863 
_SETY_KJSTR_DIG1                          IMPT 00000000   4122 
_SETY_KJSTR_DIG2                          IMPT 00000000   4862 
_SETY_SDAT1_INTLIMOFS                     IMPT 00000000   4951 
_SETY_SDAT2_INTLIMOFS                     IMPT 00000000   4952 
_SET_ACC_OVRLIDE                          IMPT 00000000   3878 29049 29152 29202 29228 29363 33307 
_SET_CLSINC_SPDBAS_PLS                    IMPT 00000000   3846 24181 24229 24300 30540 31242 
_SET_CLS_SPDBAS_PLS                       IMPT 00000000   3844 31154 31212 
_SET_DN_ACC_LATE                          IMPT 00000000   3895 30636 34732 
_SET_GMN_ACC_OVRLIDE                      IMPT 00000000   3870 29025 29107 29150 
_SET_GMN_SPD_OVRLIDE                      IMPT 00000000   3869 29022 29104 29145 
_SET_NZ_TIM_DAT                           IMPT 00000000   6161 11837 12014 27580 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   657

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SET_OVER_RIDE                   P             00005FF0  10059 29129*29309 
_SET_PV_ABS_TO_OBJ               P        EXPT 000061F8   6271 29533 29654*
_SET_SEQ_ACC_OVRLIDE                      IMPT 00000000   3858 28924 29001 29200 
_SET_SEQ_SPD_OVRLIDE                      IMPT 00000000   3857 28922 28998 29195 
_SET_SPDBAS_PLS                           IMPT 00000000   3845 31129 
_SET_SPD_OVRLIDE                          IMPT 00000000   3877 29046 29147 29197 29225 29396 33304 
_SET_UP_ACC_LATE                          IMPT 00000000   3894 30634 34727 
_SET_UP_TIM                               IMPT 00000000   2659 
_SFTYCHK_CLANK_DEG                        IMPT 00000000   5180 
_SFTYCHK_LINK_PLS                         IMPT 00000000   5181 
_SFTYCHK_RNA_POS                          IMPT 00000000   3374 
_SFTY_CTL_IN_DAT                          IMPT 00000000   2553 
_SFTY_IN_DAT                              IMPT 00000000   2552 
_SFTY_LOCK_DLYTM                          IMPT 00000000   3977 
_SGL_CMPERR_CNTMAX                        EQU  00000014   6049*
_SGL_CMP_ERR_DT_CLR              P        EXPT 0000579C   6557 26549 27214 27223*33073 
_SH2_4B                                   EQU  00000004  27021*
_SH2_8B                                   EQU  00000008  27023*
_SH2_ADD_PLS                              IMPT 00000000   5790 
_SH2_BAS_FRQ_SV                           IMPT 00000000   5750 
_SH2_CNT_REST_HF                          IMPT 00000000   5761 26475 26541 
_SH2_CNT_REST_PLS                         IMPT 00000000   5745 26472 
_SH2_DNM_CALC_INFO                        IMPT 00000000  35799 35839 35918 35937 35969 36011 36076 
_SH2_GPOINT_LNG                           IMPT 00000000   6230 
_SH2_GPOINT_LNGDSP                        IMPT 00000000   5798 
_SH2_GPOINT_SPDDSP                        IMPT 00000000   5799 
_SH2_HD_CNT_STOP                          IMPT 00000000   6204 
_SH2_HD_CTRL_BUSY                         IMPT 00000000   6196 
_SH2_HD_CTRL_REDY                         IMPT 00000000   6194 
_SH2_HD_NEAR_ZERO                         IMPT 00000000   6202 
_SH2_HD_POS_START                         IMPT 00000000   6198 
_SH2_HD_SFTY_AUTO                         IMPT 00000000   6200 
_SH2_HD_STEP_END                          IMPT 00000000   6206 
_SH2_LNGH_ADD_SR                          IMPT 00000000   5746 18938 26293 
_SH2_LOT_CNT_A                            IMPT 00000000   5757 18947 26217 26280 
_SH2_LOT_STEP_A                           IMPT 00000000   5758 19483 26220 26283 
_SH2_NOW_FRQ_PV                           IMPT 00000000   5752 
_SH2_NOW_STEP                             IMPT 00000000   5796 25568 
_SH2_PLSI_ACCS                            IMPT 00000000   5754 
_SH2_PLSI_LATE                            IMPT 00000000   5755 
_SH2_REST_PLS_RL                          IMPT 00000000   5748 19400 26299 
_SH2_REST_PLS_SR                          IMPT 00000000   5747 19028 26296 
_SH2_REST_RL_HF                           IMPT 00000000   5760 10689 26226 26289 33003 
_SH2_REST_SR_HF                           IMPT 00000000   5759 19140 26223 26286 
_SH2_STEP1_FRQ                            IMPT 00000000   5778 25752 26373 
_SH2_STEP1_PV_PLS                         IMPT 00000000   5773 25742 26358 
_SH2_STEP1_REST_P                         IMPT 00000000   5768 25747 26343 
_SH2_STEP1_SV_PLS                         IMPT 00000000   5763 25737 26328 
_SH2_STEP1_TIM                            IMPT 00000000   5783 25757 26388 
_SH2_STEP2_FRQ                            IMPT 00000000   5779 25903 26376 
_SH2_STEP2_PV_PLS                         IMPT 00000000   5774 25893 26361 
_SH2_STEP2_REST_P                         IMPT 00000000   5769 25898 26346 
_SH2_STEP2_SV_PLS                         IMPT 00000000   5764 25888 26331 
_SH2_STEP2_TIM                            IMPT 00000000   5784 25908 26391 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   658

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH2_STEP3_FRQ                            IMPT 00000000   5780 25989 26379 
_SH2_STEP3_PV_PLS                         IMPT 00000000   5775 25979 26364 
_SH2_STEP3_REST_P                         IMPT 00000000   5770 25984 26349 
_SH2_STEP3_SV_PLS                         IMPT 00000000   5765 25974 26334 
_SH2_STEP3_TIM                            IMPT 00000000   5785 25994 26394 
_SH2_STEP4_FRQ                            IMPT 00000000   5781 25665 26382 
_SH2_STEP4_PV_PLS                         IMPT 00000000   5776 25655 26367 
_SH2_STEP4_REST_P                         IMPT 00000000   5771 25660 26352 
_SH2_STEP4_SV_PLS                         IMPT 00000000   5766 25650 26337 
_SH2_STEP4_TIM                            IMPT 00000000   5786 25670 26397 
_SH2_STEP5_FRQ                            IMPT 00000000   5782 26385 
_SH2_STEP5_PV_PLS                         IMPT 00000000   5777 26370 
_SH2_STEP5_REST_P                         IMPT 00000000   5772 26355 
_SH2_STEP5_SV_PLS                         IMPT 00000000   5767 26340 
_SH2_STEP5_TIM                            IMPT 00000000   5787 26400 
_SH2_STEP_FRQ                             IMPT 00000000   5794 25558 
_SH2_STEP_PV_PLS                          IMPT 00000000   5792 25541 
_SH2_STEP_REST_P                          IMPT 00000000   5793 25546 
_SH2_STEP_SV_PLS                          IMPT 00000000   5791 25536 
_SH2_STEP_TIM                             IMPT 00000000   5795 25563 
_SH2_TOP_FRQ_SV                           IMPT 00000000   5751 
_SH2_TOTAL_PLS                            IMPT 00000000   5789 25551 
_SH4_4B                                   EQU  00000000  27020*
_SH4_8B                                   EQU  00000000  27022*
_SH4_ADD_PLS                              IMPT 00000000   5733 
_SH4_BAS_FRQ_SV                           IMPT 00000000   5695 
_SH4_CNT_REST_HF                          IMPT 00000000   5705 
_SH4_CNT_REST_PLS                         IMPT 00000000   5691 
_SH4_DNM_CALC_INFO                        IMPT 00000000  35838 36012 
_SH4_GPOINT_LNG                           IMPT 00000000   6229 
_SH4_GPOINT_LNGDSP                        IMPT 00000000   5741 
_SH4_GPOINT_SPDDSP                        IMPT 00000000   5742 
_SH4_HD_CNT_STOP                          IMPT 00000000   6203 12469 
_SH4_HD_CTRL_BUSY                         IMPT 00000000   6195 
_SH4_HD_CTRL_REDY                         IMPT 00000000   6193 
_SH4_HD_NEAR_ZERO                         IMPT 00000000   6201 
_SH4_HD_POS_START                         IMPT 00000000   6197 
_SH4_HD_SFTY_AUTO                         IMPT 00000000   6199 
_SH4_HD_STEP_END                          IMPT 00000000   6205 
_SH4_LNGH_ADD_SR                          IMPT 00000000   5692 
_SH4_LOT_CNT_A                            IMPT 00000000   5701 
_SH4_LOT_STEP_A                           IMPT 00000000   5702 
_SH4_NOW_FRQ_PV                           IMPT 00000000   5697 
_SH4_NOW_STEP                             IMPT 00000000   5739 
_SH4_PLSI_ACCS                            IMPT 00000000   5699 
_SH4_PLSI_LATE                            IMPT 00000000   5700 
_SH4_REST_PLS_RL                          IMPT 00000000   5694 
_SH4_REST_PLS_SR                          IMPT 00000000   5693 
_SH4_REST_RL_HF                           IMPT 00000000   5704 
_SH4_REST_SR_HF                           IMPT 00000000   5703 
_SH4_STEP1_FRQ                            IMPT 00000000   5722 
_SH4_STEP1_PV_PLS                         IMPT 00000000   5717 
_SH4_STEP1_REST_P                         IMPT 00000000   5712 
_SH4_STEP1_SV_PLS                         IMPT 00000000   5707 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   659

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SH4_STEP1_TIM                            IMPT 00000000   5727 
_SH4_STEP2_FRQ                            IMPT 00000000   5723 
_SH4_STEP2_PV_PLS                         IMPT 00000000   5718 
_SH4_STEP2_REST_P                         IMPT 00000000   5713 
_SH4_STEP2_SV_PLS                         IMPT 00000000   5708 
_SH4_STEP2_TIM                            IMPT 00000000   5728 
_SH4_STEP3_FRQ                            IMPT 00000000   5724 
_SH4_STEP3_PV_PLS                         IMPT 00000000   5719 
_SH4_STEP3_REST_P                         IMPT 00000000   5714 
_SH4_STEP3_SV_PLS                         IMPT 00000000   5709 
_SH4_STEP3_TIM                            IMPT 00000000   5729 
_SH4_STEP4_FRQ                            IMPT 00000000   5725 
_SH4_STEP4_PV_PLS                         IMPT 00000000   5720 
_SH4_STEP4_REST_P                         IMPT 00000000   5715 
_SH4_STEP4_SV_PLS                         IMPT 00000000   5710 
_SH4_STEP4_TIM                            IMPT 00000000   5730 
_SH4_STEP5_FRQ                            IMPT 00000000   5726 
_SH4_STEP5_PV_PLS                         IMPT 00000000   5721 
_SH4_STEP5_REST_P                         IMPT 00000000   5716 
_SH4_STEP5_SV_PLS                         IMPT 00000000   5711 
_SH4_STEP5_TIM                            IMPT 00000000   5731 
_SH4_STEP_FRQ                             IMPT 00000000   5737 
_SH4_STEP_PV_PLS                          IMPT 00000000   5735 
_SH4_STEP_REST_P                          IMPT 00000000   5736 
_SH4_STEP_SV_PLS                          IMPT 00000000   5734 
_SH4_STEP_TIM                             IMPT 00000000   5738 
_SH4_TOP_FRQ_SV                           IMPT 00000000   5696 
_SH4_TOTAL_PLS                            IMPT 00000000   5732 
_SHOT_MOST_DOWN_POS                       IMPT 00000000   4006 19713 
_SHOT_MOST_DOWN_POSWK                     IMPT 00000000   4007 19711 20317 20382 
_SH_2B                                    EQU  00000002  31365*31481 31496 31503 
_SH_4B                                    EQU  00000004  31366*31384 31390 31395 31400 31405 31428 31443 31451 
_SH_8B                                    EQU  00000008  31367*31412 31420 31435 
_SH_CNTSTOP_FLG                           IMPT 00000000  31457 31496 
_SH_OUTPLS_DELT                           IMPT 00000000  31499 31503 
_SH_POSCTL_ACC                            IMPT 00000000  31346 31395 
_SH_POSCTL_CAL_REST                       IMPT 00000000  31352 31428 
_SH_POSCTL_HENSA                          IMPT 00000000  31353 31443 
_SH_POSCTL_LSIFREQ                        IMPT 00000000  31354 31451 
_SH_POSCTL_OFS                            IMPT 00000000  31347 31400 
_SH_POSCTL_PV_ABSPLS                      IMPT 00000000  31350 31435 
_SH_POSCTL_REST_PLS                       IMPT 00000000  31351 31405 
_SH_POSCTL_RL_ABSPLS                      IMPT 00000000  29609 31349 31420 31564 31565 
_SH_POSCTL_RL_SPD                         IMPT 00000000  31345 31390 
_SH_POSCTL_SV_ABSPLS                      IMPT 00000000  31348 31412 
_SH_POSCTL_SV_SPD                         IMPT 00000000  31344 31384 
_SH_SQ200_IN                              IMPT 00000000  31456 31481 
_SINKAKU_INF                              IMPT 00000000   3275 
_SINKAKU_ROTCAM_ENBSEL                    IMPT 00000000   3277 
_SINKAKU_ROTCAM_ENBSEL_WK                 IMPT 00000000   3276 
_SINKAKU_USESEL_OF_INF                    IMPT 00000000   3279 
_SINKAKU_USESEL_ON_INF                    IMPT 00000000   3278 
_SINWK_CALC_SCAN                          IMPT 00000000   3287 
_SIN_RCAMOF_SW1                           IMPT 00000000   3303 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   660

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SIN_RCAMON_SW1                           IMPT 00000000   3302 
_SIN_RCAM_OF_DIG                          IMPT 00000000   3282 
_SIN_RCAM_OF_ERR1                         IMPT 00000000   3306 
_SIN_RCAM_ON_DIG                          IMPT 00000000   3281 
_SIN_RCAM_ON_ERR1                         IMPT 00000000   3305 
_SLIDALM_CHK_FLG                          IMPT 00000000   4364 
_SLIDALM_CHK_POS                          IMPT 00000000   4366 
_SLIDALM_CHK_TIM                          IMPT 00000000   4365 
_SLIDALM_POS_MINAS                        IMPT 00000000   4368 
_SLIDALM_POS_PULAS                        IMPT 00000000   4367 
_SPD_CTL_EMG_STOP                P             0000677C  18054 31016*
_SPD_CTL_SLOW_STOP               P             00006790  18106 31044*
_SPD_CTL_START                   P             00006748  18470 30967*
_SPD_PER_MAX                              EQU  00002710   1999*21155 21160 
_SPD_STEP_CHG_FWD                P             00001E58  11742 13409*21412 
_SPD_UPLIMT_CALC                 P             0000626C  29822*34752 
_SPLCHK_FLG                               IMPT 00000000   4998 
_SPLCHK_TIM                               IMPT 00000000   4999 
_SPL_ERR_INIT_WAIT_TIM                    IMPT 00000000   5071 
_SQ_CBWK_TOP                              IMPT 00000000   6191  6612  6975 10862 10886 10925 10958 10965 12144 12161 12774 14180 
                                                         22158 22555 23903 23926 23981 24016 28870 28903 33113 33179 33774 33781 
                                                         34526 34533 35802 
_SQ_OVERH_CMP                             IMPT 00000000   4677 
_SQ_RNA_ALMRST_OLD                        IMPT 00000000   4026 
_START_ACK_COD                            EQU  00004321    213*
_START_CNT_BANK2_MAK_CHK         P             00005B14   6922  6953 28001*
_START_FLG_AFTER_EMG                      IMPT 00000000   3356 10266 
_START_REQ_COD                            EQU  00009876    212*
_STEP_CMPERR_TIMX1                        IMPT 00000000   5333 
_STOPCHK_INC_POS                          IMPT 00000000   3240 
_STOPCHK_RNA_POS                          IMPT 00000000   3239 
_STOPPING_STOP_POS                        IMPT 00000000   2637 
_STOPPING_STOP_TIM                        IMPT 00000000   2639 
_STOPPING_TIM_FLG                         IMPT 00000000   2638 
_STOPPING_TIM_PV1                         IMPT 00000000   2640 
_STOPPING_TIM_PV2                         IMPT 00000000   2641 
_STOPPING_TIM_STOP_INI                    IMPT 00000000   6151 
_STOPPING_VLVOFF_POS                      IMPT 00000000   2636 
_STOP_360ENC_DIG                          IMPT 00000000   4059 
_STOP_ERR_LATCH                           IMPT 00000000   3477 
_STOP_LATCH                               IMPT 00000000   2619  6644 11748 12454 27327 28270 31491 33150 
_STOP_LATCH_B                             IMPT 00000000   2620  6646 12262 27319 28210 28257 28312 31485 33152 
_STOP_LATCH_CHK_TIM                       IMPT 00000000   2870 
_STOP_LATCH_ENCPOS                        IMPT 00000000   2868 
_STOP_LATCH_OUTPLS                        IMPT 00000000   2867 
_STOP_LATCH_RNAPOS                        IMPT 00000000   2869 
_STOP_LTH_OUT                             IMPT 00000000   6149 12268 28427 
_STR_ENC3600_DIG                          IMPT 00000000   2787  7623 33239 
_STR_ENC3600_DIG_LNG                      IMPT 00000000   2788 
_SVCHK_SCAN                               IMPT 00000000   4696 
_SVPX_UPAREA_DIG1                         IMPT 00000000   3225 
_SVP_ATSLID_BAKLNG                        IMPT 00000000  33414 34005 
_SVP_ATSLID_COEF1                         IMPT 00000000  33415 34012 34440 
_SVP_ATSLID_DNOBJ1                        IMPT 00000000  33412 33991 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   661

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SVP_ATSLID_OBJ1                          IMPT 00000000  33411 33429 34020 
_SVP_ATSLID_UPOBJ1                        IMPT 00000000  33413 33998 
_SVP_DNAREA_JUDG                          IMPT 00000000   8050  8079 
_SVP_DND_STOPDIG1                         IMPT 00000000   8049  8076  8189  8235 
_SVP_KAJOBJ_HAB                           IMPT 00000000  23392 23607 23706 
_SVP_MACINE_SEL1                          IMPT 00000000   6085 18365 
_SVP_OBJECT_SPD_TOP                       IMPT 00000000   6278 35864 36153 
_SVP_ORGLDN_DEG                           IMPT 00000000  23161 
_SVP_ORGLUP_DEG                           IMPT 00000000  23160 
_SVP_ORGRDN_DEG                           IMPT 00000000  23159 
_SVP_ORGRUP_DEG                           IMPT 00000000  23158 
_SVP_OVERLIDE_COF                         IMPT 00000000  29073 29089 
_SVP_SLID_POS1                            IMPT 00000000  34416 34462 
_SVP_SLID_POS2                            IMPT 00000000  34417 34483 
_SVP_SLID_POS3                            IMPT 00000000  34418 34504 
_SVP_SLPOS_DIR                            IMPT 00000000  33416 33476 
_SVP_SL_TENPOS                            IMPT 00000000  33417 33969 34425 
_SVP_UPAREA_SPD0                          IMPT 00000000   6279 35855 36163 
_SVX_DNM_MAXSPM                           IMPT 00000000   4245 
_SVX_OBJ_SPD_OLDTOP                       IMPT 00000000  35651 35865 
_SVX_OVER_ERR_DIG                         IMPT 00000000   3531 
_SVX_OVER_JGSTR_DIG                       IMPT 00000000   3532 
_SVX_UPAREA_SPD0OLD                       IMPT 00000000  35652 35856 
_SV_CHG_FLG1                              IMPT 00000000   3318 
_SV_CHG_FLG2                              IMPT 00000000   3319 
_SV_CONST_SUB_PV                          IMPT 00000000   3946 27175 
_SV_DAT_ERR1                              IMPT 00000000   3320 
_SV_OBJ360                                IMPT 00000000   3503 22288 
_SV_POS_CTL_STEP                          IMPT 00000000   2820  6890 10196 10206 12339 12404 12551 13316 13515 17213 27491 28060 
                                                         28135 32857 
_SV_REAL_PLS                              IMPT 00000000   3947 
_SV_REAL_SUB_PV                           IMPT 00000000   3948 27199 
_SW_DEV_MASK_FLG                          IMPT 00000000   2628 
_SYNC2_ERR_HABPLS1                        EQU  00001F40  31695*31724 
_SYNC2_ERR_HOSHAB1                        EQU  0000012C  31697*31748 
_SYNC2_ERR_HOSHAB2                        EQU  00000190  31698*31763 
_SYNC2_ERR_HOSHAB3                        EQU  000001F4  31699*31777 
_SYNC2_ERR_HOSHAB4                        EQU  000003E8  31700*31792 
_SYNC2_ERR_HOSHAB5                        EQU  000005DC  31701*31806 
_SYNC2_ERR_HOSHAB6                        EQU  000007D0  31702*31820 
_SYNC2_ERR_HOSHAB7                        EQU  000009C4  31703*31834 
_SYNC2_HOS_SPD1                           EQU  00000001  31706*31767 
_SYNC2_HOS_SPD2                           EQU  00000004  31707*31781 
_SYNC2_HOS_SPD3                           EQU  00000008  31708*31796 
_SYNC2_HOS_SPD4                           EQU  00000020  31709*31810 
_SYNC2_HOS_SPD5                           EQU  00000040  31710*31824 
_SYNC2_HOS_SPD6                           EQU  00000080  31711*31838 
_SYNC2_HOS_SPD7                           EQU  00000100  31712*31849 
_SYNC2_HOS_SPD8                           EQU  00000200  31713*31730 
_SYNC_ERR_HABPLS1                         EQU  00001770   6053*
_SYNC_ERR_HOSHAB                          EQU  000007D0   6054*
_SYNC_ERR_HOSHAB_M                        EQU  00000064   6055*
_SYNC_GEN_HOS_ADD                         EQU  00000001   6059*
_SYNC_GEN_HOS_ERR                         EQU  00000064   6057*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   662

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_SYNC_GEN_HOS_HAB                         EQU  00000001   6058*
_SYS2_DT_LOAD                             IMPT 00000000  35690 35945 
_SYS_BSAME_TIM                            EQU  000001F4   2010*
_SYS_SETUP_TIM                            EQU  000007D0   2011*
_SYS_STOPPING_TIM                         EQU  00000032   2012*
_TABLE_ERR_FLG                            IMPT 00000000   2485 
_TBLACC_ACC_ADDCHK               PHiROM        0000114E  38145 38229 39018*
_TBLACC_STEP_SP_MAKE             PHiROM        00000DDC  37610 38077*
_TBLACC_STOP_SP_MAKE             PHiROM        00000D90  37605 37982*
_TBL_ANS_ACCTIM                           IMPT 00000000   4241 
_TBL_ANS_ACC_SEL                          IMPT 00000000   4243 
_TBL_ANS_MAXSPM                           IMPT 00000000   4242 
_TBL_USE_POS0                             IMPT 00000000   4240 
_TECH2_KJYU_DIG                           IMPT 00000000   4508 
_TECH2_KJYU_LNG                           IMPT 00000000   4506 
_TECH2_KJYU_LT1KN                         IMPT 00000000   4499 
_TECH2_KJYU_LT1PLS                        IMPT 00000000   4500 
_TECH2_KJYU_LT1PLS_OFS                    IMPT 00000000   4501 
_TECH2_KJYU_LT2KN                         IMPT 00000000   4502 
_TECH2_KJYU_LT2PLS                        IMPT 00000000   4503 
_TECH2_KJYU_LT2PLS_OFS                    IMPT 00000000   4504 
_TECH2_KJYU_PLS                           IMPT 00000000   4507 
_TECH2_KJYU_PLSX                          IMPT 00000000   4505 
_TECH2_KN_FLG                             IMPT 00000000   4509 
_TECH_USED_F                              IMPT 00000000   4546 
_TECH_WK_DIG1                             IMPT 00000000   4539 
_TECH_WK_DIG2                             IMPT 00000000   4540 
_TECH_WK_DIG3                             IMPT 00000000   4541 
_TECH_WK_DIG4                             IMPT 00000000   4542 
_TECH_WK_PLS1                             IMPT 00000000   4538 
_TEPA_ADD_LSI                    P             00002BA8  15297 16201*
_TEPA_PLSCNT_CHK                 P        EXPT 00002B60  15142 16133*
_TEPA_PLSCNT_CLR                 P        EXPT 00002B34  15141 16090*
_TEPA_PLS_ZERO_TIM                        IMPT 00000000   4402 15998 16158 16173 
_TEPA_START_CHK                  P        EXPT 00002AE8  15140 15993*
_TEP_1STEP_DATA_MAK1             P             000029B8  10416 15499 15707*16326 
_TEP_ADDCHK_SVPLS                         IMPT 00000000   3804 16308 16613 
_TEP_ADD_PLS_MAK                 P             00002948  15178 15411 15621*
_TEP_CHG_SPD1                             IMPT 00000000   3808 16398 16422 16492 16518 16541 
_TEP_CHG_SPD2                             IMPT 00000000   3809 16400 16424 16520 16566 
_TEP_CNTSMP_TIM                           IMPT 00000000   4752 15168 15424 16285 
_TEP_DND_SPD_PLS                          IMPT 00000000   4751 
_TEP_DNPOS_HIS                            EQU  00000064  15871*15900 
_TEP_DTMAK                       P        EXPT 00002D84  16593 16600*
_TEP_FLG_CLR                     P        EXPT 00002AC2  15139 15950*
_TEP_FLG_START                   P             00002AD4  15967*16034 
_TEP_INPLS_FLG                            IMPT 00000000   3799 15464 15588 15638 15824 16220 
_TEP_IN_ADD                               IMPT 00000000   3793 15627 15667 16010 16107 16150 
_TEP_MIN_SPD_FRQ                          IMPT 00000000   3806 16657 30564 
_TEP_MIN_SPD_PLS                          IMPT 00000000   3805 16484 16646 31182 
_TEP_MODE_DRV                             IMPT 00000000   3795  7412 10399 13601 15955 15972 30556 
_TEP_POS_ADD_CNT                          IMPT 00000000   3791 15221 15333 15583 15674 15727 15748 15758 16110 16296 16339 16453 
_TEP_REVPLS_LT_CLR               P             00002E14  15215 15270 15469 15595 16740*
_TEP_REVPLS_LT_FLG                        IMPT 00000000   4753 16212 16267 16745 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   663

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_TEP_SPD_CALC1                   P             00002C80  15476 16387*
_TEP_SPD_CALC2                   P             00002CAC  16317 16417*
_TEP_SPD_CALC3                   P             00002D28  16258 16512*
_TEP_SPD_CALC_COM                P             00002CD8  16394 16430 16448*
_TEP_SPD_SET                     P             00002D48  15480 16536*
_TEP_SPD_SET_CHG                 P             00002D60  16262 16321 16558*
_TEP_START_INIT1                 P             00002918  15362 15392 15529 15573*
_TEP_STEP_FLG                             IMPT 00000000   3796 15182 15232 15265 15344 15579 
_TEP_STEP_SVSMPTM                         IMPT 00000000   3803 16292 16427 16631 
_TEP_STEP_SVWTTM1                         IMPT 00000000   3802 15276 16391 16625 16628 
_TEP_STEP_WTTM                            IMPT 00000000   3797 15278 15313 15426 
_TIM_1MSEC                                EQU  0000000A   1996* 2010  2011  2012  2017 
_TIM_CNT010MS_DT                          EQU  0000000A   2326*
_TIM_CNT100MS_DT                          EQU  00000064   2327*
_TIM_SEC                                  EQU  00002710   1995*
_TMP_SCI_DEBUG                            IMPT 00000000   5275 
_TRD_CLR_CMD                              IMPT 00000000   5407 
_TRD_DP_MOV_CNT                           IMPT 00000000   5413 
_TRD_DP_MOV_FLG                           IMPT 00000000   5412 
_TRD_EVENT_COD                            IMPT 00000000   5402 
_TRD_EVENT_LATCH                          IMPT 00000000   5404 
_TRD_LATE_PV                              IMPT 00000000   5409 
_TRD_LATE_SV                              IMPT 00000000   5408 
_TRD_POINT_END                            IMPT 00000000   5406 
_TRD_POINT_EVENT                          IMPT 00000000   5405 
_TRD_SMP_DAT1                             IMPT 00000000   5393 
_TRD_SMP_DAT2                             IMPT 00000000   5394 
_TRD_SMP_DAT3                             IMPT 00000000   5395 
_TRD_SMP_DAT4                             IMPT 00000000   5396 
_TRD_SMP_DAT5                             IMPT 00000000   5397 
_TRD_SMP_DAT6                             IMPT 00000000   5398 
_TRD_SMP_DAT7                             IMPT 00000000   5399 
_TRD_SMP_DAT8                             IMPT 00000000   5400 
_TRD_SMP_FLG                              IMPT 00000000   5410 
_TRD_SMP_POINT                            IMPT 00000000   5401 
_UP360_CHK_LIST                           IMPT 00000000   4041 
_UP360_JGDIG                              EQU  00000028   2038*
_UPDN_DIRJG_DIG                           EQU  00000708   2004* 9651 
_UPHOLD_SPDERR_OK_FLG                     IMPT 00000000   5225 
_UPLIMIT_START_F                          IMPT 00000000   4707 17042 29826 32179 
_UPLIMIT_SV_SPD                           IMPT 00000000   4706 29832 32159 
_UPMAK2_MOD_USE_SW                        IMPT 00000000   4667 
_UPMSK2_DRVSEL                            IMPT 00000000   4669 
_UPMSK2_MATH                              IMPT 00000000   4668 
_UPMSK2_MOD                               IMPT 00000000   4665 
_UPMSK2_MOD_IN_SW                         IMPT 00000000   4666 
_UPMSK2_MOD_IN_SWOLD                      IMPT 00000000   4670 
_UPPLS1_OBJMAK_COMMON            P             00000AD4   9098  9212* 9624 
_UP_ACCERR_START_INI                      IMPT 00000000   6237 10500 12722 
_UP_HOLD_DIG                              IMPT 00000000   2625 
_UP_HOLD_FLG                              IMPT 00000000   2626  7267 
_UP_HOLD_STEP                             IMPT 00000000   2622 
_UP_HOLD_STEP1                            IMPT 00000000   2623 
_UP_HOLD_STEP2                            IMPT 00000000   2624 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   664

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_USE_IN_TBL_MOV                  PHiROM   EXPT 000005C0  35443 36440*
_VALV_OFF_DIG_CLANK                       IMPT 00000000   3479 
_VALV_ON_FLG                              IMPT 00000000   4053 
_VIB_DLY_TIM                              IMPT 00000000   4195 
_VIB_GET_SET_TIM                          IMPT 00000000   4192 
_VIB_PV_UP_TIM                            IMPT 00000000   4194 
_VIB_STEP_COM                             IMPT 00000000   4191 
_VIB_STEP_FLG                             IMPT 00000000   4190 
_VIB_USE_SET_TIM                          IMPT 00000000   4193 
_VON1_OF                                  IMPT 00000000   5464 
_VON1_ON                                  IMPT 00000000   5463 
_VON2_OF                                  IMPT 00000000   5466 
_VON2_ON                                  IMPT 00000000   5465 
_VON3_OF                                  IMPT 00000000   5468 
_VON3_ON                                  IMPT 00000000   5467 
_VUPCHECK_EQU                             EQU  11AB3739     98*
_W1CNT                                    EQU  00000008   2351* 6498  6657  7199 11762 12051 12251 12445 19556 20015 29135 31629 
                                                         32072 32426 
_W1DIC                                    EQU  00000020   2353*10260 10644 
_W1DUP                                    EQU  00000040   2354* 6697 10260 10648 13596 14169 
_W1END                                    EQU  00000080   2355*
_W1INC                                    EQU  00000002   2349* 6498  6657 12445 12449 19556 29135 32142 32426 
_W1LNC                                    EQU  00000400   2359*
_W1LNO                                    EQU  00000800   2360*
_W1OFF                                    EQU  00000001   2348*
_W1OPT                                    EQU  00000010   2352* 6498  6657  7199 19556 29135 32426 
_W1REV                                    EQU  00004000   2367*
_W1RNC                                    EQU  00000100   2356*
_W1RNO                                    EQU  00000200   2357*
_W1RST                                    EQU  00008000   2368*
_W1SGL                                    EQU  00000004   2350* 6498  6657  7199  7263 18903 19556 24462 24661 24730 24862 25050 
                                                         29135 32426 
_W1SNC                                    EQU  00001000   2365*
_W1SNO                                    EQU  00002000   2366*
_W2LS1                                    EQU  00000004   2370*
_W2LS2                                    EQU  00000008   2371*
_W2SUP                                    EQU  00000080   2375*
_W2WT1                                    EQU  00000010   2372*
_W2WT2                                    EQU  00000020   2373*
_W2WT3                                    EQU  00000040   2374*
_W4_PVP_KAJLIV_TTL                        IMPT 00000000   5075 
_W4_PV_CTL_KJYU_TTL_P                     IMPT 00000000   4813 23183 
_W4_PV_FLT_KJYU_TTL                       IMPT 00000000   4811 
_W4_PV_FLT_KJYU_TTL_P                     IMPT 00000000   4812 
_WAIT_TIM_CNT                    P             00001D08  13063*
_WFSYS_MAX_STEP_SEL                       IMPT 00000000   3511 
_WFSYS_OPT_CNT_SEL                        IMPT 00000000   3510 11755 
_WKSQCB200                                EQU  00000000   2104*
_WKSQCB201                                EQU  00000002   2105*
_WKSQCB202                                EQU  00000004   2106*
_WKSQCB203                                EQU  00000006   2107*
_WKSQCB204                                EQU  00000008   2108*
_WKSQCB205                                EQU  0000000A   2109*
_WKSQCB206                                EQU  0000000C   2110* 6612 10862 10886 12144 12161 12774 14180 33113 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   665

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WKSQCB207                                EQU  0000000E   2111* 6975 33179 
_WKSQCB208                                EQU  00000010   2112*
_WKSQCB209                                EQU  00000012   2113*
_WKSQCB210                                EQU  00000014   2114*
_WKSQCB211                                EQU  00000016   2115*
_WKSQCB212                                EQU  00000018   2116*
_WKSQCB213                                EQU  0000001A   2117*
_WKSQCB214                                EQU  0000001C   2118*
_WKSQCB215                                EQU  0000001E   2119*
_WKSQCB216                                EQU  00000020   2120*
_WKSQCB217                                EQU  00000022   2121*
_WKSQCB218                                EQU  00000024   2122*
_WKSQCB219                                EQU  00000026   2123*
_WKSQCB220                                EQU  00000028   2124*
_WKSQCB221                                EQU  0000002A   2125*
_WKSQCB222                                EQU  0000002C   2126*
_WKSQCB223                                EQU  0000002E   2127*
_WKSQCB224                                EQU  00000030   2128*22555 23981 24016 
_WKSQCB225                                EQU  00000032   2129*
_WKSQCB226                                EQU  00000034   2130*
_WKSQCB227                                EQU  00000036   2131*23903 23926 
_WKSQCB228                                EQU  00000038   2132*
_WKSQCB229                                EQU  0000003A   2133*
_WKSQCB230                                EQU  0000003C   2134*28870 28903 
_WKSQCB231                                EQU  0000003E   2135*10925 
_WKSQCB232                                EQU  00000040   2136*10958 
_WKSQCB233                                EQU  00000042   2137*10965 
_WKSQCB234                                EQU  00000044   2138*
_WKSQCB235                                EQU  00000046   2139*
_WKSQCB236                                EQU  00000048   2140*
_WKSQCB237                                EQU  0000004A   2141*
_WKSQCB238                                EQU  0000004C   2142*
_WKSQCB239                                EQU  0000004E   2143*
_WKSQCB240                                EQU  00000050   2144*
_WKSQCB241                                EQU  00000052   2145*
_WKSQCB242                                EQU  00000054   2146*
_WKSQCB243                                EQU  00000056   2147*
_WKSQCB244                                EQU  00000058   2148*
_WKSQCB245                                EQU  0000005A   2149*
_WKSQCB246                                EQU  0000005C   2150*
_WKSQCB247                                EQU  0000005E   2151*22158 
_WKSQCB248                                EQU  00000060   2152*
_WKSQCB249                                EQU  00000062   2153*
_WKSQCB250                                EQU  00000064   2154*
_WKSQCB251                                EQU  00000066   2155*33774 33781 34526 34533 
_WKSQCB252                                EQU  00000068   2156*
_WKSQCB253                                EQU  0000006A   2157*
_WKSQCB254                                EQU  0000006C   2158*
_WKSQCB255                                EQU  0000006E   2159*
_WKSQCB256                                EQU  00000070   2160*
_WKSQCB257                                EQU  00000072   2161*
_WKSQCB258                                EQU  00000074   2162*35802 
_WKSQCB259                                EQU  00000076   2163*
_WKSQCB260                                EQU  00000078   2164*
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   666

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WKSQCB261                                EQU  0000007A   2165*
_WKSQCB262                                EQU  0000007C   2166*
_WKSQCB263                                EQU  0000007E   2167*
_WKSQCB264                                EQU  00000080   2168*
_WKSQCB265                                EQU  00000082   2169*
_WKSQCB266                                EQU  00000084   2170*
_WKSQCB267                                EQU  00000086   2171*
_WKSQCB268                                EQU  00000088   2172*
_WKSQCB269                                EQU  0000008A   2173*
_WK_ERR_INFO_CPU_TOP                      IMPT 00000000   3522 24420 24423 24468 24518 24523 24528 24614 24670 24672 24748 24787 
                                                         24881 24920 24924 24938 24962 24996 25093 25096 25106 25112 25120 25133 
                                                         25139 25145 25153 25156 25167 25172 25195 25296 25464 
_WK_SIN_RCAMOF_SW1                        IMPT 00000000   3300 
_WK_SIN_RCAMON_SW1                        IMPT 00000000   3299 
_WK_SIN_RCAM_OF_DIG                       IMPT 00000000   3285 
_WK_SIN_RCAM_OF_KOUTEI                    IMPT 00000000   3292 
_WK_SIN_RCAM_OF_SPD                       IMPT 00000000   3293 
_WK_SIN_RCAM_ON_DIG                       IMPT 00000000   3284 
_WK_SIN_RCAM_ON_KOUTEI                    IMPT 00000000   3290 
_WK_SIN_RCAM_ON_SPD                       IMPT 00000000   3291 
_WK_SIN_RCAM_SQOF1                        IMPT 00000000   3297 
_WK_SIN_RCAM_SQON1                        IMPT 00000000   3296 
_WOANT                                    EQU  00000010   2337*
_WOATO                                    EQU  00000040   2339* 7205 
_WOFCY                                    EQU  00000080   2340*
_WOQST                                    EQU  00000001   2333*
_WORCY                                    EQU  00000100   2341*
_WORDY                                    EQU  00000020   2338*
_WORD_BIT_TBL1                            IMPT 00000000  23859 23886 
_WORST                                    EQU  00000200   2342*
_WOVN1                                    EQU  00000002   2334*
_WOVN2                                    EQU  00000004   2335*
_WOVN3                                    EQU  00000008   2336*
_WPARX_BRKTST_DNDLMT                      IMPT 00000000   4588  8647 
_WPARX_BRKTST_ORGDEGX                     IMPT 00000000   4396 
_WPARX_BRKTST_ORGPLS                      IMPT 00000000   4397  9162 
_WPARX_BRKTST_STPDEGX                     IMPT 00000000   4146 
_WPARX_BRKTST_STPLNG                      IMPT 00000000   4148 33345 
_WPARX_BRKTST_STPPLS                      IMPT 00000000   4147 
_WPARX_COP_DNDRV1_SDG1                    IMPT 00000000   4113 
_WPARX_COP_DNDRV1_SDG2                    IMPT 00000000   4114 
_WPARX_COP_DNDRV1_ZDG1                    IMPT 00000000   4111 
_WPARX_COP_DNDRV1_ZDG2                    IMPT 00000000   4112 
_WPARX_COP_DNDRV2_SDG1                    IMPT 00000000   4117 
_WPARX_COP_DNDRV2_SDG2                    IMPT 00000000   4118 
_WPARX_COP_DNDRV2_ZDG1                    IMPT 00000000   4115 
_WPARX_COP_DNDRV2_ZDG2                    IMPT 00000000   4116 
_WPARX_ELSE_ORGDEGX                       IMPT 00000000   4689 
_WPARX_ELSE_ORGPLS                        IMPT 00000000   4688  9142 
_WPAR_360STP_HAB                          IMPT 00000000   4038 
_WPAR_ACCTYP_SEL                          IMPT 00000000   3964 30739 
_WPAR_ACC_MATHED                          IMPT 00000000   4208 
_WPAR_ANAIN_SEL                           IMPT 00000000   3962 
_WPAR_BKTMCL_ACCCK                        IMPT 00000000   4635 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   667

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WPAR_BRK1_ACCTM                          IMPT 00000000   3393 30813 30845 
_WPAR_BRK1_DLYTM                          IMPT 00000000   3392 
_WPAR_BRK2_ACCTM                          IMPT 00000000   3394 30881 
_WPAR_BRKTCHK_SPD                         IMPT 00000000   4136 
_WPAR_BRKTOUT_SPD                         IMPT 00000000   4135 
_WPAR_BRKTST_ORGDEG                       IMPT 00000000   4395 
_WPAR_BRK_SEL_SPD                         IMPT 00000000   3391 21175 
_WPAR_CMP_ERR_TIM1                        IMPT 00000000   4289 
_WPAR_CMP_ERR_TIM2                        IMPT 00000000   4290 
_WPAR_COP_CNTROT_SDG1                     IMPT 00000000   3335 
_WPAR_COP_CNTROT_SDG2                     IMPT 00000000   3336 
_WPAR_COP_CNTROT_ZDG1                     IMPT 00000000   3333 
_WPAR_COP_CNTROT_ZDG2                     IMPT 00000000   3334 
_WPAR_COP_DISP_SPM1                       IMPT 00000000   4300 
_WPAR_COP_REVRSE_SDG1                     IMPT 00000000   3340 
_WPAR_COP_REVRSE_SDG2                     IMPT 00000000   3341 
_WPAR_COP_REVRSE_ZDG1                     IMPT 00000000   3338 
_WPAR_COP_REVRSE_ZDG2                     IMPT 00000000   3339 
_WPAR_COP_SDG1                            IMPT 00000000   3345 
_WPAR_COP_SDG2                            IMPT 00000000   3346 
_WPAR_COP_ZDG1                            IMPT 00000000   3343 
_WPAR_COP_ZDG2                            IMPT 00000000   3344 
_WPAR_CUPCHK_SEL                          IMPT 00000000   4037 
_WPAR_DAIHAI_SEL                          IMPT 00000000   4354 
_WPAR_DRVHOS_AVLCNT                       IMPT 00000000   2953 
_WPAR_DRVHOS_DIG1                         IMPT 00000000   2950 
_WPAR_DRVHOS_DIG2                         IMPT 00000000   2951 
_WPAR_DRVHOS_NO_USE                       IMPT 00000000   2954 
_WPAR_DRVHOS_SEL1                         IMPT 00000000   2949 
_WPAR_DRVHOS_WAITCNT                      IMPT 00000000   2952 
_WPAR_ILNGERR_DIG                         IMPT 00000000   3397 
_WPAR_ILNGERR_LNG                         IMPT 00000000   3396 
_WPAR_INCOVER_LNG                         IMPT 00000000   3362 
_WPAR_INCOVER_LNG1                        IMPT 00000000   3363 
_WPAR_INCOVER_LNG2                        IMPT 00000000   3364 
_WPAR_INCREV_EDYTM                        IMPT 00000000   3365 
_WPAR_INCSTP_EDYTM                        IMPT 00000000   3369 
_WPAR_INCSTP_EDYTM1                       IMPT 00000000   3367 
_WPAR_INCSTP_EDYTM2                       IMPT 00000000   3368 
_WPAR_KJYU_STOPTBL                        IMPT 00000000   4183 
_WPAR_LSA_FILTIM                          IMPT 00000000   3731 
_WPAR_MCNRNA_SEL                          IMPT 00000000   4036 
_WPAR_ORGDRV_MD2                          IMPT 00000000   4319 
_WPAR_ORGMOD2_TIM                         IMPT 00000000   3816 
_WPAR_ORGPOS_LNG1                         IMPT 00000000   4379 
_WPAR_OVRLIDE_GMN                         IMPT 00000000   3865 
_WPAR_RNA_SFTY_LNG1                       IMPT 00000000   3371 
_WPAR_SFYOPT_USEL                         IMPT 00000000   4137 
_WPAR_SLDALM_LNG                          IMPT 00000000   4361 
_WPAR_SLDALM_TIM                          IMPT 00000000   4362 
_WPAR_STOPING_TIM                         IMPT 00000000   4206 
_WPAR_ZERO_SPD                            IMPT 00000000   3390 21143 
_WPVX_KAJLIV_TTL                          IMPT 00000000   4186 
_WPV_ABS_AD_DATA                          IMPT 00000000   3970 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   668

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_WPV_AD_DATA                              IMPT 00000000   3969 
_WPV_CB_STS_DAT_TOP                       IMPT 00000000   5390 
_WPV_CB_STS_POINT                         IMPT 00000000   5415 
_WPV_CB_TRD_DAT_TOP                       IMPT 00000000   5391 
_WPV_CB_TRD_POINT                         IMPT 00000000   5416 
_WPV_POWER_MONI                           IMPT 00000000   3971 
_WPV_POWER_ON_CNT                         IMPT 00000000   5417 
_WPV_SCAN_MAX01                           IMPT 00000000   4771 
_WPV_SCAN_MAX10                           IMPT 00000000   4770 
_WPV_SCAN_TIM_AVL                         IMPT 00000000   4767 
_WPV_SCAN_TIM_REAL                        IMPT 00000000   4766 
_WR_CB_SYS_CHKCOD1                        EQU  00001234   2215*
_WR_CB_SYS_CHKCOD2                        EQU  00004321   2216*
_WR_CB_SYS_CHKCOD3                        EQU  00005678   2217*
_WR_CB_SYS_CHKCOD4                        EQU  00008765   2218*
_WSVXY_CLNK_UP_POS                        IMPT 00000000   4103 
_WSVXY_CLNK_UP_POS_DN                     IMPT 00000000   4105 
_WSVXY_CLNK_UP_POS_UP                     IMPT 00000000   4104 
_WSVX_CLNK_UP_POS                         IMPT 00000000   2697 
_WSVX_CLNK_UP_POS_DN                      IMPT 00000000   2699 
_WSVX_CLNK_UP_POS_UP                      IMPT 00000000   2698 
_WXPV_ERR_DISP                            IMPT 00000000   3641 
_W_PARAM_TOP                              IMPT 00000000   4554  7064  7194  7211  7256 14313 16606 16618 16635 21567 22208 22233 
                                                         22417 23428 23701 23710 24085 24157 24205 24263 32016 32076 32153 
_X_PROTCOL_TMP_ANS                        IMPT 00000000   5272 
_X_PROTCOL_TMP_EVENTCNT                   IMPT 00000000   5267 
_X_PROTCOL_TMP_FLG                        IMPT 00000000   5260 
_X_PROTCOL_TMP_LNG_PVTM                   IMPT 00000000   5265 
_X_PROTCOL_TMP_LNG_SVTM                   IMPT 00000000   5264 
_X_PROTCOL_TMP_PV1                        IMPT 00000000   5273 
_X_PROTCOL_TMP_PV2                        IMPT 00000000   5261 
_X_PROTCOL_TMP_PVLNG                      IMPT 00000000   5263 
_X_PROTCOL_TMP_REQ                        IMPT 00000000   5271 
_X_PROTCOL_TMP_SVLNG                      IMPT 00000000   5262 
_X_PROTCOL_TMP_TIME_PV                    IMPT 00000000   5268 
_X_R2_MUL_R1_DIV_R4                       IMPT 00000000   5626 
_ZERO_INCENC                              EQU  00000000   2047*
_ZERO_INCHEN                              EQU  00000000   2046*
_ZERO_INCREV                              EQU  00000000   2051*
_ZERO_INCRNA                              EQU  00000001   2048*
_ZERO_INCSTP                              EQU  00000000   2049*
_ZERO_RNAREV                              EQU  00000001   2052*
_ZERO_RNASTP                              EQU  00000001   2050*
_cbsys_tbl_err                            IMPT 00000000   4228 
_di1_cb_ctl1                              IMPT 00000000   2490 
_di1_cb_ctl1_dt                           IMPT 00000000   2498 31458 
_di1_cb_ctl1_of                           IMPT 00000000   2500 
_di1_cb_ctl1_on                           IMPT 00000000   2499 
_di2_cb_ctl2                              IMPT 00000000   2491 12826 12872 12918 27656 
_di2_cb_ctl2_dt                           IMPT 00000000   2502 
_di2_cb_ctl2_of                           IMPT 00000000   2504 
_di2_cb_ctl2_on                           IMPT 00000000   2503 
_di3_cb_inp1                              IMPT 00000000   2492 
_di3_cb_inp1_dt                           IMPT 00000000   2496 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   669

*** CROSS REFERENCE LIST

NAME                             SECTION  ATTR VALUE             SEQUENCE

_di4_cb_inp2                              IMPT 00000000   2493 
_dq1_cb_out1                              IMPT 00000000   2494  7203 
_dum_SET_PV_ABS_TO_OBJ           P             00006B94   8431  8967  9043  9392 11082 11164 11422 12574 13830 13891 13960 14009 
                                                         14940 27683 31959*33069 
_emg_err_flg                              IMPT 00000000   2574 10005 31616 35880 
_emg_lev_flg                              IMPT 00000000   2573 
_exq_err_flg                              IMPT 00000000   2577 31621 35882 
_exq_lev_flg                              IMPT 00000000   2575 
_pass_err_flg1                            IMPT 00000000   2571 
_pass_err_flg2                            IMPT 00000000   2572 
_poslsi1_top                              IMPT 00000000   6317 17361 17394 17712 17764 17795 17879 18145 18186 18246 18287 18383 
                                                         18430 18515 18589 18741 18770 18822 19327 19876 19885 20527 20534 20541 
                                                         20622 20656 20690 20719 20754 20790 20848 28377 30220 30337 30403 30455 
                                                         31277 31301 31325 
_reset_dly_tim                            IMPT 00000000   2595 
_reset_flg                                IMPT 00000000   2594 
*** SuperH RISC engine ASSEMBLER V.7.01.02.000 ***    11/14/21 20:25:20                                                  PAGE   670

*** SECTION DATA LIST

SECTION                          ATTRIBUTE    SIZE             START

P                                REL-CODE    00000782C        
PHiROM                           REL-CODE    000001374        
